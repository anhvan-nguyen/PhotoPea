<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <!-- <script src="https://cdn.jsdelivr.net/npm/vue"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
  <link rel="stylesheet" href="style/all.css" />
  <link rel="stylesheet" href="style/family.css" />
</head>

<body>
  <div id="app" class="flexrow app" style="height: 100vh;">
    <canvas id="canv_img" class="canv" width="1000" height="1000"></canvas>
    <!-- <input type="file" name="" id="" @change="loadFile" style="height: 30px;" /> -->
    <!-- <canvas id="canv_img" class="canv" width="200" height="200" ></canvas> -->
    <!-- <div class>
      <div class="window magiccut" style="left: 0px; top: 0px;">
        <div class="whead"><span class="wname">Magic Cut</span><span class="cross"
            style="background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAADFBMVEUAAAAAAAAAAAAAAAA16TeWAAAABHRSTlMA/8ky3+Rv8AAABVtJREFUeJyt289x22gMxmGNdNLs0F1oz7nw4Nk6mN0Z70EF+JAS1IT6UAlugunAtxQRSdYfit+LFz+slkcM/A3xxJZIAFks/rfrj0ryXyL250fhgJ8ieX/gP78a2uTl8M4P6ETyenjjB/QieTN8/8AHjCJ5P4i6gms1tMnLYwwjdCJ5fYxhhF4kb44xjDCK5CMBRjgRzJOX5xhE6ETy+hyDCL1I3pxjEGEUyWcCiPBF8Ji8vMQQQieS15cYQuhF8uYSQwijSL4QIIQrwTR5eYsBhE4kr28xgNCL5HsMIIwi+R7LEe4E9+RpLEXoRPI0liL0InkaSxFGkTyNZQjTcq/Jj7EEoRPJj7EEoRfJj7EEYS+SHwgShOXQJq9mMYuwFsndLGYRNiK5n8Uswl4kzwgswpzglDwnsAhzglPySxMzCHOCU3J7qEGYEwzDv+IOYoSWYPixWLWnhgjt3Q7Hu/3kCC3B38foK0dQBIsCgiRYFBA0QQFBExQQNAFHCAg4QkSAESICjBARUISQgCLEBBAhJoAIMQFDMAQMwREgBEeAEBwBQbAEBMETAARPABA8QY6QEOQIGUGKkBGkCBlBhiAI5n8sHoF8hVsE9VwwvyyCvT2AAAg8AnuKMQiEwCIQAoeACBwCfZALERiBQWAEMQIkiBH4s2yAQAlCBEoQIWCCCKHyOC8ROEGAwAk0QoFAI5TeaBRChUAiVAgkQoVAIpQIFEJz+QZDi9BcvsUBEHyTJUfI2jwpQtZoShGyVleKkDXbMoS83Zcg5A3HBCFveSYIedPVI5C2r0UgjWeLQFrfFoE03x0Ca/8bBDaAMAhsBGIQ2BAmRqBjoBCBDqJCBDoKCxHoMC5C4OPAAIEPJAMEPhINEPhQViMUJqIaoTCT1QiFqbBGKMylJUKFQCJUCCRChaBt+Q/zfsF/uINt6QBh8E/l5+W/QuUA+XuwKxwgfxO3hQPk30IBIfhr5AcEnwc7fEDwibTFBwSfiRgh/FSmB4TfCzt4QPjNtIUHhN+NEMF8O7MDzPPBDh1gnlC26ADzjIQQ7FMaOcA+J+7AAfZJdQsOsM/KACF5Ws8PSN4XdukByRvL9jkCgJC+tT1JkCOkb64ZQvrunCCAt/cnCTIE0MHwCKCHYhFQF+dJAo+AOlkOQfTS2pBBUN08cVMlgoOIxQiqoynuKkaQPdUCgu7qFhB0X7mAoDvbBYSgt44Rou4+RojmCxghmnBghHDGAhHiKQ9EiOdMECGedEEEM2tDCG7ahxDcvBEhuIknQrAzV4Dgp74Awc+dAYKffAOEZPaeImTT/xQh2z9IEbINiBQh3cFoEx72B/ItkPYWHzYY8j0UkfFhz593jcQ9TrsyYBfHIpBtIItA9pEsAtmIsghoJ8sgsK0wg8D20gwC24wzCHA3L0Sg24EhAt1PDBHohmSIgHc0AwS+JRog8D3VAIFvygYIhV1diVDZFpYIlX1liVDZL5AI7YaDaaK3CO9izcQ00VuEg9jyMHOEBuFU7hzBzREahFO5cwQ7R5gjnMvdixhFOJe7ETGI8FXuWsQgwle5SxGDCJdy9yLGEC7lbkQMIVzLXYtYdD0gXMtdilh4TRFu5e5FLLp6Ve5GxKJrMoG6l7sWseia/J+PNxEEA7VRlTuKWHTdEQ4iCGaKN4RpuZ2IRdet3jcRRDPFa73vIohmitd6DyKIxqqdKrfDBLd630QQjlVHVe6ICa71HkQQTpY7VW6HCS71zstdcYKveptyPwuT5V6V+1oYrneq3JfCcH2lyl3tC8P1UZX7WRiu96rc18J+QafKfRGx6FrVdgnE9evZA749e8D9+g2w4Fwzf7ERbQAAAABJRU5ErkJggg==);filter:invert(1);"></span>
        </div>
        <div class="body">
          <div class="form hbar"><span class="fitem brushbutton nopadding"><button class="nopadding"
                style="position:relative;"><img class="gsicon"
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAeCAYAAAC49JeZAAACBUlEQVRYR92WsUocURSGv8MWRggKm8ZSi+BDxNIga2GjIKJ5gMQghNiK0bQRwUIfQEUE06TQwrR5gJQhoGkCNi5EAmqxXLm7s+5l2Jl77p1hjZlqBs75z3f/OedwhUf4iJL5OTAFTAMjwDnwGfgC/FRqlBamgd4WkdfGmPuiIoLzvQO8KY1IIZQH3Qf8AoYUOhfAMHCriC0ckgd9LCK1HIdJOX4CTBYmUghkQY8Dp4r8dMhL4GtEXlBKV2gROTbG1NpKKUfTDrvfPXE7y+nO1AV50AzWDHe4qpORCx3gcIu2tVUeFjrSjoeBFpEbY4xdea6DWXva7Wm78p5EHladluXKe+CTWqUTuAxsROQFpWRBDwB/Qnu6Wq0O1uv1qyCCiOC8/rP3jKMAzZnkPhKQEhfqG5p5YM/neKVSWWg0GvtxCOFZPmiraG94a8BcF/kDYLXXNz0NtMtqr6VPgb/J9TTcphIyQqFLKFlc4r+GXgHOgPawPUveJxLfvgOzwI/iPvoVNE5b4HVgwYEeBT4Ab4FLf5lyI/Kg+4FN4HdS0nX6BfAKeAdcl4vkV9M4bVXS7dHc3468+xf8VQtGxELbQ9jnI2Bb5RBYBL4V5FGlx0Knxd1DqAoXCSoT2u35Ikze3Bjo9oDuJu1g22MLWPqXVl63QUzv6bFe9bOF0Trt/WW9DHiU0HfPRZEfCiH5vwAAAABJRU5ErkJggg=="
                  style="width:36px; height:24px"><span
                  style="position:absolute;  bottom:2px;  right:4px;">▼</span></button></span><span
              class="fitem bbmenu"><button class="fitem bactive" style="padding:2px" title="Foreground"><img
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAR0lEQVRIS+3SsQkAMAwDQWX/GTNLMoJ4MK7erRCCwyc3L4t3HJzWlnRaNJJKigV8GkzWCpI2IZxLislaQdImhHNJMVkrrJN+a5U0LapDhi4AAAAASUVORK5CYII="></button><button
                class="fitem" style="padding:2px" title="Erase"><img
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAARklEQVRIS+3SwQkAQAgDQe3eru9KCAvia/2GEBjsmXl1eO3gtrak26IlqaRYwKfBZKkgaRLCuaSYLBUkTUI4lxSTpcI56QcyzEih5hA2DAAAAABJRU5ErkJggg=="></button><button
                class="fitem" style="padding:2px" title="Background"><img
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAARUlEQVRIS+3SwQkAQAwCQdN/0XclyELIa/MVEYbMS14Obxzc1pZ0WzSSSooFfBpM1gqSNiGcS4rJWkHSJoRzSTFZK5yTfk6dN+V7KwwfAAAAAElFTkSuQmCC"></button><button
                class="fitem" style="padding:2px"><img
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAHlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3KG9qAAAACnRSTlMA/w/xgcApBeBI4LcAVQAAAyNJREFUeJzt2s+P0kAUB/CGIITjpMMGb03cgx5rUK8lstG9UQN6hQhmj3tw945u1CN78cd/K+30xwyF+fW+MRo7p5ahn7z2zaNlOkFg0/oX8d3O6puWbcMYG0Y4r7Pdg+wNDuxmHhviwEc5yBIYOBHgU7F3+4EMpgLk+c55zMZLIrgV4Cjb7mc6vyZ5feGxMNsRCXpLAjsyuBLBLmFgkaB3MFBJEAIsEsQ8nN7FfNcEmT84KX8QZLDjD3arHwQQeF9dewzYF1d/BwNFRbAZDHwgjjuDgat6AGPAosSGMDBtIjQwBoPHkH8TvP0VQcFNzIZLIJiX0xgIisFq9RhlBRb1/hUGSuWJAVOxafUUZQWqGW/BFmzBFmzBFmzBFmzBFvzLwOxxf0AFM6Rbbs+q/+UE8HkQvC+3eTG1QQJHu145mcTCZBCTQTaqPGXbHzzR/kPwGg3u6rlZDDiTBjwE5NVcEQgMX22qbQgoNxuwb2bcwMDM/FlwvZhGSDAbUc+WQDAfUXwJA3tx/vkYBpY3igQFFjNEyhQRCayKMgGBadnDQWB960kwYFx1cQwo9SUQULrzcgiYHgmRBE6kTo4AV3JvAgC7ci8HgMpFLEKkgTfNEGlgbyv3J3SwfkitQiSCSlryEImgMhTzEKlgI0QqmL96l0OkgsHVQYhksLjzVSGSwfovjQiRDqpp4XRQHTlO7QR4Yz7SDexszYc6gWpBI8CB+VA30DstJ8Gu+Vg3UC1oABg8RoNqQQPAg4IGgH5p0YB+I0cH+hT0SAf6FLT+7a1HQevfL3sU9EMt6JGWF3rQfeTM9KB7QSd60Lmgw8gAuha0eRHBvRt4ZgQd02LISdbcRo7Fyg6nEK2WTbiEaL6EjiEmNmDw0tobRVZgPb1saoZfhqpdmSmXM96XS2rnDa1XxH60Az/ZepZ5cVkPa3XSX+w9q5N2XLD70wg6LinumCrQeZn7QH+TDhNHb38ZY+AJ522t8cZeq7w3Jz0e+XinRf917euj1/HOM76snacNLrz054JsYfaBN/9B8vbtyWspuvl3KpeT08VnFn5bTC8j/Rd/A77Qy3Uri4NyAAAAAElFTkSuQmCC"
                  class="autoscale gsicon"></button><button class="fitem" style="padding:2px"><img
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAACwBAMAAABdmfltAAAAElBMVEUAAAAAAAAAAAAAAAAAAAAAAADgKxmiAAAABnRSTlMA/+UUmE52sBY+AAAE+UlEQVR4nNWb21bqMBCGu6w8AAXvkY33Knof3HgPW3z/V9lARfPPIZmcWMu56+nr9M80mTaTrrNY/7ndLpf3w3K53X4+mi6xUA9v91PPhtV7DXZ/WE6ZLYvR/eGeY89ul6Ff32TsyVYf+dwXxd0vp/9mYvt/IezJHrLk6AMyfMuRQbZwc8g2bjrZyk0l27mJ5Gg8+PZg576kcKdTczxPgu8Ft2Fn4/abNO50OrfJnCTwaCaZEwUezSBznyjwaENcjAwhThYV4zbL4aO5iBDJEXGxSGRktdxowfbLa7nRgu33rF61ff9YP/br18NWvfefdIchkTimGckuyw6vmHovMlp1WXRYTCDkdEN1WXJYG+PFzEBxWYrhQc1KXgWyEsu3wpmBnnYi+OHEM/mJ4R5cGA/mtvNiI4NAlq5gTRfPzXgLCs3HY80wLLA+Vog41nSWfIHnH46ds08UeDQm8x27Nz3DmCzQfpZpQZUwjuj8raLNR5Sw5iBcDKIFVSIhHyORQbQgStgd5i47OEqUSHCYuQxaECVSHGYugxZEiSSHmcvOO4T9RJrDzGU/4DAYxc4vZHvtciKxUwmKoZKeyOoBzy5HpWOqYyixPCSGwCoAJZabLgieyCLjkyhNFwSja99aosRKchAGoxZO3KsEcRiMWlx82xuUiIBRi0t3ARJrmV0EDE89jPt6UZ9EMGoxygltp2aMETBGluNPwUZZIxgb6g/ftcgF33D3oEHVHjMGBpHPoQXq6N8RMXDHMHArVeI4GBQ9PTgEhf5JFQVDDLiOqO7yweDg4rjjiT5CJhjes1mH2gzqZXEwtN6prfxoCwyjcTAF+TealYB9TQcSxosSsB8Fx0CGMHYlYAiLHYIDKVAcTFz07xP6lxEHg6gOlAnlVnFwh61VEbwB8JO3pXdBJvDeQ83IVhEYffTBizLwDYA39cB+gM0B7K4BnhrNBN6Vgf1Xbw5RXRE8XAf8WAb2B6ffCPZPKgTDNZ3lpCxwRSn8a35j410FXPXNa9YJXQXsOt0EELUrjSB7b2tRD9xwlH7ytirmFTNymyIwPnyz3O22HhjTWHgPa+bHjTL6Hb1PAZh+G7T5auqwLat9553CYE+2s8G+h3cd+6DMB9NPXPitUOvrf9GRD0qXD2YcCL9af1hOTw6BXOmf0PgKb9ieLLDv35zdqtJ/t/HBQZxFLhiCa2wqaM46/zbdeRcEYJ2/sV+CCn9ok8Eg8eUFhqeo8cf7TtpZ4x/9xTmcrqgwq+C+9qLw5fMgPwEAz1E+c/NDsMywBMHy/IptTigIlmeEqMiGSjBi+vUb5Y5Gwyf2G+lZPWIy9MuXkkwfl83yOu8QmfQsmpfGJtrjsZKZdOx4S6bSAxPpRZP/oan/rqRcgThMQyq7wIKWV9D3lpaE5Naw8NeWaBEq5PONVt3wwZiW3WTWCTn+TPSUrMomqQNjRV45tViSgBN6Uk71mKgfK6RLr3eT+0Ve+pdcoefEE4VixRBZqCnUgl8or0yrgtRiXyoITanb1AdLsSLUXmmqv6xy0e3qnbkr1saGRnelTNhWzRvqXdTCZkP9cTgdaVWK3a54XKq8tZkLc9sV6LdbUtBsEUS7ZRsZkWHNqJOXxpgX3bRazNNu+VG7BVPNlni1W5TWbhldu4V/7ZYqds0WV3btloO2W8DaKUtuy7Ejuski4bOt/WXNa9Ml/wE5YCpbayJoEAAAAABJRU5ErkJggg=="
                  class="autoscale gsicon"></button><button class="fitem" style="padding:2px"><img
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAACwBAMAAABdmfltAAAAElBMVEUAAAAAAAAAAAAAAAAAAAAAAADgKxmiAAAABnRSTlMA/90TkEkQ3c9eAAAEwElEQVR4nNVbSVbjMBDVw+kD2IG9CbAPBPaCDvu4O7n/VRrHhKgGOTVIr1/+ztNX6VdpsFQKQYLmsP1Yrdp2tXrcHtaiTySs+4/7NkH3+FmCu9kD1m9uNzVLW4D67YOnHfH4186bM/dktJG2+TNHO+LJJEczI8OPHAZmCa+FuXmX8LbtrZJZyqtllulgUONiPKR4kvO+anjb9reUdzHbLii6KONtlLxfzDKZVQJPEMmsFHiCQGa9ECMEYhiEGHFRjIWNt23jBSHETRnjQtM2eW7CrP9snpsw67+X7Ffbz8Nm3WwO+2227Ae9wWAi8TXNUJvMG0wHzcwgmzWZN5gbMflxNmsyZ3CXcfYrZ0TGZM7gLjsreePe5k1mGl23y/GG8IthjuybtNHN8bLMt+x7Sl6WmfuCuu5iJ0s7AMZ91HWCYYFEHeM+4jrJTIR2hpG8MygFnkBkviNl4zdmupQU2DNEixuDEEeDsBjYIPw8ynhplKJQxkoo5mMoMpAWKCZknvs2GdkUwdPBbDAxGcQFUkJjMDEZaIGUUBlMTI7JIxSNKoNJYKQBB4ON7fzmkP28yddFBKTkOvNAOI1OgHx/Nuw5q5EQ0EfngIMaKV03ArrvR2RYE7XrqGknLaHEBiWwFpG9a1ACa3GybXArgbQ4ee+eK00JUOuOq0a0EUM/7eg9feuYACMr0lqQUVYK4KgHequ3Et9Q84BDTcE2AnjqGFpAHavEAcbWkYYWZQOpOAgKYxSPADEQA1I92omBgX1AnbHZd0jSZYDR1tl5offGeEtFd/iOEqUFLT3EqaYdGqF7DzGIgjXUPHqIQVjs8KUDyMSU2NGgAxI1AmVc0QbDoAfErmiD8daDIDH38hOGhGqJrlyANqbEvY/4BhC/1yG+BcTRR7wQEbdCZInT4Nv5iNOm11058dpHnHYW10fcAgInMfgmSF4yEReUohrxdUfFNTbptNssSPwfOno38ZBc9T5iOJhWI35OrgrOK5aoGBdg5avN3cA01kectrWK82MwDy83o9/hchwAPx1rPA93AP8bpL4s9p83xteArs1ILbwL5IfSDvyLC34oS/399wE5M9qJCQ8oqdQKy1hzsNhUaE1oasL0jgnUvqGI94CiU/8LxOmtxCC4JlctaFkGgHpHWokyq7HfgjIrtGrAtWKuFiVWvO+4myXW6E/GccvgSvDL8VD4AvsgPwEA6uHfuTkzPHu1gEqc24J7T4jfEcIbhe79vOR7uLkVswwZwBqnTnrJPhEB2pVKiTY9fbu8MXmERHLtS0MXDfCZZycddryerfSZjXTX5v/c1n8giRv2/AocUjjVJHIcrMHoQ9xucUqINYeFNtvhQskZ4KwbOhjjBCRjnlCkdcKvmDKbuA6MJHlZcrE4AWlamiF7jNWPJGzp8934fpGm/qkz9CL7IpOsqMwpzI09THqlLgsyF/tsfqUibzM/WLIprPJM03xj5XNYpbmxc6N7Jk1Yls0717tkE5sF+cfz05Faqdj1kserpbvXS9Cvd6Sg2iGIesc26h000R+NER+6qXWYp97xo3oHpqod8VIcSlP/FcrU0PPWO/hX76hiqHa4MtQ7DlrvAGuO2k87UVc5JHzEJj3WvBF98g8n+QTj6NOXVAAAAABJRU5ErkJggg=="
                  class="autoscale gsicon"></button></span><span class="fitem rangedropinput"><label class="flabel"
                style="cursor:col-resize;">Border:</label><input class="" type="text" id="207"
                style="width:3.3em"><button>▼</button></span><button class="fitem bbtn">Clear</button><button
              class="fitem bbtn">Help</button><button class="fitem bbtn">Tutorial</button><span class="form"
              style="position:absolute;  right:0px"><span class="fitem bbmenu"><label class="flabel">Background:
                </label><button class="fitem bactive" style="padding:2px"><img
                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMElEQVQ4T2P8////fwY8YM+ePfikGRhHDRgWYbB792686cDFxQV/Ohg1gIFx6IcBAPU7UXHPhMXmAAAAAElFTkSuQmCC"></button><button
                  class="fitem" style="padding:2px"><img
                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAHklEQVQ4T2P8////fwYKAOOoAQyjYcAwGgYMwyIMACUfP9Eb4ExuAAAAAElFTkSuQmCC"></button><button
                  class="fitem" style="padding:2px"><img
                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAHklEQVQ4T2NkYGD4z0ABYBw1gGE0DBhGw4BhWIQBAE5OEAELnjVHAAAAAElFTkSuQmCC"></button></span><span
                class="fitem ddmenu"><select class="bbtn" id="dd208">
                  <option value="0">New Layer</option>
                  <option value="1">Raster Mask</option>
                  <option value="2">Selection</option>
                </select></span><button class="fitem bbtn">OK</button></span></div>
          <div class="flexrow">
            <div style="cursor:grab; position:relative;overflow:hidden;">
              <canvas id="canv_old" class="canv" width="636" height="821"
                style="width:508.8px; height:656.8px; display:block;">
              </canvas>
            </div>
            <div style="cursor:grab; position:relative;overflow:hidden;">
              <canvas id="canv_new" class="canv" width="636" height="821"
                style="width:508.8px; height:656.8px; display:block;">
              </canvas>
            </div>
          </div>
        </div>
      </div>
    </div> -->
  </div>
  <script>
    var vm = new Vue({
      el: '#app',
      data: {
        width: 0,
        height: 0,
        buffer: null,

      },
      async mounted() {
        // const app = document.getElementById("app");
        // var init = new b2;
        // window.addEventListener("resize", this.onresize(init), false);
        // var E = init.a1L()
        // init.j.appendChild(E.j);
        // init.jY.push(E)
        // app.appendChild(init.j);
        // init.BL(E);
        const canv_img = document.querySelectorAll('.canv')[0];
        let ctx_img = canv_img.getContext('2d');
        const image = await this.loadImage('test/h1.jpg');
        this.width = image.naturalWidth;
        this.height = image.naturalHeight;
        ctx_img.drawImage(image, 100, 100, this.width, this.height);
        const imageData = ctx_img.getImageData(100, 100, this.width, this.height);
        this.buffer = new Uint8Array(imageData.data);
        console.log(imageData)

        const T = {
          rect: { x: 100, y: 100, w: this.width, h: this.height },
          channel: this.m((this.width) * (this.height))
        };
        this.Ft(this.buffer, T.channel, 3);
        console.log(T)
        // var rect = new W(0, 0, this.width, this.height)
        // E.kg(this.buffer, rect)
      },
      methods: {
        loadFile(evt) {
          var selFile = evt.target.files[0];
          var reader = new FileReader();
          reader.onload = function (e) {
            var data = aW.dT(selFile, e.target.result, null, null);
            console.log(data)
            // const app = document.getElementById("app");
            // var init = new b2;
            // window.addEventListener("resize", vm.onresize(init), false);
            // var E = init.a1L()
            // init.j.appendChild(E.j);
            // init.jY.push(E)
            // app.appendChild(init.j);
            // init.BL(E);
            // const canv_img = document.querySelectorAll('.canv')[0];
            // let ctx_img = canv_img.getContext('2d');
            // vm.buffer = new Uint8Array(data.s[0].data);
            // var rect = data.s[0].jJ;
            // // let res = await this.load('1561017597-367-khanh-10-1561013411-width600height813.jpg');
            // const image = await this.loadImage('test/h1.jpg');
            // this.width = image.naturalWidth;
            // this.height = image.naturalHeight;
            // ctx_img.drawImage(image, 0, 0, this.width, this.height);
            // const imageData = ctx_img.getImageData(0, 0, this.width, this.height);
            // this.buffer = new Uint8Array(imageData.data);
            // var rect = new W(0, 0, this.width, this.height)
            E.kg(vm.buffer, rect)
            // this.buffer = new Uint8Array(data.s[0].data);
            // console.log(this.buffer);
            //console.log(new Int8Array(e.target.result));
          };
          reader.readAsArrayBuffer(selFile);
          // let files = e.target.files;
          // for (var i = 0; i < files.length; i++) {
          //   var E = new FileReader();
          //   E.onload = (res) => {
          //     console.log(res)
          //   }
          //   // E.readAsArrayBuffer(E.file)
          // }
          // console.log(e)

        },
        onresize(init) {
          init.hD(window.innerWidth - 20, window.innerHeight)
        },
        load(path, responseType = 'arraybuffer') {
          return new Promise(function (resolve, reject) {
            let request = new XMLHttpRequest();
            request.open("GET", path, true);
            request.responseType = responseType;
            request.onload = function (e) {
              resolve(e.target.response);
            };
            request.send();
          });
        },
        createElement(element, _class) {
          let el = document.createElement(element);
          if (_class != null)
            el.setAttribute("class", _class);
          return el
        },
        loadImage(src) {
          return new Promise((resolve, reject) => {
            var img = new Image();
            img.onload = () => {
              resolve(img)
            };
            img.src = src;
          });
        },
        aiy(Y) {
          return Y + (Y % 4 == 0 ? 0 : 4 - Y % 4)
        },
        m(Y, S) {
          if (S == null)
            S = false;
          if (!S)
            Y = this.aiy(Y);
          try {
            var h = new Uint8Array(Y)
          } catch (gx) {
            alert("Not enough RAM! (need " + Math.round(Y / (1 << 20)) + " MB)", 7e3);
            throw "low_ram"
          }
          return h
        },
        Ft(Y, S, h) {
          var q = new Uint8Array(Y.buffer)
            , H = Math.min(q.length / 4, S.length);
          for (var G = 0; G < H; G++) {
            S[G] = q[(G << 2) + h]
          }
        },
      }
    })
  </script>
</body>

</html>