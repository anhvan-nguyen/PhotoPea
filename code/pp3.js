(function() {
  function e1() {
      this.FN = {};
      this.YD = {}
  }
  e1.ju = [];
  e1.xv = function(E) {
      var K = e1.ju;
      if (K.length != 0) {
          var i = new q(c.E.oA);
          for (var G = 0; G < K.length; G++)
              K[G].U(i)
      }
      window.requestAnimationFrame(e1.xv)
  }
  ;
  window.requestAnimationFrame(e1.xv);
  e1.prototype.Dh = function(E) {
      var K = this.FN[E];
      if (K == null)
          return !1;
      return K.length > 0
  }
  ;
  e1.prototype.addEventListener = function(E, K) {
      this.k(E, K, null)
  }
  ;
  e1.prototype.k = function(E, K, i) {
      if (this.FN[E] == null) {
          this.FN[E] = [];
          this.YD[E] = []
      }
      this.FN[E].push(K);
      this.YD[E].push(i);
      if (E == c.E.oA) {
          var C = e1.ju;
          if (C.indexOf(this) == -1)
              C.push(this)
      }
  }
  ;
  e1.prototype.removeEventListener = function(E, K) {
      var i = this.FN[E];
      if (i == null)
          return;
      var C = i.indexOf(K);
      if (C < 0)
          return;
      var N = this.YD[E];
      i.splice(C, 1);
      N.splice(C, 1);
      if (E == c.E.oA && i.length == 0) {
          var k = e1.ju;
          k.splice(k.indexOf(this), 1)
      }
  }
  ;
  e1.prototype.U = function(E) {
      E.currentTarget = this;
      if (E.target == null)
          E.target = this;
      var K = this.FN[E.type];
      if (K == null)
          return;
      var i = this.YD[E.type];
      for (var G = 0; G < K.length; G++) {
          if (i[G] == null)
              K[G](E);
          else
              K[G].call(i[G], E)
      }
  }
  ;
  function w() {
      this.GI = {};
      this.O2 = 0;
      this.MA();
      window.__kb = this
  }
  w.fg = null;
  w.prototype.MA = function() {
      var E = navigator.keyboard;
      if (E && window.top == window.self)
          E.getLayoutMap().then(function(K) {
              w.fg = K
          })
  }
  ;
  w.prototype.reset = function() {
      this.GI = {};
      this.O2 = 0
  }
  ;
  w.prototype.CF = function(E) {
      this.O2++;
      this.GI[E] = !0
  }
  ;
  w.prototype.st = function(E) {
      this.O2--;
      delete this.GI[E];
      if (this.O2 <= 0 || w.SS(E, w.J2))
          this.reset()
  }
  ;
  w.prototype.q = function(E) {
      for (var G = 0; G < E.Fb.length; G++)
          if (this.GI[E.Fb[G]])
              return !0;
      return !1
  }
  ;
  w.prototype.TD = function() {
      var E = this
        , K = E.q(w.Gj) ? 10 : 1
        , i = 0
        , C = 0;
      if (E.q(w.xM))
          i = -K;
      if (E.q(w.t5))
          i = K;
      if (E.q(w.ay))
          C = -K;
      if (E.q(w.Kv))
          C = K;
      return new bT(i,C)
  }
  ;
  w.prototype.lT = function() {
      var E = this
        , K = w.D_;
      for (var G = 0; G < 10; G++)
          if (E.q(K[G]))
              return G;
      return -1
  }
  ;
  w.SS = function(E, K) {
      return K.Fb.indexOf(E) != -1
  }
  ;
  w.hc = function(E) {
      var K = E.code
        , N = !1;
      if (K == "")
          return !1;
      var i = w.SS
        , C = w.D_.concat([w.Va, w.ih, w.g$, w.YL]);
      for (var G = 0; G < C.length; G++)
          if (i(K, C[G]))
              N = !0;
      if (E.altKey && !E.shiftKey && !E.ctrlKey && N)
          return !1;
      return w.MK.indexOf(K) == -1 || E.shiftKey && (K == "F5" || K == "F6")
  }
  ;
  w.a6J = function(E) {
      var K = E.code;
      return K != "" && (w.MK.indexOf(K) == -1 || E.shiftKey && (K == "F5" || K == "F6"))
  }
  ;
  w.oq = function(E) {
      if (typeof E == "string")
          return E;
      var K = navigator.platform.toUpperCase().indexOf("MAC") >= 0;
      if (E == null)
          return "";
      var i = [];
      for (var G = 0; G < E.length; G++) {
          var C = E[G].zE ? E[G].zE : E[G];
          if (K && E[G].XE)
              C = E[G].XE;
          i.push(C)
      }
      if (K || i.length == 1)
          return i.join(" + ");
      else {
          var N = i.pop();
          return i.join("+") + " + " + N
      }
  }
  ;
  w.MK = "ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
  w.X$ = function(E) {
      var K = E.code
        , i = w.fg;
      if (i && i.get(K)) {
          var C = {
              "+": "NumpadAdd",
              "-": "NumpadSubtract",
              ".": "Period"
          }
            , N = i.get(K).toLowerCase()
            , k = N.charCodeAt(0);
          if (97 <= k && k <= 122) {
              var V = "Key" + N.toUpperCase();
              K = V
          } else if (C[N])
              K = C[N];
          return K
      }
      var C = {
          "+": "NumpadAdd",
          "-": "NumpadSubtract",
          ".": "Period"
      }
        , N = E.key.toLowerCase()
        , k = N.charCodeAt(0);
      if (N.length == 1) {
          if (97 <= k && k <= 122) {
              var V = "Key" + N.toUpperCase();
              K = V
          } else if (C[N])
              K = C[N]
      }
      if (N == "control" && K != "")
          K = "ControlLeft";
      return K
  }
  ;
  w.ajx = {
      nm: "No Touch",
      Fb: ["NoTouch"]
  };
  w.U6 = {
      zE: "Enter",
      Fb: ["Enter", "NumpadEnter"]
  };
  w.Gj = {
      zE: "Shift",
      XE: "\u21E7",
      Fb: ["ShiftLeft", "ShiftRight"]
  };
  w.J2 = {
      zE: "Meta",
      Fb: ["MetaLeft", "MetaRight", "OSLeft", "OSRight"]
  };
  w.qN = {
      zE: "Ctrl",
      XE: "\u2318",
      Fb: "ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")
  };
  w.zA = {
      zE: "Alt",
      XE: "\u2325",
      Fb: ["AltLeft", "AltRight"]
  };
  w.aee = {
      zE: "CtrlOrAlt",
      Fb: w.qN.Fb.concat(w.zA.Fb)
  };
  w.SO = {
      zE: "Escape",
      Fb: ["Escape"]
  };
  w.NV = {
      zE: "Space",
      Fb: ["Space"]
  };
  w.ll = {
      zE: "Tab",
      Fb: ["Tab"]
  };
  w.am9 = {
      zE: "Home",
      Fb: ["Home"]
  };
  w.ali = {
      zE: "End",
      Fb: ["End"]
  };
  w.xM = {
      zE: "Left",
      Fb: ["ArrowLeft"]
  };
  w.ay = {
      zE: "Up",
      Fb: ["ArrowUp"]
  };
  w.t5 = {
      zE: "Right",
      Fb: ["ArrowRight"]
  };
  w.Kv = {
      zE: "Down",
      Fb: ["ArrowDown"]
  };
  w.Va = {
      zE: "+",
      Fb: ["NumpadAdd", "Equal"]
  };
  w.ih = {
      zE: "-",
      Fb: ["NumpadSubtract", "Minus", "Slash"]
  };
  w.EY = {
      zE: ";",
      Fb: ["Semicolon"]
  };
  w.a9H = {
      zE: "Dead",
      Fb: ["Dead"]
  };
  w.a9y = {
      zE: "=",
      Fb: ["Equal"]
  };
  w.LC = {
      zE: "Backspace",
      Fb: ["Backspace"]
  };
  w.UO = {
      zE: "Delete",
      Fb: ["Delete"]
  };
  w.adJ = {
      zE: "Backslash",
      Fb: ["Backslash", "IntlBackslash"]
  };
  w.agN = {
      zE: "Backquote",
      Fb: ["Backquote"]
  };
  w.g$ = {
      zE: "[",
      Fb: ["BracketLeft"]
  };
  w.YL = {
      zE: "]",
      Fb: ["BracketRight"]
  };
  w.ym = {
      zE: ".",
      Fb: ["Period"]
  };
  w.afu = {
      zE: ",",
      Fb: ["Comma"]
  };
  w.T0 = {
      zE: "'",
      Fb: ["Quote"]
  };
  w.f = {
      zE: "A",
      Fb: ["KeyA"]
  };
  w.gB = {
      zE: "B",
      Fb: ["KeyB"]
  };
  w.dY = {
      zE: "C",
      Fb: ["KeyC"]
  };
  w.Yg = {
      zE: "D",
      Fb: ["KeyD"]
  };
  w.E = {
      zE: "E",
      Fb: ["KeyE"]
  };
  w.M9 = {
      zE: "F",
      Fb: ["KeyF"]
  };
  w.t4 = {
      zE: "G",
      Fb: ["KeyG"]
  };
  w.Xi = {
      zE: "H",
      Fb: ["KeyH"]
  };
  w.Gs = {
      zE: "I",
      Fb: ["KeyI"]
  };
  w.dS = {
      zE: "J",
      Fb: ["KeyJ"]
  };
  w.pu = {
      zE: "K",
      Fb: ["KeyK"]
  };
  w.Ym = {
      zE: "L",
      Fb: ["KeyL"]
  };
  w.ka = {
      zE: "M",
      Fb: ["KeyM"]
  };
  w.FE = {
      zE: "N",
      Fb: ["KeyN"]
  };
  w.Eo = {
      zE: "O",
      Fb: ["KeyO"]
  };
  w.ty = {
      zE: "P",
      Fb: ["KeyP"]
  };
  w._o = {
      zE: "Q",
      Fb: ["KeyQ"]
  };
  w.Yb = {
      zE: "R",
      Fb: ["KeyR"]
  };
  w.tD = {
      zE: "S",
      Fb: ["KeyS"]
  };
  w.W = {
      zE: "T",
      Fb: ["KeyT"]
  };
  w.dM = {
      zE: "U",
      Fb: ["KeyU"]
  };
  w.Pp = {
      zE: "V",
      Fb: ["KeyV"]
  };
  w.xD = {
      zE: "W",
      Fb: ["KeyW"]
  };
  w.ab = {
      zE: "X",
      Fb: ["KeyX"]
  };
  w.ajl = {
      zE: "Y",
      Fb: ["KeyY"]
  };
  w.p6 = {
      zE: "Z",
      Fb: ["KeyZ"]
  };
  w.lS = {
      zE: "0",
      Fb: ["Numpad0", "Digit0"]
  };
  w.kP = {
      zE: "1",
      Fb: ["Numpad1", "Digit1"]
  };
  w.ahX = {
      zE: "2",
      Fb: ["Numpad2", "Digit2"]
  };
  w.alN = {
      zE: "3",
      Fb: ["Numpad3", "Digit3"]
  };
  w.ahb = {
      zE: "4",
      Fb: ["Numpad4", "Digit4"]
  };
  w.a8H = {
      zE: "5",
      Fb: ["Numpad5", "Digit5"]
  };
  w.a10 = {
      zE: "6",
      Fb: ["Numpad6", "Digit6"]
  };
  w.a4H = {
      zE: "7",
      Fb: ["Numpad7", "Digit7"]
  };
  w.acA = {
      zE: "8",
      Fb: ["Numpad8", "Digit8"]
  };
  w.a1K = {
      zE: "9",
      Fb: ["Numpad9", "Digit9"]
  };
  w.D_ = [w.lS, w.kP, w.ahX, w.alN, w.ahb, w.a8H, w.a10, w.a4H, w.acA, w.a1K];
  w.aky = {
      zE: "F1",
      Fb: ["F1"]
  };
  w.ahG = {
      zE: "F2",
      Fb: ["F2"]
  };
  w.ai$ = {
      zE: "F3",
      Fb: ["F3"]
  };
  w.afZ = {
      zE: "FF",
      Fb: ["F4"]
  };
  w.Jv = {
      zE: "F5",
      Fb: ["F5"]
  };
  w.a18 = {
      zE: "F6",
      Fb: ["F6"]
  };
  w.an7 = {
      zE: "F7",
      Fb: ["F7"]
  };
  w.a9V = {
      zE: "F8",
      Fb: ["F8"]
  };
  w.a6X = {
      zE: "F9",
      Fb: ["F9"]
  };
  w.a1m = {
      zE: "F10",
      Fb: ["F10"]
  };
  w.ahc = {
      zE: "F11",
      Fb: ["F11"]
  };
  w.a1y = {
      zE: "F12",
      Fb: ["F12"]
  };
  function d4() {
      e1.call(this);
      this.RD = {};
      this.Eg = {};
      this.ajL = 0;
      this.aou = {};
      this.B1 = [];
      this.a9x = 0;
      d4.ta = this
  }
  d4.prototype = new e1;
  d4.abU = function(E, K) {
      var G = 0
        , i = d4.O0;
      while (G < i.length) {
          if ((K >>> G & 1) == 1)
              break;
          G++
      }
      if (K == 0 || i[G][1] == "") {
          if ((K & 15) != 0 && d4.tf(E, [33, 126]) > .7)
              G = 0;
          else if (K == 0)
              G = 0;
          else {
              G = 0
          }
      }
      return i[G][1]
  }
  ;
  d4.h7 = 120;
  d4.Li = 20;
  d4.cols = 16;
  d4.Nc = function(E) {
      var K = E.name.postScriptName;
      if (K == null)
          return null;
      return K.replace(/ /g, "-")
  }
  ;
  d4._c = function(E) {
      var K = E.name
        , i = K.typoFamilyName ? K.typoFamilyName : K.fontFamily
        , C = K.typoSubfamilyName ? K.typoSubfamilyName : K.fontSubfamily
        , N = d4.a5i
        , k = i.toLowerCase();
      for (var G = 0; G < N.length; G++) {
          if (N[G] == "roman")
              continue;
          if (k.endsWith(" " + N[G]) || k.endsWith("-" + N[G])) {
              var V = i.length - N[G].length
                , j = i.slice(V);
              i = i.slice(0, V - 1);
              if (j != "") {
                  if (C == "Regular" || C == i + " Regular")
                      C = j;
                  else
                      C = j + " " + C
              }
              break
          }
      }
      var a = "BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
      for (var G = 0; G < a.length; G++)
          if (i.startsWith(a[G])) {
              var j = i.slice(a[G].length);
              i = a[G];
              if (j.startsWith(" ") || j.startsWith("-"))
                  j = j.slice(1);
              if (j != "") {
                  if (C == "Regular")
                      C = j;
                  else
                      C = j + " " + C
              }
              break
          }
      var e = {
          "Caudex-BoldItalic": "Bold Italic",
          "Comfortaa-Light": "Light",
          "Comfortaa-Medium": "Medium",
          "Comfortaa-SemiBold": "SemiBold",
          DevroyeSCOSF: "Regular SCOSF",
          DevroyeUnicode: "Regular Unicode",
          "LeagueScriptThin-Regular": "Regular",
          "Monda-Bold": "Bold",
          "Nobile-Bold": "Bold",
          "Oswald-BoldItalic": "Bold Italic",
          "Oswald-HeavyItalic": "Heavy Italic",
          "Oswald-LightItalic": "Light Italic",
          "Oswald-MediumItalic": "Medium Italic",
          "Oswald-RegularItalic": "Regular Italic",
          "PaloAlto-Italic": "Heavy Italic"
      }
        , L = e[d4.Nc(E)];
      if (L)
          C = L;
      return [i, C]
  }
  ;
  d4.prototype.ahS = function(E) {
      var K = this.y2();
      for (var i in K)
          if (K[i][0] == E)
              this.eK(i)
  }
  ;
  d4.prototype.eK = function(E, K) {
      if (this.RD[E])
          return this.RD[E];
      if (this.Eg[E])
          return null;
      var i = null
        , C = this.y2();
      if (C[E] != null)
          i = C[E][5];
      if (i == null) {
          var N = d4.alb[E];
          if (N == null) {
              var k = "DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" ")
                , V = E.toLowerCase()
                , j = 0;
              if (V.indexOf("sans") != -1)
                  j = 0;
              else if (V.indexOf("serif") != -1)
                  j = 4;
              var a = V.indexOf("bold") != -1 || V.indexOf("-black") != -1
                , e = V.indexOf("italic") != -1 || V.indexOf("oblique") != -1 || V.endsWith("-it");
              if (a && e)
                  j += 3;
              else if (e)
                  j += 2;
              else if (a)
                  j += 1;
              N = k[j]
          }
          if (K != null && K > 128)
              N = this.TF(K, N);
          if (this.aou[E] == null) {
              this.aou[E] = 1;
              var L = Date.now() - this.ajL > 2e3 ? 2e3 : 0;
              this.ajL = Date.now();
              alert(E + " \u27A1 " + N, L)
          }
          return this.eK(N, K)
      }
      this.Eg[E] = "a";
      var g = new q(c.E.P,!0);
      g.data = {
          e: c.f.$N,
          KG: {
              url: "rsrc/fonts/" + i
          }
      };
      this.U(g)
  }
  ;
  d4.prototype.TF = function(E, K, i) {
      var C = this.RD[K];
      if (C && Typr.U.codeToGlyph(C, E) != 0)
          return K;
      var N = this.y2()
        , k = d4.ah5(E)
        , V = k[0];
      if (N[K] && (N[K][3] & V) == 0) {
          if (i)
              for (var G = 0; G < i.length; G++) {
                  var j = i[G].Name
                    , a = N[j];
                  if (a && (a[3] & V) != 0)
                      return j
              }
          var j = d4.O0[k[1]][4];
          if (N[j])
              return j
      }
      return K
  }
  ;
  d4.ah5 = function(E) {
      var K = d4.O0
        , i = [0];
      for (var G = 0; G < K.length; G++) {
          var C = K[G][2];
          for (var N = 0; N < C.length; N += 2)
              if (C[N] <= E && E <= C[N + 1]) {
                  i[0] += 1 << G;
                  i.push(G)
              }
      }
      if (i.length == 1)
          i.push(0);
      return i
  }
  ;
  d4.prototype.ahx = function() {
      var E = this.B1
        , K = E[0]
        , i = E.length - 1;
      alert(i2.get([22, 6, 0]) + " " + K + (i == 0 ? "" : ", ... (" + i + ")") + " " + i2.get([23, 0]) + ".", 1500);
      this.B1 = []
  }
  ;
  d4.prototype.agO = function(E, K) {
      if (K != !0) {
          this.B1.push(E.name.fullName);
          clearTimeout(this.a9x);
          this.a9x = setTimeout(this.ahx.bind(this), 300)
      }
      var i = d4.Nc(E)
        , C = this.y2()
        , N = C[i]
        , k = d4.and(E);
      if (N == null) {
          var V = document.createElement("canvas")
            , j = V.getContext("2d");
          V.width = d4.h7;
          V.height = d4.Li;
          var a = d4.Li * 1.2 / E.head.unitsPerEm;
          j.translate(4, d4.Li * .9);
          j.scale(a, -a);
          j.fillStyle = "#000000";
          var e = Typr.U.shape(E, d4.abU(E, k[3]), !0);
          Typr.U.pathToContext(Typr.U.shapeToPath(E, e), j);
          j.fill();
          k.aon = V.toDataURL();
          this.fJ(k)
      }
      delete this.Eg[i];
      this.RD[i] = E
  }
  ;
  d4.a7R = function() {
      var E = d4.O0
        , K = [];
      for (var G = 0; G < E.length; G++)
          K.push(E[G][0]);
      return K
  }
  ;
  d4.O0 = [["Latin-1", "Preview", [161, 169, 192, 246, 248, 255], .7, "DejaVuSans"], ["Latin Ext. A", "", [256, 383], .7, "DejaVuSans"], ["Greek", "", [913, 929, 931, 969], .7, "DejaVuSans"], ["Cyrillic", "", [1040, 1119], .7, "DejaVuSans"], ["Hebrew", "", [1473, 1479, 1488, 1514, 1520, 1524], .7, "DejaVuSans"], ["Arabic", "", [1569, 1594, 1600, 1749], .4, "DejaVuSans"], ["Hangul", "\uC608\uACE0\uD3B8", [4352, 4607, 44032, 55203], .7, "NotoSansKR-Regular"], ["Chi-Jap-Kor", "\u9810\u7FD2", [12288, 12351, 12352, 12447, 12448, 12543, 19968, 40895], .05, "DroidSansFallback"], ["Tibetan", "\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D", [3840, 3948, 3953, 4044], .7, "NotoSansTibetan"], ["Devanagari", "\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928", [2304, 2431], .7, "Hind-Regular"], ["Thai", "\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07", [3585, 3642, 3647, 3675], .7, "K2D-Regular"], ["Khmer", "\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793", [6016, 6109, 6112, 6121, 6128, 6137], .7, "Battambang-Regular"], ["Vietnamese", "Xem tr\u01B0\u1EDBc", [192, 195, 200, 202, 204, 205, 210, 213, 217, 218, 221, 221, 224, 227, 232, 234, 236, 237, 242, 245, 249, 250, 253, 253, 258, 259, 272, 273, 296, 297, 360, 361, 416, 417, 431, 432, 7840, 7929], .95, "DejaVuSans"]];
  d4.and = function(E, K, i) {
      var C = E.name
        , a = 0;
      if (d4.Nc(E) == null) {
          console.log(E);
          throw "No postScriptName!"
      }
      var N = d4.O0
        , k = [];
      for (var G = 0; G < N.length; G++) {
          var V = N[G][2]
            , j = N[G][3];
          k[G] = d4.tf(E, V) > j ? 1 : 0
      }
      for (var G = 0; G < k.length; G++)
          a += k[G] << G;
      var e = d4._c(E);
      return [e[0], e[1], d4.Nc(E), a, i, K]
  }
  ;
  d4.tf = function(E, K) {
      var i = 0
        , C = 0;
      for (var N = 0; N < K.length; N += 2) {
          for (var k = K[N]; k <= K[N + 1]; k++) {
              var V = Typr.U.codeToGlyph(E, k);
              if (V == 0)
                  C++;
              else
                  i++
          }
      }
      return i / (i + C)
  }
  ;
  d4.a0b = function(E, K) {
      if (E[2] < K[2])
          return -1;
      if (E[2] > K[2])
          return 1;
      return 0
  }
  ;
  d4.a5p = function(E, K) {
      if (E[5] == "fs/" + E[2] + ".otf")
          E[5] = "";
      else if (E[5] == "gf/" + E[2] + ".otf")
          E[5] = "a";
      if (E[2] == (E[0] + "-" + E[1]).replace(/\s/g, "")) {
          E[2] = ""
      } else if (E[2] == E[0].replace(/\s/g, "")) {
          E[2] = "a"
      }
      if (K) {
          if (E[0] == K[0])
              E[0] = "";
          if (E[1] == K[1])
              E[1] = "";
          if (E[3] == K[3])
              E[3] = "";
          if (E[4] == K[4])
              E[4] = ""
      }
      return E.join(",")
  }
  ;
  d4.aom = function(E, K) {
      E = E.split(",");
      if (E[0] == "")
          E[0] = K[0];
      if (E[1] == "")
          E[1] = K[1];
      if (E[3] == "")
          E[3] = K[3];
      else
          E[3] = parseInt(E[3]);
      if (E[4] == "")
          E[4] = K[4];
      else
          E[4] = parseInt(E[4]);
      if (E[2] == "")
          E[2] = (E[0] + "-" + E[1]).replace(/\s/g, "");
      else if (E[2] == "a")
          E[2] = E[0].replace(/\s/g, "");
      if (E[5] == "")
          E[5] = "fs/" + E[2] + ".otf";
      else if (E[5] == "a")
          E[5] = "gf/" + E[2] + ".otf";
      return E
  }
  ;
  d4.alb = {
      ArialMT: "LiberationSans",
      "Arial-BoldMT": "LiberationSans-Bold",
      "Arial-ItalicMT": "LiberationSans-Italic",
      "Arial-BoldItalicMT": "LiberationSans-BoldItalic",
      TimesNewRomanPSMT: "LiberationSerif",
      "TimesNewRomanPS-BoldMT": "LiberationSerif-Bold",
      "TimesNewRomanPS-ItalicMT": "LiberationSerif-Italic",
      "TimesNewRomanPS-BoldItalicMT": "LiberationSerif-BoldItalic",
      CourierNewPSMT: "LiberationMono",
      "CourierNewPS-BoldMT": "LiberationMono-Bold",
      "CourierNewPS-ItalicMT": "LiberationMono-Italic",
      "CourierNewPS-BoldItalicMT": "LiberationMono-BoldItalic",
      Courier: "CourierPrime",
      TrebuchetMS: "SourceSansPro-Regular",
      "TrebuchetMS-Bold": "SourceSansPro-Semibold",
      "TrebuchetMS-Italic": "SourceSansPro-It",
      "TrebuchetMS-BoldItalic": "SourceSansPro-SemiboldIt",
      "Times-Roman": "LiberationSerif",
      Impact: "Anton-Regular",
      Calibri: "SourceSansPro-Regular",
      "Calibri-Italic": "SourceSansPro-It",
      "Calibri-Bold": "SourceSansPro-Bold",
      CalibriBold: "SourceSansPro-Bold",
      "Times-Roman": "LiberationSerif",
      "Times-Italic": "LiberationSerif-Italic",
      "Times-Bold": "LiberationSerif-Bold",
      "Helvetica-Bold": "LiberationSans-Bold",
      "HelveticaNeue-Thin": "Roboto-Thin",
      "HelveticaNeue-Light": "Roboto-Light",
      HelveticaNeue: "Roboto-Regular",
      "HelveticaNeue-Roman": "Roboto-Regular",
      "HelveticaNeue-Medium": "Roboto-Medium",
      "HelveticaNeue-Bold": "Roboto-Bold",
      "HelveticaNeue-BoldItalic": "Roboto-BoldItalic",
      "HelveticaNeue-Black": "Roboto-Black",
      "HelveticaNeue-Heavy": "Roboto-Black",
      "SFProText-Light": "Roboto-Light",
      "SFProText-Regular": "Roboto-Regular",
      "SFProText-Roman": "Roboto-Regular",
      "SFProText-Medium": "Roboto-Medium",
      "SFProText-Semibold": "Roboto-Medium",
      "SFProText-Bold": "Roboto-Bold",
      "SFProText-BoldItalic": "SFProText-BoldItalic",
      "SFProText-Black": "Roboto-Black",
      "SFProText-Heavy": "Roboto-Black",
      "SFProDisplay-Light": "Roboto-Light",
      "SFProDisplay-Regular": "Roboto-Regular",
      "SFProDisplay-Roman": "Roboto-Regular",
      "SFProDisplay-Medium": "Roboto-Medium",
      "SFProDisplay-Semibold": "Roboto-Medium",
      "SFProDisplay-Bold": "Roboto-Bold",
      "SFProDisplay-BoldItalic": "SFProDisplay-BoldItalic",
      "SFProDisplay-Black": "Roboto-Black",
      "SFProDisplay-Heavy": "Roboto-Black",
      "SFUIText-Light": "Roboto-Light",
      "SFUIText-Regular": "Roboto-Regular",
      "SFUIText-Roman": "Roboto-Regular",
      "SFUIText-Medium": "Roboto-Medium",
      "SFUIText-Semibold": "Roboto-Medium",
      "SFUIText-Bold": "Roboto-Bold",
      "SFUIText-BoldItalic": "SFUIText-BoldItalic",
      "SFUIText-Black": "Roboto-Black",
      "SFUIText-Heavy": "Roboto-Black",
      Verdana: "DejaVuSans",
      "Verdana-Bold": "DejaVuSans-Bold",
      "Verdana-Italic": "DejaVuSans-Oblique",
      "Verdana-BoldItalic": "DejaVuSans-BoldOblique",
      "MyriadPro-Regular": "PTSans-Regular",
      "MyriadPro-Bold": "PTSans-Bold",
      "MyriadPro-LightIt": "PTSans-Italic",
      "MyriadPro-Semibold": "PTSans-Bold",
      "MyriadPro-BlackCond": "PTSans-NarrowBold",
      Cambria: "Oranienbaum-Regular",
      Georgia: "CharisSIL",
      "Georgia-Bold": "CharisSIL-Bold",
      "Georgia-Italic": "CharisSIL-Italic",
      "Georgia-BoldItalic": "CharisSIL-BoldItalic",
      "AGaramondPro-Regular": "EBGaramond08-Regular",
      "AGaramondPro-Bold": "EBGaramond08-Bold",
      "AGaramondPro-Italic": "EBGaramond08-Italic",
      Garamond: "EBGaramond08-Regular",
      FontAwesome: "FontAwesome5FreeSolid",
      "ProximaNova-Regular": "Metropolis-Regular",
      "ProximaNova-Semibold": "Metropolis-SemiBold",
      "ProximaNova-Light": "Metropolis-Light",
      BellMT: "GalatiaSIL",
      PalatinoLinotype: "TeXGyrePagella-Regular",
      "PalatinoLinotype-Bold": "TeXGyrePagella-Bold",
      "PalatinoLinotype-Italic": "TeXGyrePagella-Italic",
      "PalatinoLinotype-BoldItalic": "TeXGyrePagella-BoldItalic"
  };
  d4.prototype.y2 = function() {
      if (FNTS.map == null) {
          var E = FNTS.list
            , K = [];
          for (var G = 0; G < E.length; G++) {
              K[G] = d4.aom(E[G], K[G - 1]);
              K[G].EL = G;
              this.fJ(K[G])
          }
      }
      return FNTS.map
  }
  ;
  d4.prototype.fJ = function(E) {
      var K = E[0]
        , i = E[1]
        , C = E[5];
      if (FNTS.map == null)
          FNTS.map = {};
      FNTS.map[E[2]] = E;
      if (FNTS.mapFS == null)
          FNTS.mapFS = {};
      var N = FNTS.mapFS[K + "---" + i];
      FNTS.mapFS[K + "---" + i] = E;
      if (FNTS.mapSub == null)
          FNTS.mapSub = {};
      var k = FNTS.mapSub[K];
      if (k == null)
          k = FNTS.mapSub[K] = [];
      var V = k.indexOf(i);
      if (V == -1)
          k.push(i);
      else
          k[V] = i
  }
  ;
  d4.ahz = function(E, K) {
      return d4.Kq(E) - d4.Kq(K)
  }
  ;
  d4.Kq = function(E) {
      E = E.toLowerCase();
      var K = d4.a92(E) + (d4.a9$(E) << 1);
      if (E.indexOf("cond") == -1)
          K += 1 << 25;
      return K
  }
  ;
  d4.a92 = function(E) {
      return E.indexOf("italic") != -1 || E.indexOf("oblique") != -1 ? 1 : 0
  }
  ;
  d4.a5i = "two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
  d4.a12 = ["two", "four", "eight", "hair", "thin", "ultralight", "extralight", "light", ["regular", "roman", "book"], "medium", ["semibold", "demibold"], "bold", "extrabold", "heavy", "ultra", "black", "x black"];
  d4.a9$ = function(E) {
      var K = d4.a12
        , i = -1
        , C = -1;
      for (var G = 0; G < K.length; G++) {
          var N = K[G];
          if (N instanceof Array)
              for (var k = 0; k < N.length; k++) {
                  var V = N[k];
                  if (E.indexOf(V) != -1 && (i == -1 || C < V.length)) {
                      i = G;
                      C = V.length
                  }
              }
          else if (E.indexOf(N) != -1 && (i == -1 || C < N.length)) {
              i = G;
              C = N.length
          }
      }
      if (i == -1)
          i = 8;
      return i
  }
  ;
  d4.EC = function(E, K) {
      var i = 1e9
        , C = null
        , N = d4.Kq(K);
      for (var G = 0; G < E.length; G++) {
          var k = Math.abs(d4.Kq(E[G]) - N);
          if (k < i) {
              i = k;
              C = E[G]
          }
      }
      return C
  }
  ;
  d4.prototype.VU = function(E, K) {
      this.y2();
      return FNTS.mapFS[E + "---" + K]
  }
  ;
  d4.prototype.gw = function(E) {
      this.y2();
      return FNTS.mapSub[E]
  }
  ;
  d4.prototype.a3Z = function() {
      this.y2();
      return FNTS.mapSub
  }
  ;
  var h2 = {
      s4: 0,
      xT: null,
      uE: null,
      Qq: null,
      zP: null,
      fI: null,
      SD: !0,
      Bf: 0,
      mW: !1
  }
    , ee = 0;
  h2.pw = function() {
      var E = c.j0(24) ? " " : ""
        , K = c.dZ[c.iL("Uu," + E)];
      K = K[c.iL(E + "$/")];
      return h2.Yv() != null && h2.Yv()[c.jI("!&|'&50")] * 50 > K() / 20
  }
  ;
  h2.EU = function() {
      return h2.aeM() != null
  }
  ;
  h2.Yv = function() {
      return h2.fI
  }
  ;
  h2.ZV = function(E) {
      window.addEventListener("message", h2.a7E, !1);
      setInterval(h2.yJ, 5e3);
      if (h2.EU()) {
          h2.xT = E;
          h2.FW()
      } else
          setTimeout(E, 1)
  }
  ;
  h2.yJ = function() {
      if (h2.EU() && h2.mW) {
          h2.cu(h2.vu());
          h2.mW = !1
      }
  }
  ;
  h2.PZ = function(E) {
      h2.xT = E;
      var K = "https://www.photopea.com/papi/login.php?redirect=" + encodeURIComponent(window.location.href);
      h2.Qq = window.open(K, "_blank")
  }
  ;
  h2.akx = function() {
      localStorage.removeItem(h2.s4 + "_uid");
      localStorage.removeItem(h2.s4 + "_provider");
      localStorage.removeItem(h2.s4 + "_token");
      h2.fI = null
  }
  ;
  h2.a7E = function(E) {
      if (E.data instanceof ArrayBuffer || E.data instanceof Object)
          return;
      if (E.data.charAt(0) != "{")
          return;
      var K = JSON.parse(E.data);
      if (K.prms == null)
          return;
      var i = K.prms.split(",");
      if (i[0] == "papi_logged_in") {
          localStorage[h2.s4 + "_uid"] = i[1];
          h2.Kn(i[2]);
          localStorage[h2.s4 + "_provider"] = i[3];
          h2.Qq.close();
          h2.FW()
      }
      if (i[0] == "payment_complete") {
          h2.zP.close();
          h2.FW()
      }
  }
  ;
  h2.aeM = function() {
      var E = localStorage[h2.s4 + "_token"];
      if (E != null && Date.now() * .001 + 10 < parseInt(E.split("-")[0]))
          return E;
      return null
  }
  ;
  h2.Kn = function(E) {
      var K = localStorage[h2.s4 + "_token"];
      if (K != null && parseInt(E.split("-")[0]) < parseInt(K.split("-")[0]))
          return;
      localStorage[h2.s4 + "_token"] = E;
      clearTimeout(h2.Bf);
      h2.Bf = setTimeout(h2.aeX, Math.min(1e9, parseInt(E.split("-")[0]) * 1e3 - Date.now() - 20 * 1e3))
  }
  ;
  h2.aeX = function() {
      var E = new XMLHttpRequest;
      E.open("POST", "https://www.photopea.com/papi/record_new.php", !0);
      E.onload = h2.abl;
      var K = h2.TT(0) + "&read=2";
      E.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      E.send(K)
  }
  ;
  h2.FW = function() {
      var E = new XMLHttpRequest;
      E.open("POST", "https://www.photopea.com/papi/record_new.php", !0);
      E.onload = h2.adj;
      var K = h2.TT(0) + "&read=1";
      E.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      E.send(K)
  }
  ;
  h2.cu = function(E) {
      var K = new XMLHttpRequest;
      K.open("POST", "https://www.photopea.com/papi/record_new.php", !0);
      K.onload = h2.aga;
      var i = h2.TT(0) + "&read=0&score=" + (E.tpl ? 1 : 0) + "&spublic=" + h2.SD + "&record=" + encodeURIComponent(JSON.stringify(E));
      K.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      K.send(i)
  }
  ;
  h2.adj = function(E) {
      var K = JSON.parse(E.target.response);
      if (K.error) {} else {
          h2.fI = K.user;
          var i = h2.vu()
            , C = K.record;
          if (K.record) {
              h2.SD = K.spublic;
              h2.bw(C)
          } else if (i)
              h2.cu(i)
      }
      h2.Kn(K.token);
      if (h2.xT) {
          h2.xT();
          h2.xT = null
      }
      if (h2.uE) {
          h2.uE();
          h2.uE = null
      }
  }
  ;
  h2.abl = function(E) {
      var K = JSON.parse(E.target.response);
      h2.Kn(K.token)
  }
  ;
  h2.aga = function(E) {
      var K = JSON.parse(E.target.response);
      h2.Kn(K.token);
      if (h2.uE)
          h2.FW()
  }
  ;
  h2.TT = function(E) {
      return "app=" + E + "&uid=" + localStorage[h2.s4 + "_uid"] + "&token=" + localStorage[h2.s4 + "_token"]
  }
  ;
  h2.GP = function() {
      return h2.vu()
  }
  ;
  h2.Hu = function(E, K) {
      h2.bw(E);
      h2.mW = !0;
      if (K) {
          h2.uE = K;
          h2.yJ()
      }
  }
  ;
  h2.vu = function() {
      var E = localStorage[h2.s4 + "_stateLocal"], K;
      if (E == null)
          return null;
      try {
          K = JSON.parse(E)
      } catch (i2) {
          return null
      }
      return K
  }
  ;
  h2.bw = function(E) {
      var K = JSON.stringify(E);
      localStorage[h2.s4 + "_stateLocal"] = K
  }
  ;
  h2.order = function(E, K, i) {
      h2.xT = i;
      var C = "https://www.photopea.com/papi/order.php?ptype=" + K + "&param=" + E + "&uid=" + localStorage[h2.s4 + "_uid"] + "&token=" + localStorage[h2.s4 + "_token"];
      h2.zP = window.open(C, "_blank")
  }
  ;
  h2.ah2 = function(E, K) {
      h2.xT = K;
      var i = "https://www.photopea.com/papi/insertKey.php?key=" + E + "&uid=" + localStorage[h2.s4 + "_uid"] + "&token=" + localStorage[h2.s4 + "_token"];
      h2.zP = window.open(i, "_blank")
  }
  ;
  var i2 = {};
  i2.b7 = 0;
  i2.os = {};
  i2.oM = function(E) {
      var K = LNG.tables
        , i = K[E];
      if (typeof i == "string") {
          i = K[E] = i2.SZ(i)
      }
      return i
  }
  ;
  i2.SZ = function(E) {
      var K = []
        , i = 0
        , C = 0
        , N = []
        , k = E.length;
      while (C != k) {
          var V = E[C];
          if (V == "[") {
              K.push(N);
              N = [];
              C = i = C + 1
          } else if (V == "]") {
              N.push(i == C ? null : E.substring(i, C));
              var j = N;
              N = K.pop();
              N.push(j);
              C = i = C + 1
          } else if (V == ";") {
              if (E[C - 1] != "]")
                  N.push(i == C ? null : E.substring(i, C));
              C = i = C + 1
          } else
              C++
      }
      return N
  }
  ;
  i2.get = function(E) {
      if (typeof E == "string")
          return E;
      var K = typeof E[0];
      if (K == "number") {
          for (var G = 1; G < E.length; G++)
              if (typeof E[G] != "number") {
                  console.log(E);
                  throw "e"
              }
          return i2.a9E(E)
      }
      var i = i2.get(E[0]);
      for (var G = 1; G < E.length; G++) {
          var C = i2.get(E[G])
            , N = i.indexOf("VAR" + (G - 1));
          i = i.slice(0, N) + C + i.slice(N + 4)
      }
      return i
  }
  ;
  i2.a9E = function(E) {
      var K = JSON.stringify(E);
      if (i2.os[K] != null)
          return i2.os[K];
      var i = i2.oM(0)
        , C = i2.oM(i2.b7)
        , N = i2.j2(E, C);
      if (N == null)
          N = i2.j2(E, i);
      return N
  }
  ;
  i2.j2 = function(E, K) {
      for (var G = 0; G < E.length; G++) {
          K = K[E[G]];
          if (K == null)
              return null;
          else if (typeof K == "string")
              break
      }
      return K.split("::")[0]
  }
  ;
  i2.a5O = function() {
      var E = function(i, C) {
          var N = i.code
            , k = C.code;
          if (N == "en")
              return -1;
          if (k == "en")
              return 1;
          var V = navigator.languages
            , j = V.indexOf(N) != -1
            , a = V.indexOf(k) != -1;
          if (j && a)
              return N > k ? 1 : -1;
          if (j)
              return -1;
          if (a)
              return 1;
          return N > k ? 1 : -1
      }
        , K = LNG.langs.slice(0);
      K.sort(E);
      return K
  }
  ;
  i2.adv = function(E) {
      i2.b7 = E
  }
  ;
  i2.b6 = function(E) {
      for (var G = 0; G < LNG.langs.length; G++)
          if (LNG.langs[G].code == E)
              i2.b7 = G
  }
  ;
  i2.WG = function() {
      return LNG.langs[i2.b7].code
  }
  ;
  i2.a41 = function(E) {
      for (var G = 0; G < E.length; G += 2)
          if (E[G + 1].indexOf(">") == -1)
              i2.os[JSON.stringify(E[G])] = E[G + 1]
  }
  ;
  i2.Kj = function(E) {
      var K = -1
        , i = LNG.langs;
      for (var G = 0; G < i.length; G++)
          if (i[G].code == E)
              K = G;
      return K
  }
  ;
  var iV = {
      je: !1,
      km: !1,
      Mk: !1
  };
  iV.hh = function() {
      return c.dZ[c.Wr("vrt", 2)] != c.dZ[c.Wr("xksn", 5)]
  }
  ;
  iV.jQ = function() {
      var E = c.jI
        , K = c.dZ[E("u#z/*%1:")]
        , i = K[E("s#{3")]
        , C = E("t&|{1%h2.94@I")
        , N = E("xy+_)%0+7@qK~<")
        , k = E("r$'\x7F+$f.283")
        , V = E("#y$)3%f.283")
        , j = 0
        , a = E("$y+[145/+AC7")
        , e = E("rx*\x7F+3(")
        , L = c.tC("Y_5UDDB>&\x7F");
      if (c.dZ[L] != !0) {
          j = 1
      }
      var g = K[C](E("u}-"));
      g[a](E("zx"), e);
      g[a](E("$(0&\""), E("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
      i[k](g);
      g = K[N](e);
      if (g == null) {
          j = 2
      } else {
          if (!i[E("t#%.~)19")](g)) {
              j = 3
          } else if (Math.round(g[E("xy+\\,51*2:6uAA@LU6LMa")]()[E("(}{.%")] - 500) > 5) {
              j = 4
          }
          i[V](g)
      }
      if (iV.km)
          j = 5;
      if (iV.Mk)
          j = 6;
      return j
  }
  ;
  iV.aoE = function(E) {
      var K = c.iL("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}")
        , i = {
          method: "HEAD",
          mode: "no-cors"
      }
        , C = new Request(K,i);
      fetch(C).then(function(N) {
          return N
      }).then(function(N) {
          E(!1)
      }).catch(function(N) {
          iV.km = !0;
          console.clear();
          E(!0)
      })
  }
  ;
  iV.afg = function() {
      var E = c.nU("UU[YW#ECC8")
        , K = c.nU("VQ](RUK>@B8p71*03m}x'")
        , i = c.nU("WQRMKT")
        , C = this.ads[E][K]();
      if (C[i] < 4) {
          iV.Mk = !0;
          this.aoj(!0)
      }
  }
  ;
  iV.a6P = function() {
      var E = c.dZ._cwY
        , K = c.dZ[c.jI("$y+n&-(5>@")]
        , i = "FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\"
        , C = String.fromCharCode(32);
      E(c.tC(i) + C + C + iV.jQ());
      if (!h2.pw())
          K(iV.a6P, Math.round(Math.PI * 1e4))
  }
  ;
  iV.HR = function(E) {
      var K = c.jI
        , i = c.dZ[K("u#z/*%1:")]
        , C = K("t&|{1%h2.94@I")
        , N = K("$y+[145/+AC7")
        , k = K("%y/.`/1:.:C")
        , V = i[C](E[0]);
      for (var j in E[1]) {
          if (j == "txt")
              V[k] = E[1][j];
          else
              V[N](j, E[1][j])
      }
      return V
  }
  ;
  iV.adQ = function(E, K, i, C, N) {
      c.kL(i);
      var k = c.jI
        , V = k("r$'\x7F+$f.283")
        , j = k("$y+[145/+AC7")
        , a = k("rx{_3%1:u5BF:F@P")
        , e = k("#y'&~#(")
        , L = k("$(0&\"")
        , g = k("$&z")
        , I = k("r'0( ")
        , h = k("%y/.`/1:.:C")
        , o = k("u}-")
        , H = c.iL("zz*{+&")
        , A = c.dZ[k("u#z/*%1:")]
        , S = k("t&|{1%h2.94@I")
        , v = k("$w)#-4")
        , s = c.iL("z#+ 05e,0<B8")
        , D = c.iL("w}*.2c,061")
        , F = c.iL(" u.$%\"86<")
        , y = c.iL("!#c$,&")
        , T = c.dZ[F][y];
      if (!iV.hh() && !iV.jQ() && T && E * K > 300 * 300) {
          var Q = A[k("xy+_)%0+7@BtN,<E/ETO")](k("yyx~"))[0]
            , B = JSON.parse(c.iL("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
          for (var G = 0; G < B.length; G++) {
              var r = iV.HR(B[B.length - 1 - G]);
              Q[s](r, Q[D])
          }
          var J = c.iL("p}&$2a(:")
            , m = c.iL("'#!}i0%+")
            , x = c.iL("ps,}$\"40");
          c.dZ.___ggo = function() {
              c.dZ[x](a, 2, function(z, $) {
                  if ($ && z[m] == !0) {
                      if (!c.dZ[J]) {
                          c.dZ[J] = !0;
                          var P = iV.anG.bind({
                              zu: i,
                              afi: N,
                              head: Q,
                              w1: K
                          });
                          P()
                      }
                  }
              })
          }
      } else {
          var R = [k("z!~I-0\":*8;`EFB")];
          for (var G = 0; G < R.length; G++) {
              var b = A[S](k("z!~"));
              b[j](L, k("t))-,2]685=F:Jv"));
              b[a](k("t  }("), C, !1);
              b[j](g, R[G]);
              i[V](b)
          }
      }
  }
  ;
  iV.lz = function(E) {
      var K = 2;
      if (E >= 3 * 270 + 30)
          K = 3;
      if (E >= 4 * 270 + 30)
          K = 4;
      return K
  }
  ;
  iV.anG = function() {
      var E = c.jI
        , K = E("r$'\x7F+$f.283")
        , i = E("$y+[145/+AC7")
        , C = E("rx{_3%1:u5BF:F@P")
        , N = E("#y'&~#(")
        , k = E("$(0&\"")
        , V = E("$&z")
        , j = E("r'0( ")
        , a = E("%y/.`/1:.:C")
        , e = E("u}-")
        , L = c.iL("zz*{+&")
        , g = c.dZ[E("u#z/*%1:")]
        , I = E("t&|{1%h2.94@I")
        , h = E("$w)#-4")
        , o = c.iL("z#+ 05e,0<B8")
        , H = c.iL("w}*.2c,061")
        , A = JSON.parse(c.iL("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv"))
        , S = c.dZ
        , v = -1
        , s = S[c.iL("f#!}f")]
        , D = c.iL("xy'")
        , F = c.iL("TU")
        , y = c.iL("Vi")
        , b = 0;
      if (s && s[D]) {
          var T = s[D];
          if (T == y)
              v = 0;
          if (T == F)
              v = 1
      }
      var Q = v == -1 ? null : iV.HR(A[v])
        , B = this.zu
        , r = this.afi
        , J = this.head
        , m = this.w1
        , x = [.4, .4, .2]
        , R = Math.random();
      while (x[b] < R && b < x.length - 1) {
          R -= x[b];
          b++
      }
      if (r == 2 && Math.random() < .5) {
          console.log(0);
          var z = iV.lz(m);
          if (!iV.je) {
              iV.je = !0;
              var $ = c.iL("uu,{J*(R:5?GEIA@oHWXM$$'r/53eMR_>[j\\kffv|qu&bih3&888;;C?'lp0TK_W\\daahim|W^]\"x-%*2>31D;\")(SQUUL`X]eFMLoko!|s( %-mtsbWUh_&.,kkrsw'AI")
                , P = $.split(",")
                , t = c.iL("9z-)!5-68LW[UT[UCWg^WkY4!003~;A?9Ay 40.<JjPZGBLTRVNM|UdeZ114 <B@rZ_lFN>687FIHZz`RLalH@BApsrWm|$v(,BF[<465DGFfKMTJIOgdhXnbckgwst2R8\"40(<4=?[_UFFbmaY[Zilk,sihn'c(w.\"?_bH_NWZWSKML[^]}fjZptu%EH.CDGC97%9I2CRrX@NEZUP\\e\"hobr|Ynxtu*(._.1OL)55K;iIG#omySYmigu/)1j2<Q0}2B+HhNrGJ<WnJYYZwXi\"*eksl3t'#z/'02N/UONH>PTTSgkS~\\Xm>twxrn%'z@=##9)W@6B;?OEGgqiw-^^#c* }k 0||,}-(EeK4_8GIRFR[AV^Wep*cqh}xs )R$$3%4/Z?C;Gcg|NN]O^Y%qoiwk1%|~}-0/O7->>@BJ?1E[Zq'XXgYhc/gsy!u;?T\"M6+=lCFGA=SUInpQQgW&ndpim}su;C:239,RJMPpQIKJY\\[{`d\\h%\"JK].;2<!0328aY\\AI9;ASpMvP^gWd`ammju;~x+H$!06*0]39PyGV!uz!'%*/-7;4/6ou*&$2KJL=GlY`>JBQIM@@:{jcwe,102$Oe%|\"'2-9B0HPJBdu*\\Qah^fb$(/Kk\"uA%)4GKQH@AG:`uVNPO^a`!i^jc*.C)79=R");
              for (var X = 0; X < z; X++) {
                  var Z = g[I](L);
                  for (var G = 0; G < P.length; G += 2)
                      Z[i](P[G + 0], P[G + 1]);
                  Z[i](k, E("~u)!&.P(8@CABrmnQ\\"));
                  B[K](Z);
                  var p = g[I](h);
                  p[a] = t;
                  B[K](p)
              }
          }
      } else if (r == 1 && b == 0) {
          console.log(0);
          var $ = c.iL("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE")
            , P = $.split(",")
            , Z = g[I](L);
          for (var G = 0; G < P.length; G += 2)
              Z[i](P[G + 0], P[G + 1]);
          Z[i](k, E("~u)!&.P(8@CABrmnQ\\"));
          B[K](Z);
          if (!iV.je) {
              iV.je = !0;
              var t = c.iL("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn")
                , p = g[I](h);
              p[a] = t;
              J[K](p)
          }
      } else if (r == 1 && b == 1) {
          console.log(1);
          var gl = g[I](c.iL("u}."));
          gl[i](k, c.jI("~u)!&.P(8@CABrmnQ\\"));
          var f = g[I](c.iL("u}."));
          gl[K](f);
          f[i](c.iL("zx"), c.iL("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
          f[i](c.iL("t!x.1"), c.iL("pu(y~1)?).4"));
          var t = c.iL("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K")
            , p = g[I](h);
          p[a] = t;
          f[K](p);
          B[K](gl);
          if (!iV.je) {
              iV.je = !0;
              var t = c.iL("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW")
                , p = g[I](h);
              p[i](c.iL("uu,{J$*(=F>6"), c.iL("wu$.#"));
              p[a] = t;
              J[K](p)
          }
      } else {
          console.log(2);
          var cY = g[I](h);
          cY.setAttribute(V, c.iL("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
          J[K](cY);
          var fC = JSON.parse(c.iL("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}#(%({)\"go 9v#*E|#N50:B@D<;@OPx}# $vU"))
            , hi = [fC[0]];
          if (r == 2)
              hi = fC.slice(1, 1 + iV.lz(m));
          for (var G = 0; G < hi.length; G++) {
              var f = g[I](c.nU("SU_"));
              f[i](c.nU("XP"), hi[G]);
              f[i](k, E("~u)!&.P(8@CABrmnQ\\"));
              B[K](f)
          }
      }
      if (Q)
          B[K](Q)
  }
  ;
  var fx = {
      xa: 0,
      M3: {
          expires_at: 0
      },
      Nh: []
  };
  fx.AE = function(E) {
      if (E)
          fx.Nh.splice(0, 0, E);
      if (fx.xa == 1)
          return;
      if (fx.M3.expires_at > Date.now() * .001 + 30) {
          while (fx.Nh.length > 0)
              fx.Nh.pop()()
      } else {
          if (fx.xa == 0)
              fx.xa = 1;
          gapi.auth.authorize({
              client_id: "463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",
              scope: ["https://www.googleapis.com/auth/drive.install", "https://www.googleapis.com/auth/drive.file"].join(" "),
              immediate: fx.xa == 2 ? !1 : !0
          }, fx.a1h)
      }
  }
  ;
  fx.a1h = function(E) {
      if (E && !E.error) {
          fx.M3 = E;
          fx.xa = !1;
          fx.AE()
      } else if (fx.xa == 1) {
          fx.xa = 2;
          fx.AE()
      } else
          alert("Error: " + E.error)
  }
  ;
  fx.TR = function() {
      return "access_token=" + fx.M3.access_token + "&token_type=" + fx.M3.token_type
  }
  ;
  fx.my = function() {
      return fx.M3.token_type + " " + fx.M3.access_token
  }
  ;
  function dk() {}
  dk.sQ = function(E) {
      var K = new Uint8Array(E)
        , i = 0
        , C = {
          uQ: [],
          j$: [],
          list: []
      }
        , N = O.HJ(K, i);
      i += 2;
      if (N <= 2) {
          return dk.ao5(K)
      }
      var k = O.HJ(K, i);
      i += 2;
      var V = O.zV(K, i, 8);
      i += 8;
      var j = O.n(K, i);
      i += 4;
      if (j > 0)
          C.uQ = dk.af(K, i, j, k, N);
      i += j;
      var a = O.zV(K, i, 8);
      i += 8;
      var e = O.n(K, i);
      i += 4;
      if (e > 0)
          C.j$ = fi.Q2(K, i, e);
      i += e;
      var L = O.zV(K, i, 8);
      i += 8;
      var g = O.n(K, i);
      i += 4;
      if (g > 0) {
          var I = {};
          ds.AZ(K, I, i + 4);
          C.list = I.Brsh.v
      }
      i += g;
      var h = C.list;
      for (var G = 0; G < h.length; G++) {
          eQ.rn.check(h[G].v)
      }
      return C
  }
  ;
  dk.Og = function(E, K) {
      E.v.Nm.v = K
  }
  ;
  dk.ao5 = function(E) {
      var K = {
          uQ: [],
          j$: [],
          list: []
      }
        , i = 0
        , C = O.HJ(E, i);
      i += 2;
      var N = O.HJ(E, i);
      i += 2;
      for (var G = 0; G < N; G++) {
          var k = O.HJ(E, i);
          i += 2;
          var V = O.n(E, i);
          i += 4;
          var j = i;
          if (k == 2) {
              var a = {};
              K.uQ.push(a);
              var e = O.n(E, j);
              j += 4;
              var L = O.HJ(E, j);
              j += 2;
              if (C == 2) {
                  var g = O.T2(E, j);
                  j += 4 + g.length * 2 + 2
              }
              a.id = bl.Eu() + "-d71c-11e5-b1ae-a548a96e5f9f";
              j++;
              j += 8;
              a.g = O.RJ(E, j);
              j += 16;
              var I = O.HJ(E, j);
              j += 2;
              var h = E[j];
              j++;
              a.channel = a3.X8(!1, I, E, a.g.d, a.g.v, j, h);
              var o = eQ.X1(a.id)
                , H = o.Brsh.v;
              H.Dmtr.v.val = a.g.d;
              H.Spcn.v.val = L;
              K.list.push({
                  t: "Objc",
                  v: o
              })
          }
          i += V
      }
      return K
  }
  ;
  dk.fD = function(E) {
      var K = new hB
        , i = 0
        , C = 0;
      O.kI(K, i, 6);
      i += 2;
      O.kI(K, i, 2);
      i += 2;
      O.Fu(K, i, "8BIMsamp");
      i += 8;
      i += 4;
      C = i;
      i = dk.DV(K, i, E.uQ);
      O.VI(K, C - 4, i - C);
      O.Fu(K, i, "8BIMpatt");
      i += 8;
      i += 4;
      C = i;
      i = fi.rz(K, i, E.j$);
      O.VI(K, C - 4, i - C);
      var N = {
          classID: "null",
          Brsh: {
              t: "VlLs",
              v: E.list
          }
      };
      O.Fu(K, i, "8BIMdesc");
      i += 8;
      i += 4;
      C = i;
      O.VI(K, i, 16);
      i += 4;
      i += ds.vy(K, N, i);
      O.VI(K, C - 4, i - C);
      return K.data.slice(0, i).buffer
  }
  ;
  dk.af = function(E, K, i, C, N) {
      var k = O.n
        , V = O.RJ
        , j = K + i
        , a = [];
      while (K < j) {
          var e = {};
          a.push(e);
          var L = k(E, K);
          K += 4;
          var g = K
            , I = O.wm(E, K);
          K += I.length;
          e.id = I.bu;
          if (C == 1) {
              K += 9;
              e.g = V(E, K);
              K += 16
          } else {
              K += 7;
              var h = k(E, K);
              K += 4;
              e.g = V(E, K);
              K += 16;
              var o = k(E, K);
              K += 4;
              K += o * 4;
              var H = k(E, K);
              K += 4;
              var A = k(E, K);
              K += 4;
              var S = V(E, K);
              K += 16
          }
          var v = O.HJ(E, K);
          K += 2;
          var s = E[K];
          K += 1;
          e.channel = a3.X8(!1, v, E, e.g.d, e.g.v, K, s);
          if (L % 4 != 0)
              L += 4 - L % 4;
          K = g + L
      }
      return a
  }
  ;
  dk.DV = function(E, K, i) {
      var C = O.VI
        , N = O.cx;
      for (var G = 0; G < i.length; G++) {
          var k = i[G]
            , V = K + 4
            , a = 56
            , L = 1;
          K += 4;
          O.b4(E, K, k.id);
          K += k.id.length + 2;
          E.BX(K, 1);
          E.data[K] = 1;
          K += 3;
          C(E, K, 3);
          K += 4;
          var j = K;
          K += 4;
          N(E, K, k.g);
          K += 16;
          C(E, K, a);
          K += 4;
          K += a * 4;
          C(E, K - 4, 1);
          var e = K;
          K += 4;
          C(E, K, 8);
          K += 4;
          N(E, K, k.g);
          K += 16;
          O.kI(E, K, 8);
          K += 2;
          E.BX(K, 1);
          E.data[K] = L;
          K++;
          E.BX(K, k.g.X() * 2);
          K = a3.FQ(k.channel, E.data, k.g.d, k.g.v, K, L);
          E.BX(K, 8);
          K += 8;
          var g = K - V;
          C(E, V - 4, g);
          C(E, j, g - 49);
          C(E, e, g - 305);
          if (g % 4 != 0)
              K += 4 - g % 4
      }
      return K
  }
  ;
  function bZ() {}
  bZ.sQ = function(E) {
      var K = new Uint8Array(E)
        , i = []
        , C = 0
        , N = O.HJ(K, C);
      C += 2;
      if (N != 4) {
          throw "Unknown version of curves: " + N
      }
      var k = O.HJ(K, C);
      C += 2;
      for (var G = 0; G < k; G++) {
          var V = bZ.yW(K, C);
          C += 2 + 2 * V.length;
          i.push(V)
      }
      if (C == K.length)
          return i;
      var j = O.zV(K, C, 4);
      C += 4;
      var a = O.HJ(K, C);
      C += 2;
      var e = O.HJ(K, C);
      C += 2;
      if (e != 0)
          throw "extra curves for channels";
      return i
  }
  ;
  bZ.mA = function(E, K, i) {
      var C = K
        , N = []
        , k = E[K];
      K += 3;
      var V = O.n(E, K);
      K += 4;
      for (var G = 0; G < 4; G++) {
          var j = V >>> G & 1;
          if (j) {
              if (k == 0) {
                  var a = bZ.yW(E, K);
                  K += 2 + 2 * a.length
              } else {
                  var a = bZ.ahk(E, K);
                  K += 256
              }
              N.push(a)
          } else
              N.push(k == 0 ? [0, 0, 255, 255] : bZ.a74())
      }
      var e = ef.Sk("curv");
      for (var G = 0; G < 4; G++) {
          if (k == 0) {
              var L = N[G]
                , g = [];
              for (var I = 0; I < L.length; I += 2)
                  g.push(_.Qe.QT(L[I], L[I + 1], !0));
              bZ.RM(e, G, g)
          } else
              bZ.RM(e, G, N[G])
      }
      return e
  }
  ;
  bZ.a74 = function() {
      var E = [];
      for (var G = 0; G < 256; G++)
          E.push(G);
      return E
  }
  ;
  bZ.RM = function(E, K, i) {
      var C = aH.Rc("CrvA", K);
      if (i.length < 256)
          C.Crv = {
              t: "VlLs",
              v: i
          };
      else {
          C.Mpng = {
              t: "VlLs",
              v: []
          };
          for (var G = 0; G < 256; G++)
              C.Mpng.v[G] = {
                  t: "long",
                  v: i[G]
              }
      }
      C = {
          t: "Objc",
          v: C
      };
      var N = E.Adjs.v
        , k = aH.Y5(N, K);
      if (k == -1)
          N.push(C);
      else
          N[k] = C
  }
  ;
  bZ.oD = function(E, K) {
      var i = E.Adjs.v
        , C = aH.Y5(i, K);
      if (C == -1) {
          if (i.length == 0 || i[0].v.Crv)
              return [_.Qe.QT(0, 0, !0), _.Qe.QT(255, 255, !0)];
          var N = [];
          for (var G = 0; G < 256; G++)
              N.push(G);
          return N
      }
      var k = i[C].v
        , V = k.Crv;
      if (V)
          return V.v;
      var N = [];
      for (var G = 0; G < 256; G++)
          N.push(k.Mpng.v[G].v);
      return N
  }
  ;
  bZ.yW = function(E, K) {
      var i = []
        , C = O.HJ(E, K);
      K += 2;
      for (var N = 0; N < C; N++) {
          var k = O.HJ(E, K);
          K += 2;
          var V = O.HJ(E, K);
          K += 2;
          i.push(V, k)
      }
      return i
  }
  ;
  bZ.aeh = function(E, K, i) {
      var C = i.length / 2;
      O.kI(E, K, C);
      K += 2;
      for (var N = 0; N < C; N++) {
          O.kI(E, K, i[N * 2 + 1]);
          K += 2;
          O.kI(E, K, i[N * 2 + 0]);
          K += 2
      }
  }
  ;
  bZ.ahk = function(E, K) {
      var i = [];
      for (var G = 0; G < 256; G++)
          i.push(E[K + G]);
      return i
  }
  ;
  bZ.amx = function(E, K, i) {
      E.BX(K, 256);
      for (var G = 0; G < 256; G++)
          E.data[K + G] = i[G]
  }
  ;
  bZ.RW = function(E, K, i) {
      var C = [];
      for (var G = 0; G < 4; G++) {
          var N = bZ.oD(i, G);
          if (N.length == 256)
              C.push(N);
          else {
              var k = [];
              for (var V = 0; V < N.length; V++)
                  k.push(N[V].v.Hrzn.v, N[V].v.Vrtc.v);
              C.push(k)
          }
      }
      var j = K
        , a = C[0].length == 256 ? 1 : 0;
      E.BX(K, 3);
      E.data[K] = a;
      E.data[K + 1] = 0;
      E.data[K + 2] = 1;
      K += 3;
      O.VI(E, K, 15);
      K += 4;
      for (var G = 0; G < 4; G++) {
          var e = C[G];
          if (a == 0) {
              bZ.aeh(E, K, e);
              K += 2 + 2 * e.length
          } else {
              bZ.amx(E, K, e);
              K += 256
          }
      }
      return K - j
  }
  ;
  function dn() {}
  dn.mA = function(E, K, i) {
      var C = {}
        , N = O.HJ(E, K);
      K += 2;
      C.FX = E[K] == 1;
      K++;
      K++;
      C.bd = [O.Mj(E, K), O.Mj(E, K + 2), O.Mj(E, K + 4)];
      K += 6;
      C.gi = [O.Mj(E, K), O.Mj(E, K + 2), O.Mj(E, K + 4)];
      K += 6;
      C.y8 = [];
      for (var G = 0; G < 6; G++) {
          var k = {};
          k.ew = [O.Mj(E, K), O.Mj(E, K + 2), O.Mj(E, K + 4), O.Mj(E, K + 6)];
          K += 8;
          k.sz = [O.Mj(E, K), O.Mj(E, K + 2), O.Mj(E, K + 4)];
          K += 6;
          C.y8.push(k)
      }
      var V = ef.Sk("hue2")
        , j = C;
      if (V.Clrz == null)
          V.Clrz = {
              t: "bool",
              v: !1
          };
      V.Clrz.v = j.FX;
      for (var G = 0; G < 7; G++) {
          var a = G == 0 ? j.FX ? j.bd : j.gi : j.y8[G - 1];
          dn.RM(V, G, a)
      }
      return V
  }
  ;
  dn.adP = function(E) {
      return {
          classID: "Hst2",
          H: {
              t: "long",
              v: E[0]
          },
          Strt: {
              t: "long",
              v: E[1]
          },
          Lght: {
              t: "long",
              v: E[2]
          }
      }
  }
  ;
  dn.Y5 = function(E, K) {
      for (var G = 0; G < E.length; G++) {
          var i = E[G].v.LclR;
          if (K == 0 && i == null || i != null && i.v == K)
              return G
      }
      return -1
  }
  ;
  dn.RM = function(E, K, i) {
      var C = K == 0 ? i : i.sz
        , N = dn.adP(C);
      if (K != 0) {
          var k = i.ew;
          N.LclR = {
              t: "long",
              v: K
          },
          N.BgnR = {
              t: "long",
              v: k[0]
          };
          N.BgnS = {
              t: "long",
              v: k[1]
          };
          N.EndS = {
              t: "long",
              v: k[2]
          };
          N.EndR = {
              t: "long",
              v: k[3]
          }
      }
      N = {
          t: "Objc",
          v: N
      };
      var V = E.Adjs.v
        , j = dn.Y5(V, K);
      if (j == -1)
          V.push(N);
      else
          V[j] = N
  }
  ;
  dn.oD = function(E, K) {
      var i = E.Adjs.v
        , C = dn.Y5(i, K);
      if (C == -1) {
          if (K == 0)
              return [0, 0, 0];
          else
              return [{
                  ew: [315, 345, 15, 45],
                  sz: [0, 0, 0]
              }, {
                  ew: [15, 45, 75, 105],
                  sz: [0, 0, 0]
              }, {
                  ew: [75, 105, 135, 165],
                  sz: [0, 0, 0]
              }, {
                  ew: [135, 165, 195, 225],
                  sz: [0, 0, 0]
              }, {
                  ew: [195, 225, 255, 285],
                  sz: [0, 0, 0]
              }, {
                  ew: [255, 285, 315, 345],
                  sz: [0, 0, 0]
              }][K - 1]
      }
      var N = i[C].v
        , k = [N.H.v, N.Strt.v, N.Lght.v];
      if (K == 0)
          return k;
      return {
          sz: k,
          ew: [N.BgnR.v, N.BgnS.v, N.EndS.v, N.EndR.v]
      }
  }
  ;
  dn.RW = function(E, K, i) {
      var C = {
          FX: i.Clrz.v,
          y8: []
      };
      C.bd = C.gi = dn.oD(i, 0);
      for (var G = 1; G < 7; G++)
          C.y8.push(dn.oD(i, G));
      var N = 2 + 2 + 12 + 6 * 14
        , k = E.data;
      E.BX(K, N);
      O.PU(k, K, 2);
      K += 2;
      k[K] = C.FX ? 1 : 0;
      K++;
      K++;
      O.vd(k, K + 0, C.bd[0]);
      O.vd(k, K + 2, C.bd[1]);
      O.vd(k, K + 4, C.bd[2]);
      K += 6;
      O.vd(k, K + 0, C.gi[0]);
      O.vd(k, K + 2, C.gi[1]);
      O.vd(k, K + 4, C.gi[2]);
      K += 6;
      for (var G = 0; G < 6; G++) {
          var V = C.y8[G].ew
            , j = C.y8[G].sz;
          O.vd(k, K + 0, V[0]);
          O.vd(k, K + 2, V[1]);
          O.vd(k, K + 4, V[2]);
          O.vd(k, K + 6, V[3]);
          K += 8;
          O.vd(k, K + 0, j[0]);
          O.vd(k, K + 2, j[1]);
          O.vd(k, K + 4, j[2]);
          K += 6
      }
      return N
  }
  ;
  function aH() {}
  aH.sQ = function(E) {
      var K = new Uint8Array(E)
        , i = 2
        , C = [];
      for (var G = 0; G < 29; G++) {
          var N = [];
          C.push(N);
          for (var k = 0; k < 5; k++)
              N.push(O.HJ(K, i + G * 10 + k * 2))
      }
      i += 29 * 10;
      if (i < K.length) {
          var V = O.zV(K, i, 4);
          i += 4;
          var j = O.HJ(K, i);
          i += 2;
          var a = O.HJ(K, i);
          i += 2;
          var e = a - 29;
          for (var G = 0; G < e; G++) {
              var N = [];
              C.push(N);
              for (var k = 0; k < 5; k++)
                  N.push(O.HJ(K, i + G * 10 + k * 2))
          }
      }
      var L = ef.Sk("levl");
      for (var G = 0; G < 4; G++)
          aH.RM(L, G, C[G]);
      return L
  }
  ;
  aH.Rc = function(E, G) {
      var K = ["Cmps", "Rd", "Grn", "Bl"]
        , i = {
          t: "obj ",
          v: [{
              t: "Enmr",
              v: {
                  classID: "Chnl",
                  typeID: "Chnl",
                  enum: K[G]
              }
          }]
      };
      return {
          classID: E,
          Chnl: i
      }
  }
  ;
  aH.Y5 = function(E, K) {
      var i = {
          Cmps: 0,
          Rd: 1,
          Grn: 2,
          Bl: 3
      };
      for (var G = 0; G < E.length; G++) {
          var C = E[G].v
            , N = i[C.Chnl.v[0].v.enum];
          if (N == K)
              return G
      }
      return -1
  }
  ;
  aH.RM = function(E, K, i) {
      var C = aH.Rc("LvlA", K);
      C.Inpt = {
          t: "VlLs",
          v: [{
              t: "long",
              v: i[0]
          }, {
              t: "long",
              v: i[1]
          }]
      };
      C.Otpt = {
          t: "VlLs",
          v: [{
              t: "long",
              v: i[2]
          }, {
              t: "long",
              v: i[3]
          }]
      };
      C.Gmm = {
          t: "doub",
          v: i[4] / 100
      };
      C = {
          t: "Objc",
          v: C
      };
      var N = E.Adjs.v
        , k = aH.Y5(N, K);
      if (k == -1)
          N.push(C);
      else
          N[k] = C
  }
  ;
  aH.oD = function(E, K) {
      var i = [0, 255, 0, 255, 100]
        , C = E.Adjs.v
        , N = aH.Y5(C, K);
      if (N == -1)
          return i;
      var k = C[N].v;
      if (k.Inpt) {
          i[0] = k.Inpt.v[0].v;
          i[1] = k.Inpt.v[1].v
      }
      if (k.Otpt) {
          i[2] = k.Otpt.v[0].v;
          i[3] = k.Otpt.v[1].v
      }
      if (k.Gmm) {
          i[4] = Math.round(k.Gmm.v * 100)
      }
      return i
  }
  ;
  aH.fD = function(E, K) {
      var i = []
        , C = 0;
      for (var G = 0; G < 4; G++)
          i.push(aH.oD(K, G));
      while (i.length < 29)
          i.push([0, 255, 0, 255, 100]);
      E.BX(0, 2 + 10 * 29);
      O.PU(E.data, C, 2);
      C += 2;
      for (var G = 0; G < 29; G++) {
          var N = i[G];
          for (var k = 0; k < 5; k++)
              O.PU(E.data, C + G * 10 + k * 2, N[k])
      }
      C += 29 * 10;
      if (i.length == 29)
          return C;
      E.BX(C, 8 + 10 * (i.length - 29));
      O.EX(E.data, C, "Lvls");
      C += 4;
      O.PU(E.data, C, 3);
      C += 2;
      O.PU(E.data, C, i.length);
      C += 2;
      var V = i.length - 29;
      for (var G = 0; G < V; G++) {
          var N = i[29 + G];
          for (var k = 0; k < 5; k++)
              O.PU(E.data, C + G * 10 + k * 2, N[k])
      }
      C += 10 * V;
      return C
  }
  ;
  function bH() {}
  bH.sQ = function(E) {
      var K = new Uint8Array(E)
        , i = 2
        , C = {
          un: [],
          xX: []
      }
        , N = O.zV(K, i, 4);
      i += 4;
      var k = O.HJ(K, i);
      i += 2;
      var V = O.n(K, i);
      i += 4;
      C.un = fi.Q2(K, i, V);
      i += V;
      var j = O.n(K, i);
      i += 4;
      for (var G = 0; G < j; G++) {
          var a = O.n(K, i);
          i += 4;
          var e = i
            , L = {
              SV: {},
              jw: {}
          };
          C.xX.push(L);
          i += 4;
          i += ds.AZ(K, L.SV, i);
          i += 4;
          i += ds.AZ(K, L.jw, i);
          i = e + a;
          var g = L.jw.blendOptions
            , I = L.jw.Lefx;
          if (g && Object.keys(g.v).length > 1) {}
          if (I) {
              if (I.v.masterFXSwitch == null)
                  I.v.masterFXSwitch = {
                      t: "bool",
                      v: !0
                  };
              cc.ge(I.v)
          }
      }
      return C
  }
  ;
  bH.Og = function(E, K) {
      E.SV.Nm.v = K
  }
  ;
  bH.fD = function(E) {
      var K = new hB
        , i = 0;
      O.kI(K, i, 2);
      i += 2;
      O.Fu(K, i, "8BSL");
      i += 4;
      O.kI(K, i, 3);
      i += 2;
      var C = i;
      i += 4;
      i = fi.rz(K, i, E.un);
      O.VI(K, C, i - C - 4);
      var N = E.xX.length;
      O.VI(K, i, N);
      i += 4;
      for (var G = 0; G < N; G++) {
          i += 4;
          var k = i
            , V = E.xX[G];
          O.VI(K, i, 16);
          i += 4;
          i += ds.vy(K, V.SV, i);
          var j = V.jw.Lefx;
          if (j) {
              V.jw.Lefx = JSON.parse(JSON.stringify(j));
              cc.Ae(V.jw.Lefx.v)
          }
          O.VI(K, i, 16);
          i += 4;
          i += ds.vy(K, V.jw, i);
          if (j)
              V.jw.Lefx = j;
          O.VI(K, k - 4, i - k)
      }
      return K.data.slice(0, i).buffer
  }
  ;
  function cQ() {}
  cQ.mA = function(E, K, i) {
      var C = O.HJ(E, K);
      K += 2;
      var N = {};
      N._O = O.HJ(E, K) == 1;
      K += 2;
      N.hF = [];
      for (var G = 0; G < 10; G++) {
          var k = [];
          N.hF.push(k);
          for (var V = 0; V < 4; V++)
              k.push(O.Mj(E, K + V * 2));
          K += 8
      }
      var j = ef.Sk("selc");
      j.Mthd.v.CrcM = N._O ? "Absl" : "Rltv";
      for (var G = 1; G < 10; G++)
          cQ.RM(j, G - 1, N.hF[G]);
      return j
  }
  ;
  cQ.Fr = "Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
  cQ.Rc = function(E, G) {
      var K = ["Cmps", "Rd", "Grn", "Bl"]
        , i = {
          t: "obj ",
          v: [{
              t: "Enmr",
              v: {
                  classID: "Chnl",
                  typeID: "Chnl",
                  enum: K[G]
              }
          }]
      };
      return {
          classID: E,
          Chnl: i
      }
  }
  ;
  cQ.Y5 = function(E, K) {
      var i = cQ.Fr;
      for (var G = 0; G < E.length; G++) {
          var C = E[G].v
            , N = i.indexOf(C.Clrs.v.Clrs);
          if (N == K)
              return G
      }
      return -1
  }
  ;
  cQ.RM = function(E, K, i) {
      var C = ["Cyn", "Mgnt", "Ylw", "Blck"]
        , N = {
          classID: "ClrC",
          Clrs: {
              t: "enum",
              v: {
                  Clrs: cQ.Fr[K]
              }
          }
      };
      for (var k = 0; k < 4; k++)
          N[C[k]] = {
              t: "UntF",
              v: {
                  type: "#Prc",
                  val: i[k]
              }
          };
      N = {
          t: "Objc",
          v: N
      };
      var V = E.ClrC.v
        , j = cQ.Y5(V, K);
      if (j == -1)
          V.push(N);
      else
          V[j] = N
  }
  ;
  cQ.oD = function(E, K) {
      var i = [0, 0, 0, 0]
        , C = E.ClrC.v
        , N = cQ.Y5(C, K);
      if (N == -1)
          return i;
      var k = ["Cyn", "Mgnt", "Ylw", "Blck"];
      for (var G = 0; G < 4; G++)
          if (C[N].v[k[G]])
              i[G] = C[N].v[k[G]].v.val;
      return i
  }
  ;
  cQ.RW = function(E, K, i) {
      var C = {
          _O: i.Mthd.v.CrcM == "Absl",
          hF: [[0, 0, 0, 0]]
      };
      for (var G = 0; G < 9; G++)
          C.hF.push(cQ.oD(i, G));
      E.BX(K, 84);
      O.PU(E.data, K, 1);
      K += 2;
      O.PU(E.data, K, C._O ? 1 : 0);
      K += 2;
      for (var G = 0; G < 10; G++) {
          var N = C.hF[G];
          for (var k = 0; k < 4; k++)
              O.vd(E.data, K + k * 2, N[k]);
          K += 8
      }
      return 84
  }
  ;
  function dq() {}
  dq.Sk = function() {
      return {
          J8: new h4(0,0,50,50),
          SV: "",
          vA: "play",
          b: _.Y.L8.nu([.1, .1, .9, .5, .1, .9], 0)
      }
  }
  ;
  dq.sQ = function(E) {
      E = new Uint8Array(E);
      var K = 0
        , i = []
        , C = Date.now()
        , N = O.zV(E, 0, 4);
      K += 4;
      var k = O.n(E, K);
      K += 4;
      var V = O.n(E, K);
      K += 4;
      for (var G = 0; G < V; G++) {
          var j = O.T2(E, K);
          K += j.length * 2 + 4 + 2;
          if ((j.length & 1) == 0)
              K += 2;
          K = dq.Iw(E, K, j, i)
      }
      return i
  }
  ;
  dq.Iw = function(E, K, i, C) {
      var N = O.n(E, K);
      K += 4;
      var k = O.n(E, K);
      K += 4;
      var V = K
        , j = O.wm(E, V).bu;
      V += j.length + 1;
      var a = O.RJ(E, V);
      V += 16;
      var e = dq.p1(E, V, k - (V - K))
        , L = _.Y.ZX(e)
        , g = _.$.Rk(L)
        , I = 1 / g.d
        , h = 1 / g.v;
      _.Y.aW(e, new fn(I,0,0,h,-g.x * I,-g.y * h));
      C.push({
          vA: i,
          SV: j,
          b: e,
          J8: a
      });
      K += k;
      return K
  }
  ;
  dq.Og = function(E, K) {
      E.vA = K
  }
  ;
  dq.fD = function(E) {
      var K = new hB
        , i = 0;
      O.Fu(K, i, "cush");
      i += 4;
      O.VI(K, i, 2);
      i += 4;
      O.VI(K, i, E.length);
      i += 4;
      for (var G = 0; G < E.length; G++) {
          var C = E[G]
            , N = C.vA + "\0";
          O.wU(K, i, N);
          i += 4 + N.length * 2;
          if ((N.length & 1) == 1)
              i += 2;
          O.VI(K, i, 1);
          i += 4;
          i += 4;
          var k = i;
          O.b4(K, i, C.SV);
          i += C.SV.length + 1;
          O.cx(K, i, C.J8);
          i += 16;
          K.BX(i, C.b.length * 26);
          dq.Nd(K.data, i, C.b, 1, 1);
          i += C.b.length * 26;
          var V = i - k;
          if ((V & 3) != 0)
              V += 4 - (V & 3);
          O.VI(K, k - 4, V);
          i = k + V
      }
      return K.data.slice(0, i).buffer
  }
  ;
  dq.a2B = function(E) {
      var K = [];
      for (var G = 0; G < E.length; G++) {
          var i = E[G]
            , C = i.type
            , N = {
              type: C
          };
          K.push(N);
          if (C == 6) {} else if (C == 8)
              N.all = i.all;
          else if (C == 0 || C == 3) {
              N.length = i.length;
              N.frule = i.A0;
              N.third = i.n_;
              N.prmA = i.XH;
              N.prmB = i.h6
          } else {
              N.c = [i.ln.x, i.ln.y, i.D.x, i.D.y, i._8.x, i._8.y]
          }
      }
      return K
  }
  ;
  dq.acp = function(E) {
      var K = [];
      for (var G = 0; G < E.length; G++) {
          var i = E[G]
            , C = i.type
            , N = {
              type: C
          };
          K.push(N);
          if (C == 6) {} else if (C == 8)
              N.all = i.all;
          else if (C == 0 || C == 3) {
              N.length = i.length;
              N.A0 = i.frule;
              N.n_ = i.third;
              N.XH = i.prmA;
              N.h6 = i.prmB
          } else {
              var k = i.c;
              N.ln = new bT(k[0],k[1]);
              N.D = new bT(k[2],k[3]);
              N._8 = new bT(k[4],k[5])
          }
      }
      return K
  }
  ;
  dq.p1 = function(E, K, i, C, N) {
      if (C == null)
          C = 1;
      if (N == null)
          N = 1;
      function k(H, A, S) {
          var v = O.a2K(H, A) * S
            , s = Math.round(v);
          return Math.abs(v - s) < 1e-6 ? s : v
      }
      var V = O.Mj
        , j = []
        , a = Math.floor(i / 26);
      for (var G = 0; G < a; G++) {
          var e = K + G * 26
            , L = {}
            , g = 0;
          j.push(L);
          L.type = V(E, e);
          e += 2;
          if (L.type == 6) {
              g = 24
          }
          if (L.type == 8) {
              L.all = V(E, e);
              e += 2;
              g = 22
          }
          if (L.type == 0 || L.type == 3) {
              L.length = V(E, e);
              e += 2;
              L.A0 = V(E, e);
              e += 2;
              L.n_ = V(E, e);
              e += 2;
              L.XH = O.n(E, e);
              e += 4;
              L.h6 = O.n(E, e);
              e += 4;
              g = 10
          }
          if (L.type == 1 || L.type == 2 || L.type == 4 || L.type == 5) {
              var I, h;
              h = k(E, e, N);
              e += 4;
              I = k(E, e, C);
              e += 4;
              L.ln = new bT(I,h);
              h = k(E, e, N);
              e += 4;
              I = k(E, e, C);
              e += 4;
              L.D = new bT(I,h);
              h = k(E, e, N);
              e += 4;
              I = k(E, e, C);
              e += 4;
              L._8 = new bT(I,h);
              g = 0
          }
          for (var o = 0; o < g; o++)
              if (E[e + o] != 0) {
                  console.log("Unexpected non-zero byte!", L, o, E[e + o])
              }
      }
      return j
  }
  ;
  dq.Nd = function(E, K, i, C, N) {
      var k = O.vd
        , V = O.Cv
        , j = i.length;
      for (var G = 0; G < j; G++) {
          var a = K + G * 26
            , e = i[G];
          k(E, a, e.type);
          a += 2;
          if (e.type == 6) {}
          if (e.type == 8)
              k(E, a, e.all);
          if (e.type == 0 || e.type == 3) {
              k(E, a, e.length);
              a += 2;
              k(E, a, e.A0);
              a += 2;
              k(E, a, e.n_);
              a += 2
          }
          if (e.type == 1 || e.type == 2 || e.type == 4 || e.type == 5) {
              V(E, a, e.ln.y / N);
              a += 4;
              V(E, a, e.ln.x / C);
              a += 4;
              V(E, a, e.D.y / N);
              a += 4;
              V(E, a, e.D.x / C);
              a += 4;
              V(E, a, e._8.y / N);
              a += 4;
              V(E, a, e._8.x / C);
              a += 4
          }
      }
  }
  ;
  function b9() {}
  b9.sQ = function(E) {
      var K = new Uint8Array(E)
        , i = []
        , C = 0;
      C = b9.lE(K, C, i);
      if (C + 3 < K.length) {
          i = [];
          C = b9.lE(K, C, i)
      }
      return i
  }
  ;
  b9.lE = function(E, K, i) {
      var C = O.HJ
        , N = O.Mj
        , k = C(E, K);
      K += 2;
      var V = C(E, K);
      K += 2;
      for (var G = 0; G < V; G++) {
          var j = b9.h0(E, K);
          K += 10;
          if (k == 2) {
              j.Qp = O.T2(E, K);
              K += 4 + j.Qp.length * 2 + 2
          }
          i.push(j)
      }
      return K
  }
  ;
  b9.h0 = function(E, K) {
      var i = O.HJ
        , C = O.Mj
        , N = i(E, K)
        , h = null;
      K += 2;
      var k = i(E, K);
      K += 2;
      var V = i(E, K);
      K += 2;
      var j = i(E, K);
      K += 2;
      var a = i(E, K);
      K += 2;
      var e = 1 / 65535
        , L = 255 / 65535
        , g = 100 / 65535
        , I = 255 / 1e4;
      if (N == 0)
          h = {
              h: k * L,
              l: V * L,
              O: j * L
          };
      else if (N == 1) {
          h = _.Np(k * e, V * e, j * e);
          h.h *= 255;
          h.l *= 255;
          h.O *= 255
      } else if (N == 2)
          h = _.V.Gk({
              classID: "CMYC",
              Cyn: {
                  t: "doub",
                  v: 100 - k * g
              },
              Mgnt: {
                  t: "doub",
                  v: 100 - V * g
              },
              Ylw: {
                  t: "doub",
                  v: 100 - j * g
              },
              Blck: {
                  t: "doub",
                  v: 100 - a * g
              }
          });
      else if (N == 7) {
          var o = _.Pb(k / 100, C(E, K - 6) / 100, C(E, K - 4) / 100);
          h = o
      } else if (N == 8) {
          h = {
              h: 255 - k * I,
              l: 255 - V * I,
              O: 255 - j * I
          }
      } else
          throw "e " + N + ", ";
      return h
  }
  ;
  b9.fD = function(E) {
      var K = new hB
        , i = 0
        , C = O.kI;
      C(K, i, 2);
      i += 2;
      C(K, i, E.length);
      i += 2;
      for (var G = 0; G < E.length; G++) {
          var N = E[G];
          K.BX(i, 10);
          b9.Z8(K.data, i, N);
          i += 10;
          var k = (N.Qp ? N.Qp : "") + "\0";
          O.wU(K, i, k);
          i += 4 + k.length * 2
      }
      return K.data.slice(0, i).buffer
  }
  ;
  b9.Og = function(E, K) {
      E.Qp = K
  }
  ;
  b9.Z8 = function(E, K, i) {
      var C = 65535 / 255
        , N = O.PU;
      N(E, K, 0);
      N(E, K + 2, Math.round(i.h * C));
      N(E, K + 4, Math.round(i.l * C));
      N(E, K + 6, Math.round(i.O * C));
      N(E, K + 8, 0)
  }
  ;
  function bo() {}
  bo.sQ = function(E) {
      var K = new Uint8Array(E)
        , i = 4
        , C = {};
      C.$t = O.T2(K, i);
      i += 4 + C.$t.length * 2 + 2;
      C.exp = K[i++] == 1;
      C.DK = [];
      var N = O.n(K, i);
      i += 4;
      for (var G = 0; G < N; G++) {
          var k = {};
          C.DK.push(k);
          k.EL = O.HJ(K, i);
          i += 2;
          k.shift = K[i++] == 1;
          k.a9A = K[i++] == 1;
          k.color = O.HJ(K, i);
          i += 2;
          k.$t = O.T2(K, i);
          i += 4 + k.$t.length * 2 + 2;
          k.exp = K[i++] == 1;
          k.DK = [];
          var ee = O.n(K, i);
          i += 4;
          for (var V = 0; V < ee; V++) {
              var j = {};
              k.DK.push(j);
              j.exp = K[i++] == 1;
              j.Q = K[i++] == 1;
              j.a1$ = K[i++] == 1;
              j.abV = K[i++];
              var a = O.zV(K, i, 4);
              i += 4;
              if (a == "TEXT") {
                  j.bT = bo.eb(K, i);
                  i += 4 + j.bT.length
              } else if (a == "long") {
                  j.bT = O.zV(K, i, 4);
                  i += 4
              } else
                  throw "e";
              j.Ix = bo.eb(K, i);
              i += 4 + j.Ix.length;
              var e = O.Ex(K, i);
              i += 4;
              if (e == -1) {
                  j.v4 = {};
                  var L = ds.AZ(K, j.v4, i);
                  i += L
              }
          }
      }
      console.log(C);
      var g = new Uint8Array(bo.fD(C));
      for (var G = 0; G < g.length; G++)
          if (g[G] != K[G]) {
              console.log(K.length, g.length);
              var I = 4 * (G >>> 2) - 16;
              console.log(O.Vt(K, I, 64));
              console.log(O.Vt(g, I, 64));
              console.log(K.slice(I, I + 64));
              console.log(g.slice(I, I + 64));
              throw G
          }
      return [C]
  }
  ;
  bo.eb = function(E, K) {
      var i = O.n(E, K);
      return O.zV(E, K + 4, i)
  }
  ;
  bo.Yh = function(E, K, i) {
      O.VI(E, K, i.length);
      O.Fu(E, K + 4, i)
  }
  ;
  bo.fD = function(E) {
      var K = new hB
        , i = 0;
      O.VI(K, i, 16);
      i += 4;
      O.wU(K, i, E.$t + "\0");
      i += 4 + E.$t.length * 2 + 2;
      K.BX(i, 1);
      K.data[i++] = E.exp ? 1 : 0;
      var C = E.DK.length;
      O.VI(K, i, C);
      i += 4;
      for (var G = 0; G < C; G++) {
          var N = E.DK[G];
          O.kI(K, i, N.EL);
          i += 2;
          K.BX(i, 2);
          K.data[i++] = N.shift ? 1 : 0;
          K.data[i++] = N.a9A ? 1 : 0;
          O.kI(K, i, N.color);
          i += 2;
          O.wU(K, i, N.$t + "\0");
          i += 4 + N.$t.length * 2 + 2;
          K.BX(i, 1);
          K.data[i++] = N.exp ? 1 : 0;
          var ee = N.DK.length;
          O.VI(K, i, ee);
          i += 4;
          for (var k = 0; k < ee; k++) {
              var V = N.DK[k];
              K.BX(i, 4);
              K.data[i++] = V.exp ? 1 : 0;
              K.data[i++] = V.Q ? 1 : 0;
              K.data[i++] = V.a1$ ? 1 : 0;
              K.data[i++] = V.abV;
              var j = "LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(V.bT) != -1;
              O.Fu(K, i, j ? "long" : "TEXT");
              i += 4;
              if (!j) {
                  bo.Yh(K, i, V.bT);
                  i += 4 + V.bT.length
              } else {
                  O.Fu(K, i, V.bT);
                  i += 4
              }
              bo.Yh(K, i, V.Ix);
              i += 4 + V.Ix.length;
              O.ig(K, i, V.v4 ? -1 : 0);
              i += 4;
              if (V.v4) {
                  var a = ds.vy(K, V.v4, i);
                  i += a
              }
          }
      }
      return K.data.slice(0, i).buffer
  }
  ;
  function as() {}
  as.sQ = function(E) {
      var K = new Uint8Array(E), i = 0, C = O.n(K, i), a;
      i += 4;
      var N = O.zV(K, i, 8);
      i += 8;
      var k = O.n$(K, i);
      i += 4;
      var V = O.n$(K, i);
      i += 4;
      var j = O.n$(K, i);
      i += 4;
      if (C == 2) {
          a = new Float32Array(E,32,E.byteLength - 32 >>> 2)
      } else if (C == 3 || C == 4) {
          a = new Float32Array(V * j * 2);
          var e = 0
            , L = 0
            , g = !0;
          i = C == 3 ? 32 : 16 + 8 + 40;
          while (i < K.length) {
              var I = O.n$(K, i);
              i += 4;
              if (g)
                  L += I;
              else {
                  for (var G = 0; G < I; G++) {
                      a[e + L + G << 1] = O.JC(K, i);
                      a[(e + L + G << 1) + 1] = O.JC(K, i + 4);
                      i += 8
                  }
                  L += I
              }
              g = !g;
              if (I != 0 && L == V) {
                  e += V;
                  L = 0;
                  g = !0;
                  if (e == V * j)
                      break
              }
          }
      } else
          throw "unknown Mesh version: " + C;
      return {
          jx: V,
          w1: j,
          map: a
      }
  }
  ;
  as.c4 = function(E) {
      var K = E.jx
        , i = E.w1
        , C = E.map
        , N = new Uint8Array(32 + i * K * 8 + i * 8)
        , k = 0
        , V = 0;
      O.P0(N, k, 3);
      k += 4;
      O.EX(N, k, "yfqLhseM");
      k += 8;
      O.OW(N, k, 2);
      k += 4;
      O.OW(N, k, K);
      k += 4;
      O.OW(N, k, i);
      k += 4;
      O.OW(N, k, 0);
      k += 4;
      O.OW(N, k, 1);
      k += 4;
      for (var j = 0; j < i; j++) {
          O.OW(N, k, 0);
          k += 4;
          O.OW(N, k, K);
          k += 4;
          for (var a = 0; a < K; a++) {
              O.HI(N, k, C[V]);
              O.HI(N, k + 4, C[V + 1]);
              V += 2;
              k += 8
          }
      }
      return N.buffer
  }
  ;
  function hV() {}
  hV.sQ = function(E) {
      var K = new Uint8Array(E)
        , i = 0
        , C = O.zV(K, i, 4);
      i += 4;
      var N = O.HJ(K, i);
      i += 2;
      var k = O.n(K, i);
      i += 4;
      var V = [];
      for (var G = 0; G < k; G++) {
          var j = O.n(K, i);
          i += 4;
          var a = {
              classID: "ShpC",
              Nm: {
                  t: "TEXT",
                  v: ""
              },
              Crv: {
                  t: "VlLs",
                  v: []
              }
          };
          V.push(a);
          var e = O.T2(K, i);
          a.Nm.v = e;
          i += 4 + e.length * 2 + 2;
          var L = O.HJ(K, i);
          i += 2;
          var g = O.HJ(K, i);
          i += 2;
          for (var I = 0; I < g; I++) {
              var h = _.Qe.QT(0, 0, !0);
              h.v.Vrtc.v = O.HJ(K, i);
              i += 2;
              h.v.Hrzn.v = O.HJ(K, i);
              i += 2;
              a.Crv.v.push(h)
          }
          if (j == 1) {} else if (j == 2) {
              for (var I = 0; I < g; I++) {
                  a.Crv.v[I].v.Cnty.v = K[i] == 1;
                  i += 1
              }
          } else
              throw "error";
          var o = O.n(K, i);
          i += 4;
          var H = O.n(K, i);
          i += 4
      }
      return V
  }
  ;
  hV.Og = function(E, K) {
      E.Nm.v = K
  }
  ;
  hV.fD = function(E) {
      var K = new hB
        , i = 0;
      O.Fu(K, i, "8BFS");
      i += 4;
      O.kI(K, i, 1);
      i += 2;
      O.VI(K, i, E.length);
      i += 4;
      for (var G = 0; G < E.length; G++) {
          O.VI(K, i, 2);
          i += 4;
          var C = E[G];
          O.wU(K, i, C.Nm.v + "\0");
          i += 4 + C.Nm.v.length * 2 + 2;
          O.kI(K, i, 2);
          i += 2;
          var N = C.Crv.v.length;
          O.kI(K, i, N);
          i += 2;
          for (var k = 0; k < N; k++) {
              var V = C.Crv.v[k];
              O.kI(K, i, V.v.Vrtc.v);
              i += 2;
              O.kI(K, i, V.v.Hrzn.v);
              i += 2
          }
          K.BX(i, N);
          for (var k = 0; k < N; k++) {
              K.data[i] = C.Crv.v[k].v.Cnty.v;
              i++
          }
          O.VI(K, i, 0);
          i += 4;
          O.VI(K, i, 0);
          i += 4
      }
      return K.data.slice(0, i).buffer
  }
  ;
  function fi() {}
  fi.sQ = function(E) {
      var K = new Uint8Array(E)
        , i = 4
        , C = O.HJ(K, i);
      i += 2;
      var N = O.n(K, i);
      i += 4;
      var k = [];
      for (var G = 0; G < N; G++) {
          var V = {};
          k.push(V);
          i = fi.iH(K, i, V)
      }
      return k
  }
  ;
  fi.Og = function(E, K) {
      E.name = K
  }
  ;
  fi.fD = function(E) {
      var K = new hB
        , i = 0;
      O.Fu(K, i, "8BPT");
      i += 4;
      O.kI(K, i, 1);
      i += 2;
      O.VI(K, i, E.length);
      i += 4;
      for (var G = 0; G < E.length; G++) {
          i = fi.WN(K, i, E[G])
      }
      return K.data.slice(0, i).buffer
  }
  ;
  fi.Q2 = function(E, K, i) {
      var C = K + i
        , N = [];
      while (K < C) {
          var k = {}
            , V = O.n(E, K);
          K += 4;
          var j = K;
          K = fi.iH(E, K, k);
          if (!k.yG[1].OL())
              N.push(k);
          if (V % 4 != 0)
              V += 4 - V % 4;
          K = j + V
      }
      return N
  }
  ;
  fi.rz = function(E, K, i) {
      for (var G = 0; G < i.length; G++) {
          var C = i[G];
          K += 4;
          var N = K;
          K = fi.WN(E, K, C);
          var k = K - N;
          O.VI(E, N - 4, k);
          if (k % 4 != 0)
              N += 4 - k % 4;
          K = N + k
      }
      return K
  }
  ;
  fi.iH = function(E, K, i) {
      var C = O.n(E, K);
      K += 4;
      if (C != 1)
          alert("Unknown version of pattern");
      var N = O.n(E, K);
      K += 4;
      if (N != 1 && N != 2 && N != 3)
          console.log("Unsupported mode of pattern: " + N);
      var k = O.HJ(E, K);
      K += 2;
      var V = O.HJ(E, K);
      K += 2;
      var j = new h4(0,0,V,k);
      i.name = O.T2(E, K);
      K += 4 + 2 * i.name.length + 2;
      var a = E[K];
      K++;
      i.id = O.zV(E, K, a);
      K += i.id.length;
      var e = -1;
      if (N == 2) {
          e = K;
          K += 3 * 256 + 4
      }
      var L = new _.U0(V * k);
      K = fi.amq(E, K, L);
      if (N == 2) {
          for (var G = 0; G < L.h.length; G++) {
              var g = 3 * L.h[G];
              L.h[G] = E[e + g + 0];
              L.l[G] = E[e + g + 1];
              L.O[G] = E[e + g + 2]
          }
      }
      var I = _.I(j.X() * 4);
      _.aS(L, I);
      i.yG = [I, j];
      return K
  }
  ;
  fi.WN = function(E, K, i) {
      var C = i.yG[0]
        , N = i.yG[1];
      O.VI(E, K, 1);
      K += 4;
      O.VI(E, K, 3);
      K += 4;
      O.kI(E, K, N.v);
      K += 2;
      O.kI(E, K, N.d);
      K += 2;
      O.wU(E, K, i.name + "\0");
      K += 4 + 2 * i.name.length + 2;
      O.JP(E, K, i.id.length);
      K++;
      O.Fu(E, K, i.id);
      K += i.id.length;
      var k = new _.U0(N.X());
      _.nT(C, k);
      K = fi.ael(E, K, k, N);
      return K
  }
  ;
  fi.amq = function(E, K, i) {
      var C = K
        , N = {
          g: null,
          zj: [],
          ajJ: null,
          xI: null
      }
        , k = O.n(E, K);
      K += 4;
      var V = O.n(E, K);
      K += 4;
      N.g = O.RJ(E, K);
      K += 16;
      var j = O.n(E, K);
      K += 4;
      for (var G = 0; G < j + 2; G++) {
          var a = O.n(E, K);
          K += 4;
          if (a == 0)
              continue;
          var e = O.n(E, K);
          K += 4;
          if (e == 0)
              continue;
          var L = O.n(E, K);
          K += 4;
          var g = O.RJ(E, K);
          K += 16;
          var I = O.HJ(E, K);
          K += 2;
          var h = E[K];
          K++;
          var o = a3.X8(!1, L, E, g.d, g.v, K, h);
          if (G < j)
              N.zj.push(o);
          if (G == j)
              N.ajJ = o;
          if (G == j + 1)
              N.xI = o;
          K += e - 23
      }
      if (!N.g.OL()) {
          if (N.zj[0])
              i.h = N.zj[0];
          if (N.zj[1])
              i.l = N.zj[1];
          else
              i.l = N.zj[0].slice(0);
          if (N.zj[2])
              i.O = N.zj[2];
          else
              i.O = N.zj[0].slice(0);
          if (N.xI)
              i.R = N.xI;
          else
              i.R.fill(255)
      }
      return K
  }
  ;
  fi.ael = function(E, K, i, C) {
      var N = K
        , k = {
          g: C,
          zj: [i.h, i.l, i.O],
          ajJ: null,
          xI: i.R
      };
      O.VI(E, K, 3);
      K += 4;
      O.VI(E, K, 0);
      K += 4;
      O.cx(E, K, C);
      K += 16;
      O.VI(E, K, 24);
      K += 4;
      for (var G = 0; G < 24 + 2; G++) {
          var V = K
            , j = G < 3 || G == 25 ? 1 : 0;
          O.VI(E, K, j);
          K += 4;
          if (j == 0)
              continue;
          O.VI(E, K, 0);
          K += 4;
          O.VI(E, K, 8);
          K += 4;
          O.cx(E, K, C);
          K += 16;
          O.kI(E, K, 8);
          K += 2;
          O.JP(E, K, 1, 1);
          K++;
          var a = G < 3 ? k.zj[G] : k.xI;
          E.BX(K, C.X() + 2);
          K = a3.FQ(a, E.data, C.d, C.v, K, 1);
          O.VI(E, V + 4, K - V - 8)
      }
      O.VI(E, N + 4, K - N - 8);
      return K
  }
  ;
  function iF() {}
  iF.sQ = function(E) {
      var K = new Uint8Array(E)
        , i = 0
        , C = O.zV(K, i, 4);
      i += 4;
      var N = O.HJ(K, i);
      i += 2;
      var k = [];
      if (N <= 3) {
          var V = O.HJ(K, i);
          i += 2;
          for (var G = 0; G < V; G++) {
              var j = K[i++]
                , a = O.zV(K, i, j);
              i += j;
              var e = iF.KC(K, i, a)
                , L = e[0];
              i = e[1];
              k.push(L);
              i += 6
          }
      } else {
          var e = {}
            , g = ds.AZ(K, e, i + 4)
            , I = e.GrdL.v;
          for (var G = 0; G < I.length; G++)
              k[G] = I[G].v.Grad.v
      }
      return k
  }
  ;
  iF.Og = function(E, K) {
      E.Nm.v = K
  }
  ;
  iF.fD = function(E) {
      var K = new hB
        , i = 0;
      O.Fu(K, i, "8BGR");
      i += 4;
      O.kI(K, i, 5);
      i += 2;
      O.VI(K, i, 16);
      i += 4;
      var C = {
          classID: "null",
          GrdL: {
              t: "VlLs",
              v: []
          }
      }
        , N = C.GrdL.v;
      for (var G = 0; G < E.length; G++)
          N[G] = {
              t: "Objc",
              v: {
                  classID: "Grdn",
                  __name: "Gradient ",
                  Grad: {
                      t: "Objc",
                      v: E[G]
                  }
              }
          };
      i += ds.vy(K, C, i);
      return K.data.slice(0, i).buffer
  }
  ;
  iF.KC = function(E, K, i) {
      var C = {
          classID: "Grdn",
          Clrs: {
              t: "VlLs",
              v: []
          },
          GrdF: {
              t: "enum",
              v: {
                  GrdF: "CstS"
              }
          },
          Intr: {
              t: "doub",
              v: 4096
          },
          Nm: {
              t: "TEXT",
              v: i
          },
          Trns: {
              t: "VlLs",
              v: []
          }
      }
        , N = O.HJ(E, K);
      K += 2;
      if (N == 0)
          throw "e";
      for (var G = 0; G < N; G++) {
          var k = O.n(E, K)
            , V = O.n(E, K + 4)
            , j = b9.h0(E, K + 8)
            , a = {
              t: "Objc",
              v: {
                  classID: "Clrt",
                  Clr: {
                      t: "Objc",
                      v: {
                          classID: "RGBC",
                          Rd: {
                              t: "doub",
                              v: j.h
                          },
                          Grn: {
                              t: "doub",
                              v: j.l
                          },
                          Bl: {
                              t: "doub",
                              v: j.O
                          }
                      }
                  },
                  Type: {
                      t: "enum",
                      v: {
                          Clry: "UsrS"
                      }
                  },
                  Lctn: {
                      t: "long",
                      v: k
                  },
                  Mdpn: {
                      t: "long",
                      v: V
                  }
              }
          };
          C.Clrs.v.push(a);
          K += 20
      }
      var e = O.HJ(E, K);
      K += 2;
      for (var G = 0; G < e; G++) {
          var k = O.n(E, K)
            , V = O.n(E, K + 4)
            , L = O.HJ(E, K + 8)
            , a = {
              t: "Objc",
              v: {
                  classID: "TrnS",
                  Opct: {
                      t: "UntF",
                      v: {
                          type: "#Prc",
                          val: Math.round(100 * L / 255)
                      }
                  },
                  Lctn: {
                      t: "long",
                      v: k
                  },
                  Mdpn: {
                      t: "long",
                      v: V
                  }
              }
          };
          C.Trns.v.push(a);
          K += 10
      }
      return [C, K]
  }
  ;
  iF.a6N = function(E, K, i) {
      var C = i.Clrs.v.length;
      O.kI(E, K, C);
      K += 2;
      for (var G = 0; G < C; G++) {
          var N = i.Clrs.v[G];
          O.VI(E, K, N.v.Lctn.v);
          O.VI(E, K + 4, N.v.Mdpn.v);
          O.kI(E, K + 8, 0);
          var k = _.V.VQ(_.V.Gk(N.v.Clr.v))
            , V = [k.Rd.v, k.Grn.v, k.Bl.v, 0];
          for (var j = 0; j < 4; j++)
              O.kI(E, K + 10 + j * 2, Math.round(65535 * (V[j] / 255)));
          K += 20
      }
      var a = i.Trns.v.length;
      O.kI(E, K, a);
      K += 2;
      for (var G = 0; G < a; G++) {
          var N = i.Trns.v[G];
          O.VI(E, K, N.v.Lctn.v);
          O.VI(E, K + 4, N.v.Mdpn.v);
          O.kI(E, K + 8, Math.round(255 * N.v.Opct.v.val / 100));
          K += 10
      }
      return K
  }
  ;
  function fJ() {}
  fJ.sQ = function(E) {
      var K = new Uint8Array(E)
        , i = []
        , C = []
        , N = []
        , k = []
        , V = []
        , j = 0
        , a = O.zV(K, j, 4);
      j += 4;
      var e = O.n(K, j);
      j += 4;
      var L = O.n(K, j);
      j += 4;
      while (j < K.length) {
          var g = O.zV(K, j, 4);
          j += 4;
          var I = O.zV(K, j, 4);
          j += 4;
          var h = O.n(K, j);
          j += 4;
          if (I == "tppa") {
              C = fi.Q2(K, j, h);
              j += h
          } else if (I == "tpbd") {
              N = dk.af(K, j, h, 1, 1);
              j += h
          } else if (I == "tptp") {
              var o = O.n(K, j);
              j += 4;
              for (var G = 0; G < o; G++) {
                  var H = O.T2(K, j);
                  j += 6 + H.length * 2;
                  j += 4;
                  var A = {};
                  j += ds.AZ(K, A, j);
                  i.push([H, A])
              }
              while ((j & 3) != 0)
                  j++
          } else if (I == "tpsh") {
              var S = j
                , v = K.slice(j, j + h);
              while (j < S + h) {
                  var s = O.n(K, j);
                  j += 4;
                  j = dq.Iw(K, j, "Shape", k)
              }
              j = S + h
          } else if (I == "tpst") {
              var S = j;
              j += 4;
              while (j < S + h) {
                  var D = O.n(K, j);
                  j += 4;
                  var F = j
                    , y = O.n(K, j);
                  j += 4;
                  var A = {
                      SV: {},
                      jw: {}
                  };
                  V.push(A);
                  j += 4;
                  j += ds.AZ(K, A.SV, j);
                  j += 4;
                  j += ds.AZ(K, A.jw, j);
                  j = F + D;
                  var T = A.jw.Lefx;
                  if (T) {
                      if (T.v.masterFXSwitch == null)
                          T.v.masterFXSwitch = {
                              t: "bool",
                              v: !0
                          };
                      cc.ge(T.v)
                  }
              }
              j = S + h
          } else {
              console.log(K.slice(j - 8, j + 64));
              console.log(O.zV(K, j - 8, 64));
              throw I
          }
      }
      return {
          uQ: N,
          j$: C,
          list: i,
          ajs: k,
          xX: V
      }
  }
  ;
  fJ.Og = function(E, K) {
      E[0] = K
  }
  ;
  fJ.fD = function(E) {
      var K = new hB
        , i = 0;
      O.Fu(K, i, "8BTP");
      i += 4;
      O.VI(K, i, 3);
      i += 4;
      O.VI(K, i, 1);
      i += 4;
      var C = [E.j$, E.uQ, E.list];
      for (var G = 0; G < 3; G++) {
          if (C[G].length == 0)
              continue;
          O.Fu(K, i, "8BIM");
          i += 4;
          var N = ["tppa", "tpbd", "tptp"][G];
          O.Fu(K, i, N);
          i += 4;
          var k = i;
          i += 4;
          if (N == "tppa") {
              i = fi.rz(K, i, E.j$)
          } else if (N == "tpbd") {
              i = dk.DV(K, i, E.uQ)
          } else if (N == "tptp") {
              O.VI(K, i, E.list.length);
              i += 4;
              for (var V = 0; V < E.list.length; V++) {
                  var j = E.list[V];
                  O.wU(K, i, j[0] + "\0");
                  i += 6 + j[0].length * 2;
                  O.VI(K, i, 16);
                  i += 4;
                  i += ds.vy(K, j[1], i)
              }
          }
          O.VI(K, k, i - k - 4);
          while ((i & 3) != 0)
              i++;
          K.BX(i, 0)
      }
      return K.data.slice(0, i).buffer
  }
  ;
  function iA() {}
  iA.sQ = function(E, K) {
      var i = new Uint8Array(E), C;
      if (O.n(i, 0) == i.length)
          C = "icc";
      else if (i[0] == "<".charCodeAt(0))
          C = "look";
      else if (O.V_(i, "LUT_3D_SIZE") != -1)
          C = "cube";
      else
          C = "3DL";
      if (C != "icc") {
          var N = iA.a0I(i, C)
            , k = iA.a0d(N[0], N[1]);
          i = k
      }
      var V = [];
      for (var G = 0; G < i.length; G++)
          V.push(i[G]);
      return [{
          classID: "null",
          Dthr: {
              t: "bool",
              v: !0
          },
          Nm: {
              t: "TEXT",
              v: K ? K : "file.icc"
          },
          lookupType: {
              t: "enum",
              v: {
                  colorLookupType: "abstractProfile"
              }
          },
          profile: {
              t: "tdta",
              v: V
          }
      }]
  }
  ;
  iA.fD = function(E) {
      var K = E[0]
        , i = new Uint8Array(K.profile.v);
      return i.buffer
  }
  ;
  iA.Og = function(E, K) {
      E.Nm.v = K
  }
  ;
  iA.a0d = function(E, K) {
      var i = new hB
        , C = 128;
      i.BX(0, 128);
      var N = [0, 0, 14, 204, 65, 68, 66, 69, 4, 0, 0, 0, 108, 105, 110, 107, 82, 71, 66, 32, 82, 71, 66, 32, 7, 227, 0, 7, 0, 27, 0, 8, 0, 6, 0, 49, 97, 99, 115, 112, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 246, 214, 0, 1, 0, 0, 0, 0, 211, 45, 65, 68, 66, 69, 219, 126, 245, 21, 206, 223, 186, 23, 165, 212, 201, 219, 250, 10, 33, 62];
      for (var G = 0; G < N.length; G++)
          i.data[G] = N[G];
      var k = ["desc", "A2B0"]
        , V = k.length
        , j = 128 + 4 + V * 12;
      O.VI(i, C, V);
      C += 4;
      for (var a = 0; a < V; a++) {
          var e = k[a];
          O.Fu(i, C, e);
          C += 4;
          O.VI(i, C, j);
          C += 4;
          var L = j;
          if (e == "desc") {
              O.Fu(i, L, "mluc");
              L += 4;
              L += 4;
              O.VI(i, L, 1);
              L += 4;
              O.VI(i, L, 12);
              L += 4;
              O.Fu(i, L, "enUS");
              L += 4;
              var g = "ICC by Photopea\0"
                , I = g.length * 2 + 2;
              O.VI(i, L, I);
              L += 4;
              O.VI(i, L, 28);
              L += 4;
              i.BX(L, I);
              for (var G = 0; G < g.length; G++)
                  i.data[L + G * 2 + 1] = g.charCodeAt(G);
              L += I
          }
          if (e == "A2B0") {
              O.Fu(i, L, "mAB ");
              L += 4;
              L += 4;
              i.BX(L, 4);
              i.data[L] = 3;
              i.data[L + 1] = 3;
              L += 4;
              i.BX(L, 4 * 5);
              L += 4 * 3;
              O.VI(i, L, L + 8 - j);
              L += 4;
              L += 4;
              i.BX(L, 20);
              i.data[L] = E;
              i.data[L + 1] = E;
              i.data[L + 2] = E;
              L += 16;
              i.data[L] = 2;
              L += 4;
              var h = E * E * E * 3;
              i.BX(L, h * 2);
              for (var G = 0; G < h; G++)
                  O.PU(i.data, L + G * 2, Math.max(0, Math.min(65535, Math.round(K[G] * 65535))));
              L += h * 2
          }
          var o = L - j;
          while ((o & 3) != 0)
              o++;
          O.VI(i, C, o);
          C += 4;
          j += o
      }
      O.VI(i, 0, j);
      return i.data.slice(0, j)
  }
  ;
  iA.a0I = function(E, K) {
      K = "LUTFormat" + K.toUpperCase();
      var i = []
        , C = 0
        , N = O.Yo(E, 0, E.length)
        , k = "";
      for (var G = 0; G < E.length && k == ""; G++) {
          if (E[G] == 10)
              k = "\n";
          else if (E[G] == 13) {
              k = "\r";
              if (E[G + 1] == 10)
                  k += "\n"
          }
      }
      if (K == "LUTFormatCUBE") {
          var V = N.split(k);
          for (var G = 0; G < V.length; G++) {
              if (V[G] == "" || V[G][0] == "#")
                  continue;
              var j = V[G].split(" ")
                , a = j[0];
              if (a == "LUT_3D_SIZE") {
                  C = parseInt(j[1]);
                  continue
              }
              if (["TITLE", "DOMAIN_MIN", "DOMAIN_MAX"].indexOf(a) != -1)
                  continue;
              i.push(parseFloat(j[0]), parseFloat(j[1]), parseFloat(j[2]))
          }
          i = iA.jm(C, i)
      } else if (K == "LUTFormat3DL") {
          var V = N.split(k)
            , e = 1 / 4095;
          for (var G = 0; G < V.length; G++) {
              var L = V[G];
              if (L == "" || L == "3DMESH" || L.startsWith("Mesh") || L[0] == "#")
                  continue;
              var j = L.split(" ")
                , a = j[0];
              if (C == 0) {
                  C = j.length;
                  continue
              }
              i.push(parseFloat(j[0]) * e, parseFloat(j[1]) * e, parseFloat(j[2]) * e)
          }
      } else if (K == "LUTFormatLOOK") {
          var g = new DOMParser
            , I = g.parseFromString(N, "text/xml")
            , h = I.getElementsByTagName("LUT")[0]
            , o = h.children[0].textContent;
          C = parseInt(JSON.parse(o));
          var H = h.children[1].textContent;
          H = H.replace(/"/g, "").replace(/\s/g, "");
          var A = 3 * C * C * C
            , S = A * 4
            , v = new Uint8Array(S);
          for (var G = 0; G < S; G++) {
              var s = H.charCodeAt(G * 2)
                , D = H.charCodeAt(G * 2 + 1)
                , F = s < 58 ? s - 48 : s - 55
                , y = D < 58 ? D - 48 : D - 55;
              v[G] = (F << 4) + y
          }
          for (var G = 0; G < A; G++)
              i.push(O.JC(v, G << 2));
          i = iA.jm(C, i)
      } else
          throw K;
      return [C, i]
  }
  ;
  iA.alr = function(E, K, i) {
      var C = ["#Created by www.Photopea.com", "TITLE \"" + i + "\"", "", "#LUT size", "LUT_3D_SIZE " + K, "", "#data domain", "DOMAIN_MIN 0.0 0.0 0.0", "DOMAIN_MAX 1.0 1.0 1.0", "", "#LUT data points"]
        , N = 6;
      for (var G = 0; G < E.length; G += 3) {
          C.push(E[G].toFixed(N) + " " + E[G + 1].toFixed(N) + " " + E[G + 2].toFixed(N))
      }
      C.push("");
      return O.xm(C.join("\n")).buffer
  }
  ;
  iA.jm = function(E, K) {
      var i = []
        , C = E * E * E;
      for (var G = 0; G < C; G++)
          i.push(0, 0, 0);
      for (var N = 0; N < E; N++)
          for (var k = 0; k < E; k++)
              for (var V = 0; V < E; V++) {
                  var G = 3 * (V + k * E + N * E * E)
                    , j = 3 * (N + k * E + V * E * E);
                  i[j] = K[G];
                  i[j + 1] = K[G + 1];
                  i[j + 2] = K[G + 2]
              }
      return i
  }
  ;
  function ds() {}
  ds.AZ = function(E, K, i, C, N) {
      var k = i, V;
      if (N == null)
          N = 0;
      var j = O.n(E, i);
      if (j == 0) {
          V = "";
          i += 4
      } else {
          V = O.T2(E, i);
          i += 4 + 2 * V.length + 2
      }
      if (V != "")
          K.__name = V;
      K.classID = ds.to(E, i);
      if (C)
          console.log("\t".repeat(N), "- reading descriptor", K.classID, i);
      i += ds.ii(E, i);
      var a = O.Ex(E, i);
      i += 4;
      for (var G = 0; G < a; G++) {
          var e = ds.to(E, i);
          i += ds.ii(E, i);
          var L = ds.Cl(E, i, C, N);
          K[e] = L;
          i += L.size;
          delete L.size
      }
      return i - k
  }
  ;
  ds.vy = function(E, K, i, C) {
      var N = i
        , k = K.__name;
      if (k == null)
          k = "";
      k += "\0";
      O.wU(E, i, k);
      i += 4 + 2 * k.length;
      ds.ul(E, i, K.classID);
      i += ds.ii(E.data, i);
      O.ig(E, i, Object.keys(K).length - 1 - (K.__name == null ? 0 : 1));
      i += 4;
      for (var V in K) {
          if (V == "classID")
              continue;
          if (V == "__name")
              continue;
          ds.ul(E, i, V);
          i += ds.ii(E.data, i);
          i += ds._J(E, i, K[V])
      }
      return i - N
  }
  ;
  ds.Cl = function(E, K, i, C) {
      var N = K
        , k = O.zV(E, K, 4);
      K += 4;
      var V = {
          size: 0,
          t: k,
          v: null
      };
      if (i)
          console.log("\t".repeat(C), "reading key", k, N);
      switch (k) {
      case "obj ":
      case "VlLs":
          V.v = [];
          var j = O.n(E, K);
          K += 4;
          for (var G = 0; G < j; G++) {
              var a = ds.Cl(E, K, i, C + 1);
              K += a.size;
              delete a.size;
              V.v.push(a)
          }
          break;
      case "UntF":
          V.v = {
              type: O.zV(E, K, 4),
              val: O.AN(E, K + 4)
          };
          K += 12;
          break;
      case "doub":
          V.v = O.AN(E, K);
          K += 8;
          break;
      case "bool":
          V.v = E[K] == 1;
          K += 1;
          break;
      case "long":
          V.v = O.Ex(E, K);
          K += 4;
          break;
      case "comp":
          V.v = O.Ex(E, K + 4);
          K += 8;
          break;
      case "Objc":
          V.v = {};
          var e = ds.AZ(E, V.v, K, i, C + 1);
          K += e;
          break;
      case "TEXT":
          var L = O.n(E, K);
          if (L == 0) {
              V.v = "";
              K += 4
          } else {
              V.v = O.T2(E, K);
              K += 4 + V.v.length * 2 + 2
          }
          break;
      case "enum":
          var g = ds.to(E, K);
          K += ds.ii(E, K);
          var I = ds.to(E, K);
          K += ds.ii(E, K);
          V.v = {};
          V.v[g] = I;
          break;
      case "tdta":
          var h = O.Ex(E, K);
          K += 4;
          V.v = [];
          for (var G = 0; G < h; G++)
              V.v.push(E[K + G]);
          K += h;
          break;
      case "ObAr":
          var o = O.n(E, K);
          K += 4;
          var H = O.T2(E, K);
          K += 4 + 2 * H.length + 2;
          if (H != "")
              throw H;
          var A = ds.to(E, K);
          K += 4 + Math.max(4, A.length);
          V.v = {
              classID: A,
              arr: []
          };
          var S = O.n(E, K);
          K += 4;
          for (var G = 0; G < S; G++) {
              var A = ds.to(E, K);
              K += 4 + Math.max(4, A.length);
              var g = O.zV(E, K, 4);
              K += 4;
              var v = O.zV(E, K, 4);
              K += 4;
              var s = {
                  id: A,
                  type: g,
                  uID: v,
                  arr: []
              };
              V.v.arr.push(s);
              var D = O.n(E, K, 4);
              K += 4;
              for (var F = 0; F < D; F++) {
                  var y = O.AN(E, K);
                  K += 8;
                  s.arr.push(y)
              }
          }
          break;
      case "Pth ":
          var T = K
            , h = O.n(E, K);
          K += 4;
          var Q = O.zV(E, K, 4);
          K += 4;
          var B = O.n$(E, K);
          K += 4;
          var r = O.aa2(E, K);
          K += 4 + r.length * 2;
          V.v = {
              sig: Q,
              pth: r
          };
          break;
      case "Clss":
      case "type":
      case "rele":
          var r = O.T2(E, K);
          K += 4 + r.length * 2 + 2;
          var J = ds.to(E, K);
          K += 4 + Math.max(4, J.length);
          V.v = {
              classID: J
          };
          if (r != "")
              V.v.__name = r;
          if (k == "rele") {
              V.v.val = O.Ex(E, K);
              K += 4
          }
          break;
      case "prop":
      case "Enmr":
      case "indx":
      case "name":
          var m = ds.Wc[k]
            , r = O.T2(E, K);
          K += 4 + r.length * 2 + 2;
          if (r.length != 0) {
              console.log(k, r);
              throw "e"
          }
          V.v = {};
          for (var G = 0; G < m.length; G++) {
              var J = ds.to(E, K);
              K += 4 + Math.max(4, J.length);
              V.v[m[G]] = J
          }
          if (k == "name") {
              var r = O.T2(E, K);
              K += 4 + r.length * 2 + 2;
              V.v.val = r
          }
          if (k == "indx") {
              V.v.val = O.n(E, K);
              K += 4
          }
          break;
      case "alis":
          var h = O.n(E, K);
          K += 4;
          V.v = O.zV(E, K, h);
          K += h;
          break;
      default:
          {
              console.log("unknown oskey: " + k + ", " + N);
              throw "e";
              return V
          }
      }
      if (i) {
          console.log("\t".repeat(C), V.v);
          console.log("\t".repeat(C), "======", K)
      }
      V.size = K - N;
      return V
  }
  ;
  ds.Wc = {
      name: ["classID"],
      prop: ["classID", "keyID"],
      Enmr: ["classID", "typeID", "enum"],
      indx: ["classID"]
  };
  ds._J = function(E, K, i) {
      var C = K
        , N = i.t;
      i = i.v;
      O.Fu(E, K, N);
      K += 4;
      switch (N) {
      case "obj ":
      case "VlLs":
          O.ig(E, K, i.length);
          K += 4;
          for (var k = 0; k < i.length; k++) {
              var V = ds._J(E, K, i[k]);
              K += V
          }
          break;
      case "UntF":
          O.Fu(E, K, i.type);
          O.fF(E, K + 4, i.val);
          K += 12;
          break;
      case "doub":
          O.fF(E, K, i);
          K += 8;
          break;
      case "bool":
          O.JP(E, K, i ? 1 : 0, 1);
          K += 1;
          break;
      case "long":
          O.ig(E, K, i);
          K += 4;
          break;
      case "comp":
          O.ig(E, K + 4, i);
          K += 8;
          break;
      case "Objc":
          var V = ds.vy(E, i, K);
          K += V;
          break;
      case "TEXT":
          O.wU(E, K, i + "\0");
          K += 4 + i.length * 2 + 2;
          break;
      case "enum":
          var j = Object.keys(i)[0]
            , a = i[j];
          ds.ul(E, K, j);
          K += ds.ii(E.data, K);
          ds.ul(E, K, a);
          K += ds.ii(E.data, K);
          break;
      case "tdta":
          O.VI(E, K, i.length);
          K += 4;
          O.si(E, K, i);
          K += i.length;
          break;
      case "ObAr":
          O.VI(E, K, i.arr[0].arr.length);
          K += 4;
          O.wU(E, K, "\0");
          K += 6;
          ds.ul(E, K, i.classID);
          K += 4 + Math.max(4, i.classID.length);
          O.VI(E, K, i.arr.length);
          K += 4;
          for (var G = 0; G < i.arr.length; G++) {
              var e = i.arr[G];
              ds.ul(E, K, e.id);
              K += 4 + Math.max(4, e.id.length);
              O.Fu(E, K, e.type);
              K += 4;
              O.Fu(E, K, e.uID);
              K += 4;
              O.VI(E, K, e.arr.length);
              K += 4;
              for (var k = 0; k < e.arr.length; k++) {
                  O.fF(E, K, e.arr[k]);
                  K += 8
              }
          }
          break;
      case "Pth ":
          var L = i.pth.length * 2 + 4 + 8;
          O.VI(E, K, L);
          K += 4;
          O.Fu(E, K, i.sig);
          K += 4;
          O.S3(E, K, L);
          K += 4;
          O.alj(E, K, i.pth);
          K += i.pth.length * 2 + 4;
          break;
      case "Clss":
      case "type":
      case "rele":
          var g = i.__name;
          if (g == null)
              g = "";
          O.wU(E, K, g + "\0");
          K += 4 + g.length * 2 + 2;
          var I = i.classID;
          ds.ul(E, K, I);
          K += 4 + Math.max(4, I.length);
          if (N == "rele") {
              O.ig(E, K, i.val);
              K += 4
          }
          break;
      case "prop":
      case "Enmr":
      case "indx":
      case "name":
          var h = ds.Wc[N];
          O.VI(E, K, 1);
          K += 6;
          for (var G = 0; G < h.length; G++) {
              var I = i[h[G]];
              ds.ul(E, K, I);
              K += 4 + Math.max(4, I.length)
          }
          if (N == "name") {
              O.wU(E, K, i.val + "\0");
              K += 4 + i.val.length * 2 + 2
          }
          if (N == "indx") {
              O.VI(E, K, i.val);
              K += 4
          }
          break;
      case "alis":
          var L = i.length;
          O.VI(E, K, L);
          K += 4;
          O.Fu(E, K, i);
          K += L;
          break;
      default:
          console.log("unknown oskey: " + N);
          K = C;
          break
      }
      return K - C
  }
  ;
  ds.to = function(E, K) {
      var i = O.Ex(E, K);
      if (i > 1e3)
          throw "e";
      if (i == 0)
          i = 4;
      return O.zV(E, K + 4, i).trim()
  }
  ;
  ds.ii = function(E, K) {
      var i = O.Ex(E, K);
      return i == 0 ? 8 : 4 + i
  }
  ;
  ds.ul = function(E, K, i) {
      var C = "warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow trim then else".split(" ")
        , N = 4 < i.length || C.indexOf(i) != -1;
      O.ig(E, K, N ? i.length : 0);
      O.Fu(E, K + 4, i);
      if (i.length < 4 && !N) {
          var k = "";
          for (var G = i.length; G < 4; G++)
              k += " ";
          O.Fu(E, K + 4 + i.length, k)
      }
  }
  ;
  ds.ahg = function(E) {
      var K = {};
      for (var i in E) {
          if (i == "classID")
              K[i] = E[i];
          else if (i == "__name")
              K[i] = E[i];
          else
              K[i] = ds.Wd(E[i])
      }
      return K
  }
  ;
  ds.Wd = function(E) {
      if (E.yH == "Objc")
          return ds.ahg(E.v);
      else if (E.yH == "VlLs") {
          var K = [];
          for (var G = 0; G < E.v.length; G++)
              K.push(ds.Wd(E.v[G]));
          return K
      } else if (E.yH == "UntF")
          return E.v.val;
      else
          return E.v
  }
  ;
  function cc() {}
  cc.IE = function(E, K, i, C, N, k) {
      while (K < i) {
          var V = O.zV(E, K, 4);
          K += 4;
          if (V != "8BIM" && V != "8B64") {
              console.log("layer information signature error! " + V, "PSB = " + N);
              alert("Error in PSD file: wrong signature.");
              return i
          }
          var j = O.zV(E, K, 4);
          K += 4;
          var a = O.Ex(E, K);
          K += 4;
          if (N && "LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(j) != -1) {
              a = a << 32 | O.Ex(E, K);
              K += 4
          }
          if (N && ["pths"].indexOf(j) != -1) {
              a = a << 32 | O.Ex(E, K);
              K += 4
          }
          var e = ["lrFX", "PlLd"];
          if (e.indexOf(j) != -1) {
              if (a % 4 != 0)
                  a += 4 - a % 4;
              K += a;
              continue
          }
          switch (j) {
          case "iOpa":
              C[j] = E[K];
              break;
          case "brst":
              C[j] = [1, 1, 1];
              for (var G = 0; G < a; G += 4)
                  C[j][O.n(E, K + G)] = 0;
              break;
          case "knko":
              C[j] = E[K];
              break;
          case "infx":
              C[j] = E[K];
              break;
          case "clbl":
              C[j] = E[K];
              break;
          case "lmgm":
              C[j] = E[K];
              break;
          case "vmgm":
              C[j] = E[K];
              break;
          case "lyid":
              C[j] = O.n(E, K);
              break;
          case "lsct":
              C[j] = {
                  type: O.n(E, K)
              };
              if (a >= 12)
                  C[j].SI = O.zV(E, K + 8, 4);
              break;
          case "lsdk":
              C.lsct = {
                  type: O.n(E, K)
              };
              break;
          case "lyvr":
              C[j] = O.n(E, K);
              break;
          case "lnsr":
              var L = {
                  artb: 1,
                  bgnd: 1,
                  cont: 1,
                  layr: 1,
                  lset: 1,
                  rend: 1,
                  shap: 1,
                  user: 1,
                  ____: null
              };
              C[j] = O.zV(E, K, 4);
              break;
          case "lspf":
              C[j] = O.n(E, K);
              break;
          case "lclr":
              C[j] = O.HJ(E, K);
              break;
          case "luni":
              C[j] = O.uh(E, K);
              break;
          case "fxrp":
              C[j] = new bT(O.AN(E, K),O.AN(E, K + 8));
              break;
          case "artb":
          case "artd":
              C[j] = {};
              ds.AZ(E, C[j], K + 4);
              break;
          case "SoCo":
              C[j] = {};
              ds.AZ(E, C[j], K + 4);
              break;
          case "GdFl":
              C[j] = {};
              ds.AZ(E, C[j], K + 4);
              cc.tp(C[j], j);
              break;
          case "PtFl":
              C[j] = {};
              ds.AZ(E, C[j], K + 4);
              cc.tp(C[j], j);
              break;
          case "CgEd":
              var g = C.brit = ef.Sk("brit")
                , I = {};
              ds.AZ(E, I, K + 4);
              g.Brgh.v = I.Brgh ? I.Brgh.v : 0;
              g.Cntr.v = I.Cntr ? I.Cntr.v : 0;
              g.useLegacy.v = I.useLegacy ? I.useLegacy.v : 0;
              break;
          case "brit":
              if (C.brit == null) {
                  var g = C.brit = ef.Sk("brit")
                    , I = {};
                  g.Brgh.v = O.Mj(E, K);
                  g.Cntr.v = O.Mj(E, K + 2);
                  g.useLegacy.v = !1
              }
              break;
          case "levl":
              var h = E.buffer.slice(K, K + a);
              C[j] = aH.sQ(h);
              break;
          case "curv":
              C[j] = bZ.mA(E, K, a);
              break;
          case "expA":
              var o = O.HJ(E, K)
                , H = C[j] = ef.Sk("expA");
              H.Exps.v = O.qE(E, K + 2);
              H.Ofst.v = O.qE(E, K + 6);
              H.gammaCorrection.v = O.qE(E, K + 10);
              break;
          case "vibA":
              C[j] = {};
              ds.AZ(E, C[j], K + 4);
              break;
          case "hue2":
              C[j] = dn.mA(E, K, a);
              break;
          case "blnc":
              var H = C[j] = ef.Sk(j);
              H.PrsL.v = E[K + 18] == 1;
              var A = ["ShdL", "MdtL", "HghL"];
              for (var G = 0; G < 3; G++)
                  for (var S = 0; S < 3; S++)
                      H[A[G]].v[S].v = O.Mj(E, K + G * 6 + S * 2);
              break;
          case "blwh":
              var v = {};
              ds.AZ(E, v, K + 4);
              var H = ef.Sk(j)
                , s = "Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
              for (var G = 0; G < s.length; G++) {
                  H[s[G]] = v[s[G]];
                  delete v[s[G]]
              }
              C[j] = H;
              break;
          case "phfl":
              var H = C[j] = ef.Sk(j)
                , D = H.Clr.v
                , o = O.HJ(E, K);
              if (o == 3) {
                  var F = [O.n(E, K + 2), O.n(E, K + 6), O.n(E, K + 10)]
                    , y = 32768
                    , T = _.gb(F[0] / y, F[1] / y, F[2] / y);
                  D.Lmnc.v = T.Ym;
                  D.A.v = T.R;
                  D.B.v = T.O
              }
              if (o == 2) {
                  var Q = O.HJ(E, K + 2);
                  if (Q != 7)
                      throw "e";
                  D.Lmnc.v = O.Mj(E, K + 4) / 100;
                  D.A.v = O.Mj(E, K + 6) / 100;
                  D.B.v = O.Mj(E, K + 8) / 100
              }
              var B = K + 2 + (o == 3 ? 12 : 10);
              H.Dnst.v = O.n(E, B);
              B += 4;
              H.PrsL.v = E[B] == 1;
              break;
          case "mixr":
              var r = {
                  jE: O.HJ(E, K + 2) == 1,
                  G: []
              };
              for (var G = 0; G < 20; G++)
                  r.G.push(O.Mj(E, K + 4 + G * 2));
              C[j] = gM.IW(r);
              break;
          case "clrL":
          case "rplc":
              C[j] = {};
              ds.AZ(E, C[j], K + 6);
              break;
          case "nvrt":
              C[j] = {};
              break;
          case "post":
              C[j] = ef.Sk("post");
              C[j].Lvls.v = O.HJ(E, K);
              break;
          case "thrs":
              C[j] = ef.Sk("thrs");
              C[j].Lvl.v = O.HJ(E, K);
              break;
          case "grdm":
              var J = {
                  rev: E[K + 2] == 1,
                  alZ: E[K + 3] == 1
              }
                , m = K + 4
                , x = O.uh(E, m);
              m += 4 + x.length * 2;
              var R = iF.KC(E, m, x)
                , b = R[0];
              m = R[1];
              var z = O.HJ(E, m);
              m += 2;
              b.Intr.v = O.HJ(E, m);
              m += 2;
              var $ = O.HJ(E, m);
              m += 2;
              J.mode = O.HJ(E, m);
              m += 2;
              J.cX = O.n(E, m);
              m += 4;
              J.aji = O.HJ(E, m) == 1;
              m += 2;
              J.aml = O.HJ(E, m) == 1;
              m += 2;
              J.aiX = O.n(E, m);
              m += 4;
              J.a7b = O.HJ(E, m);
              m += 2;
              J.s8 = [];
              for (var G = 0; G < 4; G++)
                  J.s8.push(O.HJ(E, m + G * 2));
              m += 8;
              J.Xn = [];
              for (var G = 0; G < 4; G++)
                  J.Xn.push(O.HJ(E, m + G * 2));
              m += 8;
              var P = O.HJ(E, m);
              m += 2;
              var t = ef.Sk("grdm");
              t.Rvrs.v = J.rev;
              t.Grad.v = b;
              C[j] = t;
              break;
          case "selc":
              C[j] = cQ.mA(E, K, a);
              break;
          case "vmsk":
          case "vsms":
              var X = C.vmsk = new U.ql
                , Z = O.Ex(E, K + 4)
                , gl = (Z >> 0 & 1) == 1;
              X.Rq = (Z >> 1 & 1) == 0;
              X.isEnabled = (Z >> 2 & 1) == 0;
              X.b = dq.p1(E, K + 8, a - 8, k.d, k.v);
              break;
          case "shmd":
              C[j] = {};
              var f = O.n(E, K)
                , B = K + 4;
              for (var G = 0; G < f; G++) {
                  var V = O.zV(E, B, 4);
                  B += 4;
                  var cY = O.zV(E, B, 4);
                  B += 4;
                  var fC = E[B];
                  B++;
                  if (Math.max(E[B], E[B + 1], E[B + 2]) != 0)
                      throw "e";
                  B += 3;
                  var hi = O.n(E, B);
                  B += 4;
                  if (cY == "cust" || cY == "cmls" || cY == "extn" || cY == "mlst") {
                      var es = O.n(E, B);
                      if (es != 16)
                          B += 4;
                      if (O.n(E, B) == 16) {
                          var v = {};
                          ds.AZ(E, v, B + 4, !1);
                          C[j][cY] = v;
                          if (cY == "cmls")
                              hn.Tu.acx(C[j][cY])
                      }
                  } else {
                      console.log("unknown shmd key: " + cY + ", size: " + hi)
                  }
                  B += hi
              }
              break;
          case "shpa":
              var o = O.n(E, K)
                , W = O.n(E, K + 4);
              if (W != 0)
                  console.log("some patterns present!");
              break;
          case "TySh":
              var d = C[j] = {}
                , o = O.HJ(E, K);
              d.m = O.m$(E, K + 2);
              var fM = O.HJ(E, K + 2 + 48);
              d.al = {};
              var n = ds.AZ(E, d.al, K + 56)
                , ax = cO.JG();
              for (var d_ in ax)
                  if (d.al[d_] == null)
                      d.al[d_] = ax[d_];
              d.xA = {};
              var cm = ds.AZ(E, d.xA, K + 56 + n + 6);
              d.u9 = O.agE(E, K + 56 + n + 6 + cm);
              d.Ou = eE.sQ(d.al.EngineData.v);
              cO.ank(d.Ou.EngineDict.StyleRun.RunArray);
              if (d.Ou.ResourceDict == null)
                  d.Ou.ResourceDict = JSON.parse(JSON.stringify(d.Ou.DocumentResources));
              delete d.al.EngineData;
              break;
          case "lfx2":
          case "lmfx":
          case "lfxs":
              var c4 = O.n(E, K)
                , ch = O.n(E, K + 4);
              C.lmfx = {};
              var n = ds.AZ(E, C.lmfx, K + 8);
              cc.ge(C.lmfx);
              break;
          case "FMsk":
              C[j] = O.Xe(E, K, a);
              break;
          case "Txt2":
              C[j] = {};
              C[j].raw = O.Xe(E, K, a);
              C[j].lc = cK.sQ(C[j].raw);
              break;
          case "Patt":
              C[j] = fi.Q2(E, K, a);
              break;
          case "SoLd":
              var hQ = O.zV(E, K, 4)
                , em = O.n(E, K + 4)
                , ag = O.n(E, K + 8);
              C[j] = {};
              var am = ds.AZ(E, C[j], K + 12);
              if (C[j].nonAffineTransform == null)
                  C[j].nonAffineTransform = JSON.parse(JSON.stringify(C[j].Trnf));
              if (C[j].Impr == null)
                  C[j].Impr = {
                      t: "Objc",
                      v: {
                          __name: "None",
                          classID: "none"
                      }
                  };
              break;
          case "vstk":
          case "pths":
              var em = O.n(E, K);
              C[j] = {};
              var am = ds.AZ(E, C[j], K + 4);
              break;
          case "vscg":
              var cY = O.zV(E, K, 4)
                , em = O.n(E, K + 4);
              C[cY] = {};
              var am = ds.AZ(E, C[cY], K + 8);
              cc.tp(C[cY], cY);
              break;
          case "vogk":
              var bK = O.n(E, K)
                , em = O.n(E, K + 4);
              C[j] = {};
              var am = ds.AZ(E, C[j], K + 8);
              C[j] = C[j].keyDescriptorList.v;
              for (var G = 0; G < C[j].length; G++) {}
              break;
          case "lnk2":
          case "lnkD__":
          case "lnk3__":
              C[j] = [];
              var m = K;
              while (m < K + a) {
                  var ei = new U.CK;
                  C[j].push(ei);
                  var $ = O.D4(E, m);
                  m += 8;
                  var dL = m;
                  ei.type = O.zV(E, m, 4);
                  m += 4;
                  if (ei.type != "liFD") {
                      alert("Unknown Linked Layer type: " + ei.type);
                      break;
                      throw ei.type
                  }
                  ei.Aa = O.n(E, m);
                  m += 4;
                  var fh = O.wm(E, m);
                  m += 1 + fh.bu.length;
                  ei.V3 = fh.bu;
                  ei.hS = O.T2(E, m);
                  m += 4 + ei.hS.length * 2 + 2;
                  ei.K8 = O.zV(E, m, 4);
                  m += 4;
                  ei.Xy = O.zV(E, m, 4);
                  m += 4;
                  var eu = O.D4(E, m);
                  m += 8;
                  ei.open = E[m];
                  m += 1;
                  if (ei.open != 0) {
                      var hf = {}
                        , n = ds.AZ(E, hf, m + 4);
                      if (n % 4 != 0)
                          n += 4 - n % 4;
                      console.log(hf);
                      m += n + 4
                  }
                  ei.open = 0;
                  ei.raw = O.Xe(E, m, eu);
                  m = dL + $;
                  if ($ % 4 != 0)
                      m += 4 - $ % 4
              }
              break;
          case "FEid":
              var m = K;
              C[j] = [];
              var iS = m + a
                , o = O.n(E, m);
              m += 4;
              while (m < iS) {
                  m += 4;
                  var $ = O.n(E, m);
                  m += 4;
                  var R = {};
                  C[j].push(R);
                  R.id = O.wm(E, m).bu;
                  m += R.id.length + 1;
                  var o = O.n(E, m);
                  m += 4;
                  m += 4;
                  var aI = O.n(E, m);
                  m += 4;
                  R.rect = O.RJ(E, m);
                  m += 16;
                  var gn = O.n(E, m);
                  m += 4;
                  var ce = O.n(E, m);
                  m += 4;
                  var gr = new _.U0(0);
                  for (var G = 0; G < ce + 2; G++) {
                      var ek = O.n(E, m);
                      m += 4;
                      if (ek != 0) {
                          m += 4;
                          var bJ = O.n(E, m)
                            , aN = null;
                          m += 4;
                          if (G < 3 || G == 25)
                              aN = a3._1(!0, gn, E, R.rect.d, R.rect.v, m, bJ);
                          if (G == 0)
                              gr.h = aN;
                          if (G == 1)
                              gr.l = aN;
                          if (G == 2)
                              gr.O = aN;
                          if (G == 25)
                              gr.R = aN;
                          m += bJ
                      }
                  }
                  R.buffer = _.I(R.rect.X() * 4);
                  _.aS(gr, R.buffer);
                  _.YX(R);
                  var bG = E[m];
                  m++;
                  if (bG != 0) {
                      R.r = new U.xW;
                      R.r.rect = O.RJ(E, m);
                      m += 16;
                      m += 4;
                      var aQ = O.n(E, m);
                      m += 4;
                      R.r.channel = a3._1(!0, gn, E, R.r.rect.d, R.r.rect.v, m, aQ);
                      R.r.color = 255;
                      R.r.NU();
                      m += aQ
                  }
                  if ($ % 4 != 0)
                      m += 4 - $ % 4
              }
              break;
          case "Lr16":
              eP.Pf(k, E, K);
              break;
          default:
              console.log("unknown layer tag: " + j + ", size: " + a);
              break
          }
          var cu = "Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");
          if (cu.indexOf(j) == -1)
              if (a % 4 != 0)
                  console.log("size not multiple of 4!!!", j);
          if (j != "luni" && j != "TySh" && j != "tySh" && j != "lfx2")
              if (a % 4 != 0)
                  a += 4 - a % 4;
          K += a
      }
      var gX = [];
      for (var G = 0; G < gX.length; G++)
          delete C[gX[G]];
      return K
  }
  ;
  cc.Ac = function(E, K, i, C) {
      for (var N in i)
          if (i[N] == null) {
              alert("A bug occured (see console).");
              console.log("Please, report a bug, that \"" + N + "\" tag was present with a null value.");
              delete i[N]
          }
      for (var N in i) {
          O.Fu(E, K, "8BIM");
          K += 4;
          var k = K
            , V = 0;
          O.Fu(E, K, N);
          K += 4;
          O.ig(E, K, 0);
          K += 4;
          switch (N) {
          case "iOpa":
              O.JP(E, K, i[N], 1);
              V = 4;
              break;
          case "brst":
              V = 0;
              for (var G = 0; G < 3; G++)
                  if (i[N][G] == 0) {
                      O.VI(E, K + V, G);
                      V += 4
                  }
              break;
          case "knko":
              O.JP(E, K, i[N], 1);
              V = 4;
              break;
          case "infx":
              O.JP(E, K, i[N], 1);
              V = 4;
              break;
          case "clbl":
              O.JP(E, K, i[N], 1);
              V = 4;
              break;
          case "lmgm":
              O.JP(E, K, i[N], 1);
              V = 4;
              break;
          case "vmgm":
              O.JP(E, K, i[N], 1);
              V = 4;
              break;
          case "lyid":
              O.VI(E, K, i[N]);
              V = 4;
              break;
          case "lsct":
              O.VI(E, K, i[N].type);
              V = 4;
              if (i[N].SI) {
                  O.Fu(E, K + 4, "8BIM");
                  O.Fu(E, K + 8, i[N].SI);
                  V = 12
              }
              break;
          case "lyvr":
              O.VI(E, K, i[N]);
              V = 4;
              break;
          case "lnsr":
              O.Fu(E, K, i[N]);
              V = 4;
              break;
          case "lspf":
              O.VI(E, K, i[N]);
              V = 4;
              break;
          case "lclr":
              O.kI(E, K, i[N]);
              V = 8;
              break;
          case "luni":
              O.wU(E, K, i[N]);
              V = 4 + 2 * i[N].length;
              break;
          case "fxrp":
              O.fF(E, K, i[N].x);
              O.fF(E, K + 8, i[N].y);
              V = 16;
              break;
          case "artb":
          case "artd":
              O.VI(E, K, 16);
              V = ds.vy(E, i[N], K + 4) + 4;
              break;
          case "SoCo":
              O.VI(E, K, 16);
              V = ds.vy(E, i[N], K + 4) + 4;
              break;
          case "GdFl":
              O.VI(E, K, 16);
              V = ds.vy(E, i[N], K + 4) + 4;
              break;
          case "PtFl":
              O.VI(E, K, 16);
              V = ds.vy(E, i[N], K + 4) + 4;
              break;
          case "CgEd":
              var j = {
                  classID: "null",
                  Vrsn: {
                      t: "long",
                      v: 1
                  },
                  Brgh: {
                      t: "long",
                      v: 24
                  },
                  Cntr: {
                      t: "long",
                      v: 54
                  },
                  means: {
                      t: "long",
                      v: 127
                  },
                  Lab: {
                      t: "bool",
                      v: !1
                  },
                  useLegacy: {
                      t: "bool",
                      v: !1
                  },
                  Auto: {
                      t: "bool",
                      v: !0
                  }
              }
                , a = j
                , e = i[N];
              a.Brgh.v = e.Brgh.v;
              a.Cntr.v = e.Cntr.v;
              a.useLegacy.v = e.useLegacy.v;
              O.VI(E, K, 16);
              V = ds.vy(E, j, K + 4) + 4;
              break;
          case "brit":
              E.BX(K, 8);
              V = 8;
              break;
          case "levl":
              var L = new hB;
              V = aH.fD(L, i[N]);
              O.si(E, K, L.data);
              break;
          case "curv":
              V = bZ.RW(E, K, i[N]);
              break;
          case "expA":
              V = 14;
              E.BX(K, 14);
              O.PU(E.data, K, 1);
              O.YC(E.data, K + 2, i[N].Exps.v);
              O.YC(E.data, K + 6, i[N].Ofst.v);
              O.YC(E.data, K + 10, i[N].gammaCorrection.v);
              break;
          case "vibA":
              O.VI(E, K, 16);
              V = ds.vy(E, i[N], K + 4) + 4;
              break;
          case "hue2":
              V = dn.RW(E, K, i[N]);
              break;
          case "blnc":
              V = 19;
              E.BX(K, V);
              var g = ["ShdL", "MdtL", "HghL"];
              for (var G = 0; G < 3; G++) {
                  var I = i[N][g[G]].v;
                  for (var h = 0; h < 3; h++)
                      I.push(O.vd(E.data, K + G * 6 + h * 2, I[h].v))
              }
              E.data[K + 18] = i[N].PrsL.v ? 1 : 0;
              break;
          case "blwh":
              var j = {
                  classID: "null",
                  bwPresetKind: {
                      t: "long",
                      v: 1
                  },
                  blackAndWhitePresetFileName: {
                      t: "TEXT",
                      v: ""
                  }
              }
                , o = "Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
              for (var G = 0; G < o.length; G++) {
                  j[o[G]] = i[N][o[G]]
              }
              O.VI(E, K, 16);
              V = ds.vy(E, j, K + 4) + 4;
              break;
          case "phfl":
              O.kI(E, K, 2);
              var H = i[N].Clr.v;
              O.kI(E, K + 2, 7);
              O.kI(E, K + 4, Math.round(H.Lmnc.v * 100));
              O.kI(E, K + 6, Math.round(H.A.v * 100));
              O.kI(E, K + 8, Math.round(H.B.v * 100));
              O.kI(E, K + 10, 0);
              var A = K + 2 + 10;
              E.BX(A, 5);
              O.P0(E.data, A, i[N].Dnst.v);
              A += 4;
              E.data[A] = i[N].PrsL.v ? 1 : 0;
              A++;
              V = A - K;
              break;
          case "mixr":
              V = 44;
              E.BX(K, V);
              var S = gM.WF(i[N]);
              O.PU(E.data, K, 1);
              O.PU(E.data, K + 2, S.jE ? 1 : 0);
              for (var G = 0; G < 20; G++)
                  O.vd(E.data, K + 4 + G * 2, S.G[G]);
              break;
          case "clrL":
          case "rplc":
              O.kI(E, K, 1);
              O.VI(E, K + 2, 16);
              V = ds.vy(E, i[N], K + 6) + 6;
              break;
          case "nvrt":
              V = 0;
              break;
          case "post":
              O.kI(E, K, i[N].Lvls.v);
              V = 2;
              break;
          case "thrs":
              O.kI(E, K, i[N].Lvl.v);
              V = 2;
              break;
          case "grdm":
              var v = {
                  rev: i[N].Rvrs.v,
                  alZ: !1,
                  mode: 0,
                  cX: 867527939,
                  aji: !1,
                  aml: !0,
                  aiX: 2048,
                  a7b: 3,
                  s8: [0, 0, 0, 0],
                  Xn: [32768, 32768, 32768, 32768]
              }
                , s = i[N].Grad.v;
              E.BX(K, 4);
              O.PU(E.data, K, 1);
              E.data[K + 2] = v.rev ? 1 : 0;
              E.data[K + 3] = v.alZ ? 1 : 0;
              var D = K + 4;
              O.wU(E, D, s.Nm.v);
              D += 4 + s.Nm.v.length * 2;
              D = iF.a6N(E, D, s);
              O.kI(E, D, 2);
              D += 2;
              O.kI(E, D, s.Intr.v);
              D += 2;
              O.kI(E, D, 32);
              D += 2;
              O.kI(E, D, v.mode);
              D += 2;
              O.VI(E, D, v.cX);
              D += 4;
              O.kI(E, D, v.aji ? 1 : 0);
              D += 2;
              O.kI(E, D, v.aml ? 1 : 0);
              D += 2;
              O.VI(E, D, v.aiX);
              D += 4;
              O.kI(E, D, v.a7b);
              D += 2;
              for (var G = 0; G < 4; G++)
                  O.kI(E, D + G * 2, v.s8[G]);
              D += 8;
              for (var G = 0; G < 4; G++)
                  O.kI(E, D + G * 2, v.Xn[G]);
              D += 8;
              D += 2;
              V = D - K;
              break;
          case "selc":
              V = cQ.RW(E, K, i[N]);
              break;
          case "FMsk":
              O.si(E, K, i[N]);
              V = i[N].length;
              break;
          case "Txt2":
              var F = new hB
                , y = cK.c4(i[N].lc, F)
                , T = _.I(y, !0);
              for (var G = 0; G < y; G++)
                  T[G] = F.data[G];
              O.si(E, K, T);
              V = T.length;
              break;
          case "vmsk":
              var Q = i[N]
                , B = 0;
              O.VI(E, K, 3);
              if (!Q.Rq)
                  B += 1 << 1;
              if (!Q.isEnabled)
                  B += 1 << 2;
              O.VI(E, K + 4, B);
              V = 8;
              var r = Q.b.length;
              E.BX(K + 8, r * 26);
              dq.Nd(E.data, K + 8, Q.b, C.d, C.v);
              V += r * 26;
              break;
          case "shmd":
              O.VI(E, K, Object.keys(i[N]).length);
              var A = K + 4;
              for (var J in i[N]) {
                  O.Fu(E, A, "8BIM");
                  A += 4;
                  O.Fu(E, A, J);
                  A += 4;
                  O.VI(E, A, 0);
                  A += 4;
                  O.VI(E, A, 0);
                  A += 4;
                  O.VI(E, A, 16);
                  A += 4;
                  var m = ds.vy(E, i[N][J], A);
                  if (m % 4 != 0)
                      m += 4 - m % 4;
                  O.VI(E, A - 8, m + 4);
                  A += m
              }
              V = A - K;
              break;
          case "TySh":
              var A = K;
              O.U4(E, A, 1);
              A += 2;
              var x = i[N]
                , F = new hB;
              x.Ou.DocumentResources = JSON.parse(JSON.stringify(x.Ou.ResourceDict));
              var y = eE.c4(x.Ou, F)
                , T = _.I(y, !0);
              for (var G = 0; G < y; G++)
                  T[G] = F.data[G];
              x.al.EngineData = {
                  t: "tdta",
                  v: T
              };
              var R = x.Ou.EngineDict.Editor.Text;
              x.al.Txt.v = R.substring(0, R.length - 1);
              O.aex(E, A, x.m);
              A += 48;
              O.U4(E, A, 50);
              A += 2;
              O.VI(E, A, 16);
              A += 4;
              A += ds.vy(E, x.al, A);
              O.U4(E, A, 1);
              A += 2;
              O.VI(E, A, 16);
              A += 4;
              A += ds.vy(E, x.xA, A);
              O.anl(E, A, x.u9);
              A += 16;
              V = A - K;
              break;
          case "lmfx":
              O.VI(E, K, 0);
              O.VI(E, K + 4, 16);
              var j = JSON.parse(JSON.stringify(i[N]))
                , b = !1;
              cc.Ae(j);
              for (var G = 0; G < ao.Y9.length; G++)
                  if (j[ao.Y9[G]] != null)
                      b = !0;
              O.Fu(E, k, b ? "lmfx" : "lfx2");
              V = ds.vy(E, j, K + 8) + 8;
              break;
          case "Patt":
              var A = fi.rz(E, K, i[N]);
              V = A - K;
              break;
          case "SoLd":
              O.Fu(E, K, "soLD");
              O.VI(E, K + 4, 4);
              O.VI(E, K + 8, 16);
              V = ds.vy(E, i[N], K + 12) + 12;
              break;
          case "vstk":
          case "pths":
              O.VI(E, K, 16);
              V = ds.vy(E, i[N], K + 4) + 4;
              break;
          case "vscg__":
              O.Fu(E, K, i[N].key);
              O.VI(E, K + 4, 16);
              V = ds.vy(E, i[N].G, K + 8) + 8;
              break;
          case "vogk":
              O.VI(E, K, 1);
              O.VI(E, K + 4, 16);
              _.U7.amY(i[N]);
              for (var G = 0; G < i[N].length; G++) {
                  var z = i[N][G].v.keyOriginResolution;
                  if (z)
                      z.v = C.v9
              }
              var $ = {
                  classID: "null",
                  keyDescriptorList: {
                      t: "VlLs",
                      v: i[N]
                  }
              };
              V = ds.vy(E, $, K + 8) + 8;
              break;
          case "lnkD":
          case "lnk2":
          case "lnk3":
              var D = K;
              for (var G = 0; G < i[N].length; G++) {
                  var P = i[N][G]
                    , t = D;
                  O.hf(E, D, 0);
                  D += 8;
                  O.Fu(E, D, P.type);
                  D += 4;
                  O.VI(E, D, P.Aa);
                  D += 4;
                  E.BX(D, 1);
                  E.data[D] = P.V3.length;
                  D++;
                  O.Fu(E, D, P.V3);
                  D += P.V3.length;
                  O.wU(E, D, P.hS + "\0");
                  D += 4 + P.hS.length * 2 + 2;
                  O.Fu(E, D, P.K8);
                  D += 4;
                  O.Fu(E, D, P.Xy);
                  D += 4;
                  O.hf(E, D, P.raw.length);
                  D += 8;
                  E.BX(D, 1);
                  E.data[D] = P.open;
                  D++;
                  O.si(E, D, P.raw);
                  D += P.raw.length;
                  O.VI(E, D, 1);
                  D += 4;
                  D += 11;
                  var X = D - t - 8;
                  O.hf(E, t, X);
                  if (X % 4 != 0) {
                      E.BX(D, 4 - X % 4);
                      D += 4 - X % 4
                  }
              }
              V = D - K;
              break;
          case "FEid":
              var D = K;
              O.VI(E, D, 3);
              D += 4;
              for (var Z = 0; Z < i[N].length; Z++) {
                  var p = i[N][Z];
                  D += 4;
                  var gl = D;
                  D += 4;
                  O.b4(E, D, p.id);
                  D += p.id.length + 1;
                  O.VI(E, D, 1);
                  D += 4;
                  D += 4;
                  var f = D;
                  D += 4;
                  O.cx(E, D, p.rect);
                  D += 16;
                  O.VI(E, D, 8);
                  D += 4;
                  O.VI(E, D, 24);
                  D += 4;
                  var cY = new _.U0(p.rect.X());
                  _.nT(p.buffer, cY);
                  for (var G = 0; G < 24 + 2; G++) {
                      var fC = null;
                      if (G == 0)
                          fC = cY.h;
                      if (G == 1)
                          fC = cY.l;
                      if (G == 2)
                          fC = cY.O;
                      if (G == 25)
                          fC = cY.R;
                      O.VI(E, D, fC != null ? 1 : 0);
                      D += 4;
                      if (fC != null) {
                          D += 4;
                          var hi = D;
                          D += 4;
                          E.BX(D, p.rect.X() + 2);
                          D = a3.DC(fC, E.data, p.rect.d, p.rect.v, D, 3);
                          O.VI(E, hi, D - (hi + 4))
                      }
                  }
                  O.VI(E, f, D - (f + 4));
                  E.BX(D, 1);
                  E.data[D] = p.r ? 1 : 0;
                  D++;
                  if (p.r != null) {
                      var es = p.r.rect
                        , W = p.r.channel;
                      es = p.rect;
                      W = _.I(es.X());
                      W.fill(p.r.color);
                      _.ie(p.r.channel, p.r.rect, W, es);
                      O.cx(E, D, es);
                      D += 16;
                      D += 4;
                      var d = D;
                      D += 4;
                      E.BX(D, es.X() + 2);
                      D = a3.DC(W, E.data, es.d, es.v, D, 3);
                      O.VI(E, d, D - (d + 4))
                  }
                  var X = D - (gl + 4);
                  O.VI(E, gl, X);
                  if (X % 4 != 0)
                      D += 4 - X % 4
              }
              V = D - K;
              break;
          default:
              console.log("unknown layer tag: " + N + ", size: " + V);
              K -= 12;
              continue
          }
          var fM = ["Txt2", "artd", "extd", "luni", "pths"];
          if (fM.indexOf(N) == -1)
              if (V % 4 != 0)
                  V += 4 - V % 4;
          O.ig(E, K - 4, V);
          if (N != "luni" && N != "TySh")
              if (V % 4 != 0)
                  V += 4 - V % 4;
          K += V
      }
      return K
  }
  ;
  cc.ge = function(E) {
      for (var G = 0; G < ao.order.length; G++) {
          var K = ao.order[G]
            , i = ao.Y9[G];
          if (E[i] == null)
              E[i] = {
                  t: "VlLs",
                  v: []
              };
          if (E[K] != null) {
              E[i].v.push(E[K]);
              delete E[K]
          }
          var C = [];
          for (var N = 0; N < E[i].v.length; N++) {
              var k = E[i].v[N];
              if (k.v.present == null || k.v.present.v == !0)
                  C.push(k)
          }
          E[i].v = C
      }
  }
  ;
  cc.Ae = function(E) {
      for (var G = 0; G < ao.order.length; G++) {
          var K = ao.order[G]
            , i = ao.Y9[G]
            , C = E[i].v.length;
          if (C == 0) {
              delete E[i];
              continue
          }
          if (C == 1) {
              E[K] = E[i].v[0];
              delete E[i];
              continue
          }
      }
  }
  ;
  cc.tp = function(E, K) {
      if (K == "GdFl") {
          if (E.Angl == null)
              E.Angl = {
                  v: {
                      type: "#Ang",
                      val: 0
                  },
                  t: "UntF"
              };
          if (E.Algn == null)
              E.Algn = {
                  v: !0,
                  t: "bool"
              };
          if (E.Scl == null)
              E.Scl = {
                  v: {
                      type: "#Prc",
                      val: 100
                  },
                  t: "UntF"
              };
          if (E.Ofst == null)
              E.Ofst = {
                  v: {
                      classID: "Pnt",
                      Hrzn: {
                          v: {
                              type: "#Prc",
                              val: 0
                          },
                          t: "UntF"
                      },
                      Vrtc: {
                          v: {
                              type: "#Prc",
                              val: 0
                          },
                          t: "UntF"
                      }
                  },
                  t: "Objc"
              };
          if (E.Rvrs == null)
              E.Rvrs = {
                  v: !1,
                  t: "bool"
              };
          if (E.Dthr == null)
              E.Dthr = {
                  v: !1,
                  t: "bool"
              }
      }
      if (K == "PtFl") {
          if (E.Algn == null)
              E.Algn = {
                  v: !0,
                  t: "bool"
              };
          if (E.Scl == null)
              E.Scl = {
                  v: {
                      type: "#Prc",
                      val: 100
                  },
                  t: "UntF"
              };
          if (E.phase == null)
              E.phase = {
                  v: {
                      classID: "Pnt",
                      Hrzn: {
                          v: 0,
                          t: "doub"
                      },
                      Vrtc: {
                          v: 0,
                          t: "doub"
                      }
                  },
                  t: "Objc"
              }
      }
  }
  ;
  cc.clone = function(E, K) {
      var i = {};
      if (E == "TySh") {
          i.m = K.m.clone();
          i.al = JSON.parse(JSON.stringify(K.al));
          i.xA = JSON.parse(JSON.stringify(K.xA));
          i.u9 = K.u9.clone();
          i.Ou = JSON.parse(JSON.stringify(K.Ou));
          if (K.add)
              i.add = {
                  vmsk: K.add.vmsk.clone(),
                  vogk: JSON.parse(JSON.stringify(K.add.vogk))
              };
          return i
      } else if (E == "fxrp")
          return K.clone();
      else if (E == "vmsk")
          return K.clone();
      else
          return JSON.parse(JSON.stringify(K))
  }
  ;
  function dZ(E, K) {}
  dZ.sQ = function(E, K, i, C) {
      C = dZ.aeL(E, K, i, C);
      return C
  }
  ;
  dZ.c4 = function(E, K, i, C, N) {
      C = dZ.ahH(E, K, i, C, N);
      return C
  }
  ;
  dZ.aeL = function(E, K, i, C) {
      var N = C;
      E.rect = O.RJ(i, C);
      C += 16;
      var k = O.HJ(i, C);
      C += 2;
      E.LE = [];
      var V = K.VX;
      for (var G = 0; G < k; G++) {
          E.LE[G] = {
              id: O.Mj(i, C),
              length: (V ? O.D4 : O.n)(i, C + 2)
          };
          C += V ? 10 : 6
      }
      var j = O.zV(i, C, 4);
      C += 4;
      if (j != "8BIM") {
          console.log("Invalid Blend mode signature: " + j);
          alert("Error in Photoshop file: wrong signature.");
          throw "e"
      }
      E.SI = O.zV(i, C, 4);
      C += 4;
      E.opacity = i[C];
      C += 1;
      E.iB = i[C] == 1;
      C += 1;
      E.it = i[C];
      C += 1;
      if (i[C] != 0)
          console.log("error in filler!");
      C += 1;
      var a = O.n(i, C);
      C += 4;
      var e = C;
      C = dZ.aiO(E, i, C);
      C = dZ.a44(E, i, C);
      var L = O.wm(i, C);
      E.name = L.bu;
      C += L.length;
      if (L.length % 4 != 0)
          C += 4 - L.length % 4;
      C = cc.IE(i, C, e + a, E.add, V, K);
      if (E.D2) {
          var g = E.D2;
          if (E.$Y()) {
              E.$Y().ZD = g[0];
              E.$Y().zo = g[1]
          }
          if (E.add.vmsk) {
              E.add.vmsk.ZD = g[2];
              E.add.vmsk.zo = g[3]
          }
      }
      if (E.add.lsct) {
          if (E.add.lsct.SI)
              E.SI = E.add.lsct.SI;
          E.add.lsct = E.add.lsct.type
      }
      return C
  }
  ;
  dZ.ahH = function(E, K, i, C, N) {
      var k = C;
      O.cx(i, C, E.rect);
      C += 16;
      var V = E.Y1();
      O.kI(i, C, V.length);
      C += 2;
      N.push(C);
      for (var G = 0; G < V.length; G++) {
          O.U4(i, C, V[G]);
          O.VI(i, C + 2, 0);
          C += 6
      }
      O.Fu(i, C, "8BIM");
      C += 4;
      O.Fu(i, C, E.SI);
      C += 4;
      O.JP(i, C, E.opacity, 1);
      C += 1;
      O.JP(i, C, E.iB ? 1 : 0, 1);
      C += 1;
      O.JP(i, C, E.it, 1);
      C += 1;
      O.JP(i, C, 0, 1);
      C += 1;
      var j = C;
      O.VI(i, C, 0);
      C += 4;
      var a = C;
      C = dZ.a9U(E, i, C);
      C = dZ.a1w(E, i, C);
      var e = O.b4(i, C, E.name.slice(0, 255));
      C += e;
      if (e % 4 != 0)
          C += 4 - e % 4;
      if (E.add.lsct) {
          E.add.lsct = {
              type: E.add.lsct
          };
          if (E.SI == "pass") {
              E.add.lsct.SI = "pass";
              E.SI = "norm"
          }
      }
      if (E.SI == "pass")
          E.add.lsct = {
              type: E.add.lsct,
              SI: "pass"
          };
      if (E.add.brit)
          E.add.CgEd = E.add.brit;
      C = cc.Ac(i, C, E.add, K);
      delete E.add.CgEd;
      if (E.add.lsct) {
          if (E.add.lsct.SI)
              E.SI = E.add.lsct.SI;
          E.add.lsct = E.add.lsct.type
      }
      var L = C - a;
      O.VI(i, j, L);
      return C
  }
  ;
  dZ.aiO = function(E, K, i) {
      var C = O.n(K, i);
      i += 4;
      if (C == 0)
          return i;
      var N = i;
      E.r = new U.xW;
      E.r.rect = O.RJ(K, i);
      i += 16;
      E.r.color = K[i];
      i += 1;
      var k = dZ.ya(E.r, K, i);
      i += 1;
      if (k) {
          var V = !1
            , j = 255
            , a = 0
            , e = 255
            , L = 0;
          for (var G = 0; G < E.LE.length; G++)
              if (E.LE[G].id == -3)
                  V = !0;
          if (V) {
              E.md = dZ.nG(K, i);
              i += 18
          }
          var g = i
            , I = K[i];
          i++;
          if (I >> 0 & 1) {
              j = K[i];
              i++
          }
          if (I >> 1 & 1) {
              a = O.AN(K, i);
              i += 8
          }
          if (I >> 2 & 1) {
              e = K[i];
              i++
          }
          if (I >> 3 & 1) {
              L = O.AN(K, i);
              i += 8
          }
          if ((i - g & 1) == 1)
              i++;
          E.D2 = [j, a, e, L]
      } else {
          if (C == 20)
              i += 2;
          else {
              E.md = dZ.nG(K, i);
              i += 18
          }
      }
      return N + C
  }
  ;
  dZ.a9U = function(E, K, i) {
      O.VI(K, i, 0);
      i += 4;
      if (E.r == null)
          return i;
      var C = i
        , N = !0;
      O.VI(K, i, 0);
      O.cx(K, i, E.r.rect);
      i += 16;
      O.JP(K, i, E.r.color);
      i += 1;
      dZ.Zc(E.r, K, i, N);
      i += 1;
      if (N) {
          if (E.md) {
              dZ.alR(K, i, E.md);
              i += 18
          }
          O.JP(K, i, 15);
          i += 1;
          var k = E.$Y()
            , V = E.add.vmsk;
          O.JP(K, i, k ? k.ZD : 255);
          i += 1;
          O.fF(K, i, k ? k.zo : 0);
          i += 8;
          O.JP(K, i, V ? V.ZD : 255);
          i += 1;
          O.fF(K, i, V ? V.zo : 0);
          i += 8;
          i++;
          O.VI(K, C - 4, i - C)
      }
      return i
  }
  ;
  dZ.nG = function(E, K) {
      var i = new U.xW;
      dZ.ya(i, E, K);
      K += 1;
      i.color = E[K];
      K += 1;
      i.rect = O.RJ(E, K);
      K += 16;
      return i
  }
  ;
  dZ.alR = function(E, K, i) {
      dZ.Zc(i, E, K, !1);
      K += 1;
      O.JP(E, K, i.color);
      K += 1;
      O.cx(E, K, i.rect);
      K += 16
  }
  ;
  dZ.ya = function(E, K, i) {
      var C = K[i];
      E.Rq = (C >> 0 & 1) == 0;
      E.isEnabled = (C >> 1 & 1) == 0;
      E.Rj = (C >> 3 & 1) == 1;
      return C >> 4 & 1
  }
  ;
  dZ.Zc = function(E, K, i, C) {
      var N = 0;
      if (!E.Rq)
          N += 1 << 0;
      if (!E.isEnabled)
          N += 1 << 1;
      if (E.Rj)
          N += 1 << 3;
      if (C)
          N += 1 << 4;
      O.JP(K, i, N)
  }
  ;
  dZ.a44 = function(E, K, i) {
      var C = O.n(K, i);
      i += 4;
      if (C == 0)
          return i;
      if (C != 5 * 8)
          console.log("unexpected Layer Blending Ranges content, size:", C);
      for (var G = 0; G < C; G++)
          E.fA[G] = K[i + G];
      return i + 40
  }
  ;
  dZ.a1w = function(E, K, i) {
      O.VI(K, i, E.fA.length);
      i += 4;
      K.BX(i, 40);
      for (var G = 0; G < 40; G++) {
          K.data[i + G] = E.fA[G]
      }
      return i + 40
  }
  ;
  function a3() {}
  a3.sQ = function(E, K, i, C) {
      C = a3.a4R(K.VX, K.G$, K.KR, E, i, C);
      return C
  }
  ;
  a3.fD = function(E, K, i, C, N) {
      i = a3.aiJ(E, K, i, C, N);
      return i
  }
  ;
  a3.a4R = function(E, K, i, C, N, k) {
      var V = C.LE
        , j = {}
        , a = k;
      for (var G = 0; G < V.length; G++) {
          var e = V[G], L = e.id, g = e.length, I;
          if (L == -3)
              I = C.md.rect;
          else if (L == -2)
              I = C.r.rect;
          else
              I = C.rect;
          var h = a3._1(E, K, N, I.d, I.v, k, g);
          k += g;
          if (L == -3)
              C.md.channel = h;
          else if (L == -2)
              C.r.channel = h;
          else
              j["c" + L] = h
      }
      var o = new _.U0(0);
      o.R = null;
      if (i == 3) {
          o.h = j.c0;
          o.l = j.c1;
          o.O = j.c2;
          o.R = j["c-1"]
      } else if (i == 1) {
          o.h = j.c0;
          o.l = j.c0;
          o.O = j.c0;
          o.R = j["c-1"]
      } else if (i == 4) {
          var H = j.c0
            , A = j.c1
            , S = j.c2
            , v = j.c3
            , s = H.length
            , D = 1 / 255;
          for (var G = 0; G < s; G++) {
              var F = H[G]
                , y = A[G]
                , T = S[G]
                , Q = v[G] * D;
              H[G] = Math.round(F * Q);
              A[G] = Math.round((.2 * F + .8 * y) * Q);
              S[G] = Math.round((.2 * y + .8 * T) * Q)
          }
          o.h = H;
          o.l = A;
          o.O = S;
          o.R = j["c-1"];
          console.log("converting from CMYK to RGB")
      }
      if (o.h == null)
          o.h = _.I(0);
      if (o.R == null && o.h != null) {
          o.R = o.h.slice(0);
          o.R.fill(255)
      }
      if (o.l == null)
          o.l = o.h.slice(0);
      if (o.O == null)
          o.O = o.h.slice(0);
      C.buffer = _.I(Math.max(0, C.rect.X() * 4));
      _.aS(o, C.buffer);
      return k
  }
  ;
  a3.aiJ = function(E, K, i, C, N) {
      var k = E.Y1()
        , V = new _.U0(E.rect.X());
      _.nT(E.buffer, V);
      for (var G = 0; G < k.length; G++) {
          var j = k[G], a, e;
          if (j == -3)
              a = E.md.rect;
          else if (j == -2)
              a = E.r.rect;
          else
              a = E.rect;
          if (j == -3)
              e = E.md.channel;
          if (j == -2)
              e = E.r.channel;
          if (j == -1)
              e = V.R;
          if (j == 0)
              e = V.h;
          if (j == 1)
              e = V.l;
          if (j == 2)
              e = V.O;
          K.BX(i, a.X() * 3 + 4);
          var L = i;
          i = a3.DC(e, K.data, a.d, a.v, i, N[1] ? 3 : 1);
          var g = i - L;
          if (g % 2 != 0) {
              g += g % 2;
              i++
          }
          O.P0(K.data, C + G * 6 + 2, g)
      }
      return i
  }
  ;
  a3._1 = function(E, K, i, C, N, k, V) {
      var j = O.HJ(i, k);
      k += 2;
      return a3.X8(E, K, i, C, N, k, j, V - 2)
  }
  ;
  a3.DC = function(E, K, i, C, N, k) {
      O.vd(K, N, k);
      N += 2;
      N = a3.FQ(E, K, i, C, N, k);
      return N
  }
  ;
  a3.X8 = function(E, K, i, C, N, k, V, j) {
      var a, e = C * N * (K >>> 3), L = e & 3, g = e + (L == 0 ? 0 : 4 - L);
      if (j <= 0) {
          return _.I(g)
      }
      if (V > 3) {
          console.log("unknown compression: " + V, C, N, C * N, j);
          V = 0
      }
      if (V == 0) {
          if (k + g <= i.length)
              a = i.slice(k, k + g);
          else {
              a = _.I(e);
              for (var G = 0; G < e; G++)
                  a[G] = i[k + G]
          }
          k += e
      } else if (V == 1) {
          a = _.I(e);
          var I = E ? 4 : 2
            , h = a3.mO(i, a, C, N, k, k + I * N, I);
          k += I * N + h
      } else if (V == 2 || V == 3) {
          var o = new Uint8Array(i.buffer,k + 2,j - 6)
            , H = pako.inflateRaw(o);
          if (V == 3) {
              if (K == 8)
                  for (var A = 0; A < N; A++) {
                      var S = A * C + 1
                        , v = S + C - 1
                        , s = H[S - 1];
                      for (var D = S; D < v; D++) {
                          s += H[D];
                          H[D] = s & 255
                      }
                  }
              else
                  for (var A = 0; A < N; A++) {
                      var S = A * C + 1
                        , v = S + C - 1
                        , s = H[2 * S - 2] << 8 | H[2 * S - 1];
                      for (var D = S; D < v; D++) {
                          var F = D << 1;
                          s += H[F] << 8 | H[F + 1];
                          H[F] = s >>> 8;
                          H[F + 1] = s & 255
                      }
                  }
          }
          if (H.length == g)
              a = H;
          else {
              a = _.I(g);
              for (var G = 0; G < H.length; G++)
                  a[G] = H[G]
          }
      }
      if (K == 16) {
          var y = _.I(C * N);
          for (var G = 0; G < e; G += 2)
              y[G >>> 1] = a[G];
          a = y
      }
      return a
  }
  ;
  a3.FQ = function(E, K, i, C, N, k) {
      var V = i * C;
      if (k == 0)
          for (var G = 0; G < V; G++)
              K[N++] = E[G];
      else if (k == 1) {
          var j = a3.MT(E, K, i, C, N, N + 2 * C);
          N += 2 * C + j
      } else if (k == 2 || k == 3) {
          if (k == 3) {
              var a = new Uint8Array(E.length);
              for (var e = 0; e < C; e++) {
                  var L = e * i + 1
                    , g = L + i - 1
                    , I = E[L - 1];
                  a[L - 1] = I;
                  for (var h = L; h < g; h++) {
                      a[h] = E[h] + (256 - I) & 255;
                      I = E[h]
                  }
              }
              E = a
          }
          K[N] = 120;
          K[N + 1] = 156;
          N += 2;
          var o = pako.deflateRaw(E, {
              a3m: 4
          });
          O.Am(K, N, o);
          N += o.length + 4
      } else
          console.log("Unknown compression: " + k);
      return N
  }
  ;
  a3.mO = function(E, K, i, C, N, k, V) {
      var j = k
        , a = C | 0;
      if (V == 2)
          for (var G = 0; G < a; G++) {
              var e = O.HJ(E, N + (G << 1));
              a3.iR(E, k, e, K, G * i, i);
              k += e
          }
      else
          for (var G = 0; G < a; G++) {
              var e = O.n(E, N + (G << 2));
              a3.iR(E, k, e, K, G * i, i);
              k += e
          }
      return k - j
  }
  ;
  a3.MT = function(E, K, i, C, N, k) {
      var V = k;
      for (var G = 0; G < C; G++) {
          var j = a3.aan(E, G * i, i, K, k);
          O.PU(K, N + G * 2, j);
          k += j
      }
      return k - V
  }
  ;
  a3.aan = function(E, K, l, i, C) {
      var N, k, V, j, a, cd, e;
      j = K + l;
      for (V = K,
      k = C; l > 0; V = N,
      l -= cd) {
          e = l < 128 ? l : 128;
          if (V <= j - 3 && E[V + 1] == E[V + 0] && E[V + 2] == E[V + 0]) {
              for (N = V + 3; N < V + e && E[N] == E[V + 0]; )
                  ++N;
              cd = N - V;
              i[k++] = 1 + 256 - cd;
              i[k++] = E[V + 0]
          } else {
              for (N = V; N < V + e; )
                  if (N <= j - 3 && E[N + 1] == E[N + 0] && E[N + 2] == E[N + 0])
                      break;
                  else
                      ++N;
              cd = N - V;
              i[k++] = cd - 1;
              for (var G = 0; G < cd; G++)
                  i[k + G] = E[V + G];
              k += cd
          }
      }
      return k - C
  }
  ;
  a3.iR = function(E, K, i, C, N, k) {
      for (var V = 0; V < i; ) {
          var l = E[K++];
          if (l >= 128) {
              var j = E[K++]
                , a = N + (257 - l);
              while (N + 1 < a) {
                  C[N++] = C[N++] = j
              }
              if (N < a)
                  C[N++] = j;
              V += 2
          } else {
              for (var G = 0; G <= l; G++)
                  C[N + G] = E[K + G];
              K += l + 1;
              N += l + 1;
              V += 1 + 1 + l
          }
      }
  }
  ;
  function eP() {}
  eP.sQ = function(E, K) {
      K.VX = !1;
      K.G$ = 8;
      var i = new Uint8Array(E), C = 0, N = 0, f, cm = !1, c4 = !0, ch = !1, hQ = 0;
      N = eP.Ma(K, i, C);
      C = N;
      N = eP.a9Y(K, i, C);
      C = N;
      N = eP.a4k(K, i, C);
      C = N;
      N = eP.a2o(K, i, C);
      C = N;
      N = eP.a0u(K, i, C);
      C = N;
      if (K.t.length == 0) {
          var k = K.qV();
          k.gv("Background");
          K.t.push(k);
          k.buffer = K.buffer.slice(0);
          k.rect = new h4(0,0,K.d,K.v)
      }
      if (K.kZ.r1005) {
          K.v9 = O.aa3(K.kZ.r1005, 0)
      }
      if (K.kZ.r1026) {
          var i = K.kZ.r1026;
          for (var G = 0; G < i.length; G += 2) {
              var N = K.t[G >>> 1];
              if (N)
                  N.RE = O.HJ(i, G)
          }
      }
      if (K.kZ.r1032) {
          var i = K.kZ.r1032
            , V = O.n(i, 12);
          for (var G = 0; G < V; G++) {
              var j = i[16 + G * 5 + 4]
                , a = O.Ex(i, 16 + G * 5) / 32;
              K.rJ[j].push(a)
          }
      }
      delete K.kZ.r1036;
      delete K.kZ.r1039;
      if (K.kZ.r1050) {
          var e = O.n
            , L = K.kZ.r1050
            , g = O.n(L, 0);
          if (g == 6) {
              var I = 4
                , h = O.RJ(L, I);
              I += 16;
              var o = O.uh(L, I);
              I += 4 + o.length * 2;
              var H = e(L, I);
              I += 4;
              var A = K.jX;
              for (var G = 0; G < H; G++) {
                  var S = u.gX.zY(), s;
                  A.push(S);
                  S = S.v;
                  S.sliceID.v = e(L, I);
                  I += 4;
                  S.groupID.v = e(L, I);
                  I += 4;
                  var v = e(L, I);
                  I += 4;
                  if (v == 1) {
                      s = e(L, I);
                      I += 4
                  }
                  var o = O.uh(L, I);
                  I += 4 + o.length * 2;
                  var D = e(L, I);
                  I += 4;
                  var F = [e(L, I), e(L, I + 4), e(L, I + 8), e(L, I + 12)];
                  I += 16;
                  u.gX.y1(A, A.length - 1, F);
                  var y = S.url.v = O.uh(L, I);
                  I += 4 + y.length * 2;
                  var T = S.null.v = O.uh(L, I);
                  I += 4 + T.length * 2;
                  var Q = S.Msge.v = O.uh(L, I);
                  I += 4 + Q.length * 2;
                  var B = S.altTag.v = O.uh(L, I);
                  I += 4 + B.length * 2;
                  S.cellTextIsHTML.v = L[I] == 1;
                  I++;
                  var r = S.cellText.v = O.uh(L, I);
                  I += 4 + r.length * 2;
                  var J = e(L, I);
                  I += 4;
                  var m = e(L, I);
                  I += 4;
                  var x = L.slice(I, I + 4);
                  I += 4;
                  if (v != 2)
                      A.pop()
              }
          } else if (g == 8) {
              var R = {};
              ds.AZ(L, R, 8, !1);
              var L = K.jX = R.slices.v;
              for (var G = 0; G < L.length; G++) {
                  if (L[G].v.origin.v.ESliceOrigin != "userGenerated") {
                      L.splice(G, 1);
                      G--
                  }
              }
          }
      }
      if (K.kZ.r1058) {
          var b = K.kZ.r1058
            , z = UTIF.decode(b.buffer, {
              parseMN: !1,
              debug: !1
          });
          gu.Lc(z[0], K.Xp);
          delete K.kZ.r1058
      }
      if (K.kZ.r1060) {
          var $ = O.Yo(K.kZ.r1060);
          gu.fE($, K.Xp);
          delete K.kZ.r1060
      }
      if (K.kZ.r1065) {
          var i = K.kZ.r1065;
          K.aZ = {};
          ds.AZ(i, K.aZ, 4, !1)
      }
      if (K.kZ.r1069) {
          var i = K.kZ.r1069
            , P = [];
          for (var G = 2; G < i.length; G += 4) {
              var s = O.n(i, G);
              for (var t = 0; t < K.t.length; t++) {
                  var N = K.t[t];
                  if (N.add.lyid == s && N.add.lsct != 3)
                      P.push(t)
              }
          }
          K.C = P
      }
      if (K.kZ.r1025) {
          var X = K.kZ.r1025;
          delete K.kZ.r1025;
          var Z = dq.p1(X, 0, X.length, K.d, K.v)
            , p = new U.ql;
          p.b = Z;
          K.xq[0] = bl.JU("Working Path", {
              vmsk: p
          })
      }
      var gl = K.add.pths;
      delete K.add.pths;
      var cY = K.kZ.r3000;
      if (cY) {
          f = {};
          ds.AZ(cY, f, 4, !1);
          delete K.kZ.r3000
      }
      for (var fC = 0; fC <= 997; fC++) {
          var hi = "r" + (2e3 + fC)
            , X = K.kZ[hi];
          if (X == null)
              break;
          var Z = dq.p1(X, 0, X.length, K.d, K.v)
            , es = gl ? gl.pathList.v[fC].v.pathUnicodeName.v : "Path " + fC
            , W = f ? f.keyRootDescriptorList.v[fC].v.keyDescriptorList.v : U.cE(Z)
            , p = new U.ql;
          p.b = Z;
          K.xq[fC + 1] = bl.JU(es, {
              vmsk: p,
              vogk: W
          });
          delete K.kZ[hi]
      }
      delete K.VX;
      var d = new h4(0,0,K.d,K.v)
        , fM = K.add.Txt2
        , n = fM;
      if (n) {
          n = n.lc;
          if (n._DocumentResources == null)
              n = eT.a9e(n)
      }
      if (fM && fM.lc._DocumentResources != null) {
          var ax = "_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" ")
            , d_ = fM.lc._DocumentResources._TextFrameSet._Resources;
          for (var G = 0; G < d_.length; G++) {}
      }
      for (var G = 0; G < K.t.length; G++) {
          var N = K.t[G]
            , em = N.add.lsct
            , ag = N.add.vmsk
            , am = N.$Y();
          if (em == c5.XG) {
              hQ++;
              N.add.lspf = 0
          } else if (em == c5.qd || em == c5.Kw)
              hQ--;
          if (N.name == "") {
              N.name = "Layer " + (G + 1);
              ch = !0
          }
          if (ch && N.Uf() && N.SI == "norm")
              N.SI = "pass";
          if (N.XQ() && N.uy(K).r) {
              var bK = N.uy(K);
              bK.r.isEnabled = N.add.SoLd.filterFX.v.filterMaskEnable.v
          }
          if (ag && N.bm()) {
              var ei = ao.S6.default;
              if (N.add.vstk == null)
                  N.add.vstk = JSON.parse(JSON.stringify(ei));
              else {
                  var dL = "strokeStyleLineDashSet";
                  if (N.add.vstk[dL] == null)
                      N.add.vstk[dL] = JSON.parse(JSON.stringify(ei[dL]))
              }
              N.add.vstk.strokeStyleResolution.v = K.v9
          }
          if (ag && (N.add.vogk == null || _.Y.oH(ag.b) != N.add.vogk.length))
              N.cE();
          if (N.add.SoLd && N.rect.OL()) {
              console.log("redrawing smart instance");
              N.z_(K)
          }
          if (am == null && N.r != null) {
              if (N.r.Rj == !1) {
                  N.r.Rj = !0;
                  N.md = N.r.clone()
              } else {
                  ag.md = N.r;
                  ag.bZ = !1;
                  N.r.zo = ag.zo;
                  N.r.ZD = ag.ZD
              }
          }
          if (am != null && ag != null && (am.zo + ag.zo != 0 || am.ZD + ag.ZD != 2 * 255))
              N.Kf(K);
          var fh = N.add.artb;
          if (fh && fh.artboardBackgroundType == null)
              fh.artboardBackgroundType = {
                  t: "long",
                  v: 1
              };
          if (fh && hQ != 0)
              delete N.add.artb;
          var eu = N.add.vstk;
          if (N.bm() && (N.rect.OL() || ag && ag.zo != 0 || eu && !eu.fillEnabled.v && (!eu.strokeEnabled.v || eu.strokeStyleLineWidth.v.val == 0)))
              N.qy(K);
          if (N.add.TySh) {
              cm = !0;
              if (!N.rect.OL())
                  c4 = !1
          }
          if (N.add.TySh && n) {
              var hf = N.add.TySh.al.TextIndex.v;
              if (hf == -1)
                  continue;
              var iS = N.add.TySh.Ou
                , aI = cO.nh(iS)
                , gn = iS.ResourceDict.StyleSheetSet[0].StyleSheetData.FontSize;
              if (gn == null)
                  gn = 12;
              var ce = iS.EngineDict.StyleRun.RunArray;
              for (var gr = 0; gr < ce.length; gr++) {
                  var ek = ce[gr].StyleSheet.StyleSheetData;
                  if (ek.FontSize == null) {
                      if (ek.BaselineDirection == null)
                          ek.FontSize = Math.round(gn * K.v9 / 72)
                  }
              }
              var bJ = iS.EngineDict.ParagraphRun.RunArray
                , aN = n._DocumentObjects._TextObjects;
              if (aN.length <= hf) {
                  console.log("Txt2 incomplete");
                  continue
              }
              aN = aN[hf]._Model._ParagraphRun._RunArray;
              if (aN == null)
                  aN = [];
              var bG = Math.min(aN.length, bJ.length);
              for (var t = 0; t < bG; t++) {
                  var aQ = bJ[t].ParagraphSheet.Properties
                    , cu = n._DocumentResources._ParagraphSheetSet._Resources
                    , gX = aN[t]._RunData._ParagraphSheet;
                  if (typeof gX == "string")
                      gX = cu[parseInt(gX.slice(1))]._Resource;
                  var bW = gX._Parent == null ? gX : cu[parseInt(gX._Parent.slice(1))]._Resource
                    , dE = gX._Features._ParagraphDirection;
                  if (dE == null)
                      dE = bW._Features._ParagraphDirection;
                  if (dE)
                      aQ._Direction = parseInt(dE.slice(1))
              }
              var b4 = n._DocumentResources
                , cC = b4._TextFrameSet._Resources
                , gN = cC[hf]._Resource
                , eH = gN._Data
                , hx = new fn(1,0,0,1,0,0);
              if (gN._0) {
                  var c2 = parseFloat(gN._0[0].slice(1))
                    , hv = parseFloat(gN._0[1].slice(1));
                  hx.translate(c2, hv)
              }
              if (aI) {
                  hx.translate(aI[0], aI[1]);
                  cO.Bk(iS, [0, 0, aI[2] - aI[0], aI[3] - aI[1]])
              } else {
                  if (gN._Bezier && gN._Bezier._Points) {
                      var Z = gN._Bezier._Points
                        , c2 = parseFloat(Z[0].slice(1))
                        , hv = parseFloat(Z[1].slice(1));
                      if (c2 != 0 || hv != 0) {
                          hx.translate(c2, hv)
                      }
                  }
              }
              if (gN._Data && gN._Data._FrameMatrix) {
                  var fu = gN._Data._FrameMatrix;
                  fu = fu.map(function(il) {
                      return parseFloat(il.slice(1))
                  });
                  hx.concat(new fn(fu[0],fu[1],fu[2],fu[3],fu[4],fu[5]))
              }
              hx.concat(N.add.TySh.m);
              N.add.TySh.m = hx;
              var D = eH._Type ? parseInt(eH._Type.slice(1)) : 0;
              if (D == 2 || D == 1 && eH._PathData._Spacing == "i-3") {
                  var dv = function(il) {
                      return parseFloat(il.slice(1))
                  }
                    , Z = gN._Bezier._Points.map(dv);
                  if (aI)
                      _.$.m(Z, new fn(1,0,0,1,-aI[0],-aI[1]), Z);
                  var fj = eH._PathData ? eH._PathData._Reversed : !1;
                  iS.Curve = {
                      Points: Z,
                      TextOnPathTRange: eH._TextOnPathTRange.map(dv),
                      Reversed: fj == null ? !1 : fj
                  };
                  N.add.TySh.add = {
                      vmsk: new U.ql,
                      vogk: null
                  };
                  cO.Rt(N.add.TySh)
              }
          }
      }
      hn.Tu.Re(K, !0)
  }
  ;
  eP.c4 = function(E, K, i) {
      hn.Tu.Ey(E);
      hn.Tu.Re(E, !1);
      var C = []
        , N = []
        , k = []
        , V = []
        , j = []
        , B = 16
        , W = 0;
      for (var G = 0; G < E.t.length; G++) {
          var a = E.t[G];
          if (a.XQ() && a.uy(E).r) {
              a.add.SoLd.filterFX.v.filterMaskEnable.v = a.uy(E).r.isEnabled
          }
          if (a.add.SoLd) {
              N.push(a.add.SoLd.Idnt.v);
              k.push(a.add.SoLd.placed.v)
          }
          if (a.add.TySh) {
              var e = a.add.TySh.Ou
                , L = cO.O1(e);
              a.add.TySh.al.TextIndex = {
                  t: "long",
                  v: C.length
              };
              C.push(e);
              if (L == 2)
                  cO.fp(a.add.TySh)
          }
          if (a.add.PtFl)
              V.push(a.add.PtFl.Ptrn.v.Idnt.v);
          if (a.add.lmfx) {
              for (var g = 0; g < ao.Y9.length; g++) {
                  var I = a.add.lmfx[ao.Y9[g]].v;
                  for (var h = 0; h < I.length; h++)
                      if (I[h].v.Ptrn)
                          V.push(I[h].v.Ptrn.v.Idnt.v)
              }
          }
          var o = a.add.vstk;
          if (o && o.strokeStyleContent.v.classID == "patternLayer") {
              V.push(o.strokeStyleContent.v.Ptrn.v.Idnt.v)
          }
          if (o)
              o.strokeStyleResolution.v = E.v9;
          if (a.bm() || i[2] && a.add.SoLd) {
              j[G] = [a.rect, a.buffer];
              a.rect = new h4;
              a.buffer = _.I(0)
          }
      }
      if (C.length > 0) {
          var H = E.add.Txt2 ? E.add.Txt2.lc : null;
          E.add.Txt2 = {};
          E.add.Txt2.lc = cM.a3l(C, null, H)
      }
      var A = E.add.lnk2;
      if (A) {
          var S = E.add.lnk2 = [];
          for (var G = 0; G < A.length; G++)
              if (N.indexOf(A[G].V3) != -1)
                  S.push(A[G]);
          if (S.length == 0)
              delete E.add.lnk2
      }
      var v = E.add.FEid;
      if (v) {
          var s = E.add.FEid = [];
          for (var G = 0; G < v.length; G++)
              if (k.indexOf(v[G].id) != -1)
                  s.push(v[G]);
          if (s.length == 0)
              delete E.add.FEid
      }
      var D = E.add.Patt;
      if (D) {
          var F = E.add.Patt = [];
          for (var G = 0; G < D.length; G++)
              if (V.indexOf(D[G].id) != -1)
                  F.push(D[G])
      }
      E.kZ.r1005 = new Uint8Array([0, 0, 0, 0, 0, 1, 0, 2, 0, 0, 0, 0, 0, 1, 0, 2]);
      O.LB(E.kZ.r1005, 0, E.v9);
      O.LB(E.kZ.r1005, 8, E.v9);
      if (E.C6()) {
          E.kZ.r1022 = new Uint8Array([0, 3 + E.h_.length - 1, 0])
      } else
          delete E.kZ.r1022;
      E.kZ.r1026 = new Uint8Array(E.t.length * 2);
      for (var G = 0; G < E.t.length; G++)
          O.PU(E.kZ.r1026, G * 2, E.t[G].RE);
      var y = E.rJ
        , T = y[0].length + y[1].length
        , Q = E.kZ.r1032 = _.I(16 + 5 * T, !0);
      O.P0(Q, 0, 1);
      O.P0(Q, 4, 576);
      O.P0(Q, 8, 576);
      O.P0(Q, 12, T);
      for (var G = 0; G < 2; G++)
          for (var h = 0; h < y[G].length; h++) {
              O.c2(Q, B, Math.round(y[G][h] * 32));
              Q[B + 4] = G;
              B += 5
          }
      var r = _.Tx(E.buffer)
        , J = [];
      if (r)
          J.push({
              name: "Transparency",
              vc: {
                  h: 255,
                  l: 0,
                  O: 0
              },
              di: 100,
              wn: 1
          });
      J = J.concat(E.h_);
      delete E.kZ.r1045;
      delete E.kZ.r1006;
      delete E.kZ.r1077;
      var m = new hB;
      B = 0;
      var x = new Uint8Array(4 + J.length * 13);
      x[3] = 1;
      for (var G = 0; G < J.length; G++) {
          var R = J[G]
            , b = R.name + "\0";
          O.wU(m, B, b);
          B += 4 + b.length * 2;
          var z = 4 + G * 13;
          b9.Z8(x, z, R.vc);
          x[z + 11] = R.di;
          x[z + 12] = R.wn
      }
      E.kZ.r1045 = m.data.slice(0, B);
      E.kZ.r1077 = x;
      for (var G = 0; G < E.jX.length; G++)
          E.jX[E.jX.length - G - 1].v.sliceID.v = 2 + G * 3;
      var $ = {
          classID: "null",
          baseName: {
              t: "TEXT",
              v: "User"
          },
          bounds: {
              t: "Objc",
              v: {
                  classID: "Rct1",
                  Top: {
                      t: "long",
                      v: 0
                  },
                  Left: {
                      t: "long",
                      v: 0
                  },
                  Btom: {
                      t: "long",
                      v: 0
                  },
                  Rght: {
                      t: "long",
                      v: 0
                  }
              }
          },
          slices: {
              t: "VlLs",
              v: E.jX
          }
      }
        , m = new hB;
      O.VI(m, 0, 8);
      O.VI(m, 4, 16);
      var P = ds.vy(m, $, 8);
      E.kZ.r1050 = m.data.slice(0, P + 8);
      var m = new hB;
      O.VI(m, 0, 16);
      var P = ds.vy(m, E.aZ, 4);
      E.kZ.r1065 = m.data.slice(0, P + 4);
      var t = E.C;
      Q = E.kZ.r1069 = _.I(2 + t.length * 4, !0);
      O.PU(Q, 0, t.length);
      for (var G = 0; G < t.length; G++)
          O.P0(Q, 2 + 4 * G, E.t[t[G]].add.lyid);
      delete E.kZ.r1058;
      delete E.kZ.r1060;
      if (Object.keys(E.Xp).length != 0) {
          var X = [{
              t274: [1],
              t282: [[72, 1]],
              t283: [[72, 1]],
              t296: [2]
          }, {
              t259: [6],
              t282: [[72, 1]],
              t283: [[72, 1]],
              t296: [2],
              t513: [302],
              t514: [0]
          }];
          gu.PH(E.Xp, X[0], i[0] && i[1]);
          E.kZ.r1058 = new Uint8Array(UTIF.encode(X));
          var Z = gu.Hf(E.Xp);
          E.kZ.r1060 = O.xm(Z)
      }
      var p = []
        , f = [];
      for (var G = 0; G < E.xq.length; G++) {
          var cY = E.xq[G]
            , fC = cY.add.vmsk.b;
          if (G == 0 && fC.length == 2)
              continue;
          var hi = _.I(fC.length * 26);
          dq.Nd(hi, 0, fC, E.d, E.v);
          var es = G == 0 ? 1025 : 2e3 + G - 1;
          E.kZ["r" + es] = hi;
          if (G != 0) {
              p.push({
                  t: "Objc",
                  v: {
                      classID: "pathInfoClass",
                      pathUnicodeName: {
                          t: "TEXT",
                          v: cY.name
                      }
                  }
              });
              f.push({
                  t: "Objc",
                  v: {
                      classID: "null",
                      keyDescriptorList: {
                          t: "VlLs",
                          v: cY.add.vogk
                      }
                  }
              })
          }
      }
      if (p.length != 0) {
          E.add.pths = {
              classID: "pathsDataClass",
              pathList: {
                  t: "VlLs",
                  v: p
              }
          };
          f = {
              classID: "null",
              keyRootDescriptorList: {
                  t: "VlLs",
                  v: f
              }
          };
          var m = new hB;
          O.VI(m, 0, 16);
          var P = ds.vy(m, f, 4);
          E.kZ.r3000 = m.data.slice(0, P + 4)
      } else {
          delete E.add.pths;
          delete E.kZ.r3000
      }
      W = eP.a9d(E, K, W, 3 + J.length);
      W = eP.ajb(E, K, W);
      W = eP.an6(E, K, W);
      W = eP.aiS(E, K, W, i, r);
      W = eP.aol(E, K, W, i[0], r);
      var d = [1025, 2e3, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016];
      for (var G = 0; G < d.length; G++)
          delete E.kZ["r" + d[G]];
      for (var G = 0; G < E.t.length; G++) {
          var a = E.t[G];
          if (a.bm() || i[2] && a.add.SoLd) {
              a.rect = j[G][0];
              a.buffer = j[G][1]
          }
      }
      if (A)
          E.add.lnk2 = A;
      if (v)
          E.add.FEid = v;
      if (D)
          E.add.Patt = D;
      hn.Tu.Re(E, !0);
      return W
  }
  ;
  eP.Ma = function(E, K, i) {
      var C = O.zV(K, i, 4);
      i += 4;
      if (C != "8BPS")
          alert("invalid header signature: " + C);
      var N = O.HJ(K, i);
      i += 2;
      E.VX = N == 2;
      if (N != 1 && N != 2)
          alert("invalid version: " + N);
      i += 6;
      E.Ie = O.HJ(K, i);
      i += 2;
      E.v = O.Ex(K, i);
      i += 4;
      E.d = O.Ex(K, i);
      i += 4;
      E.G$ = O.HJ(K, i);
      i += 2;
      E.KR = O.HJ(K, i);
      i += 2;
      return i
  }
  ;
  eP.a9d = function(E, K, i, C) {
      K.BX(0, 64);
      O.EX(K.data, i, "8BPS");
      i += 4;
      O.PU(K.data, i, 1);
      i += 2;
      O.P0(K.data, i, 0);
      i += 4;
      O.PU(K.data, i, 0);
      i += 2;
      O.PU(K.data, i, C);
      i += 2;
      O.c2(K.data, i, E.v);
      i += 4;
      O.c2(K.data, i, E.d);
      i += 4;
      O.PU(K.data, i, 8);
      i += 2;
      O.PU(K.data, i, 3);
      i += 2;
      return i
  }
  ;
  eP.a9Y = function(E, K, i) {
      var C = O.Ex(K, i);
      i += 4;
      if (C != 0)
          E.Mh = K.slice(i, i + C);
      i += C;
      return i
  }
  ;
  eP.ajb = function(E, K, i) {
      O.ig(K, i, 0);
      i += 4;
      return i
  }
  ;
  eP.a4k = function(E, K, i) {
      var C = O.n(K, i)
        , N = 0;
      i += 4;
      var k = [];
      while (N < C) {
          var V = O.zV(K, i + N, 4);
          N += 4;
          var j = O.HJ(K, i + N);
          N += 2;
          var a = O.wm(K, i + N);
          N += a.length;
          if (V != "8BIM") {
              k.push(j);
              console.log("Unknown Image Resources signature: " + V + ", ID: " + j)
          }
          var e = O.n(K, i + N);
          N += 4;
          if (E.kZ["r" + j] != null)
              console.log("--- two resources with same ID");
          E.kZ["r" + j] = O.Xe(K, i + N, e);
          N += e + (e & 1)
      }
      for (var G = 0; G < k.length; G++)
          delete E.kZ["r" + k[G]];
      return i + C
  }
  ;
  eP.an6 = function(E, K, i) {
      var C = i
        , V = 0;
      i += 4;
      var N = [];
      for (var k in E.kZ) {
          N.push(parseInt(k.slice(1)))
      }
      N.sort(function(g, I) {
          return g - I
      });
      for (var G = 0; G < N.length; G++) {
          O.Fu(K, i + V, "8BIM");
          V += 4;
          var j = N[G];
          O.kI(K, i + V, j);
          V += 2;
          var a = O.b4(K, i + V, "");
          V += a;
          var e = E.kZ["r" + j]
            , L = e.length;
          O.VI(K, i + V, L);
          V += 4;
          O.si(K, i + V, e);
          V += L;
          if (L % 2 == 1)
              V++
      }
      O.VI(K, C, V);
      return i + V
  }
  ;
  eP.a2o = function(E, K, i) {
      var C = i, N, k = E.VX ? 8 : 4;
      if (E.VX)
          N = O.D4(K, i);
      else
          N = O.n(K, i);
      i += k;
      if (N == 0)
          return C + k;
      i = eP.a8a(E, K, i);
      i = eP.a7n(E, K, i);
      i = cc.IE(K, i, C + k + N, E.add, E.VX, E);
      return C + k + N
  }
  ;
  eP.aiS = function(E, K, i, C, N) {
      var k = i;
      O.VI(K, i, 0);
      i += 4;
      i = eP.a7s(E, K, i, C, N);
      i = eP.a5V(E, K, i);
      i = cc.Ac(K, i, E.add, E);
      O.VI(K, k, i - k - 4);
      return i
  }
  ;
  eP.a8a = function(E, K, i) {
      var C, N = E.VX ? 8 : 4;
      if (E.VX)
          C = O.D4(K, i);
      else
          C = O.n(K, i);
      i += N;
      if (C != 0)
          eP.Pf(E, K, i);
      return i + C
  }
  ;
  eP.Pf = function(E, K, i) {
      var C = O.Mj(K, i);
      i += 2;
      var N = Math.abs(C);
      for (var G = 0; G < N; G++) {
          var k = new U;
          i = dZ.sQ(k, E, K, i);
          E.t[G] = k
      }
      var V = new h4(0,0,E.d,E.v);
      for (var G = 0; G < N; G++) {
          var j = E.t[G]
            , a = j.$Y();
          i = a3.sQ(j, E, K, i);
          eP.Sr(j, V);
          if (a)
              eP.Sr(a, V)
      }
  }
  ;
  eP.Sr = function(E, K) {
      var i = E.rect.X()
        , C = E.rect.lx(K)
        , N = C.X() / i;
      if (i > 2e3 * 3e3 && N < .5) {
          if (E.buffer) {
              var k = _.I(C.X() * 4);
              _.p8(E.buffer, E.rect, k, C);
              E.buffer = k;
              E.rect = C
          } else {
              var k = _.I(C.X());
              _.ie(E.channel, E.rect, k, C);
              E.channel = k;
              E.rect = C
          }
          alert("Removing hidden parts of layers")
      }
  }
  ;
  eP.a7s = function(E, K, i, C, N) {
      var k = i;
      O.VI(K, i, 0);
      i += 4;
      var V = E.t.length;
      O.kI(K, i, N ? -V : V);
      i += 2;
      var j = [];
      for (var G = 0; G < V; G++)
          i = dZ.c4(E.t[G], E, K, i, j);
      for (var G = 0; G < V; G++)
          i = a3.fD(E.t[G], K, i, j[G], C);
      var a = i - k - 4;
      if (a % 2 != 0)
          a++;
      O.VI(K, k, a);
      return k + a + 4
  }
  ;
  eP.a7n = function(E, K, i) {
      var C = O.n(K, i);
      i += 4;
      i += C;
      return i
  }
  ;
  eP.a5V = function(E, K, i) {
      var C = O.VI(K, i, 0);
      i += 4;
      return i
  }
  ;
  eP.a0u = function(E, K, i) {
      var C = E.KR, N = "Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "), k = [1, 1, 1, 3, 4, 1, 1, 3], V, H;
      if (C != 3) {
          if (C == 1 || C == 2 || C == 4)
              alert("Project will be converted from " + N[C] + " to " + N[3] + " mode.");
          else {
              alert("Color mode " + N[C] + " is not supported yet :(")
          }
      }
      if (E.kZ.r1045) {
          V = [];
          var j = E.kZ.r1045
            , a = 0;
          while (a < j.length) {
              var e = O.T2(j, a);
              V.push(e);
              a += 4 + 2 + e.length * 2
          }
      }
      var L = k[C] + (V == null || V[0] == "Transparency" ? 1 : 0)
        , g = E.d
        , I = E.v
        , h = g * I
        , o = O.HJ(K, i);
      i += 2;
      E.buffer = _.I(h * 4);
      _.EE(E.buffer, 4278190080);
      var A = i;
      for (var S = 0; S < E.Ie; S++) {
          if (o == 0) {
              H = a3.X8(E.VX, E.G$, K, g, I, i, o);
              i += h * (E.G$ >>> 3)
          } else if (o == 1) {
              H = _.I(h);
              var v = E.VX ? 4 : 2;
              if (S == 0)
                  i += E.Ie * I * v;
              i += a3.mO(K, H, g, I, A + S * I * v, i, v)
          } else {
              console.log("unknown compression of image data: ", o);
              return
          }
          if (S < L) {
              _.lM(H, E.buffer, S);
              if (E.Ie == 1 && S == 0) {
                  _.lM(H, E.buffer, 1);
                  _.lM(H, E.buffer, 2)
              }
          } else {
              var s = new U.xW
                , D = S - L
                , F = S - k[E.KR];
              s.name = V ? V[F] : "Alpha";
              if (s.name == "Quick Mask") {
                  s.a5 = !0;
                  E.QZ.push(D)
              }
              s.rect = new h4(0,0,g,I);
              s.channel = H;
              s.color = 0;
              s.NU();
              E.h_[D] = s;
              if (E.kZ.r1077) {
                  var j = E.kZ.r1077.slice(4 + F * 13);
                  s.vc = b9.h0(j, 0);
                  s.di = j[11];
                  s.wn = j[12];
                  if (s.wn == 2)
                      s.a5 = !0
              }
          }
      }
      E.Ie = 4;
      if (E.KR == 2)
          for (var G = 0; G < h; G++) {
              var y = G * 4
                , T = E.buffer[y];
              E.buffer[y] = E.Mh[0 + T];
              E.buffer[y + 1] = E.Mh[256 + T];
              E.buffer[y + 2] = E.Mh[512 + T]
          }
      return i
  }
  ;
  eP.aol = function(E, K, i, C, N) {
      var k = 1, V = 16, j = E.d, a = E.v, L, g;
      O.kI(K, i, k);
      i += 2;
      var e = j * a;
      if (!C) {
          g = new _.U0(j * a);
          _.nT(E.buffer, g);
          var I = g.h
            , h = g.l
            , o = g.O
            , H = g.R;
          for (var G = 0; G < e; G++) {
              var A = H[G] * (1 / 255);
              I[G] = ~~(I[G] * A + 255 * (1 - A));
              h[G] = ~~(h[G] * A + 255 * (1 - A));
              o[G] = ~~(o[G] * A + 255 * (1 - A))
          }
      } else
          L = _.I(e);
      var S = [L, L, L];
      if (!C)
          S = [g.h, g.l, g.O];
      if (N)
          S.push(C ? L : g.R);
      for (var G = 0; G < E.h_.length; G++) {
          S.push(E.h_[G].or(new h4(0,0,E.d,E.v)))
      }
      var v = i;
      for (var s = 0; s < S.length; s++) {
          K.BX(i, j * a + 4);
          L = S[s];
          if (k == 0 || k == 2 || k == 3)
              i = a3.FQ(L, K.data, j, a, i, k);
          else {
              if (s == 0)
                  i += S.length * a * 2;
              var D = i;
              i += a3.MT(L, K.data, j, a, v + s * a * 2, i)
          }
      }
      return i
  }
  ;
  function eE() {}
  eE.sQ = function(E) {
      var K = {};
      eE.uN(E, K, 0, 0);
      return K
  }
  ;
  eE.c4 = function(E, K) {
      var i = 0;
      i = eE.hi(E, K, i, 0);
      return i
  }
  ;
  eE.uN = function(E, K, i, C) {
      while (E[i] != "<".charCodeAt(0))
          i++;
      i += 2;
      while (!0) {
          if (E[i] == "/".charCodeAt(0)) {
              i++;
              var N = O.indexOf(E, " ".charCodeAt(0), i, i + 50)
                , k = O.indexOf(E, "\n".charCodeAt(0), i, i + 50);
              if (k == -1)
                  k = Infinity;
              if (N == -1)
                  N = Infinity;
              var V = Math.min(k, N)
                , j = O.zV(E, i, V - i)
                , a = eE.We(E, V + 1, C + 1, j);
              K[j] = a.G;
              i = V + 1;
              i += a.size
          } else if (E[i] == ">".charCodeAt(0)) {
              i += 2;
              break
          } else {
              var e = E[i];
              if (e == 10 || e == 9 || e == 32)
                  i++;
              else {
                  console.log("unknown byte: " + e + ", char: " + String.fromCharCode(e), i);
                  i++
              }
          }
      }
      return i
  }
  ;
  eE.hi = function(E, K, i, C) {
      O.Fu(K, i, "<<\n");
      i += 3;
      var N = eE.a2g;
      for (var k in E) {
          O.JP(K, i, "\t".charCodeAt(0), C + 1);
          i += C + 1;
          O.Fu(K, i, "/" + k);
          i += 1 + k.length;
          if (N(E[k]) || E[k]instanceof Array) {
              O.Fu(K, i, " ");
              i++
          } else {
              O.Fu(K, i, "\n");
              i++;
              O.JP(K, i, "\t".charCodeAt(0), C + 1);
              i += C + 1
          }
          i = eE.G2(E[k], K, i, C + 1);
          O.Fu(K, i, "\n");
          i++
      }
      O.JP(K, i, "\t".charCodeAt(0), C);
      i += C;
      O.Fu(K, i, ">>");
      i += 2;
      return i
  }
  ;
  eE.We = function(E, K, i, C) {
      var N = K
        , k = {
          size: 0,
          G: 0
      };
      while (!0) {
          while (E[K] == " ".charCodeAt(0) || E[K] == "\t".charCodeAt(0) || E[K] == "\n".charCodeAt(0))
              K++;
          if (E[K] == "<".charCodeAt(0)) {
              k.G = {};
              K = eE.uN(E, k.G, K, i + 1);
              break
          } else if (E[K] == "(".charCodeAt(0)) {
              K += 3;
              var V = K;
              while (!0) {
                  if (E[V - 1] != "\\".charCodeAt(0) && E[V] == ")".charCodeAt(0) && (E[V + 1] == "\n".charCodeAt(0) || E[V + 1] == " ".charCodeAt(0)))
                      break;
                  else
                      V++
              }
              k.G = O.MM(E, K, V);
              K = V + 2;
              break
          } else if (E[K] == "[".charCodeAt(0)) {
              K++;
              k.G = [];
              while (E[K] == " ".charCodeAt(0) || E[K] == "\t".charCodeAt(0) || E[K] == "\n".charCodeAt(0))
                  K++;
              while (E[K] != "]".charCodeAt(0)) {
                  var j = eE.We(E, K, i + 1, C);
                  k.G.push(j.G);
                  K += j.size;
                  while (E[K] == " ".charCodeAt(0) || E[K] == "\t".charCodeAt(0) || E[K] == "\n".charCodeAt(0))
                      K++
              }
              K++;
              break
          } else {
              var a = O.indexOf(E, " ".charCodeAt(0), K, K + 50)
                , e = O.indexOf(E, "\n".charCodeAt(0), K, K + 50);
              if (e == -1)
                  e = Infinity;
              if (a == -1)
                  a = Infinity;
              var L = O.zV(E, K, Math.min(a, e) - K).trim()
                , g = parseFloat(L);
              if (!isNaN(g)) {
                  k.G = parseFloat(L);
                  K = Math.min(a, e) + 1;
                  break
              } else if (L == "true" || L == "false") {
                  k.G = L == "true";
                  K = Math.min(a, e) + 1;
                  break
              } else if (L == "null" || L == "NaN" || L == "undefined") {
                  k.G = 0;
                  K = Math.min(a, e) + 1;
                  break
              } else {
                  console.log("unknown identifier: " + L);
                  throw "e"
              }
              K = Math.min(a, e) + 1
          }
      }
      k.size = K - N;
      return k
  }
  ;
  eE.G2 = function(E, K, i, C) {
      if (E instanceof Array) {
          var N = E.length == 0 || typeof E[0] == "number";
          if (N) {
              O.Fu(K, i, "[ ");
              i += 2;
              for (var G = 0; G < E.length; G++) {
                  var k = E[G] + " ";
                  O.Fu(K, i, k);
                  i += k.length
              }
              O.Fu(K, i, "]");
              i += 1
          } else {
              O.Fu(K, i, "[\n");
              i += 2;
              for (var G = 0; G < E.length; G++) {
                  O.JP(K, i, "\t".charCodeAt(0), C);
                  i += C;
                  i = eE.G2(E[G], K, i, C);
                  O.Fu(K, i, "\n");
                  i++
              }
              O.JP(K, i, "\t".charCodeAt(0), C);
              i += C;
              O.Fu(K, i, "]");
              i += 1
          }
      } else if (E instanceof Object) {
          i = eE.hi(E, K, i, C)
      } else if (typeof E == "string") {
          O.Fu(K, i, "(");
          i++;
          O.JP(K, i, 254);
          i++;
          O.JP(K, i, 255);
          i++;
          i = O.k$(K, i, E);
          O.Fu(K, i, ")");
          i += 1
      } else {
          var k = E + "";
          O.Fu(K, i, k);
          i += k.length
      }
      return i
  }
  ;
  eE.a2g = function(E) {
      var K = typeof E;
      return K == "string" || K == "number" || K == "boolean"
  }
  ;
  function cK() {}
  cK.sQ = function(E) {
      var K = {};
      cK.yP(E, K, 0, 0);
      return K
  }
  ;
  cK.c4 = function(E, K) {
      var i = 0;
      O.Fu(K, i, " ");
      i++;
      i = cK.oE(E, K, i, 0);
      i--;
      K.BX(i, 2);
      K.data[i] = K.data[i + 1] = 0;
      i += 2;
      return i
  }
  ;
  cK.uN = function(E, K, i, C) {
      while (E[i] != "<".charCodeAt(0)) {
          i++;
          console.log("\u0161ipka")
      }
      i += 2;
      i = cK.yP(E, K, i, C);
      return i
  }
  ;
  cK.hi = function(E, K, i, C) {
      O.Fu(K, i, "<< ");
      i += 3;
      i = cK.oE(E, K, i, C);
      O.Fu(K, i, ">>");
      i += 2;
      return i
  }
  ;
  cK.Ne = function(E) {
      return E == 9 || E == 10 || E == 32
  }
  ;
  cK.yP = function(E, K, i, C) {
      while (!0) {
          while (cK.Ne(E[i]) || E[i] == 0)
              i++;
          if (i >= E.length)
              break;
          if (E[i] == "/".charCodeAt(0)) {
              i++;
              var N = i;
              while (!cK.Ne(E[N]))
                  N++;
              var k = O.zV(E, i, N - i);
              i = N + 1;
              var V = cK.We(E, i, C, k);
              K["_" + k] = V.G;
              i += V.size
          } else if (E[i] == ">".charCodeAt(0)) {
              i += 2;
              break
          } else {
              var j = E[i];
              console.log(O.zV(E, i, i + 100));
              console.log("unknown byte: " + j + ", char: " + String.fromCharCode(j) + ", offset: " + i);
              i++;
              throw "e";
              return -1
          }
      }
      return i
  }
  ;
  cK.oE = function(E, K, i, C) {
      for (var N in E) {
          var k = N.substring(1, N.length);
          O.Fu(K, i, "/" + k);
          i += 1 + k.length;
          O.Fu(K, i, " ");
          i++;
          i = cK.G2(E[N], K, i, C + 1);
          O.Fu(K, i, " ");
          i++
      }
      return i
  }
  ;
  cK.We = function(E, K, i, C) {
      var N = K
        , k = {
          type: "",
          size: 0,
          G: 0
      };
      while (cK.Ne(E[K]))
          K++;
      if (E[K] == "<".charCodeAt(0)) {
          k.type = "Object";
          k.G = {};
          K = cK.uN(E, k.G, K, i + 1)
      } else if (E[K] == "(".charCodeAt(0)) {
          k.type = "String";
          K++;
          if (E[K] == ")".charCodeAt(0)) {
              k.G = "s";
              K++
          } else {
              K += 2;
              var V = K
                , ee = 0;
              while (!0) {
                  if (E[V] == ")".charCodeAt(0) && E[V - 1] != "\\".charCodeAt(0))
                      break;
                  else
                      V += 1
              }
              k.G = "s" + O.MM(E, K, V);
              K = V + 2
          }
      } else if (E[K] == "[".charCodeAt(0)) {
          K++;
          k.G = [];
          k.type = "Array";
          while (cK.Ne(E[K]))
              K++;
          while (E[K] != "]".charCodeAt(0)) {
              var j = cK.We(E, K, i + 1, C);
              if (j == -1)
                  return -1;
              k.G.push(j.G);
              K += j.size;
              delete j.size;
              while (cK.Ne(E[K]))
                  K++
          }
          K++
      } else {
          var a = K;
          while (!cK.Ne(E[a]))
              a++;
          var e = O.zV(E, K, a - K)
            , L = parseFloat(e);
          if (!isNaN(L) && e.indexOf(".") != -1) {
              k.type = "Float";
              var g = parseFloat(e);
              k.G = "f" + g
          } else if (!isNaN(L) && e.indexOf(".") == -1) {
              k.type = "Integer";
              k.G = "i" + parseInt(e)
          } else if (e == "true" || e == "false") {
              k.type = "Boolean";
              k.G = e == "true"
          } else if (e.charAt(0) == "/") {
              k.type = "BString";
              k.G = e
          } else if (e == "NaN") {
              k.type = "Float";
              k.G = "f0"
          } else {
              console.log("unknown value", JSON.stringify(e));
              throw "e"
          }
          K = a + 1
      }
      k.size = K - N;
      return k
  }
  ;
  cK.a8W = function(E) {
      if (E == Math.round(E))
          return E + ".0";
      var K = E.toFixed(5);
      if (0 < E && E < 1)
          K = K.substring(1, K.length);
      if (-1 < E && E < 0)
          K = "-" + K.substring(2, K.length);
      return K
  }
  ;
  cK.G2 = function(E, K, i, C) {
      var N = typeof E == "string" ? E.charAt(0) : "";
      if (E instanceof Array) {
          O.Fu(K, i, "[ ");
          i += 2;
          for (var G = 0; G < E.length; G++) {
              i = cK.G2(E[G], K, i, C);
              O.Fu(K, i, " ");
              i++
          }
          O.Fu(K, i, "]");
          i += 1
      } else if (E instanceof Object) {
          i = cK.hi(E, K, i, C)
      } else if (N == "s") {
          O.Fu(K, i, "(");
          i++;
          O.JP(K, i, 254);
          i++;
          O.JP(K, i, 255);
          i++;
          i = O.k$(K, i, E.substring(1));
          O.Fu(K, i, ")");
          i++
      } else if (N == "/") {
          O.Fu(K, i, E);
          i += E.length
      } else if (N == "f") {
          var k = parseFloat(E.substring(1))
            , V = cK.a8W(k);
          O.Fu(K, i, V);
          i += V.length
      } else if (N == "i") {
          O.Fu(K, i, E.substring(1));
          i += E.length - 1
      } else {
          var V = E + "";
          O.Fu(K, i, V);
          i += V.length
      }
      return i
  }
  ;
  function bT(E, K) {
      if (!E)
          E = 0;
      if (!K)
          K = 0;
      this.x = E;
      this.y = K
  }
  bT.prototype.add = function(E) {
      return new bT(this.x + E.x,this.y + E.y)
  }
  ;
  bT.prototype.clone = function() {
      return new bT(this.x,this.y)
  }
  ;
  bT.prototype.hX = function(E) {
      this.x = E.x;
      this.y = E.y
  }
  ;
  bT.prototype.Ql = function(E) {
      return this.x == E.x && this.y == E.y
  }
  ;
  bT.prototype.normalize = function(E) {
      var K = Math.sqrt(this.x * this.x + this.y * this.y);
      this.x *= E / K;
      this.y *= E / K
  }
  ;
  bT.prototype.offset = function(E, K) {
      this.x += E;
      this.y += K
  }
  ;
  bT.prototype.Wm = function(E, K) {
      this.x = E;
      this.y = K
  }
  ;
  bT.prototype.g7 = function(E) {
      return new bT(this.x - E.x,this.y - E.y)
  }
  ;
  bT.zL = function(E, K) {
      return bT.a3g(E.x, E.y, K.x, K.y)
  }
  ;
  bT.Rg = function(E, K, i) {
      return new bT(E.x + i * (K.x - E.x),E.y + i * (K.y - E.y))
  }
  ;
  bT.am4 = function(E, K) {
      return new bT(E * Math.cos(K),E * Math.sin(K))
  }
  ;
  bT.a3g = function(E, K, i, C) {
      return Math.sqrt((i - E) * (i - E) + (C - K) * (C - K))
  }
  ;
  bT.mm = {};
  bT.G3 = {};
  bT.mm.create = function() {
      var E = new Float32Array(4);
      return E
  }
  ;
  bT.G3.create = function(E) {
      var K = new Float32Array(16);
      K[0] = K[5] = K[10] = K[15] = 1;
      if (E)
          bT.G3.set(E, K);
      return K
  }
  ;
  bT.mm.add = function(E, K, i) {
      i[0] = E[0] + K[0];
      i[1] = E[1] + K[1];
      i[2] = E[2] + K[2];
      i[3] = E[3] + K[3]
  }
  ;
  bT.mm.set = function(E, K) {
      K[0] = E[0];
      K[1] = E[1];
      K[2] = E[2];
      K[3] = E[3]
  }
  ;
  bT.G3.set = function(E, K) {
      K[0] = E[0];
      K[1] = E[1];
      K[2] = E[2];
      K[3] = E[3];
      K[4] = E[4];
      K[5] = E[5];
      K[6] = E[6];
      K[7] = E[7];
      K[8] = E[8];
      K[9] = E[9];
      K[10] = E[10];
      K[11] = E[11];
      K[12] = E[12];
      K[13] = E[13];
      K[14] = E[14];
      K[15] = E[15]
  }
  ;
  bT.G3.multiply = function(E, K, i) {
      var C = E[0]
        , N = E[1]
        , k = E[2]
        , V = E[3]
        , j = E[4]
        , a = E[5]
        , e = E[6]
        , L = E[7]
        , g = E[8]
        , I = E[9]
        , h = E[10]
        , o = E[11]
        , H = E[12]
        , A = E[13]
        , S = E[14]
        , v = E[15]
        , s = K[0]
        , D = K[1]
        , F = K[2]
        , y = K[3];
      i[0] = s * C + D * j + F * g + y * H;
      i[1] = s * N + D * a + F * I + y * A;
      i[2] = s * k + D * e + F * h + y * S;
      i[3] = s * V + D * L + F * o + y * v;
      s = K[4];
      D = K[5];
      F = K[6];
      y = K[7];
      i[4] = s * C + D * j + F * g + y * H;
      i[5] = s * N + D * a + F * I + y * A;
      i[6] = s * k + D * e + F * h + y * S;
      i[7] = s * V + D * L + F * o + y * v;
      s = K[8];
      D = K[9];
      F = K[10];
      y = K[11];
      i[8] = s * C + D * j + F * g + y * H;
      i[9] = s * N + D * a + F * I + y * A;
      i[10] = s * k + D * e + F * h + y * S;
      i[11] = s * V + D * L + F * o + y * v;
      s = K[12];
      D = K[13];
      F = K[14];
      y = K[15];
      i[12] = s * C + D * j + F * g + y * H;
      i[13] = s * N + D * a + F * I + y * A;
      i[14] = s * k + D * e + F * h + y * S;
      i[15] = s * V + D * L + F * o + y * v;
      return i
  }
  ;
  bT.G3.inverse = function(E, K) {
      var i = E[0]
        , C = E[1]
        , N = E[2]
        , k = E[3]
        , V = E[4]
        , j = E[5]
        , a = E[6]
        , e = E[7]
        , L = E[8]
        , g = E[9]
        , I = E[10]
        , h = E[11]
        , o = E[12]
        , H = E[13]
        , A = E[14]
        , S = E[15]
        , v = i * j - C * V
        , s = i * a - N * V
        , D = i * e - k * V
        , F = C * a - N * j
        , y = C * e - k * j
        , T = N * e - k * a
        , Q = L * H - g * o
        , B = L * A - I * o
        , r = L * S - h * o
        , J = g * A - I * H
        , m = g * S - h * H
        , x = I * S - h * A
        , R = v * x - s * m + D * J + F * r - y * B + T * Q;
      if (!R) {
          return null
      }
      R = 1 / R;
      K[0] = (j * x - a * m + e * J) * R;
      K[1] = (N * m - C * x - k * J) * R;
      K[2] = (H * T - A * y + S * F) * R;
      K[3] = (I * y - g * T - h * F) * R;
      K[4] = (a * r - V * x - e * B) * R;
      K[5] = (i * x - N * r + k * B) * R;
      K[6] = (A * D - o * T - S * s) * R;
      K[7] = (L * T - I * D + h * s) * R;
      K[8] = (V * m - j * r + e * Q) * R;
      K[9] = (C * r - i * m - k * Q) * R;
      K[10] = (o * y - H * D + S * v) * R;
      K[11] = (g * D - L * y - h * v) * R;
      K[12] = (j * B - V * J - a * Q) * R;
      K[13] = (i * J - C * B + N * Q) * R;
      K[14] = (H * s - o * F - A * v) * R;
      K[15] = (L * F - g * s + I * v) * R;
      return K
  }
  ;
  bT.G3.afd = function(E, K, i) {
      var C = K[0]
        , N = K[1];
      i[0] = C * E[0] + N * E[4] + E[12];
      i[1] = C * E[1] + N * E[5] + E[13]
  }
  ;
  bT.G3.afF = function(E, K, i) {
      var C = K[0]
        , N = K[1]
        , k = K[2]
        , V = K[3];
      i[0] = E[0] * C + E[4] * N + E[8] * k + E[12] * V;
      i[1] = E[1] * C + E[5] * N + E[9] * k + E[13] * V;
      i[2] = E[2] * C + E[6] * N + E[10] * k + E[14] * V;
      i[3] = E[3] * C + E[7] * N + E[11] * k + E[15] * V
  }
  ;
  function fn(E, K, i, C, N, k) {
      if (typeof E === "undefined") {
          E = 1;
          K = 0;
          i = 0;
          C = 1;
          N = 0;
          k = 0
      }
      this.R = E;
      this.O = K;
      this.x9 = i;
      this.bI = C;
      this.vK = N;
      this.Cz = k
  }
  fn.prototype.x$ = function() {
      return Math.sqrt(Math.abs(this.R * this.bI - this.O * this.x9))
  }
  ;
  fn.prototype.iX = function() {
      var E = this
        , K = function(i) {
          return Math.abs(i) < 1e-9 ? 0 : i
      };
      E.R = K(E.R);
      E.O = K(E.O);
      E.x9 = K(E.x9);
      E.bI = K(E.bI);
      E.vK = K(E.vK);
      E.Cz = K(E.Cz)
  }
  ;
  fn.prototype.uZ = function(E) {
      return new bT(E.x * this.R + E.y * this.x9 + this.vK,E.x * this.O + E.y * this.bI + this.Cz)
  }
  ;
  fn.prototype.translate = function(E, K) {
      this.vK += E;
      this.Cz += K
  }
  ;
  fn.prototype.rotate = function(E) {
      var K = new fn(Math.cos(E),-Math.sin(E),Math.sin(E),Math.cos(E),0,0);
      this.concat(K)
  }
  ;
  fn.prototype.scale = function(E, K) {
      var i = new fn(E,0,0,K,0,0);
      this.concat(i)
  }
  ;
  fn.prototype.concat = function(E) {
      this.hX(new fn(this.R * E.R + this.O * E.x9,this.R * E.O + this.O * E.bI,this.x9 * E.R + this.bI * E.x9,this.x9 * E.O + this.bI * E.bI,this.vK * E.R + this.Cz * E.x9 + E.vK,this.vK * E.O + this.Cz * E.bI + E.Cz))
  }
  ;
  fn.prototype.KP = function() {
      var E = this.R * this.bI - this.O * this.x9;
      this.hX(new fn(this.bI / E,-this.O / E,-this.x9 / E,this.R / E,(this.x9 * this.Cz - this.bI * this.vK) / E,(this.O * this.vK - this.R * this.Cz) / E))
  }
  ;
  fn.prototype.clone = function() {
      return new fn(this.R,this.O,this.x9,this.bI,this.vK,this.Cz)
  }
  ;
  fn.prototype.hX = function(E) {
      this.R = E.R;
      this.O = E.O;
      this.x9 = E.x9;
      this.bI = E.bI;
      this.vK = E.vK;
      this.Cz = E.Cz
  }
  ;
  function O() {}
  O.aiB = function(l) {
      var E = "";
      for (var G = 3; G >= 0; G--)
          E += String.fromCharCode(l >> G * 8 & 255);
      return E
  }
  ;
  O.a3b = function(E) {
      var l = 0;
      for (var G = E.length - 1; G >= 0; G--)
          l |= E.charCodeAt(G) << (3 - G) * 8;
      return l
  }
  ;
  O.indexOf = function(E, K, i, C) {
      if (i == null)
          i = 0;
      if (C == null)
          C = E.length;
      C = Math.min(C, E.length);
      for (var G = i; G < C; G++)
          if (E[G] == K)
              return G;
      return -1
  }
  ;
  O.V_ = function(E, K, i) {
      if (i == null)
          i = 0;
      var C = K.length
        , N = E.length - C;
      if (typeof K == "string") {
          var k = [];
          for (var G = 0; G < C; G++)
              k.push(K.charCodeAt(G));
          K = k
      }
      if (K.length > 0) {
          var V = K[0];
          for (var G = i; G < N; G++)
              if (E[G] == V) {
                  var j = !0;
                  for (var a = 1; a < C; a++)
                      if (K[a] != E[G + a]) {
                          j = !1;
                          break
                      }
                  if (j)
                      return G
              }
      }
      return -1
  }
  ;
  O.MM = function(E, K, i) {
      var C = []
        , k = "";
      while (K < i) {
          var N = E[K++];
          if (N == "\\".charCodeAt(0))
              C.push(E[K++]);
          else
              C.push(N)
      }
      for (var G = 0; G < C.length; G += 2)
          k += String.fromCharCode(C[G] << 8 | C[G + 1]);
      return k
  }
  ;
  O.aoH = function(E, K, i) {
      var C = new Uint8Array(2);
      for (var G = 0; G < i.length; G++) {
          O.PU(C, 0, i.charCodeAt(G));
          if (C[0] == ")".charCodeAt(0) || C[0] == "(".charCodeAt(0) || C[0] == "\\".charCodeAt(0)) {
              E[K] = "\\".charCodeAt(0);
              K++
          }
          E[K] = C[0];
          K++;
          if (C[1] == ")".charCodeAt(0) || C[1] == "(".charCodeAt(0) || C[1] == "\\".charCodeAt(0)) {
              E[K] = "\\".charCodeAt(0);
              K++
          }
          E[K] = C[1];
          K++
      }
      return K
  }
  ;
  O.k$ = function(E, K, i) {
      E.BX(K, 4 * i.length);
      return O.aoH(E.data, K, i)
  }
  ;
  O.gr = function(E, K, i) {
      var C = "";
      for (var G = 0; G < i; G++) {
          var N = E[K++] | E[K++] << 8;
          C += String.fromCharCode(N)
      }
      return C
  }
  ;
  O.a9 = function(E, K, i) {
      var C = "";
      for (var G = 0; G < i; G++) {
          var N = E[K++] << 8 | E[K++];
          C += String.fromCharCode(N)
      }
      return C
  }
  ;
  O.aam = function(E, K, i) {
      for (var G = 0; G < i.length; G++) {
          var C = i.charCodeAt(G);
          O.Le(E, K + 2 * G, C)
      }
  }
  ;
  O.Qo = function(E, K, i) {
      for (var G = 0; G < i.length; G++) {
          var C = i.charCodeAt(G);
          O.PU(E, K + 2 * G, C)
      }
  }
  ;
  O.a4f = function(E, K, i) {
      E.BX(K, 2 * i.length);
      O.Qo(E.data, K, i)
  }
  ;
  O.a38 = function(E, G, K) {
      var i = []
        , C = 0
        , N = 0;
      K += G;
      while (G < K) {
          C = E[G++];
          if ((C & 128) == 0)
              N = C;
          else if ((C & 224) == 192) {
              N = (C & 31) << 6;
              C = E[G++];
              N |= C & 63
          } else if ((C & 240) == 224) {
              N = (C & 15) << 12;
              C = E[G++];
              N |= (C & 63) << 6;
              C = E[G++];
              N |= C & 63
          } else if ((C & 248) == 240) {
              N = (C & 7) << 18;
              C = E[G++];
              N |= (C & 63) << 12;
              C = E[G++];
              N |= (C & 63) << 6;
              C = E[G++];
              N |= C & 63
          } else
              throw "e";
          i.push(N)
      }
      return i
  }
  ;
  O.YO = window.TextDecoder ? new window.TextDecoder("utf8") : null;
  O.Yo = function(E, K, i) {
      if (K == null)
          K = 0;
      if (i == null)
          i = E.length;
      if (O.YO && K == 0 && i == E.length)
          return O.YO.decode(E);
      var C = O.a38(E, K, i)
        , N = C.length;
      for (var G = 0; G < N; G++)
          C[G] = String.fromCharCode(C[G]);
      return C.join("")
  }
  ;
  O.Bv = window.TextEncoder ? new window.TextEncoder("utf8") : null;
  O.xm = function(E) {
      if (O.Bv)
          return O.Bv.encode(E);
      var K = new Uint8Array(E.length * 4)
        , i = O.AP(E, K, 0);
      return K.slice(0, i)
  }
  ;
  O.AP = function(E, K, i) {
      var C = E.length
        , G = 0;
      for (var N = 0; N < C; N++) {
          var k = E.charCodeAt(N);
          if ((k & 4294967295 - (1 << 7) + 1) == 0) {
              K[i + G] = k;
              G++
          } else if ((k & 4294967295 - (1 << 11) + 1) == 0) {
              K[i + G] = 192 | k >> 6;
              K[i + G + 1] = 128 | k >> 0 & 63;
              G += 2
          } else if ((k & 4294967295 - (1 << 16) + 1) == 0) {
              K[i + G] = 224 | k >> 12;
              K[i + G + 1] = 128 | k >> 6 & 63;
              K[i + G + 2] = 128 | k >> 0 & 63;
              G += 3
          } else if ((k & 4294967295 - (1 << 21) + 1) == 0) {
              K[i + G] = 240 | k >> 18;
              K[i + G + 1] = 128 | k >> 12 & 63;
              K[i + G + 2] = 128 | k >> 6 & 63;
              K[i + G + 3] = 128 | k >> 0 & 63;
              G += 4
          } else
              throw "e"
      }
      return G
  }
  ;
  O.vJ = function(E, K) {
      var i = O.n(E, K)
        , C = O.Yo(E, K + 4, i - 1);
      return {
          Us: C,
          q8: 4 + i
      }
  }
  ;
  O.aa2 = function(E, K) {
      var i = O.n$(E, K)
        , C = O.gr(E, K + 4, i);
      return C
  }
  ;
  O.uh = function(E, K) {
      var i = O.n(E, K)
        , C = O.a9(E, K + 4, i);
      return C
  }
  ;
  O.T2 = function(E, K) {
      var i = O.n(E, K)
        , C = O.a9(E, K + 4, i - 1);
      return C
  }
  ;
  O.ajh = function(E, K, i) {
      O.OW(E, K, i.length);
      K += 4;
      O.aam(E, K, i)
  }
  ;
  O.a6F = function(E, K, i) {
      O.P0(E, K, i.length);
      K += 4;
      O.Qo(E, K, i)
  }
  ;
  O.wU = function(E, K, i) {
      E.BX(K, 4 + 2 * i.length);
      O.a6F(E.data, K, i)
  }
  ;
  O.alj = function(E, K, i) {
      E.BX(K, 4 + 2 * i.length);
      O.ajh(E.data, K, i)
  }
  ;
  O.Vt = function(E, K, i) {
      var C = [];
      for (var G = 0; G < i; G++)
          C.push(String.fromCharCode(E[K + G]));
      return C
  }
  ;
  O.alY = function(E, K, i) {
      var C = !1
        , N = E.length - i.length;
      for (var G = K; G < N; G++) {
          for (var k = 0; k < i.length; k++) {
              if (E[G + k] != i.charCodeAt(k))
                  break;
              if (k == i.length - 1)
                  return G
          }
      }
  }
  ;
  O.zV = function(E, K, i) {
      var C = "";
      for (var G = 0; G < i; G++)
          C += String.fromCharCode(E[K + G]);
      return C
  }
  ;
  O.EX = function(E, K, i) {
      for (var G = 0; G < i.length; G++)
          E[K + G] = i.charCodeAt(G)
  }
  ;
  O.Fu = function(E, K, i) {
      E.BX(K, i.length);
      O.EX(E.data, K, i)
  }
  ;
  O.aeO = function(E, K, i) {
      var C = "";
      for (var G = 0; G < i; G++) {
          var N = E[K + G];
          if (N < 10)
              C += "  ";
          else if (N < 100)
              C += " ";
          C += N + ", "
      }
      return C
  }
  ;
  O.HJ = function(E, K) {
      return E[K] << 8 | E[K + 1]
  }
  ;
  O.PU = function(E, K, l) {
      E[K] = l >> 8 & 255;
      E[K + 1] = l & 255
  }
  ;
  O.kI = function(E, K, l) {
      E.BX(K, 4);
      O.PU(E.data, K, l)
  }
  ;
  O.aa3 = function(E, K) {
      var i = O.HJ(E, K)
        , C = O.HJ(E, K + 2);
      return i + C * (1 / 65536)
  }
  ;
  O.LB = function(E, K, l) {
      var i = Math.floor(l)
        , C = Math.floor((l - i) * 65536);
      O.PU(E, K, i);
      O.PU(E, K + 2, C)
  }
  ;
  O.od = function(E, K) {
      return E[K + 1] << 8 | E[K]
  }
  ;
  O.Le = function(E, K, l) {
      E[K + 1] = l >> 8 & 255;
      E[K] = l & 255
  }
  ;
  O.XT = function(E, K, l) {
      E.BX(K, 4);
      O.Le(E.data, K, l)
  }
  ;
  O.Mj = function(E, K) {
      O.qW[0] = E[K + 1];
      O.qW[1] = E[K];
      return O.T1[0]
  }
  ;
  O.K5 = function(E, K) {
      O.qW[0] = E[K];
      O.qW[1] = E[K + 1];
      return O.T1[0]
  }
  ;
  O.vd = O.PU;
  O.U4 = O.kI;
  O.Ex = function(E, K) {
      O.GM[0] = E[K + 3];
      O.GM[1] = E[K + 2];
      O.GM[2] = E[K + 1];
      O.GM[3] = E[K];
      return O.i9[0]
  }
  ;
  O.c2 = function(E, K, l) {
      O.i9[0] = l;
      E[K + 3] = O.GM[0];
      E[K + 2] = O.GM[1];
      E[K + 1] = O.GM[2];
      E[K + 0] = O.GM[3]
  }
  ;
  O.ig = function(E, K, l) {
      E.BX(K, 4);
      O.c2(E.data, K, l)
  }
  ;
  O.me = function(E, K, i, C) {
      i[C + 0] = E[K + 0];
      i[C + 1] = E[K + 1];
      i[C + 2] = E[K + 2];
      i[C + 3] = E[K + 3]
  }
  ;
  O.n$ = function(E, K) {
      O.me(E, K, O.GM, 0);
      return O.mS[0]
  }
  ;
  O.OW = function(E, K, l) {
      O.mS[0] = l;
      O.me(O.GM, 0, E, K)
  }
  ;
  O.S3 = function(E, K, l) {
      E.BX(K, 4);
      O.OW(E.data, K, l)
  }
  ;
  O.WI = function(E, K) {
      O.me(E, K, O.GM, 0);
      return O.i9[0]
  }
  ;
  O.a0Z = function(E, K, l) {
      O.i9[0] = l;
      O.me(O.GM, 0, E, K)
  }
  ;
  O.a48 = function(E, K, l) {
      E.BX(K, 4);
      O.a0Z(E.data, K, l)
  }
  ;
  O.n = function(E, K) {
      var i = E[K] * (256 * 256 * 256) + (E[K + 1] << 16 | E[K + 2] << 8 | E[K + 3]);
      return i
  }
  ;
  O.P0 = function(E, K, l) {
      E[K] = l >> 24 & 255;
      E[K + 1] = l >> 16 & 255;
      E[K + 2] = l >> 8 & 255;
      E[K + 3] = l >> 0 & 255
  }
  ;
  O.VI = function(E, K, l) {
      E.BX(K, 4);
      O.P0(E.data, K, l)
  }
  ;
  O.D4 = function(E, K) {
      return O.n(E, K) << 32 | O.n(E, K + 4)
  }
  ;
  O.a6T = function(E, K, l) {
      O.P0(E, K, l >> 16 >> 16);
      O.P0(E, K + 4, l & 4294967295)
  }
  ;
  O.hf = function(E, K, l) {
      E.BX(K, 8);
      O.a6T(E.data, K, l)
  }
  ;
  O.AN = function(E, K) {
      var i = new Uint8Array(8);
      for (var G = 0; G < 8; G++)
          i[G] = E[K + 7 - G];
      var C = new Float64Array(i.buffer);
      return C[0]
  }
  ;
  O.aab = function(E, K) {
      var i = new Uint8Array(8);
      for (var G = 0; G < 8; G++)
          i[G] = E[K + G];
      var C = new Float64Array(i.buffer);
      return C[0]
  }
  ;
  O.j5 = function(E, K, l) {
      var i = new Float64Array(1);
      i[0] = l;
      var C = new Uint8Array(i.buffer);
      for (var G = 0; G < 4; G++) {
          var N = C[G];
          C[G] = C[7 - G];
          C[7 - G] = N
      }
      for (var G = 0; G < 8; G++)
          E[K + G] = C[G]
  }
  ;
  O.fF = function(E, K, l) {
      E.BX(K, 8);
      O.j5(E.data, K, l)
  }
  ;
  O.qE = function(E, K) {
      O.GM[0] = E[K + 3];
      O.GM[1] = E[K + 2];
      O.GM[2] = E[K + 1];
      O.GM[3] = E[K + 0];
      return O.Ab[0]
  }
  ;
  O.JC = function(E, K) {
      O.GM[0] = E[K + 0];
      O.GM[1] = E[K + 1];
      O.GM[2] = E[K + 2];
      O.GM[3] = E[K + 3];
      return O.Ab[0]
  }
  ;
  O.YC = function(E, K, l) {
      O.Ab[0] = l;
      E[K + 0] = O.GM[3];
      E[K + 1] = O.GM[2];
      E[K + 2] = O.GM[1];
      E[K + 3] = O.GM[0]
  }
  ;
  O.acd = function(E, K, l) {
      E.BX(K, 4);
      O.YC(E.data, K, l)
  }
  ;
  O.HI = function(E, K, l) {
      O.Ab[0] = l;
      E[K + 0] = O.GM[0];
      E[K + 1] = O.GM[1];
      E[K + 2] = O.GM[2];
      E[K + 3] = O.GM[3]
  }
  ;
  O.a71 = function(E, K, l) {
      E.BX(K, 4);
      O.HI(E.data, K, l)
  }
  ;
  O.a2K = function(E, K) {
      var i = O.Ex(E, K)
        , C = i * (1 / (1 << 24));
      return C
  }
  ;
  O.Cv = function(E, K, i) {
      var C = Math.floor(i * (1 << 24));
      O.c2(E, K, C)
  }
  ;
  O.ag6 = function(E, K, i) {
      E.BX(K, 4);
      O.Cv(E.data, K, i)
  }
  ;
  O.wm = function(E, K) {
      var i = E[K]
        , C = O.zV(E, K + 1, i);
      i += 1 - i % 2;
      return {
          bu: C,
          length: i + 1
      }
  }
  ;
  O.acT = function(E, K, i) {
      var C = i.length;
      E[K] = C;
      O.EX(E, K + 1, i);
      if (C % 2 == 0) {
          E[K + 1 + C] = 0;
          ++C
      }
      return C + 1
  }
  ;
  O.b4 = function(E, K, i) {
      E.BX(K, i.length + 2);
      return O.acT(E.data, K, i)
  }
  ;
  O.m$ = function(E, K) {
      var i = new fn;
      i.R = O.AN(E, K + 0 * 8);
      i.O = O.AN(E, K + 1 * 8);
      i.x9 = O.AN(E, K + 2 * 8);
      i.bI = O.AN(E, K + 3 * 8);
      i.vK = O.AN(E, K + 4 * 8);
      i.Cz = O.AN(E, K + 5 * 8);
      return i
  }
  ;
  O.Py = function(E, K, i) {
      O.j5(E, K + 0 * 8, i.R);
      O.j5(E, K + 1 * 8, i.O);
      O.j5(E, K + 2 * 8, i.x9);
      O.j5(E, K + 3 * 8, i.bI);
      O.j5(E, K + 4 * 8, i.vK);
      O.j5(E, K + 5 * 8, i.Cz)
  }
  ;
  O.aex = function(E, K, i) {
      E.BX(K, 48);
      O.Py(E.data, K, i)
  }
  ;
  O.agE = function(E, K) {
      var i = O.qE(E, K)
        , C = O.qE(E, K + 4)
        , N = O.qE(E, K + 8)
        , k = O.qE(E, K + 12);
      return new h4(i,C,N - i,k - C)
  }
  ;
  O.a54 = function(E, K, i) {
      O.YC(E, K, i.x);
      O.YC(E, K + 4, i.y);
      O.YC(E, K + 8, i.x + i.d);
      O.YC(E, K + 12, i.y + i.v)
  }
  ;
  O.anl = function(E, K, i) {
      E.BX(K, 16);
      O.a54(E.data, K, i)
  }
  ;
  O.RJ = function(E, K) {
      var i = O.Ex(E, K)
        , C = O.Ex(E, K + 4)
        , N = O.Ex(E, K + 8)
        , k = O.Ex(E, K + 12);
      return new h4(C,i,k - C,N - i)
  }
  ;
  O.N5 = function(E, K, i) {
      O.c2(E, K, i.y);
      O.c2(E, K + 4, i.x);
      O.c2(E, K + 8, i.y + i.v);
      O.c2(E, K + 12, i.x + i.d)
  }
  ;
  O.cx = function(E, K, i) {
      E.BX(K, 16);
      O.N5(E.data, K, i)
  }
  ;
  O.Xe = function(E, K, i) {
      var C = new Uint8Array(i);
      for (var G = 0; G < i; G++)
          C[G] = E[K + G];
      return C
  }
  ;
  O.Am = function(E, K, i) {
      E.set(i, K)
  }
  ;
  O.si = function(E, K, i) {
      E.BX(K, i.length);
      O.Am(E.data, K, i)
  }
  ;
  O.ako = function(E, K, i, l) {
      if (!l)
          l = 1;
      for (var G = 0; G < l; G++)
          E[K + G] = i
  }
  ;
  O.JP = function(E, K, i, l) {
      if (!l)
          l = 1;
      E.BX(K, l);
      O.ako(E.data, K, i, l)
  }
  ;
  O.T1 = new Int16Array(1);
  O.qW = new Uint8Array(O.T1.buffer);
  O.i9 = new Int32Array(1);
  O.mS = new Uint32Array(O.i9.buffer);
  O.GM = new Uint8Array(O.i9.buffer);
  O.Ab = new Float32Array(O.i9.buffer);
  function h4(E, K, i, C) {
      if (!E)
          E = 0;
      if (!K)
          K = 0;
      if (!i)
          i = 0;
      if (!C)
          C = 0;
      this.x = E;
      this.y = K;
      this.d = i;
      this.v = C
  }
  h4.prototype.X = function() {
      return this.d * this.v
  }
  ;
  h4.prototype.clone = function() {
      return new h4(this.x,this.y,this.d,this.v)
  }
  ;
  h4.prototype.contains = function(E, K) {
      return E >= this.x && E <= this.x + this.d && (K >= this.y && K <= this.y + this.v)
  }
  ;
  h4.prototype.c9 = function(E) {
      return this.contains(E.x, E.y)
  }
  ;
  h4.prototype.rp = function(E) {
      return this.x <= E.x && this.y <= E.y && E.x + E.d <= this.x + this.d && E.y + E.v <= this.y + this.v
  }
  ;
  h4.prototype.hX = function(E) {
      this.x = E.x;
      this.y = E.y;
      this.d = E.d;
      this.v = E.v
  }
  ;
  h4.prototype.Ql = function(E) {
      return this.x == E.x && this.y == E.y && this.d == E.d && this.v == E.v
  }
  ;
  h4.prototype.Lv = function(E, K) {
      this.x -= E;
      this.y -= K;
      this.d += 2 * E;
      this.v += 2 * K
  }
  ;
  h4.prototype.ajT = function(E) {
      this.Lv(E.x, E.y)
  }
  ;
  h4.prototype.lx = function(E) {
      var K = Math.max(this.x, E.x)
        , i = Math.max(this.y, E.y)
        , C = Math.min(this.x + this.d, E.x + E.d)
        , N = Math.min(this.y + this.v, E.y + E.v);
      if (C < K || N < i)
          return new h4;
      else
          return new h4(K,i,C - K,N - i)
  }
  ;
  h4.prototype.ET = function(E) {
      if (E.y + E.v < this.y || E.x > this.x + this.d || E.y > this.y + this.v || E.x + E.d < this.x)
          return !1;
      return !0
  }
  ;
  h4.prototype.OL = function() {
      return this.d <= 0 || this.v <= 0
  }
  ;
  h4.prototype.offset = function(E, K) {
      this.x += E;
      this.y += K
  }
  ;
  h4.prototype.CE = function(E) {
      this.offset(E.x, E.y)
  }
  ;
  h4.prototype.aaO = function() {
      this.x = this.y = this.d = this.v = 0
  }
  ;
  h4.prototype.Wm = function(E, K, i, C) {
      this.x = E;
      this.y = K;
      this.d = i;
      this.v = C
  }
  ;
  h4.prototype.ip = function(E) {
      if (this.OL())
          return E.clone();
      if (E.OL())
          return this.clone();
      var K = this.clone();
      K.akS(E);
      return K
  }
  ;
  h4.zk = new Float32Array(2);
  h4.prototype.akS = function(E) {
      if (E.OL())
          return;
      if (this.OL()) {
          this.hX(E);
          return
      }
      this.PD(E.x, E.y);
      this.PD(E.x + E.d, E.y + E.v)
  }
  ;
  h4.prototype.PD = function(E, K) {
      var i = Math.min(this.x, E)
        , C = Math.min(this.y, K);
      this.d = Math.max(this.x + this.d, E) - i;
      this.v = Math.max(this.y + this.v, K) - C;
      this.x = i;
      this.y = C
  }
  ;
  h4.prototype.a37 = function(E, K, i, C) {
      if (this.d == 0 && this.v == 0)
          this.a3A(E, K);
      else
          this.PD(E, K);
      this.PD(i, C)
  }
  ;
  h4.prototype.a3A = function(E, K) {
      this.x = E;
      this.y = K;
      this.d = this.v = 0
  }
  ;
  function iY() {}
  iY.sQ = function(E, K) {
      var i = new Uint8Array(E)
        , C = 0
        , N = O.zV(i, C, 9)
        , j = 4
        , a = 100;
      C += 9;
      var k = O.zV(i, C, 4);
      C += 4;
      C++;
      K.d = O.n(i, C);
      C += 4;
      K.v = O.n(i, C);
      C += 4;
      var V = O.n(i, C);
      C += 4;
      if (V != 0)
          alert("Unsupported image format, not RGB!");
      if (["file", "v001", "v002", "v003"].indexOf(k) == -1) {
          a = O.n(i, C);
          C += 4;
          if (parseInt(k.slice(1)) >= 7) {
              a = a
          } else
              alert("Unknown XCF version: " + k);
          j = 8
      }
      var e = {};
      C = iY.Xm(i, C, e);
      var L = [];
      C = iY.M6(i, C, L, j);
      var g = [];
      C = iY.M6(i, C, g, j);
      K.SU = 0;
      for (var G = 0; G < L.length; G++)
          iY.a26(i, L[G], K, e, j, a);
      while (K.SU > 0) {
          K.t.push(K.Yy());
          K.SU--
      }
      K.t.reverse();
      delete K.SU;
      K.buffer = _.I(K.d * K.v * 4);
      if (K.t.length == 0)
          console.log("No layers!!!");
      for (var G = 0; G < g.length; G++) {
          var I = iY.QM(i, g[G], e, j, a);
          if (I.tL[cV.af6])
              K.N = {
                  channel: I.oe,
                  rect: new h4(0,0,K.d,K.v)
              }
      }
  }
  ;
  iY.a26 = function(E, K, i, C, N, k) {
      var V = i.qV()
        , j = O.n(E, K)
        , g = 0;
      K += 4;
      var a = O.n(E, K);
      K += 4;
      V.rect = new h4(0,0,j,a);
      var e = O.n(E, K);
      K += 4;
      var L = O.vJ(E, K);
      K += L.q8;
      V.gv(L.Us);
      var I = {};
      K = iY.Xm(E, K, I);
      if (I[cV.Ej]) {
          var h = I[cV.Ej];
          g = h.length / 4 - 1
      }
      if (I[cV.$p]) {
          V.rect.x = O.Ex(I[cV.$p], 0);
          V.rect.y = O.Ex(I[cV.$p], 4)
      }
      if (I[cV.e3]) {
          V.opacity = O.n(I[cV.e3], 0)
      }
      if (I[cV.a4U]) {
          V.add.lsct = c5.qd;
          V.rect = new h4(0,0,0,0);
          V.buffer = _.I(0);
          V.it = 24
      }
      if (I[cV.Ob]) {
          var o = O.n(I[cV.Ob], 0);
          V.SI = cV.agM[o];
          if (V.Uf() && V.SI == "norm")
              V.SI = "pass"
      }
      if (I[cV.w5]) {
          if (O.n(I[cV.w5], 0) == 0)
              V.it += 2
      }
      if (I[cV.GO]) {
          var H = O.n(I[cV.GO], 0);
          V.add.lsct = H & 1 == 1 ? c5.qd : c5.Kw
      }
      if (I[cV.Hw]) {
          var A = I[cV.Hw];
          for (var S in A) {
              var v = A[S];
              if (S == "gimp-text-layer") {
                  var s = iY.ae6(v)
                    , D = s.text
                    , F = s.font
                    , y = s.color
                    , T = s["font-size"];
                  if (D == null && s.markup) {
                      var Q = new DOMParser
                        , B = Q.parseFromString(s.markup, "image/svg+xml");
                      while (B.firstChild != null && B.firstChild.tagName != null) {
                          B = B.firstChild;
                          var r = B.getAttribute("font")
                            , J = B.getAttribute("foreground")
                            , m = B.getAttribute("size");
                          if (r != null)
                              F = r;
                          if (J != null) {
                              J = CSS.h0(J);
                              y = [1, J.h / 255, J.l / 255, J.O / 255]
                          }
                          if (m != null) {
                              T = "" + parseFloat(m) / 245
                          }
                      }
                      D = B.textContent
                  }
                  V.add.lnsr = "rend";
                  V.add.TySh = cO.u3(0, 0);
                  V.add.TySh.u9 = new h4(0,0,100,100);
                  V.add.TySh.m = new fn(1,0,0,1,V.rect.x,V.rect.y);
                  var x = V.add.TySh.Ou;
                  cO.qu(x, 0, D);
                  var R = cO.UX(x, 0, 0)
                    , b = s.justify
                    , z = s["line-spacing"];
                  if (y)
                      R.dP.FillColor = {
                          Type: 1,
                          Values: [1, parseFloat(y[1]), parseFloat(y[2]), parseFloat(y[3])]
                      };
                  if (T) {
                      T = Math.round(parseFloat(T));
                      R.dP.FontSize = T;
                      V.add.TySh.m.Cz += Math.min(17, T * .17)
                  }
                  if (z) {
                      z = Math.round(parseFloat(z) + R.dP.FontSize * 1.2);
                      R.dP.Leading = z;
                      R.dP.AutoLeading = !1
                  }
                  if (b)
                      R.oN.Justification = ["left", "right", "center", "fill"].indexOf(b);
                  if (F && F != "Sans-serif") {
                      var $ = F.toLowerCase()
                        , P = "bold italic semi extra regular condensed light".split(" ")
                        , t = $.length;
                      for (var G = 0; G < P.length; G++) {
                          var X = $.indexOf(P[G]);
                          if (X != -1 && X < t && $[X - 1] == " ")
                              t = X
                      }
                      if (t != $.length)
                          F = F.slice(0, t - 1).split(" ").join("") + "-" + F.slice(t).split(" ").join("");
                      cO.Ui(R, F)
                  }
                  cO.Wk(x, 0, D.length, R);
                  var Z = s["box-width"]
                    , p = s["box-height"]
                    , f = Z ? parseFloat(Z) : V.rect.d
                    , cY = p ? parseFloat(p) : V.rect.v;
                  cO.kw(x, 1);
                  cO.Bk(x, [0, 0, Math.ceil(f), Math.ceil(cY)])
              } else
                  console.log("Unknown property " + S)
          }
      }
      while (i.SU > g) {
          i.t.push(i.Yy());
          i.SU--
      }
      i.SU = g;
      if (V.add.lsct == c5.qd || V.add.lsct == c5.Kw)
          i.SU++;
      var fC = N == 4 ? O.n : O.D4;
      if (V.Qs()) {
          V.buffer = _.I(V.rect.X() * 4);
          var hi = new _.U0(V.rect.X())
            , es = fC(E, K);
          K += N;
          var W = fC(E, K);
          K += N;
          iY.KL(E, es, hi, C, N, k);
          _.aS(hi, V.buffer);
          if (W != 0) {
              V.r = new U.xW;
              V.r.color = 0;
              V.r.rect = V.rect.clone();
              V.r.channel = iY.QM(E, W, C, N, k).oe;
              if (I[cV.Vn])
                  V.r.isEnabled = O.n(I[cV.Vn], 0) == 1
          }
      }
      i.t.push(V)
  }
  ;
  iY.ae6 = function(E) {
      var K = "(" + O.Yo(E, 0, E.length - 1) + ")"
        , i = []
        , C = {};
      iY.Ue(K, 1, i);
      iY.a2X(i, C);
      return C
  }
  ;
  iY.a2X = function(E, K) {
      for (var G = 0; G < E.length; G++) {
          var i = E[G]
            , C = i[0];
          if (i.length == 2)
              K[C] = i[1];
          else
              K[C] = i.slice(1)
      }
  }
  ;
  iY.Ue = function(E, K, i) {
      while (!0) {
          if (K >= E.length)
              throw "e";
          var C = E.charAt(K);
          K++;
          if (C == "(") {
              var N = [];
              K = iY.Ue(E, K, N);
              i.push(N)
          } else if (C == " " || C == "\n" || C == "\r") {} else if (C == ")")
              return K;
          else if (C == "\"") {
              var k = K;
              while (!0) {
                  var V = E[K];
                  K++;
                  if (V == "\"")
                      break;
                  if (V == "\\")
                      K++
              }
              i.push(JSON.parse(E.slice(k - 1, K)))
          } else {
              var k = K - 1;
              while (E[K] != " " && E[K] != ")")
                  K++;
              i.push(E.slice(k, K))
          }
      }
  }
  ;
  iY.QM = function(E, K, i, C, N) {
      var k = O.n(E, K);
      K += 4;
      var V = O.n(E, K);
      K += 4;
      var j = O.vJ(E, K);
      K += j.q8;
      var a = {};
      K = iY.Xm(E, K, a);
      var e = new _.U0(k * V)
        , L = C == 4 ? O.n : O.D4
        , g = L(E, K);
      K += C;
      iY.KL(E, g, e, i, C, N);
      return {
          oe: e.h,
          tL: a
      }
  }
  ;
  iY.KL = function(E, K, i, C, N, k) {
      var V = O.n(E, K);
      K += 4;
      var j = O.n(E, K);
      K += 4;
      var a = O.n(E, K);
      K += 4;
      var e = N == 4 ? O.n : O.D4
        , L = e(E, K);
      K += N;
      iY.ai8(E, L, i, C, a, N, k)
  }
  ;
  iY.ai8 = function(E, K, i, C, N, k, V) {
      var j = O.n(E, K)
        , L = 0
        , G = 0;
      K += 4;
      var a = O.n(E, K);
      K += 4;
      var e = new h4(0,0,j,a);
      if (V == 100 || V == 150)
          L = 1;
      else if (V == 200 || V == 250)
          L = 2;
      else if (V == 300 || V == 350)
          L = 4;
      else if (V == 500 || V == 550)
          L = 2;
      else if (V == 600 || V == 650)
          L = 4;
      else if (V == 700 || V == 750)
          L = 8;
      else {
          alert("unsupported bit depth " + V);
          throw "e"
      }
      var g = N / L
        , L = Math.round(N / g)
        , I = [];
      K = iY.M6(E, K, I, k);
      var h = new _.U0(64 * 64 * L)
        , o = new h4
        , H = C[cV.a0Q][0]
        , A = [h.h, h.l, h.O, h.R];
      if (g == 3)
          h.R.fill(255);
      var S = Date.now();
      for (var v = 0; v < a; v += 64)
          for (var s = 0; s < j; s += 64) {
              var D = Math.min(j - s, 64)
                , F = Math.min(a - v, 64)
                , y = D * F;
              o.Wm(s, v, D, F);
              iY.ahL(E, I[G++], y * L, H, g, A);
              if (V == 100 || V == 150) {} else if (V == 250) {
                  for (var T = 0; T < g; T++) {
                      var Q = A[T];
                      for (var B = 0; B < y; B++) {
                          var r = Q[B] << 8 | Q[y + B];
                          Q[B] = Math.min(r >>> 8, 255)
                      }
                  }
              } else if (V == 600) {
                  var J = iY.ak6()
                    , m = new Uint32Array(1)
                    , x = new Float32Array(m.buffer);
                  for (var T = 0; T < g; T++) {
                      var Q = A[T];
                      for (var B = 0; B < y; B++) {
                          m[0] = Q[B] << 24 | Q[y + B] << 16 | Q[(y << 1) + B] << 8 | Q[(y << 1) + y + B] << 0;
                          var R = x[0];
                          if (R < 0)
                              R = 0;
                          else if (R > 1)
                              R = 1;
                          Q[B] = J[~~(.5 + R * 1e3)]
                      }
                  }
              } else
                  console.log("unknown data format", V);
              _.dc(h, o, i, e)
          }
  }
  ;
  iY.ak6 = function() {
      var E = iY.aeW;
      if (E != null)
          return E;
      E = iY.aeW = new Uint8Array(1001);
      for (var G = 0; G < 1001; G++)
          E[G] = ~~(.49 + 255 * _.kM(G * .001));
      return E
  }
  ;
  iY.ahL = function(E, K, i, C, N, k) {
      if (C == 1) {
          for (var V = 0; V < N; V++) {
              var j = k[V]
                , a = 0;
              while (a < i) {
                  var l = E[K];
                  K++;
                  if (l < 127) {
                      var e = E[K];
                      K++;
                      l++;
                      for (var G = 0; G < l; G++)
                          j[a + G] = e
                  } else if (l == 127) {
                      var L = E[K];
                      K++;
                      var g = E[K];
                      K++;
                      var e = E[K];
                      K++;
                      l = L << 8 | g;
                      for (var G = 0; G < l; G++)
                          j[a + G] = e
                  } else if (l == 128) {
                      var L = E[K];
                      K++;
                      var g = E[K];
                      K++;
                      l = L << 8 | g;
                      for (var G = 0; G < l; G++)
                          j[a + G] = E[K + G];
                      K += l
                  } else {
                      l = 256 - l;
                      for (var G = 0; G < l; G++)
                          j[a + G] = E[K + G];
                      K += l
                  }
                  a += l
              }
          }
      } else if (C == 2) {
          var I = pako.inflate(E.slice(K))
            , h = Math.round(I.length / i);
          for (var G = 0; G < i; G++) {
              var o = G * h;
              k[0][G] = I[o];
              k[1][G] = I[o + 1];
              k[2][G] = I[o + 2];
              k[3][G] = h == 3 ? 255 : I[o + 3]
          }
      } else
          alert("Unknown compression " + C)
  }
  ;
  iY.M6 = function(E, K, i, C) {
      var N = C == 4 ? O.n : O.D4;
      while (!0) {
          var k = N(E, K);
          K += C;
          if (k == 0)
              break;
          else
              i.push(k)
      }
      return K
  }
  ;
  iY.Xm = function(E, K, i) {
      while (!0) {
          var C = O.n(E, K);
          K += 4;
          var N = O.n(E, K);
          K += 4;
          if (C == cV.a80)
              break;
          else if (C == cV.Hw)
              i[C] = iY.afY(E, K, K + N);
          else
              i[C] = O.Xe(E, K, N);
          K += N
      }
      return K
  }
  ;
  iY.afY = function(E, K, i) {
      var C = {};
      while (K < i) {
          var N = O.vJ(E, K);
          K += N.q8;
          var k = O.n(E, K);
          K += 4;
          if (k != 1)
              console.log("unknown flags", k);
          var V = O.n(E, K);
          K += 4;
          C[N.Us] = O.Xe(E, K, V);
          K += V
      }
      return C
  }
  ;
  var cV = {
      a80: 0,
      abI: 1,
      anN: 2,
      a8X: 3,
      af6: 4,
      a79: 5,
      e3: 6,
      Ob: 7,
      w5: 8,
      abn: 9,
      aaV: 10,
      Vn: 11,
      ad4: 12,
      ajB: 13,
      aoh: 14,
      $p: 15,
      a5H: 16,
      a0Q: 17,
      alx: 18,
      ak9: 19,
      a0L: 20,
      Hw: 21,
      ao9: 22,
      a8x: 23,
      ae8: 24,
      a2H: 25,
      ad3: 26,
      alB: 27,
      alI: 28,
      a4U: 29,
      Ej: 30,
      GO: 31,
      ak0: 32,
      agx: 33,
      anp: 34,
      adg: 35,
      anT: 36,
      a7u: 37,
      ae3: 38,
      a3R: 0,
      acz: 1,
      a06: 2,
      agk: 3,
      ahp: 1,
      a1i: 2,
      a7G: 0,
      a2v: 1,
      abh: 1
  };
  cV.agM = "norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
  function f7() {}
  f7.sQ = function(E, K) {
      var i = f7
        , C = gW.parse(E)
        , k = 0;
      if (C.pages.length > 1)
          console.log(C.pages.length, "pages");
      var N = []
        , V = new h4;
      for (var j = 0; j < C.pages.length; j++) {
          var a = C.pages[j]
            , e = a.layers
            , L = i.Rk(e, j)
            , I = !1;
          if (L.X() > 8e3 * 8e3 || L.d > 3e4 || L.v > 3e4) {
              i.Eh(e, !0);
              var g = i.Rk(e, j);
              if (g.X() >= L.X())
                  i.Eh(e, !1)
          }
          L = i.Rk(e, j);
          for (var h = 0; h < e.length; h++) {
              var o = e[h];
              if (i.MZ(o) == "artboard")
                  I = !0
          }
          if (!I) {
              console.log("no artboard");
              var H = {};
              for (var A in a)
                  H[A] = a[A];
              H._class = "group";
              a.layers = [H]
          }
          N.push(L.clone());
          if (L.OL())
              continue;
          L.x = 0;
          L.y = k;
          k += L.v + 200;
          V = V.ip(L)
      }
      var S = {};
      if (C.foreignSymbols)
          for (var G = 0; G < C.foreignSymbols.length; G++) {
              var v = C.foreignSymbols[G].symbolMaster;
              S[v.symbolID] = {
                  xl: v
              }
          }
      i.mi(C.pages, S, K);
      for (var s in S) {
          var o = S[s].xl
            , D = i.Cf(o.layers)
      }
      var F = f7.$l(V, 8192 * 8192);
      K.BJ = !0;
      K.d = Math.round(V.d / F);
      K.v = Math.round(V.v / F);
      K.buffer = _.I(K.d * K.v * 4);
      K.Wl(C.pages[0].layers.length);
      K.m_ = {};
      K.z$ = [];
      k = 0;
      for (var j = 0; j < C.pages.length; j++) {
          var y = C.pages[j]
            , L = N[j]
            , T = new fn(F,0,0,F,L.x,L.y - k);
          i.uC(y.layers, K, T, C, S, {}, []);
          k += L.v + 200
      }
      delete K.m_;
      delete K.z$;
      if (F != 1)
          alert("File scaled down " + F + "x");
      K.ajR()
  }
  ;
  f7.a8Z = 0;
  f7.MZ = function(E) {
      return E._class ? E._class : E.$class
  }
  ;
  f7.$l = function(E, K) {
      var i = 1;
      while (Math.round(E.d / i) * Math.round(E.v / i) > K || Math.max(Math.round(E.d / i), Math.round(E.v / i)) > 3e4)
          i++;
      if (i != 1 && !window.confirm("Your image is quite large (" + E.d + " x " + E.v + " px).\n" + "Press OK to scale it down " + i + "x, or Cancel to keep the size."))
          i = 1;
      return i
  }
  ;
  f7.Rk = function(E, K) {
      var i = []
        , C = f7;
      for (var N = 0; N < E.length; N++) {
          var k = E[N]
            , V = C.RJ(k.frame);
          if (K == 0 || C.MZ(k) == "artboard")
              i.push(V)
      }
      return _.rect.Pa(i)
  }
  ;
  f7.Eh = function(E, K) {
      var i = []
        , C = f7;
      for (var N = 0; N < E.length; N++) {
          var k = E[N]
            , V = C.RJ(k.frame);
          V.d += 150;
          V.v += 150;
          i.push(V)
      }
      var j = _.rect.Pa(i);
      _.rect.a7I(i, K);
      var a = _.rect.Pa(i);
      if (a.X() * 1.5 < j.X() || j.d > 3e4 && a.d <= 3e4 || j.v > 3e4 && a.v <= 3e4) {
          alert("Re-arranging artboards");
          for (var N = 0; N < E.length; N++) {
              var e = i[N]
                , k = E[N]
                , L = k.frame;
              L.x = e.x;
              L.y = e.y
          }
      }
  }
  ;
  f7.mi = function(E, K, i) {
      var C = f7;
      for (var N = 0; N < E.length; N++) {
          var k = E[N]
            , V = C.MZ(k);
          if (["page", "artboard", "group"].indexOf(V) != -1)
              C.mi(k.layers, K, i);
          else if (V == "symbolMaster")
              K[k.symbolID] = {
                  xl: k
              }
      }
  }
  ;
  f7.Cf = function(E) {
      var K = f7;
      for (var i = 0; i < E.length; i++) {
          var C = E[i]
            , N = K.MZ(C)
            , k = null;
          if (["page", "artboard", "group"].indexOf(N) != -1)
              k = K.Cf(C.layers);
          if (N == "symbolMaster" || N == "symbolInstance")
              k = C;
          if (k != null)
              return k
      }
      return null
  }
  ;
  f7.uC = function(E, K, i, C, N, k, V) {
      var j = f7
        , a = [];
      for (var e = 0; e < E.length; e++) {
          var L = E[e]
            , g = L.frame ? j.RJ(L.frame) : null
            , I = L.style
            , S = ""
            , T = null
            , Q = !1;
          if (I == null) {
              console.log("no styles")
          }
          var h = j.DM(L, i)
            , o = j.MZ(L)
            , H = o == "shapeGroup" || o == "shapePath" || o == "rectangle" || o == "oval" || o == "triangle" || o == "polygon"
            , A = ["page", "artboard", "group"].indexOf(o) != -1;
          if (o == "shapeGroup") {
              for (var G = 0; G < L.layers.length; G++)
                  if (j.MZ(L.layers[G]) == "shapeGroup")
                      A = !0
          }
          var v = L.exportOptions;
          if (v) {
              var s = v.exportFormats;
              if (s == null)
                  s = v.sizes;
              if (o != "artboard" && (s && s.length != 0)) {
                  var D = s[0].scale
              }
          }
          var F = K.qV();
          F.HU(L.isVisible);
          var y = L.name;
          if (!(typeof y == "string"))
              y = o;
          F.gv(S + y.slice(0, 250));
          if (I != null)
              T = j.abS(C, K, I, g, h, F.getName(), H || o == "artboard" || A);
          if (o == "rectangle" && I && I.fills && I.fills[0]) {
              var B = I.fills[0];
              if (B.fillType == 4 && B.patternFillType > 1 && B.image != null)
                  Q = !0
          }
          if (L.shouldBreakMaskChain) {
              while (a.length != 0)
                  j.ir(a.pop(), K)
          }
          if (A) {
              F.add.lsct = L.layerListExpandedType == 2 ? c5.qd : c5.Kw;
              F.SI = "pass";
              F.it = 24;
              F.HU(L.isVisible);
              K.t.push(K.Yy());
              if (o == "artboard") {
                  var r = g.clone()
                    , J = h.x$();
                  r.x = -Math.floor(h.vK / J);
                  r.y = -Math.floor(h.Cz / J);
                  r.d = Math.floor(r.d / J);
                  r.v = Math.floor(r.v / J);
                  F.Xx(r);
                  var m = L.backgroundColor
                    , x = m ? {
                      h: 255 * m.red,
                      l: 255 * m.green,
                      O: 255 * m.blue
                  } : {
                      h: 255,
                      l: 255,
                      O: 255
                  };
                  F.add.artb.Clr = {
                      t: "Objc",
                      v: _.V.VQ(x)
                  };
                  F.add.artb.artboardBackgroundType = {
                      t: "long",
                      v: 4
                  }
              }
              j.uC(L.layers, K, h, C, N, k, V)
          } else if (H && !Q) {
              F.add.vmsk = new U.ql;
              F.add.vstk = JSON.parse(JSON.stringify(ao.S6.default));
              F.add.vstk.strokeEnabled.v = !1;
              F.add.vogk = [];
              var R = T != null && T.frameFXMulti.v.length == 1
                , b = I ? I.fills : null
                , z = I ? j.ag(C, b, g, h, F.getName(), K, j.$e(V, L.do_objectID + "_image")) : [];
              if (z.length == 0) {
                  if (R)
                      F.add.vstk.fillEnabled.v = !1;
                  else
                      F.add.iOpa = 0;
                  F.add.SoCo = {
                      classID: "null",
                      Clr: {
                          t: "Objc",
                          v: _.V.VQ({
                              h: 0,
                              l: 0,
                              O: 0
                          })
                      }
                  }
              } else {
                  var $ = z[0]
                    , P = null
                    , t = null;
                  if ($.type == "SoFi") {
                      P = "SoCo";
                      t = ao.wz
                  }
                  if ($.type == "GrFl") {
                      P = "GdFl";
                      t = ao.yI
                  }
                  if ($.type == "patternFill") {
                      P = "PtFl";
                      t = ao.TX
                  }
                  if (P != null) {
                      F.add[P] = {
                          classID: "null"
                      };
                      for (var G = 0; G < t.length; G++) {
                          var X = t[G];
                          F.add[P][X] = $.G.v[X]
                      }
                      var Z = $.G.v.Opct.v.val;
                      if (R && Z == 0)
                          F.add.vstk.fillEnabled.v = !1;
                      else
                          F.add.iOpa = Math.round(255 * Z / 100)
                  }
              }
              F.it |= 16;
              F.add.vmsk.b = j.ls(L.layers ? L.layers : [L], L.layers ? h : i, F.add.vogk);
              var p = I ? I.blur : null;
              if (p && p.isEnabled && p.type <= 1)
                  F.add.vmsk.zo = p.radius;
              if (F.add.vmsk.b.length == 2) {
                  console.log("shape with no content:", F.getName())
              }
              if (R) {
                  var gl = T.frameFXMulti.v[0].v
                    , f = F.add.vstk
                    , cY = I.borders[0];
                  T.frameFXMulti.v = [];
                  h$.iO(gl, f);
                  var fC = I.borderOptions
                    , hi = I.miterLimit;
                  if (fC) {
                      var es = fC.dashPattern;
                      f.strokeStyleLineCapType.v.strokeStyleLineCapType = ao.S6.mN[fC.lineCapStyle];
                      f.strokeStyleLineJoinType.v.strokeStyleLineJoinType = ao.S6.join[fC.lineJoinStyle];
                      if (es)
                          f.strokeStyleLineDashSet.v = h$.xh(es, 1 / gl.Sz.v.val);
                      if (hi != null)
                          f.strokeStyleMiterLimit.v = hi
                  }
              }
              F.Kf(K)
          } else if (o == "bitmap" || Q) {
              var W = Q ? I.fills[0] : null
                , d = Q ? W.image.bdata : L.image.bdata
                , fM = K.Yn(d, F.getName(), 0, 0);
              fM.it = F.it;
              F = fM;
              var p = I ? I.blur : null
                , n = I ? I.colorControls : null;
              if (p || n) {
                  F.add.SoLd.filterFX = ef.yC();
                  K.cB({
                      id: F.add.SoLd.placed.v,
                      rect: new h4,
                      buffer: _.I(1),
                      r: new U.xW
                  });
                  var b = F.add.SoLd.filterFX.v.filterFXList.v;
                  if (p) {
                      var ax = ef.Im("GsnB", {});
                      ax.v.enab.v = p.isEnabled;
                      ax.v.Fltr.v.Rds.v.val = p.radius;
                      b.push(ax)
                  }
                  if (n) {
                      var d_ = n.brightness
                        , cm = n.contrast
                        , c4 = n.hue
                        , ch = n.saturation;
                      if (c4 != 0 || ch != 1) {
                          var ax = ef.Im("hue2", {});
                          ax.v.enab.v = n.isEnabled;
                          dn.RM(ax.v.Fltr.v, 0, [Math.round(c4 * 180 / Math.PI), Math.round((ch - 1) * 100), 0]);
                          b.push(ax)
                      }
                      if (d_ != 0 || cm != 1) {
                          var ax = ef.Im("brit", {});
                          ax.v.enab.v = n.isEnabled;
                          cm = cm - 1;
                          if (cm > 0)
                              cm /= 2;
                          var hQ = ax.v.Fltr.v;
                          hQ.Brgh.v = Math.round(d_ * 255);
                          hQ.Cntr.v = Math.round(cm * 255);
                          hQ.useLegacy.v = !0;
                          b.push(ax)
                      }
                  }
              }
              if (Q) {
                  var em = W.patternFillType;
                  if (em == 3) {
                      var ag = F.rect.d / F.rect.v
                        , am = g.d / g.v;
                      if (ag < am) {
                          h.translate(-(g.d * (1 - ag / am)) / 2, 0);
                          h.scale(am / ag, 1)
                      } else {
                          h.translate(0, -(g.v * (1 - am / ag)) / 2);
                          h.scale(1, ag / am)
                      }
                  }
              }
              g.x = g.y = 0;
              var bK = _.$.X6(g).H;
              h.KP();
              _.$.m(bK, h, bK);
              F.add.SoLd.Trnf = u._.j6(bK);
              F.add.SoLd.nonAffineTransform = u._.j6(bK);
              F.z_(K, !1)
          } else if (o == "text") {
              if (L.attributedString == null)
                  continue;
              var ei = h.clone(), dL, fh, gn = 0;
              ei.KP();
              ei.R = ei.bI = Math.min(ei.R, ei.bI);
              F.add.lnsr = "rend";
              F.add.TySh = cO.u3(0, 0);
              F.add.TySh.u9 = new h4(0,0,g.d,g.v);
              F.add.TySh.m = ei;
              var eu = L.attributedString;
              if (eu.archivedAttributedString)
                  eu = eu.archivedAttributedString;
              var hf = eu.NSString;
              if (hf == null)
                  hf = eu.string;
              if (hf == null)
                  hf = "";
              if (hf["NS.string"])
                  hf = hf["NS.string"];
              if (k[L.do_objectID] != null)
                  hf = k[L.do_objectID];
              var iS = j.$e(V, L.do_objectID + "_stringValue");
              if (iS)
                  hf = iS.value;
              if (eu.attributes != null) {
                  dL = [];
                  fh = [];
                  var aI = eu.attributes;
                  for (var G = 0; G < aI.length; G++) {
                      dL.push(aI[G].length, G);
                      fh.push(aI[G].attributes)
                  }
              } else if (eu.NSAttributeInfo == null) {
                  dL = [hf.length, 0];
                  fh = [eu.NSAttributes]
              } else {
                  dL = eu.NSAttributeInfo["NS.data"];
                  fh = eu.NSAttributes;
                  dL = f7.a7m(dL, fh)
              }
              for (var G = 0; G < dL.length; G += 2)
                  gn += dL[G];
              if (gn != hf.length) {
                  while (gn > hf.length) {
                      dL[dL.length - 2]--;
                      gn--;
                      if (dL[dL.length - 2] == 0) {
                          dL.pop();
                          dL.pop()
                      }
                  }
                  dL[dL.length - 2] += hf.length - gn
              }
              hf = hf.replace(/\u2028/g, "\n");
              hf = hf.replace(/\u2029/g, "\n");
              hf = hf.replace(/\r/g, "\n");
              var ce = F.add.TySh.Ou;
              cO.qu(ce, 0, hf);
              if (hf != "") {
                  var gr = L.textBehaviour
                    , ek = I.textStyle
                    , bJ = ek ? ek.verticalAlignment : 0
                    , aN = j.ae4(ce, dL, fh, hf)
                    , J = ei.x$()
                    , bG = cO.UX(ce, 0, 1)
                    , gX = 0;
                  if (bG.dP.Font) {
                      var aQ = bG.gx[bG.dP.Font].Name;
                      if (aQ == "FontAwesome" || aQ == "Ionicons")
                          aN *= .87
                  }
                  var cu = bG.dP.AutoLeading ? 0 : bG.dP.Leading * .6
                    , bW = Math.max(aN, cu) * J
                    , dE = g.d
                    , b4 = g.v;
                  if (gr == 0) {
                      cO.kw(ce, 0);
                      var cC = cO.gF(bG.oN);
                      if (cC == 1)
                          gX = dE * J;
                      if (cC == 2)
                          gX = dE * J * .5;
                      if (bJ == 0)
                          bW *= 1;
                      else
                          bW *= .9
                  } else {
                      cO.kw(ce, 1);
                      cO.Bk(ce, [0, 0, Math.round(dE), Math.round(b4)]);
                      if (gr == 2 && bJ == 0)
                          bW = bW * .2;
                      else if (gr == 2 && bJ == 1) {
                          bW = J * .5 * (b4 - bG.dP.FontSize)
                      } else if (gr == 1 && bJ == 0)
                          bW = bW * .2;
                      else
                          bW = bW * .35
                  }
                  F.add.TySh.m.translate(gX, bW)
              }
          } else if (o == "symbolInstance" || o == "symbolMaster") {
              var gN = L.symbolID;
              if (k[L.do_objectID])
                  gN = k[L.do_objectID].symbolID;
              var eH = j.$e(V, L.do_objectID + "_symbolID");
              if (eH)
                  gN = eH.value;
              if (gN == "")
                  continue;
              var hx = {};
              for (var X in k)
                  hx[X] = k[X];
              if (L.overrides)
                  for (var X in L.overrides)
                      hx[X] = L.overrides[X];
              var c2 = V.slice(0);
              if (L.overrideValues)
                  c2 = c2.concat(L.overrideValues);
              var hv = N[gN];
              if (hv == null) {
                  console.log("Unknown master master", L.symbolID);
                  continue
              }
              var fu = f7.RJ(hv.xl.frame)
                , dv = fu.d / g.d
                , fj = fu.v / g.v
                , il = h.clone();
              il.scale(dv, fj);
              F.add.lsct = c5.Kw;
              F.SI = "pass";
              F.it = 24;
              F.HU(L.isVisible);
              K.t.push(K.Yy());
              var iH = hv.xl;
              if (K.z$.indexOf(iH) == -1) {
                  K.z$.push(iH);
                  j.uC(iH.layers, K, il, C, N, hx, c2);
                  K.z$.pop()
              }
          } else if (o == "slice") {
              console.log("slice layers are ignored by now");
              continue
          } else {
              console.log("unknown layer type: " + o, L);
              continue
          }
          if (I && I.contextSettings) {
              var fp = I.contextSettings
                , ff = fp.blendMode;
              if (ff < j.KX.length) {
                  F.SI = gx.WR[gx.hr.indexOf(j.KX[ff])];
                  if (A && F.SI == "norm")
                      F.SI = "pass"
              }
              F.opacity = Math.round(F.opacity * fp.opacity)
          }
          if (T != null) {
              F.add.lmfx = T
          }
          K.t.push(F);
          if (L.hasClippingMask && E.length > 1) {
              a.push(F);
              K.t.push(K.Yy())
          }
      }
      while (a.length != 0)
          j.ir(a.pop(), K)
  }
  ;
  f7.$e = function(E, K) {
      for (var G = 0; G < E.length; G++)
          if (E[G].overrideName.startsWith(K))
              return E[G]
  }
  ;
  f7.a7m = function(E, K) {
      var i = 0
        , C = [];
      while (i + 1 < E.length) {
          var N = E[i];
          i++;
          if (N > 127) {
              N += 128 * (E[i] - 1);
              i++;
              if (E[i - 1] > 127) {
                  N += 128 * (E[i] - 1);
                  i++
              }
          }
          var k = E[i];
          i++;
          C.push(N, k)
      }
      return C
  }
  ;
  f7.ae4 = function(E, K, i, C) {
      var N = f7
        , k = 0
        , L = 0
        , g = 0;
      for (var G = 0; G < C.length; G++) {
          var V = C.charCodeAt(G)
            , j = 1473 <= V && V <= 1479 || 1488 <= V && V <= 1514 || 1520 <= V && V <= 1524
            , a = 1569 <= V && V <= 1594 || 1600 <= V && V <= 1749;
          if (j || a)
              k++
      }
      var e = k > C.length / 2;
      for (var G = 0; G < K.length; G += 2) {
          var I = K[G]
            , F = 14
            , y = "DejaVuSans";
          if (I == 0)
              continue;
          var h = K[G + 1]
            , o = i[h]
            , H = cO.UX(E, L, L + I - 1)
            , A = o.NSColor;
          if (A == null) {
              var A = o.MSAttributedStringColorDictionaryAttribute;
              if (A == null)
                  A = o.MSAttributedStringColorAttribute;
              if (A == null)
                  A = "0 0 0";
              else
                  A = [A.red, A.green, A.blue].join(" ")
          } else if (N.MZ(A) == "MSArchivedColor")
              A = A.dr + " " + A.dg + " " + A.db;
          else if (A.NSRGB) {
              A = A.NSRGB;
              A = O.zV(A, 0, A.length - 1)
          } else if (A.NSCMYK) {
              A = A.NSCMYK;
              A = O.zV(A, 0, A.length - 1);
              A = A.split(" ").map(parseFloat);
              var S = 1 - A[0]
                , v = 1 - A[1]
                , s = 1 - A[2]
                , D = 1 - A[3];
              A = S * D + " " + v * D + " " + s * D
          } else if (A.NSWhite) {
              A = "1 1 1"
          }
          A = A.split(" ");
          H.dP.FillColor = {
              Type: 1,
              Values: [1, parseFloat(A[0]), parseFloat(A[1]), parseFloat(A[2])]
          };
          var T = o.MSAttributedStringFontAttribute;
          if (o.NSFont) {
              F = o.NSFont.NSSize;
              y = o.NSFont.NSName
          } else if (T) {
              if (T.attributes) {
                  T = T.attributes;
                  F = T.size;
                  y = T.name
              } else {
                  var Q = T.NSFontDescriptorAttributes;
                  if (Q == null)
                      Q = T.UIFontDescriptorAttributes;
                  T = Q;
                  F = T.NSFontSizeAttribute;
                  y = T.NSFontNameAttribute
              }
              if (y == null)
                  y = "DejaVuSans"
          }
          var g = Math.max(g, F);
          H.dP.FontSize = Math.round(F);
          cO.Ui(H, y);
          var B = o.NSKern;
          if (B == null)
              B = o.kerning;
          if (B != null)
              H.dP.Tracking = Math.round(1e3 * B / F);
          if (o.NSUnderline != null)
              H.dP.Underline = o.NSUnderline > 0;
          var r = o.NSStrikethrough;
          if (r == null)
              r = o.strikethroughStyle;
          if (r != null)
              H.dP.Strikethrough = r > 0;
          if (o.MSAttributedStringTextTransformAttribute == 1)
              H.dP.FontCaps = 2;
          var J = o.NSParagraphStyle;
          if (J == null)
              J = o.paragraphStyle;
          if (J) {
              var m = J.paragraphSpacing;
              if (m != null) {
                  H.oN.SpaceAfter = m
              }
              var x = J.NSAlignment;
              if (x == null)
                  x = J.alignment;
              if (x != null) {
                  var R = 0;
                  if (!1) {} else if (x == 1)
                      R = 1;
                  else if (x == 2)
                      R = 2;
                  else if (x == 4)
                      R = 0;
                  else {
                      R = x;
                      console.log("unknown align", x)
                  }
                  if (e && R < 2)
                      R = 1 - R;
                  H.oN.Justification = R
              }
              var b = J.NSMinLineHeight;
              if (b == null)
                  b = J.minimumLineHeight;
              if (b != null) {
                  H.dP.AutoLeading = !1;
                  H.dP.Leading = b
              }
          }
          H.oN._Direction = e ? 1 : 0;
          cO.Wk(E, L, L + I, H);
          L += I
      }
      return g
  }
  ;
  f7.abS = function(E, K, i, C, N, k, V) {
      var j = f7
        , a = JSON.parse(ao.default)
        , e = !1;
      for (var G = 0; G < ao.order.length; G++)
          a[ao.Y9[G]] = {
              t: "VlLs",
              v: []
          };
      var L = i.fills
        , g = j.ag(E, L, C, N, k, K);
      for (var I = 0; I < 2; I++) {
          var h = i[["shadows", "innerShadows"][I]];
          if (h == null)
              continue;
          var o = ["DrSh", "IrSh"][I]
            , H = ao.Y9[ao.order.indexOf(o)];
          for (var G = 0; G < h.length; G++) {
              var A = h[G];
              if (!A.isEnabled)
                  continue;
              if (A.contextSettings.opacity == 0 || A.color.alpha == 0)
                  continue;
              var S = JSON.parse(ao.Fc[ao.order.indexOf(o)]);
              a[H].v.unshift({
                  t: "Objc",
                  v: S
              });
              e = !0;
              S.Clr.v = j.h0(A.color);
              S.blur.v.val = Math.round(A.blurRadius / N.x$());
              var v = N.clone();
              v.vK = v.Cz = 0;
              v.KP();
              var s = v.uZ(new bT(A.offsetX,A.offsetY))
                , D = Math.sqrt(s.x * s.x + s.y * s.y);
              S.Dstn.v.val = Math.round(D);
              S.lagl.v.val = Math.round(Math.atan2(s.y, -s.x) * (180 / Math.PI));
              if (S.layerConceals)
                  S.layerConceals.v = g.length != 0;
              j.gT(A, S)
          }
      }
      var F = i.borders;
      if (F != null && (g.length == 0 || i.blur == null || !i.blur.isEnabled))
          for (var G = 0; G < F.length; G++) {
              var y = F[G];
              if (!y.isEnabled)
                  continue;
              var S = JSON.parse(ao.Fc[ao.order.indexOf("FrFX")])
                , H = ao.Y9[ao.order.indexOf("FrFX")];
              a[H].v.unshift({
                  t: "Objc",
                  v: S
              });
              e = !0;
              S.Clr.v = j.h0(y.color);
              if (y.fillType != 0 && y.gradient) {
                  var T = j.jY(y.gradient, C, N, k)
                    , Q = ["Type", "Angl", "Ofst", "Scl"];
                  for (var G = 0; G < Q.length; G++)
                      S[Q[G]] = T[Q[G]];
                  S.Grad.v = T.Grad.v;
                  S.PntT.v.FrFl = "GrFl"
              }
              S.Sz.v.val = y.thickness / N.x$();
              S.Styl.v.FStl = ["CtrF", "InsF", "OutF"][y.position];
              j.gT(y, S)
          }
      for (var G = V ? 1 : 0; G < g.length; G++) {
          var B = g[G]
            , H = ao.Y9[ao.order.indexOf(B.type)];
          a[H].v.unshift(B.G);
          e = !0
      }
      return e ? a : null
  }
  ;
  f7.ag = function(E, K, i, C, N, k, V) {
      if (K == null)
          return [];
      var j = f7
        , a = [];
      for (var G = 0; G < K.length; G++)
          if (K[G].isEnabled)
              a.push(K[G]);
      K = a;
      var e = [];
      for (var G = 0; G < K.length; G++) {
          var L = K[G]
            , g = null
            , I = null;
          if (L.fillType == 0) {
              g = "SoFi";
              var h = JSON.parse(ao.Fc[ao.order.indexOf("SoFi")]);
              I = {
                  t: "Objc",
                  v: h
              };
              I.v.Clr.v = j.h0(L.color)
          } else if (L.fillType == 1) {
              g = "GrFl";
              I = {
                  t: "Objc",
                  v: j.jY(L.gradient, i, C, N)
              }
          } else if (L.fillType == 4 && L.image != null) {
              var o = L.image;
              if (V)
                  o = V.value;
              var H = fb.e1(o.bdata.buffer);
              if (H != null && H != "pdf" && H != "eps") {
                  var A, y = 0, T = 0, Q = 0;
                  if (k.m_[o.key])
                      A = k.m_[o.key];
                  else {
                      var S = fb.vG(H).VA(o.bdata)[0]
                        , v = S.UP.clone();
                      A = {};
                      A.id = bl.Eu() + "-d71c-11e5-b1ae-a548a96e5f9f";
                      A.name = "someImage";
                      A.yG = [new Uint8Array(S.data), v];
                      k.fN(A);
                      k.m_[o.key] = A
                  }
                  var s = A.yG[1]
                    , h = JSON.parse(ao.Fc[ao.order.indexOf("patternFill")]);
                  g = "patternFill";
                  I = {
                      t: "Objc",
                      v: h
                  };
                  var D = L.patternFillType
                    , F = L.patternTileScale;
                  h.Algn.v = !0;
                  h.Ptrn.v.Idnt.v = A.id;
                  if (D == 0) {
                      y = F * s.d / Math.min(s.d, s.v);
                      T = -C.vK;
                      Q = -C.Cz
                  } else {
                      y = Math.max(i.d / s.d, i.v / s.v);
                      T = -C.vK - (s.d * y - i.d) / 2;
                      Q = -C.Cz - (s.v * y - i.v) / 2
                  }
                  h.Scl.v.val = 100 * y * (1 / C.x$());
                  h.phase.v.Hrzn.v = Math.round(T / C.x$());
                  h.phase.v.Vrtc.v = Math.round(Q / C.x$())
              }
          } else if (L.fillType == 5) {
              console.log("fill type Noise not supported yet")
          } else
              console.log("unknown fill type", L.fillType);
          if (g != null) {
              j.gT(L, I.v);
              e.push({
                  type: g,
                  G: I
              })
          }
      }
      return e
  }
  ;
  f7.akz = function(E) {
      var K = f7
        , i = new h4(0,0,1,1);
      E = E.slice(0);
      while (!0) {
          var C = !1;
          for (var G = 0; G < E.length - 1; G++) {
              var N = E[G]
                , k = E[G + 1]
                , V = null
                , j = N.contextSettings;
              if (N.fillType == 0 && (j == null || j.opacity == 1 && j.blendMode == 0) && N.color.alpha == 1) {
                  var a = "norm"
                    , e = 1
                    , j = k.contextSettings;
                  if (j) {
                      e = j.opacity;
                      a = gx.pv(K.KX[j.blendMode])
                  }
                  if (k.fillType == 0) {
                      V = JSON.parse(JSON.stringify(k));
                      K.Wi(V.color, N.color, V.color, i, a, e)
                  }
                  if (k.fillType == 1) {
                      V = JSON.parse(JSON.stringify(k));
                      var L = V.gradient.stops;
                      for (var g = 0; g < L.length; g++)
                          K.Wi(L[g].color, N.color, L[g].color, i, a, e)
                  }
                  if (V != null && V.contextSettings) {
                      var j = V.contextSettings;
                      j.opacity = 1;
                      j.blendMode = 0
                  }
              }
              if (V != null) {
                  E.splice(G, 0, V);
                  C = !0;
                  break
              }
          }
          if (!C || E.length < 2)
              break
      }
      return E
  }
  ;
  f7.Wi = function(E, K, i, C, N, k) {
      var V = f7
        , j = _.I(4);
      V.W8(E, j);
      var a = _.I(4);
      V.W8(K, a);
      _.p.JA(N, j, C, a, C, C, k);
      V.ao4(a, i)
  }
  ;
  f7.W8 = function(E, K) {
      K[0] = 255 * E.red;
      K[1] = 255 * E.green;
      K[2] = 255 * E.blue;
      K[3] = 255 * E.alpha
  }
  ;
  f7.ao4 = function(E, K) {
      K.red = E[0] / 255;
      K.green = E[1] / 255;
      K.blue = E[2] / 255;
      K.alpha = E[3] / 255
  }
  ;
  f7.ir = function(E, K) {
      E = E.clone();
      E.it = 24;
      E.gv("Mask by " + E.getName());
      K.t.push(E);
      E.add.lsct = c5.qd;
      E.add.lyid = K.tu();
      delete E.add.lmfx;
      delete E.add.SoCo;
      delete E.add.GdFl;
      delete E.add.PtFl;
      delete E.add.iOpa;
      if (E.add.vmsk)
          E.add.vmsk.bZ = !0;
      E.Kf(K);
      if ((E.it & 16) == 16)
          E.it -= 16;
      if ((E.it & 2) == 2)
          E.it -= 2;
      E.SI = "pass";
      E.opacity = 255
  }
  ;
  f7.KX = "Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
  f7.jY = function(E, K, i, C) {
      i = i.clone();
      i.KP();
      i.vK = i.Cz = 0;
      var N = i.x$()
        , I = 0
        , h = 0;
      i.scale(1 / N, 1 / N);
      var k = f7
        , V = JSON.parse(ao.Fc[ao.order.indexOf("GrFl")])
        , j = V.Grad.v;
      j.Intr.v = 0;
      if (E == null)
          return V;
      var a = E.gradientType
        , e = k.EB(E.from)
        , L = k.EB(E.to);
      e.offset(-.5, -.5);
      L.offset(-.5, -.5);
      e = i.uZ(e);
      L = i.uZ(L);
      var g = Math.atan2(-(L.y - e.y), L.x - e.x);
      V.Type.v.GrdT = ["Lnr", "Rdl", "Angl"][a];
      V.Scl.v.val = 100 * bT.zL(e, L);
      if (a == 0) {
          V.Angl.v.val = 180 / Math.PI * g;
          V.Scl.v.val = 100 * bT.zL(e, L);
          I = (e.x + L.x) / 2;
          h = (e.y + L.y) / 2
      }
      if (a == 1) {
          V.Scl.v.val = 200 * bT.zL(e, L);
          I = e.x;
          h = e.y
      }
      if (a == 2) {
          V.Angl.v.val = 180 / Math.PI * (g - Math.PI / 2)
      }
      var o = V.Ofst.v;
      o.Hrzn.v.val = I * 100;
      o.Vrtc.v.val = h * 100;
      var H = [];
      for (var G = 0; G < E.stops.length; G++) {
          var A = E.stops[G]
            , S = A.color;
          H.push([A.position, S ? [S.red, S.green, S.blue] : [0, 0, 0], S.alpha])
      }
      _.V.xe(H, j);
      return V
  }
  ;
  f7.gT = function(E, K) {
      var i = f7
        , C = 1
        , N = E.contextSettings;
      if (N != null) {
          K.Md.v.BlnM = i.KX[N.blendMode];
          C *= N.opacity
      } else
          K.Md.v.BlnM = i.KX[0];
      K.enab.v = E.isEnabled;
      if (K.uglg != null)
          K.uglg.v = !1;
      if (E.color != null)
          C *= E.color.alpha;
      K.Opct.v.val = Math.round(C * 100)
  }
  ;
  f7.h0 = function(E) {
      return _.V.VQ(E ? {
          h: E.red * 255,
          l: E.green * 255,
          O: E.blue * 255
      } : {
          h: 0,
          l: 0,
          O: 0
      })
  }
  ;
  f7.ls = function(E, K, i) {
      var C = f7
        , N = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      for (var k = 0; k < E.length; k++) {
          var V = E[k]
            , j = V.booleanOperation
            , a = 0
            , e = V._class
            , H = !1;
          if (e == "group" || e == "text" || e == "symbolInstance" || e == "slice") {
              console.log(e + " inside ShapeGroup");
              continue
          }
          if (j == -1)
              a = 0;
          else if (j == 0)
              a = 1;
          else if (j == 1)
              a = 2;
          else if (j == 2)
              a = 3;
          else if (j == 3)
              a = 0;
          if (k == 0)
              a = 1;
          var L = f7.RJ(V.frame)
            , g = C.DM(V, K)
            , I = V.path ? V.path : V
            , h = [{
              type: 0,
              length: 0,
              A0: a,
              n_: 2,
              XH: 0,
              h6: 0
          }]
            , o = I.points;
          for (var G = 0; G < o.length; G++) {
              var A = o[G]
                , S = C.EB(A.curveTo)
                , v = C.EB(A.point)
                , s = C.EB(A.curveFrom);
              H = H || A.hasCurveFrom && !s.Ql(v) || A.hasCurveTo && !S.Ql(v)
          }
          var D = [];
          if (!H) {
              var F = []
                , l = o.length;
              if (l == 0)
                  continue;
              for (var G = 0; G < l; G++) {
                  D[G] = o[G].cornerRadius;
                  var A = C.EB(o[G].point);
                  F.push(A.x, A.y)
              }
              g.scale(1 / L.d, 1 / L.v);
              g.KP();
              _.$.m(F, g, F);
              var y = _.Y.aH(F, D);
              h = h.concat(y);
              h[0].length = h.length - 1
          } else {
              var T = o.length;
              h[0].length = T;
              for (var G = 0; G < T; G++) {
                  var A = o[G]
                    , Q = A.curveMode
                    , B = C.EB(A.point);
                  h[1 + G] = {
                      type: Q == 2 || Q == 4 ? 1 : 2,
                      ln: A.hasCurveTo ? C.EB(A.curveTo) : B.clone(),
                      D: B,
                      _8: A.hasCurveFrom ? C.EB(A.curveFrom) : B.clone()
                  }
              }
              g.scale(1 / L.d, 1 / L.v);
              g.KP();
              _.Y.aW(h, g);
              var D = [];
              for (var G = 0; G < T; G++) {
                  var A = o[G]
                    , Q = A.curveMode
                    , r = A.cornerRadius;
                  if (Q == 1 && r != 0)
                      D.push(r);
                  else
                      D.push(0)
              }
          }
          if (!I.isClosed)
              for (var G = 0; G < h.length; G++)
                  h[G].type += 3;
          N = N.concat(h);
          var J = _.U7.rV()
            , m = C.MZ(V);
          if (g.O == 0 && g.x9 == 0) {
              var x = g.vK
                , R = g.Cz
                , b = x + g.R
                , z = R + g.bI
                , $ = [x, R, b, z];
              if (m == "rectangle" && D.length == 4)
                  J = _.U7.Ea(2, $, D);
              if (m == "oval")
                  J = _.U7.Ea(5, $)
          }
          i.push(J)
      }
      return N
  }
  ;
  f7.DM = function(E, K) {
      var i = K.clone()
        , C = E.frame ? f7.RJ(E.frame) : null;
      if (C)
          i.translate(-C.x - C.d / 2, -C.y - C.v / 2);
      if (E.isFlippedHorizontal)
          i.scale(-1, 1);
      if (E.isFlippedVertical)
          i.scale(1, -1);
      i.rotate(-E.rotation * (Math.PI / 180));
      if (C)
          i.translate(C.d / 2, C.v / 2);
      return i
  }
  ;
  f7.EB = function(E) {
      E = E.slice(1, E.length - 1).split(",");
      return new bT(parseFloat(E[0]),parseFloat(E[1]))
  }
  ;
  f7.RJ = function(E) {
      return new h4(E.x,E.y,E.width,E.height)
  }
  ;
  f7.N5 = function(E) {
      return {
          _class: "rect",
          constrainProportions: !1,
          x: E.x,
          y: E.y,
          width: E.d,
          height: E.v
      }
  }
  ;
  function aZ() {}
  aZ.sQ = function(E, K) {
      var i = Date.now()
        , C = aZ
        , N = UZIP.parse(E)
        , k = JSON.parse(O.Yo(N.manifest))
        , V = JSON.parse(O.Yo(N["resources/graphics/graphicContent.agc"])).resources
        , j = []
        , a = k.children;
      for (var G = 0; G < a.length; G++) {
          var e = a[G];
          if (e.name == "artwork") {
              var L = e.children;
              for (var g = 0; g < L.length; g++)
                  if (L[g]["uxdesign#bounds"]) {
                      var I = L[g]
                        , h = JSON.parse(O.Yo(N["artwork/" + I.path + "/graphics/graphicContent.agc"]));
                      if (h.children.length != 1)
                          throw "e";
                      I._node = h.children[0];
                      j.push(I)
                  }
          }
      }
      var o = []
        , H = new h4;
      for (var G = 0; G < j.length; G++) {
          var I = j[G]
            , A = f7.RJ(I["uxdesign#bounds"]);
          o.push(A);
          H = H.ip(A)
      }
      var S = f7.$l(H, 8192 * 8192);
      K.BJ = !0;
      K.d = Math.round(H.d / S);
      K.v = Math.round(H.v / S);
      K.buffer = _.I(K.d * K.v * 4);
      K.Wl(j.length);
      var v = new fn(S,0,0,S,H.x,H.y);
      K.m_ = {};
      for (var G = 0; G < j.length; G++) {
          var I = j[G]
            , A = f7.RJ(I["uxdesign#bounds"])
            , s = I._node
            , D = v.clone()
            , F = A.clone()
            , y = D.x$();
          D.translate(-A.x, -A.y);
          F.x = -Math.floor(D.vK / y);
          F.y = -Math.floor(D.Cz / y);
          F.d = Math.floor(F.d / y);
          F.v = Math.floor(F.v / y);
          D.translate(A.x, A.y);
          aZ.$D(s, K, D, V, N, F);
          var T = K.t[K.t.length - 1];
          T.gv(I.name);
          T.Xx(F);
          if (G != j.length - 1)
              T.add.lsct = c5.Kw
      }
      delete K.m_
  }
  ;
  aZ.m$ = function(E) {
      if (E == null)
          return new fn;
      return new fn(E.a,E.b,E.c,E.d,E.tx,E.ty)
  }
  ;
  aZ.$D = function(E, K, i, C, N, k) {
      var V = aZ, j = E.type, a = E[j], e = E.style, L = V.m$(E.transform), o, H = "none", A, S = "none", v, s;
      L.KP();
      var g = i.clone();
      g.concat(L);
      var I = K.qV()
        , h = E.name;
      I.gv(h ? h.slice(0, 250) : "Layer");
      if (E.visible != null)
          I.HU(E.visible);
      if (e) {
          o = e.stroke;
          H = o ? o.type : "none";
          A = e.fill;
          S = A ? A.type : "none";
          v = e.filters;
          s = e.clipPath;
          if (s && C.clipPaths[s.ref])
              s = C.clipPaths[s.ref].children;
          else
              s = null;
          if (e.opacity)
              I.opacity = Math.round(255 * e.opacity);
          if (S == "solid" && A.color.alpha)
              I.opacity = Math.round(I.opacity * A.color.alpha);
          if (v) {
              I.add.lmfx = V.amz(v);
              for (var G = 0; G < v.length; G++)
                  if (v[G].type == "uxdesign#blur") {
                      var D = v[G]
                        , F = D.params
                        , y = F.brightnessAmount;
                      if (y == null)
                          y = 0;
                      y = Math.abs(y / 100);
                      if ((D.visible == null || D.visible == !0) && F.backgroundEffect)
                          I.opacity = Math.round(I.opacity * (y + (1 - y) * F.fillOpacity))
                  }
          }
          if (S == "pattern" && A.pattern.meta.ux.uid == "")
              S = "none"
      }
      if (s == null && E.meta && E.meta.ux && E.meta.ux.clipPathResources)
          s = E.meta.ux.clipPathResources.children;
      if (j == "artboard" || j == "group") {
          if (s) {
              var T = s[0]
                , Q = T.shape
                , B = Q != null && Q.type == "rect" && Q.width * Q.height > 1e6;
              if (T.type != "text" && !B) {
                  if (Q) {
                      var L = V.m$(T.transform);
                      L.KP();
                      var r = g.clone();
                      r.concat(L);
                      I.add.vmsk = new U.ql;
                      I.add.vmsk.b = V.ls(Q);
                      r = r.clone();
                      r.KP();
                      _.Y.aW(I.add.vmsk.b, r);
                      I.Kf(K)
                  }
              } else if (!B)
                  alert("Clipping by text has been ignored")
          }
          I.add.lsct = c5.qd;
          I.SI = "pass";
          I.it = 24;
          if (E.visible != null)
              I.HU(E.visible);
          K.t.push(K.Yy());
          var J = a.children
            , m = A;
          if (m)
              m = m.color;
          if (m)
              m = m.value;
          if (A) {
              if (j == "artboard" && S == "solid") {
                  I.Xx(new h4(0,0,10,10));
                  I.add.artb.Clr = {
                      t: "Objc",
                      v: _.V.VQ({
                          h: m.r,
                          l: m.g,
                          O: m.b
                      })
                  };
                  I.add.artb.artboardBackgroundType = {
                      t: "long",
                      v: 4
                  }
              } else {
                  var x = K.qV();
                  x.gv("BACKGROUND");
                  x.it |= 16;
                  x.add.vstk = JSON.parse(JSON.stringify(ao.S6.default));
                  x.add.vmsk = new U.ql;
                  x.add.vmsk.b = V.ls({
                      type: "rect",
                      x: k.x,
                      y: k.y,
                      width: k.d,
                      height: k.v
                  });
                  V.mI(A, S, g, k, k, x, K, C, N);
                  x.Kf(K);
                  K.t.push(x)
              }
          }
          for (var G = 0; G < J.length; G++) {
              aZ.$D(J[G], K, g, C, N, k)
          }
      } else if (j == "shape" && E.shape.type == "rect" && (E.shape.r == null || E.shape.r == 0) && S == "pattern" && Math.abs(E.shape.width / E.shape.height - A.pattern.width / A.pattern.height) < .01) {
          var R = A.pattern
            , b = R.meta.ux
            , z = b.uid
            , $ = N["resources/" + z];
          if ($ == null) {
              console.log(R);
              return
          }
          var P = K.Yn($, I.getName(), 0, 0);
          P.it = I.it;
          P.opacity = I.opacity;
          I = P;
          var t = _.$.X6(new h4(0,0,R.width,R.height)).H
            , X = new fn;
          X.scale(R.width / E.shape.width, R.height / E.shape.height);
          if (b.offsetX)
              X.translate(-b.offsetX * R.width, 0);
          if (b.offsetY)
              X.translate(0, -b.offsetY * R.height);
          g.concat(X);
          g.KP();
          _.$.m(t, g, t);
          I.add.SoLd.Trnf = u._.j6(t);
          I.add.SoLd.nonAffineTransform = u._.j6(t);
          I.z_(K, !1)
      } else if (j == "shape") {
          I.it |= 16;
          I.add.vstk = JSON.parse(JSON.stringify(ao.S6.default));
          I.add.vmsk = new U.ql;
          I.add.vmsk.b = V.ls(a);
          var Z = _.Y.HD(I.add.vmsk.b, null)
            , r = g.clone();
          r.KP();
          _.Y.aW(I.add.vmsk.b, r);
          var p = _.Y.HD(I.add.vmsk.b, null);
          if (H == "none") {} else {
              var gl = o.color.value, f, cY;
              f = "SoFi";
              var fC = JSON.parse(ao.Fc[ao.order.indexOf("SoFi")]);
              cY = {
                  t: "Objc",
                  v: fC
              };
              cY.v.Clr.v = _.V.VQ({
                  h: gl.r,
                  l: gl.g,
                  O: gl.b
              });
              var hi = o.align
                , es = o.cap;
              if (hi == null)
                  hi = "center";
              var W = I.add.vstk;
              W.strokeEnabled.v = !0;
              W.strokeStyleLineWidth.v.val = o.width;
              if (hi)
                  W.strokeStyleLineAlignment.v.strokeStyleLineAlignment = ao.S6.Ee[["inside", "center", "outside"].indexOf(hi)];
              if (es)
                  W.strokeStyleLineCapType.v.strokeStyleLineCapType = ao.S6.mN[["butt", "round", "square"].indexOf(es)];
              var d = ["SoFi", "GrFl", "patternFill"].indexOf(f)
                , fM = [ao.wz, ao.yI, ao.TX][d];
              W.strokeStyleContent.v = {
                  classID: ao.S6.gk[0]
              };
              var n = W.strokeStyleContent.v = {
                  classID: ao.S6.gk[d]
              };
              for (var G = 0; G < fM.length; G++)
                  n[fM[G]] = cY.v[fM[G]]
          }
          if (v)
              for (var G = 0; G < v.length; G++)
                  if (v[G].type == "uxdesign#blur" && v[G].visible) {
                      var ax = v[G];
                      I.add.vmsk.zo = ax.params.blurAmount
                  }
          V.mI(A, S, g, Z, p, I, K, C, N);
          I.Kf(K)
      } else if (j == "text" && E.text) {
          var d_ = E.text
            , cm = d_.frame
            , c4 = e.font
            , ch = e.textAttributes
            , L = g.clone()
            , ei = 0;
          L.KP();
          I.add.lnsr = "rend";
          I.add.TySh = cO.u3(0, 0);
          I.add.TySh.u9 = new h4(0,0,100,100);
          I.add.TySh.m = L;
          var hQ = I.add.TySh.Ou
            , em = d_.rawText.replace(/\r/g, "\n").replace(/\u000b/g, "\n");
          cO.qu(hQ, 0, em);
          if (em != "") {
              var ag = cO.UX(hQ, 0, 1)
                , am = c4.postscriptName;
              if (am == null)
                  am = c4.family;
              cO.Ui(ag, am);
              ag.dP.FontSize = Math.round(c4.size);
              if (A) {
                  var gl = A.color.value;
                  ag.dP.FillColor = {
                      Type: 1,
                      Values: [1, gl.r / 255, gl.g / 255, gl.b / 255]
                  }
              }
              if (ch) {
                  if (ch.paragraphAlign)
                      ag.oN.Justification = ["left", "right", "center"].indexOf(ch.paragraphAlign);
                  if (ch.letterSpacing)
                      ag.dP.Tracking = Math.round(ch.letterSpacing);
                  if (ch.lineHeight) {
                      ag.dP.AutoLeading = !1;
                      ag.dP.Leading = Math.round(ch.lineHeight)
                  }
              }
              cO.Wk(hQ, 0, em.length, ag)
          }
          var bK = E.meta.ux.rangedStyles;
          if (bK)
              for (var G = 0; G < bK.length; G++) {
                  var a = bK[G]
                    , dL = Math.min(a.length, em.length - ei)
                    , ag = cO.UX(hQ, ei, ei + dL)
                    , am = a.postscriptName;
                  if (am == null)
                      am = a.family;
                  if (am != null)
                      cO.Ui(ag, am);
                  var fh = a.textScript
                    , eu = a.underline
                    , hf = a.fontSize
                    , D = a.fill
                    , iS = a.textTransform;
                  if (fh && fh != "none")
                      ag.dP.FontBaseline = fh == "superscript" ? 1 : 2;
                  if (eu != null)
                      ag.dP.Underline = eu;
                  if (hf != null)
                      ag.dP.FontSize = Math.round(hf);
                  if (iS != null)
                      ag.dP.FontCaps = iS == "uppercase" ? 2 : 0;
                  if (D != null) {
                      var aI = D.value;
                      ag.dP.FillColor = {
                          Type: 1,
                          Values: [1, (aI >>> 16 & 255) / 255, (aI >>> 8 & 255) / 255, (aI >>> 0 & 255) / 255]
                      }
                  }
                  cO.Wk(hQ, ei, ei + dL, ag);
                  ei += dL
              }
          if (cm.type == "area" || cm.type == "autoHeight") {
              var gn = cm.width
                , ce = cm.height;
              cO.kw(hQ, 1);
              cO.Bk(hQ, [0, 0, gn, ce != null ? ce : gn * 2])
          }
      } else
          console.log(j, E);
      K.t.push(I)
  }
  ;
  aZ.ls = function(E) {
      var K = E.type
        , i = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      if (K == "rect") {
          var C = E.r
            , N = E.x
            , k = E.y
            , V = E.width
            , j = E.height;
          if (C == null)
              i = _.Y.L8.Rect(N, k, V, j, 0);
          else
              i = i.concat([{
                  type: 0,
                  A0: 1,
                  length: 8,
                  XH: 0,
                  h6: 0,
                  n_: 1
              }]).concat(_.Y.aH([N, k, N + V, k, N + V, k + j, N, k + j], C, !1))
      } else if (K == "circle") {
          var C = E.r;
          i = _.Y.L8.ZT(E.cx - C, E.cy - C, 2 * C, 2 * C)
      } else if (K == "ellipse") {
          var a = E.rx
            , e = E.ry;
          i = _.Y.L8.ZT(E.cx - a, E.cy - e, 2 * a, 2 * e)
      } else if (K == "path" || K == "compound") {
          var L = Typr.U.SVGToPath(E.path);
          i = _.$.rh({
              Z: L.cmds,
              H: L.crds
          }, !1)
      } else if (K == "line") {
          var g = E.x1
            , I = E.x2
            , h = E.y1
            , o = E.y2;
          i = i.concat([{
              type: 0,
              A0: 1,
              length: 2,
              XH: 0,
              h6: 0,
              n_: 1
          }]).concat(_.Y.aH([g, h, I, o], 0, !0))
      } else if (K == "polygon") {
          var H = E.points
            , A = [];
          for (var G = 0; G < H.length; G++)
              A.push(H[G].x, H[G].y);
          i = i.concat(_.Y.L8.nu(A, 0, !1).slice(2))
      } else
          console.log(K, E);
      return i
  }
  ;
  aZ.amz = function(E) {
      var K = JSON.parse(ao.default);
      for (var G = 0; G < ao.order.length; G++)
          K[ao.Y9[G]] = {
              t: "VlLs",
              v: []
          };
      for (var G = 0; G < E.length; G++) {
          var i = E[G]
            , C = i.type
            , N = i.params
            , k = i.visible;
          if (C == "dropShadow") {
              var V = ao.Y9[ao.order.indexOf("DrSh")]
                , j = JSON.parse(ao.Fc[ao.order.indexOf("DrSh")]);
              K[V].v.unshift({
                  t: "Objc",
                  v: j
              });
              var a = N.dropShadows;
              if (a.length != 1)
                  throw "e";
              var e = a[G]
                , L = e.color
                , g = L.value
                , I = e.dx
                , h = e.dy;
              j.Clr.v = _.V.VQ({
                  h: g.r,
                  l: g.g,
                  O: g.b
              });
              j.Opct.v.val = Math.round((L.alpha != null ? L.alpha : 1) * 100);
              j.uglg.v = !1;
              j.enab.v = k != null ? k : !0;
              j.lagl.v.val = Math.round(180 / Math.PI * Math.atan2(h, -I));
              j.Dstn.v.val = Math.round(Math.sqrt(I * I + h * h));
              j.blur.v.val = Math.round(e.r * 2.3)
          }
      }
      return K
  }
  ;
  aZ.mI = function(E, K, i, C, N, k, V, j, a) {
      var e = aZ;
      if (K == "none") {
          k.add.vstk.fillEnabled.v = !1;
          k.add.SoCo = {
              classID: "null",
              Clr: {
                  t: "Objc",
                  v: _.V.VQ({
                      h: 0,
                      l: 0,
                      O: 0
                  })
              }
          }
      } else {
          var L, g, I;
          if (K == "solid") {
              var h = E.color.value;
              L = "SoCo";
              g = ao.wz;
              var o = JSON.parse(ao.Fc[ao.order.indexOf("SoFi")]);
              I = {
                  t: "Objc",
                  v: o
              };
              I.v.Clr.v = _.V.VQ({
                  h: h.r,
                  l: h.g,
                  O: h.b
              })
          } else if (K == "gradient") {
              L = "GdFl";
              g = ao.yI;
              var o = JSON.parse(ao.Fc[ao.order.indexOf("GrFl")]), H = o.Grad.v, D, F, y;
              H.Intr.v = 0;
              var A = E[K]
                , S = A.ref ? j.gradients[A.ref] : A.meta.ux.gradientResources
                , v = ["linear", "radial"].indexOf(S.type)
                , s = S.stops;
              o.Type.v.GrdT = ["Lnr", "Rdl", "Angl"][v];
              if (v == 0) {
                  var D = new bT(A.x1,A.y1)
                    , F = new bT(A.x2,A.y2);
                  D.x = F.x + .5 * (D.x - F.x);
                  D.y = F.y + .5 * (D.y - F.y)
              } else {
                  var D = new bT(A.cx,A.cy)
                    , F = new bT(A.cx + A.r,A.cy)
              }
              y = N;
              if (A.units == "objectBoundingBox") {
                  var T = new fn(C.d,0,0,C.v,C.x,C.y);
                  D = T.uZ(D);
                  F = T.uZ(F)
              }
              var T = e.m$(A.transform);
              D = T.uZ(D);
              F = T.uZ(F);
              T = i.clone();
              T.KP();
              D = T.uZ(D);
              F = T.uZ(F);
              _.V.g3(D, F, y, o);
              var Q = [];
              for (var G = 0; G < s.length; G++) {
                  var B = s[G]
                    , r = B.color
                    , h = r.value
                    , J = r.alpha;
                  if (J == null)
                      J = 1;
                  Q.push([B.offset, [h.r / 255, h.g / 255, h.b / 255], J])
              }
              _.V.xe(Q, H);
              I = {
                  t: "Objc",
                  v: o
              }
          } else if (K == "pattern") {
              L = "PtFl";
              g = ao.TX;
              var o = JSON.parse(ao.Fc[ao.order.indexOf("patternFill")]), $, p = 1, gl = 0, f = 0, cY = 1;
              I = {
                  t: "Objc",
                  v: o
              };
              var m = E[K]
                , x = m.meta.ux
                , R = x.uid
                , b = a["resources/" + R].buffer
                , z = fb.e1(b);
              if (V.m_[R])
                  $ = V.m_[R];
              else {
                  var P = new h4(0,0,m.width,m.height), t;
                  if (P.OL()) {
                      P = new h4(0,0,1,1);
                      t = new ArrayBuffer(4)
                  } else {
                      var X = fb.vG(z);
                      if (X.tW) {
                          var Z = new bl;
                          X.VA(b, Z);
                          t = Z.A7().buffer
                      } else
                          t = X.VA(b)[0].data
                  }
                  $ = {};
                  $.id = bl.Eu() + "-d71c-11e5-b1ae-a548a96e5f9f";
                  $.name = "someImage";
                  $.yG = [new Uint8Array(t), P];
                  V.fN($);
                  V.m_[R] = $
              }
              var P = $.yG[1];
              o.Algn.v = !0;
              o.Ptrn.v.Idnt.v = $.id;
              if (x.scaleBehavior == "cover") {
                  p = cY * Math.max(N.d / P.d, N.v / P.v);
                  var fC = p;
                  if (x.scale != null)
                      p *= x.scale;
                  gl = N.x - (P.d * p - N.d) / 2;
                  f = N.y - (P.v * p - N.v) / 2;
                  if (x.offsetX != null)
                      gl += x.offsetX * P.d * fC;
                  if (x.offsetY != null)
                      f += x.offsetY * P.v * fC
              } else if (x.scaleBehavior == "fill") {
                  p = cY * Math.min(N.d, N.v) / Math.max(P.d, P.v);
                  gl = N.x - (P.d * p - N.d) / 2;
                  f = N.y - (P.v * p - N.v) / 2
              } else
                  throw "Unknown scale behaviour";
              o.Scl.v.val = 100 * p;
              o.phase.v.Hrzn.v = Math.round(gl);
              o.phase.v.Vrtc.v = Math.round(f)
          } else
              console.log(K);
          if (L != null) {
              k.add[L] = {
                  classID: "null"
              };
              for (var G = 0; G < g.length; G++) {
                  var hi = g[G];
                  k.add[L][hi] = I.v[hi]
              }
          }
      }
  }
  ;
  function bU() {}
  bU.sQ = function(E, K, i) {
      E = new Uint8Array(E);
      var C = O.Yo(E, 0, E.length)
        , N = new DOMParser
        , k = N.parseFromString(C, "image/svg+xml")
        , V = k.getElementsByTagName("style")[0]
        , h = 1;
      if (V)
          V = Typr.U.SVG.cssMap(V.textContent);
      else
          V = {};
      var j = k.firstChild;
      while (j.tagName != "svg")
          j = j.nextSibling;
      var a = new h4(0,0,100,100)
        , e = j.getAttribute("viewBox")
        , L = j.getAttribute("width")
        , g = j.getAttribute("height");
      if (e) {
          var I = bU.LK(e);
          a.x = I[0];
          a.y = I[1];
          a.d = I[2];
          a.v = I[3]
      } else if (L != null || g != null) {
          a.d = L != null ? parseFloat(L) : parseFloat(g);
          a.v = g != null ? parseFloat(g) : parseFloat(L)
      }
      a = _.$.BK(a);
      while (i && Math.max(a.d * h, a.v * h) < Math.max(i[0], i[1]))
          h++;
      while (i == null && Math.max(a.d, a.v) * h > 8192)
          h *= .5;
      K.BJ = !0;
      K.d = ~~(a.d * h);
      K.v = ~~(a.v * h);
      K.buffer = _.I(K.d * K.v * 4);
      var o = new fn(h,0,0,h,-a.x * h,-a.y * h)
        , H = {
          jw: bU.bV(j),
          a5z: V
      };
      bU.Pf(k, j.children, K, o, H, new fn, 0);
      if (K.t.length == 0) {
          var A = K.qV();
          A.gv("Layer");
          K.t.push(A)
      }
  }
  ;
  bU.LK = function(E) {
      var K = " ";
      if (E.indexOf(",") != -1)
          K = ",";
      return E.split(K).map(parseFloat)
  }
  ;
  bU.Pf = function(E, K, i, C, N, k, V) {
      var j = bU
        , a = ["display", "opacity", "fill-opacity"];
      for (var e = 0; e < K.length; e++) {
          var L = K[e]
            , g = L.tagName
            , I = L.getAttribute("id")
            , h = j.bV(L, N.a5z)
            , H = 13
            , D = 1
            , T = "clip-path"
            , Q = null;
          for (var o in N.jw)
              if (a.indexOf(o) == -1 && h[o] == null)
                  h[o] = N.jw[o];
          if (h["font-size"])
              H = j.bU(h["font-size"], H);
          if (L.getAttribute("dx"))
              C.vK += j.bU(L.getAttribute("dx"), H);
          if (L.getAttribute("dy"))
              C.Cz += j.bU(L.getAttribute("dy"), H);
          var A = j.KV(L);
          A.concat(C);
          var S = L.getAttribute("visibility")
            , v = h.display
            , s = i.qV();
          if (S == "hidden" || v == "none")
              s.HU(!1);
          s.gv(I != null ? I.split(":::")[0] : "Layer");
          if (h.opacity)
              D *= parseFloat(h.opacity);
          if (h["fill-opacity"]) {
              var F = parseFloat(h["fill-opacity"]);
              if (F != 0)
                  D *= F
          }
          s.opacity = Math.round(255 * D);
          if (h["mix-blend-mode"]) {
              var y = gx.vY.indexOf(h["mix-blend-mode"]);
              if (y != -1)
                  s.SI = gx.WR[y]
          }
          if (L.getAttribute(T) == null)
              T = "mask";
          if (L.getAttribute(T) != null) {
              var B = L.getAttribute(T);
              B = B.slice(4, B.length - 1);
              var r = E.getElementById(B.slice(1));
              if (r) {
                  var J = r.children;
                  Q = i.qV();
                  Q.gv("Clip-Path" + (I ? ": " + I : ""));
                  Q.add.lsct = V < 2 ? c5.qd : c5.Kw;
                  Q.SI = "pass";
                  Q.it = 24;
                  var m = Q.add.vmsk = new U.ql;
                  i.t.push(i.Yy());
                  var x = [];
                  if (r.getAttribute(T)) {
                      var B = r.getAttribute(T);
                      B = B.slice(4, B.length - 1);
                      x = E.getElementById(B.slice(1)).children
                  }
                  for (var G = 0; G < J.length; G++) {
                      var R = j.KV(J[G]);
                      R.concat(A);
                      var b = j.ls(E, J[G], !1).slice(2);
                      _.Y.aW(b, R);
                      m.b = m.b.concat(b)
                  }
                  for (var G = 0; G < x.length; G++) {
                      var R = j.KV(J[G]);
                      R.concat(A);
                      var b = j.ls(E, x[G], !1).slice(2);
                      for (var z = 0; z < b.length; z++)
                          if (b[G].A0 != null)
                              b[G].A0 = 3;
                      _.Y.aW(b, R);
                      m.b = m.b.concat(b)
                  }
                  Q.cE();
                  Q.Kf();
                  V++
              }
          }
          if (g == "g" || g == "a" || g == "svg" || g == "switch" || (g == "text" || g == "textPath") && L.children.length > 0) {
              if (g == "text")
                  k = j.HP(L, k);
              var $ = L.getAttribute("viewBox")
                , P = L.getAttribute("width")
                , t = L.getAttribute("height");
              if ($ && P && t) {
                  var X = bU.LK($)
                    , Z = j.HP(L)
                    , p = new fn;
                  p.translate(-X[0], -X[1]);
                  p.scale(parseFloat(P) / X[2], parseFloat(t) / X[3]);
                  p.translate(Z.vK, Z.Cz);
                  p.concat(A);
                  A = p
              }
              var gl = L.children.length
                , f = N.jw;
              N.jw = h;
              var cY = g != "text" && g != "textPath" || gl > 1;
              if (cY) {
                  var fC = s.VD();
                  s.add.lsct = V < 2 && fC && (I == null || !I.endsWith(":::")) ? c5.qd : c5.Kw;
                  s.SI = "pass";
                  s.it = 24;
                  s.HU(fC);
                  i.t.push(i.Yy())
              }
              j.Pf(E, L.children, i, A, N, k, V + 1);
              if (cY)
                  i.t.push(s);
              else {
                  var hi = i.t[i.t.length - 1];
                  hi.opacity = s.opacity;
                  hi.SI = s.SI
              }
              N.jw = f
          } else if (g == "use") {
              var p = j.HP(L);
              p.concat(A);
              var es = j.N3(L)
                , W = E.getElementById(es.slice(1))
                , f = N.jw;
              N.jw = h;
              j.Pf(E, [W], i, p, N, k, V + 1);
              N.jw = f
          } else if (g == "path" || g == "rect" || g == "circle" || g == "ellipse" || g == "polygon" || g == "polyline" || g == "line") {
              s.it |= 16;
              s.add.vmsk = new U.ql;
              s.add.vstk = JSON.parse(JSON.stringify(ao.S6.default));
              s.add.vstk.strokeEnabled.v = !1;
              var d = s.add.vstk
                , m = s.add.vmsk;
              m.b = j.ls(E, L, h["fill-rule"] == "evenodd");
              _.Y.aW(m.b, A);
              var fM = _.Y.HD(m.b)
                , n = h.stroke
                , ax = h["stroke-width"]
                , d_ = h["stroke-dasharray"]
                , cm = h.fill
                , c4 = h["stroke-linejoin"]
                , ch = h["stroke-linecap"]
                , hQ = h["paint-order"];
              if (n == null || n == "none" || n == "null") {} else {
                  var em = j.hU(E, n, A, fM)
                    , ag = ["SoFi", "GrFl", "patternFill"].indexOf(em.type)
                    , am = em.G.v.Opct.v
                    , dL = 1;
                  if (am.val != 100) {
                      s.opacity = Math.round(s.opacity * am.val / 100);
                      am.val = 100
                  }
                  var bK = [ao.wz, ao.yI, ao.TX][ag]
                    , ei = d.strokeStyleContent.v = {
                      classID: ao.S6.gk[ag]
                  };
                  for (var G = 0; G < bK.length; G++)
                      ei[bK[G]] = em.G.v[bK[G]];
                  ax = ax ? parseFloat(ax) : 1;
                  if (hQ && hQ.replace(/\s\s+/g, " ").slice(0, 11) == "stroke fill") {
                      dL = 2;
                      ax /= 2
                  }
                  d.strokeEnabled.v = !0;
                  if (c4)
                      d.strokeStyleLineJoinType.v.strokeStyleLineJoinType = ao.S6.join[["miter", "round", "bevel"].indexOf(c4)];
                  if (ch)
                      d.strokeStyleLineCapType.v.strokeStyleLineCapType = ao.S6.mN[["butt", "round", "square"].indexOf(ch)];
                  d.strokeStyleLineWidth.v.val = ax * u._.x$(A);
                  d.strokeStyleLineAlignment.v.strokeStyleLineAlignment = ao.S6.Ee[dL];
                  d.strokeStyleOpacity.v.val = 100 * (h["stroke-opacity"] ? parseFloat(h["stroke-opacity"]) : 1);
                  if (d_ != null && d_ != "none")
                      d.strokeStyleLineDashSet.v = h$.xh(d_.split(",").map(parseFloat), 1 / ax)
              }
              if (cm == "none" || h["fill-opacity"] && parseFloat(h["fill-opacity"]) == 0) {
                  s.add.vstk.fillEnabled.v = !1;
                  s.add.SoCo = {
                      classID: "null",
                      Clr: {
                          t: "Objc",
                          v: _.V.VQ({
                              h: 0,
                              l: 0,
                              O: 0
                          })
                      }
                  }
              } else {
                  var em = j.hU(E, cm, A, fM)
                    , fh = null
                    , eu = null;
                  if (em.type == "SoFi") {
                      fh = "SoCo";
                      eu = ao.wz
                  }
                  if (em.type == "GrFl") {
                      fh = "GdFl";
                      eu = ao.yI
                  }
                  if (em.type == "patternFill") {
                      fh = "PtFl";
                      eu = ao.TX
                  }
                  if (fh != null) {
                      s.add[fh] = {
                          classID: "null"
                      };
                      for (var G = 0; G < eu.length; G++) {
                          var o = eu[G];
                          s.add[fh][o] = em.G.v[o]
                      }
                  }
              }
              if (h.filter && h.filter != "none") {
                  var hf = h.filter;
                  hf = hf.slice(5, hf.length - 1);
                  if (E.getElementById(hf)) {
                      var iS = E.getElementById(hf).children[0];
                      if (iS.tagName == "feGaussianBlur") {
                          s.add.vmsk.zo = parseFloat(iS.getAttribute("stdDeviation")) * u._.x$(A)
                      }
                  }
              }
              s.cE();
              s.Kf(i);
              i.t.push(s)
          } else if ((g == "text" || g == "tspan") && L.textContent != "") {
              k = j.HP(L, k);
              var p = k.clone()
                , aQ = 0;
              p.concat(A);
              if (L.children.length > 0) {
                  var aI = j.bV(L.children[0], N.a5z);
                  for (var o in aI)
                      if (a.indexOf(o) == -1)
                          h[o] = aI[o]
              }
              var gn = h["xml:space"]
                , ce = L.textContent;
              if (gn == "preserve")
                  ce = ce.replace(/\t/g, " ").replace(/\n/g, " ");
              if (I == null)
                  s.gv(ce);
              s.add.lnsr = "rend";
              s.add.TySh = cO.u3(0, 0);
              s.add.TySh.u9 = new h4(0,0,100,100);
              s.add.TySh.m = p.clone();
              var gr = s.add.TySh.Ou;
              cO.qu(gr, 0, ce);
              var cm = h.fill
                , ek = h["font-weight"]
                , bJ = h["font-family"]
                , aN = h["text-decoration"]
                , n = h.stroke
                , ax = h["stroke-width"]
                , bG = h["dominant-baseline"];
              if (bG == "text-before-edge")
                  aQ = H;
              else if (bG == "middle")
                  aQ = H / 2;
              else if (bG == "hanging")
                  aQ = H;
              if (aQ != 0)
                  s.add.TySh.m.translate(0, aQ);
              var cu = cO.UX(gr, 0, 1);
              if (cm && cm != "none") {
                  var gX = CSS.h0(cm);
                  cu.dP.FillColor = {
                      Type: 1,
                      Values: [1, gX.h / 255, gX.l / 255, gX.O / 255]
                  }
              }
              if (aN == "underline")
                  cu.dP.Underline = !0;
              cu.dP.FontSize = Math.round(H);
              cO.Ui(cu, "LiberationSans");
              if (ek == "bold")
                  cO.Ui(cu, "LiberationSans-Bold");
              if (bJ) {
                  bJ = bJ.split(",")[0].trim();
                  if (bJ[0] == "\"")
                      bJ = bJ.slice(1);
                  if (bJ[bJ.length - 1] == "\"")
                      bJ = bJ.slice(0, bJ.length - 1);
                  var bW = bJ + ":" + (ek ? ek : "normal")
                    , dE = {
                      "'DejaVu Sans':normal": "DejaVuSans",
                      "'DejaVu Sans':bold": "DejaVuSans-Bold",
                      "'Nimbus Sans L':normal": "NimbusSanL-Reg",
                      "'Nimbus Sans L':bold": "NimbusSanL-Bol",
                      "Libre Franklin:300": "LibreFranklin-Light",
                      "Libre Franklin:400": "LibreFranklin-Regular",
                      "Libre Franklin:500": "LibreFranklin-Medium",
                      "Libre Franklin:600": "LibreFranklin-SemiBold",
                      "Libre Franklin:700": "LibreFranklin-Bold"
                  };
                  if (dE[bW])
                      cO.Ui(cu, dE[bW]);
                  else
                      cO.Ui(cu, bJ)
              }
              if (h["text-anchor"])
                  cu.oN.Justification = ["start", "end", "middle"].indexOf(h["text-anchor"]);
              cO.Wk(gr, 0, ce.length, cu);
              if (n == null || n == "none") {} else {
                  var b4 = JSON.parse(ao.Fc[ao.order.indexOf("FrFX")]);
                  b4.Clr.v = _.V.VQ(CSS.h0(n));
                  b4.Sz.v.val = Math.round(parseFloat(ax) * u._.x$(p));
                  var cC = JSON.parse(ao.default);
                  for (var G = 0; G < ao.order.length; G++)
                      cC[ao.Y9[G]] = {
                          t: "VlLs",
                          v: []
                      };
                  cC.frameFXMulti.v.push({
                      t: "Objc",
                      v: b4
                  });
                  s.add.lmfx = cC
              }
              i.t.push(s)
          } else if (g == "image") {
              var es = j.N3(L);
              if (es.slice(0, 4) == "data") {
                  var gN = fb.x4(es)
                    , eH = gN
                    , hx = i.Yn(eH, s.getName(), 0, 0);
                  hx.it = s.it;
                  s = hx;
                  var c2 = s.rect.clone();
                  c2.x = c2.y = 0;
                  var hv = L.getAttribute("width")
                    , fu = L.getAttribute("height");
                  if (hv)
                      c2.d = parseFloat(hv);
                  if (fu)
                      c2.v = parseFloat(fu);
                  var dv = j.HP(L);
                  dv.concat(A);
                  var fj = _.$.X6(c2).H;
                  _.$.m(fj, dv, fj);
                  s.add.SoLd.Trnf = u._.j6(fj);
                  s.add.SoLd.nonAffineTransform = u._.j6(fj);
                  s.z_(i, !1);
                  i.t.push(s)
              }
          } else
              console.log("unknown tag: " + g, L.children.length, L.textContent.length);
          if (Q != null) {
              i.t.push(Q);
              V--
          }
      }
  }
  ;
  bU.ls = function(E, K, i) {
      var C = bU
        , N = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }]
        , k = K.tagName;
      if (k == "use") {
          var V = C.N3(K)
            , j = E.getElementById(V.slice(1))
            , a = new fn;
          if (j.tagName != "rect")
              a = C.HP(j);
          a.concat(C.KV(j));
          N = C.ls(E, j, i);
          _.Y.aW(N, a)
      } else if (k == "path") {
          var e = K.getAttribute("d");
          if (e == null)
              return N;
          var L = Typr.U.SVGToPath(e);
          N = _.$.rh({
              H: L.crds,
              Z: L.cmds
          }, i)
      } else if (k == "rect") {
          var g = K.getAttribute("rx")
            , I = C.HP(K);
          N = _.Y.L8.Rect(I.vK, I.Cz, parseFloat(K.getAttribute("width")), parseFloat(K.getAttribute("height")), g ? parseFloat(g) : 0)
      } else if (k == "circle" || k == "ellipse") {
          var h = [0, 0, 0, 0]
            , o = ["cx", "cy", "rx", "ry", "r"];
          for (var G = 0; G < 5; G++) {
              var H = K.getAttribute(o[G]);
              if (H) {
                  H = parseFloat(H);
                  if (G < 4)
                      h[G] = H;
                  else
                      h[2] = h[3] = H
              }
          }
          N = _.Y.L8.ZT(h[0] - h[2], h[1] - h[3], 2 * h[2], 2 * h[3])
      } else if (k == "polygon" || k == "polyline" || k == "line") {
          var A;
          if (k == "line")
              A = [K.getAttribute("x1"), K.getAttribute("y1"), K.getAttribute("x2"), K.getAttribute("y2")].map(parseFloat);
          else
              A = K.getAttribute("points").trim().replace(/\s\s+/g, " ").split(",").join(" ").split(" ").map(parseFloat);
          N = _.Y.L8.nu(A, 0, k != "polygon")
      }
      return N
  }
  ;
  bU.bU = function(E, K) {
      if (E.charAt(E.length - 1) == "m")
          return K * parseFloat(E.slice(0, E.length - 2));
      else
          return parseFloat(E)
  }
  ;
  bU.hU = function(E, K, i, C) {
      var N, k, V = bU, j = JSON.parse(ao.Fc[ao.order.indexOf("SoFi")]), a = K != null ? K.indexOf("(") : -1;
      if (a != -1) {
          var e = K.indexOf(")")
            , L = K.slice(0, a).trim()
            , g = K.slice(a + 1, e).trim();
          if (g.charAt(0) == "'")
              g = g.slice(1, g.length - 1);
          if (L == "url") {
              if (g.charAt(0) == "#") {
                  var I = E.getElementById(g.slice(1));
                  if (I && I.tagName.toLowerCase().endsWith("gradient")) {
                      var h = V.jY(E, I, i, C);
                      N = "GrFl";
                      k = {
                          t: "Objc",
                          v: h
                      }
                  } else {
                      N = "SoFi";
                      k = {
                          t: "Objc",
                          v: j
                      }
                  }
              } else
                  console.log("unknown url", g)
          } else if (L == "rgb" || L == "rgba") {
              N = "SoFi";
              k = {
                  t: "Objc",
                  v: j
              };
              k.v.Clr.v = _.V.VQ(CSS.h0(K));
              if (L == "rgba")
                  k.v.Opct.v.val = Math.round(100 * parseFloat(K.split(",").pop()))
          } else
              console.log("unknown fill", K)
      } else {
          N = "SoFi";
          k = {
              t: "Objc",
              v: j
          };
          k.v.Clr.v = _.V.VQ(CSS.h0(K))
      }
      return {
          type: N,
          G: k
      }
  }
  ;
  bU.KV = function(E) {
      var K = new fn
        , i = E.getAttribute("transform");
      if (i)
          K = bU.ga(i);
      var C = E.getAttribute("style");
      if (C != null) {
          var N = {};
          bU.CD(N, C, ["transform"]);
          C = N.transform;
          if (C)
              K.concat(bU.ga(C))
      }
      return K
  }
  ;
  bU.HP = function(E, K) {
      var i = new fn
        , C = E.getAttribute("x")
        , N = E.getAttribute("y");
      if (C)
          i.vK = parseFloat(C);
      else if (K)
          i.vK = K.vK;
      if (N)
          i.Cz = parseFloat(N);
      else if (K)
          i.Cz = K.Cz;
      return i
  }
  ;
  bU.ga = function(E) {
      var K = Typr.U.SVG.readTrnf(E);
      return new fn(K[0],K[1],K[2],K[3],K[4],K[5])
  }
  ;
  bU.bV = function(E, K) {
      var i = {}
        , C = "fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
      for (var G = 0; G < C.length; G++) {
          var N = E.getAttribute(C[G]);
          if (N != null && N != "inherit")
              i[C[G]] = N
      }
      var k = E.getAttribute("class");
      if (K != null && k != null && K["." + k] != null)
          bU.CD(i, K["." + k], C);
      var V = E.getAttribute("id");
      if (K != null && V != null && K["#" + V] != null)
          bU.CD(i, K["#" + V], C);
      var j = E.getAttribute("style");
      if (j != null)
          bU.CD(i, j, C);
      return i
  }
  ;
  bU.CD = function(E, K, i) {
      K = K.trim().split(";");
      for (var G = 0; G < K.length; G++) {
          var C = K[G].split(":")
            , N = C[0] ? C[0].trim() : ""
            , k = C[1] ? C[1].trim() : "";
          for (var V = 0; V < i.length; V++)
              if (N == i[V] && k != "inherit")
                  E[i[V]] = k
      }
  }
  ;
  bU.N3 = function(E) {
      var K = E.getAttribute("xlink:href");
      if (K == null)
          K = E.getAttribute("href");
      return K
  }
  ;
  bU.jY = function(E, K, i, C) {
      var N = bU
        , k = new fn
        , V = K.getAttribute("gradientTransform");
      if (V)
          k = N.ga(V);
      k.concat(i);
      var j = JSON.parse(ao.Fc[ao.order.indexOf("GrFl")])
        , a = j.Grad.v;
      a.Intr.v = 0;
      var e = K.tagName
        , L = new bT(0,0)
        , g = new bT(C.d,0);
      if (e == "linearGradient") {
          j.Type.v.GrdT = "Lnr";
          if (K.getAttribute("x1"))
              L.x = parseFloat(K.getAttribute("x1"));
          if (K.getAttribute("y1"))
              L.y = parseFloat(K.getAttribute("y1"));
          if (K.getAttribute("x2"))
              g.x = parseFloat(K.getAttribute("x2"));
          if (K.getAttribute("y2"))
              g.y = parseFloat(K.getAttribute("y2"));
          L.x = g.x + .5 * (L.x - g.x);
          L.y = g.y + .5 * (L.y - g.y)
      }
      if (e == "radialGradient") {
          j.Type.v.GrdT = "Rdl";
          if (K.getAttribute("cx"))
              L.x = parseFloat(K.getAttribute("cx"));
          if (K.getAttribute("cy"))
              L.y = parseFloat(K.getAttribute("cy"));
          g.Wm(L.x, L.y);
          if (K.getAttribute("r"))
              g.x += parseFloat(K.getAttribute("r"))
      }
      if (K.getAttribute("gradientUnits") == "userSpaceOnUse") {
          L = k.uZ(L);
          g = k.uZ(g)
      } else {
          L.x = C.x + L.x * C.d;
          L.y = C.y + L.y * C.v;
          g.x = C.x + g.x * C.d;
          g.y = C.y + g.y * C.v
      }
      _.V.g3(L, g, C, j);
      var I = K.children;
      if (I.length == 0) {
          var h = N.N3(K);
          if (h == null)
              throw "gradient has no stops";
          var o = E.getElementById(h.slice(1));
          if (o == null) {
              console.log(h.slice(1));
              throw "e"
          }
          var H = N.jY(E, o, k, C);
          j.Grad = H.Grad
      } else {
          var A = [];
          for (var G = 0; G < I.length; G++) {
              var S = I[G]
                , v = N.bV(S)
                , s = v["stop-color"]
                , D = v["stop-opacity"]
                , F = S.getAttribute("offset");
              if (s == null)
                  s = "#000000";
              if (D == null)
                  D = "1";
              var y = F ? parseFloat(F) : 0;
              s = CSS.h0(s);
              A.push([y, [s.h / 255, s.l / 255, s.O / 255], parseFloat(D)])
          }
          _.V.xe(A, a)
      }
      return j
  }
  ;
  bU.fD = function(E, K, i) {
      var C = []
        , N = bU;
      N.dT = K.a7A ? "\t" : "";
      var k = K.anf
        , V = K.a5s;
      C.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 " + E.d + " " + E.v + "\" width=\"" + k + "\" height=\"" + V + "\">");
      var j = {
          l4: [],
          DK: [],
          q7: 0,
          tU: 0,
          GX: 0,
          _i: {},
          xK: {},
          n6: 0,
          xX: {},
          rD: {},
          Ts: 0,
          g5: []
      };
      bU.g8(E, j, E.root.children, 1, K, i);
      if (j.l4.length != 0) {
          C.push(N.kp(1) + "<defs>");
          C = C.concat(j.l4);
          C.push(N.kp(1) + "</defs>")
      }
      C.push(N.kp(1) + "<style>");
      C.push(N.kp(2) + "tspan { white-space:pre }");
      for (var a in j.xX)
          C.push(N.kp(2) + "." + a + " { " + j.xX[a] + " } ");
      C.push(N.kp(1) + "</style>");
      C = C.concat(j.DK);
      C.push("</svg>");
      C = C.join(K.a7A ? "\n" : "");
      var e = _.I(Math.round(C.length * 1.5))
        , L = O.AP(C, e, 0);
      if (N.dd) {
          console.log(N.dd);
          var g = "SVGParser.gen.db = [\n";
          for (var G = 0; G < N.dd.length; G++) {
              var I = N.dd[G];
              g += "{\n\tnam: \"" + I.jc + "\",\n\tpts: [\n";
              for (var h = 0; h < I.pK.length; h++) {
                  var o = I.pK[h];
                  g += "\t\t[\"" + o[0] + "\", { cmds: " + JSON.stringify(o[1].Z) + ", crds:" + JSON.stringify(o[1].H) + " } ]" + (h == I.pK.length - 1 ? "" : ",") + "\n"
              }
              g += "\t]\n}" + (G == N.dd.length - 1 ? "" : ",") + "\n"
          }
          g += "]\n";
          console.log(g)
      }
      return e.buffer.slice(0, L)
  }
  ;
  bU.dT = "";
  bU.kp = function(l) {
      var E = "";
      for (var G = 0; G < l; G++)
          E += bU.dT;
      return E
  }
  ;
  bU.pj = function(l) {
      return "" + parseFloat(l.toFixed(3))
  }
  ;
  bU.g8 = function(E, K, i, C, N, k) {
      var V = bU;
      for (var j = 0; j < i.length; j++) {
          var a = i[j].z
            , e = a.add.lsct
            , L = a.add.vmsk
            , g = a.add.vstk
            , I = a.add.TySh
            , h = [];
          if (!N.hidden && !a.VD())
              continue;
          var o = a.opacity / 255
            , H = a.add.iOpa ? a.add.iOpa / 255 : 1;
          if (o != 1)
              h.push("opacity: " + V.pj(o));
          if (H != 1)
              h.push("fill-opacity: " + V.pj(H));
          if (a.SI != "norm") {
              var A = gx.vY[gx.WR.indexOf(a.SI)];
              if (A != null)
                  h.push("mix-blend-mode: " + A)
          }
          if (!a.VD())
              h.push("display: none");
          var S = []
            , v = []
            , s = a.getName()
            , D = s.indexOf(" .");
          if (D != -1) {
              v.push(s.slice(D + 2));
              s = s.slice(0, D)
          }
          if (N.names)
              S.push("id=\"" + V.bu(s) + "\"");
          var F = a.add.lmfx;
          if (F)
              F = F.solidFillMulti.v[0];
          if (F)
              F = F.v;
          if (F && !F.enab.v)
              F = null;
          if (a.Uf()) {
              var y = i[j].children;
              if (!(y.length == 1 && y[0].z.add.SoLd && !N.k3)) {
                  if (V.dd && a.getName().split("-").length == 3) {
                      V.dd.push({
                          jc: a.getName(),
                          qh: 0,
                          pK: []
                      })
                  }
                  if (L || a.add.artb) {
                      var T;
                      if (L)
                          T = _.Y.gJ(L.b).agu;
                      else {
                          var Q = a.vH()
                            , B = _.$.X6(Q);
                          T = Typr.U.pathToSVG({
                              crds: B.H,
                              cmds: B.Z
                          }, 2)
                      }
                      K.GX++;
                      S.push("clip-path=\"url(#cp" + K.GX + ")\"");
                      K.l4.push(V.kp(2) + "<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp" + K.GX + "\">");
                      K.l4.push(V.kp(3) + "<path d=\"" + T + "\" />");
                      K.l4.push(V.kp(2) + "</clipPath>")
                  }
                  if (h.length != 0)
                      S.push("style=\"" + h.join(";") + "\"");
                  K.DK.push(V.kp(C) + "<g " + V.$M(S, v) + ">");
                  V.g8(E, K, y, C + 1, N, k);
                  K.DK.push(V.kp(C) + "</g>")
              }
          } else if (a.bm() && L == null) {
              var r = new h4(0,0,E.d,E.v);
              V.IS(h, a.add, K, r);
              if (h.length != 0)
                  S.push("style=\"" + h.join(";") + "\"");
              K.DK.push(V.kp(C) + "<rect width=\"" + E.d + "\" height=\"" + E.v + "\" " + V.$M(S, v) + " />")
          } else if (L) {
              var r = _.Y.HD(L.b)
                , T = _.Y.gJ(L.b);
              if (T.BC != 0) {
                  S.push("fill-rule=\"evenodd\"")
              }
              var J = T.agu;
              V.IS(h, a.add, K, r);
              if (h.length != 0) {
                  var m = h.join(";")
                    , x = K.rD[m];
                  if (x == null) {
                      x = "shp" + K.Ts;
                      K.Ts++;
                      K.rD[m] = x;
                      K.xX[x] = m
                  }
                  v.push(x)
              }
              K.DK.push(V.kp(C) + "<path " + V.$M(S, v) + " d=\"" + J + "\" />");
              if (V.dd && V.dd[V.dd.length - 1]) {
                  var R = _.$.bF(L.b);
                  R.H = R.H.map(Math.round);
                  var b = V.dd[V.dd.length - 1];
                  b.qh += JSON.stringify(R).length;
                  b.pK.push([h[0].split("#").pop(), R])
              }
          } else if (I && N.afU) {
              var z = I.Ou
                , $ = new g_(z,k);
              if (F)
                  S.push("fill=\"" + CSS.hj(F.Clr.v) + "\"");
              var P = dR.Nr($, I)
                , t = _.$.yD(P);
              for (var X in t) {
                  if (F == null)
                      S.push("fill=\"" + X + "\"");
                  var B = t[X]
                    , J = Typr.U.pathToSVG({
                      crds: B.H,
                      cmds: B.Z
                  }, 2);
                  K.DK.push(V.kp(C) + "<path " + V.$M(S, v) + " d=\"" + J + "\" />");
                  if (F == null)
                      S.pop()
              }
          } else if (I && !N.a1F) {
              var z = I.Ou
                , Z = I.m.clone()
                , n = 0
                , ax = 0;
              if (cO.O1(z) == 1) {
                  var p = cO.UX(z, 0, 0).oN.Justification
                    , f = 0
                    , cY = cO.nh(z)[2];
                  if (p == 2)
                      f = cY / 2;
                  if (p == 1)
                      f = cY;
                  Z.translate(f, 0)
              }
              h.push("transform: " + V.Py(Z));
              var fC = cO.Es(z)
                , hi = z.EngineDict.ParagraphRun
                , es = hi.RunArray
                , W = hi.RunLengthArray;
              if (h.length != 0)
                  S.push("style=\"" + h.join(";") + "\"");
              K.DK.push(V.kp(C) + "<text " + V.$M(S, v) + " >");
              var d = a.add.lmfx;
              if (d)
                  d = d.frameFXMulti.v[0];
              if (d)
                  d = d.v;
              var fM = F ? CSS.hj(F.Clr.v) : null;
              for (var G = 0; G < es.length; G++) {
                  var d_ = []
                    , cm = W[G]
                    , c4 = fC.slice(n, n + cm - 1)
                    , ch = cO.UX(z, n, n)
                    , hQ = ch.gx[ch.dP.Font].Name;
                  if (K.g5.indexOf(hQ) == -1)
                      K.g5.push(hQ);
                  CSS.HB(d_, ch, I.m, !0, !0, fM);
                  if (d) {
                      h.push("stroke: " + CSS.hj(d.Clr.v));
                      h.push("stroke-width: " + d.Sz.v.val)
                  }
                  var em = ch.dP.FontSize * 1.12;
                  if (G == 0)
                      em = cO.O1(z) == 0 ? 0 : ch.dP.FontSize;
                  ax += em;
                  if (c4 != "") {
                      var m = d_.join(";")
                        , x = K.rD[m]
                        , am = "";
                      if (x == null) {
                          x = "txt" + K.Ts;
                          K.Ts++;
                          K.rD[m] = x;
                          K.xX[x] = m
                      }
                      var ag = ch.dP.Tracking;
                      if (ag != null && ag != 0) {
                          ag = Math.round(ag * ch.dP.FontSize / 1e3);
                          am = " dx=\"0";
                          for (var bK = 1; bK < c4.length; bK++)
                              am += " " + ag;
                          am += "\" "
                      }
                      K.DK.push(V.kp(C + 1) + "<tspan x=\"0\" y=\"" + V.pj(ax) + "\" class=\"" + x + "\"" + am + ">" + V.bu(c4) + "</tspan>")
                  }
                  n += cm
              }
              K.DK.push(V.kp(C) + "</text>")
          } else if (a.add.SoLd && N.k3) {
              var ei = a.add.SoLd
                , dL = ei.Idnt.v
                , fh = 0
                , eu = ei.Crop ? ei.Crop.v : null;
              if (K.xK[dL] != null)
                  fh = K.xK[dL];
              else {
                  K.n6++;
                  fh = K.n6;
                  K.xK[dL] = K.n6;
                  var hf = E.ez(dL, eu)
                    , gn = "";
                  if (hf == null)
                      return;
                  var iS = hf.Y0
                    , aI = fb.e1(hf.raw.buffer);
                  if (aI == "pdf") {
                      var ce = new bl("h");
                      fb.vG("PDF").VA(hf.raw.buffer, ce);
                      ce.S8();
                      ce.r9();
                      ce.s();
                      ce.L2();
                      if (ei.Crop && ei.Crop.v == 1) {
                          u.S7.P9(ce, ce.root.Qc(ce, !0))
                      }
                      var gr = fb.vG("SVG").PW(ce, ce.d, ce.v, null, {
                          g5: k
                      });
                      gn = "data:image/svg+xml;base64," + fb.cz(gr)
                  } else if (aI == "jpg" || aI == "png" || aI == "gif" || aI == "svg") {
                      var ek = {
                          jpg: "image/jpg",
                          png: "image/png",
                          jpg: "image/jpg",
                          svg: "image/svg+xml"
                      };
                      gn = "data:" + ek[aI] + ";base64," + fb.cz(hf.raw.buffer)
                  } else {
                      gn = fb.Bs(iS[0].buffer, iS[1].d, iS[1].v)
                  }
                  K.l4.push(V.kp(2) + "<image width=\"" + iS[1].d + "\" height=\"" + iS[1].v + "\" id=\"img" + fh + "\" href=\"" + gn + "\"/>")
              }
              var bJ = _.J.N6(ei);
              if (h.length != 0)
                  S.push("style=\"" + h.join(";") + "\"");
              var aN = V.$M(S, v);
              K.DK.push(V.kp(C) + "<use " + aN + " href=\"#img" + fh + "\" transform=\"" + V.Py(bJ) + "\"/>")
          } else if (!a.rect.OL() && (N.k3 || I)) {
              if (h.length != 0)
                  S.push("style=\"" + h.join(";") + "\"");
              var aN = V.$M(S, v)
                , bG = a.buffer;
              if (F)
                  bG = h$.FP(bG, F, a.rect);
              var aQ = a.rect;
              K.n6++;
              var gn = fb.Bs(bG.buffer, aQ.d, aQ.v, "png", null, !0);
              K.l4.push(V.kp(2) + "<image width=\"" + a.rect.d + "\" height=\"" + a.rect.v + "\" id=\"img" + K.n6 + "\" href=\"" + gn + "\"/>");
              K.DK.push(V.kp(C) + "<use " + aN + " href=\"#img" + K.n6 + "\" x=\"" + aQ.x + "\" y=\"" + aQ.y + "\" />")
          }
      }
  }
  ;
  bU.$M = function(E, K) {
      if (K.length != 0)
          E.push("class=\"" + K.join(" ") + "\"");
      return E.join(" ")
  }
  ;
  bU.bu = function(E) {
      return String(E).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\u0022/g, "&quot;")
  }
  ;
  bU.Py = function(E) {
      var K = [E.R, E.O, E.x9, E.bI, E.vK, E.Cz].map(bU.pj);
      return "matrix(" + K.join(",") + ")"
  }
  ;
  bU.IS = function(E, K, i, C) {
      var N = bU
        , k = K.vstk
        , V = K.vmsk
        , j = K.lmfx;
      if (V && V.zo != 0) {
          var a = N.pj(V.zo);
          if (i._i[a] == null) {
              i.tU++;
              i._i[a] = i.tU;
              i.l4.push(N.kp(2) + "<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt" + i.tU + "\"> <feGaussianBlur stdDeviation=\"" + a + "\" /> </filter>")
          }
          E.push("filter: url(#flt" + i._i[a] + ")")
      }
      var e = h$.l5(j, K)
        , L = e[0]
        , g = e[1];
      if (k && !k.fillEnabled.v)
          E.push("fill: none");
      else if (L) {
          var I = CSS.hj(L.Clr.v);
          E.push("fill: " + I)
      } else if (g) {
          N.ti(g, i, C);
          E.push("fill: url(#grd" + i.q7 + ")")
      }
      if (k == null || !k.strokeEnabled.v)
          k = h$.m2(j);
      if (k && k.strokeEnabled.v) {
          var h = k.strokeStyleContent.v
            , o = h.classID;
          if (o == "solidColorLayer")
              E.push("stroke: " + CSS.hj(h.Clr.v));
          else {
              N.ti(h, i, C);
              E.push("stroke: url(#grd" + i.q7 + ")")
          }
          var H = ao.S6.mN.indexOf(k.strokeStyleLineCapType.v.strokeStyleLineCapType)
            , A = ao.S6.join.indexOf(k.strokeStyleLineJoinType.v.strokeStyleLineJoinType)
            , S = k.strokeStyleOpacity.v.val / 100
            , v = k.strokeStyleLineWidth.v.val
            , s = ao.S6.Ee.indexOf(k.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
          if (s == 2) {
              v *= 2;
              E.push("paint-order:stroke fill markers")
          }
          var D = k.strokeStyleLineDashSet.v
            , F = [];
          for (var G = 0; G < D.length; G++)
              F.push(Math.round(D[G].v.val * v));
          if (H != 0)
              E.push("stroke-linecap:" + ["butt", "round", "square"][H]);
          if (A != 0)
              E.push("stroke-linejoin:" + ["miter", "round", "bevel"][A]);
          if (S != 1)
              E.push("stroke-opacity:" + N.pj(S));
          if (v != 1)
              E.push("stroke-width: " + N.pj(v));
          if (F.length != 0)
              E.push("stroke-dasharray: " + F.join(","))
      }
  }
  ;
  bU.ti = function(E, K, i) {
      K.q7++;
      var C = bU
        , N = E.Grad.v
        , k = N.Clrs.v.slice(0)
        , V = N.Trns.v.slice(0)
        , j = E.Ofst.v
        , a = E.Type.v.GrdT == "Rdl" ? 1 : 0
        , e = (a == 1 ? "radial" : "linear") + "Gradient"
        , L = _.V.TO(E, i);
      if (a == 0) {
          L[0].x = L[1].x + 2 * (L[0].x - L[1].x);
          L[0].y = L[1].y + 2 * (L[0].y - L[1].y)
      }
      var g = C.kp(2) + "<" + e + " id=\"grd" + K.q7 + "\" gradientUnits=\"userSpaceOnUse\" ";
      if (a == 0)
          K.l4.push(g + " x1=\"" + C.pj(L[0].x) + "\" y1=\"" + C.pj(L[0].y) + "\" x2=\"" + C.pj(L[1].x) + "\" y2=\"" + C.pj(L[1].y) + "\">");
      if (a == 1)
          K.l4.push(g + " cx=\"" + C.pj(L[0].x) + "\" cy=\"" + C.pj(L[0].y) + "\" r=\"" + C.pj(bT.zL(L[0], L[1])) + "\">");
      var I = E.Rvrs.v;
      if (I) {
          k.reverse();
          V.reverse()
      }
      for (var G = 0; G < k.length; G++) {
          var h = k[G].v
            , o = G < V.length ? V[G].v.Opct.v.val / 100 : 1
            , o = o == 1 ? "" : "stop-opacity=\"" + C.pj(o) + "\""
            , H = h.Lctn.v / 4096;
          if (I)
              H = 1 - H;
          K.l4.push(C.kp(3) + "<stop offset=\"" + C.pj(H) + "\" stop-color=\"" + CSS.hj(h.Clr.v) + "\" " + o + " />")
      }
      K.l4.push(C.kp(2) + "</" + e + ">")
  }
  ;
  bU.L8 = function(E, K, i, C, N) {
      var k = []
        , V = bU.L8
        , j = !1
        , a = {
          jx: E,
          w1: K,
          zH: [!0, !0, !0],
          V4: !1,
          cX: i,
          ajt: 0
      };
      a.ka = Math.round(Math.max(E, K) * (.02 + V.ex(a) * .03));
      a.ZC = V.a7D(a);
      a.nM = V.ane(a.ZC, (V.ex(a) < .5 ? -1 : 1) * (.2 + V.ex(a) * .3));
      if (V.ex(a) < .5) {
          var e = a.ZC;
          a.ZC = a.nM;
          a.nM = e
      }
      a.acf = V.ex(a) < .4 && V.ais(a.nM, {
          h: 1,
          l: 1,
          O: 1
      }) > .3;
      a.ag0 = V.ex(a) < .5 ? 0 : 1;
      k.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 " + E + " " + K + "\" width=\"" + E + "\" height=\"" + K + "\">");
      a.Bn = C[Math.floor(V.u6(a) * C.length)];
      a.f5 = C[Math.floor(V.u6(a) * C.length)];
      k.push("<style>");
      k.push("@font-face {  font-family: " + a.Bn[2] + ";  src: url(rsrc/fonts/" + a.Bn[5] + ");  }");
      k.push("@font-face {  font-family: " + a.f5[2] + ";  src: url(rsrc/fonts/" + a.f5[5] + ");  }");
      k.push("</style>");
      var L = [0, 0, E, K]
        , g = L;
      if (N == null)
          k.push("<path style=\"fill: " + V.cq(a.ZC) + "\" d=\"" + V.Rect(L[0], L[1], L[2] - L[0], L[3] - L[1]) + "\" id=\"Background\" />");
      else {
          a.V4 = !0;
          V.QW(a, L, k, N)
      }
      if (V.ex(a) < .25 && !a.V4) {
          a.zH[0] = a.zH[2] = !1;
          V.agU(L, a, k);
          g = L
      } else if (V.ex(a) < .25 || a.V4)
          g = L;
      else {
          var I = .52 + V.ex(a) * .2;
          if (V.ex(a) < .5)
              I = 1 - I;
          var h = L.slice(0)
            , o = L.slice(0);
          if (V.ex(a) < .5)
              h[2] = o[0] = Math.round(I * E);
          else
              h[3] = o[1] = Math.round(I * K);
          if (V.ex(a) < .5) {
              var e = h;
              h = o;
              o = e
          }
          g = h;
          V.a5K(a, o, k, N)
      }
      V.an8(a, g, k);
      k.push("</svg>");
      k = k.join("\n");
      var H = _.I(Math.round(k.length * 1.5))
        , A = O.AP(k, H, 0);
      return [H.buffer.slice(0, A), a.Ap]
  }
  ;
  bU.L8.agU = function(E, K, i) {
      var C = bU.L8
        , N = E[2] - E[0]
        , k = E[3] - E[1];
      if (C.ex(K) < .5) {
          i.push("<path id=\"Border\" style=\"fill: " + C.cq(K.nM) + "\" d=\"" + C.a57(E[0], E[1], E[2] - E[0], E[3] - E[1], K.ka) + "\" />")
      } else if (C.ex(K) < -.4) {
          C.a4Q(K, E, i)
      } else {
          var V = C.ex(K) < .5 ? 0 : 1
            , j = (V == 0 ? k : N) / 4
            , a = C.ix(K, V, E, i, j, !0)
            , a = C.ix(K, V + 2, E, i, j, !0, a)
      }
  }
  ;
  bU.L8.an8 = function(E, K, i) {
      var C = bU.L8
        , N = "Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-")
        , k = 2 * Math.floor(C.ex(E) * N.length / 2)
        , V = K[2] - K[0]
        , j = K[3] - K[1]
        , e = 0
        , g = 0;
      E.M9 = (E.jx + V) * .5 * (.04 + C.ex(E) * .05);
      E.M9 = Math.min(E.M9, j * .4, V * .12);
      E.M9 = Math.round(E.M9);
      var a = Math.min(E.M9 * N[k].length * (.35 + .3 * C.ex(E)), V * .9)
        , L = (K[1] + K[3]) / 2
        , I = _.gU(E.ZC) < .85 ? {
          h: 1,
          l: 1,
          O: 1
      } : {
          h: .1,
          l: .1,
          O: .1
      };
      if (C.ex(E) < .25 && E.zH[0]) {
          g = 0;
          e = K[0] + E.ka
      } else if (C.ex(E) < .33 && E.zH[2]) {
          g = 2;
          e = K[2] - E.ka
      } else {
          g = 1;
          e = (K[0] + K[2]) / 2
      }
      var h = I.h == 1 ? "0,0,0" : "255,255,255"
        , o = E.V4 && C.ex(E) < 1;
      if (o) {
          var H = K[0]
            , A = V
            , S = L - E.M9 * 1.1
            , v = E.M9 * 2.2
            , s = .7;
          if (g == 1 && C.ex(E) < .5) {
              H = S = .2 * Math.min(V, j);
              A = V - 2 * S;
              v = j - S - S
          } else if (C.ex(E) < .7) {
              H = S = 0;
              A = V;
              v = j;
              s = .25
          }
          i.push("<path id=\"Strip\" style=\"fill: rgb(" + h + "); opacity: " + s + "\" d=\"" + C.Rect(H, S, A, v) + "\" />")
      }
      if (C.ex(E) < .4) {
          var D = E.M9 * .07;
          D *= 1.5 + C.ex(E) * 1;
          if (g == -1 && V / j < 3 && !o) {
              i.push("<path id=\"Bar-bottom\" style=\"fill: " + C.cq(I) + "\" d=\"" + C.Rect(e - a / 2, L + E.M9 * 1.1 - D / 2, a, D) + "\" />");
              i.push("<path id=\"Bar-top\"    style=\"fill: " + C.cq(I) + "\" d=\"" + C.Rect(e - a / 2, L - E.M9 * 1.1 - D / 2, a, D) + "\" />")
          }
          if (g != 1) {
              i.push("<path id=\"Bar\" style=\"fill: " + C.cq(I) + "\" d=\"" + C.Rect(e - D / 2, L - E.M9 * .8, D, E.M9 * .8 * 2) + "\" />");
              e += (g == 0 ? 1 : -1) * E.M9 / 3
          }
      }
      var F = E.M9 * .4;
      i.push(C.vh(N[k + 1], e, L + F * 1.6, F, I, g, E.f5));
      i.push(C.vh(N[k], e, L + E.M9 * .04, E.M9, I, g, E.Bn))
  }
  ;
  bU.L8.a5K = function(E, K, i, C) {
      var N = K[2] - K[0]
        , k = K[3] - K[1]
        , V = Math.max(N, k)
        , j = Math.min(N, k)
        , a = bU.L8;
      if (V / j < 5 && !E.V4 && !1) {
          a.QW(E, K, i, C)
      } else if (a.ex(E) < 0)
          i.push("<path style=\"fill: " + a.cq(E.nM) + "\" d=\"" + a.Rect(K[0], K[1], N, k) + "\" />");
      else {
          var e = 0;
          if (K[3] != E.w1)
              e = 0;
          if (K[2] != E.jx)
              e = 3;
          if (K[0] != 0)
              e = 1;
          if (K[1] != 0)
              e = 2;
          var L = e + 2 & 3;
          if (V / j < 3) {
              var g = a.a0O(L)
                , I = g[Math.round(a.ex(E) * (g.length - 1))]
                , h = I.jc.slice(0, 4)
                , o = h.indexOf(1);
              I = JSON.parse(JSON.stringify(I));
              var H = -1;
              if (h != "0000") {
                  var A = new fn;
                  if (I.jc[5] == "0") {
                      if (o == 3 && e == 1) {
                          H = 1;
                          A.scale(-1, 1)
                      } else
                          H = o
                  } else {
                      var S = L;
                      while (S == L)
                          S = Math.floor(a.ex(E) * 4) & 3;
                      A.rotate((-o + S) * Math.PI / 2)
                  }
                  a.m(I, A)
              }
              var v = a.Rk(I)
                , s = N - 2 * E.ka
                , D = k - 2 * E.ka;
              if (H != -1) {
                  if ((H & 1) == 0)
                      D -= E.ka;
                  else
                      s -= E.ka
              }
              var F = Math.min(s / v.d, D / v.v)
                , y = new fn;
              y.translate(-v.x, -v.y);
              y.scale(F, F);
              var T = (N - v.d * F) / 2
                , Q = (k - v.v * F) / 2;
              if (H != -1) {
                  if (H == 3)
                      T = 0;
                  if (H == 0)
                      Q = 0;
                  if (H == 1)
                      T = N - v.d * F;
                  if (H == 2)
                      Q = k - v.v * F
              }
              y.translate(K[0] + T, K[1] + Q);
              a.WZ(E, I, y, E.nM, i)
          } else {
              a.ix(E, e, K, i, 1e9)
          }
      }
  }
  ;
  bU.L8.QW = function(E, K, i, C) {
      var N = K[2] - K[0], k = K[3] - K[1], V = Math.max(N, k), j = Math.min(N, k), a = bU.L8, e = a.u6(E), L, g, I, h = C[0]instanceof ArrayBuffer;
      if (h) {
          L = "data:image/jpg;base64," + gQ.EH(C[0]);
          g = C[1];
          I = C[2]
      } else {
          var o = Math.floor(e * C.length)
            , H = C[o];
          E.Ap = H;
          L = H.webformatURL;
          g = H.webformatWidth;
          I = H.webformatHeight
      }
      var A = K[0]
        , S = K[1]
        , v = N
        , s = k;
      if (N / k > g / I) {
          s = v * I / g;
          S = S - (s - k) / 2
      } else {
          v = s * g / I;
          A = A - (v - N) / 2
      }
      if (h) {
          i.push("<defs>");
          i.push("<image width=\"" + g + "\" height=\"" + I + "\" id=\"Background\" href=\"" + L + "\" />");
          i.push("</defs>");
          var D = v / g;
          i.push("<use href=\"#Background\" transform=\"" + bU.Py(new fn(D,0,0,D,A,S)) + "\" />")
      } else {
          var F = "cp" + Math.random();
          i.push("<clipPath id=\"" + F + "\">");
          i.push("<path style=\"fill: " + a.cq(E.nM) + "\" d=\"" + a.Rect(K[0], K[1], N, k) + "\" />");
          i.push("</clipPath>");
          i.push("<image  clip-path=\"url(#" + F + ")\" xlink:href=\"" + L + "\" x=\"" + A + "\" y=\"" + S + "\" width=\"" + v + "\" height=\"" + s + "\" />")
      }
  }
  ;
  bU.L8.vh = function(E, K, i, C, N, k, V) {
      var j = bU.L8;
      return "<text x=\"" + K + "\" y=\"" + i + "\" style=\"fill:" + j.cq(N) + "; font-size:" + C + "px; text-anchor:" + ["start", "middle", "end"][k] + "; font-family:" + V[2] + ";\"><tspan>" + E + "</tspan></text>"
  }
  ;
  bU.L8.WZ = function(E, K, i, C, N) {
      var k = bU.L8
        , V = [];
      for (var G = 0; G < K.pK.length; G++) {
          V.push(C);
          if (E.acf) {
              C = (G & 1) == E.ag0 ? {
                  h: 1,
                  l: 1,
                  O: 1
              } : V[0]
          }
      }
      N.push("<g id=\"" + K.jc.split("-")[2] + ":::\" style=\"transform: " + bU.Py(i) + ";\" >");
      for (var G = 0; G < K.pK.length; G++) {
          var j = K.pK[G];
          C = V.pop();
          N.push("<path style=\"fill: " + (C ? k.cq(C) : "#" + j[0]) + "\" d=\"" + Typr.U.pathToSVG({
              crds: j[1].H,
              cmds: j[1].Z
          }) + "\" />")
      }
      N.push("</g>")
  }
  ;
  bU.L8.a4Q = function(E, K, i) {
      var C = bU.L8
        , N = bU.L8.dg
        , k = [];
      for (var G = 0; G < N.length; G++) {
          var V = N[G]
            , j = V.jc.slice(0, 4);
          if (j != "1001")
              continue;
          k.push(V)
      }
      var V = k[Math.floor(C.ex(E) * k.length)];
      if (C.ex(E) < .5)
          C.m(V, new fn(0,1,1,0,0,0));
      var a = K[3] - K[1]
        , e = K[2] - K[0]
        , L = C.Rk(V)
        , g = .7 * Math.min(e, a, .5 * Math.max(e, a)) / Math.max(L.d, L.v)
        , I = new fn;
      I.scale(g, g);
      if (C.ex(E) < .5) {
          I.scale(1, -1);
          I.translate(0, a)
      }
      C.WZ(E, V, I, E.nM, i);
      I.rotate(Math.PI);
      I.translate(e, a);
      C.WZ(E, V, I, E.nM, i)
  }
  ;
  bU.L8.a0O = function(E) {
      var K = bU.L8.dg
        , i = [];
      for (var G = 0; G < K.length; G++) {
          var C = K[G]
            , N = C.jc.slice(0, 4);
          if (N == "0000") {
              i.push(C);
              continue
          }
          if (["1000", "0100", "0010", "0001"].indexOf(N) == -1)
              continue;
          var k = N.indexOf("1");
          if (C.jc[5] == "0" && E == k && k != 3)
              continue;
          i.push(C)
      }
      return i
  }
  ;
  bU.L8.ix = function(E, K, i, C, N, k, V) {
      var j = bU.L8.dg, a = bU.L8, e = [], v, s;
      for (var G = 0; G < j.length; G++) {
          var L = j[G]
            , g = L.jc.slice(0, 4);
          if (["1110", "1101", "1011", "0111"].indexOf(g) == -1)
              continue;
          var I = g.indexOf("0") + 2 & 3;
          if (L.jc[5] == "0")
              if (k == !0 || K != I && !(K == 1 && I == 3))
                  continue;
          e.push(L)
      }
      var h = V != null ? V : Math.floor(a.ex(E) * e.length)
        , L = e[h]
        , L = JSON.parse(JSON.stringify(L))
        , g = L.jc.slice(0, 4)
        , I = g.indexOf("0") + 2 & 3;
      if (I == 3 && K == 1)
          _.m(L, new fn(1,0,0,-1,0,1e3));
      var o = new fn;
      o.translate(-500, -500);
      o.rotate(-I * Math.PI / 2);
      o.translate(500, 500);
      a.m(L, o);
      var H = i[3] - i[1]
        , A = i[2] - i[0]
        , S = a.Rk(L);
      if (S.y < 0) {
          S.v += S.y;
          S.y = 0
      }
      if (S.y > 0) {
          S.v += S.y;
          S.y = 0
      }
      if ((K & 1) == 0) {
          s = H;
          v = A
      } else {
          v = H;
          s = A
      }
      var D = Math.min(Math.min(.5 + .5 * a.ex(E)) * Math.min(A, H), N) / S.v
        , F = Math.ceil(v / (1e3 * D))
        , y = new fn
        , T = new fn;
      T.scale(D, D);
      if (K == 0 || K == 2) {
          T.translate(-(A / 2), -(H / 2));
          T.rotate(-K * Math.PI / 2);
          T.translate(A / 2 + i[0], H / 2 + i[1])
      } else {
          T.rotate(Math.PI / 2);
          T.scale(1, -1);
          T.translate(i[0], i[1]);
          if (K == 1) {
              T.scale(-1, 1);
              T.translate(A, 0)
          }
      }
      C.push("<g id=\"Border-" + ["top", "right", "bottom", "left"][K] + ":::\">");
      for (var G = 0; G < F; G++) {
          var Q = y.clone();
          Q.concat(T);
          a.WZ(E, L, Q, E.nM, C);
          y.translate(1e3 - 2, 0)
      }
      C.push("</g>");
      return h
  }
  ;
  bU.L8.Rect = function(E, K, i, C) {
      return Typr.U.pathToSVG({
          crds: [E, K, E + i, K, E + i, K + C, E, K + C],
          cmds: ["M", "L", "L", "L", "Z"]
      })
  }
  ;
  bU.L8.a57 = function(E, K, i, C, N) {
      var k = [E, K, E + i, K, E + i, K + C, E, K + C];
      E += N;
      K += N;
      i -= 2 * N;
      C -= 2 * N;
      k.push(E, K, E, K + C, E + i, K + C, E + i, K);
      return Typr.U.pathToSVG({
          crds: k,
          cmds: "M L L L Z M L L L Z".split(" ")
      })
  }
  ;
  bU.L8.ane = function(E, K) {
      var i = _.d7(E.h, E.l, E.O);
      i.q8 = Math.max(.1, Math.min(.9, i.q8 + K));
      return _.WV(i.w1, i.Us, i.q8)
  }
  ;
  bU.L8.amg = function(E, K) {
      var i = _.d7(E.h, E.l, E.O);
      i.w1 += K;
      return _.WV(i.w1, i.Us, i.q8)
  }
  ;
  bU.L8.aiV = function(E) {
      var K = _.d7(E.h, E.l, E.O);
      K.q8 = 1 - K.q8;
      return _.WV(K.w1, K.Us, K.q8)
  }
  ;
  bU.L8.ais = function(E, K) {
      var i = E.h - K.h
        , C = E.l - K.l
        , N = E.O - K.O;
      return Math.sqrt(i * i + C * C + N * N)
  }
  ;
  bU.L8.a7D = function(E) {
      var K = bU.L8;
      return {
          h: K.ex(E),
          l: K.ex(E),
          O: K.ex(E)
      }
  }
  ;
  bU.L8.cq = function(E) {
      return CSS.Z8({
          h: E.h * 255,
          l: E.l * 255,
          O: E.O * 255
      })
  }
  ;
  bU.L8.Rk = function(E) {
      var K = E.pK
        , i = new h4;
      for (var G = 0; G < K.length; G++)
          i = i.ip(_.$.Rk(K[G][1].H));
      return i
  }
  ;
  bU.L8.m = function(E, K) {
      var i = E.pK;
      for (var G = 0; G < i.length; G++)
          _.$.m(i[G][1].H, K, i[G][1].H)
  }
  ;
  bU.L8.ex = function(E) {
      E.ajt++;
      var K = E.ajt & 3;
      if (K == 0)
          E.cX = bU.L8.Gu(E.cX);
      var i = E.cX >>> 8 * K & 255;
      return i * (.99999999 / 255)
  }
  ;
  bU.L8.u6 = function(E) {
      var K = bU.L8.Gu(E.cX);
      E.cX = bU.L8.Gu(K);
      return K * (1 / 4294967295)
  }
  ;
  bU.L8.Gu = function(E) {
      E = (E ^ 61 ^ E >>> 16) >>> 0;
      E = E + (E << 3) >>> 0;
      E = (E ^ E >>> 4) >>> 0;
      E = E * 668265261 >>> 0;
      E = (E ^ E >>> 15) >>> 0;
      return E
  }
  ;
  bU.L8.dg = [{
      jc: "0001-0-bird",
      pK: [["4b3c34", {
          Z: "M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),
          H: [208, 16, 253, 5, 247, 86, 228, 104, 218, 108, 253, 60, 235, 12, 211, 18, 210, 18, 209, 17, 208, 16, 208, 16, 187, 140, 238, 125, 326, 133, 319, 189, 318, 198, 307, 210, 299, 207, 297, 205, 307, 208, 316, 195, 317, 188, 320, 126, 208, 137, 174, 149, 187, 140, 137, 75, 156, 79, 177, 94, 164, 157, 173, 147, 177, 101, 165, 79, 142, 75, 137, 75, 368, 59, 165, 59, 182, 233, 0, 210, 0, 225, 161, 250, 194, 61, 364, 63, 367, 61, 368, 59, 368, 59, 368, 59]
      }], ["3c7040", {
          Z: "M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),
          H: [345, 123, 324, 113, 331, 70, 284, 80, 287, 79, 310, 89, 314, 103, 314, 104, 306, 90, 284, 82, 281, 81, 270, 85, 268, 86, 274, 117, 335, 119, 345, 123, 345, 123, 270, 0, 283, 29, 282, 58, 244, 66, 258, 62, 265, 40, 269, 27, 265, 37, 256, 56, 249, 58, 242, 31, 263, 18, 270, 0, 270, 0, 89, 100, 81, 136, 47, 182, 101, 196, 90, 189, 92, 157, 91, 145, 94, 160, 93, 191, 109, 195, 148, 158, 96, 129, 89, 100, 89, 100, 230, 187, 201, 240, 160, 226, 133, 198, 150, 191, 172, 197, 187, 198, 166, 193, 153, 190, 134, 193, 159, 162, 207, 194, 230, 187, 230, 187, 126, 177, 131, 159, 129, 150, 119, 139, 122, 122, 145, 112, 147, 97, 166, 128, 164, 155, 134, 168, 139, 154, 146, 142, 145, 131, 143, 145, 133, 159, 126, 177, 126, 177, 209, 86, 195, 86, 166, 91, 173, 109, 177, 102, 181, 97, 191, 96, 180, 99, 174, 113, 175, 113, 194, 114, 200, 96, 209, 86, 209, 86, 278, 175, 254, 167, 235, 168, 231, 143, 245, 143, 248, 151, 256, 158, 252, 147, 243, 144, 240, 142, 276, 147, 265, 171, 278, 175]
      }], ["b588c1", {
          Z: "M C C C C C C C C C C C C L Z".split(" "),
          H: [189, 40, 188, 42, 186, 44, 184, 47, 184, 52, 183, 55, 181, 59, 175, 70, 160, 78, 147, 79, 142, 79, 131, 78, 127, 75, 118, 74, 95, 71, 93, 70, 89, 70, 88, 70, 69, 72, 74, 66, 82, 68, 93, 65, 78, 64, 83, 62, 95, 59, 128, 50, 128, 33, 155, 29, 162, 16, 180, 13, 189, 31, 193, 31, 196, 34, 198, 37, 197, 37, 193, 39, 189, 40, 189, 40]
      }]]
  }, {
      jc: "0001-0-bird2",
      pK: [["ff7f2a", {
          Z: "M L L L Z M L L L Z".split(" "),
          H: [296, 0, 296, 62, 335, 62, 296, 0, 357, 0, 357, 62, 318, 62, 357, 0]
      }], ["b588c1", {
          Z: "M C C C C C C C C C C C L Z".split(" "),
          H: [321, 48, 344, 48, 379, 67, 396, 121, 408, 176, 396, 230, 337, 255, 303, 265, 265, 268, 217, 235, 191, 217, 170, 188, 186, 180, 195, 177, 199, 187, 205, 192, 203, 185, 199, 178, 207, 172, 217, 165, 224, 178, 225, 182, 227, 196, 231, 203, 250, 206, 273, 205, 290, 196, 292, 165, 289, 133, 269, 118, 268, 101, 267, 77, 288, 49, 321, 48, 321, 48]
      }], ["74439e", {
          Z: "M C C C C C C L Z M C C Z".split(" "),
          H: [337, 187, 329, 202, 317, 204, 304, 204, 293, 204, 284, 205, 293, 224, 286, 216, 278, 209, 268, 214, 257, 220, 262, 237, 269, 243, 284, 258, 310, 256, 323, 243, 337, 227, 339, 208, 337, 187, 337, 187, 340, 77, 310, 78, 287, 81, 315, 96, 269, 83, 309, 75, 340, 77]
      }], ["000000", {
          Z: "M L L L Z M L L L Z".split(" "),
          H: [326, 258, 334, 315, 323, 316, 326, 258, 298, 262, 296, 318, 286, 317, 298, 262]
      }], ["4b3c34", {
          Z: "M L C C C C C C C C L Z".split(" "),
          H: [0, 272, 0, 336, 63, 296, 119, 296, 175, 320, 205, 330, 229, 339, 278, 338, 322, 337, 354, 322, 405, 325, 443, 329, 482, 332, 501, 377, 501, 366, 502, 348, 474, 328, 464, 320, 440, 312, 384, 309, 296, 309, 300, 333, 186, 293, 118, 264, 54, 250, 0, 272, 0, 272]
      }], ["3c7040", {
          Z: "M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),
          H: [58, 260, 44, 247, 27, 239, 20, 208, 15, 188, 32, 182, 43, 198, 59, 227, 56, 242, 58, 260, 181, 323, 167, 336, 150, 345, 143, 375, 138, 396, 155, 401, 166, 385, 182, 356, 179, 342, 181, 323, 60, 260, 79, 249, 100, 243, 113, 214, 122, 194, 102, 186, 86, 200, 62, 227, 65, 242, 60, 260, 60, 260, 499, 378, 479, 377, 462, 372, 435, 388, 417, 399, 425, 415, 444, 411, 476, 403, 484, 390, 499, 378, 499, 378, 501, 379, 494, 397, 482, 411, 488, 442, 491, 463, 511, 461, 514, 442, 520, 410, 508, 397, 501, 379, 501, 379, 503, 378, 513, 390, 516, 402, 531, 413, 546, 421, 557, 412, 548, 401, 534, 382, 519, 379, 503, 378]
      }]]
  }, {
      jc: "0000-1-flower",
      pK: [["7a59a2", {
          Z: "M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),
          H: [468, 470, 411, 473, 371, 480, 351, 495, 332, 509, 322, 536, 325, 581, 325, 601, 328, 621, 325, 637, 346, 634, 371, 638, 397, 637, 427, 636, 456, 626, 465, 611, 478, 596, 485, 553, 489, 490, 477, 489, 470, 483, 468, 470, 445, 563, 435, 583, 425, 591, 415, 590, 401, 588, 401, 572, 410, 549, 388, 558, 375, 557, 369, 546, 366, 533, 374, 524, 390, 517, 416, 506, 441, 498, 465, 495, 463, 519, 455, 542, 445, 563, 445, 563, 489, 450, 486, 392, 480, 352, 465, 332, 451, 313, 425, 302, 380, 305, 360, 305, 340, 307, 324, 304, 327, 324, 322, 350, 323, 376, 323, 406, 332, 435, 347, 444, 362, 457, 405, 465, 468, 470, 469, 458, 476, 451, 489, 450, 489, 450, 395, 424, 376, 415, 368, 405, 369, 394, 371, 380, 387, 380, 410, 390, 402, 368, 403, 355, 414, 349, 427, 346, 436, 355, 443, 370, 454, 397, 460, 422, 463, 446, 439, 443, 417, 435, 395, 424, 395, 424, 508, 470, 566, 468, 606, 462, 626, 447, 645, 433, 656, 407, 654, 362, 654, 342, 652, 322, 655, 306, 634, 309, 609, 304, 583, 305, 553, 305, 524, 314, 514, 329, 501, 344, 493, 387, 488, 449, 500, 451, 507, 457, 508, 470, 508, 470, 534, 377, 544, 357, 554, 350, 564, 351, 578, 353, 578, 369, 568, 392, 590, 384, 604, 385, 609, 396, 612, 409, 603, 418, 588, 425, 561, 435, 536, 442, 512, 445, 515, 421, 523, 399, 534, 377, 534, 377, 488, 490, 492, 547, 499, 587, 514, 607, 528, 626, 554, 636, 600, 633, 619, 632, 640, 630, 656, 633, 652, 612, 656, 587, 655, 560, 655, 531, 645, 502, 629, 493, 614, 480, 571, 473, 508, 469, 507, 481, 501, 488, 488, 490, 488, 490, 582, 513, 602, 523, 610, 533, 609, 543, 607, 557, 591, 557, 568, 548, 577, 570, 576, 583, 565, 589, 552, 592, 542, 584, 535, 568, 524, 542, 517, 517, 514, 493, 538, 495, 560, 503, 582, 513, 582, 513]
      }]]
  }, {
      jc: "0000-1-flower",
      pK: [["d13777", {
          Z: "M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),
          H: [474, 503, 457, 528, 452, 530, 450, 528, 450, 523, 469, 498, 464, 493, 388, 522, 332, 552, 314, 585, 297, 628, 322, 660, 372, 639, 361, 698, 421, 709, 450, 665, 467, 649, 477, 596, 482, 505, 474, 503, 474, 503, 439, 563, 431, 563, 424, 556, 424, 548, 424, 539, 431, 532, 439, 532, 447, 532, 454, 539, 454, 548, 454, 556, 447, 563, 439, 563, 462, 475, 432, 467, 429, 463, 430, 460, 435, 458, 465, 469, 468, 463, 417, 399, 371, 356, 335, 348, 288, 345, 265, 379, 300, 420, 241, 428, 249, 488, 301, 503, 321, 513, 374, 507, 462, 483, 462, 475, 462, 475, 394, 460, 391, 452, 396, 444, 404, 441, 412, 438, 420, 443, 423, 451, 426, 459, 421, 467, 413, 470, 405, 473, 396, 468, 394, 460, 484, 455, 483, 424, 486, 419, 489, 420, 492, 424, 492, 456, 498, 457, 543, 389, 570, 332, 566, 294, 554, 249, 515, 238, 487, 284, 461, 231, 406, 256, 408, 310, 405, 333, 427, 381, 477, 458, 484, 455, 484, 455, 477, 385, 484, 380, 494, 382, 499, 389, 504, 396, 502, 405, 496, 410, 489, 415, 479, 414, 474, 407, 469, 400, 471, 390, 477, 385, 511, 470, 539, 459, 545, 461, 545, 463, 542, 467, 512, 477, 513, 483, 592, 505, 654, 513, 688, 497, 728, 472, 726, 432, 674, 419, 717, 378, 675, 334, 625, 353, 602, 356, 563, 393, 506, 464, 511, 470, 511, 470, 575, 442, 581, 447, 583, 456, 578, 463, 573, 470, 563, 472, 557, 467, 550, 462, 548, 452, 553, 445, 558, 438, 568, 437, 575, 442, 505, 499, 524, 523, 524, 529, 521, 531, 517, 529, 498, 503, 492, 506, 496, 588, 508, 650, 533, 677, 570, 707, 607, 693, 603, 639, 656, 667, 685, 614, 651, 572, 641, 551, 594, 525, 509, 493, 505, 499, 505, 499, 551, 552, 548, 560, 540, 564, 532, 561, 524, 559, 519, 550, 522, 542, 524, 534, 533, 530, 541, 532, 549, 535, 554, 543, 551, 552]
      }]]
  }, {
      jc: "0000-1-flower",
      pK: [["ffac42", {
          Z: "M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),
          H: [646, 471, 646, 446, 626, 426, 601, 426, 599, 426, 597, 426, 595, 427, 596, 426, 598, 424, 599, 423, 616, 406, 616, 378, 599, 360, 581, 343, 553, 343, 536, 360, 534, 361, 533, 363, 532, 364, 532, 363, 532, 361, 532, 359, 532, 335, 512, 315, 488, 315, 463, 315, 443, 335, 443, 359, 443, 361, 443, 363, 443, 365, 442, 364, 441, 363, 440, 362, 422, 344, 394, 344, 377, 362, 359, 379, 359, 407, 377, 425, 378, 426, 380, 427, 381, 429, 379, 428, 378, 428, 376, 428, 351, 428, 331, 448, 331, 473, 331, 498, 351, 518, 376, 518, 378, 518, 380, 517, 382, 517, 381, 518, 379, 519, 378, 521, 361, 538, 361, 566, 378, 584, 396, 601, 424, 601, 441, 584, 443, 582, 444, 581, 445, 579, 445, 581, 445, 583, 445, 584, 445, 609, 465, 629, 490, 629, 514, 629, 534, 609, 534, 584, 534, 582, 534, 580, 534, 579, 535, 580, 536, 581, 537, 582, 555, 600, 583, 600, 600, 582, 618, 565, 618, 537, 600, 519, 599, 518, 597, 516, 596, 515, 598, 515, 599, 516, 601, 516, 626, 516, 646, 496, 646, 471, 489, 552, 444, 552, 409, 516, 409, 472, 409, 428, 444, 392, 489, 392, 533, 392, 569, 428, 569, 472, 569, 516, 533, 552, 489, 552]
      }]]
  }, {
      jc: "0000-1-flower",
      pK: [["d04040", {
          Z: "M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),
          H: [691, 424, 690, 369, 680, 330, 660, 303, 634, 320, 601, 361, 568, 406, 568, 406, 568, 327, 578, 326, 585, 317, 585, 306, 585, 294, 576, 284, 564, 284, 552, 284, 542, 294, 542, 306, 542, 317, 550, 326, 560, 327, 560, 406, 559, 406, 540, 359, 522, 311, 501, 291, 475, 319, 453, 360, 433, 407, 431, 406, 431, 327, 441, 326, 448, 317, 448, 306, 448, 294, 439, 284, 427, 284, 415, 284, 405, 294, 405, 306, 405, 317, 412, 326, 423, 327, 423, 404, 390, 363, 360, 326, 341, 308, 296, 401, 299, 489, 360, 567, 396, 613, 443, 639, 500, 638, 624, 636, 694, 524, 692, 424, 691, 424, 389, 543, 370, 514, 379, 498, 399, 504, 439, 518, 470, 564, 488, 613, 455, 600, 414, 580, 389, 543, 481, 480, 488, 445, 505, 441, 515, 459, 533, 497, 524, 552, 501, 599, 487, 567, 472, 523, 481, 480, 481, 480, 624, 523, 610, 563, 565, 595, 515, 613, 528, 580, 548, 538, 585, 514, 614, 494, 629, 503, 624, 523, 624, 523]
      }]]
  }, {
      jc: "0000-1-flower",
      pK: [["ec7272", {
          Z: "M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),
          H: [447, 475, 452, 450, 452, 438, 437, 423, 422, 407, 407, 412, 390, 383, 398, 418, 421, 415, 433, 434, 445, 453, 446, 474, 447, 475, 495, 446, 520, 439, 529, 433, 535, 412, 542, 390, 529, 380, 546, 351, 520, 376, 533, 394, 523, 414, 513, 434, 495, 445, 495, 446, 545, 473, 564, 490, 574, 495, 595, 490, 617, 485, 620, 469, 653, 468, 619, 459, 610, 479, 587, 480, 565, 482, 546, 472, 545, 473, 545, 473, 549, 533, 543, 558, 543, 569, 559, 585, 574, 601, 589, 596, 606, 624, 597, 590, 575, 592, 563, 573, 551, 555, 550, 534, 549, 533, 549, 533, 504, 562, 480, 570, 470, 575, 464, 596, 458, 618, 470, 628, 454, 657, 479, 632, 466, 614, 476, 594, 486, 575, 504, 563, 504, 562, 459, 536, 440, 519, 430, 513, 409, 518, 387, 524, 384, 539, 351, 540, 385, 549, 394, 529, 417, 528, 439, 527, 457, 536, 459, 536, 459, 536]
      }], ["333333", {
          Z: "M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),
          H: [534, 455, 584, 415, 579, 358, 577, 335, 574, 315, 585, 304, 585, 304, 585, 304, 568, 308, 561, 312, 554, 316, 520, 333, 500, 363, 479, 392, 493, 437, 486, 456, 479, 476, 452, 485, 452, 485, 452, 485, 471, 474, 475, 454, 479, 434, 460, 402, 482, 365, 505, 328, 565, 292, 597, 294, 612, 295, 591, 298, 587, 316, 583, 333, 593, 373, 584, 404, 574, 440, 533, 456, 534, 455, 534, 455, 559, 506, 619, 530, 666, 497, 685, 483, 701, 471, 716, 475, 716, 475, 716, 475, 704, 463, 697, 459, 690, 454, 657, 434, 622, 431, 587, 428, 554, 462, 534, 465, 513, 469, 492, 451, 492, 451, 492, 451, 511, 461, 530, 455, 549, 448, 568, 416, 611, 417, 654, 418, 716, 452, 730, 481, 737, 495, 724, 478, 706, 483, 689, 489, 660, 516, 628, 524, 592, 534, 558, 506, 559, 506, 559, 506, 524, 552, 534, 615, 586, 640, 607, 649, 625, 657, 629, 672, 629, 672, 629, 672, 634, 655, 634, 647, 634, 639, 636, 601, 621, 569, 606, 537, 560, 525, 547, 509, 534, 494, 539, 466, 539, 466, 539, 466, 539, 488, 554, 501, 569, 514, 607, 514, 627, 552, 648, 590, 650, 660, 632, 687, 623, 700, 631, 680, 617, 667, 605, 656, 566, 644, 543, 621, 517, 594, 524, 551, 524, 552, 524, 552, 467, 546, 417, 585, 421, 643, 424, 665, 426, 686, 415, 697, 415, 697, 415, 697, 432, 693, 439, 689, 446, 684, 481, 667, 501, 638, 521, 609, 508, 563, 515, 544, 522, 524, 548, 515, 548, 515, 548, 515, 530, 527, 526, 546, 522, 566, 540, 598, 518, 635, 496, 672, 436, 709, 404, 706, 388, 705, 409, 702, 413, 684, 417, 667, 408, 628, 417, 596, 426, 561, 467, 544, 467, 546, 467, 546, 442, 495, 383, 472, 336, 504, 317, 518, 301, 530, 286, 526, 286, 526, 286, 526, 298, 539, 305, 543, 312, 547, 344, 568, 380, 571, 415, 574, 448, 539, 468, 536, 488, 532, 510, 551, 510, 551, 510, 551, 490, 540, 471, 547, 452, 553, 434, 585, 391, 584, 348, 583, 286, 550, 272, 521, 265, 507, 278, 524, 296, 518, 313, 513, 342, 485, 373, 477, 409, 468, 444, 495, 442, 495, 442, 495, 476, 449, 467, 386, 415, 361, 394, 352, 375, 344, 371, 329, 371, 329, 371, 329, 366, 346, 366, 354, 366, 362, 364, 400, 379, 433, 394, 465, 440, 476, 453, 492, 467, 508, 462, 535, 462, 535, 462, 535, 461, 513, 446, 500, 431, 487, 394, 487, 373, 449, 352, 411, 350, 341, 368, 314, 377, 301, 369, 321, 383, 334, 396, 345, 434, 357, 457, 380, 483, 407, 477, 450, 476, 449, 476, 449]
      }]]
  }, {
      jc: "0000-0-hearts",
      pK: [["d17070", {
          Z: "M C C C C C C C C C L Z".split(" "),
          H: [415, 584, 413, 585, 411, 586, 409, 587, 392, 596, 389, 620, 395, 633, 401, 647, 414, 663, 450, 668, 485, 674, 487, 681, 494, 690, 491, 679, 487, 673, 507, 643, 527, 613, 524, 593, 518, 579, 512, 566, 493, 552, 475, 558, 467, 561, 451, 566, 448, 586, 435, 578, 423, 581, 415, 584, 415, 584]
      }], ["6bcc6b", {
          Z: "M C C C C C C C C C L Z".split(" "),
          H: [595, 451, 593, 449, 590, 448, 588, 448, 563, 439, 537, 457, 529, 475, 521, 493, 516, 520, 542, 560, 568, 601, 563, 609, 559, 623, 568, 611, 571, 602, 618, 595, 666, 589, 684, 567, 692, 550, 700, 532, 697, 501, 674, 488, 665, 482, 645, 472, 622, 486, 619, 465, 606, 456, 595, 451, 595, 451]
      }], ["5c5cc2", {
          Z: "M C C C C C C C C C L Z".split(" "),
          H: [341, 362, 338, 364, 335, 366, 332, 368, 304, 385, 301, 424, 312, 446, 323, 468, 345, 494, 405, 501, 465, 508, 468, 520, 480, 534, 475, 516, 468, 506, 499, 455, 531, 404, 524, 370, 514, 348, 503, 325, 470, 304, 440, 315, 427, 320, 401, 331, 397, 364, 374, 351, 355, 356, 341, 362, 341, 362]
      }]]
  }, {
      jc: "0000-0-anchor",
      pK: [["2a3b66", {
          Z: "M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),
          H: [495, 315, 490, 315, 488, 318, 489, 323, 491, 328, 502, 326, 502, 320, 502, 317, 501, 316, 497, 315, 496, 315, 496, 315, 495, 315, 495, 315, 496, 303, 509, 303, 521, 320, 514, 327, 511, 330, 513, 345, 517, 348, 519, 350, 531, 352, 546, 354, 570, 357, 572, 357, 578, 354, 588, 347, 592, 351, 592, 369, 592, 385, 588, 390, 580, 385, 576, 383, 570, 383, 552, 384, 524, 387, 519, 389, 517, 397, 515, 404, 517, 515, 520, 554, 522, 583, 525, 599, 530, 606, 534, 610, 555, 617, 565, 617, 584, 616, 607, 602, 635, 572, 639, 568, 641, 566, 644, 563, 633, 559, 616, 557, 616, 557, 675, 533, 675, 533, 671, 605, 669, 609, 667, 611, 664, 591, 658, 577, 657, 579, 657, 580, 656, 582, 628, 638, 603, 660, 565, 664, 545, 666, 521, 672, 514, 675, 512, 677, 507, 682, 504, 688, 501, 693, 497, 698, 496, 698, 494, 698, 490, 693, 487, 688, 484, 682, 480, 677, 477, 675, 471, 672, 447, 666, 427, 664, 391, 660, 367, 640, 340, 591, 335, 604, 332, 621, 331, 619, 329, 615, 325, 544, 325, 544, 384, 568, 384, 568, 368, 569, 357, 573, 385, 602, 408, 616, 426, 617, 437, 617, 458, 610, 461, 606, 466, 599, 470, 583, 472, 554, 474, 515, 476, 404, 475, 397, 473, 389, 468, 387, 440, 384, 422, 383, 416, 383, 412, 385, 403, 390, 400, 385, 400, 369, 400, 351, 403, 347, 414, 354, 419, 357, 421, 357, 446, 354, 460, 352, 473, 350, 475, 348, 478, 345, 481, 330, 478, 327, 470, 320, 483, 303, 496, 303, 496, 303]
      }]]
  }, {
      jc: "0000-1-leaf",
      pK: [["fbb600", {
          Z: "M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),
          H: [642, 726, 633, 723, 632, 707, 591, 631, 570, 582, 526, 521, 537, 547, 535, 579, 517, 598, 501, 619, 486, 602, 414, 634, 412, 606, 379, 609, 346, 611, 394, 557, 406, 547, 401, 539, 386, 532, 319, 519, 337, 508, 332, 493, 320, 478, 326, 464, 302, 450, 287, 436, 303, 436, 324, 441, 330, 432, 346, 434, 359, 434, 359, 415, 377, 428, 397, 431, 417, 432, 442, 440, 437, 418, 417, 416, 406, 372, 401, 370, 395, 367, 389, 355, 417, 363, 408, 339, 406, 323, 416, 312, 427, 303, 417, 276, 433, 295, 444, 297, 452, 294, 479, 321, 490, 313, 496, 294, 503, 322, 510, 329, 517, 338, 522, 353, 530, 371, 530, 379, 546, 402, 551, 389, 555, 378, 578, 333, 606, 333, 628, 304, 652, 280, 646, 306, 644, 327, 657, 329, 649, 356, 658, 374, 679, 384, 666, 392, 656, 415, 645, 432, 627, 457, 653, 451, 661, 457, 692, 460, 698, 473, 715, 481, 697, 485, 678, 488, 669, 509, 656, 523, 655, 533, 666, 539, 659, 537, 659, 542, 643, 531, 630, 535, 613, 543, 608, 539, 598, 535, 594, 542, 590, 553, 590, 566, 594, 564, 596, 569, 568, 575, 551, 543, 531, 519, 575, 577, 597, 628, 639, 708, 642, 726]
      }]]
  }, {
      jc: "0000-1-acorn",
      pK: [["a05a2c", {
          Z: "M C C C C C C C L Z".split(" "),
          H: [506, 453, 450, 426, 413, 422, 398, 444, 374, 480, 374, 533, 384, 573, 391, 602, 407, 625, 430, 645, 451, 658, 487, 654, 509, 647, 554, 633, 587, 605, 612, 565, 635, 527, 591, 500, 565, 482, 557, 476, 515, 457, 506, 453, 506, 453]
      }], ["502d16", {
          Z: "M C C C C C C C C C C C Z".split(" "),
          H: [640, 524, 639, 539, 623, 540, 623, 540, 627, 522, 607, 504, 583, 488, 547, 465, 507, 445, 470, 434, 439, 426, 412, 417, 400, 437, 400, 437, 391, 424, 400, 414, 434, 370, 498, 356, 551, 376, 555, 349, 583, 317, 597, 321, 612, 326, 621, 346, 620, 350, 619, 354, 594, 352, 584, 368, 580, 375, 577, 382, 575, 387, 619, 412, 649, 460, 640, 524]
      }]]
  }, {
      jc: "0000-0-skull",
      pK: [["808080", {
          Z: "M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),
          H: [396, 410, 398, 415, 398, 420, 398, 424, 420, 437, 433, 404, 465, 382, 501, 382, 538, 382, 569, 404, 582, 435, 602, 424, 602, 419, 603, 415, 604, 410, 604, 410, 609, 392, 622, 379, 633, 382, 643, 384, 648, 402, 643, 420, 643, 421, 642, 421, 642, 422, 643, 422, 643, 422, 644, 422, 662, 427, 675, 440, 672, 450, 669, 461, 652, 465, 633, 460, 628, 459, 624, 457, 620, 455, 589, 473, 588, 491, 582, 507, 572, 520, 607, 540, 611, 538, 615, 536, 620, 535, 639, 530, 656, 535, 659, 545, 662, 556, 649, 568, 630, 573, 630, 574, 629, 574, 629, 574, 629, 574, 629, 575, 629, 575, 634, 594, 630, 611, 619, 614, 609, 617, 596, 604, 591, 585, 590, 580, 589, 576, 589, 571, 565, 557, 564, 592, 536, 619, 501, 619, 466, 619, 438, 591, 437, 557, 412, 572, 411, 576, 411, 580, 410, 585, 410, 585, 405, 604, 392, 617, 381, 614, 371, 611, 366, 593, 371, 575, 371, 574, 371, 574, 372, 574, 371, 573, 371, 573, 370, 573, 352, 568, 339, 556, 342, 545, 345, 534, 362, 530, 381, 535, 385, 536, 390, 538, 394, 540, 430, 519, 421, 507, 415, 491, 414, 475, 380, 455, 376, 457, 372, 459, 367, 460, 367, 460, 349, 465, 331, 461, 328, 450, 326, 440, 338, 427, 357, 422, 357, 422, 358, 422, 358, 422, 358, 421, 358, 421, 358, 420, 353, 402, 357, 384, 368, 381, 379, 379, 391, 391, 396, 410, 463, 439, 445, 439, 431, 453, 431, 470, 431, 488, 445, 502, 463, 502, 480, 502, 494, 488, 494, 470, 494, 453, 480, 439, 463, 439, 540, 439, 522, 439, 508, 453, 508, 470, 508, 488, 522, 502, 540, 502, 557, 502, 571, 488, 571, 470, 571, 453, 557, 439, 540, 439, 483, 528, 518, 528, 500, 503, 483, 528]
      }]]
  }, {
      jc: "0000-0-ghost",
      pK: [["e6e6e6", {
          Z: "M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),
          H: [653, 486, 653, 574, 689, 597, 689, 638, 689, 661, 640, 644, 620, 656, 601, 666, 609, 682, 583, 692, 563, 700, 538, 666, 512, 666, 490, 666, 451, 695, 433, 686, 415, 677, 416, 646, 388, 644, 367, 641, 313, 671, 313, 648, 313, 619, 346, 588, 346, 486, 346, 388, 415, 308, 500, 308, 584, 308, 653, 388, 653, 486, 653, 486, 449, 396, 428, 396, 412, 415, 412, 439, 412, 462, 428, 482, 449, 482, 465, 482, 478, 470, 484, 454, 489, 470, 503, 482, 519, 482, 539, 482, 556, 462, 556, 439, 556, 415, 539, 396, 519, 396, 503, 396, 489, 407, 484, 423, 478, 407, 465, 396, 449, 396, 482, 505, 441, 505, 465, 560, 482, 560, 503, 560, 524, 505, 482, 505]
      }], ["000000", {
          Z: "M C C C C Z M C C C C Z".split(" "),
          H: [526, 446, 526, 455, 519, 462, 510, 462, 501, 462, 494, 455, 494, 446, 494, 437, 501, 430, 510, 430, 519, 430, 526, 437, 526, 446, 475, 446, 475, 455, 468, 462, 459, 462, 450, 462, 442, 455, 442, 446, 442, 437, 450, 430, 459, 430, 468, 430, 475, 437, 475, 446]
      }]]
  }, {
      jc: "1001-1-rose",
      pK: [["9e1460", {
          Z: "M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),
          H: [568, 83, 558, 83, 548, 88, 539, 96, 538, 98, 536, 99, 535, 101, 522, 115, 513, 134, 517, 149, 522, 172, 561, 200, 592, 207, 604, 210, 611, 215, 615, 221, 622, 234, 611, 258, 611, 258, 613, 260, 615, 264, 618, 264, 627, 266, 638, 241, 640, 236, 660, 188, 614, 83, 568, 83, 526, 125, 527, 97, 567, 68, 593, 75, 616, 81, 642, 121, 649, 152, 651, 165, 656, 172, 662, 176, 675, 183, 698, 173, 698, 173, 698, 173, 698, 173, 698, 173, 704, 176, 705, 179, 705, 180, 706, 189, 681, 199, 678, 200, 678, 200, 677, 201, 677, 201, 627, 220, 524, 170, 526, 125]
      }], ["020304", {
          Z: "M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),
          H: [60, 151, 60, 151, 37, 125, 60, 98, 83, 72, 95, 91, 115, 66, 134, 42, 117, 26, 120, 30, 123, 34, 146, 83, 132, 114, 114, 154, 60, 151, 60, 151, 280, 70, 280, 70, 258, 97, 283, 122, 308, 147, 318, 127, 339, 150, 361, 173, 344, 190, 347, 186, 350, 182, 370, 132, 354, 101, 333, 62, 280, 70, 280, 70, 61, 150, 61, 150, 27, 143, 30, 108, 33, 73, 54, 81, 55, 50, 57, 19, 33, 16, 38, 17, 43, 19, 91, 44, 98, 78, 107, 121, 61, 150, 61, 150, -27, 185, 184, 158, 222, 43, 352, 32, 444, 24, 538, 97, 538, 97, 538, 97, 453, 45, 354, 48, 241, 51, 185, 170, -27, 185]
      }]]
  }, {
      jc: "1001-1-curls",
      pK: [["53a7ab", {
          Z: "M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),
          H: [68, 114, 121, 103, 159, 110, 183, 135, 212, 169, 211, 204, 189, 237, 162, 277, 124, 291, 86, 276, 52, 263, 38, 236, 47, 202, 55, 168, 79, 151, 121, 156, 147, 162, 165, 177, 160, 205, 155, 228, 135, 241, 113, 237, 97, 234, 92, 221, 96, 205, 98, 195, 105, 194, 115, 200, 124, 205, 133, 204, 135, 197, 139, 183, 122, 167, 95, 171, 68, 176, 54, 193, 68, 220, 84, 252, 131, 261, 165, 238, 201, 202, 199, 164, 158, 136, 118, 113, 52, 122, -23, 151, 2, 134, 33, 122, 68, 114, 68, 114, 71, 83, 119, 75, 163, 79, 198, 107, 226, 129, 247, 174, 271, 207, 291, 229, 316, 241, 342, 232, 370, 222, 394, 206, 418, 209, 443, 212, 461, 238, 485, 258, 500, 272, 522, 276, 543, 271, 543, 271, 524, 279, 518, 281, 500, 287, 483, 277, 466, 256, 453, 243, 441, 230, 427, 223, 413, 217, 392, 220, 372, 229, 372, 230, 371, 230, 370, 230, 354, 241, 337, 251, 315, 250, 283, 248, 253, 222, 229, 172, 209, 133, 178, 106, 137, 94, 103, 84, 52, 94, -30, 133, -3, 108, 30, 91, 71, 83, 71, 83, 83, 54, 122, 46, 166, 49, 195, 67, 219, 82, 250, 122, 290, 168, 308, 186, 330, 194, 355, 192, 393, 183, 400, 145, 383, 118, 372, 101, 355, 91, 328, 91, 313, 92, 303, 98, 300, 109, 298, 116, 299, 125, 304, 131, 315, 147, 327, 152, 340, 149, 349, 149, 354, 132, 343, 131, 330, 131, 326, 129, 328, 120, 332, 97, 355, 100, 365, 114, 381, 137, 367, 165, 343, 168, 321, 170, 289, 150, 288, 117, 290, 77, 319, 58, 352, 64, 388, 74, 405, 104, 404, 141, 403, 177, 382, 202, 345, 207, 312, 211, 284, 191, 260, 161, 245, 141, 229, 122, 213, 106, 196, 84, 166, 73, 129, 67, 80, 62, 28, 79, -26, 108, 10, 79, 46, 63, 83, 54, 83, 54]
      }], ["bbdc54", {
          Z: "M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),
          H: [321, 315, 287, 324, 252, 312, 211, 219, 217, 284, 239, 326, 279, 341, 324, 352, 362, 329, 398, 291, 316, 305, 258, 269, 217, 196, 238, 284, 274, 319, 321, 315, 321, 315, 211, 261, 223, 300, 234, 345, 252, 374, 220, 378, 194, 367, 193, 324, 194, 306, 198, 288, 206, 270, 197, 315, 204, 340, 221, 351, 206, 327, 202, 297, 211, 261, 211, 261, 206, 246, 193, 301, 170, 317, 138, 297, 162, 281, 184, 254, 205, 222, 201, 246, 191, 267, 174, 283, 186, 279, 197, 267, 206, 246, 206, 246, 378, 233, 370, 286, 337, 299, 294, 270, 312, 277, 330, 276, 347, 267, 294, 278, 259, 252, 234, 203, 280, 259, 327, 278, 378, 233, 378, 233, 626, 217, 604, 273, 555, 313, 511, 315, 484, 316, 438, 289, 432, 232, 450, 253, 488, 296, 511, 291, 532, 286, 551, 277, 566, 261, 527, 269, 498, 263, 480, 243, 478, 241, 478, 237, 480, 235, 486, 230, 504, 220, 519, 226, 537, 233, 551, 242, 567, 241, 591, 236, 611, 228, 626, 217, 626, 217, 411, 192, 432, 183, 439, 166, 420, 136, 443, 144, 460, 158, 466, 182, 470, 165, 456, 149, 430, 133, 459, 136, 485, 145, 505, 165, 503, 143, 463, 133, 434, 128, 486, 127, 526, 124, 539, 118, 505, 123, 470, 124, 435, 122, 461, 111, 483, 96, 500, 76, 475, 95, 450, 110, 424, 118, 450, 96, 465, 72, 466, 48, 458, 75, 440, 98, 419, 112, 424, 106, 428, 99, 428, 91, 429, 68, 413, 57, 393, 51, 419, 70, 426, 92, 411, 110, 408, 77, 385, 58, 343, 52, 383, 26, 422, 25, 445, 62, 458, 47, 465, 29, 467, 8, 477, 27, 479, 51, 475, 76, 497, 64, 515, 49, 528, 29, 524, 57, 515, 82, 496, 103, 521, 113, 549, 111, 579, 99, 560, 122, 535, 136, 502, 137, 518, 149, 521, 173, 514, 205, 505, 181, 492, 166, 476, 158, 483, 188, 470, 205, 447, 216, 456, 183, 451, 166, 438, 157, 444, 193, 426, 211, 379, 207, 403, 193, 416, 172, 416, 140, 434, 156, 428, 173, 411, 192, 411, 192]
      }]]
  }, {
      jc: "0111-0-pines",
      pK: [["e9e9e9", {
          Z: "M C C C C C C C C L L L Z".split(" "),
          H: [0, 946, 0, 946, 54, 960, 99, 944, 149, 927, 182, 954, 205, 956, 245, 960, 298, 940, 382, 974, 435, 995, 478, 957, 538, 956, 571, 955, 597, 969, 631, 968, 663, 967, 701, 938, 749, 944, 805, 950, 851, 960, 893, 946, 950, 928, 1e3, 946, 1e3, 946, 1e3, 1e3, 0, 1e3, 0, 946]
      }], ["437a26", {
          Z: "M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),
          H: [119, 801, 120, 801, 148, 859, 148, 859, 137, 853, 137, 853, 155, 890, 155, 891, 156, 892, 138, 887, 140, 888, 141, 888, 171, 925, 171, 925, 126, 924, 125, 943, 125, 943, 105, 944, 106, 944, 107, 944, 106, 924, 106, 924, 61, 925, 93, 886, 77, 891, 100, 854, 89, 860, 89, 860, 119, 801, 119, 801, 286, 871, 286, 871, 303, 905, 303, 905, 296, 902, 296, 902, 307, 924, 307, 924, 307, 925, 297, 922, 297, 922, 298, 922, 316, 944, 316, 944, 289, 944, 289, 955, 289, 955, 277, 956, 278, 956, 278, 956, 278, 944, 278, 944, 251, 944, 270, 921, 260, 924, 274, 902, 268, 906, 268, 906, 285, 871, 286, 871, 526, 863, 526, 863, 546, 903, 546, 903, 538, 899, 538, 899, 550, 924, 550, 925, 550, 926, 539, 922, 540, 922, 540, 922, 561, 948, 561, 948, 530, 947, 529, 960, 529, 960, 516, 961, 517, 961, 518, 961, 517, 947, 517, 947, 486, 948, 508, 921, 497, 925, 513, 899, 505, 903, 505, 903, 526, 863, 526, 863, 731, 841, 731, 841, 752, 883, 752, 883, 744, 879, 744, 879, 757, 907, 757, 908, 758, 908, 745, 905, 746, 905, 747, 905, 769, 932, 769, 932, 736, 932, 735, 946, 735, 946, 721, 946, 721, 946, 722, 947, 721, 932, 721, 932, 688, 932, 712, 903, 700, 908, 717, 880, 709, 884, 709, 884, 731, 841, 731, 841, 889, 826, 889, 826, 914, 876, 914, 876, 904, 871, 904, 871, 920, 904, 920, 905, 920, 906, 906, 901, 907, 902, 908, 902, 934, 934, 934, 934, 894, 933, 894, 950, 894, 950, 877, 951, 878, 951, 879, 951, 878, 933, 878, 933, 838, 934, 866, 900, 852, 905, 872, 872, 862, 877, 862, 877, 889, 826, 889, 826]
      }]]
  }, {
      jc: "0111-0-flowers",
      pK: [["8cae40", {
          Z: "M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),
          H: [182, 866, 160, 879, 146, 903, 135, 929, 135, 844, 177, 842, 228, 831, 230, 796, 231, 770, 207, 765, 182, 779, 160, 792, 146, 816, 135, 843, 135, 713, 135, 711, 134, 710, 132, 710, 130, 710, 128, 711, 128, 713, 128, 841, 117, 815, 103, 791, 82, 779, 57, 764, 33, 769, 34, 795, 36, 830, 86, 841, 128, 844, 128, 930, 117, 903, 103, 880, 82, 867, 57, 853, 33, 858, 34, 884, 36, 919, 86, 930, 128, 932, 128, 1009, 128, 1010, 130, 1012, 132, 1012, 134, 1012, 135, 1010, 135, 1009, 135, 931, 177, 928, 228, 918, 230, 882, 231, 856, 207, 851, 182, 866, 182, 866, 447, 904, 430, 898, 412, 904, 394, 916, 394, 861, 413, 873, 431, 879, 447, 873, 458, 868, 458, 852, 447, 848, 430, 841, 412, 848, 394, 859, 394, 788, 394, 787, 393, 786, 391, 786, 389, 786, 388, 787, 388, 788, 388, 859, 370, 847, 352, 841, 336, 848, 325, 852, 325, 868, 336, 873, 352, 879, 370, 873, 388, 862, 388, 915, 370, 904, 352, 898, 336, 904, 325, 909, 325, 925, 336, 929, 352, 936, 370, 930, 388, 918, 388, 1009, 388, 1010, 389, 1011, 391, 1011, 393, 1011, 394, 1010, 394, 1009, 394, 918, 413, 930, 431, 936, 447, 929, 458, 925, 458, 909, 447, 904, 447, 904, 662, 943, 650, 954, 641, 972, 634, 993, 634, 914, 659, 907, 680, 895, 692, 873, 707, 846, 686, 836, 662, 859, 650, 870, 641, 888, 634, 909, 634, 818, 634, 816, 632, 815, 631, 815, 629, 815, 628, 816, 628, 818, 628, 908, 621, 887, 612, 870, 600, 859, 576, 836, 555, 846, 570, 873, 582, 895, 603, 907, 628, 914, 628, 992, 621, 971, 612, 954, 600, 943, 576, 920, 555, 930, 570, 957, 582, 978, 603, 990, 628, 998, 628, 1009, 628, 1010, 629, 1011, 631, 1011, 632, 1011, 634, 1010, 634, 1009, 634, 998, 659, 991, 680, 978, 692, 957, 707, 930, 686, 920, 662, 943, 662, 943, 892, 842, 875, 857, 862, 882, 850, 912, 850, 822, 874, 817, 896, 805, 908, 778, 919, 755, 896, 751, 877, 769, 866, 779, 857, 796, 850, 815, 850, 737, 850, 736, 848, 735, 847, 735, 845, 735, 844, 736, 844, 737, 844, 815, 836, 795, 828, 779, 817, 769, 798, 751, 775, 755, 785, 777, 797, 804, 820, 817, 844, 822, 844, 912, 832, 882, 818, 857, 801, 842, 772, 816, 737, 822, 753, 854, 772, 894, 806, 911, 844, 918, 844, 1009, 844, 1010, 845, 1011, 847, 1011, 848, 1011, 850, 1010, 850, 1009, 850, 918, 887, 911, 922, 894, 941, 854, 957, 822, 922, 816, 892, 842, 892, 842]
      }], ["d13777", {
          Z: "M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),
          H: [125, 603, 115, 617, 112, 619, 110, 618, 111, 615, 122, 600, 119, 597, 75, 614, 43, 631, 32, 650, 22, 675, 36, 694, 65, 682, 59, 716, 94, 722, 111, 696, 120, 687, 126, 657, 129, 604, 125, 603, 125, 603, 104, 638, 99, 638, 95, 634, 95, 629, 95, 624, 99, 620, 104, 620, 109, 620, 113, 624, 113, 629, 113, 634, 109, 638, 104, 638, 117, 587, 100, 582, 98, 579, 99, 578, 102, 577, 119, 583, 121, 580, 92, 543, 65, 517, 44, 513, 17, 512, 4, 531, 24, 555, -10, 560, -6, 594, 24, 603, 36, 609, 67, 605, 118, 591, 118, 587, 117, 587, 78, 578, 77, 573, 79, 568, 84, 567, 88, 565, 93, 568, 95, 573, 96, 577, 94, 582, 89, 584, 85, 585, 80, 583, 78, 578, 130, 575, 130, 557, 131, 554, 133, 555, 135, 557, 135, 575, 138, 576, 164, 537, 180, 504, 177, 482, 171, 456, 148, 449, 132, 476, 117, 445, 85, 460, 86, 491, 84, 504, 97, 532, 126, 577, 130, 575, 130, 575, 126, 535, 130, 532, 136, 533, 139, 537, 142, 541, 141, 546, 137, 549, 133, 552, 127, 551, 125, 547, 122, 543, 122, 538, 126, 535, 146, 584, 162, 577, 165, 578, 166, 580, 164, 582, 146, 588, 147, 591, 193, 604, 229, 609, 249, 600, 271, 585, 271, 562, 240, 554, 265, 530, 241, 505, 212, 516, 199, 518, 176, 539, 143, 580, 146, 584, 146, 584, 183, 567, 187, 570, 187, 576, 185, 580, 182, 584, 176, 585, 172, 582, 168, 579, 167, 573, 170, 569, 173, 565, 179, 565, 183, 567, 142, 601, 153, 615, 153, 618, 152, 619, 149, 618, 138, 603, 135, 605, 137, 652, 144, 688, 159, 704, 180, 721, 202, 713, 199, 681, 230, 698, 246, 667, 227, 643, 221, 631, 194, 616, 145, 597, 142, 601, 142, 601, 169, 631, 167, 636, 162, 638, 158, 637, 153, 635, 151, 630, 152, 625, 154, 621, 159, 618, 163, 620, 168, 621, 170, 626, 169, 631, 376, 691, 343, 693, 320, 697, 309, 706, 297, 714, 291, 729, 294, 756, 294, 767, 295, 779, 294, 788, 305, 786, 320, 788, 335, 788, 353, 787, 369, 782, 375, 773, 382, 764, 386, 739, 388, 703, 381, 702, 377, 699, 376, 691, 363, 745, 357, 757, 351, 761, 345, 761, 337, 760, 337, 751, 343, 737, 330, 742, 322, 742, 319, 735, 317, 728, 322, 723, 331, 718, 346, 712, 360, 708, 374, 706, 373, 720, 369, 733, 363, 745, 363, 745, 388, 680, 387, 646, 383, 623, 375, 612, 366, 600, 351, 594, 325, 596, 314, 596, 302, 597, 293, 595, 295, 607, 292, 622, 292, 637, 292, 654, 298, 671, 306, 676, 315, 684, 340, 689, 376, 692, 377, 684, 381, 680, 388, 680, 388, 680, 334, 665, 323, 659, 318, 654, 319, 648, 320, 639, 329, 640, 343, 645, 338, 632, 339, 625, 345, 621, 352, 620, 358, 625, 362, 634, 368, 649, 372, 664, 373, 677, 360, 676, 347, 671, 334, 665, 334, 665, 399, 691, 433, 690, 456, 686, 467, 678, 479, 670, 485, 655, 484, 629, 484, 617, 482, 606, 484, 597, 472, 598, 458, 595, 442, 596, 425, 596, 409, 601, 403, 610, 395, 618, 391, 643, 388, 679, 395, 680, 399, 684, 399, 691, 399, 691, 414, 638, 420, 626, 426, 622, 432, 622, 440, 624, 440, 633, 434, 646, 447, 641, 455, 642, 458, 648, 459, 656, 454, 661, 445, 665, 430, 671, 416, 675, 402, 677, 403, 663, 408, 650, 414, 638, 414, 638, 388, 703, 390, 736, 394, 759, 403, 770, 411, 782, 426, 788, 452, 785, 464, 785, 475, 784, 485, 785, 483, 774, 485, 759, 485, 744, 484, 726, 479, 710, 470, 704, 461, 697, 436, 693, 400, 691, 399, 698, 395, 702, 388, 703, 388, 703, 442, 716, 453, 722, 458, 728, 458, 734, 456, 742, 447, 742, 434, 736, 439, 749, 438, 757, 432, 760, 425, 762, 419, 757, 415, 748, 409, 733, 404, 719, 403, 705, 416, 706, 429, 710, 442, 716, 442, 716, 722, 716, 722, 701, 710, 690, 696, 690, 695, 690, 694, 690, 693, 690, 693, 689, 694, 689, 695, 688, 705, 678, 705, 662, 695, 651, 685, 641, 668, 641, 658, 651, 658, 652, 657, 653, 656, 654, 656, 653, 656, 652, 656, 651, 656, 637, 645, 625, 630, 625, 616, 625, 605, 637, 605, 651, 605, 652, 605, 653, 605, 654, 604, 654, 604, 653, 603, 652, 593, 642, 576, 642, 566, 652, 556, 662, 556, 679, 566, 689, 567, 690, 568, 690, 569, 691, 568, 691, 567, 691, 566, 691, 552, 691, 540, 702, 540, 717, 540, 731, 552, 743, 566, 743, 567, 743, 568, 743, 569, 742, 569, 743, 568, 744, 567, 744, 557, 754, 557, 771, 567, 781, 577, 791, 594, 791, 604, 781, 605, 780, 605, 779, 606, 778, 606, 779, 606, 780, 606, 781, 606, 795, 617, 807, 632, 807, 646, 807, 657, 795, 657, 781, 657, 780, 657, 779, 657, 778, 658, 779, 658, 779, 659, 780, 669, 790, 686, 790, 696, 780, 706, 770, 706, 754, 696, 743, 695, 743, 694, 742, 693, 741, 694, 741, 695, 741, 696, 741, 710, 741, 722, 730, 722, 716, 631, 762, 605, 762, 585, 742, 585, 716, 585, 691, 605, 670, 631, 670, 657, 670, 677, 691, 677, 716, 677, 742, 657, 762, 631, 762, 958, 602, 957, 570, 951, 547, 940, 532, 925, 541, 905, 565, 887, 591, 886, 591, 886, 546, 892, 545, 897, 540, 897, 533, 897, 527, 891, 521, 884, 521, 877, 521, 872, 527, 872, 533, 872, 540, 876, 545, 882, 546, 882, 591, 882, 591, 870, 564, 860, 536, 848, 525, 833, 541, 820, 565, 808, 592, 807, 592, 807, 546, 813, 545, 817, 540, 817, 533, 817, 527, 812, 521, 805, 521, 798, 521, 792, 527, 792, 533, 792, 540, 797, 545, 802, 546, 802, 590, 784, 567, 766, 545, 755, 534, 729, 588, 731, 639, 766, 684, 787, 711, 814, 726, 847, 725, 919, 724, 960, 659, 958, 602, 958, 602, 783, 671, 772, 653, 777, 645, 789, 648, 812, 656, 830, 682, 840, 711, 821, 704, 797, 692, 783, 671, 836, 634, 840, 614, 850, 612, 856, 622, 867, 644, 861, 676, 848, 703, 840, 684, 831, 659, 836, 634, 836, 634, 919, 659, 911, 682, 885, 701, 856, 711, 863, 692, 875, 668, 896, 654, 913, 642, 922, 647, 919, 659, 919, 659]
      }]]
  }, {
      jc: "1101-1-confetti",
      pK: [["e789ff", {
          Z: "M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
          H: [170, 439, 169, 438, 59, 370, 108, 300, 152, 238, 298, 276, 318, 337, 338, 398, 265, 380, 285, 358, 312, 328, 185, 247, 121, 307, 72, 353, 171, 440, 170, 439, 318, 338, 336, 399, 262, 408, 184, 346, 138, 309, 73, 237, 112, 174, 167, 88, 345, 115, 377, 222, 393, 276, 296, 260, 335, 236, 375, 212, 236, 111, 155, 183, 73, 254, 265, 380, 285, 358, 312, 328, 318, 338, 318, 338, 377, 222, 394, 276, 318, 288, 243, 236, 187, 197, 146, 120, 201, 56, 254, -5, 365, 26, 407, 68, 407, 68, 414, 94, 378, 71, 344, 50, 258, 31, 221, 89, 178, 154, 297, 260, 336, 235, 374, 211, 377, 222, 377, 222, 406, 70, 452, 115, 432, 189, 324, 115, 214, 39, 323, -85, 322, -85, 320, -85, 229, 38, 331, 100, 439, 166, 413, 95, 377, 72, 343, 51, 364, 28, 406, 70, 346, 405, 369, 418, 356, 441, 333, 428, 346, 405, 513, 298, 536, 311, 523, 334, 500, 321, 513, 298, 891, 91, 914, 104, 901, 127, 878, 114, 891, 91, 24, 123, 47, 136, 34, 159, 11, 146, 24, 123, 664, 33, 687, 46, 674, 69, 651, 56, 664, 33, 910, 482, 933, 495, 920, 518, 897, 505, 910, 482]
      }], ["666666", {
          Z: "M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
          H: [919, 442, 917, 443, 802, 510, 764, 432, 730, 364, 837, 250, 901, 261, 965, 272, 913, 329, 903, 301, 889, 262, 755, 338, 777, 424, 794, 490, 920, 442, 919, 442, 901, 261, 964, 274, 936, 345, 842, 386, 787, 410, 690, 435, 654, 370, 604, 279, 716, 132, 827, 153, 883, 164, 821, 244, 819, 197, 817, 150, 659, 228, 682, 335, 706, 443, 913, 329, 903, 301, 889, 262, 901, 261, 901, 261, 827, 153, 884, 163, 857, 238, 774, 281, 711, 313, 622, 313, 593, 233, 564, 157, 647, 71, 705, 54, 705, 54, 732, 60, 694, 82, 658, 102, 599, 170, 632, 231, 669, 301, 822, 244, 819, 197, 816, 150, 827, 153, 827, 153, 706, 54, 769, 34, 825, 87, 706, 149, 583, 213, 527, 56, 526, 57, 526, 59, 590, 200, 696, 137, 807, 70, 732, 60, 694, 82, 658, 102, 648, 73, 706, 54, 362, 328, 383, 340, 371, 361, 350, 349, 362, 328, 52, 189, 73, 201, 61, 222, 40, 210, 52, 189, 509, 119, 530, 131, 517, 152, 496, 140, 509, 119, 912, 16, 933, 28, 921, 49, 900, 37, 912, 16, 629, 380, 650, 392, 638, 413, 617, 401, 629, 380, 77, 414, 98, 426, 86, 447, 65, 435, 77, 414, 240, 76, 261, 88, 249, 109, 228, 97, 240, 76]
      }]]
  }, {
      jc: "1101-1-branch",
      pK: [["7f500b", {
          Z: "M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),
          H: [144, -14, 144, -14, 149, -12, 150, -12, 150, -12, 106, 22, 86, 75, 63, 137, 93, 193, 69, 238, 64, 236, 89, 174, 53, 146, 80, 72, 99, 19, 144, -14, 144, -14, 280, -18, 281, -18, 276, -20, 276, -20, 276, -20, 282, 23, 264, 64, 244, 113, 196, 129, 185, 168, 189, 170, 209, 120, 244, 123, 269, 66, 288, 25, 280, -18, 280, -18, 429, -5, 429, -5, 434, -4, 434, -4, 435, -4, 405, 28, 396, 72, 386, 124, 415, 164, 402, 203, 398, 202, 410, 150, 379, 132, 391, 70, 399, 26, 429, -5, 429, -5, 514, -7, 514, -7, 519, -12, 519, -12, 520, -12, 532, 50, 577, 96, 630, 151, 703, 150, 738, 197, 733, 201, 681, 144, 635, 166, 571, 101, 526, 54, 514, -7, 514, -7, 666, -67, 666, -68, 663, -65, 662, -64, 662, -64, 704, -52, 734, -18, 768, 22, 763, 72, 793, 99, 796, 96, 760, 57, 778, 26, 737, -22, 708, -56, 666, -67, 666, -67, 936, -8, 936, -8, 932, -9, 931, -9, 931, -9, 947, 32, 938, 76, 927, 127, 884, 154, 881, 194, 886, 195, 895, 142, 930, 138, 943, 76, 952, 32, 936, -8, 936, -8]
      }], ["5c7f0b", {
          Z: "M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),
          H: [119, 6, 121, 16, 113, 31, 81, 33, 58, 34, 27, 27, 27, 27, 27, 27, 53, 5, 70, -1, 93, -9, 117, -4, 119, 6, 124, 8, 132, 1, 151, 12, 165, 33, 179, 54, 180, 87, 180, 87, 180, 87, 153, 75, 139, 60, 122, 41, 115, 14, 124, 8, 78, 74, 82, 83, 76, 97, 48, 103, 27, 108, -2, 105, -2, 105, -2, 105, 19, 81, 33, 74, 53, 64, 75, 65, 78, 74, 83, 75, 90, 68, 108, 76, 124, 93, 139, 110, 144, 140, 144, 140, 144, 140, 117, 132, 104, 121, 85, 105, 76, 83, 83, 75, 72, 152, 75, 159, 72, 172, 48, 179, 30, 185, 6, 185, 6, 185, 6, 185, 22, 163, 33, 156, 49, 145, 68, 145, 72, 152, 76, 153, 81, 146, 98, 151, 112, 165, 126, 178, 133, 203, 133, 203, 133, 203, 110, 199, 97, 190, 80, 178, 70, 160, 76, 153, 73, 206, 75, 213, 71, 224, 49, 228, 34, 232, 12, 230, 12, 230, 12, 230, 28, 212, 39, 206, 53, 199, 70, 200, 73, 206, 76, 207, 81, 202, 95, 207, 107, 220, 118, 233, 122, 255, 122, 255, 122, 255, 102, 250, 92, 241, 78, 230, 71, 213, 76, 207, 70, 232, 78, 236, 76, 252, 66, 269, 56, 286, 33, 297, 33, 297, 33, 297, 33, 274, 39, 260, 46, 241, 62, 228, 70, 232, 285, 3, 278, 8, 274, 21, 291, 39, 304, 52, 325, 63, 325, 63, 325, 63, 323, 36, 316, 24, 308, 7, 291, -2, 285, 3, 281, 1, 280, -7, 263, -10, 244, -5, 224, 1, 205, 20, 205, 20, 205, 20, 228, 27, 244, 25, 264, 22, 283, 10, 281, 1, 270, 65, 264, 69, 259, 80, 272, 99, 281, 112, 299, 125, 299, 125, 299, 125, 300, 100, 296, 88, 290, 72, 277, 61, 270, 65, 267, 64, 267, 56, 252, 51, 234, 53, 216, 56, 197, 71, 197, 71, 197, 71, 216, 80, 230, 80, 249, 80, 267, 72, 267, 64, 231, 116, 225, 119, 220, 128, 230, 145, 237, 157, 251, 170, 251, 170, 251, 170, 254, 148, 251, 138, 248, 123, 237, 113, 231, 116, 228, 114, 229, 108, 217, 102, 201, 103, 186, 103, 168, 115, 168, 115, 168, 115, 184, 124, 196, 126, 212, 127, 228, 121, 228, 114, 201, 148, 196, 151, 192, 160, 202, 174, 209, 184, 222, 194, 222, 194, 222, 194, 223, 175, 220, 166, 216, 154, 206, 145, 201, 148, 198, 147, 198, 141, 187, 137, 174, 139, 160, 141, 145, 152, 145, 152, 145, 152, 160, 159, 171, 159, 185, 160, 198, 153, 198, 147, 188, 165, 182, 163, 173, 174, 170, 190, 167, 205, 173, 224, 173, 224, 173, 224, 186, 210, 191, 198, 197, 183, 195, 166, 188, 165, 415, 10, 417, 18, 413, 31, 389, 36, 371, 39, 347, 37, 347, 37, 347, 37, 364, 16, 377, 9, 393, 0, 412, 2, 415, 10, 418, 11, 424, 4, 440, 11, 453, 27, 466, 43, 470, 69, 470, 69, 470, 69, 448, 62, 436, 52, 420, 38, 412, 17, 418, 11, 391, 69, 394, 76, 392, 89, 371, 96, 355, 102, 333, 103, 333, 103, 333, 103, 346, 81, 357, 74, 371, 64, 388, 63, 391, 69, 395, 70, 399, 63, 414, 68, 428, 80, 441, 92, 448, 116, 448, 116, 448, 116, 427, 113, 415, 105, 400, 94, 390, 77, 395, 70, 395, 133, 398, 139, 397, 150, 379, 158, 367, 164, 348, 167, 348, 167, 348, 167, 358, 148, 366, 140, 377, 130, 391, 128, 395, 133, 398, 134, 401, 128, 414, 130, 427, 140, 439, 149, 447, 169, 447, 169, 447, 169, 429, 167, 418, 162, 404, 154, 394, 140, 398, 134, 401, 177, 404, 182, 402, 192, 386, 198, 374, 202, 358, 203, 358, 203, 358, 203, 368, 187, 375, 181, 386, 173, 399, 172, 401, 177, 404, 178, 408, 173, 419, 176, 429, 185, 439, 194, 445, 212, 445, 212, 445, 212, 429, 210, 420, 204, 408, 196, 401, 183, 404, 178, 402, 198, 408, 201, 409, 214, 403, 229, 397, 244, 381, 255, 381, 255, 381, 255, 378, 236, 381, 224, 385, 208, 396, 196, 402, 198, 519, 23, 531, 26, 543, 42, 528, 75, 518, 99, 495, 125, 495, 125, 495, 125, 485, 87, 487, 67, 490, 40, 508, 19, 519, 23, 523, 19, 521, 7, 542, -6, 571, -8, 600, -10, 636, 6, 636, 6, 636, 6, 609, 27, 586, 32, 557, 39, 526, 32, 523, 19, 570, 100, 581, 102, 594, 115, 585, 147, 579, 170, 562, 197, 562, 197, 562, 197, 548, 163, 547, 145, 547, 120, 560, 98, 570, 100, 574, 97, 570, 86, 587, 72, 613, 66, 639, 60, 673, 71, 673, 71, 673, 71, 652, 93, 632, 101, 607, 110, 578, 107, 574, 97, 649, 149, 659, 150, 670, 160, 666, 188, 662, 208, 650, 232, 650, 232, 650, 232, 635, 205, 633, 189, 631, 168, 640, 149, 649, 149, 652, 146, 648, 137, 662, 123, 683, 116, 705, 109, 734, 116, 734, 116, 734, 116, 718, 137, 702, 145, 681, 155, 657, 155, 652, 146, 707, 178, 715, 179, 724, 189, 718, 213, 714, 230, 701, 250, 701, 250, 701, 250, 690, 225, 690, 211, 689, 193, 699, 177, 707, 178, 710, 175, 707, 167, 720, 156, 739, 151, 759, 147, 784, 155, 784, 155, 784, 155, 768, 172, 753, 177, 734, 185, 713, 183, 710, 175, 732, 194, 740, 189, 757, 199, 770, 218, 782, 237, 783, 266, 783, 266, 783, 266, 758, 254, 746, 240, 730, 223, 724, 199, 732, 194, 687, -62, 688, -54, 699, -45, 722, -53, 739, -59, 759, -73, 759, -73, 759, -73, 733, -82, 719, -82, 701, -81, 685, -71, 687, -62, 684, -60, 676, -62, 666, -48, 662, -28, 659, -9, 669, 17, 669, 17, 669, 17, 684, -1, 689, -16, 696, -35, 692, -57, 684, -60, 737, -23, 738, -15, 746, -5, 768, -9, 784, -12, 804, -23, 804, -23, 804, -23, 782, -34, 769, -36, 752, -38, 736, -30, 737, -23, 734, -20, 727, -24, 716, -13, 711, 5, 705, 22, 711, 46, 711, 46, 711, 46, 727, 33, 734, 20, 742, 3, 742, -17, 734, -20, 766, 35, 766, 41, 772, 50, 792, 48, 806, 47, 823, 40, 823, 40, 823, 40, 805, 28, 795, 26, 780, 23, 766, 28, 766, 35, 763, 37, 758, 33, 747, 42, 741, 56, 735, 70, 738, 91, 738, 91, 738, 91, 753, 81, 760, 71, 768, 57, 769, 40, 763, 37, 782, 76, 783, 82, 789, 89, 806, 86, 818, 84, 832, 76, 832, 76, 832, 76, 816, 67, 806, 66, 794, 65, 782, 70, 782, 76, 780, 78, 775, 75, 766, 84, 762, 97, 758, 110, 762, 128, 762, 128, 762, 128, 775, 118, 779, 108, 786, 95, 785, 80, 780, 78, 792, 94, 788, 100, 794, 112, 807, 122, 819, 131, 839, 133, 839, 133, 839, 133, 832, 116, 823, 107, 812, 95, 796, 89, 792, 94, 945, 11, 939, 18, 938, 31, 959, 45, 974, 55, 997, 62, 997, 62, 997, 62, 989, 36, 980, 25, 968, 11, 950, 5, 945, 11, 941, 11, 938, 3, 921, 3, 903, 13, 885, 22, 871, 45, 871, 45, 871, 45, 894, 47, 909, 42, 929, 35, 944, 19, 941, 11, 944, 75, 938, 80, 935, 93, 952, 108, 964, 119, 984, 128, 984, 128, 984, 128, 980, 104, 974, 93, 965, 78, 949, 70, 944, 75, 940, 75, 938, 67, 923, 65, 906, 71, 889, 77, 873, 96, 873, 96, 873, 96, 894, 101, 908, 99, 926, 95, 942, 82, 940, 75, 916, 133, 911, 137, 907, 147, 920, 162, 930, 172, 946, 182, 946, 182, 946, 182, 944, 160, 940, 151, 933, 137, 921, 129, 916, 133, 913, 132, 912, 125, 899, 123, 884, 127, 869, 130, 854, 145, 854, 145, 854, 145, 871, 151, 883, 150, 899, 148, 913, 139, 913, 132, 893, 171, 888, 175, 887, 184, 899, 196, 908, 204, 923, 211, 923, 211, 923, 211, 920, 193, 915, 184, 909, 173, 897, 167, 893, 171, 890, 170, 889, 165, 877, 163, 864, 168, 851, 172, 839, 187, 839, 187, 839, 187, 855, 190, 865, 188, 879, 186, 891, 176, 890, 170, 884, 190, 877, 190, 871, 202, 871, 218, 871, 234, 881, 251, 881, 251, 881, 251, 891, 234, 893, 222, 896, 206, 890, 190, 884, 190]
      }]]
  }, {
      jc: "1101-1-sticks",
      pK: [["ec7272", {
          Z: "M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
          H: [260, 148, 297, 180, 286, 192, 249, 160, 260, 148, 114, 31, 161, 47, 155, 63, 109, 47, 114, 31, 931, 91, 902, 52, 915, 42, 945, 81, 931, 91, 711, 19, 746, -15, 758, -3, 723, 31, 711, 19, 812, 161, 782, 122, 795, 112, 825, 151, 812, 161, 389, 34, 424, 0, 436, 12, 401, 46, 389, 34, 431, 209, 465, 175, 477, 186, 442, 221, 431, 209, 282, 90, 282, 41, 299, 41, 299, 90, 282, 90, 58, 233, 29, 194, 42, 184, 72, 223, 58, 233, 574, 58, 621, 74, 615, 90, 569, 74, 574, 58]
      }], ["0000ff", {
          Z: "M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
          H: [722, 208, 733, 161, 717, 157, 706, 205, 722, 208, 843, 12, 797, 28, 802, 44, 849, 28, 843, 12, 31, 74, 60, 35, 47, 25, 18, 64, 31, 74, 220, 21, 185, -13, 173, -1, 208, 33, 220, 21, 140, 166, 170, 127, 157, 117, 127, 156, 140, 166, 558, 148, 523, 114, 511, 126, 546, 160, 558, 148, 562, 9, 516, 25, 521, 41, 568, 25, 562, 9, 697, 105, 726, 66, 713, 56, 684, 95, 697, 105, 961, 180, 990, 141, 977, 131, 948, 170, 961, 180, 399, 97, 353, 113, 358, 129, 405, 113, 399, 97]
      }]]
  }, {
      jc: "1101-1-dots",
      pK: [["ec7272", {
          Z: "M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),
          H: [154, 47, 144, 47, 136, 39, 136, 29, 136, 19, 144, 11, 154, 11, 164, 11, 172, 19, 172, 29, 172, 39, 164, 47, 154, 47, 272, 164, 262, 164, 254, 156, 254, 146, 254, 136, 262, 128, 272, 128, 282, 128, 290, 136, 290, 146, 290, 156, 282, 164, 272, 164, 529, 48, 519, 48, 511, 40, 511, 30, 511, 20, 519, 12, 529, 12, 539, 12, 547, 20, 547, 30, 547, 40, 539, 48, 529, 48, 696, 101, 686, 101, 678, 93, 678, 83, 678, 73, 686, 65, 696, 65, 706, 65, 714, 73, 714, 83, 714, 93, 706, 101, 696, 101, 929, 91, 919, 91, 911, 83, 911, 73, 911, 63, 919, 55, 929, 55, 939, 55, 947, 63, 947, 73, 947, 83, 939, 91, 929, 91]
      }], ["0000ff", {
          Z: "M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),
          H: [66, 122, 56, 122, 48, 114, 48, 104, 48, 94, 56, 86, 66, 86, 76, 86, 84, 94, 84, 104, 84, 114, 76, 122, 66, 122, 309, 55, 299, 55, 291, 47, 291, 37, 291, 27, 299, 19, 309, 19, 319, 19, 327, 27, 327, 37, 327, 47, 319, 55, 309, 55, 785, 180, 775, 180, 767, 172, 767, 162, 767, 152, 775, 144, 785, 144, 795, 144, 803, 152, 803, 162, 803, 172, 795, 180, 785, 180, 459, 147, 449, 147, 441, 139, 441, 129, 441, 119, 449, 111, 459, 111, 469, 111, 477, 119, 477, 129, 477, 139, 469, 147, 459, 147, 811, 48, 801, 48, 793, 40, 793, 30, 793, 20, 801, 12, 811, 12, 821, 12, 829, 20, 829, 30, 829, 40, 821, 48, 811, 48]
      }], ["88a500", {
          Z: ["M", "C", "C", "Z"],
          H: [389, 224, 389, 224, 410, 230, 410, 230, 410, 230, 389, 224, 389, 224]
      }]]
  }, {
      jc: "1101-1-strips",
      pK: [["ffc88c", {
          Z: "M L L L L Z M L L L L Z M L L L L Z".split(" "),
          H: [-40, 0, 44, 0, 137, 99, 53, 99, -40, 0, 296, 0, 380, 0, 473, 99, 389, 99, 296, 0, 632, 0, 716, 0, 809, 99, 725, 99, 632, 0]
      }], ["88a500", {
          Z: "M L L L L Z M L L L L Z M L L L L Z".split(" "),
          H: [128, 0, 212, 0, 305, 99, 221, 99, 128, 0, 464, 0, 548, 0, 641, 99, 557, 99, 464, 0, 800, 0, 884, 0, 977, 99, 893, 99, 800, 0]
      }], ["88a500", {
          Z: ["M", "C", "C", "Z"],
          H: [407, 217, 407, 217, 428, 223, 428, 223, 428, 223, 407, 217, 407, 217]
      }]]
  }, {
      jc: "1101-1-circs",
      pK: [["ec7272", {
          Z: "M C C C C Z M C C C C Z".split(" "),
          H: [61, 209, 27, 209, 0, 181, 0, 147, 0, 113, 27, 86, 61, 86, 96, 86, 123, 113, 123, 147, 123, 181, 96, 209, 61, 209, 551, 209, 517, 209, 489, 181, 489, 147, 489, 113, 517, 86, 551, 86, 585, 86, 612, 113, 612, 147, 612, 181, 585, 209, 551, 209]
      }], ["217995", {
          Z: "M C C C C Z M C C C C Z".split(" "),
          H: [303, 209, 269, 209, 241, 181, 241, 147, 241, 113, 269, 86, 303, 86, 337, 86, 364, 113, 364, 147, 364, 181, 337, 209, 303, 209, 799, 209, 765, 209, 738, 181, 738, 147, 738, 113, 765, 86, 799, 86, 834, 86, 861, 113, 861, 147, 861, 181, 834, 209, 799, 209]
      }], ["88a500", {
          Z: ["M", "C", "C", "Z"],
          H: [530, 273, 530, 273, 551, 279, 551, 279, 551, 279, 530, 273, 530, 273]
      }]]
  }, {
      jc: "1101-1-squares",
      pK: [["014ea7", {
          Z: "M L L L L Z M L L L L Z".split(" "),
          H: [0, 120, 124, 120, 124, 244, 0, 244, 0, 120, 497, 120, 621, 120, 621, 244, 497, 244, 497, 120]
      }], ["fc54ff", {
          Z: "M L L L L Z M L L L L Z".split(" "),
          H: [249, 120, 373, 120, 373, 244, 249, 244, 249, 120, 746, 120, 870, 120, 870, 244, 746, 244, 746, 120]
      }], ["88a500", {
          Z: ["M", "C", "C", "Z"],
          H: [389, 354, 389, 354, 410, 360, 410, 360, 410, 360, 389, 354, 389, 354]
      }]]
  }, {
      jc: "1101-0-christmas",
      pK: [["014ea7", {
          Z: "M C C C C Z M C C C C Z M L L L L Z".split(" "),
          H: [255, 480, 178, 480, 116, 418, 116, 341, 116, 264, 178, 202, 255, 202, 332, 202, 394, 264, 394, 341, 394, 418, 332, 480, 255, 480, 255, 232, 236, 232, 221, 217, 221, 198, 221, 179, 236, 164, 255, 164, 274, 164, 289, 179, 289, 198, 289, 217, 274, 232, 255, 232, 251, -152, 260, -152, 260, 248, 251, 248, 251, -152]
      }], ["ff9518", {
          Z: "M C C C C Z M C C C C Z M L L L L Z".split(" "),
          H: [746, 623, 669, 623, 607, 561, 607, 484, 607, 407, 669, 345, 746, 345, 823, 345, 885, 407, 885, 484, 885, 561, 823, 623, 746, 623, 747, 376, 728, 376, 713, 361, 713, 342, 713, 323, 728, 308, 747, 308, 766, 308, 781, 323, 781, 342, 781, 361, 766, 376, 747, 376, 742, -8, 751, -8, 751, 392, 742, 392, 742, -8]
      }]]
  }];
  var gW = {};
  gW.parse = function(E) {
      var K = new Uint8Array(E)
        , i = null;
      if (K[0] == 80 && K[1] == 75) {
          var C = Date.now()
            , N = UZIP.parse(K.buffer)
            , i = N["document.json"];
          i = JSON.parse(O.Yo(i, 0, i.length));
          gW.kc(i, N)
      } else {
          var k = ir.parse(E);
          i = gW.YA(k[2][0][1])
      }
      return i
  }
  ;
  gW.kc = function(E, K) {
      var i = typeof E;
      if (i == "string" || i == "number" || i == "boolean")
          return E;
      if (E instanceof Array) {
          for (var G = 0; G < E.length; G++)
              E[G] = gW.kc(E[G], K);
          return E
      }
      var C = E._class;
      if (C == null)
          return E;
      if (C == "MSJSONFileReference") {
          var N = E._ref;
          if (!1) {} else if (K[N + ".json"] != null) {
              var k = K[N + ".json"]
                , V = k.length;
              for (var G = 0; G < V; G++)
                  if (k[G] == 11 || k[G] == 3)
                      k[G] = 32;
              var j = O.Yo(k, 0, V);
              E = JSON.parse(j)
          } else if (K[N + ".png"] != null)
              return {
                  key: N.split("/").pop(),
                  bdata: K[N + ".png"]
              };
          else if (K[N + ".jpg"] != null)
              return {
                  key: N.split("/").pop(),
                  bdata: K[N + ".jpg"]
              };
          else if (K[N + ".pdf"] != null)
              return {
                  key: N.split("/").pop(),
                  bdata: K[N + ".pdf"]
              };
          else if (K[N] != null)
              return {
                  key: N.split("/").pop(),
                  bdata: K[N]
              };
          else {
              console.log(E, K);
              return
          }
      } else if (C == "MSAttributedString") {
          var j = atob(E.archivedAttributedString._archive)
            , a = j.length - 1
            , e = new Uint8Array(a);
          for (var G = 0; G < a; G++)
              e[G] = j.charCodeAt(G);
          E.archivedAttributedString = gW.YA(e)
      }
      for (var L in E)
          E[L] = gW.kc(E[L], K);
      return E
  }
  ;
  gW.jq = function(E, K, i, C) {
      if (E instanceof Uint8Array)
          return null;
      if (C.indexOf(E) != -1)
          return null;
      C.push(E);
      if (E == K)
          return i;
      for (var N in E) {
          i.push(N);
          var k = gW.jq(E[N], K, i, C);
          if (k) {
              console.log(E, k);
              throw "e"
          }
          i.pop()
      }
  }
  ;
  gW.YA = function(E) {
      var K = g2.parse(E, 0)
        , i = K.$objects
        , C = new Uint8Array(i.length)
        , N = gW.g0(i, C, K.$top.root);
      for (var G = 0; G < i.length; G++)
          if (C[G] == 0 && G != 0) {
              console.log(G, i[G]);
              gW.jq(N, G, [], [])
          }
      for (var G = 0; G < i.length; G++) {
          var k = i[G];
          if (k._class && (k._class == "bitmap" || k._class == "fill" && k.fillType == 4 && (k.image || k.imageSHA))) {
              var V = k.image
                , j = k.imageSHA
                , a = null
                , e = null;
              if (V == "$null")
                  V = null;
              if (j == "$null")
                  j = null;
              if (V && V.data) {
                  e = V.sha1["NS.bytes"];
                  e = btoa(O.zV(e, 0, e.length));
                  a = V.data instanceof Uint8Array ? V.data : V.data["NS.bytes"]
              } else if (V == null && j == null) {
                  var L = fb.vG("PNG").PW([[_.I(4).buffer]], 1, 1);
                  a = new Uint8Array(L)
              } else {
                  var g = (N.assets ? N.assets.imageCollection : N.images).images;
                  if (j)
                      e = j instanceof Uint8Array ? j : j["NS.bytes"];
                  else
                      e = V.sha1["NS.bytes"];
                  e = btoa(O.zV(e, 0, e.length));
                  var a = g[e].data;
                  if (a["NS.bytes"])
                      a = a["NS.bytes"]
              }
              a = new Uint8Array(a.buffer.slice(a.byteOffset, a.byteOffset + a.length));
              delete k.imageSHA;
              k.image = {
                  key: e,
                  bdata: a
              }
          }
      }
      return N
  }
  ;
  gW.a0N = function(E) {
      return E.slice(0, 11) == "MSImmutable" ? "MS" + E.slice(11) : E
  }
  ;
  gW.g0 = function(E, K, i) {
      var C = E[i];
      if (K[i] == 1) {
          return C
      }
      K[i] = 1;
      if (typeof C == "string")
          return C;
      if (typeof C == "number")
          return C;
      if (typeof C == "boolean")
          return C;
      if (C instanceof Array)
          return C;
      if (C instanceof Uint8Array) {
          return C
      }
      if (E[C.$class] == null) {
          if (C.$class == null && C["NS.data"] != null)
              return C;
          console.log(i, C);
          throw "e"
      }
      var N = E[C.$class]
        , k = gW.a0N(N.$classname);
      K[C.$class] = 1;
      C.$class = k;
      if (gW.hA[k]) {
          delete C.$class;
          C._class = gW.hA[k]
      }
      var V = gW.g0;
      if (k == "NSMutableArray" || k == "NSArray") {
          var j = [];
          if (C["NS.objects"] != null)
              for (var G = 0; G < C["NS.objects"].length; G++)
                  j.push(V(E, K, C["NS.objects"][G]));
          else
              for (var G = 0; C["NS.object." + G] != null; G++)
                  j.push(V(E, K, C["NS.object." + G]));
          E[i] = j;
          return j
      }
      if (k == "NSDictionary" || k == "NSMutableDictionary") {
          var a = {
              $class: k
          };
          if (C["NS.keys"] != null)
              for (var G = 0; G < C["NS.keys"].length; G++) {
                  var e = V(E, K, C["NS.keys"][G]);
                  if (e instanceof Uint8Array)
                      e = btoa(gW.gR.zV(e, 0, e.length));
                  else if (typeof e != "string" && typeof e != "number")
                      e = btoa(gW.gR.zV(e["NS.bytes"], 0, e["NS.bytes"].length));
                  a[e] = V(E, K, C["NS.objects"][G])
              }
          else
              for (var G = 0; C["NS.key." + G] != null; G++) {
                  var e = V(E, K, C["NS.key." + G]);
                  if (e instanceof Uint8Array)
                      e = btoa(gW.gR.zV(e, 0, e.length));
                  else if (typeof e != "string" && typeof e != "number")
                      e = btoa(gW.gR.zV(e["NS.bytes"], 0, e["NS.bytes"].length));
                  a[e] = V(E, K, C["NS.object." + G])
              }
          for (var L in C)
              delete C[L];
          for (var L in a)
              C[L] = a[L];
          return C
      }
      if (k == "NSURL")
          return {
              $class: k,
              base: V(E, K, C["NS.base"]),
              relative: V(E, K, C["NS.relative"])
          };
      if (gW.amw.indexOf(k) != -1) {
          E[i] = V(E, K, C.array_do);
          return E[i]
      }
      if (C.do_objectID != null)
          C.do_objectID = V(E, K, C.do_objectID);
      if (gW.aaj.indexOf(k) != -1)
          return C;
      var g = gW.a8V[k];
      if (g == null) {
          console.log(E, C);
          throw "unknown class " + k
      }
      for (var G = 0; G < g.length; G++)
          if (C[g[G]] != null)
              C[g[G]] = V(E, K, C[g[G]]);
      if (k == "MSTextLayer") {
          var I = C, h, o, H, A;
          if (I.attributedString)
              h = I.attributedString.archivedAttributedString;
          else
              h = I.storage;
          A = h.NSString;
          if (typeof A != "string")
              A = O.Yo(A["NS.bytes"], 0, A["NS.bytes"].length);
          if (h.NSAttributeInfo)
              o = h.NSAttributeInfo["NS.bytes"];
          else {
              var S = A.length
                , v = [];
              while (S > 0) {
                  var s = Math.min(100, S);
                  v.push(s, 0);
                  S -= s
              }
              o = new Uint8Array(v)
          }
          H = h.NSAttributes instanceof Array ? h.NSAttributes : [h.NSAttributes];
          var D = {
              $class: "NSAttributedString",
              NSString: A,
              NSAttributes: H
          };
          I.attributedString = {
              _class: "MSAttributedString",
              archivedAttributedString: D
          };
          D.NSAttributeInfo = {
              $class: "NSMutableData",
              "NS.data": o
          };
          delete I.storage
      }
      return C
  }
  ;
  gW.gR = {
      HJ: function(E, K) {
          return E[K + 1] << 8 | E[K]
      },
      n: function(E, K) {
          return E[K + 3] << 24 | E[K + 2] << 16 | E[K + 1] << 8 | E[K]
      },
      zV: function(E, K, i) {
          var C = "";
          for (var G = 0; G < i; G++)
              C += String.fromCharCode(E[K + G]);
          return C
      }
  };
  gW.hA = {
      MSPage: "page",
      MSArtboardGroup: "artboard",
      MSShapeGroup: "shapeGroup",
      MSLayerGroup: "group",
      MSBitmapLayer: "bitmap",
      MSTextLayer: "text",
      MSSliceLayer: "slice",
      MSSymbolMaster: "symbolMaster",
      MSSymbolInstance: "symbolInstance",
      MSStyleFill: "fill",
      MSShapePathLayer: "shapePath",
      MSRectangleShape: "rectangle",
      MSOvalShape: "oval",
      MSTriangleShape: "triangle"
  };
  gW.amw = ["MSArray", "MSFillStyleCollection", "MSBorderStyleCollection", "MSShadowStyleCollection", "MSInnerShadowStyleCollection"];
  gW.aaj = "MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
  gW.a8V = {
      MSAssetCollection: ["gradients", "colors", "imageCollection", "images"],
      MSImageCollection: ["images"],
      MSSharedStyleContainer: ["objects"],
      MSSharedTextStyleContainer: ["objects"],
      MSSharedLayerStyleContainer: ["objects"],
      MSSharedLayerTextStyleContainer: ["objects"],
      MSSharedLayerContainer: ["objects"],
      MSSymbolContainer: ["objects"],
      MSGradient: ["stops", "from", "to", "points"],
      MSGradientStop: ["color"],
      MSStyleFill: ["color", "gradient", "contextSettings", "image", "imageSHA"],
      MSExportFormat: ["fileFormat", "name"],
      MSExportOptions: ["exportFormats", "includedLayerIds", "sizes"],
      MSRulerData: ["guides"],
      MSStyle: "textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),
      MSSharedStyle: ["name", "value"],
      MSSymbol: ["name", "value"],
      MSAttributedString: ["archivedAttributedString"],
      MSSharedLayerStyle: ["name", "value", "instances"],
      MSSharedLayer: ["name", "value", "instances"],
      MSDocumentData: "assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),
      MSShapePathLayer: "exportOptions frame name userInfo path originalObjectID".split(" "),
      MSOvalShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
      MSRectangleShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
      MSPolygonShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
      MSTriangleShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
      MSStarShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
      MSBitmapLayer: "exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),
      MSTextLayer: "exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),
      MSShapeGroup: "exportOptions frame name userInfo style originalObjectID layers".split(" "),
      MSLayerGroup: "exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),
      MSArtboardGroup: "exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),
      MSPage: "exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),
      MSSymbolMaster: "exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),
      MSSymbolInstance: "exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),
      MSSliceLayer: ["exportOptions", "frame", "name", "userInfo", "backgroundColor"],
      MSTextStyle: ["attributes", "encodedAttributes"],
      MSShapePath: ["points"],
      MSPointArray: ["points"],
      MSImageData: ["data", "sha1", "name"],
      MSCurvePoint: ["curveFrom", "curveTo", "point"],
      MSImageProxy: ["sha1"],
      MSStyleBorder: ["color", "gradient", "contextSettings"],
      MSStyleBlur: ["center"],
      MSStyleShadow: ["color", "contextSettings"],
      MSStyleInnerShadow: ["color", "contextSettings"],
      MSExportSize: ["format", "name"],
      MSStyleBorderOptions: ["dashPattern"],
      NSFont: ["NSName", "NSDescriptor"],
      NSColor: ["NSCustomColorSpace"],
      NSFontDescriptor: ["NSFontDescriptorAttributes"],
      NSMutableParagraphStyle: ["NSTextBlocks", "NSTabStops", "NSTextLists"],
      NSAttributedString: ["NSAttributes", "NSString", "NSAttributeInfo"],
      NSTextStorage: ["NSAttributeInfo", "NSAttributes", "NSString"],
      NSColorSpace: ["NSICC"],
      NSParagraphStyle: ["NSTabStops", "NSTextBlocks", "NSTextLists"],
      NSTextList: ["NSMarkerFormat"],
      NSTextTab: ["NSTabOptions"],
      UIFontDescriptor: ["UIFontDescriptorAttributes"]
  };
  var g2 = {};
  g2.parse = function(E, K) {
      var i = O.zV(E, K, 8);
      K += 8;
      var C = g2.parse.a8M(E, E.length - 31)
        , N = [];
      if (C.r_ == 1) {
          var K = E.length - 31 - C.r_ * C.w2;
          for (var G = 0; G < C.w2; G++)
              N.push(E[K + G])
      } else if (C.r_ == 2) {
          var K = E.length - 31 - C.r_ * C.w2;
          for (var G = 0; G < C.w2; G++)
              N.push(O.HJ(E, K + G * 2))
      } else if (C.r_ == 4) {
          var K = E.length - 31 - C.r_ * C.w2;
          for (var G = 0; G < C.w2; G++)
              N.push(O.n(E, K + G * 4))
      } else {
          throw "e"
      }
      var k = g2.parse.g0(E, N, C.root, C);
      return k
  }
  ;
  g2.parse.g0 = function(E, K, i, C) {
      var N = g2.gR
        , k = C.adB
        , V = k == 4 ? N.n : k == 2 ? N.HJ : N.a70
        , j = g2.parse
        , a = K[i]
        , e = E[a]
        , L = e >> 4
        , g = e & 15
        , h = null;
      a += 1;
      if ([4, 5, 6, 10, 12, 13].indexOf(L) != -1 && g == 15) {
          var I = j.Ex(E, a);
          a += I.qh;
          g = I.G
      }
      if (!1) {} else if (L == 0)
          h = g == 8 ? !1 : g == 9 ? !0 : null;
      else if (L == 1)
          h = j.Ex(E, a - 1).G;
      else if (L == 2)
          h = 1 << g == 4 ? O.qE(E, a) : O.AN(E, a);
      else if (L == 3)
          h = O.AN(E, a);
      else if (L == 4)
          h = new Uint8Array(E.buffer,a,g);
      else if (L == 5)
          h = O.zV(E, a, g);
      else if (L == 6)
          h = O.a9(E, a, g);
      else if (L == 8) {
          h = 0;
          for (var G = 0; G < g + 1; G++)
              h = h << 8 | E[a + G]
      } else if (L == 10) {
          h = [];
          for (var G = 0; G < g; G++)
              h.push(j.g0(E, K, V(E, a + k * G), C))
      } else if (L == 12) {
          h = [];
          for (var G = 0; G < g; G++)
              h.push(j.g0(E, K, V(E, a + k * G), C))
      } else if (L == 13) {
          h = {};
          for (var G = 0; G < g; G++) {
              var o = j.g0(E, K, V(E, a + k * G), C)
                , H = j.g0(E, K, V(E, a + k * (g + G)), C);
              h[o] = H
          }
      } else
          throw "unknown mask " + L;
      return h
  }
  ;
  g2.parse.Ex = function(E, K) {
      var i = 1 << (E[K] & 15)
        , C = 0;
      for (var G = 0; G < i; G++)
          C = C << 8 | E[K + 1 + G];
      return {
          G: C,
          qh: i + 1
      }
  }
  ;
  g2.parse.a8M = function(E, K) {
      var i = {};
      K += 6;
      i.r_ = E[K];
      K++;
      i.adB = E[K];
      K++;
      K += 4;
      i.w2 = O.n(E, K);
      K += 4;
      K += 4;
      i.root = O.n(E, K);
      K += 4;
      K += 4;
      i.aa5 = O.n(E, K);
      K += 4;
      return i
  }
  ;
  g2.gR = {
      a70: function(E, K) {
          return E[K]
      },
      HJ: function(E, K) {
          return E[K] << 8 | E[K + 1]
      },
      n: function(E, K) {
          return E[K] << 24 | E[K + 1] << 16 | E[K + 2] << 8 | E[K + 3]
      },
      zV: function(E, K, i) {
          var C = "";
          for (var G = 0; G < i; G++)
              C += String.fromCharCode(E[K + G]);
          return C
      }
  };
  var ir = {
      parse: function(E) {
          var K = new Uint8Array(E)
            , i = ir.Ma(K)
            , C = []
            , N = new Uint8Array(K.length)
            , k = [];
          C.push(k);
          ir.oG(K, i, 1, N, k);
          for (var G = 0; G < k.length; G++) {
              var V = [];
              C.push(V);
              ir.oG(K, i, k[G][3], N, V);
              k[G][3] = G + 1
          }
          return C
      },
      oG: function(E, K, i, C, N) {
          i--;
          var k = i * K.LU + (i == 0 ? 100 : 0)
            , V = E[k]
            , j = ir.HJ(E, k + 1);
          if (j != 0)
              throw "free block in a page";
          var a = ir.HJ(E, k + 3)
            , e = ir.HJ(E, k + 5);
          if (e == 0)
              e = 65536;
          var L = E[k + 7]
            , g = ir.HJ(E, k + 8);
          if (V == 2 || V == 5)
              k += 4;
          else
              g = 0;
          for (var I = 0; I < a; I++) {
              var h = i * K.LU + ir.HJ(E, k + 8 + 2 * I)
                , o = -1
                , H = 0
                , A = 0
                , S = 0;
              if (V == 2 || V == 5) {
                  o = ir.n(E, h);
                  h += 4
              }
              if (V == 2 || V == 10 || V == 13) {
                  H = ir.vp(E, h);
                  h += H.qh
              }
              if (V == 5 || V == 13) {
                  A = ir.vp(E, h);
                  h += A.qh
              }
              if (V == 5) {
                  ir.oG(E, K, o, C, N);
                  continue
              }
              var v = K.LU - (i == 0 ? 100 : 0)
                , s = H.Gb
                , D = V == 13 ? v - 35 : Math.floor((v - 12) * 64 / 255) - 23
                , F = Math.floor((v - 12) * 32 / 255) - 23
                , y = F + (s - F) % (v - 4);
              if (s <= D) {
                  ir.uJ(E, h, C, 0, s)
              } else {
                  var T = y <= D ? y : F
                    , Q = 0;
                  ir.uJ(E, h, C, 0, T);
                  Q += T;
                  S = ir.n(E, h + T);
                  while (S != 0) {
                      var B = (S - 1) * K.LU;
                      S = ir.n(E, B);
                      var r = Math.min(K.LU - 4, s - Q);
                      ir.uJ(E, B + 4, C, Q, r);
                      Q += r
                  }
              }
              N.push(ir.ajA(C, s))
          }
      },
      ajA: function(E, K) {
          var i = 0
            , C = ir.vp(E, i);
          i += C.qh;
          var N = []
            , k = [];
          while (i < C.Gb) {
              var V = ir.vp(E, i);
              i += V.qh;
              N.push(V.Gb)
          }
          if (i != C.Gb)
              throw "e";
          for (var G = 0; G < N.length; G++) {
              var V = N[G];
              if (!1) {} else if (V == 0)
                  k.push(null);
              else if (V == 1) {
                  k.push(ir.a4D(E, i));
                  i += 1
              } else if (V == 2) {
                  k.push(ir.Mj(E, i));
                  i += 2
              } else if (V == 3) {
                  k.push(ir.a1g(E, i));
                  i += 3
              } else if (V == 4) {
                  k.push(ir.Ex(E, i));
                  i += 4
              } else if (V == 7) {
                  k.push(ir.alO(E, i));
                  i += 16
              } else if (V == 8)
                  k.push(0);
              else if (V == 9)
                  k.push(1);
              else if (V >= 12 && (V & 1) == 0) {
                  var j = V - 13 >> 1
                    , a = new Uint8Array(j);
                  ir.uJ(E, i, a, 0, j);
                  k.push(a);
                  i += j
              } else if (V >= 13 && (V & 1) == 1) {
                  var j = V - 12 >> 1;
                  k.push(ir.Yo(E, i, j));
                  i += j
              } else
                  throw "unknonw type " + V
          }
          return k
      },
      Ma: function(E) {
          if (!(E[18] == 1 && E[19] == 1 && E[20] == 0 && E[21] == 64 && E[22] == 32 && E[23] == 32))
              throw "unexpected SQL3 header";
          var K = {
              xc: ir.zV(E, 0, 15),
              LU: ir.HJ(E, 16),
              afn: ir.n(E, 24),
              size: ir.n(E, 28),
              akh: ir.n(E, 32),
              abi: ir.n(E, 36),
              akD: ir.n(E, 40),
              a56: ir.n(E, 44),
              a77: ir.n(E, 48),
              anL: ir.n(E, 52),
              a4v: ir.n(E, 56),
              a2Q: ir.n(E, 60),
              adf: ir.n(E, 64) != 0,
              afS: ir.n(E, 68),
              aok: ir.n(E, 92),
              a7H: ir.n(E, 96)
          };
          if (K.LU == 1)
              K.LU = 65536;
          if (K.a4v != 1)
              throw "unsupported text encoding " + K.a4v;
          return K
      },
      anV: function(E, K) {
          return E[K] << 16 | E[K + 1] << 8 | E[K + 2]
      },
      a1g: function(E, K) {
          var i = ir.anV(E, K)
            , C = i & 8388608;
          return C ? -(16777215 - i + 1) : i
      },
      a4D: function(E, K) {
          ir.Xg[0] = E[K];
          return ir.aia[0]
      },
      Ex: function(E, K) {
          var i = ir.Xg;
          for (var G = 0; G < 4; G++)
              i[G] = E[K + 3 - G];
          return ir.aeY[0]
      },
      Mj: function(E, K) {
          var i = ir.Xg;
          i[0] = E[K + 1];
          i[1] = E[K];
          return ir.aaG[0]
      },
      HJ: function(E, K) {
          return E[K] << 8 | E[K + 1]
      },
      n: function(E, K) {
          return E[K] << 24 | E[K + 1] << 16 | E[K + 2] << 8 | E[K + 3]
      },
      alO: function(E, K) {
          var i = ir.Xg;
          for (var G = 0; G < 8; G++)
              i[G] = E[K + 7 - G];
          return ir.a0z[0]
      },
      vp: function(E, K) {
          var i = K
            , l = 0;
          while (!0) {
              var C = E[K];
              K++;
              l = l * 128 + (C & 127);
              if (C < 128)
                  break
          }
          return {
              Gb: l,
              qh: K - i
          }
      },
      zV: function(E, K, i) {
          var C = "";
          for (var G = 0; G < i; G++)
              C += String.fromCharCode(E[K + G]);
          return C
      },
      Yo: function(E, K, i) {
          var C = "";
          for (var G = 0; G < i; G++)
              C += "%" + ir.a6L(E[K + G].toString(16));
          return decodeURIComponent(C)
      },
      uJ: function(E, K, i, C, N) {
          if (E[K + N - 1] == null || i[C + N - 1] == null) {
              console.log(K, C, N);
              throw "e"
          }
          for (var G = 0; G < N; G++)
              i[C + G] = E[K + G]
      },
      a6L: function(l) {
          return l.length < 2 ? "0" + l : l
      }
  };
  ir.Xg = new Uint8Array(8);
  ir.aia = new Int8Array(ir.Xg.buffer);
  ir.aaG = new Int16Array(ir.Xg.buffer);
  ir.aeY = new Int32Array(ir.Xg.buffer);
  ir.a0z = new Float64Array(ir.Xg.buffer);
  function a_(E, K, i) {
      this.im = E;
      this.n1 = K;
      this.a6I = i;
      this.P_ = new bT(0,0);
      this.sS = -1;
      this.iN = 0;
      this.yT = 0;
      this.Yu = new h4;
      this.fy = [];
      this.d0 = null;
      this.ah0 = null;
      this.TJ = null;
      this.AG = null;
      this.Ei = null;
      this.ai1 = null
  }
  a_.prototype.StartPage = function(E, K, i, C, N) {
      var k = this.n1
        , V = k.x$()
        , j = 1
        , a = (i - E) * (C - K);
      if (N != null)
          a = N;
      while (a * V * V / (j * j) > 2 * 8192 * 8192)
          j++;
      k.scale(1 / j, 1 / j);
      this.ah0 = [E, K, i, C];
      var j = k.x$();
      E = Math.round(E * j);
      K = Math.round(K * j);
      i = Math.round(i * j);
      C = Math.round(C * j);
      var e = this.im
        , L = this.TJ;
      if (L == null) {
          k.vK = -E
      } else {
          var g = L[2] - L[0] + 30
            , I = Math.round(i - E) + 30;
          if (this.P_.x + g + I > 8192) {
              k.vK = -E;
              this.P_.x = 0;
              this.P_.y += this.yT + 120;
              this.yT = 0
          } else {
              k.vK += g;
              this.P_.x += g
          }
      }
      k.Cz = this.P_.y + (this.a6I ? C : -K);
      this.yT = Math.max(this.yT, Math.round(C - K));
      this.TJ = [E, K, i, C];
      e.t.push(e.Yy())
  }
  ;
  a_.prototype.PY = function() {
      var E = this.im
        , K = E.t[E.t.length - 1];
      return K
  }
  ;
  a_.prototype.KQ = function() {
      var E = JSON.parse(JSON.stringify(ao.S6.default));
      E.strokeStyleLineAlignment.v.strokeStyleLineAlignment = "strokeStyleAlignCenter";
      E.strokeEnabled.v = !1;
      E.fillEnabled.v = !1;
      return E
  }
  ;
  a_.prototype.I6 = function() {
      var E = this.im
        , K = E.qV();
      K.gv("Path " + E.t.length);
      this.im.t.push(K);
      K.it |= 16;
      K.add.SoCo = {
          classID: "null",
          Clr: {
              t: "Objc",
              v: _.V.VQ({
                  h: 0,
                  l: 0,
                  O: 0
              })
          }
      };
      K.add.vmsk = new U.ql;
      K.add.vstk = this.KQ();
      return K
  }
  ;
  a_.prototype.uA = function(E) {
      var K = {
          H: E.crds,
          Z: E.cmds
      }
        , i = _.$.rh(K, !1);
      _.Y.aW(i, this.n1);
      return i
  }
  ;
  a_.aiE = function(E, K) {
      for (var G = 0; G < E.length; G++)
          if (E[G].A0 != null)
              E[G].A0 = K
  }
  ;
  a_.a1e = function(E) {
      return Math.sqrt(Math.abs(E[0] * E[3] - E[1] * E[2]))
  }
  ;
  a_.kY = function(E) {
      return _.V.VQ({
          h: E[0] * 255,
          l: E[1] * 255,
          O: E[2] * 255
      })
  }
  ;
  a_.Ih = function(E) {
      return new fn(E[0],E[1],E[2],E[3],E[4],E[5])
  }
  ;
  a_.prototype.Stroke = function(E) {
      if (this.sS != -1 && this.sS != this.iN)
          return;
      if (E.pth.cmds.length <= 1)
          return;
      var K = this.uA(E.pth);
      if (K.length <= 2)
          return;
      this.UK(E);
      a_.aiE(K, -1);
      K[2].A0 = 1;
      var i = a_.kY(E.COLR)
        , C = this.PY()
        , N = this.KQ();
      a_.f_(N, E, this.n1.x$(), i);
      var k = C != null && C.add.vmsk != null && !C.Uf()
        , V = k && !C.add.vstk.strokeEnabled.v && U.ql.ao8(C.add.vmsk.b, K, !0)
        , j = k && !C.add.vstk.fillEnabled.v && JSON.stringify(N) == JSON.stringify(C.add.vstk);
      if (j) {
          C.add.vmsk.b = C.add.vmsk.b.concat(K.slice(2))
      } else if (V) {
          C.add.vstk = N;
          N.fillEnabled.v = !0
      } else {
          C = this.I6();
          C.add.vmsk.b = K;
          C.add.vstk = N
      }
  }
  ;
  a_.f_ = function(E, K, i, C) {
      E.strokeEnabled.v = !0;
      E.strokeStyleMiterLimit.v = K.mlimit;
      E.strokeStyleLineDashSet.v = h$.xh(K.dash, 1 / K.lwidth);
      E.strokeStyleLineDashOffset.v.val = K.doff;
      E.strokeStyleLineJoinType.v.strokeStyleLineJoinType = ao.S6.join[K.ljoin];
      E.strokeStyleLineCapType.v.strokeStyleLineCapType = ao.S6.mN[K.lcap];
      E.strokeStyleLineWidth.v.val = Math.max(.4, K.lwidth * a_.a1e(K.ctm) * i);
      E.strokeStyleContent.v.Clr.v = C
  }
  ;
  a_.prototype.Fill = function(E, K) {
      if (this.sS != -1 && this.sS != this.iN)
          return;
      if (E.ca == 0)
          return;
      var i = E.pth.cmds;
      if (i.length == 0)
          return;
      if (i.length == 2 && JSON.stringify(i) == "[\"M\",\"L\"]")
          return;
      var C = _.$.Rk(E.cpth.crds)
        , N = _.$.Rk(E.pth.crds);
      if (N.lx(C).OL())
          return;
      var k = E.pth;
      if (this.AG == null && UDOC.G.isBox(k, [N.x, N.y, N.x + N.d, N.y + N.v]) && N.rp(C)) {
          k = E.cpth
      } else
          this.UK(E);
      var V = this.uA(k)
        , j = _.$.X6(N);
      _.$.m(j.H, this.n1, j.H);
      N = _.$.Rk(j.H);
      var a = a_.N_(E.colr, this.n1, N)
        , e = this.PY()
        , L = e != null && e.opacity == Math.round(255 * E.ca) && e.add.vstk != null && !e.add.vstk.strokeEnabled.v && e.add.SoCo && a.type == "SoFi" && JSON.stringify(e.add.SoCo.Clr.v) == JSON.stringify(a.G.v.Clr.v);
      if (L) {
          var g = !1;
          for (var G = 0; G < V.length; G++) {
              if (V[G].A0 == 0 || V[G].A0 == 2)
                  g = !0
          }
          if (g) {
              var I = _.$.Rk(_.Y.ZX(e.add.vmsk.b))
                , h = _.$.Rk(_.Y.ZX(V));
              L = I.lx(h).OL()
          }
      }
      if (L) {
          var o = e.add.vmsk.b;
          for (var G = 2; G < V.length; G++)
              o.push(V[G])
      } else {
          e = this.I6();
          delete e.add.SoCo;
          e.add.vmsk.b = U.ql.MD(V);
          a_.mI(E.colr, e, this.n1, N);
          a_.cM(E, e)
      }
  }
  ;
  a_.mI = function(E, K, i, C) {
      var N = a_.N_(E, i, C)
        , k = null
        , V = null;
      K.add.vstk.fillEnabled.v = !0;
      if (N.type == "SoFi") {
          k = "SoCo";
          V = ao.wz
      }
      if (N.type == "GrFl") {
          k = "GdFl";
          V = ao.yI
      }
      if (N.type == "patternFill") {
          k = "PtFl";
          V = ao.TX
      }
      if (k != null) {
          K.add[k] = {
              classID: "null"
          };
          for (var G = 0; G < V.length; G++) {
              var j = V[G];
              K.add[k][j] = N.G.v[j]
          }
      }
  }
  ;
  a_.prototype.UK = function(E) {
      var K = this.im
        , i = E.cpth
        , C = i.cmds.join("")
        , N = i.crds
        , k = C + " " + N.join(",")
        , V = UDOC.G.isBox(i, this.ah0);
      if (V && this.AG == null)
          return;
      if (k == this.AG)
          return;
      this.f0();
      if (!V) {
          this.AG = k;
          K.t.push(K.Yy());
          var j = K.qV();
          j.gv("Mask");
          j.add.lsct = c5.Kw;
          j.SI = "pass";
          j.it = 24;
          var a = j.add.vmsk = new U.ql;
          a.b = this.uA(E.cpth);
          if (UDOC.G.isBox(i)) {
              this.Ei = _.Y.HD(a.b);
              this.Ei.Lv(3, 3)
          } else
              this.Ei = null;
          this.ai1 = j
      }
  }
  ;
  a_.prototype.f0 = function() {
      var E = this.im;
      if (this.AG != null) {
          var K = E.t.length - 1
            , G = K
            , i = !1;
          while (G >= 0 && E.t[G].add.lsct != c5.XG)
              G--;
          var C = this.Ei;
          if (C) {
              var N = new h4
                , k = K;
              while (k > G) {
                  N = E.t[k].p2(this.im, !1, !0);
                  k--
              }
              i = C.rp(N)
          }
          if (i) {
              this.fy.splice(G, 1);
              E.t.splice(G, 1)
          } else {
              E.t.push(this.ai1)
          }
          this.AG = null
      }
  }
  ;
  a_.N_ = function(E, K, i) {
      var C, N;
      if (E.length != null) {
          C = "SoFi";
          var k = JSON.parse(ao.Fc[ao.order.indexOf("SoFi")]);
          N = {
              t: "Objc",
              v: k
          };
          N.v.Clr.v = a_.kY(E)
      } else {
          var V = a_.a19(E, K, i);
          C = "GrFl";
          N = {
              t: "Objc",
              v: V
          }
      }
      return {
          type: C,
          G: N
      }
  }
  ;
  a_.a19 = function(E, K, i) {
      var C = JSON.parse(ao.Fc[ao.order.indexOf("GrFl")])
        , N = C.Grad.v;
      N.Intr.v = 0;
      var k = a_.Ih(E.mat);
      k.concat(K);
      var V = new bT(0,0)
        , j = new bT(i.d,0)
        , a = E.crds;
      if (E.typ == "rad") {
          C.Type.v.GrdT = "Rdl";
          var e = .7;
          V.x = (1 - e) * a[0] + e * a[3];
          V.y = (1 - e) * a[1] + e * a[4];
          j.x = V.x;
          j.y = V.y;
          j.x += Math.max(a[2], a[5])
      } else {
          C.Type.v.GrdT = "Lnr";
          V.x = a[0];
          V.y = a[1];
          j.x = a[2];
          j.y = a[3];
          V.x = j.x + .5 * (V.x - j.x);
          V.y = j.y + .5 * (V.y - j.y)
      }
      V = k.uZ(V);
      j = k.uZ(j);
      _.V.g3(V, j, i, C);
      var L = E.grad;
      _.V.xe(L, N);
      return C
  }
  ;
  a_.prototype.PutText = function(E, K, i, C) {
      var N = K.charCodeAt(0)
        , I = null;
      if (this.sS != -1 && this.sS != this.iN)
          return;
      if (K.length == 0 || K.length == 1 && (N == 0 || N == 8203))
          return;
      this.UK(E);
      var k = this.im
        , V = E.font
        , j = a_.Ih(E.ctm);
      j.concat(this.n1);
      var a = a_.Ih(V.Tm);
      a.concat(j);
      var e = u._.x$(a)
        , L = new fn(1 / e,0,0,-1 / e,0,0);
      L.concat(a);
      var g = V.Tfs * e;
      if (V.Th != 100 || V.Trise != 0) {
          console.log(V)
      }
      var h = k.t.length - 1;
      while (h >= 0 && k.t[h].add.TySh == null)
          h--;
      if (L.O * L.O + L.x9 * L.x9 < .001 && C == null && h >= 0 && k.t[h].add.TySh && k.t[h].opacity == Math.round(255 * E.ca)) {
          var o = k.t[h]
            , H = this.fy[h]
            , A = o.add.TySh.m
            , S = (A.vK + H.fW - L.vK) / g
            , v = Math.abs(S)
            , s = K.indexOf(" ") == -1
            , D = A.R == L.R && A.O == L.O && A.x9 == L.x9 && A.bI == L.bI
            , F = D && Math.abs(H.gp - L.Cz) < 1e-5 && v < .6
            , y = L.Cz - H.gp;
          if (F) {
              I = o;
              H.fW = L.vK - A.vK;
              if (S > .2 && s && [".", ",", "?", ":", "!"].indexOf(K) == -1)
                  K = " " + K
          } else if (D && Math.abs(L.vK - A.vK) < 1e-5 && 0 < y && y < g * 1.7 && H.a4L == g) {
              I = o;
              this.fr(H);
              H.gp = L.Cz;
              K = "\n" + K
          }
      }
      if (I == null) {
          h = k.t.length;
          this.fy[h] = {
              db: [],
              fW: 0,
              gp: L.Cz,
              g4: "",
              a4L: g
          };
          I = k.qV();
          k.t.push(I);
          I.add.lnsr = "rend";
          I.add.TySh = cO.u3(0, 0);
          I.add.TySh.m = L
      }
      var H = this.fy[h];
      H.fW += i * g;
      H.g4 += K;
      var T = I.add.TySh.Ou
        , Q = cO.Es(T);
      if (C) {
          cO.kw(T, 1);
          var B = [0, 0, Math.ceil(C[0] * e), Math.ceil(C[1] * e)];
          cO.Bk(T, B)
      }
      var r = Q.length - 1
        , J = r + K.length;
      cO.qu(T, r, K);
      if (this.d0 == null)
          this.d0 = cO.UX(T, r, r);
      var m = this.d0;
      m.dP.FontSize = Math.round(g);
      m.dP.Tracking = Math.round(V.Tc * 100);
      m.dP.Underline = V.Tun == 1;
      m.dP.FillColor = {
          Type: 1,
          Values: [1, E.colr[0], E.colr[1], E.colr[2]]
      };
      if (V.Tal != null)
          m.oN.Justification = V.Tal;
      if (H.db.length != 0) {
          m.dP.AutoLeading = !1;
          m.dP.Leading = H.gp - H.db[H.db.length - 1].y
      }
      var x = V.Tf;
      x = x.replace(/#2B/g, "+");
      x = x.replace(/#2C/g, "-");
      x = x.split("+").pop();
      var R = {
          "NimbusRomNo9L-Medi": "NimbusRomNo9L-Med",
          "NimbusRomNo9L-Regu": "NimbusRomNo9L-Reg",
          "NimbusRomNo9L-MediItal": "NimbusRomNo9L-MedIta",
          "NimbusRomNo9L-ReguItal": "NimbusRomNo9L-RegIta",
          CMTT9: "NimbusMono-Regular",
          Arial: "ArialMT",
          "BebasNeue-Regular": "BebasNeueRegular"
      };
      if (R[x])
          x = R[x];
      cO.Ui(m, x);
      cO.Wk(T, r, J - 1, m);
      I.IL();
      I.opacity = Math.round(255 * E.ca)
  }
  ;
  a_.prototype.fr = function(E) {
      E.db.push({
          jx: E.fW,
          yH: E.g4.slice(E.db.length == 0 ? 0 : 1) + "\n",
          y: E.gp,
          Us: E.a4L
      });
      E.fW = 0;
      E.g4 = ""
  }
  ;
  a_.prototype.PutImage = function(E, K, i, C, N, k, V) {
      if (this.sS != -1 && this.sS != this.iN)
          return;
      var j = this.im
        , a = E.font.Tmode;
      if (a == 7 && j.t[j.t.length - 1].add.TySh) {
          return
      }
      this.UK(E);
      var e = a_.Ih(E.ctm);
      e.concat(this.n1);
      var L = new fn(1 / i,0,0,-1 / C,0,1);
      L.concat(e);
      e = L;
      K = a_.L0(K, i, C);
      if (N)
          N = a_.L0(N, i, C);
      if (N == null) {
          if (K.length == i * C * 4)
              K = new Uint8Array(fb.vG("PNG").PW([[K.buffer, 0]], i, C))
      } else {
          K = this.yt(K, i, C, k, !1);
          N = this.yt(N, i, C, V, !0);
          var g = _.I(i * C);
          _.wF(N, g, 0);
          _.lM(g, K, 3);
          K = new Uint8Array(fb.vG("PNG").PW([[K.buffer, 0]], i, C))
      }
      var I = j.Yn(K, "Bitmap", 0, 0)
        , h = I.rect.clone();
      h.x = h.y = 0;
      var o = _.$.X6(h).H;
      _.$.m(o, e, o);
      I.add.SoLd.Trnf = u._.j6(o);
      I.add.SoLd.nonAffineTransform = u._.j6(o);
      I.z_(j, !1);
      a_.cM(E, I);
      j.t.push(I)
  }
  ;
  a_.cM = function(E, K) {
      K.opacity = Math.round(255 * E.ca);
      var i = a_.Fz[E.bmode];
      if (i == null)
          console.log("Unknown blend mode", i);
      else
          K.SI = i
  }
  ;
  a_.Fz = {
      "/Normal": "norm",
      "/Multiply": "mul ",
      "/Screen": "scrn",
      "/Overlay": "over",
      "/Darken": "dark",
      "/Lighten": "lite",
      "/ColorDodge": "div ",
      "/ColorBurn": "idiv",
      "/HardLight": "hLit",
      "/SoftLight": "sLit",
      "/Difference": "diff",
      "/Exclusion": "smud",
      "/Hue": "hue ",
      "/Saturation": "sat ",
      "/Color": "colr",
      "/Luminosity": "lum "
  };
  a_.ef = function(E) {
      for (var K in a_.Fz)
          if (a_.Fz[K] == E)
              return K
  }
  ;
  a_.L0 = function(E, K, i) {
      var C = fb.e1(E.buffer);
      if (C == "jpg") {
          try {
              E = new Uint8Array(fb.vG("JPG").a8B(E.buffer))
          } catch (i2) {
              E = new Uint8Array(K * i * 4)
          }
      } else if (E.length != K * i * 4) {
          var N = new Uint8Array(K * i * 4)
            , k = new Uint8Array(Math.ceil(K * i / 8));
          UTIF.decode._decodeG4(E, 0, E.length, k, 0, K, 1);
          for (var G = 0; G < K * i; G++) {
              var V = G * 4
                , j = (k[G >> 3] >> 7 - (G & 7) & 1) * 255;
              N[V] = j;
              N[V + 1] = j;
              N[V + 2] = j;
              N[V + 3] = 255
          }
          E = N
      }
      return E
  }
  ;
  a_.prototype.yt = function(E, K, i, C, N) {
      if (E.length != K * i * 4) {
          var k = fb.e1(E.buffer)
            , V = fb.vG(k);
          if (V == null || k == "tga")
              V = fb.vG("jpg");
          E = new Uint8Array(V.VA(E, C, N)[0].data)
      }
      return E
  }
  ;
  a_.prototype.ShowPage = function() {
      var E = this.im;
      this.iN++;
      var K = this.TJ;
      this.f0();
      var i = E.qV();
      E.t.push(i);
      var C = new h4(Math.round(this.P_.x),Math.round(this.P_.y),Math.round(K[2] - K[0]),Math.round(K[3] - K[1]));
      this.Yu = this.Yu.ip(C);
      i.Xx(C);
      i.add.artb.artboardBackgroundType.v = 3;
      i.gv("Page " + this.iN);
      i.add.lsct = c5.Kw;
      i.SI = "pass";
      i.it = 24
  }
  ;
  a_.prototype.Print = function(E) {
      console.log("Print:", E)
  }
  ;
  a_.prototype.Done = function() {
      var E = this.im;
      if (this.iN == 1)
          E.t[E.t.length - 1].add.lsct = c5.qd;
      E.Wl(this.iN);
      for (var G = 0; G < E.t.length; G++) {
          var K = E.t[G]
            , i = K.add.vmsk
            , C = K.add.TySh
            , N = this.fy[G];
          K.cE();
          if (i) {
              var k = !1;
              for (var V = 0; V < i.b.length; V++) {
                  var j = i.b[V];
                  if ((j.type == 0 || j.type == 3) && j.length > 32767)
                      k = !0
              }
              if (k) {
                  E.t.splice(G, 1);
                  G--;
                  continue
              }
          }
          K.Kf(E);
          if (C && N.db.length != 0) {
              this.fr(N);
              var a = C.Ou
                , e = N.db.length
                , L = N.db[0]
                , g = 0
                , I = 0;
              for (var V = 0; V < e; V++)
                  g = Math.max(g, N.db[V].jx);
              cO.kw(a, 1);
              C.m.Cz -= L.Us * .7;
              cO.Bk(a, [0, 0, Math.ceil(g * 1.1), Math.ceil(N.db[e - 1].y - L.y + L.Us * 2)])
          }
          if (C) {
              var a = C.Ou;
              cO.aag(a);
              var h = cO.Es(a).split("\n");
              for (var V = 0; V < h.length - 1; V++) {
                  var o = h[V]
                    , H = 0;
                  for (var A = 0; A < o.length; A++) {
                      var S = o.charCodeAt(A);
                      if (1473 <= S && S <= 1524)
                          H++
                  }
                  if (H > o.length / 2) {
                      h[V] = o.split("").reverse().join("");
                      var v = a.EngineDict.ParagraphRun.RunArray[V].ParagraphSheet.Properties;
                      v._Direction = 1;
                      v.Justification = cO.gF(v)
                  }
              }
              cO.LH(a, h.join("\n"))
          }
      }
      E.BJ = !0;
      E.d = this.Yu.d;
      E.v = this.Yu.v;
      E.buffer = _.I(this.Yu.X() * 4)
  }
  ;
  var dt = {};
  dt.fD = function(E, K, i, C) {
      var N = !1
        , k = [E.root]
        , V = E.root.children;
      if (E.add.artd) {
          N = !0;
          for (var G = 0; G < V.length; G++)
              if (V[G].z.add.artb == null)
                  N = !1;
          if (N)
              k = V
      }
      var j = new h4(0,0,E.d,E.v)
        , a = K[0];
      a = a.replace(/,/g, " ").replace(/\-/g, " - ").replace(/  +/g, " ").trim();
      a = a.split(" ");
      var e = [];
      for (var G = 0; G < a.length; G++) {
          var L = a[G];
          if (L == "-") {
              var g = e.pop()
                , I = parseInt(a[G + 1]);
              while (g < I) {
                  e.push(g);
                  g++
              }
          } else
              e.push(parseInt(L))
      }
      a = e;
      for (var G = 0; G < a.length; G++)
          if (isNaN(a[G]) || a[G] < 1 || a[G] > k.length) {
              a.splice(G, 1);
              G--
          }
      var h = 72 / E.v9;
      for (var G = 0; G < k.length; G++) {
          if (a.length != 0 && a.indexOf(G + 1) == -1)
              continue;
          var o = k[G]
            , H = N ? o.z.vH() : j
            , A = Math.round(H.d * h)
            , S = Math.round(H.v * h);
          i.StartPage(0, 0, A, S);
          var v = UDOC.getState([[0, 0, A, S]])
            , s = new fn;
          s.translate(-H.x, -H.y - H.v);
          s.scale(h, -h);
          if (K[2]) {
              var D = E.A7();
              if (!j.Ql(H)) {
                  D = _.I(H.X() * 4);
                  _.p8(E.A7(), j, D, H)
              }
              if (K[1] != 100) {
                  var F = fb.vG("JPG").PW([[D.buffer]], H.d, H.v, [K[1]]);
                  D = new Uint8Array(F)
              }
              var y = new fn;
              y.translate(H.x, H.y);
              dt.yp(v, i, D, H, y, s)
          } else
              dt._5(E, o, v, i, s, K, C);
          i.ShowPage()
      }
      i.Done()
  }
  ;
  dt.FG = function(E) {
      E = _.V.Gk(E);
      return [E.h / 255, E.l / 255, E.O / 255]
  }
  ;
  dt._5 = function(E, K, i, C, N, k, V) {
      var j = K.z, a = j.add.lsct, e = j.add.lmfx, L = j.add.vmsk, g = j.add.vstk, I = j.add.TySh, A, S;
      if (!j.VD())
          return;
      var h = j.opacity / 255
        , o = j.add.iOpa ? j.add.iOpa / 255 : 1;
      i.bmode = a_.ef(j.SI);
      i.ca = i.CA = h * o;
      var H = e;
      if (H)
          H = H.solidFillMulti.v[0];
      if (H)
          H = H.v;
      if (H && !H.enab.v)
          H = null;
      if (j.yZ() && !j.Uf()) {
          A = _.I(j.rect.X());
          _.wF(j.buffer, A, 3);
          S = h$.IY(e, null, A, j.rect, E, j.rect).type
      }
      if (S)
          dt.ox(j, A, S, i, C, N, k, !0);
      if (j.Uf()) {
          for (var G = 0; G < K.children.length; G++)
              dt._5(E, K.children[G], i, C, N, k, V)
      } else if (L) {
          var v = L.b
            , s = _.Y.HD(v)
            , D = _.$.bF(v)
            , F = !1
            , y = !1
            , T = !1;
          _.$.m(D.H, N, D.H);
          i.pth = {
              cmds: D.Z,
              crds: D.H
          };
          if (g.fillEnabled.v) {
              var Q = h$.l5(e, j.add)
                , B = Q[0]
                , r = Q[1];
              if (B) {
                  i.colr = dt.FG(B.Clr.v)
              } else if (r) {
                  var J = r, m = [], x, R = J.Type.v.GrdT == "Rdl" ? "rad" : "lin", b = _.V.TO(J, s), z = N.uZ(b[0]), $ = N.uZ(b[1]);
                  if (R == "rad")
                      x = [z.x, z.y, 0, z.x, z.y, bT.zL(z, $)];
                  else {
                      z.Wm($.x + (z.x - $.x) * 2, $.y + (z.y - $.y) * 2);
                      x = [z.x, z.y, $.x, $.y]
                  }
                  var P = J.Grad.v.Clrs.v;
                  for (var G = 0; G < P.length; G++) {
                      var t = P[G].v;
                      m.push([t.Lctn.v / 4096, dt.FG(t.Clr.v)])
                  }
                  i.colr = {
                      typ: R,
                      mat: [1, 0, 0, 1, 0, 0],
                      grad: m,
                      crds: x
                  }
              }
              F = !0
          }
          var X = h$.m2(e);
          if (!g.strokeEnabled.v && X)
              g = X;
          if (g.strokeEnabled.v) {
              var Z = g.strokeStyleContent.v
                , p = g.strokeStyleLineDashSet.v
                , gl = ao.S6.Ee.indexOf(g.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
              if (Z.Clr == null)
                  return;
              var f = _.V.Gk(Z.Clr.v);
              i.COLR = [f.h / 255, f.l / 255, f.O / 255];
              i.lwidth = g.strokeStyleLineWidth.v.val * (gl == 2 ? 2 : 1) * N.x$();
              i.mlimit = g.strokeStyleMiterLimit.v;
              i.doff = g.strokeStyleLineDashOffset.v.val;
              i.ljoin = ao.S6.join.indexOf(g.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
              i.lcap = ao.S6.mN.indexOf(g.strokeStyleLineCapType.v.strokeStyleLineCapType);
              i.dash = [];
              for (var G = 0; G < p.length; G++)
                  i.dash.push(p[G].v.val * i.lwidth);
              if (i.dash.length == 1 && i.dash[0] == 0)
                  i.dash = [];
              y = !0;
              if (gl == 2)
                  T = !0
          }
          if (F && !T)
              C.Fill(i);
          if (y)
              C.Stroke(i);
          if (F && T)
              C.Fill(i)
      } else if (I && k[4]) {
          var cY = I.Ou
            , fC = new g_(cY,V)
            , D = dR.Nr(fC, I)
            , hi = _.$.yD(D);
          for (var f in hi) {
              var es = parseInt(f.slice(1), 16);
              i.colr = H ? dt.FG(H.Clr.v) : [(es >>> 16 & 255) / 255, (es >>> 8 & 255) / 255, (es & 255) / 255];
              var W = hi[f];
              _.$.m(W.H, N, W.H);
              W = _.$.a8P(W);
              i.pth = {
                  cmds: W.Z,
                  crds: W.H
              };
              C.Fill(i)
          }
      } else if (I && k[3] == !1) {
          var cY = I.Ou
            , d = I.m.clone()
            , fM = new fn(1,0,0,-1,0,0);
          fM.concat(d);
          fM.concat(N);
          var n = cO.Es(cY)
            , fC = new g_(cY,V);
          for (var G = 0; G < fC.oN.length; G++) {
              var ax = fC.oN[G];
              if (ax.Gt.length == 1 && ax.Gt[0].gG)
                  continue;
              for (var d_ = 0; d_ < ax.Pg.length; d_++) {
                  var cm = ax.Pg[d_]
                    , c4 = ax.Mf.y + cm.Mf.y
                    , ch = ax.Gt[cm.start].start
                    , hQ = ax.Gt[cm.end - 1].end
                    , em = cO.a2O(cY, ch, hQ);
                  for (var ag = 0; ag < em.length; ag++) {
                      var am = fC._r(ch)
                        , bK = em[ag]
                        , ei = cO.UX(cY, ch, ch)
                        , dL = ei.gx[ei.dP.Font].Name;
                      i.font.Tf = dL;
                      var f = cO.Gk(ei.dP);
                      i.colr = H ? dt.FG(H.Clr.v) : [f.h / 255, f.l / 255, f.O / 255];
                      i.font.Tfs = Math.round(ei.dP.FontSize);
                      var fh = n.slice(ch, ch + bK);
                      if (ei.dP.FontCaps == 2)
                          fh = fh.toUpperCase();
                      var eu = new fn;
                      eu.translate(am.g.x, -c4);
                      eu.concat(fM);
                      i.ctm = [eu.R, eu.O, eu.x9, eu.bI, eu.vK, eu.Cz];
                      C.PutText(i, fh, 0);
                      i.ctm = [1, 0, 0, 1, 0, 0];
                      ch += bK
                  }
              }
          }
      } else if (!j.rect.OL()) {
          var hf, iS, aI = !1, gn = new fn;
          if (j.add.SoLd) {
              var ce = j.add.SoLd
                , gr = ce.Idnt.v
                , ek = E.ez(gr, ce.Crop ? ce.Crop.v : null)
                , bG = "";
              if (ek == null)
                  return;
              var bJ = ek.Y0
                , aN = fb.e1(ek.raw.buffer);
              if (k[5].indexOf(aN) != -1) {
                  hf = ek.raw;
                  aI = !0
              } else
                  hf = bJ[0];
              iS = bJ[1];
              gn = _.J.N6(ce)
          } else {
              hf = j.buffer;
              iS = j.rect;
              gn.translate(iS.x, iS.y)
          }
          if (H && !aI)
              hf = h$.FP(hf, H, iS);
          dt.yp(i, C, hf, iS, gn, N);
          if (H && aI) {
              var x = [0, 0, iS.d, 0, iS.d, iS.v, 0, iS.v];
              _.$.m(x, gn, x);
              _.$.m(x, N, x);
              var aQ = JSON.parse(JSON.stringify(i));
              aQ.ca = H.Opct.v.val / 100;
              aQ.pth = {
                  cmds: ["M", "L", "L", "L", "Z"],
                  crds: x
              };
              aQ.colr = dt.FG(H.Clr.v);
              C.Fill(aQ)
          }
      }
      if (S)
          dt.ox(j, A, S, i, C, N, k, !1)
  }
  ;
  dt.ox = function(E, K, i, C, N, k, V, j) {
      var a = E.rect.clone()
        , e = K;
      if (E.add.TySh && !V[3] && !V[4])
          return;
      console.log(V);
      var L = C.ca
        , g = C.bmode;
      for (var G = ao.order.length - 1; G >= 0; G--) {
          var I = ao.order[G];
          if (I == "GrFl" || I == "SoFi")
              continue;
          if (E.add.vmsk && I == "FrFX")
              continue;
          var h = i[I]
            , o = G > 7 || I == "FrFX";
          if (o != j)
              continue;
          for (var H = 0; H < h.length; H++) {
              var A = h[H];
              console.log(o, I, A);
              var S = A.Hg.clone();
              S.offset(E.rect.x, E.rect.y);
              if (!o) {
                  if (!a.rp(S)) {
                      var v = a.ip(S)
                        , s = _.I(v.X());
                      _.ie(e, a, s, v);
                      e = s;
                      a = v
                  }
                  _.qY(e, a, A.OR, S)
              }
              if (o && I == "FrFX" && A.ps)
                  _.qY(A.ps, S, A.OR, S);
              var D = new fn;
              D.translate(S.x, S.y);
              C.ca = A.bH;
              C.bmode = a_.ef(A.Lh);
              dt.yp(C, N, A.OR, S, D, k)
          }
      }
      C.ca = L;
      C.bmode = g
  }
  ;
  dt.yp = function(E, K, i, C, N, k) {
      var V = new fn;
      V.scale(C.d, -C.v);
      V.translate(0, C.v);
      V.concat(N);
      V.concat(k);
      E.ctm = [V.R, V.O, V.x9, V.bI, V.vK, V.Cz];
      K.PutImage(E, i, C.d, C.v);
      E.ctm = [1, 0, 0, 1, 0, 0]
  }
  ;
  var h3 = {};
  h3.sQ = function(E) {
      var K = new Uint8Array(E);
      return h3.yb(K, 0)
  }
  ;
  h3.yb = function(E, K) {
      var i = O.n
        , C = O.zV
        , N = {
          V3: C(E, K, 4),
          i: K + 8,
          size: i(E, K + 4)
      }
        , k = N.V3 == "FORM" || N.V3 == "LIST" || N.V3 == "CAT ";
      if (k)
          N.gk = C(E, K + 8, 4);
      if (N.size < 0 || N.i + N.size > E.length)
          throw "e";
      if (k) {
          N.sub = [];
          K += 12;
          var V = N.i + N.size;
          while (K < V) {
              var j = h3.yb(E, K);
              N.sub.push(j);
              K += 8 + j.size + (j.size & 1)
          }
      }
      return N
  }
  ;
  var iJ = {};
  iJ.sQ = function(E, K) {
      var i = new Uint8Array(E);
      return iJ.yb(i, 0, K)
  }
  ;
  iJ.yb = function(E, K, i) {
      var C = O.n$
        , N = O.zV
        , k = {
          V3: N(E, K, 4),
          i: K + 8,
          size: C(E, K + 4)
      };
      if (i && i[k.size] != null)
          k.size = i[k.size];
      if (k.V3 == "RIFF" || k.V3 == "LIST") {
          k.gk = N(E, K + 8, 4)
      }
      if (k.size < 0 || k.i + k.size > E.length)
          throw "e";
      if (k.V3 == "RIFF" || k.V3 == "LIST" && (k.gk != "cmpr" && k.gk != "stlt")) {
          k.sub = [];
          K += 12;
          var V = k.i + k.size;
          while (K < V) {
              var j = iJ.yb(E, K, i);
              k.sub.push(j);
              K += 8 + j.size + (j.size & 1)
          }
      }
      return k
  }
  ;
  var h3 = {};
  h3.sQ = function(E) {
      var K = new Uint8Array(E);
      return h3.yb(K, 0)
  }
  ;
  h3.yb = function(E, K) {
      var i = O.n
        , C = O.zV
        , N = {
          V3: C(E, K, 4),
          i: K + 8,
          size: i(E, K + 4)
      }
        , k = N.V3 == "FORM" || N.V3 == "LIST" || N.V3 == "CAT ";
      if (k)
          N.gk = C(E, K + 8, 4);
      if (N.size < 0 || N.i + N.size > E.length)
          throw "e";
      if (k) {
          N.sub = [];
          K += 12;
          var V = N.i + N.size;
          while (K < V) {
              var j = h3.yb(E, K);
              N.sub.push(j);
              K += 8 + j.size + (j.size & 1)
          }
      }
      return N
  }
  ;
  function b3() {}
  b3.sQ = function(E, K) {
      var i = new Uint8Array(E);
      K.BJ = !0;
      var C = O.zV(i, 0, 2);
      if (C == "WL") {
          alert("Unsupported CDR version")
      } else {
          var N = b3.Ki
            , k = iJ.sQ(i.buffer)
            , V = {
              data: i,
              i: 0,
              Zv: b3.a5b(i[11])
          }
            , I = 300;
          V.ni = V.Zv < 600 ? 16 : 32;
          b3.Zw(V, k.sub, K, 0);
          var j = N(k, "cmpr").sub
            , a = j[0]
            , e = j.slice(1)
            , L = N(a, "mcfg").G
            , g = L.aap;
          I /= f7.$l(new h4(0,0,Math.round(g.x * I),Math.round(g.y * I)), 8192 * 8192);
          var h = Math.round(g.x * I)
            , o = Math.round(g.y * I);
          K.d = h;
          K.v = o;
          K.buffer = _.I(K.d * K.v * 4);
          var H = N(a, "filt").sub
            , A = N(a, "otlt").sub;
          a.$0 = {};
          for (var G = 0; G < H.length; G++)
              a.$0[H[G].sub[0].G.id] = H[G].sub[0].G;
          a.XU = {};
          for (var G = 0; G < A.length; G++)
              a.XU[A[G].G.id] = A[G].G;
          var S = new fn(I,0,0,-I,g.x * I / 2,g.y * I / 2)
            , v = e[1];
          b3.$D(v, a, K, S);
          K.Wl(1);
          K.t[K.t.length - 1].Xx(new h4(0,0,h,o))
      }
  }
  ;
  b3.Ki = function(E, K) {
      var i = null;
      for (var G = 0; G < E.sub.length; G++) {
          var C = E.sub[G];
          if (C.V3 == K || C.gk == K)
              i = C
      }
      return i
  }
  ;
  b3.$D = function(E, K, i, C) {
      var N = b3.Ki, k = E.gk ? E.gk : E.V3, V = N(E, "lgob"), j = N(E, "txsm"), a, e;
      if (V) {
          a = N(V, "trfl");
          e = N(V, "loda")
      }
      var L = a ? a.sub[0].w3.clone() : new fn;
      L.concat(C);
      var g = i.qV();
      if (k == "page" || k == "layr" || k == "grp ") {
          g.gv((k == "page" ? "Page" : "Group") + " " + i.t.length);
          g.add.lsct = c5.qd;
          g.SI = "pass";
          g.it = 24;
          var I = [];
          if (k == "page")
              I = N(E, "gobj").sub;
          if (k == "layr")
              I = E.sub.slice(2);
          if (k == "grp ")
              I = E.sub.slice(4);
          if (I.length == 0)
              return;
          i.t.push(i.Yy());
          for (var G = I.length - 1; G >= 0; G--)
              b3.$D(I[G], K, i, C)
      } else if (k == "obj " && e.G && e.G.path) {
          g.gv("Object " + i.t.length);
          var h = K.$0[e.G.adH]
            , o = K.XU[e.G.a8j]
            , H = g.getName()
            , A = h && h.type != 0
            , S = A && h.G != null ? h.G : [0, 0, 0];
          g.it |= 16;
          g.add.vstk = JSON.parse(JSON.stringify(ao.S6.default));
          var v = g.add.vstk;
          v.strokeEnabled.v = !1;
          g.add.vmsk = new U.ql;
          if (o && o.a0$ != 1) {
              v.strokeEnabled.v = !0;
              v.strokeStyleLineAlignment.v.strokeStyleLineAlignment = "strokeStyleAlignCenter";
              v.strokeStyleLineWidth.v.val = o.lineWidth * C.x$();
              var s = o.color;
              v.strokeStyleContent.v.Clr.v = _.V.VQ({
                  h: s[0] * 255,
                  l: s[1] * 255,
                  O: s[2] * 255
              })
          }
          var D = e.G.path;
          g.add.vmsk.b = _.$.rh(D, !1);
          _.Y.aW(g.add.vmsk.b, L);
          a_.mI(S, g, L, _.Y.HD(g.add.vmsk.b));
          v.fillEnabled.v = A;
          g.cE();
          g.Kf(i)
      } else if (k == "obj " && j) {
          var F = e.G.a7w
            , y = e.G.ajX
            , B = "";
          g.add.TySh = cO.u3(0, 0);
          var T = L.x$();
          g.add.TySh.m.translate(L.vK, L.Cz);
          var Q = g.add.TySh.Ou
            , r = j.G.aeQ;
          for (var G = 0; G < r.length; G++) {
              var J = r[G]
                , m = B.length;
              B += J.text + "\n";
              cO.qu(Q, m, J.text + "\n");
              var x = b3.a5L(J.aiH, K)
                , R = cO.UX(Q, m, B.length);
              if (x.align == 3)
                  R.oN.Justification = 1;
              else
                  R.oN.Justification = 0;
              var b = x.fill.G;
              R.dP.FillColor = {
                  Type: 1,
                  Values: [1, b[0], b[1], b[2]]
              };
              R.dP.FontSize = Math.round(x.aej.fontSize * L.x$());
              cO.Wk(Q, m, B.length - 1, R)
          }
          if (y) {
              cO.kw(Q, 0)
          } else {
              cO.kw(Q, 1);
              cO.Bk(Q, [0, 0, Math.round(F.x * L.R), Math.round(-F.y * L.bI)])
          }
          g.gv(B.slice(0, 10))
      } else {
          g = null
      }
      if (g)
          i.t.push(g)
  }
  ;
  b3.a5L = function(E, K) {
      var i = b3.Ki(K, "stlt").G
        , C = JSON.parse(JSON.stringify(i.i$[E]));
      if (C.uv != 0) {
          var N = i.i$[C.uv];
          for (var k in N)
              if (C[k] == null || C[k] == 0)
                  C[k] = N[k];
          delete C.uv
      }
      C.align = i.aj7[C.ahF];
      C.fill = K.$0[i.a9B[C.a9l]];
      C.ame = K.XU[i.a0W[C.a21]];
      C.aej = i.a1t[C.ahE];
      return C
  }
  ;
  b3.a1r = function(G) {
      var l = G.data[G.i];
      G.i += 1;
      return l
  }
  ;
  b3.wf = function(G) {
      var l = O.od(G.data, G.i);
      G.i += 2;
      return l
  }
  ;
  b3.ek = function(G) {
      var l = O.n$(G.data, G.i);
      G.i += 4;
      return l
  }
  ;
  b3.adN = function(G) {
      var l = O.n$(G.data, G.i);
      G.i += 8;
      return l
  }
  ;
  b3.WJ = function(G) {
      var l = O.K5(G.data, G.i);
      G.i += 2;
      return l
  }
  ;
  b3._g = function(G) {
      var l = O.WI(G.data, G.i);
      G.i += 4;
      return l
  }
  ;
  b3.AN = function(G) {
      var l = O.aab(G.data, G.i);
      G.i += 8;
      return l
  }
  ;
  b3.eb = function(G) {
      if (G.i >= G.data.length)
          throw "e";
      var E = 0;
      while (G.data[G.i + E] != 0)
          E++;
      var K = O.zV(G.data, G.i, E);
      G.i += E + 1;
      return K
  }
  ;
  b3.a76 = function(E) {
      if (E.Zv < 600)
          return Math.PI * b3.WJ(E) / 1800;
      return Math.PI * b3._g(E) / 18e7
  }
  ;
  b3.afj = function(E) {
      if (E.Zv < 1500)
          return b3.co(E);
      else
          return b3.AN(E) / 254e3
  }
  ;
  b3.co = function(E) {
      if (E.Zv < 600)
          return b3.WJ(E) / 1e3;
      else
          return b3._g(E) / 254e3
  }
  ;
  b3.ajY = function(E) {
      if (E.Zv < 600)
          return CRDParser.wf(E);
      else
          return b3.ek(E)
  }
  ;
  b3.amB = function(E) {
      if (E.Zv < 600)
          return CRDParser.WJ(E);
      else
          return b3._g(E)
  }
  ;
  b3.Zw = function(E, K, i, C) {
      var N = b3
        , k = N.a1r
        , V = N.wf
        , j = N.ek
        , a = N.adN
        , e = N.WJ
        , L = N._g
        , g = N.AN
        , I = N.co
        , h = N.afj
        , o = N.a76
        , H = N.ajY
        , A = N.amB;
      for (var S = 0; S < K.length; S++) {
          var v = E.Zv
            , s = K[S];
          E.i = s.i + (s.V3 == "LIST" ? 4 : 0);
          if (s.V3 == "vrsn") {
              var D = V(E);
              E.Zv = D;
              console.log("Version", D);
              E.ni = D < 600 ? 16 : 32
          } else if (s.V3 == "DISP") {} else if (s.V3 == "LIST" && s.gk == "cmpr") {
              var F = j(E)
                , y = j(E)
                , T = j(E)
                , Q = j(E)
                , B = new Uint8Array(E.data.buffer,E.i + 8 + 2,F - 6 - 8)
                , r = pako.inflateRaw(B)
                , R = 0;
              E.i += F;
              B = new Uint8Array(E.data.buffer,E.i + 8 + 2);
              var J = pako.inflateRaw(B)
                , m = [];
              for (var x = 0; x < J.length; x += 4)
                  m.push(O.n$(J, x));
              s.sub = [];
              while (R < r.length) {
                  var b = iJ.yb(r, R, m);
                  R = b.i + b.size;
                  s.sub.push(b)
              }
              var z = {
                  data: r,
                  i: 0,
                  Zv: v,
                  ni: E.ni
              };
              b3.Zw(z, s.sub, i, C + 1)
          } else if (s.V3 == "LIST" && s.gk == "stlt") {
              var $ = E.i
                , n = 32;
              s.G = {};
              var P = j(E);
              if (P == 0)
                  return;
              s.G.a9B = b3.EN(E, v >= 1300);
              s.G.a0W = b3.EN(E);
              s.G.a1t = {};
              var t = j(E);
              for (var G = 0; G < t; G++) {
                  var X = j(E);
                  E.i += v < 1e3 ? 12 : 20;
                  var Z = V(E)
                    , p = V(E);
                  E.i += 8;
                  var gl = I(E);
                  E.i += v < 1e3 ? 12 : 20;
                  s.G.a1t[X] = {
                      ajC: Z,
                      anD: p,
                      fontSize: gl
                  }
              }
              s.G.aj7 = b3.EN(E);
              var f = j(E);
              E.i += 52 * f;
              var cY = j(E);
              E.i += 152 * cY;
              var fC = j(E);
              E.i += 784 * fC;
              var hi = j(E);
              for (var G = 0; G < hi; G++) {
                  E.i += 40;
                  if (v > 1300)
                      E.i += 4;
                  if (v >= 1300) {
                      if (j(E))
                          E.i += 68;
                      else
                          E.i += 12
                  } else {
                      E.i += 20;
                      if (v >= 1e3)
                          E.i += 8;
                      if (j(E))
                          E.i += 8;
                      E.i += 8
                  }
              }
              var es = j(E);
              s.G.aik = {};
              for (var G = 0; G < es; G++) {
                  var W = j(E)
                    , d = {};
                  E.i += 12;
                  d.right = I(E);
                  d.adr = I(E);
                  d.left = I(E);
                  s.G.aik[W] = d
              }
              var fM = j(E);
              if (v >= 1300)
                  n += 4;
              E.i += n * fM;
              var ax = j(E);
              E.i += 28 * ax;
              if (v > 800) {
                  var d_ = j(E);
                  E.i += 12 * d_
              }
              s.G.i$ = {};
              for (var G = 0; G < P; G++) {
                  var cm = j(E)
                    , c4 = j(E)
                    , ch = {};
                  ch.uv = j(E);
                  E.i += 8;
                  var hQ = j(E);
                  if (v >= 1200)
                      hQ *= 2;
                  E.i += hQ;
                  ch.a9l = j(E);
                  ch.a21 = j(E);
                  if (cm > 1) {
                      ch.ahE = j(E);
                      ch.ahF = j(E);
                      ch.ag4 = j(E);
                      ch.aaC = j(E);
                      if (v > 800)
                          ch.a5g = j(E)
                  }
                  if (cm > 2) {
                      ch.al2 = j(E);
                      ch.agh = j(E);
                      ch.a9R = j(E);
                      ch.agH = j(E);
                      ch.aa8 = j(E)
                  }
                  s.G.i$[c4] = ch
              }
          } else if (s.V3 == "LIST")
              b3.Zw(E, s.sub, i, C + 1);
          else if (s.V3 == "txsm") {
              s.G = {};
              if (v < 600)
                  throw "e";
              if (v < 700)
                  throw "e";
              if (v >= 1600)
                  throw "e";
              if (v >= 1500)
                  E.i += 37;
              else
                  E.i += 36;
              if (j(E)) {
                  if (v < 800)
                      E.i += 32
              }
              if (v < 800)
                  E.i += 4;
              s.G.a3h = j(E);
              s.G.aeQ = [];
              E.i += 48;
              if (v >= 800) {
                  if (j(E)) {
                      E.i += 32;
                      if (v >= 1300)
                          E.i += 8
                  }
              }
              if (v >= 1500)
                  E.i += 12;
              var cm = j(E)
                , em = 1
                , ag = !1;
              if (!cm) {
                  if (v >= 800)
                      E.i += 4;
                  if (v > 800)
                      E.i += 2;
                  if (v >= 1400)
                      E.i += 2;
                  E.i += 24;
                  if (v < 800)
                      E.i += 8;
                  em = j(E)
              }
              for (var x = 0; x < em; x++) {
                  var am = j(E)
                    , G = 0;
                  if (v >= 1300 && cm)
                      E.i++;
                  E.i++;
                  var P = j(E)
                    , bK = [];
                  for (G = 0; G < P; G++) {
                      var ei = k(E)
                        , fh = 0;
                      k(E);
                      var dL = k(E);
                      if (v >= 800)
                          fh = k(E);
                      var ch = {};
                      if (dL & 1) {
                          ch.ajC = V(E);
                          var eu = V(E);
                          if (eu)
                              ch.a6G = eu
                      }
                      if (dL & 2)
                          E.i += 4;
                      if (dL & 4)
                          ch.amb = I(E);
                      if (dL & 8)
                          E.i += 4;
                      if (dL & 16)
                          E.i += 4;
                      if (dL & 32)
                          E.i += 4;
                      if (dL & 64) {
                          ch.a9l = j(E);
                          if (v >= 1500)
                              E.i += 48
                      }
                      if (dL & 128) {
                          ch.a21 = j(E)
                      }
                      if (fh & 8) {
                          if (v >= 1300) {
                              var hf = j(E);
                              if (E.i + hf * 2 >= E.data.length) {
                                  ag = !0;
                                  break
                              }
                              E.i += hf * 2
                          } else
                              E.i += 4
                      }
                      if (fh & 32) {
                          var iS = k(E);
                          if (iS)
                              E.i += 52
                      }
                      if (ei == 2)
                          if (v >= 1300)
                              E.i += 48;
                      bK.push(ch)
                  }
                  if (ag) {
                      break
                  }
                  var aI = j(E);
                  if (E.i + aI * 4 > E.data.length)
                      break;
                  var gn = [];
                  for (G = 0; G < aI; G++) {
                      var ce = 0;
                      if (v >= 1200)
                          ce = a(E) & 4294967295;
                      else
                          ce = j(E);
                      gn[G] = ce >> 16 | ce & 1
                  }
                  var gr = aI;
                  if (v >= 1200)
                      gr = j(E);
                  var ek = b3.eb(E);
                  s.G.aeQ.push({
                      aiH: am,
                      text: ek,
                      i$: bK
                  })
              }
          } else if (s.V3 == "font") {
              var bJ = V(E)
                , aN = V(E);
              E.i += 14;
              var bG = b3.eb(E);
              s.G = {
                  id: bJ,
                  a0e: aN,
                  name: bG
              }
          } else if (["IKEY", "ICMT", "pfrd", "bcfg"].indexOf(s.V3) != -1) {} else if (s.V3 == "flgs")
              s.G = j(E);
          else if (s.V3 == "bbox") {
              var aQ = I(E)
                , cu = I(E)
                , gX = I(E)
                , bW = I(E);
              s.G = new h4(aQ,cu,gX - aQ,bW - cu)
          } else if (s.V3 == "fild") {
              var dE = j(E), b4 = 0, gN;
              if (v >= 1300) {
                  E.i += 4;
                  b4 = V(E);
                  E.i += 2
              }
              var cC = V(E);
              if (cC == 0) {} else if (cC == 1) {
                  E.i += v >= 1300 ? 13 : 2;
                  gN = b3.h0(E)
              } else if (cC == 2) {
                  E.i += v >= 1300 ? 8 : 2;
                  var eH = k(E)
                    , hx = 0;
                  if (v >= 1300) {
                      E.i += 17;
                      hx = e(E)
                  } else if (v >= 600) {
                      E.i += 19;
                      hx = L(E)
                  } else {
                      E.i += 11;
                      hx = e(E)
                  }
                  var c2 = o(E)
                    , hv = .5 + A(E)
                    , fu = .5 + A(E) - .5;
                  if (v >= 600)
                      E.i += 2;
                  var dv = H(E) & 255
                    , fj = k(E) / 100;
                  E.i++;
                  var il = H(E) & 65535;
                  if (v >= 1300)
                      E.i += 3;
                  var iH = [];
                  for (var G = 0; G < il; G++) {
                      var fp = b3.h0(E);
                      if (v >= 1300) {
                          if (b4 == 158 || v >= 1600 && b4 == 150)
                              E.i += 26;
                          else
                              E.i += 5
                      }
                      var ff = H(E) / 100;
                      if (v >= 1300)
                          E.i += 3;
                      iH.push([ff, fp])
                  }
                  gN = {
                      typ: eH == 1 ? "lin" : "rad",
                      crds: [hv - Math.cos(c2) / 2, fu - Math.sin(c2) / 2, hv, fu],
                      grad: iH,
                      mat: [1, 0, 0, 1, 0, 0]
                  }
              } else
                  console.log("Unknown fill type", cC);
              s.G = {
                  id: dE,
                  type: cC,
                  G: gN
              }
          } else if (s.V3 == "outl") {
              var da = j(E);
              if (v >= 1300) {
                  var aC = 0
                    , fa = 0;
                  while (aC != 1) {
                      E.i += fa;
                      aC = j(E);
                      fa = j(E)
                  }
              }
              var hz = V(E)
                , f6 = V(E)
                , bk = V(E);
              if (v < 1300 && v >= 600)
                  E.i += 2;
              var dB = I(E)
                , fD = V(E) / 100;
              if (v >= 600)
                  E.i += 2;
              var bE = o(E);
              if (v >= 1300)
                  E.i += 46;
              else if (v >= 600)
                  E.i += 52;
              var gN = b3.h0(E, da == 270963208 || da == 276198e3, da);
              s.G = {
                  id: da,
                  a0$: hz,
                  a8C: f6,
                  agv: bk,
                  lineWidth: dB,
                  color: gN
              }
          } else if (s.V3 == "mcfg") {
              if (1300 <= v)
                  E.i += 12;
              else if (900 <= v)
                  E.i += 4;
              else if (600 <= v && v < 700)
                  E.i += 28;
              var f0 = 0
                , dr = 0;
              if (v < 400)
                  throw "e";
              else {
                  f0 = I(E);
                  dr = I(E)
              }
              s.G = {
                  aap: new bT(f0,dr)
              }
          } else if (s.V3 == "loda") {
              var $ = E.i
                , g6 = H(E)
                , fk = H(E)
                , iW = H(E)
                , bq = H(E)
                , ik = H(E)
                , e$ = []
                , iU = [];
              E.i = $ + iW;
              for (var G = 0; G < fk; G++)
                  e$[G] = H(E);
              E.i = $ + bq;
              for (var G = fk - 1; G >= 0; G--)
                  iU[G] = H(E);
              s.G = {};
              for (var G = 0; G < fk; G++) {
                  E.i = $ + e$[G];
                  var eh = iU[G];
                  if (eh == 10)
                      s.G.a8j = j(E);
                  else if (eh == 20)
                      s.G.adH = j(E);
                  else if (eh == 200)
                      s.G.aep = H(E);
                  else if (eh == 30) {
                      if (v < 400)
                          ik--;
                      if (ik == 1) {
                          var aQ = h(E)
                            , cu = h(E)
                            , hH = 0
                            , eJ = 0
                            , gf = 0
                            , d0 = 0;
                          if (v < 1500) {
                              d0 = h(E);
                              gf = v < 900 ? d0 : h(E);
                              eJ = v < 900 ? d0 : h(E);
                              hH = v < 900 ? d0 : h(E)
                          } else
                              throw "e";
                          s.G.path = _.$.bF(_.Y.L8.Rect(0, 0, aQ, cu, hH))
                      } else if (ik == 2) {
                          var ac = I(E)
                            , eY = I(E)
                            , dg = o(E)
                            , cX = o(E)
                            , eZ = Math.abs(ac)
                            , iC = Math.abs(eY);
                          s.G.path = _.$.bF(_.Y.L8.ZT(0, 0, eZ, -iC))
                      } else if (ik == 3) {
                          s.G.path = b3.ag1(E)
                      } else if (ik == 4) {
                          s.G.ajX = b3.a8e(E)
                      } else if (ik == 6) {
                          s.G.a7w = b3.akU(E)
                      } else if (ik == 37) {
                          s.G.path = b3.Rt(E)
                      } else
                          console.log(ik)
                  }
              }
          } else if (s.V3 == "trfd") {
              var $ = E.i
                , g6 = H(E)
                , fk = H(E)
                , iW = H(E);
              E.i = $ + iW;
              var e$ = [];
              for (var G = 0; G < fk; G++)
                  e$[G] = H(E);
              for (var G = 0; G < fk; G++) {
                  E.i = $ + e$[G];
                  if (v >= 1300)
                      E.i += 8;
                  var cW = V(E);
                  if (cW == 8) {
                      var cT, cF, aQ, aP, iz, cu;
                      if (v >= 600)
                          E.i += 6;
                      if (v >= 500) {
                          cT = g(E);
                          cF = g(E);
                          aQ = g(E) / (v < 600 ? 1e3 : 254e3);
                          aP = g(E);
                          iz = g(E);
                          cu = g(E) / (v < 600 ? 1e3 : 254e3)
                      } else
                          throw "e";
                      s.w3 = new fn(cT,aP,cF,iz,aQ,cu)
                  } else
                      console.log(cW)
              }
          } else if (!1) {
              console.log(s);
              var al = Math.min(s.size, 32);
              console.log(O.Vt(data, s.i, al));
              console.log(O.aeO(data, s.i, al))
          }
      }
  }
  ;
  b3.EN = function(E, K) {
      var i = b3.ek
        , C = {}
        , N = i(E);
      for (var G = 0; G < N; G++) {
          var k = i(E);
          E.i += 4;
          var V = i(E);
          C[k] = V;
          if (K)
              E.i += 48
      }
      return C
  }
  ;
  b3.a8e = function(E) {
      var K = b3
        , i = K.co
        , C = i(E)
        , N = i(E);
      return new bT(C,N)
  }
  ;
  b3.akU = function(E) {
      var K = b3
        , i = K.co;
      E.i += 4;
      var C = i(E)
        , N = i(E);
      return new bT(C,N)
  }
  ;
  b3.Rt = function(E) {
      var K = b3
        , i = K.ek
        , C = K.wf
        , N = K.co;
      E.i += 4;
      var k = C(E) + C(E);
      E.i += 16;
      var V = b3.H8(E, k);
      return V
  }
  ;
  b3.ag1 = function(E) {
      var K = b3.wf(E);
      E.i += 2;
      return b3.H8(E, K)
  }
  ;
  b3.H8 = function(E, K) {
      var i = b3
        , C = i.co
        , N = E.Zv < 600 ? 2 : 4
        , k = E.i
        , V = {
          H: [],
          Z: []
      }
        , j = 0
        , a = 0
        , e = 0;
      for (var G = 0; G < K; G++) {
          var j = C(E)
            , a = C(E)
            , L = E.data[k + K * N * 2 + G];
          if (!(L & 64) && !(L & 128)) {
              V.H.push(j, a);
              V.Z.push("M");
              e += 2
          } else if (L & 64 && !(L & 128)) {
              V.H.push(j, a);
              V.Z.push("L");
              e += 2
          } else if (!(L & 64) && L & 128) {
              V.H.push(j, a);
              V.Z.push("C");
              e += 6
          } else if (L & 64 && L & 128) {
              V.H.push(j, a)
          }
      }
      if (e != V.H.length)
          throw "e";
      return V
  }
  ;
  b3.a4m = function(E, K) {
      var i = O.n$;
      K += 8;
      var C = i(E, K);
      K += 4;
      var N = i(E, K);
      K += 4;
      K += 4 * 7;
      var k = K
        , V = _.I(C * N * 4);
      K += 1024;
      for (var j = 0; j < N; j++)
          for (var a = 0; a < C; a++) {
              var G = j * C + a
                , e = (N - j - 1) * C + a
                , L = E[K + G] << 2
                , g = e << 2;
              V[g + 0] = E[k + L + 2];
              V[g + 1] = E[k + L + 1];
              V[g + 2] = E[k + L + 0];
              V[g + 3] = 255
          }
      return {
          OR: V,
          rect: new h4(0,0,C,N)
      }
  }
  ;
  b3.a5b = function(E) {
      if (E == 32)
          return 300;
      else if (E < 49)
          return 0;
      else if (E < 58)
          return 100 * (E - 48);
      else if (E < 65)
          return 0;
      return 100 * (E - 55)
  }
  ;
  b3.h0 = function(E, K, i) {
      var C = b3.wf
        , N = b3.ek
        , k = E.Zv
        , V = 0
        , j = 0;
      if (k >= 500) {
          V = C(E);
          if (V == 1 && k >= 1300)
              V = 25;
          if (V == 25 || V == 30) {
              var a = 0;
              if (V == 30) {
                  V = 25;
                  a = 30
              } else {
                  a = C(E);
                  E.i += 4
              }
              var e = C(E)
                , L = C(E)
          } else if (V == 14)
              throw "e";
          else {
              E.i += 6;
              j = N(E)
          }
      } else
          throw "e";
      var g = [];
      if (V == 2 || V == 9 || V == 17) {
          var I = [j >>> 0 & 255, j >>> 8 & 255, j >>> 16 & 255, j >>> 24 & 255];
          if (V == 2)
              for (var G = 0; G < 4; G++)
                  I[G] = Math.round(255 * I[G] / 100);
          for (var G = 0; G < 4; G++)
              I[G] /= 255;
          g = UDOC.C.cmykToRgb(I)
      } else if (V == 1 || V == 5) {
          g = [j >>> 0 & 255, j >>> 8 & 255, j >>> 16 & 255];
          for (var G = 0; G < 3; G++)
              g[G] = g[G] / 255
      } else
          console.log("Unknown color model " + V, j, j.toString(16));
      return g
  }
  ;
  var g4 = function() {
      var E, K, i = new ArrayBuffer(4), C = new Uint8Array(i), N = new Uint32Array(i), k = new Float32Array(i);
      function V(I, h) {
          for (var o = 0; o < I.length; o++)
              if (I[o][0] == h)
                  return I[o]
      }
      function j() {
          var I = 0
            , h = 0
            , o = 0;
          do {
              o = E[K++];
              I |= (o & 127) << h;
              h += 7
          } while (o & 128 && h < 35);return I >>> 0
      }
      function a(I, h, o, H, A) {
          E = I;
          K = h;
          var S = H[0] == "mesg"
            , v = H[2]
            , s = {}
            , D = 1
            , F = S ? 1e9 : v.length;
          while (D <= F) {
              var y = D;
              if (S) {
                  y = j();
                  if (y == 0)
                      break
              }
              var T = V(v, y)
                , Q = T[2]
                , B = T[1] == 1
                , r = B ? j() : 1
                , J = new Array(r);
              if (Q == 3) {
                  if (!B)
                      throw "e";
                  J = E.slice(K, K + r);
                  K += r
              } else
                  for (var G = 0; G < r; G++) {
                      var m;
                      if ((Q & 1) == 1) {
                          if (Q == 1)
                              m = E[K++] == 1;
                          else if (Q == 3)
                              m = E[K++];
                          else if (Q == 5) {
                              var x = j();
                              m = x & 1 ? ~(x >>> 1) : x >>> 1
                          } else if (Q == 7)
                              m = j();
                          else if (Q == 9) {
                              if (E[K] == 0) {
                                  m = 0;
                                  K++
                              } else {
                                  C[0] = E[K];
                                  C[1] = E[K + 1];
                                  C[2] = E[K + 2];
                                  C[3] = E[K + 3];
                                  var R = N[0];
                                  N[0] = R << 23 | R >>> 9;
                                  m = k[0];
                                  K += 4
                              }
                          } else if (Q == 11) {
                              var b = e(E, K);
                              m = b[0];
                              K += b[1] + 1
                          } else
                              throw Q
                      } else {
                          var z = o[Q >>> 1];
                          if (z[0] == "enum") {
                              var $ = E[K++];
                              if ($ > 127)
                                  throw "e";
                              m = z[2][$]
                          } else {
                              var P = a(E, K, o, z, A + 1);
                              m = P[0];
                              K = P[1]
                          }
                      }
                      J[G] = m
                  }
              s[T[3]] = B ? J : J[0];
              D++
          }
          return [s, K]
      }
      function e(I, h) {
          var o = h;
          while (I[o] != 0)
              o++;
          return [O.Yo(I, h, o - h), o - h]
      }
      function L(I, h) {
          var o = h;
          while (I[o] != 0)
              o++;
          for (var G = h; G < o; G++)
              if (I[G] > 127)
                  throw "e";
          return O.zV(I, h, o - h)
      }
      function g(I) {
          E = I;
          K = 1;
          var h = [];
          while (K < I.length) {
              var o = K
                , H = h.length
                , A = L(I, K);
              K += A.length + 1;
              var S = j();
              if (S > 2)
                  throw "e";
              var v = j()
                , s = [];
              for (var G = 0; G < v; G++) {
                  var D = L(I, K);
                  K += D.length + 1;
                  var F = j()
                    , y = j()
                    , T = j();
                  s.push(S == 0 ? D : [T, y, F, D])
              }
              h.push([["enum", "strc", "mesg"][S], A, s])
          }
          return h
      }
      return {
          a6m: g,
          a1z: a
      }
  }();
  function dc() {}
  dc.sQ = function(E, K) {
      var i = new Uint8Array(E)
        , C = 8
        , N = O.n$(i, C)
        , e = 0
        , z = 0;
      C += 4;
      var k = [];
      while (C < i.length) {
          var V = O.n$(i, C);
          C += 4;
          var j = i.slice(C, C + V);
          if (i[C] == 137 && i[C + 1] == 80) {} else
              j = UZIP.inflateRaw(j);
          k.push(j);
          C += V
      }
      var a = g4.a6m(k[0]);
      for (var G = 0; G < a.length; G++)
          if (a[G][1] == "Message")
              e = G;
      var L = g4.a1z(k[1], 0, a, a[e], 0)[0]
        , g = {
          JE: {},
          rg: {},
          aeD: {}
      }
        , I = L.nodeChanges;
      for (var h = 0; h < I.length; h++) {
          var o = I[h]
            , H = o.guid;
          g.rg[H.sessionID + "," + H.localID] = o
      }
      for (var h = 0; h < I.length; h++) {
          var o = I[h]
            , H = o.parentIndex;
          if (H) {
              var A = dc.Rs(g.rg, H.guid);
              if (A.children == null)
                  A.children = [];
              A.children.push(o)
          }
      }
      var S = I[0]
        , v = S.children
        , s = new h4
        , D = []
        , F = [];
      for (var H = 0; H < v.length; H++) {
          var y = v[H]
            , T = y.children;
          if (y.name == "Internal Only Canvas" || T == null)
              continue;
          var Q = new h4;
          for (var G = 0; G < T.length; G++) {
              var B = T[G]
                , r = B.transform
                , J = B.size;
              if (r.m00 == 1 && r.m10 == 0 && r.m01 == 0 && r.m11 == 1) {
                  var m = new h4(r.m02,r.m12,J.x,J.y);
                  Q = Q.ip(m)
              }
          }
          var x = s.v == 0 ? 0 : s.v + 100
            , R = Q.clone();
          R.x = 0;
          R.y = x;
          s = s.ip(R);
          D[H] = Q;
          F[H] = x
      }
      var b = f7.$l(new h4(0,0,s.d,s.v), 8192 * 8192);
      K.d = Math.round(s.d / b);
      K.v = Math.round(s.v / b);
      K.buffer = _.I(K.d * K.v * 4);
      for (var H = 0; H < v.length; H++) {
          var y = v[H]
            , T = y.children;
          if (y.name == "Internal Only Canvas" || T == null)
              continue;
          T.sort(dc.cm);
          var $ = new fn(1,0,0,1,-D[H].x,F[H] - D[H].y);
          $.scale(1 / b, 1 / b);
          for (var G = 0; G < T.length; G++) {
              var B = T[G];
              dc.$D(B, [], $, L.blobs, K, 0, g);
              z++
          }
      }
      K.Wl(z);
      K.BJ = !0;
      if (b != 1)
          alert("File scaled down " + b + "x")
  }
  ;
  dc.$D = function(E, K, i, C, N, k, V) {
      var j = dc, B = !1, r, J, x, R, b;
      for (var G = 0; G < K.length; G++) {
          var a = K[G]
            , e = a.guidPath.guids[0];
          if (j.agW(e, E.guid)) {
              var L = {};
              for (var g in E)
                  L[g] = a[g] != null ? a[g] : E[g];
              E = L
          }
      }
      var I = E.type
        , h = E.children
        , o = E.size
        , H = E.effects
        , A = N.qV();
      A.gv(E.name);
      A.HU(E.visible);
      A.opacity = Math.round(E.opacity * 255);
      var S = j.m$(E.transform)
        , v = S.clone();
      v.concat(i);
      var s = new h4(Math.round(v.vK),Math.round(v.Cz),Math.round(o.x * v.x$()),Math.round(o.y * v.x$()))
        , D = E.fillPaints
        , F = E.inheritFillStyleID;
      if (F) {
          var L = j.Rs(V.rg, F);
          if (L)
              D = L.fillPaints
      }
      if (D == null)
          D = [];
      var D = j.n3(D)
        , y = D[0]
        , T = E.strokePaints
        , F = E.inheritFillStyleIDForStroke;
      if (F) {
          var L = j.Rs(V.rg, F);
          if (L)
              T = L.fillPaints
      }
      if (T == null)
          T = [];
      var T = j.n3(T)
        , Q = "BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON".split(" ").indexOf(I) != -1;
      if (Q || I == "FRAME") {
          r = new U.ql;
          J = [];
          j.Ln(E, C, r, J);
          B = _.Y.uc(r.b);
          _.Y.aW(r.b, v);
          s = _.$.BK(_.Y.HD(r.b));
          if (V.JE.w4 && y) {
              var m = U.ql.MD(V.JE.w4.b);
              for (var G = 2; G < m.length; G++)
                  if (m[G].A0 != null)
                      m[G].A0 = 3;
              r.b = r.b.concat(m.slice(2));
              J = J.concat(JSON.parse(JSON.stringify(V.JE.U7)))
          }
      }
      if (y && y.type == "IMAGE") {
          b = y.imageScaleMode;
          x = j.A7(C, y.image.dataBlob);
          var z = x.UP.d / x.UP.v
            , $ = o.x / o.y;
          R = Math.abs(z - $)
      }
      if (I == "FRAME") {} else if (Q && B && x && (b == "FIT" || b == "FILL" && R <= .05)) {
          var P = C[y.image.dataBlob].bytes
            , t = N.Yn(P, A.getName(), 0, 0);
          t.it = A.it;
          t.opacity = A.opacity;
          A = t;
          var X = new h4(0,0,o.x,o.y);
          if (b == "FIT") {
              var Z = x.UP.d
                , p = x.UP.v
                , gl = Math.min(o.x / Z, o.y / p)
                , f = Z * gl
                , cY = p * gl;
              X = new h4(X.x + (X.d - f) / 2,X.y + (X.v - cY) / 2,f,cY)
          }
          var fC = _.$.X6(X).H;
          _.$.m(fC, v, fC);
          A.add.SoLd.Trnf = u._.j6(fC);
          A.add.SoLd.nonAffineTransform = u._.j6(fC);
          var hi = []
            , H = E.effects
            , es = y.paintFilter;
          if (H)
              for (var G = 0; G < H.length; G++)
                  if (H[G].type == "FOREGROUND_BLUR") {
                      var W = H[G]
                        , d = ef.Im("GsnB", {});
                      hi.push(d);
                      d.v.enab.v = W.visible;
                      d.v.Fltr.v.Rds.v.val = W.radius / 2.4
                  }
          if (es && es.exposure != 0) {
              var d = ef.Im("brit", {});
              hi.push(d);
              d.v.Fltr.v.Brgh.v = Math.round(es.exposure * 160);
              d.v.Fltr.v.useLegacy.v = !0
          }
          if (hi.length != 0) {
              A.add.SoLd.filterFX = ef.yC();
              N.cB({
                  id: A.add.SoLd.placed.v,
                  rect: new h4,
                  buffer: _.I(1),
                  r: new U.xW
              });
              A.add.SoLd.filterFX.v.filterFXList.v = hi
          }
          A.z_(N, !1);
          j.Gl(V, A, N)
      } else if (Q) {
          j.k_(A, J, r, E, y, v, s, C, N, V);
          var fM = j.pU(E, T[0], v, s, C, N, V);
          if (fM[0] != "None") {
              var n = A.add.vstk;
              n.strokeEnabled.v = !0;
              n.strokeStyleLineWidth.v.val = E.strokeWeight * v.x$();
              n.strokeStyleLineAlignment.v.strokeStyleLineAlignment = ao.S6.Ee[["INSIDE", "CENTER", "OUTSIDE"].indexOf(E.strokeAlign)];
              var ax = {
                  SoCo: "SoFi",
                  GdFl: "GrFl"
              }[fM[0]]
                , d_ = ["SoFi", "GrFl", "patternFill"].indexOf(ax)
                , cm = [ao.wz, ao.yI, ao.TX][d_];
              n.strokeStyleContent.v = {
                  classID: ao.S6.gk[0]
              };
              n.strokeStyleLineDashSet.v = h$.xh(E.dashPattern, 1 / E.strokeWeight);
              var c4 = n.strokeStyleContent.v = {
                  classID: ao.S6.gk[d_]
              };
              for (var G = 0; G < cm.length; G++)
                  c4[cm[G]] = fM[1][cm[G]]
          }
          if (H)
              for (var G = 0; G < H.length; G++) {
                  var W = H[G];
                  if (W.type != "FOREGROUND_BLUR")
                      continue;
                  r.zo = W.radius / 2.4
              }
          A.Kf(N)
      } else if (I == "TEXT") {
          var ch = E.textData
            , hQ = ch.layoutSize
            , em = ["LEFT", "RIGHT", "CENTER"].indexOf(E.textAlignHorizontal);
          A.add.lnsr = "rend";
          A.add.TySh = cO.u3(0, 0);
          A.add.TySh.u9 = new h4(0,0,100,100);
          var ag = v.clone();
          A.add.TySh.m = ag;
          var am = A.add.TySh.Ou
            , bK = ch.characters;
          if (E.textCase == "TITLE") {
              for (var G = 0; G < bK.length; G++)
                  if (G == 0 || bK[G - 1] == " ") {
                      var ei = bK.slice(0, G)
                        , dL = bK.slice(G + 1);
                      bK = ei + bK[G].toUpperCase() + dL
                  }
          }
          bK = bK.replace(/\u2028/g, "\n");
          bK = bK.replace(/\u2029/g, "\n");
          bK = bK.replace(/\r/g, "\n");
          cO.qu(am, 0, bK);
          var fh = E.textAutoResize
            , eu = ch.baselines;
          if (fh == "WIDTH_AND_HEIGHT") {
              var hf = em == 0 ? 0 : em == 1 ? hQ.x : hQ.x / 2
                , iS = eu ? eu[0].position.y : 0;
              ag.translate(hf * v.x$(), iS * v.x$());
              cO.kw(am, 0)
          } else if (fh == "HEIGHT" || fh == "NONE" || fh == null) {
              var iS = eu ? eu[0].position.y - E.fontSize * .7 : 0;
              ag.translate(0, iS * v.x$());
              cO.kw(am, 1);
              cO.Bk(am, [0, 0, Math.round(hQ.x), Math.round(1.2 * hQ.y)])
          } else
              throw fh;
          if (bK != "") {
              var aI = cO.UX(am, 0, 1);
              j.o2(E, v, o, aI, A, C, N, V);
              cO.Wk(am, 0, bK.length, aI);
              var gn = ch.characterStyleIDs
                , ce = ch.styleOverrideTable;
              if (gn) {
                  gn = gn.slice(0);
                  for (var G = 0; G < gn.length; G++)
                      if (bK[G] == "\n")
                          gn[G] = -G - 1;
                  var gr = [0]
                    , ek = 0
                    , bJ = 0;
                  for (var G = 0; G < gn.length; G++) {
                      bJ++;
                      var aN = gn[G];
                      if (G == 0 || aN == gn[G - 1]) {} else {
                          gr.push(bJ - 1, G);
                          bJ = 1
                      }
                  }
                  gr.push(bJ);
                  for (var G = 0; G < gr.length; G += 2) {
                      var bG = gr[G]
                        , aQ = gr[G + 1];
                      if (bK[bG] == "\n")
                          continue;
                      var aN = gn[bG];
                      if (aN != 0) {
                          var cu;
                          for (var gX = 0; gX < ce.length; gX++)
                              if (ce[gX].styleID == aN)
                                  cu = ce[gX];
                          var aI = cO.UX(am, bG, bG + 1);
                          j.o2(cu, v, o, aI, A, C, N, V);
                          cO.Wk(am, bG, bG + aQ, aI)
                      }
                  }
              }
          }
      } else if (I == "SYMBOL") {} else if (I == "INSTANCE") {
          var bW = E.symbolData
            , dE = bW.symbolOverrides
            , L = j.Rs(V.rg, bW.symbolID);
          if (L)
              h = L.children;
          else
              console.log(E.name, "symbol not found", bW.symbolID);
          K = K.slice(0);
          for (var G = 0; G < dE.length; G++)
              K.push(dE[G])
      } else
          console.log(I);
      if (!1) {} else if (h && !Q) {
          N.t.push(N.Yy());
          var b4 = !1;
          if (k == 0 && I != "SYMBOL" && I != "INSTANCE") {
              A.Xx(s);
              var cC = D ? D[0] : null;
              if (cC && cC.type == "SOLID") {
                  var gN = cC.color;
                  A.add.artb.artboardBackgroundType.v = 4;
                  A.add.artb.Clr = j.h0(gN)
              }
          } else if (y && r) {
              var eH = N.qV();
              eH.gv("Background");
              j.k_(eH, J, r, E, y, v, s, C, N, V);
              eH.Kf(N);
              N.t.push(eH);
              b4 = !0
          }
          h.sort(j.cm);
          var hx = V.JE;
          V.JE = {};
          for (var c2 = 0; c2 < h.length; c2++)
              j.$D(h[c2], K, v, C, N, k + 1, V);
          V.JE = hx;
          A.add.lsct = !1 ? c5.qd : c5.Kw;
          A.SI = "pass";
          var hv = A.VD();
          A.it = 24;
          A.HU(hv);
          var fu = k != 0 && D.length != 0 && !E.frameMaskDisabled && E.containerSupportsFillStrokeAndCorners;
          if (!b4 && fu && r) {
              A.add.vmsk = r;
              A.add.vogk = J;
              A.Kf(N)
          } else
              j.Gl(V, A, N);
          N.t.push(A)
      } else if (E.mask) {
          if (r) {
              V.JE.w4 = r;
              V.JE.U7 = J
          }
      } else {
          var dv = []
            , aC = 1;
          if (H)
              for (var fj = 0; fj < H.length; fj++) {
                  var W = H[fj]
                    , il = W.color
                    , iH = W.type
                    , fp = ["DROP_SHADOW", "INNER_SHADOW"].indexOf(iH);
                  if (fp != -1) {
                      var ff = ["DrSh", "IrSh"][fp]
                        , da = JSON.parse(ao.Fc[ao.order.indexOf(ff)]);
                      dv.push([ff, da]);
                      da.enab.v = W.visible;
                      da.Md.v.BlnM = gx.Ig(j.a3t(W.blendMode));
                      da.Opct.v.val = Math.round(100 * il.a);
                      da.blur.v.val = Math.round(W.radius * v.x$());
                      da.Clr = j.h0(il);
                      var hf = W.offset.x
                        , iS = W.offset.y;
                      da.uglg.v = !1;
                      da.lagl.v.val = Math.round(180 / Math.PI * Math.atan2(iS, -hf));
                      da.Dstn.v.val = Math.round(Math.sqrt(hf * hf + iS * iS) * v.x$())
                  }
              }
          if (I == "TEXT" && D[0] && D[0].type != "SOLID")
              aC = 0;
          for (var G = aC; G < D.length; G++) {
              var fa = D[G]
                , hz = j.pU(E, fa, v, s, C, N, V);
              if (hz[0] == "GdFl")
                  dv.push(["GrFl", hz[1]]);
              else if (hz[0] == "SoCo")
                  dv.push(["SoFi", hz[1]]);
              else if (hz[0] == "PtFl")
                  dv.push(["patternFill", hz[1]]);
              else
                  throw hz
          }
          if (dv.length != 0) {
              var f6 = JSON.parse(ao.default);
              for (var G = 0; G < ao.order.length; G++)
                  f6[ao.Y9[G]] = {
                      t: "VlLs",
                      v: []
                  };
              for (var G = 0; G < dv.length; G++) {
                  var bk = dv[G]
                    , ff = ao.Y9[ao.order.indexOf(bk[0])];
                  f6[ff].v.unshift({
                      t: "Objc",
                      v: bk[1]
                  })
              }
              if (h == null)
                  A.add.lmfx = f6
          }
          N.t.push(A)
      }
  }
  ;
  dc.k_ = function(E, K, i, C, N, k, V, j, a, e) {
      var L = dc;
      E.it |= 16;
      E.add.vogk = K;
      E.add.vmsk = i;
      var g = E.add.vstk = JSON.parse(JSON.stringify(ao.S6.default))
        , I = L.pU(C, N, k, V, j, a, e);
      if (I[0] == "None") {
          g.fillEnabled.v = !1;
          E.add.SoCo = I[1]
      } else {
          var h = I[1].Opct.v.val;
          if (h != 100)
              E.opacity = Math.round(E.opacity / 255 * (h / 100) * 255);
          E.add[I[0]] = I[1]
      }
  }
  ;
  dc.cm = function(E, K) {
      var i = E.parentIndex.position
        , C = K.parentIndex.position;
      return i > C ? 1 : -1
  }
  ;
  dc.n3 = function(E) {
      for (var G = 1; G < E.length; G++) {
          var K = E[G];
          if (K.type == "IMAGE" && K.opacity == 1) {
              E = E.slice(G);
              break
          }
      }
      for (var G = 0; G < E.length; G++) {
          var K = E[G]
            , i = K.imageThumbnail;
          if (K.type == "IMAGE" && K.image.dataBlob == null && i && i.dataBlob)
              K.image = i;
          if (!K.visible || K.type == "IMAGE" && K.image.dataBlob == null) {
              E.splice(G, 1);
              G--
          }
      }
      return E
  }
  ;
  dc.Gl = function(E, K, i) {
      if (E.JE.w4) {
          K.add.vmsk = E.JE.w4.clone();
          K.add.vogk = JSON.parse(JSON.stringify(E.JE.U7));
          K.Kf(i)
      }
  }
  ;
  dc.o2 = function(E, K, i, C, N, k, V, j) {
      var a = E.fontSize
        , e = E.lineHeight
        , L = E.fontName
        , g = E.textAlignHorizontal
        , I = E.textTracking
        , h = E.textCase;
      if (a == null)
          a = C.dP.FontSize;
      if (L)
          cO.Ui(C, L.postscript);
      if (a != null)
          C.dP.FontSize = Math.round(a);
      if (I)
          C.dP.Tracking = Math.round(I * 1e3);
      if (h)
          C.dP.FontCaps = h == "UPPER" ? 2 : 0;
      if (e && (e.units != "PERCENT" || e.value != 100)) {
          if (a == null)
              a = 15;
          var o = e.value;
          if (e.units == "PERCENT")
              o = 1 * a * o / 100;
          if (e.units == "RAW")
              o = 1 * a * o;
          C.dP.AutoLeading = !1;
          C.dP.Leading = Math.round(o)
      }
      if (g)
          C.oN.Justification = ["LEFT", "RIGHT", "CENTER"].indexOf(g);
      var H = E.fillPaints
        , A = E.inheritFillStyleID;
      if (A) {
          var S = dc.Rs(j.rg, A);
          if (S)
              H = S.fillPaints
      }
      if (H && H[0]) {
          var v = dc.pU(E, H[0], K, i, k, V, j);
          if (v[0] == "SoCo") {
              var s = _.V.Gk(v[1].Clr.v);
              C.dP.FillColor = {
                  Type: 1,
                  Values: [1, s.h / 255, s.l / 255, s.O / 255]
              };
              N.opacity = Math.round(N.opacity / 255 * (v[1].Opct.v.val / 100) * 255)
          }
      }
  }
  ;
  dc.pU = function(E, K, i, C, N, k, V) {
      var j = dc, a, e, L = E.size;
      if (K) {
          var g = K.type
            , I = ["GRADIENT_LINEAR", "GRADIENT_RADIAL", "GRADIENT_DIAMOND", "GRADIENT_ANGULAR"].indexOf(g);
          if (g == "SOLID") {
              a = "SoCo";
              var h = K.color;
              e = JSON.parse(ao.Fc[ao.order.indexOf("SoFi")]);
              e.Clr = j.h0(h)
          } else if (I != -1) {
              var o = JSON.parse(ao.Fc[ao.order.indexOf("GrFl")])
                , H = o.Grad.v;
              H.Intr.v = 0;
              o.Type.v.GrdT = ["Lnr", "Rdl", "Dmnd", "Angl"][I];
              var A = []
                , S = K.stops;
              for (var G = 0; G < S.length; G++) {
                  var v = S[G]
                    , s = v.color;
                  A.push([v.position, [s.r, s.g, s.b], s.a])
              }
              _.V.xe(A, H);
              var D = j.m$(K.transform);
              D.KP();
              var F = D.clone();
              if (L)
                  F.scale(L.x, L.y);
              F.concat(i);
              var y = new bT(0,.5)
                , T = new bT(1,.5);
              y = F.uZ(y);
              T = F.uZ(T);
              if (!0) {
                  y.x = T.x + .5 * (y.x - T.x);
                  y.y = T.y + .5 * (y.y - T.y)
              }
              _.V.g3(y, T, C, o);
              if (I == 3) {
                  if (F.R * F.bI - F.O * F.x9 < 0)
                      o.Rvrs.v = !o.Rvrs.v
              }
              a = "GdFl";
              e = o
          } else if (g == "IMAGE") {
              var o = JSON.parse(ao.Fc[ao.order.indexOf("patternFill")])
                , Q = o.phase.v
                , B = K.image.dataBlob
                , r = V.aeD[B]
                , t = 1;
              if (r == null) {
                  var J = j.A7(N, B);
                  r = V.aeD[B] = {};
                  r.id = bl.Eu() + "-d71c-11e5-b1ae-a548a96e5f9f";
                  r.yG = [new Uint8Array(J.data), J.UP];
                  r.name = "someImage";
                  k.fN(r)
              }
              o.Algn.v = !0;
              o.Ptrn.v.Idnt.v = r.id;
              var m = i.vK
                , x = i.Cz
                , R = K.imageScaleMode
                , D = j.m$(K.transform);
              D.KP();
              var b = C.d
                , z = C.v
                , $ = r.yG[1].d
                , P = r.yG[1].v;
              if (R == "FILL") {
                  t = Math.max(b / $, z / P);
                  t = Math.round(t * 100) / 100
              } else if (R == "FIT") {
                  t = Math.min(b / $, z / P);
                  t = Math.round(t * 100) / 100
              } else if (R == "STRETCH") {
                  var X = b * D.R
                    , Z = z * D.bI;
                  t = .5 * (X / $ + Z / P);
                  t = Math.round(t * 100) / 100;
                  m += (X - b) / 2 + D.vK * b;
                  x += (Z - z) / 2 + D.Cz * z
              } else if (R == "TILE") {
                  t = K.scale;
                  t = Math.round(t * 100) / 100;
                  m += (X - b) / 2;
                  x += (Z - z) / 2
              }
              var p = t * $
                , gl = t * P;
              m += -(p - b) / 2;
              x += -(gl - z) / 2;
              o.Scl.v.val = Math.round(100 * t);
              Q.Hrzn.v = Math.round(m);
              Q.Vrtc.v = Math.round(x);
              a = "PtFl";
              e = o
          } else
              throw g;
          if (e)
              e.Opct = {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: Math.round(K.opacity * 100)
                  }
              }
      } else {
          a = "None";
          e = {
              classID: "null",
              Clr: {
                  t: "Objc",
                  v: _.V.VQ({
                      h: 0,
                      l: 0,
                      O: 0
                  })
              }
          }
      }
      return [a, e]
  }
  ;
  dc.A7 = function(E, K) {
      var i = E[K];
      if (i.rslt)
          return i.rslt;
      var C = i.bytes.buffer
        , N = fb.e1(C)
        , k = fb.vG(N);
      try {
          i.rslt = k.VA(C)[0]
      } catch (i2) {
          i.rslt = {
              data: _.I(4),
              UP: new h4(0,0,1,1)
          }
      }
      return i.rslt
  }
  ;
  dc.Ln = function(E, K, i, C) {
      var N = E.type, k = E.size, V = E.cornerRadius, g;
      if (V == null)
          V = 0;
      var j = _.U7.rV()
        , a = k.x
        , e = k.y
        , L = [V, V, V, V]
        , I = ["rectangleTopLeftCornerRadius", "rectangleTopRightCornerRadius", "rectangleBottomRightCornerRadius", "rectangleBottomLeftCornerRadius"];
      for (var G = 0; G < 4; G++)
          if (E[I[G]] != null)
              L[G] = E[I[G]];
      if (N == "RECTANGLE" || N == "ROUNDED_RECTANGLE" || N == "FRAME") {
          g = _.Y.L8.Rect(0, 0, a, e, L)
      } else if (N == "ELLIPSE") {
          var h = E.arcData
            , o = h ? h.startingAngle : 0
            , H = h ? h.endingAngle : 2 * Math.PI
            , A = h ? h.innerRadius : 0;
          if (o == 0 && H > 1.999 * Math.PI)
              g = _.Y.L8.ZT(0, 0, a, e, 0);
          else
              g = _.Y.L8.amP(a / 2, e / 2, e / 2, o, H);
          if (A != 0 && A != 1) {
              var S = U.ql.MD(g).slice(3);
              S.reverse();
              for (var G = 0; G < S.length; G++) {
                  var v = S[G]
                    , s = v.ln;
                  v.ln = v._8;
                  v._8 = s
              }
              var D = new fn;
              D.translate(-a / 2, -e / 2);
              D.scale(A, A);
              D.translate(a / 2, e / 2);
              _.Y.aW(S, D);
              g = g.concat(S);
              g[2].length *= 2
          }
      } else if (N == "LINE") {
          g = _.Y.L8.Rect(0, 0, a, e, 0);
          g.pop();
          g.pop();
          g[2].length = 2
      } else if (N == "REGULAR_POLYGON") {
          g = _.Y.L8.M5(.5, .5, .5, Math.PI / 2, E.count, 0);
          var F = new fn;
          F.scale(a, e);
          _.Y.aW(g, F)
      } else if (N == "BOOLEAN_OPERATION") {
          g = [{
              type: 6
          }, {
              type: 8,
              all: 0
          }];
          var y = E.children
            , T = ["XOR", "UNION", "SUBTRACT", "INTERSECT"].indexOf(E.booleanOperation);
          if (T == -1)
              throw E;
          if (y == null)
              y = [];
          for (var G = 0; G < y.length; G++) {
              var Q = y[G]
                , B = new U.ql
                , r = []
                , J = dc.Ln(Q, K, B, r);
              if (B.b == null)
                  continue;
              _.Y.aW(B.b, dc.m$(Q.transform));
              g = g.concat(B.b.slice(2));
              for (var m = 0; m < r.length; m++)
                  C.push(r[m])
          }
          for (var G = 3; G < g.length; G++)
              if (g[G].A0 != null)
                  g[G].A0 = T;
          j = null
      } else if (N == "VECTOR") {
          var x, R;
          if (!0) {
              var b = E.vectorData;
              x = b.normalizedSize;
              R = b.vectorNetworkBlob
          } else {
              x = k;
              R = bq[0].commandsBlob;
              console.log(bq)
          }
          var z = K[R].bytes
            , $ = new Uint32Array(z.buffer)
            , P = new Float32Array(z.buffer)
            , t = $[0]
            , Z = $[1]
            , p = [];
          for (var G = 0; G < t; G++) {
              var gl = 3 + G * 3
                , f = new bT(P[gl + 1],P[gl + 2]);
              p.push(f)
          }
          var cY = []
            , fC = 3 + t * 3;
          for (var G = 0; G < Z; G++) {
              var hi = fC + G * 7
                , es = $[hi + 1]
                , W = $[hi + 4];
              cY.push([es, W, P[hi + 2], P[hi + 3], P[hi + 5], P[hi + 6]])
          }
          var d = -1;
          for (var G = 0; G < Z; G++) {
              if (d == -1) {} else {
                  var fM = -1;
                  for (var m = G; m < Z; m++)
                      if (cY[m][1] == d)
                          fM = m;
                  for (var m = G; m < Z; m++)
                      if (cY[m][0] == d)
                          fM = m;
                  if (fM != -1) {
                      var n = 0
                        , s = cY[fM];
                      cY[fM] = cY[G];
                      cY[G] = s;
                      if (s[0] != d) {
                          n = s[0];
                          s[0] = s[1];
                          s[1] = n;
                          n = s[2];
                          s[2] = s[4];
                          s[4] = n;
                          n = s[3];
                          s[3] = s[5];
                          s[5] = n
                      }
                  }
              }
              d = cY[G][1]
          }
          var ax = []
            , d_ = []
            , cm = -1;
          d = -1;
          for (var G = 0; G < Z; G++) {
              var c4 = cY[G]
                , es = c4[0]
                , W = c4[1]
                , ch = p[es]
                , hQ = p[W];
              if (d != es) {
                  d_.push("M");
                  ax.push(ch.x, ch.y);
                  cm = es
              }
              ax.push(ch.x + c4[2], ch.y + c4[3]);
              ax.push(hQ.x + c4[4], hQ.y + c4[5]);
              d_.push("C");
              ax.push(hQ.x, hQ.y);
              d = W;
              if (cm == W) {
                  d_.push("Z");
                  cm = d = -1
              }
          }
          g = _.$.rh({
              H: ax,
              Z: d_
          }, !0);
          if (V != 0) {
              var L = []
                , em = g[2].length;
              for (var G = 0; G < em; G++)
                  L.push(V);
              if (_.Y.dF(g))
                  _.Y.MP(g, 2, L)
          }
          var ag = new fn;
          ag.scale(x.x == 0 ? 1 : k.x / x.x, x.y == 0 ? 1 : k.y / x.y);
          _.Y.aW(g, ag)
      }
      i.b = g;
      if (j)
          C.push(j)
  }
  ;
  dc.Rs = function(E, K) {
      return E[K.sessionID + "," + K.localID]
  }
  ;
  dc.agW = function(E, K) {
      return E.sessionID == K.sessionID && E.localID == K.localID
  }
  ;
  dc.a3t = function(E) {
      var K = {
          NORMAL: "norm",
          MULTIPLY: "mul ",
          SCREEN: "scrn"
      }[E];
      if (K == null)
          throw E;
      return K
  }
  ;
  dc.h0 = function(E) {
      return {
          t: "Objc",
          v: _.V.VQ({
              h: E.r * 255,
              l: E.g * 255,
              O: E.b * 255
          })
      }
  }
  ;
  dc.m$ = function(E) {
      var K = [E.m00, E.m10, E.m01, E.m11, E.m02, E.m12];
      for (var G = 0; G < 6; G++)
          if (Math.abs(K[G]) < 1e-20)
              K[G] = 0;
      return new fn(K[0],K[1],K[2],K[3],K[4],K[5])
  }
  ;
  function fE() {}
  fE.sQ = function() {
      var E = O.zV;
      function K(I, h, o, H) {
          var A = H ? [] : {};
          while (h < I.length - 1 && I[h] != 125) {
              var S = E(I, h, 3), v = E(I, h + 3, 1), s;
              h += 4;
              h++;
              if (v == "v") {
                  var D = K(I, h, o + 1, S == "ELM" || S == "TIL");
                  s = D.G;
                  h = D.i
              } else if (v == "i" || v == "f") {
                  var F = h;
                  while (I[F] != 125)
                      F++;
                  var y = E(I, h, F - h);
                  s = v == "i" ? parseInt(y, 16) : parseFloat(y);
                  h = F + 1
              } else if (v == "s") {
                  var T = O.HJ(I, h)
                    , y = "";
                  h += 2;
                  for (var G = 0; G < T; G++)
                      y += String.fromCharCode(I[h + 2 * G + 1]);
                  s = y;
                  h = h + 2 * T + 1
              } else if (v == "b") {
                  s = I[h] == 49;
                  h = h + 2
              } else
                  throw "e";
              if (H)
                  A.push([S, s]);
              else if (A[S] == null)
                  A[S] = s;
              else {
                  if (!(A[S]instanceof Array))
                      A[S] = [A[S]];
                  A[S].push(s)
              }
          }
          h++;
          return {
              G: A,
              i: h
          }
      }
      function i(I, h) {
          var o = C(I).slice(1)
            , I = h.Clr.v;
          I.Rd.v = o[0] * 255;
          I.Grn.v = o[1] * 255;
          I.Bl.v = o[2] * 255
      }
      function C(I) {
          return [(I >>> 24 & 255) / 255, (I >>> 16 & 255) / 255, (I >>> 8 & 255) / 255, (I >>> 0 & 255) / 255]
      }
      function N(I, h) {
          var o = h & 4278190080 | (h & 255) << 16 | (h >>> 8 & 255) << 8 | h >>> 16 & 255;
          new Uint32Array(I.buffer).fill(o)
      }
      function k(I, h) {
          var o = I.TSZ
            , H = I.WPX
            , A = I.HPX
            , S = I.TIL
            , v = new h4(0,0,H,A)
            , s = _.I(H * A * 4)
            , D = 0;
          for (var F = 0; F < A; F += o)
              for (var y = 0; y < H; y += o) {
                  var T = new h4(y,F,o,o), Q, B = S[D];
                  if (B[0] == "TMC") {
                      Q = _.I(T.X() * 4);
                      N(Q, B[1])
                  } else if (B[0] == "TID") {
                      Q = h[B[1]]
                  }
                  _.p8(Q, T, s, v);
                  D++
              }
          return [s, v]
      }
      function V(I, h) {
          I = new Uint8Array(I);
          var o = 8, H, A = {};
          while (o < I.length) {
              var S = O.n(I, o);
              o += 4;
              var v = E(I, o, 4);
              o += 4;
              if (v == "mkTS") {
                  var s = pako.inflate(I.slice(o, o + S))
                    , D = K(s, 0, 0);
                  H = D.G
              } else if (v == "mkBT") {
                  var F = O.n(I, o + 4)
                    , y = O.n(I, o + 8)
                    , s = pako.inflate(I.slice(o + 76, o + S));
                  if (y == 0)
                      for (var G = 0; G < s.length; G += 4) {
                          var T = s[G]
                            , Q = s[G + 1]
                            , B = s[G + 2]
                            , r = s[G + 3];
                          s[G + 3] = T;
                          s[G + 2] = r;
                          s[G + 1] = B;
                          s[G] = Q
                      }
                  else {
                      var J = _.I(s.length * 4);
                      J.fill(255);
                      _.WE(s, J);
                      s = J
                  }
                  A[F] = s
              }
              o += S + 4
          }
          var m = H.PDC ? H.PDC : H.MKB
            , x = m.WID
            , R = m.HIT
            , b = m.BGC;
          h.d = x;
          h.v = R;
          if (b >>> 24 != 0) {
              var z = h.qV();
              z.gv("Background");
              h.t.push(z);
              z.rect = new h4(0,0,x,R);
              z.buffer = _.I(z.rect.X() * 4);
              N(z.buffer, b)
          }
          var $ = (m.LYL ? m : H).LYL.LAY;
          for (var G = 0; G < $.length; G++)
              a($[G], h, null, A)
      }
      function j(I, h, o) {
          var H = I[h];
          return H instanceof Array ? H[o] : H
      }
      function a(I, h, o, H) {
          var A = h.qV();
          if (I.VIS != null)
              A.HU(I.VIS);
          if (I.VIF != null)
              A.HU(I.VIF.VIS);
          if (I.OPA != null)
              A.opacity = Math.round(255 * I.OPA / 1e3);
          A.SI = I.CLL || o == "GRP" ? "pass" : "norm";
          if (I.BLD != null) {
              var S = I.BLD
                , v = {
                  "0": "norm",
                  "2": "mul ",
                  "5": "scrn",
                  "7": "diss",
                  "9": "dark",
                  "10": "lite",
                  "37": "idiv",
                  "30": "norm",
                  "39": "lbrn",
                  "41": "vLit"
              }[S + ""];
              if (v == null)
                  console.log(I.OBN, S);
              else
                  A.SI = v;
              if (S == 30)
                  A.opacity >>>= 1
          }
          if (I.CLL) {
              A.gv(I.LNM);
              h.t.push(h.Yy());
              var s = I.CLL.CEL.ELM;
              for (var G = s.length - 1; G >= 0; G--)
                  a(s[G][1], h, s[G][0], H);
              A.add.lsct = I.DIS ? c5.qd : c5.Kw;
              A.it |= 24
          } else if (o == "GRP") {
              var D = A.add.lmfx = e(I.EFL), F;
              h.t.push(h.Yy());
              var s = I.ELM;
              if (I.MNA && I.MRX) {
                  F = s[0][1];
                  s = s.slice(1)
              }
              A.gv("Group: " + s.length + " objects");
              for (var G = s.length - 1; G >= 0; G--)
                  a(s[G][1], h, s[G][0], H);
              if (F) {
                  var y = k(F, H)
                    , T = A.r = new U.xW;
                  T.rect = y[1].clone();
                  T.rect.x = F.XLC;
                  T.rect.y = F.YLC;
                  T.channel = _.I(T.rect.X());
                  _.wF(y[0], T.channel, 0);
                  _.KP(T.channel)
              }
              A.add.lsct = c5.Kw;
              A.it |= 24
          } else if (o == "IMG") {
              A.gv(I.OBN ? I.OBN : "Bitmap");
              var y = k(I, H);
              A.rect = y[1].clone();
              A.rect.x = I.XLC;
              A.rect.y = I.YLC;
              A.buffer = y[0]
          } else if (o == "TXT") {
              var Q = I.TFS
                , B = Q.TRN instanceof Array ? Q.TRN.length : 1
                , x = "";
              A.add.lnsr = "rend";
              A.add.TySh = cO.u3(0, 0);
              A.add.TySh.u9 = new h4(0,0,100,100);
              var r = new fn(1,0,0,1,I.LFT,I.TOP);
              if (I.MTX) {
                  var J = I.MTX
                    , T = new fn(J.M00,J.M01,J.M10,J.M11,J.M20,J.M21);
                  r.concat(T)
              }
              A.add.TySh.m = r;
              var m = A.add.TySh.Ou;
              for (var G = 0; G < B; G++) {
                  var R = j(Q, "TRN", G);
                  cO.qu(m, x.length, R);
                  var b = cO.UX(m, 0, 1);
                  cO.Ui(b, j(Q, "FON", G));
                  b.dP.FontSize = Math.round(j(Q, "PTS", G));
                  var z = j(Q, "FCL", G);
                  b.dP.FillColor = {
                      Type: 1,
                      Values: C(z)
                  };
                  cO.Wk(m, x.length, x.length + R.length, b);
                  x += R
              }
              A.gv(x.slice(0, 255));
              var $ = I.RIT - I.LFT
                , P = I.BOT - I.TOP;
              if (I.IMG) {
                  a(I.IMG, h, "IMG", H);
                  var t = h.t.pop();
                  A.buffer = t.buffer;
                  A.rect = t.rect
              }
              cO.kw(m, 1);
              cO.Bk(m, [0, 0, $, P])
          } else if (o == "PTH") {
              A.gv(I.OBN ? I.OBN : "Path");
              A.it |= 16;
              var X = !1
                , Z = A.add.vmsk = new U.ql
                , p = A.add.vstk = JSON.parse(JSON.stringify(ao.S6.default))
                , D = A.add.lmfx = e(I.EFL, Z)
                , f = I.PBL.PBP;
              if (!(f instanceof Array))
                  f = [f];
              for (var cY = 0; cY < f.length; cY++) {
                  var fC = f[cY].PBT
                    , hi = f[cY].ISC ? 0 : 3;
                  Z.b.push({
                      type: hi,
                      length: fC.length,
                      A0: 0,
                      n_: 2,
                      XH: 0,
                      h6: 0
                  });
                  for (var G = 0; G < fC.length; G++) {
                      var es = fC[G]
                        , W = es.XLC
                        , d = es.YLC
                        , fM = [W, d, W, d, W, d]
                        , n = "XPC YPC XLC YLC XSC YSC".split(" ");
                      for (var ax = 0; ax < 6; ax++) {
                          var d_ = n[ax]
                            , cm = es[d_];
                          if (cm != null)
                              fM[ax] = cm
                      }
                      Z.b.push({
                          type: hi + 2,
                          D: new bT(W,d),
                          ln: new bT(fM[0],fM[1]),
                          _8: new bT(fM[4],fM[5])
                      })
                  }
              }
              A.cE();
              var c4 = _.Y.HD(Z.b)
                , ch = I.PAT
                , hQ = ch.BPL
                , em = ch.FPL
                , ag = ch.TXF;
              if (em && em.FEF)
                  Z.zo += em.FEF / 2.4;
              if (hQ) {
                  var am = hQ.CAT;
                  p.strokeEnabled.v = !0;
                  p.strokeStyleLineWidth.v.val = hQ.BDI;
                  if (hQ.BDI == 1)
                      p.strokeStyleLineAlignment.v.strokeStyleLineAlignment = "strokeStyleAlignInside";
                  i(ch.BCL, p.strokeStyleContent.v);
                  if (am != "bc_Basic" && am != "bc_Pencil")
                      X = !0
              }
              if (em == null) {
                  p.fillEnabled.v = !1;
                  A.add.SoCo = JSON.parse(ao.Fc[ao.order.indexOf("SoFi")]);
                  i(0, A.add.SoCo)
              } else if (em.CAT == "fc_Solid") {
                  A.add.SoCo = JSON.parse(ao.Fc[ao.order.indexOf("SoFi")]);
                  i(I.PAT.FCL, A.add.SoCo)
              } else if (em.CAT == "fc_Linear" || em.CAT == "fc_Circular" || em.CAT == "fc_Elliptical") {
                  var bK = em.CAT == "fc_Linear"
                    , ei = A.add.GdFl = JSON.parse(ao.Fc[ao.order.indexOf("GrFl")])
                    , dL = ei.Grad.v
                    , fh = []
                    , eu = em.FGL.FGY
                    , n = eu.FG0.FGI
                    , hf = eu.FG1.FGI;
                  for (var G = 0; G < n.length; G++) {
                      var iS = n[G]
                        , aI = C(iS.FGC)
                        , gn = 1;
                      if (hf.length == n.length)
                          gn = C(hf[G].FGC)[0];
                      fh.push([iS.FGP, aI.slice(1), gn])
                  }
                  ei.Type.v.GrdT = bK ? "Lnr" : "Rdl";
                  _.V.xe(fh, dL);
                  dL.Intr.v = 0;
                  var ce = I.PRI ? I.PRI : I
                    , gr = new bT(ce.PSX,ce.PSY)
                    , ek = new bT(ce.PEX,ce.PEY);
                  if (em.CAT == "fc_Elliptical" && ce.PFX != null) {
                      var bJ = new bT(ce.PFX,ce.PFY)
                        , aN = bT.zL(gr, ek)
                        , bG = bT.zL(gr, bJ);
                      if (bG < aN) {
                          var aQ = aN;
                          aN = bG;
                          bG = aQ
                      }
                      ek = new bT(gr.x + (aN + bG) / 2,gr.y);
                      if (aN / bG < .5)
                          X = !0
                  }
                  if (bK) {
                      gr.x = (gr.x + ek.x) / 2;
                      gr.y = (gr.y + ek.y) / 2
                  }
                  _.V.g3(gr, ek, c4, ei)
              } else
                  console.log(em.CAT);
              if (em && em.FTB != 0) {
                  var y = k(ag.MSK, H)
                    , cu = {};
                  cu.id = bl.Eu() + "-d71c-11e5-b1ae-a548a96e5f9f";
                  cu.name = "someImage";
                  cu.yG = y;
                  h.fN(cu);
                  var gX = y[0];
                  for (var G = 0; G < gX.length; G += 4) {
                      gX[G + 3] = 255 - gX[G];
                      gX[G] = gX[G + 1] = gX[G + 2] = 255
                  }
                  var ei = JSON.parse(ao.Fc[ao.order.indexOf("patternFill")]);
                  ei.Opct.v.val = Math.round(em.FTB / 10);
                  ei.Algn.v = !0;
                  ei.Ptrn.v.Idnt.v = cu.id;
                  D.patternFillMulti.v.unshift({
                      t: "Objc",
                      v: ei
                  })
              }
              if (X && I.IMG) {
                  a(I.IMG, h, "IMG", H);
                  var bW = h.t[h.t.length - 1];
                  bW.opacity = A.opacity;
                  return
              }
              A.Kf(h)
          } else
              console.log("unknown layer type", o, I);
          h.t.push(A)
      }
      function e(I, h) {
          var o = JSON.parse(ao.default);
          for (var G = 0; G < ao.order.length; G++)
              o[ao.Y9[G]] = {
                  t: "VlLs",
                  v: []
              };
          if (I == null)
              return o;
          var H = I.EPS;
          if (!(H instanceof Array))
              H = [H];
          for (var G = 0; G < H.length; G++) {
              var A = H[G].DCE
                , S = {};
              for (var v = 0; v < A.length; v++)
                  S[A[v].DCK] = A[v].DCV;
              if (S.EffectIsVisible == "false")
                  continue;
              var s = S.mkbFile_WriteOnly_TemporaryEffectUiName;
              if (s == "Gaussian Blur..." && h) {
                  h.zo += parseFloat(S.gaussian_blur_radius);
                  continue
              }
              var D = ["Drop Shadow", "Inner Bevel", "Inner Glow"].indexOf(s);
              if (D == -1) {
                  continue
              }
              var F = ["DrSh", "ebbl", "IrGl"][D]
                , y = ao.Y9[ao.order.indexOf(F)]
                , T = JSON.parse(ao.Fc[ao.order.indexOf(F)]);
              o[y].v.unshift({
                  t: "Objc",
                  v: T
              });
              if (F == "DrSh") {
                  T.uglg.v = !1;
                  L(S, "ShadowDistance", T, "Dstn");
                  L(S, "ShadowBlur", T, "blur");
                  L(S, "ShadowAngle", T, "lagl", 180);
                  T.Opct.v.val = 100;
                  g(S, "ShadowColor", T, "Clr")
              }
              if (F == "IrGl") {
                  T.Md.v.BlnM = "Nrml";
                  var Q = S.MaskSoftness
                    , B = S.GlowWidth;
                  if (Q && B) {
                      Q = parseInt(Q);
                      B = parseInt(B);
                      T.blur.v.val = B + Q;
                      T.Ckmt.v.val = Math.round(100 * B / (B + Q))
                  }
                  L(S, "BevelContrast", T, "Opct");
                  g(S, "OuterBevelColor", T, "Clr")
              }
              if (F == "ebbl") {
                  T.uglg.v = !1;
                  L(S, "BevelWidth", T, "blur");
                  L(S, "AngleSoftness", T, "Sftn");
                  L(S, "BevelContrast", T, "srgR");
                  L(S, "LightAngle", T, "lagl")
              }
          }
          return o
      }
      function L(I, h, o, H, A) {
          var S = I[h];
          if (A == null)
              A = 0;
          if (S)
              o[H].v.val = parseInt(S) + A
      }
      function g(I, h, o, H) {
          var A = I[h];
          if (A) {
              A = A.slice(1);
              if (A.length == 6)
                  A = A + "ff";
              if (A.length != 8)
                  throw "e";
              var S = C(parseInt(A, 16))
                , v = o[H].v;
              v.Rd.v = S[0] * 255;
              v.Grn.v = S[1] * 255;
              v.Bl.v = S[2] * 255;
              o.Opct.v.val = Math.round(o.Opct.v.val / 100 * S[3] * 100)
          }
      }
      return V
  }();
  function g5() {}
  g5.sQ = function() {
      function E(y, T) {
          var Q = !1
            , B = Date.now()
            , r = S(y, Q);
          if (Q)
              console.log("part found", Date.now() - B);
          B = Date.now();
          var J = A(r)
            , m = J.Layer
            , x = J.Header;
          if (Q)
              console.log(J);
          var R = m[0];
          R = J.Layer[0];
          if (Q)
              console.log("document parsed", Date.now() - B);
          B = Date.now();
          var b = x.Cropmarks
            , z = x.ArtSize.split(" ").map(parseFloat)
            , $ = x.BoundingBox.split(" ").map(parseFloat);
          J.Setup.Gradient = H(J.Setup.Gradient, r);
          if (Q)
              console.log("grads loaded", Date.now() - B);
          B = Date.now();
          J.Setup.Pattern = o(J.Setup.Pattern, r);
          if (Q)
              console.log("patts loaded", Date.now() - B);
          B = Date.now();
          T.d = Math.round(z[0]);
          T.v = Math.round(z[1]);
          var P = [1, 0, 0, 1, -$[0] + (T.d - ($[2] - $[0])) / 2, -$[1] + (T.v - ($[3] - $[1])) / 2];
          P[3] = -1;
          P[5] = T.v - P[5];
          if (b) {
              b = b.split(" ").map(parseFloat);
              T.d = Math.round(b[2] - b[0]);
              T.v = Math.round(b[3] - b[1]);
              P = [1, 0, 0, -1, -b[0], T.v + b[1]]
          }
          var t = Math.max(T.d, T.v) < 1200 ? 2 : 1;
          T.d = Math.round(T.d * t);
          T.v = Math.round(T.v * t);
          T.v9 = Math.round(72 * t);
          T.buffer = _.I(T.d * T.v * 4);
          for (var G = 0; G < 6; G++)
              P[G] *= t;
          for (var X = 0; X < m.length; X++) {
              var Z = m[X]
                , p = g(r, Z);
              K(T, p, P, J, Z, r)
          }
          if (Q)
              console.log("layers created", Date.now() - B);
          B = Date.now()
      }
      function K(y, T, Q, B, r, J) {
          var m = "", x = 0, R = "", b = UDOC.G, z = UDOC.getState(), $ = "norm", P = 1, t = "SoCo", p = !1, f = null, cY = null, fC, hi = 0, es = 0, W = 0;
          z.ctm = Q;
          var X = [0, 0, 0]
            , Z = [0, 0, 0]
            , gl = []
            , d = []
            , fM = [];
          for (var n = 0; n < T.length; n++) {
              var ax = T[n];
              if (ax[0] == "%" && !ax.endsWith(" Xh")) {
                  if (ax == "%_/ArtDictionary :")
                      f = ax.slice(2);
                  else if (f != null) {
                      if (ax == "%_;") {
                          var d_ = s(f + "\n;")[0]
                            , cm = d_.AI10_ArtUID;
                          if (cm && !cm.startsWith("XMLID"))
                              y.t[y.t.length - 1].gv(D(cm));
                          f = null
                      } else
                          f += "\n" + ax.slice(ax[1] == "_" ? 2 : 1)
                  } else if (cY) {
                      cY.push(ax.slice(2, ax.length - 3));
                      if (!ax.endsWith("X#"))
                          throw ax
                  }
                  continue
              } else if (ax == "/Mesh X!") {
                  cY = [];
                  continue
              } else if (ax == "/End X!") {
                  i(cY, z, y);
                  cY = null;
                  continue
              }
              var c4 = ax.split(" ")
                , ch = c4[c4.length - 1]
                , hQ = ch.toLowerCase()
                , em = c4.map(parseFloat);
              if (ch == "m")
                  b.moveTo(z, em[0], em[1]);
              else if (ch == "L" || ch == "l")
                  b.lineTo(z, em[0], em[1]);
              else if (ch == "V" || ch == "v" || ch == "Y" || ch == "y")
                  b.quadCurveTo(z, em[0], em[1], em[2], em[3]);
              else if (ch == "C" || ch == "c")
                  b.curveTo(z, em[0], em[1], em[2], em[3], em[4], em[5]);
              else if (ch == "H" || ch == "h") {
                  if (ch == hQ)
                      b.closePath(z);
                  gl.push(JSON.parse(JSON.stringify(z.pth)))
              } else if (ch == "Xy") {
                  $ = ["norm", "mul ", "scrn"][em[0]];
                  P = em[1];
                  if ($ == null) {
                      $ = "norm";
                      console.log("unknown blend mode", em[0])
                  }
              } else if (ch == "Xd") {
                  var ag = y.t[y.t.length - 1];
                  ag.opacity = Math.round(255 * P);
                  ag.SI = ag.Uf() && $ == "norm" ? "pass" : $
              } else if (ch == "AE")
                  hi = em[0];
              else if (ch == "Ae")
                  es = em[0];
              else if (ch == "Xw")
                  W = em[0];
              else if (ch == "*") {
                  var am = z.pth.crds
                    , bK = z.ctm
                    , ei = am[0] == am[2] ? 0 : 1;
                  y.rJ[ei].push(am[ei]);
                  b.newPath(z)
              } else if (ch == "Xh")
                  fC = em;
              else if (ch == "XI") {
                  var dL = r.Raster[x++].Data
                    , fh = dL._begin
                    , eu = dL._end;
                  while (J[fh] != 88)
                      fh++;
                  fh += 3;
                  var hf = J.slice(fh, eu)
                    , iS = fC[8]
                    , aI = fC[9]
                    , gn = iS * aI
                    , ce = _.I(gn * 4);
                  ce.fill(255);
                  for (var G = 0; G < gn; G++)
                      for (var gr = 0; gr < 3; gr++)
                          ce[4 * G + gr] = hf[3 * G + gr];
                  if (eu - fh == gn * 4)
                      for (var G = 0; G < gn; G++)
                          ce[4 * G + 3] = hf[3 * gn + G];
                  var ek = _.nY(ce, iS, aI) ? "JPG" : "PNG"
                    , bJ = fb.vG(ek).PW([[ce.buffer]], iS, aI)
                    , aN = y.Yn(new Uint8Array(bJ), "<Image>", 0, 0);
                  y.t.push(aN);
                  aN.SI = $;
                  aN.opacity = Math.round(255 * P);
                  aN.HU(W == 0);
                  var Q = new fn;
                  Q.scale(1, -1);
                  Q.concat(j(fC.slice(1)));
                  Q.concat(j(z.ctm));
                  var bG = aN.rect.clone();
                  bG.x = bG.y = 0;
                  var c4 = _.$.X6(bG).H;
                  _.$.m(c4, Q, c4);
                  aN.add.SoLd.Trnf = u._.j6(c4);
                  aN.add.SoLd.nonAffineTransform = u._.j6(c4);
                  aN.z_(y, !1)
              } else if (ch == "Ln") {
                  m = N(ax)
              } else if (ch == "u" || ch == "q" || ch == "Lb") {
                  d.push(es == 1);
                  fM.push(W == 0);
                  if (p)
                      continue;
                  y.t.push(y.Yy())
              } else if (ch == "U" || ch == "Q" || ch == "LB") {
                  if (d.length == 0 || fM.length == 0)
                      throw n;
                  var aQ = d.pop()
                    , cu = fM.pop();
                  if (ch == "LB")
                      aQ = hi == 1;
                  if (p)
                      continue;
                  var aN = y.qV();
                  aN.gv((ch == "U" ? "<Group>" : "<Clip Group>") + R);
                  if (ch == "LB")
                      aN.gv(m);
                  if (ch == "Q")
                      e(aN, gl.pop(), y);
                  aN.add.lsct = aQ ? c5.qd : c5.Kw;
                  aN.SI = "pass";
                  aN.it = 24;
                  aN.HU(cu);
                  y.t.push(aN)
              } else if (ch == "Bb" || ch == "Bh" || ch == "BB") {} else if (ch == "Bg") {
                  var gX = B.Setup.Gradient[N(ax)];
                  t = "GdFl";
                  X = C(gX.wn, gX.a3K)
              } else if (ch == "Bm" || ch == "Xm") {
                  var bW = X.Type.v.GrdT;
                  if (bW == "Lnr" && ch != "Xm" || bW == "Rdl" && ch != "Bm")
                      continue;
                  var dE = _.$.Rk(z.pth.crds)
                    , b4 = new bT(0,0)
                    , cC = new bT(1,0)
                    , gN = new fn;
                  gN.concat(j(em));
                  gN.concat(j(z.ctm));
                  b4 = gN.uZ(b4);
                  cC = gN.uZ(cC);
                  if (bW == "Lnr") {
                      b4.x = (b4.x + cC.x) / 2;
                      b4.y = (b4.y + cC.y) / 2
                  }
                  _.V.g3(b4, cC, dE, X)
              } else if (ch == "p") {
                  var eH = N(ax)
                    , hx = B.Setup.Pattern[eH];
                  if (hx.raw == null) {
                      var dE = hx.J8
                        , iS = Math.round(dE[2] - dE[0])
                        , aI = Math.round(dE[3] - dE[1])
                        , d_ = new bl;
                      d_.d = iS;
                      d_.v = aI;
                      d_.buffer = _.I(iS * aI * 4);
                      K(d_, hx.db, [1, 0, 0, -1, -hx.J8[0], aI + hx.J8[1]]);
                      hx.raw = new Uint8Array(fb.vG("PSD").PW(d_))
                  }
                  var c2 = ax.slice(ax.indexOf(")") + 2)
                    , hv = c2.slice(0, c2.indexOf("[") - 1).split(" ").map(parseFloat)
                    , fu = c2.slice(c2.indexOf("[") + 1, c2.indexOf("]")).split(" ").map(parseFloat);
                  t = "patt";
                  X = [eH, hv, fu]
              } else if (ch == "J" || ch == "j" || ch == "w" || ch == "M" || ch == "d") {
                  for (var G = 1; G < c4.length; G++) {
                      var dv = c4[G]
                        , fj = em[G - 1];
                      if (dv == "w")
                          z.lwidth = fj;
                      if (dv == "j")
                          z.ljoin = fj;
                      if (dv == "J")
                          z.lcap = fj
                  }
              } else if (hQ == "xa") {
                  var il = [em[4], em[5], em[6]];
                  t = "SoCo";
                  if (ch == "Xa")
                      X = il;
                  else
                      Z = il
              } else if (hQ == "xk") {
                  var il = [em[4], em[5], em[6]];
                  t = "SoCo";
                  if (ch == "Xk")
                      X = il;
                  else
                      Z = il
              } else if (hQ == "k") {
                  var il = a(c4);
                  t = "SoCo";
                  if (ch == hQ)
                      X = il;
                  else
                      Z = il
              } else if (hQ == "g") {
                  var il = [em[0], em[0], em[0]];
                  t = "SoCo";
                  if (ch == hQ)
                      X = il;
                  else
                      Z = il
              } else if (hQ == "n")
                  b.newPath(z);
              else if (ch == "*u")
                  p = !0;
              else if (ch == "*U" || (hQ == "s" || hQ == "f" || hQ == "b") && !p) {
                  if (ch == hQ)
                      b.closePath(z);
                  if (ch == "*U") {
                      p = !1
                  }
                  var aN;
                  if (t == "patt") {
                      var hx = B.Setup.Pattern[X[0]];
                      aN = y.Yn(hx.raw, "<Pattern>", 0, 0);
                      var bG = aN.rect.clone();
                      bG.x = bG.y = 0;
                      var c4 = _.$.X6(bG).H
                        , fu = j(X[2]);
                      fu.vK = fu.Cz = 0;
                      _.$.m(c4, fu, c4);
                      aN.add.SoLd.Trnf = u._.j6(c4);
                      aN.add.SoLd.nonAffineTransform = u._.j6(c4);
                      aN.z_(y, !1)
                  } else {
                      aN = y.qV();
                      aN.it |= 16;
                      var iH = aN.add.vstk = JSON.parse(JSON.stringify(ao.S6.default));
                      iH.strokeEnabled.v = iH.fillEnabled.v = !1;
                      if (t == "SoCo") {
                          aN.add.SoCo = JSON.parse(ao.Fc[ao.order.indexOf("SoFi")]);
                          var fp = aN.add.SoCo.Clr.v;
                          k(fp, X)
                      }
                      if (t == "GdFl")
                          aN.add.GdFl = X;
                      if (hQ == "f" || hQ == "b" || ch == "*U")
                          iH.fillEnabled.v = !0;
                      if (hQ == "s" || hQ == "b")
                          a_.f_(iH, z, 1, a_.kY(Z))
                  }
                  aN.gv("<" + (ch == "*U" ? "Compound " : "") + "Path>" + R);
                  aN.SI = $;
                  aN.opacity = Math.round(255 * P);
                  aN.HU(W == 0);
                  e(aN, z.pth, y);
                  y.t.push(aN);
                  b.newPath(z)
              } else if (ch == "," && c4[1] == "/StoryIndex") {
                  var ff = B.Setup.TextDocument
                    , fD = null;
                  if (!(ff instanceof Array))
                      ff = B.Setup.TextDocument = I(ff, J);
                  var da = ff[0]
                    , aC = ff[2]
                    , aN = y.qV();
                  aN.add.lnsr = "rend";
                  aN.add.TySh = cO.u3(0, 0);
                  var fa = cM.a8I(da)
                    , hz = aN.add.TySh.Ou = fa[em[0]];
                  aN.gv(cO.Es(hz).slice(0, 50));
                  aN.SI = $;
                  aN.opacity = Math.round(255 * P);
                  aN.HU(W == 0);
                  var f6 = da._1._1[em[0]]._1._0[0]._0;
                  f6 = parseInt(f6.slice(1));
                  var bk = da._0._8._0
                    , dB = bk[f6]._0;
                  if (dB._0)
                      fD = V(dB._0);
                  else
                      fD = V(dB._1._0);
                  if (fD.length != 2) {
                      var dE = _.$.Rk(fD);
                      fD = [dE.x, dE.y];
                      cO.kw(hz, 1);
                      cO.Bk(hz, [0, 0, Math.round(dE.d), Math.round(dE.v)])
                  }
                  var bE = new fn
                    , f0 = new fn(1,0,0,1,fD[0],fD[1])
                    , dr = new fn(1,0,0,1,-aC[0],-aC[1])
                    , g6 = j(z.ctm)
                    , fk = new fn;
                  if (dB._2 && dB._2._2) {
                      var Q = V(dB._2._2);
                      fk = new fn(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])
                  }
                  bE.concat(f0);
                  bE.concat(fk);
                  bE.concat(dr);
                  bE.scale(1, -1);
                  bE.concat(g6);
                  aN.add.TySh.m = bE;
                  y.t.push(aN);
                  y.BJ = !0
              }
          }
      }
      function i(y, T, Q) {
          var B = UDOC.G
            , r = []
            , J = []
            , fC = 0
            , hi = 0
            , d_ = 0;
          for (var m = 0; m < y.length; m++) {
              var x = y[m];
              if (x[0] == "[") {
                  var R = x.indexOf("]"), b = x.slice(1, R).split(" ").map(parseFloat), z = x.slice(R + 2), $, P, t, X, Z, p;
                  if (z == "/Size" || z == "/P" || z == "/R")
                      continue;
                  if (z == "/S" || z == "/A") {
                      $ = b[0];
                      P = b[1];
                      t = b[2];
                      X = b[3];
                      Z = b[4];
                      p = b[5]
                  } else if (z == "/N") {
                      $ = b[4];
                      P = b[5];
                      t = b[6];
                      X = b[7];
                      Z = b[9];
                      p = b[10];
                      J.push([b.slice(0, 4), $, P])
                  } else
                      throw z;
                  r.push([z, Z, p, $, P, t, X])
              } else if (x == "/E") {
                  var gl = r.slice(0)
                    , f = 0;
                  for (var G = 0; G < r.length; G++) {
                      var cY = r[G][0];
                      if (cY == "/N") {
                          f++;
                          continue
                      }
                      var fC = G
                        , hi = G + 1;
                      while (r[hi][0] != "/N" && hi < r.length)
                          hi++;
                      if (f == 0 || f == 3) {
                          for (var es = 0; es < hi - fC; es++)
                              gl[fC + es] = r[hi - 1 - es]
                      } else
                          for (var es = fC; es < hi; es++) {
                              var W = gl[es]
                                , d = W[1];
                              W[1] = W[5];
                              W[5] = d;
                              d = W[2];
                              W[2] = W[6];
                              W[6] = d
                          }
                      G = hi - 1
                  }
                  r = [];
                  for (var G = 0; G < gl.length; G++) {
                      var W = gl[G];
                      r.push(W[1], W[2], W[3], W[4], W[5], W[6])
                  }
                  var fM = r.length;
                  B.moveTo(T, r[2], r[3]);
                  for (var G = 0; G < fM; G += 6) {
                      var t = r[(G + 4) % fM]
                        , X = r[(G + 5) % fM]
                        , Z = r[(G + 6) % fM]
                        , p = r[(G + 7) % fM]
                        , $ = r[(G + 8) % fM]
                        , P = r[(G + 9) % fM];
                      B.curveTo(T, t, X, Z, p, $, P)
                  }
                  B.closePath(T);
                  r = []
              }
          }
          var n = Q.qV();
          n.it |= 16;
          n.gv("<Mesh>");
          var ax = n.add.vstk = JSON.parse(JSON.stringify(ao.S6.default));
          ax.strokeEnabled.v = !1;
          for (var G = 0; G < J.length; G++)
              for (var es = G + 1; es < J.length; es++) {
                  var cm = J[G][0]
                    , c4 = J[es][0]
                    , ch = cm[0] - c4[0]
                    , hQ = cm[1] - c4[1]
                    , em = cm[2] - c4[2]
                    , ag = Math.sqrt(ch * ch + hQ * hQ + em * em);
                  if (ag > d_) {
                      d_ = ag;
                      fC = G;
                      hi = es
                  }
              }
          var am = J[fC]
            , bK = J[hi]
            , ei = n.add.GdFl = C(0, [[0, am[0]], [1, bK[0]]])
            , dL = j(T.ctm)
            , fh = dL.uZ(new bT(am[1],am[2]))
            , eu = dL.uZ(new bT(bK[1],bK[2]))
            , hf = _.$.Rk(T.pth.crds);
          fh.x = (fh.x + eu.x) / 2;
          fh.y = (fh.y + eu.y) / 2;
          _.V.g3(fh, eu, hf, ei);
          e(n, T.pth, Q);
          Q.t.push(n);
          B.newPath(T)
      }
      function C(y, T) {
          var Q = JSON.parse(ao.Fc[ao.order.indexOf("GrFl")])
            , B = Q.Grad.v;
          B.Intr.v = 0;
          Q.Type.v.GrdT = ["Lnr", "Rdl"][y];
          _.V.xe(T, B);
          return Q
      }
      function N(y) {
          return y.slice(y.indexOf("(") + 1, y.indexOf(")"))
      }
      function k(y, T) {
          y.Rd.v = T[0] * 255;
          y.Grn.v = T[1] * 255;
          y.Bl.v = T[2] * 255
      }
      function V(y) {
          var T = [];
          for (var G = 0; G < y.length; G++)
              T[G] = parseFloat(y[G].slice(1));
          return T
      }
      function j(y) {
          return new fn(y[0],y[1],y[2],y[3],y[4],y[5])
      }
      function a(y) {
          return UDOC.C.cmykToRgb(y)
      }
      function e(y, T, Q) {
          y.add.vmsk = new U.ql;
          if (T.crds.length != 0)
              y.add.vmsk.b = L(T);
          y.cE();
          y.Kf(Q)
      }
      function L(y) {
          var T = {
              H: y.crds,
              Z: y.cmds
          }
            , Q = _.$.rh(T, !1);
          return Q
      }
      function g(y, T) {
          var Q = [T._begin]
            , B = T._end - T._begin
            , r = B
            , J = T.Raster
            , z = 0;
          if (J) {
              for (var G = 0; G < J.length; G++) {
                  var m = J[G].Data
                    , x = m._begin + 32
                    , R = m._end;
                  if (x > R)
                      x = R;
                  Q.push(x, R);
                  r -= R - x
              }
          }
          Q.push(T._end);
          var b = new Uint8Array(r);
          for (var G = 0; G < Q.length; G += 2) {
              var x = Q[G]
                , $ = Q[G + 1] - x;
              b.set(new Uint8Array(y.buffer,x,$), z);
              z += $
          }
          return O.Yo(b).split(/\r\n|\r|\n/)
      }
      function I(y, T) {
          if (y == null)
              return [];
          var Q = g(T, y), B = "", r = "", J = 0, m;
          for (var G = 2; G < Q.length; G++) {
              var x = Q[G];
              if (x[0] == "%") {
                  if (J == 0)
                      B += x.slice(1);
                  else
                      r += x.slice(1)
              } else if (x == ";")
                  J++;
              else if (x.endsWith("/RulerOrigin ,"))
                  m = x.split(" ").slice(0, 2).map(parseFloat)
          }
          var R = [B, r]
            , b = [];
          for (var G = 0; G < 2; G++) {
              var z = R[G]
                , $ = new Uint8Array(z.length);
              O.EX($, 0, z);
              var P = FromPS.F.ASCII85Decode({
                  buff: $,
                  off: 0
              })
                , t = cK.sQ(P);
              b.push(t)
          }
          b.push(m);
          return b
      }
      function h(y, T) {
          if (y == null)
              return [];
          var Q = g(T, y);
          while (Q[Q.length - 1] == "")
              Q.pop();
          var B = s(Q.join("\n"), !0);
          for (var G = 0; G < B.length; G++)
              B[G] = F(B[G]);
          return B
      }
      function o(y, T) {
          var Q = {};
          if (y == null)
              return Q;
          for (var G = 0; G < y.length; G++) {
              var B = g(T, y[G])
                , r = B[1]
                , J = N(r)
                , m = r.slice(r.indexOf(")") + 2).split(" ").map(parseFloat)
                , x = [];
              for (var R = 2; R < B.length; R++)
                  x.push(B[R].slice(2));
              Q[J] = {
                  J8: m,
                  db: x
              }
          }
          return Q
      }
      function H(y, T) {
          var Q = {}, B, r;
          if (y == null)
              return Q;
          var J = [];
          for (var G = 0; G < y.length; G++) {
              var m = g(T, y[G]);
              for (var x = 0; x < m.length; x++) {
                  var R = m[x];
                  if (R[0] == "(") {
                      var b = R.split(")");
                      B = b[0].slice(1);
                      var z = b[1].split(" ");
                      r = parseInt(z[1])
                  } else if (R.endsWith("%_BS")) {
                      var b = R.split(" "), X, Z = 1;
                      b.pop();
                      b = b.map(parseFloat);
                      var $ = b.pop()
                        , P = b.pop()
                        , t = b.pop();
                      if (t == 0)
                          X = [b[0], b[0], b[0]];
                      else if (t == 2)
                          X = [b[4], b[5], b[6]];
                      else if (t == 1 || t == 3)
                          X = a(b);
                      else if (t == 6) {
                          if (b.length == 3)
                              X = [b[0], b[0], b[0]];
                          else
                              X = a(b);
                          Z = b.pop()
                      } else {
                          throw t
                      }
                      J.push([$ / 100, X, Z, P / 100])
                  } else if (R == "BD") {
                      for (var p = 0; p < J.length - 1; p++)
                          J[p][3] = J[p + 1][3];
                      J.sort(function(gl, f) {
                          return gl[0] - f[0]
                      });
                      Q[B] = {
                          wn: r,
                          a3K: J
                      };
                      J = []
                  }
              }
          }
          return Q
      }
      function A(y) {
          var T = "Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" ")
            , Q = Date.now()
            , B = 0
            , r = []
            , J = {
              Header: {}
          }
            , m = [J]
            , x = y.length;
          while (B < x) {
              var R = B;
              while (R != x && y[R] != 13 && y[R] != 10) {
                  R++
              }
              if (y[B] == 37 && y[B + 1] == 95 && y[B + 2] == 37)
                  B += 2;
              if (y[B] == 37 && y[B + 1] != 95 && y[B + 1] != 43) {
                  var b = O.zV(y, B, R - B);
                  if (b == "%%EndComments" || b == "%EndComments" || b == "%AI5_Begin_NonPrinting" || b == "%AI5_End_NonPrinting--") {} else {
                      var z = b.indexOf("Begin")
                        , $ = b.indexOf("End");
                      if (z != -1) {
                          var P = b.slice(z + 5).split(":")[0]
                            , t = {
                              _begin: B,
                              _end: B
                          }
                            , X = m[m.length - 1];
                          if (T.indexOf(P) != -1) {
                              if (X[P] == null)
                                  X[P] = [];
                              X[P].push(t)
                          } else {
                              if (X[P] != null) {
                                  console.log(m);
                                  throw b
                              }
                              X[P] = t
                          }
                          m.push(t);
                          if (b.startsWith("%%BeginData"))
                              R = O.V_(y, "%%EndData", B);
                          else if (b == "%AI9_BeginDocumentData")
                              R = O.V_(y, "%AI9_EndDocumentData", R);
                          else if (b == "%AI11_BeginTextDocument")
                              R = O.V_(y, "%AI11_EndTextDocument", R)
                      } else if ($ != -1) {
                          m.pop()._end = B
                      } else if (m.length == 1 && (b.startsWith("%AI") || b.startsWith("%%") && b.indexOf(" ") != -1)) {
                          var Z = 1;
                          if (b.startsWith("%AI"))
                              while (b[Z] != "_" && Z < b.length)
                                  Z++;
                          var p = b.indexOf(":");
                          if (p == -1)
                              p = b.indexOf(" ");
                          var gl = b.slice(Z + 1, p)
                            , f = b.slice(p + 1).trim();
                          J.Header[gl] = f
                      }
                  }
              }
              B = R;
              if (y[B] == 13)
                  B++;
              if (y[B] == 10)
                  B++
          }
          return J
      }
      function S(y, T) {
          var Q = Date.now(), B = new Uint8Array(y), r, J = B[2] == 68;
          if (T)
              console.log(!J ? "EPS" : "PDF");
          if (J) {
              var m = O.V_(B, "/AIMetaData ")
                , gl = !1;
              while (B[m] != 60)
                  m--;
              m--;
              var x = O.V_(B, ">>", m)
                , R = O.zV(B, m + 2, x - m - 2).split("/")
                , b = [];
              for (var G = 0; G < R.length; G++) {
                  var z = R[G]
                    , $ = z.indexOf(" ");
                  if (z == "")
                      continue;
                  var P = z.slice($ + 1)
                    , t = z.startsWith("AIPrivateData")
                    , X = z.startsWith("AIPDFPrivateData");
                  if (t || X) {
                      var Z = parseInt(z.slice(t ? 13 : 16));
                      if (Z < 2)
                          continue;
                      b.push([Z, P])
                  }
              }
              if (T)
                  console.log("--- map made", Date.now() - Q);
              Q = Date.now();
              var p = new Array(b.length)
                , f = m;
              for (var G = 0; G < b.length; G++) {
                  var cY = b[G][0]
                    , P = b[G][1];
                  f = O.V_(B, P.slice(0, P.length - 1) + "obj", f);
                  var fC = O.V_(B, "<<", f)
                    , hi = O.zV(B, fC + 2, 21) == "/Filter[/FlateDecode]"
                    , es = O.V_(B, "/Length", fC)
                    , W = O.V_(B, ">>stream", es)
                    , d = parseInt(O.zV(B, es + 8, W - es - 8));
                  W = W + 8;
                  if (B[W] == 13)
                      W++;
                  if (B[W] == 10)
                      W++;
                  if (O.zV(B, W, 20) == "%AI12_CompressedData") {
                      W += 20;
                      d -= 20;
                      gl = !0
                  }
                  var fM = new Uint8Array(B.buffer,W,d);
                  if (hi)
                      fM = UZIP.inflate(fM);
                  p[cY - 2] = fM;
                  f = W + d
              }
              if (T)
                  console.log("--- arrays found", Date.now() - Q);
              Q = Date.now();
              r = v(p);
              if (T)
                  console.log("--- concatenated", Date.now() - Q);
              Q = Date.now();
              if (gl)
                  r = UZIP.inflate(r);
              if (T)
                  console.log("--- inflated", Date.now() - Q);
              Q = Date.now()
          } else {
              var n = O.Yo(B);
              if (n.indexOf("%AI5_BeginLayer") != -1) {
                  r = B
              } else {
                  var ax = n.split(/[\n\r]+/)
                    , d_ = []
                    , cm = !1;
                  for (var c4 = 0; c4 < ax.length; c4++) {
                      var ch = ax[c4].trim();
                      if (ch == "%AI9_PrivateDataEnd") {
                          cm = !1;
                          break
                      } else if (ch == "%AI9_DataStream") {
                          cm = !0
                      } else if (cm)
                          d_.push(ch.slice(1))
                  }
                  var hQ = O.xm(d_.join(""))
                    , em = FromPS.F.ASCII85Decode({
                      buff: hQ,
                      off: 0
                  });
                  r = UZIP.inflate(em)
              }
          }
          return r
      }
      function v(y) {
          var T = 0
            , B = 0;
          for (var G = 0; G < y.length; G++)
              T += y[G].length;
          var Q = new Uint8Array(T);
          for (var G = 0; G < y.length; G++) {
              var r = y[G];
              Q.set(r, B);
              B += r.length
          }
          return Q
      }
      function s(y, T) {
          var Q = O.xm(y)
            , B = []
            , r = {
              off: 0,
              buff: Q
          }
            , J = []
            , m = FromPS.getFToken;
          while (r.off < Q.length) {
              var x = m(r)
                , R = x.typ
                , b = x.val;
              if (R == "string") {
                  var z = "";
                  for (var G = 0; G < b.length; G++)
                      z += String.fromCharCode(b[G]);
                  b = x.val = z
              }
              if (R == "name" && b == "X=") {
                  var $ = y.indexOf("\nX+", r.off);
                  if ($ == -1)
                      throw "e";
                  var P = y.slice(r.off, $);
                  J.push({
                      typ: "string",
                      val: P
                  }, {
                      typ: "name",
                      val: "/String"
                  });
                  r.off = $ + 3;
                  continue
              }
              if (R == "name" && b == ":") {
                  var t = J.pop().val;
                  if (t == "/ArtDictionary" || t == "/Dictionary" || t == "/XMLNode")
                      J.push({
                          typ: "dict",
                          val: {}
                      });
                  else if (t == "/Array")
                      J.push({
                          typ: "arr",
                          val: []
                      });
                  else if (t == "/XMLUID" || t == "/SVGFilter") {} else if (t == "/Binary") {
                      var X = m(r).val, Z = m(r), p;
                      if (X == "/ASCII85Decode")
                          p = FromPS.F.ASCII85Decode(r);
                      else
                          throw X;
                      J.push({
                          typ: "bin",
                          val: p
                      })
                  } else if (t == "/Mask") {
                      J.push({
                          typ: "dict",
                          val: {}
                      });
                      var gl = r.off
                        , f = O.V_(Q, "X+", gl);
                      J.push({
                          typ: "string",
                          val: O.zV(Q, gl, f - gl)
                      });
                      J.push({
                          typ: "name",
                          val: ";"
                      });
                      r.off = f + 2
                  } else {
                      console.log(J);
                      throw t
                  }
              } else if (R == "name" && b == ",") {
                  var cY = J.pop().val;
                  if (cY == "/NotRecorded")
                      continue;
                  if (cY.startsWith("/") || cY == ";") {
                      var fC = J.pop()
                        , hi = J.pop();
                      hi.val.push(fC.val);
                      J.push(hi)
                  } else {
                      var es = J.pop().val, fC;
                      if (!1) {} else if (["/UnicodeString", "/Int", "/Real", "/Bool", ";"].indexOf(es) != -1)
                          fC = J.pop().val;
                      else if (es == "/String") {
                          fC = "";
                          while (J[J.length - 1].typ == "string")
                              fC = J.pop().val + fC
                      } else if (es == "/RealMatrix") {
                          fC = new Array(6);
                          for (var G = 0; G < 6; G++)
                              fC[5 - G] = J.pop().val
                      } else
                          throw es;
                      var W = J.pop();
                      W.val[cY] = fC;
                      J.push(W)
                  }
              } else if (R == "name" && b == "/Def") {
                  m(r);
                  J.pop()
              } else
                  J.push(x)
          }
          if (J[J.length - 1].val == ";")
              J.pop();
          if (!T && J.length != 1) {
              console.log(y, J);
              throw "e"
          }
          var d = [];
          for (var G = 0; G < J.length; G++)
              d[G] = J[G].val;
          return d
      }
      function D(y) {
          var T = "";
          for (var G = 0; G < y.length; G++) {
              if (y[G] == "_" && y[G + 1] == "x") {
                  var l = parseInt(y.slice(G + 2, G + 4), 16);
                  T += String.fromCharCode(l);
                  G += 4
              } else if (y[G] == "_")
                  T += " ";
              else
                  T += y[G]
          }
          return T
      }
      function F(y) {
          var T = "xmlnode-nodename"
            , Q = "xmlnode-nodevalue"
            , B = "xmlnode-attributes"
            , r = "xmlnode-children"
            , J = y[T]
            , m = y[B]
            , x = y[r]
            , R = {
              _nam: J
          };
          for (var b in m) {
              var z = m[b];
              if (Object.keys(z[B]).length != 0 || z[r].length != 0)
                  throw "e";
              if (z[T] != b)
                  throw "e";
              R[b] = z[Q]
          }
          if (x.length == 0)
              return R;
          var $ = R.cln = [];
          for (var G = 0; G < x.length; G++)
              $.push(F(x[G]));
          return R
      }
      return E
  }();
  function fb() {}
  fb.uo = {
      agt: ["PNG", "JPG", "SVG", "GIF", "PDF"],
      adU: "WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")
  };
  fb.Km = {
      ado: function(E, K) {
          fetch(E).then(function(i) {
              return i.arrayBuffer()
          }).then(function(i) {
              var C = new Uint8Array(i)
                , N = 0
                , a = "";
              if (K) {
                  N = C.length;
                  var k = {
                      level: 9
                  }
                    , V = pako.deflateRaw(C, k)
                    , j = UZIP.deflateRaw(C, k);
                  console.log(N, V.length, j.length);
                  C = V.length < j.length ? V : j
              }
              for (var G = 0; G < C.length; G++)
                  a += String.fromCharCode(C[G]);
              var e = btoa(a);
              console.log(JSON.stringify([N, e]))
          })
      },
      get: function(E, K) {
          var i = BINDB[E]
            , C = Date.now()
            , N = atob(i[1])
            , k = N.length
            , V = new Uint8Array(k);
          for (var G = 0; G < k; G++)
              V[G] = N.charCodeAt(G);
          if (i[0] != 0) {
              var j = new Uint8Array(i[0]);
              UZIP.inflateRaw(V, j);
              V = j
          }
          if (K) {
              var a = fb.e1(V.buffer);
              V = fb.vG(a).VA(V.buffer)
          }
          return V
      }
  };
  fb.e1 = function(E) {
      if (!(E instanceof ArrayBuffer)) {
          console.log("Input is not ArrayBuffer")
      }
      var K = new Uint8Array(E), i = fb.nn, C, N = 0, k = K.length - 1;
      if (i(K, [239, 187, 191]))
          N = 3;
      while (N < K.length && (K[N] == 9 || K[N] == 10 || K[N] == 13 || K[N] == 32))
          N++;
      while (k != 0 && (K[k] == 9 || K[k] == 10 || K[k] == 13 || K[k] == 32))
          k--;
      if (i(K, [56, 66, 80, 83]))
          C = "psd";
      if (i(K, [120]))
          C = "pxd";
      if (i(K, [103, 105, 109, 112, 32, 120, 99, 102, 32]))
          C = "xcf";
      if (i(K, [102, 105, 103, 45, 107, 105, 119, 105]))
          C = "fig";
      if (i(K, [137, 80, 78, 71, 13, 10, 26, 10])) {
          C = "png";
          var V = 8;
          while (V < K.length) {
              var j = O.n(K, V);
              V += 4;
              var a = O.zV(K, V, 4);
              V += 4;
              if (a == "mkTS")
                  C = "fpng";
              V += j + 4
          }
      }
      if (i(K, [87, 76]))
          C = "cdr";
      if (i(K, [82, 73, 70, 70])) {
          var e = iJ.sQ(K)
            , L = e.gk;
          if (L == "WEBP")
              C = "webp";
          else if (L.slice(0, 3) == "CDR")
              C = "cdr";
          else
              C = L
      }
      if (i(K, [70, 79, 82, 77]) || i(K, [76, 73, 83, 84]) || i(K, [67, 65, 84, 32])) {
          var e = h3.sQ(K)
            , L = e.gk;
          if (L == "ILBM")
              C = "ilbm";
          else
              C = L
      }
      if (i(K, [255, 216, 255]))
          C = "jpg";
      if (i(K, [0, 0, 0, 12, 106, 80, 32, 32]))
          C = "jpg";
      if (i(K, [48, 0, 1, 0], 4))
          C = "jpg";
      if (i(K, [71, 73, 70, 56]))
          C = "gif";
      if (i(K, [0, 0, 0, 2, 121, 102, 113, 76]))
          C = "msh";
      if (i(K, [0, 0, 0, 3, 121, 102, 113, 76]))
          C = "msh";
      if (i(K, [0, 0, 0, 16]))
          C = "atn";
      if (i(K, [0, 1]))
          C = "aco";
      if (i(K, [0, 2]))
          C = "aco";
      if ([0, 1].indexOf(K[1]) != -1 && [1, 2, 3, 9, 10, 11].indexOf(K[2]) != -1 && [0, 16, 24, 32].indexOf(K[7]) != -1)
          C = "tga";
      if (i(K, [0, 2, 56, 66, 83, 76]))
          C = "asl";
      if (i(K, [0, 1, 0, -1, 0, 2, 0]))
          C = "abr";
      if (i(K, [0, 2, 0, -1, 0, 2, 0]))
          C = "abr";
      if (i(K, [0, 6, 0, 1]))
          C = "abr";
      if (i(K, [0, 6, 0, 2]))
          C = "abr";
      if (i(K, [0, 7, 0, 2]))
          C = "abr";
      if (i(K, [0, 9, 0, 2]))
          C = "abr";
      if (i(K, [0, 10, 0, 2]))
          C = "abr";
      if (i(K, [56, 66, 70, 83]))
          C = "shc";
      if (i(K, [56, 66, 80, 84]))
          C = "pat";
      if (i(K, [56, 66, 71, 82]))
          C = "grd";
      if (i(K, [56, 66, 84, 80]))
          C = "tpl";
      if (i(K, [0, 4, 0, 5]))
          C = "acv";
      if (i(K, [99, 117, 115, 104]))
          C = "csh";
      if (i(K, [0, 1, 0, 0, 0]))
          C = "otf";
      if (i(K, [79, 84, 84, 79]))
          C = "otf";
      if (i(K, [116, 116, 99, 102]))
          C = "otf";
      if (i(K, [68, 68, 83, 32]))
          C = "dds";
      if (i(K, [80, 86, 82, 3]))
          C = "pvr";
      if (i(K, [86, 84, 70, 0]))
          C = "vtf";
      if (i(K, [83, 73, 77, 80]))
          C = "fits";
      if (i(K, [0, 0, 1, 0]))
          C = "ico";
      if (i(K, [66, 77]))
          C = "bmp";
      if (i(K, [40, 0, 0, 0]))
          C = "bmp";
      if (i(K, [80, 49]))
          C = "ppm";
      if (i(K, [80, 50]))
          C = "ppm";
      if (i(K, [80, 51]))
          C = "ppm";
      if (i(K, [80, 52]))
          C = "ppm";
      if (i(K, [80, 53]))
          C = "ppm";
      if (i(K, [80, 54]))
          C = "ppm";
      if (i(K, [73, 73, 42, 0]))
          C = "tiff";
      if (i(K, [77, 77, 0, 42]))
          C = "tiff";
      if (i(K, [70, 85, 74, 73, 70, 73, 76, 77]))
          C = "raf";
      if (i(K, [112]))
          C = "lif";
      if (i(K, [73, 73, 26, 0]))
          C = "ciff";
      if (i(K, [83, 81, 76, 105]))
          C = "sketch";
      if (i(K, [80, 75])) {
          var g = UZIP.parse(E, !0);
          if (g["document.json"])
              C = "sketch";
          else if (g.manifest)
              C = "xd";
          else
              C = "zip"
      }
      if (i(K, [123]))
          C = "json";
      if (O.n(K, 0) == K.length)
          C = "icc";
      if (i(K, [35]))
          C = "icc";
      if (i(K, [84, 73, 84, 76]))
          C = "icc";
      if (i(K, [76, 85, 84, 95]))
          C = "icc";
      if (i(K, [60, 63, 120, 109], N)) {
          if (O.V_(K, "<look>") != -1)
              C = "icc";
          else
              C = "svg"
      }
      if (i(K, [60, 115, 118, 103], N))
          C = "svg";
      if (i(K, [60, 33, 100, 111], N) || i(K, [60, 33, 68, 79], N)) {
          if (O.V_(K, "<svg") != -1)
              C = "svg";
          else
              C = "html"
      }
      if (i(K, [37, 33]) || i(K, [197, 208, 211, 198])) {
          if (O.V_(K, "%AI9_PrivateDataBegin") != -1 || O.V_(K, "%AI5_BeginLayer") != -1)
              C = "ai";
          else
              C = "eps"
      }
      if (i(K, [37, 80, 68, 70], N)) {
          if (O.V_(K, "/AIMetaData ") != -1)
              C = "ai";
          else
              C = "pdf"
      } else if (i(K, [10, 69, 79, 70], k - 3))
          C = "dxf";
      if (i(K, [215, 205, 198, 154]))
          C = "wmf";
      if (i(K, [1, 0, 0, 0]))
          C = "emf";
      if (i(K, [118, 47, 49, 1]))
          C = "exr";
      if (i(K, [10, 10, 10, 10]))
          C = "jsx";
      if (i(K, [77, 90]))
          C = "exe";
      if (C == null && _.raw.p0(K.length) != null)
          return "tiff";
      return C
  }
  ;
  fb.nn = function(E, K, i) {
      if (i == null)
          i = 0;
      for (var G = 0; G < K.length; G++)
          if (K[G] != -1 && E[i + G] != K[G])
              return !1;
      return !0
  }
  ;
  fb.vG = function(E) {
      var K = {
          BMP: fb.abP,
          CDR: fb.lB,
          DDS: fb.X5,
          EMF: fb.ny,
          DXF: fb.mE,
          EPS: fb.jD,
          FIG: fb.JH,
          FPNG: fb.EO,
          GIF: fb.q$,
          ICO: fb.ou,
          ILBM: fb.rL,
          FITS: fb.KF,
          EXR: fb.sl,
          JPG: fb.W1,
          LIF: fb.UH,
          PDF: fb.Uo,
          PNG: fb.B4,
          PPM: fb.aB,
          PSD: fb.Sd,
          PXD: fb.sT,
          RAF: fb.yM,
          RAW: fb.FA,
          SKETCH: fb.xE,
          SVG: fb.xd,
          TGA: fb.zy,
          TIFF: fb.cG,
          VTF: fb.HY,
          WEBP: fb.DB,
          WMF: fb.Cy,
          XCF: fb.fO,
          XD: fb.YK,
          EXE: fb.Rr,
          AI: fb.IV
      };
      return K[E.toUpperCase()]
  }
  ;
  fb.hy = function(G) {
      var E = fb.uo.agt, K = fb.uo.adU, i, C = [];
      if (G == null)
          i = E.concat(K);
      else
          i = G == 0 ? E : K;
      for (var G = 0; G < i.length; G++)
          if (fb.vG(i[G]).PW)
              C.push(i[G]);
      return C
  }
  ;
  fb.tH = function(E, K, i, C, N) {
      var k = fb.Bs(E, K, i, C, N)
        , V = fb.x4(k);
      return V.buffer
  }
  ;
  fb.x4 = function(E) {
      var K = atob(E.split(",").pop())
        , i = new Uint8Array(K.length);
      for (var G = 0; G < K.length; G++)
          i[G] = K.charCodeAt(G);
      return i
  }
  ;
  fb.Bs = function(E, K, i, C, N, k) {
      if (!(E instanceof ArrayBuffer))
          throw "e";
      if (C == null)
          C = "png";
      if (C == "png" && k == !0) {
          var V = fb.vG("PNG").PW([[E, 0]], K, i);
          return "data:image/png;base64," + fb.cz(V)
      }
      var j = fb.RC;
      if (j == null)
          j = fb.RC = c.w("canvas");
      if (j.width != K || j.height != i) {
          j.width = K;
          j.height = i
      }
      var a = j.getContext("2d")
        , e = new ImageData(new Uint8ClampedArray(E,0,K * i * 4),K,i);
      a.putImageData(e, 0, 0);
      return j.toDataURL("image/" + C, N)
  }
  ;
  fb.am0 = function(E, K, i, C, N) {
      if (N == null)
          N = 0;
      var k = "<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>"
        , V = "<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> " + k + "<g transform=\"translate(64 64) scale(" + .25 * Math.round(c.M()) + ")\">";
      if (E == 1)
          V += "<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">" + "<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>" + "</g>";
      V += "<g filter=\"url(#sofGlow)\"><image transform=\"rotate(" + N + ")\" xlink:href=\"" + K + "\" x=\"" + 80 * i + "\" y=\"" + 80 * C + "\" height=\"80\" width=\"80\"/></g>" + "</g>" + "</svg>";
      var j = new Uint8Array(V.length);
      O.AP(V, j, 0);
      var a = "data:image/svg+xml;base64," + fb.cz(j.buffer);
      return {
          Ap: a,
          g: new h4(0,0,128,128),
          fu: new bT(64,64)
      }
  }
  ;
  fb.cz = function(E) {
      var K = new Uint8Array(E)
        , i = "";
      for (var G = 0; G < K.length; G++)
          i += String.fromCharCode(K[G]);
      return btoa(i)
  }
  ;
  fb.abz = function(E) {
      var K = atob(E)
        , i = K.length
        , C = new Uint8Array(i);
      for (var G = 0; G < i; G++)
          C[G] = K.charCodeAt(G);
      return C.buffer
  }
  ;
  fb.Lr = function(E) {
      var K = []
        , i = [];
      for (var G = 0; G < E.t.length; G++) {
          var C = E.t[G];
          if (C.getName().slice(0, 3) == "_a_") {
              K.push(G);
              i.push(C.VD())
          }
      }
      return [K, i]
  }
  ;
  fb.MV = function(E, K, i, C, N, k) {
      if (i == null)
          i = E.d;
      if (C == null)
          C = E.v;
      var V = new h4(0,0,E.d,E.v), j = new fn(i / (E.d + .001),0,0,C / (E.v + .001),0,0), e;
      K = K.toUpperCase();
      var a = fb.vG(K);
      if (a.tW) {
          E.A7();
          e = a.PW(E, i, C, N, k)
      } else {
          var L = fb.Lr(E), g = L[0], I = L[1], h;
          if (E.h_.length != 0) {
              h = [];
              for (var G = 0; G < E.h_.length; G++)
                  h.push(E.h_[G].or(V))
          }
          if (g.length < 2) {
              var o;
              if (i == E.d && C == E.v)
                  o = E.A7().buffer;
              else {
                  var H = u._.VT([E.A7(), V], j);
                  o = H.buffer.buffer
              }
              e = a.PW([[o, 0, E.v9, E.Xp, h]], i, C, N)
          } else {
              var A = [];
              for (var G = 0; G < g.length; G++) {
                  var S = g[G], o;
                  for (var v = 0; v < g.length; v++)
                      E.t[g[v]].HU(g[v] == S);
                  E.S8();
                  E.s();
                  E.L2();
                  if (i == E.d && C == E.v)
                      o = E.A7().buffer.slice(0);
                  else {
                      var H = u._.VT([E.A7(), V], j);
                      o = H.buffer.buffer
                  }
                  var s = E.t[S].getName().split(",");
                  A.push([o, s[1] ? parseInt(s[1]) : 100, E.v9, E.Xp, h])
              }
              for (var G = 0; G < g.length; G++)
                  E.t[g[G]].HU(I[G]);
              E.s();
              E.L2();
              if (N) {
                  var D = N.length
                    , F = N[D - 2]
                    , y = N[D - 1]
                    , T = N[D - 4] / 100;
                  if (T != 1)
                      for (var G = 0; G < A.length; G++)
                          A[G][1] = Math.round((A[G][1] == 0 ? 16 : A[G][1]) / T);
                  if (F)
                      A.reverse();
                  if (y) {
                      var Q = A.slice(1, A.length - 1);
                      Q.reverse();
                      A = A.concat(Q)
                  }
              }
              e = a.PW(A, i, C, N)
          }
      }
      return e
  }
  ;
  fb.qz = function(E, K) {
      var i = K[0].Ho && K[0].Ho.startsWith("_a_"), C, N = new bl(E + ".psd"), k = new h4(0,0,1,1);
      if (i) {
          C = N.qV();
          C.add.lsct = c5.qd;
          C.gv(E);
          C.SI = "pass";
          C.it = 24;
          C.HU(!0);
          N.t.push(N.Yy())
      }
      for (var G = 0; G < K.length; G++) {
          var V = K[G];
          k = k.ip(V.UP);
          var j = N.qV();
          j.HU(G == 0);
          j.gv(K.length == 1 ? "Background" : "Layer " + G);
          if (G == 0 && V.v9)
              N.v9 = V.v9;
          if (G == 0 && V.Xp)
              N.Xp = V.Xp;
          if (V.Ho)
              j.gv(V.Ho);
          if (V.Yi)
              for (var G = 0; G < V.Yi.length; G++) {
                  var a = V.Yi[G]
                    , e = bl.JU(a[0]);
                  e.add.vmsk.b = a[1];
                  _.Y.aW(a[1], new fn(k.d,0,0,k.v,0,0));
                  N.xq.push(e)
              }
          j.rect = V.UP.clone();
          j.buffer = new Uint8Array(V.data);
          _.YX(j);
          N.t.push(j)
      }
      if (i)
          N.t.push(C);
      if (K[0].h_) {
          for (var G = 0; G < K[0].h_.length; G++) {
              var L = new U.xW;
              N.h_.push(L);
              L.rect = K[0].UP.clone();
              L.channel = K[0].h_[G]
          }
      }
      N.C = [i ? N.t.length - 1 : 0];
      N.d = k.d;
      N.v = k.v;
      N.buffer = _.I(k.X() * 4);
      N.s();
      return N
  }
  ;
  fb.B4 = {};
  fb.B4.PW = function(E, K, i, C) {
      if (C == null)
          C = [100, !1, 0, 0, 0];
      var N = {
          sRGB: 1,
          loop: C[3]
      };
      if (E[0][2] != null) {
          var k = Math.round(E[0][2] * (1e4 / 254));
          N.pHYs = [k, k, 1]
      }
      var V = C[0]
        , j = V == 100 ? 0 : Math.max(2, Math.floor(V * 5));
      if (j == 5)
          j = 4;
      var a = []
        , e = [];
      for (var G = 0; G < E.length; G++) {
          a.push(E[G][0]);
          e.push(E[G][1])
      }
      var L = UPNG.encode(a, K, i, j, e, N, C[1]);
      return L
  }
  ;
  fb.B4.akO = function(E, K, i) {
      return UPNG.encodeLL([E], K, i, 3, 1, 8)
  }
  ;
  fb.B4.VA = function(E) {
      var K = Date.now()
        , i = UPNG.decode(E)
        , C = UPNG.toRGBA8(i)
        , N = i.width
        , k = i.height
        , V = 0;
      if (i.tabs.pHYs)
          V = Math.round(i.tabs.pHYs[0] * 254 / 1e4);
      if (C.length == 1)
          return [{
              UP: new h4(0,0,N,k),
              data: C[0],
              v9: V
          }];
      var j = [];
      for (var G = 0; G < C.length; G++) {
          j.push({
              Ho: "_a_frm" + G + "," + i.frames[G].delay,
              UP: new h4(0,0,N,k),
              data: C[G],
              v9: V
          })
      }
      return j
  }
  ;
  fb.aB = {};
  fb.aB.PW = function(E, K, i, C) {
      var N = new Uint8Array(E[0][0])
        , k = K * i
        , V = k * 3
        , j = "P6\n" + K + " " + i + "\n255\n"
        , a = j.length
        , e = _.I(a + V, !0);
      for (var G = 0; G < a; G++)
          e[G] = j.charCodeAt(G);
      for (var G = 0; G < k; G++) {
          var L = G * 4
            , g = G * 3 + a;
          e[g] = N[L];
          e[g + 1] = N[L + 1];
          e[g + 2] = N[L + 2]
      }
      return e.buffer
  }
  ;
  fb.aB.VA = function(E) {
      E = new Uint8Array(E);
      var K = [" ".charCodeAt(0), "\n".charCodeAt(0), "\t".charCodeAt(0), "\r".charCodeAt(0)]
        , i = 0
        , C = String.fromCharCode(E[0]) + String.fromCharCode(E[1])
        , N = []
        , k = 0
        , V = C == "P1" || C == "P4" ? 2 : 3;
      for (i = 2; i < E.length; i++) {
          var j = E[i]
            , a = String.fromCharCode(j);
          if (j == "#".charCodeAt(0)) {
              while (E[i] != "\n".charCodeAt(0))
                  i++;
              continue
          }
          var e = K.indexOf(j) != -1;
          if (k == 0 && !e) {
              N.push(a);
              k = 1;
              continue
          }
          if (k == 1 && !e) {
              N[N.length - 1] += a;
              continue
          }
          if (k == 1 && e) {
              k = 0;
              if (N.length == V)
                  break;
              continue
          }
      }
      var L = parseInt(N[0])
        , g = parseInt(N[1])
        , I = L * g * 4
        , h = C == "P1" || C == "P4" ? 1 : 255 / parseInt(N[2])
        , o = _.I(I);
      if (C == "P1" || C == "P2" || C == "P3") {
          var H = ""
            , A = 0
            , k = 0
            , S = "#".charCodeAt(0);
          for (var G = i; G < E.length; G++) {
              var j = E[G]
                , a = String.fromCharCode(j)
                , e = K.indexOf(j) != -1;
              if (j == S) {
                  while (E[G] != "\n".charCodeAt(0))
                      G++
              } else if (k == 0 && !e) {
                  H = a;
                  k = 1
              } else if (k == 1) {
                  if (e) {
                      k = 0;
                      var v = parseInt(H);
                      H = "";
                      if (C == "P1") {
                          o[A] = o[A + 1] = o[A + 2] = (1 - v) * 255;
                          o[A + 3] = 255;
                          A += 4
                      }
                      if (C == "P2") {
                          o[A] = o[A + 1] = o[A + 2] = Math.round(v * h);
                          o[A + 3] = 255;
                          A += 4
                      }
                      if (C == "P3") {
                          o[A] = Math.round(v * h);
                          A++;
                          if ((A & 3) == 3) {
                              o[A] = 255;
                              A++
                          }
                      }
                  } else
                      H += a
              }
          }
      }
      var s = L * g;
      if (C == "P4")
          for (var D = 0; D < g; D++) {
              var F = D * 8 * Math.ceil(L / 8);
              for (var y = 0; y < L; y++) {
                  var G = F + y
                    , T = E[i + 1 + (G >> 3)];
                  T = T >> 7 - (G & 7) & 1;
                  var Q = D * L + y << 2;
                  o[Q] = o[Q + 1] = o[Q + 2] = (1 - T) * 255;
                  o[Q + 3] = 255
              }
          }
      if (C == "P5")
          for (var G = 0; G < s; G++) {
              var Q = 4 * G;
              o[Q] = o[Q + 1] = o[Q + 2] = Math.round(E[i + 1 + G] * h);
              o[Q + 3] = 255
          }
      if (C == "P6")
          for (var G = 0; G < s; G++) {
              var Q = 4 * G
                , B = i + 1 + 3 * G;
              o[Q] = Math.round(E[B] * h);
              o[Q + 1] = Math.round(E[B + 1] * h);
              o[Q + 2] = Math.round(E[B + 2] * h);
              o[Q + 3] = 255
          }
      return [{
          UP: new h4(0,0,L,g),
          data: o.buffer
      }]
  }
  ;
  fb.X5 = {};
  fb.X5.PW = function(E, K, i, C) {
      var N = new Uint8Array(E[0][0]);
      if ((K & 3) != 0 || (i & 3) != 0) {
          var k = K + (4 - (K & 3))
            , V = i + (4 - (i & 3))
            , j = new Uint8Array(k * V * 4);
          _.EE(j, 4278190080);
          _.p8(N, new h4(0,0,K,i), j, new h4(0,0,k,V));
          N = j;
          K = k;
          i = V
      }
      return UTEX.DDS.encode(N.buffer, K, i)
  }
  ;
  fb.X5.VA = function(E) {
      var K = UTEX.DDS.decode(E)[0];
      return [{
          UP: new h4(0,0,K.width,K.height),
          data: K.image
      }]
  }
  ;
  fb.HY = {};
  fb.HY.VA = function(E) {
      var K = UTEX.VTF.decode(E).pop();
      return [{
          UP: new h4(0,0,K.width,K.height),
          data: K.image
      }]
  }
  ;
  fb.W1 = {};
  fb.W1.CM = null;
  fb.W1.a7o = function(E, K) {
      var i = fb.W1.CM
        , C = E.byteLength
        , N = K.width
        , k = K.height
        , V = N * k
        , j = 5e6 + 2 * C + V * (K.progressive ? Math.max(2, K.numComponents) * 4 + 1 : 8)
        , a = i.instance.exports
        , e = a.memory.buffer.byteLength;
      if (e < j)
          a.memory.grow(j - e >>> 16);
      var L = new Uint8Array(a.memory.buffer)
        , g = a.malloc(C);
      L.set(new Uint8Array(E), g);
      var I = a.malloc(4)
        , h = a.malloc(4)
        , l = a.malloc(4)
        , o = a.stbi_load_from_memory(g, C, I, h, l, 4);
      a.free(g);
      a.free(I, h, l);
      a.free(o);
      var H = L.slice(o, o + V * 4);
      return H
  }
  ;
  (function() {
      var E = fb.Km.get("wasm/jpg").buffer;
      if (window.WebAssembly == null)
          window.alert("Your browser is too old. Please, update it.");
      WebAssembly.instantiate(E).then(function(K) {
          fb.W1.CM = K
      })
  }());
  fb.W1.PW = function(E, K, i, C) {
      if (C == null)
          C = [70];
      var N = E[0]
        , k = new Uint8Array(N[0]);
      if (_.Tx(k)) {
          var V = new Uint8Array(k.length)
            , j = new h4(0,0,K,i);
          _.EE(V, 4294967295);
          _.p.JA("norm", k, j, V, j, j, 1);
          k = V
      }
      var a = new Uint8Array(fb.tH(k.buffer, K, i, "jpeg", C[0] / 100));
      if (N[2] != null) {
          var e = fb.W1.y0(a)[224][0] + 2;
          e += 9;
          a[e] = 1;
          O.PU(a, e + 1, N[2]);
          O.PU(a, e + 3, N[2])
      }
      if (N[3] != null && C[1] == !0 && Object.keys(N[3]).length != 0) {
          var L = 0
            , g = 0
            , I = 0
            , h = gu.PH(N[3])
            , o = new Uint8Array(UTIF.encode([h]))
            , H = "http://ns.adobe.com/xap/1.0/"
            , s = 0
            , y = 0
            , J = 20;
          L = 4 + 6 + o.length;
          var A = gu.Hf(N[3])
            , S = O.xm(A);
          g = 4 + H.length + 1 + S.length;
          var v = gu.aoq(N[3]);
          for (var G = 0; G < v.length; G++)
              s += 5 + v[G][1].length;
          var D = s + (s & 1)
            , F = _.I(14 + 4 + 2 + 4 + D);
          O.EX(F, y, "Photoshop 3.0");
          y += 14;
          O.EX(F, y, "8BIM");
          y += 4;
          F[y++] = 4;
          F[y++] = 4;
          y += 2;
          O.P0(F, y, s);
          y += 4;
          for (var G = 0; G < v.length; G++) {
              var T = v[G]
                , Q = T[1];
              F[y++] = 28;
              F[y++] = 2;
              F[y++] = T[0];
              O.PU(F, y, Q.length);
              y += 2;
              O.EX(F, y, Q);
              y += Q.length
          }
          I = 4 + F.length;
          var B = L + g + I
            , r = new Uint8Array(a.length + B);
          for (var G = 0; G < 20; G++)
              r[G] = a[G];
          for (var G = 20; G < a.length; G++)
              r[G + B] = a[G];
          r[J] = 255;
          r[J + 1] = 225;
          O.PU(r, J + 2, L - 2);
          O.EX(r, J + 4, "Exif");
          for (var G = 0; G < o.length; G++)
              r[J + 10 + G] = o[G];
          J += L;
          r[J] = 255;
          r[J + 1] = 225;
          O.PU(r, J + 2, g - 2);
          O.EX(r, J + 4, H);
          for (var G = 0; G < S.length; G++)
              r[J + 4 + H.length + 1 + G] = S[G];
          J += g;
          r[J] = 255;
          r[J + 1] = 237;
          O.PU(r, J + 2, I - 2);
          for (var G = 0; G < F.length; G++)
              r[J + 4 + G] = F[G];
          J += I;
          a = r
      }
      return a.buffer
  }
  ;
  fb.W1.y0 = function(E) {
      var K = 0
        , i = []
        , C = E.length;
      while (K < C) {
          while (E[K] == 255)
              K++;
          var N = E[K];
          K++;
          if (i[N] == null)
              i[N] = [];
          i[N].push(K - 2);
          if (N == 216)
              continue;
          if (N == 217)
              break;
          if (224 <= N && N <= 239 || N == 218 || N == 219 || N == 192 || N == 193 || N == 194 || N == 196 || N == 221 || N == 254) {
              var k = O.HJ(E, K);
              K += k;
              if (N == 218)
                  while (K < C && (E[K] != 255 || (E[K + 1] == 0 || 208 <= E[K + 1] && E[K + 1] <= 215)))
                      K++;
              continue
          }
          console.log("unknown marker ", N.toString(16), K);
          break
      }
      if (i[217] == null) {
          console.log("EOI marker missing");
          var V = E.length - 2;
          E[V] = 255;
          E[V + 1] = 217;
          i[217] = [V]
      }
      return i
  }
  ;
  fb.W1.a8B = function(E) {
      E = new Uint8Array(E);
      if (E[0] != 255)
          return E.buffer;
      var K = fb.W1.y0(E)
        , i = fb.W1.CV(E, K);
      if (i.numComponents != 4)
          return E.buffer;
      var C = i.width
        , N = i.height
        , k = fb.W1.YV(E, K, !0);
      return fb.W1.PW([[k[0].data]], C, N, [85])
  }
  ;
  fb.W1.CV = function(E, K) {
      var i = (K[192] ? K[192] : K[193] ? K[193] : K[194])[0] + 4
        , C = {};
      C.progressive = K[194] != null;
      C.precision = E[i];
      i++;
      C.height = O.HJ(E, i);
      i += 2;
      C.width = O.HJ(E, i);
      i += 2;
      C.numComponents = E[i];
      i++;
      if (K[224]) {
          var N = C.jfif = {};
          i = K[224][0] + 2 + 2 + 5 + 2;
          N.densityUnits = E[i];
          i++;
          N.xDensity = O.HJ(E, i);
          i += 2;
          N.yDensity = O.HJ(E, i);
          i += 2
      }
      if (K[238]) {
          var N = C.adobe = {};
          i = K[238][0] + 2 + 2 + 6;
          N.version = E[i];
          i++;
          N.flags0 = O.HJ(E, i);
          i += 2;
          N.flags1 = O.HJ(E, i);
          i += 2;
          N.transform = E[i];
          i++
      }
      return C
  }
  ;
  fb.W1.anz = function(E, K, i) {
      var C = K
        , N = O.HJ(E, C);
      C += 2;
      var k = O.zV(E, C, 4);
      if (k == "Exif") {
          C += 6;
          var V = E.slice(C, C + N - 8), j;
          try {
              j = UTIF.decode(V.buffer, {
                  parseMN: !1,
                  debug: !1
              })
          } catch (i2) {}
          if (j)
              i.exif = j
      } else if (k == "http") {
          var a = 0;
          while (E[C + a] != 0)
              a++;
          var e = O.zV(E, C, a);
          C += a + 1;
          if (e == "http://ns.adobe.com/xmp/extension/") {
              var L = O.zV(E, C, 32);
              C += 32;
              C += 8;
              var g = K + N - C;
              while (E[C + g - 1] == 0)
                  g--;
              if (i.xmp_extn == null)
                  i.xmp_extn = "";
              try {
                  i.xmp_extn += O.Yo(E, C, g)
              } catch (i2) {}
          } else if (e == "http://ns.adobe.com/xap/1.0/") {
              var I = O.Yo(E.slice(C, C + N - a - 3));
              if (I[0] == "?")
                  I = "<" + I;
              i.xmp = I
          }
      } else
          console.log(k)
  }
  ;
  fb.W1.YV = function(E, K, i) {
      var C = fb.W1.CV(E, K), N = C.width, k = C.height, V = N * k, j, a = -1, H = 72, A;
      if (C.adobe)
          a = C.adobe.transform;
      if (i || N * k > 15e7 || a == 0 || a == 2) {
          var e = new PDFJS.JpegImage;
          e.parse(E);
          var L = e.getData({
              width: N,
              height: k,
              forceRGB: !0,
              isSourcePDF: i
          })
            , j = _.I(V * 4);
          for (var G = 0; G < V; G++) {
              var g = G << 2
                , I = g - G;
              j[g] = L[I];
              j[g + 1] = L[I + 1];
              j[g + 2] = L[I + 2];
              j[g + 3] = 255
          }
      } else {
          j = fb.W1.a7o(E.buffer, C)
      }
      var h = K[225];
      if (h)
          for (var G = 0; G < h.length; G++)
              fb.W1.anz(E, h[G] + 2, C);
      var o = K[217][0] + 2;
      if (o != E.length)
          C.suffix = E.slice(o);
      var S = [N, k, 1, 0, 0, 0, 1, 0];
      if (C.jfif && C.jfif.densityUnits != 0) {
          H = Math.round([72, 1, 2.54][C.jfif.densityUnits] * C.jfif.xDensity)
      } else if (C.exif && C.exif[0].t282 != null) {
          var v = C.exif[0].t282[0];
          H = v[0] / v[1]
      }
      if (C.exif) {
          var s = C.exif;
          A = gu.Lc(s[0]);
          var D = s[0].t274;
          if (D)
              D = D[0];
          if (D != null && D > 1 && D < 20)
              S = _.raw.cr(D, N, k)
      }
      if (C.xmp) {
          A = gu.fE(C.xmp, A)
      }
      var F = K[237]
        , y = []
        , T = [];
      if (F) {
          var Q = new Uint8Array(65536)
            , B = 0
            , r = 0;
          for (var G = 0; G < F.length; G++) {
              r = F[G] + 2;
              var J = r + O.HJ(E, r);
              r += 2;
              var m = r;
              while (E[r] != 0)
                  r++;
              r++;
              var x = O.zV(E, m, r - m - 1)
                , R = J - r;
              while (B + R > Q.length) {
                  var b = new Uint8Array(Q.length * 2);
                  b.set(Q);
                  Q = b
              }
              var z = new Uint8Array(E.buffer,r,R);
              Q.set(z, B);
              B += R
          }
          r = 0;
          E = Q;
          while (r < B) {
              var $ = O.zV(E, r, 4);
              r += 4;
              if ($ != "8BIM" && $ != "AgHg" && $ != "PHUT" && $ != "DCSR")
                  throw $;
              var P = O.HJ(E, r);
              r += 2;
              var t = E[r++]
                , X = O.zV(E, r, t);
              r += t;
              if ((t & 1) == 0)
                  r++;
              var Z = O.n(E, r);
              r += 4;
              var o = r + Z + (Z & 1);
              if (P == 1028) {
                  while (r + 4 < o) {
                      var p = E[r++]
                        , gl = E[r++]
                        , f = E[r++]
                        , cY = O.HJ(E, r);
                      r += 2;
                      if (p == 28 && gl == 2)
                          y.push([f, O.zV(E, r, cY)]);
                      r += cY
                  }
              } else if ((P & 2e3) == 2e3) {
                  var fC = dq.p1(E, r, Z);
                  T.push([X, fC])
              } else {}
              r = o
          }
          if (y.length != 0)
              A = gu.a0l(y, A)
      }
      var hi = [{
          UP: new h4(0,0,N,k),
          data: j.buffer,
          v9: H,
          Xp: A,
          Yi: T.length == 0 ? null : T
      }]
        , A = C.xmp_extn;
      if (A) {
          var es = new DOMParser
            , W = es.parseFromString(A, "image/svg+xml")
            , W = W.children[0].children[0].children[0]
            , d = [W.getAttribute("GImage:Data"), W.getAttribute("GDepth:Data")];
          for (var G = 0; G < d.length; G++)
              if (d[G]) {
                  var fM = atob(d[G])
                    , n = new Uint8Array(fM.length);
                  O.EX(n, 0, fM);
                  n = n.buffer;
                  var ax = fb.e1(n)
                    , d_ = fb.vG(ax).VA(n);
                  hi.push(d_[0])
              }
      }
      if (C.suffix) {
          var cm = C.suffix
            , c4 = O.zV(cm, 4, 4)
            , ch = O.V_(cm, String.fromCharCode(255) + String.fromCharCode(216) + String.fromCharCode(255));
          if (fb.nn(cm, [0, 0, 1, 10, 14, 0, 0, 0])) {
              var r = 0;
              while (r != cm.length) {
                  var hQ = O.od(cm, r + 2);
                  r += 4;
                  var em = {
                      2272: 12,
                      2320: 21,
                      2561: 13,
                      2625: 21,
                      2721: 3,
                      2608: 0
                  }[hQ];
                  if (em != null) {
                      var ag = O.n$(cm, r);
                      r += 4;
                      var am = O.zV(cm, r, ag);
                      r += ag;
                      var bK = O.zV(cm, r, em);
                      r += em;
                      if (hQ == 2608) {
                          var ei = O.n(cm, r + 24);
                          r += ei + 24;
                          var dL = O.n(cm, r);
                          r += dL;
                          alert("Photopea found a " + iw.js(ei) + " MP4 video inside your image.", 4e3)
                      }
                  } else if (hQ == 18502) {
                      while (O.zV(cm, r, 4) != "SEFT")
                          r += 4;
                      r += 4
                  } else {
                      break;
                      console.log(O.Vt(cm, r, 128));
                      console.log(cm.slice(r));
                      throw hQ.toString(16)
                  }
              }
          } else if (c4 == "ftyp") {
              alert("Photopea found a " + iw.js(cm.length) + " MP4 video inside your image.", 4e3)
          } else if (O.zV(cm, 0, 4) == "fixe") {
              alert("Unknown data - " + cm.length + " B - at the end of the file", 3e3);
              var r = 4
                , Z = O.n$(cm, r);
              r += 4;
              var fh = O.n$(cm, r);
              r += 4;
              var eu = O.n$(cm, r);
              r += 4;
              console.log(Z, fh, eu, cm.slice(r, r + 84));
              r += 84;
              var hf = O.zV(cm, r, 32);
              r += 32;
              r += 8;
              var hf = O.zV(cm, r, 32);
              r += 32
          } else if (O.zV(cm, 8, 13) == "FocusShot_Map") {
              var iS = O.n(cm, 0)
                , cY = O.n$(cm, 4)
                , n = _.I(V * 4)
                , aI = _.I(V * 4);
              for (var gn = 0; gn < k; gn++)
                  for (var ce = 0; ce < N; ce++) {
                      var G = gn * N + ce
                        , g = G << 2
                        , gr = 8 + 13 + ((gn >>> 1) * N + ce >>> 1)
                        , ek = cm[gr]
                        , bJ = cm[gr + (V >>> 2)];
                      n[g] = n[g + 1] = n[g + 2] = ek;
                      n[g + 3] = 255;
                      aI[g] = aI[g + 1] = aI[g + 2] = bJ;
                      aI[g + 3] = 255
                  }
              hi.push({
                  UP: new h4(0,0,N,k),
                  data: n.buffer
              }, {
                  UP: new h4(0,0,N,k),
                  data: aI.buffer
              })
          } else if (c4 == "edof") {
              var D = cm[8 + 7];
              console.log(D.toString(16));
              var r = 8 + 16
                , aN = O.od(cm, r)
                , bG = O.od(cm, r + 2)
                , V = aN * bG;
              r += 4;
              r += 32 + 16;
              var aQ = _.I(V * 4);
              for (var G = 0; G < V; G++) {
                  var g = G << 2;
                  aQ[g] = aQ[g + 1] = aQ[g + 2] = cm[r + G];
                  aQ[g + 3] = 255
              }
              if (D == 16) {} else if (D == 19) {
                  var cu = aQ.slice(0);
                  _.J.C2(aQ, cu, aN, bG);
                  var gX = aN;
                  aN = bG;
                  bG = gX;
                  _.J.a9Q(cu, aQ, aN, bG)
              } else
                  throw "Unknown orientation of a depth map";
              hi.push({
                  UP: new h4(0,0,aN,bG),
                  data: aQ.buffer
              })
          } else if (ch != -1 && !(cm[0] == 255 && cm[1] == 129)) {
              try {
                  if (ch != 0)
                      cm = cm.slice(ch);
                  var d_ = fb.vG("jpg").VA(cm.buffer);
                  for (var G = 0; G < d_.length; G++)
                      hi.push(d_[G])
              } catch (i2) {}
          }
      }
      if (hi.length > 1) {
          var bW = hi[0].UP;
          hi[0].Ho = "Main";
          for (var G = 1; G < hi.length; G++) {
              hi[G].Ho = fb.W1.a0m(new Uint8Array(hi[G].data)) ? "Depth Map" : null;
              var dE = hi[G].UP;
              if (!dE.Ql(bW)) {
                  var b4 = bW.d / dE.d
                    , cC = bW.v / dE.v
                    , gN = new fn;
                  gN.scale(b4, cC);
                  var eH = u._.rQ([new Uint8Array(hi[G].data), dE], 1, _.J.Nl(gN));
                  hi[G].UP = eH.rect;
                  hi[G].data = eH.buffer
              }
          }
      }
      if (fb.W1.U_ == 1)
          if (S[2] != 1 || S[6] != 1)
              for (var G = 0; G < hi.length; G++) {
                  var hx = hi[G]
                    , c2 = new Uint8Array(hx.data)
                    , N = hx.UP.d
                    , k = hx.UP.v
                    , aN = S[0]
                    , bG = S[1]
                    , j = _.I(aN * bG * 4);
                  _.J.v6(c2, N, k, j, S);
                  hx.UP = new h4(0,0,aN,bG);
                  hx.data = j.buffer
              }
      return hi
  }
  ;
  fb.W1.a0m = function(E) {
      var K = !0;
      for (var G = 0; G < E.length; G += 4) {
          K = K && E[G] == E[G + 1] && E[G + 1] == E[G + 2]
      }
      return K
  }
  ;
  fb.W1.U_ = 0;
  fb.W1.VA = function(E, K, i) {
      E = new Uint8Array(E);
      if (E[0] == 255) {
          var C = fb.W1.y0(E);
          if (C[195] == null) {
              fb.W1.U_++;
              var N = fb.W1.YV(E, C, !1);
              fb.W1.U_--;
              return N
          }
          var k = O.HJ(E, C[195][0] + 5)
            , V = O.HJ(E, C[195][0] + 7)
            , j = UTIF.LosslessJpegDecode(E)
            , a = V * k
            , e = _.I(a * 4);
          for (var G = 0; G < a; G++) {
              var L = G << 2
                , g = L - G;
              e[L] = j[g];
              e[L + 1] = j[g + 1];
              e[L + 2] = j[g + 2];
              e[L + 3] = 255
          }
          return [{
              UP: new h4(0,0,V,k),
              data: e.buffer
          }]
      } else if (E[0] == 0 && E[4] == 48 && E[6] == 1) {
          var I = E
            , h = new PDFJS.Jbig2Image
            , o = [];
          if (K)
              o.push({
                  data: K,
                  start: 0,
                  end: K.length
              });
          o.push({
              data: I,
              start: 0,
              end: I.length
          });
          var j = h.parseChunks(o);
          if (!i)
              for (var G = 0; G < j.length; G++)
                  j[G] = ~j[G];
          var V = O.n(E, 11)
            , k = O.n(E, 15)
            , H = Math.ceil(V / 8)
            , A = _.I(V * k * 4);
          for (var S = 0; S < k; S++) {
              var v = S * H;
              for (var s = 0; s < V; s++) {
                  var L = (S * V + s) * 4
                    , D = j[v + (s >>> 3)] >>> 7 - (s & 7) & 1
                    , F = D * 255;
                  A[L] = F;
                  A[L + 1] = F;
                  A[L + 2] = F;
                  A[L + 3] = 255
              }
          }
          return [{
              UP: new h4(0,0,V,k),
              data: A.buffer
          }]
      } else {
          var h = new PDFJS.JpxImage;
          h.parse(E);
          var V = h.width
            , k = h.height
            , y = h.tiles
            , T = h.componentsCount
            , Q = new Uint8Array(V * k * 4)
            , B = new h4(0,0,V,k);
          for (var h = 0; h < y.length; h++) {
              var r = y[h]
                , J = r.width
                , m = r.height
                , x = J * m
                , ee = r.items
                , R = new h4(r.left,r.top,J,m)
                , b = new Uint8Array(x * 4);
              if (T == 1)
                  for (var G = 0; G < x; G++) {
                      var z = ee[G]
                        , L = G * 4;
                      b[L] = z;
                      b[L + 1] = z;
                      b[L + 2] = z;
                      b[L + 3] = 255
                  }
              else if (T == 3)
                  for (var G = 0; G < x; G++) {
                      var g = G * 3
                        , L = G * 4;
                      b[L] = ee[g];
                      b[L + 1] = ee[g + 1];
                      b[L + 2] = ee[g + 2];
                      b[L + 3] = 255
                  }
              else
                  console.log("Unknown number of components: " + T);
              _.p8(b, R, Q, B)
          }
          return [{
              UP: B,
              data: Q.buffer
          }]
      }
  }
  ;
  fb.DB = {};
  fb.DB.PW = function(E, K, i, C) {
      if (C == null)
          C = [70, 0, 0, 0];
      var N = C[0] / 100
        , a = 0;
      if (E.length == 1)
          return fb.tH(E[0][0], K, i, "webp", N);
      var k = O.Fu
        , V = O.S3
        , j = new hB;
      k(j, a, "RIFF    WEBPVP8X");
      a += 16;
      V(j, a, 10);
      a += 4;
      V(j, a, 18);
      a += 4;
      V(j, a, K - 1);
      a += 3;
      V(j, a, i - 1);
      a += 3;
      k(j, a, "ANIM");
      a += 4;
      V(j, a, 6);
      a += 4;
      j.BX(a, 4);
      j.data[a + 3] = 255;
      O.XT(j, a + 4, C[2]);
      a += 6;
      var e = [];
      for (var G = 0; G < E.length; G++) {
          e.push(E[G][0])
      }
      var L = UPNG.encode.compress(e, K, i, N == 1 ? 0 : Math.max(2, Math.floor(N * 500)), [!1, !0, !0, 0, !0]).frames;
      for (var G = 0; G < E.length; G++) {
          k(j, a, "ANMF");
          a += 4;
          var g = a;
          a += 4;
          var I = L[G]
            , h = I.rect
            , o = [h.x >>> 1, h.y >>> 1, h.width - 1, h.height - 1, E[G][1]];
          for (var H = 0; H < 5; H++)
              V(j, a + 3 * H, o[H]);
          a += 15;
          j.BX(a, 1);
          j.data[a] = 1 - I.blend << 1 | I.dispose;
          a++;
          var A = new Uint8Array(fb.tH(I.img.buffer, h.width, h.height, "webp", 1))
            , S = iJ.sQ(A.buffer).sub
            , v = O.zV(A, 12, 4);
          if (v != "VP8L" && v != "VP8 " && v != "VP8X")
              throw "e";
          var s = v == "VP8 " ? 0 : v == "VP8L" ? 12 : 30
            , D = A.length - s;
          j.BX(a, D);
          for (var H = 0; H < D; H++)
              j.data[a + H] = A[s + H];
          a += D;
          var F = a - g - 4;
          V(j, g, F);
          if ((F & 1) == 1) {
              j.BX(a, 1);
              a++
          }
      }
      V(j, 4, a - 8);
      return j.data.slice(0, a).buffer
  }
  ;
  (function() {
      var E = fb.Km.get("wasm/webp").buffer;
      WebAssembly.instantiate(E).then(function(K) {
          var i = K.instance.exports;
          fb.DB.exp = i
      })
  }());
  fb.DB.VA = function(E) {
      var K = new Uint8Array(E)
        , i = fb.DB.a9w
        , C = null
        , N = iJ.sQ(E).sub
        , k = {};
      for (var G = 0; G < N.length; G++)
          k[N[G].V3] = N[G];
      var V = k.ANIM
        , j = k.VP8L
        , a = k["VP8 "]
        , e = k.VP8X;
      if (V == null) {
          var L, g;
          if (a) {
              L = O.od(K, a.i + 6);
              g = O.od(K, a.i + 8)
          } else if (j) {
              var I = O.n$(K, j.i + 1);
              L = (I & (1 << 14) - 1) + 1;
              g = (I >>> 14 & (1 << 14) - 1) + 1
          } else
              throw "e";
          var h = [i(C, E, {
              i: 0,
              size: K.length
          }, L, g)];
          return h
      }
      var o = e.i
        , L = 1 + (O.n$(K, o + 4) & 16777215)
        , g = 1 + (O.n$(K, o + 7) & 16777215)
        , H = []
        , A = new h4(0,0,L,g)
        , S = _.I(L * g * 4);
      for (var G = 0; G < N.length; G++) {
          var v = N[G];
          if (v.V3 != "ANMF")
              continue;
          var s = [];
          for (var D = 0; D < 5; D++)
              s.push(O.n$(K, v.i + D * 3) & 16777215);
          var F = new h4(s[0] * 2,s[1] * 2,s[2] + 1,s[3] + 1)
            , y = s[4]
            , T = i(C, E, {
              i: v.i + 16,
              size: v.size - 16
          }, L, g)
            , Q = new Uint8Array(T.data)
            , B = K[v.i + 15];
          if (B >>> 1 == 0)
              _.p.JA("norm", Q, F, S, A, F, 1);
          else
              _.p8(Q, F, S, A);
          H.push({
              Ho: "_a_" + H.length + "," + y,
              UP: A.clone(),
              data: S.buffer.slice(0)
          });
          if ((B & 1) == 1) {
              _.EE(Q, 0);
              _.p8(Q, F, S, A)
          }
      }
      return H
  }
  ;
  fb.DB.a9w = function(E, K, i, C, N) {
      var k = fb.DB.exp
        , V = 5e6 + 2 * i.size + C * N * 10
        , j = k.memory
        , a = j.buffer.byteLength;
      if (a < V) {
          k.memory.grow((V - a >>> 16) + 1)
      }
      var e = new Uint8Array(j.buffer)
        , L = k.malloc(i.size);
      e.set(new Uint8Array(K,i.i,i.size), L);
      var g = k.malloc(8)
        , I = k.WebPDecodeARGB(L, i.size, g, g + 4)
        , h = O.n$(e, g)
        , o = O.n$(e, g + 4)
        , H = h * o * 4
        , A = _.I(H);
      for (var G = 0; G < H; G += 4) {
          A[G] = e[I + G + 1];
          A[G + 1] = e[I + G + 2];
          A[G + 2] = e[I + G + 3];
          A[G + 3] = e[I + G]
      }
      k.WebPFree(I);
      k.free(g);
      k.free(L);
      return {
          UP: new h4(0,0,h,o),
          data: A.buffer
      }
  }
  ;
  fb.abP = function() {
      function E(j, a, e, L) {
          var g = new Uint8Array(j[0][0])
            , I = new Uint32Array(g.buffer)
            , h = []
            , o = {}
            , A = 24
            , S = 0
            , y = 0;
          for (var G = 0; G < I.length; G++) {
              var H = I[G] & 16777215;
              if (o[H] == null) {
                  o[H] = h.length;
                  h.push(H);
                  if (h.length > 256) {
                      h = null;
                      break
                  }
              }
          }
          if (h) {
              A = 1;
              while (1 << A < h.length)
                  A *= 2;
              if (A == 2)
                  A = 4
          }
          var v = {
              jx: a,
              w1: e,
              qR: 1,
              Tf: A,
              BD: 0,
              amd: S
          }
            , s = 4 * Math.floor((v.Tf * v.jx + 31) / 32);
          v.size = s * v.w1 + 2;
          var D = new hB
            , F = h ? (1 << A) * 4 : 0;
          O.Fu(D, y, "BM");
          y += 2;
          O.S3(D, y, s * e + 16 + 40 + F);
          y += 4;
          O.S3(D, y, 0);
          y += 4;
          O.S3(D, y, 54 + F);
          y += 4;
          D.BX(y, 40);
          O.S3(D, y, 40);
          y += 4;
          V(D.data, y, v, s);
          y += 36;
          if (h) {
              D.BX(y, F);
              var T = D.data;
              for (var G = 0; G < h.length; G++) {
                  var Q = y + G * 4
                    , B = h[G] >>> 16
                    , r = h[G] >>> 8 & 255
                    , J = h[G] & 255;
                  T[Q] = B;
                  T[Q + 1] = r;
                  T[Q + 2] = J
              }
              y += F
          }
          D.BX(y, s * e);
          if (A == 24)
              for (var m = 0; m < e; m++) {
                  var x = y + (e - 1 - m) * s;
                  for (var R = 0; R < a; R++) {
                      var b = (m * a + R) * 4;
                      D.data[x + R * 3 + 2] = g[b];
                      D.data[x + R * 3 + 1] = g[b + 1];
                      D.data[x + R * 3 + 0] = g[b + 2]
                  }
              }
          else if (A == 8)
              for (var m = 0; m < e; m++) {
                  var x = y + (e - 1 - m) * s;
                  for (var R = 0; R < a; R++) {
                      var b = m * a + R
                        , z = o[I[b] & 16777215];
                      D.data[x + R] |= z
                  }
              }
          else if (A == 4)
              for (var m = 0; m < e; m++) {
                  var x = y + (e - 1 - m) * s;
                  for (var R = 0; R < a; R++) {
                      var b = m * a + R
                        , z = o[I[b] & 16777215];
                      D.data[x + (R >>> 1)] |= z << 4 - (R & 1) * 4
                  }
              }
          else if (A == 1)
              for (var m = 0; m < e; m++) {
                  var x = y + (e - 1 - m) * s;
                  for (var R = 0; R < a; R++) {
                      var b = m * a + R
                        , z = o[I[b] & 16777215];
                      D.data[x + (R >>> 3)] |= z << 7 - (R & 7)
                  }
              }
          y += s * e + 2;
          return D.data.slice(0, y).buffer
      }
      function K(j) {
          j = new Uint8Array(j);
          if (O.n$(j, 0) == 40)
              return [i(j.buffer, 0)];
          var a = 0
            , e = O.zV(j, a, 2);
          a += 2;
          if (e != "BM") {
              alert("Unsupported BMP format: " + e);
              return
          }
          var L = O.n$(j, a);
          a += 4;
          a += 4;
          var g = O.n$(j, a);
          a += 4;
          return [i(j.buffer, a, g)]
      }
      function i(j, a, e) {
          j = new Uint8Array(j);
          var L = O.n$(j, a)
            , g = k(j, a + 4);
          if (g.qR != 1)
              alert("unsupported number of color planes: " + g.qR);
          if (g.BD != 0 && g.BD != 1 && g.BD != 2 && g.BD != 3) {
              alert("Unsupported BMP compression: " + g.BD);
              return
          }
          a += L;
          var I = a
            , h = j;
          if (e == null)
              e = a;
          if (g.BD == 1 || g.BD == 2) {
              var o = N(j, e, g);
              g.Tf = 8;
              j = o;
              e = 0
          }
          var H = 4 * Math.floor((g.Tf * g.jx + 31) / 32)
            , A = g.jx
            , S = Math.abs(g.w1)
            , v = new Uint8Array(A * S * 4);
          v.fill(255);
          if (g.Tf == 32)
              for (var s = 0; s < S; s++) {
                  var D = e + (S - 1 - s) * H;
                  for (var F = 0; F < A; F++) {
                      var y = (s * A + F) * 4;
                      v[y] = j[D + F * 4 + 2];
                      v[y + 1] = j[D + F * 4 + 1];
                      v[y + 2] = j[D + F * 4 + 0];
                      v[y + 3] = j[D + F * 4 + 3]
                  }
              }
          else if (g.Tf == 24)
              for (var s = 0; s < S; s++) {
                  var D = e + (S - 1 - s) * H;
                  for (var F = 0; F < A; F++) {
                      var y = (s * A + F) * 4;
                      v[y] = j[D + F * 3 + 2];
                      v[y + 1] = j[D + F * 3 + 1];
                      v[y + 2] = j[D + F * 3 + 0]
                  }
              }
          else if (g.Tf == 16)
              for (var s = 0; s < S; s++) {
                  var D = e + (S - 1 - s) * H;
                  for (var F = 0; F < A; F++) {
                      var y = (s * A + F) * 4
                        , T = j[D + F * 2 + 1] << 8 | j[D + F * 2];
                      v[y] = (T >>> 11) * (255 / 31);
                      v[y + 1] = (T >>> 5 & 63) * (255 / 63);
                      v[y + 2] = (T & 31) * (255 / 31)
                  }
              }
          else if (g.Tf == 8)
              for (var s = 0; s < S; s++) {
                  var D = e + (S - 1 - s) * H;
                  for (var F = 0; F < A; F++) {
                      var y = (s * A + F) * 4
                        , Q = j[D + F];
                      v[y] = h[I + 4 * Q + 2];
                      v[y + 1] = h[I + 4 * Q + 1];
                      v[y + 2] = h[I + 4 * Q + 0]
                  }
              }
          else if (g.Tf == 4)
              for (var s = 0; s < S; s++) {
                  var D = e + (S - 1 - s) * H;
                  for (var F = 0; F < A; F++) {
                      var y = (s * A + F) * 4
                        , Q = j[D + (F >> 1)];
                      Q = Q >> 4 - 4 * (F & 1);
                      Q = Q & 15;
                      v[y] = h[I + 4 * Q + 2];
                      v[y + 1] = h[I + 4 * Q + 1];
                      v[y + 2] = h[I + 4 * Q + 0]
                  }
              }
          else if (g.Tf == 1)
              for (var s = 0; s < S; s++) {
                  var D = e + (S - 1 - s) * H;
                  for (var F = 0; F < A; F++) {
                      var y = (s * A + F) * 4
                        , B = j[D + (F >> 3)];
                      B = B >> 7 - (F & 7);
                      B = B & 1;
                      v[y] = h[I + 4 * B + 2];
                      v[y + 1] = h[I + 4 * B + 1];
                      v[y + 2] = h[I + 4 * B + 0]
                  }
              }
          else
              throw "Unknown bit depth " + g.Tf;
          if (g.w1 < 0) {
              var r = new Uint32Array(v.buffer)
                , J = S >>> 1;
              for (var s = 0; s < J; s++) {
                  var m = s * A
                    , x = (S - s - 1) * A;
                  for (var F = 0; F < A; F++) {
                      var R = r[m + F];
                      r[m + F] = r[x + F];
                      r[x + F] = R
                  }
              }
          }
          return {
              UP: new h4(0,0,A,S),
              data: v.buffer
          }
      }
      function C(j, G) {
          return j >>> 4 - ((G & 1) << 2) & 15
      }
      function N(j, a, e) {
          var L = e.jx
            , g = Math.abs(e.w1)
            , I = new Uint8Array(L * g)
            , h = 0
            , o = 0
            , G = 0;
          while (o < g) {
              var H = j[a++]
                , A = j[a++]
                , S = o * L + h;
              if (H > 0) {
                  if (e.Tf == 4)
                      for (G = 0; G < H; G++) {
                          I[S + G] = C(A, G)
                      }
                  else
                      for (G = 0; G < H; G++) {
                          I[S + G] = A
                      }
                  h += H
              } else if (H == 0 && A == 0) {
                  o++;
                  h = 0
              } else if (H == 0 && A == 1) {
                  break
              } else if (H == 0 && A == 2) {
                  h += j[a++];
                  o += j[a++]
              } else {
                  var v = A;
                  if (e.Tf == 4) {
                      for (G = 0; G < A; G++) {
                          I[S + G] = C(j[a + (G >>> 1)], G)
                      }
                      v = Math.ceil(A / 2)
                  } else {
                      for (G = 0; G < A; G++) {
                          I[S + G] = j[a + G]
                      }
                  }
                  if ((v & 1) != 0)
                      v++;
                  a += v;
                  h += A
              }
          }
          return I
      }
      function k(j, a) {
          var e = O.WI
            , L = O.n$
            , g = O.od
            , I = {};
          I.jx = e(j, a);
          a += 4;
          I.w1 = e(j, a);
          a += 4;
          I.qR = g(j, a);
          a += 2;
          I.Tf = g(j, a);
          a += 2;
          I.BD = L(j, a);
          a += 4;
          I.size = L(j, a);
          a += 4;
          var h = e(j, a);
          a += 4;
          var o = e(j, a);
          a += 4;
          I.amd = L(j, a);
          a += 4;
          a += 4;
          return I
      }
      function V(j, a, e, L) {
          O.OW(j, a, e.jx);
          a += 4;
          O.OW(j, a, e.w1);
          a += 4;
          O.Le(j, a, e.qR);
          a += 2;
          O.Le(j, a, e.Tf);
          a += 2;
          O.OW(j, a, e.BD);
          a += 4;
          O.OW(j, a, e.size);
          a += 4;
          O.OW(j, a, 2834);
          a += 4;
          O.OW(j, a, 2834);
          a += 4;
          O.OW(j, a, e.amd);
          a += 4;
          a += 4
      }
      return {
          VA: K,
          PW: E,
          ak1: i
      }
  }();
  fb.q$ = {};
  fb.q$.PW = function(E, K, i, C) {
      if (C == null)
          C = [100, 0, 0, 0, 0];
      var N = []
        , k = []
        , V = K * i * 4
        , H = null;
      for (var j = 0; j < E.length; j++) {
          var a = new Uint8Array(E[j][0].slice(0));
          for (var G = 0; G < V; G += 4) {
              var e = a[G + 3] = a[G + 3] > 127 ? 255 : 0;
              if (e == 0)
                  a[G] = a[G + 1] = a[G + 2] = 0
          }
          N.push(a.buffer);
          k.push(E[j][1])
      }
      var L = Math.round(2 + 254 * C[0] / 100)
        , g = UPNG.encode.compress(N, K, i, L, [!0, !1, !1, 8, !1])
        , I = g.plte
        , h = new Uint8Array(4)
        , o = new Uint32Array(h.buffer);
      for (var G = 0; G < I.length; G++) {
          o[0] = I[G];
          var A = h[0];
          h[0] = h[2];
          h[2] = A;
          I[G] = o[0];
          if (o[0] == 0)
              H = G
      }
      while (I.length < 256)
          I.push(0);
      var S = new Uint8Array(2e3 + K * i * E.length)
        , v = C[2]
        , s = {
          palette: I
      };
      if (v != 1)
          s.loop = v == 0 ? 0 : v - 1;
      var D = new GifWriter(S,K,i,s);
      for (var G = 0; G < E.length; G++) {
          var F = g.frames[G]
            , y = F.rect
            , T = F.blend
            , Q = F.dispose;
          D.addFrame(y.x, y.y, y.width, y.height, F.img, {
              transparent: H,
              disposal: Q + 1,
              delay: Math.round(k[G] / 10)
          })
      }
      return S.slice(0, D.end()).buffer
  }
  ;
  fb.q$.VA = function(E) {
      var K = Date.now()
        , i = []
        , C = UGIF.decode(E)
        , N = UGIF.toRGBA8(C)
        , k = new h4(0,0,C.width,C.height);
      for (var G = 0; G < N.length; G++) {
          var V = C.frames[G];
          i.push({
              UP: k.clone(),
              Ho: "_a_frm" + G + "," + V.delay * 10,
              data: N[G]
          })
      }
      return i
  }
  ;
  fb.ou = {};
  fb.ou.PW = function(E, K, i, C) {
      console.log(E);
      if (K > 256 || i > 256) {
          alert("Maximum ICO size is 256x256 px. Will be cropped.", 4e3);
          var N = Math.min(K, 256)
            , k = Math.min(i, 256)
            , V = new h4(0,0,N,k)
            , j = _.I(V.X() * 4)
            , a = new h4(0,0,K,i)
            , e = new Uint8Array(E[0][0]);
          _.p8(e, a, j, V);
          E[0][0] = j.buffer;
          K = N;
          i = k
      }
      var L = new hB
        , g = 0
        , I = C && C[0] == !0;
      O.XT(L, g, 0);
      g += 2;
      O.XT(L, g, I ? 2 : 1);
      g += 2;
      O.XT(L, g, 1);
      g += 2;
      var h = new Uint8Array(fb.vG("png").PW(E, K, i));
      L.BX(g, 16);
      L.data[g] = K == 256 ? 0 : K;
      g++;
      L.data[g] = i == 256 ? 0 : i;
      g++;
      g += 2;
      O.XT(L, g, I ? Math.round(K / 2) : 1);
      g += 2;
      O.XT(L, g, I ? Math.round(i / 2) : 32);
      g += 2;
      O.S3(L, g, h.length);
      g += 4;
      O.S3(L, g, 6 + 16);
      g += 4;
      L.BX(g, h.length);
      for (var G = 0; G < h.length; G++)
          L.data[g + G] = h[G];
      g += h.length;
      var o = new Uint8Array(g);
      for (var G = 0; G < g; G++)
          o[G] = L.data[G];
      return o.buffer
  }
  ;
  fb.ou.VA = function(E) {
      E = new Uint8Array(E);
      var K = 4
        , i = O.od(E, K);
      K += 2;
      var C = [];
      for (var G = 0; G < i; G++) {
          var N = fb.ou.aeB(E, K + G * 16)
            , k = E.buffer.slice(N.offset, N.offset + N.size)
            , V = fb.e1(k);
          V = V ? V : "bmp";
          if (V == "png") {
              var j = fb.vG(V)
                , a = j.VA(k);
              N.QB = a[0]
          } else {
              var e = fb.vG("BMP").ak1(k, 0)
                , k = _.I(N.jx * N.w1 * 4);
              _.p8(new Uint8Array(e.data), new h4(0,0,e.UP.d,e.UP.v), k, new h4(0,N.w1,N.jx,N.w1));
              e.data = k.buffer;
              e.UP.v = N.w1;
              N.QB = e
          }
          C.push(N)
      }
      C.sort(function(L, g) {
          if (L.jx != g.jx)
              return L.jx - g.jx;
          return L.abx - g.abx
      });
      return [C.pop().QB]
  }
  ;
  fb.ou.aeB = function(E, K) {
      var i = {};
      i.jx = E[K];
      K++;
      if (i.jx == 0)
          i.jx = 256;
      i.w1 = E[K];
      K++;
      if (i.w1 == 0)
          i.w1 = 256;
      i.agl = E[K];
      K++;
      K++;
      i.ac3 = O.od(E, K);
      K += 2;
      i.abx = O.od(E, K);
      K += 2;
      i.size = O.n$(E, K);
      K += 4;
      i.offset = O.n$(E, K);
      K += 4;
      return i
  }
  ;
  fb.cG = {};
  fb.cG.VA = function(E) {
      var K = Date.now(), C, g = !0;
      if (_.raw.p0(E.byteLength))
          return [_.raw.a0M(E)];
      var i = UTIF.decode(E);
      if (i[0].t33421)
          C = i[0];
      else if (i[0].subIFD && i[0].t271 && i[0].t271[0] == "Hasselblad") {
          C = i[0].subIFD[0];
          C.t33421 = [2, 2]
      } else if (i[0].subIFD && i[0].subIFD[0].t33421) {
          C = i[0].subIFD[0];
          if (C.t50706 == null) {
              if (C.t258[0] == 8)
                  C.t258[0] = 12
          }
      } else if (i[0].subIFD && i[0].subIFD[0] && i[0].subIFD[0].t262 && i[0].subIFD[0].t262[0] == 34892)
          C = i[0].subIFD[0];
      else if (i[0].subIFD && i[0].subIFD[1] && i[0].subIFD[1].t33421)
          C = i[0].subIFD[1];
      else if (i[0].subIFD && i[0].subIFD[2] && i[0].subIFD[2].t33421)
          C = i[0].subIFD[2];
      else if (i[3] && i[3].t50648) {
          var N = i[0].exifIFD
            , k = N.makerNote;
          C = i[3];
          var V = k.t224[1]
            , j = k.t224[2];
          C.t256 = [V];
          C.t257 = [j];
          C.t258 = [16];
          C.t259 = [7];
          C.t262 = [32803];
          C.t277 = [1];
          C.t33421 = [2, 2];
          var a = C.t50656[0]
            , e = _.raw._R[a];
          if (e == null)
              throw "e";
          C.t33422 = e
      }
      if (C) {
          UTIF.decodeImage(E, C, i);
          for (var L in i[0])
              if ((L[0] == "t" || L[0] == "e" || L[0] == "d") && C[L] == null)
                  C[L] = i[0][L];
          C.fc = i[0].t274 ? i[0].t274[0] : 1;
          return [C]
      }
      var I = 1 / 256;
      for (var G = 0; G < i.length; G++)
          if (i[G].t258 && i[G].t258[0] == 16 && i[G].t277 && i[G].t277[0] == 1) {} else
              g = !1;
      if (g) {
          var h = 0
            , o = 0
            , H = 0;
          for (var G = 0; G < i.length; G++) {
              UTIF.decodeImage(E, i[G], i);
              var A = i[G].data;
              for (var S = 0; S < A.length; S += 2) {
                  var v = A[S + 1] << 8 | A[S];
                  if (v > h)
                      h = v;
                  o += v;
                  H++
              }
          }
          I = 1 / 256 * 65535 / (.5 * h + .5 * (2 * o / H))
      }
      var s = [];
      for (var G = 0; G < i.length; G++) {
          var D = i[G]
            , F = 72;
          UTIF.decodeImage(E, D, i);
          var y = D.t282
            , T = D.t296;
          if (y != null && T != null) {
              F = y[0][0] / y[0][1];
              if (T[0] == 3)
                  F = Math.round(F / 2.54)
          }
          if (D.width == null)
              continue;
          var Q = UTIF.toRGBA8(D, I).buffer
            , B = gu.Lc(D);
          s.push({
              UP: new h4(0,0,D.width,D.height),
              data: Q,
              v9: F,
              Xp: B
          })
      }
      return s
  }
  ;
  fb.cG.PW = function(E, K, i, C) {
      if (C == null)
          C = [!1];
      var N = {}
        , k = E[0];
      if (k[3] != null && C[0])
          N = gu.PH(k[3]);
      if (k[2] != null) {
          N.t282 = N.t283 = [[Math.round(k[2]), 1]];
          N.t296 = [2]
      }
      return UTIF.encodeImage(k[0], K, i, N)
  }
  ;
  fb.Sd = {};
  fb.Sd.tW = !0;
  fb.Sd.VA = function(E, K) {
      eP.sQ(E, K)
  }
  ;
  fb.Sd.a5q = function(E, K, i, C) {
      if (C == null)
          C = [!1, !1, !1];
      if (!C[0])
          E.A7();
      var N = new hB
        , k = eP.c4(E, N, C);
      return [N.data.buffer, k]
  }
  ;
  fb.Sd.PW = function(E, K, i, C) {
      var N = fb.Sd.a5q(E, K, i, C)
        , k = N[0]
        , V = N[1];
      return k.byteLength == V ? k : k.slice(0, V)
  }
  ;
  fb.sT = {};
  fb.sT.tW = !0;
  fb.sT.VA = function(E, K) {
      var i = pako.inflate(new Uint8Array(E))
        , C = O.HJ(i, 0)
        , N = O.HJ(i, 2)
        , k = 4;
      K.d = O.n(i, k);
      k += 4;
      K.v = O.n(i, k);
      k += 4;
      K.buffer = _.I(K.d * K.v * 4);
      var V = O.HJ(i, k);
      k += 2;
      k += 4;
      for (var j = 0; j < V; j++) {
          var a = K.qV()
            , Q = 1
            , B = 2
            , r = 3
            , J = 0;
          K.t.push(a);
          var e = O.n(i, k);
          k += 4;
          var L = k
            , g = O.HJ(i, L);
          L += 2;
          var I = O.Yo(i, L, g);
          L += g;
          a.gv(I);
          L++;
          a.rect.x = O.Ex(i, L);
          L += 4;
          a.rect.y = O.Ex(i, L);
          L += 4;
          a.rect.d = O.n(i, L);
          L += 4;
          a.rect.v = O.n(i, L);
          L += 4;
          if (C > 3)
              L += 4;
          a.opacity = Math.round(255 * i[L] / 100);
          L++;
          a.HU(i[L] != 0);
          L++;
          a.SI = "norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[i[L]];
          L++;
          L++;
          if (C > 3) {
              var h = O.HJ(i, L);
              L += 2;
              if (h != 0) {
                  var o = JSON.parse(O.Yo(i, L, h));
                  L += h;
                  var H = o.text
                    , A = o.textSettings
                    , S = A.font
                    , v = A.size
                    , s = A.padding
                    , D = parseInt(A.color.slice(1), 16);
                  a.add.lnsr = "rend";
                  a.add.TySh = cO.u3(0, 0);
                  a.add.TySh.u9 = new h4(0,0,100,100);
                  a.add.TySh.m = new fn(1,0,0,1,a.rect.x + s,a.rect.y + s);
                  var F = a.add.TySh.Ou;
                  cO.kw(F, 1);
                  cO.Bk(F, [0, 0, a.rect.d - s * 2, a.rect.v]);
                  cO.qu(F, 0, H);
                  var y = cO.UX(F, 0, 1);
                  y.dP.FontSize = v;
                  y.dP.FillColor = {
                      Type: 1,
                      Values: [1, (D >>> 16 & 255) / 255, (D >>> 8 & 255) / 255, (D >>> 0 & 255) / 255]
                  };
                  if (A.bold)
                      S += "-Bold";
                  cO.Ui(y, S);
                  y.oN.Justification = ["left", "right", "center"].indexOf(A.align);
                  cO.Wk(F, 0, H.length, y)
              }
          }
          var T = O.n(i, L);
          L += 4;
          if (T != a.rect.X() * 4)
              throw "e";
          a.buffer = _.I(T);
          if (C > 3) {
              Q = 0;
              B = 1;
              r = 2;
              J = 3
          }
          for (var G = 0; G < T; G += 4) {
              a.buffer[G] = i[L + G + Q];
              a.buffer[G + 1] = i[L + G + B];
              a.buffer[G + 2] = i[L + G + r];
              a.buffer[G + 3] = i[L + G + J]
          }
          L += T;
          var m = O.n(i, L);
          L += 4;
          if (m == 0 && C > 3) {
              k += e;
              continue
          }
          var x = i[L];
          L++;
          var R = O.HJ(i, L);
          L += 2;
          if (m != 0) {
              a.r = new U.xW;
              a.r.rect = a.rect.clone();
              a.r.channel = _.I(a.rect.X());
              for (var G = 0; G < m; G += 4)
                  a.r.channel[G >>> 2] = i[L + G + 1];
              L += m
          }
          if (x != 0) {
              var b = JSON.parse(ao.default);
              a.add.lmfx = b;
              for (var G = 0; G < ao.order.length; G++)
                  b[ao.Y9[G]] = {
                      t: "VlLs",
                      v: []
                  };
              var z = {
                  "102": 9,
                  "101": 2,
                  "103": 0,
                  "104": 3,
                  "105": 8
              };
              for (var G = 0; G < x; G++) {
                  var $ = O.HJ(i, L)
                    , P = L + $ + 4
                    , t = i.slice(L, P)
                    , X = i[L + 2];
                  L += 3;
                  var Z = z[X + ""]
                    , p = JSON.parse(ao.Fc[Z]);
                  b[ao.Y9[Z]].v.push({
                      t: "Objc",
                      v: p
                  });
                  if (Z != 0) {
                      p.Md.v.BlnM = gx.Ig("norm");
                      p.Opct.v.val = i[L];
                      L++;
                      if (Z == 9 || Z == 2) {
                          p.Dstn.v.val = i[L + 1];
                          L += 2
                      } else
                          L += 2;
                      p.blur.v.val = Math.round(i[L] * 1.2);
                      L++;
                      if (Z == 9 || Z == 2) {
                          p.uglg.v = !1;
                          p.lagl.v.val = 180 - O.HJ(i, L);
                          L += 2
                      }
                      p.Clr.v = _.V.VQ({
                          h: i[L + 1],
                          l: i[L + 2],
                          O: i[L + 3]
                      })
                  } else {
                      p.hglM.v.BlnM = p.sdwM.v.BlnM = gx.Ig("norm");
                      L += 2;
                      var f = i[L++]
                        , cY = i[L++];
                      p.blur.v.val = Math.round(Math.sqrt(cY * f) * 1.3);
                      p.srgR.v.val = Math.round(100 * f / cY);
                      p.uglg.v = !1;
                      p.lagl.v.val = 180 - O.HJ(i, L);
                      L += 2;
                      p.hglO.v.val = i[L++];
                      p.hglC.v = _.V.VQ({
                          h: i[L + 1],
                          l: i[L + 2],
                          O: i[L + 3]
                      });
                      L += 4;
                      p.sdwO.v.val = i[L++];
                      p.sdwC.v = _.V.VQ({
                          h: i[L + 1],
                          l: i[L + 2],
                          O: i[L + 3]
                      });
                      L += 4
                  }
                  L = P
              }
          }
          if (L - k != e) {
              var fC = O.n(i, L)
                , W = 0;
              L += 4;
              L++;
              var g = O.HJ(i, L);
              L += 2;
              var H = O.Yo(i, L, g);
              L += g;
              H = H.replace(/\r/g, "\n");
              var g = O.HJ(i, L);
              L += 2;
              var S = O.Yo(i, L, g);
              L += g;
              var v = O.HJ(i, L);
              L += 2;
              var hi = a.rect.x
                , es = a.rect.d;
              if (fC & 4)
                  W = 1;
              if (fC & 2)
                  W = 2;
              var d = Math.round(v * .4);
              if (W == 0 || W == 2)
                  es += d;
              if (W == 1 || W == 2) {
                  es += d;
                  hi -= d
              }
              a.add.lnsr = "rend";
              a.add.TySh = cO.u3(0, 0);
              a.add.TySh.u9 = new h4(0,0,100,100);
              a.add.TySh.m = new fn(1,0,0,1,hi,a.rect.y + v * .25);
              var F = a.add.TySh.Ou;
              cO.kw(F, 1);
              cO.Bk(F, [0, 0, es, a.rect.v]);
              cO.qu(F, 0, H);
              var y = cO.UX(F, 0, 1);
              y.dP.FontSize = v;
              y.dP.FillColor = {
                  Type: 1,
                  Values: [1, i[L + 1] / 255, i[L + 2] / 255, i[L + 3] / 255]
              };
              L += 4;
              if (i[L + 5])
                  S += "-Bold";
              if (i[L + 6])
                  S += "-Italic";
              cO.Ui(y, S);
              y.oN.Justification = W;
              L += 8;
              cO.Wk(F, 0, H.length, y)
          }
          k += e
      }
  }
  ;
  fb.xE = {};
  fb.xE.tW = !0;
  fb.xE.VA = function(E, K) {
      f7.sQ(E, K)
  }
  ;
  fb.YK = {};
  fb.YK.tW = !0;
  fb.YK.VA = function(E, K) {
      aZ.sQ(E, K)
  }
  ;
  fb.JH = {};
  fb.JH.tW = !0;
  fb.JH.VA = function(E, K) {
      dc.sQ(E, K)
  }
  ;
  fb.fO = {};
  fb.fO.tW = !0;
  fb.fO.VA = function(E, K) {
      iY.sQ(E, K)
  }
  ;
  fb.EO = {};
  fb.EO.tW = !0;
  fb.EO.VA = function(E, K) {
      fE.sQ(E, K)
  }
  ;
  fb.xd = {};
  fb.xd.tW = !0;
  fb.xd.PW = function(E, K, i, C, N) {
      if (C == null)
          C = [!0, !1, !1, !1, !0, !0];
      var k = bU.fD(E, {
          k3: C[0],
          hidden: C[1],
          afU: C[2],
          a1F: C[3],
          names: C[4],
          a7A: C[5],
          anf: K,
          a5s: i
      }, N.g5);
      return k
  }
  ;
  fb.xd.VA = function(E, K, i) {
      bU.sQ(E, K, i)
  }
  ;
  fb.jD = {};
  fb.jD.tW = !0;
  fb.jD.VA = function(E, K) {
      var i = 150
        , C = new fn(1,0,0,-1,0,0);
      C.scale(i / 72, i / 72);
      K.v9 = i;
      var N = new a_(K,C,!0);
      FromPS.Parse(E, N)
  }
  ;
  fb.Uo = {};
  fb.Uo.tW = !0;
  fb.Uo.PW = function(E, K, i, C, N) {
      if (C == null)
          C = ["", 100, !1, !1, !1];
      C[5] = ["jpg"];
      var k = new ToPDF;
      dt.fD(E, C, k, N.g5);
      return k.buffer
  }
  ;
  fb.Uo.VA = function(E, K, i) {
    debugger
      var C = 2;
      while (!0) {
          var N = C * 72
            , k = new fn(1,0,0,-1,0,0);
          k.scale(N / 72, N / 72);
          K.v9 = N;
          var V = new a_(K,k,!0);
          FromPDF.Parse(E, V);
          var j = Math.max(K.d, K.v);
          if (i && j < Math.max(i[0], i[1])) {
              K.t = [];
              var a = C;
              while (j * (C / a) < Math.max(i[0], i[1]))
                  C++
          } else
              break
      }
  }
  ;
  fb.Cy = {};
  fb.Cy.tW = !0;
  fb.Cy.VA = function(E, K) {
      var i = 72
        , C = new fn(1,0,0,1,0,0);
      C.scale(i / 72, i / 72);
      K.v9 = i;
      var N = new a_(K,C,!1);
      FromWMF.Parse(E, N)
  }
  ;
  fb.ny = {};
  fb.ny.Aw = !0;
  fb.ny.tW = !0;
  fb.ny.PW = function(E, K, i, C, N) {
      if (C == null)
          C = ["", !1, !1, !1];
      C[4] = [];
      var k = new ToEMF;
      dt.fD(E, C, k, N.g5);
      return k.buffer
  }
  ;
  fb.ny.VA = function(E, K) {
      var i = 72
        , C = new fn(1,0,0,1,0,0);
      C.scale(i / 72, i / 72);
      K.v9 = i;
      var N = new a_(K,C,!1);
      FromEMF.Parse(E, N)
  }
  ;
  fb.lB = {};
  fb.lB.tW = !0;
  fb.lB.VA = function(E, K) {
      return b3.sQ(E, K)
  }
  ;
  fb.rL = {};
  fb.rL.VA = function(E, K) {
      var i = h3.sQ(E), C = new Uint8Array(E), N = 0, k, V, j, a, e, L, g, I, h = 0, o = 0, H = 0, A = 0, S = 0;
      for (var v = 0; v < i.sub.length; v++) {
          var s = i.sub[v]
            , N = s.i;
          if (s.V3 == "BMHD") {
              var D = [];
              for (var G = 0; G < 4; G++)
                  D[G] = O.HJ(C, N + 2 * G);
              N += 8;
              a = D[2];
              e = D[3];
              V = D[0];
              j = D[1];
              k = _.I(V * j * 4);
              L = C[N++];
              g = C[N++];
              I = C[N++]
          } else if (s.V3 == "CMAP")
              h = N;
          else if (s.V3 == "CAMG") {
              var F = O.n(C, N);
              o = F & 32768,
              H = F & 4,
              A = F & 2048;
              S = F & 128
          } else if (s.V3 == "BODY") {
              var y = V + 15 >>> 4 << 1, T = L + g, Q = _.I(y * j * T), m, x, R;
              a3.iR(C, N, s.size, Q, 0, Q.length);
              var B = L - 2
                , r = (1 << B) - 1
                , J = Math.round(255 / r);
              for (var e = 0; e < j; e++)
                  for (var a = 0; a < V; a++) {
                      var b = 0;
                      for (var z = 0; z < T; z++) {
                          var $ = (e * T + z) * y * 8 + a
                            , P = Q[$ >>> 3] >>> 7 - ($ & 7) & 1;
                          b |= P << z
                      }
                      var t = b >>> L
                        , b = b & (1 << L) - 1
                        , G = e * V + a
                        , X = G << 2;
                      if (h != 0) {
                          if (A != 0 && b >>> B != 0) {
                              var Z = b >>> B
                                , p = (b & r) * J;
                              if (Z == 1)
                                  R = p;
                              else if (Z == 2)
                                  m = p;
                              else if (Z == 3)
                                  x = p
                          } else {
                              var p = h + b * 3;
                              m = C[p + 0];
                              x = C[p + 1];
                              R = C[p + 2]
                          }
                      } else {
                          m = b >>> 0 & 255;
                          x = b >>> 8 & 255;
                          R = b >>> 16 & 255
                      }
                      k[X + 0] = m;
                      k[X + 1] = x;
                      k[X + 2] = R;
                      k[X + 3] = 255
                  }
          }
      }
      return [{
          UP: new h4(0,0,V,j),
          data: k.buffer
      }]
  }
  ;
  fb.zy = {};
  fb.zy.tW = !1;
  fb.zy.PW = function(E, K, i, C) {
      var N = E[0][4]
        , k = new Uint8Array(E[0][0])
        , V = 2
        , j = N ? !0 : !1
        , a = j ? 4 : 3
        , e = new Uint8Array(K * i * a);
      for (var L = 0; L < i; L++)
          for (var g = 0; g < K; g++) {
              var I = L * K + g << 2
                , h = ((i - L - 1) * K + g) * a;
              e[h] = k[I + 2];
              e[h + 1] = k[I + 1];
              e[h + 2] = k[I + 0];
              if (j)
                  e[h + 3] = N[0][L * K + g]
          }
      if (!0) {
          var o = e.length
            , H = 0
            , A = new Uint8Array(o * 2)
            , S = 0
            , v = 0
            , s = K * a;
          while (v < o) {
              var D = v
                , F = 0
                , y = s * (Math.floor(v / s) + 1);
              while (D < y && F < 128) {
                  var T = !0;
                  for (var G = 0; G < a; G++)
                      T = T & e[v + G] == e[D + G];
                  if (!T)
                      break;
                  D += a;
                  F++
              }
              if (F == 1) {
                  var Q = 1;
                  while (Q < 128 && v + (Q + 1) * a < y) {
                      var T = !0
                        , B = v + Q * a;
                      for (var G = 0; G < a; G++)
                          T = T & e[B + G] == e[B + a + G];
                      if (T)
                          break;
                      Q++
                  }
                  A[S++] = Q - 1;
                  for (var r = 0; r < Q; r++)
                      for (var G = 0; G < a; G++)
                          A[S++] = e[v++]
              } else {
                  A[S++] = 127 + F;
                  for (var G = 0; G < a; G++)
                      A[S + G] = e[v + G];
                  S += a;
                  v += a * F;
                  H += F
              }
          }
          e = A.slice(0, S);
          V += 8
      }
      var J = new Uint8Array(18 + e.length + 26);
      J[2] = V;
      O.Le(J, 12, K);
      O.Le(J, 14, i);
      J[16] = a * 8;
      J[17] = a == 4 ? 8 : 0;
      J.set(e, 18);
      O.EX(J, 18 + e.length + 8, "TRUEVISION-XFILE.");
      return J.buffer
  }
  ;
  fb.zy.VA = function(E) {
      var K = new Uint8Array(E)
        , i = 0
        , C = K[0]
        , N = K[1]
        , k = K[2]
        , V = K[4] * 256 + K[3]
        , j = K[6] * 256 + K[5]
        , a = K[7]
        , e = K[9] * 256 + K[8]
        , L = K[11] * 256 + K[10]
        , g = K[13] * 256 + K[12]
        , I = K[15] * 256 + K[14]
        , h = K[16]
        , o = K[17]
        , H = o >>> 4
        , A = O.zV(K, 18, C)
        , S = _.I(g * I * 4)
        , i = 18 + C + (j * a >>> 3)
        , v = new Uint8Array(K.buffer,i);
      if (k > 3) {
          var s = 0
            , D = K
            , F = new Uint8Array(g * I * h >>> 3)
            , y = i
            , T = 0
            , Q = K.length
            , B = h >>> 3;
          while (T < F.length) {
              var l = D[y];
              y++;
              if (l < 128)
                  for (var G = 0; G < l + 1; G++) {
                      for (var r = 0; r < B; r++) {
                          F[T] = D[y];
                          T++;
                          y++
                      }
                  }
              else {
                  for (var G = 0; G < l - 127; G++) {
                      for (var r = 0; r < B; r++) {
                          F[T] = D[y + r];
                          T++
                      }
                  }
                  y += B
              }
          }
          k -= 8;
          v = F;
          i = y
      } else
          i += g * I * h >>> 3;
      var J = new Uint8Array(4)
        , m = fb.zy.a4c;
      for (var x = 0; x < I; x++)
          for (var R = 0; R < g; R++) {
              var b = (H & 2) == 0 ? (I - x - 1) * g + R : x * g + R, z = x * g + R, $, P, t, X = 255, Z = b * h >>> 3;
              if (k == 1) {
                  var p = 0;
                  if (h == 8)
                      p = v[Z];
                  else
                      throw "e";
                  m(K, 18 + C + V + (p * a >>> 3), a, J);
                  $ = J[0];
                  P = J[1];
                  t = J[2];
                  X = J[3]
              } else if (k == 2) {
                  m(v, Z, h, J);
                  $ = J[0];
                  P = J[1];
                  t = J[2];
                  X = J[3]
              } else if (k == 3) {
                  if (h == 8)
                      $ = P = t = v[Z];
                  else
                      throw "e"
              }
              var gl = z * 4;
              S[gl] = $;
              S[gl + 1] = P;
              S[gl + 2] = t;
              S[gl + 3] = X
          }
      var J = {
          UP: new h4(0,0,g,I),
          data: S.buffer,
          Ho: A
      };
      if (_.Tx(S)) {
          var f = _.I(g * I);
          _.wF(S, f, 3);
          _.EE(S, 4278190080, 16777215);
          J.h_ = [f]
      }
      return [J]
  }
  ;
  fb.zy.a4c = function(E, K, i, C) {
      var N, k, V, j = 255;
      if (i == 24 || i == 32) {
          V = E[K];
          k = E[K + 1];
          N = E[K + 2];
          if (i == 32)
              j = E[K + 3]
      } else if (i == 16) {
          var a = E[K + 1] << 8 | E[K + 0];
          N = a >>> 10 & 31;
          k = a >>> 5 & 31;
          V = a >>> 0 & 31;
          N = Math.round(N * (255 / 31));
          k = Math.round(k * (255 / 31));
          V = Math.round(V * (255 / 31))
      } else
          throw "e";
      C[0] = N;
      C[1] = k;
      C[2] = V;
      C[3] = j
  }
  ;
  fb.UH = {};
  fb.UH.VA = function(E) {
      var K = new Uint8Array(E), i = 0, C = 112, N = 42, k = O.n$, L;
      i += 8;
      var V = K[i];
      i++;
      if (V != N)
          throw "e";
      var j = k(K, i);
      i += 4;
      var a = O.gr(K, i, j);
      i += j * 2;
      var e = [];
      while (i < K.length) {
          L = k(K, i);
          i += 4;
          if (L != C)
              throw L;
          i += 4;
          L = K[i];
          i++;
          if (L != N)
              throw L;
          var g = k(K, i);
          i += 4;
          var I = K[i];
          i++;
          if (I != N) {
              i -= 5;
              g = k(K, i);
              i += 8;
              L = K[i];
              i++;
              if (L != N)
                  throw L
          }
          var h = k(K, i) * 2;
          i += 4;
          if (g > 0)
              e.push(i + h);
          i += h + g
      }
      var o = new DOMParser
        , H = o.parseFromString(a, "image/svg+xml").firstChild.firstChild
        , A = [];
      fb.UH.T7(H, K, e, A);
      return A
  }
  ;
  fb.UH.T7 = function(E, K, i, C) {
      var N = E.firstChild.firstChild;
      if (N.tagName == "Image") {
          var k = N.getElementsByTagName("ImageDescription")[0]
            , V = k.children[0].children
            , j = k.children[1].children
            , a = i.shift()
            , e = [];
          for (var G = 0; G < j.length; G++)
              e.push(parseInt(j[G].getAttribute("NumberOfElements")));
          while (e.length > 3)
              e[2] *= e.pop();
          var L = V.length
            , g = e[0]
            , I = e[1]
            , h = e[2]
            , o = parseInt(j[0].getAttribute("BytesInc"));
          for (var H = 0; H < h; H++) {
              var A = _.I(g * I * 4);
              _.EE(A, 4278190080);
              for (var S = 0; S < L; S++) {
                  var v = _.I(g * I);
                  if (o == 1)
                      for (var s = 0; s < v.length; s++)
                          v[s] = K[a + s];
                  else if (o == 2)
                      for (var s = 0; s < v.length; s++)
                          v[s] = Math.min(255, (K[a + s * 2 + 1] << 8 | K[a + s * 2]) >>> 2);
                  else
                      throw o;
                  if (S != 3)
                      _.lM(v, A, S);
                  if (L == 1) {
                      _.lM(v, A, 1);
                      _.lM(v, A, 2)
                  }
                  a += g * I * o
              }
              C.push({
                  UP: new h4(0,0,g,I),
                  data: A.buffer
              })
          }
      } else {
          var D = E.children
            , F = 0;
          while (F < D.length && D[F].tagName != "Children")
              F++;
          if (F == D.length)
              throw "e";
          D = D[F].children;
          for (var y = 0; y < D.length; y++)
              fb.UH.T7(D[y], K, i, C)
      }
  }
  ;
  fb.KF = {};
  fb.KF.VA = function(E) {
      var K = new Uint8Array(E)
        , i = 0
        , C = {}
        , L = 1e9;
      for (var G = 0; G < 306; G++) {
          var N = O.zV(K, i, 8).trim()
            , k = O.zV(K, i + 9, 71).split("/")[0].trim();
          C[N] = k;
          i += 80;
          if (N == "END") {
              i = Math.ceil(i / 2880) * 2880;
              break
          }
      }
      var V = parseInt(C.NAXIS1)
        , j = parseInt(C.NAXIS2)
        , a = V * j
        , e = parseInt(C.BITPIX)
        , g = -1e9
        , I = new Float32Array(a)
        , h = new Float32Array(E,i,E.byteLength - i >>> 2);
      for (var G = 0; G < a; G++) {
          var o = G << 2
            , H = G << 1;
          if (e == -32) {
              var A = K[i + o + 0];
              K[i + o + 0] = K[i + o + 3];
              K[i + o + 3] = A;
              var A = K[i + o + 1];
              K[i + o + 1] = K[i + o + 2];
              K[i + o + 2] = A;
              I[G] = h[G]
          } else if (e == 16) {
              I[G] = O.od(K, i + H)
          } else
              throw e;
          var S = I[G];
          if (S < L)
              L = S;
          if (S > g)
              g = S
      }
      var v = _.I(a * 4)
        , s = 1 / g;
      for (var D = 0; D < j; D++)
          for (var F = 0; F < V; F++) {
              var G = D * V + F
                , y = (j - D - 1) * V + F
                , o = y << 2
                , S = I[G] * s;
              v[o] = v[o + 1] = v[o + 2] = 255 * S;
              v[o + 3] = 255
          }
      return [{
          UP: new h4(0,0,V,j),
          data: v,
          Ho: C.OBJECT
      }]
  }
  ;
  fb.yM = {};
  fb.yM.VA = function(E) {
      var K = new Uint8Array(E), i = 16, C = O.zV(K, i, 4), k = 32, S = 0, v = 0, s = !1, P;
      i += 4;
      var N = O.zV(K, i, 8);
      i += 8;
      while (K[i + k - 1] == 0)
          k--;
      var V = O.zV(K, i, k);
      i += 32;
      var j = O.zV(K, i, 4);
      i += 4;
      i += 20;
      var a = O.n(K, i);
      i += 4;
      var e = O.n(K, i);
      i += 4;
      var L = O.n(K, i);
      i += 4;
      var g = O.n(K, i);
      i += 4;
      var I = O.n(K, i);
      i += 4;
      var h = O.n(K, i);
      i += 4;
      var o = "FujiFilm " + V
        , H = [0, 1, 1, 2];
      if (o == "FujiFilm X10") {
          o = "FujiFilm FinePix X10";
          H = [2, 1, 1, 0]
      }
      var A = {
          t271: ["FujiFilm"],
          t272: [o],
          t277: [1],
          t33421: [2, 2],
          t33422: H,
          fc: 1
      };
      i = L;
      var D = []
        , F = O.HJ
        , y = O.n(K, i);
      i += 4;
      for (var G = 0; G < y; G++) {
          var T = F(K, i);
          i += 2;
          var Q = F(K, i);
          i += 2;
          if (T == 256) {
              v = F(K, i);
              S = F(K, i + 2)
          } else if (T == 272) {
              D = [F(K, i), F(K, i + 2)]
          } else if (T == 273) {
              D.push(F(K, i), F(K, i + 2))
          } else if (T == 304) {
              s = !(K[i] >>> 7)
          } else if (T == 305) {
              var B = Math.round(Math.sqrt(Q))
                , r = [];
              for (var J = 0; J < Q; J++)
                  r.push(K[i + J]);
              r.reverse();
              A.t33421 = [B, B];
              A.t33422 = r
          } else if (T == 12272) {
              var m = F(K, i)
                , x = F(K, i + 2)
                , R = F(K, i + 6);
              A.t50728 = [m / x, 1, m / R]
          }
          i += Q
      }
      var b = S < v
        , z = K.slice(I, I + h)
        , $ = Math.round(h * 8 / (S * v));
      if (z[0] == 73 && z[1] == 73 && z[2] == 42) {
          P = UTIF.decode(z.buffer)[0].fujiIFD;
          $ = P.t61443[0];
          var t = P.t61454;
          A.t50728 = [t[0] / t[1], 1, t[0] / t[2]];
          var X = P.t61447[0];
          z = z.slice(X, X + P.t61448[0])
      }
      var h = z.length
        , Z = h * 8 < S * v * $;
      if (Z)
          alert("Compressed RAF is not supported yet :(");
      function p(hi, es, W) {
          W = W << 8 - (es & 7);
          var d = es >>> 3;
          hi[d] |= W >>> 16;
          hi[d + 1] |= W >>> 8;
          hi[d + 2] |= W
      }
      var gl = h * 8 / (S * v);
      if (gl == 16)
          for (var G = 0; G < h; G += 2) {
              var f = z[G];
              z[G] = z[G + 1];
              z[G + 1] = f
          }
      else if (gl == 14) {
          for (var G = 0; G < h; G += 4) {
              var f = z[G];
              z[G] = z[G + 3];
              z[G + 3] = f;
              f = z[G + 1];
              z[G + 1] = z[G + 2];
              z[G + 2] = f
          }
      } else if (gl == 12)
          for (var G = 0; G < h; G += 3) {
              var cY = z[G + 2] << 16 | z[G + 1] << 8 | z[G + 0];
              cY = cY >>> 12 | (cY & 4095) << 12;
              z[G] = cY >>> 16 & 255;
              z[G + 1] = cY >>> 8 & 255;
              z[G + 2] = cY & 255
          }
      if (b)
          z = fb.yM.a2t(z, S, v);
      var fC = b ? 2 : 1;
      S *= fC;
      A.t256 = [S];
      A.t257 = [v];
      A.t258 = [$];
      A.t50719 = [D[1], D[0] * fC];
      A.t50720 = [D[3], D[2] * fC];
      A.width = S;
      A.height = v;
      A.data = new Uint8Array(z.buffer);
      return [A]
  }
  ;
  fb.yM.a2t = function(E, K, i) {
      E = new Uint16Array(E.buffer);
      var C = new Uint16Array(K * i * 2);
      for (var N = 0; N < i; N += 2)
          for (var k = 0; k < K; k++) {
              var V = N * K + k
                , j = V * 2
                , a = E[V]
                , e = E[V + K];
              C[j + 1] = C[j + 2 * K] = e;
              if (((N >>> 1) + k & 1) == 0) {
                  C[j] = a;
                  C[j + 2 * K + 1] = E[V + 1]
              } else {
                  C[j] = E[V - 1];
                  C[j + 2 * K + 1] = a
              }
          }
      return C
  }
  ;
  fb.FA = {};
  fb.FA.Aw = !0;
  fb.FA.PW = function(E, K, i, C) {
      var N = new Uint8Array(E[0][0])
        , k = K * i
        , V = [1, 3, 4][C[0]]
        , j = 8 + 8 * C[1]
        , a = C[2];
      if (V == 1) {
          var e = new Uint8Array(K * i);
          _.wF(N, e, 0);
          N = e
      }
      if (V == 3) {
          var e = new Uint8Array(K * i * 3);
          for (var G = 0; G < k; G++) {
              var L = G * 4
                , g = G * 3;
              e[g] = N[L];
              e[g + 1] = N[L + 1];
              e[g + 2] = N[L + 2]
          }
          N = e
      }
      if (j == 16) {
          var I = N.length
            , e = new Uint8Array(I * 2);
          for (var G = 0; G < I; G++) {
              var h = Math.round(N[G] * (65535 / 255));
              e[G * 2 + a] = h >>> 8;
              e[G * 2 + 1 - a] = h & 255
          }
          N = e
      }
      return N.buffer
  }
  ;
  fb.sl = {};
  fb.sl.VA = function(E, K) {
      function i(a) {
          return ~~(.5 + _.kM(Math.max(0, Math.min(1, a))) * 255)
      }
      var C = EXRLoader.parse(E)
        , N = C.width
        , k = C.height
        , V = _.I(N * k * 4);
      for (var j = 0; j < k; j++)
          for (var a = 0; a < N; a++) {
              var G = (j * N + a) * 4
                , e = ((k - j - 1) * N + a) * 4;
              V[G] = i(C.data[e + 0]);
              V[G + 1] = i(C.data[e + 1]);
              V[G + 2] = i(C.data[e + 2]);
              V[G + 3] = i(C.data[e + 3])
          }
      return [{
          UP: new h4(0,0,N,k),
          data: V.buffer
      }]
  }
  ;
  fb.mE = {};
  fb.mE.Aw = !0;
  fb.mE.tW = !0;
  fb.mE.PW = function(E, K, i, C, N) {
      C = ["", 100, !1, !1, !1];
      C[5] = ["jpg"];
      var k = new ToDXF;
      dt.fD(E, C, k, N.g5);
      return k.buffer
  }
  ;
  fb.mE.VA = function(E, K) {
      var i = 72
        , C = new fn(1,0,0,1,0,0);
      C.scale(i / 72, i / 72);
      K.v9 = i;
      var N = new a_(K,C,!1);
      FromDXF.Parse(E, N)
  }
  ;
  fb.Rr = {};
  fb.Rr.VA = function() {
      var E = O.od, K = O.n$, i = O.zV, C;
      function N(V, j, a, e, L) {
          var g = K(V, a)
            , I = K(V, a + 4)
            , h = K(V, a + 8)
            , o = E(V, a + 12)
            , H = E(V, a + 14);
          a += 16;
          var A = {};
          for (var G = 0; G < o + H; G++) {
              var S = K(V, a), v = K(V, a + 4), s, D;
              if (S >>> 31 == 1) {
                  S = S & 16777215
              }
              if (G < o)
                  s = O.gr(V, j + S + 2, E(V, j + S));
              else
                  s = "id" + S;
              var F = e.slice(0);
              F.push(s);
              if (v >>> 31 == 1) {
                  v = v & 268435455;
                  D = N(V, j, j + v, F, L)
              } else {
                  var y = K(V, j + v)
                    , T = K(V, j + v + 4)
                    , Q = K(V, j + v + 8)
                    , B = K(V, j + v + 12);
                  if (B != 0)
                      throw "e";
                  if (y < L[0] || y > L[0] + L[1])
                      throw "e";
                  var r = L[2] + y - L[0];
                  D = V.slice(r, r + T);
                  var J = fb.e1(D.buffer);
                  if (J && ["bmp", "png", "ico"].indexOf(J) != -1) {
                      var m = fb.vG(J);
                      if (!m.tW) {
                          var x = null;
                          try {
                              x = m.VA(D.buffer)
                          } catch (i2) {}
                          if (x) {
                              x[0].Ho = F[1];
                              C.push(x[0])
                          }
                      }
                  } else if (J)
                      console.log(J)
              }
              A[s] = D;
              a += 8
          }
          return A
      }
      function k(V) {
          C = [];
          var j = new Uint8Array(V)
            , a = 0
            , e = E(j, a);
          a += 2;
          a += 58;
          var L = K(j, a);
          a += 4;
          a = L;
          var g = i(j, a, 4);
          a += 4;
          var I = E(j, a);
          a += 2;
          var h = E(j, a);
          a += 2;
          var o = K(j, a);
          a += 4;
          var H = K(j, a);
          a += 4;
          var A = K(j, a);
          a += 4;
          var S = E(j, a);
          a += 2;
          var v = E(j, a);
          a += 2;
          a += S;
          var s = {};
          for (var G = 0; G < h; G++) {
              var D = a;
              while (j[D] != 0)
                  D++;
              var F = i(j, a, D - a)
                , y = K(j, a + 8)
                , T = K(j, a + 12)
                , Q = K(j, a + 16)
                , B = K(j, a + 20)
                , r = K(j, a + 24)
                , J = K(j, a + 28)
                , m = E(j, a + 32)
                , x = E(j, a + 34)
                , v = K(j, a + 36);
              s[F] = [T, y, B, Q, v];
              if (r + J != 0)
                  throw "e";
              a += 40
          }
          for (var R in s) {
              var b = s[R];
              a = b[2];
              if (R == ".rsrc") {
                  var z = N(j, a, a, [], b)
                    , $ = "id134"
              }
          }
          return C
      }
      return k
  }();
  fb.IV = {};
  fb.IV.tW = !0;
  fb.IV.VA = function(E, K) {
      debugger
      g5.sQ(E, K)
  }
  ;
  function _() {}
  _.Mp = {};
  _.akX = function() {
      var E = [64, 64, 128, 256, 512, 1024, 2048]
        , K = [];
      for (var G = 0; G < E.length; G++) {
          var i = E[G]
            , C = document.createElement("canvas");
          C.width = i;
          C.height = i;
          K.push(C.getContext("2d"))
      }
      return K
  }();
  _.Zg = function(E, K) {
      var i, C = _.akX, G = 1, N = Math.max(E, K);
      while (G < C.length && N > C[G].canvas.width)
          G++;
      if (G == C.length) {
          i = C[0];
          var k = i.canvas;
          k.width = E;
          k.height = K
      } else {
          i = C[G];
          i.clearRect(0, 0, E, K)
      }
      return i
  }
  ;
  _.nY = function(E, K, i) {
      var C = {}
        , N = 0
        , k = 0
        , V = new Uint32Array(E.buffer)
        , j = V.length
        , a = Date.now();
      for (var e = 1; e < i - 1; e++)
          for (var L = 1; L < K - 1; L++) {
              var g = e * K + L
                , I = V[g];
              if (I >>> 24 < 230)
                  k++;
              if (C[I] == null) {
                  C[I] = !0;
                  N++
              }
          }
      if (k != 0 || N < 20)
          return !1;
      return !0
  }
  ;
  _.ux = function(E, K, i, C, N, k) {
      if (N == null)
          N = k = 0;
      C = Math.log(C) / Math.log(2);
      C = Math.round(C);
      for (var G = 0; G < i; G++)
          for (var V = 0; V < K; V++) {
              var j = G * K + V << 2
                , a = _.FL(G + k, V + N, C);
              E[j] = E[j + 1] = E[j + 2] = a;
              E[j + 3] = 255
          }
  }
  ;
  _.FL = function(G, E, K) {
      return 255 - ((G >>> K) + (E >>> K) & 1) * 51
  }
  ;
  _.rS = function(E) {
      var K = E.toString(16);
      while (K.length < 6)
          K = "0" + K;
      return K
  }
  ;
  _.Ek = function(E) {
      return parseInt(E, 16)
  }
  ;
  _.gU = function(E) {
      return .3 * E.h + .59 * E.l + .11 * E.O
  }
  ;
  _.zR = function(E) {
      return Math.max(E.h, E.l, E.O) - Math.min(E.h, E.l, E.O)
  }
  ;
  _.W6 = function(E, K, i) {
      return .3 * E + .59 * K + .11 * i
  }
  ;
  _.a4d = function(E, K, i) {
      return Math.max(E, K, i) - Math.min(E, K, i)
  }
  ;
  _.$v = function(E, K) {
      var i = K - E
        , C = Math.abs(i)
        , N = i - 1
        , k = i + 1;
      if (Math.abs(N) < C)
          i = N;
      else if (Math.abs(k) < C)
          i = k;
      return i
  }
  ;
  _.kM = function(E) {
      return E < .0031308 ? 12.92 * E : 1.055 * Math.pow(E, 1 / 2.4) - .055
  }
  ;
  _.aip = function(E) {
      return E < .04045 ? E / 12.92 : Math.pow((E + .055) / 1.055, 2.4)
  }
  ;
  _.a2T = function(E, K) {
      var i = Math.min(E.length, K.length);
      for (var G = 0; G < i; G += 4) {
          var C = E[G]
            , N = E[G + 1]
            , k = E[G + 2];
          K[G] = 16 + Math.floor(65.481 / 255 * C + 128.553 / 255 * N + 24.966 / 255 * k + .5);
          K[G + 1] = 128 - Math.floor(37.797 / 255 * C - 74.203 / 255 * N + 112 / 255 * k + .5);
          K[G + 2] = 128 + Math.floor(112 / 255 * C - 93.786 / 255 * N - 18.214 / 255 * k + .5);
          K[G + 3] = E[G + 3]
      }
  }
  ;
  _.d7 = function(E, K, i) {
      var C = Math.max(E, K, i)
        , N = Math.min(E, K, i)
        , k = 0
        , V = 0
        , j = (C + N) * .5;
      if (C != N) {
          var a = C - N;
          V = j > .5 ? a / (2 - (C + N)) : a / (C + N);
          switch (C) {
          case E:
              k = (K - i) / a + (K < i ? 6 : 0);
              break;
          case K:
              k = (i - E) / a + 2;
              break;
          case i:
              k = (E - K) / a + 4;
              break
          }
          k *= 1 / 6
      }
      return {
          w1: k,
          Us: V,
          q8: j
      }
  }
  ;
  _.WV = function(E, K, i) {
      var C, N, k;
      if (K == 0)
          C = N = k = i;
      else {
          var V = i < .5 ? i * (1 + K) : i + K - i * K
            , j = 2 * i - V;
          C = _.BG(j, V, E + 1 / 3);
          N = _.BG(j, V, E);
          k = _.BG(j, V, E - 1 / 3)
      }
      return {
          h: C,
          l: N,
          O: k
      }
  }
  ;
  _.BG = function(E, K, i) {
      if (i < 0)
          i += 1;
      if (i > 1)
          i -= 1;
      if (i < 1 / 6)
          return E + (K - E) * 6 * i;
      if (i < 1 / 2)
          return K;
      if (i < 2 / 3)
          return E + (K - E) * (2 / 3 - i) * 6;
      return E
  }
  ;
  _.Et = function(E, K, i) {
      var C = Math.max(E, K, i), N = Math.min(E, K, i), k, V, j = C, a = C - N;
      V = C == 0 ? 0 : a / C;
      if (C == N)
          k = 0;
      else {
          switch (C) {
          case E:
              k = (K - i) / a + (K < i ? 6 : 0);
              break;
          case K:
              k = (i - E) / a + 2;
              break;
          case i:
              k = (E - K) / a + 4;
              break
          }
          k *= 1 / 6
      }
      return {
          w1: k,
          Us: V,
          Gb: j
      }
  }
  ;
  _.Np = function(E, K, i) {
      var C, N, k, G, V, j, a, e;
      G = Math.floor(E * 6);
      V = E * 6 - G;
      j = i * (1 - K);
      a = i * (1 - V * K);
      e = i * (1 - (1 - V) * K);
      switch (G % 6) {
      case 0:
          C = i,
          N = e,
          k = j;
          break;
      case 1:
          C = a,
          N = i,
          k = j;
          break;
      case 2:
          C = j,
          N = i,
          k = e;
          break;
      case 3:
          C = j,
          N = a,
          k = i;
          break;
      case 4:
          C = e,
          N = j,
          k = i;
          break;
      case 5:
          C = i,
          N = j,
          k = a;
          break
      }
      return {
          h: C,
          l: N,
          O: k
      }
  }
  ;
  _.tE = function() {
      var E = []
        , K = [];
      for (var G = 0; G < 2e3; G++) {
          var i = G / 1e3;
          E[G] = _.aip(i);
          K[G] = i > .008856 ? Math.pow(i, 1 / 3) : (903.3 * i + 16) * (1 / 116)
      }
      return [E, K]
  }();
  _.th = function(E, K, i) {
      var C = _.tE[0]
        , N = _.tE[1];
      E = C[~~(E * (1e3 / 255))];
      K = C[~~(K * (1e3 / 255))];
      i = C[~~(i * (1e3 / 255))];
      var k = _.hZ.aib
        , V = k[0] * E + k[1] * K + k[2] * i
        , j = k[4] * E + k[5] * K + k[6] * i
        , a = k[8] * E + k[9] * K + k[10] * i;
      V = V * (100 / 96.72);
      j = j * (100 / 100);
      a = a * (100 / 81.427);
      return _.gb(V, j, a)
  }
  ;
  _.gb = function(E, K, i) {
      var C = _.tE[1]
        , N = C[~~(E * 1e3)]
        , k = C[~~(K * 1e3)]
        , V = C[~~(i * 1e3)];
      return {
          Ym: 116 * k - 16,
          R: 500 * (N - k),
          O: 200 * (k - V)
      }
  }
  ;
  _.Pb = function(E, K, i) {
      var C = 903.3
        , N = .008856
        , k = (E + 16) / 116
        , V = k * k * k
        , j = k - i / 200
        , a = j * j * j
        , e = K / 500 + k
        , L = e * e * e
        , g = a > N ? a : (116 * j - 16) / C
        , I = V > N ? V : (116 * k - 16) / C
        , h = L > N ? L : (116 * e - 16) / C
        , o = h * 96.72
        , H = I * 100
        , A = g * 81.427
        , S = _.hZ.iQ(_.hZ.Kc, [o / 100, H / 100, A / 100, 0]);
      for (var G = 0; G < 4; G++)
          S[G] = Math.max(0, Math.min(255, _.kM(S[G]) * 255));
      return {
          h: S[0],
          l: S[1],
          O: S[2]
      }
  }
  ;
  _.vf = function(E, K, i, C, N) {
      var k = E.Ym
        , V = E.R
        , j = E.O
        , a = (k < K.Ym ? K.Ym - k : i.Ym < k ? i.Ym - k : 0) * (1 / 100)
        , e = (V < K.R ? K.R - V : i.R < V ? i.R - V : 0) * (1 / 116)
        , L = (j < K.O ? K.O - j : i.O < j ? i.O - j : 0) * (1 / 116)
        , g = Math.sqrt(a * a + e * e + L * L) * 1.35;
      return g <= C ? Math.min(1, 1.17 * (1 - g * N)) : 0
  }
  ;
  _.YU = function(E, K, i) {
      var C = E.length
        , N = .3
        , k = .59
        , V = .11;
      if (i) {
          N = i[0];
          k = i[1];
          V = i[2]
      }
      for (var G = 0; G < C; G += 4)
          K[G >> 2] = ~~(E[G + 0] * N + E[G + 1] * k + E[G + 2] * V + .5)
  }
  ;
  _.WE = function(E, K) {
      var i = K.length;
      for (var G = 0; G < i; G += 4) {
          var C = E[G >>> 2];
          K[G] = C;
          K[G + 1] = C;
          K[G + 2] = C
      }
  }
  ;
  _.aS = function(E, K) {
      var i = E.R
        , C = E.h
        , N = E.l
        , k = E.O
        , V = Math.min(E.R.length, K.buffer.byteLength >>> 2)
        , j = 4 * Math.floor(V / 4)
        , a = new Uint32Array(K.buffer)
        , e = new Uint32Array(i.buffer)
        , L = new Uint32Array(C.buffer)
        , g = new Uint32Array(N.buffer)
        , I = new Uint32Array(k.buffer);
      for (var G = 0; G < j; G += 4) {
          var h = e[G >> 2]
            , o = I[G >> 2]
            , H = g[G >> 2]
            , A = L[G >> 2];
          a[G] = h << 24 | (o & 255) << 16 | (H & 255) << 8 | A & 255;
          a[G + 1] = (h & 65280) << 16 | (o & 65280) << 8 | H & 65280 | (A & 65280) >>> 8;
          a[G + 2] = (h & 16711680) << 8 | o & 16711680 | (H & 16711680) >>> 8 | (A & 16711680) >>> 16;
          a[G + 3] = h & 4278190080 | (o & 4278190080) >>> 8 | (H & 4278190080) >>> 16 | (A & 4278190080) >>> 24
      }
      for (var G = j; G < V; G++)
          a[G] = i[G] << 24 | k[G] << 16 | N[G] << 8 | C[G]
  }
  ;
  _.nT = function(E, K) {
      var i = K.R
        , C = K.h
        , N = K.l
        , k = K.O
        , V = Math.min(K.R.length, E.buffer.byteLength >>> 2)
        , j = 4 * Math.floor(V / 4)
        , a = new Uint32Array(E.buffer)
        , e = new Uint32Array(i.buffer)
        , L = new Uint32Array(C.buffer)
        , g = new Uint32Array(N.buffer)
        , I = new Uint32Array(k.buffer);
      for (var G = 0; G < j; G += 4) {
          var h = a[G]
            , o = a[G + 1]
            , H = a[G + 2]
            , A = a[G + 3];
          L[G >> 2] = h & 255 | (o & 255) << 8 | (H & 255) << 16 | A << 24;
          g[G >> 2] = (h & 65280) >> 8 | o & 65280 | (H & 65280) << 8 | (A & 65280) << 16;
          I[G >> 2] = (h & 16711680) >> 16 | (o & 16711680) >> 8 | H & 16711680 | (A & 16711680) << 8;
          e[G >> 2] = h >>> 24 | o >>> 24 << 8 | H >>> 24 << 16 | A & 4278190080
      }
      for (var G = j; G < V; G++) {
          var S = a[G];
          C[G] = S >> 0 & 255;
          N[G] = S >> 8 & 255;
          k[G] = S >> 16 & 255;
          i[G] = S >> 24 & 255
      }
  }
  ;
  _.wF = function(E, K, i) {
      var C = new Uint8Array(E.buffer)
        , N = Math.min(C.length / 4, K.length);
      for (var G = 0; G < N; G++) {
          K[G] = C[(G << 2) + i]
      }
  }
  ;
  _.lM = function(E, K, i) {
      var C = new Uint8Array(K.buffer)
        , N = new Uint32Array(E.buffer)
        , k = Math.min(C.length / 4, E.length)
        , G = 0;
      while (G + 4 < k) {
          var V = N[G >>> 2];
          C[(G << 2) + i] = V & 255;
          C[(G << 2) + i + 4] = V >>> 8 & 255;
          C[(G << 2) + i + 8] = V >>> 16 & 255;
          C[(G << 2) + i + 12] = V >>> 24;
          G += 4
      }
      while (G < k) {
          C[(G << 2) + i] = E[G];
          G++
      }
  }
  ;
  _.EE = function(E, K, i) {
      if (i == null)
          i = 0;
      var C = new Uint32Array(E.buffer)
        , N = C.length;
      for (var G = 0; G < N; G++)
          C[G] = C[G] & i | K
  }
  ;
  _.adc = function(E, K, i, C, N) {
      if (N == null)
          N = 0;
      var k = new Uint32Array(E.buffer);
      i = i.lx(K);
      var V = i.x - K.x
        , j = i.y - K.y
        , a = i.d
        , e = i.v
        , L = K.d;
      for (var g = 0; g < e; g++) {
          var G = (j + g) * L + V;
          for (var I = 0; I < a; I++) {
              k[G] = k[G] & N | C;
              G++
          }
      }
  }
  ;
  _.uJ = function(E, K) {
      var i = Math.min(E.buffer.byteLength, K.buffer.byteLength)
        , C = i >>> 2
        , E = new Uint32Array(E.buffer,0,C)
        , K = new Uint32Array(K.buffer,0,C);
      K.set(E)
  }
  ;
  _.Ql = function(E, K) {
      var i = E.buffer.byteLength
        , C = K.buffer.byteLength
        , N = new Uint32Array(E.buffer,0,i >> 2)
        , k = new Uint32Array(K.buffer,0,C >> 2);
      if (i != C)
          return !1;
      var V = N.length;
      for (var G = 0; G < V; G++)
          if (k[G] != N[G])
              return !1;
      return !0
  }
  ;
  _.KP = function(E) {
      var K = new Uint32Array(E.buffer)
        , i = K.length;
      for (var G = 0; G < i; G++)
          K[G] = ~K[G]
  }
  ;
  _.akQ = function(E) {
      var K = E.length;
      for (var G = 0; G < K; G += 4) {
          E[G] = ~E[G];
          E[G + 1] = ~E[G + 1];
          E[G + 2] = ~E[G + 2]
      }
  }
  ;
  _.a7S = function(E) {
      var K = E.length;
      for (var G = 3; G < K; G += 4)
          E[G] = ~E[G]
  }
  ;
  _.ace = function(E) {
      return E + (E % 4 == 0 ? 0 : 4 - E % 4)
  }
  ;
  _.I = function(E, K) {
      if (K == null)
          K = !1;
      if (!K)
          E = _.ace(E);
      try {
          var i = new Uint8Array(E)
      } catch (i2) {
          alert("Not enough RAM! (need " + Math.round(E / (1 << 20)) + " MB)", 7e3);
          throw "low_ram"
      }
      return i
  }
  ;
  _.Mv = function(E) {
      var K = E.length
        , i = E[K - 2]
        , C = E[K - 1];
      while (C.d >= 2 && C.v >= 2) {
          var N = _.QA(i, C);
          E.push(N.OR, N.rect);
          i = N.OR;
          C = N.rect
      }
  }
  ;
  _.L$ = function(E) {
      var K = E.length
        , i = E[K - 2]
        , C = E[K - 1];
      while (C.d >= 2 && C.v >= 2) {
          var N = _.IC(i, C);
          E.push(N.OR, N.rect);
          i = N.OR;
          C = N.rect
      }
  }
  ;
  _.QA = function(E, K, i) {
      var C = K.d
        , N = K.v
        , k = C >> 1
        , V = N >> 1
        , j = new h4(K.x,K.y,k,V)
        , a = i && i.length == k * V * 4 ? i : _.I(k * V * 4)
        , e = new Uint32Array(E.buffer)
        , L = new Uint32Array(a.buffer);
      for (var g = 0; g < V; g++)
          for (var I = 0; I < k; I++) {
              var h = g * k + I
                , o = (g << 1) * C + (I << 1)
                , H = e[o]
                , A = e[o + 1]
                , S = e[o + C]
                , v = e[o + C + 1]
                , s = H >>> 24
                , D = A >>> 24
                , F = S >>> 24
                , y = v >>> 24
                , T = s + D + F + y;
              if (T == 1020) {
                  var Q = (H >>> 0 & 255) + (A >>> 0 & 255) + (S >>> 0 & 255) + (v >>> 0 & 255) + 2 >>> 2
                    , B = (H >>> 8 & 255) + (A >>> 8 & 255) + (S >>> 8 & 255) + (v >>> 8 & 255) + 2 >>> 2
                    , r = (H >>> 16 & 255) + (A >>> 16 & 255) + (S >>> 16 & 255) + (v >>> 16 & 255) + 2 >>> 2;
                  L[h] = 255 << 24 | r << 16 | B << 8 | Q
              } else if (T == 0)
                  L[h] = 0;
              else {
                  var Q = (H >>> 0 & 255) * s + (A >>> 0 & 255) * D + (S >>> 0 & 255) * F + (v >>> 0 & 255) * y
                    , B = (H >>> 8 & 255) * s + (A >>> 8 & 255) * D + (S >>> 8 & 255) * F + (v >>> 8 & 255) * y
                    , r = (H >>> 16 & 255) * s + (A >>> 16 & 255) * D + (S >>> 16 & 255) * F + (v >>> 16 & 255) * y
                    , J = 1 / T;
                  Q = ~~(Q * J + .5);
                  B = ~~(B * J + .5);
                  r = ~~(r * J + .5);
                  L[h] = T + 2 >>> 2 << 24 | r << 16 | B << 8 | Q
              }
          }
      return {
          rect: j,
          OR: a
      }
  }
  ;
  _._j = function(E, K, i) {
      var C = K.d
        , N = K.v
        , k = C >> 1
        , V = N >> 1
        , j = new h4(K.x,K.y,k,V)
        , a = i && i.length == k * V * 4 ? i : _.I(k * V * 4)
        , e = new Uint32Array(E.buffer)
        , L = new Uint32Array(a.buffer);
      for (var g = 0; g < V; g++)
          for (var I = 0; I < k; I++) {
              var h = g * k + I
                , o = (g << 1) * C + (I << 1)
                , H = e[o]
                , A = e[o + 1]
                , S = e[o + C]
                , v = e[o + C + 1]
                , s = 2 + (H >>> 0 & 255) + (A >>> 0 & 255) + (S >>> 0 & 255) + (v >>> 0 & 255) >>> 2
                , D = 2 + (H >>> 8 & 255) + (A >>> 8 & 255) + (S >>> 8 & 255) + (v >>> 8 & 255) >>> 2
                , F = 2 + (H >>> 16 & 255) + (A >>> 16 & 255) + (S >>> 16 & 255) + (v >>> 16 & 255) >>> 2
                , y = 2 + (H >>> 24 & 255) + (A >>> 24 & 255) + (S >>> 24 & 255) + (v >>> 24 & 255) >>> 2;
              L[h] = y << 24 | F << 16 | D << 8 | s
          }
      return {
          rect: j,
          OR: a
      }
  }
  ;
  _.abc = function(E, K, i) {
      var C = K.d
        , N = K.v
        , k = 2 * Math.floor(C / 3)
        , V = 2 * Math.floor(N / 3)
        , j = new h4(K.x,K.y,k,V)
        , a = i && i.length == k * V * 4 ? i : _.I(k * V * 4)
        , e = new Uint32Array(E.buffer)
        , L = new Uint32Array(a.buffer);
      for (var g = 0; g < V; g += 2)
          for (var I = 0; I < k; I += 2) {
              var h = g * k + I
                , o = (g * 3 >>> 1) * C + (I * 3 >>> 1)
                , H = e[o]
                , A = e[o + 1]
                , S = e[o + 2]
                , v = e[o + C]
                , s = e[o + 1 + C]
                , D = e[o + 2 + C]
                , F = e[o + C + C]
                , y = e[o + 1 + C + C]
                , T = e[o + 2 + C + C]
                , Q = H >>> 24 << 2
                , B = (H >>> 16 & 255) * Q
                , r = (H >>> 8 & 255) * Q
                , J = (H & 255) * Q
                , m = A >>> 24 << 1
                , x = (A >>> 16 & 255) * m
                , R = (A >>> 8 & 255) * m
                , b = (A & 255) * m
                , z = S >>> 24 << 2
                , $ = (S >>> 16 & 255) * z
                , P = (S >>> 8 & 255) * z
                , t = (S & 255) * z
                , X = v >>> 24 << 1
                , Z = (v >>> 16 & 255) * X
                , p = (v >>> 8 & 255) * X
                , gl = (v & 255) * X
                , f = s >>> 24
                , cY = (s >>> 16 & 255) * f
                , fC = (s >>> 8 & 255) * f
                , hi = (s & 255) * f
                , es = D >>> 24 << 1
                , W = (D >>> 16 & 255) * es
                , d = (D >>> 8 & 255) * es
                , fM = (D & 255) * es
                , n = F >>> 24 << 2
                , ax = (F >>> 16 & 255) * n
                , d_ = (F >>> 8 & 255) * n
                , cm = (F & 255) * n
                , c4 = y >>> 24 << 1
                , ch = (y >>> 16 & 255) * c4
                , hQ = (y >>> 8 & 255) * c4
                , em = (y & 255) * c4
                , ag = T >>> 24 << 2
                , am = (T >>> 16 & 255) * ag
                , bK = (T >>> 8 & 255) * ag
                , ei = (T & 255) * ag
                , dL = Q + m + X + f
                , fh = z + m + es + f
                , eu = n + c4 + X + f
                , hf = ag + c4 + es + f
                , iS = dL == 0 ? 0 : 1 / dL
                , aI = fh == 0 ? 0 : 1 / fh
                , gn = eu == 0 ? 0 : 1 / eu
                , ce = hf == 0 ? 0 : 1 / hf
                , gr = 0
                , ek = 0
                , bJ = 0
                , aN = 0;
              gr = ~~(.5 + (J + b + gl + hi) * iS);
              ek = ~~(.5 + (r + R + p + fC) * iS);
              bJ = ~~(.5 + (B + x + Z + cY) * iS);
              aN = ~~(.5 + dL * (1 / 9));
              L[h] = aN << 24 | bJ << 16 | ek << 8 | gr;
              gr = ~~(.5 + (t + b + fM + hi) * aI);
              ek = ~~(.5 + (P + R + d + fC) * aI);
              bJ = ~~(.5 + ($ + x + W + cY) * aI);
              aN = ~~(.5 + fh * (1 / 9));
              L[h + 1] = aN << 24 | bJ << 16 | ek << 8 | gr;
              gr = ~~(.5 + (cm + em + gl + hi) * gn);
              ek = ~~(.5 + (d_ + hQ + p + fC) * gn);
              bJ = ~~(.5 + (ax + ch + Z + cY) * gn);
              aN = ~~(.5 + eu * (1 / 9));
              L[h + k] = aN << 24 | bJ << 16 | ek << 8 | gr;
              gr = ~~(.5 + (ei + em + fM + hi) * ce);
              ek = ~~(.5 + (bK + hQ + d + fC) * ce);
              bJ = ~~(.5 + (am + ch + W + cY) * ce);
              aN = ~~(.5 + hf * (1 / 9));
              L[h + k + 1] = aN << 24 | bJ << 16 | ek << 8 | gr
          }
      return {
          rect: j,
          OR: a
      }
  }
  ;
  _.a0i = function(E, K, i) {
      var C = K.d
        , N = K.v
        , k = 2 * Math.floor(C / 3)
        , V = 2 * Math.floor(N / 3)
        , j = new h4(K.x,K.y,k,V)
        , a = i && i.length == k * V * 4 ? i : _.I(k * V * 4)
        , e = new Uint32Array(E.buffer)
        , L = new Uint32Array(a.buffer);
      for (var g = 0; g < V; g += 2)
          for (var I = 0; I < k; I += 2) {
              var h = g * k + I
                , o = (g * 3 >>> 1) * C + (I * 3 >>> 1)
                , H = e[o]
                , A = e[o + 1]
                , S = e[o + 2]
                , v = e[o + C]
                , s = e[o + 1 + C]
                , D = e[o + 2 + C]
                , F = e[o + C + C]
                , y = e[o + 1 + C + C]
                , T = e[o + 2 + C + C]
                , Q = (H >>> 16 & 255) << 2
                , B = (H >>> 8 & 255) << 2
                , r = (H & 255) << 2
                , J = (A >>> 16 & 255) << 1
                , m = (A >>> 8 & 255) << 1
                , x = (A & 255) << 1
                , R = (S >>> 16 & 255) << 2
                , b = (S >>> 8 & 255) << 2
                , z = (S & 255) << 2
                , $ = (v >>> 16 & 255) << 1
                , P = (v >>> 8 & 255) << 1
                , t = (v & 255) << 1
                , X = s >>> 16 & 255
                , Z = s >>> 8 & 255
                , p = s & 255
                , gl = (D >>> 16 & 255) << 1
                , f = (D >>> 8 & 255) << 1
                , cY = (D & 255) << 1
                , fC = (F >>> 16 & 255) << 2
                , hi = (F >>> 8 & 255) << 2
                , es = (F & 255) << 2
                , W = (y >>> 16 & 255) << 1
                , d = (y >>> 8 & 255) << 1
                , fM = (y & 255) << 1
                , n = (T >>> 16 & 255) << 2
                , ax = (T >>> 8 & 255) << 2
                , d_ = (T & 255) << 2
                , cm = 0
                , c4 = 0
                , ch = 0;
              cm = ~~(.5 + (r + x + t + p) * (1 / 9));
              c4 = ~~(.5 + (B + m + P + Z) * (1 / 9));
              ch = ~~(.5 + (Q + J + $ + X) * (1 / 9));
              L[h] = 255 << 24 | ch << 16 | c4 << 8 | cm;
              cm = ~~(.5 + (z + x + cY + p) * (1 / 9));
              c4 = ~~(.5 + (b + m + f + Z) * (1 / 9));
              ch = ~~(.5 + (R + J + gl + X) * (1 / 9));
              L[h + 1] = 255 << 24 | ch << 16 | c4 << 8 | cm;
              cm = ~~(.5 + (es + fM + t + p) * (1 / 9));
              c4 = ~~(.5 + (hi + d + P + Z) * (1 / 9));
              ch = ~~(.5 + (fC + W + $ + X) * (1 / 9));
              L[h + k] = 255 << 24 | ch << 16 | c4 << 8 | cm;
              cm = ~~(.5 + (d_ + fM + cY + p) * (1 / 9));
              c4 = ~~(.5 + (ax + d + f + Z) * (1 / 9));
              ch = ~~(.5 + (n + W + gl + X) * (1 / 9));
              L[h + k + 1] = 255 << 24 | ch << 16 | c4 << 8 | cm
          }
      return {
          rect: j,
          OR: a
      }
  }
  ;
  _.Tx = function(E) {
      var K = 255
        , i = E.length;
      i -= i & 31;
      for (var G = 3; G < i; G += 32)
          K = K & E[G] & E[G + 4] & E[G + 8] & E[G + 12] & E[G + 16] & E[G + 20] & E[G + 24] & E[G + 28];
      return K != 255
  }
  ;
  _.alG = function(E, K, i, C) {
      var N = _.QA
        , k = _.abc
        , j = 0;
      if (!_.Tx(E)) {
          N = _._j;
          k = _.a0i
      }
      var V = {
          OR: E,
          rect: K
      }
        , a = i;
      while (a < .499) {
          j++;
          a *= 2
      }
      for (var G = 0; G < j; G++)
          V = N(V.OR, V.rect, C);
      if (a < .5001)
          V = N(V.OR, V.rect, C);
      else
          V = k(V.OR, V.rect, C);
      return V
  }
  ;
  _.alS = function(E, K, i, C) {
      var N = _.IC
        , k = _.dh
        , V = {
          OR: E,
          rect: K
      }
        , j = 0
        , a = i;
      while (a < .499) {
          j++;
          a *= 2
      }
      for (var G = 0; G < j; G++)
          V = N(V.OR, V.rect, C);
      if (a < .5001)
          V = N(V.OR, V.rect, C);
      else
          V = k(V.OR, V.rect, C);
      return V
  }
  ;
  _.IC = function(E, K, i) {
      var C = K.d
        , N = K.v
        , k = C >> 1
        , V = N >> 1
        , j = new h4(K.x,K.y,k,V);
      if (E == null)
          return {
              rect: j
          };
      var a = i && i.length >= k * V ? i : _.I(k * V);
      for (var e = 0; e < V; e++) {
          var L = e * k;
          for (var g = 0; g < k; g++) {
              var I = (e << 1) * C + (g << 1);
              a[L + g] = 2 + E[I] + E[I + 1] + E[I + C] + E[I + C + 1] >>> 2
          }
      }
      return {
          rect: j,
          OR: a
      }
  }
  ;
  _.dh = function(E, K, i) {
      var C = K.d
        , N = K.v
        , k = 2 * Math.floor(C / 3)
        , V = 2 * Math.floor(N / 3)
        , j = new h4(K.x,K.y,k,V);
      if (E == null)
          return {
              rect: j
          };
      var a = i && i.length >= k * V ? i : _.I(k * V);
      for (var e = 0; e < V; e += 2)
          for (var L = 0; L < k; L += 2) {
              var g = e * k + L
                , I = (e * 3 >>> 1) * C + (L * 3 >>> 1)
                , h = E[I] << 2
                , o = E[I + 1] << 1
                , H = E[I + 2] << 2
                , A = E[I + C] << 1
                , S = E[I + 1 + C]
                , v = E[I + 2 + C] << 1
                , s = E[I + C + C] << 2
                , D = E[I + 1 + C + C] << 1
                , F = E[I + 2 + C + C] << 2;
              a[g] = ~~(.5 + (h + o + A + S) * (1 / 9));
              a[g + 1] = ~~(.5 + (H + o + v + S) * (1 / 9));
              a[g + k] = ~~(.5 + (s + D + A + S) * (1 / 9));
              a[g + k + 1] = ~~(.5 + (F + D + v + S) * (1 / 9))
          }
      return {
          rect: j,
          OR: a
      }
  }
  ;
  _.ie = function(E, K, i, C, N) {
      var k = K.lx(C);
      if (N)
          k = k.lx(N);
      var V = Math.max(0, k.x - K.x)
        , j = Math.max(0, k.x - C.x)
        , a = Math.max(0, k.y - K.y)
        , e = Math.max(0, k.y - C.y)
        , L = k.d
        , g = k.v;
      for (var G = 0; G < g; G++) {
          var I = (a + G) * K.d + V
            , h = (e + G) * C.d + j;
          for (var o = 0; o < L; o++) {
              i[h + o] = E[I + o]
          }
      }
  }
  ;
  _.Lm = function(E, K, i, C) {
      if (K.Ql(C)) {
          _.lM(E, i, 3);
          return
      }
      var N = K.lx(C)
        , k = Math.max(0, N.x - K.x)
        , V = Math.max(0, N.x - C.x)
        , j = Math.max(0, N.y - K.y)
        , a = Math.max(0, N.y - C.y)
        , e = N.d
        , L = N.v;
      for (var G = 0; G < L; G++) {
          var g = (j + G) * K.d + k
            , I = (a + G) * C.d + V;
          for (var h = 0; h < e; h++)
              i[(I + h << 2) + 3] = E[g + h]
      }
  }
  ;
  _.yA = function(E, K, i, C) {
      var N = K.lx(C)
        , k = Math.max(0, N.x - K.x)
        , V = Math.max(0, N.x - C.x)
        , j = Math.max(0, N.y - K.y)
        , a = Math.max(0, N.y - C.y)
        , e = N.d
        , L = N.v;
      for (var G = 0; G < L; G++) {
          var g = (j + G) * K.d + k
            , I = (a + G) * C.d + V;
          for (var h = 0; h < e; h++)
              i[I + h] = E[(g + h << 2) + 3]
      }
  }
  ;
  _.p8 = function(E, K, i, C, N) {
      if (K.Ql(C) && (N == null || N.Ql(C))) {
          _.uJ(E, i);
          return
      }
      E = new Uint32Array(E.buffer),
      i = new Uint32Array(i.buffer);
      var k = K.lx(C);
      if (N)
          k = k.lx(N);
      var V = Math.max(0, k.x - K.x)
        , j = Math.max(0, k.x - C.x)
        , a = Math.max(0, k.y - K.y)
        , e = Math.max(0, k.y - C.y)
        , L = k.d
        , g = k.v
        , I = L & 3
        , h = I == 0 ? L : L - I;
      for (var G = 0; G < g; G++) {
          var o = (a + G) * K.d + V
            , H = (e + G) * C.d + j;
          i.set(new Uint32Array(E.buffer,o * 4,L), H)
      }
  }
  ;
  _.dc = function(E, K, i, C) {
      var N = K.lx(C)
        , k = Math.max(0, N.x - K.x)
        , V = Math.max(0, N.x - C.x)
        , j = Math.max(0, N.y - K.y)
        , a = Math.max(0, N.y - C.y)
        , e = N.d
        , L = N.v
        , g = E.R
        , I = E.h
        , h = E.l
        , o = E.O
        , H = i.R
        , A = i.h
        , S = i.l
        , v = i.O;
      for (var G = 0; G < L; G++) {
          var s = (j + G) * K.d + k
            , D = (a + G) * C.d + V;
          for (var F = 0; F < e; F++) {
              H[D + F] = g[s + F];
              A[D + F] = I[s + F];
              S[D + F] = h[s + F];
              v[D + F] = o[s + F]
          }
      }
  }
  ;
  _.OT = function(E) {
      var K = E.length;
      for (var G = 0; G < K; G += 4) {
          var i = E[G + 3];
          E[G] = ~~(E[G] * i * (1 / 255) + .5);
          E[G + 1] = ~~(E[G + 1] * i * (1 / 255) + .5);
          E[G + 2] = ~~(E[G + 2] * i * (1 / 255) + .5)
      }
  }
  ;
  _.xJ = function(E) {
      var K = E.length;
      for (var G = 0; G < K; G += 4) {
          var i = E[G + 3];
          if (i == 0 || i == 255)
              continue;
          var C = 255 / i;
          E[G] = ~~(E[G] * C + .5);
          E[G + 1] = ~~(E[G + 1] * C + .5);
          E[G + 2] = ~~(E[G + 2] * C + .5)
      }
  }
  ;
  _.K9 = function(E, K) {
      for (var G = 0; G < E.length; G++)
          if (E[G] != K)
              return !1;
      return !0
  }
  ;
  _.t3 = function(E) {
      return E + 1 + (E >>> 8) >>> 8
  }
  ;
  _.round = function(E, K) {
      if (K == null)
          K = 128;
      var i = E.length;
      for (var G = 0; G < i; G++)
          E[G] = E[G] < K ? 0 : 255
  }
  ;
  _.Fj = function(E, K) {
      var i = E.length;
      for (var G = 0; G < i; G++)
          E[G] = Math.round(E[G] * K)
  }
  ;
  _.RK = function(E, K) {
      var i = new Uint32Array(E.buffer)
        , C = new Uint32Array(K.buffer)
        , N = i.length;
      for (var G = 0; G < N; G++) {
          var k = i[G]
            , V = C[G];
          C[G] = _.t3((k >>> 24) * (V >>> 24)) << 24 | _.t3((k >>> 16 & 255) * (V >>> 16 & 255)) << 16 | _.t3((k >>> 8 & 255) * (V >>> 8 & 255)) << 8 | _.t3((k & 255) * (V & 255))
      }
  }
  ;
  _.hb = function(E, K) {
      var i = E.length;
      for (var G = 0; G < i; G++)
          K[(G << 2) + 3] = _.t3(K[(G << 2) + 3] * E[G])
  }
  ;
  _.a40 = function(E, K, i, C) {
      var N = Math.max(0, C.x - K.x)
        , k = Math.max(0, K.x - C.x)
        , V = Math.max(0, C.y - K.y)
        , j = Math.max(0, K.y - C.y)
        , a = Math.min(K.x + K.d, C.x + C.d) - Math.max(K.x, C.x)
        , e = Math.min(K.y + K.v, C.y + C.v) - Math.max(K.y, C.y);
      for (var G = 0; G < e; G++) {
          var L = (V + G) * K.d + N
            , g = (j + G) * C.d + k;
          for (var I = 0; I < a; I++) {
              i[g] = _.t3(i[g] * E[L]);
              L++;
              g++
          }
      }
  }
  ;
  _.qY = function(E, K, i, C) {
      var N = Math.max(0, C.x - K.x)
        , k = Math.max(0, K.x - C.x)
        , V = Math.max(0, C.y - K.y)
        , j = Math.max(0, K.y - C.y)
        , a = Math.min(K.x + K.d, C.x + C.d) - Math.max(K.x, C.x)
        , e = Math.min(K.y + K.v, C.y + C.v) - Math.max(K.y, C.y);
      for (var G = 0; G < e; G++) {
          var L = (V + G) * K.d + N
            , g = ((j + G) * C.d + k << 2) + 3;
          for (var I = 0; I < a; I++) {
              i[g] = _.t3(i[g] * E[L]);
              L++;
              g += 4
          }
      }
  }
  ;
  _.wV = function(E, K, i, C) {
      var N = Math.max(0, C.x - K.x)
        , k = Math.max(0, K.x - C.x)
        , V = Math.max(0, C.y - K.y)
        , j = Math.max(0, K.y - C.y)
        , a = Math.min(K.x + K.d, C.x + C.d) - Math.max(K.x, C.x)
        , e = Math.min(K.y + K.v, C.y + C.v) - Math.max(K.y, C.y);
      for (var G = 0; G < e; G++) {
          var L = ((V + G) * K.d + N << 2) + 3
            , g = ((j + G) * C.d + k << 2) + 3;
          for (var I = 0; I < a; I++) {
              i[g] = _.t3(i[g] * E[L]);
              L += 4;
              g += 4
          }
      }
  }
  ;
  _.x7 = function(E) {
      var K = new Float64Array(256)
        , i = new Float64Array(256)
        , C = new Float64Array(256)
        , N = new Float64Array(256)
        , k = E.length
        , V = 0;
      for (var G = 0; G < k; G += 4) {
          var j = E[G + 3]
            , a = j * (1 / 255);
          i[E[G + 0]] += a;
          C[E[G + 1]] += a;
          N[E[G + 2]] += a;
          V += j
      }
      for (var G = 0; G < 256; G++)
          K[G] = i[G] + C[G] + N[G];
      return [K, i, C, N, k >>> 2, V / 255]
  }
  ;
  _._l = function(E, K) {
      var i = new Uint32Array(E.buffer)
        , C = i.length;
      for (var G = 0; G < C; G++) {
          var N = i[G]
            , k = N & 255
            , V = N >> 8 & 255
            , j = N >> 16 & 255
            , a = N >> 24 & 255;
          i[G] = K[k] | K[V] << 8 | K[j] << 16 | K[a] << 24
      }
  }
  ;
  _.ahY = function(E, K, i, C, N, k, V) {
      var j = new Uint32Array(E.buffer)
        , a = new Uint32Array(K.buffer)
        , e = j.length
        , L = 0;
      while (256 << L < i.length)
          L++;
      if (!V && !k) {
          for (var G = 0; G != e; G++) {
              var g = j[G]
                , I = (g & 255) << L
                , h = (g >>> 8 & 255) << L
                , o = (g >>> 16 & 255) << L
                , H = i[I]
                , A = C[h]
                , S = N[o];
              a[G] = H | A << 8 | S << 16 | g & 4278190080
          }
          return
      }
      for (var G = 0; G < e; G++) {
          var g = j[G]
            , I = (g & 255) << L
            , h = (g >>> 8 & 255) << L
            , o = (g >>> 16 & 255) << L;
          if (k)
              I = h = o = Math.round(I * .3 + h * .59 + o * .11);
          var H = i[I]
            , A = C[h]
            , S = N[o];
          if (V) {
              var v = _.W6(I, h, o)
                , s = _.W6(H, A, S);
              if (v > s) {
                  var D = (v - s) / (255 - s);
                  H += D * (255 - H);
                  A += D * (255 - A);
                  S += D * (255 - S)
              } else if (s == 0)
                  H = A = S = 0;
              else {
                  var D = v / s;
                  H = D * H;
                  A = D * A;
                  S = D * S
              }
          }
          a[G] = H | A << 8 | S << 16 | g & 4278190080
      }
  }
  ;
  _.NM = function(E, K) {
      var i = K.d
        , C = K.v
        , top = 0
        , N = 0
        , k = 0
        , V = 0
        , j = 0;
      j = 0;
      for (var a = 0; a < C; a++) {
          var e = a * i;
          for (var G = 0; G < i; G++)
              j |= E[e + G];
          if (j != 0)
              break;
          top++
      }
      if (top == C)
          return new h4(0,0,0,0);
      j = 0;
      for (var a = C - 1; a >= 0; a--) {
          var e = a * i;
          for (var G = 0; G < i; G++)
              j |= E[e + G];
          if (j != 0)
              break;
          k++
      }
      var L = C - k;
      j = 0;
      for (var G = 0; G < i; G++) {
          for (var a = top; a < L; a++)
              j |= E[a * i + G];
          if (j != 0)
              break;
          N++
      }
      j = 0;
      for (var G = i - 1; G >= 0; G--) {
          for (var a = top; a < L; a++)
              j |= E[a * i + G];
          if (j != 0)
              break;
          V++
      }
      var g = new h4(K.x + N,K.y + top,i - N - V,C - top - k);
      return g
  }
  ;
  _._F = function(E, K, i, C) {
      if (C == null)
          C = [!0, !0, !0, !0];
      if (i == null)
          i = 0;
      var N = new Uint32Array(E.buffer)
        , k = K.d
        , V = K.v
        , top = 0
        , j = 0
        , a = 0
        , e = 0
        , L = !1
        , g = [N[0], N[N.length - 1], 0][i];
      L = !1;
      if (C[0])
          for (var I = 0; I < V; I++) {
              var h = I * k;
              for (var G = 0; G < k; G++)
                  if (N[h + G] != g)
                      L = !0;
              if (L)
                  break;
              top++
          }
      L = !1;
      if (C[2])
          for (var I = V - 1; I >= 0; I--) {
              var h = I * k;
              for (var G = 0; G < k; G++)
                  if (N[h + G] != g)
                      L = !0;
              if (L)
                  break;
              a++
          }
      L = !1;
      if (C[1])
          for (var G = 0; G < k; G++) {
              for (var I = 0; I < V; I++)
                  if (N[I * k + G] != g)
                      L = !0;
              if (L)
                  break;
              j++
          }
      L = !1;
      if (C[3])
          for (var G = k - 1; G >= 0; G--) {
              for (var I = 0; I < V; I++)
                  if (N[I * k + G] != g)
                      L = !0;
              if (L)
                  break;
              e++
          }
      var o = new h4(K.x + j,K.y + top,k - j - e,V - top - a);
      return o.OL() ? new h4(0,0,0,0) : o
  }
  ;
  _.NU = function(E) {
      var K = _.NM(E.channel, E.rect);
      if (K.Ql(E.rect))
          return;
      var i = _.I(K.X());
      _.ie(E.channel, E.rect, i, K);
      E.channel = i;
      E.rect = K
  }
  ;
  _.YX = function(E) {
      var K = _.I(E.buffer.length >> 2);
      _.wF(E.buffer, K, 3);
      var i = _.NM(K, E.rect);
      if (i.Ql(E.rect))
          return;
      var C = new _.I(i.X() * 4);
      _.p8(E.buffer, E.rect, C, i);
      E.buffer = C;
      E.rect = i
  }
  ;
  _.extend = function(E, K, i) {
      if (E.rect.rp(K))
          return;
      var C = E.rect.ip(K)
        , N = _.I(C.X());
      if (i != null)
          N.fill(i);
      _.ie(E.channel, E.rect, N, C);
      E.rect = C;
      E.channel = N
  }
  ;
  _.a4j = function(E, K) {
      if (K.OL() || E.rect.rp(K))
          return;
      var i = E.rect.ip(K)
        , C = _.I(i.X() * 4);
      _.p8(E.buffer, E.rect, C, i);
      E.rect = i;
      E.buffer = C
  }
  ;
  _.Wt = function(E, K, i) {
      if (!i.c9(E))
          return !1;
      var C = Math.floor(E.x) - i.x
        , N = Math.floor(E.y) - i.y
        , G = N * i.d + C;
      return K[G] > 128
  }
  ;
  _.afT = function(E, K, i) {
      if (!i.c9(E))
          return !1;
      var C = Math.floor(E.x) - i.x
        , N = Math.floor(E.y) - i.y
        , G = N * i.d + C;
      return K[4 * G + 3] > 128
  }
  ;
  _.w6 = function(E) {
      if (_.R3.length < E) {
          _.R3 = _.I(E);
          _.R3.fill(255)
      }
      return _.R3
  }
  ;
  _.R3 = _.I(0);
  _.rV = function(E) {
      if (_.Z_.length < E)
          _.Z_ = _.I(E);
      return _.Z_
  }
  ;
  _.Z_ = _.I(0);
  _.U0 = function(E) {
      this.R = _.I(E);
      this.h = _.I(E);
      this.l = _.I(E);
      this.O = _.I(E)
  }
  ;
  _.U0.prototype.clone = function() {
      var E = this.R.length
        , K = new _.U0(1);
      K.R = this.R.slice(0);
      K.h = this.h.slice(0);
      K.l = this.l.slice(0);
      K.O = this.O.slice(0);
      return K
  }
  ;
  _.Mp.KN = function() {
      function E(v, s) {
          return v[s] + v[s + 1] + v[s + 2] + v[s + 3]
      }
      function K(v, s) {
          return v[s] + v[s + 1] + v[s + 2] + 2 * v[s + 3]
      }
      function i(v, s, D, F) {
          v[s] = D[F];
          v[s + 1] = D[F + 1];
          v[s + 2] = D[F + 2];
          v[s + 3] = D[F + 3]
      }
      function C(v, s, D) {
          v[s] = v[D];
          v[s + 1] = v[D + 1];
          v[s + 2] = v[D + 2];
          v[s + 3] = v[D + 3]
      }
      function N(v, s, D) {
          v[D] = s[D];
          v[D + 1] = s[D + 1];
          v[D + 2] = s[D + 2];
          v[D + 3] = 255 - s[D + 3]
      }
      function k(v) {
          for (var G = 0, s = v.length; G < s; G += 4) {
              v[G + 3] = 255 - v[G + 3]
          }
      }
      function V() {
          var v = Math.random();
          if (v > .5)
              return 0;
          if (v > .25)
              return 1;
          if (v > .1)
              return 2;
          if (v > .02143)
              return 3;
          if (v > .00445)
              return 4;
          if (v > 65e-5)
              return 5;
          if (v > 415e-6)
              return 6;
          if (v > 55e-6)
              return 7;
          return 8
      }
      function j(v, s, D, F, y, T) {
          v[s] = D[F] + (y[T] - D[F] >> 1);
          v[s + 1] = D[F + 1] + (y[T + 1] - D[F + 1] >> 1);
          v[s + 2] = D[F + 2] + (y[T + 2] - D[F + 2] >> 1);
          v[s + 3] = D[F + 3] + (y[T + 3] - D[F + 3] >> 1)
      }
      function a(v, s, D, F, y, T) {
          v[s] = y[T] + D[F] >> 1;
          v[s + 1] = y[T + 1] + D[F + 1] >> 1;
          v[s + 2] = y[T + 2] + D[F + 2] >> 1;
          v[s + 3] = y[T + 3] + D[F + 3] >> 1
      }
      function e(v, s, D, F, y, T, Q, B, r) {
          var J = 0, m = 0, x = 0, G, R = y[T], b;
          j(B, 0, v, s, v, D);
          for (G = 0; G < R; G++) {
              j(B, (G + 1) * 4, B, G * 4, v, D)
          }
          m = (R + 1) * 4;
          x += R;
          T--;
          i(v, s, B, m - 4);
          F[T] = E(v, s);
          s -= r;
          while (T > 0 && F[T - 1] < F[T]) {
              b = B;
              B = Q;
              Q = b;
              J = m;
              a(B, 0, v, s - r, Q, 0);
              for (G = 4; G < J; G += 4) {
                  a(B, G, B, G - 4, Q, G)
              }
              R = y[T];
              for (G = x; G < R; G++) {
                  j(B, m, B, m - 4, Q, J - 4);
                  m += 4;
                  x++
              }
              T--;
              i(v, s, B, m - 4);
              F[T] = E(v, s);
              s -= r
          }
      }
      function L(v, s, D, F, y) {
          var T = s * 4, Q = 0, B, r, J = new Uint8Array(s + 1), m = new Uint8Array(10 * 4), x = new Uint8Array(10 * 4);
          for (var G = 0; G < D; G++) {
              N(F, v, Q);
              y[0] = E(F, Q);
              J[0] = V();
              B = Q;
              Q += 4;
              for (var R = 1; R < s; R++) {
                  N(F, v, Q);
                  y[R] = E(F, Q);
                  r = V();
                  J[R] = r;
                  if (y[R - 1] < y[R] && r > 0) {
                      e(F, Q - 4, Q, y, J, R, m, x, 4)
                  }
                  Q += 4
              }
              y[s] = y[0];
              J[s] = J[0];
              if (y[s - 1] < y[s] && r > 0) {
                  e(F, Q, B, y, J, s, m, x, 4)
              }
          }
          k(F)
      }
      function g() {
          var v = Math.random();
          if (v > .659755)
              return 0;
          if (v > .1625)
              return 10;
          if (v > .06)
              return 20;
          if (v > .01)
              return 30;
          if (v > .0035)
              return 40;
          if (v > 65e-5)
              return 50;
          if (v > 415e-6)
              return 60;
          if (v > 55e-6)
              return 70;
          return 80
      }
      function I(v, s, D, F, y, T) {
          var Q = g() + 1
            , B = F[y];
          for (var G = 1; G < Q; G++) {
              if (0 > y)
                  break;
              if (F[y - G] < B) {
                  C(v, s, D)
              } else {
                  break
              }
              s += T
          }
      }
      function h(v, s, D, F, y) {
          var T = s * 4
            , Q = 0;
          for (var G = 0; G < D; G++) {
              N(F, v, Q);
              y[0] = E(F, Q);
              Q += 4;
              for (var B = 1; B < s; B++) {
                  N(F, v, Q);
                  y[B] = E(v, Q);
                  if (y[B - 1] < y[B]) {
                      I(F, Q - 4, Q, y, B, -4)
                  }
                  Q += 4
              }
              y[s] = y[0];
              if (y[B - 1] < y[B]) {
                  I(F, Q - 4, Q - T, y, B, -4)
              }
          }
          k(F)
      }
      function o(v, s, D, F, y, T) {
          var Q = 1, B, r, J = new Uint8Array(4), m, x = s;
          while (Math.random() < 1 / Q) {
              x = s;
              if (F <= 1)
                  break;
              B = D[F];
              r = D[F - 1];
              if (B <= r)
                  break;
              i(J, 0, v, x - T);
              m = !0;
              for (var G = F; G < y; G++) {
                  if (r > D[G]) {
                      i(v, x - T, J, 0);
                      D[G - 1] = r;
                      m = !1;
                      break
                  }
                  i(v, x - T, v, x);
                  D[G - 1] = D[G];
                  x += T
              }
              if (m) {
                  i(v, x - T, J, 0);
                  D[y - 1] = r
              }
              Q++;
              F--;
              s -= T
          }
      }
      function H(v, s, D, F, y) {
          var T = 0
            , Q = 0
            , B = s * 4;
          for (var G = 0; G < D; G++) {
              Q = T;
              for (var r = 0; r < s; r++) {
                  N(F, v, T);
                  y[r] = K(F, T);
                  T += 4
              }
              T = Q;
              for (var r = 1; r < s; r++) {
                  if (y[r - 1] < y[r] && Math.random() < .66) {
                      o(F, T + 4, y, r, s, 4)
                  }
                  T += 4
              }
              T += 4
          }
          k(F)
      }
      function A(v, s, D, F, y) {
          var T = y[0], Q = y[1], B = new Uint16Array(s + 1), r = v, J = F, m;
          if (Q) {
              m = F.slice(0);
              S(v, F, s, D);
              r = F;
              J = m
          }
          if (T == 0)
              L(r, s, D, J, B);
          else if (T == 1)
              h(r, s, D, J, B);
          else if (T == 2)
              H(r, s, D, J, B);
          if (Q) {
              S(m, F, s, D)
          }
      }
      function S(v, s, D, F) {
          for (var y = 0; y < F; y++)
              for (var T = 0; T < D; T++) {
                  var Q = y * D + T << 2
                    , B = y * D + (D - 1 - T) << 2;
                  s[B] = v[Q];
                  s[B + 1] = v[Q + 1];
                  s[B + 2] = v[Q + 2];
                  s[B + 3] = v[Q + 3]
              }
      }
      return A
  }();
  _.Mp.amo = function() {
      function E(K, i, C, N) {
          var k = new Uint8Array(K.length)
            , V = new Uint8Array(K.length >>> 2)
            , j = new Uint8Array(K.length >>> 2);
          _.UZ.Zl(K, k, i, C, _.UZ.RF[2], 0, !0);
          for (var G = 0; G < K.length; G += 4) {
              var a = k[G + 0] * .3 + k[G + 1] * .59 + k[G + 2] * .11;
              V[G >>> 2] = a;
              N[G + 0] = K[G + 0];
              N[G + 1] = K[G + 1];
              N[G + 2] = K[G + 2];
              N[G + 3] = K[G + 3]
          }
          _.UZ.c_(V, j, i, C);
          for (var G = 0; G < K.length; G += 4) {
              k[G + 3] = ~~(Math.max(0, 255 - j[G >>> 2] - 50) * (255 / 205))
          }
          for (var G = 0, e = K.length; G < e; G += 4) {
              var L = k[G + 3] / 255;
              N[G] = k[G] * L + N[G] * (1 - L);
              N[G + 1] = k[G + 1] * L + N[G + 1] * (1 - L);
              N[G + 2] = k[G + 2] * L + N[G + 2] * (1 - L)
          }
      }
      return E
  }();
  _.Mp.a78 = function() {
      function E(K, i, C, N) {
          var k = new Uint8Array(K.length >>> 2)
            , V = new Uint8Array(K.length >>> 2)
            , j = new Uint8Array(K.length);
          for (var G = 0; G < K.length; G += 4) {
              var a = K[G + 0] * .3 + K[G + 1] * .59 + K[G + 2] * .11;
              V[G >>> 2] = a;
              j[G] = K[G];
              j[G + 1] = K[G + 1];
              j[G + 2] = K[G + 2]
          }
          _.UZ.c_(V, k, i, C);
          _.UZ.Zl(K, N, i, C, _.UZ.RF[1], 0, !0);
          for (var G = 0; G < K.length; G += 4) {
              j[G + 3] = 255 - k[G >>> 2]
          }
          for (var G = 0, e = K.length; G < e; G += 4) {
              var L = j[G + 3] / 255;
              N[G] = j[G] * L + N[G] * (1 - L);
              N[G + 1] = j[G + 1] * L + N[G + 1] * (1 - L);
              N[G + 2] = j[G + 2] * L + N[G + 2] * (1 - L)
          }
      }
      return E
  }();
  _.Mp.acr = function() {
      function E(k, V, j, a, e) {
          var L = new Uint32Array(k.buffer)
            , g = 0;
          for (var G = 0; G < j; G++) {
              for (var I = 0; I < V; I++,
              g += 4) {
                  var h = L[G * V + I]
                    , o = h & 255
                    , H = h >>> 8 & 255
                    , A = h >>> 16 & 255
                    , S = h >>> 24 & 255
                    , v = ~~(Math.random() * 8)
                    , s = v % 3
                    , D = 0
                    , F = 0;
                  if (v < 3) {
                      F--
                  } else if (v > 4) {
                      F++
                  }
                  if (s == 0) {
                      D--
                  } else if (s == 2) {
                      D++
                  }
                  var y = I + D
                    , T = G + F;
                  if (y < 0)
                      y = 0;
                  else if (y > V - 1)
                      y = V - 1;
                  if (T < 0)
                      T = 0;
                  else if (T > j - 1)
                      T = j - 1;
                  var h = L[T * V + y]
                    , Q = h & 255
                    , B = h >>> 8 & 255
                    , r = h >>> 16 & 255
                    , J = h >>> 24 & 255;
                  a[g] = e(o, Q);
                  a[g + 1] = e(H, B);
                  a[g + 2] = e(A, r);
                  a[g + 3] = e(S, J)
              }
          }
      }
      function K(k, V) {
          return V
      }
      function i(k, V) {
          return k > V ? V : k
      }
      function C(k, V) {
          return k < V ? V : k
      }
      function N(k, V, j, a, e) {
          var L = e[0];
          if (L == 0)
              E(k, V, j, a, K);
          else if (L == 1)
              E(k, V, j, a, i);
          else if (L == 2)
              E(k, V, j, a, C);
          else if (L == 3) {
              console.error("Not implemented")
          } else
              console.error("Mew mew")
      }
      return N
  }();
  _.Mp.abB = function() {
      var E = [], K = new Uint8Array(512), i = new Float32Array(512), C = new Float32Array(512), N = [1, -1, 1, -1, 1, -1, 0, 0], k = [1, 1, -1, -1, 0, 0, 1, -1], V = 0, j, o = 0;
      for (; V < 256; V++)
          E[V] = V;
      while (V != 0) {
          V--;
          j = Math.floor(Math.random() * V);
          E[j] ^= E[V] ^ (E[V] = E[j])
      }
      function a(a) {
          a = Math.floor(a * 65536);
          if (a < 256) {
              a |= a << 8
          }
          for (var G = 0; G < 256; G++) {
              var S = G + 256
                , v = E[G] ^ (G & 1 ? a : a >> 8) & 255;
              K[G] = K[S] = v;
              v = v % 8;
              i[G] = i[S] = N[v];
              C[G] = C[S] = k[v]
          }
      }
      function e(S) {
          return S * S * S * (S * (S * 6 - 15) + 10)
      }
      function L(S, v, s) {
          return (1 - s) * S + s * v
      }
      function g(S, v) {
          return S & v
      }
      function I(S, v) {
          return S % v
      }
      function h(S, v, s, D, F) {
          var y = Math.floor(S), T = Math.floor(v), V, Q, B, r, J, m;
          S = S - y;
          v = v - T;
          y = y & 255;
          T = T & 255;
          V = y + K[T];
          r = i[V] * S + C[V] * v;
          V = y + K[F(T + 1, D)];
          B = i[V] * S + C[V] * (v - 1);
          V = F(y + 1, s) + K[T];
          J = i[V] * (S - 1) + C[V] * v;
          V = F(y + 1, s) + K[F(T + 1, D)];
          m = i[V] * (S - 1) + C[V] * (v - 1);
          Q = e(S);
          return L(L(r, J, Q), L(B, m, Q), e(v))
      }
      function H(S, V, v) {
          S[V] = v
      }
      function A(S, v, s, D, F) {
          var y = Math.min(Math.min(v, 256), Math.min(256, s)), T = y == 256 || y < 8, Q = 8, B = new Uint32Array(Q), r = new Uint32Array(Q), J = new Float32Array(Q), m = new Float32Array(Q), x = 1, R = 1, b = T ? g : I, z = H, $;
          for (var G = 0; G < Q; G++) {
              $ = R * 1 / y;
              if (T) {
                  r[G] = (1 << Math.ceil(Math.log2(s * $))) - 1;
                  B[G] = (1 << Math.ceil(Math.log2(v * $))) - 1
              } else {
                  r[G] = $ * s;
                  B[G] = $ * v
              }
              J[G] = x;
              m[G] = $;
              x *= .5;
              R = R << 1
          }
          a(Math.random());
          for (var P = 0, V = 0; P < s; P++) {
              for (var t = 0; t < v; t++) {
                  var X = 0;
                  for (var Z = 0; Z < Q; Z++) {
                      $ = m[Z];
                      X += h(t * $, P * $, B[Z], r[Z], b) * J[Z]
                  }
                  z(D, V++, Math.round(Math.max(0, 255 * Math.min(1, .5 + X * .5))))
              }
          }
      }
      return A
  }();
  _.Mp.al6 = function() {
      function E(K, i, C, N, k) {
          var V = k && k[0] ? k[0] : 4, j, a, e, L, g, I, h;
          for (var G = 0; G < C; G++) {
              var o = Math.max(G - V, 0)
                , H = Math.min(G + V, C - 1);
              for (var A = 0; A < i; A++) {
                  var S = Math.max(A - V, 0)
                    , v = Math.min(A + V, i - 1);
                  j = o * i + S << 2;
                  L = K[j];
                  g = K[j + 1];
                  I = K[j + 2];
                  h = K[j + 3];
                  j = o * i + v << 2;
                  L += K[j];
                  g += K[j + 1];
                  I += K[j + 2];
                  h += K[j + 3];
                  j = H * i + S << 2;
                  L += K[j];
                  g += K[j + 1];
                  I += K[j + 2];
                  h += K[j + 3];
                  j = H * i + v << 2;
                  L += K[j];
                  g += K[j + 1];
                  I += K[j + 2];
                  h += K[j + 3];
                  j = G * i + A << 2;
                  N[j] = L + 2 >>> 2;
                  N[j + 1] = g + 2 >>> 2;
                  N[j + 2] = I + 2 >>> 2;
                  N[j + 3] = h + 2 >>> 2
              }
          }
      }
      return E
  }();
  _.Mp.alz = function() {
      var E = [-1e3, 34, 51, 61, 71, 80, 87, 95, 101, 108, 113, 119, 124, 129, 134, 139, 143, 148, 153, 157, 161, 165, 168, 172, 175, 180, 183, 186, 190, 194, 197, 200, 203, 207, 210, 213, 216, 218, 222, 225, 228, 230, 233, 236, 239, 241, 244, 247, 250, 252, 255];
      function K(i, C, N, k, V) {
          var j = V[0], a = V[1], e = a <= 50 ? E[a] / 255 : 1 + (255 - E[101 - a]) / 255, L = V[2], g = i.length, I = new Float32Array(g), h = 0, o, H = 1 + 1 / 10 * j, A = (1 - 1 / H) / 2, S = 16 / 256, v = C - 1, G, s, D, F, y = 0, T = 1, Q = 255;
          for (G = 0; G < k.length; G++) {
              I[G] = i[G] / 255;
              k[G] = j == 1 ? Math.random() < 1 / 255 ? Q : T : T
          }
          function B(r, J) {
              var m = r * C + J;
              if (k[m] != T || r >= N || J >= C) {
                  return
              }
              var D = I[m]
                , x = e - D
                , R = Math.random()
                , b = R / H + A;
              if (h == 0 || Math.abs(F - D) > S) {
                  o = b <= x ? y : Q;
                  h = ~~(Math.random() * j)
              } else if (.1 < R) {
                  h--
              } else {
                  h = 0
              }
              k[m] = o;
              F = D
          }
          if (L == 0) {
              for (G = 0; G < C; G++) {
                  for (s = 0; s < C; s++) {
                      D = G + s;
                      if (D >= C)
                          break;
                      B(s, v - D)
                  }
                  h = 0
              }
              for (G = 1; G < N; G++) {
                  for (s = 0; s < N; s++) {
                      D = G + s;
                      if (D >= N || s >= C)
                          break;
                      B(D, v - s)
                  }
                  h = 0
              }
          } else if (L == 1) {
              for (G = 0; G < N; G++) {
                  for (s = 0; s < C; s++) {
                      B(G, s)
                  }
                  h = 0
              }
          } else if (L == 2) {
              for (G = 0; G < C; G++) {
                  for (s = 0; s < C; s++) {
                      D = G + s;
                      if (D >= C)
                          break;
                      B(s, D)
                  }
                  h = 0
              }
              for (G = 1; G < N; G++) {
                  for (s = 0; s < N; s++) {
                      D = G + s;
                      if (D >= N || s >= C)
                          break;
                      B(D, s)
                  }
                  h = 0
              }
          } else {
              for (G = 0; G < C; G++) {
                  for (s = 0; s < N; s++) {
                      B(s, G)
                  }
                  h = 0
              }
          }
      }
      return K
  }();
  _.Mp.ahj = function() {
      function E(j) {
          var a = new Uint8Array(256), e = new Uint8Array(256), L = 255, G;
          if (j < 2)
              L = j;
          else if (j < 12)
              L = 5 * j - 5;
          else if (j < 47)
              L = 2 * j + 28;
          else if (j < 50) {
              G = j - 47;
              L = 125 + 12.5 * G + 12.5 * G * G
          }
          for (var G = 0; G < 256; G++) {
              e[G] = L < G ? 0 : 255
          }
          for (var G = 0; G < 256; G++) {
              var g = G << 3;
              a[G] = e[g > 255 ? 255 : g]
          }
          return e
      }
      function K() {
          var j = new Uint8Array(256), G, a;
          for (G = 75,
          a = 15; a < 256; G++,
          a += 24)
              j[G] = a;
          for (; G < 256; G++)
              j[G] = 255;
          return j
      }
      function i(j, a, e, L) {
          N(j, a, e, 11, L)
      }
      function C(j, a, e, L) {
          N(j, a, e, 5, L);
          for (var G = 0; G < L.length; G++)
              L[G] = L[G] < 51 ? 0 : 255
      }
      function N(j, a, e, L, g) {
          _.Cu.Uz(j, g, new h4(0,0,a,e), L >>> 1)
      }
      function k(j, a) {
          var e = j.length, L;
          for (var G = 0; G < e; G++) {
              L = j[G] - a[G];
              a[G] = L < 0 ? 0 : L
          }
      }
      function V(j, a, e, L, g) {
          var I = g[0]
            , h = g[1]
            , o = E(I)
            , H = K()
            , A = j.length
            , S = new Uint8Array(A)
            , v = L;
          i(j, a, e, S);
          i(S, a, e, v);
          k(v, j);
          for (var G = 0; G < A; G++) {
              var s = j[G] * 8;
              j[G] = s > 255 ? 255 : s
          }
          k(v, j);
          for (var G = 0; G < A; G++) {
              j[G] = o[j[G]]
          }
          var D = h
            , F = h;
          if ((D & 1) == 0) {
              D++;
              F--
          }
          C(j, a, e, S);
          N(S, a, e, D, v);
          N(v, a, e, F, S);
          for (var G = 0; G < A; G++)
              L[G] = H[255 - S[G]]
      }
      return V
  }();
  _.Mp.alU = function() {
      var E, N, k, V, j, a;
      function K(S) {
          var v = 0
            , s = S.length
            , D = new Uint8Array(s >> 2);
          for (var G = 0; G < s; G += 4) {
              D[v++] = ~~((S[G] + S[G + 1] + S[G + 2]) / 3)
          }
          E = D;
          return D
      }
      function i(S, v, s, D, F) {
          var y = F
            , T = F >> 1
            , Q = T - 1
            , B = y * y
            , r = 0;
          for (var G = 0; G < D; G++) {
              var J = 0;
              for (var m = 0; m < y; m++) {
                  for (var x = 0; x < y; x++) {
                      var R = 0 - T + x
                        , b = G - T + m;
                      if (R < 0)
                          R = 0;
                      else if (R >= s)
                          R = s - 1;
                      if (b < 0)
                          b = 0;
                      else if (b >= D)
                          b = D - 1;
                      J += S[b * s + R]
                  }
              }
              v[r++] = ~~(J / B);
              for (var z = 1; z < s; z++) {
                  for (var m = 0; m < y; m++) {
                      var $ = z - T - 1
                        , P = $ + y
                        , b = G - T + m;
                      if ($ < 0)
                          $ = 0;
                      if (P >= s)
                          P = s - 1;
                      if (b < 0)
                          b = 0;
                      else if (b >= D)
                          b = D - 1;
                      J += S[b * s + P] - S[b * s + $]
                  }
                  v[r++] = ~~(J / B)
              }
          }
          E = v
      }
      function C(S, v) {
          var s = S.length;
          for (var G = 0; G < s; G++) {
              v[G] = Math.max(S[G] - v[G], 0)
          }
          E = v
      }
      var e = new Uint8Array(256)
        , L = new Uint8Array(256);
      function g(S) {
          k = S[0];
          j = S[1];
          a = S[2];
          N = 2 * k + 1;
          var v = 5 + 10 * j;
          v += j > 3 ? (j - 3) * 10 : 0;
          var s = ~~(a * .73) + 50
            , D = Math.min(s + v, 128)
            , F = D - s
            , y = -255 * s;
          V = k + 4;
          for (var G = 0; G < 256; G++) {
              var T = G * 65;
              e[G] = T >= 256 ? 255 : T;
              L[G] = Math.max(Math.min(~~(y / F), 255), 0);
              y += 255
          }
      }
      function I(S, v, s, D, F, y, T, Q, B, r) {
          var J = F + y - 1
            , m = F >> 1
            , x = J >> 1
            , R = 0
            , b = new Int32Array(F)
            , z = new Int32Array(256)
            , $ = new Int32Array(16);
          if (!T) {
              x
          }
          for (var G = 0; G < D; G++) {
              z.fill(0);
              $.fill(0);
              for (var P = 0; P < F; P++) {
                  var t = T ? J - P - y : P;
                  for (var X = t, Z = y + t; X < Z; X++) {
                      var p = 0 - x + X
                        , gl = G - m + P;
                      if (X == t) {
                          b[P] = p
                      }
                      if (p < 0)
                          p = 0;
                      else if (p >= s)
                          p = s - 1;
                      if (gl < 0)
                          gl = 0;
                      else if (gl >= D)
                          gl = D - 1;
                      var f = S[gl * s + p];
                      z[f]++;
                      $[f >>> 4]++
                  }
              }
              var cY = 0, fC;
              for (fC = 0; fC < 256; fC++) {
                  cY += z[fC];
                  if (cY >= r)
                      break
              }
              v[R++] = fC;
              for (var hi = 1; hi < s; hi++) {
                  for (var P = 0; P < F; P++) {
                      var gl = G - m + P
                        , t = b[P] + 1;
                      b[P] = t;
                      var es = t - 1
                        , W = t + y - 1;
                      if (gl < 0)
                          gl = 0;
                      else if (gl >= D)
                          gl = D - 1;
                      if (es < 0)
                          es = 0;
                      else if (es >= s)
                          es = s - 1;
                      if (W < 0)
                          W = 0;
                      else if (W >= s)
                          W = s - 1;
                      var d = S[gl * s + es]
                        , fM = S[gl * s + W];
                      z[d]--;
                      $[d >>> 4]--;
                      z[fM]++;
                      $[fM >>> 4]++
                  }
                  cY = 0;
                  fC = 0;
                  while (cY + $[fC >>> 4] < r) {
                      cY += $[fC >>> 4];
                      fC += 16
                  }
                  for (; fC < 256; fC++) {
                      cY += z[fC];
                      if (cY >= r)
                          break
                  }
                  v[R++] = fC
              }
          }
          E = v
      }
      function h(S) {
          var v = S.length
            , s = new Uint8Array(v)
            , G = 0;
          for (; G < v; G++) {
              s[G] = S[G]
          }
          E = s;
          return s
      }
      function o(S, v) {
          for (var G = 0, s = S.length; G < s; G++) {
              S[G] = v[S[G]]
          }
          E = S
      }
      function H(S, v, s, D) {
          var F = 0;
          for (var G = 0; G < s; G++) {
              var y = G * D
                , T = (G - 1) * D
                , Q = (G + 1) * D;
              if (T < 0)
                  T = y;
              if (Q >= s)
                  Q = y;
              for (var B = 0; B < D; B++) {
                  var r = B - 1
                    , J = B + 1;
                  if (r < 0)
                      r = B;
                  if (J >= D)
                      J = B;
                  var m = S[y + r]
                    , x = S[y + J]
                    , R = S[T + B]
                    , b = S[Q + B]
                    , z = S[y + B];
                  v[F++] = Math.min(Math.max(z + 2 * (4 * z - (m + x + R + b)), 0), 255)
              }
          }
          E = v
      }
      function A(S, v, s, D, F) {
          g(F);
          var y = S.length
            , T = new Uint8Array(y)
            , Q = h(S);
          i(S, T, v, s, N);
          for (var G = 0; G < y; G++) {
              S[G] = Math.min(Math.max(T[G] - S[G], 0) * 65, 255)
          }
          I(S, T, v, s, 9, 3, !0, 0, 65, 20);
          for (var G = 0; G < y; G++) {
              var B = Q[G]
                , r = T[G];
              if (r > 0)
                  S[G] = ~~((r * B + (255 - r) * 128) / 255);
              else
                  S[G] = 128
          }
          E = S;
          i(S, T, v, s, 3);
          I(T, S, v, s, 15, 2, !0, 0, 1, 16);
          I(T, Q, v, s, 15, 2, !1, 0, 1, 15);
          for (var G = 0; G < y; G++) {
              Q[G] = S[G] + Q[G] >> 1
          }
          E = Q;
          H(Q, T, s, v);
          o(T, L);
          i(T, S, v, s, 2);
          D.set(E)
      }
      return A
  }();
  _.wb = {
      af7: function(E, K) {
          var G = E.length;
          E.push(K);
          var i = G >>> 1;
          while (i != 0 && E[G][0] < E[i][0]) {
              var C = E[G];
              E[G] = E[i];
              E[i] = C;
              G = i;
              i = G >>> 1
          }
      },
      acg: function(E) {
          if (E.length == 2)
              return E.pop();
          var top = E[1]
            , G = 1;
          E[1] = E.pop();
          var K = E.length;
          while (!0) {
              var i = G << 1
                , C = i + 1
                , N = G;
              if (i < K && E[i][0] < E[N][0])
                  N = i;
              if (C < K && E[C][0] < E[N][0])
                  N = C;
              if (N == G)
                  break;
              var k = E[G];
              E[G] = E[N];
              E[N] = k;
              G = N
          }
          return top
      },
      a1q: function(E) {
          for (var G = 1; G < E.length; G++) {
              var K = G
                , i = 1e9;
              while (K != 0) {
                  var C = E[K][0];
                  if (C > i) {
                      console.log(G);
                      throw "e"
                  }
                  i = C;
                  K = K >>> 1
              }
          }
      }
  };
  _.p = {};
  _.p.Mw = new Float64Array(256);
  _.p.LA = new Uint8Array(256 * 256);
  _.p.Zx = new Uint8Array(256 * 256);
  (function() {
      for (var G = 0; G < 256; G++)
          _.p.Mw[G] = 255 / G;
      for (var G = 0; G < 256; G++)
          for (var E = 0; E < 256; E++)
              _.p.LA[G * 256 + E] = G == 0 ? 0 : Math.round(E * 255 / G);
      for (var G = 0; G < 256; G++)
          for (var E = 0; E < 256; E++)
              _.p.Zx[G * 256 + E] = Math.round(G * (255 - E) / 255)
  }());
  _.p.JA = function(E, K, i, C, N, k, V, j) {
      if (j == null)
          j = h$.bP();
      if ("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(E) == -1) {
          V = V * j.fill;
          j.fill = 1;
          j.style = !1
      }
      var a = "norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(",")
        , e = "dkCl,lgCl,hue ,sat ,colr,lum ".split(",")
        , L = _.p[E + "F"];
      if (j.c5 == null && E == "norm")
          _.p.abO(K, i, C, N, k, V, L, j.MC ? 1 : 0);
      else if (E == "diss")
          _.p.aat(K, i, C, N, k, V, L, j.MC ? 1 : 0);
      else if (a.indexOf(E) != -1)
          _.p.aal(K, i, C, N, k, V, L, j);
      else if (e.indexOf(E) != -1)
          _.p.an4(K, i, C, N, k, V, L, j)
  }
  ;
  _.p.a1O = function(E, K, i) {
      var C = E * i + 1 - i;
      return C < .001 ? 0 : 1 - Math.min(1, (1 - K) / C)
  }
  ;
  _.p.aop = function(E, K, i) {
      return E * i == 1 ? 1 : Math.min(1, K / (1 - E * i))
  }
  ;
  _.p.Yg = function(E) {
      return E <= .25 ? ((16 * E - 12) * E + 4) * E : Math.sqrt(E)
  }
  ;
  _.p.normF = function(E, K, i) {
      return E
  }
  ;
  _.p.darkF = function(E, K, i) {
      return Math.min(E, K)
  }
  ;
  _.p["mul F"] = function(E, K, i) {
      return E * K
  }
  ;
  _.p.idivF = function(E, K, i) {
      var C = E * i + 1 - i;
      return K == 1 ? 1 : 1 - K >= C ? 0 : 1 - (1 - K) / C
  }
  ;
  _.p.lbrnF = function(E, K, i) {
      return Math.max(0, E * i + K - i)
  }
  ;
  _.p.dkClF = function(E, K, i) {
      var C = _.gU(E) < _.gU(K) ? E : K;
      i.h = C.h;
      i.l = C.l;
      i.O = C.O;
      return i
  }
  ;
  _.p.liteF = function(E, K, i) {
      return Math.max(E, K)
  }
  ;
  _.p.scrnF = function(E, K, i) {
      return K + E - K * E
  }
  ;
  _.p["div F"] = function(E, K, i) {
      E *= i;
      return K == 0 ? 0 : K >= 1 - E ? 1 : K / (1 - E)
  }
  ;
  _.p.lddgF = function(E, K, i) {
      E *= i;
      return Math.min(1, E + K)
  }
  ;
  _.p.lgClF = function(E, K, i) {
      var C = _.gU(E) > _.gU(K) ? E : K;
      i.h = C.h;
      i.l = C.l;
      i.O = C.O;
      return i
  }
  ;
  _.p.overF = function(E, K, i) {
      return _.p.hLitF(K, E, i)
  }
  ;
  _.p.sLitF = function(E, K, i) {
      return E <= .5 ? K - (1 - 2 * E) * K * (1 - K) : K + (2 * E - 1) * (_.p.Yg(K) - K)
  }
  ;
  _.p.hLitF = function(E, K, i) {
      return E <= .5 ? _.p["mul F"](2 * E, K, i) : _.p.scrnF(2 * E - 1, K, i)
  }
  ;
  _.p.vLitF = function(E, K, i) {
      return E <= .5 ? _.p.a1O(2 * E, K, i) : _.p.aop(2 * E - 1, K, i)
  }
  ;
  _.p.lLitF = function(E, K, i) {
      return E <= .5 ? _.p.lbrnF(2 * E, K, i) : _.p.lddgF(2 * E - 1, K, i)
  }
  ;
  _.p.pLitF = function(E, K, i) {
      return E <= .5 ? _.p.darkF(2 * E, K, i) : _.p.liteF(2 * E - 1, K, i)
  }
  ;
  _.p.hMixF = function(E, K, i) {
      if (i > .99)
          return E + K < 1 ? 0 : 1;
      return Math.min(1, Math.max(0, (K + E * i - i) / (1 - i + 1e-6)))
  }
  ;
  _.p.diffF = function(E, K, i) {
      E *= i;
      return Math.abs(E - K)
  }
  ;
  _.p.smudF = function(E, K, i) {
      return E + K - 2 * E * K
  }
  ;
  _.p.fsubF = function(E, K, i) {
      return Math.max(K - E, 0)
  }
  ;
  _.p.fdivF = function(E, K, i) {
      return Math.min(K / E, 1)
  }
  ;
  _.p["hue F"] = function(E, K, i) {
      _.p.Hp(E, _.zR(K), i);
      _.p.rt(i, _.gU(K), i)
  }
  ;
  _.p["sat F"] = function(E, K, i) {
      _.p.Hp(K, _.zR(E), i);
      _.p.rt(i, _.gU(K), i)
  }
  ;
  _.p.colrF = function(E, K, i) {
      _.p.rt(E, _.gU(K), i)
  }
  ;
  _.p["lum F"] = function(E, K, i) {
      _.p.rt(K, _.gU(E), i)
  }
  ;
  _.p.rt = function(E, K, i) {
      var C = K - _.gU(E);
      i.h = E.h + C;
      i.l = E.l + C;
      i.O = E.O + C;
      _.p.a1U(i)
  }
  ;
  _.p.a1U = function(E) {
      var K = E.h
        , i = E.l
        , C = E.O
        , N = _.W6(K, i, C)
        , l = Math.min(K, i, C)
        , k = Math.max(K, i, C);
      if (l < 0) {
          var V = N / (N - l);
          K = N + (K - N) * V;
          i = N + (i - N) * V;
          C = N + (C - N) * V
      }
      if (k > 1) {
          var V = (1 - N) / (k - N);
          K = N + (K - N) * V;
          i = N + (i - N) * V;
          C = N + (C - N) * V
      }
      E.h = K;
      E.l = i;
      E.O = C
  }
  ;
  _.p.Hp = function(E, K, i) {
      var C = _.p.a32
        , N = E.h
        , k = E.l
        , V = E.O;
      if (N == k && k == V) {
          i.h = i.l = i.O = 0
      } else if (N > k) {
          if (N > V) {
              if (k > V) {
                  i.h = K;
                  i.l = C(N, k, V, K);
                  i.O = 0
              } else {
                  i.h = K;
                  i.O = C(N, V, k, K);
                  i.l = 0
              }
          } else {
              i.O = K;
              i.h = C(V, N, k, K);
              i.l = 0
          }
      } else {
          if (N < V) {
              if (k > V) {
                  i.l = K;
                  i.O = C(k, V, N, K);
                  i.h = 0
              } else {
                  i.O = K;
                  i.l = C(V, k, N, K);
                  i.h = 0
              }
          } else {
              i.l = K;
              i.h = C(k, N, V, K);
              i.O = 0
          }
      }
  }
  ;
  _.p.a32 = function(E, K, i, C) {
      return (K - i) * C / (E - i)
  }
  ;
  _.p.abO = function(E, K, i, C, N, k, V, j) {
      var a = K.lx(C).lx(N)
        , e = Math.max(0, a.x - K.x)
        , L = Math.max(0, a.x - C.x)
        , g = Math.max(0, a.y - K.y)
        , I = Math.max(0, a.y - C.y)
        , h = a.d
        , o = a.v
        , H = K.d
        , A = C.d
        , S = _.p.LA
        , v = _.p.Zx
        , s = new Uint32Array(E.buffer)
        , D = new Uint32Array(i.buffer);
      for (var G = 0; G < o; G++) {
          var F = (g + G) * H + e
            , y = (I + G) * A + L;
          for (var T = 0; T < h; T++) {
              var Q = s[F + T]
                , J = 255;
              if (Q >>> 24 == 0)
                  continue;
              if (Q >>> 24 == 255 && k == 1 && j == 0) {
                  D[y + T] = s[F + T];
                  continue
              }
              var B = D[y + T]
                , r = 255 * k & 255;
              if (j == 0) {
                  r = (Q >>> 24) * k & 255;
                  J = B >>> 24
              }
              var m = v[J << 8 | r]
                , x = r + m
                , R = Q & 255
                , b = Q >>> 8 & 255
                , z = Q >>> 16 & 255
                , $ = B & 255
                , P = B >>> 8 & 255
                , t = B >>> 16 & 255;
              D[y + T] = j * (B >>> 24) + (1 - j) * x << 24 | S[x << 8 | _.t3(z * r + t * m)] << 16 | S[x << 8 | _.t3(b * r + P * m)] << 8 | S[x << 8 | _.t3(R * r + $ * m)]
          }
      }
  }
  ;
  _.p.akE = function(E, K, i, C, N, k) {
      var V = K.lx(C).lx(N)
        , j = Math.max(0, V.x - K.x)
        , a = Math.max(0, V.x - C.x)
        , e = Math.max(0, V.y - K.y)
        , L = Math.max(0, V.y - C.y)
        , g = V.d
        , I = V.v
        , h = K.d
        , o = C.d
        , H = _.p.LA
        , A = _.p.Zx
        , S = new Uint32Array(E.buffer)
        , v = new Uint32Array(i.buffer)
        , s = Math.floor(Math.random() * 16777215)
        , D = 0;
      for (var G = 0; G < I; G++) {
          var F = (e + G) * h + j
            , y = (L + G) * o + a;
          for (var T = 0; T < g; T++) {
              var Q = S[F + T];
              if (Q >>> 24 == 0)
                  continue;
              if (Q >> 24 == 255 && k == 1) {
                  v[y + T] = Q;
                  continue
              }
              var B = v[y + T]
                , r = (Q >>> 24) * k * (1 / 255)
                , J = (B >>> 24) * (1 / 255)
                , m = J * (1 - r)
                , x = r + m
                , R = Q & 255
                , b = Q >>> 8 & 255
                , z = Q >>> 16 & 255
                , $ = B & 255
                , P = B >>> 8 & 255
                , t = B >>> 16 & 255;
              D >>>= 8;
              if ((T & 3) == 0)
                  D = _.p.Gu(y + T + s);
              var X = x == 0 ? 0 : 1 / x
                , Z = Math.floor(x * (256 * 255)) + (D & 255) >>> 8
                , p = Math.floor((z * r + t * m) * X + .5)
                , gl = Math.floor((b * r + P * m) * X + .5)
                , f = Math.floor((R * r + $ * m) * X + .5);
              v[y + T] = Z << 24 | p << 16 | gl << 8 | f
          }
      }
  }
  ;
  _.p.Lf = function(E, K, i, C, N, k, V, j) {
      var a = _.W6(E, K, i)
        , e = _.W6(C, N, k)
        , L = Math.min
        , g = _.p.agR
        , I = g(a, j, 0);
      I = L(I, g(E, j, 8));
      I = L(I, g(K, j, 16));
      I = L(I, g(i, j, 24));
      var h = g(e, j, 4);
      h = L(h, g(C, j, 12));
      h = L(h, g(N, j, 20));
      h = L(h, g(k, j, 28));
      h = Math.max(h, 1 - V);
      var o = Math.min(I, h);
      return o < 0 ? 0 : o > 1 ? 1 : o
  }
  ;
  _.p.agR = function(E, K, G) {
      return Math.min((E - K[G]) * K[G + 1], (E - K[G + 3]) * K[G + 2])
  }
  ;
  _.p.aal = function(E, K, i, C, N, k, V, j) {
      var a = 1 / 255
        , e = a * k
        , L = j.MC ? 1 : 0
        , g = j.fill
        , I = j.style
        , h = K.lx(C).lx(N)
        , o = Math.max(0, h.x - K.x)
        , H = Math.max(0, h.x - C.x)
        , A = Math.max(0, h.y - K.y)
        , S = Math.max(0, h.y - C.y)
        , v = h.d
        , s = h.v
        , D = K.d
        , F = C.d
        , y = new Uint32Array(E.buffer)
        , T = new Uint32Array(i.buffer);
      for (var G = 0; G < s; G++) {
          var Q = (A + G) * D + o
            , B = (S + G) * F + H;
          for (var r = 0; r < v; r++,
          Q++,
          B++) {
              var J = y[Q]
                , X = 1;
              if (J >>> 24 == 0)
                  continue;
              var m = T[B]
                , x = (J & 255) * a
                , R = (J >>> 8 & 255) * a
                , b = (J >>> 16 & 255) * a
                , z = (m & 255) * a
                , $ = (m >>> 8 & 255) * a
                , P = (m >>> 16 & 255) * a
                , t = k;
              if (L == 0) {
                  t = (J >>> 24) * e;
                  X = (m >>> 24) * a
              }
              if (j.c5)
                  t *= _.p.Lf(x, R, b, z, $, P, X, j.c5);
              var Z = X * (1 - t)
                , p = t + Z
                , gl = p == 0 ? 0 : 255 / p
                , f = I ? 1 : t
                , cY = ((1 - X) * t * x + (1 - f) * X * z + f * X * V(x, z, (1 + t - f) * g)) * gl
                , fC = ((1 - X) * t * R + (1 - f) * X * $ + f * X * V(R, $, (1 + t - f) * g)) * gl
                , hi = ((1 - X) * t * b + (1 - f) * X * P + f * X * V(b, P, (1 + t - f) * g)) * gl;
              p = t * g + X * (1 - t * g);
              var es = ~~(p * 255 + .5);
              T[B] = L * (m >>> 24) + (1 - L) * es << 24 | hi << 16 | fC << 8 | cY
          }
      }
  }
  ;
  _.p.an4 = function(E, K, i, C, N, k, V, j) {
      var a = 1 / 255
        , e = a * k
        , L = j.MC ? 1 : 0
        , g = K.lx(C).lx(N)
        , I = Math.max(0, g.x - K.x)
        , h = Math.max(0, g.x - C.x)
        , o = Math.max(0, g.y - K.y)
        , H = Math.max(0, g.y - C.y)
        , A = g.d
        , S = g.v
        , v = new Uint32Array(E.buffer)
        , s = new Uint32Array(i.buffer)
        , D = {
          h: 0,
          l: 0,
          O: 0
      }
        , F = {
          h: 0,
          l: 0,
          O: 0
      }
        , y = {
          h: 0,
          l: 0,
          O: 0
      };
      for (var G = 0; G < S; G++) {
          var T = (o + G) * K.d + I
            , Q = (H + G) * C.d + h;
          for (var B = 0; B < A; B++,
          T++,
          Q++) {
              var r = v[T]
                , J = s[Q]
                , m = (r & 255) * a
                , x = (r >>> 8 & 255) * a
                , R = (r >>> 16 & 255) * a
                , b = (J & 255) * a
                , z = (J >>> 8 & 255) * a
                , $ = (J >>> 16 & 255) * a
                , P = k
                , t = 1;
              if (L == 0) {
                  P = (r >>> 24) * e;
                  t = (J >>> 24) * a
              }
              if (j.c5)
                  P *= _.p.Lf(m, x, R, b, z, $, t, j.c5);
              var X = t * (1 - P)
                , Z = P + X
                , p = 255 / Z;
              D.h = m;
              D.l = x;
              D.O = R;
              F.h = b;
              F.l = z;
              F.O = $;
              V(D, F, y);
              var gl = (((1 - t) * m + t * y.h) * P + b * X) * p
                , f = (((1 - t) * x + t * y.l) * P + z * X) * p
                , cY = (((1 - t) * R + t * y.O) * P + $ * X) * p
                , fC = L * (J >>> 24) + (1 - L) * Math.round(Z * 255);
              s[Q] = fC << 24 | cY << 16 | f << 8 | gl
          }
      }
  }
  ;
  _.p.ne = function(E) {
      E = E ^ 61 ^ E >>> 16;
      E = E + (E << 3);
      E = E ^ E >>> 4;
      E = E * 668265261;
      E = E ^ E >> 15;
      return (E & 16777215) * (1 / 16777215)
  }
  ;
  _.p.Gu = function(E) {
      E = E ^ 61 ^ E >>> 16;
      E = E + (E << 3);
      E = E ^ E >>> 4;
      E = E * 668265261;
      E = E ^ E >>> 15;
      return E
  }
  ;
  _.p.y$ = function(E) {
      this.cX = E
  }
  ;
  _.p.y$.prototype.get = function() {
      var E = this.cX = _.p.Gu(this.cX);
      return (E & 16777215) * (1 / 16777215)
  }
  ;
  _.p.aat = function(E, K, i, C, N, k, V, j) {
      var a = 1 / 255
        , e = a * k
        , L = Math.round(k * (256 * 256 * 256 / 255))
        , g = K.lx(C).lx(N)
        , I = Math.max(0, g.x - K.x)
        , h = Math.max(0, g.x - C.x)
        , o = Math.max(0, g.y - K.y)
        , H = Math.max(0, g.y - C.y)
        , A = g.d
        , S = g.v
        , v = new Uint32Array(E.buffer)
        , s = new Uint32Array(i.buffer);
      for (var G = 0; G < S; G++) {
          var D = (o + G) * K.d + I
            , F = (H + G) * C.d + h;
          for (var y = 0; y < A; y++,
          D++,
          F++) {
              var T = v[D]
                , Q = s[F]
                , B = j * 255 + (1 - j) * (T >>> 24);
              if ((_.p.Gu(D) & 16777215) >= B * L)
                  continue;
              s[F] = T & 16777215 | j * (Q >>> 24) + (1 - j) * 255 << 24
          }
      }
  }
  ;
  _.p.aot = function(E, K, i) {
      for (var G = 0; G < E.length; G += 4) {
          var C = i[G >>> 2];
          if (C == 0)
              continue;
          var N = C * (1 / 255)
            , k = 1 / N
            , V = K[G]
            , j = K[G + 1]
            , a = K[G + 2]
            , e = E[G]
            , L = E[G + 1]
            , g = E[G + 2];
          K[G] = Math.min(255, Math.max(0, Math.round((V - (1 - N) * e) * k)));
          K[G + 1] = Math.min(255, Math.max(0, Math.round((j - (1 - N) * L) * k)));
          K[G + 2] = Math.min(255, Math.max(0, Math.round((a - (1 - N) * g) * k)));
          K[G + 3] = 255
      }
  }
  ;
  _.p._H = function(E, K, i, C, N, k, V, j, a, e, L) {
      if (e == null)
          e = !1;
      if (L == null)
          L = [1, 1, 1];
      var g = 255 << 24 | L[2] * 16711680 | L[1] * 65280 | L[0] * 255
        , I = ~g;
      if (N && !K.Ql(k)) {
          var h = _.I(K.X() * 4);
          h.fill(V);
          _.ie(N, k, h, K);
          N = h;
          k = K
      }
      if (e) {
          if (N == null)
              _.p.aiK(E, K, i, C, N, j, a, g, I);
          else
              _.p.a2u(E, K, i, C, N, j, a)
      } else {
          if (N == null)
              _.p.a64(E, K, i, C, N, j, a, g, I);
          else
              _.p.a4r(E, K, i, C, N, j, a)
      }
  }
  ;
  _.p.a64 = function(E, K, i, C, N, k, V, j, a) {
      var e = 1 / 255
        , L = K.lx(C).lx(k)
        , g = Math.max(0, L.x - K.x)
        , I = Math.max(0, L.x - C.x)
        , h = Math.max(0, L.y - K.y)
        , o = Math.max(0, L.y - C.y)
        , H = L.d
        , A = L.v
        , S = new Uint32Array(E.buffer)
        , v = new Uint32Array(i.buffer)
        , s = _.p.LA
        , D = V * 255 & 255;
      for (var G = 0; G < A; G++) {
          var F = (h + G) * K.d + g
            , y = (o + G) * C.d + I;
          for (var T = 0; T < H; T++,
          F++,
          y++) {
              var Q = S[F]
                , B = v[y]
                , r = Q >>> 24
                , J = B >>> 24
                , m = _.t3(D * r + (255 - D) * J)
                , x = _.t3(r * D)
                , R = _.t3(J * (255 - D))
                , b = Q & 255
                , z = Q >>> 8 & 255
                , $ = Q >>> 16 & 255
                , P = B & 255
                , t = B >>> 8 & 255
                , X = B >>> 16 & 255
                , Z = x * b + P * R
                , p = x * z + t * R
                , gl = x * $ + X * R;
              Z = s[m << 8 | _.t3(Z)];
              p = s[m << 8 | _.t3(p)];
              gl = s[m << 8 | _.t3(gl)];
              var f = m << 24 | gl << 16 | p << 8 | Z;
              v[y] = a & B | j & f
          }
      }
  }
  ;
  _.p.aiK = function(E, K, i, C, N, k, V, j, a) {
      var e = 1 / 255
        , L = K.lx(C).lx(k)
        , g = Math.max(0, L.x - K.x)
        , I = Math.max(0, L.x - C.x)
        , h = Math.max(0, L.y - K.y)
        , o = Math.max(0, L.y - C.y)
        , H = L.d
        , A = L.v
        , S = new Uint32Array(E.buffer)
        , v = new Uint32Array(i.buffer)
        , s = _.p.LA
        , D = V * 16777215 & 16777215;
      for (var G = 0; G < A; G++) {
          var F = (h + G) * K.d + g
            , y = (o + G) * C.d + I;
          for (var T = 0; T < H; T++,
          F++,
          y++) {
              if ((_.p.Gu(F) & 16777215) < D) {
                  v[y] = a & v[y] | j & S[F]
              }
          }
      }
  }
  ;
  _.p.a4r = function(E, K, i, C, N, k, V) {
      var j = 1 / 255
        , a = K.lx(C).lx(k)
        , e = Math.max(0, a.x - K.x)
        , L = Math.max(0, a.x - C.x)
        , g = Math.max(0, a.y - K.y)
        , I = Math.max(0, a.y - C.y)
        , h = a.d
        , o = a.v
        , H = new Uint32Array(E.buffer)
        , A = new Uint32Array(i.buffer)
        , S = _.p.LA;
      for (var G = 0; G < o; G++) {
          var v = (g + G) * K.d + e
            , s = (I + G) * C.d + L;
          for (var D = 0; D < h; D++,
          v++,
          s++) {
              var F = N[v] * V & 255;
              if (F == 0)
                  continue;
              if (F == 255) {
                  A[s] = H[v];
                  continue
              }
              var y = H[v]
                , T = A[s]
                , Q = y >>> 24
                , B = T >>> 24
                , r = _.t3(F * Q + (255 - F) * B)
                , J = _.t3(Q * F)
                , m = _.t3(B * (255 - F))
                , x = y & 255
                , R = y >>> 8 & 255
                , b = y >>> 16 & 255
                , z = T & 255
                , $ = T >>> 8 & 255
                , P = T >>> 16 & 255
                , t = S[r << 8 | _.t3(J * x + z * m)]
                , X = S[r << 8 | _.t3(J * R + $ * m)]
                , Z = S[r << 8 | _.t3(J * b + P * m)];
              A[s] = r << 24 | Z << 16 | X << 8 | t
          }
      }
  }
  ;
  _.p.a2u = function(E, K, i, C, N, k, V) {
      var j = 1 / 255
        , a = K.lx(C).lx(k)
        , e = Math.max(0, a.x - K.x)
        , L = Math.max(0, a.x - C.x)
        , g = Math.max(0, a.y - K.y)
        , I = Math.max(0, a.y - C.y)
        , h = a.d
        , o = a.v
        , H = new Uint32Array(E.buffer)
        , A = new Uint32Array(i.buffer)
        , S = _.p.LA
        , v = Math.round(V * 257);
      for (var G = 0; G < o; G++) {
          var s = (g + G) * K.d + e
            , D = (I + G) * C.d + L;
          for (var F = 0; F < h; F++,
          s++,
          D++) {
              var y = N[s] * v;
              if ((_.p.Gu(s) & 65535) < y)
                  A[D] = H[s]
          }
      }
  }
  ;
  _.p.uI = function(E, K, i, C, N, k, V) {
      var j = 1 / 255
        , a = K.lx(C).lx(k)
        , e = Math.max(0, a.x - K.x)
        , L = Math.max(0, a.x - C.x)
        , g = Math.max(0, a.y - K.y)
        , I = Math.max(0, a.y - C.y)
        , h = a.d
        , o = a.v
        , H = new Uint32Array(E.buffer)
        , A = new Uint32Array(i.buffer)
        , S = Math.floor(Math.random() * C.X())
        , v = _.p.akf;
      for (var G = 0; G < o; G++) {
          var s = (g + G) * K.d + e
            , D = (I + G) * C.d + L;
          for (var F = 0; F < h; F++) {
              var y = N[s + F] * V;
              if (y == 0)
                  continue;
              if (y == 255) {
                  A[D + F] = H[s + F];
                  continue
              }
              var T = H[s + F]
                , Q = A[D + F]
                , B = T >>> 24
                , r = Q >>> 24
                , J = B * y * (1 / 255)
                , m = r * (255 - y) * (1 / 255)
                , x = T & 255
                , R = T >>> 8 & 255
                , b = T >>> 16 & 255
                , z = Q & 255
                , $ = Q >>> 8 & 255
                , P = Q >>> 16 & 255
                , t = _.p.Gu(D + F + S)
                , X = Math.floor((J + m) * 256 + .5) + (t >>> 0 & 255) >>> 8
                , Z = X == 0 ? 0 : 256 / (J + m)
                , p = x * J + z * m
                , gl = R * J + $ * m
                , f = b * J + P * m
                , cY = Math.floor(p * Z + .5) + (t >>> 8 & 255) >>> 8
                , fC = Math.floor(gl * Z + .5) + (t >>> 16 & 255) >>> 8
                , hi = Math.floor(f * Z + .5) + (t >>> 21 & 248) >>> 8;
              A[D + F] = X << 24 | hi << 16 | fC << 8 | cY
          }
      }
  }
  ;
  _.p.akf = function(E) {
      return Math.floor(E + Math.random())
  }
  ;
  _.p.tj = function(E, K, i, C, N, k, V) {
      var j = 1 / 255
        , a = K.lx(C).lx(k)
        , e = Math.max(0, a.x - K.x)
        , L = Math.max(0, a.x - C.x)
        , g = Math.max(0, a.y - K.y)
        , I = Math.max(0, a.y - C.y)
        , h = a.d
        , o = a.v;
      for (var G = 0; G < o; G++) {
          var H = (g + G) * K.d + e
            , A = (I + G) * C.d + L;
          for (var S = 0; S < h; S++,
          H++,
          A++) {
              var v = V * N[H] * j;
              if (v == 0)
                  continue;
              if (v == 1) {
                  i[A] = E[H];
                  continue
              }
              i[A] = E[H] * v + i[A] * (1 - v)
          }
      }
  }
  ;
  _.ce = {};
  _.ce.a4I = function(E, K, i, C, N, k) {
      _.ce.sR(E, K, i, C, N, k, null, 0)
  }
  ;
  _.ce.acC = function(E, K, i, C, N) {
      _.ce.sR(E, K, i, C, N, null, null, 0)
  }
  ;
  _.ce.aof = function(E, K, i, C, N, k, V) {
      _.ce.sR(E, K, i, C, N, null, k, V * .5)
  }
  ;
  _.ce.sR = function(E, K, i, C, N, k, V, j) {
      var a = 0
        , m = 0
        , x = 1e9
        , R = 0
        , b = 1e9
        , z = 0
        , $ = 1e9
        , P = 0
        , t = 0
        , X = 0
        , Z = 0;
      if (k) {
          a = N * .5;
          N = 3 + Math.round((N - 3) * .75)
      }
      if (V) {
          N = Math.round(N * 2.2)
      }
      var e = 1 / N
        , L = Math.floor(K * e) + 1
        , g = Math.floor(i * e) + 1
        , I = []
        , h = new Uint8Array(L * g * 4)
        , o = V ? .5 : 1
        , H = k ? 64 : 0;
      for (var A = 0; A < g; A++) {
          var S = V ? .5 * (A & 1) : 0;
          for (var v = 0; v < L; v++) {
              var s = (v + Math.random() * o + S) * N
                , D = (A + Math.random() * o) * N;
              I.push(s, D);
              var F = Math.min(K - 1, Math.floor(s))
                , y = Math.min(i - 1, Math.floor(D))
                , T = (y * K + F) * 4
                , Q = (A * L + v) * 4;
              for (var G = 0; G < 4; G++)
                  h[Q + G] = Math.max(0, Math.min(255, Math.floor(E[T + G] + (Math.random() - .5) * H)))
          }
      }
      var B = k ? k : V ? V : [0, 0, 0]
        , r = L * g * 2
        , J = [-L - 1, -L, -L + 1, -1, 0, 1, L - 1, L, L + 1];
      for (var A = 0; A < i; A++) {
          X = 0;
          for (var v = 0; v < K; v++) {
              var p = v + .5
                , gl = A + .5
                , f = Math.floor(gl * e)
                , cY = Math.floor(p * e)
                , fC = f * L + cY
                , W = 0
                , d = 0;
              if (X > 1 + j) {
                  x = _.ce.Ud(I, m, p, gl);
                  P = Math.sqrt(x);
                  X--;
                  Z++
              } else {
                  x = b = $ = 1e9;
                  for (var G = 0; G < J.length; G++) {
                      var hi = (fC + J[G]) * 2;
                      if (hi < 0 || hi >= r)
                          continue;
                      var es = _.ce.Ud(I, hi, p, gl);
                      if (es < $) {
                          if (es < b) {
                              if (es < x) {
                                  z = R;
                                  $ = b;
                                  R = m;
                                  b = x;
                                  m = hi;
                                  x = es
                              } else {
                                  z = R;
                                  $ = b;
                                  R = hi;
                                  b = es
                              }
                          } else {
                              z = hi;
                              $ = es
                          }
                      }
                  }
                  P = Math.sqrt(x);
                  t = Math.sqrt(b);
                  X = t - (P + t) * .5
              }
              if (V == null) {
                  var fM = (P + t) * .5
                    , n = k ? Math.max(0, fM - a) : 0;
                  W = Math.max(0, Math.min(1, .5 + fM - P - n));
                  d = Math.max(0, Math.min(1, 1 - (.5 + fM - P) - n))
              } else {
                  var ax = Math.min(_.ce.jz(I, m, R, p, gl), _.ce.jz(I, m, z, p, gl));
                  W = Math.max(0, Math.min(1, ax - j * .5));
                  if (p < j || K - j < p || gl < j || i - j < gl)
                      W = 0;
                  d = 0
              }
              var d_ = 1 - d - W
                , Q = A * K + v << 2
                , cm = m << 1
                , c4 = R << 1;
              C[Q + 0] = Math.floor(.5 + W * h[cm + 0] + d * h[c4 + 0] + d_ * B[0]);
              C[Q + 1] = Math.floor(.5 + W * h[cm + 1] + d * h[c4 + 1] + d_ * B[1]);
              C[Q + 2] = Math.floor(.5 + W * h[cm + 2] + d * h[c4 + 2] + d_ * B[2]);
              C[Q + 3] = E[Q + 3]
          }
      }
  }
  ;
  _.ce.Ud = function(E, K, i, C) {
      var N = i - E[K]
        , k = C - E[K + 1];
      return N * N + k * k
  }
  ;
  _.ce.jz = function(E, K, i, C, N) {
      var k = E[K]
        , V = E[K + 1]
        , j = E[i]
        , a = E[i + 1]
        , e = (k + j) * .5
        , L = (V + a) * .5
        , g = e + (a - V)
        , I = L - (j - k)
        , h = I - L
        , o = g - e;
      return Math.abs(h * C - o * N + g * L - I * e) / Math.sqrt(o * o + h * h)
  }
  ;
  _.Cu = {};
  _.Cu.sF = function(E) {
      if (_.Cu.zk.length < E)
          _.Cu.zk = _.I(E);
      return _.Cu.zk
  }
  ;
  _.Cu.zk = _.I(0);
  _.Cu.DJ = function(E) {
      if (_.Cu.zs.length < E)
          _.Cu.zs = new Float32Array(E);
      return _.Cu.zs
  }
  ;
  _.Cu.zs = new Float32Array(0);
  _.Cu.hl = function(E, K, i, C) {
      var N = i.d
        , k = i.v;
      _.Cu.alk(E, K, N, k, C)
  }
  ;
  _.Cu.t2 = function(E, K, i, C) {
      var N = i.d
        , k = i.v;
      _.Cu.a3E(E, K, N, k, C)
  }
  ;
  _.Cu.afX = function(E, K, i) {
      var C = K.d
        , N = K.v;
      _.Cu.ad9(E, C, N, i)
  }
  ;
  _.Cu.E2 = function(E, K, i, C, N) {
      var k = i.d
        , V = i.v;
      _.Cu.af2(E, K, k, V, C, N)
  }
  ;
  _.Cu.Uz = function(E, K, i, C) {
      var N = i.d
        , k = i.v;
      C = Math.round(C);
      var V = _.Cu.sF(N * k);
      _.uJ(E, K);
      _.Cu.ui(K, V, N, k, C)
  }
  ;
  _.Cu.DO = function(E, K, i) {
      var C = K.d
        , N = K.v;
      i = Math.round(i);
      var k = _.Cu.sF(C * N * 4);
      _.Cu.DW(E, k, C, N, i)
  }
  ;
  _.Cu.s2 = function(E, K, i, C) {
      var N = i.d
        , k = i.v;
      C = Math.round(C);
      var V = _.Cu.DJ(N * k);
      _.uJ(E, K);
      _.Cu.tm(K, V, N, k, C)
  }
  ;
  _.Cu.Nj = function(E, K, i) {
      var C = K.d
        , N = K.v;
      i = Math.round(i);
      var k = _.Cu.sF(C * N * 4);
      _.Cu.I4(E, k, C, N, i);
      _.uJ(k, E)
  }
  ;
  _.Cu.Od = function(E, l) {
      var K = Math.sqrt(12 * E * E / l + 1)
        , i = Math.floor(K);
      if (i % 2 == 0)
          i--;
      var C = i + 2
        , N = (12 * E * E - l * i * i - 4 * l * i - 3 * l) / (-4 * i - 4)
        , k = Math.round(N)
        , V = [];
      for (var G = 0; G < l; G++)
          V.push(G < k ? i : C);
      return V
  }
  ;
  _.Cu.alk = function(E, K, i, C, N) {
      var k = _.Cu.Od(N, 3)
        , V = _.Cu.sF(i * C);
      _.uJ(E, K);
      _.Cu.ui(K, V, i, C, k[0] - 1 >> 1);
      _.Cu.ui(K, V, i, C, k[1] - 1 >> 1);
      _.Cu.ui(K, V, i, C, k[2] - 1 >> 1)
  }
  ;
  _.Cu.a3E = function(E, K, i, C, N) {
      var k = _.Cu.Od(N, 2)
        , V = _.Cu.sF(i * C);
      _.uJ(E, K);
      _.Cu.ui(K, V, i, C, k[0] - 1 >> 1);
      _.Cu.ui(K, V, i, C, k[1] - 1 >> 1)
  }
  ;
  _.Cu.ad9 = function(E, K, i, C) {
      var N = _.Cu.Od(C, 3)
        , k = _.Cu.sF(K * i * 4);
      _.Cu.DW(E, k, K, i, N[0] - 1 >> 1);
      _.Cu.DW(E, k, K, i, N[1] - 1 >> 1);
      _.Cu.DW(E, k, K, i, N[2] - 1 >> 1)
  }
  ;
  _.Cu.af2 = function(E, K, i, C, N, k) {
      if (k == null)
          k = 3;
      var V = _.Cu.Od(N, k)
        , j = _.Cu.DJ(i * C);
      _.uJ(E, K);
      for (var G = 0; G < k; G++)
          _.Cu.tm(K, j, i, C, (V[G] - 1) / 2)
  }
  ;
  _.Cu.ui = function(E, K, i, C, N) {
      _.Cu.a1N(E, K, i, C, N);
      _.Cu.ajr(K, E, i, C, N)
  }
  ;
  _.Cu.DW = function(E, K, i, C, N) {
      _.Cu.I4(E, K, i, C, N);
      _.Cu.anI(K, E, i, C, N)
  }
  ;
  _.Cu.tm = function(E, K, i, C, N) {
      _.Cu.aob(E, K, i, C, N);
      _.Cu.aaR(K, E, i, C, N)
  }
  ;
  _.Cu.EV = [];
  _.Cu.rB = function(E) {
      if (_.Cu.EV[E])
          return _.Cu.EV[E];
      var K = 1 / (E + E + 1)
        , i = (E + E + 1) * 256
        , C = _.I(i);
      for (var G = 0; G < i; G++)
          C[G] = Math.round(G * K);
      _.Cu.EV[E] = C;
      return C
  }
  ;
  _.Cu.a1N = function(E, K, i, C, N) {
      var k = 1 / (N + N + 1)
        , V = i - N - N - 1
        , j = _.Cu.rB(N);
      for (var G = 0; G < C; G++) {
          var a = G * i
            , e = a
            , L = a + N
            , g = E[a]
            , I = E[a + i - 1]
            , h = (N + 1) * g;
          for (var o = 0; o < N; o++)
              h += E[a + o];
          for (var o = 0; o <= N; o++) {
              h += E[L + o] - g;
              K[a + o] = j[h]
          }
          L += N + 1;
          a += N + 1;
          for (var o = 0; o < V; o++) {
              h += E[L + o] - E[e + o];
              K[a + o] = j[h]
          }
          L += V;
          e += V;
          a += V;
          for (var o = i - N; o < i; o++) {
              h += I - E[e++];
              K[a++] = j[h]
          }
      }
  }
  ;
  _.Cu.I4 = function(E, K, i, C, N) {
      var k = i << 2
        , V = N << 2
        , j = 1 / (N + N + 1)
        , a = i - N - N - 1
        , e = a << 2
        , L = _.Cu.rB(N);
      for (var G = 0; G < C; G++) {
          var g = G * k
            , I = g
            , h = g + V
            , o = g + k
            , H = E[g]
            , A = E[g + 1]
            , S = E[g + 2]
            , v = E[g + 3]
            , s = (N + 1) * H
            , D = (N + 1) * A
            , F = (N + 1) * S
            , y = (N + 1) * v;
          for (var T = 0; T < V; T += 4) {
              s += E[g + T];
              D += E[g + T + 1];
              F += E[g + T + 2];
              y += E[g + T + 3]
          }
          for (var T = 0; T <= V; T += 4) {
              s += E[h] - H;
              K[g] = L[s];
              D += E[h + 1] - A;
              K[g + 1] = L[D];
              F += E[h + 2] - S;
              K[g + 2] = L[F];
              y += E[h + 3] - v;
              K[g + 3] = L[y];
              h += 4;
              g += 4
          }
          for (var T = 0; T < e; T += 4) {
              s += E[h + T] - E[I + T];
              K[g + T] = L[s];
              D += E[h + T + 1] - E[I + T + 1];
              K[g + T + 1] = L[D];
              F += E[h + T + 2] - E[I + T + 2];
              K[g + T + 2] = L[F];
              y += E[h + T + 3] - E[I + T + 3];
              K[g + T + 3] = L[y]
          }
          h += e;
          I += e;
          g += e;
          H = E[o - 4];
          A = E[o - 3];
          S = E[o - 2];
          v = E[o - 1];
          for (var T = i - N; T < i; T++) {
              s += H - E[I];
              K[g] = L[s];
              D += A - E[I + 1];
              K[g + 1] = L[D];
              F += S - E[I + 2];
              K[g + 2] = L[F];
              y += v - E[I + 3];
              K[g + 3] = L[y];
              I += 4;
              g += 4
          }
      }
  }
  ;
  _.Cu.aob = function(E, K, i, C, N) {
      var k = 1 / (N + N + 1)
        , V = i - N - N - 1;
      for (var G = 0; G < C; G++) {
          var j = G * i
            , a = j
            , e = j + N
            , L = E[j]
            , g = E[j + i - 1]
            , I = (N + 1) * L;
          for (var h = 0; h < N; h++)
              I += E[j + h];
          for (var h = 0; h <= N; h++) {
              I += E[e + h] - L;
              K[j + h] = I * k
          }
          e += N + 1;
          j += N + 1;
          for (var h = 0; h < V; h++) {
              I += E[e + h] - E[a + h];
              K[j + h] = I * k
          }
          e += V;
          a += V;
          j += V;
          for (var h = i - N; h < i; h++) {
              I += g - E[a++];
              K[j++] = I * k
          }
      }
  }
  ;
  _.Cu.ajr = function(E, K, i, C, N) {
      var k = 1 / (N + N + 1)
        , V = C - N - N - 1
        , j = _.Cu.rB(N);
      for (var G = 0; G < i; G++) {
          var a = G
            , e = a
            , L = a + N * i
            , g = E[a]
            , I = E[a + i * (C - 1)]
            , h = (N + 1) * g;
          for (var o = 0; o < N; o++)
              h += E[a + o * i];
          for (var o = 0; o <= N; o++) {
              h += E[L] - g;
              K[a] = j[h];
              L += i;
              a += i
          }
          for (var o = 0; o < V; o++) {
              var H = o * i;
              h += E[L + H] - E[e + H];
              K[a + H] = j[h]
          }
          e += V * i;
          L += V * i;
          a += V * i;
          for (var o = C - N; o < C; o++) {
              h += I - E[e];
              K[a] = j[h];
              e += i;
              a += i
          }
      }
  }
  ;
  _.Cu.anI = function(E, K, i, C, N) {
      var k = i << 2
        , V = N << 2
        , j = 1 / (N + N + 1)
        , a = C - N - N - 1
        , e = a << 2
        , L = _.Cu.rB(N);
      for (var G = 0; G < i; G++) {
          var g = G << 2
            , I = g
            , h = g + N * k
            , o = g + k * (C - 1)
            , H = E[g]
            , A = E[g + 1]
            , S = E[g + 2]
            , v = E[g + 3]
            , s = (N + 1) * H
            , D = (N + 1) * A
            , F = (N + 1) * S
            , y = (N + 1) * v;
          for (var T = 0; T < N; T++) {
              var Q = g + T * k;
              s += E[Q];
              D += E[Q + 1];
              F += E[Q + 2];
              y += E[Q + 3]
          }
          for (var T = 0; T <= N; T++) {
              s += E[h] - H;
              K[g] = L[s];
              D += E[h + 1] - A;
              K[g + 1] = L[D];
              F += E[h + 2] - S;
              K[g + 2] = L[F];
              y += E[h + 3] - v;
              K[g + 3] = L[y];
              h += k;
              g += k
          }
          for (var T = 0; T < a; T++) {
              var B = T * k;
              s += E[h + B] - E[I + B];
              K[g + B] = L[s];
              D += E[h + B + 1] - E[I + B + 1];
              K[g + B + 1] = L[D];
              F += E[h + B + 2] - E[I + B + 2];
              K[g + B + 2] = L[F];
              y += E[h + B + 3] - E[I + B + 3];
              K[g + B + 3] = L[y]
          }
          I += a * k;
          h += a * k;
          g += a * k;
          H = E[o];
          A = E[o + 1];
          S = E[o + 2];
          v = E[o + 3];
          for (var T = C - N; T < C; T++) {
              s += H - E[I];
              K[g] = L[s];
              D += A - E[I + 1];
              K[g + 1] = L[D];
              F += S - E[I + 2];
              K[g + 2] = L[F];
              y += v - E[I + 3];
              K[g + 3] = L[y];
              I += k;
              g += k
          }
      }
  }
  ;
  _.Cu.aaR = function(E, K, i, C, N) {
      var k = 1 / (N + N + 1)
        , V = C - N - N - 1;
      for (var G = 0; G < i; G++) {
          var j = G
            , a = j
            , e = j + N * i
            , L = E[j]
            , g = E[j + i * (C - 1)]
            , I = (N + 1) * L;
          for (var h = 0; h < N; h++)
              I += E[j + h * i];
          for (var h = 0; h <= N; h++) {
              I += E[e] - L;
              K[j] = I * k;
              e += i;
              j += i
          }
          for (var h = 0; h < V; h++) {
              var o = h * i;
              I += E[e + o] - E[a + o];
              K[j + o] = I * k
          }
          a += V * i;
          e += V * i;
          j += V * i;
          for (var h = C - N; h < C; h++) {
              I += g - E[a];
              K[j] = I * k;
              a += i;
              j += i
          }
      }
  }
  ;
  _.cP = {};
  _.cP.I = function(E, K, i, C) {
      var N = [];
      for (var k = 0; k < 4; k++)
          for (var V = 0; V < 4; V++)
              N.push(E + i * V / 3, K + C * k / 3);
      return N
  }
  ;
  _.cP.vi = function(E, K) {
      var i = E.slice(0);
      for (var G = 0; G < 4; G++)
          for (var C = 0; C < 4; C++) {
              var N = 2 * (G * 4 + C)
                , k = 2 * (C * 4 + (3 - G));
              if (K) {
                  var V = N;
                  N = k;
                  k = V
              }
              i[k] = E[N];
              i[k + 1] = E[N + 1]
          }
      return i
  }
  ;
  _.cP.amE = new Float64Array(16);
  _.cP.drawImage = function(E, K, i, C, N, k, V) {
      if (V == null)
          V = !1;
      var j = k.d
        , a = k.v
        , I = 2;
      N = new Uint32Array(N.buffer);
      K = new Uint32Array(K.buffer);
      var e = _.cP.W.qg(E, 0, 1, 0, 1, i, C)
        , L = e.Mt
        , g = e.jl
        , h = 1 / I
        , o = _.cP.wi
        , H = new Float64Array(2)
        , A = new Uint32Array(30);
      for (var S = 0; S < a; S++)
          for (var v = 0; v < j; v++) {
              var s = v + k.x + .5
                , D = S + k.y + .5
                , F = _.cP.W.ae$(L, g, s, D, A)
                , m = 0
                , x = 0
                , R = 0
                , b = 0;
              if (F == 0)
                  continue;
              var y = S * j + v
                , T = _.cP.Wt(E, s, D, L, A, F, !0)
                , Q = o[0] * i
                , B = o[1] * C;
              if (V) {
                  if (T != -1 && 0 < Q && Q < i && 0 < B && B < C) {
                      var r = Math.floor(B) * i + Math.floor(Q);
                      N[y] = K[r]
                  }
                  continue
              }
              var J = T != -1 && (1 < Q && Q < i - 1) && (1 < B && B < C - 1);
              if (L[T + 8] < .95) {
                  _.J.iz(Q, B, K, i, C, N, y, 0);
                  continue
              }
              for (var G = 0; G < I; G++)
                  for (var z = 0; z < I; z++) {
                      var s = v + k.x + (G + .5) * h
                        , D = S + k.y + (z + .5) * h
                        , T = 0;
                      T = _.cP.Wt(E, s, D, L, A, F, !0);
                      if (T != -1) {
                          var Q = o[0]
                            , B = o[1]
                            , Q = Math.floor(Q * i);
                          B = Math.floor(B * C);
                          var $ = K[B * i + Q]
                            , P = $ >>> 24;
                          m += ($ & 255) * P;
                          x += ($ >>> 8 & 255) * P;
                          R += ($ >>> 16 & 255) * P;
                          b += P
                      }
                  }
              if (b != 0) {
                  var t = 1 / b;
                  m = ~~(m * t + .5);
                  x = ~~(x * t + .5);
                  R = ~~(R * t + .5);
                  b = ~~(b * h * h + .5);
                  N[y] = b << 24 | R << 16 | x << 8 | m
              }
          }
  }
  ;
  _.cP.wi = new Float64Array(5 * 20);
  _.cP.amT = new Uint32Array(5 * 5 * 20);
  _.cP.Wt = function(E, K, i, C, N, k, V) {
      var j = _.cP.wi
        , a = _.cP.amT
        , e = 0
        , L = 0;
      for (var G = 0; G < k; G++) {
          var g = N[G]
            , I = e;
          e = _.cP.BO(E, K, i, C, g + 4, V, j, e);
          if (e != I) {
              a[L] = g;
              L += 5
          }
      }
      if (e == 0)
          return -1;
      else if (e == 5)
          return a[0];
      else {
          var h = 0;
          for (var G = 0; G < e; G += 5)
              if (j[G + 4] < j[h + 4])
                  h = G;
          j[0] = j[h];
          j[1] = j[h + 1];
          j[2] = j[h + 2];
          j[3] = j[h + 3];
          return a[h]
      }
  }
  ;
  _.cP.sr = new Array(10);
  _.cP.BO = function(E, K, i, C, N, k, V, j) {
      var a = _.cP.sr
        , e = 0
        , L = 0
        , g = 0
        , I = 0
        , h = 0
        , o = 0
        , H = 0
        , A = C[N]
        , S = C[N + 1]
        , v = C[N + 2]
        , s = C[N + 3]
        , D = (v - K) * (v - K) + (s - i) * (s - i);
      for (var G = 0; G < 5 && D > .05; G++) {
          _.cP.aw(a, 0, S);
          _.cP.fk(a, 4, A);
          _.cP.o3(E, a);
          e = a[8];
          L = a[9];
          _.cP.fk(a, 0, S);
          _.cP.aw(a, 4, A);
          _.cP.o3(E, a);
          g = a[8];
          I = a[9];
          h = 1 / (e * I - L * g);
          o = (v - K) * h;
          H = (s - i) * h;
          A += -I * o + g * H;
          S += +L * o - e * H;
          _.cP.Jg(E, A, S, a);
          v = a[8];
          s = a[9];
          D = (v - K) * (v - K) + (s - i) * (s - i)
      }
      if (k && (A < 0 || A > 1 || S < 0 || S > 1 || D > .25))
          return j;
      V[j] = A;
      V[j + 1] = S;
      V[j + 2] = v;
      V[j + 3] = s;
      V[j + 4] = e * I - L * g;
      return j + 5
  }
  ;
  _.cP.apply = function(E, K, i) {
      var C = i.x
        , N = i.y
        , k = 1 / i.d
        , V = 1 / i.v
        , j = _.cP.sr;
      for (var a = 0; a < K.length; a += 2) {
          var e = (K[a] - C) * k
            , L = (K[a + 1] - N) * V;
          _.cP.Jg(E, e, L, j);
          K[a] = j[8];
          K[a + 1] = j[9]
      }
  }
  ;
  _.cP.Jg = function(E, K, i, C) {
      _.cP.aw(C, 0, i);
      _.cP.aw(C, 4, K);
      _.cP.o3(E, C)
  }
  ;
  _.cP.fk = function(E, G, K) {
      var i = 1 - K;
      E[G] = -3 * (i * i);
      E[G + 1] = 3 * (i * i) - 6 * (K * i);
      E[G + 2] = 6 * (K * i) - 3 * (K * K);
      E[G + 3] = 3 * (K * K)
  }
  ;
  _.cP.aw = function(E, G, K) {
      var i = 1 - K;
      E[G] = i * (i * i);
      E[G + 1] = 3 * K * (i * i);
      E[G + 2] = 3 * (K * K) * i;
      E[G + 3] = K * K * K
  }
  ;
  _.cP.o3 = function(E, K) {
      var i = 0
        , C = 0
        , N = 0;
      N = K[0] * K[4];
      i += E[0] * N;
      C += E[1] * N;
      N = K[0] * K[5];
      i += E[2] * N;
      C += E[3] * N;
      N = K[0] * K[6];
      i += E[4] * N;
      C += E[5] * N;
      N = K[0] * K[7];
      i += E[6] * N;
      C += E[7] * N;
      N = K[1] * K[4];
      i += E[8] * N;
      C += E[9] * N;
      N = K[1] * K[5];
      i += E[10] * N;
      C += E[11] * N;
      N = K[1] * K[6];
      i += E[12] * N;
      C += E[13] * N;
      N = K[1] * K[7];
      i += E[14] * N;
      C += E[15] * N;
      N = K[2] * K[4];
      i += E[16] * N;
      C += E[17] * N;
      N = K[2] * K[5];
      i += E[18] * N;
      C += E[19] * N;
      N = K[2] * K[6];
      i += E[20] * N;
      C += E[21] * N;
      N = K[2] * K[7];
      i += E[22] * N;
      C += E[23] * N;
      N = K[3] * K[4];
      i += E[24] * N;
      C += E[25] * N;
      N = K[3] * K[5];
      i += E[26] * N;
      C += E[27] * N;
      N = K[3] * K[6];
      i += E[28] * N;
      C += E[29] * N;
      N = K[3] * K[7];
      i += E[30] * N;
      C += E[31] * N;
      K[8] = i;
      K[9] = C
  }
  ;
  _.cP.W = {};
  _.cP.W.Yg = 12;
  _.cP.W.ED = new Uint32Array(50);
  _.cP.W.ae$ = function(E, K, i, C, N) {
      var k = 0
        , V = _.cP.W.ED
        , j = 1;
      V[0] = 0;
      while (j != 0) {
          var a = V[--j];
          if (E[a + 0] <= i && E[a + 1] <= C && i < E[a + 2] && C < E[a + 3]) {
              if (K[a + a + 18] == 0) {
                  N[k] = a;
                  k++
              } else {
                  V[j] = K[a + a + 18];
                  V[j + 1] = K[a + a + 19];
                  j += 2
              }
          }
      }
      return k
  }
  ;
  _.cP.W.a7M = function(E, K, i, C, N) {
      var k = 0
        , V = _.cP.W.wE
        , j = _.cP.W.ED
        , a = 1
        , e = 0
        , L = 999999999999;
      j[0] = 0;
      while (a != 0) {
          var g = j[--a]
            , I = V(i, C, E[g + 0], E[g + 1])
            , h = V(i, C, E[g + 0], E[g + 3])
            , o = V(i, C, E[g + 2], E[g + 1])
            , H = V(i, C, E[g + 2], E[g + 3])
            , A = Math.min(I, Math.min(h, Math.min(o, H)))
            , S = Math.max(I, Math.max(h, Math.max(o, H)));
          if (A > L)
              continue;
          if (K[g + g + 18] == 0) {
              if (S < L) {
                  L = S;
                  e = g
              }
          } else {
              j[a] = K[g + g + 18];
              j[a + 1] = K[g + g + 19];
              a += 2
          }
      }
      N[k] = e;
      k++;
      return k
  }
  ;
  _.cP.W.wE = function(E, K, i, C) {
      return (i - E) * (i - E) + (C - K) * (C - K)
  }
  ;
  _.cP.W.U5 = null;
  _.cP.W.OA = null;
  _.cP.W.qg = function(E, K, i, C, N, k, V) {
      if (k == null) {
          k = 1;
          V = 1
      }
      _.cP.W.OA = E;
      if (_.cP.W.U5 == null) {
          _.cP.W.U5 = {
              Mt: new Float64Array(15e3 * 8),
              jl: null
          };
          _.cP.W.U5.jl = new Uint32Array(_.cP.W.U5.Mt.buffer)
      }
      var j = _.cP.W.U5;
      _.cP.W.dy(E, K, i, C, N, 0, j.Mt, j.jl, 0, k, V);
      return j
  }
  ;
  _.cP.W.dy = function(E, K, i, C, N, k, V, j, a, e, L) {
      var g = _.$.Rk(E), I = a, h = _.cP.W.OA, o = (K + i) / 2, H = (C + N) / 2, A = _.cP.sr, S = _.cP.wi, v = _.cP.amE, fC, hi, es;
      _.cP.Jg(h, o, H, A);
      var s = A[8]
        , D = A[9];
      v[0] = o;
      v[1] = H;
      v[2] = s;
      v[3] = D;
      _.cP.BO(h, s + 1, D, v, 0, !1, S, 0);
      var F = (o - S[0]) * e
        , y = (H - S[1]) * L
        , T = Math.sqrt(F * F + y * y);
      _.cP.BO(h, s, D + 1, v, 0, !1, S, 0);
      var Q = (o - S[0]) * e
        , B = (H - S[1]) * L
        , r = Math.sqrt(Q * Q + B * B);
      V[I] = g.x;
      V[I + 1] = g.y;
      V[I + 2] = g.x + g.d;
      V[I + 3] = g.y + g.v;
      V[I + 4] = o;
      V[I + 5] = H;
      V[I + 6] = s;
      V[I + 7] = D;
      V[I + 8] = .5 * (T + r);
      j[I + I + 18] = 0;
      j[I + I + 19] = 0;
      a += 10;
      _.cP.aw(A, 0, .1);
      _.cP.fk(A, 4, .1);
      _.cP.o3(E, A);
      var J = A[8]
        , m = A[9];
      _.cP.fk(A, 0, .1);
      _.cP.aw(A, 4, .7);
      _.cP.o3(E, A);
      var x = A[8]
        , R = A[9];
      _.cP.aw(A, 0, .8);
      _.cP.fk(A, 4, .8);
      _.cP.o3(E, A);
      var b = A[8]
        , z = A[9];
      _.cP.fk(A, 0, .9);
      _.cP.aw(A, 4, .2);
      _.cP.o3(E, A);
      var $ = A[8]
        , P = A[9]
        , t = (b - J) * (b - J) + ($ - x) * ($ - x) + (z - m) * (z - m) + (P - R) * (P - R);
      if (a >= V.length) {
          console.log("Buffer not long enough");
          throw "e"
      }
      if (k == _.cP.W.Yg || t < 2)
          return a;
      var X = _.cP.W.PJ(E, !0)
        , Z = _.$.Rk(X[0])
        , p = _.$.Rk(X[1])
        , gl = _.cP.W.PJ(E, !1)
        , f = _.$.Rk(gl[0])
        , cY = _.$.Rk(gl[1]);
      if (Z.d + Z.v + p.d + p.v < f.d + f.v + cY.d + cY.v) {
          es = !0;
          fC = X[0];
          hi = X[1]
      } else {
          es = !1;
          fC = gl[0];
          hi = gl[1]
      }
      var W = (K + i) / 2
        , d = (C + N) / 2
        , fM = K
        , n = C
        , ax = i
        , d_ = N
        , cm = K
        , c4 = C
        , ch = i
        , hQ = N;
      if (es) {
          ax = cm = W
      } else {
          d_ = c4 = d
      }
      j[I + I + 18] = a;
      a = _.cP.W.dy(fC, fM, ax, n, d_, k + 1, V, j, a, e, L);
      j[I + I + 19] = a;
      a = _.cP.W.dy(hi, cm, ch, c4, hQ, k + 1, V, j, a, e, L);
      var em = j[I + I + 18]
        , ag = j[I + I + 19];
      V[I] = Math.min(V[em], V[ag]);
      V[I + 1] = Math.min(V[em + 1], V[ag + 1]);
      V[I + 2] = Math.max(V[em + 2], V[ag + 2]);
      V[I + 3] = Math.max(V[em + 3], V[ag + 3]);
      return a
  }
  ;
  _.cP.W.PJ = function(E, K) {
      var i = 0
        , C = 0
        , N = 0
        , k = 0
        , V = 0
        , j = 0
        , a = 0
        , e = 0
        , L = E.slice(0)
        , g = E.slice(0);
      for (var G = 0; G < 4; G++) {
          i = K ? E[G * 8 + 2 * 0] : E[0 * 8 + 2 * G];
          C = K ? E[G * 8 + 2 * 0 + 1] : E[0 * 8 + 2 * G + 1];
          N = K ? E[G * 8 + 2 * 1] : E[1 * 8 + 2 * G];
          k = K ? E[G * 8 + 2 * 1 + 1] : E[1 * 8 + 2 * G + 1];
          V = K ? E[G * 8 + 2 * 2] : E[2 * 8 + 2 * G];
          j = K ? E[G * 8 + 2 * 2 + 1] : E[2 * 8 + 2 * G + 1];
          a = K ? E[G * 8 + 2 * 3] : E[3 * 8 + 2 * G];
          e = K ? E[G * 8 + 2 * 3 + 1] : E[3 * 8 + 2 * G + 1];
          var I = (i + N) / 2
            , h = (C + k) / 2
            , o = (N + V) / 2
            , H = (k + j) / 2
            , A = (V + a) / 2
            , S = (j + e) / 2
            , v = (I + o) / 2
            , s = (h + H) / 2
            , D = (o + A) / 2
            , F = (H + S) / 2
            , y = (v + D) / 2
            , T = (s + F) / 2;
          if (K) {
              L[G * 8 + 2 * 0] = i;
              L[G * 8 + 2 * 0 + 1] = C;
              L[G * 8 + 2 * 1] = I;
              L[G * 8 + 2 * 1 + 1] = h;
              L[G * 8 + 2 * 2] = v;
              L[G * 8 + 2 * 2 + 1] = s;
              L[G * 8 + 2 * 3] = y;
              L[G * 8 + 2 * 3 + 1] = T;
              g[G * 8 + 2 * 0] = y;
              g[G * 8 + 2 * 0 + 1] = T;
              g[G * 8 + 2 * 1] = D;
              g[G * 8 + 2 * 1 + 1] = F;
              g[G * 8 + 2 * 2] = A;
              g[G * 8 + 2 * 2 + 1] = S;
              g[G * 8 + 2 * 3] = a;
              g[G * 8 + 2 * 3 + 1] = e
          } else {
              L[0 * 8 + 2 * G] = i;
              L[0 * 8 + 2 * G + 1] = C;
              L[1 * 8 + 2 * G] = I;
              L[1 * 8 + 2 * G + 1] = h;
              L[2 * 8 + 2 * G] = v;
              L[2 * 8 + 2 * G + 1] = s;
              L[3 * 8 + 2 * G] = y;
              L[3 * 8 + 2 * G + 1] = T;
              g[0 * 8 + 2 * G] = y;
              g[0 * 8 + 2 * G + 1] = T;
              g[1 * 8 + 2 * G] = D;
              g[1 * 8 + 2 * G + 1] = F;
              g[2 * 8 + 2 * G] = A;
              g[2 * 8 + 2 * G + 1] = S;
              g[3 * 8 + 2 * G] = a;
              g[3 * 8 + 2 * G + 1] = e
          }
      }
      return [L, g]
  }
  ;
  _.Ff = {};
  _.Ff.aoL = function(E, K, i) {
      var C = Date.now()
        , N = new ArrayBuffer(K * i * 16)
        , k = _.Ff.a0S(E, K, i, N)
        , V = _.Ff.afz(K, i, N);
      return {
          FE: V,
          q8: k
      }
  }
  ;
  _.Ff.ajF = function(E, K, i) {
      var C = Math.round(E.length / 8)
        , N = new Uint32Array(C)
        , k = new Uint8Array(C)
        , V = new Uint32Array(C);
      _.EE(N, 4294967295, 0);
      N[i] = 0;
      var j = new gs(C);
      j.push(i, N[i]);
      var a = {
          FE: E,
          q8: K,
          xV: N,
          T8: k,
          Dz: V,
          Ym: j,
          a15: i
      };
      return a
  }
  ;
  _.Ff.jS = function(E, K) {
      var i = E.FE
        , C = E.q8
        , N = E.xV
        , k = E.T8
        , V = E.Dz
        , j = E.Ym;
      while (!j.OL() && (K == null || k[K] == 0)) {
          var a = j.pop();
          k[a] = 1;
          for (var G = 0; G < 8; G++) {
              var e = i[8 * a + G]
                , L = a + e;
              if (e == 0 || k[L])
                  continue;
              var g = N[a] + C[8 * a + G];
              if (j.contains(L) && g < N[L])
                  j.remove(L, N[L]);
              if (!j.contains(L)) {
                  N[L] = g;
                  V[L] = a;
                  j.push(L, N[L])
              }
          }
      }
  }
  ;
  function gs(E) {
      this.$h = new Uint32Array(E);
      this.list = [];
      this.hD = 0;
      this.Ru = 4294967295
  }
  gs.prototype.OL = function() {
      return this.hD == 0
  }
  ;
  gs.prototype.push = function(E, K) {
      var i = this.list;
      if (i[K] == null)
          i[K] = [];
      i[K].push(E);
      this.hD++;
      this.$h[E] = i[K].length - 1 + 1;
      this.Ru = Math.min(this.Ru, K)
  }
  ;
  gs.prototype.pop = function() {
      this.hD--;
      var E = this.list
        , K = this.Ru
        , i = E[K].pop();
      if (E[K].length == 0)
          E[K] = null;
      this.Dm();
      this.$h[i] = 0;
      return i
  }
  ;
  gs.prototype.contains = function(E) {
      return this.$h[E] != 0
  }
  ;
  gs.prototype.remove = function(E, K) {
      this.hD--;
      var i = this.list
        , G = this.$h[E] - 1;
      if (G == i[K].length - 1)
          i[K].pop();
      else {
          var C = i[K].pop();
          i[K][G] = C;
          this.$h[C] = G + 1
      }
      if (i[K].length == 0)
          i[K] = null;
      this.$h[E] = 0;
      this.Dm()
  }
  ;
  gs.prototype.Dm = function() {
      if (this.hD == 0) {
          this.Ru = 4294967295;
          return
      }
      var E = this.Ru
        , K = this.list;
      while (K[E] == null)
          E++;
      this.Ru = E
  }
  ;
  _.Ff.a1T = function(E, K, i, C) {
      var N = new Int16Array(C);
      for (var k = 0; k < i; k++)
          for (var V = 0; V < K; V++) {
              var G = k * K + V
                , j = 0;
              if (1 < V && V < K - 2 && 1 < k && k < i - 2) {
                  j += E[G - K - K];
                  j += E[G - K - 1] + 2 * E[G - K] + E[G - K + 1];
                  j += E[G - 2] + 2 * E[G - 1] - 16 * E[G] + 2 * E[G + 1] + E[G + 2];
                  j += E[G + K - 1] + 2 * E[G + K] + E[G + K + 1];
                  j += E[G + K + K]
              } else
                  j = -16 * E[G];
              N[G] = j
          }
      return N
  }
  ;
  _.Ff.ajP = function(E, K, i, C) {
      if (C == null)
          C = 128;
      var N = new Uint8Array(K * i);
      for (var k = 1; k < i - 1; k++)
          for (var V = 1; V < K - 1; V++) {
              var G = k * K + V;
              N[G] = _.Ff.a25(E[G], E[G - 1], E[G + 1], E[G - K], E[G + K], C)
          }
      return N
  }
  ;
  _.Ff.a25 = function(E, K, i, C, N, k) {
      var V = Math.abs(E);
      return E * K < 0 && V < Math.abs(K) && Math.abs(K - E) > k || E * i < 0 && V < Math.abs(i) && Math.abs(i - E) > k || E * C < 0 && V < Math.abs(C) && Math.abs(C - E) > k || E * N < 0 && V < Math.abs(N) && Math.abs(N - E) > k ? 1 : 0
  }
  ;
  _.Ff.aog = function(E, K, i, C) {
      var N = new Float32Array(C)
        , k = 0;
      new Uint32Array(C).fill(0);
      for (var V = 0; V < i; V++)
          for (var j = 0; j < K; j++) {
              var a = 0
                , e = 0
                , G = V * K + j
                , L = G * 3;
              if (0 < j && j < K - 1)
                  a = E[G + 1] - E[G - 1];
              if (0 < V && V < i - 1)
                  e = E[G + K] - E[G - K];
              var g = N[L + 2] = Math.sqrt(a * a + e * e);
              if (g != 0) {
                  var I = 1 / g;
                  N[L] = a * I;
                  N[L + 1] = e * I
              }
              if (g > k)
                  k = g
          }
      var h = K * i
        , o = k == 0 ? 0 : 1 / k;
      for (var G = 0; G < h; G++)
          N[G * 3 + 2] = 1 - N[G * 3 + 2] * o;
      return N
  }
  ;
  _.Ff.anU = function(E, K, i) {
      return i[~~((.5 + .5 * E) * 255)] + i[~~((.5 + .5 * K) * 255)]
  }
  ;
  _.Ff.a0S = function(E, K, i, C) {
      var N = Date.now()
        , k = _.Ff.a1T(E, K, i, C)
        , V = _.Ff.ajP(k, K, i)
        , j = _.Ff.aog(E, K, i, C)
        , a = new Float32Array(256);
      for (var G = 0; G < 256; G++)
          a[G] = Math.acos(-1 + 2 * G / 255) * (.95 / Math.PI);
      var e = [-1, 0, 1, 1, 1, 0, -1, -1]
        , L = [-1, -1, -1, 0, 1, 1, 1, 0];
      for (var G = 0; G < 8; G++) {
          var g = 1 / Math.sqrt(e[G] * e[G] + L[G] * L[G]);
          e[G] *= g;
          L[G] *= g
      }
      var I = [e[0], L[0], e[1], L[1], e[2], L[2], e[3], L[3]]
        , h = [-K - 1, -K, -K + 1, 1]
        , o = new Uint8Array(K * i * 8);
      new Uint32Array(o.buffer).fill(4294967295);
      var H = K * i;
      for (var A = 1; A < i - 1; A++)
          for (var S = 1; S < K - 1; S++) {
              var v = A * K + S
                , s = 1 - V[v]
                , D = j[v * 3 + 2]
                , F = j[3 * v + 1]
                , y = -j[3 * v];
              for (var T = 0; T < 4; T++) {
                  var Q = v + h[T];
                  _.Ff.ajW(v, Q, T, o, V, j, s, D, F, y, I, a)
              }
          }
      return o
  }
  ;
  _.Ff.ajW = function(E, K, i, C, N, k, V, j, a, e, L, g) {
      var I = 1 - N[K]
        , h = (i & 1) == 0 ? 1 : Math.SQRT1_2
        , o = k[K * 3 + 2] * h
        , H = k[3 * K + 1]
        , A = -k[3 * K]
        , S = j * h
        , v = L[i + i]
        , s = L[i + i + 1]
        , D = a * v + e * s
        , F = H * v + A * s;
      if (D + F < 0) {
          D = -D;
          F = -F
      }
      var y = _.Ff.anU(D, F, g);
      C[(E << 3) + i] = _.Ff.jZ(I, y, o);
      C[(K << 3) + i + 4] = _.Ff.jZ(V, y, S)
  }
  ;
  _.Ff.jZ = function(E, K, i) {
      return 1 + ~~(.5 + 20 * (.43 * E + .43 * K + .14 * i))
  }
  ;
  _.Ff.afz = function(E, K, i) {
      var C = new Int16Array(i)
        , N = C
        , G = 0
        , k = 0;
      new Uint32Array(i).fill(0);
      for (var V = 0; V < K; V++)
          for (var j = 0; j < E; j++) {
              if (V > 0 && j > 0)
                  N[k + 0] = -E - 1;
              if (V > 0)
                  N[k + 1] = -E;
              if (V > 0 && j < E - 1)
                  N[k + 2] = -E + 1;
              if (j < E - 1)
                  N[k + 3] = 1;
              if (V < K - 1 && j < E - 1)
                  N[k + 4] = E + 1;
              if (V < K - 1)
                  N[k + 5] = E;
              if (V < K - 1 && j > 0)
                  N[k + 6] = E - 1;
              if (j > 0)
                  N[k + 7] = -1;
              G++;
              k += 8
          }
      return C
  }
  ;
  _.UZ = {};
  _.UZ.Wj = function(E) {
      var K = E.slice(0)
        , i = 0;
      for (var G = 0; G < E.length; G++)
          i += E[G];
      for (var G = 0; G < E.length; G++)
          K[G] /= i;
      return K
  }
  ;
  _.UZ.RF = [_.UZ.Wj([1, 2, 1, 2, 16, 2, 1, 2, 1]), _.UZ.Wj([1, 2, 1, 2, 4, 2, 1, 2, 1]), _.UZ.Wj([0, -1, 0, -1, 8, -1, 0, -1, 0]), _.UZ.Wj([-.7, -1, -.7, -1, 10, -1, -.7, -1, -.7]), [-1, 0, 1, -2, 0, 2, -1, 0, 1], [1, 2, 1, 0, 0, 0, -1, -2, -1]];
  _.UZ.Zl = function(E, K, i, C, N, k, V, j) {
      if (V == null)
          V = !1;
      if (j == null)
          j = !1;
      var a = Math.floor(Math.sqrt(N.length))
        , e = a - 1 >>> 1
        , L = new Uint32Array(E.buffer)
        , K = new Uint8ClampedArray(K.buffer);
      for (var G = 0; G < C; G++)
          for (var g = 0; g < i; g++) {
              var I = 0
                , h = 0
                , o = 0
                , H = 0;
              for (var A = 0; A < a; A++)
                  for (var S = 0; S < a; S++) {
                      var v = N[A * a + S];
                      if (v == 0)
                          continue;
                      var s = g - e + S
                        , D = G - e + A;
                      if (s < 0)
                          s = 0;
                      else if (s > i - 1)
                          s = i - 1;
                      if (D < 0)
                          D = 0;
                      else if (D > C - 1)
                          D = C - 1;
                      if (j && L[D * i + s] >>> 24 == 0) {
                          D = G;
                          s = g
                      }
                      var F = L[D * i + s];
                      I += (F & 255) * v;
                      h += (F >>> 8 & 255) * v;
                      o += (F >>> 16 & 255) * v;
                      H += (F >>> 24 & 255) * v
                  }
              if (V) {
                  if (I < 0)
                      I = -I;
                  if (h < 0)
                      h = -h;
                  if (o < 0)
                      o = -o;
                  if (H < 0)
                      H = -H
              }
              if (j) {
                  I = Math.max(0, Math.min(255, I));
                  h = Math.max(0, Math.min(255, h));
                  o = Math.max(0, Math.min(255, o));
                  H = Math.max(0, Math.min(255, H))
              }
              var y = G * i + g << 2;
              K[y] = ~~(.5 + I);
              K[y + 1] = ~~(.5 + h);
              K[y + 2] = ~~(.5 + o);
              K[y + 3] = 255 - k & K[y + 3] | k & ~~(.5 + H)
          }
  }
  ;
  _.UZ.r$ = function(E, K, i, C) {
      var N = E.length
        , k = new Uint8Array(N);
      _.UZ.Zl(E, K, i, C, _.UZ.RF[4], 0, !0);
      _.UZ.Zl(E, k, i, C, _.UZ.RF[5], 0, !0);
      for (var G = 0; G < N; G += 4) {
          var V = K[G]
            , j = K[G + 1]
            , a = K[G + 2]
            , e = K[G + 3]
            , L = k[G]
            , g = k[G + 1]
            , I = k[G + 2]
            , h = k[G + 3];
          K[G] = 255 - Math.max(0, Math.min(255, Math.sqrt(V * V + L * L)));
          K[G + 1] = 255 - Math.max(0, Math.min(255, Math.sqrt(j * j + g * g)));
          K[G + 2] = 255 - Math.max(0, Math.min(255, Math.sqrt(a * a + I * I)))
      }
  }
  ;
  _.UZ.c_ = function(E, K, i, C) {
      var N = E.length
        , k = new Uint8Array(N);
      _.UZ.Kh(E, K, i, C, _.UZ.RF[4], !0);
      _.UZ.Kh(E, k, i, C, _.UZ.RF[5], !0);
      for (var G = 0; G < N; G++) {
          var V = K[G]
            , j = k[G];
          K[G] = 255 - Math.max(0, Math.min(255, Math.sqrt(V * V + j * j)))
      }
  }
  ;
  _.UZ.Kh = function(E, K, i, C, N, k) {
      K = new Uint8ClampedArray(K.buffer);
      var V = [-i - 1, -i, -i + 1, -1, 0, 1, i - 1, i, i + 1]
        , j = C - 1
        , a = i - 1;
      for (var G = 1; G < j; G++)
          for (var e = 1; e < a; e++) {
              var L = G * i + e
                , g = _.UZ.Gh(E, L, i, N);
              if (k) {
                  if (g < 0)
                      g = -g
              }
              K[L] = ~~(g + .5)
          }
  }
  ;
  _.UZ.Gh = function(E, K, i, C) {
      return E[K - i - 1] * C[0] + E[K - i] * C[1] + E[K - i + 1] * C[2] + E[K - 1] * C[3] + E[K] * C[4] + E[K + 1] * C[5] + E[K + i - 1] * C[6] + E[K + i] * C[7] + E[K + i + 1] * C[8]
  }
  ;
  _.UZ.jL = function(E, K, i, C, N) {
      var k = [-i - 1, -i, -i + 1, -1, 0, 1, i - 1, i, i + 1]
        , V = C - 1
        , j = i - 1;
      for (var G = 1; G < V; G++)
          for (var a = 1; a < j; a++) {
              var e = G * i + a;
              K[e] = _.UZ.a5m(E, e, i, N)
          }
  }
  ;
  _.UZ.a5m = function(E, K, i, C) {
      return E[K - i - 1] * C[0] + E[K - i] * C[1] + E[K - i + 1] * C[2] + E[K - 1] * C[3] + E[K] * C[4] + E[K + 1] * C[5] + E[K + i - 1] * C[6] + E[K + i] * C[7] + E[K + i + 1] * C[8]
  }
  ;
  _.A2 = {};
  _.A2.ab8 = function() {
      function E(V, j, a, e, L, g, I) {
          if (L == 0) {
              j.set(V);
              return
          }
          var h = _.I(a * e)
            , o = _.I(a * e);
          if (_.Tx(V)) {
              K(V, j, a, e, L, g, I);
              var H = [_.A2.BM, _.A2.j7]
                , A = H.indexOf(g)
                , S = A != -1 ? H[1 - A] : g;
              _.wF(V, h, 3);
              _.A2.R$(h, o, a, e, L, S, I);
              _.lM(o, j, 3)
          } else {
              for (var G = 0; G < 3; G++) {
                  _.wF(V, h, G);
                  _.A2.R$(h, o, a, e, L, g, I);
                  _.lM(o, j, G)
              }
          }
      }
      function K(V, j, a, e, L, g, I) {
          var h = 0
            , o = new ArrayBuffer(512 * 4 * 3)
            , H = [new Int32Array(o,0), new Int32Array(o,2048), new Int32Array(o,2 * 2048)]
            , A = 1 + 2 * Math.round(Math.sqrt(L))
            , S = A >>> 1
            , v = new Array(A)
            , s = new Array(A);
          for (var G = 0; G < A; G++) {
              var o = new ArrayBuffer(512 * 4 * 3);
              v[G] = [new Int32Array(o,0), new Int32Array(o,2048), new Int32Array(o,2 * 2048)];
              s[G] = v[G][0]
          }
          var D = g[0]
            , F = g[1]
            , y = H[0];
          for (var T = 0; T < a; T++)
              if (T < L || T > a - L - A - 1) {
                  y.fill(0);
                  var Q = Math.max(T - L, 0)
                    , B = Math.min(a, T + L + 1)
                    , r = B - Q;
                  for (var J = 0; J < L; J++)
                      C(y, V, J * a + Q, J * a + B, 1);
                  for (var J = 0; J < e; J++) {
                      var m = J - L - 1
                        , x = J + L;
                      if (x < e)
                          C(y, V, x * a + Q, x * a + B, 1);
                      if (m >= 0)
                          C(y, V, m * a + Q, m * a + B, -1);
                      var R = J * a + T << 2;
                      h = y[300];
                      if (h != 0)
                          for (var G = 0; G < 3; G++)
                              j[R + G] = D(H[G], V[R + G], h, I)
                  }
              } else {
                  for (var G = 0; G < A; G++)
                      s[G].fill(0);
                  var Q = T - L + S
                    , B = T + L + 1 + S;
                  for (var J = 0; J < L; J++)
                      i(s, V, J * a + Q, J * a + B, 1, S);
                  for (var J = 0; J < e; J++) {
                      var m = J - L - 1
                        , x = J + L;
                      if (m >= 0)
                          i(s, V, m * a + Q, m * a + B, -1, S);
                      if (x < e)
                          i(s, V, x * a + Q, x * a + B, 1, S);
                      var b = v[S];
                      h = b[0][300];
                      for (var G = 0; G < S; G++) {
                          var z = S - 1 - G
                            , $ = S + 1 + G
                            , P = v[z]
                            , t = v[$]
                            , X = h + P[0][300]
                            , Z = h + t[0][300]
                            , p = J * a + T + z << 2
                            , gl = J * a + T + $ << 2;
                          if (X != 0)
                              for (var f = 0; f < 3; f++)
                                  j[p + f] = F(b[f], P[f], V[p + f], X, I);
                          if (Z != 0)
                              for (var f = 0; f < 3; f++)
                                  j[gl + f] = F(b[f], t[f], V[gl + f], Z, I)
                      }
                      var R = J * a + T + S << 2;
                      if (h != 0)
                          for (var f = 0; f < 3; f++)
                              j[R + f] = D(b[f], V[R + f], h, I)
                  }
                  T += A - 1
              }
      }
      function i(V, j, a, e, L, g) {
          var I = N
            , h = a << 2
            , o = e << 2;
          I(V[g - 1], j, a - 1 << 2, L);
          I(V[g - 1], j, e - 1 << 2, -L);
          I(V[g + 1], j, e << 2, L);
          I(V[g + 1], j, a << 2, -L);
          for (var G = 1; G < g; G++) {
              var H = V[g - G - 1]
                , A = V[g + G + 1];
              for (var S = 0; S <= G; S++) {
                  var v = S << 2;
                  I(H, j, a - 1 - S << 2, L);
                  I(H, j, e - 1 - S << 2, -L);
                  I(A, j, e + S << 2, L);
                  I(A, j, a + S << 2, -L)
              }
          }
          C(V[g], j, a, e, L)
      }
      function C(V, j, G, a, e) {
          var L = G << 2
            , g = a << 2;
          while (L < g) {
              N(V, j, L, e);
              L += 4
          }
      }
      function N(V, j, a, e) {
          var L = e * j[a + 3];
          V[300] += L;
          k(V, j[a], 0, L);
          k(V, j[a + 1], 512, L);
          k(V, j[a + 2], 1024, L)
      }
      function k(V, j, a, e) {
          V[a | j] += e;
          V[a | 256 | j >>> 4] += e
      }
      return E
  }();
  _.A2.R$ = function() {
      function E(g, I, h, o, H, A, S) {
          if (H == 0) {
              I.set(g);
              return
          }
          if (H <= 80)
              K(g, I, h, o, H, A, S);
          else
              k(g, I, h, o, H, A, S)
      }
      function K(g, I, h, o, H, A, S) {
          var v = 0
            , s = new Int32Array(512)
            , D = 1 + 2 * Math.round(Math.sqrt(H))
            , F = D >>> 1
            , y = new Array(D);
          for (var G = 0; G < D; G++)
              y[G] = new Int32Array(512);
          var T = A[0]
            , Q = A[1];
          for (var B = 0; B < h; B++)
              if (B < H || B > h - H - D - 1) {
                  s.fill(0);
                  v = 0;
                  var r = Math.max(B - H, 0)
                    , J = Math.min(h, B + H + 1)
                    , m = J - r;
                  for (var x = 0; x < H; x++) {
                      v += m;
                      C(s, g, x * h + r, x * h + J, 1)
                  }
                  for (var x = 0; x < o; x++) {
                      var R = x - H - 1
                        , b = x + H;
                      if (R >= 0) {
                          v -= m;
                          C(s, g, R * h + r, R * h + J, -1)
                      }
                      if (b < o) {
                          v += m;
                          C(s, g, b * h + r, b * h + J, 1)
                      }
                      var z = T(s, g[x * h + B], v, S);
                      I[x * h + B] = z
                  }
              } else {
                  for (var G = 0; G < D; G++)
                      y[G].fill(0);
                  v = 0;
                  var r = B - H + F
                    , J = B + H + 1 + F
                    , m = J - r;
                  for (var x = 0; x < H; x++) {
                      v += m;
                      i(y, g, x * h + r, x * h + J, 1, F)
                  }
                  for (var x = 0; x < o; x++) {
                      var R = x - H - 1
                        , b = x + H;
                      if (R >= 0) {
                          v -= m;
                          i(y, g, R * h + r, R * h + J, -1, F)
                      }
                      if (b < o) {
                          v += m;
                          i(y, g, b * h + r, b * h + J, 1, F)
                      }
                      for (var G = 0; G < F; G++) {
                          var $ = F - 1 - G
                            , P = F + 1 + G;
                          I[x * h + B + $] = Q(y[F], y[$], g[x * h + B + $], v, S);
                          I[x * h + B + P] = Q(y[F], y[P], g[x * h + B + P], v, S)
                      }
                      I[x * h + B + F] = T(y[F], g[x * h + B + F], v, S)
                  }
                  B += D - 1
              }
      }
      function i(g, I, h, o, H, A) {
          var S = N;
          S(g[A - 1], I[h - 1], 0, H);
          S(g[A - 1], I[o - 1], 0, -H);
          S(g[A + 1], I[o], 0, H);
          S(g[A + 1], I[h], 0, -H);
          for (var G = 1; G < A; G++) {
              var v = g[A - G - 1]
                , s = g[A + G + 1];
              for (var D = 0; D <= G; D++) {
                  S(v, I[h - 1 - D], 0, H);
                  S(v, I[o - 1 - D], 0, -H);
                  S(s, I[o + D], 0, H);
                  S(s, I[h + D], 0, -H)
              }
          }
          C(g[A], I, h, o, H)
      }
      function C(g, I, G, h, o) {
          while (G < h)
              N(g, I[G++], 0, o)
      }
      function N(g, I, h, o) {
          g[h | I] += o;
          g[h | 256 | I >>> 4] += o
      }
      function k(g, I, h, o, H, A, S) {
          var v = 0
            , s = new Int32Array(512)
            , D = new Int32Array(1 * h)
            , F = new Int32Array(512 * h)
            , y = Math.min(H, h)
            , T = Math.min(H, o)
            , Q = A[0];
          for (var B = 0; B < T; B++)
              V(F, D, g, h, B, 1);
          for (var B = 0; B < o; B++) {
              if (B + H < o)
                  V(F, D, g, h, B + H, 1);
              if (B - H - 1 >= 0)
                  V(F, D, g, h, B - H - 1, -1);
              s.fill(0);
              v = 0;
              for (var r = 0; r < y; r++) {
                  v += D[r];
                  j(s, F, r)
              }
              for (var r = 0; r < h; r++) {
                  var J = r - H - 1
                    , m = r + H;
                  if (J >= 0 && D[J] != 0) {
                      v -= D[J];
                      a(s, F, J)
                  }
                  if (m < h && D[m] != 0) {
                      v += D[m];
                      j(s, F, m)
                  }
                  var x = v == 0 ? 0 : Q(s, g[B * h + r], v, S);
                  I[B * h + r] = x
              }
          }
      }
      function V(g, I, h, o, H, A) {
          var G = H * o;
          for (var S = 0; S < o; S++) {
              N(g, h[G + S], S << 9, A);
              I[S] += A
          }
      }
      function j(g, I, h) {
          for (var G = 0; G < 16; G++) {
              var o = I[h << 9 | 256 | G];
              if (o == 0)
                  continue;
              g[256 | G] += o;
              var H = G << 4
                , A = h << 9 | H;
              e(g, I, H, A);
              e(g, I, H + 4, A + 4);
              e(g, I, H + 8, A + 8);
              e(g, I, H + 12, A + 12)
          }
      }
      function a(g, I, h) {
          for (var G = 0; G < 16; G++) {
              var o = I[h << 9 | 256 | G];
              if (o == 0)
                  continue;
              g[256 | G] -= o;
              var H = G << 4
                , A = h << 9 | H;
              L(g, I, H, A);
              L(g, I, H + 4, A + 4);
              L(g, I, H + 8, A + 8);
              L(g, I, H + 12, A + 12)
          }
      }
      function e(g, I, h, o) {
          g[h] += I[o];
          g[h + 1] += I[o + 1];
          g[h + 2] += I[o + 2];
          g[h + 3] += I[o + 3]
      }
      function L(g, I, h, o) {
          g[h] -= I[o];
          g[h + 1] -= I[o + 1];
          g[h + 2] -= I[o + 2];
          g[h + 3] -= I[o + 3]
      }
      return E
  }();
  _.A2.j7 = [function(E, K, i, C) {
      var G = 15;
      while (E[256 | G] == 0 && G > 0)
          G--;
      G = (G << 4) + 15;
      while (E[G] == 0 && G > 0)
          G--;
      return G
  }
  , function(E, K, i, C, N) {
      var G = 15;
      while (E[256 | G] + K[256 | G] == 0 && G > 0)
          G--;
      G = (G << 4) + 15;
      while (E[G] + K[G] == 0 && G > 0)
          G--;
      return G
  }
  ];
  _.A2.BM = [function(E, K, i, C) {
      var G = 0;
      while (E[256 | G] == 0 && G < 15)
          G++;
      G = G << 4;
      while (E[G] == 0 && G < 255)
          G++;
      return G
  }
  , function(E, K, i, C, N) {
      var G = 0;
      while (E[256 | G] + K[256 | G] == 0 && G < 15)
          G++;
      G = G << 4;
      while (E[G] + K[G] == 0 && G < 255)
          G++;
      return G
  }
  ];
  _.A2.oa = .5;
  _.A2.Rw = [function(E, K, i, C) {
      var N = ~~(.5 + _.A2.oa * i)
        , k = 0
        , G = 256;
      while (k + E[G] <= N)
          k += E[G++];
      G = G - 256 << 4;
      while (k <= N)
          k += E[G++];
      return G - 1
  }
  , function(E, K, i, C, N) {
      var k = ~~(.5 + _.A2.oa * C)
        , V = 0
        , G = 256;
      while (V + E[G] + K[G] <= k) {
          V += E[G] + K[G];
          G++
      }
      G = G - 256 << 4;
      while (V <= k) {
          V += E[G] + K[G];
          G++
      }
      return G - 1
  }
  ];
  _.A2.Df = [function(E, K, i, C) {
      var N = C[0]
        , k = 0
        , V = 0
        , G = Math.max(0, K - N)
        , j = Math.min(256, K + N + 1);
      while (G < j) {
          var a = E[G];
          k += G * a;
          V += a;
          G++
      }
      return V == 0 ? 0 : k / V
  }
  , function(E, K, i, C, N) {
      var k = N[0]
        , V = 0
        , j = 0
        , G = Math.max(0, i - k)
        , a = Math.min(256, i + k + 1);
      while (G < a) {
          var e = E[G] + K[G];
          V += G * e;
          j += e;
          G++
      }
      return j == 0 ? 0 : V / j
  }
  ];
  _.J = {};
  _.J.N6 = function(E) {
      var K = u._.ph(E.Trnf)
        , i = E.Sz.v
        , C = _.J.hv(K, new h4(0,0,i.Wdth.v,i.Hght.v));
      return _.J.M1(C)
  }
  ;
  _.J.hv = function(E, K) {
      var i = E[0]
        , C = E[1]
        , N = E[2]
        , k = E[3]
        , V = E[6]
        , j = E[7]
        , a = E[4]
        , e = E[5]
        , L = 0
        , g = 0
        , I = 1
        , h = 0
        , o = 0
        , H = 1
        , A = 1
        , S = 1;
      if (K) {
          L = K.x;
          g = K.y;
          I = K.x + K.d;
          h = K.y;
          o = K.x;
          H = K.y + K.v;
          A = K.x + K.d;
          S = K.y + K.v
      }
      return _.J.u2(E, [L, g, I, h, A, S, o, H])
  }
  ;
  _.J.u2 = function(E, K) {
      var i = E[0]
        , C = E[1]
        , N = E[2]
        , k = E[3]
        , V = E[6]
        , j = E[7]
        , a = E[4]
        , e = E[5]
        , L = K[0]
        , g = K[1]
        , I = K[2]
        , h = K[3]
        , o = K[6]
        , H = K[7]
        , A = K[4]
        , S = K[5]
        , v = [[L, g, 1, 0, 0, 0, -L * i, -g * i, i], [0, 0, 0, L, g, 1, -L * C, -g * C, C], [I, h, 1, 0, 0, 0, -I * N, -h * N, N], [0, 0, 0, I, h, 1, -I * k, -h * k, k], [o, H, 1, 0, 0, 0, -o * V, -H * V, V], [0, 0, 0, o, H, 1, -o * j, -H * j, j], [A, S, 1, 0, 0, 0, -A * a, -S * a, a], [0, 0, 0, A, S, 1, -A * e, -S * e, e]]
        , s = [0, 0, 0, 0, 0, 0, 0, 0]
        , D = _.w3.qs(v, s);
      if (D != 0)
          s = [0, 0, 0, 0, 0, 0, 0, 0];
      return s
  }
  ;
  _.J.bW = function(E) {
      return Math.abs(E[6]) < 1e-10 && Math.abs(E[7]) < 1e-10
  }
  ;
  _.J.M1 = function(E) {
      return new fn(E[0],E[3],E[1],E[4],E[2],E[5])
  }
  ;
  _.J.Nl = function(E) {
      return [E.R, E.x9, E.vK, E.O, E.bI, E.Cz, 0, 0]
  }
  ;
  _.J.apply = function(E, K) {
      var i = new Float64Array(2);
      for (var C = 0; C < K.length; C += 2) {
          var N = K[C]
            , k = K[C + 1];
          _.J.xw(N, k, E, i);
          K[C] = i[0];
          K[C + 1] = i[1]
      }
  }
  ;
  _.J.xw = function(E, K, i, C) {
      var N = 1 / (i[6] * E + i[7] * K + 1);
      C[0] = (i[0] * E + i[1] * K + i[2]) * N;
      C[1] = (i[3] * E + i[4] * K + i[5]) * N
  }
  ;
  _.J.Cj = function(E, K) {
      var i = new Float64Array(2);
      _.J.xw(K.x, K.y, E, i);
      return new bT(i[0],i[1])
  }
  ;
  _.J.C2 = function(E, K, i, C) {
      E = new Uint32Array(E.buffer);
      K = new Uint32Array(K.buffer);
      for (var N = 0; N < C; N++) {
          for (var k = 0; k < i; k++) {
              K[k * C + N] = E[N * i + k]
          }
      }
  }
  ;
  _.J.a9Q = function(E, K, i, C) {
      E = new Uint32Array(E.buffer);
      K = new Uint32Array(K.buffer);
      for (var N = 0; N < C; N++) {
          for (var k = 0; k < i; k++) {
              K[N * i + k] = E[N * i + i - 1 - k]
          }
      }
  }
  ;
  _.J.oY = function(E) {
      return Math.abs(E[6]) < 1e-9 && Math.abs(E[7]) < 1e-9
  }
  ;
  _.J.Tr = function(E) {
      return Math.abs(E[0]) < 1e-9 && Math.abs(E[4]) < 1e-9 || Math.abs(E[1]) < 1e-9 && Math.abs(E[3]) < 1e-9
  }
  ;
  _.J.drawImage = function(E, K, i, C, N, k, V, j, a) {
      if (V == null)
          V = !1;
      if (j == null)
          j = !1;
      var e = _.J.KP(E)
        , L = !0
        , g = 0
        , I = 1 / Math.sqrt(Math.abs(E[0] / i * E[4] / C - E[1] / i * E[3] / C));
      for (var G = 0; G < 8; G++) {
          var h = Math.round(E[G]);
          if (G != 2 && G != 5)
              g += Math.abs(h);
          if (Math.abs(h - E[G]) > 1e-9)
              L = !1
      }
      var o = _.J.oY(E)
        , H = _.J.Tr(E) && o
        , A = H ? 1 : 0;
      if (V || L && g == i + C && o) {
          _.J.a86(e, K, i, C, N, k, j, o, a);
          return
      }
      var S = k.d
        , v = k.v
        , s = new Float64Array(2);
      N = new Uint32Array(N.buffer);
      K = new Uint32Array(K.buffer);
      for (var D = 0; D < v; D++)
          for (var F = 0; F < S; F++) {
              var y = D * S + F, T, Q, B, r, cY = 0, fC = 0, hi = 0, es = 0;
              N[y] = 0;
              var J = F + k.x + .5
                , m = D + k.y + .5;
              T = J;
              Q = m;
              B = e;
              r = 1 / (B[6] * T + B[7] * Q + 1);
              var x = (B[0] * T + B[1] * Q + B[2]) * r
                , R = (B[3] * T + B[4] * Q + B[5]) * r
                , b = x * i
                , z = R * C
                , $ = b < -1 || b > i + 1 || z < -1 || z > C + 1;
              if (j) {
                  b = Math.max(.001, Math.min(i - 1, b));
                  z = Math.max(.001, Math.min(C - 1, z))
              } else if ($)
                  continue;
              var P = I;
              if (!o) {
                  var t = 0
                    , X = 0;
                  B = E;
                  T = x + 1 / i;
                  Q = R;
                  r = 1 / (B[6] * T + B[7] * Q + 1);
                  t = (B[0] * T + B[1] * Q + B[2]) * r - J;
                  X = (B[3] * T + B[4] * Q + B[5]) * r - m;
                  var Z = t * t + X * X;
                  T = x;
                  Q = R + 1 / C;
                  r = 1 / (B[6] * T + B[7] * Q + 1);
                  t = (B[0] * T + B[1] * Q + B[2]) * r - J;
                  X = (B[3] * T + B[4] * Q + B[5]) * r - m;
                  var p = t * t + X * X;
                  P = 1 / Math.sqrt(Math.max(Z, p))
              }
              if (P < 1.1) {
                  _.J.iz(b, z, K, i, C, N, y, A);
                  continue
              }
              var gl = Math.round(P * 2.3);
              if (!j && (b < .6 || b > i - .6 || z < .6 || z > C - .6)) {
                  gl = Math.max(gl, 5)
              }
              if (j && $)
                  gl = 1;
              var f = 1 / gl
                , W = k.x + F
                , d = k.y + D;
              B = e;
              for (var G = 0; G < gl; G++)
                  for (var fM = 0; fM < gl; fM++) {
                      T = W + (G + .5) * f;
                      Q = d + (fM + .5) * f;
                      r = 1 / (B[6] * T + B[7] * Q + 1);
                      var b = (B[0] * T + B[1] * Q + B[2]) * r
                        , z = (B[3] * T + B[4] * Q + B[5]) * r;
                      if (j) {
                          b = Math.max(.001, Math.min(.999, b));
                          z = Math.max(.001, Math.min(.999, z))
                      } else if (b < 0 || b >= 1 || z < 0 || z >= 1)
                          continue;
                      b = Math.floor(b * i);
                      z = Math.floor(z * C);
                      var n = z * i + b
                        , ax = K[n]
                        , d_ = ax >>> 24;
                      cY += (ax & 255) * d_;
                      fC += (ax >>> 8 & 255) * d_;
                      hi += (ax >>> 16 & 255) * d_;
                      es += d_
                  }
              if (es != 0) {
                  var cm = 1 / es;
                  cY = ~~(cY * cm + .5);
                  fC = ~~(fC * cm + .5);
                  hi = ~~(hi * cm + .5);
                  es = ~~(es * f * f + .5);
                  N[y] = es << 24 | hi << 16 | fC << 8 | cY
              }
          }
  }
  ;
  _.J.a86 = function(E, K, i, C, N, k, V, j, a) {
      if (j && !V && k.X() > 4e6 && a) {
          _.J.aki(E, K, i, C, N, k, V, j, a);
          return
      }
      var e = k.x + k.d
        , L = k.y + k.v
        , g = 0
        , I = new Uint32Array(N.buffer)
        , h = new Uint32Array(K.buffer)
        , o = E[0] * i
        , H = E[1] * i
        , A = E[2] * i
        , S = E[3] * C
        , v = E[4] * C
        , s = E[5] * C
        , D = E[6]
        , F = E[7];
      if (j && !V)
          for (var y = k.y + .5; y < L; y++)
              for (var T = k.x + .5; T < e; T++) {
                  var Q = o * T + H * y + A
                    , B = S * T + v * y + s;
                  if (0 < Q && Q < i && 0 < B && B < C) {
                      var r = ~~B * i + ~~Q;
                      I[g] = h[r]
                  } else
                      I[g] = 0;
                  g++
              }
      else
          for (var y = k.y + .5; y < L; y++)
              for (var T = k.x + .5; T < e; T++) {
                  var J = 1 / (D * T + F * y + 1)
                    , Q = (o * T + H * y + A) * J
                    , B = (S * T + v * y + s) * J;
                  if (V) {
                      Q = Math.max(.001, Math.min(i - 1, Q));
                      B = Math.max(.001, Math.min(C - 1, B))
                  }
                  if (0 < Q && Q < i && 0 < B && B < C) {
                      var r = Math.floor(B) * i + Math.floor(Q);
                      I[g] = h[r]
                  } else
                      I[g] = 0;
                  g++
              }
  }
  ;
  _.J.aki = function(E, K, i, C, N, k, V, j, a) {
      var e = new Uint32Array(N.buffer)
        , L = new Uint32Array(K.buffer)
        , F = 0;
      if (a && (k.d & 3) != 0)
          throw "e";
      var g = E[0] * i
        , I = E[1] * i
        , h = E[2] * i
        , o = E[3] * C
        , H = E[4] * C
        , A = E[5] * C
        , S = E[6]
        , v = E[7]
        , s = k.d
        , D = k.v
        , y = k.x + .5
        , T = k.y + .5
        , Q = (s >>> 2 << 2) - 1e-9
        , B = -.1 + (D >>> 1 << 1) - 1e-9
        , r = ~~i
        , J = g == 0 ? 0 : 1 / g
        , m = o == 0 ? 0 : 1 / o;
      for (var x = 0; x < D; x++) {
          var R = y * g + I * (x + T) + h
            , b = y * o + H * (x + T) + A
            , z = 0
            , $ = s;
          if (g == 0) {} else if (J > 0) {
              z = Math.max(z, -R * J);
              $ = Math.min($, (i - R) * J)
          } else {
              $ = Math.min($, -R * J);
              z = Math.max(z, (i - R) * J)
          }
          if (o == 0) {} else if (m > 0) {
              z = Math.max(z, -b * m);
              $ = Math.min($, (C - b) * m)
          } else {
              $ = Math.min($, -b * m);
              z = Math.max(z, (C - b) * m)
          }
          if ($ < 0)
              $ = 0;
          if (z > $)
              z = $;
          z = Math.ceil(z);
          $ = ~~$;
          F = ~~(x * s);
          for (var P = 0; P < z; P++)
              e[F++] = 0;
          for (var P = z; P < $; P += 4) {
              var t = g * P + R
                , X = o * P + b
                , Z = ~~X * r + ~~t;
              e[F++] = e[F++] = e[F++] = e[F++] = L[Z]
          }
          for (var P = $; P < s; P++)
              e[F++] = 0
      }
  }
  ;
  _.J.KP = function(E) {
      var K = E[4] - E[5] * E[7]
        , i = E[2] * E[7] - E[1]
        , C = E[1] * E[5] - E[2] * E[4]
        , N = E[5] * E[6] - E[3]
        , k = E[0] - E[2] * E[6]
        , V = E[3] * E[2] - E[0] * E[5]
        , j = E[3] * E[7] - E[4] * E[6]
        , a = E[1] * E[6] - E[0] * E[7]
        , e = 1 / (E[0] * E[4] - E[1] * E[3]);
      return [K * e, i * e, C * e, N * e, k * e, V * e, j * e, a * e]
  }
  ;
  _.J.M8 = function(E, K) {
      var i = E[0]
        , C = E[1]
        , N = E[2]
        , k = E[3]
        , V = E[4]
        , j = E[5]
        , a = E[6]
        , e = E[7]
        , L = K[0]
        , g = K[1]
        , I = K[2]
        , h = K[3]
        , o = K[4]
        , H = K[5]
        , A = K[6]
        , S = K[7]
        , v = [i * L + C * h + N * A, i * g + C * o + N * S, i * I + C * H + N, k * L + V * h + j * A, k * g + V * o + j * S, k * I + V * H + j, a * L + e * h + A, a * g + e * o + S]
        , s = 1 / (a * I + e * H + 1);
      for (var G = 0; G < 8; G++)
          v[G] *= s;
      return v
  }
  ;
  _.J.iz = function(E, K, i, C, N, k, V, j) {
      var a = E
        , e = K
        , I = 0
        , h = 0
        , o = 0
        , H = 0;
      E -= .499999;
      K -= .499999;
      var L = Math.floor(E)
        , g = Math.floor(K);
      if (j == 0) {
          var G = g * C + L
            , A = L >= 0 && L < C
            , S = L + 1 >= 0 && L + 1 < C
            , v = g >= 0 && g < N
            , s = g + 1 >= 0 && g + 1 < N;
          if (A && v)
              I = i[G];
          if (S && v)
              h = i[G + 1];
          if (A && s)
              o = i[G + C];
          if (S && s)
              H = i[G + C + 1]
      } else if (j == 1) {
          var D = L < 0 ? 0 : L > C - 1 ? C - 1 : L
            , F = L < -1 ? 0 : L > C - 2 ? C - 1 : L + 1
            , y = g < 0 ? 0 : g > N - 1 ? N - 1 : g
            , T = g < -1 ? 0 : g > N - 2 ? N - 1 : g + 1;
          I = i[y * C + D];
          h = i[y * C + F];
          o = i[T * C + D];
          H = i[T * C + F]
      } else {
          var D = (L + 50 * C) % C
            , F = (L + 50 * C) % C
            , y = (g + 50 * N) % N
            , T = (g + 50 * N) % N;
          I = i[y * C + D];
          h = i[y * C + F];
          o = i[T * C + D];
          H = i[T * C + F]
      }
      var Q = E - L
        , B = K - g
        , r = (1 - B) * (1 - Q) * (I >>> 24)
        , J = (1 - B) * Q * (h >>> 24)
        , m = B * (1 - Q) * (o >>> 24)
        , x = B * Q * (H >>> 24)
        , R = r + J + m + x
        , b = r * (I & 255) + J * (h & 255) + m * (o & 255) + x * (H & 255)
        , z = r * (I >>> 8 & 255) + J * (h >>> 8 & 255) + m * (o >>> 8 & 255) + x * (H >>> 8 & 255)
        , $ = r * (I >>> 16 & 255) + J * (h >>> 16 & 255) + m * (o >>> 16 & 255) + x * (H >>> 16 & 255);
      if (R == 0)
          k[V] = 0;
      else {
          var P = 1 / R;
          b = ~~(b * P + .5);
          z = ~~(z * P + .5);
          $ = ~~($ * P + .5);
          R = ~~(R + .5);
          k[V] = R << 24 | $ << 16 | z << 8 | b
      }
  }
  ;
  _.J.Zs = function(E, K, i, C, N, k) {
      var V = E - .499999
        , j = K - .499999
        , a = ~~V
        , e = ~~j
        , L = V - a
        , g = j - e
        , I = (1 - g) * (1 - L)
        , h = (1 - g) * L
        , o = g * (1 - L)
        , H = g * L
        , A = e * C + a << 2
        , S = (e + 1) * C + a << 2
        , v = I * i[A] + h * i[A + 4] + o * i[S] + H * i[S + 4]
        , s = I * i[A + 1] + h * i[A + 5] + o * i[S + 1] + H * i[S + 5]
        , D = I * i[A + 2] + h * i[A + 6] + o * i[S + 2] + H * i[S + 6]
        , F = I * i[A + 3] + h * i[A + 7] + o * i[S + 3] + H * i[S + 7];
      k[0] = v;
      k[1] = s;
      k[2] = D;
      k[3] = F
  }
  ;
  _.J.a6 = function(E, K, i, C, N) {
      E -= .499999;
      K -= .499999;
      var k = Math.floor(E)
        , V = Math.floor(K)
        , j = E - k
        , a = K - V
        , e = (1 - a) * (1 - j)
        , L = (1 - a) * j
        , g = a * (1 - j)
        , I = a * j
        , h = (k + 50 * C) % C
        , o = (k + 1 + 50 * C) % C
        , H = (V + 50 * N) % N
        , A = (V + 1 + 50 * N) % N
        , S = i[H * C + h]
        , v = i[H * C + o]
        , s = i[A * C + h]
        , D = i[A * C + o];
      if (S == null || D == null)
          throw "e";
      return e * S + L * v + g * s + I * D
  }
  ;
  _.J.Sy = function(E, K, i, C, N, k, V, j, a, e, L, g) {
      var I = new Uint32Array(E.buffer)
        , h = new Uint32Array(C.buffer)
        , o = (1 + 2 * e) / N
        , H = []
        , A = [];
      for (var S = 0; S < N; S++) {
          var v = -.25 + e - S * o;
          H.push(Math.cos(2 * Math.PI * v) * g / L);
          H.push(Math.sin(2 * Math.PI * v) / L)
      }
      V *= K;
      j *= i;
      for (var s = 0; s < k; s++) {
          var D = Math.pow(s / k, a) * k;
          for (var S = 0; S < N; S++) {
              var F = V + H[S << 1] * D
                , y = j + H[(S << 1) + 1] * D
                , T = ~~(.5 + (F < 0 ? 0 : F > K - 1 ? K - 1 : F))
                , Q = ~~(.5 + (y < 0 ? 0 : y > i - 1 ? i - 1 : y));
              h[s * N + S] = I[Q * K + T]
          }
      }
  }
  ;
  _.J.c$ = function(E, K, i, C, N, k, V, j, a, e, L, g) {
      var I = new Uint32Array(E.buffer)
        , h = new Uint32Array(C.buffer)
        , o = 1 / g
        , H = []
        , A = i * 4
        , S = 1 / A;
      for (var v = 0; v < A; v++)
          H.push(Math.pow(v * S, 1 / a) * i * L);
      V *= N;
      j *= k;
      for (var v = 0; v < k; v++)
          for (var s = 0; s < N; s++) {
              var D = o * (s - V)
                , F = v - j
                , y = 1.75 - Math.atan2(F, D) * (1 / (2 * Math.PI));
              y = y - ~~y;
              y = (y + e) * (1 / (1 + 2 * e));
              var T = Math.sqrt(D * D + F * F);
              T = H[~~(T * 4)];
              _.J.iz(y * K + .5, T + .5, I, K, i, h, v * N + s, 1)
          }
  }
  ;
  _.J.v6 = function(E, K, i, C, N) {
      var k = N[0]
        , V = N[1];
      for (var j = 0; j < V; j++)
          for (var a = 0; a < k; a++) {
              var e = N[2] * a + N[3] * j + N[4]
                , L = N[5] * a + N[6] * j + N[7]
                , g = j * k + a << 2
                , I = L * K + e << 2;
              C[g] = E[I + 0];
              C[g + 1] = E[I + 1];
              C[g + 2] = E[I + 2];
              C[g + 3] = E[I + 3]
          }
  }
  ;
  _.V = {
      Fx: function(E, K) {
          var i = ~~(.499 + E * K);
          return i < 0 ? 0 : i > K ? K : i
      },
      abR: function(E, K, i, C, N, k, V, j) {
          var a = i[0]
            , e = i[1]
            , L = i[2]
            , g = i[3]
            , I = C.d
            , h = C.v
            , o = new Float64Array(I * 4 + 8)
            , H = new Float64Array(I * 4 + 8);
          for (var A = 0, G = 0; A < h; A++) {
              var S = o;
              o = H;
              H = S;
              H.fill(0);
              for (var v = 0; v < I; v++,
              G++) {
                  var s = v + N
                    , D = A + k
                    , F = a * s + e * D
                    , y = L * s + g * D
                    , T = 0
                    , r = 0;
                  if (j == 0)
                      T = F + .5;
                  else if (j == 1)
                      T = 2 * Math.sqrt(F * F + y * y);
                  else if (j == 2)
                      T = (Math.PI + Math.atan2(-y, -F)) / (2 * Math.PI);
                  else if (j == 3)
                      T = Math.abs(F * 2);
                  else if (j == 4)
                      T = 2 * (Math.abs(F) + Math.abs(y));
                  var Q = _.V.Fx(T, V) * 4
                    , B = v * 4;
                  for (var J = 0; J < 4; J++) {
                      var m = Math.max(0, Math.min(254.999, K[Q + J] + o[B + 4 + J]))
                        , x = Math.floor(m);
                      if (Math.random() < m - x)
                          x++;
                      var R = m - x;
                      o[B + 8 + J] = R * (7 / 16);
                      H[B + 0 + J] = R * (3 / 16);
                      H[B + 4 + J] = R * (5 / 16);
                      H[B + 8 + J] = R * (1 / 16);
                      r |= x << J * 8
                  }
                  E[G] = r
              }
          }
      },
      W: [function(E, K, i, C, N, k, V) {
          var j = i[0]
            , a = i[1]
            , e = i[2]
            , L = i[3]
            , g = C.d
            , I = C.v;
          for (var h = 0, G = 0; h < I; h++)
              for (var o = 0; o < g; o++,
              G++) {
                  var H = o + N
                    , A = h + k
                    , S = j * H + a * A
                    , v = e * H + L * A
                    , s = S + .5;
                  E[G] = K[_.V.Fx(s, V)]
              }
      }
      , function(E, K, i, C, N, k, V) {
          var j = i[0]
            , a = i[1]
            , e = i[2]
            , L = i[3]
            , g = C.d
            , I = C.v;
          for (var h = 0, G = 0; h < I; h++)
              for (var o = 0; o < g; o++,
              G++) {
                  var H = o + N
                    , A = h + k
                    , S = j * H + a * A
                    , v = e * H + L * A
                    , s = 2 * Math.sqrt(S * S + v * v);
                  E[G] = K[_.V.Fx(s, V)]
              }
      }
      , function(E, K, i, C, N, k, V) {
          var j = i[0]
            , a = i[1]
            , e = i[2]
            , L = i[3]
            , g = C.d
            , I = C.v;
          for (var h = 0, G = 0; h < I; h++)
              for (var o = 0; o < g; o++,
              G++) {
                  var H = o + N
                    , A = h + k
                    , S = j * H + a * A
                    , v = e * H + L * A
                    , s = (Math.PI + Math.atan2(-v, -S)) / (2 * Math.PI);
                  E[G] = K[_.V.Fx(s, V)]
              }
      }
      , function(E, K, i, C, N, k, V) {
          var j = i[0]
            , a = i[1]
            , e = i[2]
            , L = i[3]
            , g = C.d
            , I = C.v;
          for (var h = 0, G = 0; h < I; h++)
              for (var o = 0; o < g; o++,
              G++) {
                  var H = o + N
                    , A = h + k
                    , S = j * H + a * A
                    , v = e * H + L * A
                    , s = Math.abs(S * 2);
                  E[G] = K[_.V.Fx(s, V)]
              }
      }
      , function(E, K, i, C, N, k, V) {
          var j = i[0]
            , a = i[1]
            , e = i[2]
            , L = i[3]
            , g = C.d
            , I = C.v;
          for (var h = 0, G = 0; h < I; h++)
              for (var o = 0; o < g; o++,
              G++) {
                  var H = o + N
                    , A = h + k
                    , S = j * H + a * A
                    , v = e * H + L * A
                    , s = 2 * (Math.abs(S) + Math.abs(v));
                  E[G] = K[_.V.Fx(s, V)]
              }
      }
      ]
  };
  _.V.a2U = function(E, K) {
      return E + .5
  }
  ;
  _.V.a5M = function(E, K) {
      return 2 * Math.sqrt(E * E + K * K)
  }
  ;
  _.V.aes = function(E, K) {
      return (Math.PI + Math.atan2(-K, -E)) / (2 * Math.PI)
  }
  ;
  _.V.anO = function(E, K) {
      return Math.abs(E * 2)
  }
  ;
  _.V.a7h = function(E, K) {
      return 2 * (Math.abs(E) + Math.abs(K))
  }
  ;
  _.V.K3 = function(E, K, i, C, N, k, V, j, a, e, L, g) {
      if (E.Clrs == null)
          return;
      var I = new Uint32Array(K.buffer)
        , h = 1023
        , o = _.V.tA(E.Clrs.v, a, e);
      if (g) {
          var H = _.V.aoF(E, o, h + 1, V);
          _.V.abR(I, H, C, i, i.x - N, i.y - k, h, j);
          return
      }
      var A = _.V.Jo(E, o, h + 1, V);
      if (j < 5) {
          _.V.W[j](I, A, C, i, i.x - N, i.y - k, h)
      } else {
          var S = new Uint8Array(A.buffer)
            , v = i.d
            , s = i.v
            , D = L.JZ - L.RN
            , F = 1 / D
            , y = L.ku.d - i.d >> 1
            , T = L.ku.v - i.v >> 1
            , Q = L.ku.d
            , B = -.6 * F
            , r = (-.6 + .4) * F
            , J = (-.6 + 2 * .4) * F
            , m = (-.6 + 3 * .4) * F;
          for (var x = 0, G = 0; x < s; x++)
              for (var R = 0; R < v; R++,
              G += 4) {
                  var b = 0
                    , z = 0
                    , $ = 0
                    , P = 0
                    , t = (x + T) * Q + R + y
                    , X = (L.hk[t] - L.RN) * F
                    , Z = 0;
                  if (X <= 0 || X >= 1) {
                      Z = (X <= 0 ? 0 : h) << 2;
                      K[G] = S[Z];
                      K[G + 1] = S[Z + 1];
                      K[G + 2] = S[Z + 2];
                      K[G + 3] = S[Z + 3];
                      continue
                  }
                  Z = Math.max(0, Math.min(h - 1, Math.round((X + B) * h))) << 2;
                  z += S[Z];
                  $ += S[Z + 1];
                  P += S[Z + 2];
                  b += S[Z + 3];
                  Z = Math.max(0, Math.min(h - 1, Math.round((X + r) * h))) << 2;
                  z += S[Z];
                  $ += S[Z + 1];
                  P += S[Z + 2];
                  b += S[Z + 3];
                  Z = Math.max(0, Math.min(h - 1, Math.round((X + J) * h))) << 2;
                  z += S[Z];
                  $ += S[Z + 1];
                  P += S[Z + 2];
                  b += S[Z + 3];
                  Z = Math.max(0, Math.min(h - 1, Math.round((X + m) * h))) << 2;
                  z += S[Z];
                  $ += S[Z + 1];
                  P += S[Z + 2];
                  b += S[Z + 3];
                  K[G] = z >>> 2;
                  K[G + 1] = $ >>> 2;
                  K[G + 2] = P >>> 2;
                  K[G + 3] = b >>> 2
              }
      }
  }
  ;
  _.V.tA = function(E, K, i) {
      var C = [];
      for (var G = 0; G < E.length; G++) {
          var N;
          if (E[G].v.Type.v.Clry == "FrgC")
              N = {
                  h: K >> 16 & 255,
                  l: K >> 8 & 255,
                  O: K & 255
              };
          else if (E[G].v.Type.v.Clry == "BckC")
              N = {
                  h: i >> 16 & 255,
                  l: i >> 8 & 255,
                  O: i & 255
              };
          else
              N = _.V.Gk(E[G].v.Clr.v);
          C.push(N)
      }
      return C
  }
  ;
  _.V.Gk = function(E) {
      var K, i = E.classID;
      if (i == "RGBC") {
          if (E.Rd)
              K = {
                  h: E.Rd.v,
                  l: E.Grn.v,
                  O: E.Bl.v
              };
          else
              K = {
                  h: E.redFloat.v * 255,
                  l: E.greenFloat.v * 255,
                  O: E.blueFloat.v * 255
              }
      } else if (i == "HSBC") {
          K = _.Np(E.H.v.val / 360, E.Strt.v / 100, E.Brgh.v / 100);
          K.h *= 255;
          K.l *= 255;
          K.O *= 255
      } else if (i == "CMYC") {
          var C = 100 - E.Cyn.v
            , N = 100 - E.Mgnt.v
            , k = 100 - E.Ylw.v
            , V = 100 - E.Blck.v
            , j = 255 * C * V * 1e-4
            , a = 255 * (.2 * C + .8 * N) * V * 1e-4
            , e = 255 * (.2 * N + .8 * k) * V * 1e-4;
          K = {
              h: j,
              l: a,
              O: e
          }
      } else if (i == "Grsc")
          K = {
              h: 255 - E.Gry.v,
              l: 255 - E.Gry.v,
              O: 255 - E.Gry.v
          };
      else if (i == "LbCl") {
          K = _.Pb(E.Lmnc.v, E.A.v, E.B.v)
      } else
          console.log(E);
      if (isNaN(K.h))
          K.h = K.l = K.O = 0;
      return K
  }
  ;
  _.V.VQ = function(E) {
      return {
          classID: "RGBC",
          Rd: {
              t: "doub",
              v: E.h
          },
          Grn: {
              t: "doub",
              v: E.l
          },
          Bl: {
              t: "doub",
              v: E.O
          }
      }
  }
  ;
  _.V.aoF = function(E, K, i, C) {
      var N = []
        , k = 1 / (i - 0);
      for (var G = 0; G < i; G++) {
          var V = G * 4
            , j = _.V.l8(E, K, (C ? i - 1 - G : G) * k);
          N[V] = j[0];
          N[V + 1] = j[1];
          N[V + 2] = j[2];
          N[V + 3] = j[3]
      }
      return N
  }
  ;
  _.V.Jo = function(E, K, i, C) {
      var N = new Uint32Array(i)
        , k = 1 / (i - 0);
      for (var G = 0; G < i; G++)
          N[G] = _.V.$W(E, K, (C ? i - 1 - G : G) * k);
      return N
  }
  ;
  _.V.l8 = function(E, K, i) {
      var C = 4096
        , N = 1 / 4096
        , k = E.Intr.v * N
        , V = E.Clrs.v
        , j = E.Trns.v
        , a = V.length - 1
        , e = j.length - 1
        , G = -1
        , L = 0
        , g = 0
        , I = 0
        , h = 0;
      while (G < e && j[G + 1].v.Lctn.v <= i * C)
          G++;
      if (G == -1) {
          L = j[0].v.Opct.v.val * (255 / 100)
      } else if (G == e) {
          L = j[G].v.Opct.v.val * (255 / 100)
      } else {
          var o = _.V.OG(j, N, G, i, k);
          L = (o * j[G].v.Opct.v.val + (1 - o) * j[G + 1].v.Opct.v.val) * (255 / 100)
      }
      G = -1;
      while (G < a && V[G + 1].v.Lctn.v <= i * C)
          G++;
      if (G == -1) {
          var H = K[0];
          g = H.h;
          I = H.l;
          h = H.O
      } else if (G == a) {
          var H = K[G];
          g = H.h;
          I = H.l;
          h = H.O
      } else {
          var A = K[G]
            , S = K[G + 1]
            , v = _.V.OG(V, N, G, i, k);
          g = v * A.h + (1 - v) * S.h;
          I = v * A.l + (1 - v) * S.l;
          h = v * A.O + (1 - v) * S.O
      }
      return [g, I, h, L]
  }
  ;
  _.V.$W = function(E, K, i) {
      var C = _.V.l8(E, K, i)
        , N = ~~(.5 + C[0])
        , k = ~~(.5 + C[1])
        , V = ~~(.5 + C[2])
        , j = ~~(.5 + C[3]);
      return j << 24 | V << 16 | k << 8 | N
  }
  ;
  _.V.OG = function(E, K, G, i, C) {
      if (E.length == 2)
          C *= .5;
      var N = E[G].v.Lctn.v * K, k = E[G + 1].v.Lctn.v * K, V = N + E[G + 1].v.Mdpn.v * .01 * (k - N), j;
      if (i < V)
          j = .5 * (i - N) / (V - N);
      else
          j = .5 + .5 * (i - V) / (k - V);
      j = .5 + .5 * (C * Math.cos(Math.PI * j) + (1 - C) * (1 - 2 * j));
      return j
  }
  ;
  _.V.TO = function(E, K) {
      var i = Math.PI * E.Angl.v.val / 180
        , C = E.Scl.v.val / 100
        , N = E.Ofst.v
        , k = N.Hrzn.v.val / 100
        , V = N.Vrtc.v.val / 100
        , j = Math.cos(i)
        , a = -Math.sin(i)
        , e = .5 * K.v
        , L = e * (j / a)
        , g = Math.sqrt(e * e + L * L)
        , I = .5 * K.d
        , h = I * (a / j)
        , o = Math.sqrt(I * I + h * h)
        , H = Math.min(g, o) * C
        , A = K.x + K.d / 2 + k * K.d
        , S = K.y + K.v / 2 + V * K.v;
      return [new bT(A,S), new bT(A + j * H,S + a * H)]
  }
  ;
  _.V.g3 = function(E, K, i, C) {
      var N = K.x - E.x
        , k = -(K.y - E.y)
        , V = Math.sqrt(N * N + k * k)
        , j = Math.atan2(k, N)
        , a = Math.cos(j)
        , e = -Math.sin(j)
        , L = .5 * i.v
        , g = L * (a / e)
        , I = Math.sqrt(L * L + g * g)
        , h = .5 * i.d
        , o = h * (e / a)
        , H = Math.sqrt(h * h + o * o)
        , A = V / Math.min(I, H)
        , S = (E.x - i.x - i.d / 2) / i.d
        , v = (E.y - i.y - i.v / 2) / i.v;
      C.Angl.v.val = 180 * j / Math.PI;
      C.Scl.v.val = A * 100;
      var s = C.Ofst.v;
      s.Hrzn.v.val = S * 100;
      s.Vrtc.v.val = v * 100
  }
  ;
  _.V.xe = function(E, K) {
      for (var G = 0; G < E.length; G++) {
          var i = E[G]
            , C = Math.round(i[0] * 4096)
            , N = i[1]
            , k = i[2]
            , V = i[3];
          if (k == null)
              k = 1;
          if (V == null)
              V = .5;
          var j = _.V.VQ({
              h: N[0] * 255,
              l: N[1] * 255,
              O: N[2] * 255
          });
          K.Clrs.v[G] = {
              t: "Objc",
              v: {
                  classID: "Clrt",
                  Lctn: {
                      t: "long",
                      v: C
                  },
                  Mdpn: {
                      t: "long",
                      v: Math.round(V * 100)
                  },
                  Clr: {
                      t: "Objc",
                      v: j
                  },
                  Type: {
                      t: "enum",
                      v: {
                          Clry: "UsrS"
                      }
                  }
              }
          };
          K.Trns.v[G] = {
              t: "Objc",
              v: {
                  classID: "TrnS",
                  Lctn: {
                      t: "long",
                      v: C
                  },
                  Mdpn: {
                      t: "long",
                      v: Math.round(V * 100)
                  },
                  Opct: {
                      t: "UntF",
                      v: {
                          type: "#Prc",
                          val: Math.round(k * 100)
                      }
                  }
              }
          }
      }
  }
  ;
  _.Ga = {};
  _.Ga.a1M = function(E, K, i, C, N, k, V, j, a, e, L, g) {
      var I, h, o, H = Date.now(), A = !1, S = V, v = e, s, D, F, y, T = k * 255, Q = 255 - a * 255, B = 1 + N * 6, r = 1 + j * 6, J = 1 + g * 4, m = (J - 1) / 7, x = 0, R = 255 - 0, b, z, $, P, t, X, Z, p, gl, f, cY, fC, hi, es = 0, W = 1, d, fM, n, ax, d_, cm, c4, ch, hQ, em, ag = 1 + L, am, bK = _.I(i * C), ei = _.I(i * C), dL = _.I(i * C), fh = _.I(i * C), eu = 255 / T, hf = 255 / (255 - Q);
      for (h = 0; h < C; h++) {
          for (I = 0; I < i; I++) {
              var G = h * i + I
                , iS = G << 2;
              d = _.W6(E[iS], E[iS + 1], E[iS + 2]);
              fh[G] = d;
              if (d < T)
                  bK[G] = 255 - d * eu;
              if (d > Q)
                  ei[G] = 255 - (255 - d) * hf
          }
      }
      if (A)
          console.log("init", Date.now() - H);
      H = Date.now();
      if (N * S > 0) {
          dL.set(bK);
          _.Cu.t2(dL, bK, new h4(0,0,i,C), S)
      }
      if (j * v > 0) {
          dL.set(ei);
          _.Cu.t2(dL, ei, new h4(0,0,i,C), v)
      }
      if (A)
          console.log("blur", Date.now() - H);
      H = Date.now();
      var aI = _.I(256)
        , gn = _.I(256);
      for (var G = 0; G < 256; G++) {
          var ce = G * (1 / 255)
            , gr = 0;
          gr = (1 - Math.pow(1 - ce, B)) * 255;
          aI[G] = Math.max(0, Math.min(255, ~~(gr + .5)));
          gr = Math.pow(ce, r) * 255;
          gn[G] = Math.max(0, Math.min(255, ~~(gr + .5)))
      }
      var ek = new Uint8ClampedArray(K.buffer)
        , bJ = new Float32Array(32768);
      for (var G = 0; G < 32768; G++) {
          am = Math.sqrt(G) * (1 / 128);
          if (ag > 1)
              am = (1 - am) * (ag - 1) + 1;
          else
              am = am * (ag - 1) + 1;
          bJ[G] = am
      }
      for (h = 0; h < C; h++) {
          for (I = 0; I < i; I++) {
              var G = h * i + I
                , iS = G << 2
                , gr = fh[G]
                , aN = bK[G] * (1 / 255)
                , bG = ei[G] * (1 / 255);
              gr = (1 - aN) * gr + aN * aI[~~gr];
              gr = (1 - bG) * gr + bG * gn[~~gr];
              d = gr;
              var aQ = E[iS]
                , cu = E[iS + 1]
                , gX = E[iS + 2];
              fM = -aQ * .168736 - cu * .331264 + gX * .5;
              n = aQ * .5 - cu * .418688 - gX * .081312;
              am = bJ[~~(.5 + fM * fM + n * n)];
              ax = fM * am;
              cm = n * am;
              W = 1 - Math.min(2 - (aN + bG), 1);
              fM = W * fM + (1 - W) * ax;
              n = W * n + (1 - W) * cm;
              ch = d + 1.402 * n;
              hQ = d - .34414 * fM - .71414 * n;
              em = d + 1.772 * fM;
              ek[iS] = ~~(.5 + ch);
              ek[iS + 1] = ~~(.5 + hQ);
              ek[iS + 2] = ~~(.5 + em)
          }
      }
      if (A)
          console.log("apply masks", Date.now() - H);
      H = Date.now()
  }
  ;
  _.Il = {};
  _.Il.Wb = function(E, K, i, C, N) {
      var k = !1
        , o = 1
        , R = 0
        , b = 0
        , gl = 0
        , hQ = 0;
      if (!K.rp(N)) {
          var V = K.ip(N)
            , j = _.I(V.X() * 4);
          _.p8(E, K, j, V);
          E = j;
          K = V
      }
      var a = _.I(K.X());
      _.ie(i, N, a, K);
      _.round(a);
      N = N.lx(K);
      var e = N.d
        , L = N.v
        , g = e * 3 < L ? 2 : 1
        , I = L * 3 < e ? 2 : 1;
      if (N.X() * (g * 2 + 1) * (I * 2 + 1) < K.X()) {
          var V = new h4(N.x - e * g,N.y - L * g,e * (g * 2 + 1),L * (I * 2 + 1)).lx(K)
            , j = _.I(V.X() * 4);
          _.p8(E, K, j, V);
          var h = _.I(V.X());
          _.ie(a, K, h, V);
          K = V;
          E = j;
          a = h
      }
      while ((K.d + K.v) / 2 / o > 400)
          o++;
      var H = E
        , A = K
        , S = a
        , v = Math.floor(A.d / o)
        , s = Math.floor(A.v / o);
      E = _.I(v * s * 4);
      _.scale.OB(H, A.d, A.v, E, v, s, 1 / o);
      a = _.I(v * s);
      _.scale.v6(S, A.d, A.v, a, v, s, 1 / o);
      _.round(a, 1);
      var D = _.NM(a, new h4(0,0,v,s));
      if (D.OL())
          return 1;
      var F = Math.round((D.d + D.v) / 2 / 15)
        , y = Date.now()
        , T = _.I(v * s * 4);
      _.a2T(E, T);
      var Q = Int16Array
        , B = new Q(v * s * 24)
        , r = new Q(64)
        , J = new Q(64)
        , m = new Q(64)
        , x = new Q(64);
      for (var z = 3; z < s - 4; z++)
          for (var $ = 3; $ < v - 4; $++) {
              var P = z * v + $;
              if (a[P] == 255)
                  continue;
              if (_.Il.a63(T, a, $, z, v, s, r, J, m) != 0)
                  continue;
              _.Il.BN(r, x);
              B[R] = $;
              B[R + 1] = z;
              _.Il.uJ(r, B, R + 4, 12);
              R += 16;
              _.Il.BN(J, x);
              _.Il.uJ(J, B, R, 4);
              R += 4;
              _.Il.BN(m, x);
              _.Il.uJ(m, B, R, 4);
              R += 4;
              var t = B[R - 24 + 5]
                , X = B[R - 24 + 6];
              B[R - 24 + 5] = B[R - 24 + 20];
              B[R - 24 + 6] = B[R - 24 + 16];
              B[R - 24 + 16] = t;
              B[R - 24 + 20] = X;
              b++
          }
      if (b == 0)
          return 2;
      if (k)
          console.log(Date.now() - y, "FWHT computed");
      y = Date.now();
      var Z = [];
      _.Il.gI(0, b - 1, Z, B, new Q(2 * 24));
      if (k)
          console.log(Date.now() - y, "KD tree computed");
      y = Date.now();
      var p = new Float32Array(v * s * 4);
      for (var G = 0; G < b; G++) {
          var f = G
            , cY = _.Il.a7B(f, B, Z, F);
          if (cY == -1)
              continue;
          var fC = f * 24
            , hi = cY * 24
            , es = B[fC]
            , W = B[fC + 1]
            , d = B[hi]
            , fM = B[hi + 1];
          gl += _.Il.getError(hi, fC, B, 1e99);
          var n = d - es
            , ax = fM - W;
          p[(s + ax) * 2 * v + (v + n)] += 1
      }
      if (k)
          console.log(Date.now() - y, "NN found");
      y = Date.now();
      var d_ = []
        , cm = 1 / (2 * v);
      for (var G = 0; G < p.length; G++) {
          if (p[G] > 0) {
              var z = Math.floor(G * cm)
                , $ = G - z * 2 * v;
              d_.push({
                  x: $ - v,
                  y: z - s,
                  G: p[G],
                  er: -1
              })
          }
      }
      d_.sort(function(bG, aQ) {
          return aQ.G - bG.G
      });
      var c4 = new Int32Array(v * s)
        , ch = [];
      for (var G = 0; G < v * s; G++) {
          if (a[G] == 255) {
              c4[G] = hQ;
              ch.push(G % v, Math.floor(G / v));
              hQ++
          } else if (E[(G << 2) + 3] < 200) {
              c4[G] = -2
          } else {
              c4[G] = -1
          }
      }
      var em = _.Il.a5r(v, s, d_, c4, ch, hQ);
      if (em == null) {
          return 3
      }
      var ag = em.Fy
        , top = em.top;
      ag = _.Il.a4O(ag, E, v, s, top, c4, ch, hQ);
      if (k)
          console.log(Date.now() - y, "optimal labeling found");
      y = Date.now();
      var V = N.clone();
      V.Lv(1, 1);
      V = V.lx(A);
      var am = _.I(V.X() * 4)
        , bK = _.I(V.X());
      _.p8(H, A, am, V);
      var fh = A.d
        , eu = A.v;
      for (var z = 0; z < eu; z++)
          for (var $ = 0; $ < fh; $++) {
              if (S[z * fh + $] == 0)
                  continue;
              var hf = Math.min(Math.floor($ / o), v - 1)
                , iS = Math.min(Math.floor(z / o), s - 1)
                , aI = c4[iS * v + hf]
                , gn = ag[aI]
                , ce = top[gn]
                , gr = $ + ce.x * o
                , ek = z + ce.y * o
                , bJ = ek * fh + gr << 2
                , aN = (z - V.y + A.y) * V.d + ($ - V.x + A.x) << 2;
              am[aN] = H[bJ];
              am[aN + 1] = H[bJ + 1];
              am[aN + 2] = H[bJ + 2];
              am[aN + 3] = H[bJ + 3];
              am[aN + 3] = H[bJ + 3];
              bK[aN >> 2] = gn + 1
          }
      if (k)
          console.log(Date.now() - y, "copied back");
      y = Date.now();
      _.GF.Wb(am, bK, V, null, 1e3);
      if (k)
          console.log(Date.now() - y, "poisson smooth");
      y = Date.now();
      _.p8(am, V, C, N);
      return 0
  }
  ;
  _.Il.wh = function(E, K, i, C, N, k) {
      return _.Il.RO(E + N.x, K + N.y, i, C) && k[(K + N.y) * i + (E + N.x)] == -1 ? 0 : 1e9
  }
  ;
  _.Il.a4O = function(E, K, i, C, top, N, k, V) {
      var j = Date.now()
        , a = [-1, 0, 0, -1, 1, 0, 0, 1]
        , e = 1e99
        , L = []
        , g = []
        , I = 2 * (V * 2 * 3 + V * 2)
        , h = null
        , o = 0
        , H = 0
        , A = 0
        , S = 1e99;
      while (!0 && Date.now() < j + 12e3) {
          A++;
          var v = null
            , s = e;
          for (var D = 0; D < top.length; D++) {
              var F = top[D]
                , y = 0
                , T = V + 2
                , Q = 0;
              for (var G = 0; G < V; G++) {
                  var B = k[G * 2]
                    , r = k[G * 2 + 1]
                    , J = top[E[G]]
                    , m = _.Il.wh(B, r, i, C, F, N)
                    , x = E[G] == D ? 1e9 : _.Il.wh(B, r, i, C, J, N);
                  for (var l = 0; l < 4; l++) {
                      if (l == 0 && B == 0 || l == 1 && r == 0 || l == 2 && B == i - 1 || l == 3 && r == C - 1)
                          continue;
                      var R = a[2 * l]
                        , b = a[2 * l + 1]
                        , z = B + R
                        , $ = r + b
                        , P = N[$ * i + z];
                      if (P == -2) {} else if (P == -1) {
                          m += 3 * _.Il.l2(z + F.x, $ + F.y, z, $, i, C, K, N);
                          m += 2 * _.Il.l2(z + F.x + R, $ + F.y + b, z + R, $ + b, i, C, K, N);
                          x += 3 * _.Il.l2(z + J.x, $ + J.y, z, $, i, C, K, N);
                          x += 2 * _.Il.l2(z + J.x + R, $ + J.y + b, z + R, $ + b, i, C, K, N)
                      } else if (l > 1) {
                          if (E[G] == E[P]) {
                              var t = 0;
                              t += _.Il.l2(B + J.x, r + J.y, B + F.x, r + F.y, i, C, K, N);
                              t += _.Il.l2(z + J.x, $ + J.y, z + F.x, $ + F.y, i, C, K, N);
                              L[y] = G;
                              L[y + 1] = P;
                              g[y] = t;
                              g[y + 1] = t;
                              y += 2
                          } else {
                              var X = top[E[P]]
                                , Z = T
                                , p = 0
                                , gl = 0
                                , f = 0;
                              T++;
                              p += _.Il.l2(B + J.x, r + J.y, B + F.x, r + F.y, i, C, K, N);
                              p += _.Il.l2(z + J.x, $ + J.y, z + F.x, $ + F.y, i, C, K, N);
                              gl += _.Il.l2(B + X.x, r + X.y, B + F.x, r + F.y, i, C, K, N);
                              gl += _.Il.l2(z + X.x, $ + X.y, z + F.x, $ + F.y, i, C, K, N);
                              f += _.Il.l2(B + X.x, r + X.y, B + J.x, r + J.y, i, C, K, N);
                              f += _.Il.l2(z + X.x, $ + X.y, z + J.x, $ + J.y, i, C, K, N);
                              L[y] = G;
                              L[y + 1] = Z;
                              g[y] = p;
                              g[y + 1] = p;
                              y += 2;
                              L[y] = P;
                              L[y + 1] = Z;
                              g[y] = gl;
                              g[y + 1] = gl;
                              y += 2;
                              L[y] = Z;
                              L[y + 1] = V + 1;
                              g[y] = f;
                              g[y + 1] = 0;
                              y += 2
                          }
                      }
                  }
                  L[y] = V;
                  L[y + 1] = G;
                  g[y] = m;
                  g[y + 1] = 0;
                  y += 2;
                  L[y] = G;
                  L[y + 1] = V + 1;
                  g[y] = x;
                  g[y + 1] = 0;
                  y += 2;
                  Q += Math.min(m, x)
              }
              if (Q > s)
                  continue;
              var cY = _.Jr.qs(T, y, V, V + 1, L, g, s);
              if (cY.xV < s) {
                  s = cY.xV;
                  var fC = E.slice(0);
                  _.Il.a0B(fC, y, L, cY.Nq, D, V);
                  v = fC
              }
          }
          if (s * 1 >= e) {
              break
          }
          e = s;
          E = v;
          if ((A & 3) == 0) {
              if (s * 1.03 >= S)
                  break;
              S = s
          }
          if ((A & 3) == 0) {
              var hi = 0 * top.length;
              for (var G = 0; G < top.length && top.length > hi; G++) {
                  if (E.indexOf(G) != -1)
                      continue;
                  top.splice(G, 1);
                  for (var P = 0; P < E.length; P++)
                      if (E[P] > G)
                          E[P]--;
                  G--
              }
          }
      }
      return E
  }
  ;
  _.Il.a0B = function(E, K, i, C, N, k) {
      for (var G = 0; G < C.length; G++) {
          var V = C[G] << 1
            , j = 0
            , a = 0;
          if (V < K) {
              j = i[V];
              a = i[V + 1]
          } else {
              a = i[V];
              j = i[V + 1]
          }
          if (j == k && E[a] != N)
              E[a] = N
      }
  }
  ;
  _.Il.qe = function(top, E, K, i, C, N, k, V, j) {
      for (var G = 0; G < K.length; G++) {
          var a = K[G]
            , e = !0;
          if (V != null && !(_.Il.RO(V + a.x, j + a.y, N, k) && i[N * (j + a.y) + V + a.x] == -1))
              continue;
          if (a.er == -1)
              a.er = _.Il.af4(a, i, C, N, k);
          if (a.er <= 0)
              continue;
          for (var L = 0; L < top.length; L++) {
              var g = top[L]
                , I = a.x - g.x
                , h = a.y - g.y;
              if (I * I + h * h < E) {
                  e = !1;
                  break
              }
          }
          if (e)
              return a
      }
      return null
  }
  ;
  _.Il.af4 = function(E, K, i, C, N) {
      var k = 0;
      for (var G = 0; G < i.length; G += 2) {
          var V = i[G] + E.x
            , j = i[G + 1] + E.y;
          if (_.Il.RO(V, j, C, N) && K[C * j + V] == -1)
              k++
      }
      return k / (i.length >> 1)
  }
  ;
  _.Il.a5r = function(E, K, i, C, N, k) {
      var top = [];
      for (var G = 0; G < 60; G++) {
          var V = _.Il.qe(top, 25, i, C, N, E, K);
          if (V == null)
              break;
          else
              top.push(V)
      }
      if (top.length == 0)
          return null;
      var j = [];
      for (var G = 0; G < k; G++) {
          var a = N[G * 2]
            , e = N[G * 2 + 1]
            , L = -1
            , g = 0;
          while (!0) {
              g++;
              var I = Math.random();
              L = Math.floor(I * .99999 * top.length);
              var h = top[L]
                , o = a + h.x
                , H = e + h.y;
              if (_.Il.RO(o, H, E, K) && C[H * E + o] == -1)
                  break;
              if (g > 100) {
                  var V;
                  V = _.Il.qe(top, 0, i, C, N, E, K, a, e);
                  if (V == null)
                      return null;
                  top.push(V);
                  g = 0
              }
          }
          j.push(L)
      }
      return {
          top: top,
          Fy: j
      }
  }
  ;
  _.Il.l2 = function(E, K, i, C, N, k, V, j) {
      if (E == i && K == C)
          return 0;
      if (E < 0 || K < 0 || E >= N || K >= k || i < 0 || C < 0 || i >= N || C >= k || j[K * N + E] != -1 || j[C * N + i] != -1)
          return 1e7;
      var a = K * N + E << 2
        , e = C * N + i << 2
        , L = V[a] - V[e]
        , g = V[a + 1] - V[e + 1]
        , I = V[a + 2] - V[e + 2];
      return 1 + (L * L + g * g + I * I)
  }
  ;
  _.Il.RO = function(E, K, i, C) {
      return E >= 0 && E < i && K >= 0 && K < C
  }
  ;
  _.Il.a7B = function(E, K, i, C) {
      var N = 24 * E
        , k = K[N]
        , V = K[N + 1]
        , j = C * C
        , a = 0
        , I = 1e9;
      while (i[a] != 99)
          if (K[N + i[a]] < i[a + 1])
              a = i[a + 2];
          else
              a = i[a + 3];
      var e = i[a + 1]
        , L = i[a + 2]
        , g = -1;
      for (var G = e; G <= L; G++) {
          var a = G
            , h = a * 24
            , o = K[h]
            , H = K[h + 1];
          if ((o - k) * (o - k) + (H - V) * (H - V) < j)
              continue;
          var A = _.Il.getError(h, N, K, I);
          if (A < I) {
              I = A;
              g = a
          }
      }
      return g
  }
  ;
  _.Il.getError = function(E, K, i, C) {
      var N = 0;
      for (var k = 4; k < 24; k += 4) {
          var V = i[K + k] - i[E + k]
            , j = i[K + k + 1] - i[E + k + 1]
            , a = i[K + k + 2] - i[E + k + 2]
            , e = i[K + k + 3] - i[E + k + 3];
          N += V * V + j * j + a * a + e * e;
          if (N >= C)
              return N + 1
      }
      return N
  }
  ;
  _.Il.gI = function(E, K, i, C, N) {
      var k = 16
        , I = 0;
      if (K - E <= k) {
          i.push(99, E, K);
          return
      }
      _.Il.Rk(E, K, C, N);
      var V = -1
        , j = -1;
      for (var G = 4; G < 24; G++) {
          var a = N[2 * G + 1] - N[2 * G];
          if (a > j) {
              j = a;
              V = G
          }
      }
      var e = E + K >> 1
        , L = _.Il.agJ(e, E, K, C, V)
        , g = -1;
      for (var G = E; G <= K; G++)
          if (C[24 * G + V] == L) {
              if (g == -1)
                  g = G;
              I = G
          }
      if (E + 8 < g && g - E > K - I)
          e = g;
      else if (I + 1 < K - 8)
          e = I + 1;
      else if (K - E < 64) {
          i.push(99, E, K);
          return
      } else
          e = e;
      var h = i.length;
      i.push(V, L, 0, 0);
      i[h + 2] = h + 4;
      _.Il.gI(E, e - 1, i, C, N);
      i[h + 3] = i.length;
      _.Il.gI(e, K, i, C, N)
  }
  ;
  _.Il.Rk = function(E, K, i, C) {
      for (var G = 0; G < 48; G += 4) {
          C[G] = 3e4;
          C[G + 1] = -3e4;
          C[G + 2] = 3e4;
          C[G + 3] = -3e4
      }
      for (var G = E; G <= K; G++) {
          var N = G * 24;
          for (var k = 0; k < 24; k++) {
              var V = i[N + k]
                , j = C[k << 1]
                , a = C[(k << 1) + 1];
              if (V < j)
                  C[k << 1] = V;
              if (V > a)
                  C[(k << 1) + 1] = V
          }
      }
  }
  ;
  _.Il.L1 = function(E, K, i) {
      var C = 0
        , G = 0;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++;
      C = i[E + G];
      i[E + G] = i[K + G];
      i[K + G] = C;
      G++
  }
  ;
  _.Il.r8 = function(E, K, i, C) {
      var N = i + C >>> 1
        , k = E[24 * N + K];
      while (i <= C) {
          while (E[24 * i + K] < k)
              i++;
          while (E[24 * C + K] > k)
              C--;
          if (i <= C) {
              if (E[24 * i + K] != E[24 * C + K])
                  _.Il.L1(i * 24, C * 24, E);
              i++;
              C--
          }
      }
      return i
  }
  ;
  _.Il.agJ = function(E, K, i, C, N) {
      var k = 0;
      while (K != i) {
          k = _.Il.r8(C, N, K, i);
          if (E < k)
              i = k - 1;
          else
              K = k
      }
      return C[E * 24 + N]
  }
  ;
  _.Il.uJ = function(E, K, i, C) {
      for (var G = 0; G < C; G++)
          K[i + G] = E[G]
  }
  ;
  _.Il.a63 = function(E, K, i, C, N, k, V, j, a) {
      var e = (C - 3) * N + (i - 3)
        , L = e << 2;
      for (var g = 0; g < 8; g++) {
          if (K[e] + K[e + 1] + K[e + 2] + K[e + 3] + K[e + 4] + K[e + 5] + K[e + 6] + K[e + 7] != 0 || E[L + 3] < 200 || E[L + 7] < 200 || E[L + 11] < 200 || E[L + 15] < 200 || E[L + 19] < 200 || E[L + 23] < 200 || E[L + 27] < 200 || E[L + 31] < 200)
              return 1;
          var G = g << 3;
          V[G + 0] = E[L + 0];
          j[G + 0] = E[L + 1];
          a[G + 0] = E[L + 2];
          V[G + 1] = E[L + 4];
          j[G + 1] = E[L + 5];
          a[G + 1] = E[L + 6];
          V[G + 2] = E[L + 8];
          j[G + 2] = E[L + 9];
          a[G + 2] = E[L + 10];
          V[G + 3] = E[L + 12];
          j[G + 3] = E[L + 13];
          a[G + 3] = E[L + 14];
          V[G + 4] = E[L + 16];
          j[G + 4] = E[L + 17];
          a[G + 4] = E[L + 18];
          V[G + 5] = E[L + 20];
          j[G + 5] = E[L + 21];
          a[G + 5] = E[L + 22];
          V[G + 6] = E[L + 24];
          j[G + 6] = E[L + 25];
          a[G + 6] = E[L + 26];
          V[G + 7] = E[L + 28];
          j[G + 7] = E[L + 29];
          a[G + 7] = E[L + 30];
          L += N << 2;
          e += N
      }
      return 0
  }
  ;
  _.Il.BN = function(E, K) {
      K[0] = E[32] + E[0];
      K[1] = E[33] + E[1];
      K[2] = E[34] + E[2];
      K[3] = E[35] + E[3];
      K[4] = E[36] + E[4];
      K[5] = E[37] + E[5];
      K[6] = E[38] + E[6];
      K[7] = E[39] + E[7];
      K[8] = E[40] + E[8];
      K[9] = E[41] + E[9];
      K[10] = E[42] + E[10];
      K[11] = E[43] + E[11];
      K[12] = E[44] + E[12];
      K[13] = E[45] + E[13];
      K[14] = E[46] + E[14];
      K[15] = E[47] + E[15];
      K[16] = E[48] + E[16];
      K[17] = E[49] + E[17];
      K[18] = E[50] + E[18];
      K[19] = E[51] + E[19];
      K[20] = E[52] + E[20];
      K[21] = E[53] + E[21];
      K[22] = E[54] + E[22];
      K[23] = E[55] + E[23];
      K[24] = E[56] + E[24];
      K[25] = E[57] + E[25];
      K[26] = E[58] + E[26];
      K[27] = E[59] + E[27];
      K[28] = E[60] + E[28];
      K[29] = E[61] + E[29];
      K[30] = E[62] + E[30];
      K[31] = E[63] + E[31];
      K[32] = E[0] - E[32];
      K[33] = E[1] - E[33];
      K[34] = E[2] - E[34];
      K[35] = E[3] - E[35];
      K[36] = E[4] - E[36];
      K[37] = E[5] - E[37];
      K[38] = E[6] - E[38];
      K[39] = E[7] - E[39];
      K[40] = E[8] - E[40];
      K[41] = E[9] - E[41];
      K[42] = E[10] - E[42];
      K[43] = E[11] - E[43];
      K[44] = E[12] - E[44];
      K[45] = E[13] - E[45];
      K[46] = E[14] - E[46];
      K[47] = E[15] - E[47];
      K[48] = E[16] - E[48];
      K[49] = E[17] - E[49];
      K[50] = E[18] - E[50];
      K[51] = E[19] - E[51];
      K[52] = E[20] - E[52];
      K[53] = E[21] - E[53];
      K[54] = E[22] - E[54];
      K[55] = E[23] - E[55];
      K[56] = E[24] - E[56];
      K[57] = E[25] - E[57];
      K[58] = E[26] - E[58];
      K[59] = E[27] - E[59];
      K[60] = E[28] - E[60];
      K[61] = E[29] - E[61];
      K[62] = E[30] - E[62];
      K[63] = E[31] - E[63];
      E[0] = K[16] + K[0];
      E[1] = K[17] + K[1];
      E[2] = K[18] + K[2];
      E[3] = K[19] + K[3];
      E[4] = K[20] + K[4];
      E[5] = K[21] + K[5];
      E[6] = K[22] + K[6];
      E[7] = K[23] + K[7];
      E[8] = K[24] + K[8];
      E[9] = K[25] + K[9];
      E[10] = K[26] + K[10];
      E[11] = K[27] + K[11];
      E[12] = K[28] + K[12];
      E[13] = K[29] + K[13];
      E[14] = K[30] + K[14];
      E[15] = K[31] + K[15];
      E[16] = K[0] - K[16];
      E[17] = K[1] - K[17];
      E[18] = K[2] - K[18];
      E[19] = K[3] - K[19];
      E[20] = K[4] - K[20];
      E[21] = K[5] - K[21];
      E[22] = K[6] - K[22];
      E[23] = K[7] - K[23];
      E[24] = K[8] - K[24];
      E[25] = K[9] - K[25];
      E[26] = K[10] - K[26];
      E[27] = K[11] - K[27];
      E[28] = K[12] - K[28];
      E[29] = K[13] - K[29];
      E[30] = K[14] - K[30];
      E[31] = K[15] - K[31];
      K[0] = E[8] + E[0];
      K[1] = E[9] + E[1];
      K[2] = E[10] + E[2];
      K[3] = E[11] + E[3];
      K[4] = E[12] + E[4];
      K[5] = E[13] + E[5];
      K[6] = E[14] + E[6];
      K[7] = E[15] + E[7];
      K[8] = E[0] - E[8];
      K[9] = E[1] - E[9];
      K[10] = E[2] - E[10];
      K[11] = E[3] - E[11];
      K[12] = E[4] - E[12];
      K[13] = E[5] - E[13];
      K[14] = E[6] - E[14];
      K[15] = E[7] - E[15];
      E[0] = K[4] + K[0];
      E[1] = K[5] + K[1];
      E[2] = K[6] + K[2];
      E[3] = K[7] + K[3];
      E[4] = K[0] - K[4];
      E[5] = K[1] - K[5];
      E[6] = K[2] - K[6];
      E[7] = K[3] - K[7];
      E[8] = K[12] + K[8];
      E[9] = K[13] + K[9];
      E[10] = K[14] + K[10];
      E[11] = K[15] + K[11];
      E[12] = K[8] - K[12];
      E[13] = K[9] - K[13];
      E[14] = K[10] - K[14];
      E[15] = K[11] - K[15];
      K[0] = E[2] + E[0];
      K[1] = E[3] + E[1];
      K[2] = E[0] - E[2];
      K[3] = E[1] - E[3];
      K[4] = E[6] + E[4];
      K[5] = E[7] + E[5];
      K[6] = E[4] - E[6];
      K[7] = E[5] - E[7];
      K[8] = E[10] + E[8];
      K[9] = E[11] + E[9];
      K[10] = E[8] - E[10];
      K[11] = E[9] - E[11];
      K[12] = E[14] + E[12];
      K[13] = E[15] + E[13];
      K[14] = E[12] - E[14];
      K[15] = E[13] - E[15];
      E[0] = K[1] + K[0];
      E[1] = K[0] - K[1];
      E[2] = K[3] + K[2];
      E[3] = K[2] - K[3];
      E[4] = K[5] + K[4];
      E[5] = K[4] - K[5];
      E[6] = K[7] + K[6];
      E[7] = K[6] - K[7];
      E[8] = K[9] + K[8];
      E[9] = K[8] - K[9];
      E[10] = K[11] + K[10];
      E[11] = K[10] - K[11];
      E[12] = K[13] + K[12];
      E[13] = K[12] - K[13];
      E[14] = K[15] + K[14];
      E[15] = K[14] - K[15]
  }
  ;
  _.Il.abd = function() {
      var E = "", l = 64, K = "v", i = "t", C = "a", N = 5, G, k, V;
      for (G = l >> 1; G > 0; G >>= 1,
      N--) {
          for (k = 0; k < l; k++) {
              V = (k >> N & 1) != 0;
              if (V) {
                  E += i + "[" + k + "] = " + K + "[" + (-G + k) + "] - " + K + "[" + k + "];  "
              } else {
                  E += i + "[" + k + "] = " + K + "[" + (G + k) + "] + " + K + "[" + k + "];  "
              }
          }
          C = K;
          K = i;
          i = C;
          E += "\n"
      }
      console.log(E)
  }
  ;
  _.Il.anx = function(l, E, K) {
      var i = E, C = K, N = i, k = 0, G, j, a;
      while (l >> k != 2)
          k++;
      var V = k;
      for (G = l >> 1; G > 0; G >>= 1,
      k--) {
          for (j = 0; j < l; j++) {
              a = (j >> k & 1) != 0;
              if (a)
                  C[j] = i[-G + j] - i[j];
              else
                  C[j] = i[G + j] + i[j]
          }
          N = i;
          i = C;
          C = N
      }
      if ((V & 1) == 1)
          for (G = 0; G < l; G++)
              K[G] = i[G]
  }
  ;
  _.eU = {};
  _.eU.Xa = function(E, K, i, C, N, k, V, j, a) {
      var e = Date.now()
        , L = new Uint32Array(E.buffer)
        , g = new Uint32Array(K.buffer)
        , I = V / i
        , h = j / C
        , o = 1 / I
        , H = 1 / h
        , A = new Float64Array(2)
        , S = 3
        , v = 1 / S
        , s = 1 / (S * S)
        , D = 0
        , F = 0
        , y = i
        , T = C;
      if (N) {
          D = N.x;
          F = N.y;
          y = N.d;
          T = N.v
      }
      for (var Q = 0; Q < T; Q++)
          for (var B = 0; B < y; B++) {
              var r = D + B
                , J = F + Q
                , G = J * i + r
                , m = G << 1
                , x = G << 2;
              _.eU.ahi(k, V, j, (r + .5) * I, (J + .5) * h, A);
              var R = A[0] * o
                , b = A[1] * H;
              if (R == 0 && b == 0)
                  g[G] = L[G];
              else {
                  _.J.iz(r + R + .5, J + b + .5, L, i, C, g, G, a)
              }
          }
  }
  ;
  _.eU.ahi = function(E, K, i, C, N, k) {
      C -= .499999;
      N -= .499999;
      var V = ~~C
        , j = ~~N
        , a = C - V
        , e = N - j
        , L = (1 - e) * (1 - a)
        , g = (1 - e) * a
        , I = e * (1 - a)
        , h = e * a
        , o = V < K - 1 ? V + 1 : V
        , H = j < i - 1 ? j + 1 : j
        , A = j * K + V << 1
        , S = j * K + o << 1
        , v = H * K + V << 1
        , s = H * K + o << 1;
      k[0] = L * E[A] + g * E[S] + I * E[v] + h * E[s];
      k[1] = L * E[A + 1] + g * E[S + 1] + I * E[v + 1] + h * E[s + 1]
  }
  ;
  _.eU.alX = function(E, K, i, C, N) {
      var k = 1 / E
        , V = [-1, 1, -E, E]
        , j = C.length;
      for (var a = 0; a < j; a++) {
          var G = C[a]
            , e = G << 1
            , L = a << 1
            , g = ~~(G * k)
            , I = G - E * g
            , h = i[e]
            , o = i[e + 1]
            , H = 0
            , A = 0;
          if (I != 0 && I != E - 1) {
              var S = G - 1 << 1
                , v = G + 1 << 1
                , s = i[S]
                , D = i[v]
                , F = i[S + 1]
                , y = i[v + 1]
                , T = h - (s + D) * .5
                , Q = o - (F + y) * .5;
              H -= T * N;
              A -= Q * N
          }
          if (g != 0 && g != K - 1) {
              var S = G - E << 1
                , v = G + E << 1
                , s = i[S]
                , D = i[v]
                , F = i[S + 1]
                , y = i[v + 1]
                , T = h - (s + D) * .5
                , Q = o - (F + y) * .5;
              H -= T * N;
              A -= Q * N
          }
          i[e] = h + H;
          i[e + 1] = o + A
      }
  }
  ;
  _.eU.acm = function(E, K) {
      var i = E + "," + K;
      if (_.eU.Pt == i)
          return _.eU.kS;
      var C = _.eU.kS = [];
      _.eU.Pt = i;
      for (var G = 0; G <= 1e3; G++) {
          var N = G * .001
            , k = Math.sqrt(N)
            , V = Math.exp(-4 * k)
            , j = .96 * (1 - k * k)
            , a = K * ((1 - E) * V + E * j);
          C[G] = a
      }
      return C
  }
  ;
  _.eU.Pt = "";
  _.eU.kS = [];
  _.eU.akt = function(E, K, i, C, N, k, V, j, a, e, L, g, I) {
      var h = Math.max(0, Math.floor(N - V - 1))
        , o = Math.min(K, Math.ceil(N + V + 1))
        , H = Math.max(0, Math.floor(k - V - 1))
        , A = Math.min(i, Math.ceil(k + V + 1))
        , S = 2 * K
        , v = V * V
        , s = 1 / V
        , D = 0;
      if (I && (C == 3 || C == 6))
          a = -a;
      var F = _.eU.acm(j, a);
      for (var y = H; y < A; y++)
          for (var T = h; T < o; T++) {
              var G = y * K + T
                , Q = G << 1
                , B = (N - T) * s
                , r = (k - y) * s
                , J = B * B + r * r;
              if (J < 1) {
                  g[D] = G;
                  var m = F[~~(J * 1e3)];
                  if (C == 1) {
                      E[Q] = E[Q] * (1 - m * .05);
                      E[Q + 1] = E[Q + 1] * (1 - m * .05)
                  } else {
                      var x = 0, R = 0, $, P, t, X;
                      if (C == 0) {
                          x = e * m;
                          R = L * m
                      } else if (C == 2) {} else if (C == 3) {
                          x = m * r;
                          R = -m * B
                      } else if (C == 4) {
                          x = m * B;
                          R = m * r
                      } else if (C == 5) {
                          x = -m * B;
                          R = -m * r
                      } else if (C == 6) {
                          x = L * m;
                          R = -e * m
                      }
                      var b = E[Q]
                        , z = E[Q + 1];
                      if (T == 0 || T != K - 1 && x < 0) {
                          $ = 1 + E[Q + 2] - b;
                          t = E[Q + 3] - z
                      } else {
                          $ = b - E[Q - 2] + 1;
                          t = z - E[Q - 1]
                      }
                      if (y == 0 || y != i - 1 && R < 0) {
                          P = E[Q + S] - b;
                          X = 1 + E[Q + S + 1] - z
                      } else {
                          P = b - E[Q - S];
                          X = z - E[Q - S + 1] + 1
                      }
                      E[Q] = -($ * x + P * R - b);
                      E[Q + 1] = -(t * x + X * R - z)
                  }
                  D++
              }
          }
  }
  ;
  _.eU.aif = function(E) {
      var K = E[0]
        , i = E[0]
        , C = E[1]
        , N = E[1];
      for (var G = 0; G < E.length; G += 2) {
          var k = E[G]
            , V = E[G + 1];
          if (k < K)
              K = k;
          else if (k > i)
              i = k;
          if (V < C)
              C = V;
          else if (V > N)
              N = V
      }
      return [K, C, i, N]
  }
  ;
  _.ade = function(E, K, i, C, N) {
      function k(d, fM, n, ax) {
          return Math.sqrt((d - n) * (d - n) + (fM - ax) * (fM - ax))
      }
      function V(d, fM) {
          return d >= 0 && d < K && fM >= 0 && fM < i
      }
      function j(d) {
          if (d < 0)
              return 0;
          if (d >= K)
              return K - 1;
          return d
      }
      function a(d) {
          if (d < 0)
              return 0;
          if (d >= i)
              return i - 1;
          return d
      }
      function e(G, d) {
          var fM = d[3] * (1 / 255)
            , n = C[G] + d[0] * fM;
          if (n > 255)
              n = 255;
          C[G] = n;
          n = C[G + 1] + d[1] * fM;
          if (n > 255)
              n = 255;
          C[G + 1] = n;
          n = C[G + 2] + d[2] * fM;
          if (n > 255)
              n = 255;
          C[G + 2] = n
      }
      function L(d, fM, n) {
          if (!Z(d, fM))
              return;
          if (n[3] < 0)
              n[3] = 0;
          e((fM * K + d) * 4, n)
      }
      function g(d) {
          var fM = d.slice(0, 3);
          fM[3] = 0;
          return fM
      }
      var I = K / 800;
      function h(d) {
          return Math.round(d * I)
      }
      function o() {
          for (var G = 0; G <= 300; G++) {
              gl[G] = H(G)
          }
      }
      function H(i) {
          var d = .8, fM = .2, n = d * fM, ax = i / 60 % 2 - 1, d_ = n * (1 - ax * ax), cm = fM - n, c4;
          if (i < 60) {
              c4 = [n + cm, d_, 0]
          } else if (i < 120) {
              c4 = [d_, n, 0]
          } else if (i < 180) {
              c4 = [0, n, d_]
          } else if (i < 240) {
              c4 = [0, d_, n]
          } else if (i < 300) {
              c4 = [d_, 0, n]
          } else {
              c4 = [n, 0, d_]
          }
          return [(c4[0] + cm) * 255, (c4[1] + cm) * 255, (c4[2] + cm) * 255]
      }
      function A(i) {
          return gl[~~i]
      }
      function S(d) {
          return 1 - v(d)
      }
      function v(d) {
          return d - ~~d
      }
      function s(d, fM, n, ax) {
          t(d, fM, n, 0, fM + 1, 1, ax)
      }
      function D(d, fM, n, ax, d_, cm) {
          t(d, fM, n, 0, ax, 1, d_, cm)
      }
      function F(d) {
          for (var G = 0; G < C.length; G += 4) {
              e(G, d)
          }
      }
      function y(d, fM, n, ax, d_, cm, c4, ch) {
          T(d, fM, n, ax, d_, 1, cm, c4, ch)
      }
      function T(d, fM, n, ax, d_, cm, c4, ch, hQ) {
          if (cm == null)
              cm = .5;
          if (c4 == null)
              c4 = 0;
          if (ch == null)
              ch = 0;
          if (hQ == null)
              hQ = !1;
          var em = d.x
            , ag = d.y
            , am = n.slice(0)
            , bK = ~~(n[3] * cY);
          ax = ax * cY;
          if (!hQ) {
              fM = X(fM);
              d_ = X(d_);
              c4 = X(c4);
              ch = X(ch)
          }
          var ei = j(em - fM)
            , dL = j(em + fM);
          for (var fh = ei; fh <= dL; fh++) {
              var eu = fh - em
                , hf = Math.floor(Math.sqrt(fM * fM - eu * eu))
                , iS = a(ag - hf)
                , aI = a(ag);
              for (var gn = iS; gn <= aI; gn++) {
                  var ce = k(fh, gn, em, ag);
                  if (ce > fM || ce <= fM - d_)
                      break;
                  var gr = (ce - fM + d_) / d_;
                  am[3] = bK - ax * (cm == 1 ? gr : Math.pow(gr, cm));
                  e((gn * K + fh) * 4, am)
              }
              iS = a(ag + hf);
              for (var gn = iS; gn > aI; gn--) {
                  var ce = k(fh, gn, em, ag);
                  if (ce > fM || ce <= fM - d_)
                      break;
                  var gr = (ce - fM + d_) / d_;
                  am[3] = bK - ax * (cm == 1 ? gr : Math.pow(gr, cm));
                  e((gn * K + fh) * 4, am)
              }
          }
          if (c4 > 0) {
              t(d, fM + c4, am, am[3], c4, 1, 0, 0, !0)
          }
          if (ch > 0) {
              t(d, fM - d_, p(n), -n[3], ch, 1, 0, 0, !0)
          }
      }
      function Q(d, fM, n, ax, d_, cm) {
          t(d, fM, n, n[3], fM + 1, 1, ax, d_, cm)
      }
      function B(d, fM, n, ax, d_) {
          if (d_ == null)
              d_ = !1;
          var cm = d.x
            , c4 = d.y;
          ax *= cY;
          if (!d_) {
              fM = X(fM);
              n = X(n)
          }
          var ch = j(cm - fM)
            , hQ = j(cm + fM);
          for (var em = ch; em < hQ; em++) {
              var ag = em - cm
                , am = ~~Math.sqrt(fM * fM - ag * ag)
                , bK = a(c4 - am)
                , ei = a(c4);
              for (var dL = bK; dL <= ei; dL++) {
                  var fh = k(em, dL, cm, c4);
                  if (fh > fM || fh <= fM - n)
                      break;
                  var eu = (fM - fh) / n
                    , hf = A(300 * eu);
                  hf[3] = ax;
                  e((dL * K + em) * 4, hf)
              }
              bK = a(c4 + am);
              for (var dL = bK; dL > ei; dL--) {
                  var fh = k(em, dL, cm, c4);
                  if (fh > fM || fh <= fM - n)
                      break;
                  var eu = (fM - fh) / n
                    , hf = A(300 * eu);
                  hf[3] = ax;
                  e((dL * K + em) * 4, hf)
              }
          }
      }
      function r(f, d) {
          var fM = f.cA
            , n = f.he
            , ax = d.slice(0)
            , d_ = d[3] * cY
            , cm = Math.abs(n.y - fM.y) > Math.abs(n.x - fM.x);
          if (cm) {
              var c4 = fM.x;
              fM.x = fM.y;
              fM.y = c4;
              c4 = n.x;
              n.x = n.y;
              n.y = c4
          }
          if (fM.x > n.x) {
              var c4 = fM;
              fM = n;
              n = c4
          }
          var ch = n.x - fM.x
            , hQ = n.y - fM.y
            , em = ch == 0 ? 1 : hQ / ch
            , ag = Math.round(fM.x)
            , am = fM.y + em * (ag - fM.x)
            , bK = S(fM.x + .5)
            , ei = ag
            , dL = ~~am;
          if (cm) {
              ax[3] = d_ * S(am) * bK;
              L(dL, ei, ax);
              ax[3] = d_ * v(am) * bK;
              L(dL + 1, ei, ax)
          } else {
              ax[3] = d_ * S(am) * bK;
              L(ei, dL, ax);
              ax[3] = d_ * v(am) * bK;
              L(ei, dL + 1, ax)
          }
          var fh = am - em;
          ag = Math.round(n.x);
          am = n.y + em * (ag - n.x);
          bK = v(n.x + .5);
          var eu = ag
            , hf = ~~am;
          if (cm) {
              ax[3] = d_ * S(am) * bK;
              L(hf, eu, ax);
              ax[3] = d_ * v(am) * bK;
              L(hf + 1, eu, ax)
          } else {
              ax[3] = d_ * S(am) * bK;
              L(eu, hf, ax);
              ax[3] = d_ * v(am) * bK;
              L(eu, hf + 1, ax)
          }
          if (cm) {
              for (var iS = ei + 1; iS <= eu - 1; iS++) {
                  ax[3] = d_ * S(fh);
                  L(~~fh, iS, ax);
                  ax[3] = d_ * v(fh);
                  L(~~fh + 1, iS, ax);
                  fh += em
              }
          } else {
              for (var iS = ei + 1; iS <= eu - 1; iS++) {
                  ax[3] = d_ * S(fh);
                  L(iS, ~~fh, ax);
                  ax[3] = d_ * v(fh);
                  L(iS, ~~fh + 1, ax);
                  fh += em
              }
          }
      }
      function J(d, fM, n, ax) {
          for (var G = 0; G < 4; G++) {
              var d_ = d.Rm(fM + 1.3 * G, n);
              r(d_, ax, 1)
          }
      }
      function bT(d, fM) {
          this.x = Math.round(d);
          this.y = Math.round(fM)
      }
      var m = Math.PI / 180;
      bT.prototype.Rm = function(d, fM) {
          d = d * m;
          var n = this.x + fM * Math.cos(d)
            , ax = this.y + fM * Math.sin(d);
          return new x(this.x,this.y,n,ax)
      }
      ;
      bT.prototype.am4 = function(d, fM) {
          d = d * m;
          var n = this.ab + fM * Math.cos(d)
            , ax = this.ajl + fM * Math.sin(d);
          return new bT(n,ax)
      }
      ;
      function x(d, fM, n, ax) {
          this.cA = new bT(d,fM);
          this.he = new bT(n,ax)
      }
      x.prototype.AU = function(d) {
          var fM = d * this.cA.x + (1 - d) * this.he.x
            , n = d * this.cA.y + (1 - d) * this.he.y;
          return new bT(fM,n)
      }
      ;
      var R = y
        , b = Q
        , z = s
        , $ = D
        , P = B
        , t = T
        , X = h
        , Z = V
        , p = g
        , gl = [];
      o();
      for (var G = 0; G < E.length; G++) {
          C[G] = E[G]
      }
      var f = new x(K * N[2],i * N[3],K / 2,i / 2)
        , cY = N[1]
        , fC = [];
      fC[0] = function hi() {
          var d = [80, 40, 15, 60]
            , n = 0
            , ax = 0;
          z(f.AU(1.4), 260, d, 10);
          z(f.AU(1), 100, [240, 50, 50, 30], 30);
          b(f.AU(1), 60, [255, 40, 0, 40]);
          var fM = [255, 255, 255, 255];
          t(f.AU(1), 70, fM, fM[3], 58, .5);
          z(f.AU(1), 12, fM);
          fM[3] = 40;
          R(f.AU(1), 150, fM, fM[3], 150);
          for (var G = 0; G < 40; G++) {
              n += Math.random() * 25;
              ax = Math.random() * X(300) + X(100);
              var d_ = f.AU(1).Rm(n, ax);
              r(f.AU(1).Rm(n, ax), [110, 110, 110, 30])
          }
          b(f.AU(1), 130, [255, 255, 255, 8]);
          var cm = [170, 30, 23, 70];
          $(f.AU(1), 70, cm, 1, 3, 3);
          var c4 = [60, 60, 130, 40];
          z(f.AU(.47), 44, c4, 5);
          z(f.AU(.43), 22, c4, 3);
          c4[3] = 16;
          z(f.AU(.53), 15, c4, 2);
          var ch = [138, 94, 42, 100];
          z(f.AU(.2), 16, ch, 2);
          var hQ = [130, 255, 170, 180];
          b(f.AU(0), 4, hQ);
          b(f.AU(-.25), 5, hQ);
          ch = [150, 90, 0, 50];
          R(f.AU(-.45), 55, p(ch), -ch[3], 40, 2);
          z(f.AU(-.42), 35, ch, 2);
          z(f.AU(-.5), 15, ch, 2);
          P(f.AU(-1.28), 145, 11, 70);
          var em = A(0);
          em[3] = 50;
          R(f.AU(-1.28), 149, em, em[3], 4);
          em = A(300);
          em[3] = 50;
          R(f.AU(-1.28), 155 - 1, p(em), -em[3], 3);
          var ag = [130, 130, 10, 50];
          $(f.AU(-1), 73, ag, 3, 2);
          var am = [40, 130, 70, 40];
          R(f.AU(-1), 70, p(am), -am[3], 35);
          am = [40, 170, 60, 50];
          z(f.AU(-.7), 25, am, 4);
          var am = [70, 110, 50, 60];
          R(f.AU(1.3), 30, p(am), -am[3], 11, 3);
          c4 = [0, 50, 210, 80];
          b(f.AU(-.72), 20, c4)
      }
      ;
      fC[1] = function es() {
          b(f.AU(1), 150, [240, 70, 70, 60]);
          z(f.AU(1), 100, [200, 60, 60, 40], 30);
          var d = [255, 255, 255, 255]
            , fM = 0
            , n = 0;
          t(f.AU(1), 75, d, d[3], 63);
          z(f.AU(1), 12, d);
          b(f.AU(1), 270, [200, 200, 200, 20], 10);
          for (var G = 0; G < 10; G++) {
              fM += 10 + Math.random() * 40;
              n = Math.random() * X(250) + X(80);
              var ax = f.AU(1).Rm(fM, n);
              r(ax, [110, 110, 110, 35])
          }
          fM = 5;
          n = 100;
          for (var G = 0; G < 12; G++) {
              fM += 30;
              J(f.AU(1), fM, n, [90, 90, 90, 40])
          }
          var d_ = [150, 40, 23, 100];
          $(f.AU(1), 70, d_, 1, 3, 3);
          var cm = [30, 100, 60, 40];
          b(f.AU(-.9), 180, [255, 255, 255, 20]);
          z(f.AU(-.9), 140, cm, 15);
          var c4 = [170, 80, 25, 15];
          $(f.AU(-.9), 120, c4, 1, 4, 4);
          var ch = [110, 240, 190, 200];
          b(f.AU(-.6), 3, ch);
          ch[3] = 100;
          b(f.AU(-.6), 7, ch);
          var hQ = [230, 120, 40, 85];
          b(f.AU(-.73), 9, hQ);
          var em = [60, 60, 190, 50];
          z(f.AU(.3), 28, em, 6);
          em[3] = 25;
          z(f.AU(.34), 20, em, 3)
      }
      ;
      fC[2] = function W() {
          var d = [255, 255, 255, 255]
            , n = 0
            , ax = 0;
          z(f.AU(1), 13, d);
          t(f.AU(1), 150, d, d[3], 137);
          var fM = [120, 80, 35, 20];
          z(f.AU(1.4), 260, fM, 10);
          for (var G = 0; G < 40; G++) {
              n += 5 + Math.random() * 30;
              ax = Math.random() * X(300);
              r(f.AU(1).Rm(n, ax), [110, 110, 110, 20])
          }
          var d_ = [10, 30, 255, 30];
          z(f.AU(1), 70, d_, 50);
          var cm = [15, 90, 170, 15];
          z(f.AU(1.5), 60, cm);
          var c4 = [220, 220, 20, 50];
          z(f.AU(-1.15), 8, c4, 2);
          var d = [255, 255, 255, 40];
          b(f.AU(-1.18), 6, d);
          b(f.AU(-1.18), 4, d);
          c4 = [110, 110, 10, 8];
          R(f.AU(-1.2), 32, p(c4), -c4[3], 20, 3);
          var ch = [5, 0, 16, 255];
          for (var G = 0; G < 4; G++) {
              z(f.AU(-1.36), 10, ch, 3)
          }
          var hQ = [90, 200, 150, 20]
            , em = hQ.slice(0);
          em[3] *= 2;
          z(f.AU(-1.32), 7, em, 3);
          z(f.AU(-1.36), 7, em, 3);
          z(f.AU(-1.4), 7, em, 3);
          var d = [230, 230, 230, 100];
          b(f.AU(-1.36), 2, d);
          d[3] = 3;
          z(f.AU(-.55), 10, d);
          c4 = [120, 100, 10, 18];
          z(f.AU(-.55), 160, c4, 8);
          z(f.AU(-.55), 80, c4, 4);
          hQ[3] = 3;
          em[3] = 6;
          R(f.AU(-.49), 13, p(em), -em[3], 13, 2);
          R(f.AU(-.55), 13, p(em), -em[3], 13, 2);
          hQ[3] = 20;
          z(f.AU(.15), 25, hQ, 3);
          c4[3] = 100;
          b(f.AU(-.52), 3, c4);
          c4 = [200, 200, 50, 40];
          z(f.AU(.27), 1, c4, 4);
          var ag = [150, 40, 23, 30];
          R(f.AU(1), 80, p(ag), -ag[3], 2, 1)
      }
      ;
      return fC[N[0]]()
  }
  ;
  _.w3 = {};
  _.w3.C2 = function(E) {
      var K = E.length
        , l = E[0].length
        , i = new Array(l);
      for (var G = 0; G < l; G++)
          i[G] = new Array(K);
      for (var G = 0; G < l; G++)
          for (var C = 0; C < K; C++)
              i[G][C] = E[C][G];
      return i
  }
  ;
  _.w3.g7 = function(E, K) {
      var i = E.length
        , l = E[0].length
        , C = new Array(i);
      for (var G = 0; G < i; G++)
          C[G] = new Array(l);
      for (var G = 0; G < i; G++)
          for (var N = 0; N < l; N++)
              C[G][N] = E[G][N] - K[G][N];
      return C
  }
  ;
  _.w3.add = function(E, K) {
      var i = E.length
        , l = E[0].length
        , C = new Array(i);
      for (var G = 0; G < i; G++)
          C[G] = new Array(l);
      for (var G = 0; G < i; G++)
          for (var N = 0; N < l; N++)
              C[G][N] = E[G][N] + K[G][N];
      return C
  }
  ;
  _.w3.multiply = function(E, K) {
      var i = E.length
        , C = E[0].length
        , l = K[0].length;
      if (C != K.length)
          throw "e";
      var N = new Array(i);
      for (var G = 0; G < i; G++)
          N[G] = new Array(l);
      if ((C & 1) != 0)
          for (var G = 0; G < i; G++) {
              var k = E[G]
                , V = N[G];
              for (var j = 0; j < l; j++) {
                  var a = 0;
                  for (var e = 0; e < C; e++)
                      a += k[e] * K[e][j];
                  V[j] = a
              }
          }
      else
          for (var G = 0; G < i; G++) {
              var k = E[G]
                , V = N[G];
              for (var j = 0; j < l; j++) {
                  var a = 0;
                  for (var e = 0; e < C; e += 2)
                      a += k[e] * K[e][j] + k[e + 1] * K[e + 1][j];
                  V[j] = a
              }
          }
      return N
  }
  ;
  _.w3.mY = function(E, K) {
      var i = E.length
        , l = E[0].length
        , C = new Array(i);
      for (var G = 0; G < i; G++) {
          var N = 0;
          for (var k = 0; k < l; k++)
              N += E[G][k] * K[k];
          C[G] = N
      }
      return C
  }
  ;
  _.w3.QR = function(E, K) {
      var i = [];
      for (var G = 0; G < E; G++) {
          i.push([]);
          for (var C = 0; C < K; C++)
              i[G].push(0)
      }
      return i
  }
  ;
  _.w3.adM = function(E) {
      for (var G = 0; G < E.length; G++)
          console.log(JSON.stringify(E[G]))
  }
  ;
  _.w3.a2n = function(E) {
      var K = [];
      for (var G = 0; G < E.length; G++)
          K.push(E[G].join(","));
      return "[" + K.join(";") + "]"
  }
  ;
  _.w3.qs = function(E, K) {
      var i = E.length;
      for (var C = 0; C < i; C++) {
          var N = 0
            , k = Number.NEGATIVE_INFINITY;
          for (var G = C; G < i; G++)
              if (Math.abs(E[G][C]) > k) {
                  N = G;
                  k = Math.abs(E[G][C])
              }
          _.w3.a6E(E, C, N);
          for (var G = C + 1; G < i; G++) {
              if (E[C][C] == 0)
                  return 1;
              var V = E[G][C] / E[C][C];
              for (var j = C; j < i + 1; j++)
                  E[G][j] -= E[C][j] * V
          }
      }
      for (var G = i - 1; G >= 0; G--) {
          if (E[G][G] == 0)
              return 1;
          var a = E[G][i] / E[G][G];
          K[G] = a;
          for (var j = G - 1; j >= 0; j--) {
              E[j][i] -= E[j][G] * a;
              E[j][G] = 0
          }
      }
      return 0
  }
  ;
  _.w3.a6E = function(E, K, i) {
      var C = E[K];
      E[K] = E[i];
      E[i] = C
  }
  ;
  _.w3.amp = function(E) {
      var K = E.length
        , i = _.w3.QR(K, K);
      for (var G = 0; G < K; G++)
          i[G][G] = E[G];
      return i
  }
  ;
  _.w3.a1_ = function(E) {
      var K = E.length
        , i = E[0].length
        , C = new Array(K);
      for (var G = 0; G < K; G++) {
          C[G] = 0;
          for (var N = 0; N < i; N++)
              C[G] += E[G][N];
          C[G] /= i
      }
      return C
  }
  ;
  _.w3.rn = function(E) {
      var K = 0;
      for (var G = 0; G < E.length; G++)
          K += E[G] * E[G];
      return Math.sqrt(K)
  }
  ;
  _.hZ = {};
  _.hZ.XC = function(E) {
      var K = ~~(E + .5);
      return K < 0 ? 0 : K > 255 ? 255 : K
  }
  ;
  _.hZ.transform = function(E, K, i) {
      var C = _.hZ.XC
        , N = E.h.length;
      for (var G = 0; G < N; G++) {
          var k = E.h[G]
            , V = E.l[G]
            , j = E.O[G];
          K.h[G] = C(i[0] * k + i[1] * V + i[2] * j + i[3] * 255);
          K.l[G] = C(i[4] * k + i[5] * V + i[6] * j + i[7] * 255);
          K.O[G] = C(i[8] * k + i[9] * V + i[10] * j + i[11] * 255)
      }
  }
  ;
  _.hZ.O_ = function(E, K, i) {
      var C = _.hZ.XC
        , N = E.length;
      for (var G = 0; G < N; G += 4) {
          var k = E[G]
            , V = E[G + 1]
            , j = E[G + 2];
          K[G] = C(i[0] * k + i[1] * V + i[2] * j + i[3] * 255);
          K[G + 1] = C(i[4] * k + i[5] * V + i[6] * j + i[7] * 255);
          K[G + 2] = C(i[8] * k + i[9] * V + i[10] * j + i[11] * 255)
      }
  }
  ;
  _.hZ.Is = function(E) {
      var K = E[0] + E[1] + E[2]
        , i = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1];
      if (K == 1) {
          var C = E.indexOf(1);
          i[C] = i[C + 4] = i[C + 8] = 1
      } else {
          i[0] = E[0];
          i[5] = E[1];
          i[10] = E[2]
      }
      return i
  }
  ;
  _.hZ.SA = function(E, K, i) {
      return [1, 0, 0, E, 0, 1, 0, K, 0, 0, 1, i, 0, 0, 0, 1]
  }
  ;
  _.hZ.vF = function(E, K, i) {
      return [E, 0, 0, 0, 0, K, 0, 0, 0, 0, i, 0, 0, 0, 0, 1]
  }
  ;
  _.hZ.aiw = function(E) {
      return [E[0], E[1], E[2], E[4], E[5], E[6], E[8], E[9], E[10]]
  }
  ;
  _.hZ.oQ = function(E) {
      return [E[0], E[1], E[2], 0, E[3], E[4], E[5], 0, E[6], E[7], E[8], 0, 0, 0, 0, 1]
  }
  ;
  _.hZ.iQ = function(E, K) {
      return [E[0] * K[0] + E[1] * K[1] + E[2] * K[2] + E[3] * K[3], E[4] * K[0] + E[5] * K[1] + E[6] * K[2] + E[7] * K[3], E[8] * K[0] + E[9] * K[1] + E[10] * K[2] + E[11] * K[3], E[12] * K[0] + E[13] * K[1] + E[14] * K[2] + E[15] * K[3]]
  }
  ;
  _.hZ.C2 = function(E) {
      var K = [];
      K[0] = E[0];
      K[1] = E[4];
      K[2] = E[8];
      K[3] = E[12];
      K[4] = E[1];
      K[5] = E[5];
      K[6] = E[9];
      K[7] = E[13];
      K[8] = E[2];
      K[9] = E[6];
      K[10] = E[10];
      K[11] = E[14];
      K[12] = E[3];
      K[13] = E[7];
      K[14] = E[11];
      K[15] = E[15];
      return K
  }
  ;
  _.hZ.multiply = function(E, K) {
      var i = [];
      i[0] = E[0] * K[0] + E[1] * K[4] + E[2] * K[8] + E[3] * K[12];
      i[1] = E[0] * K[1] + E[1] * K[5] + E[2] * K[9] + E[3] * K[13];
      i[2] = E[0] * K[2] + E[1] * K[6] + E[2] * K[10] + E[3] * K[14];
      i[3] = E[0] * K[3] + E[1] * K[7] + E[2] * K[11] + E[3] * K[15];
      i[4] = E[4] * K[0] + E[5] * K[4] + E[6] * K[8] + E[7] * K[12];
      i[5] = E[4] * K[1] + E[5] * K[5] + E[6] * K[9] + E[7] * K[13];
      i[6] = E[4] * K[2] + E[5] * K[6] + E[6] * K[10] + E[7] * K[14];
      i[7] = E[4] * K[3] + E[5] * K[7] + E[6] * K[11] + E[7] * K[15];
      i[8] = E[8] * K[0] + E[9] * K[4] + E[10] * K[8] + E[11] * K[12];
      i[9] = E[8] * K[1] + E[9] * K[5] + E[10] * K[9] + E[11] * K[13];
      i[10] = E[8] * K[2] + E[9] * K[6] + E[10] * K[10] + E[11] * K[14];
      i[11] = E[8] * K[3] + E[9] * K[7] + E[10] * K[11] + E[11] * K[15];
      i[12] = E[12] * K[0] + E[13] * K[4] + E[14] * K[8] + E[15] * K[12];
      i[13] = E[12] * K[1] + E[13] * K[5] + E[14] * K[9] + E[15] * K[13];
      i[14] = E[12] * K[2] + E[13] * K[6] + E[14] * K[10] + E[15] * K[14];
      i[15] = E[12] * K[3] + E[13] * K[7] + E[14] * K[11] + E[15] * K[15];
      return i
  }
  ;
  _.hZ.KP = function(E) {
      var K = [];
      K[0] = E[5] * E[10] * E[15] - E[5] * E[14] * E[11] - E[6] * E[9] * E[15] + E[6] * E[13] * E[11] + E[7] * E[9] * E[14] - E[7] * E[13] * E[10];
      K[1] = -E[1] * E[10] * E[15] + E[1] * E[14] * E[11] + E[2] * E[9] * E[15] - E[2] * E[13] * E[11] - E[3] * E[9] * E[14] + E[3] * E[13] * E[10];
      K[2] = E[1] * E[6] * E[15] - E[1] * E[14] * E[7] - E[2] * E[5] * E[15] + E[2] * E[13] * E[7] + E[3] * E[5] * E[14] - E[3] * E[13] * E[6];
      K[3] = -E[1] * E[6] * E[11] + E[1] * E[10] * E[7] + E[2] * E[5] * E[11] - E[2] * E[9] * E[7] - E[3] * E[5] * E[10] + E[3] * E[9] * E[6];
      K[4] = -E[4] * E[10] * E[15] + E[4] * E[14] * E[11] + E[6] * E[8] * E[15] - E[6] * E[12] * E[11] - E[7] * E[8] * E[14] + E[7] * E[12] * E[10];
      K[5] = E[0] * E[10] * E[15] - E[0] * E[14] * E[11] - E[2] * E[8] * E[15] + E[2] * E[12] * E[11] + E[3] * E[8] * E[14] - E[3] * E[12] * E[10];
      K[6] = -E[0] * E[6] * E[15] + E[0] * E[14] * E[7] + E[2] * E[4] * E[15] - E[2] * E[12] * E[7] - E[3] * E[4] * E[14] + E[3] * E[12] * E[6];
      K[7] = E[0] * E[6] * E[11] - E[0] * E[10] * E[7] - E[2] * E[4] * E[11] + E[2] * E[8] * E[7] + E[3] * E[4] * E[10] - E[3] * E[8] * E[6];
      K[8] = E[4] * E[9] * E[15] - E[4] * E[13] * E[11] - E[5] * E[8] * E[15] + E[5] * E[12] * E[11] + E[7] * E[8] * E[13] - E[7] * E[12] * E[9];
      K[9] = -E[0] * E[9] * E[15] + E[0] * E[13] * E[11] + E[1] * E[8] * E[15] - E[1] * E[12] * E[11] - E[3] * E[8] * E[13] + E[3] * E[12] * E[9];
      K[10] = E[0] * E[5] * E[15] - E[0] * E[13] * E[7] - E[1] * E[4] * E[15] + E[1] * E[12] * E[7] + E[3] * E[4] * E[13] - E[3] * E[12] * E[5];
      K[11] = -E[0] * E[5] * E[11] + E[0] * E[9] * E[7] + E[1] * E[4] * E[11] - E[1] * E[8] * E[7] - E[3] * E[4] * E[9] + E[3] * E[8] * E[5];
      K[12] = -E[4] * E[9] * E[14] + E[4] * E[13] * E[10] + E[5] * E[8] * E[14] - E[5] * E[12] * E[10] - E[6] * E[8] * E[13] + E[6] * E[12] * E[9];
      K[13] = E[0] * E[9] * E[14] - E[0] * E[13] * E[10] - E[1] * E[8] * E[14] + E[1] * E[12] * E[10] + E[2] * E[8] * E[13] - E[2] * E[12] * E[9];
      K[14] = -E[0] * E[5] * E[14] + E[0] * E[13] * E[6] + E[1] * E[4] * E[14] - E[1] * E[12] * E[6] - E[2] * E[4] * E[13] + E[2] * E[12] * E[5];
      K[15] = E[0] * E[5] * E[10] - E[0] * E[9] * E[6] - E[1] * E[4] * E[10] + E[1] * E[8] * E[6] + E[2] * E[4] * E[9] - E[2] * E[8] * E[5];
      var i = E[0] * K[0] + E[1] * K[4] + E[2] * K[8] + E[3] * K[12];
      for (var G = 0; G < 16; G++)
          K[G] /= i;
      return K
  }
  ;
  _.hZ.aje = function(E) {
      var K = []
        , i = E[5] * E[10] * E[15] - E[5] * E[14] * E[11] - E[6] * E[9] * E[15] + E[6] * E[13] * E[11] + E[7] * E[9] * E[14] - E[7] * E[13] * E[10]
        , C = -E[4] * E[10] * E[15] + E[4] * E[14] * E[11] + E[6] * E[8] * E[15] - E[6] * E[12] * E[11] - E[7] * E[8] * E[14] + E[7] * E[12] * E[10]
        , N = E[4] * E[9] * E[15] - E[4] * E[13] * E[11] - E[5] * E[8] * E[15] + E[5] * E[12] * E[11] + E[7] * E[8] * E[13] - E[7] * E[12] * E[9]
        , k = -E[4] * E[9] * E[14] + E[4] * E[13] * E[10] + E[5] * E[8] * E[14] - E[5] * E[12] * E[10] - E[6] * E[8] * E[13] + E[6] * E[12] * E[9];
      return E[0] * i + E[1] * C + E[2] * N + E[3] * k
  }
  ;
  _.hZ.Kc = _.hZ.oQ([3.1338561, -1.6168667, -.4906146, -.9787684, 1.9161415, .033454, .0719453, -.2289914, 1.4052427]);
  _.hZ.aj8 = _.hZ.oQ([1.9624274, -.6105343, -.3413404, -.9787684, 1.9161415, .033454, .0286869, -.1406752, 1.3487655]);
  _.hZ.aib = _.hZ.KP(_.hZ.Kc);
  _.Jr = {};
  _.Jr.Sq = new Uint32Array(1);
  _.Jr.It = function(E, K, i, C, N, k) {
      var V = new Uint32Array(E)
        , j = 0
        , a = _.Jr.Sq;
      if (a.length < K * 4)
          _.Jr.Sq = a = new Uint32Array(K * 4);
      var e = new Float64Array(a.buffer);
      for (var G = 0; G < K; G += 2) {
          var L = N[G]
            , g = N[G + 1]
            , I = k[G]
            , h = k[G + 1];
          a[j] = g;
          e[j + 2 >> 1] = I;
          a[j + 1] = V[L];
          V[L] = j + 1;
          j += 4;
          a[j] = L;
          e[j + 2 >> 1] = h;
          a[j + 1] = V[g];
          V[g] = j + 1;
          j += 4
      }
      return {
          T8: a,
          aij: e,
          a88: V
      }
  }
  ;
  _.Jr.qs = function(E, K, i, C, N, k, V) {
      var j = 1
        , a = _.Jr.It(E, K, i, C, N, k)
        , e = a.T8
        , L = a.aij
        , g = a.a88
        , I = new Uint32Array(E)
        , h = new _.Jr.Ht(E)
        , H = 1
        , D = 0;
      h.push(i);
      h.push(C);
      var o = new _.Jr.Ht(E)
        , A = new Uint8Array(E)
        , S = new Uint32Array(E);
      A[i] = 1;
      A[C] = 2;
      var v = new Uint32Array(E)
        , s = new Uint32Array(E);
      s[i] = s[C] = 0;
      v[i] = v[C] = 1;
      while (!0) {
          var F = -1
            , m = 0
            , z = 1e30;
          while (!h.Wo() && F == -1) {
              var y = h.top()
                , T = A[y]
                , Q = g[y] - 1;
              while (Q != -1) {
                  var B = e[Q]
                    , r = A[B]
                    , J = Q ^ T - 1 << 2;
                  if (L[J + 2 >> 1] != 0) {
                      if (r == 0) {
                          _.Jr.ed(y, Q, B, A, S, s, v);
                          h.push(B)
                      } else if (r == T && v[B] <= v[y] && s[B] > s[y])
                          _.Jr.ed(y, Q, B, A, S, s, v);
                      else if (r != T) {
                          F = J
                      }
                  }
                  Q = e[Q + 1] - 1
              }
              if (F != -1)
                  break;
              h.pop()
          }
          if (F == -1) {
              break
          }
          H++;
          var x = F;
          while (x != -1) {
              I[m] = x;
              m++;
              x = S[e[x ^ 4]] - 1
          }
          var R = m >> 1;
          for (var G = 0; G < R; G++) {
              var b = I[G];
              I[G] = I[m - G - 1];
              I[m - G - 1] = b
          }
          x = S[e[F]] - 1;
          while (x != -1) {
              I[m] = x ^ 4;
              m++;
              x = S[e[x ^ 4]] - 1
          }
          for (var G = 0; G < m; G++)
              z = Math.min(z, L[I[G] + 2 >> 1]);
          D += z;
          if (D >= V)
              return {
                  Nq: null,
                  xV: D
              };
          for (var G = 0; G < m; G++) {
              var $ = I[G]
                , P = $ ^ 4
                , y = e[P]
                , B = e[$];
              L[$ + 2 >> 1] -= z;
              L[P + 2 >> 1] += z;
              if (L[$ + 2 >> 1] == 0 && A[y] == A[B]) {
                  if (A[y] == 1) {
                      S[B] = 0;
                      o.push(B)
                  }
                  if (A[y] == 2) {
                      S[y] = 0;
                      o.push(y)
                  }
              }
          }
          while (!o.Wo()) {
              var y = o.pop()
                , T = A[y]
                , Q = g[y] - 1
                , t = T == 1 ? 4 : 0
                , X = 0
                , Z = 0
                , p = 1e9;
              while (Q != -1) {
                  var B = e[Q]
                    , gl = Q ^ 4
                    , J = Q ^ t;
                  if (A[B] == T && L[J + 2 >> 1] > 0 && _.Jr.a6c(B, i, C, S, e, H, v, s) + 1 < p) {
                      X = B;
                      Z = gl;
                      p = s[B] + 1
                  }
                  Q = e[Q + 1] - 1
              }
              if (Z != 0) {
                  _.Jr.ed(X, Z, y, A, S, s, v);
                  continue
              }
              Q = g[y] - 1;
              while (Q != -1) {
                  var B = e[Q]
                    , J = Q ^ t;
                  if (A[B] == T) {
                      if (L[J + 2 >> 1] > 0) {
                          h.push(B)
                      }
                      if (S[B] == Q + 1) {
                          S[B] = 0;
                          o.push(B)
                      }
                  }
                  Q = e[Q + 1] - 1
              }
              A[y] = 0;
              h.remove(y)
          }
      }
      var f = [];
      for (var G = 0; G < K; G += 2) {
          var y = N[G]
            , B = N[G + 1];
          if (A[y] == 1 && A[B] != 1) {
              f.push(G >> 1)
          }
          if (A[B] == 1 && A[y] != 1) {
              f.push(K + G >> 1)
          }
      }
      return {
          Nq: f,
          xV: D
      }
  }
  ;
  _.Jr.ed = function(E, K, i, C, N, k, V) {
      C[i] = C[E];
      N[i] = K + 1;
      k[i] = k[E] + 1;
      V[i] = V[E]
  }
  ;
  _.Jr.a6c = function(E, K, i, C, N, k, V, j) {
      var a = E
        , e = C[E] - 1
        , L = 0;
      while (e != -1 && V[E] != k) {
          E = N[e ^ 4];
          e = C[E] - 1;
          L++
      }
      if (e == -1 && E != K && E != i)
          return 1e9;
      var g = j[E] + L;
      L = 0;
      e = C[a] - 1;
      while (a != E) {
          j[a] = g - L;
          L++;
          V[a] = k;
          a = N[e ^ 4];
          e = C[a] - 1
      }
      return g
  }
  ;
  _.Jr.a02 = function(E, K, i, C, N, k) {
      var V = _.Jr.It(E, K, i, C, N, k)
        , j = V.T8
        , a = V.aij
        , e = V.a88
        , L = 0
        , g = 0
        , I = new Uint32Array(E * 2)
        , h = new _.Jr.Hb(E)
        , o = 0;
      while (!0) {
          h.reset();
          h.push(i);
          for (var G = 0; G < E; G++)
              I[G << 1] = 0;
          while (!h.Wo()) {
              var H = h.pop()
                , A = e[H] - 1;
              while (A != -1) {
                  o = j[A];
                  if (I[o << 1] == 0 && a[A + 2 >> 1] > 0 && o != i) {
                      I[o << 1] = H + 1;
                      I[(o << 1) + 1] = A;
                      h.push(o)
                  }
                  A = j[A + 1] - 1
              }
              if (I[C << 1] != 0) {
                  break
              }
          }
          if (I[C << 1] == 0) {
              break
          }
          var S = 1e30;
          o = C;
          while (!0) {
              var v = I[o << 1] - 1;
              if (v == -1)
                  break;
              var s = I[(o << 1) + 1];
              S = Math.min(S, a[s + 2 >> 1]);
              o = v
          }
          o = C;
          while (!0) {
              var v = I[o << 1] - 1;
              if (v == -1)
                  break;
              var s = I[(o << 1) + 1]
                , D = s ^ 4;
              a[s + 2 >> 1] -= S;
              a[D + 2 >> 1] += S;
              o = v
          }
          L += S
      }
      var F = [];
      for (var G = 0; G < K; G += 2) {
          var v = N[G]
            , o = N[G + 1];
          if ((I[v << 1] != 0 || v == i) && I[o << 1] == 0 && o != i) {
              F.push(G >> 1)
          }
          if ((I[o << 1] != 0 || o == i) && I[v << 1] == 0 && v != i) {
              F.push(K + G >> 1)
          }
      }
      return {
          Nq: F,
          xV: L
      }
  }
  ;
  _.Jr.Hb = function(E) {
      E |= E >> 1;
      E |= E >> 2;
      E |= E >> 4;
      E |= E >> 8;
      E |= E >> 16;
      this.Ka = new Uint32Array(E + 1);
      this.hx = E;
      this.HZ = 0;
      this.Uc = 0
  }
  ;
  _.Jr.Hb.prototype = {
      push: function(E) {
          var K = this.Uc;
          this.Ka[K] = E;
          this.Uc = K + 1 & this.hx
      },
      pop: function() {
          var E = this.HZ
            , K = this.Ka[E];
          this.HZ = E + 1 & this.hx;
          return K
      },
      Wo: function() {
          return this.HZ == this.Uc
      },
      reset: function() {
          this.HZ = 0;
          this.Uc = 0
      }
  };
  _.Jr.Ht = function(E) {
      E |= E >> 1;
      E |= E >> 2;
      E |= E >> 4;
      E |= E >> 8;
      E |= E >> 16;
      this.Ka = new Uint32Array(E + 1);
      this.j3 = new Uint32Array(E + 1);
      this.hx = E;
      this.HZ = 0;
      this.Uc = 0
  }
  ;
  _.Jr.Ht.prototype = {
      top: function() {
          return this.Ka[this.HZ]
      },
      a73: function() {
          return this.Ka[this.Uc]
      },
      push: function(E) {
          if (this.j3[E] != 0)
              return;
          this.j3[E] = this.Uc + 1;
          var K = this.Uc;
          this.Ka[K] = E;
          this.Uc = K + 1 & this.hx
      },
      pop: function() {
          var E = this.HZ
            , K = this.Ka[E];
          this.j3[K] = 0;
          this.HZ = E + 1 & this.hx;
          return K
      },
      Wo: function() {
          return this.HZ == this.Uc
      },
      remove: function(E) {
          var K = this.j3[E] - 1;
          if (K == -1)
              return;
          this.j3[E] = 0;
          if (K == this.HZ) {
              this.pop();
              return
          }
          var i = this.pop();
          this.Ka[K] = i;
          this.j3[i] = K + 1
      },
      na: function(G) {
          return G + this.hx + 1 & this.hx
      }
  };
  _.Jr.bG = function(E, K, i) {
      var C = _.Jr.r8(E, K, i);
      if (K < C - 1)
          _.Jr.bG(E, K, C - 1);
      if (C < i)
          _.Jr.bG(E, C, i)
  }
  ;
  _.Jr.r8 = function(E, K, i) {
      var C = E[K + i >>> 1];
      while (K <= i) {
          while (E[K] < C)
              K++;
          while (E[i] > C)
              i--;
          if (K <= i) {
              _.Jr.L1(E, K, i);
              K++;
              i--
          }
      }
      return K
  }
  ;
  _.Jr.L1 = function(E, K, i) {
      var C = E[K];
      E[K] = E[i];
      E[i] = C
  }
  ;
  _.U7 = {};
  _.U7.alW = function(E) {
      for (var G = 0; G < E.length; G++)
          _.U7.wx(E, G)
  }
  ;
  _.U7.wx = function(E, G) {
      E[G].v.keyShapeInvalidated = {
          t: "bool",
          v: !0
      }
  }
  ;
  _.U7.amY = function(E) {
      for (var G = 0; G < E.length; G++)
          E[G].v.keyOriginIndex.v = G
  }
  ;
  _.U7.rV = function() {
      return {
          t: "Objc",
          v: {
              classID: "null",
              keyOriginIndex: {
                  t: "long",
                  v: 0
              },
              keyShapeInvalidated: {
                  t: "bool",
                  v: !0
              }
          }
      }
  }
  ;
  _.U7.mk = function(E) {
      E = E.v;
      var K = {
          Rctn: 2,
          Ln: 4,
          Elps: 5
      }
        , i = K[E.classID]
        , C = E.topLeft ? _.U7.Y_(E) : null
        , N = null
        , k = 0;
      if (i == 4) {
          var V = E.Strt.v
            , j = E.End.v;
          N = [V.Hrzn.v.val, V.Vrtc.v.val, j.Hrzn.v.val, j.Vrtc.v.val];
          k = E.Wdth.v.val
      }
      if (i == null)
          return null;
      return _.U7.Ea(i, i == 4 ? null : _.U7.JQ(E), C, N, k)
  }
  ;
  _.U7.XB = function(E, K, i, C, N, k) {
      var V = {
          classID: E,
          unitValueQuadVersion: {
              t: "long",
              v: 1
          }
      };
      if (K)
          _.U7.G1(V, ["Left", "Top", "Rght", "Btom"], K);
      if (i)
          _.U7.G1(V, ["topLeft", "topRight", "bottomRight", "bottomLeft"], i);
      if (E == "Ln") {
          V.Strt = {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Hrzn: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: C[0]
                      }
                  },
                  Vrtc: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: C[1]
                      }
                  }
              }
          },
          V.End = {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Hrzn: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: C[2]
                      }
                  },
                  Vrtc: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: C[3]
                      }
                  }
              }
          },
          V.Wdth = {
              t: "UntF",
              v: {
                  type: "#Pxl",
                  val: N
              }
          }
      }
      if (k)
          V.Nm = {
              t: "TEXT",
              v: k
          };
      return {
          t: "Objc",
          v: V
      }
  }
  ;
  _.U7.Ea = function(E, K, i, C, N) {
      var k = _.U7.rV()
        , V = k.v;
      delete V.keyShapeInvalidated;
      V.keyOriginType = {
          t: "long",
          v: E
      };
      V.keyOriginResolution = {
          t: "doub",
          v: 75
      };
      if (E == 4) {
          V.keyOriginLineStart = {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Hrzn: {
                      t: "doub",
                      v: C[0]
                  },
                  Vrtc: {
                      t: "doub",
                      v: C[1]
                  }
              }
          };
          V.keyOriginLineEnd = {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Hrzn: {
                      t: "doub",
                      v: C[2]
                  },
                  Vrtc: {
                      t: "doub",
                      v: C[3]
                  }
              }
          };
          K = [Math.min(C[0], C[2]), Math.min(C[1], C[3]), Math.max(C[0], C[2]), Math.max(C[1], C[3])];
          V.keyOriginLineWeight = {
              t: "doub",
              v: N
          },
          V.keyOriginLineArrowSt = {
              t: "bool",
              v: !1
          };
          V.keyOriginLineArrowEnd = {
              t: "bool",
              v: !1
          };
          V.keyOriginLineArrWdth = {
              t: "doub",
              v: 0
          };
          V.keyOriginLineArrLngth = {
              t: "doub",
              v: 0
          };
          V.keyOriginLineArrConc = {
              t: "long",
              v: 0
          }
      }
      var j = {
          classID: "unitRect",
          unitValueQuadVersion: {
              t: "long",
              v: 1
          }
      };
      V.keyOriginShapeBBox = {
          t: "Objc",
          v: j
      };
      _.U7.Tw(V, K);
      if (i != null) {
          var a = {
              classID: "radii",
              unitValueQuadVersion: {
                  t: "long",
                  v: 1
              }
          };
          V.keyOriginRRectRadii = {
              t: "Objc",
              v: a
          };
          _.U7.N0(V, i)
      }
      return k
  }
  ;
  _.U7.m = function(E, K, i, C) {
      var N = _.J.Tr(K)
        , k = _.J.oY(K)
        , V = Math.max(Math.abs(K[0]), Math.abs(K[1]))
        , j = Math.max(Math.abs(K[3]), Math.abs(K[4]));
      for (var G = 0; G < E.length; G++) {
          var a = E[G].v
            , e = a.keyShapeInvalidated;
          if (e && e.v || a.keyOriginType == null)
              continue;
          if (i.length != 0 && i.indexOf(G) == -1)
              continue;
          var L = a.keyOriginType.v;
          if (!N || !k || C && L == 2 && Math.abs(1 - V / j) > .01) {
              _.U7.wx(E, G);
              continue
          }
          var g = _.U7.q6(a);
          _.J.apply(K, g);
          _.U7.Tw(a, [Math.min(g[0], g[2]), Math.min(g[1], g[3]), Math.max(g[0], g[2]), Math.max(g[1], g[3])]);
          if (L == 2) {
              var I = _.U7.s0(a)
                , h = new fn(K[0],K[1],K[3],K[4],0,0);
              h.iX();
              if (h.R == 0) {
                  I.push(I.shift());
                  h.rotate(Math.PI / 2);
                  h.iX()
              }
              if (h.R < 0) {
                  var o = I[0];
                  I[0] = I[1];
                  I[1] = o;
                  o = I[2];
                  I[2] = I[3];
                  I[3] = o
              }
              if (h.bI < 0) {
                  var o = I[0];
                  I[0] = I[3];
                  I[3] = o;
                  o = I[1];
                  I[1] = I[2];
                  I[2] = o
              }
              if (C)
                  for (var H = 0; H < 4; H++)
                      I[H] = I[H] * V;
              _.U7.N0(a, I)
          }
          if (L == 4) {
              a.keyOriginLineWeight.v *= V;
              var A = _.U7.Sj(a);
              _.J.apply(K, A);
              _.U7.a83(a, A)
          }
      }
  }
  ;
  _.U7._A = function(E, K) {
      var i = K.b;
      for (var G = 0; G < E.length; G++) {
          var C = E[G].v, N = C.keyShapeInvalidated, g;
          if (N && N.v || C.keyOriginType == null)
              continue;
          var k = C.keyOriginType.v
            , V = _.U7.q6(C)
            , j = V[0]
            , a = V[1]
            , e = V[2]
            , L = V[3];
          if (k == 1)
              g = _.Y.L8.Rect(j, a, e - j, L - a, 0);
          else if (k == 2) {
              var I = _.U7.s0(C);
              g = _.Y.L8.Rect(j, a, e - j, L - a, I)
          } else if (k == 4) {
              var h = _.U7.Sj(C);
              g = _.Y.L8.a1(h[0], h[1], h[2], h[3], C.keyOriginLineWeight.v)
          } else if (k == 5)
              g = _.Y.L8.ZT(j, a, e - j, L - a);
          var o = _.Y.ac(i, G)
            , H = _.Y.On(i, G);
          g[2].A0 = i[o].A0;
          var A = i;
          i = i.slice(0, o);
          for (var S = 2; S < g.length; S++)
              i.push(g[S]);
          for (var S = o + H; S < A.length; S++)
              i.push(A[S])
      }
      K.b = i;
      K.bZ = !0
  }
  ;
  _.U7.hv = function(E) {
      var K = 1e9
        , i = -K
        , C = 1e9
        , N = -C
        , k = null
        , V = E.LM()
        , j = V[0]
        , a = V[1];
      for (var e = 0; e < a.length; e++) {
          var L = j[a[e]]
            , g = L.add.vogk;
          if (g == null)
              continue;
          var I = L.add.vmsk.C;
          for (var h = 0; h < g.length; h++) {
              var o = g[h].v
                , H = o.keyShapeInvalidated;
              if (H && H.v || o.keyOriginType == null)
                  continue;
              if (a.length == 1 && I.length != 0 && I.indexOf(h) == -1)
                  continue;
              var A = o.keyOriginType.v;
              if (A != 4) {
                  var S = _.U7.q6(o);
                  K = Math.min(K, S[0]);
                  C = Math.min(C, S[1]);
                  i = Math.max(i, S[2]);
                  N = Math.max(N, S[3])
              }
              if (A == 2 && k == null) {
                  k = _.U7.s0(o)
              }
          }
      }
      return [K < i ? [K, C, i, N] : null, k]
  }
  ;
  _.U7.aew = function(E, K, i) {
      var C = _.U7.hv(E)[0], N;
      if (C) {
          var k = new fn;
          k.translate(-C[0], -C[1]);
          k.scale(1 / (C[2] - C[0]), 1 / (C[3] - C[1]));
          k.scale(K[2] - K[0], K[3] - K[1]);
          k.translate(K[0], K[1]);
          N = _.J.Nl(k)
      }
      var V = E.LM()
        , j = V[0]
        , a = V[1];
      for (var e = 0; e < a.length; e++) {
          var L = j[a[e]]
            , g = L.add.vogk;
          if (g == null)
              continue;
          var I = L.add.vmsk.C;
          for (var h = 0; h < g.length; h++) {
              var o = g[h].v
                , H = o.keyShapeInvalidated;
              if (H && H.v || o.keyOriginType == null)
                  continue;
              if (a.length == 1 && I.length != 0 && I.indexOf(h) == -1)
                  continue;
              var A = o.keyOriginType.v;
              if (A != 4 && K[0] != null) {
                  var K = _.U7.q6(o);
                  _.J.apply(N, K);
                  _.U7.Tw(o, K)
              }
              if (A == 2 && i != null) {
                  _.U7.N0(o, i)
              }
          }
      }
  }
  ;
  _.U7.q6 = function(E) {
      return _.U7.JQ(E.keyOriginShapeBBox.v)
  }
  ;
  _.U7.JQ = function(E) {
      var K = E.Left.v.val
        , i = E.Rght.v.val
        , C = E.Top.v.val
        , N = E.Btom.v.val;
      return [K, C, i, N]
  }
  ;
  _.U7.Tw = function(E, K) {
      _.U7.G1(E.keyOriginShapeBBox.v, ["Left", "Top", "Rght", "Btom"], K)
  }
  ;
  _.U7.s0 = function(E) {
      return _.U7.Y_(E.keyOriginRRectRadii.v)
  }
  ;
  _.U7.Y_ = function(E) {
      var K = []
        , i = ["topLeft", "topRight", "bottomRight", "bottomLeft"];
      for (var C = 0; C < 4; C++)
          K.push(E[i[C]].v.val);
      return K
  }
  ;
  _.U7.N0 = function(E, K) {
      _.U7.G1(E.keyOriginRRectRadii.v, ["topLeft", "topRight", "bottomRight", "bottomLeft"], K)
  }
  ;
  _.U7.G1 = function(E, K, i) {
      for (var G = 0; G < 4; G++)
          if (i[G] != null)
              E[K[G]] = {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: i[G]
                  }
              }
  }
  ;
  _.U7.Sj = function(E) {
      var K = E.keyOriginLineStart.v
        , i = E.keyOriginLineEnd.v;
      return [K.Hrzn.v, K.Vrtc.v, i.Hrzn.v, i.Vrtc.v]
  }
  ;
  _.U7.a83 = function(E, K) {
      var i = E.keyOriginLineStart.v
        , C = E.keyOriginLineEnd.v;
      i.Hrzn.v = K[0];
      i.Vrtc.v = K[1];
      C.Hrzn.v = K[2];
      C.Vrtc.v = K[3]
  }
  ;
  _.$ = {};
  _.$.clone = function(E) {
      return {
          Z: E.Z.slice(0),
          H: E.H.slice(0)
      }
  }
  ;
  _.$.nE = function(E) {
      if (E.length < 6)
          return !0;
      var K = E.length - 4;
      for (var G = 0; G < K; G += 2)
          if (!_.$.b2(E[G], E[G + 1], E[G + 2], E[G + 3], E[G + 4], E[G + 5]))
              return !1;
      if (!_.$.b2(E[K], E[K + 1], E[K + 2], E[K + 3], E[0], E[1]))
          return !1;
      if (!_.$.b2(E[K + 2], E[K + 3], E[0], E[1], E[2], E[3]))
          return !1;
      return !0
  }
  ;
  _.$.b2 = function(E, K, i, C, N, k) {
      return (K - C) * (N - i) + (i - E) * (k - C) >= 0
  }
  ;
  _.$.yD = function(E) {
      var K = {}
        , i = null
        , C = 0
        , N = {
          M: 2,
          L: 2,
          Q: 4,
          C: 6
      };
      for (var G = 0; G < E.Z.length; G++) {
          var k = E.Z[G];
          if (k.charAt(0) == "#") {
              if (K[k] == null)
                  K[k] = {
                      H: [],
                      Z: []
                  };
              i = K[k]
          } else if (k != "X") {
              i.Z.push(k);
              var V = N[k];
              if (V == null)
                  V = 0;
              for (var j = 0; j < V; j++)
                  i.H.push(E.H[C + j]);
              C += V
          }
      }
      return K
  }
  ;
  _.$.rh = function(E, K) {
      E = _.$.Eq(E);
      var i = E.H
        , C = E.Z
        , N = 0
        , k = []
        , V = null;
      for (var G = 0; G < C.length; G++) {
          var j = C[G];
          if (j == "M") {
              V = {
                  a9r: N,
                  qh: 0,
                  QG: !1
              };
              k.push(V);
              N += 2
          }
          if (j == "C") {
              V.qh++;
              N += 6
          }
          if (j == "Z") {
              V.QG = !0
          }
      }
      var a = [];
      for (var G = 0; G < k.length; G++)
          if (k[G].qh != 0)
              a.push(k[G]);
      k = a;
      for (var G = 0; G < k.length; G++) {
          var e = k[G]
            , L = e.a9r
            , g = L + 2 + e.qh * 6
            , h = 0;
          e.J8 = _.$.Rk(i, L, g);
          var I = i[L] == i[g - 2] && i[L + 1] == i[g - 1];
          for (var o = 0; o < e.qh; o++) {
              var H = L + o * 6
                , A = H + 6;
              h += (i[A] - i[H]) * (i[A + 1] + i[H + 1])
          }
          if (e.qh == 2) {
              var S = function(f, cY, fC) {
                  var hi = 1 - fC;
                  return hi * hi * hi * f[cY] + 3 * hi * hi * fC * f[cY + 2] + 3 * hi * fC * fC * f[cY + 4] + fC * fC * fC * f[cY + 6]
              }
                , v = i[L]
                , s = i[L + 1]
                , D = i[L + 6]
                , F = i[L + 7]
                , y = i[L + 6]
                , T = i[L + 7]
                , Q = S(i, L, .5)
                , B = S(i, L + 1, .5)
                , r = S(i, L + 6, .5)
                , J = S(i, L + 7, .5);
              h = (Q - v) * (B - s) + (D - Q) * (F - B) + (r - D) * (J - F) + (y - r) * (T - J)
          }
          if (!I)
              h += (i[L] - i[g - 2]) * (i[L + 1] + i[g - 1]);
          e.pL = h <= 0
      }
      for (var G = 0; G < k.length - 1; G++)
          for (var H = G + 1; H < k.length; H++) {
              var m = k[G]
                , x = k[H];
              if (x.J8.rp(m.J8)) {
                  k[G] = x;
                  k[H] = m
              }
          }
      var R = k.length == 0 ? !0 : k[0].pL
        , b = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      for (var G = 0; G < k.length; G++) {
          var e = k[G]
            , L = e.a9r
            , g = L + 2 + e.qh * 6
            , I = i[L] == i[g - 2] && i[L + 1] == i[g - 1]
            , z = e.QG || I ? 0 : 3
            , $ = e.pL == R && !K ? 1 : 0;
          if (!K && G != 0) {
              if (k[G - 1].J8.rp(e.J8) && k[G - 1].pL != e.pL)
                  $ = 0;
              for (var H = 0; H < k.length; H++)
                  if (H != G && k[H].J8.rp(e.J8))
                      $ = 0
          }
          b.push({
              type: z,
              length: e.qh + (I ? 0 : 1),
              A0: $,
              n_: 2
          });
          for (var H = 0; H < e.qh; H++) {
              var N = L + H * 6, P = new bT(i[N],i[N + 1]), t = new bT(i[N + 2],i[N + 3]), X;
              if (H == 0) {
                  if (I)
                      X = new bT(i[g - 4],i[g - 3]);
                  else
                      X = P.clone()
              } else
                  X = new bT(i[N - 2],i[N - 1]);
              b.push({
                  type: z + 2,
                  ln: X,
                  D: P,
                  _8: t
              })
          }
          if (!I) {
              var Z = new bT(i[g - 2],i[g - 1]);
              b.push({
                  type: z + 2,
                  ln: new bT(i[g - 4],i[g - 3]),
                  D: Z,
                  _8: Z.clone()
              })
          }
      }
      for (var H = 0; H < b.length; H++) {
          var p = b[H];
          if (p.type > 5 || p.type == 0 || p.type == 3)
              continue;
          var gl = p.ln.Ql(p.D) || p._8.Ql(p._8);
          if (!gl) {
              var m = p.ln.x * (p.D.y - p._8.y) + p.D.x * (p._8.y - p.ln.y) + p._8.x * (p.ln.y - p.D.y);
              if (Math.abs(m) < 1e-6)
                  gl = !0
          }
          if (gl)
              p.type--
      }
      return b
  }
  ;
  _.$.bF = function() {
      function E(C, N, k, V) {
          if (!V && C._8.Ql(C.D) && N.ln.Ql(N.D)) {
              k.H.push(N.D.x, N.D.y);
              k.Z.push("L")
          } else {
              k.H.push(C._8.x, C._8.y, N.ln.x, N.ln.y, N.D.x, N.D.y);
              k.Z.push("C")
          }
      }
      function K(C, N, G, k, V, j) {
          var a = N[G];
          C.H.push(a.D.x, a.D.y);
          C.Z.push("M");
          for (var e = G; e < G + k - 1; e++)
              E(N[e], N[e + 1], C, j);
          if (!V)
              E(N[e], N[G], C, j)
      }
      function i(C, N) {
          if (N == null)
              N = !1;
          var k = {
              H: [],
              Z: []
          };
          for (var G = 0; G < C.length; G++) {
              if (C[G].type > 5)
                  continue;
              var V = C[G].length;
              if (V == 0)
                  continue;
              if (G == C.length - 1)
                  break;
              var j = C[G].type == 3;
              K(k, C, G + 1, V, j, N);
              if (!j)
                  k.Z.push("Z");
              G += V
          }
          return k
      }
      return i
  }();
  _.$.adw = function(E) {
      var K = E.H, i = [], C, N = 0;
      for (var G = 0; G < E.Z.length; G++) {
          var k = E.Z[G];
          if (k == "C") {
              C.push(K[N++], K[N++], K[N++], K[N++], K[N++], K[N++])
          } else if (k == "Z") {} else {
              C = [];
              if (k != "M") {
                  C.push(k);
                  G++
              }
              C.push(K[N++], K[N++]);
              i.push(C)
          }
      }
      return i
  }
  ;
  _.$.G6 = function(E, K, i, C) {
      if (C == null)
          C = 1e9;
      var N = 1e9
        , k = 0;
      for (var G = 0; G < E.length; G += 2) {
          var V = K - E[G]
            , j = i - E[G + 1]
            , a = V * V + j * j;
          if (a < N) {
              N = a;
              k = G >>> 1
          }
      }
      return N < C * C ? k : -1
  }
  ;
  _.$.Rg = function(E, K, i, C) {
      for (var G = 0; G < E.length; G += 2) {
          var N = E[G]
            , k = E[G + 1]
            , V = K[G]
            , j = K[G + 1];
          i[G] = N + (V - N) * C;
          i[G + 1] = k + (j - k) * C
      }
  }
  ;
  _.$.m = function(E, K, i) {
      for (var G = 0; G < E.length; G += 2) {
          var C = E[G]
            , N = E[G + 1];
          i[G] = C * K.R + N * K.x9 + K.vK;
          i[G + 1] = C * K.O + N * K.bI + K.Cz
      }
  }
  ;
  _.$.Rk = function(E, K, i) {
      if (K == null)
          K = 0;
      if (i == null)
          i = E.length;
      var C = 99999999999
        , N = -C
        , k = 99999999999
        , V = -k;
      for (var G = K; G < i; G += 2) {
          var j = E[G]
            , a = E[G + 1];
          C = Math.min(C, j);
          k = Math.min(k, a);
          N = Math.max(N, j);
          V = Math.max(V, a)
      }
      return new h4(C,k,N - C,V - k)
  }
  ;
  _.$.rE = function(E, K) {
      var i = Math.max(K.x, Math.min(K.x + K.d, E.x))
        , C = Math.max(K.y, Math.min(K.y + K.v, E.y))
        , N = E.x - i
        , k = E.y - C;
      return Math.sqrt(N * N + k * k)
  }
  ;
  _.$.BK = function(E) {
      if (E.OL())
          return new h4(Math.floor(E.x),Math.floor(E.y),Math.ceil(E.d),Math.ceil(E.v));
      var K = Math.floor(E.x)
        , i = Math.ceil(E.x + E.d)
        , C = Math.floor(E.y)
        , N = Math.ceil(E.y + E.v);
      return new h4(K,C,i - K,N - C)
  }
  ;
  _.$.PA = function(E) {
      return _.$.BK(_.$.Rk(E))
  }
  ;
  _.$.X6 = function(E) {
      var K = E.x
        , i = E.y
        , C = E.x + E.d
        , N = E.y + E.v;
      return {
          Z: ["M", "L", "L", "L", "Z"],
          H: [K, i, C, i, C, N, K, N]
      }
  }
  ;
  _.$.concat = function(E, K, i) {
      if (i == null)
          i = new fn;
      for (var G = 0; G < K.H.length; G += 2) {
          var C = K.H[G]
            , N = K.H[G + 1];
          E.H.push(C * i.R + N * i.x9 + i.vK);
          E.H.push(C * i.O + N * i.bI + i.Cz)
      }
      for (var G = 0; G < K.Z.length; G++)
          E.Z.push(K.Z[G])
  }
  ;
  _.$.Eq = function(E) {
      var K = E.H
        , i = []
        , C = []
        , N = 0
        , k = 0
        , V = 0
        , j = 0
        , a = 0
        , e = 0
        , L = 0
        , g = 0
        , I = 0;
      for (var G = 0; G < E.Z.length; G++) {
          var h = E.Z[G];
          if (h == "M") {
              k = K[N];
              V = K[N + 1];
              N += 2;
              C.push(h);
              i.push(k, V)
          } else if (h == "C") {
              j = K[N];
              a = K[N + 1];
              e = K[N + 2];
              L = K[N + 3];
              g = K[N + 4];
              I = K[N + 5];
              N += 6;
              C.push(h);
              i.push(j, a, e, L, g, I);
              k = g;
              V = I
          } else if (h == "Q") {
              j = K[N];
              a = K[N + 1];
              e = K[N + 2];
              L = K[N + 3];
              N += 4;
              var o = j - k
                , H = a - V
                , A = e - j
                , S = L - a;
              C.push("C");
              i.push(k + 2 / 3 * o, V + 2 / 3 * H, j + 1 / 3 * A, a + 1 / 3 * S, e, L);
              k = e;
              V = L
          } else if (h == "L") {
              j = K[N];
              a = K[N + 1];
              N += 2;
              var v = j - k
                , s = a - V;
              C.push("C");
              i.push(k, V, j, a, j, a);
              k = j;
              V = a
          } else
              C.push(h)
      }
      return {
          Z: C,
          H: i
      }
  }
  ;
  _.$.a8P = function(E) {
      var K = E.H
        , i = []
        , C = []
        , N = 0;
      for (var G = 0; G < E.Z.length; G++) {
          var k = E.Z[G];
          if (k == "Q") {
              var V = K[N - 2]
                , j = K[N - 1]
                , a = K[N]
                , e = K[N + 1]
                , L = K[N + 2]
                , g = K[N + 3];
              N += 4;
              var I = a - V
                , h = e - j
                , o = L - a
                , H = g - e;
              C.push("C");
              i.push(V + 2 / 3 * I, j + 2 / 3 * h, a + 1 / 3 * o, e + 1 / 3 * H, L, g)
          } else {
              var A = 0;
              if (k == "M" || k == "L")
                  A = 2;
              else if (k == "C")
                  A = 6;
              for (var S = 0; S < A; S++)
                  i.push(K[N + S]);
              N += A;
              C.push(k)
          }
      }
      return {
          Z: C,
          H: i
      }
  }
  ;
  _.$.Ye = function(E, K) {
      var i = E.H
        , C = []
        , N = []
        , k = 0
        , V = 0
        , j = 0
        , a = 0
        , e = 0
        , L = 0
        , g = 0
        , I = 0
        , h = 0;
      for (var G = 0; G < E.Z.length; G++) {
          var o = E.Z[G];
          if (o == "M") {
              V = i[k];
              j = i[k + 1];
              k += 2;
              N.push(o);
              C.push(V, j)
          } else if (o == "C") {
              a = i[k];
              e = i[k + 1];
              L = i[k + 2];
              g = i[k + 3];
              I = i[k + 4];
              h = i[k + 5];
              k += 6;
              _.$.FV(V, j, a, e, L, g, I, h, K, N, C, 0);
              V = I;
              j = h
          } else
              N.push(o)
      }
      return {
          Z: N,
          H: C
      }
  }
  ;
  _.$.FV = function(E, K, i, C, N, k, V, j, a, e, L, g) {
      var I = Math.sqrt((V - E) * (V - E) + (j - K) * (j - K))
        , h = Math.sqrt((V - N) * (V - N) + (j - k) * (j - k)) + Math.sqrt((N - i) * (N - i) + (k - C) * (k - C)) + Math.sqrt((i - E) * (i - E) + (C - K) * (C - K))
        , o = (I + h) / 2;
      if (o <= a) {
          e.push("C");
          L.push(i, C, N, k, V, j)
      } else {
          var H = 0
            , A = 0
            , S = 0
            , v = 0
            , s = 0
            , D = 0
            , F = 0
            , y = 0
            , T = 0
            , Q = 0
            , B = 0
            , r = 0
            , J = 0;
          A = (E + i) / 2;
          S = (K + C) / 2;
          v = (i + N) / 2;
          s = (C + k) / 2;
          D = (N + V) / 2;
          F = (k + j) / 2;
          y = (A + v) / 2;
          T = (S + s) / 2;
          Q = (v + D) / 2;
          B = (s + F) / 2;
          r = (y + Q) / 2;
          J = (T + B) / 2;
          _.$.FV(E, K, A, S, y, T, r, J, a, e, L, g + 1);
          _.$.FV(r, J, Q, B, D, F, V, j, a, e, L, g + 1)
      }
  }
  ;
  _.$.aC = function(E, K) {
      var i = E.length - 2
        , C = E[0]
        , N = E[1]
        , k = E[i]
        , V = E[i + 1]
        , j = k - C
        , a = V - N
        , e = 1 / Math.sqrt(j * j + a * a)
        , L = k * N - V * C
        , g = -1
        , I = -1;
      for (var G = 2; G < i; G += 2) {
          var h = E[G]
            , o = E[G + 1]
            , H = Math.abs(a * h - j * o + L) * e;
          if (H > I) {
              I = H;
              g = G
          }
      }
      if (I < K)
          return [C, N, k, V];
      var A = _.$.aC(E.slice(0, g + 2), K)
        , S = _.$.aC(E.slice(g), K);
      for (var G = 2; G < S.length; G++)
          A.push(S[G]);
      return A
  }
  ;
  _.$.agz = function() {
      var E = function(C, N, k, V, j, a) {
          return (N - V) * (j - k) + (k - C) * (a - V) >= 0
      }
        , K = function(C, N, k, V, j, a, e, L) {
          var g = e - k
            , I = L - V
            , h = j - k
            , o = a - V
            , H = C - k
            , A = N - V
            , S = g * g + I * I
            , v = g * h + I * o
            , s = g * H + I * A
            , D = h * h + o * o
            , F = h * H + o * A
            , y = 1 / (S * D - v * v)
            , T = (D * s - v * F) * y
            , Q = (S * F - v * s) * y;
          return T >= 0 && Q >= 0 && T + Q < 1
      }
        , i = function(C) {
          var l = C.length >>> 1
            , G = 0;
          if (l < 3)
              return [];
          var N = []
            , k = [];
          for (var G = 0; G < l; G++)
              k.push(G);
          var V = l;
          while (V > 3) {
              var j = k[(G + 0) % V]
                , a = k[(G + 1) % V]
                , e = k[(G + 2) % V]
                , L = C[2 * j]
                , g = C[2 * j + 1]
                , I = C[2 * a]
                , h = C[2 * a + 1]
                , o = C[2 * e]
                , H = C[2 * e + 1]
                , A = !1;
              if (E(L, g, I, h, o, H)) {
                  A = !0;
                  for (var S = 0; S < V; S++) {
                      var v = k[S];
                      if (v == j || v == a || v == e)
                          continue;
                      if (K(C[2 * v], C[2 * v + 1], L, g, I, h, o, H)) {
                          A = !1;
                          break
                      }
                  }
              }
              if (A) {
                  N.push(j, a, e);
                  k.splice((G + 1) % V, 1);
                  V--;
                  G = 0
              } else if (G++ > 3 * V)
                  break
          }
          N.push(k[0], k[1], k[2]);
          return N
      };
      return i
  }();
  _.$.aod = function(E, K) {
      var i = {}
        , C = {
          Z: [],
          H: []
      };
      for (var G = 0; G < K.length; G += 3) {
          var N = K[G] * 2
            , k = K[G + 1] * 2
            , V = K[G + 2] * 2;
          _.$.J6(E, N, k, C, i);
          _.$.J6(E, N, V, C, i);
          _.$.J6(E, k, V, C, i)
      }
      return C
  }
  ;
  _.$.J6 = function(E, K, i, C, N) {
      if (K > i) {
          var k = i;
          i = K;
          K = k
      }
      if (N[K + "," + i])
          return;
      N[K + "," + i] = !0;
      C.Z.push("M", "L");
      C.H.push(E[K], E[K + 1], E[i], E[i + 1])
  }
  ;
  _.$.KK = function(E, K) {
      var i = []
        , C = E.length;
      for (var G = 0; G < C; G += 2) {
          var N = E[G]
            , k = E[G + 1]
            , V = E[(G + 2) % C]
            , j = E[(G + 3) % C];
          if (j < k) {
              var a = k;
              k = j;
              j = a
          }
          if (k < K && K < j) {
              var e = (K - k) / (j - k);
              i.push(N + e * (V - N))
          }
      }
      i.sort(function(L, g) {
          return L - g
      });
      return i
  }
  ;
  _.$.aoG = function(E, K) {
      var i = K.slice(0)
        , l = E.length / 2
        , C = []
        , N = [];
      for (var G = 0; G < l; G++) {
          var k = (G + 1) % l
            , V = E[2 * G] - E[2 * k]
            , j = E[2 * G + 1] - E[2 * k + 1];
          N[G] = Math.sqrt(V * V + j * j)
      }
      for (var G = 0; G < l; G++) {
          var a = (G - 1 + l) % l
            , k = (G + 1) % l
            , e = K[G]
            , L = e + K[a]
            , g = e + K[k];
          if (L != 0)
              i[G] = Math.min(i[G], N[a] * e / L);
          if (g != 0)
              i[G] = Math.min(i[G], N[G] * e / g)
      }
      for (var G = 0; G < l; G++) {
          var k = (G + 1) % l
            , I = (G + 2) % l
            , h = i[G]
            , o = i[k]
            , H = E[2 * G]
            , A = E[2 * G + 1]
            , S = E[2 * k]
            , v = E[2 * k + 1]
            , s = E[2 * I]
            , D = E[2 * I + 1]
            , F = N[G]
            , y = N[k]
            , T = _.$.a42(H, A, S, v, s, D, h, o, F, y);
          C.push(T[0], T[1], T[0], T[1], T[2], T[3]);
          C.push(T[2], T[3], T[4], T[5], T[6], T[7])
      }
      return C
  }
  ;
  _.$.a42 = function(E, K, i, C, N, k, V, j, a, e) {
      if (a == null)
          a = Math.sqrt((i - E) * (i - E) + (C - K) * (C - K));
      if (e == null)
          e = Math.sqrt((N - i) * (N - i) + (k - C) * (k - C));
      var L = .553
        , g = 0
        , I = 0
        , h = 0
        , o = 0;
      if (a != 0) {
          g = (i - E) / a;
          I = (C - K) / a
      }
      if (e != 0) {
          h = (N - i) / e;
          o = (k - C) / e
      }
      var H = E + V * g
        , A = K + V * I
        , S = i - j * g
        , v = C - j * I;
      return [H, A, S, v, i - j * g * (1 - L), C - j * I * (1 - L), i + j * h * (1 - L), C + j * o * (1 - L), i + j * h, C + j * o]
  }
  ;
  _.$.Ur = function(E, K, i, C, N, k, V) {
      var j = E - i
        , a = K - C
        , e = N - i
        , L = k - C
        , g = 1 / Math.sqrt(j * j + a * a)
        , I = 1 / Math.sqrt(e * e + L * L)
        , h = j * g
        , o = a * g
        , H = e * I
        , A = L * I
        , S = o * V
        , v = -h * V
        , s = -A * V
        , D = H * V
        , F = _.$.JL(S, v, h, o, s, D, H, A)
        , y = S + h * F
        , T = v + o * F
        , F = _.$.JL(0, 0, h, o, y, T, -o, h)
        , Q = h * F
        , B = o * F;
      return [Math.sqrt(Q * Q + B * B), h, o, H, A]
  }
  ;
  _.$.C7 = function(E, K, i, C, N, k, V) {
      var j = _.$.Ur(E, K, i, C, N, k, V)
        , a = j[0]
        , e = j[1]
        , L = j[2]
        , g = j[3]
        , I = j[4]
        , h = Math.atan2(e * I - L * g, e * g + L * I);
      if (h < 0) {
          h = h * -1
      }
      var o = Math.PI - h
        , H = 4 / 3 * Math.tan(o / 4)
        , A = i + a * e
        , S = C + a * L
        , v = i + a * g
        , s = C + a * I
        , D = A + H * V * -e
        , F = S + H * V * -L
        , y = v + H * V * -g
        , T = s + H * V * -I;
      return [0, 0, A, S, D, F, y, T, v, s]
  }
  ;
  _.$.JL = function(E, K, i, C, N, k, V, j) {
      var a = V * (K - k) - j * (E - N)
        , e = j * i - V * C;
      if (e == 0)
          return 0;
      return a / e
  }
  ;
  _.$.C7(0, 50, 0, 0, 30, 30, 10);
  _.GF = function() {}
  ;
  _.GF.Wb = function(E, K, i, C, N) {
      var k = i.d
        , V = i.v
        , j = k * V
        , a = new Int32Array(j)
        , l = 0;
      for (var G = 0; G < j; G++)
          if (K[G] != 0) {
              a[G] = l;
              l++
          } else if (E[(G << 2) + 3] < 200) {
              a[G] = -2
          } else
              a[G] = -1;
      if (l == 0)
          return;
      var e = new _.Dr(l,l)
        , L = new Array(3 * l)
        , g = new Array(3 * l);
      for (var G = 0; G < g.length; G++)
          g[G] = L[G] = 0;
      var I = 1 / 255
        , h = [-k, -1, 1, k]
        , o = []
        , H = [];
      for (var A = 0; A < V; A++)
          for (var S = 0; S < k; S++) {
              var v = A * k + S
                , s = v << 2
                , G = a[v]
                , D = G * 3
                , F = 0
                , y = 0
                , T = 0;
              if (G == -1 || G == -2)
                  continue;
              for (var Q = 0; Q < 4; Q++) {
                  if (Q == 2) {
                      y = T;
                      o[T] = 0;
                      H[T] = G;
                      T++
                  }
                  var B = v + h[Q]
                    , r = B << 2
                    , J = a[B];
                  if (Q == 0 && A == 0 || Q == 1 && S == 0 || Q == 2 && S == k - 1 || Q == 3 && A == V - 1 || J == -2)
                      continue;
                  F++;
                  if (J == -1) {
                      L[D + 0] += E[r + 0];
                      L[D + 1] += E[r + 1];
                      L[D + 2] += E[r + 2]
                  } else {
                      o[T] = -1;
                      H[T] = J;
                      T++;
                      if (K[v] == K[B]) {
                          L[D + 0] += E[s + 0] - E[r + 0];
                          L[D + 1] += E[s + 1] - E[r + 1];
                          L[D + 2] += E[s + 2] - E[r + 2]
                      }
                  }
              }
              o[y] = F;
              e.rx(o, H, T)
          }
      for (var G = 0; G < j; G++)
          if (a[G] != -1) {
              var m = G << 2
                , x = a[G]
                , R = x * 3;
              g[R] = E[m + 0];
              g[R + 1] = E[m + 1];
              g[R + 2] = E[m + 2]
          }
      var b = Date.now();
      e.a9I(g, L, C, N);
      console.log(Date.now() - b);
      for (var G = 0; G < j; G++) {
          var x = a[G]
            , z = x * 3
            , m = G << 2;
          if (x == -1 || E[m + 3] != 255)
              continue;
          E[m + 0] = ~~(.5 + Math.max(0, Math.min(255, g[z + 0])));
          E[m + 1] = ~~(.5 + Math.max(0, Math.min(255, g[z + 1])));
          E[m + 2] = ~~(.5 + Math.max(0, Math.min(255, g[z + 2])))
      }
  }
  ;
  _.rect = {};
  _.rect.J$ = function(E, K) {
      var i = [E]
        , C = [];
      for (var G = 0; G < K.length; G++) {
          var N = K[G]
            , k = !1;
          for (var V = G + 1; V < K.length; V++) {
              var j = K[V];
              if (j[0] <= N[0] && j[1] <= N[1] && N[2] <= j[2] && N[3] <= j[3]) {
                  k = !0;
                  break
              }
          }
          if (!k)
              C.push(N)
      }
      K = C;
      for (var G = 0; G < K.length; G++) {
          var N = K[G];
          for (var V = 0; V < i.length; V++) {
              var j = i[V]
                , a = Math.max(N[0], j[0])
                , e = Math.min(N[2], j[2])
                , L = Math.max(N[1], j[1])
                , g = Math.min(N[3], j[3]);
              if (a < e && L < g) {
                  var I = [];
                  if (j[1] < N[1]) {
                      var h = j.slice(0);
                      h[3] = N[1];
                      I.push(h)
                  }
                  if (j[0] < N[0]) {
                      var o = j.slice(0);
                      o[1] = L;
                      o[2] = N[0];
                      I.push(o)
                  }
                  if (N[2] < j[2]) {
                      var H = j.slice(0);
                      H[1] = L;
                      H[0] = N[2];
                      I.push(H)
                  }
                  if (N[3] < j[3]) {
                      var A = [a, g, e, j[3]];
                      I.push(A)
                  }
                  if (I.length != 0) {
                      i[V] = I[0];
                      for (var S = 1; S < I.length; S++)
                          i.push(I[S])
                  }
              }
          }
          i.push(N);
          i = _.rect.a6s(i)
      }
      i.sort(function(N, j) {
          return N[1] != j[1] ? N[1] - j[1] : N[0] - j[0]
      });
      return i
  }
  ;
  _.rect.a6s = function(E) {
      E = E.slice(0);
      for (var G = 0; G < E.length; G++) {
          var K = E[G]
            , i = null;
          if (K[4] != null)
              continue;
          for (var C = 0; C < E.length; C++) {
              var N = E[C];
              if (G == C || N[4] != null)
                  continue;
              var k = K[0] == N[0]
                , V = K[1] == N[1]
                , j = K[2] == N[2]
                , a = K[3] == N[3];
              if (V && a && (K[2] == N[0] || K[0] == N[2])) {
                  i = [Math.min(K[0], N[0]), K[1], Math.max(K[2], N[2]), K[3]]
              }
              if (k && j && (K[3] == N[1] || K[1] == N[3])) {
                  i = [K[0], Math.min(K[1], N[1]), K[2], Math.max(K[3], N[3])]
              }
              if (i) {
                  E[G] = i;
                  E.splice(C, 1);
                  break
              }
          }
          if (i) {
              G--
          }
      }
      return E
  }
  ;
  _.rect.Pa = function(E) {
      var K = new h4;
      for (var G = 0; G < E.length; G++)
          K = K.ip(E[G]);
      return K
  }
  ;
  _.rect.a7I = function(E, K) {
      var i = _.rect.Pa
        , C = new UnionFind(E.length)
        , y = 1e3
        , T = 1e3;
      for (var G = 0; G < E.length; G++)
          for (var N = G + 1; N < E.length; N++) {
              if (!K)
                  continue;
              var k = E[G]
                , V = E[N]
                , g = 1e9
                , I = 1e9;
              if (k.ET(V)) {
                  C.link(G, N);
                  continue
              }
              var j = k.x + k.d
                , a = k.y + k.v
                , e = V.x + V.d
                , L = V.y + V.v;
              if ((j < V.x || e < k.x) && (a < V.y || L < k.y))
                  continue;
              if (!(a < V.y || L < k.y))
                  g = Math.min(Math.abs(j - V.x), Math.abs(k.x - e));
              if (!(j < V.x || e < k.x))
                  I = Math.min(Math.abs(a - V.y), Math.abs(k.y - L));
              var h = Math.min(g, I)
                , o = Math.min(k.d, k.v, V.d, V.v);
              if (h < .3 * o)
                  C.link(G, N)
          }
      var H = []
        , A = {};
      for (var G = 0; G < E.length; G++) {
          var S = C.find(G)
            , v = E[G];
          if (A[S] == null) {
              A[S] = H.length;
              H.push([])
          }
          H[A[S]].push(v)
      }
      var s = []
        , D = [];
      for (var G = 0; G < H.length; G++) {
          s.push(i(H[G]));
          var F = i(H[G]);
          F.na = G;
          D.push(F)
      }
      D.sort(function($, P) {
          return Math.max(P.v, P.d) - Math.max($.v, $.d)
      });
      var Q = new NETXUS.RectanglePacker(y,T);
      while (!0) {
          var B = !1;
          Q.reset(y, T);
          for (var G = 0; G < D.length; G++) {
              var r = Q.findCoords(D[G].d, D[G].v);
              if (r) {
                  D[G].x = r.x;
                  D[G].y = r.y
              } else {
                  y = Math.floor(y * 1.1);
                  T = Math.floor(T * 1.1);
                  B = !0;
                  break
              }
          }
          if (B)
              continue;
          break
      }
      for (var G = 0; G < H.length; G++) {
          var J = D[G]
            , m = J.na
            , x = s[m]
            , R = H[m]
            , b = J.x - x.x
            , z = J.y - x.y;
          for (var N = 0; N < R.length; N++)
              R[N].offset(b, z)
      }
  }
  ;
  _.lj = function() {}
  ;
  _.lj.Wa = Math.floor(16 * window.devicePixelRatio);
  _.lj.fd = {};
  _.lj.hR = 0;
  _.lj.Cx = [[12, 76, 2], [12, 76, 3], [12, 76, 4], [12, 76, 5], [12, 76, 6]];
  _.lj.a5R = ["px", "in", "cm", "mm", "%"];
  _.lj.wR = function(E, K, i) {
      var C = K.v9
        , N = [1, C, C / 2.54, C / 25.4, K.d / 100][i];
      return E * N
  }
  ;
  _.lj.Fg = function(E, K, i, C, N) {
      var k = i.bA.RG
        , V = [1, K, K / 2.54, K / 25.4, C / 100][k]
        , j = [2, 3, 2, 1, 2][k];
      E = E / V;
      var a = Math.round(E)
        , e = k == 0 && Math.abs(E - a) < 1e-6 ? a + "" : E.toFixed(j);
      if (N)
          e += " " + _.lj.a5R[k];
      return e
  }
  ;
  _.lj.a43 = function(E, K, i, C) {
      var N = i.bA.RG
        , k = [1, K, K / 2.54, K / 25.4, C / 100][N];
      E = parseFloat(E) * k;
      return E
  }
  ;
  _.lj.ab_ = function(E, K) {
      var i = E + "," + K;
      if (_.lj.fd.clr == i)
          return;
      var C = Math.round(_.lj.Wa * .5);
      _.lj.hR = C;
      var N = document.createElement("canvas");
      N.width = N.height = C;
      var k = N.getContext("2d");
      k.font = C * 1.5 + "px monospace";
      var V = "0 1 2 3 4 5 6 7 8 9 -".split(" ");
      for (var G = 0; G < V.length; G++) {
          k.fillStyle = "#" + _.rS(K);
          k.fillRect(0, 0, C, C);
          k.fillStyle = "#" + _.rS(E);
          k.fillText(V[G], 0, C);
          _.lj.fd[V[G]] = k.getImageData(0, 0, C, C).data
      }
      _.lj.fd.clr = i
  }
  ;
  _.lj.aau = function(E, K, i) {
      var C = 0
        , N = 0
        , k = 4 * _.lj.Wa;
      for (var G = 9; G >= 0; G--) {
          var V = Math.pow(10, G);
          if (5 * V * E <= k) {
              C = 5 * V;
              N = 10;
              break
          }
          if (2 * V * E <= k) {
              C = 2 * V;
              N = 4;
              break
          }
          if (1 * V * E <= k) {
              C = 1 * V;
              N = 10;
              break
          }
      }
      if (C == 0) {
          C = 1;
          N = 10
      }
      var j = Math.ceil(C * E)
        , a = _.I(j * _.lj.Wa * 4);
      _.EE(a, 4278190080 | i);
      for (var G = 0; G < _.lj.Wa; G++)
          _.lj.Pw(a, 4 * G * j, K);
      for (var G = 0; G < j; G++)
          _.lj.Pw(a, 4 * ((_.lj.Wa - 1) * j + G), K);
      if (C == 2)
          N = 2;
      if (C == 5)
          N = 5;
      if (C > 1 || C == 1 && j > 20)
          for (var G = 1; G < N; G++)
              _.lj.agK(a, G * (j / N), j, (G & 1) == 1 ? .8 : .7, K);
      return {
          Ap: a,
          step: C
      }
  }
  ;
  _.lj.agK = function(E, K, i, C, N) {
      var K = Math.round(K);
      for (var k = Math.round(_.lj.Wa * C); k < _.lj.Wa - 1; k++)
          _.lj.Pw(E, 4 * (k * i + K), N)
  }
  ;
  _.lj.Pw = function(E, K, i) {
      E[K + 0] = i >> 16 & 255;
      E[K + 1] = i >> 8 & 255;
      E[K + 2] = i & 255
  }
  ;
  _.lj.amK = function(E, K, i, C, N) {
      var k = E.DK.d, V = E.DK.v, j = _.lj.Wa, a = K & 255, e = K >> 8 & 255, L = K >> 16 & 255, y, T, Q, B;
      K = Math.round(a * .6) << 16 | Math.round(e * .6) << 8 | Math.round(L * .6);
      _.lj.ab_(Math.round(a * .8) << 16 | Math.round(e * .8) << 8 | Math.round(L * .8), i);
      var g = this.aau(E.S, K, i)
        , I = E.Eb(0, 0)
        , h = E.Eb(k, V)
        , o = Math.floor(I.x / g.step) * g.step
        , H = Math.ceil(h.x / g.step) * g.step
        , A = Math.floor(I.y / g.step) * g.step
        , S = Math.ceil(h.y / g.step) * g.step
        , v = E.Dl(o, A)
        , s = E.Dl(H, A)
        , D = g.step * E.S
        , F = Math.ceil(D);
      y = E.ik.data;
      T = new h4(0,0,k,j);
      Q = new h4(0,0,F,j);
      B = new h4(0,Math.round(j * .08),_.lj.hR,_.lj.hR);
      for (var G = 0; G < (H - o) / g.step; G++) {
          Q.x = Math.round(v.x + G * D);
          _.p8(g.Ap, Q, y, T, Q);
          var r = (o + G * g.step).toString(10);
          for (var J = 0; J < r.length; J++) {
              B.x = Q.x + 3 + J * Math.round(_.lj.hR * .8);
              var m = _.lj.fd[r[J]];
              _.p8(m, B, y, T, B)
          }
      }
      var x = new Uint32Array(g.Ap.buffer)
        , R = new Uint32Array(g.Ap.length);
      for (var b = 0; b < F; b++)
          for (var z = 0; z < j; z++) {
              R[b * j + z] = x[z * F + b]
          }
      g.Ap = new Uint8Array(R.buffer);
      y = E._h.data;
      T = new h4(0,0,j,V);
      Q = new h4(0,0,j,F);
      B = new h4(Math.round(j * .2),0,_.lj.hR,_.lj.hR);
      for (var G = 0; G < (S - A) / g.step; G++) {
          Q.y = Math.round(v.y + G * D);
          _.p8(g.Ap, Q, y, T, Q);
          var r = Math.abs(A + G * g.step).toString(10);
          for (var J = 0; J < r.length; J++) {
              B.y = Q.y + 3 + J * Math.round(_.lj.hR * 1.15);
              var m = _.lj.fd[r[J]];
              _.p8(m, B, y, T, B)
          }
      }
      var $ = Math.floor(j * .6)
        , P = new Uint32Array(E.ik.data.buffer)
        , t = new Uint32Array(E._h.data.buffer)
        , X = a < 128 ? 4278190080 : 4294967295;
      if (0 < C && C < k)
          for (var G = 0; G < $; G++)
              P[G * k + C] = X;
      if (0 < N && N < V)
          for (var G = 0; G < $; G++)
              t[N * j + G] = X
  }
  ;
  _.scale = {};
  _.scale.n4 = document.createElement("canvas");
  _.scale.se = _.scale.n4.getContext("2d");
  _.scale.anM = document.createElement("canvas");
  _.scale.a34 = _.scale.anM.getContext("2d");
  _.scale.Vj = function(E, K, i) {
      var C = _.scale.n4
        , N = _.scale.se;
      C.width = K;
      C.height = i;
      var k = new ImageData(new Uint8ClampedArray(E.buffer),K,i);
      N.putImageData(k, 0, 0);
      return N.createPattern(C, "repeat")
  }
  ;
  _.scale.ajM = function(E, K, i, C, N, k, V, j) {
      var a = _.scale.rU(E, i, C, N, k, V, j);
      _.nT(a.data, K)
  }
  ;
  _.scale.a9C = function(E, K, i, C, N, k, V, j) {
      var a = _.scale.rU(E, i, C, N, k, V, j);
      _.uJ(a.data, K)
  }
  ;
  _.scale.rU = function(E, K, i, C, N, k, V) {
      var j = _.scale.n4
        , a = _.scale.se;
      j.width = K;
      j.height = i;
      a.rect(0, 0, K, i);
      a.translate(k, V);
      a.scale(C, N);
      a.fillStyle = E;
      a.fill();
      return a.getImageData(0, 0, K, i)
  }
  ;
  _.scale.m = function(E, K, i, C, N) {
      var k = i.clone();
      k.KP();
      var V = N.d
        , j = N.v
        , a = _.$.X6(K).H;
      _.$.m(a, k, a);
      var e = _.$.PA(a).lx(N)
        , L = e.x
        , g = e.y
        , I = L + e.d
        , h = g + e.v
        , o = ~~K.x
        , H = ~~K.y
        , A = ~~K.d
        , S = ~~K.v;
      for (var v = g; v < h; v++)
          for (var s = L; s < I; s++) {
              var D = s + .5
                , F = v + .5
                , y = i.R * D + i.x9 * F + i.vK - o
                , T = i.O * D + i.bI * F + i.Cz - H;
              if (0 <= y && 0 <= T && y < A && T < S)
                  C[v * V + s] = E[~~T * A + ~~y]
          }
  }
  ;
  _.scale.a8O = function(E, K, i, C, N) {
      var k = new Uint32Array(E.buffer)
        , V = new Uint32Array(C.buffer)
        , j = i.clone();
      j.KP();
      var a = N.d
        , e = N.v
        , L = _.$.X6(K).H;
      _.$.m(L, j, L);
      var g = _.$.PA(L).lx(N)
        , I = g.x
        , h = g.y
        , o = I + g.d
        , H = h + g.v
        , A = ~~K.x
        , S = ~~K.y
        , v = ~~K.d
        , s = ~~K.v;
      for (var D = h; D < H; D++)
          for (var F = I; F < o; F++) {
              var y = F + .5
                , T = D + .5
                , Q = i.R * y + i.x9 * T + i.vK - A
                , B = i.O * y + i.bI * T + i.Cz - S;
              if (0 <= Q && 0 <= B && Q < v && B < s)
                  V[D * a + F] = k[~~B * v + ~~Q]
          }
  }
  ;
  _.scale.v6 = function(E, K, i, C, N, k, V) {
      if (V < 1)
          _.scale.a1n(E, K, i, C, N, k, Math.round(1 / V));
      else
          _.scale.a8S(E, K, i, C, N, k, V)
  }
  ;
  _.scale.OB = function(E, K, i, C, N, k, V, j) {
      if (j)
          j = j.lx(new h4(0,0,K,i));
      E = new Uint32Array(E.buffer);
      C = new Uint32Array(C.buffer);
      if (V < 1)
          _.scale.a96(E, K, i, C, N, k, Math.round(1 / V), j);
      else
          _.scale.a5J(E, K, i, C, N, k, V)
  }
  ;
  _.scale.a8S = function(E, K, i, C, N, k, V) {
      for (var j = 0; j < i; j++)
          for (var a = 0; a < K; a++) {
              var e = E[j * K + a]
                , L = Math.min(V, N - a * V)
                , g = Math.min(V, k - j * V);
              for (var G = 0; G < g; G++)
                  for (var I = 0; I < L; I++)
                      C[(V * j + G) * N + V * a + I] = e
          }
  }
  ;
  _.scale.a1n = function(E, K, i, C, N, k, V) {
      for (var j = 0; j < k; j++)
          for (var a = 0; a < N; a++) {
              var e = 0
                , L = Math.min(V, K - a * V)
                , g = Math.min(V, i - j * V);
              for (var G = 0; G < g; G++)
                  for (var I = 0; I < L; I++)
                      e += E[(V * j + G) * K + (V * a + I)];
              C[j * N + a] = Math.round(e / (L * g))
          }
  }
  ;
  _.scale.a5J = function(E, K, i, C, N, k, V) {
      for (var j = 0; j < i; j++)
          for (var a = 0; a < K; a++) {
              var e = E[j * K + a]
                , L = Math.min(V, N - a * V)
                , g = Math.min(V, k - j * V);
              for (var G = 0; G < g; G++)
                  for (var I = 0; I < L; I++)
                      C[(V * j + G) * N + V * a + I] = e
          }
  }
  ;
  _.scale.a96 = function(E, K, i, C, N, k, V, j) {
      var a = 0
        , e = N
        , L = 0
        , g = k;
      if (j) {
          a = Math.floor(j.x / V);
          e = Math.ceil((j.x + j.d) / V);
          L = Math.floor(j.y / V);
          g = Math.ceil((j.y + j.v) / V)
      }
      for (var I = L; I < g; I++)
          for (var h = a; h < e; h++) {
              var o = 0
                , H = 0
                , A = 0
                , S = 0
                , v = Math.min(V, K - h * V)
                , s = Math.min(V, i - I * V);
              for (var G = 0; G < s; G++)
                  for (var D = 0; D < v; D++) {
                      var F = E[(V * I + G) * K + V * h + D]
                        , y = F >>> 24;
                      o += y;
                      H += y * (F >>> 16 & 255);
                      A += y * (F >>> 8 & 255);
                      S += y * (F & 255)
                  }
              if (o != 0) {
                  var T = 1 / o;
                  C[I * N + h] = o / (v * s) << 24 | H * T << 16 | A * T << 8 | S * T
              } else
                  C[I * N + h] = 0
          }
  }
  ;
  _.N = {};
  _.N.agY = function(E, K, i) {
      var C = 128
        , G = 0
        , N = i.d
        , k = i.v;
      for (var V = 0; V < k; V++)
          for (var j = 0; j < N; j++) {
              if (E[G] >= C && (j == 0 || E[G - 1] < C || (j == N - 1 || E[G + 1] < C) || (V == 0 || E[G - N] < C) || (V == k - 1 || E[G + N] < C)))
                  K[G] = 255;
              G++
          }
  }
  ;
  _.N.a8k = function(E, K, i, C) {
      var N = new Uint32Array([4278190080, 4294967295])
        , k = i.d
        , V = i.v
        , j = 0
        , a = 0
        , e = k
        , L = V;
      if (C) {
          j = C.x - i.x;
          a = C.y - i.y;
          e = j + C.d;
          L = a + C.v
      }
      var g = new Uint8Array(K.buffer)
        , I = new Uint32Array(K.buffer);
      for (var h = a; h < L; h++)
          for (var o = j; o < e; o++) {
              var G = h * k + o;
              if ((E[G] & 128) != 0 && (h == 0 || (E[G - k] & 128) == 0 || o == 0 || (E[G - 1] & 128) == 0 || o == k - 1 || (E[G + 1] & 128) == 0 || h == V - 1 || (E[G + k] & 128) == 0)) {
                  I[G] = N[(o + h & 4) >>> 2]
              }
          }
  }
  ;
  _.N.a2m = function(E, K, i, C, N, k) {
      var V = i.d
        , j = i.v
        , a = 0
        , e = 0
        , L = V
        , g = j;
      if (C) {
          a = C.x - i.x;
          e = C.y - i.y;
          L = a + C.d;
          g = e + C.v
      }
      var I = new Uint8Array(K.buffer)
        , h = new Uint32Array(K.buffer);
      for (var o = e; o < g; o++)
          for (var H = a; H < L; H++) {
              var G = o * V + H
                , A = E[G];
              if (N == 1)
                  h[G] = 255 - A >>> 1 << 24 | 255;
              else
                  h[G] = 255 << 24 | (A << 16 | A << 8 | A)
          }
  }
  ;
  _.zv = {};
  _.zv.fa = function(E, K, i) {
      var C, N;
      if (i == "front") {
          C = E.rect.clone();
          N = _.zv.adO
      }
      if (i == "union") {
          C = E.rect.ip(K.rect);
          N = _.zv.ip
      }
      if (i == "difference") {
          C = K.rect.clone();
          N = _.zv.a1D
      }
      if (i == "intersection") {
          C = E.rect.lx(K.rect);
          N = _.zv.lx
      }
      if (i == "xor") {
          C = E.rect.ip(K.rect);
          N = _.zv.a4X
      }
      if (C.OL())
          return null;
      var k = _.I(C.X());
      _.ie(K.channel, K.rect, k, C);
      var V = _.I(C.X());
      _.ie(E.channel, E.rect, V, C);
      N(V, k, k);
      var j = _.NM(k, C);
      if (j.OL())
          return null;
      if (!j.Ql(C)) {
          var a = _.I(j.X());
          _.ie(k, C, a, j);
          k = a;
          C = j
      }
      return {
          channel: k,
          rect: C
      }
  }
  ;
  _.zv.adO = function(E, K, i) {
      for (var G = 0; G < E.length; G++)
          i[G] = E[G]
  }
  ;
  _.zv.ip = function(E, K, i) {
      for (var G = 0; G < E.length; G++)
          i[G] = Math.min(E[G] + K[G], 255)
  }
  ;
  _.zv.a1D = function(E, K, i) {
      for (var G = 0; G < E.length; G++)
          i[G] = Math.max(K[G] - E[G], 0)
  }
  ;
  _.zv.lx = function(E, K, i) {
      var C = 1 / 255;
      for (var G = 0; G < E.length; G++)
          i[G] = E[G] * K[G] * C
  }
  ;
  _.zv.a4X = function(E, K, i) {
      var C = 1 / 255;
      for (var G = 0; G < E.length; G++)
          i[G] = Math.min(E[G] + K[G], 255) - E[G] * K[G] * C
  }
  ;
  _.Dr = function(E, K) {
      this.f = [];
      this.zD = [0];
      this.qA = [];
      this.UW = [];
      this.s1 = [0];
      this.x5 = [];
      this.V1 = [];
      this.rows = E;
      this.cols = K
  }
  ;
  _.Dr.prototype.clone = function() {
      var E = this
        , K = E.rows
        , i = E.cols
        , C = new _.Dr(K,i);
      C.f = E.f.slice(0);
      C.zD = E.zD.slice(0);
      C.qA = E.qA.slice(0);
      C.UW = E.UW.slice(0);
      C.s1 = E.s1.slice(0);
      C.x5 = E.x5.slice(0);
      C.V1 = E.V1.slice(0);
      return C
  }
  ;
  _.Dr.prototype.rx = function(E, K, i) {
      var C = this.zD.length - 1;
      for (var G = 0; G < i; G++) {
          var N = E[G]
            , k = K[G];
          this.f.push(N);
          this.qA.push(k);
          if (k == C) {
              this.V1.push(N == 0 ? 0 : 1 / N)
          } else {
              this.UW.push(N);
              this.x5.push(k)
          }
      }
      this.zD.push(this.f.length);
      this.s1.push(this.UW.length)
  }
  ;
  _.Dr.prototype.mY = function(E, K) {
      var i = this
        , C = i.rows
        , N = i.f
        , k = i.qA;
      if (K == null)
          K = new Array(C);
      for (var G = 0; G < C; G++) {
          var V = i.zD[G]
            , j = i.zD[G + 1]
            , a = 0;
          while ((j - V & 3) != 0) {
              a += N[V] * E[k[V]];
              V++
          }
          for (var e = V; e < j; e += 4)
              a += N[e] * E[k[e]] + N[e + 1] * E[k[e + 1]] + N[e + 2] * E[k[e + 2]] + N[e + 3] * E[k[e + 3]];
          K[G] = a
      }
      return K
  }
  ;
  _.Dr.prototype.multiply = function(E) {
      return this.dK(E.C2())
  }
  ;
  _.Dr.prototype.dK = function(E) {
      var K = this
        , i = K.rows
        , C = K.cols
        , N = E.rows
        , k = new _.Dr(i,N)
        , V = K.qA
        , j = E.qA;
      for (var G = 0; G < i; G++) {
          var a = []
            , e = []
            , L = K.zD[G]
            , g = K.zD[G + 1];
          for (var I = 0; I < N; I++) {
              var h = E.zD[I]
                , o = E.zD[I + 1]
                , H = 0
                , A = L
                , S = h;
              while (A < g && S < o) {
                  var v = Math.max(V[A], j[S]);
                  while (A < g && V[A] < v)
                      A++;
                  while (S < o && j[S] < v)
                      S++;
                  if (A < g && S < o && V[A] == j[S])
                      H += K.f[A++] * E.f[S++]
              }
              if (H != 0) {
                  a.push(H);
                  e.push(I)
              }
          }
          k.rx(a, e, a.length)
      }
      return k
  }
  ;
  _.Dr.prototype.C2 = function() {
      var E = this.rows
        , K = this.cols
        , i = [];
      for (var G = 0; G < K; G++)
          i.push([[], []]);
      var C = this.f
        , N = this.zD
        , k = this.qA;
      for (var G = 0; G < E; G++) {
          var V = N[G]
            , j = N[G + 1];
          for (var a = V; a < j; a++) {
              var e = i[k[a]];
              e[0].push(C[a]);
              e[1].push(G)
          }
      }
      var L = new _.Dr(K,E);
      for (var G = 0; G < K; G++)
          L.rx(i[G][0], i[G][1], i[G][1].length);
      return L
  }
  ;
  _.Dr.prototype.w6 = function() {
      var E = this.rows
        , K = this.cols
        , i = new Array(E)
        , C = this.f
        , N = this.zD
        , k = this.qA;
      for (var G = 0; G < E; G++) {
          var V = i[G] = new Array(K);
          for (var j = 0; j < K; j++)
              V[j] = 0;
          var a = N[G]
            , e = N[G + 1];
          for (var L = a; L < e; L++)
              V[k[L]] = C[L]
      }
      return i
  }
  ;
  _.Dr.prototype.qG = function(E, K, i, C, N) {
      function k(T, K, Q, B) {
          var r = T.length;
          for (var G = 0; G < r; G++)
              B[G] = T[G] - K[G] * Q
      }
      function V(T, K, Q, B) {
          var r = T.length
            , J = 0;
          while ((r - J & 3) != 0) {
              B[J] = T[J] + K[J] * Q;
              J++
          }
          for (var G = J; G < r; G += 4) {
              B[G] = T[G] + K[G] * Q;
              B[G + 1] = T[G + 1] + K[G + 1] * Q;
              B[G + 2] = T[G + 2] + K[G + 2] * Q;
              B[G + 3] = T[G + 3] + K[G + 3] * Q
          }
      }
      function j(T, K, Q) {
          var B = T.length;
          for (var G = 0; G < B; G++)
              Q[G] = T[G] * K[G]
      }
      function a(T, K) {
          var Q = T.length
            , B = 0
            , r = 0;
          while ((Q - B & 3) != 0) {
              r += T[B] * K[B];
              B++
          }
          for (var G = B; G < Q; G += 4)
              r += T[G] * K[G] + T[G + 1] * K[G + 1] + T[G + 2] * K[G + 2] + T[G + 3] * K[G + 3];
          return r
      }
      var e = C != null ? 2 : 1
        , L = Date.now()
        , g = 0
        , I = this
        , h = E.slice(0)
        , o = E.slice(0);
      I.mY(E, o);
      k(K, o, 1, h);
      var H = this.V1;
      if (e == 0) {
          H = h.slice(0);
          H.fill(1)
      }
      var A = h.slice(0);
      j(H, h, A);
      var S = A.slice(0)
        , v = a(h, A);
      while (!0) {
          I.mY(S, o);
          var s = v / a(S, o);
          V(E, S, s, E);
          k(h, o, s, h);
          if ((g & 7) == 0 && Math.sqrt(a(h, h)) < i)
              break;
          if (e <= 1)
              j(H, h, A);
          else {
              var D = h.slice(0);
              C.a8J(D, h);
              N.a6S(A, D)
          }
          var F = a(h, A)
            , y = F / v;
          V(A, S, y, S);
          v = F;
          g++
      }
  }
  ;
  _.Dr.prototype.akq = function(E, K, i, C) {
      var N = Date.now()
        , k = 1.96
        , j = 0;
      if (i == null)
          i = 5e-6;
      if (C == null)
          C = 1e9;
      var V = 1 - k
        , l = this.rows
        , a = this.UW
        , e = this.s1
        , L = this.x5
        , g = this.V1;
      while (!0) {
          var I = 0;
          for (var G = 0; G < l; G++) {
              var h = K[G]
                , o = e[G]
                , H = e[G + 1];
              if (H - o == 4)
                  h -= a[o] * E[L[o]] + a[o + 1] * E[L[o + 1]] + a[o + 2] * E[L[o + 2]] + a[o + 3] * E[L[o + 3]];
              else
                  for (var A = o; A < H; A++)
                      h -= a[A] * E[L[A]];
              var S = E[G] * V + g[G] * h * k
                , v = S - E[G];
              I += v * v;
              E[G] = S
          }
          if (I / l < i || Date.now() > N + C)
              break
      }
  }
  ;
  _.Dr.prototype.a9I = function(E, K, i, C) {
      var N = Date.now()
        , k = 1.96
        , j = 0;
      if (i == null)
          i = 5e-5;
      if (C == null)
          C = 1e9;
      var V = 1 - k
        , l = this.rows
        , a = this.UW
        , e = this.s1
        , L = this.x5
        , g = this.V1;
      while (!0) {
          var I = 0;
          for (var G = 0; G < l; G++) {
              var h = G * 3
                , o = K[h]
                , H = K[h + 1]
                , A = K[h + 2]
                , S = e[G]
                , v = e[G + 1];
              for (var s = S; s < v; s++) {
                  var D = a[s]
                    , F = L[s] * 3;
                  o -= D * E[F + 0];
                  H -= D * E[F + 1];
                  A -= D * E[F + 2]
              }
              var y = g[G] * k
                , T = E[h + 0] * V + o * y
                , Q = E[h + 1] * V + H * y
                , B = E[h + 2] * V + A * y
                , r = T - E[h + 0]
                , J = Q - E[h + 1]
                , m = B - E[h + 2];
              I += .4 * r * r + .5 * J * J + .1 * m * m;
              E[h + 0] = T;
              E[h + 1] = Q;
              E[h + 2] = B
          }
          if (I / l < i || Date.now() > N + C)
              break
      }
  }
  ;
  _.Qe = {};
  _.Qe.QT = function(E, K, i) {
      return {
          t: "Objc",
          v: {
              classID: "CrPt",
              Hrzn: {
                  t: "doub",
                  v: E
              },
              Vrtc: {
                  t: "doub",
                  v: K
              },
              Cnty: {
                  t: "bool",
                  v: i
              }
          }
      }
  }
  ;
  _.Qe.m = function(E, K) {
      for (var G = 0; G < E.length; G++) {
          var i = E[G].v
            , C = K.uZ(new bT(i.Hrzn.v,i.Vrtc.v));
          i.Hrzn.v = Math.round(C.x);
          i.Vrtc.v = Math.round(C.y)
      }
  }
  ;
  _.Qe.yz = function(E, K, i) {
      var l = E.length - 1
        , C = _.w3.QR(l + 1, l + 2);
      for (var G = 1; G < l; G++) {
          C[G][G - 1] = 1 / (E[G] - E[G - 1]);
          C[G][G] = 2 * (1 / (E[G] - E[G - 1]) + 1 / (E[G + 1] - E[G]));
          C[G][G + 1] = 1 / (E[G + 1] - E[G]);
          C[G][l + 1] = 3 * ((K[G] - K[G - 1]) / ((E[G] - E[G - 1]) * (E[G] - E[G - 1])) + (K[G + 1] - K[G]) / ((E[G + 1] - E[G]) * (E[G + 1] - E[G])))
      }
      C[0][0] = 2 / (E[1] - E[0]);
      C[0][1] = 1 / (E[1] - E[0]);
      C[0][l + 1] = 3 * (K[1] - K[0]) / ((E[1] - E[0]) * (E[1] - E[0]));
      C[l][l - 1] = 1 / (E[l] - E[l - 1]);
      C[l][l] = 2 / (E[l] - E[l - 1]);
      C[l][l + 1] = 3 * (K[l] - K[l - 1]) / ((E[l] - E[l - 1]) * (E[l] - E[l - 1]));
      _.w3.qs(C, i)
  }
  ;
  _.Qe.aj5 = function(E, K, i, C) {
      if (E <= K[0])
          return i[0];
      if (E >= K[K.length - 1])
          return i[K.length - 1];
      var G = 1;
      while (K[G] < E)
          G++;
      var N = K[G]
        , k = K[G - 1]
        , V = i[G]
        , j = i[G - 1]
        , a = (E - k) / (N - k)
        , e = C[G - 1] * (N - k) - (V - j)
        , L = -C[G] * (N - k) + (V - j)
        , g = (1 - a) * j + a * V + a * (1 - a) * (e * (1 - a) + L * a);
      return g
  }
  ;
  _.Qe.xy = function(E, K, i, C) {
      var N = {
          aD: [E[0]],
          gs: [K[0]],
          HS: []
      };
      C[0] = N;
      for (var G = 1; G < E.length - 1; G++) {
          N.aD.push(E[G]);
          N.gs.push(K[G]);
          if (i[G] == !1) {
              _.Qe.yz(N.aD, N.gs, N.HS);
              N = {
                  aD: [E[G]],
                  gs: [K[G]],
                  HS: []
              }
          }
          C[G] = N
      }
      N.aD.push(E[G]);
      N.gs.push(K[G]);
      _.Qe.yz(N.aD, N.gs, N.HS);
      C[G] = N
  }
  ;
  _.Qe.lJ = function(E, K, i, C) {
      if (E <= K[0])
          return i[0];
      if (E >= K[K.length - 1])
          return i[K.length - 1];
      var G = 1;
      while (K[G] < E)
          G++;
      var N = C[G - 1];
      return _.Qe.aj5(E, N.aD, N.gs, N.HS)
  }
  ;
  _.Qe.tN = function(E) {
      var K = {
          aD: [],
          gs: [],
          Ep: []
      };
      for (var G = 0; G < E.length; G++) {
          K.aD[G] = E[G].v.Hrzn.v;
          K.gs[G] = E[G].v.Vrtc.v;
          K.Ep[G] = E[G].v.Cnty ? E[G].v.Cnty.v : !0
      }
      return K
  }
  ;
  _.Qe.uU = function(E, l, K) {
      var i = 0
        , C = 255;
      if (K) {
          i = -1e9;
          C = 1e9
      }
      var N = _.Qe.tN(E)
        , k = [];
      _.Qe.xy(N.aD, N.gs, N.Ep, k);
      var V = [];
      for (var G = 0; G < l; G++)
          V[G] = 1 / 255 * Math.max(i, Math.min(C, _.Qe.lJ(G * (255 / (l - 1)), N.aD, N.gs, k)));
      return V
  }
  ;
  _.Qe.agp = function(E, l, K) {
      var i = Math.round(E.length / 20)
        , C = l - E.length
        , N = K ? (E[i] - E[0]) / i : 0
        , k = K ? E[0] - C * N : E[E.length - 1]
        , V = [];
      for (var G = 0; G < C; G++)
          V.push(k + G * N);
      return K ? V.concat(E) : E.concat(V)
  }
  ;
  _.Qe.Pl = function(E, l, K) {
      var i = _.Qe.tN(E)
        , C = [];
      _.Qe.xy(i.aD, i.gs, i.Ep, C);
      var N = new Uint8Array(l)
        , k = l / 256;
      for (var G = 0; G < l; G++)
          N[G] = Math.max(0, Math.min(l - 1, _.Qe.lJ(G * k, i.aD, i.gs, C)));
      if (K) {
          N[0] = 0;
          if (N[1] > 100)
              N[1] = .4 * N[1];
          if (N[2] > 150)
              N[1] = .7 * N[2]
      }
      return N
  }
  ;
  _.Qe.C1 = function(E, K) {
      var i = new Uint8Array(E.length);
      for (var G = 0; G < E.length; G++)
          i[G] = K[E[G]];
      return i
  }
  ;
  _.Qe.rP = function(E, K, i) {
      var C = c.w("canvas", "");
      C.width = K;
      C.height = i;
      var N = C.getContext("2d")
        , k = _.Qe.Pl(E, 256);
      N.scale(K / 255, i / 255);
      N.fillStyle = "#fff";
      N.fillRect(0, 0, 255, 255);
      N.fillStyle = "#333";
      N.beginPath();
      N.moveTo(0, 255);
      for (var G = 0; G < k.length; G++)
          N.lineTo(G, 255 - k[G]);
      N.lineTo(255, 255);
      N.closePath();
      N.fill();
      return C.toDataURL()
  }
  ;
  _.style = {};
  _.style.stroke = function(E, K, i, C) {
      var N = i.d
        , k = i.v
        , V = new Float64Array(N * k);
      _.style.pA(E, V, N, k);
      _.style.xo(K, i, V, i, C)
  }
  ;
  _.style.xo = function(E, K, i, C, N) {
      var k = K.lx(C)
        , V = k.d
        , j = k.v;
      N += .5;
      var a = k.x - K.x
        , e = k.y - K.y
        , L = K.d
        , g = k.x - C.x
        , I = k.y - C.y
        , h = C.d;
      for (var o = 0; o < j; o++) {
          var H = (o + I) * h + g
            , A = (o + e) * L + a;
          for (var S = 0; S < V; S++) {
              var v = Math.max(0, Math.min(1, N - i[H + S]));
              E[A + S] = Math.round(v * 255)
          }
      }
  }
  ;
  _.style.a2M = function(E, K, i, C) {
      for (var N = 0; N < i; N++)
          for (var k = 0; k < K; k++) {
              var V = N * K + k
                , j = 0
                , a = 0
                , e = E[V];
              if (k == 0 || N == 0) {
                  j = E[V + 1] - e;
                  a = E[V + K] - e
              } else if (k == i - 1 || N == K - 1) {
                  j = e - E[V - 1];
                  a = e - E[V - K]
              } else {
                  j = E[V + 1] - E[V - 1];
                  a = E[V + K] - E[V - K]
              }
              if (j != 0 || a != 0) {
                  var L = 1 / Math.sqrt(j * j + a * a);
                  j *= L;
                  a *= L
              }
              C[V + V] = j;
              C[V + V + 1] = a
          }
  }
  ;
  _.style.pA = function(E, K, i, C) {
      var N = 0
        , k = i * C;
      for (var G = 0; G < k; G++)
          N |= E[G];
      if (N == 0) {
          K.fill(1e9);
          return
      }
      var V = _.style.NI(E, i, C);
      for (var j = 0; j < C; j++)
          for (var a = 0; a < i; a++) {
              var G = j * i + a
                , e = V[G * 2]
                , L = V[G * 2 + 1]
                , g = (j + L) * i + a + e;
              if (e == 0 && L == 0) {
                  K[G] = 0;
                  continue
              }
              var I = Math.sqrt(e * e + L * L)
                , h = E[g] * (1 / 255)
                , o = 1 / I
                , H = Math.abs(e) * o
                , A = Math.abs(L) * o;
              if (A > H) {
                  var S = A;
                  A = H;
                  H = S
              }
              K[G] = I + _.style.ahd(H, A, h)
          }
  }
  ;
  _.style.ahd = function(E, K, i) {
      return (.5 - i) * E
  }
  ;
  _.style.NI = function(E, K, i, C) {
      if (C == null) {
          C = !0;
          for (var G = 0; G < E.length; G++)
              C = C && (E[G] == 0 || E[G] == 255)
      }
      var N = new Int16Array(K * i * 2);
      if (C)
          _.style.amR(E, N, K, i);
      else
          _.style.al0(E, N, K, i);
      return N
  }
  ;
  _.style.al0 = function(E, K, i, C) {
      var N = i * C;
      for (var G = 0; G < N; G++)
          if (E[G] == 0) {
              K[G * 2] = 16383;
              K[G * 2 + 1] = 16383
          }
      for (var k = 1; k <= C - 1; k++) {
          var G = k * i;
          for (var V = 0; V <= i - 1; V++)
              _.style.Hq(K, E, i, G + V << 1, -1);
          for (var V = 1; V <= i - 1; V++)
              _.style.oh(K, E, i, G + V << 1, -1);
          for (var V = i - 2; V >= 0; V--)
              _.style.oh(K, E, i, G + V << 1, 1)
      }
      for (var k = C - 2; k >= 0; k--) {
          var G = k * i;
          for (var V = 0; V <= i - 1; V++)
              _.style.Hq(K, E, i, G + V << 1, 1);
          for (var V = 1; V <= i - 1; V++)
              _.style.oh(K, E, i, G + V << 1, -1);
          for (var V = i - 2; V >= 0; V--)
              _.style.oh(K, E, i, G + V << 1, 1)
      }
  }
  ;
  _.style.oh = function(E, K, i, C, N) {
      var k = (C >>> 1) + N << 1
        , V = E[C]
        , j = E[C + 1]
        , a = E[k] + N
        , e = E[k + 1]
        , L = a * a + e * e
        , g = V * V + j * j;
      if (e != 16383 && (V == 16383 || Math.sqrt(L) + (.5 - K[(C >>> 1) + e * i + a] * (1 / 255)) < Math.sqrt(g) + (.5 - K[(C >>> 1) + j * i + V] * (1 / 255)))) {
          E[C] = a;
          E[C + 1] = e
      }
  }
  ;
  _.style.Hq = function(E, K, i, C, N) {
      var k = (C >>> 1) + N * i << 1
        , V = E[C]
        , j = E[C + 1]
        , a = E[k]
        , e = E[k + 1] + N
        , L = a * a + e * e
        , g = V * V + j * j;
      if (a != 16383 && (V == 16383 || Math.sqrt(L) + (.5 - K[(C >>> 1) + e * i + a] * (1 / 255)) < Math.sqrt(g) + (.5 - K[(C >>> 1) + j * i + V] * (1 / 255)))) {
          E[C] = a;
          E[C + 1] = e
      }
  }
  ;
  _.style.amR = function(E, K, i, C) {
      var N = i * C;
      for (var G = 0; G < N; G++)
          if (E[G] == 0) {
              K[G * 2] = 16383;
              K[G * 2 + 1] = 16383
          }
      for (var k = 1; k <= C - 1; k++) {
          var G = k * i;
          for (var V = 0; V <= i - 1; V++)
              _.style.Vm(K, E, i, G + V << 1, -1);
          for (var V = 1; V <= i - 1; V++)
              _.style.yO(K, E, i, G + V << 1, -1);
          for (var V = i - 2; V >= 0; V--)
              _.style.yO(K, E, i, G + V << 1, 1)
      }
      for (var k = C - 2; k >= 0; k--) {
          var G = k * i;
          for (var V = 0; V <= i - 1; V++)
              _.style.Vm(K, E, i, G + V << 1, 1);
          for (var V = 1; V <= i - 1; V++)
              _.style.yO(K, E, i, G + V << 1, -1);
          for (var V = i - 2; V >= 0; V--)
              _.style.yO(K, E, i, G + V << 1, 1)
      }
  }
  ;
  _.style.yO = function(E, K, i, C, N) {
      var k = (C >>> 1) + N << 1
        , V = E[C]
        , j = E[C + 1]
        , a = E[k] + N
        , e = E[k + 1]
        , L = a * a + e * e
        , g = V * V + j * j;
      if (e != 16383 && (V == 16383 || L < g)) {
          E[C] = a;
          E[C + 1] = e
      }
  }
  ;
  _.style.Vm = function(E, K, i, C, N) {
      var k = (C >>> 1) + N * i << 1
        , V = E[C]
        , j = E[C + 1]
        , a = E[k]
        , e = E[k + 1] + N
        , L = a * a + e * e
        , g = V * V + j * j;
      if (a != 16383 && (V == 16383 || L < g)) {
          E[C] = a;
          E[C + 1] = e
      }
  }
  ;
  _.style.a0D = function(E, K, i, C, N) {
      var k = i * C
        , V = (i + C + 1) * 1.01;
      for (var G = 0; G < k; G++)
          if (E[G] <= N)
              K[G] = V;
      for (var j = 1; j < i; j++)
          K[j] = Math.min(K[j], K[j - 1]);
      for (var a = 1; a < C; a++) {
          var G = a * i;
          K[G] = Math.min(K[G], Math.min(K[G - i] + 1, K[G - i + 1] + Math.SQRT2));
          for (var j = 1; j < i - 1; j++) {
              var e = K[++G]
                , L = Math.min(K[G - 1] + 1, Math.min(K[G - i - 1] + Math.SQRT2, Math.min(K[G - i] + 1, K[G - i + 1] + Math.SQRT2)));
              if (L < e)
                  K[G] = L
          }
          G++;
          K[G] = Math.min(K[G], Math.min(K[G - 1] + 1, Math.min(K[G - i - 1] + Math.SQRT2, K[G - i] + 1)))
      }
      for (var j = i - 2; j >= 0; j--)
          K[j + k - i] = Math.min(K[j + k - i], K[j + k - i + 1]);
      for (var a = C - 2; a >= 0; a--) {
          var G = a * i + i - 1;
          K[G] = Math.min(K[G], Math.min(K[G + i] + 1, K[G + i - 1] + Math.SQRT2));
          for (var j = i - 2; j >= 1; j--) {
              var e = K[--G]
                , L = Math.min(K[G + 1] + 1, Math.min(K[G + i - 1] + Math.SQRT2, Math.min(K[G + i] + 1, K[G + i + 1] + Math.SQRT2)));
              if (L < e)
                  K[G] = L
          }
          G--;
          K[G] = Math.min(K[G], Math.min(K[G + 1] + 1, Math.min(K[G + i] + 1, K[G + i + 1] + Math.SQRT2)))
      }
  }
  ;
  _.style.ak7 = function(E, K, i, C, N) {
      var k = new Int32Array(i * C);
      _.style.af_(E, k, i, C, N);
      _.style.a07(k, K, i, C)
  }
  ;
  _.style.af_ = function(E, K, i, C, N) {
      var k = new Int32Array(C);
      for (var V = 0; V < i; V++) {
          var j = i + C;
          for (var a = C - 1; a >= 0; a--) {
              if (E[a * i + V] > N)
                  j = 0;
              else
                  j++;
              k[a] = j
          }
          j = i + C;
          for (var a = 0; a < C; a++) {
              if (E[a * i + V] > N)
                  j = 0;
              else
                  j++;
              K[a * i + V] = j < k[a] ? -j : k[a]
          }
      }
  }
  ;
  _.style.a07 = function(E, K, i, C) {
      var N = (i + C) * (i + C)
        , k = new Float64Array(i)
        , V = new Uint16Array(i);
      for (var j = 0; j < C; j++) {
          var a = j * i
            , e = 0;
          V[0] = 0;
          k[0] = -N;
          k[1] = +N;
          for (var L = 1; L < i; L++) {
              var g = E[L + a] * E[L + a] + L * L
                , I = (g - (E[V[e] + a] * E[V[e] + a] + V[e] * V[e])) / (2 * L - 2 * V[e]);
              while (I <= k[e]) {
                  e--;
                  I = (g - (E[V[e] + a] * E[V[e] + a] + V[e] * V[e])) / (2 * L - 2 * V[e])
              }
              e++;
              V[e] = L;
              k[e] = I;
              k[e + 1] = N
          }
          e = 0;
          for (var L = 0; L < i; L++) {
              while (k[e + 1] < L)
                  e++;
              var h = V[e] - L
                , o = E[V[e] + a]
                , G = j * i + L << 1;
              K[G] = h;
              K[G + 1] = o
          }
      }
  }
  ;
  _.style.u5 = function(E, K, i) {
      if (i)
          for (var G = 0; G < E.length; G++) {
              var C = E[G];
              if (C > 0)
                  E[G] = Math.max(0, Math.min(255, C + K * 2 * (_.style.ne(G) - 128)))
          }
      else
          for (var G = 0; G < E.length; G++) {
              var C = E[G];
              if (C > 0)
                  E[G] = Math.max(0, Math.min(255, C + Math.min(C * 3, K * 2 * (_.style.ne(G) - 128))))
          }
  }
  ;
  _.style.ne = function(E) {
      E = E ^ 61 ^ E >> 16;
      E = E + (E << 3);
      E = E ^ E >> 4;
      E = E * 668265261;
      E = E ^ E >> 15;
      return E & 255
  }
  ;
  _.ia = {};
  _.ia.zB = function(E, K, i) {
      var C = E.canvas
        , N = c.M()
        , k = Math.floor;
      if (C.width != k(K * N) || C.height != k(i * N))
          c.Xh(C, K, i, E)
  }
  ;
  _.ia.Bx = function(E, K, i, C, N, k) {
      _.ia.zB(E, K, i);
      if (k == null)
          k = !1;
      var V = N.channel
        , j = N.rect
        , a = !N.isEnabled;
      K = Math.floor(K * c.M());
      i = Math.floor(i * c.M());
      if (K * i == 0)
          return;
      var e = E.createImageData(K, i)
        , L = e.data
        , g = 1 / K
        , I = 1 / i;
      for (var G = 0; G < i; G++)
          for (var h = 0; h < K; h++) {
              var o = G * K + h
                , H = o * 4
                , A = Math.round(C.x + h * g * C.d)
                , S = Math.round(C.y + G * I * C.v)
                , v = 0;
              if (A < j.x || A >= j.x + j.d || S < j.y || S >= j.y + j.v)
                  v = N.color;
              else
                  v = V[(S - j.y) * j.d + (A - j.x)];
              v = 255 * (255 - N.ZD) + v * N.ZD >>> 8;
              if (k)
                  v = 170 + Math.round(.4 * (v - 170));
              L[H] = v;
              L[H + 1] = v;
              L[H + 2] = v;
              L[H + 3] = 255
          }
      E.putImageData(e, 0, 0);
      if (a)
          _.ia.L9(E, K, i)
  }
  ;
  _.ia.Te = [];
  _.ia.a6i = function(E, K, i, C) {
      var N, k, V, j = c.M();
      K = Math.floor(j * K);
      i = Math.floor(j * i);
      N = Math.ceil(Math.max(K, i) * .35);
      k = K - N;
      V = i - N;
      var a = _.ia.Te[N];
      if (a == null) {
          var e = c.w("canvas")
            , L = e.getContext("2d");
          e.width = e.height = N;
          L.fillStyle = "#eeeeee";
          L.fillRect(0, 0, N, N);
          var g = Math.round(N * .27)
            , I = L.lineWidth = Math.max(1, Math.round(N * .12))
            , h = I / 2;
          L.strokeRect(1 + h, 1 + h, N - I - 2, N - I - 2);
          L.strokeRect(g + h, g + h, N - g - g - I, N - g - g - I);
          a = _.ia.Te[N] = L.getImageData(0, 0, N, N)
      }
      E.putImageData(a, k, V)
  }
  ;
  _.ia.IO = [];
  _.ia.acP = function(E, K, i) {
      var C, N, k, V = c.M();
      K = Math.floor(V * K);
      i = Math.floor(V * i);
      C = Math.ceil(Math.max(K, i) * .35);
      N = K - C;
      k = i - C;
      var j = _.ia.IO[C];
      if (j == null) {
          var a = c.w("canvas")
            , e = a.getContext("2d");
          a.width = a.height = C;
          e.fillStyle = "#eeeeee";
          e.fillRect(0, 0, C, C);
          e.lineWidth = 1;
          e.strokeRect(2.5, 2.5, C - 5, C - 5);
          var L = e.createImageData(3, 3);
          _.EE(L.data, 4278190080);
          L.data[4 * 4] = L.data[4 * 4 + 1] = L.data[4 * 4 + 2] = 238;
          e.putImageData(L, 1, 1);
          e.putImageData(L, C - 4, 1);
          e.putImageData(L, 1, C - 4);
          e.putImageData(L, C - 4, C - 4);
          j = _.ia.IO[C] = e.getImageData(0, 0, C, C)
      }
      E.putImageData(j, N, k)
  }
  ;
  _.ia.ah3 = function(E, K, i, C, N) {
      _.ia.zB(E, K, i);
      K = Math.floor(K * c.M());
      i = Math.floor(i * c.M());
      var k = K / C.d;
      if (K * i == 0)
          return;
      E.fillStyle = "#999999";
      E.setTransform(1, 0, 0, 1, 0, 0);
      E.clearRect(0, 0, K, i);
      var V = _.ia.Xr;
      if (V == null) {
          V = _.ia.Xr = JSON.parse(JSON.stringify(ao.S6.default));
          V.strokeEnabled.v = !0
      }
      V.strokeStyleLineWidth.v.val = 1 * c.M() / k;
      E.fillStyle = "#ffffff";
      E.scale(k, k);
      _.Y.L6(N.b, E, 0, 0);
      _.Y.L6(N.b, E, 0, 0, V)
  }
  ;
  _.ia.YY = null;
  _.ia.u_ = function(E, K, i, C, N, k, V, j) {
      _.ia.zB(E, K, i);
      K = Math.floor(K * c.M());
      i = Math.floor(i * c.M());
      if (K * i == 0)
          return;
      var a = Math.max(K, i)
        , e = _.ia.YY;
      if (e == null || e.width < a || e.height < a) {
          _.ia.YY = e = E.createImageData(a, a)
      }
      a = e.width;
      var L = e.data
        , g = C.d / K
        , I = C.v / i
        , h = k.x
        , o = k.x + k.d
        , H = k.y
        , A = k.y + k.v;
      for (var G = 0; G < i; G++)
          for (var S = 0; S < K; S++) {
              var v = G * a + S
                , s = v * 4
                , D = ~~(C.x + S * g)
                , F = ~~(C.y + G * I)
                , y = _.FL(G, S, 2);
              if (D < h || D >= o || F < H || F >= A) {
                  L[s] = y;
                  L[s + 1] = y;
                  L[s + 2] = y;
                  L[s + 3] = 255
              } else {
                  var T = (F - k.y) * k.d + (D - k.x) << 2
                    , Q = N[T + 3] * (1 / 255);
                  L[s] = N[T + 0] * Q + y * (1 - Q);
                  L[s + 1] = N[T + 1] * Q + y * (1 - Q);
                  L[s + 2] = N[T + 2] * Q + y * (1 - Q);
                  L[s + 3] = 255
              }
          }
      if (j != null)
          for (var G = 0; G < L.length; G += 4)
              L[G] = L[G + 1] = L[G + 2] = L[G + j];
      E.putImageData(e, 0, 0);
      if (V)
          _.ia.L9(E, K, i)
  }
  ;
  _.ia.anB = function(E, K, i, C) {
      _.ia.zB(E, K, i);
      E.fillStyle = _.ia.Gk(C.Clr.v);
      E.fillRect(0, 0, K, i);
      _.ia.f3(E, K, i)
  }
  ;
  _.ia.Ay = null;
  _.ia.a9W = function(E, K, i, C) {
      _.ia.zB(E, K, i);
      var N = E.canvas.width
        , k = E.canvas.height
        , V = _.ia.Ay;
      if (V == null || V.width != N || V.height != k) {
          E.fillStyle = "#ffffff";
          E.fillRect(0, 0, K, i);
          E.fillStyle = "#000000";
          E.font = "" + i * .7 + "px serif";
          E.fillText("T", (K - i * .43) / 2, i * .75);
          E.fillText("T", (K - i * .43) / 2, i * .75);
          _.ia.Ay = E.getImageData(0, 0, N, k)
      } else
          E.putImageData(V, 0, 0)
  }
  ;
  _.ia.aj$ = function(E, K, i) {
      _.ia.zB(E, K, i);
      E.clearRect(0, 0, K, i);
      E.font = i * .7 + "px serif";
      E.fillText(":(", (K - i * .43) / 2, i * .7)
  }
  ;
  _.ia.a4T = function(E, K, i, C) {
      _.ia.zB(E, K, i);
      var N = gM.get(C)
        , k = i2.get(gM.names[N]).substring(0, 3);
      E.fillStyle = "#ffffff";
      E.fillRect(0, 0, K, i);
      E.fillStyle = "#000000";
      E.font = i * .55 + "px sans-serif";
      var V = E.measureText(k);
      E.fillText(k, (K - V.width) / 2, i * .67);
      E.fillRect(0, 0, K, i * .1);
      E.fillRect(0, i * .9, K, i * .1)
  }
  ;
  _.ia.aiP = function(E, K, i, C) {
      _.ia.zB(E, K, i);
      var N = E.canvas.width
        , k = E.canvas.height
        , V = E.getImageData(0, 0, N, k);
      _.V.K3(C.Grad.v, new Uint8Array(V.data.buffer), new h4(0,0,N,k), [1 / N, 0, 0, 1 / k], N / 2, k / 2, !1, 0, 16711680, 65280);
      E.putImageData(V, 0, 0);
      _.ia.f3(E, K, i)
  }
  ;
  _.ia.a9P = function(E, K, i, C, N) {
      _.ia.zB(E, K, i);
      var k = E
        , V = h$.Si(C.Ptrn.v, N.add.Patt);
      if (V == null)
          return;
      var j = V.yG[1];
      _.ia.u_(E, K, i, j, V.yG[0], j, !1);
      _.ia.f3(k, K, i)
  }
  ;
  _.ia.L9 = function(E, K, i) {
      E.strokeStyle = "#bb0000";
      E.lineWidth = 3;
      E.beginPath();
      E.moveTo(K * .15, i * .15);
      E.lineTo(K * .85, i * .85);
      E.moveTo(K * .85, i * .15);
      E.lineTo(K * .15, i * .85);
      E.closePath();
      E.stroke()
  }
  ;
  _.ia.L9 = function(E, K, i) {
      E.strokeStyle = "#bb0000";
      E.lineWidth = 3;
      E.beginPath();
      E.moveTo(K * .15, i * .15);
      E.lineTo(K * .85, i * .85);
      E.moveTo(K * .85, i * .15);
      E.lineTo(K * .15, i * .85);
      E.closePath();
      E.stroke()
  }
  ;
  _.ia.f3 = function(E, K, i) {
      E.fillStyle = "#eeeeee";
      E.fillRect(0, i * .75, K, i * .25);
      E.beginPath();
      E.moveTo(0, i * .75);
      E.lineTo(K, i * .75);
      E.moveTo(K * .1, i * .875);
      E.lineTo(K * .9, i * .875);
      E.moveTo(K * .65, i * .825);
      E.lineTo(K * .65, i * .95);
      E.closePath();
      E.stroke()
  }
  ;
  _.ia.Gk = function(E) {
      var K = _.V.Gk(E)
        , i = Math.round(K.h) << 16 | Math.round(K.l) << 8 | Math.round(K.O);
      return "#" + _.rS(i)
  }
  ;
  _.Y = {};
  _.Y.ZX = function(E, K, i) {
      var C = []
        , N = -1;
      for (var G = 0; G < E.length; G++) {
          var k = E[G];
          if ((k.type == 0 || k.type == 3) && k.A0 != -1)
              N++;
          if (k.type > 5 || k.type == 0 || k.type == 3)
              continue;
          if (K != null && K.indexOf(N) == -1)
              continue;
          if (i != null && i.indexOf(G) == -1)
              continue;
          C.push(k.ln.x);
          C.push(k.ln.y);
          C.push(k.D.x);
          C.push(k.D.y);
          C.push(k._8.x);
          C.push(k._8.y)
      }
      return C
  }
  ;
  _.Y.cK = function(E, K, i, C) {
      var N = 0
        , k = -1;
      for (var G = 0; G < K.length; G++) {
          var V = K[G];
          if ((V.type == 0 || V.type == 3) && V.A0 != -1)
              k++;
          if (V.type > 5 || V.type == 0 || V.type == 3)
              continue;
          if (i != null && i.indexOf(k) == -1)
              continue;
          if (C != null && C.indexOf(G) == -1)
              continue;
          V.ln.Wm(E[N], E[N + 1]);
          V.D.Wm(E[N + 2], E[N + 3]);
          V._8.Wm(E[N + 4], E[N + 5]);
          N += 6
      }
  }
  ;
  _.Y.aW = function(E, K, i, C) {
      var N = _.Y.ZX(E, i, C);
      _.$.m(N, K, N);
      _.Y.cK(N, E, i, C)
  }
  ;
  _.Y.adR = function(E, K, i, C) {
      var N = _.Y.ZX(E, i, C);
      _.J.apply(K, N);
      _.Y.cK(N, E, i, C)
  }
  ;
  _.Y.agZ = function(E, K, i, C) {
      if (i == null && C == null) {
          var N = _.Y.a6v(E, 40);
          for (var G = 0; G < N.length; G++)
              E[G] = N[G]
      }
      var k = _.Y.ZX(E, i, C);
      _.cP.apply(K, k, _.$.Rk(k));
      _.Y.cK(k, E, i, C)
  }
  ;
  _.Y.a6v = function(E, K) {
      var i = [];
      for (var G = 0; G < E.length; G++) {
          var C = E[G];
          if (C.type > 5) {
              i.push(JSON.parse(JSON.stringify(C)));
              continue
          }
          var N = _.Y.aiT(E, G + 1, C.length);
          N = _.$.Ye(N, K);
          var k = _.Y.alJ(N);
          G += C.length;
          C = JSON.parse(JSON.stringify(C));
          C.length = k.length;
          i.push(C);
          for (var V = 0; V < k.length; V++)
              i.push(k[V])
      }
      return i
  }
  ;
  _.Y.aiT = function(E, K, i) {
      var C = {
          Z: ["M"],
          H: []
      }
        , N = E[K]
        , k = E[K + i - 1];
      C.H.push(N.D.x, N.D.y);
      for (var G = 1; G < i; G++) {
          var V = E[K + G - 1]
            , j = E[K + G];
          C.Z.push("C");
          C.H.push(V._8.x, V._8.y, j.ln.x, j.ln.y, j.D.x, j.D.y)
      }
      C.Z.push("C");
      C.H.push(k._8.x, k._8.y, N.ln.x, N.ln.y, N.D.x, N.D.y);
      return C
  }
  ;
  _.Y.alJ = function(E) {
      var K = []
        , i = E.Z
        , C = E.H
        , N = 0
        , l = C.length;
      K.push({
          type: 2,
          ln: new bT(C[l - 4],C[l - 3]),
          D: new bT(C[0],C[1]),
          _8: new bT(C[2],C[3])
      });
      for (var G = 0; G < i.length - 2; G++) {
          var k = G * 6 + 4;
          K.push({
              type: 2,
              ln: new bT(C[k],C[k + 1]),
              D: new bT(C[k + 2],C[k + 3]),
              _8: new bT(C[k + 4],C[k + 5])
          })
      }
      return K
  }
  ;
  _.Y.a9N = function(E) {
      for (var G = 0; G < E.length; G++) {
          if (E[G].type > 5)
              continue;
          var K = E[G].length;
          if (!(K == 4 || K == 6 || K == 8)) {
              G += K;
              continue
          }
          for (var i = 0; i < K; i++) {
              var C = E[G + 1 + i]
                , N = E[G + 1 + (i + 1) % K]
                , k = Math.min(C.D.x, N.D.x)
                , V = Math.min(C.D.y, N.D.y)
                , j = 0
                , a = 0;
              if (C.D.x < N.D.x) {
                  j = C.D.y - V;
                  a = j - (N.D.x - k)
              } else {
                  j = N.D.y - V;
                  a = j - (C.D.x - k)
              }
              if (Math.abs(a) < .2 * j)
                  return j
          }
      }
      return -1
  }
  ;
  _.Y.HD = function(E, K) {
      var i = null
        , C = -1
        , N = !_.Y.CI(E);
      for (var G = 0; G < E.length; G++) {
          var k = E[G];
          if (k.type > 5)
              continue;
          if ((k.type == 0 || k.type == 3) && k.A0 != -1)
              C++;
          if (K != null && K.indexOf(C) == -1)
              continue;
          if (G == E.length - 1)
              break;
          var V = k.type == 3
            , j = k.length
            , a = k.A0
            , e = _.Y.a5N(E, G + 1, j, V);
          if (i == null)
              i = e;
          else if (N) {
              if (K != null || a == 0 || a == -1 || a == 2)
                  i = i.ip(e);
              else if (a == 1)
                  i = i;
              else if (a == 3) {
                  i = e;
                  N = !1
              }
          } else {
              if (K != null || a == 0 || a == -1 || a == 1)
                  i = i.ip(e);
              else if (a == 2)
                  i = i;
              else if (a == 3)
                  i = i.lx(e)
          }
          G += j
      }
      if (i == null || i.d < 0 || i.v < 0)
          i = new h4(0,0,0,0);
      return i
  }
  ;
  _.Y.a5Y = new Float64Array(4);
  _.Y.a5N = function(E, G, K, i) {
      var C = _.Y.a5Y;
      C[0] = 1e30;
      C[1] = 1e30;
      C[2] = -1e30;
      C[3] = -1e30;
      var N = E[G + K - 1];
      if (!i)
          _.Y.Zz(N.D.x, N.D.y, N._8.x, N._8.y, E[G].ln.x, E[G].ln.y, E[G].D.x, E[G].D.y, C);
      for (var k = G; k < G + K - 1; k++) {
          var V = E[k]
            , j = E[k + 1];
          _.Y.Zz(V.D.x, V.D.y, V._8.x, V._8.y, j.ln.x, j.ln.y, j.D.x, j.D.y, C)
      }
      return new h4(C[0],C[1],C[2] - C[0],C[3] - C[1])
  }
  ;
  _.Y.Zz = function(E, K, i, C, N, k, V, j, a) {
      if (E == i && K == C && N == V && k == j) {
          a[0] = Math.min(a[0], Math.min(E, V));
          a[1] = Math.min(a[1], Math.min(K, j));
          a[2] = Math.max(a[2], Math.max(E, V));
          a[3] = Math.max(a[3], Math.max(K, j));
          return
      }
      var e = E
        , L = K
        , g = E
        , I = K
        , h = 40
        , o = 1 / (h - 1);
      for (var H = 0; H < h; H++) {
          var A = H * o
            , S = 1 - A
            , v = S * S * S
            , s = 3 * S * S * A
            , D = 3 * S * A * A
            , F = A * A * A
            , y = v * E + s * i + D * N + F * V
            , T = v * K + s * C + D * k + F * j;
          if (y < e)
              e = y;
          else if (y > g)
              g = y;
          if (T < L)
              L = T;
          else if (T > I)
              I = T
      }
      if (e < a[0])
          a[0] = e;
      if (L < a[1])
          a[1] = L;
      if (g > a[2])
          a[2] = g;
      if (I > a[3])
          a[3] = I
  }
  ;
  _.Y.GG = function(E, K) {
      var i = E.length - 3
        , C = K % i
        , N = Math.floor(C);
      if (K < 0 || N >= i)
          return null;
      var k = E[3 + N]
        , V = E[3 + (N + 1) % i]
        , j = k.D
        , a = k._8
        , e = V.ln
        , L = V.D
        , g = C - N
        , I = 1 - g
        , h = I * I * I * j.x + 3 * I * I * g * a.x + 3 * I * g * g * e.x + g * g * g * L.x
        , o = I * I * I * j.y + 3 * I * I * g * a.y + 3 * I * g * g * e.y + g * g * g * L.y;
      return new bT(h,o)
  }
  ;
  _.Y.gJ = function(E) {
      var K = 2
        , i = _.Y.oH(E)
        , C = !1;
      for (var G = 2; G < E.length; G++) {
          var N = E[G].A0;
          if (N != null) {
              if (N == 2 || N == 0 || N == 3)
                  C = !0
          }
      }
      if (C && E.length < 15e3 && i > 1)
          E = _.Y.TZ(E);
      var k = _.$.bF(E);
      return {
          agu: Typr.U.pathToSVG({
              crds: k.H,
              cmds: k.Z
          }, K),
          BC: C ? 1 : 0
      }
  }
  ;
  _.Y.TZ = function(E) {
      _.Y.qm();
      var K, i = _.Y.V8(E), C = [];
      for (var G = 0; G < i.length; G++) {
          var N = i[G][0]
            , k = i[G][1];
          if (Math.abs(N.area) < 1e-5)
              C.push(N);
          else if (K == null)
              K = N;
          else {
              K = K[k](N);
              K.remove()
          }
      }
      if (K == null)
          K = new paper.CompoundPath(C);
      else {
          if (K.segments)
              K = new paper.CompoundPath(K);
          for (var G = 0; G < C.length; G++) {
              K.addChild(C[G])
          }
      }
      var V = E.slice(0, 2);
      V = V.concat(_.Y.gO(K));
      if (V[2])
          V[2].A0 = 1;
      for (var G = 3; G < V.length; G++)
          if (V[G].A0 != null)
              V[G].A0 = -1;
      return V
  }
  ;
  _.Y.qm = function() {
      if (_.Y.ab5 == null) {
          var E = c.w("canvas");
          paper.setup(E);
          _.Y.ab5 = !0
      }
  }
  ;
  _.Y.ah7 = function(E, K) {
      _.Y.qm();
      var i = []
        , C = _.Y.V8(E)
        , N = new paper.Path.Rectangle(new paper.Rectangle(K.x,K.y,K.d,K.v));
      N.remove();
      N.fillColor = new paper.Color(1,0,0);
      for (var G = 0; G < C.length; G++) {
          if (N.intersects(C[G][0]) || N.contains(C[G][0].children[0].segments[0].point))
              i.push(G)
      }
      return i
  }
  ;
  _.Y.Wt = function(E, K, i, C) {
      _.Y.qm();
      var N = i ? {
          curves: !0,
          tolerance: C
      } : null
        , k = new paper.Point(K.x,K.y)
        , V = _.Y.V8(E);
      for (var G = V.length - 1; G >= 0; G--) {
          var j = V[G][0]
            , a = j.hitTest(k, N);
          if (a != null)
              return {
                  EL: G,
                  JE: i ? a.location.index : null
              }
      }
      return {
          EL: -1
      }
  }
  ;
  _.Y.AK = function(E, K, i) {
      var C = [[], [], []];
      for (var G = 0; G < E.length; G++) {
          var N = E[G];
          if (N.type > 5 || N.type == 0 || N.type == 3)
              continue;
          var k = i == null ? !0 : i.indexOf(G) != -1;
          if (K.c9(N.D))
              C[0].push(G);
          if (K.c9(N.ln) && k)
              C[1].push(G);
          if (K.c9(N._8) && k)
              C[2].push(G)
      }
      return C
  }
  ;
  _.Y.a01 = function(E, K, i) {
      var C = i.slice(0)
        , N = [null, null]
        , k = -1
        , j = null;
      for (var G = 2; G < E.length; G++) {
          if ((E[G].type == 0 || E[G].type == 3) && E[G].A0 != -1)
              k++;
          N[G] = i[k]
      }
      i = N;
      var V = E.slice(0, 2);
      N = i.slice(0, 2);
      for (var G = 2; G < E.length; G++) {
          if (E[G].type == 0 || E[G].type == 3) {
              j = E[G];
              V.push(j);
              N.push(i[G])
          } else {
              if (K.indexOf(G) == -1) {
                  V.push(E[G]);
                  N.push(i[G])
              } else {
                  j.length--;
                  _.U7.wx(i, G)
              }
          }
      }
      for (var G = 2; G < V.length; G++) {
          var a = V[G];
          if (a.type != 0 && a.type != 3)
              continue;
          if (a.length == 0) {
              if (V[G + 1] && V[G + 1].A0 == -1) {
                  V[G + 1].A0 = a.A0
              }
              N.splice(G, 1);
              V.splice(G, 1);
              G--
          }
      }
      for (var G = 0; G < C.length; G++)
          if (N.indexOf(C[G]) == -1) {
              C.splice(G, 1);
              G--
          }
      return V
  }
  ;
  _.Y.adT = function(E, K) {
      var i = E.slice(0, 2)
        , C = -1;
      for (var G = 2; G < E.length; G++) {
          if ((E[G].type == 0 || E[G].type == 3) && E[G].A0 != -1)
              C++;
          if (K.indexOf(C) == -1)
              i.push(E[G])
      }
      return i
  }
  ;
  _.Y.aem = function(E, K) {
      var i = E.slice(0, 2)
        , C = -1;
      for (var G = 2; G < E.length; G++) {
          if ((E[G].type == 0 || E[G].type == 3) && E[G].A0 != -1)
              C++;
          if (K.indexOf(C) != -1)
              i.push(E[G])
      }
      return i
  }
  ;
  _.Y.aeH = function(E) {
      var K = 0;
      for (var G = 0; G < E.length; G++)
          if (E[G].type == 0 || E[G].type == 3)
              K = G;
      return E[K]
  }
  ;
  _.Y.oH = function(E) {
      var K = -1;
      for (var G = 0; G < E.length; G++)
          if ((E[G].type == 0 || E[G].type == 3) && E[G].A0 != -1)
              K++;
      return K + 1
  }
  ;
  _.Y.ac = function(E, K, i) {
      var C = -1;
      for (var G = 0; G < E.length; G++)
          if ((E[G].type == 0 || E[G].type == 3) && (i || E[G].A0 != -1)) {
              C++;
              if (C == K)
                  return G
          }
      return -1
  }
  ;
  _.Y.aQ = function(E, K, i) {
      var C = -1;
      for (var G = 0; G < E.length; G++)
          if ((E[G].type == 0 || E[G].type == 3) && (i || E[G].A0 != -1)) {
              if (G >= K)
                  return C;
              C++
          }
      return C
  }
  ;
  _.Y.On = function(E, K) {
      var i = -1
        , C = 0;
      for (var G = 0; G < E.length; G++) {
          if ((E[G].type == 0 || E[G].type == 3) && E[G].A0 != -1)
              i++;
          if (i == K)
              C++
      }
      return C
  }
  ;
  _.Y.amV = function(E) {
      var K = 180;
      for (var G = 0; G < E.length; G++) {
          if (E[G].type != 0 && E[G].type != 3)
              continue;
          var i = E[G].length;
          if (i < 3)
              continue;
          for (var C = 0; C < i; C++) {
              var N = E[G + 1 + (C - 1 + i) % i]
                , k = E[G + 1 + C]
                , V = E[G + 1 + (C + 1) % i]
                , j = k.D
                , a = k.ln.Ql(j) ? N._8 : k.ln
                , e = k._8.Ql(j) ? V.ln : k._8;
              if (j.Ql(a) || j.Ql(e))
                  continue;
              var L = a.x - j.x
                , g = a.y - j.y
                , I = e.x - j.x
                , h = e.y - j.y
                , a = Math.atan2(a.y - j.y, a.x - j.x) * 180 / Math.PI
                , e = Math.atan2(e.y - j.y, e.x - j.x) * 180 / Math.PI
                , o = Math.abs(e - a) % 360
                , H = o > 180 ? 360 - o : o;
              if (H < K)
                  K = H
          }
      }
      return K * Math.PI / 180
  }
  ;
  _.Y.gO = function(E) {
      var K = E.segments ? [E] : E.children
        , i = [];
      for (var G = 0; G < K.length; G++) {
          var C = K[G]
            , N = C.segments
            , k = C.closed ? 0 : 3
            , V = i.length
            , j = null;
          if (N.length <= 1)
              continue;
          i.push({
              type: k,
              length: N.length,
              A0: 0,
              n_: 2
          });
          for (var a = 0; a < N.length; a++) {
              var e = N[a]
                , L = new bT(e.handleIn.x,e.handleIn.y)
                , g = new bT(e.handleOut.x,e.handleOut.y)
                , I = new bT(e.point.x,e.point.y)
                , h = {
                  type: k + 1,
                  ln: I.add(L),
                  D: I,
                  _8: I.add(g)
              };
              if (j == null)
                  j = h;
              i.push(h);
              if (a + 1 == N.length && bT.zL(j.D, h.D) < 1e-5) {
                  i.pop();
                  i[V].length--;
                  j.ln = h.ln;
                  if (k == 3)
                      for (var o = V; o < i.length; o++)
                          i[o].type -= 3
              }
          }
      }
      return i
  }
  ;
  _.Y.V8 = function(E) {
      _.Y.qm();
      var K = [], i, C = new paper.Color(1,0,0);
      function N(h, j) {
          h.remove();
          h.closed = !j;
          h.fillRule = "evenodd"
      }
      for (var G = 0; G < E.length; G++) {
          if (E[G].type > 5)
              continue;
          var k = E[G].length, V;
          if (G == E.length - 1)
              break;
          var j = E[G].type == 3;
          if (G == 2) {
              if (!_.Y.mb(E))
                  V = "subtract";
              else
                  V = "unite"
          } else {
              if (E[G].A0 == 0)
                  V = "exclude";
              if (E[G].A0 == 1)
                  V = "unite";
              if (E[G].A0 == 2)
                  V = "subtract";
              if (E[G].A0 == 3)
                  V = "intersect"
          }
          if (E[G].A0 != -1) {
              i = new paper.CompoundPath;
              K.push([i, V]);
              i.fillRule = "evenodd";
              i.fillColor = C
          }
          var a = [];
          for (var e = 0; e < k; e++) {
              var L = E[G + 1 + e]
                , g = L.ln.g7(L.D)
                , I = L._8.g7(L.D);
              a.push([[L.D.x, L.D.y], [g.x, g.y], [I.x, I.y]])
          }
          var h = new paper.Path(a);
          N(h, j);
          i.addChild(h);
          G += k
      }
      return K
  }
  ;
  _.Y.dF = function(E) {
      for (var G = 0; G < E.length; G++) {
          var K = E[G];
          if (K.D == null)
              continue;
          if (!K.D.Ql(K.ln) || !K.D.Ql(K._8))
              return !1
      }
      return !0
  }
  ;
  _.Y.afa = function(E) {
      if (E.length <= 5)
          return 0;
      var K = 0
        , i = E.length - 3 - 1;
      for (var G = 0; G < i; G++) {
          var C = E[3 + G]
            , N = E[3 + G + 1];
          if (C.type == 0 || N.type == 0)
              return 0;
          K += (N.D.x - C.D.x) * (C.D.y + N.D.y)
      }
      K += (E[3].D.x - E[3 + i].D.x) * (E[3 + i].D.y + E[3 + 1].D.y);
      return -K * .5
  }
  ;
  _.Y.CI = function(E) {
      var K = E[2]
        , i = !1;
      if (E.length == 2)
          i = E[1].all == 0;
      else if (E[1].all == 1) {
          if (K.A0 == 1 || K.A0 == 3)
              i = !0;
          else
              i = !1
      } else {
          if (K.A0 == 1 || K.A0 == 3 || K.A0 == 0)
              i = !0;
          else
              i = !1
      }
      return i
  }
  ;
  _.Y.mb = function(E) {
      var K = _.Y.CI(E);
      for (var G = 3; G < E.length; G++)
          if (E[G].A0 == 3)
              K = !0;
      return K
  }
  ;
  _.Y.aj4 = 0;
  _.Y.qx = 0;
  _.Y.a11 = 0;
  _.Y.a24 = function(E, K, i, C) {
      if (i.OL())
          return;
      var N = i.X()
        , S = 16384;
      _.Y.aj4 += N;
      if (N > _.Y.qx) {
          _.Y.qx = N
      }
      var k = i.d
        , V = i.v;
      if (C == null && _.Y.dF(E)) {
          var j = !0;
          for (var G = 2; G < E.length; )
              if (E[G].length == 2)
                  G += 3;
              else {
                  j = !1;
                  break
              }
          if (j) {
              return
          }
          if (_.Y.uc(E)) {
              K.fill(255);
              var a = _.Y.HD(E);
              if (a.X() != N) {
                  var e = 1 - (a.x - i.x)
                    , L = 1 - (a.y - i.y)
                    , g = 1 - (i.x + i.d - (a.x + a.d))
                    , I = 1 - (i.x + i.v - (a.x + a.v))
                    , h = ~~(e * 255)
                    , o = ~~(g * 255)
                    , H = ~~(L * 255)
                    , A = ~~(I * 255);
                  K.fill(H, 0, k);
                  K[0] = ~~(e * L * 255);
                  K[k - 1] = ~~(g * L * 255);
                  for (var G = k; G < N; G += k) {
                      K[G] = h;
                      K[G + k - 1] = o
                  }
                  K.fill(A, (V - 1) * k, V * k);
                  K[N - k] = ~~(e * I * 255);
                  K[N - 1] = ~~(g * I * 255)
              }
              return
          }
      }
      var v = Math.ceil(k / S)
        , s = Math.ceil(V / S)
        , D = Math.ceil(k / v)
        , F = Math.ceil(V / s)
        , y = Date.now();
      for (var T = 0; T < s; T++)
          for (var Q = 0; Q < v; Q++) {
              var B = Q * D
                , r = T * F
                , J = D
                , m = F
                , x = _.Zg(J, m);
              if (!_.Y.CI(E))
                  x.fillRect(0, 0, J, m);
              _.Y.L6(E, x, -i.x - B, -i.y - r, C);
              var R = new Uint8Array(x.getImageData(0, 0, J, m).data.buffer);
              if (J == k && m == V)
                  _.wF(R, K, 3);
              else
                  _.yA(R, new h4(B,r,J,m), K, new h4(0,0,k,V))
          }
  }
  ;
  _.Y.L6 = function(E, K, i, C, N) {
      if (N != null && N.fillEnabled.v) {
          var k = !1
            , V = !1
            , j = 0;
          for (var G = 0; G < E.length; G++) {
              var a = E[G].A0;
              if (a != null)
                  j++;
              if (a == -1)
                  k = !0;
              if (a > 0)
                  V = !0
          }
          if (!k && j < 20)
              E = _.Y.TZ(E)
      }
      for (var G = 0; G < E.length; G++) {
          if (E[G].type > 5)
              continue;
          var e = E[G].length;
          if (e == 0)
              continue;
          if (G == E.length - 1)
              break;
          var L = E[G].type == 3
            , a = E[G].A0;
          if (a != -1 && N == null) {
              var g = ["xor", "source-over", "destination-out", "source-in"][a];
              K.globalCompositeOperation = g
          }
          if (E[G].A0 != -1) {
              K.beginPath();
              if (N) {
                  var I = N.strokeStyleLineWidth.v.val
                    , h = N.strokeStyleLineAlignment.v.strokeStyleLineAlignment
                    , o = N.strokeStyleLineCapType.v.strokeStyleLineCapType
                    , H = N.strokeStyleLineJoinType.v.strokeStyleLineJoinType
                    , A = N.strokeStyleMiterLimit.v
                    , S = []
                    , v = N.strokeStyleLineDashSet.v;
                  for (var s = 0; s < v.length; s++)
                      S.push(v[s].v.val * I);
                  K.setLineDash(S);
                  K.lineCap = ["butt", "round", "square"][ao.S6.mN.indexOf(o)];
                  K.lineJoin = ["miter", "round", "bevel"][ao.S6.join.indexOf(H)];
                  K.lineWidth = ao.S6.Ee.indexOf(h) == 1 ? I : I *= 2;
                  K.miterLimit = A
              }
          }
          _.Y.a9f(K, E, G + 1, e, i, C, L);
          if (L) {} else
              K.closePath();
          if (E[G + 1 + e] == null || E[G + 1 + e].A0 != -1) {
              if (N)
                  K.stroke();
              else
                  K.fill("evenodd")
          }
          G += e
      }
  }
  ;
  _.Y.a9f = function(E, K, G, i, C, N, k) {
      var V = K[G]
        , j = null;
      E.moveTo(V.D.x + C, V.D.y + N);
      for (var a = G; a < G + i - 1; a++) {
          V = K[a];
          j = K[a + 1];
          E.bezierCurveTo(V._8.x + C, V._8.y + N, j.ln.x + C, j.ln.y + N, j.D.x + C, j.D.y + N)
      }
      if (!k) {
          V = K[a];
          j = K[G];
          E.bezierCurveTo(V._8.x + C, V._8.y + N, j.ln.x + C, j.ln.y + N, j.D.x + C, j.D.y + N)
      }
  }
  ;
  _.Y.aH = function(E, K, i) {
      var C = []
        , N = i ? 4 : 1
        , k = !1;
      if (K != null)
          for (var G = 0; G < K.length; G++)
              if (K[G] != 0) {
                  k = !0;
                  break
              }
      if (K != null && k) {
          var V = _.$.aoG(E, K)
            , j = V.length / 6;
          for (var G = 0; G < j; G++) {
              var a = G * 6
                , e = (G - 1 + j) % j * 6
                , L = V[a]
                , g = V[a + 1]
                , I = V[a + 2]
                , h = V[a + 3]
                , o = V[e + 4]
                , H = V[e + 5];
              C.push({
                  type: N,
                  ln: new bT(o,H),
                  D: new bT(L,g),
                  _8: new bT(I,h)
              })
          }
      } else {
          for (var G = 0; G < E.length; G += 2) {
              var A = new bT(E[G],E[G + 1]);
              C.push({
                  type: N,
                  ln: A.clone(),
                  D: A.clone(),
                  _8: A.clone()
              })
          }
      }
      return C
  }
  ;
  _.Y.l3 = function(E, K) {
      _.Y.qm();
      var i = new paper.Path;
      i.remove();
      var C = E.length - 1
        , N = Math.sqrt((E[C - 1] - E[0]) * (E[C - 1] - E[0]) + (E[C] - E[1]) * (E[C] - E[1])) < 3;
      i.closed = N;
      for (var G = 0; G < E.length; G += 2)
          i.add(new paper.Point(E[G],E[G + 1]));
      i.simplify(K);
      var k = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      k = k.concat(_.Y.gO(i));
      return k
  }
  ;
  _.Y.MP = function(E, K, i) {
      var C = E[K].length
        , N = E[K].type
        , k = 0
        , V = E.slice(K + 1, K + 1 + C);
      for (var G = 0; G < C; G++) {
          var j = i[(G - 1 + C) % C]
            , a = i[(G + 1 + C) % C]
            , e = i[G];
          if (e != 0) {
              var L = V[(G - 1 + C) % C].D
                , g = V[(G + 0 + C) % C].D
                , I = V[(G + 1 + C) % C].D
                , h = bT.zL(g, L)
                , o = bT.zL(g, I)
                , H = _.$.Ur(L.x, L.y, g.x, g.y, I.x, I.y, e)[0]
                , A = Math.min(H, j == 0 ? h : h / 2, a == 0 ? o : o / 2);
              e *= A / H;
              var S = _.$.C7(L.x, L.y, g.x, g.y, I.x, I.y, e)
                , v = {
                  type: N + 1,
                  ln: new bT(S[2],S[3]),
                  D: new bT(S[2],S[3]),
                  _8: new bT(S[4],S[5])
              }
                , s = {
                  type: N + 1,
                  ln: new bT(S[6],S[7]),
                  D: new bT(S[8],S[9]),
                  _8: new bT(S[8],S[9])
              };
              E.splice(K + k + 1, 1, v, s);
              k++;
              E[K].length++
          }
          k++
      }
  }
  ;
  _.Y.dF = function(E) {
      for (var G = 0; G < E.length; G++) {
          var K = E[G]
            , i = K.type;
          if (i == 1 || i == 2 || i == 4 || i == 5)
              if (!K.D.Ql(K.ln) || !K.D.Ql(K._8))
                  return !1
      }
      return !0
  }
  ;
  _.Y.uc = function(E) {
      if (E.length != 7 || !_.Y.dF(E))
          return !1;
      for (var G = 0; G < 4; G++) {
          var K = !0;
          for (var i = 0; i < 4; i++) {
              var C = E[3 + (G + i & 3)]
                , N = E[3 + (G + i + 1 & 3)];
              if (C.D.x != N.D.x && C.D.y != N.D.y)
                  K = !1
          }
          if (K)
              return !0
      }
      return !1
  }
  ;
  _.Y.L8 = {};
  _.Y.L8.nu = function(E, K, i) {
      var C = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }]
        , N = null;
      C.push({
          type: i ? 3 : 0,
          A0: 1,
          length: 0,
          XH: 0,
          h6: 0,
          n_: 1
      });
      if (K == 0)
          N == null;
      else if (K instanceof Array)
          N = K;
      else {
          N = [];
          for (var G = 0; G < E.length; G += 2)
              N.push(K)
      }
      C = C.concat(_.Y.aH(E, N, i));
      C[2].length = C.length - 3;
      return C
  }
  ;
  _.Y.L8.a8$ = function(E, K, i, C, N) {
      var k = []
        , V = []
        , j = .553
        , a = 1
        , e = -1;
      k.push({
          type: 1,
          ln: new bT(0,j),
          D: new bT(0,0),
          _8: new bT(0,-j)
      });
      N += 2;
      for (var G = 0; G < N; G++) {
          var L = {
              type: 1
          };
          if (G == 0) {
              L.D = new bT(1,-1);
              L.ln = new bT(1 - j,-1);
              L._8 = new bT(1 + j,-1)
          } else {
              var g = -(G + 2) * Math.PI / 2
                , I = 1 + ((G & 1) == 1 ? G - 1 : G)
                , h = Math.sin(g)
                , o = Math.cos(g);
              a += I * (h - o);
              e += I * (o + h);
              L.D = new bT(a,e);
              L.ln = new bT(a + I * o * j,e - I * h * j);
              if ((G & 1) == 1)
                  I += 2;
              L._8 = new bT(a - I * o * j,e + I * h * j)
          }
          var H = {
              type: 1,
              ln: new bT(-L._8.x,-L._8.y),
              D: new bT(-L.D.x,-L.D.y),
              _8: new bT(-L.ln.x,-L.ln.y)
          };
          k.push(L);
          if (G < N - 2)
              V.push(H)
      }
      V.reverse();
      k = k.concat(V);
      var A = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      A.push({
          type: 0,
          A0: 1,
          length: k.length,
          XH: 0,
          h6: 0,
          n_: 1
      });
      A = A.concat(k);
      var S = new fn(i / N,0,0,i / N,0,0);
      S.rotate(C);
      S.translate(E, K);
      _.Y.aW(A, S);
      return A
  }
  ;
  _.Y.L8.Rect = function(E, K, i, C, N) {
      var k = [E, K, E + i, K, E + i, K + C, E, K + C];
      return _.Y.L8.nu(k, N)
  }
  ;
  _.Y.L8.M5 = function(E, K, i, C, N, k) {
      var V = []
        , j = 2 * Math.PI / N;
      for (var G = 0; G < N; G++)
          V.push(Math.cos(G * j), Math.sin(G * j));
      var a = new fn(i,0,0,i,0,0);
      a.rotate(C);
      a.translate(E, K);
      _.$.m(V, a, V);
      return _.Y.L8.nu(V, k)
  }
  ;
  _.Y.L8.aiL = function(E, K, i, C, N, k, V) {
      var j = []
        , a = Math.PI / N;
      for (var G = 0; G < N * 2; G++) {
          var e = (G & 1) == 0 ? 1 : V;
          j.push(e * Math.cos(G * a), e * Math.sin(G * a))
      }
      var L = new fn(i,0,0,i,0,0);
      L.rotate(C);
      L.translate(E, K);
      _.$.m(j, L, j);
      return _.Y.L8.nu(j, k)
  }
  ;
  _.Y.L8.a1 = function(E, K, i, C, N) {
      return _.Y.L8.zJ(0, E, K, i, C, N)
  }
  ;
  _.Y.L8.ahC = function(E, K, i, C, N, k) {
      return _.Y.L8.zJ(1, E, K, i, C, N, k)
  }
  ;
  _.Y.L8.zJ = function(E, K, i, C, N, k, V) {
      var j = Math.sqrt((C - K) * (C - K) + (N - i) * (N - i)), a;
      k /= 2;
      if (E == 0)
          a = [-k, 0, k, 0, k, j, -k, j];
      else {
          var e = k * 2 * V * 1.3 / 1.5
            , L = k * V;
          a = [-k, 0, k, 0, k, j - e, L, j - e, 0, j, -L, j - e, -k, j - e]
      }
      var g = new fn(1,0,0,1,0,0);
      g.rotate(Math.atan2(-N + i, C - K) + Math.PI / 2);
      g.translate(K, i);
      _.$.m(a, g, a);
      return _.Y.L8.nu(a, 0)
  }
  ;
  _.Y.L8.ZT = function(E, K, i, C) {
      var N = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }]
        , g = .553;
      N.push({
          type: 0,
          A0: 1,
          length: 4,
          XH: 0,
          h6: 0,
          n_: 1
      });
      var k = E
        , V = K
        , j = E + i
        , a = K + C
        , E = (k + j) / 2
        , K = (V + a) / 2
        , e = (k - j) / 2
        , L = (V - a) / 2;
      N.push({
          type: 1,
          ln: new bT(E - g * e,K - L),
          D: new bT(E,K - L),
          _8: new bT(E + g * e,K - L)
      });
      N.push({
          type: 1,
          ln: new bT(E + e,K - g * L),
          D: new bT(E + e,K),
          _8: new bT(E + e,K + g * L)
      });
      N.push({
          type: 1,
          ln: new bT(E + g * e,K + L),
          D: new bT(E,K + L),
          _8: new bT(E - g * e,K + L)
      });
      N.push({
          type: 1,
          ln: new bT(E - e,K + g * L),
          D: new bT(E - e,K),
          _8: new bT(E - e,K - g * L)
      });
      return N
  }
  ;
  _.Y.L8.amP = function(E, K, i, C, N) {
      var k = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      k.push({
          type: 3,
          A0: 1,
          length: 5,
          XH: 0,
          h6: 0,
          n_: 1
      });
      var V = (N - C) / 4;
      for (var G = 0; G < 5; G++) {
          var j = G * V
            , a = Math.cos(j)
            , e = Math.sin(j)
            , L = .553 * (V / (Math.PI / 2))
            , g = e * L
            , I = -a * L
            , h = new bT(a,e);
          k.push({
              type: 4,
              ln: G == 0 ? h.clone() : new bT(a + g,e + I),
              D: h,
              _8: G == 4 ? h.clone() : new bT(a - g,e - I)
          })
      }
      var o = new fn;
      o.rotate(-C);
      o.scale(i, i);
      o.translate(E, K);
      _.Y.aW(k, o);
      return k
  }
  ;
  _.oC = {};
  _.oC.type = {
      warpNone: [22, 5, 0],
      warpCustom: [22, 5, 16],
      warpArc: [22, 5, 1],
      warpArcLower: [22, 5, 2],
      warpArcUpper: [22, 5, 3],
      warpArch: [22, 5, 4],
      warpBulge: [22, 5, 5],
      warpShellLower: [22, 5, 6],
      warpShellUpper: [22, 5, 7],
      warpFlag: [22, 5, 8],
      warpWave: [22, 5, 9],
      warpFish: [22, 5, 10],
      warpRise: [22, 5, 11],
      warpFisheye: [22, 5, 12],
      warpInflate: [22, 5, 13],
      warpSqueeze: [22, 5, 14],
      warpTwist: [22, 5, 15]
  };
  _.oC._9 = function(E) {
      var K = E.warpStyle.v.warpStyle;
      if (K == "warpNone")
          return !0;
      else if (K == "warpCustom") {
          var i = !1
            , C = E.customEnvelopeWarp.v.meshPoints.v.arr
            , N = C[0].arr
            , k = C[1].arr;
          for (var G = 0; G < 4; G++)
              for (var V = 0; V < 4; V++) {
                  if (Math.abs(N[G] - N[V * 4 + G]) > 1 || Math.abs(k[G * 4] - k[G * 4 + V]) > 1)
                      i = !0
              }
          return !i
      } else
          return E.warpValue.v == 0 && E.warpPerspective.v == 0 && E.warpPerspectiveOther.v == 0
  }
  ;
  _.oC.I = function(E) {
      var K = {
          classID: "warp",
          warpStyle: {
              t: "enum",
              v: {
                  warpStyle: "warpNone"
              }
          },
          warpValue: {
              t: "doub",
              v: 0
          },
          warpPerspective: {
              t: "doub",
              v: 0
          },
          warpPerspectiveOther: {
              t: "doub",
              v: 0
          },
          warpRotate: {
              t: "enum",
              v: {
                  Ornt: "Hrzn"
              }
          }
      };
      if (E) {
          K.bounds = {
              t: "Objc",
              v: {
                  classID: "Rctn",
                  Top: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: E.y
                      }
                  },
                  Left: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: E.x
                      }
                  },
                  Btom: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: E.y + E.v
                      }
                  },
                  Rght: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: E.x + E.d
                      }
                  }
              }
          };
          K.uOrder = {
              t: "long",
              v: 4
          };
          K.vOrder = {
              t: "long",
              v: 4
          }
      }
      return K
  }
  ;
  _.oC.a7Q = function(E, K, i, C) {
      for (var G = 0; G < E.length; G += 2) {
          var N = E[G]
            , k = E[G + 1]
            , V = (N - K.x) / K.d
            , j = (k - K.y) / K.v
            , a = (1 - i) / 2
            , e = 1 - a
            , L = a + V * (e - a);
          j = .5 + (j - .5) * L * 2;
          var g = (1 - C) / 2
            , I = 1 - g
            , h = g + j * (I - g);
          V = .5 + (V - .5) * h * 2;
          N = K.x + V * K.d;
          k = K.y + j * K.v;
          E[G] = N;
          E[G + 1] = k
      }
  }
  ;
  _.oC.vr = function(E, K) {
      var i = []
        , C = [];
      for (var G = 0; G < E.length; G += 2) {
          i.push(E[G]);
          C.push(E[G + 1])
      }
      var N = [];
      N.push({
          id: "Hrzn",
          type: "UnFl",
          uID: "#Pxl",
          arr: i
      });
      N.push({
          id: "Vrtc",
          type: "UnFl",
          uID: "#Pxl",
          arr: C
      });
      K.warpStyle.v.warpStyle = "warpCustom";
      K.customEnvelopeWarp = {
          t: "Objc",
          v: {
              classID: "customEnvelopeWarp",
              meshPoints: {
                  t: "ObAr",
                  v: {
                      classID: "rationalPoint",
                      arr: N
                  }
              }
          }
      }
  }
  ;
  _.oC.T4 = function(E, K) {
      if (K == null) {
          var i = E.bounds.v
            , C = i.Left.v.val
            , N = i.Rght.v.val
            , k = i.Top.v.val
            , V = i.Btom.v.val;
          K = new h4(C,k,N - C,V - k)
      }
      if (K.OL())
          K.d = K.v = 1;
      var j = []
        , a = E.warpStyle.v.warpStyle;
      if (a == "warpCustom") {
          var e = E.customEnvelopeWarp.v.meshPoints.v.arr
            , L = e[0].arr
            , g = e[1].arr;
          for (var G = 0; G < 16; G++)
              j.push(L[G], g[G])
      } else
          j = _.oC.oC(K, a, E.warpRotate.v.Ornt == "Hrzn", E.warpValue.v / 100, E.warpPerspective.v / 100, E.warpPerspectiveOther.v / 100);
      return j
  }
  ;
  _.oC.oC = function(E, K, i, C, N, k) {
      var V = _.cP.I(E.x, E.y, E.d, E.v);
      if (K == "warpNone")
          return V;
      var j = JSON.parse(JSON.stringify(E))
        , a = new fn;
      if (!i) {
          a.translate(-E.x, -E.y);
          a.rotate(-Math.PI / 2);
          a.translate(E.v, 0);
          _.$.m(V, a, V);
          E = new h4(0,0,E.v,E.d);
          V = _.cP.vi(V, !1)
      }
      _.oC.akn(V, E, K, C, N, k);
      if (!i) {
          V = _.cP.vi(V, !0);
          E = j;
          a.KP();
          _.$.m(V, a, V)
      }
      if (C == 0)
          _.oC.a7Q(V, E, N, k);
      else {
          var a = new fn(1 / E.d,0,0,1 / E.v,-E.x,-E.y);
          a.translate(-.5, -.5);
          _.$.m(V, a, V);
          _.oC.ake(V, k, N);
          a.KP();
          _.$.m(V, a, V)
      }
      return V
  }
  ;
  _.oC.akn = function(E, K, i, C, N, k) {
      for (var G = 0; G < 4; G++) {
          for (var V = 0; V < 4; V++) {
              var j = 2 * (4 * G + V)
                , a = E[j] - K.x
                , e = E[j + 1] - K.y
                , L = a
                , g = e;
              if (C != 0) {
                  var I = K.d / 2
                    , h = K.v / 2;
                  L -= I;
                  g -= h;
                  var o = L
                    , H = L
                    , A = -h
                    , S = h
                    , v = Math.abs(C)
                    , s = Math.tan((1 - v) * Math.PI / 2)
                    , D = Math.sqrt(s * s + 1)
                    , F = Math.atan2(1, s)
                    , y = L / I * F
                    , T = I * D
                    , Q = I * D + K.v
                    , B = Math.cos(F)
                    , r = Math.sin(F)
                    , J = _.oC.ai2(B, r)
                    , m = _.oC.aeR(B, r)
                    , x = -s * I + J * T;
                  if (i == "warpArc") {
                      o = Math.sin(y) * Q;
                      A = s * I - Math.cos(F) * Q + h;
                      H = Math.sin(y) * T;
                      S = s * I - Math.cos(F) * T + h;
                      if (V == 1 || V == 2) {
                          o = V == 1 ? -m * Q : m * Q;
                          H = V == 1 ? -m * T : m * T;
                          A = s * I + h - J * Q;
                          S = s * I + h - J * T
                      }
                      if (C < 0) {
                          var R = o;
                          o = H;
                          H = R;
                          R = A;
                          A = -S;
                          S = -R
                      }
                  }
                  if (i == "warpArcLower") {
                      if (V == 1 || V == 2) {
                          H = V == 1 ? -m * T : m * T;
                          S = C < 0 ? h - x : h + x
                      }
                  }
                  if (i == "warpArcUpper" || i == "warpArch" || i == "warpBulge") {
                      if (V == 1 || V == 2) {
                          o = V == 1 ? -m * T : m * T;
                          A = C < 0 ? -h + x : -h - x
                      }
                      if (i == "warpArch") {
                          H = o;
                          S = A + 2 * h
                      }
                      if (i == "warpBulge") {
                          H = o;
                          S = -A
                      }
                  }
                  if (i == "warpFish" || i == "warpFlag" || i == "warpWave") {
                      if (V == 1) {
                          A -= C * 4 * h;
                          S += C * 4 * h
                      }
                      if (V == 2) {
                          A += C * 4 * h;
                          S -= C * 4 * h
                      }
                      if (i == "warpFlag" || i == "warpWave")
                          A = S - 2 * h
                  }
                  if (i == "warpRise") {
                      if (V < 2)
                          A = -h + C * h * 4;
                      S = A + 2 * h
                  }
                  var b = (g + h) / K.v;
                  L = o + b * (H - o);
                  g = A + b * (S - A);
                  if (i == "warpWave") {
                      if (G == 0)
                          g = -h;
                      if (G == 3)
                          g = h;
                      if (G == 1 || G == 2)
                          g = 2 * h * (G / 3 - .5) * (1 / 3) + g * (2 / 3)
                  }
                  if (i == "warpFisheye") {
                      if ((G == 1 || G == 2) && (V == 1 || V == 2)) {
                          L = L + 4 * L * C;
                          g = g + 4 * g * C
                      }
                  }
                  if (i == "warpInflate") {
                      var z = 2 / 3;
                      if ((G == 1 || G == 2) && (V == 1 || V == 2)) {
                          L = L + .5 * L * C;
                          g = g + .5 * g * C
                      } else if (G == 1 || G == 2)
                          L = L + z * L * C;
                      else if (V == 1 || V == 2)
                          g = g + z * g * C
                  }
                  if (i == "warpSqueeze") {
                      var z = 2 / 3;
                      if ((G == 1 || G == 2) && (V == 1 || V == 2)) {
                          if (C > 0)
                              L = L - z * L * C;
                          else
                              g = g + z * g * C
                      } else if (G == 1 || G == 2)
                          L = L - z * L * C;
                      else if (V == 1 || V == 2)
                          g = g + z * g * C
                  }
                  if (i == "warpTwist") {
                      if ((G == 1 || G == 2) && (V == 1 || V == 2)) {
                          var $ = C * Math.PI / 2
                            , D = 1 + Math.abs(C) * 2
                            , P = L * Math.cos($) - g * Math.sin($)
                            , t = L * Math.sin($) + g * Math.cos($);
                          L = P * D;
                          g = t * D
                      }
                  }
                  if (i == "warpShellLower" || i == "warpShellUpper") {
                      if (i == "warpShellUpper") {
                          G = 3 - G;
                          g = -g
                      }
                      if (G > 2 || G == 2 && (V == 0 || V == 3)) {
                          if (C > 0) {
                              var X = T + G / 3 * 2 * h;
                              L = Math.sin(y) * X;
                              g = -s * I - h + Math.cos(y) * X;
                              if (V == 1 || V == 2) {
                                  L = V == 1 ? -m * X : m * X;
                                  g = -s * I - h + J * X
                              }
                          } else {
                              if ((V == 1 || V == 2) && G == 3) {
                                  L = V == 1 ? -m * T : m * T;
                                  g = s * I - J * T + h
                              } else if (G == 2) {
                                  g = h - h * (2 / 3) * Math.cos(y);
                                  L = L + h * (2 / 3) * Math.sin(y)
                              }
                          }
                      }
                      if (i == "warpShellUpper") {
                          G = 3 - G;
                          g = -g
                      }
                  }
                  L += I;
                  g += h
              }
              a = L,
              e = g;
              E[j] = a + K.x;
              E[j + 1] = e + K.y
          }
      }
  }
  ;
  _.oC.ake = function(E, K, i) {
      var C = [];
      for (var N = 0; N < 4; N++)
          C.push(1 - i + N / 3 * 2 * i);
      var k = [];
      for (var N = 0; N < 4; N++)
          k.push(1 - K + N / 3 * 2 * K);
      var V = [0, 0, 0, 0]
        , j = [0, 0, 0, 0];
      for (var G = 0; G < 4; G++)
          for (var N = 0; N < 4; N++) {
              var a = 2 * (4 * G + N)
                , e = E[a]
                , L = E[a + 1];
              V[N] += e / 4;
              j[N] += L / 4
          }
      for (var G = 0; G < 4; G++)
          for (var N = 0; N < 4; N++) {
              var g = C[N]
                , a = 2 * (4 * G + N)
                , e = E[a]
                , L = E[a + 1]
                , I = V[N]
                , h = j[N];
              E[a] = I + g * (e - I);
              E[a + 1] = h + g * (L - h)
          }
      var o = E.slice(0);
      for (var G = 0; G < 4; G++)
          for (var N = 1; N < 3; N++) {
              var a = 2 * (4 * G + N)
                , e = E[a]
                , L = E[a + 1]
                , H = a + (N == 1 ? -2 : 2)
                , A = E[H]
                , S = E[H + 1];
              E[a] = e - A;
              E[a + 1] = L - S
          }
      var v = E[0]
        , s = E[1]
        , D = E[8]
        , F = E[9]
        , y = E[16]
        , T = E[17]
        , Q = E[24]
        , B = E[25]
        , r = E[6]
        , J = E[7]
        , m = E[14]
        , x = E[15]
        , R = E[22]
        , b = E[23]
        , z = E[30]
        , $ = E[31]
        , P = r - v
        , t = J - s
        , X = m - D
        , Z = x - F
        , p = R - y
        , gl = b - T
        , f = z - Q
        , cY = $ - B;
      for (var G = 0; G < 4; G++) {
          var fC = 2 * G * 4
            , hi = 0
            , es = 0
            , W = G == 1 ? .33 : .66
            , d = 1 - W;
          if (G == 0) {
              hi = P;
              es = t
          }
          if (G == 1) {
              hi = d * P + W * -f;
              es = d * t + W * -cY
          }
          if (G == 2) {
              hi = d * P + W * -f;
              es = d * t + W * -cY
          }
          if (G == 3) {
              hi = -f;
              es = -cY
          }
          E[fC] = E[fC] + hi / 2;
          E[fC + 1] = E[fC + 1] + es / 2;
          E[fC + 6] = E[fC + 6] - hi / 2;
          E[fC + 7] = E[fC + 7] - es / 2
      }
      for (var G = 0; G < 4; G++)
          for (var N = 1; N < 3; N++) {
              var a = 2 * (4 * G + N)
                , e = E[a]
                , L = E[a + 1]
                , H = a + (N == 1 ? -2 : 2)
                , A = E[H]
                , S = E[H + 1]
                , g = 2 * G / 3;
              E[a] = A + g * e;
              E[a + 1] = S + g * L
          }
      for (var G = 1; G < 3; G++)
          for (var N = 1; N < 3; N++) {
              var a = 2 * (4 * G + N)
                , e = E[a]
                , L = E[a + 1]
                , fM = G == 1 ? -8 : -16
                , n = G == 1 ? 16 : 8
                , ax = E[a + fM]
                , d_ = E[a + fM + 1]
                , cm = E[a + n]
                , c4 = E[a + n + 1]
                , g = G / 3;
              e = (1 - g) * ax + g * cm;
              L = (1 - g) * d_ + g * c4;
              E[a] = e;
              E[a + 1] = L
          }
      _.$.Rg(o, E, E, K)
  }
  ;
  _.oC.ai2 = function(E, K) {
      return (4 - E) * (1 / 3)
  }
  ;
  _.oC.aeR = function(E, K) {
      return (1 - E) * (3 - E) / (3 * K)
  }
  ;
  _.YP = {};
  _.YP.a2W = function(E, K, i, C, N, k, V, j, a, e) {
      for (var L = 0; L < j; L++)
          for (var g = 0; g < V; g++) {
              var I = 3 * (L * V + g)
                , h = L + k
                , o = g + N
                , H = E[h * K + o];
              C[I] = H;
              C[I + 1] = H;
              C[I + 2] = H
          }
  }
  ;
  _.YP.v6 = function(E, K, i, C, N, k, V, j, a, e) {
      var L = [0, 1, 1 / 2, 1 / 3, 1 / 4, 1 / 5, 1 / 6, 1 / 7, 1 / 8, 1 / 9]
        , g = 1 / a
        , I = [-1, -1, 0, -1, 1, -1, -1, 0, 1, 0, -1, 1, 0, 1, 1, 1]
        , h = new Uint32Array(6);
      for (var o = 0; o < j; o++) {
          for (var H = 0; H < V; H++) {
              var A = 3 * (o * V + H)
                , S = o + k
                , v = H + N;
              h[0] = 0;
              h[1] = 0;
              h[2] = 0;
              h[3] = 0;
              h[4] = 0;
              h[5] = 0;
              for (var G = 0; G < 16; G += 2) {
                  var s = v + I[G]
                    , D = S + I[G + 1]
                    , F = s - a * ~~(s * g)
                    , y = D - a * ~~(D * g)
                    , T = e[y * a + F];
                  h[T] += E[D * K + s];
                  h[T + 3]++
              }
              var s = v
                , D = S
                , F = s - a * ~~(s * g)
                , y = D - a * ~~(D * g)
                , T = e[y * a + F];
              h[T] = E[S * K + v];
              h[T + 3] = 1;
              C[A] = h[0] * L[h[3]];
              C[A + 1] = h[1] * L[h[4]];
              C[A + 2] = h[2] * L[h[5]]
          }
      }
  }
  ;
  _.YP.$n = function(E, K, i) {
      for (var G = 0; G < i; G += 2)
          E[K + G] = E[K + G + 1];
      K = K + i;
      for (var G = 0; G < i; G += 2)
          E[K + G + 1] = E[K + G]
  }
  ;
  _.YP.Y$ = function(E, K, i, C) {
      for (var G = 0; G < C; G += 2) {
          var N = K + G * i;
          E[N] = E[N + i];
          E[N + i + 1] = E[N + 1]
      }
  }
  ;
  _.YP.Mc = function(E, K, i, C, N, k) {
      var V = C[N]
        , j = C[N + 1]
        , a = C[k]
        , e = C[k + 1]
        , L = j + a >>> 1;
      E[K] = E[K + 3] = E[i] = E[i + 3] = V;
      E[K + 1] = L;
      E[K + 4] = j;
      E[i + 1] = a;
      E[i + 4] = L;
      E[K + 2] = E[K + 5] = E[i + 2] = E[i + 5] = e
  }
  ;
  _.YP.ajD = function(E, K, i, C, N, k) {
      var V = k * 3;
      for (var G = 0; G < k; G += 2) {
          var j = K + G
            , a = N + G * 3;
          _.YP.Mc(C, a, a + V, E, j, j + i)
      }
  }
  ;
  _.YP.afs = function(E, K, i, C, N, k, V) {
      var j = k * 3;
      for (var G = 0; G < V; G += 2) {
          var a = K + G * i
            , e = N + G * k * 3;
          _.YP.Mc(C, e, e + j, E, a, a + i)
      }
  }
  ;
  _.YP.fH = function(E, G, K) {
      var i = E[G - K - K]
        , C = E[G - K]
        , N = E[G - 2]
        , k = E[G - 1]
        , V = E[G]
        , j = E[G + 1]
        , a = E[G + 2]
        , e = E[G + K]
        , L = E[G + K + K]
        , g = Math.abs(C - e)
        , I = Math.abs(k - j)
        , h = Math.abs(V - i) * 2 + g
        , o = Math.abs(V - a) * 2 + I
        , H = Math.abs(V - N) * 2 + I
        , A = Math.abs(V - L) * 2 + g
        , S = Math.min(h, Math.min(o, Math.min(H, A)));
      if (S == h)
          return C * 3 + e + V - i >> 2;
      if (S == o)
          return j * 3 + k + V - a >> 2;
      if (S == H)
          return k * 3 + j + V - N >> 2;
      return e * 3 + C + V - L >> 2
  }
  ;
  _.YP.e9 = function(E, K, i, C, N) {
      if (E < K && K < i || E > K && K > i)
          return ~~(.5 + C + (N - C) * (K - E) / (i - E));
      else
          return (C + N >> 1) + (K + K - E - i >> 2)
  }
  ;
  _.YP.Vs = function(E, K, G, i) {
      var C = K[G - i - 1]
        , N = K[G - i + 1]
        , k = K[G]
        , V = K[G + i - 1]
        , j = K[G + i + 1]
        , a = E[G - i - 1]
        , e = E[G - i + 1]
        , L = E[G]
        , g = E[G + i - 1]
        , I = E[G + i + 1]
        , h = Math.abs(e - g) + Math.abs(E[G - i - i + 2] - L) + Math.abs(L - E[G + i + i - 2]) + Math.abs(N - k) + Math.abs(k - V)
        , o = Math.abs(a - I) + Math.abs(E[G - i - i - 2] - L) + Math.abs(L - E[G + i + i + 2]) + Math.abs(C - k) + Math.abs(k - j);
      if (h < o)
          return _.YP.e9(N, k, V, e, g);
      else
          return _.YP.e9(C, k, j, a, I)
  }
  ;
  _.YP.Ot = function(E, K, i, C, N, k) {
      E[K + 0] = i[N];
      E[K + 1] = C[N];
      E[K + 2] = _.YP.Vs(i, C, N, k)
  }
  ;
  _.YP.$X = function(E, K, i, C, N, k) {
      var V = C[N];
      E[K + 0] = _.YP.e9(C[N - 1], V, C[N + 1], i[N - 1], i[N + 1]);
      E[K + 1] = V;
      E[K + 2] = _.YP.e9(C[N - k], V, C[N + k], i[N - k], i[N + k])
  }
  ;
  _.YP.LS = function(E, K, i, C, N, k) {
      var V = C[N];
      E[K + 0] = _.YP.e9(C[N - k], V, C[N + k], i[N - k], i[N + k]);
      E[K + 1] = V;
      E[K + 2] = _.YP.e9(C[N - 1], V, C[N + 1], i[N - 1], i[N + 1])
  }
  ;
  _.YP.pI = function(E, K, i, C, N, k) {
      E[K + 0] = _.YP.Vs(i, C, N, k);
      E[K + 1] = C[N];
      E[K + 2] = i[N]
  }
  ;
  _.YP.al1 = function(E, K, i, C, N, k, V, j, a) {
      var e = Date.now()
        , L = 2
        , g = K - 2
        , I = 2;
      if ((N & 1) == 1) {
          L++;
          g--
      }
      var h = i - 2;
      if ((k & 1) == 1) {
          I++;
          h--
      }
      if (a == 1 || a == 3) {
          L++;
          g--
      }
      var o = E.slice(0);
      _.YP.$n(o, 0, K);
      _.YP.Y$(o, 0, K, i);
      _.YP.Y$(o, K - 2, K, i);
      _.YP.$n(o, (i - 2) * K, K);
      for (var H = I; H < h; H += 2)
          for (var A = L; A < g; A += 2) {
              var G = H * K + A
                , S = _.YP.fH(o, G, K)
                , v = _.YP.fH(o, G + K + 1, K);
              o[G] = Math.max(0, S);
              o[G + K + 1] = Math.max(0, v)
          }
      var s = V
        , D = j;
      if (k + j == i) {
          D -= 2;
          _.YP.ajD(E, (i - 2) * K + N, K, C, (j - 2) * V * 3, V)
      }
      if (N + V == K) {
          s -= 2;
          _.YP.afs(E, k * K + N + V - 2, K, C, (V - 2) * 3, V, j)
      }
      if (a == 0)
          for (var H = 0; H < D; H += 2)
              for (var A = 0; A < s; A += 2) {
                  var F = (H + k) * K + A + N
                    , y = (H * V + A) * 3;
                  _.YP.Ot(C, y, E, o, F, K);
                  _.YP.$X(C, y + 3, E, o, F + 1, K);
                  F += K;
                  y += 3 * V;
                  _.YP.LS(C, y, E, o, F, K);
                  _.YP.pI(C, y + 3, E, o, F + 1, K)
              }
      else if (a == 1)
          for (var H = 0; H < D; H += 2)
              for (var A = 0; A < s; A += 2) {
                  var F = (H + k) * K + A + N
                    , y = (H * V + A) * 3;
                  _.YP.$X(C, y, E, o, F, K);
                  _.YP.Ot(C, y + 3, E, o, F + 1, K);
                  F += K;
                  y += 3 * V;
                  _.YP.pI(C, y, E, o, F, K);
                  _.YP.LS(C, y + 3, E, o, F + 1, K)
              }
      else if (a == 2)
          for (var H = 0; H < D; H += 2)
              for (var A = 0; A < s; A += 2) {
                  var F = (H + k) * K + A + N
                    , y = (H * V + A) * 3;
                  _.YP.pI(C, y, E, o, F, K);
                  _.YP.LS(C, y + 3, E, o, F + 1, K);
                  F += K;
                  y += 3 * V;
                  _.YP.$X(C, y, E, o, F, K);
                  _.YP.Ot(C, y + 3, E, o, F + 1, K)
              }
      else if (a == 3)
          for (var H = 0; H < D; H += 2)
              for (var A = 0; A < s; A += 2) {
                  var F = (H + k) * K + A + N
                    , y = (H * V + A) * 3;
                  _.YP.LS(C, y, E, o, F, K);
                  _.YP.pI(C, y + 3, E, o, F + 1, K);
                  F += K;
                  y += 3 * V;
                  _.YP.Ot(C, y, E, o, F, K);
                  _.YP.$X(C, y + 3, E, o, F + 1, K)
              }
  }
  ;
  _.raw = {};
  _.raw.abK = function(E) {
      var K = E.width
        , i = E.height
        , C = Date.now()
        , N = _.raw.aig(E)
        , k = 0
        , V = 0;
      _.raw.wT(2, E, N, K, i);
      var j = K
        , a = i;
      if (E.t50829) {
          var e = E.t50829;
          k = e[1];
          V = e[0];
          j = e[3];
          a = e[2]
      }
      if (E.t50719) {
          var L = E.t50719;
          k += L[0] >> 1 << 1;
          V += L[1] >> 1 << 1
      }
      if (E.t50720) {
          var g = E.t50720;
          j = k + g[0];
          a = V + g[1]
      }
      var I = j - k
        , h = a - V
        , o = new Float32Array(I * h * 3);
      if (E.t277[0] == 1) {
          var H = E.t33421;
          if (H == null) {
              _.YP.a2W(N, K, i, o, k, V, I, h)
          } else if (H.length != 2 || H[0] != 2 || H[1] != 2) {
              console.log("Unknown CFA pattern size", H);
              _.YP.v6(N, K, i, o, k, V, I, h, H[0], E.t33422)
          } else {
              var A = E.t33422.join(",")
                , S = 0;
              if (A == "0,1,1,2")
                  S = 0;
              else if (A == "1,0,2,1")
                  S = 1;
              else if (A == "2,1,1,0")
                  S = 2;
              else if (A == "1,2,0,1")
                  S = 3;
              else
                  throw "Unknown CFA pattern " + A;
              if ((I & 1) != 0 || (h & 1) != 0)
                  throw "e";
              _.YP.al1(N, K, i, o, k, V, I, h, S)
          }
      } else {
          for (var v = 0; v < h; v++)
              for (var s = 0; s < I; s++) {
                  var D = ((v + V) * K + s + k) * 3
                    , F = (v * I + s) * 3;
                  o[F + 0] = N[D + 0];
                  o[F + 1] = N[D + 1];
                  o[F + 2] = N[D + 2]
              }
      }
      var y = o
        , T = o.length
        , Q = _.raw.a9j(E)
        , B = 1 / Q;
      for (var G = 0; G < T; G += 3) {
          o[G] = Math.min(1, y[G] * B);
          o[G + 1] = Math.min(1, y[G + 1] * B);
          o[G + 2] = Math.min(1, y[G + 2] * B)
      }
      _.raw.wT(3, E, o, I, h);
      var r = E.fc
        , J = I
        , m = h;
      if (r == 1 || r == 9) {} else {
          var x = _.raw.cr(r, I, h)
            , F = 0;
          J = x[0];
          m = x[1];
          var R = o.slice(0);
          for (var v = 0; v < m; v++)
              for (var s = 0; s < J; s++) {
                  var b = x[2] * s + x[3] * v + x[4]
                    , z = x[5] * s + x[6] * v + x[7]
                    , D = (z * I + b) * 3;
                  o[F] = R[D];
                  o[F + 1] = R[D + 1];
                  o[F + 2] = R[D + 2];
                  F += 3
              }
      }
      return {
          OR: o,
          JX: J,
          zM: m
      }
  }
  ;
  _.raw.cr = function(E, K, i) {
      var C = K
        , N = i;
      if (!1) {} else if (E == 2)
          return [K, i, -1, 0, K - 1, 0, 1, 0];
      else if (E == 3)
          return [K, i, -1, 0, K - 1, 0, -1, i - 1];
      else if (E == 4)
          return [K, i, 1, 0, 0, 0, -1, i - 1];
      else if (E == 5)
          return [i, K, 0, 1, 0, 1, 0, 0];
      else if (E == 6)
          return [i, K, 0, 1, 0, -1, 0, i - 1];
      else if (E == 8)
          return [i, K, 0, -1, K - 1, 1, 0, 0];
      else
          throw "unknown orientation " + E
  }
  ;
  _.raw.g1 = function(E, K, i, C) {
      var N = E.OR
        , k = Math.round(N.length / 3)
        , V = iX.a28(C[0], C[1])
        , j = _.raw.a8f(i, V)
        , a = _.hZ.multiply(_.hZ.Kc, j)
        , e = Math.pow(2, C[2] + (i.t50730 ? i.t50730[0] : 0));
      a = _.hZ.multiply(a, _.hZ.vF(e, e, e));
      var L = i.t50728 ? i.t50728 : [1, 1, 1]
        , g = [L[1] / L[0], L[2] / L[0], L[0] / L[1], L[2] / L[1], L[0] / L[2], L[1] / L[2]]
        , I = new Float64Array(1e3);
      for (var G = 0; G < 1e3; G++) {
          var h = G * (1 / 999);
          h = G == 999 ? 1 : _.kM(G * (1 / 999));
          h = _.raw.M9.acD(h, C[3] / 100);
          I[G] = h
      }
      var o = Date.now();
      for (var G = 0; G < k; G++) {
          var H = G << 2
            , A = H - G
            , S = N[A]
            , v = N[A + 1]
            , s = N[A + 2];
          if (v >= .92) {
              var D = Math.min(S, s);
              if (D == S) {
                  v = Math.max(v, g[0] * S);
                  s = Math.max(s, g[1] * S)
              } else {
                  S = Math.max(S, g[4] * s);
                  v = Math.max(v, g[5] * s)
              }
          }
          var F = a[0] * S + a[1] * v + a[2] * s
            , y = a[4] * S + a[5] * v + a[6] * s
            , T = a[8] * S + a[9] * v + a[10] * s;
          if (F < 0)
              F = 0;
          else if (F > 1)
              F = 1;
          if (y < 0)
              y = 0;
          else if (y > 1)
              y = 1;
          if (T < 0)
              T = 0;
          else if (T > 1)
              T = 1;
          F = I[~~(F * 999)];
          y = I[~~(y * 999)];
          T = I[~~(T * 999)];
          K[H] = ~~(.5 + F * 255);
          K[H + 1] = ~~(.5 + y * 255);
          K[H + 2] = ~~(.5 + T * 255)
      }
  }
  ;
  _.raw.M9 = {
      acD: function(E, K) {
          var i = .5 - .5 * Math.cos(E * 3.2)
            , C = 0;
          if (K > 0) {
              var N = E * .2;
              C = N * E + (1 - N) * i
          } else {
              var k = Math.pow(E, .33);
              C = (1 - k) * k + k * (E + (E - i) * .63)
          }
          var V = Math.abs(K);
          return V * C + (1 - V) * E
      },
      a7X: function(E, K) {
          var i = 0;
          if (K > 0) {
              var C = E * 1.47
                , N = Math.pow(E, 2.4);
              i = Math.min(1, N * E + (1 - N) * C)
          } else {
              var C = E * .68
                , N = Math.pow(E, 3);
              i = N * E * .5 + (1 - N) * C
          }
          var k = Math.abs(K);
          return k * i + (1 - k) * E
      },
      aaU: function(E, K) {
          var i = 0;
          if (K > 0) {
              var C = Math.pow(E, .3)
                , N = E;
              i = (1 - E) * C + E * N
          } else {
              var C = Math.pow(E, 2.5)
                , k = E
                , N = E;
              i = Math.min(1, (1 - k) * C + k * N)
          }
          var V = Math.abs(K);
          return V * i + (1 - V) * E
      }
  };
  _.raw.aig = function(E) {
      var K = E.width
        , i = E.height
        , C = K * i * E.t277
        , N = new Uint16Array(C)
        , k = null
        , V = 0;
      _.raw.a1I(E, N);
      _.raw.wT(1, E, N, K, i);
      if (E.t50712) {
          k = E.t50712;
          V = k.length - 1;
          if (k[V] > 65535)
              throw "too big values"
      }
      var j = _.raw.pg(E)
        , a = _.raw.Mr(E);
      if (k == null)
          for (var G = 0; G < C; G++)
              N[G] = Math.max(0, N[G] - j);
      else
          for (var G = 0; G < C; G++) {
              var e = N[G];
              if (e > V)
                  e = V;
              e = k[e];
              N[G] = Math.max(0, e - j)
          }
      return N
  }
  ;
  _.raw.pg = function(E) {
      var K = E.t50714
        , i = K ? K[0] : 0
        , C = E.t50715
        , N = E.t50716;
      if (C)
          i += C[0][0] / C[0][1];
      if (N)
          i += N[0][0] / N[0][1];
      return Math.round(i)
  }
  ;
  _.raw.Mr = function(E) {
      var K = null
        , i = 0;
      if (E.t50712) {
          K = E.t50712;
          i = K.length - 1
      }
      var C = E.t50717 ? E.t50717[0] : (1 << E.t258[0]) - 1;
      if (K)
          C = Math.min(C, K[i]);
      return C
  }
  ;
  _.raw.a9j = function(E) {
      var K = _.raw.pg(E)
        , i = _.raw.Mr(E);
      return i - K
  }
  ;
  _.raw.a1I = function(E, K) {
      var i = K.length
        , C = E.data
        , N = E.t258[0];
      if (N != 16 && N != 14 && N != 12 && N != 10 && N != 8)
          throw "Unsupported Bits Per Sample:" + N;
      N = Math.round(C.length * 8 / i);
      if (N == 16 && E.isLE) {
          _.uJ(C, K);
          return
      }
      for (var G = 0; G < i; G += 2) {
          var k = 0
            , V = 0
            , j = 0;
          if (N == 16) {
              k = G << 1;
              V = C[k] << 8 | C[k + 1];
              j = C[k + 2] << 8 | C[k + 3]
          } else if (N == 14) {
              var a = G * 14
                , e = a >>> 3
                , L = C[e] << 24 | C[e + 1] << 16 | C[e + 2] << 8 | C[e + 3];
              if ((a & 7) == 0) {
                  V = L >>> 18;
                  j = L >>> 4 & 16383
              } else {
                  V = L >>> 14 & 16383;
                  j = L & 16383
              }
          } else if (N == 12) {
              k = G + (G >>> 1);
              V = C[k] << 4 | C[k + 1] >> 4;
              j = (C[k + 1] & 15) << 8 | C[k + 2]
          } else if (N == 10) {
              var a = G * 10
                , e = a >>> 3;
              if ((a & 7) == 0) {
                  V = (C[e] << 2 | C[e + 1] >> 6) & 1023;
                  j = (C[e + 1] << 4 | C[e + 2] >> 4) & 1023
              } else {
                  V = (C[e] << 6 | C[e + 1] >> 2) & 1023;
                  j = (C[e + 1] << 8 | C[e + 2] >> 0) & 1023
              }
          } else if (N == 8) {
              k = G;
              V = C[k];
              j = C[k + 1]
          }
          K[G] = V;
          K[G + 1] = j
      }
  }
  ;
  _.raw.wT = function(E, K, i, C, N) {
      var k = K["t" + [51008, 51009, 51022][E - 1]]
        , L = 0;
      if (k == null)
          return;
      var V = C * N
        , j = O.n
        , a = O.AN
        , e = new Uint8Array(k)
        , eX = O.n(e, L);
      L += 4;
      for (var g = 0; g < eX; g++) {
          var I = j(e, L);
          L += 4;
          var h = j(e, L);
          L += 4;
          var o = j(e, L);
          L += 4;
          var H = j(e, L);
          L += 4;
          if (!1) {} else if (I == 1 && E == 3) {
              var A = L
                , S = j(e, A);
              A += 4;
              var v = a(e, A);
              A += 8;
              var s = a(e, A);
              A += 8;
              var D = a(e, A);
              A += 8;
              var F = a(e, A);
              A += 8;
              var y = a(e, A);
              A += 8;
              var T = a(e, A);
              A += 8;
              A += (S - 1) * 8 * 6;
              var Q = a(e, A);
              A += 8;
              var B = a(e, A);
              A += 8;
              var r = Q * C
                , J = B * N
                , m = Math.max(r, C - r)
                , x = Math.max(J, N - J)
                , R = Math.sqrt(m * m + x * x)
                , b = 1 / R
                , z = i.slice(0);
              for (var $ = 0; $ < N; $++)
                  for (var P = 0; P < C; P++) {
                      var t = (P + .5 - r) * b
                        , X = ($ + .5 - J) * b
                        , Z = t * t + X * X
                        , p = v + s * Z + D * (Z * Z) + F * (Z * Z) * Z
                        , gl = y * (2 * t * X) + T * (Z + 2 * t * t)
                        , f = T * (2 * t * X) + y * (Z + 2 * X * X)
                        , cY = ~~(r + R * (p * t + gl))
                        , fC = ~~(J + R * (p * X + f))
                        , hi = (fC * C + cY) * 3
                        , es = ($ * C + P) * 3;
                      i[es] = z[hi];
                      i[es + 1] = z[hi + 1];
                      i[es + 2] = z[hi + 2]
                  }
          } else if (I == 3 && E == 3) {
              var A = L
                , W = a(e, A);
              A += 8;
              var d = a(e, A);
              A += 8;
              var fM = a(e, A);
              A += 8;
              var n = a(e, A);
              A += 8;
              var ax = a(e, A);
              A += 8;
              var Q = a(e, A);
              A += 8;
              var B = a(e, A);
              A += 8;
              var r = Q * C
                , J = B * N
                , m = Math.max(r, C - r)
                , x = Math.max(J, N - J)
                , R = Math.sqrt(m * m + x * x)
                , b = 1 / R;
              for (var $ = 0; $ < N; $++)
                  for (var P = 0; P < C; P++) {
                      var t = (P + .5 - r) * b
                        , X = ($ + .5 - J) * b
                        , Z = t * t + X * X
                        , d_ = 1 + (W + (d + (fM + (n + ax * Z) * Z) * Z) * Z) * Z
                        , es = ($ * C + P) * 3;
                      i[es] = d_ * i[es];
                      i[es + 1] = d_ * i[es + 1];
                      i[es + 2] = d_ * i[es + 2]
                  }
          } else if (I == 4 && E == 1) {
              var A = L
                , cm = j(e, A);
              A += 4;
              var c4 = j(e, A);
              A += 4;
              for (var G = 0; G < V; G++)
                  if (i[G] == cm)
                      i[G] = i[G - 2] + i[G + 2] >> 1
          } else if (I == 5 && E == 1) {
              var A = L
                , ch = j(e, A);
              A += 4;
              var hQ = j(e, A);
              A += 4;
              var em = j(e, A);
              A += 4;
              for (var G = 0; G < hQ; G++) {
                  var ag = j(e, A);
                  A += 4;
                  var am = j(e, A);
                  A += 4;
                  var G = ag * C + am;
                  i[G] = i[G - 2] + i[G + 2] >> 1
              }
          } else if (I == 7 && E == 1) {
              var A = L
                , bK = O.RJ(e, A);
              A += 16;
              var ei = j(e, A);
              A += 4;
              var dL = j(e, A);
              A += 4;
              var fh = j(e, A)
                , eu = j(e, A + 4);
              A += 8;
              var hf = j(e, A);
              A += 4;
              var iS = new Uint16Array(hf);
              for (var G = 0; G < hf; G++)
                  iS[G] = O.HJ(e, A + 2 * G);
              var aI = bK.d
                , gn = bK.v;
              for (var $ = 0; $ < gn; $ += fh)
                  for (var P = 0; P < aI; P += eu) {
                      var G = (bK.y + $) * C + (bK.x + P);
                      i[G] = iS[i[G]]
                  }
          } else if (I == 9 && E == 2) {
              var A = L
                , bK = O.RJ(e, A)
                , dE = !0;
              A += 16;
              var ei = j(e, A);
              A += 4;
              var dL = j(e, A);
              A += 4;
              var fh = j(e, A)
                , eu = j(e, A + 4);
              A += 8;
              var ce = j(e, A)
                , gr = j(e, A + 4);
              A += 8;
              var ek = a(e, A)
                , bJ = a(e, A + 8);
              A += 16;
              var aN = a(e, A)
                , bG = a(e, A + 8);
              A += 16;
              var aQ = j(e, A);
              A += 4;
              if (aQ != 1)
                  throw "more than one map plane";
              var cu = ce * gr
                , gX = new Float32Array(cu);
              for (var bW = 0; bW < cu; bW++)
                  gX[bW] = O.qE(e, A + bW * 4);
              for (var bW = 0; bW < cu; bW++)
                  if (gX[bW] != 1)
                      dE = !1;
              if (!dE) {
                  var aI = bK.d
                    , gn = bK.v
                    , b4 = .9999 * (gr - 1) / aI
                    , cC = .9999 * (ce - 1) / gn;
                  for (var $ = 0; $ < gn; $ += fh)
                      for (var P = 0; P < aI; P += eu) {
                          var G = (bK.y + $) * C + (bK.x + P)
                            , gN = P * b4
                            , eH = $ * cC
                            , hx = Math.floor(gN)
                            , c2 = Math.floor(eH)
                            , hv = gN - hx
                            , fu = eH - c2
                            , es = c2 * gr + hx
                            , dv = gX[es] * (1 - hv) + gX[es + 1] * hv
                            , fj = gX[es + gr] * (1 - hv) + gX[es + 1 + gr] * hv
                            , il = dv * (1 - fu) + fj * fu;
                          i[G] = ~~(i[G] * il + .5)
                      }
              }
          } else
              console.log("Unknown opcode " + I + " in OpcodeList" + E + ". Length: " + H);
          L += H
      }
  }
  ;
  _.raw.a8f = function(E, K) {
      var i = iX.IA(K)
        , C = _.raw.dn(E, K)
        , N = _.hZ.KP(C)
        , k = iX.aj0(i, iX.IA(iX.a7z))
        , V = _.hZ.multiply(k, N);
      return V
  }
  ;
  _.raw.ae0 = function(E) {
      var K = (E.t50728 ? E.t50728 : [1, 1, 1]).slice(0)
        , C = 1;
      K.push(0);
      var i = {
          x: .34567,
          y: .3585
      };
      do {
          var N = _.hZ.KP(_.raw.dn(E, i))
            , k = _.hZ.iQ(N, K)
            , V = iX.aoc(k);
          C = Math.abs(i.x - V.x) + Math.abs(i.y - V.y);
          i = V
      } while (C > 1e-7);return i
  }
  ;
  _.raw.dn = function(E, K) {
      var i = iX.Sw(K)
        , C = _.raw.am_
        , N = E.t50778 ? E.t50778[0] : 0
        , k = E.t50779 ? E.t50779[0] : 0
        , V = C(E.t50721, E.t50722, N, k, i.Ms)
        , j = C(E.t50723, E.t50724, N, k, i.Ms);
      V = V || [1, 0, 0, 0, 1, 0, 0, 0, 1];
      j = j || [1, 0, 0, 0, 1, 0, 0, 0, 1];
      var a = E.t50727 ? [E.t50727[0], 0, 0, 0, E.t50727[1], 0, 0, 0, E.t50727[2]] : [1, 0, 0, 0, 1, 0, 0, 0, 1];
      return _.hZ.multiply(_.hZ.oQ(a), _.hZ.multiply(_.hZ.oQ(j), _.hZ.oQ(V)))
  }
  ;
  _.raw.am_ = function(E, K, i, C, N) {
      if (!E && !K) {
          return null
      } else if (E && !K) {
          return E
      } else if (N < i) {
          return E
      } else if (N > C) {
          return K
      } else {
          var k = (1 / N - 1 / C) / (1 / i - 1 / C)
            , V = 1 - k
            , j = [];
          for (var G = 0; G < 9; G++)
              j[G] = E[G] * k + K[G] * V;
          return j
      }
  }
  ;
  var iX = {};
  iX.a7z = {
      x: .34567,
      y: .3585
  };
  iX.ov = [{
      h: 0,
      t1: .18006,
      Gb: .26352,
      yH: -.24341
  }, {
      h: 10,
      t1: .18066,
      Gb: .26589,
      yH: -.25479
  }, {
      h: 20,
      t1: .18133,
      Gb: .26846,
      yH: -.26876
  }, {
      h: 30,
      t1: .18208,
      Gb: .27119,
      yH: -.28539
  }, {
      h: 40,
      t1: .18293,
      Gb: .27407,
      yH: -.3047
  }, {
      h: 50,
      t1: .18388,
      Gb: .27709,
      yH: -.32675
  }, {
      h: 60,
      t1: .18494,
      Gb: .28021,
      yH: -.35156
  }, {
      h: 70,
      t1: .18611,
      Gb: .28342,
      yH: -.37915
  }, {
      h: 80,
      t1: .1874,
      Gb: .28668,
      yH: -.40955
  }, {
      h: 90,
      t1: .1888,
      Gb: .28997,
      yH: -.44278
  }, {
      h: 100,
      t1: .19032,
      Gb: .29326,
      yH: -.47888
  }, {
      h: 125,
      t1: .19462,
      Gb: .30141,
      yH: -.58204
  }, {
      h: 150,
      t1: .19962,
      Gb: .30921,
      yH: -.70471
  }, {
      h: 175,
      t1: .20525,
      Gb: .31647,
      yH: -.84901
  }, {
      h: 200,
      t1: .21142,
      Gb: .32312,
      yH: -1.0182
  }, {
      h: 225,
      t1: .21807,
      Gb: .32909,
      yH: -1.2168
  }, {
      h: 250,
      t1: .22511,
      Gb: .33439,
      yH: -1.4512
  }, {
      h: 275,
      t1: .23247,
      Gb: .33904,
      yH: -1.7298
  }, {
      h: 300,
      t1: .2401,
      Gb: .34308,
      yH: -2.0637
  }, {
      h: 325,
      t1: .24792,
      Gb: .34655,
      yH: -2.4681
  }, {
      h: 350,
      t1: .25591,
      Gb: .34951,
      yH: -2.9641
  }, {
      h: 375,
      t1: .264,
      Gb: .352,
      yH: -3.5814
  }, {
      h: 400,
      t1: .27218,
      Gb: .35407,
      yH: -4.3633
  }, {
      h: 425,
      t1: .28039,
      Gb: .35577,
      yH: -5.3762
  }, {
      h: 450,
      t1: .28863,
      Gb: .35714,
      yH: -6.7262
  }, {
      h: 475,
      t1: .29685,
      Gb: .35823,
      yH: -8.5955
  }, {
      h: 500,
      t1: .30505,
      Gb: .35907,
      yH: -11.324
  }, {
      h: 525,
      t1: .3132,
      Gb: .35968,
      yH: -15.628
  }, {
      h: 550,
      t1: .32129,
      Gb: .36011,
      yH: -23.325
  }, {
      h: 575,
      t1: .32931,
      Gb: .36038,
      yH: -40.77
  }, {
      h: 600,
      t1: .33724,
      Gb: .36051,
      yH: -116.45
  }];
  iX.Sw = function(E) {
      var K = iX.ov
        , i = 2 * E.x / (1.5 - E.x + 6 * E.y)
        , C = 3 * E.y / (1.5 - E.x + 6 * E.y)
        , N = 0
        , k = 0
        , V = 0;
      for (; V < 31; V++) {
          N = C - K[V].Gb - K[V].yH * (i - K[V].t1);
          if (V > 0 && N < 0) {
              break
          }
          k = N
      }
      while (V >= K.length)
          V--;
      N /= Math.sqrt(1 + K[V].yH * K[V].yH);
      k /= Math.sqrt(1 + K[V - 1].yH * K[V - 1].yH);
      var j = k / (k - N)
        , a = 1e6 / ((K[V].h - K[V - 1].h) * j + K[V - 1].h)
        , e = i - ((K[V].t1 - K[V - 1].t1) * j + K[V - 1].t1)
        , L = C - ((K[V].Gb - K[V - 1].Gb) * j + K[V - 1].Gb)
        , g = Math.sqrt(1 + K[V].yH * K[V].yH)
        , I = 1 / g
        , h = K[V].yH / g
        , o = Math.sqrt(1 + K[V - 1].yH * K[V - 1].yH)
        , H = 1 / o
        , A = K[V - 1].yH / o
        , S = (I - H) * j + H
        , v = (h - A) * j + A
        , s = Math.sqrt(S * S + v * v);
      S /= s;
      v /= s;
      var D = (e * S + L * v) * -3e3;
      return {
          Ms: a,
          pe: D
      }
  }
  ;
  iX.a28 = function(E, K) {
      var i = iX.ov
        , C = 1e6 / E
        , N = 1;
      for (; N < 31; N++) {
          if (C < i[N].h) {
              break
          }
      }
      var k = (i[N].h - C) / (i[N].h - i[N - 1].h)
        , V = (i[N - 1].t1 - i[N].t1) * k + i[N].t1
        , j = (i[N - 1].Gb - i[N].Gb) * k + i[N].Gb
        , a = Math.sqrt(1 + i[N].yH * i[N].yH)
        , e = 1 / a
        , L = i[N].yH / a
        , g = Math.sqrt(1 + i[N - 1].yH * i[N - 1].yH)
        , I = 1 / g
        , h = i[N - 1].yH / g
        , o = (I - e) * k + e
        , H = (h - L) * k + L
        , A = Math.sqrt(o * o + H * H);
      o /= A;
      H /= A;
      V += o * K / -3e3;
      j += H * K / -3e3;
      return {
          x: 1.5 * V / (V - 4 * j + 2),
          y: j / (V - 4 * j + 2)
      }
  }
  ;
  iX.aoc = function(E) {
      var K = E[0] + E[1] + E[2];
      return {
          x: E[0] / K,
          y: E[1] / K
      }
  }
  ;
  iX.IA = function(E) {
      return {
          x: E.x / E.y,
          y: 1,
          IK: (1 - E.x - E.y) / E.y
      }
  }
  ;
  iX.aj0 = function(E, K) {
      var i = _.hZ.oQ([.8951, .2664, -.1614, -.7502, 1.7135, .0367, .0389, -.0685, 1.0296])
        , C = [E.x, E.y, E.IK, 0]
        , N = [K.x, K.y, K.IK, 0];
      C = _.hZ.iQ(i, C);
      N = _.hZ.iQ(i, N);
      var k = N[0] / C[0]
        , V = N[1] / C[1]
        , j = N[2] / C[2]
        , a = _.hZ.oQ([k, 0, 0, 0, V, 0, 0, 0, j])
        , e = _.hZ.KP(i);
      return _.hZ.multiply(_.hZ.multiply(e, a), i)
  }
  ;
  _.raw.rn = {};
  _.raw.p0 = function(E) {
      E *= 8;
      var K = [8, 10, 12, 14, 16];
      for (var i in _.raw.gz) {
          var C = _.raw.gz[i];
          if (C.length == 4)
              continue;
          var N = C[4]
            , k = C[5];
          for (var G = 0; G < K.length; G++)
              if (N * k * K[G] == E)
                  return [i, K[G]]
      }
      var V = [[4e3, 3e3]];
      for (var G = 0; G < V.length; G++) {
          var C = V[G]
            , N = C[0]
            , k = C[1];
          for (var G = 0; G < K.length; G++)
              if (N * k * K[G] == E)
                  return [C, K[G]]
      }
      return null
  }
  ;
  _.raw.a0M = function(E) {
      var E = new Uint8Array(E);
      for (var G = 0; G < E.length; G += 2) {
          var K = E[G];
          E[G] = E[G + 1];
          E[G + 1] = K
      }
      var i = _.raw.p0(E.length)
        , C = _.raw.gz[i[0]];
      if (C == null)
          C = [[8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 0, 1e3, 64383, i[0][0], i[0][1]];
      var N = C[4]
        , k = C[5]
        , V = Math.max(C[2], 116)
        , j = {
          data: E,
          fc: 1,
          width: N,
          height: k,
          t256: [N],
          t257: [k],
          t258: [i[1]],
          t277: [1],
          t33421: [2, 2],
          t33422: _.raw._R[C[1]],
          t50706: [1, 2, 0, 0],
          t50714: [V, V, V, V],
          t50717: [C[3]],
          t50721: C[0].slice(0),
          t50723: [1, 0, 0, 0, 1, 0, 0, 0, 1],
          t50728: [.64, 1, .46],
          t50778: [17]
      };
      for (var G = 0; G < 9; G++)
          j.t50721[G] /= 1e4;
      return j
  }
  ;
  _.raw.ji = function(E) {
      if (E == null || E.length == 0 || typeof E[0] == "number")
          return E;
      var K = [];
      for (var G = 0; G < E.length; G++)
          K[G] = E[G][1] == 0 ? 0 : E[G][0] / E[G][1];
      return K
  }
  ;
  _.raw._R = [[2, 1, 1, 0], [0, 1, 1, 2], [1, 0, 2, 1], [1, 2, 0, 1]];
  _.raw.normalize = function(E, K) {
      if (E.t50706 != null || E.t271[0].startsWith("Hasselblad")) {
          var i = [50714, 50718, 50719, 50720, 50721, 50722, 50723, 50724, 50727, 50728, 50730, 50731, 50732, 50734, 50736, 50738, 50739, 50780, 50964, 50965];
          for (var G = 0; G < i.length; G++)
              if (E["t" + i[G]] != null)
                  E["t" + i[G]] = _.raw.ji(E["t" + i[G]]);
          if (E.t271 && E.t271[0].startsWith("Hasselblad")) {
              E.t50706 = [1, 2, 0, 0];
              E.t33422 = _.raw._R[1];
              E.t50723 = [1, 0, 0, 0, 1, 0, 0, 0, 1];
              E.t50778 = [17];
              if (!E.isLE)
                  for (var G = 0; G < E.data.length; G += 2) {
                      var C = E.data[G];
                      E.data[G] = E.data[G + 1];
                      E.data[G + 1] = C
                  }
          }
          return
      }
      var N = E.t258[0]
        , k = E.exifIFD
        , K = new Uint8Array(K);
      E.t50706 = [1, 2, 0, 0];
      var V = E.t272[0].trim();
      if (V.indexOf(" ") == -1)
          V = E.t271[0].trim() + " " + V;
      if (E.t50708 == null)
          E.t50708 = [V];
      var j = _.raw.gz
        , a = j[V.toLowerCase()];
      if (a == null)
          for (var e in j)
              if (V.toLowerCase().startsWith(e))
                  a = j[e];
      if (a == null)
          throw V;
      var L = a[2];
      E.t50714 = [L, L, L, L];
      E.t50717 = [a[3]];
      E.t50721 = a[0].slice(0);
      for (var G = 0; G < 9; G++)
          E.t50721[G] = E.t50721[G] * (1 / 1e4);
      E.t50723 = [1, 0, 0, 0, 1, 0, 0, 0, 1];
      if (E.t50728 == null)
          E.t50728 = [.35, 1, .6];
      E.t50778 = [17];
      if (E.t271[0].startsWith("SONY")) {
          var g = UTIF["_bin" + (E.isLE ? "LE" : "BE")], I = E.t28688, s;
          if (JSON.stringify(I) != "[8000,10400,12900,14100]")
              console.log(I);
          if (I) {
              var h = [0, 0, 0, 0, 0, 4095]
                , o = new Uint16Array(16385);
              for (var G = 0; G < 4; G++) {
                  var H = I[G] >>> 2;
                  h[G + 1] = H;
                  if (H > 4095)
                      throw "e"
              }
              for (var G = 0; G < 16385; G++)
                  o[G] = G;
              for (var G = 0; G < 5; G++)
                  for (var A = h[G] + 1; A <= h[G + 1]; A++)
                      o[A] = o[A - 1] + (1 << G);
              var S = K.length * 8 < E.width * E.height * N;
              if (S)
                  E.t50712 = o
          } else
              console.log("no curve");
          var v = E.dngPrvt;
          if (v) {
              var D = v.t29184[0]
                , F = v.t29185[0]
                , y = (E.isLE ? O.n$ : O.n)(v.t29217, 0)
                , T = new Uint32Array(K.slice(D, D + (F & 4294967292)).buffer)
                , Q = new Uint32Array(F >>> 2);
              _.raw.anP(T, Q, F >>> 2, y);
              var B = new Uint8Array(D + F);
              B.set(new Uint8Array(Q.buffer), D);
              var r = [];
              UTIF._readIFD(g, B, D, r, 0, !1);
              var J = r.pop()
                , m = J.t29458;
              E.t50728 = [m[1] / m[0], 1, m[1] / m[3]];
              E.t50730 = [.5];
              var x = J.t29891;
              E.t50829 = [x[1], x[0], x[3], x[2]]
          } else if (k.makerNote && k.makerNote.t8208) {
              var s = k.makerNote
                , R = s.t8208
                , b = R.length
                , z = 0
                , $ = new Uint8Array(256);
              for (var G = 249; G < 256; G++)
                  $[G] = G;
              for (var G = 0; G < 249; G++)
                  $[G * G * G % 249] = G;
              for (var G = 0; G < b; G++)
                  R[G] = $[R[G]];
              if (b == 6604)
                  z = 612;
              else
                  throw "e";
              var m = [];
              for (var G = 0; G < 3; G++)
                  m.push(O.K5(R, z + G * 2));
              console.log(m);
              E.t50728 = [m[1] / m[0], 1, m[1] / m[2]]
          } else
              console.log("no white balance");
          if (E.width * E.height * 1.5 == E.t279[0]) {
              L = L >>> 2;
              E.t50714 = [L, L, L, L];
              E.t50717 = [a[3] >>> 2]
          }
      } else if (E.t271[0].startsWith("Canon")) {
          var K = E.data
            , P = K.slice(0)
            , t = E.t50752
            , X = []
            , p = 0;
          if (t == null || t[0] == 0 && t[1] == 0)
              X.push(E.width);
          else {
              for (var G = 0; G < t[0]; G++)
                  X.push(t[1]);
              X.push(t[2])
          }
          var Z = E.width * 2;
          for (var gl = 0; gl < X.length; gl++) {
              var f = X[gl]
                , cY = 2 * p
                , fC = 2 * f;
              for (var hi = 0; hi < E.height; hi += 2) {
                  var es = hi * Z + cY
                    , W = E.height * cY + (hi >> 1) * fC * 2;
                  for (var G = 0; G < fC; G++) {
                      K[es + G] = P[W + G];
                      K[es + G + Z] = P[W + G + fC]
                  }
              }
              p += f
          }
          var s = k.makerNote;
          if (s.t16385) {
              var d = s.t224
                , ax = 0;
              if (d) {
                  E.t50719 = [d[5], d[6]];
                  E.t50720 = [d[7] + 1 - d[5], d[8] + 1 - d[6]]
              }
              var fM = s.t16385
                , n = fM.length;
              if (n == 582)
                  ax = 1;
              else if (n == 653)
                  ax = 2;
              else if (n == 796)
                  ax = 3;
              else if ([692, 674, 702, 1227, 1250, 1251, 1337, 1338, 1346].indexOf(n) != -1)
                  ax = 4;
              else if (n == 5120) {
                  ax = 5;
                  fM = new Int16Array(fM.slice(0).buffer)
              } else if (n == 1273 || n == 1275)
                  ax = 6;
              else if ([1312, 1313, 1316, 1506].indexOf(n) != -1)
                  ax = 7;
              else if ([1560, 1592, 1353, 1602].indexOf(n) != -1)
                  ax = 8;
              else
                  throw "e" + n;
              var d_ = fM[0]
                , cm = [null, [25, 166], [34, 286], [63, 196], [63], [71, d_ == -4 ? 333 : 264], [63, 251], [63, d_ == 10 ? 504 : 728], [63, 326]]
                , z = cm[ax][0]
                , c4 = cm[ax][1];
              if (ax == 4) {
                  if (fM[0] == 2)
                      c4 = 231;
                  else if (fM[0] == 3)
                      c4 = 231;
                  else if (fM[0] == 4)
                      c4 = 231;
                  else if (fM[0] == 5)
                      c4 = 231;
                  else if (fM[0] == 6)
                      c4 = 231;
                  else if (fM[0] == 7)
                      c4 = 231;
                  else if (fM[0] == 9)
                      c4 = 231;
                  else
                      throw "e"
              }
              E.t50728 = [fM[z + 1] / fM[z], 1, fM[z + 1] / fM[z + 3]];
              var L = c4 == null ? 1024 : fM[c4];
              E.t50714 = [L, L, L, L]
          } else {
              E.t50728 = [.4, 1, .6]
          }
      } else if (E.t271[0].startsWith("NIKON")) {
          var s = k.makerNote, ch = E.isLE ? O.K5 : O.Mj, ei = 0, dL = 0, iS, aN = 0;
          if (s.t61) {
              var hQ = s.t61
                , em = [];
              for (var G = 0; G < 4; G++)
                  em[G] = hQ[G] / Math.pow(2, 14 - N);
              E.t50714 = em
          }
          if (s.t3585) {
              var ag = s.t3585
                , G = 0
                , D = 22;
              while (D < ag.length && G != -4) {
                  var am = O.n$(ag, D);
                  D += 4;
                  D += 14;
                  G = O.n$(ag, D) - 4;
                  D += 4;
                  if (am == 1990472198) {
                      if (ag[D] != 0)
                          throw "Flip"
                  }
                  if (am == 1990472199) {
                      var bK = O.K5(ag, D);
                      if (bK == 0)
                          E.fc = 1;
                      else if (bK == 270)
                          E.fc = 8;
                      else
                          throw "e " + bK
                  }
                  D += G
              }
          }
          if (s.t183) {
              var fh = s.t183
                , eu = [];
              for (var G = 0; G < 6; G++)
                  eu.push(ch(fh, 16 + G * 2));
              ei = eu[0];
              dL = eu[1]
          }
          if (s.t3614) {
              var hf = s.t3614;
              ei = O.n$(hf, 8);
              dL = O.n$(hf, 12)
          }
          if (ei != 0) {
              if (ei < dL) {
                  var C = ei;
                  ei = dL;
                  dL = C
              }
              var p = E.width - ei >>> 1
                , hi = E.height - dL >>> 1;
              E.t50829 = [hi, p, hi + dL, p + ei]
          }
          if (s.t12) {
              var aI = _.raw.ji(s.t12);
              iS = [1 / aI[0], 1, 1 / aI[1]]
          } else if (s.t151) {
              var gn = _.raw.ag_(s, 151)
                , ce = gn[0]
                , cd = gn[1]
                , gr = gn[2];
              if (ce == "0100" && cd >= 80)
                  throw "e";
              else if (ce == "0102") {
                  var ek = [];
                  for (var G = 0; G < 4; G++)
                      ek.push(ch(gr, 6 + G * 2));
                  iS = [ek[1] / ek[0], 1, ek[1] / ek[3]]
              } else if (ce == "0103" && cd >= 26) {
                  var ek = [];
                  for (var G = 0; G < 4; G++)
                      ek.push(ch(gr, 16 + G * 2));
                  iS = [ek[1] / ek[0], 1, ek[3] / ek[2]]
              } else if (ce == "0204" && cd >= 564 || ce == "0205" && cd >= 284) {
                  var D = ce == "0204" ? 6 : 14
                    , ek = [];
                  for (var G = 0; G < 4; G++)
                      ek.push(ch(gr, D + G * 2));
                  iS = [ek[1] / ek[0], 1, ek[1] / ek[3]]
              } else
                  throw "e"
          } else
              console.log("no white balance info");
          if (V == "NIKON D1")
              iS = [1, 1, 1];
          if (iS)
              E.t50728 = iS;
          var bJ = s.t150 ? s.t150 : s.t140;
          if (bJ) {
              var bG = bJ[aN++], aQ = bJ[aN++], bW;
              if (bG == 73 || aQ == 88)
                  aN += 2110;
              aN += 8;
              var cu = 1 << N & 32767
                , gX = ch(bJ, aN);
              aN += 2;
              var o = [];
              if (gX > 1)
                  bW = Math.floor(cu / (gX - 1));
              if (bG == 68 && aQ == 32 && bW > 0) {
                  for (G = 0; G < gX; G++) {
                      o[G * bW] = ch(bJ, aN);
                      aN += 2
                  }
                  for (G = 0; G < cu; G++)
                      o[G] = Math.floor((o[G - G % bW] * (bW - G % bW) + o[G - G % bW + bW] * (G % bW)) / bW)
              } else if (bG != 70 && gX <= 16385) {
                  cu = gX;
                  for (var G = 0; G < gX; G++)
                      o[G] = ch(bJ, aN + 2 * G);
                  aN += 2 * gX
              }
              if (o.length != 0)
                  E.t50712 = new Uint16Array(o);
              else if (E.t272[0] == "NIKON D750")
                  E.t50717[0] *= 4
          }
      } else if (V.startsWith("FujiFilm")) {} else
          alert("Unknown camera " + V)
  }
  ;
  _.raw.anP = function(E, K, i, C) {
      if (0 == i)
          return;
      var N = new Uint32Array(128)
        , k = new Uint8Array(N.buffer)
        , V = 127
        , j = 0
        , a = 0;
      for (var V = 0; V < 4; V++)
          N[V] = C = (C * 15625 >>> 0) * 3125 + 1 >>> 0;
      N[3] = N[3] << 1 | (N[0] ^ N[2]) >>> 31;
      for (var V = 4; V < 127; V++)
          N[V] = (N[V - 4] ^ N[V - 2]) << 1 | (N[V - 3] ^ N[V - 1]) >>> 31;
      for (var V = 0; V < 127; V++)
          N[V] = O.n(k, V * 4);
      for (; i > 0; i--) {
          N[V & 127] = N[V + 1 & 127] ^ N[V + 1 + 64 & 127];
          var e = N[V & 127]
            , L = E[j];
          L ^= e;
          K[a] = L;
          j++;
          a++;
          V++
      }
  }
  ;
  _.raw.a2G = function(E, K) {
      var i = O.zV(K, 0, 4)
        , C = _.raw.adh;
      for (var G = 0; G < C.length; G++)
          if (C[G][0] == E && i.startsWith(C[G][1]) && (C[G][2] == 0 || C[G][2] == K.length))
              return C[G];
      throw "e"
  }
  ;
  _.raw.aiW = function(E) {
      if (E.t29 == null)
          return [];
      var K = _.raw.a6r
        , i = _.raw.a9T
        , C = E.t29[0]
        , N = 0
        , V = 0;
      for (var G = 0; G < C.length; G++) {
          var k = C.charCodeAt(G);
          N = N * 10 + (48 <= k && k <= 57 ? k - 48 : k % 10)
      }
      var cd = E.t167[0];
      for (var G = 0; G < 4; G++)
          V ^= cd >>> (G << 3) & 255;
      var j = K[N & 255]
        , a = i[V & 255];
      return [j, a, 96]
  }
  ;
  _.raw.ag_ = function(E, K) {
      var i = E["t" + K], cd = i.length, C = _.raw.a2G(K, i), N = O.zV(i, 0, 4), k, V = C[4];
      if (V == null)
          k = i.slice(4);
      else {
          k = new Uint8Array(cd - V);
          var j = _.raw.aiW(E)
            , a = j[0]
            , e = j[1]
            , L = j[2];
          for (var G = 0; G < k.length; G++) {
              e = e + a * L++ & 255;
              k[G] = i[V++] ^ e
          }
      }
      return [N, cd, k]
  }
  ;
  _.raw.adh = [[145, "0208", 0, 0, 4], [145, "0209", 0, 1, 4], [145, "0210", 5291, 2, 4], [145, "0210", 5303, 3, 4], [145, "02", 0, 4, 4], [145, "01", 0, 5, null], [151, "0100", 0, 0, null], [151, "0102", 0, 1, null], [151, "0103", 0, 4, null], [151, "0204", 0, 3, 284], [151, "0205", 0, 2, 4], [151, "0206", 0, 3, 284], [151, "0207", 0, 3, 284], [151, "0208", 0, 3, 284], [151, "0209", 0, 5, 284], [151, "02", 0, 3, 284], [152, "0100", 0, 0, null], [152, "0101", 0, 1, null], [152, "0201", 0, 1, 4], [152, "0202", 0, 1, 4], [152, "0203", 0, 1, 4], [152, "0204", 0, 2, 4], [168, "0100", 0, 0, null], [168, "0101", 0, 0, null], [168, "0102", 0, 1, null], [168, "0103", 0, 2, null]];
  _.raw.a6r = [193, 191, 109, 13, 89, 197, 19, 157, 131, 97, 107, 79, 199, 127, 61, 61, 83, 89, 227, 199, 233, 47, 149, 167, 149, 31, 223, 127, 43, 41, 199, 13, 223, 7, 239, 113, 137, 61, 19, 61, 59, 19, 251, 13, 137, 193, 101, 31, 179, 13, 107, 41, 227, 251, 239, 163, 107, 71, 127, 149, 53, 167, 71, 79, 199, 241, 89, 149, 53, 17, 41, 97, 241, 61, 179, 43, 13, 67, 137, 193, 157, 157, 137, 101, 241, 233, 223, 191, 61, 127, 83, 151, 229, 233, 149, 23, 29, 61, 139, 251, 199, 227, 103, 167, 7, 241, 113, 167, 83, 181, 41, 137, 229, 43, 167, 23, 41, 233, 79, 197, 101, 109, 107, 239, 13, 137, 73, 47, 179, 67, 83, 101, 29, 73, 163, 19, 137, 89, 239, 107, 239, 101, 29, 11, 89, 19, 227, 79, 157, 179, 41, 67, 43, 7, 29, 149, 89, 89, 71, 251, 229, 233, 97, 71, 47, 53, 127, 23, 127, 239, 127, 149, 149, 113, 211, 163, 11, 113, 163, 173, 11, 59, 181, 251, 163, 191, 79, 131, 29, 173, 233, 47, 113, 101, 163, 229, 7, 53, 61, 13, 181, 233, 229, 71, 59, 157, 239, 53, 163, 191, 179, 223, 83, 211, 151, 83, 73, 113, 7, 53, 97, 113, 47, 67, 47, 17, 223, 23, 151, 251, 149, 59, 127, 107, 211, 37, 191, 173, 199, 197, 197, 181, 139, 239, 47, 211, 7, 107, 37, 73, 149, 37, 73, 109, 113, 199];
  _.raw.a9T = [167, 188, 201, 173, 145, 223, 133, 229, 212, 120, 213, 23, 70, 124, 41, 76, 77, 3, 233, 37, 104, 17, 134, 179, 189, 247, 111, 97, 34, 162, 38, 52, 42, 190, 30, 70, 20, 104, 157, 68, 24, 194, 64, 244, 126, 95, 27, 173, 11, 148, 182, 103, 180, 11, 225, 234, 149, 156, 102, 220, 231, 93, 108, 5, 218, 213, 223, 122, 239, 246, 219, 31, 130, 76, 192, 104, 71, 161, 189, 238, 57, 80, 86, 74, 221, 223, 165, 248, 198, 218, 202, 144, 202, 1, 66, 157, 139, 12, 115, 67, 117, 5, 148, 222, 36, 179, 128, 52, 229, 44, 220, 155, 63, 202, 51, 69, 208, 219, 95, 245, 82, 195, 33, 218, 226, 34, 114, 107, 62, 208, 91, 168, 135, 140, 6, 93, 15, 221, 9, 25, 147, 208, 185, 252, 139, 15, 132, 96, 51, 28, 155, 69, 241, 240, 163, 148, 58, 18, 119, 51, 77, 68, 120, 40, 60, 158, 253, 101, 87, 22, 148, 107, 251, 89, 208, 200, 34, 54, 219, 210, 99, 152, 67, 161, 4, 135, 134, 247, 166, 38, 187, 214, 89, 77, 191, 106, 46, 170, 43, 239, 230, 120, 182, 78, 224, 47, 220, 124, 190, 87, 25, 50, 126, 42, 208, 184, 186, 41, 0, 60, 82, 125, 168, 73, 59, 45, 235, 37, 73, 250, 163, 170, 57, 167, 197, 167, 80, 17, 54, 251, 198, 103, 74, 245, 165, 18, 101, 126, 176, 223, 175, 78, 179, 97, 127, 47];
  _.raw.gz = {
      "canon eos 100d": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2048, 15e3],
      "canon eos rebel sl1": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2048, 15e3],
      "canon eos kiss x7": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2048, 15e3],
      "canon eos 200d": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2049, 14338],
      "canon eos rebel sl2": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2049, 14338],
      "canon eos kiss x9": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2049, 14338],
      "canon eos 300d": [[8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 126, 4e3],
      "canon eos digital rebel": [[8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 126, 4e3],
      "canon eos kiss digital": [[8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 126, 4e3],
      "canon eos d30": [[9805, -2689, -1312, -5803, 13064, 3068, -2438, 3075, 8775], 1, 126, 4095],
      "canon eos d60": [[6188, -1341, -890, -7168, 14489, 2937, -2640, 3228, 8483], 1, 127, 4e3],
      "canon eos 10d": [[8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 130, 4e3],
      "canon eos 20d": [[6599, -537, -891, -8071, 15783, 2424, -1983, 2234, 7462], 1, 126, 4095],
      "canon eos 30d": [[6257, -303, -1e3, -7880, 15621, 2396, -1714, 1904, 7046], 1, 127, 3398],
      "canon eos 350d": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
      "canon eos digital rebel xt": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
      "canon eos kiss digital n": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
      "canon eos 350d": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
      "canon eos 350d digital": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
      "canon eos 40d": [[6071, -747, -856, -7653, 15365, 2441, -2025, 2553, 7315], 1, 1021, 13600],
      "canon eos 450d": [[5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500],
      "canon eos digital rebel xsi": [[5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500],
      "canon eos kiss digital x2": [[5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500],
      "canon eos kiss x2": [[5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500],
      "canon eos 50d": [[4920, 616, -593, -6493, 13964, 2784, -1774, 3178, 7005], 3, 1020, 13653],
      "canon eos 60d": [[6719, -994, -925, -4408, 12426, 2211, -887, 2129, 6051], 3, 2026, 14200],
      "canon eos 70d": [[7034, -804, -1014, -4420, 12564, 2058, -851, 1994, 5758], 1, 2026, 13653],
      "canon eos 80d": [[7457, -671, -937, -4849, 12495, 2643, -1213, 2354, 5492], 1, 512, 11892],
      "canon eos 700d": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2052, 15e3],
      "canon eos rebel t5i": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2052, 15e3],
      "canon eos kiss x7i": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2052, 15e3],
      "canon eos 750d": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
      "canon eos rebel t6i": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
      "canon eos kiss x8i": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
      "canon eos 800d": [[6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338],
      "canon eos rebel t7i": [[6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338],
      "canon eos rebel t7i": [[6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338],
      "canon eos kiss x9i": [[6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338],
      "canon eos 760d": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
      "canon eos rebel t6s": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
      "canon eos 8000d": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
      "canon eos 77d": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2048, 14338],
      "canon eos 9000d": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2048, 14338],
      "canon eos 500d": [[4763, 712, -646, -6821, 14399, 2640, -1921, 3276, 6561], 1, 1020, 16e3],
      "canon eos rebel t1i": [[4763, 712, -646, -6821, 14399, 2640, -1921, 3276, 6561], 1, 1020, 16e3],
      "canon eos kiss x3": [[4763, 712, -646, -6821, 14399, 2640, -1921, 3276, 6561], 1, 1020, 16e3],
      "canon eos 550d": [[6941, -1164, -857, -3825, 11597, 2534, -416, 1540, 6039], 0, 2048, 15831],
      "canon eos rebel t2i": [[6941, -1164, -857, -3825, 11597, 2534, -416, 1540, 6039], 0, 2048, 15831],
      "canon eos kiss x4": [[6941, -1164, -857, -3825, 11597, 2534, -416, 1540, 6039], 0, 2048, 15831],
      "canon eos 600d": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2026, 13584],
      "canon eos rebel t3i": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2026, 13584],
      "canon eos kiss x5": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2026, 13584],
      "canon eos 650d": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584],
      "canon eos rebel t4i": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584],
      "canon eos kiss x6i": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584],
      "canon eos 5d": [[6347, -479, -972, -8297, 15954, 2480, -1968, 2131, 7649], 1, 127, 3692],
      "canon eos 5d mark ii": [[4716, 603, -830, -7798, 15474, 2480, -1496, 1937, 6651], 3, 1024, 12995],
      "canon eos 5d mark iii": [[6722, -635, -963, -4287, 12460, 2028, -908, 2162, 5668], 1, 2060, 16383],
      "canon eos 5d mark iv": [[6446, -366, -864, -4436, 12204, 2513, -952, 2496, 6348], 1, 2049, 14448],
      "canon eos 5ds": [[6250, -711, -808, -5153, 12794, 2636, -1249, 2198, 5610], 1, 2048, 15181],
      "canon eos 5ds r": [[6250, -711, -808, -5153, 12794, 2636, -1249, 2198, 5610], 1, 2048, 15181],
      "canon eos 6d": [[7034, -804, -1014, -4420, 12564, 2058, -851, 1994, 5758], 1, 2048, 15e3],
      "canon eos 6d mark ii": [[6875, -970, -932, -4691, 12459, 2501, -874, 1953, 5809], 1, 2049, 14558],
      "canon eos 7d": [[6844, -996, -856, -3876, 11761, 2396, -593, 1772, 6198], 3, 2049, 15400],
      "canon eos 7d mark ii": [[7268, -1082, -969, -4186, 11839, 2663, -825, 2029, 5839], 1, 2048, 15100],
      "canon eos 1000d": [[6771, -1139, -977, -7818, 15123, 2928, -1244, 1437, 7533], 1, 255, 3650],
      "canon eos digital rebel xs": [[6771, -1139, -977, -7818, 15123, 2928, -1244, 1437, 7533], 1, 255, 3650],
      "canon eos kiss digital f": [[6771, -1139, -977, -7818, 15123, 2928, -1244, 1437, 7533], 1, 255, 3650],
      "canon eos 1100d": [[6444, -904, -893, -4563, 12308, 2535, -903, 2016, 6728], 1, 2036, 15500],
      "canon eos rebel t3": [[6444, -904, -893, -4563, 12308, 2535, -903, 2016, 6728], 1, 2036, 15500],
      "canon eos 1200d": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2046, 12279],
      "canon eos rebel t5": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2046, 12279],
      "canon eos kiss x70": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2046, 12279],
      "canon eos 1300d": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2048, 15e3],
      "canon eos rebel t6": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2048, 15e3],
      "canon eos kiss x80": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2048, 15e3],
      "canon eos 2000d": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 3, 2048, 15092],
      "canon eos rebel t7": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 3, 2048, 15092],
      "canon eos 1500d": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 3, 2048, 15092],
      "canon eos 4000d": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2051, 15e3],
      "canon eos rebel t100": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2051, 15e3],
      "canon eos 3000d": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2051, 15e3],
      "canon eos 400d": [[7054, -1501, -990, -8156, 15544, 2812, -1278, 1414, 7796], 1, 255, 3726],
      "canon eos digital rebel xti": [[7054, -1501, -990, -8156, 15544, 2812, -1278, 1414, 7796], 1, 255, 3726],
      "canon eos kiss digital x": [[7054, -1501, -990, -8156, 15544, 2812, -1278, 1414, 7796], 1, 255, 3726],
      "canon eos m": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584],
      "canon eos m2": [[6400, -480, -888, -5294, 13416, 2047, -1296, 2203, 6137], 1, 2026, 13584],
      "canon eos m3": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2048, 16e3],
      "canon eos m5": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3],
      "canon eos m6": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3],
      "canon eos m10": [[6400, -480, -888, -5294, 13416, 2047, -1296, 2203, 6137], 1, 2048, 16e3],
      "canon eos m100": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3],
      "canon eos-1d": [[6806, -179, -1020, -8097, 16415, 1687, -3267, 4236, 7690], 2, 0, 3588],
      "canon eos-1ds": [[4374, 3631, -1743, -7520, 15212, 2472, -2892, 3632, 8161], 2, 0, 3500],
      "canon eos d2000c": [[24542, -10860, -3401, -1490, 11370, -297, 2858, -605, 3225], 2, 96, 4095],
      "canon eos-1d mark ii": [[6264, -582, -724, -8312, 15948, 2504, -1744, 1919, 8664], 1, 127, 3700],
      "canon eos-1d mark ii n": [[6240, -466, -822, -8180, 15825, 2500, -1801, 1938, 8042], 1, 127, 3700],
      "canon eos-1d mark iii": [[6291, -540, -976, -8350, 16145, 2311, -1714, 1858, 7326], 1, 1023, 15100],
      "canon eos-1d mark iv": [[6014, -220, -795, -4109, 12014, 2361, -561, 1824, 5787], 3, 2e3, 13e3],
      "canon eos-1ds mark ii": [[6517, -602, -867, -8180, 15926, 2378, -1618, 1771, 7633], 3, 126, 4060],
      "canon eos-1ds mark iii": [[5859, -211, -930, -8255, 16017, 2353, -1732, 1887, 7448], 1, 1021, 15100],
      "canon eos-1d x": [[6847, -614, -1014, -4669, 12737, 2139, -1197, 2488, 6846], 1, 2050, 15100],
      "canon eos-1d x mark ii": [[7596, -978, -967, -4808, 12571, 2503, -1398, 2567, 5752], 1, 2048, 14888],
      "canon powershot pro1": [[10062, -3522, -999, -7643, 15117, 2730, -765, 817, 7323], 1, 129, 4095],
      "canon powershot g1": [[-4778, 9467, 2172, 4743, -1141, 4344, -5146, 9908, 6077, -1566, 11051, 557], 0, 31, 1023],
      "canon powershot g2": [[9087, -2693, -1049, -6715, 14382, 2537, -2291, 2819, 7790], 1, 0, 1023],
      "canon powershot g3": [[9212, -2781, -1073, -6573, 14189, 2605, -2300, 2844, 7664], 1, 0, 4095],
      "canon powershot g3 x": [[9701, -3857, -921, -3149, 11537, 1817, -786, 1817, 5147], 1, 2047, 16e3],
      "canon powershot g5": [[9757, -2872, -933, -5972, 13861, 2301, -1622, 2328, 7212], 1, 0, 4095],
      "canon powershot g5 x": [[9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 2047, 16e3],
      "canon powershot g6": [[9877, -3775, -871, -7613, 14807, 3072, -1448, 1305, 7485], 1, 128, 4095],
      "canon powershot g7 x": [[9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 511, 4e3],
      "canon powershot g7 x mark ii": [[9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 2047, 16e3],
      "canon powershot g1 x": [[7378, -1255, -1043, -4088, 12251, 2048, -876, 1946, 5805], 1, 0, 16383],
      "canon powershot g1 x mark ii": [[7378, -1255, -1043, -4088, 12251, 2048, -876, 1946, 5805], 1, 0, 16e3],
      "canon powershot g1 x mark iii": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3],
      "canon powershot g12": [[13244, -5501, -1248, -1508, 9858, 1935, -270, 1083, 4366], 1, 120, 4095],
      "canon powershot g11": [[12177, -4817, -1069, -1612, 9864, 2049, -98, 850, 4471], 1, 120, 4095],
      "canon powershot g10": [[11093, -3906, -1028, -5047, 12492, 2879, -1003, 1750, 5561], 3, 128, 4095],
      "canon powershot g9": [[7368, -2141, -598, -5621, 13254, 2625, -1418, 1696, 5743], 1, 125, 4095],
      "canon powershot g9 x": [[9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 2047, 16e3],
      "canon powershot g9 x mark ii": [[10056, -4131, -944, -2576, 11143, 1625, -238, 1294, 5179], 1, 2048, 16e3],
      "canon powershot g15": [[7474, -2301, -567, -4056, 11456, 2975, -222, 716, 4181], 3, 500, 2800],
      "canon powershot g16": [[8020, -2687, -682, -3704, 11879, 2052, -965, 1921, 5556], 1, 0, 4095],
      "canon powershot sx1 is": [[6578, -259, -502, -5974, 13030, 3309, -308, 1058, 4970], 1, 125, 4095],
      "canon powershot s30": [[10566, -3652, -1129, -6552, 14662, 2006, -2197, 2581, 7670], 1, 31, 1023],
      "canon powershot s40": [[8510, -2487, -940, -6869, 14231, 2900, -2318, 2829, 9013], 1, 0, 1023],
      "canon powershot s45": [[8163, -2333, -955, -6682, 14174, 2751, -2077, 2597, 8041], 1, 129, 4095],
      "canon powershot s50": [[8882, -2571, -863, -6348, 14234, 2288, -1516, 2172, 6569], 1, 129, 4095],
      "canon powershot s60": [[8795, -2482, -797, -7804, 15403, 2573, -1422, 1996, 7082], 1, 129, 4095],
      "canon powershot s70": [[9976, -3810, -832, -7115, 14463, 2906, -901, 989, 7889], 1, 129, 4095],
      "canon powershot s90": [[12374, -5016, -1049, -1677, 9902, 2078, -83, 852, 4683], 1, 125, 4095],
      "canon powershot s95": [[13440, -5896, -1279, -1236, 9598, 1931, -180, 1001, 4651], 1, 125, 4095],
      "canon powershot s100": [[7968, -2565, -636, -2873, 10697, 2513, 180, 667, 4211], 3, 125, 4095],
      "canon powershot s110": [[8039, -2643, -654, -3783, 11230, 2930, -206, 690, 4194], 3, 500, 3072],
      "canon powershot s120": [[6961, -1685, -695, -4625, 12945, 1836, -1114, 2152, 5518], 1, 0, 4e3],
      "canon powershot sx50 hs": [[12432, -4753, -1247, -2110, 10691, 1629, -412, 1623, 4926], 1, 127, 4095],
      "canon powershot sx60 hs": [[13161, -5451, -1344, -1989, 10654, 1531, -47, 1271, 4955], 1, 128, 4e3],
      "nikon d100": [[5902, -933, -782, -8983, 16719, 2354, -1402, 1455, 6464], 2, 0, 4095],
      "nikon d1": [[16772, -4726, -2141, -7611, 15713, 1972, -2846, 3494, 9521], 0, 0, 4095],
      "nikon d1h": [[7577, -2166, -926, -7454, 15592, 1934, -2377, 2808, 8606], 0, 0, 4095],
      "nikon d1x": [[7702, -2245, -975, -9114, 17242, 1875, -2679, 3055, 8521], 0, 0, 4095],
      "nikon d200": [[8367, -2248, -763, -8758, 16447, 2422, -1527, 1550, 8053], 2, 0, 3880],
      "nikon d2h": [[5710, -901, -615, -8594, 16617, 2024, -2975, 4120, 6830], 3, 0, 3880],
      "nikon d2hs": [[5710, -901, -615, -8594, 16617, 2024, -2975, 4120, 6830], 3, 0, 3880],
      "nikon d2x": [[10231, -2769, -1255, -8301, 15900, 2552, -797, 680, 7148], 1, 0, 3880],
      "nikon d2xs": [[10231, -2769, -1255, -8301, 15900, 2552, -797, 680, 7148], 1, 0, 3880],
      "nikon d3": [[8139, -2171, -663, -8747, 16541, 2295, -1925, 2008, 8093], 1, 0, 15892],
      "nikon d3s": [[8828, -2406, -694, -4874, 12603, 2541, -660, 1509, 7587], 1, 0, 15520],
      "nikon d3x": [[7171, -1986, -648, -8085, 15555, 2718, -2170, 2512, 7457], 1, 0, 15892],
      "nikon d300": [[9030, -1992, -715, -8465, 16302, 2255, -2689, 3217, 8069], 1, 0, 15236],
      "nikon d300s": [[9030, -1992, -716, -8465, 16302, 2256, -2689, 3217, 8069], 1, 0, 15236],
      "nikon d3000": [[8736, -2458, -935, -9075, 16894, 2251, -1354, 1242, 8263], 3, 0, 3880],
      "nikon d3200": [[7013, -1408, -635, -5268, 12902, 2640, -1470, 2801, 7379], 1, 0, 3880],
      "nikon d3300": [[6988, -1384, -714, -5631, 13410, 2447, -1485, 2204, 7318], 1, 150, 3880],
      "nikon d3400": [[6988, -1384, -714, -5631, 13410, 2447, -1485, 2204, 7318], 1, 150, 3880],
      "nikon d3500": [[8821, -2938, -785, -4178, 12142, 2287, -824, 1651, 6860], 1, 150, 3972],
      "nikon d4": [[8598, -2848, -857, -5618, 13606, 2195, -1002, 1773, 7137], 1, 0, 15520],
      "nikon d5": [[9200, -3522, -992, -5755, 13803, 2117, -753, 1486, 6338], 1, 400, 15520],
      "nikon z 5": [[8695, -2558, -648, -5015, 12711, 2575, -1279, 2215, 7514], 1, 1008, 15520],
      "nikon z 6": [[9943, -3269, -839, -5323, 13269, 2259, -1198, 2083, 7557], 1, 1008, 15520],
      "nikon z 7": [[10405, -3755, -1270, -5461, 13787, 1793, -1040, 2015, 6785], 1, 1008, 15520],
      "nikon z 50": [[11640, -4829, -1079, -5107, 13006, 2325, -972, 1711, 7380], 1, 251, 3880],
      "nikon df": [[8598, -2848, -857, -5618, 13606, 2195, -1002, 1773, 7137], 1, 0, 15520],
      "nikon d5100": [[8198, -2239, -724, -4871, 12389, 2798, -1043, 2050, 7181], 1, 0, 15892],
      "nikon d3100": [[7911, -2167, -813, -5327, 13150, 2408, -1288, 2483, 7968], 3, 0, 3880],
      "nikon d40": [[6992, -1668, -806, -8138, 15748, 2543, -874, 850, 7897], 0, 0, 3880],
      "nikon d40x": [[8819, -2543, -911, -9025, 16928, 2151, -1329, 1213, 8449], 3, 0, 3880],
      "nikon d50": [[7732, -2422, -789, -8238, 15884, 2498, -859, 783, 7330], 0, 0, 4095],
      "nikon d500": [[8813, -3210, -1036, -4703, 12868, 2021, -1054, 1940, 6129], 1, 400, 15520],
      "nikon d5000": [[7309, -1403, -519, -8474, 16008, 2622, -2433, 2826, 8064], 3, 0, 3767],
      "nikon d5200": [[8322, -3112, -1047, -6367, 14342, 2179, -988, 1638, 6394], 1, 0, 15892],
      "nikon d5300": [[6988, -1384, -714, -5631, 13410, 2447, -1485, 2204, 7318], 1, 150, 3972],
      "nikon d5500": [[8821, -2938, -785, -4178, 12142, 2287, -824, 1651, 6860], 1, 150, 3972],
      "nikon d5600": [[8821, -2938, -785, -4178, 12142, 2287, -824, 1651, 6860], 1, 150, 3972],
      "nikon d60": [[8736, -2458, -935, -9075, 16894, 2251, -1354, 1242, 8263], 3, 0, 3880],
      "nikon d600": [[8178, -2245, -609, -4857, 12394, 2776, -1207, 2086, 7298], 1, 0, 15520],
      "nikon d610": [[8178, -2245, -609, -4857, 12394, 2776, -1207, 2086, 7298], 1, 0, 15520],
      "nikon d70": [[7732, -2422, -789, -8238, 15884, 2498, -859, 783, 7330], 0, 0, 4095],
      "nikon d700": [[8139, -2171, -663, -8747, 16541, 2295, -1925, 2008, 8093], 1, 0, 3972],
      "nikon d750": [[9020, -2890, -715, -4535, 12436, 2348, -934, 1919, 7086], 1, 150, 3880],
      "nikon d780": [[9943, -3269, -839, -5323, 13269, 2259, -1198, 2083, 7557], 1, 251, 3880],
      "nikon d7000": [[8198, -2239, -724, -4871, 12389, 2798, -1043, 2050, 7181], 1, 0, 15892],
      "nikon d7100": [[8322, -3112, -1047, -6367, 14342, 2179, -988, 1638, 6394], 1, 0, 15892],
      "nikon d7200": [[8322, -3112, -1047, -6367, 14342, 2179, -988, 1638, 6394], 1, 600, 15892],
      "nikon d7500": [[8813, -3210, -1036, -4703, 12868, 2021, -1054, 1940, 6129], 1, 100, 3880],
      "nikon d70s": [[7732, -2422, -789, -8238, 15884, 2498, -859, 783, 7330], 0, 0, 4095],
      "nikon d80": [[8629, -2410, -883, -9055, 16940, 2171, -1490, 1363, 8520], 3, 0, 3880],
      "nikon d800": [[7866, -2108, -555, -4869, 12483, 2681, -1176, 2069, 7501], 1, 0, 15520],
      "nikon d800e": [[7866, -2108, -555, -4869, 12483, 2681, -1176, 2069, 7501], 1, 0, 15520],
      "nikon d810": [[9369, -3195, -791, -4488, 12430, 2301, -893, 1796, 6872], 1, 150, 3880],
      "nikon d850": [[10405, -3755, -1270, -5461, 13787, 1793, -1040, 2015, 6785], 1, 100, 3880],
      "nikon d4s": [[8598, -2848, -857, -5618, 13606, 2195, -1002, 1773, 7137], 1, 192, 3880],
      "nikon d90": [[7309, -1403, -519, -8474, 16008, 2622, -2434, 2826, 8064], 3, 0, 3767],
      "nikon 1 j1": [[8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 3300],
      "nikon 1 j2": [[8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 4095],
      "nikon 1 j3": [[6588, -1305, -693, -3277, 10987, 2634, -355, 2016, 5106], 1, 0, 4095],
      "nikon 1 j4": [[5958, -1559, -571, -4021, 11453, 2939, -634, 1548, 5087], 1, 200, 4e3],
      "nikon 1 j5": [[7520, -2518, -645, -3844, 12102, 1945, -913, 2249, 6835], 1, 200, 3800],
      "nikon 1 s1": [[8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 3300],
      "nikon 1 s2": [[6612, -1342, -618, -3338, 11055, 2623, -174, 1792, 5075], 1, 200, 4095],
      "nikon 1 v1": [[8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 3300],
      "nikon 1 v2": [[6588, -1305, -693, -3277, 10987, 2634, -355, 2016, 5106], 1, 0, 4095],
      "nikon 1 v3": [[5958, -1559, -571, -4021, 11453, 2939, -634, 1548, 5087], 1, 200, 4e3],
      "nikon 1 aw1": [[6588, -1305, -693, -3277, 10987, 2634, -355, 2016, 5106], 1, 0, 4095],
      "nikon e5400": [[9349, -2987, -1001, -7919, 15766, 2266, -2098, 2680, 6839], 0, 0, 4095],
      "nikon e5700": [[-5368, 11478, 2368, 5537, -113, 3148, -4969, 10021, 5782, 778, 9028, 211], 0, 0, 4095],
      "nikon coolpix p330": [[10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 3200, 65e3],
      "nikon coolpix p340": [[10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 200, 3800],
      "nikon coolpix a": [[8198, -2239, -724, -4871, 12389, 2798, -1043, 2050, 7181], 1, 0, 15892],
      "nikon coolpix b700": [[14387, -6014, -1299, -1357, 9975, 1616, 467, 1047, 4744], 1, 200, 4e3],
      "nikon coolpix p6000": [[9698, -3367, -914, -4706, 12584, 2368, -837, 968, 5801], 1, 0, 4095],
      "nikon coolpix p7000": [[11432, -3679, -1111, -3169, 11239, 2202, -791, 1380, 4455], 1, 0, 4095],
      "nikon coolpix p7100": [[11053, -4269, -1024, -1976, 10182, 2088, -526, 1263, 4469], 1, 0, 3800],
      "nikon coolpix p7700": [[10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 3200, 65e3],
      "nikon coolpix p7800": [[10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 3200, 65e3],
      "nikon coolpix p950": [[13307, -5641, -1290, -2048, 10581, 1689, -64, 1222, 5176], 1, 200, 4095],
      "nikon coolpix p1000": [[14294, -6116, -1333, -1628, 10219, 1637, -14, 1158, 5022], 1, 200, 4095],
      "olympus e-m10 mark iv": [[9476, -3182, -765, -2613, 10958, 1893, -449, 1315, 5268], 1, 254, 4e3],
      "olympus e-m5 mark iii": [[11896, -5110, -1076, -3181, 11378, 2048, -519, 1224, 5166], 1, 257, 4e3],
      "panasonic dmc-cm1": [[8770, -3194, -820, -2871, 11281, 1803, -513, 1552, 4434], 1, 142, 4095],
      "panasonic dmc-fx150": [[9082, -2907, -925, -6119, 13377, 3058, -1797, 2641, 5609], 0, 15, 3986],
      "panasonic dmc-fz28": [[10109, -3488, -993, -5412, 12812, 2916, -1305, 2140, 5543], 0, 15, 3986],
      "panasonic dmc-fz150": [[11904, -4541, -1189, -2355, 10899, 1662, -296, 1586, 4289], 3, 145, 3956],
      "panasonic dmc-fz200": [[8112, -2563, -740, -3730, 11784, 2197, -941, 2075, 4933], 3, 150, 3956],
      "panasonic dmc-fz2000": [[7386, -2443, -743, -3437, 11864, 1757, -608, 1660, 4766], 3, 142, 2095],
      "panasonic dmc-fz2500": [[7386, -2443, -743, -3437, 11864, 1757, -608, 1660, 4766], 3, 142, 2095],
      "panasonic dmc-fz300": [[8378, -2798, -769, -3068, 11410, 1877, -538, 1792, 4623], 3, 143, 4095],
      "panasonic dmc-g1": [[8199, -2065, -1056, -8124, 16156, 2033, -2458, 3022, 7220], 3, 15, 3986],
      "panasonic dmc-g2": [[10113, -3400, -1114, -4765, 12683, 2317, -377, 1437, 6710], 3, 0, 3900],
      "panasonic dmc-g10": [[10113, -3400, -1114, -4765, 12683, 2317, -377, 1437, 6710], 3, 0, 3900],
      "panasonic dmc-gh1": [[6299, -1466, -532, -6535, 13852, 2969, -2331, 3112, 5984], 3, 0, 3986],
      "panasonic dmc-gh3": [[6559, -1752, -491, -3672, 11407, 2586, -962, 1875, 5130], 3, 155, 3956],
      "panasonic dmc-gh4": [[7122, -2108, -512, -3155, 11201, 2231, -541, 1423, 5045], 0, 142, 4095],
      "panasonic dmc-gf1": [[7888, -1902, -1011, -8106, 16085, 2099, -2353, 2866, 7330], 3, 15, 3986],
      "panasonic dmc-gf2": [[7888, -1902, -1011, -8106, 16085, 2099, -2353, 2866, 7330], 3, 150, 3956],
      "panasonic dmc-gm1": [[6770, -1895, -744, -5232, 13145, 2303, -1664, 2691, 5703], 0, 143, 3971],
      "panasonic dmc-gm5": [[8238, -3244, -679, -3921, 11814, 2384, -836, 2022, 5852], 0, 143, 4095],
      "panasonic dmc-g3": [[6763, -1919, -863, -3868, 11515, 2684, -1216, 2387, 5879], 2, 143, 3956],
      "panasonic dmc-g5": [[7798, -2562, -740, -3879, 11584, 2613, -1055, 2248, 5434], 0, 150, 3956],
      "panasonic dmc-g6": [[8294, -2891, -651, -3869, 11590, 2595, -1183, 2267, 5352], 0, 142, 3956],
      "panasonic dmc-g7": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-g70": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-g8": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-g80": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-g81": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-g85": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-gf3": [[9051, -2468, -1204, -5212, 13276, 2121, -1197, 2510, 6890], 3, 150, 3956],
      "panasonic dmc-gf5": [[8228, -2945, -660, -3938, 11792, 2430, -1094, 2278, 5793], 3, 150, 3956],
      "panasonic dmc-gf6": [[8130, -2801, -946, -3520, 11289, 2552, -1314, 2511, 5791], 2, 150, 3956],
      "panasonic dmc-gf7": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-gh2": [[7780, -2410, -806, -3913, 11724, 2484, -1018, 2390, 5298], 3, 15, 3800],
      "panasonic dmc-fz35": [[9938, -2780, -890, -4604, 12393, 2480, -1117, 2304, 4620], 0, 150, 3986],
      "panasonic dmc-fz38": [[9938, -2780, -890, -4604, 12393, 2480, -1117, 2304, 4620], 0, 150, 3986],
      "panasonic dmc-fz45": [[13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986],
      "panasonic dmc-fz40": [[13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986],
      "panasonic dmc-fz40": [[13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986],
      "panasonic dmc-fz40": [[13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986],
      "panasonic dmc-fz70": [[11532, -4324, -1066, -2375, 10847, 1749, -564, 1699, 4351], 1, 120, 3971],
      "panasonic dmc-fz72": [[11532, -4324, -1066, -2375, 10847, 1749, -564, 1699, 4351], 1, 120, 3971],
      "panasonic dmc-fz100": [[16197, -6146, -1761, -2393, 10765, 1869, 366, 2238, 5248], 3, 120, 3986],
      "panasonic dmc-fz1000": [[7830, -2696, -763, -3325, 11667, 1866, -641, 1712, 4824], 3, 143, 4095],
      "panasonic dc-fz10002": [[9803, -4185, -992, -4066, 12578, 1628, -838, 1824, 5288], 3, 143, 4095],
      "panasonic dmc-gx1": [[6763, -1919, -863, -3868, 11515, 2684, -1216, 2387, 5879], 2, 150, 3956],
      "panasonic dmc-gx7": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 150, 3956],
      "panasonic dmc-gx8": [[7564, -2263, -606, -3148, 11239, 2177, -540, 1435, 4853], 3, 143, 4095],
      "panasonic dmc-gx85": [[7771, -3020, -629, -4029, 11950, 2345, -821, 1977, 6119], 0, 143, 4095],
      "panasonic dmc-gx80": [[7771, -3020, -629, -4029, 11950, 2345, -821, 1977, 6119], 0, 143, 4095],
      "panasonic dmc-gx7mk2": [[7771, -3020, -629, -4029, 11950, 2345, -821, 1977, 6119], 0, 143, 4095],
      "panasonic dmc-lf1": [[9379, -3267, -816, -3227, 11560, 1881, -926, 1928, 5340], 1, 143, 3971],
      "panasonic dmc-lx3": [[8128, -2668, -655, -6134, 13307, 3161, -1782, 2568, 6083], 0, 15, 3971],
      "panasonic dmc-lx15": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 143, 4095],
      "panasonic dmc-lx9": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 143, 4095],
      "panasonic dmc-lx10": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 143, 4095],
      "leica c (typ 112)": [[9379, -3267, -816, -3227, 11560, 1881, -926, 1928, 5340], 1, 146, 3956],
      "leica digilux 2": [[11340, -4069, -1275, -7555, 15266, 2448, -2960, 3426, 7685], 1, 0, 4095],
      "leica d-lux 3": [[8048, -2810, -623, -6450, 13519, 3272, -1700, 2146, 7049], 0, 0, 3986],
      "leica v-lux (typ 114)": [[7830, -2696, -763, -3325, 11667, 1866, -641, 1712, 4824], 3, 142, 4095],
      "leica v-lux 1": [[7906, -2709, -594, -6231, 13351, 3220, -1922, 2631, 6537], 0, 0, 3986],
      "panasonic dmc-l10": [[8025, -1942, -1050, -7920, 15904, 2100, -2456, 3005, 7039], 3, 0, 3986],
      "panasonic dmc-fz30": [[10976, -4029, -1141, -7918, 15491, 2600, -1670, 2071, 8246], 1, 0, 3971],
      "panasonic dmc-fz50": [[7906, -2709, -594, -6231, 13351, 3220, -1922, 2631, 6537], 0, 0, 3986],
      "panasonic dmc-fz8": [[8986, -2755, -802, -6341, 13575, 3077, -1476, 2144, 6379], 1, 0, 3986],
      "panasonic dmc-fz18": [[9932, -3060, -935, -5809, 13331, 2753, -1267, 2155, 5575], 0, 0, 3986],
      "panasonic dmc-l1": [[8054, -1885, -1025, -8349, 16367, 2040, -2805, 3542, 7629], 3, 0, 3986],
      "panasonic dmc-lx2": [[8048, -2810, -623, -6450, 13519, 3272, -1700, 2146, 7049], 0, 0, 3986],
      "leica d-lux 4": [[8128, -2668, -655, -6134, 13307, 3161, -1782, 2568, 6083], 0, 15, 3971],
      "panasonic dmc-lx5": [[10909, -4295, -948, -1333, 9306, 2399, 22, 1738, 4582], 2, 150, 3986],
      "leica d-lux 5": [[10909, -4295, -948, -1333, 9306, 2399, 22, 1738, 4582], 2, 150, 3986],
      "panasonic dmc-lx7": [[10148, -3743, -991, -2837, 11366, 1659, -701, 1893, 4899], 2, 150, 3971],
      "leica d-lux 6": [[10148, -3743, -991, -2837, 11366, 1659, -701, 1893, 4899], 2, 150, 3971],
      "leica d-lux (typ 109)": [[8844, -3538, -768, -3709, 11762, 2200, -698, 1792, 5220], 0, 143, 4095],
      "panasonic dmc-lx1": [[10704, -4187, -1230, -8314, 15952, 2501, -920, 945, 8927], 1, 0, 3971],
      "panasonic dmc-lx100": [[8844, -3538, -768, -3709, 11762, 2200, -698, 1792, 5220], 0, 143, 4095],
      "panasonic dc-lx100m2": [[8585, -3127, -833, -4005, 12250, 1953, -650, 1494, 4862], 0, 143, 4095],
      "panasonic dc-s1": [[9744, -3905, -779, -4899, 12807, 2324, -798, 1630, 5827], 1, 511, 16380],
      "panasonic dc-s1h": [[9397, -3719, -805, -5425, 13326, 2309, -972, 1715, 6034], 1, 510, 16380],
      "panasonic dc-s5": [[9744, -3905, -779, -4899, 12807, 2324, -798, 1630, 5827], 1, 509, 16380],
      "panasonic dc-s1r": [[11822, -5321, -1249, -5958, 15114, 766, -614, 1264, 7043], 3, 510, 16380],
      "panasonic dmc-tz60": [[8607, -2822, -808, -3755, 11930, 2049, -820, 2060, 5224], 1, 145, 3971],
      "panasonic dmc-tz61": [[8607, -2822, -808, -3755, 11930, 2049, -820, 2060, 5224], 1, 145, 3971],
      "panasonic dmc-zs40": [[8607, -2822, -808, -3755, 11930, 2049, -820, 2060, 5224], 1, 145, 3971],
      "panasonic dmc-tz71": [[8802, -3135, -789, -3151, 11468, 1904, -550, 1745, 4810], 1, 143, 3971],
      "panasonic dmc-zs50": [[8802, -3135, -789, -3151, 11468, 1904, -550, 1745, 4810], 1, 143, 3971],
      "panasonic dmc-tz70": [[8802, -3135, -789, -3151, 11468, 1904, -550, 1745, 4810], 1, 143, 3971],
      "panasonic dmc-tz81": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095],
      "panasonic dmc-zs60": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095],
      "panasonic dmc-tz80": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095],
      "panasonic dmc-tz85": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095],
      "panasonic dmc-tz100": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dmc-zs100": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dmc-zs110": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dmc-tz101": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dmc-tz110": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dmc-tx1": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dc-fz82": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095],
      "panasonic dc-fz80": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095],
      "panasonic dmc-fz80": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095],
      "panasonic dmc-fz85": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095],
      "panasonic dc-gh5": [[7641, -2336, -605, -3218, 11299, 2187, -485, 1338, 5121], 1, 143, 4095],
      "panasonic dc-gh5s": [[6929, -2355, -708, -4192, 12534, 1828, -1097, 1989, 5195], 1, 510, 8e3],
      "panasonic dc-g9": [[7685, -2375, -634, -3687, 11700, 2249, -748, 1546, 5111], 1, 148, 4095],
      "panasonic dc-g95": [[9657, -3963, -748, -3361, 11378, 2258, -568, 1415, 5158], 0, 144, 4095],
      "panasonic dc-g90": [[9657, -3963, -748, -3361, 11378, 2258, -568, 1415, 5158], 0, 144, 4095],
      "panasonic dc-g91": [[9657, -3963, -748, -3361, 11378, 2258, -568, 1415, 5158], 0, 144, 4095],
      "panasonic dc-g99": [[9657, -3963, -748, -3361, 11378, 2258, -568, 1415, 5158], 0, 144, 4095],
      "panasonic dc-gf9": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dc-gx800": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dc-gx850": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dc-gx880": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dc-gx9": [[7564, -2263, -606, -3148, 11239, 2177, -540, 1435, 4853], 0, 143, 4095],
      "panasonic dc-tz90": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
      "panasonic dc-tz91": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
      "panasonic dc-zs70": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
      "panasonic dc-fz91": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
      "panasonic dc-fz92": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
      "panasonic dc-fz93": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
      "panasonic dc-tz96": [[12194, -5340, -1329, -3035, 11394, 1858, -50, 1418, 5219], 3, 142, 4095],
      "panasonic dc-tz95": [[12194, -5340, -1329, -3035, 11394, 1858, -50, 1418, 5219], 3, 142, 4095],
      "panasonic dc-zs80": [[12194, -5340, -1329, -3035, 11394, 1858, -50, 1418, 5219], 3, 142, 4095],
      "panasonic dc-tz202": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dc-tz200": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dc-zs200": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "pentax k100d": [[11095, -3157, -1324, -8377, 15834, 2720, -1108, 947, 11688], 1, 127, 3950],
      "pentax k110d": [[11095, -3157, -1324, -8377, 15834, 2720, -1108, 947, 11688], 1, 127, 4095],
      "pentax k100d super": [[11095, -3157, -1324, -8377, 15834, 2720, -1108, 947, 11688], 1, 127, 4095],
      "pentax *ist d": [[9651, -2059, -1189, -8881, 16512, 2487, -1460, 1345, 10687], 1, 128, 4095],
      "pentax *ist dl": [[10829, -2838, -1115, -8339, 15817, 2696, -837, 680, 11939], 1, 128, 4095],
      "pentax *ist dl2": [[10504, -2438, -1189, -8603, 16207, 2531, -1022, 863, 12242], 1, 127, 3950],
      "pentax *ist ds": [[10371, -2333, -1206, -8688, 16231, 2602, -1230, 1116, 11282], 1, 128, 3950],
      "pentax k10d": [[9566, -2863, -803, -7170, 15172, 2112, -818, 803, 9705], 1, 0, 4095],
      "pentax k20d": [[9427, -2714, -868, -7493, 16092, 1373, -2199, 3264, 7180], 0, 0, 4095],
      "pentax k200d": [[9186, -2678, -907, -8693, 16517, 2260, -1129, 1094, 8524], 1, 0, 4095],
      "pentax k-s1": [[8512, -3211, -787, -4167, 11966, 2487, -638, 1288, 6054], 1, 32, 4062],
      "pentax k-s2": [[8662, -3280, -798, -3928, 11771, 2444, -586, 1232, 6054], 1, 0, 3839],
      "pentax k-70": [[8113, -2078, -1275, -4359, 12953, 1514, -1091, 1955, 6044], 1, 64, 16319],
      "pentax k-1": [[8827, -2829, -1238, -3611, 12203, 1549, -897, 1687, 6291], 1, 64, 16316],
      "pentax k-1 mark ii": [[8952, -2869, -1256, -3612, 12204, 1550, -934, 1757, 6549], 1, 64, 16316],
      "pentax k-3": [[7415, -2052, -721, -5186, 12788, 2682, -1446, 2157, 6773], 1, 1, 15868],
      "pentax k-3 ii": [[7415, -2052, -721, -5186, 12788, 2682, -1446, 2157, 6773], 1, 1, 15865],
      "pentax k-5": [[8713, -2833, -743, -4342, 11900, 2772, -722, 1543, 6247], 0, 512, 16383],
      "pentax k-5 ii": [[8170, -2725, -639, -4440, 12017, 2744, -771, 1465, 6599], 0, 512, 16383],
      "pentax k-5 ii s": [[8170, -2725, -639, -4440, 12017, 2744, -771, 1465, 6599], 0, 512, 15863],
      "pentax k-7": [[9142, -2947, -678, -8648, 16967, 1663, -2224, 2898, 8615], 0, 0, 4095],
      "pentax k-m": [[11057, -3604, -1155, -5152, 13046, 2329, -282, 375, 8104], 1, 0, 4095],
      "pentax k-x": [[8843, -2837, -625, -5025, 12644, 2668, -411, 1234, 7410], 0, 41, 4095],
      "pentax k-r": [[9895, -3077, -850, -5304, 13035, 2521, -883, 1768, 6936], 0, 64, 4e3],
      "pentax kp": [[8617, -3228, -1034, -4674, 12821, 2044, -803, 1577, 5728], 1, 128, 16254],
      "pentax k2000": [[11057, -3604, -1155, -5152, 13046, 2329, -282, 375, 8104], 1, 0, 4095],
      "pentax 645d": [[9814, -2716, -1439, -5049, 13907, 1166, -1830, 3836, 5706], 0, 0, 15767],
      "pentax 645z": [[9551, -3012, -1235, -3685, 12133, 1721, -1019, 1887, 6544], 1, 1, 16316],
      "samsung ex2f": [[10648, -3897, -1055, -2022, 10573, 1668, -492, 1611, 4742], 1, 0, 4095],
      "samsung ex1": [[8898, -2498, -994, -3144, 11328, 2066, -760, 1381, 4576], 1, 0, 16383],
      "samsung nx1": [[10686, -4042, -1052, -3595, 13238, 276, -464, 1259, 5931], 2, 1024, 16100],
      "samsung nx5": [[10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095],
      "samsung nx10": [[10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095],
      "samsung nx11": [[10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095],
      "samsung nx100": [[10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095],
      "samsung nx1000": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
      "samsung nx1100": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
      "samsung nx20": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
      "samsung nx200": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
      "samsung nx210": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
      "samsung nx2000": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095],
      "samsung nx30": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095],
      "samsung nx300": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095],
      "samsung nx300m": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095],
      "samsung nx3000": [[8060, -2933, -761, -4504, 12890, 1762, -630, 1489, 5227], 2, 0, 4095],
      "samsung nx500": [[10686, -4042, -1052, -3595, 13238, 276, -464, 1259, 5931], 2, 1024, 16100],
      "samsung ek-gn120": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 3, 0, 4095],
      "samsung wb2000": [[12093, -3557, -1155, -1e3, 9534, 1733, -22, 1787, 4576], 1, 0, 4095],
      "sony dsc-rx0": [[9396, -3507, -843, -2497, 11111, 1572, -343, 1355, 5089], 1, 800, 16620],
      "sony dsc-rx0m2": [[9396, -3507, -843, -2497, 11111, 1572, -343, 1355, 5089], 1, 800, 16300],
      "sony dsc-rx10": [[6679, -1825, -745, -5047, 13256, 1953, -1580, 2422, 5183], 1, 800, 16300],
      "sony dsc-rx10m2": [[6679, -1825, -745, -5047, 13256, 1953, -1580, 2422, 5183], 1, 800, 16300],
      "sony dsc-rx10m3": [[6679, -1825, -745, -5047, 13256, 1953, -1580, 2422, 5183], 1, 800, 16300],
      "sony dsc-rx10m4": [[7699, -2566, -629, -2967, 11270, 1928, -378, 1286, 4807], 1, 800, 16380],
      "sony dsc-rx100": [[8651, -2754, -1057, -3464, 12207, 1373, -568, 1398, 4434], 1, 800, 16620],
      "sony dsc-rx100m2": [[6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300],
      "sony dsc-rx100m3": [[6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300],
      "sony dsc-rx100m4": [[6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300],
      "sony dsc-rx100m5": [[6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300],
      "sony dsc-rx100m5a": [[11176, -4700, -965, -4004, 12184, 2032, -763, 1726, 5876], 1, 800, 16300],
      "sony dsc-rx100m6": [[7325, -2321, -596, -3494, 11674, 2055, -668, 1562, 5031], 1, 800, 16300],
      "sony dsc-rx100m7": [[10315, -4390, -937, -4859, 12734, 2365, -734, 1537, 5997], 1, 800, 16300],
      "sony dsc-rx1r": [[6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 512, 33192],
      "sony dsc-rx1rm2": [[6629, -1900, -483, -4618, 12349, 2550, -622, 1381, 6514], 1, 512, 16300],
      "sony dslr-a100": [[9437, -2811, -774, -8405, 16215, 2290, -710, 596, 7181], 2, 0, 4095],
      "sony dslr-a200": [[9847, -3091, -928, -8485, 16345, 2225, -715, 595, 7103], 1, 0, 4095],
      "sony dslr-a230": [[9847, -3091, -928, -8485, 16345, 2225, -715, 595, 7103], 1, 0, 4095],
      "sony dslr-a290": [[6038, -1484, -579, -9145, 16746, 2512, -875, 746, 7218], 1, 0, 4095],
      "sony dslr-a300": [[9847, -3091, -928, -8485, 16345, 2225, -715, 595, 7103], 1, 0, 4095],
      "sony dslr-a330": [[9847, -3091, -929, -8485, 16346, 2225, -714, 595, 7103], 1, 0, 4095],
      "sony dslr-a350": [[6038, -1484, -578, -9146, 16746, 2513, -875, 746, 7217], 1, 0, 4095],
      "sony dslr-a380": [[6038, -1484, -579, -9145, 16746, 2512, -875, 746, 7218], 1, 0, 4095],
      "sony dslr-a390": [[6038, -1484, -579, -9145, 16746, 2512, -875, 746, 7218], 1, 0, 4095],
      "sony dslr-a450": [[4950, -580, -103, -5228, 12542, 3029, -709, 1435, 7371], 1, 500, 16e3],
      "sony dslr-a500": [[6046, -1127, -278, -5574, 13076, 2786, -691, 1419, 7625], 0, 500, 16600],
      "sony dslr-a550": [[4950, -580, -103, -5228, 12542, 3029, -709, 1435, 7371], 0, 512, 16372],
      "sony dslr-a560": [[4950, -580, -103, -5228, 12542, 3029, -709, 1435, 7371], 0, 476, 16596],
      "sony dslr-a580": [[5932, -1492, -411, -4813, 12285, 2856, -741, 1524, 6739], 0, 520, 16596],
      "sony dslr-a700": [[5775, -805, -359, -8574, 16295, 2391, -1943, 2341, 7249], 0, 520, 16383],
      "sony dslr-a850": [[5413, -1162, -365, -5665, 13098, 2866, -608, 1179, 8440], 0, 500, 15e3],
      "sony dslr-a900": [[5209, -1072, -397, -8845, 16120, 2919, -1618, 1803, 8654], 1, 520, 16383],
      "sony nex-3": [[6907, -1256, -645, -4940, 12621, 2320, -1710, 2581, 6230], 1, 520, 16360],
      "sony nex-3n": [[6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 520, 16596],
      "sony nex-5": [[6807, -1350, -342, -4216, 11649, 2567, -1089, 2001, 6420], 1, 520, 16383],
      "sony nex-5n": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16596],
      "sony nex-5r": [[6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 520, 16596],
      "sony nex-5t": [[6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 512, 16300],
      "sony nex-6": [[6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 520, 16596],
      "sony nex-7": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 512, 16300],
      "sony nex-c3": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16596],
      "sony nex-f3": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16360],
      "sony ilce-3000": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
      "sony ilce-3500": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
      "sony ilce-5000": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
      "sony ilce-5100": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
      "sony ilce-6000": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
      "sony ilce-6100": [[7657, -2847, -607, -4083, 11966, 2389, -684, 1418, 5844], 1, 512, 16300],
      "sony ilce-6300": [[5973, -1695, -419, -3826, 11797, 2293, -639, 1398, 5789], 1, 512, 16300],
      "sony ilce-6400": [[7657, -2847, -607, -4083, 11966, 2389, -684, 1418, 5844], 1, 512, 16383],
      "sony ilce-6500": [[5973, -1695, -419, -3826, 11797, 2293, -639, 1398, 5789], 1, 512, 16300],
      "sony ilce-6600": [[7657, -2847, -607, -4083, 11966, 2389, -684, 1418, 5844], 1, 512, 16383],
      "sony ilce-7": [[5271, -712, -347, -6153, 13653, 2763, -1601, 2366, 7242], 1, 512, 16300],
      "sony ilce-7m2": [[5271, -712, -347, -6153, 13653, 2763, -1601, 2366, 7242], 1, 512, 16300],
      "sony ilce-7m3": [[7374, -2389, -551, -5435, 13162, 2519, -1006, 1795, 6552], 1, 512, 16300],
      "sony ilce-7r": [[4913, -541, -202, -6130, 13513, 2906, -1564, 2151, 7183], 1, 512, 16300],
      "sony ilce-7rm2": [[6629, -1900, -483, -4618, 12349, 2550, -622, 1381, 6514], 1, 512, 16300],
      "sony ilce-7rm3": [[6640, -1847, -503, -5238, 13010, 2474, -993, 1673, 6527], 1, 512, 16383],
      "sony ilce-7rm4": [[7662, -2686, -660, -5240, 12965, 2530, -796, 1508, 6167], 1, 512, 16383],
      "sony ilce-7s": [[5838, -1430, -246, -3497, 11477, 2297, -748, 1885, 5778], 1, 512, 16300],
      "sony ilce-7sm2": [[5838, -1430, -246, -3497, 11477, 2297, -748, 1885, 5778], 1, 512, 16300],
      "sony ilce-9": [[6389, -1703, -378, -4562, 12265, 2587, -670, 1489, 6550], 1, 512, 16383],
      "sony ilce-9m2": [[6389, -1703, -378, -4562, 12265, 2587, -670, 1489, 6550], 1, 512, 16380],
      "sony dsc-rx1": [[6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 520, 16628],
      "sony slt-a33": [[6069, -1221, -366, -5221, 12779, 2734, -1024, 2066, 6834], 1, 520, 16596],
      "sony slt-a35": [[5986, -1618, -415, -4557, 11820, 3120, -681, 1404, 6971], 1, 545, 16596],
      "sony slt-a37": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16500],
      "sony slt-a55": [[5932, -1492, -411, -4813, 12285, 2856, -741, 1524, 6739], 1, 520, 16596],
      "sony slt-a55v": [[5932, -1492, -411, -4813, 12285, 2856, -741, 1524, 6739], 1, 520, 16596],
      "sony slt-a57": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16596],
      "sony slt-a58": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16596],
      "sony slt-a65": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596],
      "sony slt-a65v": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596],
      "sony slt-a77": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596],
      "sony slt-a77v": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596],
      "sony ilca-77m2": [[5991, -1732, -443, -4100, 11989, 2381, -704, 1467, 5992], 1, 512, 16300],
      "sony ilca-68": [[6435, -1903, -536, -4722, 12449, 2550, -663, 1363, 6517], 1, 512, 16300],
      "sony ilca-99m2": [[6660, -1918, -471, -4613, 12398, 2485, -649, 1433, 6447], 1, 512, 16300],
      "sony slt-a99": [[6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 520, 16596],
      "sony slt-a99v": [[6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 520, 16596],
      "sony zv-1": [[8280, -2987, -703, -3531, 11645, 2133, -550, 1542, 5312], 1, 800, 16300],
      "sinar hy6": [[16442, -2956, -2422, -2877, 12128, 750, -1136, 6066, 4559], 1, 0, 0],
      "fujifilm finepix s1": [[12297, -4882, -1202, -2106, 10691, 1623, -88, 1312, 4790], 1, 200, 4095],
      "fujifilm finepix s6000fd": [[12628, -4887, -1401, -6861, 14996, 1962, -2198, 2782, 7091], 3, 0, 15872],
      "fujifilm finepix s100fs": [[11521, -4355, -1065, -6524, 13767, 3058, -1466, 1984, 6045], 3, 512, 16383],
      "fujifilm finepix s200exr": [[11401, -4498, -1312, -5088, 12751, 2613, -838, 1568, 5941], 1, 519, 16250],
      "fujifilm finepix f600exr": [[13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 256, 3900],
      "fujifilm finepix f700": [[10004, -3219, -1201, -7036, 15047, 2107, -1863, 2565, 7736], 3, 0, 16383],
      "fujifilm finepix f770exr": [[13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 256, 3900],
      "fujifilm finepix f900exr": [[12085, -4727, -953, -3257, 11489, 2002, -511, 2046, 4592], 0, 256, 3900],
      "fujifilm finepix e550": [[11044, -3888, -1120, -7248, 15168, 2208, -1531, 2277, 8069], 3, 0, 15875],
      "fujifilm is-1": [[21461, -10807, -1441, -2332, 10599, 1999, 289, 875, 7703], 3, 0, 15872],
      "fujifilm finepix s3pro": [[11807, -4612, -1294, -8927, 16968, 1988, -2120, 2741, 8006], 3, 0, 15872],
      "fujifilm finepix s5pro": [[12300, -5110, -1304, -9117, 17143, 1998, -1947, 2448, 8100], 3, 0, 15872],
      "fujifilm finepix s5600": [[9636, -2804, -988, -7442, 15040, 2589, -1803, 2311, 8621], 3, 0, 15872],
      "fujifilm finepix e900": [[9183, -2526, -1078, -7461, 15071, 2574, -2022, 2440, 8639], 3, 0, 15872],
      "fujifilm finepix s2pro": [[12492, -4690, -1402, -7033, 15423, 1647, -1507, 2111, 7697], 3, 128, 4095],
      "fujifilm finepix s5000": [[8754, -2732, -1019, -7204, 15069, 2276, -1702, 2334, 6982], 3, 0, 15872],
      "fujifilm finepix s5200": [[9636, -2804, -988, -7442, 15040, 2589, -1803, 2311, 8621], 3, 0, 15872],
      "fujifilm finepix s5500": [[11940, -4431, -1255, -6766, 14428, 2542, -993, 1165, 7421], 1, 0, 15872],
      "fujifilm finepix s6500fd": [[12628, -4887, -1401, -6861, 14996, 1962, -2198, 2782, 7091], 3, 0, 15872],
      "fujifilm finepix s7000": [[10190, -3506, -1312, -7153, 15051, 2238, -2003, 2399, 7505], 3, 0, 15869],
      "fujifilm finepix s9500": [[10491, -3423, -1145, -7385, 15027, 2538, -1809, 2275, 8692], 3, 0, 15872],
      "fujifilm finepix s9000": [[10491, -3423, -1145, -7385, 15027, 2538, -1809, 2275, 8692], 3, 0, 15872],
      "fujifilm finepix s9600": [[12343, -4515, -1285, -7165, 14899, 2435, -1895, 2496, 8800], 3, 0, 15872],
      "fujifilm finepix s9600fd": [[12343, -4515, -1285, -7165, 14899, 2435, -1895, 2496, 8800], 3, 0, 15872],
      "fujifilm finepix hs10 hs11": [[12440, -3954, -1183, -1123, 9674, 1708, -83, 1614, 4086], 0, 50, 3900],
      "fujifilm finepix hs20exr": [[13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 256, 3900],
      "fujifilm finepix hs30exr": [[13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 258, 3900],
      "fujifilm finepix hs50exr": [[12085, -4727, -953, -3257, 11489, 2002, -511, 2046, 4592], 0, 256, 3900],
      "fujifilm finepix x100": [[12161, -4457, -1069, -5034, 12874, 2400, -795, 1724, 6904], 0, 254, 4e3],
      "fujifilm finepix x10": [[13509, -6199, -1254, -4430, 12733, 1865, -331, 1441, 5022], 0, 256, 4e3],
      "fujifilm x-s1": [[13509, -6199, -1254, -4430, 12733, 1865, -331, 1441, 5022], 0, 260, 4e3],
      "fujifilm gfx 50s": [[11756, -4754, -874, -3056, 11045, 2305, -381, 1457, 6006], 1, 65, 16383],
      "fujifilm gfx 50r": [[11756, -4754, -874, -3056, 11045, 2305, -381, 1457, 6006], 1, 65, 16383],
      "fujifilm gfx 100": [[16212, -8423, -1583, -4336, 12583, 1937, -195, 726, 6199], 1, 63, 16383],
      "fujifilm x-pro1": [[10413, -3996, -993, -3721, 11640, 2361, -733, 1540, 6011], 2, 256, 4094],
      "fujifilm x-pro2": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383],
      "fujifilm x-pro3": [[13426, -6334, -1177, -4244, 12136, 2371, -580, 1303, 5980], 2, 1022, 16383],
      "fujifilm x70": [[10450, -4329, -878, -3217, 11105, 2421, -752, 1758, 6519], 1, 1024, 16383],
      "fujifilm xf1": [[13509, -6199, -1254, -4430, 12733, 1865, -331, 1441, 5022], 0, 257, 4e3],
      "fujifilm xf10": [[11673, -4760, -1041, -3988, 12058, 2166, -771, 1417, 5569], 1, 1024, 16383],
      "fujifilm x-e1": [[10413, -3996, -993, -3721, 11640, 2361, -733, 1540, 6011], 2, 255, 4094],
      "fujifilm x20": [[11768, -4971, -1133, -4904, 12927, 2183, -480, 1723, 4605], 3, 257, 4094],
      "fujifilm x30": [[12328, -5256, -1144, -4469, 12927, 1675, -87, 1291, 4351], 3, 257, 4094],
      "fujifilm x100f": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383],
      "fujifilm x100s": [[10592, -4262, -1008, -3514, 11355, 2465, -870, 2025, 6386], 1, 1024, 16383],
      "fujifilm x100t": [[10592, -4262, -1008, -3514, 11355, 2465, -870, 2025, 6386], 1, 1024, 16383],
      "fujifilm x100v": [[13426, -6334, -1177, -4244, 12136, 2371, -580, 1303, 5980], 2, 1022, 16383],
      "fujifilm x-h1": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383],
      "fujifilm x-m1": [[10413, -3996, -993, -3721, 11640, 2361, -733, 1540, 6011], 2, 256, 4094],
      "fujifilm x-a1": [[11086, -4555, -839, -3512, 11310, 2517, -815, 1341, 5940], 1, 256, 4094],
      "fujifilm x-a2": [[10763, -4560, -917, -3346, 11311, 2322, -475, 1135, 5843], 1, 256, 4094],
      "fujifilm x-a3": [[12407, -5222, -1086, -2971, 11116, 2120, -294, 1029, 5284], 1, 1024, 16383],
      "fujifilm x-a5": [[11673, -4760, -1041, -3988, 12058, 2166, -771, 1417, 5569], 1, 1024, 16383],
      "fujifilm x-a10": [[11540, -4999, -991, -2949, 10963, 2278, -382, 1049, 5605], 1, 256, 4094],
      "fujifilm xq1": [[9252, -2704, -1064, -5893, 14265, 1717, -1101, 2341, 4349], 3, 257, 4094],
      "fujifilm xq2": [[9252, -2704, -1064, -5893, 14265, 1717, -1101, 2341, 4349], 3, 257, 4094],
      "fujifilm x-e2": [[8458, -2451, -855, -4597, 12447, 2407, -1475, 2482, 6526], 1, 1024, 16383],
      "fujifilm x-e3": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1023, 16383],
      "fujifilm x-e2s": [[11562, -5118, -961, -3022, 11007, 2311, -525, 1569, 6097], 1, 1024, 16383],
      "fujifilm x-t1": [[8458, -2451, -855, -4597, 12447, 2407, -1475, 2482, 6526], 1, 1024, 16383],
      "fujifilm x-t2": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383],
      "fujifilm x-t3": [[16393, -7740, -1436, -4238, 12131, 2371, -633, 1424, 6553], 2, 1022, 16383],
      "fujifilm x-t4": [[13426, -6334, -1177, -4244, 12136, 2371, -580, 1303, 5980], 2, 1022, 16383],
      "fujifilm x-t10": [[8458, -2451, -855, -4597, 12447, 2407, -1475, 2482, 6526], 1, 1024, 16383],
      "fujifilm x-t20": [[10592, -4262, -1008, -3514, 11355, 2465, -870, 2025, 6386], 1, 1024, 16383],
      "fujifilm x-t30": [[13426, -6334, -1177, -4244, 12136, 2371, -580, 1303, 5980], 2, 1022, 16383],
      "fujifilm x-t100": [[11673, -4760, -1041, -3988, 12058, 2166, -771, 1417, 5569], 1, 1024, 16383],
      "fujifilm x-t200": [[15055, -7391, -1274, -4062, 12071, 2238, -610, 1217, 6147], 1, 1024, 16383],
      "minolta dimage a1": [[9274, -2547, -1167, -8220, 16323, 1943, -2273, 2720, 8340], 1, 0, 3965],
      "minolta dimage 5": [[8983, -2942, -963, -6556, 14476, 2237, -2426, 2887, 8014], 1, 0, 3965],
      "minolta dimage 7": [[9144, -2777, -998, -6676, 14556, 2281, -2470, 3019, 7744], 1, 0, 3965],
      "minolta dimage 7i": [[10880, -3638, -1186, -6496, 14313, 2364, -2456, 3092, 7485], 1, 0, 3965],
      "minolta dimage 7hi": [[11368, -3894, -1242, -6521, 14358, 2339, -2475, 3056, 7285], 1, 0, 3965],
      "sony dsc-f828": [[7924, -1910, -777, -8226, 15459, 2998, -1517, 2199, 6818, -7242, 11401, 3481], 0, 495, 16383],
      "sony dsc-hx99": [[13076, -5686, -1481, -4027, 12851, 1251, -167, 725, 4937], 1, 800, 16300],
      "sony dsc-r1": [[8512, -2641, -694, -8042, 15670, 2526, -1821, 2117, 7414], 2, 511, 16383],
      "mamiya zd": [[7645, 2579, -1363, -8689, 16717, 2015, -3712, 5941, 5961], 1, 0, 4e3],
      "leaf aptus 22": [[8236, 1746, -1314, -8251, 15953, 2428, -3673, 5786, 5771], 1, 0, 16191],
      "leaf credo 40": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383],
      "leaf credo 60": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383],
      "leaf credo 80": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383],
      "leaf aptus-ii 5": [[1846, 7955, -1222, -12994, 19563, 3596, -2035, 3340, 5136], 2, 0, 15e3],
      "phase one p30": [[4516, -245, -37, -7020, 14976, 2173, -3206, 4671, 7087], 2, 0, 16383],
      "phase one p65+": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383],
      "phase one iq140": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 65535],
      "phase one iq250": [[3984, 0, 0, 0, 1e4, 0, 0, 0, 7666], 1, 1024, 65535],
      "kodak dcs pro slr/n": [[5494, 2393, -232, -6427, 13850, 2846, -1876, 3997, 5445], 2, 0, 4095],
      "kodak dcs pro 14n": [[7791, 3128, -776, -8588, 16458, 2039, -2455, 4006, 6198], 2, 0, 3700],
      "kodak dcs pro 14nx": [[5494, 2393, -232, -6427, 13850, 2846, -1876, 3997, 5445], 2, 0, 3700],
      "kodak dcs460": [[10592, -2206, -967, -1944, 11685, 230, 2206, 670, 1273], 2, 7, 6664],
      "kodak dcs520c": [[24542, -10860, -3401, -1490, 11370, -297, 2858, -605, 3225], 2, 176, 4095],
      "kodak dcs560c": [[20482, -7172, -3125, -1033, 10410, -285, 2542, 226, 3136], 2, 208, 4095],
      "kodak dcs760c": [[16623, -6309, -1411, -4344, 13923, 323, 2285, 274, 2926], 2, 0, 3500],
      "kodak p880": [[12805, -4662, -1376, -7480, 15267, 2360, -1626, 2194, 7904], 0, 0, 4095],
      "kodak easyshare z980 digital camera": [[11313, -3559, -1101, -3893, 11891, 2257, -1214, 2398, 4908], 1, 0, 4095],
      "kodak easyshare z981 digital camera": [[12729, -4717, -1188, -1367, 9187, 2582, 274, 860, 4411], 2, 0, 4095],
      "kodak easyshare z990 digital camera": [[11749, -4048, -1309, -1867, 10572, 1489, -138, 1449, 4522], 0, 0, 4e3],
      "kodak z1015 is": [[11265, -4286, -992, -4694, 12343, 2647, -1090, 1523, 5447], 0, 0, 4095],
      "epson r-d1": [[6827, -1878, -732, -8429, 16012, 2564, -704, 592, 7145], 1, 63, 4095],
      "epson r-d1s": [[6827, -1878, -732, -8429, 16012, 2564, -704, 592, 7145], 1, 62, 4095],
      "epson r-d1x": [[6828, -1878, -732, -8429, 16012, 2564, -704, 592, 7145], 1, 65, 4095],
      "hasselblad cfv-50": [[5656, -659, -346, -3923, 12306, 1791, -1602, 3509, 5442], 1, 256, 65535],
      "hasselblad h3d": [[3857, 452, -46, -6008, 14477, 1596, -2627, 4481, 5718], 1, 0, 31456],
      "hasselblad h4d-50": [[5656, -659, -346, -3923, 12306, 1791, -1602, 3509, 5442], 1, 256, 32767],
      "hasselblad h5d-40": [[6159, -1402, -177, -5439, 12762, 3007, -955, 2200, 7104], 1, 256, 62914],
      "hasselblad h5d-50c": [[4932, -835, 141, -4878, 11868, 3437, -1138, 1961, 7067], 1, 256, 62914],
      "hasselblad x1dm2-50c": [[5002, -878, 111, -4856, 11929, 3338, -1183, 2041, 7022], 1, 256, 62914],
      "hasselblad x1d ii 50c": [[5002, -878, 111, -4856, 11929, 3338, -1183, 2041, 7022], 1, 256, 62914],
      "canon powershot a610": [[15591, -6402, -1592, -5365, 13198, 2168, -1300, 1824, 5075], 1, 0, 1023, 2672, 1968],
      "canon powershot s3 is": [[14062, -5199, -1446, -4712, 12470, 2243, -1286, 2028, 4836], 1, 0, 1023, 2888, 2136],
      "canon powershot a620": [[15265, -6193, -1558, -4125, 12116, 2010, -888, 1639, 5220], 1, 0, 1023, 3152, 2340],
      "canon powershot a720 is": [[14573, -5482, -1546, -1266, 9799, 1468, -1040, 1912, 3810], 3, 0, 1023, 3336, 2480],
      "canon powershot a630": [[14201, -5308, -1757, -6087, 14472, 1617, -2191, 3105, 5348], 1, 0, 1023, 3344, 2484],
      "canon powershot a640": [[13124, -5329, -1390, -3602, 11658, 1944, -1612, 2863, 4885], 1, 0, 1023, 3736, 2772],
      "canon powershot a650": [[9427, -3036, -959, -2581, 10671, 1911, -1039, 1982, 4430], 1, 0, 1023, 4104, 3048],
      "canon powershot sx110 is": [[14134, -5576, -1527, -1991, 10719, 1273, -1158, 1929, 3581], 1, 0, 4095, 3720, 2772],
      "gitup git2": [[8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 1, 3200, 65535, 4608, 3456],
      "gitup git2p": [[8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 1, 4160, 65535, 4624, 3488],
      "paralenz dive camera": [[8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 1, 1024, 16383, 3840, 2160],
      "sjcam sj6 legend": [[9489, -3814, -225, -6650, 13742, 3236, -627, 797, 7550], 1, 0, 4095, 4024, 3036]
  };
  _.pF = {};
  _.pF.pF = function(E, K, i, C, N) {
      if (C == null)
          C = 3;
      if (N == null)
          N = !0;
      var k = E.d
        , V = E.v
        , j = 1 / k
        , a = k * V
        , e = Date.now()
        , L = !1
        , g = _.pF.Bw(i, k, V, 255, 128)
        , I = _.pF.Bw(i, k, V, 0, 128)
        , ee = 0;
      if (L)
          console.log("extract contours", Date.now() - e);
      e = Date.now();
      var h = function(cu, gX) {
          var bW = cu << 2
            , dE = gX << 2;
          return K[bW] + K[bW + 1] + K[bW + 2] - (K[dE] + K[dE + 1] + K[dE + 2])
      };
      g.sort(h);
      I.sort(h);
      var o = _.I(a)
        , H = _.I(a)
        , A = []
        , S = new Uint32Array(k * V);
      S.fill(4294967295);
      for (var G = 0; G < a; G++)
          if (i[G] == 0)
              H[G] = 255;
          else if (i[G] == 255)
              o[G] = 255;
          else {
              S[G] = A.length;
              A.push(G)
          }
      var v = g.length
        , s = I.length
        , D = A.length;
      function F(cu, gX, bW, dE) {
          var b4 = cu.length
            , cC = new Array(b4 * 2);
          for (var G = 0; G < b4; G++) {
              var $ = cu[G]
                , P = ~~($ * dE)
                , t = $ - P * bW
                , aN = $ << 2;
              cC[G * 2] = t << 16 | P;
              cC[G * 2 + 1] = gX[aN] << 16 | gX[aN + 1] << 8 | gX[aN + 2]
          }
          return cC
      }
      var y = F(g, K, k, j)
        , T = F(I, K, k, j)
        , Q = F(A, K, k, j);
      if (L)
          console.log("Itemize", Date.now() - e, "Unknown:", D, v, s);
      e = Date.now();
      var B = _.style.NI(o, k, V, !0)
        , r = _.style.NI(H, k, V, !0)
        , J = new Array(D)
        , m = new Array(D)
        , x = new Array(D)
        , R = new Array(D)
        , b = new Array(D);
      if (L)
          console.log("Dist transform", Date.now() - e);
      e = Date.now();
      var z = _.pF.xV;
      for (var G = 0; G < D; G++) {
          var $ = A[G]
            , P = ~~($ * j)
            , t = $ - P * k
            , X = B[$ << 1]
            , Z = B[($ << 1) + 1]
            , p = Math.sqrt(X * X + Z * Z)
            , gl = r[$ << 1]
            , f = r[($ << 1) + 1]
            , cY = Math.sqrt(gl * gl + f * f);
          J[G] = 1 / p;
          m[G] = 1 / cY;
          var fC = Math.floor(_.p.ne($ * 17) * v)
            , hi = Math.floor(_.p.ne($ * 19) * s);
          x[G] = fC;
          R[G] = hi;
          b[G] = z(Q[G * 2], Q[G * 2 + 1], y[fC * 2], y[fC * 2 + 1], T[hi * 2], T[hi * 2 + 1], J[G], m[G], 1e9)
      }
      var es = [-k - 1, -k, -k + 1, -1, 1, k - 1, k, k + 1];
      while (Math.floor(Math.max(v, s) * Math.pow(.5, ee)) > 1)
          ee++;
      for (var W = 0; W < C; W++) {
          var d = 0;
          for (var G = 0; G < D; G++) {
              var $ = A[G]
                , P = ~~($ * j)
                , t = $ - P * k
                , fM = J[G]
                , n = m[G]
                , ax = Q[G * 2]
                , d_ = Q[G * 2 + 1]
                , cm = b[G]
                , fC = x[G]
                , hi = R[G]
                , am = 1;
              if (P != 0 && t != 0 && t != k - 1 && P != V - 1)
                  for (var c4 = 0; c4 < 8; c4++) {
                      var ch = S[$ + es[c4]];
                      if (ch == 4294967295)
                          continue;
                      var hQ = x[ch]
                        , em = R[ch];
                      if (hQ == fC && em == hi)
                          continue;
                      var ag = z(ax, d_, y[hQ * 2], y[hQ * 2 + 1], T[em * 2], T[em * 2 + 1], fM, n, cm);
                      if (ag < cm) {
                          cm = ag;
                          fC = hQ;
                          hi = em
                      }
                  }
              for (var bK = 0; bK < ee; bK++) {
                  var ei = ~~(v * am)
                    , dL = ~~(s * am);
                  am *= .5;
                  var fh = _.p.ne($ + W * 17 + bK * 31)
                    , eu = _.p.ne($ + W * 29 + bK * 63)
                    , hf = Math.max(0, fC - ei)
                    , iS = Math.min(fC + ei, v - 1)
                    , aI = Math.max(0, hi - dL)
                    , gn = Math.min(hi + dL, s - 1)
                    , hQ = hf + ~~(fh * (iS - hf))
                    , em = aI + ~~(eu * (gn - aI))
                    , ag = z(ax, d_, y[hQ * 2], y[hQ * 2 + 1], T[em * 2], T[em * 2 + 1], fM, n, cm);
                  if (ag < cm) {
                      cm = ag;
                      fC = hQ;
                      hi = em
                  }
              }
              b[G] = cm;
              x[G] = fC;
              R[G] = hi;
              d += cm
          }
      }
      if (L)
          console.log(d);
      if (L)
          console.log("iterations", Date.now() - e);
      e = Date.now();
      var ce = i.slice(0);
      for (var G = 0; G < D; G++) {
          var gr = _.pF.alpha(Q[G * 2 + 1], y[x[G] * 2 + 1], T[R[G] * 2 + 1]);
          ce[A[G]] = ~~(.5 + 255 * gr)
      }
      ce = _.go.afQ(ce, K, new h4(0,0,k,V), 16, .01 * .01);
      if (L)
          console.log("guided filter", Date.now() - e);
      e = Date.now();
      if (N)
          for (var G = 0; G < a; G++)
              if (i[G] == 255 || i[G] == 0)
                  ce[G] = i[G];
      var ek = K.slice(0);
      for (var G = 0; G < D; G++) {
          var bJ = A[G]
            , fC = g[x[G]]
            , cm = b[G]
            , aN = bJ << 2
            , bG = ce[bJ]
            , aQ = (bG >= 250 ? bJ : fC) << 2;
          ek[aN] = K[aQ];
          ek[aN + 1] = K[aQ + 1];
          ek[aN + 2] = K[aQ + 2]
      }
      _.lM(ce, ek, 3);
      if (L)
          console.log(Date.now() - e);
      e = Date.now();
      return ek
  }
  ;
  _.pF.xV = function(E, K, i, C, N, k, V, j, a) {
      var e = E >>> 16
        , L = E & 65535
        , g = e - (i >>> 16)
        , I = L - (i & 65535)
        , h = e - (N >>> 16)
        , o = L - (N & 65535)
        , H = Math.sqrt(g * g + I * I) * V
        , A = Math.sqrt(h * h + o * o) * j;
      if (H + A >= a)
          return 1e9;
      var S = _.pF.abL(K, C, k);
      return S + H + A
  }
  ;
  _.pF.abL = function(E, K, i) {
      var C = E >>> 16
        , N = E >>> 8 & 255
        , k = E & 255
        , V = K >>> 16
        , j = K >>> 8 & 255
        , a = K & 255
        , e = i >>> 16
        , L = i >>> 8 & 255
        , g = i & 255
        , I = _.pF.alpha(E, K, i)
        , h = C - (I * V + (1 - I) * e)
        , o = N - (I * j + (1 - I) * L)
        , H = k - (I * a + (1 - I) * g);
      return Math.sqrt(h * h + o * o + H * H)
  }
  ;
  _.pF.alpha = function(E, K, i) {
      var C = E >>> 16
        , N = E >>> 8 & 255
        , k = E & 255
        , V = K >>> 16
        , j = K >>> 8 & 255
        , a = K & 255
        , e = i >>> 16
        , L = i >>> 8 & 255
        , g = i & 255
        , I = V - e
        , h = j - L
        , o = a - g
        , H = C - e
        , A = N - L
        , S = k - g
        , v = I * I + h * h + o * o
        , s = v == 0 ? .5 : (H * I + A * h + S * o) / v;
      return Math.max(0, Math.min(1, s))
  }
  ;
  _.pF.aaA = function(E) {}
  ;
  _.pF.Bw = function(E, K, i, C, N) {
      var k = []
        , V = K - 1
        , j = i - 1;
      for (var a = 1; a < j; a++)
          for (var e = 1; e < V; e++) {
              var G = a * K + e;
              if (E[G] == C && (E[G - K - 1] == N || E[G - K] == N || E[G - K + 1] == N || (E[G - 1] == N || E[G + 1] == N) || (E[G + K - 1] == N || E[G + K] == N || E[G + K + 1] == N)))
                  k.push(G)
          }
      return k
  }
  ;
  _.go = {};
  _.go.aiM = function(E, K, i, C, N) {
      var k = i.d, V = i.v, j = k * V, a = _.go.mR, e = _.I(j * 4), L;
      _.EE(e, 4294967295);
      var g = i
        , I = E
        , h = K
        , o = C;
      _.lM(E, e, 0);
      L = _.QA(e, i);
      L = _.QA(L.OR, L.rect);
      g = L.rect;
      o = C >>> 2;
      console.log(g, o);
      I = _.I(g.X());
      _.wF(L.OR, I, 0);
      _.lM(K, e, 0);
      L = _.QA(e, i);
      L = _.QA(L.OR, L.rect);
      h = _.I(g.X());
      _.wF(L.OR, h, 0);
      var H = _.go.akN(I, h, g, o, N)
        , A = H[0]
        , S = H[1]
        , v = new h4(0,0,g.d * 2,g.v * 2);
      A = a(A, g, v, !0);
      A = a(A, v, i, !0);
      S = a(S, g, v, !0);
      S = a(S, v, i, !0);
      var s = _.I(j);
      for (var G = 0; G < j; G++)
          s[G] = Math.max(0, Math.min(255, Math.floor(.5 + (A[G] * K[G] + 255 * S[G]))));
      return s
  }
  ;
  _.go.mR = function(E, K, i, C) {
      var N = i.d
        , k = i.v
        , V = K.d
        , j = K.v
        , a = _.go.iz
        , e = new Float32Array(N * k);
      for (var L = 0; L < j; L++) {
          var g = (L + L) * N;
          for (var I = 0; I < V; I++) {
              if (!0 || I == 0 || L == 0 || I == V - 1 || L == j - 1)
                  e[g] = e[g + 1] = e[g + N] = e[g + N + 1] = E[L * V + I];
              else {
                  e[g] = a(I + .25, L + .25, E, V, j);
                  e[g + 1] = a(I + .75, L + .25, E, V, j);
                  e[g + N] = a(I + .25, L + .75, E, V, j);
                  e[g + N + 1] = a(I + .75, L + .75, E, V, j)
              }
              g += 2
          }
      }
      return e
  }
  ;
  _.go.iz = function(E, K, i, C, N) {
      E -= .499999;
      K -= .499999;
      var k = Math.floor(E)
        , V = Math.floor(K)
        , j = V * C + k
        , a = E - k
        , e = K - V
        , L = (1 - e) * (1 - a)
        , g = (1 - e) * a
        , I = e * (1 - a)
        , h = e * a;
      if (i[j] == null || i[j + C + 1] == null) {
          console.log(E, K, C, N);
          throw "e"
      }
      return L * i[j + 0] + g * i[j + 1] + I * i[j + C + 0] + h * i[j + C + 1]
  }
  ;
  _.go.akN = function(E, K, i, C, N) {
      var k = i.d
        , V = i.v
        , j = k * V
        , a = _.go.Af
        , e = _.go.I
        , L = _.Cu.s2
        , g = _.go.D3
        , K = a(K)
        , E = a(E)
        , I = e(j);
      L(K, I, i, C);
      var h = e(j);
      L(E, h, i, C);
      var o = e(j);
      g(K, K, o);
      L(o, o, i, C);
      var H = e(j);
      g(K, E, H);
      L(H, H, i, C);
      var A = e(j)
        , S = e(j);
      for (var G = 0; G < j; G++) {
          var v = I[G]
            , s = h[G]
            , D = o[G] - v * v
            , F = H[G] - v * s
            , y = F / (D + N)
            , T = s - y * v;
          A[G] = y;
          S[G] = T
      }
      var Q = e(j);
      L(A, Q, i, C);
      var B = e(j);
      L(S, B, i, C);
      return [Q, B]
  }
  ;
  _.go.afQ = function(E, K, i, C, N) {
      var k = i.d
        , V = i.v
        , j = k * V
        , a = _.go.mR
        , e = Date.now()
        , L = !1
        , g = i
        , I = E
        , h = K
        , o = C;
      g = new h4(0,0,k >>> 2,V >>> 2);
      o = C >>> 2;
      I = _.go.adu(E, k, V);
      h = _.go.abu(K, k, V);
      if (L)
          console.log(Date.now() - e);
      e = Date.now();
      var H = _.go.a2r(I, h, g, o, N)
        , A = H[0]
        , S = H[1]
        , v = H[2]
        , s = H[3];
      if (L)
          console.log(Date.now() - e);
      e = Date.now();
      var D = _.I(j);
      for (var F = 0; F < V; F++)
          for (var y = 0; y < k; y++) {
              var G = F * k + y
                , T = (F >>> 2) * (k >>> 2) + (y >>> 2)
                , Q = G << 2
                , B = A[T] * K[Q] + S[T] * K[Q + 1] + v[T] * K[Q + 2] + s[T] * 255;
              D[G] = Math.max(0, Math.min(255, ~~(.5 + B)))
          }
      if (L)
          console.log(Date.now() - e);
      e = Date.now();
      return D
  }
  ;
  _.go.adu = function(E, K, i) {
      var C = K >>> 2
        , N = i >>> 2
        , k = _.I(K * i);
      for (var V = 0; V < N; V++)
          for (var j = 0; j < C; j++)
              k[V * C + j] = E[V * K + j << 2];
      return k
  }
  ;
  _.go.abu = function(E, K, i) {
      var C = K >>> 2
        , N = i >>> 2
        , k = _.I(K * i * 4);
      for (var V = 0; V < N; V++)
          for (var j = 0; j < C; j++) {
              var a = V * C + j << 2
                , e = V * K + j << 4;
              k[a] = E[e];
              k[a + 1] = E[e + 1];
              k[a + 2] = E[e + 2];
              k[a + 3] = E[e + 3]
          }
      return k
  }
  ;
  _.go.a2r = function(E, K, i, C, N) {
      var k = i.d
        , V = i.v
        , j = k * V
        , a = _.go.Af
        , e = _.go.I
        , L = _.Cu.s2
        , g = _.go.D3
        , E = a(E)
        , I = new _.U0(k * V);
      _.nT(K, I);
      var K = [a(I.h), a(I.l), a(I.O)]
        , h = _.go.a6o(E, K, i, C, N)
        , o = e(j);
      L(E, o, i, C);
      var H = e(j);
      g(K[0], E, H);
      L(H, H, i, C);
      var A = e(j);
      g(K[1], E, A);
      L(A, A, i, C);
      var S = e(j);
      g(K[2], E, S);
      L(S, S, i, C);
      var v = e(j)
        , s = e(j)
        , D = e(j)
        , F = e(j);
      for (var G = 0; G < j; G++) {
          var y = o[G]
            , T = h.wS[G]
            , Q = h.mH[G]
            , B = h.Um[G]
            , r = H[G] - T * y
            , J = A[G] - Q * y
            , m = S[G] - B * y;
          v[G] = h.a0x[G] * r + h.a2[G] * J + h.c6[G] * m;
          s[G] = h.a2[G] * r + h.a9u[G] * J + h.dC[G] * m;
          D[G] = h.c6[G] * r + h.dC[G] * J + h.a0P[G] * m;
          F[G] = y - v[G] * T - s[G] * Q - D[G] * B
      }
      L(v, v, i, C);
      L(s, s, i, C);
      L(D, D, i, C);
      L(F, F, i, C);
      return [v, s, D, F]
  }
  ;
  _.go.a6o = function(E, K, i, C, N) {
      var k = i.d
        , V = i.v
        , j = k * V
        , a = _.go.I
        , e = _.Cu.s2
        , L = _.go.D3
        , g = {};
      g.wS = a(j);
      e(K[0], g.wS, i, C);
      g.mH = a(j);
      e(K[1], g.mH, i, C);
      g.Um = a(j);
      e(K[2], g.Um, i, C);
      var I = a(j);
      L(K[0], K[0], I);
      e(I, I, i, C);
      var h = a(j);
      L(K[0], K[1], h);
      e(h, h, i, C);
      var o = a(j);
      L(K[0], K[2], o);
      e(o, o, i, C);
      var H = a(j);
      L(K[1], K[1], H);
      e(H, H, i, C);
      var A = a(j);
      L(K[1], K[2], A);
      e(A, A, i, C);
      var S = a(j);
      L(K[2], K[2], S);
      e(S, S, i, C);
      g.a0x = I;
      g.a2 = h;
      g.c6 = o;
      g.a9u = H;
      g.dC = A;
      g.a0P = S;
      for (var G = 0; G < j; G++) {
          var v = g.wS[G]
            , s = g.mH[G]
            , D = g.Um[G]
            , F = I[G] - v * v + N
            , y = h[G] - v * s
            , T = o[G] - v * D
            , Q = H[G] - s * s + N
            , B = A[G] - s * D
            , r = S[G] - D * D + N
            , J = Q * r - B * B
            , m = B * T - y * r
            , x = y * B - Q * T
            , R = F * r - T * T
            , b = T * y - F * B
            , z = F * Q - y * y
            , $ = J * F + m * y + x * T
            , P = 1 / $;
          g.a0x[G] = J * P;
          g.a2[G] = m * P;
          g.c6[G] = x * P;
          g.a9u[G] = R * P;
          g.dC[G] = b * P;
          g.a0P[G] = z * P
      }
      return g
  }
  ;
  _.go.I = function(E) {
      return new Float32Array(E)
  }
  ;
  _.go.Af = function(E) {
      var K = E.length
        , i = new Float32Array(K);
      for (var G = 0; G < K; G++)
          i[G] = E[G] * (1 / 255);
      return i
  }
  ;
  _.go.D3 = function(E, K, i) {
      for (var G = 0; G < E.length; G++)
          i[G] = E[G] * K[G]
  }
  ;
  _.Yj = {};
  _.Yj.Tm = function(E, K, i, C) {
      var N = E[K] - i[C]
        , k = E[K + 1] - i[C + 1]
        , V = E[K + 2] - i[C + 2];
      return Math.sqrt(N * N + k * k + V * V) * (1 / 441.7)
  }
  ;
  _.Yj.getSelection = function(E, K, i) {
      var C = K * i
        , N = _.I(C)
        , k = !1
        , V = Math.round(i * .7)
        , j = 1
        , a = new Uint32Array(12)
        , e = _.I(12);
      for (var L = 0; L < V; L++)
          for (var g = 0; g < K; g++) {
              if (g < j || L < j || g > K - j - 1 || L > i - j - 1) {
                  var G = L * K + g
                    , I = G << 2
                    , h = 0;
                  if (L < j)
                      h = 4;
                  else if (g > K - j - 1)
                      h = 8;
                  a[h] += E[I];
                  a[h + 1] += E[I + 1];
                  a[h + 2] += E[I + 2];
                  a[h + 3]++;
                  N[G] = 255
              }
          }
      for (var G = 0; G < 12; G += 4)
          for (var o = 0; o < 3; o++)
              e[G + o] = a[G + o] / a[G + 3];
      var H = new Float32Array(C);
      for (var G = 0; G < C; G++) {
          var I = G * 4
            , A = _.Yj.Tm(E, I, e, 0)
            , S = _.Yj.Tm(E, I, e, 4)
            , v = _.Yj.Tm(E, I, e, 8)
            , s = Math.max(A, Math.max(S, v));
          H[G] = A + S + v - s
      }
      _.Yj.PB(H);
      var D = Date.now()
        , F = new Float32Array(C)
        , y = []
        , T = _.I(C);
      for (var G = 0; G < 3; G++) {
          _.wF(E, T, G);
          var Q = new Uint16Array(C);
          y.push(Q);
          _.Yj.alc(T, N, K, i, Q)
      }
      if (k)
          console.log("MBD", Date.now() - D);
      D = Date.now();
      for (var G = 0; G < C; G++)
          F[G] = y[0][G] + y[1][G] + y[2][G];
      _.Yj.PB(F);
      for (var G = 0; G < C; G++)
          F[G] += .4 * H[G];
      var B = K >>> 1
        , V = i >>> 1
        , r = 1 / Math.sqrt(B * B + V * V);
      for (var L = 0; L < i; L++)
          for (var g = 0; g < K; g++) {
              var J = g - B
                , m = L - V
                , x = 1 - Math.sqrt(J * J + m * m) * r;
              F[L * K + g] *= x
          }
      if (k)
          console.log("Centeredness", Date.now() - D);
      D = Date.now();
      for (var G = 0; G < C; G++)
          N[G] = F[G] * 255;
      var R = Math.round(K / 120)
        , b = Math.round(R * .8);
      if (k)
          console.log(R, b);
      _.A2.R$(N, T, K, i, R, _.A2.BM, []);
      N.set(T);
      if (k)
          console.log("erosion", Date.now() - D);
      D = Date.now();
      for (var G = 0; G < C; G++)
          F[G] = N[G];
      _.Yj.PB(F);
      var z = _.I(256);
      for (var G = 0; G < 256; G++)
          z[G] = 256 / (1 + Math.exp(-20 * (G / 255 - .5)));
      for (var G = 0; G < C; G++) {
          var $ = ~~(F[G] * 255 + .5);
          N[G] = z[$]
      }
      if (k)
          console.log("Simoid", Date.now() - D);
      D = Date.now();
      return N
  }
  ;
  _.Yj.PB = function(E) {
      var K = E.length
        , i = 0;
      for (var G = 0; G < K; G++)
          i = Math.max(i, E[G]);
      var C = 1 / i;
      for (var G = 0; G < K; G++)
          E[G] = E[G] * C
  }
  ;
  _.Yj.alc = function(E, K, i, C, N) {
      var k = i * C
        , V = E.slice(0)
        , j = E.slice(0);
      for (var G = 0; G < k; G++)
          N[G] = K[G] == 255 ? 0 : 65535;
      _.Yj.BW(E, j, V, N, i, C);
      _.Yj.UR(E, j, V, N, i, C);
      _.Yj.BW(E, j, V, N, i, C);
      _.Yj.UR(E, j, V, N, i, C);
      return N
  }
  ;
  _.Yj.BW = function(E, K, i, C, N, k) {
      for (var V = 1; V < N; V++)
          _.Yj.VE(V, -1, E, K, i, C);
      for (var j = 1; j < k; j++) {
          _.Yj.VE(j * N, -N, E, K, i, C);
          for (var V = 1; V < N; V++) {
              var G = j * N + V;
              _.Yj.VE(G, -1, E, K, i, C);
              _.Yj.VE(G, -N, E, K, i, C)
          }
      }
  }
  ;
  _.Yj.UR = function(E, K, i, C, N, k) {
      for (var V = N - 2; V >= 0; V--)
          _.Yj.VE(N * k - N + V, 1, E, K, i, C);
      for (var j = k - 2; j >= 0; j--) {
          _.Yj.VE(j * N + N - 1, N, E, K, i, C);
          for (var V = N - 2; V >= 0; V--) {
              var G = j * N + V;
              _.Yj.VE(G, 1, E, K, i, C);
              _.Yj.VE(G, N, E, K, i, C)
          }
      }
  }
  ;
  _.Yj.VE = function(G, E, K, i, C, N) {
      var k = G + E
        , V = K[G]
        , j = i[k]
        , a = C[k];
      if (j < V)
          j = V;
      else if (V < a)
          a = V;
      var e = j - a;
      if (N[k] != 65535 && e < N[G]) {
          N[G] = e;
          i[G] = j;
          C[G] = a
      }
  }
  ;
  _.rW = {};
  _.rW.filter = function(E, K, i, C) {
      var N = K.d
        , k = K.v
        , V = N * k
        , j = C[0]
        , a = C[1]
        , e = C[2]
        , L = C[3]
        , g = C[4]
        , I = C[5]
        , h = C[6]
        , o = Date.now()
        , H = new Float32Array(N * k * 4);
      _.rW.abf(E, N, k, H);
      var A = Math.ceil(j * Math.sqrt(-2 * Math.log(.1)))
        , S = new ArrayBuffer(V * 4)
        , v = new Float32Array(S)
        , s = new Float32Array(V)
        , D = new Float32Array(V);
      for (var G = 0; G < V; G++) {
          var F = G * 4;
          v[G] = H[F];
          s[G] = H[F + 1];
          D[G] = H[F + 2]
      }
      _.Cu.E2(v, v, K, A * 1 / 2.4, 2);
      _.Cu.E2(s, s, K, A * 1 / 2.4, 2);
      _.Cu.E2(D, D, K, A * 1 / 2.4, 2);
      for (var G = 0; G < V; G++) {
          var F = G * 4;
          H[F] = v[G];
          H[F + 1] = s[G];
          H[F + 2] = D[G]
      }
      var y = new Uint8Array(S);
      for (var G = 0; G < V; G++) {
          var F = G * 4
            , T = G * 4
            , v = H[F]
            , s = H[F + 1]
            , D = H[F + 2]
            , Q = Math.sqrt((v - D) * (v - D) + 4 * s * s)
            , B = (v + D + Q) * .5
            , r = (v + D - Q) * .5
            , J = r - D
            , m = s
            , x = J * J + m * m;
          if (x != 0) {
              var R = Math.sqrt(x)
                , b = 1 / R;
              J *= b;
              m *= b
          }
          y[T] = 128 + 127 * J;
          y[T + 1] = 128 + 127 * m
      }
      var z = 1.3 * a + 2
        , $ = L * (2 / 10)
        , P = E.slice();
      if (Y.vD) {
          var t = new Float32Array([1 / N, 1 / k])
            , X = Y.I3(0, N, k);
          X.set(P);
          var Z = Y.I3(1, N, k);
          Z.set(y);
          Y.j8(X, K);
          if (g) {
              X.HV(K);
              Y.filter.Nk({
                  type: Y.filter.Ds,
                  uK: t,
                  am2: 1 / e,
                  alo: $
              }, X.B6)
          }
          X.HV(K);
          Y.filter.Nk({
              type: Y.filter.$C,
              Dc: Z.k2,
              uK: t,
              a3o: z,
              aa$: 2
          }, X.B6);
          if (g) {
              X.HV(K);
              Y.filter.Nk({
                  type: Y.filter.QE,
                  uK: t,
                  a1d: new Float32Array(h),
                  aci: I
              }, X.B6)
          }
          X.get(i)
      } else {
          if (g)
              _.rW.u5(1 / e, $, P, N, k);
          _.rW.$C(P, i, y, N, k, z);
          if (g)
              _.rW.adp(N, k, i, h, I)
      }
      var p = V * 4;
      for (var G = 3; G < p; G += 4)
          i[G] = E[G]
  }
  ;
  _.rW.$C = function(E, K, i, C, N, k) {
      var V = Math.ceil(2 * k)
        , j = -1 / (2 * k * k)
        , a = []
        , e = 1;
      for (var G = 0; G < V + 20; G++)
          a[G] = Math.exp(G * G * j);
      var L = [0, 0, 0, 0];
      for (var g = 0; g < N; g++) {
          for (var I = 0; I < C; I++) {
              var h = g * C + I
                , o = h * 4
                , H = 1
                , A = E[o]
                , S = E[o + 1]
                , v = E[o + 2]
                , s = E[o + 3]
                , D = (i[o] - 128) * (1 / 127)
                , F = (i[o + 1] - 128) * (1 / 127)
                , y = D
                , T = F
                , Q = I == 0 ? .51 : .49
                , B = g == 0 ? .51 : .49;
              for (var G = 0; G < 2; G++) {
                  var r = I + Q
                    , J = g + B
                    , m = 0;
                  while (m < V) {
                      if (r < .5 || C - .5 < r || J < .5 || N - .5 < J)
                          break;
                      var x = ~~r
                        , R = ~~J
                        , b = R * C + x
                        , z = b * 4
                        , $ = (i[z] - 128) * (1 / 127)
                        , P = (i[z + 1] - 128) * (1 / 127);
                      if ($ * y + P * T < 0) {
                          $ = -$;
                          P = -P
                      }
                      y = $;
                      T = P;
                      r += e * $;
                      J += e * P;
                      if (r < .5 || C - .5 < r || J < .5 || N - .5 < J)
                          break;
                      var t = ~~r
                        , X = ~~J
                        , Z = X * C + t << 2;
                      m += e;
                      var p = a[~~m];
                      _.J.Zs(r, J, E, C, N, L);
                      A += L[0] * p;
                      S += L[1] * p;
                      v += L[2] * p;
                      s += L[3] * p;
                      H += p
                  }
                  y = -D;
                  T = -F
              }
              var gl = 1 / H;
              K[o] = ~~(.5 + A * gl);
              K[o + 1] = ~~(.5 + S * gl);
              K[o + 2] = ~~(.5 + v * gl);
              K[o + 3] = ~~(.5 + s * gl)
          }
      }
  }
  ;
  _.rW.adp = function(E, K, i, C, N) {
      for (var k = 0; k < K; k++)
          for (var V = 0; V < E; V++) {
              var j = k * E + V << 2
                , a = 1 + _.rW.aiG(V, k, i, E, K, C) * N;
              i[j] = Math.max(0, Math.min(255, i[j] * a));
              i[j + 1] = Math.max(0, Math.min(255, i[j + 1] * a));
              i[j + 2] = Math.max(0, Math.min(255, i[j + 2] * a))
          }
  }
  ;
  _.rW.aiG = function(E, K, i, C, N, k) {
      var V = i[(K * C + Math.max(0, E - 1)) * 4 + 3]
        , j = i[(K * C + Math.min(C - 1, E + 1)) * 4 + 3]
        , a = i[(Math.max(0, K - 1) * C + E) * 4 + 3]
        , e = i[(Math.min(N - 1, K + 1) * C + E) * 4 + 3]
        , L = .7
        , g = (j - V) * (1 / 255)
        , I = .7
        , h = (e - a) * (1 / 255)
        , o = -g * I
        , H = -L * h
        , A = L * I
        , S = Math.sqrt(o * o + H * H + A * A)
        , v = 1 / S
        , s = o * v
        , D = H * v
        , F = A * v
        , y = k[0] * s + k[1] * D + k[2] * F;
      return y
  }
  ;
  _.rW.u5 = function(E, K, i, C, N) {
      function k(j, e, L) {
          return Math.max(e, Math.min(L, j))
      }
      for (var V = 0; V < N; V++)
          for (var j = 0; j < C; j++) {
              var a = _.rW.a53(j + .5, V + .5, E, K);
              i[(V * C + j) * 4 + 3] = Math.max(0, Math.min(255, a * 255))
          }
  }
  ;
  _.rW.a53 = function(E, K, i, C) {
      function N(T, Q, B) {
          return (1 - B) * T + B * Q
      }
      var k = (E + 613) * i
        , V = (K + 117) * i
        , j = ~~k
        , a = ~~V
        , e = k - j
        , L = V - a
        , g = Math.sin(11)
        , I = Math.cos(j) * g
        , h = Math.cos(j + 1) * g
        , o = Math.cos(a) * g
        , H = Math.cos(a + 1) * g
        , l = _.rW.hash(I, o)
        , A = _.rW.hash(h, o)
        , S = _.rW.hash(I, H)
        , v = _.rW.hash(h, H)
        , s = N(l, A, e)
        , D = N(S, v, e)
        , F = N(s, D, L);
      F = F < .5 ? 0 : 1;
      var y = F + C * _.rW.hash(Math.cos(k) * g, Math.cos(V) * g);
      return y * (1 / 3)
  }
  ;
  _.rW.hash = function(E, K) {
      var i = Math.sin(E * 11.697096 + K * 73.32456) * 12157.47691;
      return i - Math.floor(i)
  }
  ;
  _.rW.abf = function(E, K, i, C) {
      var N = [-1, 0, 1, -2, 0, 2, -1, 0, 1]
        , k = [-1, -2, -1, 0, 0, 0, 1, 2, 1]
        , V = K - 1
        , j = i - 1
        , a = K * 4;
      for (var e = 1; e < j; e++)
          for (var L = 1; L < V; L++) {
              var G = e * K + L
                , g = G * 4
                , I = _.rW.Gh(E, g, a, N)
                , h = _.rW.Gh(E, g, a, k)
                , o = _.rW.Gh(E, g + 1, a, N)
                , H = _.rW.Gh(E, g + 1, a, k)
                , A = _.rW.Gh(E, g + 2, a, N)
                , S = _.rW.Gh(E, g + 2, a, k);
              C[g] = I * I + o * o + A * A;
              C[g + 1] = I * h + o * H + A * S;
              C[g + 2] = h * h + H * H + S * S
          }
      _.rW.ahf(C, K, i)
  }
  ;
  _.rW.Gh = function(E, K, i, C) {
      return E[K - i - 4] * C[0] + E[K - i] * C[1] + E[K - i + 4] * C[2] + E[K - 4] * C[3] + E[K] * C[4] + E[K + 4] * C[5] + E[K + i - 4] * C[6] + E[K + i] * C[7] + E[K + i + 4] * C[8]
  }
  ;
  _.rW.ahf = function(E, K, i) {
      function C(a, G, e) {
          var L = G * 4
            , g = e * 4;
          a[g] = a[L];
          a[g + 1] = a[L + 1];
          a[g + 2] = a[L + 2]
      }
      var N = K - 1
        , k = i - 1;
      C(E, K + 1, 0);
      C(E, 2 * K - 2, K - 1);
      for (var V = 1; V < N; V++)
          C(E, K + V, V);
      for (var j = 1; j < k; j++) {
          C(E, j * K + 1, j * K);
          C(E, j * K + K - 2, j * K + K - 1)
      }
      for (var V = 1; V < N; V++)
          C(E, (i - 2) * K + V, (i - 1) * K + V);
      C(E, (j - 2) * K + 1, (j - 1) * K);
      C(E, (j - 1) * K - 2, j * K - 1)
  }
  ;
  _.Ax = {};
  _.Ax.sa = function(E, K, i, C) {
      var N = E[K * 2]
        , k = E[K * 2 + 1]
        , V = E[i * 2]
        , j = E[i * 2 + 1]
        , a = E[C * 2]
        , e = E[C * 2 + 1];
      return N * j + V * e + a * k - a * j - V * k - N * e
  }
  ;
  _.Ax.Gr = function(E, K) {
      var i = []
        , C = []
        , N = []
        , k = {};
      for (var G = 0; G < K.length; G += 3) {
          var V = ~~(G * (1 / 3))
            , j = K[G + 0]
            , a = K[G + 1]
            , e = K[G + 2]
            , L = _.Ax.sa(E, j, a, e);
          if (L > 0) {
              var g = a;
              a = e;
              e = g
          }
          var I = k[e + "-" + a]
            , h = k[a + "-" + j]
            , o = k[j + "-" + e]
            , H = [e, I, V, null]
            , A = [a, h, V, H]
            , S = [j, o, V, A];
          H[3] = S;
          if (I)
              I[1] = H;
          if (h)
              h[1] = A;
          if (o)
              o[1] = S;
          k[e + "-" + j] = S;
          k[j + "-" + a] = A;
          k[a + "-" + e] = H;
          i[j] = A;
          N[G] = A;
          i[a] = H;
          N[G + 1] = H;
          i[e] = S;
          N[G + 2] = S;
          C[V] = A
      }
      return {
          QY: i,
          B5: C,
          ly: N
      }
  }
  ;
  _.Ax.a4G = function(E) {
      var K = []
        , i = E.B5;
      for (var G = 0; G < i.length; G++) {
          var C = i[G];
          K.push(C[0]);
          C = C[3];
          K.push(C[0]);
          C = C[3];
          K.push(C[0])
      }
      return K
  }
  ;
  _.Ax.a9X = function(E, K, i, C) {
      var N = E[K * 2]
        , k = E[K * 2 + 1]
        , V = E[i * 2]
        , j = E[i * 2 + 1]
        , a = E[C * 2]
        , e = E[C * 2 + 1]
        , L = V - N
        , g = j - k
        , I = a - N
        , h = e - k
        , o = L * (N + V) + g * (k + j)
        , H = I * (N + a) + h * (k + e)
        , A = 2 * (L * (e - j) - g * (a - V));
      if (Math.abs(A) < 1e-5) {
          var S = Math.min(N, V, a)
            , v = Math.min(k, j, e)
            , s = (Math.max(N, V, a) - S) * .5
            , D = (Math.max(k, j, e) - v) * .5;
          return [S + s, v + D, s * s + D * D, 1]
      }
      var F = (h * o - g * H) / A
        , y = (L * H - I * o) / A
        , s = F - N
        , D = y - k;
      return [F, y, s * s + D * D, 0]
  }
  ;
  _.Ax.a2J = function(E, K, i) {
      var C = i[1]
        , N = i[3]
        , k = N[3]
        , V = C[3]
        , j = V[3]
        , a = i[2]
        , e = C[2]
        , L = i[0]
        , g = C[0]
        , I = N[0]
        , h = V[0]
        , o = _.Ax.a9X(E, g, h, I)
        , H = E[L * 2] - o[0]
        , A = E[L * 2 + 1] - o[1]
        , S = H * H + A * A > o[2] && o[3] == 0 && _.Ax.sa(E, h, L, I) < 0 && _.Ax.sa(E, I, g, h) < 0;
      if (S) {
          i[0] = I;
          C[0] = h;
          i[3] = k;
          k[3] = V;
          V[3] = i;
          C[3] = j;
          j[3] = N;
          N[3] = C;
          N[2] = e;
          V[2] = a;
          K.B5[e] = j;
          K.B5[a] = k;
          K.QY[g] = V;
          K.QY[L] = N
      }
      return S
  }
  ;
  _.Ax.wE = function(E, K, i) {
      var C = E[K * 2] - E[i * 2]
        , N = E[K * 2 + 1] - E[i * 2 + 1];
      return Math.sqrt(C * C + N * N)
  }
  ;
  _.Ax.a2s = function(E, K, i) {
      var C = i[1], N = i[3], k = N[3], V, j, a = i[2], e, L = i[0], g = k[0], I = N[0], h;
      if (C) {
          V = C[3];
          j = V[3];
          e = C[2];
          h = V[0]
      }
      var o = E.length >>> 1;
      E[2 * o] = (E[2 * g] + E[2 * L]) * .5;
      E[2 * o + 1] = (E[2 * g + 1] + E[2 * L + 1]) * .5;
      if (!0) {
          var H = a
            , A = i
            , S = K.B5.length
            , v = [o, null, H, A]
            , s = [I, v, S, k];
          v[1] = s;
          var D = [o, null, S, s];
          N[3] = v;
          k[3] = D;
          k[2] = S;
          K.B5[H] = N;
          K.B5[S] = D;
          K.QY[L] = N;
          K.QY[I] = k;
          K.ly.push(v, s, D)
      }
      if (C) {
          var F = e
            , y = C
            , T = S + 1;
          D[1] = y,
          y[1] = D;
          var Q = [o, null, F, y]
            , B = [h, Q, T, j];
          Q[1] = B;
          var r = [o, A, T, B];
          A[1] = r;
          V[3] = Q;
          j[3] = r;
          j[2] = T;
          K.B5[F] = V;
          K.B5[T] = j;
          K.QY[g] = V;
          K.QY[h] = j;
          K.ly.push(Q, B, r)
      }
      K.QY[o] = A
  }
  ;
  _.Ax.m8 = function(E, K) {
      var i = 0;
      while (!0) {
          var C = i;
          for (var G = 0; G < K.ly.length; G++) {
              var N = K.ly[G];
              if (N[1] == null)
                  continue;
              var k = _.Ax.a2J(E, K, N);
              if (k) {
                  i++;
                  break
              }
          }
          if (C == i)
              break
      }
      return i != 0
  }
  ;
  _.Ax.aj2 = function(E, K, i, C) {
      var N = 0;
      for (var G = 0; G < C; G++) {
          var k = null
            , V = 0;
          for (var j = 0; j < K.ly.length; j++) {
              var a = K.ly[j]
                , e = _.Ax.wE(E, a[0], a[3][3][0]) * (a[1] ? 1 : 2);
              if (e > V) {
                  k = a;
                  V = e
              }
          }
          if (V > i) {
              _.Ax.a2s(E, K, k);
              N++
          }
      }
      return N != 0
  }
  ;
  _.Ax.a2a = function(E, K) {
      var i = []
        , I = 0;
      for (var G = 0; G < E.length; G++)
          i.push(0);
      for (var G = 0; G < K.ly.length; G++) {
          var C = K.ly[G]
            , N = C[0]
            , k = C[3][3][0]
            , V = E[N * 2]
            , j = E[N * 2 + 1]
            , a = E[k * 2]
            , e = E[k * 2 + 1]
            , L = V - a
            , g = j - e;
          i[N * 2] += -L;
          i[N * 2 + 1] += -g;
          i[k * 2] += L;
          i[k * 2 + 1] += g
      }
      for (var G = 0; G < E.length; G += 2) {
          var h = G >>> 1
            , o = K.QY[h]
            , C = o
            , H = !0;
          do {
              if (C[1] == null) {
                  H = !1;
                  break
              }
              C = C[1][3]
          } while (C != o);if (H) {
              var A = .02;
              E[G] += A * i[G];
              E[G + 1] += A * i[G + 1];
              I += A * (i[G] * i[G] + i[G + 1] * i[G + 1])
          }
      }
      return I
  }
  ;
  _.Ax.a45 = function(E, K, i) {
      var C = _.$.Rk(E)
        , N = _.Ax.Gr(E, K);
      _.Ax.m8(E, N);
      for (var k = 0; k < 300; k++) {
          var V = !1
            , j = !1;
          V = _.Ax.aj2(E, N, i, 5);
          if (V)
              j = _.Ax.m8(E, N);
          var a = _.Ax.a2a(E, N);
          if (!V && !j && a < 1e-4) {
              break
          }
      }
      return _.Ax.a4G(N)
  }
  ;
  _.ER = {};
  _.ER.W3 = function(E) {
      var K = E.e2, i = E.AF, C = E.Fm, N = E.AX, k = E.hm, V = E.XW, j = E.qZ, a = _.w3.mY, v, s, D = 0;
      function e(l) {
          var ax = new Array(l);
          for (var G = 0; G < l; G++)
              ax[G] = 0;
          return ax
      }
      var L = i.length >>> 1
        , g = e(K.DU * 2)
        , I = e(K.DU)
        , h = e(K.DU)
        , o = Date.now();
      for (var G = 0; G < E.tT.length; G++) {
          var H = K.ahN + G
            , A = K.jx * (V[G * 2] + j[G * 2])
            , S = K.jx * (V[G * 2 + 1] + j[G * 2 + 1]);
          g[H * 2] = A;
          g[H * 2 + 1] = S;
          I[H] = A;
          h[H] = S
      }
      K.a6u.qG(N, K.aks.mY(g), .01, v, s);
      for (var G = 0; G < K.a0v.ly.length; G++) {
          var F = K.a0v.ly[G]
            , y = F[3][3][0]
            , T = F[0]
            , Q = F[3][0]
            , B = F[1] ? F[1][3][0] : Q;
          if (F[1] && y > T)
              continue;
          var r = i[y * 2]
            , J = i[y * 2 + 1]
            , m = i[T * 2]
            , x = i[T * 2 + 1]
            , R = N[y * 2]
            , b = N[y * 2 + 1]
            , z = N[T * 2]
            , $ = N[T * 2 + 1]
            , P = N[Q * 2]
            , t = N[Q * 2 + 1]
            , X = N[B * 2]
            , Z = N[B * 2 + 1]
            , p = [R, b, z, $, P, t];
          if (F[1])
              p.push(X, Z);
          var f = a(K.ahP[D], p)
            , cY = f[0]
            , fC = f[1]
            , hi = 1 / Math.sqrt(cY * cY + fC * fC);
          cY *= hi;
          fC *= hi;
          var W = m - r
            , d = x - J;
          I[D] = cY * W + fC * d;
          h[D] = -fC * W + cY * d;
          D++
      }
      var fM = new Array(L)
        , n = new Array(L);
      for (var G = 0; G < L; G++) {
          fM[G] = k[G * 2];
          n[G] = k[G * 2 + 1]
      }
      K.adI.qG(fM, K.akH.mY(I), .5);
      K.adI.qG(n, K.akH.mY(h), .5);
      for (var G = 0; G < L; G++) {
          k[G * 2] = fM[G];
          k[G * 2 + 1] = n[G]
      }
  }
  ;
  _.ER.V5 = function(E) {
      var K = E.AF
        , i = E.Fm
        , C = E.tT
        , N = _.w3.multiply
        , k = Date.now()
        , V = _.Ax.Gr(K, i)
        , j = K.length >>> 1
        , a = 0
        , o = 0
        , fC = 1e3;
      for (var G = 0; G < V.ly.length; G++)
          a += V.ly[G][1] ? .5 : 1;
      var e = a + C.length
        , L = []
        , g = new _.Dr(e * 2,j * 2)
        , I = new _.Dr(e,j)
        , h = [[[-1, 0, 1, 0, 0, 0], [0, -1, 0, 1, 0, 0]], [[-1, 0, 1, 0, 0, 0, 0, 0], [0, -1, 0, 1, 0, 0, 0, 0]]]
        , H = []
        , A = [];
      for (var G = 0; G < V.ly.length; G++) {
          var S = V.ly[G]
            , v = S[3][3][0]
            , s = S[0]
            , D = S[3][0]
            , F = S[1] ? S[1][3][0] : D;
          if (S[1] && v > s)
              continue;
          var y = K[v * 2]
            , T = K[v * 2 + 1]
            , Q = K[s * 2]
            , B = K[s * 2 + 1]
            , r = K[D * 2]
            , J = K[D * 2 + 1]
            , m = K[F * 2]
            , x = K[F * 2 + 1]
            , R = [[y, T, 1, 0], [T, -y, 0, 1], [Q, B, 1, 0], [B, -Q, 0, 1], [r, J, 1, 0], [J, -r, 0, 1]];
          if (S[1])
              R.push([m, x, 1, 0], [x, -m, 0, 1]);
          var b = _.w3.C2(R)
            , z = N(linear.invert(N(b, R)), b);
          z.pop();
          z.pop();
          L.push(z);
          var $ = Q - y
            , P = B - T
            , t = h[S[1] ? 1 : 0];
          t = _.w3.g7(t, N([[$, P], [P, -$]], z));
          var X = [v * 2, v * 2 + 1, s * 2, s * 2 + 1, D * 2, D * 2 + 1, F * 2, F * 2 + 1]
            , Z = S[1] ? 8 : 6
            , p = [];
          for (var f = 0; f < Z; f++)
              p.push([X[f], t[0][f], t[1][f]]);
          p.sort(function(ax, d_) {
              return ax[0] - d_[0]
          });
          for (var cY = 0; cY < 2; cY++) {
              for (var f = 0; f < Z; f++) {
                  H[f] = p[f][0];
                  A[f] = p[f][1 + cY]
              }
              g.rx(A, H, Z)
          }
          if (v < s)
              I.rx([-1, 1], [v, s], 2);
          else
              I.rx([1, -1], [s, v], 2);
          o++
      }
      for (var G = 0; G < C.length; G++) {
          var hi = C[G];
          g.rx([fC], [hi * 2], 1);
          g.rx([fC], [hi * 2 + 1], 1);
          I.rx([fC], [hi], 1)
      }
      var W = g.C2()
        , d = W.dK(W)
        , fM = I.C2()
        , n = fM.dK(fM);
      return {
          ahN: a,
          DU: e,
          aks: W,
          a6u: d,
          akH: fM,
          adI: n,
          a0v: V,
          ahP: L,
          jx: fC
      }
  }
  ;
  _.ER.amN = function(E, K, i, C, N) {
      var k = new h4(0,0,K,i)
        , V = _.I(k.X());
      _.wF(E, V, 3);
      _.round(V, 70);
      var j = _.NM(V, k)
        , a = [.1, .065, .035][C] * Math.max(j.d, j.v)
        , e = N + 1
        , L = K + e * 2
        , g = i + e * 2
        , I = new h4(-e,-e,L,g)
        , h = _.I(I.X());
      _.ie(V, k, h, I);
      var o = h.slice(0);
      for (var H = 0; H < N; H++) {
          for (var A = 1; A < g - 1; A++) {
              for (var S = 1; S < L - 1; S++) {
                  var G = A * L + S;
                  o[G] = h[G - L] | h[G - 1] | h[G] | h[G + 1] | h[G + L]
              }
          }
          var v = o;
          o = h;
          h = v
      }
      var s = dV.Sb(h, L, g, Math.round(j.X() * 5e-4))
        , D = dV.LM(s)
        , F = new fn(1,0,0,1,-e,-e);
      for (var G = 0; G < D.length; G++) {
          var y = D[G];
          _.$.m(y.path.H, F, y.path.H);
          y.AF = _.ER.a7V(y.path);
          y.Fm = _.$.agz(y.AF);
          y.Fm = _.Ax.a45(y.AF, y.Fm, a)
      }
      return D
  }
  ;
  _.ER.a7V = function(E) {
      var K = []
        , i = E.H
        , C = E.Z.length - 1
        , N = 0
        , k = 0;
      for (var V = 0; V < C; V++) {
          var G = V * 6
            , j = i[G + 6] - i[G + 0]
            , a = i[G + 7] - i[G + 1]
            , e = Math.ceil(Math.sqrt(j * j + a * a));
          for (var L = 0; L < e; L++) {
              var g = L / e
                , I = 1 - g
                , h = I * I * I * i[G + 0] + 3 * I * I * g * i[G + 2] + 3 * I * g * g * i[G + 4] + g * g * g * i[G + 6]
                , o = I * I * I * i[G + 1] + 3 * I * I * g * i[G + 3] + 3 * I * g * g * i[G + 5] + g * g * g * i[G + 7];
              K.push(h, o);
              N = h;
              k = o
          }
      }
      K = _.$.aC(K, 1);
      var H = []
        , A = K.length;
      for (var G = 0; G < A; G += 2) {
          var o = K.pop()
            , h = K.pop();
          H.push(h, o)
      }
      return H
  }
  ;
  _.ER.a8N = function(E, K, i, C) {
      function N(Q, B, r, J, m) {
          var x = m[Q * 2] - m[B * 2]
            , R = m[Q * 2 + 1] - m[B * 2 + 1]
            , b = Math.sqrt(x * x + R * R);
          if (r[Q].indexOf(B) == -1) {
              r[Q].push(B);
              J[Q].push(b)
          }
          if (r[B].indexOf(Q) == -1) {
              r[B].push(Q);
              J[B].push(b)
          }
      }
      var k = E.length >>> 1
        , V = new Array(k);
      if (i.length == 0) {
          V.fill(0);
          return V
      }
      var j = new Array(k)
        , a = new Array(k);
      for (var G = 0; G < k; G++) {
          j[G] = [];
          a[G] = []
      }
      for (var G = 0; G < K.length; G += 3) {
          N(K[G], K[G + 1], j, a, E);
          N(K[G], K[G + 2], j, a, E);
          N(K[G + 1], K[G + 2], j, a, E)
      }
      var e = new Float64Array(k * 2)
        , L = new Uint32Array(k * 2);
      e.fill(1e9);
      var g = new Uint8Array(k);
      for (var I = 0; I < i.length; I++) {
          g.fill(0);
          var h = ["---", [0, i[I]]];
          while (h.length != 1) {
              var o = _.wb.acg(h)
                , H = o[0]
                , A = o[1];
              if (g[A] == 1)
                  continue;
              var S = A << 1;
              if (H < e[S]) {
                  e[S + 1] = e[S];
                  L[S + 1] = L[S];
                  e[S] = H;
                  L[S] = I
              } else if (H < e[S + 1]) {
                  e[S + 1] = H;
                  L[S + 1] = I
              }
              g[A] = 1;
              var v = j[A]
                , s = a[A];
              for (var G = 0; G < v.length; G++) {
                  var D = v[G];
                  if (g[D] != 1) {
                      _.wb.af7(h, [H + s[G], D])
                  }
              }
          }
      }
      for (var G = 0; G < k; G++) {
          var S = G << 1
            , F = e[S]
            , y = e[S + 1]
            , T = 1 / (F + y);
          V[G] = (1 - F * T) * C[L[S]] + (1 - y * T) * C[L[S + 1]]
      }
      return V
  }
  ;
  _.ER.a3G = function(E) {
      var K = {
          Z: [],
          H: []
      }
        , i = [E];
      while (i.length != 0) {
          var C = i.pop()
            , N = C.J8;
          if (C.a47 instanceof Array || C.a5X instanceof Array) {
              K.Z.push("M", "L", "L", "L", "Z");
              K.H.push(N[0], N[1], N[2], N[1], N[2], N[3], N[0], N[3])
          } else
              i.push(C.a47, C.a5X)
      }
      return K
  }
  ;
  _.ER.sX = function(E, K, i, C, N, k, V) {
      var j = i.d
        , a = i.v
        , e = Math.round(V.length / 3)
        , L = new Array(e);
      for (var G = 0; G < e; G++)
          L[G] = G;
      L.sort(function(I, h) {
          return k[V[I * 3]] - k[V[h * 3]]
      });
      for (var G = 0; G < e; G++) {
          var g = L[G] * 3;
          _.ER.a4s(V[g] * 2, V[g + 1] * 2, V[g + 2] * 2, C, N, E, K, j, a)
      }
  }
  ;
  _.ER.a4s = function(E, K, i, C, N, k, V, j, a) {
      var e = _.ER._Y
        , L = [E, K, i, 1.2, 1.2, 1.2, 0]
        , g = [0, 0, 0, 0]
        , I = N[E]
        , h = N[E + 1]
        , o = N[K]
        , H = N[K + 1]
        , A = N[i]
        , S = N[i + 1]
        , v = Math.max(0, Math.min(j - 1, C[E]))
        , s = Math.max(0, Math.min(j - 1, C[K]))
        , D = Math.max(0, Math.min(j - 1, C[i]))
        , F = Math.max(0, Math.min(a - 1, C[E + 1]))
        , y = Math.max(0, Math.min(a - 1, C[K + 1]))
        , T = Math.max(0, Math.min(a - 1, C[i + 1]))
        , Q = o - I
        , B = H - h
        , r = A - I
        , J = S - h
        , m = 1 / (Q * J - r * B + 1e-9)
        , x = Math.max(0, Math.floor(Math.min(I, o, A)))
        , R = Math.min(j, Math.ceil(Math.max(I, o, A)))
        , b = Math.max(0, Math.floor(Math.min(h, H, S)))
        , z = Math.min(a, Math.ceil(Math.max(h, H, S)));
      for (var $ = b; $ < z; $++)
          for (var P = x; P < R; P++) {
              var t = P + .5 - I
                , X = $ + .5 - h
                , Z = (t * J - r * X) * m
                , p = (Q * X - t * B) * m;
              if (Z >= 0 && p >= 0 && Z + p <= 1) {
                  var gl = 1 - Z - p
                    , f = v * gl + s * Z + D * p
                    , cY = F * gl + y * Z + T * p;
                  _.J.Zs(f, cY, k, j, a, g);
                  _.ER.aiI(g, V, $ * j + P << 2)
              }
          }
  }
  ;
  _.ER.aiI = function(E, K, i) {
      var C = K[i]
        , N = K[i + 1]
        , k = K[i + 2]
        , V = K[i + 3]
        , j = 1 - E[3] * (1 / 255);
      K[i] = ~~(.5 + E[0] + C * j);
      K[i + 1] = ~~(.5 + E[1] + N * j);
      K[i + 2] = ~~(.5 + E[2] + k * j);
      K[i + 3] = ~~(.5 + E[3] + V * j)
  }
  ;
  _.ER._Y = function() {
      var E = function(i, C, N, k) {
          var V = k[0]
            , j = k[1]
            , a = k[2]
            , e = i[V + 0]
            , L = i[V + 1]
            , g = i[j + 0]
            , I = i[j + 1]
            , h = i[a + 0]
            , o = i[a + 1]
            , H = g - e
            , A = I - L
            , S = h - e
            , v = o - L
            , s = C - e
            , D = N - L
            , F = H * v - S * A
            , y = 1 / (F + 1e-9)
            , T = (s * v - S * D) * y
            , Q = (H * D - s * A) * y;
          if (T >= 0 && Q >= 0 && T + Q <= 1) {
              k[3] = 1 - T - Q;
              k[4] = T;
              k[5] = Q;
              return 1
          }
          return 0
      }
        , K = function(i, C, N, k) {
          var V = [0, 0, 0, 0, 0, 0];
          for (var G = 0; G < C.length; G += 3) {
              V[0] = C[G] * 2;
              V[1] = C[G + 1] * 2;
              V[2] = C[G + 2] * 2;
              if (E(i, N, k, V) == 1)
                  return !0
          }
          return !1
      };
      return {
          agq: E,
          a3i: K
      }
  }();
  _.rr = {};
  _.rr.a2A = function(E, K, i) {
      var C = _.I(K * i * 4)
        , N = !1;
      _.J.v6(E, K, i, C, [i, K, 0, 1, 0, 1, 0, 0]);
      return [_.rr.ea(E, K, i, N), _.rr.ea(C, i, K, N)]
  }
  ;
  _.rr.m = function(E, K) {
      var i = !1
        , C = E[0]
        , N = E[1]
        , k = C[1]
        , V = C[2]
        , j = C[3]
        , a = K.d
        , e = K.v;
      if (V == a && j == e)
          k = k.slice(0);
      else if (j != e) {
          var L = _.I(V * e * 4);
          _.rr.nd(N, e, L, i);
          k = _.I(V * e * 4);
          _.J.v6(L, e, V, k, [V, e, 0, 1, 0, 1, 0, 0]);
          if (V != a) {
              C = _.rr.ea(k, V, e, i);
              k = _.I(a * e * 4);
              _.rr.nd(C, a, k, i)
          }
      } else if (V != a) {
          k = _.I(a * j * 4);
          _.rr.nd(C, a, k, i)
      }
      return k
  }
  ;
  _.rr.ea = function(E, K, i, C) {
      var N = Date.now()
        , k = new Uint16Array(K * i)
        , V = 1;
      _.rr.a27(E, K, i, k);
      var j = Math.ceil(K / V)
        , a = new Uint32Array(V)
        , e = new Uint32Array(V)
        , j = Math.floor(K / V);
      for (var L = 0; L < V; L++)
          e[L] = L < V - 1 ? j : K - (V - 1) * j;
      for (var g = 0; g < i; g++) {
          var G = g * K;
          for (var L = 0; L < V; L++) {
              var j = e[L];
              for (var I = 0; I < j; I++)
                  a[L] += k[G + I];
              G += j
          }
      }
      if (C) {
          console.log(Date.now() - N, "cost");
          N = Date.now()
      }
      var h = new Uint32Array(K)
        , o = new Uint32Array(K)
        , H = new Uint32Array(K * i);
      for (var I = 0; I < K; I++) {
          H[(i - 1) * K + I] = k[(i - 1) * K + I]
      }
      for (var g = i - 2; g >= 0; g--) {
          var A = g * K;
          for (var L = 0; L < V; L++) {
              var j = e[L];
              H[A] = k[A] + Math.min(H[A + K], H[A + K + 1]);
              for (var I = 1; I < j - 1; I++) {
                  var G = A + I;
                  H[G] = k[G] + Math.min(H[G + K - 1], Math.min(H[G + K], H[G + K + 1]))
              }
              A += j - 1;
              H[A] = k[A] + Math.min(H[A + K - 1], H[A + K]);
              A++
          }
      }
      if (C) {
          console.log(Date.now() - N, "Building M");
          N = Date.now()
      }
      function S(J, m) {
          return J < m ? J : m
      }
      function v(G, J) {
          var m = o[G]
            , x = H[J]
            , R = ~~(m * x * 1e-4);
          return R
      }
      var s = new Uint8Array(K * i)
        , D = new Uint32Array(K);
      for (var G = 0; G < K; G++) {
          h[G] = G;
          o[G] = k[G]
      }
      for (var g = 1; g < i; g++) {
          var F = 0
            , A = g * K;
          for (var L = 0; L < V; L++) {
              var j = e[L]
                , G = A;
              D[F] = v(F, G);
              var y = D[F] + v(F + 1, G + 1)
                , T = v(F, G + 1) + v(F + 1, G);
              D[F + 1] = S(y, T);
              for (var I = 2; I < j; I++) {
                  var G = A + I
                    , Q = D[F + I - 1] + v(F + I - 1, G - 1)
                    , B = D[F + I - 2] + v(F + I - 1, G - 2) + v(F + I - 2, G - 1);
                  D[F + I] = S(Q, B)
              }
              var I = j - 1;
              while (I >= 2) {
                  var G = A + I
                    , Q = D[F + I - 1] + v(F + I - 1, G - 1)
                    , B = D[F + I - 2] + v(F + I - 1, G - 2) + v(F + I - 2, G - 1);
                  if (D[F + I] == Q) {
                      s[G - K] = 1;
                      I -= 1
                  } else {
                      s[G - K] = 0;
                      s[G - K - 1] = 2;
                      I -= 2
                  }
              }
              var G = A;
              if (I == 0) {
                  s[G - K] = 1
              } else {
                  if (D[F + 1] == y) {
                      s[G + 1 - K] = 1;
                      s[G - K] = 1
                  } else {
                      s[G + 1 - K] = 0;
                      s[G - K] = 2
                  }
              }
              A += j;
              F += j
          }
          _.rr.amZ(g, K, s, k, h, o, !0, N)
      }
      if (C) {
          console.log(Date.now() - N, "Matching");
          N = Date.now()
      }
      var r = k;
      return [UZIP.adler(E, 0, E.length), E, K, i, V, e, a, h, o, s, r]
  }
  ;
  _.rr.nd = function(E, K, i, C) {
      var N = E.slice(0)
        , k = N.shift()
        , V = N.shift()
        , j = N.shift()
        , a = N.shift()
        , e = N.shift()
        , L = N.shift()
        , g = N.shift()
        , I = N.shift()
        , h = N.shift().slice(0)
        , o = N.shift()
        , H = N.shift()
        , A = Date.now()
        , S = Math.abs(j - K)
        , v = Math.floor(S / e)
        , s = new Uint32Array(e)
        , F = 0
        , y = 1e9
        , Q = 0
        , B = 0
        , r = 0;
      for (var D = 0; D < e; D++)
          s[D] = D < e - 1 ? v : S - (e - 1) * v;
      H.fill(0);
      for (var T = 0; T < j; T++) {
          F = Math.max(F, h[T]);
          y = Math.min(y, h[T])
      }
      for (var D = 0; D < e; D++) {
          var J = L[D]
            , v = s[D];
          for (var m = 0; m < v; m++) {
              var x = 0
                , R = 1e9;
              for (var T = 0; T < J; T++)
                  if (h[B + T] < R) {
                      R = h[B + T];
                      x = B + T
                  }
              if (K < j)
                  h[x] = 1e9;
              else
                  h[x] *= 1.2;
              if (r < j / 3)
                  Q += R;
              var b = I[x]
                , z = H[b]
                , $ = z < 65280 ? 65280 : z + 1;
              if ($ < 65280)
                  throw "e";
              for (var P = 0; P < a; P++) {
                  var G = P * j + b;
                  H[G] = $;
                  b += o[G] - 1
              }
              r++
          }
          B += J
      }
      if (C) {
          console.log(Date.now() - A, "Removing best seams");
          A = Date.now()
      }
      function t(G, Z) {
          var p = G << 2
            , gl = Z << 2;
          i[p] = V[gl];
          i[p + 1] = V[gl + 1];
          i[p + 2] = V[gl + 2];
          i[p + 3] = V[gl + 3]
      }
      for (var P = 0; P < a; P++) {
          var X = 0
            , G = P * j;
          for (var T = 0; T < K; T++,
          X++) {
              if (K < j) {
                  while (H[G + X] == 65280)
                      X++;
                  t(P * K + T, P * j + X)
              } else {
                  t(P * K + T, P * j + X);
                  while (H[G + X] >= 65280) {
                      H[G + X]--;
                      T++;
                      t(P * K + T, P * j + X)
                  }
              }
          }
      }
      if (C) {
          console.log(Date.now() - A, "Shifting image pixels");
          A = Date.now()
      }
  }
  ;
  _.rr.amZ = function(E, K, i, C, N, k) {
      var V = 0
        , G = E * K;
      while (V < K) {
          if (i[G - K] == 1) {
              k[V] = k[V] + C[G];
              V++;
              G++
          } else {
              var j = N[V];
              N[V] = N[V + 1];
              N[V + 1] = j;
              var a = k[V];
              k[V] = k[V + 1] + C[G];
              k[V + 1] = a + C[G + 1];
              V += 2;
              G += 2
          }
      }
  }
  ;
  _.rr.a27 = function(E, K, i, C) {
      function N(E, G, a) {
          var g = G << 2
            , I = a << 2
            , h = E[g] - E[I]
            , o = E[g + 1] - E[I + 1]
            , H = E[g + 2] - E[I + 2];
          return Math.abs(h) + Math.abs(o) + Math.abs(H)
      }
      for (var k = 1; k < K; k++) {
          var V = N(E, k, k - 1);
          C[k - 1] += V;
          C[k] += V
      }
      for (var j = 1; j < i; j++) {
          var a = j * K
            , V = N(E, a, a - K);
          C[a] += V;
          C[a - K] += V;
          for (var k = 1; k < K; k++) {
              var G = j * K + k
                , e = N(E, G, G - 1)
                , L = N(E, G, G - K);
              C[G - K] += L;
              C[G - 1] += e;
              C[G] += L + e
          }
      }
      for (var j = 0; j < i; j++) {
          C[j * K] *= 2;
          C[j * K + K - 1] *= 2
      }
      for (var G = 0; G < C.length; G++)
          if (C[G] == 0)
              C[G] = 1
  }
  ;
  _.G4 = function() {
      var E = 0
        , K = 0
        , C = 15
        , k = 256;
      function i(L, g, I, h, o, H) {
          var A = (o - 1) * g
            , S = H * g;
          return L[S + h] - L[S + I - 1] - L[A + h] + L[A + I - 1]
      }
      var N = Math.round(C / 8)
        , V = [];
      function j(L, g) {
          for (var I = 0; I < g.length; I++) {
              var h = g[I]
                , o = 0
                , H = 0
                , A = L[h.cf]
                , S = A.oe
                , v = A.jx
                , s = A.w1;
              for (var D = -C; D <= C; D++)
                  for (var F = -C; F <= C; F++) {
                      var y = F + h.a3F
                        , T = D + h.adm;
                      if (F * F + D * D > C * C || y < 0 || T < 0 || y >= v || T >= v)
                          continue;
                      var Q = S[T * v + y];
                      o += F * Q;
                      H += D * Q
                  }
              h.Rz = Math.atan2(H, o)
          }
      }
      function a(L, g, I, h, o) {
          var H = ~~(L + .5)
            , A = ~~(g + .5);
          return i(I, h, H - N, H + N, A - N, A + N)
      }
      function e(L, g, I, h, o) {
          E = h;
          K = o;
          if (V.length == 0) {
              var H = new _.p.y$(16200817)
                , s = 8
                , D = 0;
              function A(fM) {
                  var r = fM[0] - fM[2]
                    , J = fM[1] - fM[3];
                  return r * r + J * J
              }
              function S() {
                  var fM = 0
                    , n = 0;
                  while (fM === 0)
                      fM = H.get();
                  while (n === 0)
                      n = H.get();
                  return Math.sqrt(-2 * Math.log(fM)) * Math.cos(2 * Math.PI * n)
              }
              var v = S
                , F = [];
              while (D != k) {
                  var y = Math.max(-C, Math.min(C, v() * s))
                    , T = Math.max(-C, Math.min(C, v() * s))
                    , Q = Math.max(-C, Math.min(C, v() * s))
                    , B = Math.max(-C, Math.min(C, v() * s))
                    , r = y - Q
                    , J = T - B
                    , m = Math.sqrt(r * r + J * J);
                  if (m < 3 || m > 12)
                      continue;
                  V.push(y, T, Q, B);
                  D++
              }
          }
          var x = 20;
          for (var R = 0; R < g.length; R++) {
              var b = g[R]
                , z = L[b.cf]
                , $ = z.Jf
                , I = z.oe
                , h = z.jx
                , o = z.w1
                , P = b.a3F
                , t = b.adm
                , X = b.Rz
                , Z = Math.cos(X)
                , p = Math.sin(X)
                , gl = new Uint8Array(k >>> 3);
              b.v4 = gl;
              for (var G = 0; G < k; G++) {
                  var f = G * 4
                    , y = V[f + 0]
                    , T = V[f + 1]
                    , Q = V[f + 2]
                    , B = V[f + 3]
                    , cY = Z * y - p * T
                    , fC = p * y + Z * T
                    , hi = Z * Q - p * B
                    , es = p * Q + Z * B
                    , W = a(P + cY, t + fC, $, h, o)
                    , d = a(P + hi, t + es, $, h, o);
                  gl[G >>> 3] |= (W < d ? 0 : 1) << (G & 7)
              }
          }
      }
      return {
          aeF: j,
          akW: e
      }
  }();
  _.a1W = function() {
      var E = 0
        , K = 0;
      function i(k, V, j, a, e, L) {
          var g = (e - 1) * V
            , I = L * V;
          return k[I + a] - k[I + j - 1] - k[g + a] + k[g + j - 1]
      }
      function C(k, V, j) {
          var a = new Uint32Array(V * j);
          a[0] = k[0];
          for (var e = 1; e < V; e++)
              a[e] = a[e - 1] + k[e];
          for (var L = 1; L < j; L++) {
              var G = L * V;
              a[G] = a[G - V] + k[G];
              for (var e = 1; e < V; e++)
                  a[G + e] = k[G + e] + a[G + e - 1] + a[G + e - V] - a[G + e - V - 1]
          }
          return a
      }
      function N(k, V) {
          var j = [[9]]
            , a = Date.now()
            , e = [];
          for (var L = 0; L < k.length; L++) {
              var g = k[L]
                , I = g.Jf
                , h = E = g.jx
                , o = K = g.w1
                , S = 9
                , T = 1
                , t = 24;
              if (I == null)
                  continue;
              var H = new Float32Array(h * o)
                , A = new Uint8Array(h * o)
                , v = S >>> 1
                , s = v >>> 1
                , D = Math.round(S / 3);
              if (D != S / 3)
                  throw "e";
              var F = 1 / (S * S)
                , y = 1.2 * (S / 9);
              for (var Q = v + 1; Q < o - v; Q += T)
                  for (var B = v + 1; B < h - v; B += T) {
                      var r = i(I, h, B - s, B + s, Q - v, Q + v) - 3 * i(I, h, B - s, B + s, Q - v + D, Q + v - D)
                        , J = i(I, h, B - v, B + v, Q - s, Q + s) - 3 * i(I, h, B - v + D, B + v - D, Q - s, Q + s)
                        , m = B - v + 1
                        , x = B + v - 1
                        , R = Q - v + 1
                        , b = Q + v - 1
                        , z = i(I, h, m, B - 1, R, Q - 1) + i(I, h, B + 1, x, Q + 1, b) - i(I, h, B + 1, x, R, Q - 1) - i(I, h, m, B - 1, Q + 1, b)
                        , $ = (J * r - .9 * z * (.9 * z)) * (F * F);
                      H[Q * h + B] = Math.abs($);
                      A[Q * h + B] = $ < 0 ? 0 : 1
                  }
              var P = h * T;
              for (var Q = t; Q < o - t; Q += T)
                  for (var B = t; B < h - t; B += T) {
                      var G = Q * h + B
                        , X = H[G];
                      if (X < 16)
                          continue;
                      if (H[G - T] >= X || H[G + T] >= X)
                          continue;
                      if (H[G - P - T] >= X || H[G - P] >= X || H[G - P + T] >= X)
                          continue;
                      if (H[G + P - T] >= X || H[G + P] >= X || H[G + P + T] >= X)
                          continue;
                      e.push({
                          x: ~~(B * g.V7 + .5),
                          y: ~~(Q * g.V7 + .5),
                          a3F: B,
                          adm: Q,
                          cf: L,
                          G: X,
                          a8Y: A[G],
                          Us: y
                      })
                  }
          }
          if (V != null) {
              e.sort(function(es, W) {
                  return W.G - es.G
              });
              e = e.slice(0, V)
          }
          return e;
          var Z = [];
          for (var G = 0; G < e.length; G++) {
              var p = !0
                , gl = e[G];
              for (var f = 0; f < e.length; f++) {
                  var cY = e[f];
                  if (f != G && cY.G > gl.G && (cY.cf == gl.cf + 1 || cY.cf == gl.cf - 1)) {
                      var fC = gl.x - cY.x
                        , hi = gl.y - cY.y;
                      if (fC * fC + hi * hi < 5) {
                          p = !1;
                          break
                      }
                  }
              }
              if (p)
                  Z.push(gl)
          }
          console.log(e.length, Z.length);
          return Z
      }
      return {
          abX: N
      }
  }();
  _.ub = {};
  _.ub.a66 = function(E) {
      var K = E.length
        , i = _.ub.nC(E, !1)
        , N = 0
        , k = 1;
      throw "e";
      var C = [];
      for (var G = 0; G < K; G++)
          C[G] = _.ub.iu(i[G]);
      var V = E[0][1]
        , j = _.ub.match(i[N], i[k], C[k]);
      console.log(j.length);
      var a = Math.max(Math.min(j.length, 40), j.length * .54);
      a = Math.min(a, 200);
      var e = j.slice(0, a)
        , L = _.qH.adA(i[N], i[k], e, V.d, V.v)
        , g = _.qH.a3x(L, [0, 0, 0], 1)
        , I = V.d / 2
        , h = V.v / 2
        , o = 1 / Math.max(I, h);
      for (var G = 0; G < 1; G++) {
          var H = e[G]
            , A = i[N][H[0]]
            , S = i[k][H[1]]
            , v = _.qH.ac7(g, o * (A.x - I), o * (A.y - h), o * (S.x - I), o * (S.y - h))
      }
      var s = _.qH.a4C(L, V)
        , D = [];
      for (var G = 0; G < 2; G++) {
          var F = s[G]
            , y = [F[0][0], F[0][1], F[0][2], F[1][0], F[1][1], F[1][2], F[2][0], F[2][1]]
            , T = u._.rQ(E[G], null, y);
          D.push([T.buffer, T.rect])
      }
      return [_.ub.ajI(D[0], D[1], i[N], i[k], e, L, s, V)]
  }
  ;
  _.ub.Ra = function(E, K) {
      var i = E.length
        , C = !1
        , N = Date.now()
        , k = _.ub.nC(E, !1, 1e4);
      if (C)
          console.log("Descriptors ready", Date.now() - N);
      N = Date.now();
      for (var G = 0; G < i; G++) {
          var V = E[G][1];
          for (var j = 0; j < k[G].length; j++) {
              k[G][j].x += V.x;
              k[G][j].y += V.y
          }
      }
      if (C)
          console.log("shifted", Date.now() - N);
      N = Date.now();
      var a = [];
      for (var G = 0; G < i; G++)
          a[G] = _.ub.iu(k[G]);
      if (C)
          console.log("trees built", Date.now() - N);
      N = Date.now();
      var e = [];
      for (var G = 0; G < i - 1; G++)
          for (var j = G + 1; j < i; j++) {
              var L = _.ub.match(k[G], k[j], a[j]);
              if (C)
                  console.log("Matches found", G, j, L.length);
              L = L.slice(0, L.length >>> 1);
              if (L.length < 10)
                  return null;
              var g = _.ub.aft(k[G], k[j], L, 2);
              e.push([G, j, L, g])
          }
      e.sort(function(B, r) {
          return r[2].length - B[2].length
      });
      if (C)
          console.log("Matches found", Date.now() - N);
      N = Date.now();
      var I = []
        , h = new UnionFind(i);
      for (var G = 0; G < e.length; G++) {
          var o = e[G]
            , H = h.find(o[0])
            , A = h.find(o[1]);
          if (H != A) {
              I.push(o);
              h.link(H, A)
          }
      }
      var S = [];
      for (var G = 0; G < i; G++)
          S[G] = [1, 0, 0, 0, 1, 0, 0, 0];
      var v = [0]
        , s = new Uint8Array(i);
      s[v[0]] = 1;
      while (v.length != 0) {
          var A = v.pop()
            , g = S[A]
            , D = [];
          for (var G = 0; G < I.length; G++) {
              var o = I[G]
                , F = o[0]
                , y = o[1];
              if (F == A && s[y] == 0) {
                  S[y] = _.J.M8(g, o[3]);
                  v.push(y);
                  s[y] = 1
              }
              if (y == A && s[F] == 0) {
                  S[F] = _.J.M8(g, _.J.KP(o[3]));
                  v.push(F);
                  s[F] = 1
              }
          }
      }
      if (K == null) {
          var T = [];
          for (var G = 0; G < i; G++)
              T.push([S[G][2], G]);
          T.sort(function(B, r) {
              return B[0] - r[0]
          });
          K = T[T.length >>> 1][1]
      }
      var Q = _.J.KP(S[K]);
      for (var G = 0; G < i; G++)
          S[G] = _.J.M8(S[G], Q);
      if (C)
          console.log("Transforms reordered", Date.now() - N);
      N = Date.now();
      return S
  }
  ;
  _.ub.nC = function(E, K, i) {
      var C = []
        , N = !1;
      for (var G = 0; G < E.length; G++) {
          var k = E[G][0]
            , V = E[G][1]
            , j = V.d
            , a = V.v
            , e = _.I(V.X());
          _.YU(k, e);
          var L = Date.now()
            , g = _.ub.ama(e, V, !0);
          if (N)
              console.log("Pyramid built ---------------", Date.now() - L);
          L = Date.now();
          var I = _.a1W.abX(g, i);
          if (N)
              console.log("SURF Generation", Date.now() - L);
          L = Date.now();
          if (!K) {
              _.G4.aeF(g, I);
              if (N)
                  console.log("ORB Orientations", Date.now() - L);
              L = Date.now();
              _.G4.akW(g, I, e, j, a);
              if (N)
                  console.log("ORB Descriptors", Date.now() - L);
              L = Date.now()
          }
          C.push(I)
      }
      return C
  }
  ;
  _.ub.ama = function(E, K, i) {
      function C(e, g, I) {
          var o = new Uint32Array(g * I);
          o[0] = e[0];
          for (var H = 1; H < g; H++)
              o[H] = o[H - 1] + e[H];
          for (var A = 1; A < I; A++) {
              var G = A * g;
              o[G] = o[G - g] + e[G];
              for (var H = 1; H < g; H++)
                  o[G + H] = e[G + H] + o[G + H - 1] + o[G + H - g] - o[G + H - g - 1]
          }
          return o
      }
      var N = []
        , k = [E, K];
      _.L$(k);
      if (i) {
          var V = _.dh(E, K)
            , j = V.rect
            , a = [V.OR, j];
          _.L$(a)
      }
      for (var G = 0; G < k.length; G++) {
          var e = k[2 * G]
            , L = k[2 * G + 1]
            , g = L.d
            , I = L.v
            , h = Math.min(g, I);
          if (h < 30)
              break;
          if (h < 1600)
              N.push({
                  oe: e,
                  jx: g,
                  w1: I,
                  V7: 1 << G,
                  Jf: C(e, g, I)
              });
          if (!i)
              continue;
          var e = a[2 * G]
            , L = a[2 * G + 1]
            , g = L.d
            , I = L.v
            , h = Math.min(g, I);
          if (h < 30)
              break;
          if (h < 1600)
              N.push({
                  oe: e,
                  jx: g,
                  w1: I,
                  V7: (1 << G) * 3 / 2,
                  Jf: C(e, g, I)
              })
      }
      return N
  }
  ;
  _.ub.aft = function(E, K, i, C) {
      var N = Date.now(), k, V = 0, j = 0, a = i.length, e = new Float64Array(2);
      for (var L = 0; L < 3e3; L++) {
          var g = ~~(Math.random() * a)
            , I = ~~(Math.random() * a)
            , h = ~~(Math.random() * a)
            , o = ~~(Math.random() * a)
            , R = 0
            , b = 0;
          if (g == I || g == h || g == o || I == h || I == o || h == o)
              continue;
          var H = i[g]
            , A = i[I]
            , S = i[h]
            , v = i[o]
            , s = E[H[0]]
            , D = K[H[1]]
            , F = E[A[0]]
            , y = K[A[1]]
            , T = E[S[0]]
            , Q = K[S[1]]
            , B = E[v[0]]
            , r = K[v[1]]
            , J = [s.x, s.y, F.x, F.y, T.x, T.y, B.x, B.y]
            , m = [D.x, D.y, y.x, y.y, Q.x, Q.y, r.x, r.y]
            , x = _.J.u2(J, m);
          if (x[0] == 0 && x[1] == 0 && x[3] == 0 && x[4] == 0)
              continue;
          var z = a - V + 2;
          for (var G = 0; G < a && G - R < z; G++) {
              var $ = E[i[G][0]]
                , P = K[i[G][1]];
              _.J.xw(P.x, P.y, x, e);
              var t = e[0] - $.x
                , X = e[1] - $.y
                , Z = t * t + X * X;
              if (Z < C) {
                  R++;
                  b += Z
              }
          }
          if (R > V || R == V && b < j) {
              k = x;
              V = R;
              j = b
          }
      }
      return k
  }
  ;
  var eX = new Uint8Array(256);
  for (var G = 0; G < 256; G++) {
      var cd = 0
        , l = G;
      while (l != 0) {
          l = l & l - 1;
          cd++
      }
      eX[G] = cd
  }
  _.ub.abQ = function(E, K, i) {
      var C = 0
        , N = E.length;
      for (var G = 0; G < N && C < i; G++)
          C += eX[E[G] ^ K[G]];
      return C
  }
  ;
  _.ub.a9Z = function(E, K, i, top, C) {
      if (C[i] == 1)
          return;
      var N = _.ub.abQ(E.v4, K.v4, top[0]);
      if (N < top[0]) {
          if (N < top[2]) {
              top[0] = top[2];
              top[1] = top[3];
              top[2] = N;
              top[3] = i
          } else {
              top[0] = N;
              top[1] = i
          }
      }
      C[i] = 1
  }
  ;
  _.ub.iu = function(E) {
      var K = []
        , i = []
        , C = [[], []]
        , N = 4;
      for (var G = 0; G < E.length; G++)
          (E[G].a8Y == 0 ? K : i).push(G);
      for (var k = 0; k < 2; k++) {
          var V = new Array(N)
            , j = []
            , a = k == 0 ? K : i
            , e = a.length / 256
            , L = [];
          for (var g = 0; g < 32; g++) {
              var I = new Array(256)
                , H = 0;
              for (var h = 0; h < 256; h++)
                  I[h] = [];
              for (var h = 0; h < a.length; h++) {
                  var o = a[h];
                  I[E[o].v4[g]].push(o)
              }
              for (var h = 0; h < 256; h++)
                  H += Math.abs(I[h].length - e);
              L.push([H, g, I])
          }
          L.sort(function(A, S) {
              return A[0] - S[0]
          });
          var j = []
            , V = [];
          C[k] = [j, V];
          for (var G = 0; G < N; G++) {
              j.push(L[G][1]);
              V.push(L[G][2])
          }
      }
      return C
  }
  ;
  _.ub.match = function(E, K, i) {
      var C = []
        , N = new Uint16Array(K.length);
      N.fill(65535);
      var k = new Uint8Array(K.length)
        , top = new Uint32Array(4)
        , V = [];
      for (var j = 0; j < E.length; j++) {
          var a = E[j]
            , e = a.v4;
          top.fill(1e6);
          k.fill(0);
          var L = i[a.a8Y];
          for (var g = 0; g < L[1].length; g++) {
              var I = L[1][g][e[L[0][g]]];
              for (var h = 0; h < I.length; h++) {
                  var o = I[h];
                  _.ub.a9Z(a, K[o], o, top, k)
              }
          }
          if (top[2] < 50 && top[2] < top[0] * .5) {
              var H = N[top[3]];
              if (H == 65535) {
                  N[top[3]] = C.length;
                  C.push([j, top[3], top[2]])
              } else if (top[2] < C[H][2]) {
                  C[H] = [j, top[3], top[2]]
              }
          }
      }
      C.sort(function(A, S) {
          return A[2] - S[2]
      });
      return C
  }
  ;
  _.ub.aeA = function(E) {
      var K = new h4;
      for (var G = 0; G < E.length; G++)
          K = K.ip(E[G][1]);
      var i = _.I(K.X() * 4);
      for (var G = 0; G < E.length; G++)
          _.p.JA("norm", E[G][0], E[G][1], i, K, K, 1);
      return [i, K]
  }
  ;
  _.ub.ajI = function(E, K, i, C, N, k, V, j) {
      var a = E[1].clone()
        , e = a.clone();
      a.x = a.y = 0;
      var L = K[1].clone()
        , g = L.clone();
      L.x = L.y = 0;
      L.x = a.d;
      var I = a.ip(L)
        , h = g.y - e.y
        , o = _.I(I.X() * 4);
      _.p8(E[0], a, o, I);
      _.p8(K[0], new h4(L.x,L.y + h,L.d,L.v), o, I);
      var H = document.createElement("canvas");
      H.width = I.d;
      H.height = I.v;
      var A = H.getContext("2d");
      A.lineWidth = .5;
      A.putImageData(new ImageData(new Uint8ClampedArray(o.buffer),I.d,I.v), 0, 0);
      if (k) {
          var S = k[0]
            , v = _.w3.C2(S)
            , s = a.d
            , D = j.d;
          for (var G = 0; G < N.length; G++) {
              var F = N[G]
                , E = i[F[0]]
                , K = C[F[1]];
              A.strokeStyle = "#" + "ff0000";
              A.beginPath();
              var y = _.qH.afJ(v, V[0], K, 0, D)
                , T = _.qH.afJ(S, V[1], E, 0, D);
              A.moveTo(-e.x + y[0], -e.y + y[1]);
              A.lineTo(-e.x + y[2], -e.y + y[3]);
              A.moveTo(s - g.x + T[0], -g.y + h + T[1]);
              A.lineTo(s - g.x + T[2], -g.y + h + T[3]);
              A.stroke()
          }
      }
      if (N) {
          var Q = N.length;
          for (var G = 0; G < Q; G++) {
              var F = N[G]
                , E = i[F[0]]
                , K = C[F[1]];
              A.strokeStyle = "#" + "ffff00"
          }
      }
      var B = new Uint8Array(A.getImageData(0, 0, I.d, I.v).data.buffer);
      if (!1) {
          for (var m = 0; m < 2; m++) {
              var x = m == 0 ? i : C
                , R = m * a.d;
              for (var G = 0; G < x.length; G++) {
                  var b = x[G]
                    , z = ~~b.x
                    , $ = ~~b.y
                    , P = ($ * I.d + z + R) * 4;
                  B[P + 1] = B[P + 2] = b.a3p * 60;
                  B[P + 0] = 0;
                  B[P + 3] = 255
              }
          }
      }
      return [B, I]
  }
  ;
  _.stack = {};
  _.stack.stack = function(E, K, i) {
      var C = E.length
        , N = K.length;
      if (C == 1) {
          K.set(E[0]);
          return
      }
      if (i == "avrg" || i == "stdv" || i == "summ" || i == "vari") {
          var k = 1 / C;
          for (var G = 0; G < N; G++) {
              var V = 0;
              for (var j = 0; j < C; j++)
                  V += E[j][G];
              var a = ~~(V * k + .5);
              if (i == "avrg" || (G & 3) == 3)
                  K[G] = a;
              else if (i == "summ")
                  K[G] = 255 * Math.pow(Math.min(255, V) * (1 / 255), 1 / 2.4);
              else {
                  var e = 0;
                  for (var j = 0; j < C; j++) {
                      var L = E[j][G] - a;
                      e += L * L
                  }
                  var g = Math.sqrt(e * k) * (1 / 255);
                  if (i == "stdv")
                      K[G] = 255 * Math.pow(g, 1 / 2.4);
                  else
                      K[G] = 255 * Math.pow(g * g, 1 / 2.4)
              }
          }
      } else if (i == "maxx") {
          for (var G = 0; G < N; G++) {
              var I = 0;
              for (var j = 0; j < C; j++)
                  I = Math.max(I, E[j][G]);
              K[G] = I
          }
      } else if (i == "minn") {
          for (var G = 0; G < N; G++) {
              var I = 255;
              for (var j = 0; j < C; j++)
                  I = Math.min(I, E[j][G]);
              K[G] = I
          }
      } else if (i == "medn" || i == "rang") {
          var h = function(S, v) {
              return S - v
          }
            , o = new Array(C)
            , H = 0
            , A = 0;
          if (C % 1 == 0) {
              A = C >>> 1;
              H = A - 1
          } else {
              H = A = C >>> 1
          }
          for (var G = 0; G < N; G++) {
              for (var j = 0; j < C; j++)
                  o[j] = E[j][G];
              o.sort(h);
              if (i == "medn")
                  K[G] = o[H] + o[A] >>> 1;
              else
                  K[G] = (G & 3) == 3 ? o[C - 1] : o[C - 1] - o[0]
          }
      } else
          console.log(i)
  }
  ;
  _.Ky = {};
  _.Ky.amA = function(E, K, i, C, N) {
      var k = _.Ky._T(E.buffer, K, i).o_
        , V = Date.now()
        , j = new Uint32Array(k.length);
      for (var G = 0; G < k.length; G++)
          j[G] = k[G].x9;
      var a = UPNG.quantize.getKDtree(new Uint8Array(j.buffer), C)
        , e = [K, 1, -K, -1, K + 1, -K + 1, -K - 1, K - 1, K + K, 2, -K - K, -2, K + K - 1, K + K + 1, K + 2, -K + 2, -K - K + 1, -K - K - 1, -K - 2, K - 2, K + K + 2, -K - K + 2 - K - K - 2, K + K - 2]
        , L = new Uint8Array(K * i)
        , g = E;
      for (var I = 0; I < i; I++)
          for (var h = 0; h < K; h++) {
              var G = I * K + h << 2
                , o = g[G] * (1 / 255)
                , H = g[G + 1] * (1 / 255)
                , A = g[G + 2] * (1 / 255)
                , S = g[G + 3] * (1 / 255)
                , v = _.Ky.Xb(a, o, H, A, S, N);
              if (v == null) {
                  var s = []
                    , D = 0;
                  while (D < 20) {
                      var F = I * K + h + e[D] << 2
                        , y = g[F] * (1 / 255)
                        , T = g[F + 1] * (1 / 255)
                        , Q = g[F + 2] * (1 / 255)
                        , B = g[F + 3] * (1 / 255)
                        , r = _.Ky.Xb(a, y, T, Q, B, .005);
                      if (r != null) {
                          if (s.indexOf(r) == -1) {
                              s.push(r);
                              r.m1 = 1
                          } else
                              r.m1++
                      }
                      D++
                  }
                  s.sort(function(S, A) {
                      return A.m1 - S.m1
                  });
                  while (s.length != 0 && s[s.length - 1].m1 < 3)
                      s.pop();
                  if (s.length == 0)
                      v = _.Ky.Xb(a, o, H, A, S, 100);
                  else if (s.length == 1)
                      v = s[0];
                  else if (s.length == 2) {
                      var J = s[0]
                        , m = s[1]
                        , x = J.est.q
                        , R = m.est.q
                        , b = R[0] - x[0]
                        , z = R[1] - x[1]
                        , $ = R[2] - x[2]
                        , P = R[3] - x[3]
                        , t = o - x[0]
                        , X = H - x[1]
                        , Z = A - x[2]
                        , p = S - x[3]
                        , gl = b * b + z * z + $ * $ + P * P
                        , f = t * t + X * X + Z * Z + p * p
                        , cY = (t * b + X * z + Z * $ + p * P) / gl
                        , fC = f - cY * cY * gl;
                      if (fC < .5)
                          v = cY < .5 ? J : m;
                      else {
                          v = _.Ky.Xb(a, o, H, A, S, 100)
                      }
                  } else {
                      var J = s[0]
                        , m = s[1]
                        , hi = s[2]
                        , x = J.est.q
                        , R = m.est.q
                        , es = hi.est.q
                        , W = x[0] - es[0]
                        , d = x[1] - es[1]
                        , fM = x[2] - es[2]
                        , n = x[3] - es[3]
                        , ax = R[0] - es[0]
                        , d_ = R[1] - es[1]
                        , cm = R[2] - es[2]
                        , c4 = R[3] - es[3]
                        , ch = es[0] - o
                        , hQ = es[1] - H
                        , em = es[2] - A
                        , ag = es[3] - S
                        , am = W * W + d * d + fM * fM + n * n
                        , bK = W * ax + d * d_ + fM * cm + n * c4
                        , ei = ch * W + hQ * d + em * fM + ag * n
                        , dL = W * ax + d * d_ + fM * cm + n * c4
                        , fh = ax * ax + d_ * d_ + cm * cm + c4 * c4
                        , eu = ch * ax + hQ * d_ + em * cm + ag * c4
                        , hf = 1 / (bK * dL - am * fh)
                        , cY = (fh * ei - eu * bK) * hf
                        , iS = (eu * am - ei * dL) * hf
                        , aI = 1 - cY - iS
                        , gn = Math.max(cY, iS, aI);
                      if (gn == cY)
                          v = J;
                      else if (gn == iS)
                          v = m;
                      else
                          v = hi
                  }
              }
              L[G >> 2] = v.ind
          }
      return {
          Fm: L,
          o_: a[1]
      }
  }
  ;
  _.Ky._T = function(E, K, i) {
      var C = []
        , N = {}
        , k = K - 1
        , V = i - 1
        , j = 0
        , a = new Uint32Array(E)
        , e = [-K - 1, -K, -K + 1, -1, 1, K - 1, K, K + 1, K + K, 2, -K - K, -2, K + K - 1, K + K + 1, K + 2, -K + 2, -K - K + 1, -K - K - 1, -K - 2, K - 2, K + K + 2, -K - K + 2 - K - K - 2, K + K - 2];
      for (var L = 1; L < V; L++)
          for (var g = 1; g < k; g++) {
              var I = L * K + g
                , h = a[I]
                , o = !0;
              for (var G = 0; G < 8; G++)
                  o = o && a[I + e[G]] == h;
              if (o) {
                  j++;
                  var H = N[h];
                  if (H == null) {
                      N[h] = C.length;
                      C.push({
                          x9: h,
                          FE: 1
                      })
                  } else
                      C[H].FE++
              }
          }
      return {
          o_: C,
          aja: j
      }
  }
  ;
  _.Ky.Xb = function(E, K, i, C, N, k) {
      var V = UPNG.quantize.getNearest(E[0], K, i, C, N);
      return _.Ky.ams(V, K, i, C, N) < k ? V : null
  }
  ;
  _.Ky.ams = function(E, K, i, C, N) {
      var k = E.est.q
        , V = K - k[0]
        , j = i - k[1]
        , a = C - k[2]
        , e = N - k[3];
      return V * V + j * j + a * a + e * e
  }
  ;
  _.Ky.a0f = function(E, K, i, C) {
      var N = _.Ky.a49(E, K, i, C)
        , k = N.Fm
        , V = N.o_
        , j = N.a2S
        , a = UPNG.quantize.getKDtree(new Uint8Array(j.buffer.slice(0)), 200)
        , e = [];
      for (var G = 0; G < V.length; G++) {
          var L = V[G].VB
            , g = L[0]
            , I = L[1]
            , h = L[2]
            , o = L[3];
          if (Math.min(g, I, h, o) < 0)
              throw "e";
          var H = UPNG.quantize.getNearest(a[0], g / 255, I / 255, h / 255, o / 255);
          e.push(a[1].indexOf(H))
      }
      for (var G = 0; G < K * i; G++)
          k[G] = e[k[G]];
      return {
          Fm: k,
          o_: a[1]
      }
  }
  ;
  _.Ky.a49 = function(E, K, i, C) {
      var N = K * i
        , k = 2 * N
        , V = _.Ky.a8D(E, K, i)
        , j = 65535 + 1
        , a = new Uint32Array(j)
        , L = 0;
      for (var G = 0; G < k; G++)
          a[V[G]]++;
      var e = new Uint32Array(j);
      for (var G = 0; G < j; G++) {
          e[G] = L;
          L += a[G]
      }
      var g = new Uint32Array(k);
      for (var G = 0; G < k; G++) {
          var I = V[G];
          g[e[I]] = G;
          e[I]++
      }
      var h = new UnionFind(N)
        , o = new Uint16Array(N)
        , H = new Uint32Array(N);
      for (var G = 0; G < N; G++)
          H[G] = 1;
      var A = N
        , S = 1e5 / (C * 10);
      for (var v = 0; v < k; v++) {
          var s = g[v]
            , D = V[s];
          if (D == 65535)
              continue;
          var G = s >> 1
            , F = G + ((s & 1) == 0 ? 1 : K)
            , y = h.find(G)
            , T = h.find(F)
            , Q = Math.min(o[y] + S / Math.sqrt(H[y]), o[T] + S / Math.sqrt(H[T]));
          if (y != T && D <= Q) {
              h.link(G, F);
              A--;
              var B = h.find(G);
              H[B] = H[y] + H[T];
              o[B] = D
          }
      }
      var r = []
        , J = {}
        , m = new Uint16Array(N);
      for (var G = 0; G < N; G++) {
          var B = h.find(G)
            , x = J[B];
          if (x == null) {
              J[B] = x = r.length;
              r.push({
                  FE: 0,
                  VB: [0, 0, 0, 0]
              })
          }
          r[x].FE++;
          for (var F = 0; F < 4; F++)
              r[x].VB[F] += E[(G << 2) + F];
          m[G] = x
      }
      var R = new Uint32Array(r.length);
      for (var G = 0; G < r.length; G++) {
          var x = r[G];
          for (var F = 0; F < 4; F++)
              x.VB[F] = Math.round(x.VB[F] / x.FE);
          R[G] = x.VB[3] << 24 | x.VB[2] << 16 | x.VB[1] << 8 | x.VB[0]
      }
      return {
          Fm: m,
          o_: r,
          a2S: R
      }
  }
  ;
  _.Ky.a8D = function(E, K, i) {
      var C = new Uint16Array(K * i * 2);
      for (var N = 0; N < i; N++)
          for (var k = 0; k < K; k++) {
              var G = N * K + k;
              C[G + G] = k < K - 1 ? _.Ky.Y2(E, G, G + 1) : 65535;
              C[G + G + 1] = N < i - 1 ? _.Ky.Y2(E, G, G + K) : 65535
          }
      return C
  }
  ;
  _.Ky.Y2 = function(E, G, K) {
      var i = G << 2
        , C = K << 2
        , N = E[i]
        , k = E[i + 1]
        , V = E[i + 2]
        , j = E[i + 3]
        , a = E[C]
        , e = E[C + 1]
        , L = E[C + 2]
        , g = E[C + 3]
        , I = N - a
        , h = k - e
        , o = V - L
        , H = j - g;
      return I * I + h * h + o * o + H * H >> 2
  }
  ;
  _.Ky.ZY = function() {
      function E(S, v, s, D, F, y) {
          var T = []
            , Q = y
            , B = y
            , r = y >>> 2;
          for (var J = 0; J < F; J++)
              for (var m = 0; m < D; m++) {
                  var x = ~~((m + .5) * Q)
                    , R = ~~((J + .5) * B)
                    , b = 1e9
                    , z = Math.max(0, x - r)
                    , $ = Math.min(v, x + r + 1)
                    , P = Math.max(0, R - r)
                    , t = Math.min(s, R + r + 1);
                  for (var X = P; X < t; X++)
                      for (var Z = z; Z < $; Z++) {
                          var p = K(S, v, Z, X);
                          if (p < b) {
                              x = Z;
                              R = X;
                              b = p
                          }
                      }
                  var gl = (R * v + x) * 4;
                  T.push(x, R)
              }
          return T
      }
      function K(S, v, s, D) {
          var F = (D * v + s) * 4
            , y = v * 4
            , T = i(S, F - 4, F) + i(S, F, F + 4)
            , Q = i(S, F - y, F) + i(S, F, F + y);
          return T + Q
      }
      function i(S, v, s) {
          var D = S[v] - S[s]
            , F = S[v + 1] - S[s + 1]
            , y = S[v + 2] - S[s + 2];
          return D * D + F * F + y * y
      }
      var C = 0
        , N = 0;
      function k(S, v, s, D) {
          N++;
          if (D < C)
              C = D;
          S[D].push(v, s)
      }
      function V(S) {
          N--;
          while (S[C].length == 0)
              C++
      }
      function j(S, v, s) {
          C = 0;
          N = 0;
          var D = v * s
            , F = Math.round(Math.min(v, s) / 50)
            , R = 0
            , b = 16;
          if (F == 0)
              F = 1;
          var y = 30 / F
            , T = Math.floor(v / F)
            , Q = Math.floor(s / F)
            , B = new Uint16Array(D);
          for (var G = 0; G < D; G++)
              B[G] = 65535;
          var r = E(S, v, s, T, Q, F)
            , J = r.length >>> 1;
          if (J > 65535)
              throw J;
          var m = [];
          for (var G = 0; G < 1e3 + s; G++)
              m.push([]);
          var x = [0, 1, 0, -1, -1, 0, 1, 0]
            , z = Math.min(Q, 5)
            , $ = new Uint32Array(J * 6);
          for (var P = 0; P < Q; P += z) {
              var t = Math.min(P + z + 1, Q);
              for (var X = P; X < t; X++)
                  for (var Z = 0; Z < T; Z++) {
                      var G = X * T + Z
                        , p = G * 2
                        , gl = r[p + 1] << 16 | r[p];
                      k(m, gl, G, r[p + 1] >>> b)
                  }
              var f = Math.min(s, t * F);
              if (P + z >= Q)
                  f = s;
              while (N != 0) {
                  V(m);
                  var cY = m[C].pop()
                    , fC = m[C].pop()
                    , hi = fC >>> 16
                    , es = fC & 65535
                    , G = hi * v + es;
                  if (B[G] == 65535) {
                      var W = cY * 6
                        , d = G << 2;
                      B[G] = cY;
                      $[W] += S[d];
                      $[W + 1] += S[d + 1];
                      $[W + 2] += S[d + 2];
                      $[W + 3] += es;
                      $[W + 4] += hi;
                      $[W + 5]++;
                      var fM = hi >>> b;
                      if (hi != f - 1 && B[G + v] == 65535)
                          k(m, hi + 1 << 16 | es, cY, a(S, v, y, es, hi + 1, $, W) + fM);
                      if (hi != 0 && B[G - v] == 65535)
                          k(m, hi - 1 << 16 | es, cY, a(S, v, y, es, hi - 1, $, W) + fM);
                      if (es != 0 && B[G - 1] == 65535)
                          k(m, hi << 16 | es - 1, cY, a(S, v, y, es - 1, hi, $, W) + fM);
                      if (es != v - 1 && B[G + 1] == 65535)
                          k(m, hi << 16 | es + 1, cY, a(S, v, y, es + 1, hi, $, W) + fM)
                  }
              }
              if (f != hi) {
                  var n = (P + z) * T;
                  $.fill(0, n * 6, (n + T) * 6);
                  for (var hi = (P + z - 2) * F; hi < f; hi++)
                      for (var es = 0; es < v; es++) {
                          var G = hi * v + es;
                          if (B[G] >= n) {
                              B[G] = 65535
                          }
                      }
              }
          }
          return {
              Fm: B,
              pu: J,
              AQ: $
          }
      }
      _.Ky.l3 = function(S, v, s, D, F) {
          var y = S.pu
            , T = v * s
            , Q = S.AQ
            , B = S.Fm
            , r = h(D, B, y, T)
            , J = new UnionFind(y)
            , $ = 0;
          for (var m = 1; m < s; m++)
              for (var x = 1; x < v; x++) {
                  var G = m * v + x
                    , R = B[G]
                    , b = 0;
                  if ((b = B[G - 1]) != R && r[b] == r[R] && e(Q, 0, R * 6, b * 6) < F)
                      J.link(R, b);
                  if ((b = B[G - v]) != R && r[b] == r[R] && e(Q, 0, R * 6, b * 6) < F)
                      J.link(R, b)
              }
          var z = new Uint16Array(y);
          z.fill(65535);
          var P = new Uint16Array(y);
          for (var G = 0; G < y; G++) {
              var t = J.find(G);
              if (z[t] == 65535)
                  z[t] = $++;
              P[G] = z[t]
          }
          var X = new Uint16Array(T);
          for (var G = 0; G < T; G++)
              X[G] = P[B[G]];
          return {
              Fm: X,
              pu: $
          }
      }
      ;
      _.Ky.acb = function(S, v, s, D) {
          var F = _.I(s)
            , y = v.length
            , T = 0;
          for (var G = 0; G < y && T != 3; G++) {
              var Q = D[G];
              if (Q == 0 || Q == 255) {
                  var B = v[G]
                    , r = 2 - (Q >>> 7);
                  F[B] = T = F[B] | r
              }
          }
          return T != 3
      }
      ;
      function a(S, v, s, D, F, y, T) {
          var Q = (F * v + D) * 4
            , B = y[T + 5]
            , r = 1 / B
            , J = S[Q] * B - y[T]
            , m = S[Q + 1] * B - y[T + 1]
            , x = S[Q + 2] * B - y[T + 2]
            , R = D * B - y[T + 3]
            , b = F * B - y[T + 4]
            , z = Math.sqrt(J * J + m * m + x * x)
            , $ = Math.sqrt(R * R + b * b);
          return ~~((z + s * $) * r + .5)
      }
      function e(S, v, s, D) {
          var F = 1 / S[s + 5]
            , y = 1 / S[D + 5]
            , T = S[s] * F - S[D] * y
            , Q = S[s + 1] * F - S[D + 1] * y
            , B = S[s + 2] * F - S[D + 2] * y
            , r = S[s + 3] * F - S[D + 3] * y
            , J = S[s + 4] * F - S[D + 4] * y
            , m = Math.sqrt(T * T + Q * Q + B * B)
            , x = Math.sqrt(r * r + J * J);
          return ~~(m + v * x + .5)
      }
      function L(S, v, s) {
          var D = _._j(S, new h4(0,0,v,s))
            , F = D.rect.d
            , y = D.rect.v
            , T = j(D.OR, F, y)
            , Q = T.Fm
            , B = Date.now()
            , r = new Uint16Array(v * s);
          r.fill(65535);
          for (var J = 0; J < y; J++) {
              for (var m = 0; m < F; m++) {
                  var x = J * F + m
                    , G = (J << 1) * v + (m << 1)
                    , R = Q[x];
                  if (Q[x - F] != R || Q[x - 1] != R || Q[x + 1] != R || Q[x + F] != R)
                      R = 65535;
                  r[G] = R;
                  r[G + 1] = R;
                  r[G + v] = R;
                  r[G + v + 1] = R
              }
          }
          T.Fm = r;
          return T
      }
      function g(S, v) {
          var G = 0
            , s = S.length;
          while (G != s && S[G] != v)
              G += 2;
          return G == s ? -1 : G
      }
      function I(S, G) {
          if (G == S.length - 2) {
              S.pop();
              S.pop()
          } else {
              S[G + 1] = S.pop();
              S[G] = S.pop()
          }
      }
      _.Ky.adS = function(S, v, s, D, F) {
          var y = new Uint32Array(F * 4400)
            , K = [];
          for (var G = 0; G < F; G++)
              K.push([]);
          for (var T = 0; T < s; T++)
              for (var Q = 0; Q < v; Q++) {
                  var G = T * v + Q
                    , B = G << 2
                    , r = D[G]
                    , J = 0
                    , m = S[B] >>> 4
                    , x = S[B + 1] >>> 4
                    , R = S[B + 2] >>> 4;
                  y[r * 4400 + (m << 8 | x << 4 | R)]++;
                  y[r * 4400 + 4096]++;
                  y[r * 4400 + 4100 + (m << 4 | x)]++;
                  y[r * 4400 + 4360 + m]++;
                  if (Q != 0 && (J = D[G - 1]) != r && g(K[r], J) == -1) {
                      K[r].push(J, 0);
                      K[J].push(r, 0)
                  }
                  if (T != 0 && (J = D[G - v]) != r && g(K[r], J) == -1) {
                      K[r].push(J, 0);
                      K[J].push(r, 0)
                  }
              }
          for (var G = 0; G < F; G++) {
              var R = K[G];
              for (var b = 0; b < R.length; b += 2)
                  R[b + 1] = A(y, G, R[b])
          }
          return [y, K]
      }
      ;
      function h(S, v, s, D) {
          var F = _.I(s);
          for (var G = 0; G < D; G++) {
              var y = S[G];
              if (y == 0 || y == 255)
                  F[v[G]] = 2 - (y >>> 7)
          }
          return F
      }
      _.Ky.ah$ = function(S, v, s, D, F, y, T) {
          var Q = v * s
            , B = T[0]
            , K = T[1]
            , r = new UnionFind(D)
            , J = h(F, S, D, Q)
            , m = -1
            , x = !0
            , R = 0;
          for (var G = 0; G < D; G++)
              if (J[G] == 1) {
                  if (m == -1)
                      m = G;
                  else
                      r.link(G, m)
              }
          if (m == -1) {
              for (var G = 0; G < Q; G++)
                  y[G] = F[G] == 255 ? 255 : 0;
              return
          }
          while (x) {
              while (x) {
                  x = !1;
                  for (var G = 0; G < D; G++) {
                      if (J[G] == 0) {
                          var b = o(K[G]);
                          if (J[b] == 1) {
                              J[G] = J[b];
                              x = !0;
                              r.link(G, b)
                          }
                      }
                  }
              }
              x = !0;
              R = 0;
              while (x) {
                  x = !1;
                  for (var G = 0; G < D; G++) {
                      if (J[G] == 0) {
                          var b = o(K[G]);
                          if (J[b] == 0) {
                              var z = G * 4400
                                , $ = b * 4400;
                              for (var P = 0; P < 4400; P += 2) {
                                  B[z + P] += B[$ + P];
                                  B[z + P + 1] += B[$ + P + 1]
                              }
                              H(K, B, G, b);
                              R++;
                              J[b] = 3;
                              x = !0;
                              r.link(G, b)
                          }
                      }
                  }
              }
              x = R != 0
          }
          var t = r.find(m);
          for (var G = 0; G < D; G++)
              J[G] = r.find(G) == t ? 255 : 0;
          for (var G = 0; G < Q; G++) {
              y[G] = J[S[G]]
          }
          for (var G = 0; G < Q; G++) {
              var b = F[G];
              if (b == 0 || b == 255)
                  y[G] = b
          }
      }
      ;
      function o(S) {
          var v = 0
            , s = 0
            , D = S.length;
          for (var F = 0; F < D; F += 2) {
              var y = S[F + 1];
              if (y > s) {
                  s = y;
                  v = F
              }
          }
          return S[v]
      }
      function H(K, S, v, s) {
          var D = K[v]
            , F = K[s];
          I(D, g(D, s));
          I(F, g(F, v));
          for (var G = 0; G < F.length; G += 2) {
              var y = F[G]
                , T = K[y];
              I(T, g(T, s));
              if (g(T, v) == -1) {
                  T.push(v, 0);
                  D.push(y, 0)
              }
          }
          for (var G = 0; G < D.length; G += 2) {
              var y = D[G]
                , T = K[y]
                , Q = A(S, v, y);
              D[G + 1] = Q;
              T[g(T, v) + 1] = Q
          }
      }
      function A(S, v, s) {
          var D = 0
            , F = 4096
            , y = v * 4400
            , T = s * 4400;
          for (var Q = 0; Q < 16; Q++) {
              if (S[y + 4360 + Q] == 0 || S[T + 4360 + Q] == 0)
                  continue;
              for (var B = 0; B < 16; B++) {
                  var r = Q << 4 | B;
                  if (S[y + 4100 + r] == 0 || S[T + 4100 + r] == 0)
                      continue;
                  var J = y + (r << 4)
                    , m = T + (r << 4);
                  for (var G = 0; G < 16; G++)
                      D += Math.sqrt(S[J + G] * S[m + G])
              }
          }
          var x = D / Math.sqrt(S[y + F] * S[T + F]);
          return ~~(999.99999 * x)
      }
      return j
  }();
  var dV = function() {
      function E() {
          this.X = 0;
          this.qh = 0;
          this.i7 = {};
          this.K0 = [];
          this.xB = 1e5;
          this.so = 1e5;
          this.hN = -1;
          this.Rb = -1;
          this.color = 0
      }
      function K(l) {
          this.aJ = l;
          this.bN = new Array(l);
          this.x9 = new Array(l * 6);
          this.a3P = 0;
          this.Rh = new Array(l * 2);
          this.alpha = new Array(l);
          this.E9 = new Array(l);
          this.fx = new Array(l)
      }
      function i(N, k, V, j) {
          function a(A, S, N, k) {
              return N[k * S + A]
          }
          function e(G) {
              var T = N.length;
              while (G < T && N[G] == 0)
                  G++;
              return G < T ? G : -1
          }
          function L(A, S, T) {
              for (var G = 2; G < 5; G++) {
                  var Q = 0;
                  for (var B = -G + 1; B <= G - 1; B++) {
                      Q += a(A + B, S + G - 1, N, k) == T ? 1 : -1;
                      Q += a(A + G - 1, S + B - 1, N, k) == T ? 1 : -1;
                      Q += a(A + B - 1, S - G, N, k) == T ? 1 : -1;
                      Q += a(A - G, S + B, N, k) == T ? 1 : -1
                  }
                  if (Q > 0)
                      return 1;
                  else if (Q < 0)
                      return 0
              }
              return 0
          }
          function g(T, o) {
              var H = new E, A = T, S = o, Q = 0, B = 1, r;
              H.color = N[o * k + T];
              H.sign = a(T, o, N, k) == H.color ? "+" : "-";
              while (1) {
                  H.K0.push(A, S);
                  if (A > H.hN)
                      H.hN = A;
                  if (A < H.xB)
                      H.xB = A;
                  if (S > H.Rb)
                      H.Rb = S;
                  if (S < H.so)
                      H.so = S;
                  H.qh++;
                  A += Q;
                  S += B;
                  H.X -= A * B;
                  if (A == T && S == o)
                      break;
                  var J = a(A + (Q + B - 1 >> 1), S + (B - Q - 1 >> 1), N, k) == H.color
                    , m = a(A + (Q - B - 1 >> 1), S + (B + Q - 1 >> 1), N, k) == H.color;
                  if (m && !J) {
                      if (j.t0 == "right" || j.t0 == "black" && H.sign == "+" || j.t0 == "white" && H.sign == "-" || j.t0 == "majority" && L(A, S, H.color) || j.t0 == "minority" && !L(A, S, H.color)) {
                          r = Q;
                          Q = -B;
                          B = r
                      } else {
                          r = Q;
                          Q = B;
                          B = -r
                      }
                  } else if (m) {
                      r = Q;
                      Q = -B;
                      B = r
                  } else if (!J) {
                      r = Q;
                      Q = B;
                      B = -r
                  }
              }
              return H
          }
          var I = 0
            , h = [];
          while (!0) {
              var I = e(I);
              if (I == -1)
                  break;
              var o = Math.floor(I / k)
                , H = g(I - o * k, o);
              for (var G = 0; G < H.K0.length - 2; G += 2) {
                  var A = H.K0[G]
                    , S = H.K0[G + 1]
                    , v = S * k + A;
                  if (A == H.K0[G + 2] && S + 1 == H.K0[G + 3] && N[v] != 0)
                      dV.fill(v, N, k, 0)
              }
              if (H.X > j.aaQ)
                  h.push(H)
          }
          for (var G = 0; G < h.length; G++)
              h[G].parent = -1;
          var s = Date.now();
          for (var G = 1; G < h.length; G++) {
              var D = h[G];
              for (var F = G - 1; F >= 0; F--) {
                  var y = h[F];
                  if (D.xB < y.xB || D.hN > y.hN || D.so < y.so || D.Rb > y.Rb)
                      continue;
                  if (!dV.acB(y.K0, D.K0[0] + .5, D.K0[1] + .5))
                      continue;
                  D.parent = F;
                  break
              }
          }
          return h
      }
      function C(N, k) {
          function V(Q, B, r, J, m) {
              this.x = Q;
              this.y = B;
              this.RY = r;
              this.D9 = J;
              this.Jy = m
          }
          function j(Q, l) {
              return (l + Q) % l
          }
          function a(Q, B, r, J) {
              return Q * J - r * B
          }
          function e(Q, B, r, J) {
              return Q * r + B * J
          }
          function L(Q, B, r) {
              if (Q <= r)
                  return Q <= B && B < r;
              else
                  return Q <= B || B < r
          }
          function g(Q, B, r) {
              var J = 0;
              J += B * Q[0] * B;
              J += B * Q[1] * r;
              J += B * Q[2];
              J += r * Q[3] * B;
              J += r * Q[4] * r;
              J += r * Q[5];
              J += Q[6] * B;
              J += Q[7] * r;
              J += Q[8];
              return J
          }
          function I(Q, B, r) {
              return B + Q * (r - B)
          }
          function h(Q, B, r, J) {
              var m = Math.sign(r - Q)
                , x = -Math.sign(J - B);
              return m * (r - Q) - x * (J - B)
          }
          function o(Q, B) {
              return Math.sqrt(Q * Q + B * B)
          }
          function H(Q, B, r, J, m) {
              var x = 1 - Q;
              return x * x * x * B + 3 * (x * x * Q) * r + 3 * (Q * Q * x) * J + Q * Q * Q * m
          }
          function A(Q, B, r, J, m, x, R, b) {
              var z = a(Q, B, R, b)
                , $ = a(r, J, R, b)
                , P = a(m, x, R, b)
                , t = z - 2 * $ + P
                , X = -2 * z + 2 * $
                , Z = z
                , p = X * X - 4 * t * Z;
              if (t == 0 || p < 0)
                  return -1;
              var gl = Math.sqrt(p)
                , f = (-X + gl) / (2 * t)
                , cY = (-X - gl) / (2 * t);
              if (f >= 0 && f <= 1)
                  return f;
              else if (cY >= 0 && cY <= 1)
                  return cY;
              else
                  return -1
          }
          function S(T) {
              var G, Q, B;
              T.qO = T.K0[0];
              T.ana = T.K0[1];
              T.Lo = [];
              var r = T.Lo;
              r.push(new V(0,0,0,0,0));
              for (G = 0; G < T.qh; G++) {
                  Q = T.K0[G << 1] - T.qO;
                  B = T.K0[(G << 1) + 1] - T.ana;
                  r.push(new V(r[G].x + Q,r[G].y + B,r[G].RY + Q * B,r[G].D9 + Q * Q,r[G].Jy + B * B))
              }
          }
          function v(T) {
              var l = T.qh, Q = T.K0, B, r = new Array(l), J = new Array(l), m = new Array(4), x, R, b, z, $, P, t, X, Z, p, gl, G, f, cY, fC, hi, es, W, d = 0;
              T.TQ = new Array(l);
              for (G = l - 1; G >= 0; G--) {
                  if (Q[G << 1] != Q[d << 1] && Q[(G << 1) + 1] != Q[(d << 1) + 1])
                      d = G + 1;
                  J[G] = d
              }
              for (G = l - 1; G >= 0; G--) {
                  var fM = j(G + 1, l) << 1;
                  m[0] = m[1] = m[2] = m[3] = 0;
                  B = (3 + 3 * (Q[fM] - Q[G << 1]) + (Q[fM + 1] - Q[(G << 1) + 1])) / 2;
                  m[B]++;
                  x = 0;
                  R = 0;
                  b = 0;
                  z = 0;
                  d = J[G];
                  cY = G;
                  while (1) {
                      gl = 0;
                      B = (3 + 3 * Math.sign(Q[d * 2] - Q[cY * 2]) + Math.sign(Q[d * 2 + 1] - Q[cY * 2 + 1])) / 2;
                      m[B]++;
                      if (m[0] && m[1] && m[2] && m[3]) {
                          r[G] = cY;
                          gl = 1;
                          break
                      }
                      Z = Q[d * 2] - Q[G * 2];
                      p = Q[d * 2 + 1] - Q[G * 2 + 1];
                      if (a(x, R, Z, p) < 0 || a(b, z, Z, p) > 0) {
                          break
                      }
                      if (Math.abs(Z) <= 1 && Math.abs(p) <= 1) {} else {
                          $ = Z + (p >= 0 && (p > 0 || Z < 0) ? 1 : -1);
                          P = p + (Z <= 0 && (Z < 0 || p < 0) ? 1 : -1);
                          if (a(x, R, $, P) >= 0) {
                              x = $;
                              R = P
                          }
                          $ = Z + (p <= 0 && (p < 0 || Z < 0) ? 1 : -1);
                          P = p + (Z >= 0 && (Z > 0 || p < 0) ? 1 : -1);
                          if (a(b, z, $, P) <= 0) {
                              b = $;
                              z = P
                          }
                      }
                      cY = d;
                      d = J[cY];
                      if (!L(d, G, cY)) {
                          break
                      }
                  }
                  if (gl == 0) {
                      t = Math.sign(Q[d * 2] - Q[cY * 2]);
                      X = Math.sign(Q[d * 2 + 1] - Q[cY * 2 + 1]);
                      Z = Q[cY * 2] - Q[G * 2];
                      p = Q[cY * 2 + 1] - Q[G * 2 + 1];
                      fC = a(x, R, Z, p);
                      hi = a(x, R, t, X);
                      es = a(b, z, Z, p);
                      W = a(b, z, t, X);
                      f = 1e7;
                      if (hi < 0) {
                          f = Math.floor(fC / -hi)
                      }
                      if (W > 0) {
                          f = Math.min(f, Math.floor(-es / W))
                      }
                      r[G] = j(cY + f, l)
                  }
              }
              f = r[l - 1];
              T.TQ[l - 1] = f;
              for (G = l - 2; G >= 0; G--) {
                  if (L(G + 1, r[G], f)) {
                      f = r[G]
                  }
                  T.TQ[G] = f
              }
              for (G = l - 1; L(j(G + 1, l), f, T.TQ[G]); G--) {
                  T.TQ[G] = f
              }
          }
          function s(T) {
              function Q(T, G, B) {
                  var l = T.qh, Z = T.K0, p = T.Lo, gl, f, cY, fC, hi, J, es, W, X, d, fM, n, ax, d_, cm = 0;
                  if (B >= l) {
                      B -= l;
                      cm = 1
                  }
                  if (cm == 0) {
                      gl = p[B + 1].x - p[G].x;
                      f = p[B + 1].y - p[G].y;
                      fC = p[B + 1].D9 - p[G].D9;
                      cY = p[B + 1].RY - p[G].RY;
                      hi = p[B + 1].Jy - p[G].Jy;
                      J = B + 1 - G
                  } else {
                      gl = p[B + 1].x - p[G].x + p[l].x;
                      f = p[B + 1].y - p[G].y + p[l].y;
                      fC = p[B + 1].D9 - p[G].D9 + p[l].D9;
                      cY = p[B + 1].RY - p[G].RY + p[l].RY;
                      hi = p[B + 1].Jy - p[G].Jy + p[l].Jy;
                      J = B + 1 - G + l
                  }
                  fM = (Z[G << 1] + Z[B << 1]) / 2 - Z[0];
                  n = (Z[(G << 1) + 1] + Z[(B << 1) + 1]) / 2 - Z[1];
                  d_ = Z[B << 1] - Z[G << 1];
                  ax = -(Z[(B << 1) + 1] - Z[(G << 1) + 1]);
                  es = (fC - 2 * gl * fM) / J + fM * fM;
                  W = (cY - gl * n - f * fM) / J + fM * n;
                  X = (hi - 2 * f * n) / J + n * n;
                  d = ax * ax * es + 2 * ax * d_ * W + d_ * d_ * X;
                  return Math.sqrt(d)
              }
              var G, B, r, J, l = T.qh, m = new Array(l + 1), x = new Array(l + 1), R = new Array(l), b = new Array(l + 1), z = new Array(l + 1), $ = new Array(l + 1), P, t, X;
              for (G = 0; G < l; G++) {
                  X = j(T.TQ[j(G - 1, l)] - 1, l);
                  if (X == G) {
                      X = j(G + 1, l)
                  }
                  if (X < G) {
                      R[G] = l
                  } else {
                      R[G] = X
                  }
              }
              B = 1;
              for (G = 0; G < l; G++) {
                  while (B <= R[G]) {
                      b[B] = G;
                      B++
                  }
              }
              G = 0;
              for (B = 0; G < l; B++) {
                  z[B] = G;
                  G = R[G]
              }
              z[B] = l;
              r = B;
              G = l;
              for (B = r; B > 0; B--) {
                  $[B] = G;
                  G = b[G]
              }
              $[0] = 0;
              m[0] = 0;
              for (B = 1; B <= r; B++) {
                  for (G = $[B]; G <= z[B]; G++) {
                      t = -1;
                      for (J = z[B - 1]; J >= b[G]; J--) {
                          P = Q(T, J, G) + m[J];
                          if (t < 0 || P < t) {
                              x[G] = J;
                              t = P
                          }
                      }
                      m[G] = t
                  }
              }
              T.BF = r;
              T.a6h = new Array(r);
              for (G = l,
              B = r - 1; G > 0; B--) {
                  G = x[G];
                  T.a6h[B] = G
              }
          }
          function D(T) {
              function Q(T, G, P, R, b, c4) {
                  var l = T.qh, ch = T.Lo, hQ = 0, X;
                  while (P >= l) {
                      P -= l;
                      hQ += 1
                  }
                  while (G >= l) {
                      G -= l;
                      hQ -= 1
                  }
                  while (P < 0) {
                      P += l;
                      hQ -= 1
                  }
                  while (G < 0) {
                      G += l;
                      hQ += 1
                  }
                  var em = ch[P + 1].x - ch[G].x + hQ * ch[l].x
                    , ag = ch[P + 1].y - ch[G].y + hQ * ch[l].y
                    , am = ch[P + 1].D9 - ch[G].D9 + hQ * ch[l].D9
                    , bK = ch[P + 1].RY - ch[G].RY + hQ * ch[l].RY
                    , ei = ch[P + 1].Jy - ch[G].Jy + hQ * ch[l].Jy
                    , t = P + 1 - G + hQ * l;
                  R[c4] = em / t;
                  R[c4 + 1] = ag / t;
                  var dL = (am - em * em / t) / t
                    , fh = (bK - em * ag / t) / t
                    , eu = (ei - ag * ag / t) / t
                    , hf = (dL + eu + Math.sqrt((dL - eu) * (dL - eu) + 4 * fh * fh)) / 2;
                  dL -= hf;
                  eu -= hf;
                  if (Math.abs(dL) >= Math.abs(eu)) {
                      X = Math.sqrt(dL * dL + fh * fh);
                      if (X != 0) {
                          b[c4] = -fh / X;
                          b[c4 + 1] = dL / X
                      }
                  } else {
                      X = Math.sqrt(eu * eu + fh * fh);
                      if (X != 0) {
                          b[c4] = -eu / X;
                          b[c4 + 1] = fh / X
                      }
                  }
                  if (X == 0) {
                      b[c4] = b[c4 + 1] = 0
                  }
              }
              var B = T.BF, r = T.a6h, l = T.qh, J = T.K0, m = T.qO, x = T.ana, R = new Array(B * 2), b = new Array(B * 2), z = new Array(B), $ = new Array(3), G, P, t, X, f, cY, fC, hi, es, W, d;
              T.i7 = new K(B);
              for (G = 0; G < B; G++) {
                  P = r[j(G + 1, B)];
                  P = j(P - r[G], l) + r[G];
                  R[G << 1] = 0;
                  R[(G << 1) + 1] = 0;
                  b[G << 1] = 0;
                  b[(G << 1) + 1] = 0;
                  Q(T, r[G], P, R, b, G << 1)
              }
              for (G = 0; G < B; G++) {
                  z[G] = [0, 0, 0, 0, 0, 0, 0, 0, 0];
                  var Z = b[G << 1] * b[G << 1] + b[(G << 1) + 1] * b[(G << 1) + 1]
                    , p = 1 / Z;
                  if (Z != 0) {
                      $[0] = b[(G << 1) + 1];
                      $[1] = -b[G << 1];
                      $[2] = -$[1] * R[(G << 1) + 1] - $[0] * R[G << 1];
                      for (X = 0; X < 3; X++) {
                          z[G][X * 3 + 0] = $[X] * $[0] * p;
                          z[G][X * 3 + 1] = $[X] * $[1] * p;
                          z[G][X * 3 + 2] = $[X] * $[2] * p
                      }
                  }
              }
              var gl = [0, 0, 0, 0, 0, 0, 0, 0, 0];
              for (G = 0; G < B; G++) {
                  gl[0] = gl[1] = gl[2] = gl[3] = gl[4] = gl[5] = gl[6] = gl[7] = gl[8] = gl[9] = 0;
                  var fM = J[r[G] << 1] - m
                    , n = J[(r[G] << 1) + 1] - x
                    , ax = 0
                    , d_ = 0;
                  P = j(G - 1, B);
                  for (X = 0; X < 9; X += 3) {
                      gl[X + 0] = z[P][X + 0] + z[G][X + 0];
                      gl[X + 1] = z[P][X + 1] + z[G][X + 1];
                      gl[X + 2] = z[P][X + 2] + z[G][X + 2]
                  }
                  while (1) {
                      var cm = gl[0] * gl[4] - gl[1] * gl[3];
                      if (cm != 0) {
                          ax = (-gl[2] * gl[4] + gl[5] * gl[0]) / cm;
                          d_ = (gl[2] * gl[3] - gl[5] * gl[0]) / cm;
                          break
                      }
                      if (gl[0] > gl[4]) {
                          $[0] = -gl[1];
                          $[1] = gl[0]
                      } else if (gl[4]) {
                          $[0] = -gl[4];
                          $[1] = gl[3]
                      } else {
                          $[0] = 1;
                          $[1] = 0
                      }
                      var Z = $[0] * $[0] + $[1] * $[1]
                        , p = 1 / Z;
                      $[2] = -$[1] * n - $[0] * fM;
                      for (X = 0; X < 3; X++) {
                          gl[X * 3 + 0] += $[X] * $[0] * p;
                          gl[X * 3 + 1] += $[X] * $[1] * p;
                          gl[X * 3 + 2] += $[X] * $[2] * p
                      }
                  }
                  f = Math.abs(ax - fM);
                  cY = Math.abs(d_ - n);
                  if (f <= .5 && cY <= .5) {
                      T.i7.Rh[G << 1] = ax + m;
                      T.i7.Rh[(G << 1) + 1] = d_ + x;
                      continue
                  }
                  fC = g(gl, fM, n);
                  es = fM;
                  W = n;
                  if (gl[0] != 0) {
                      for (d = 0; d < 2; d++) {
                          d_ = n - .5 + d;
                          ax = -(gl[1] * d_ + gl[2]) / gl[0];
                          f = Math.abs(ax - fM);
                          hi = g(gl, ax, d_);
                          if (f <= .5 && hi < fC) {
                              fC = hi;
                              es = ax;
                              W = d_
                          }
                      }
                  }
                  if (gl[4] != 0) {
                      for (d = 0; d < 2; d++) {
                          ax = fM - .5 + d;
                          d_ = -(gl[3] * ax + gl[5]) / gl[4];
                          cY = Math.abs(d_ - n);
                          hi = g(gl, ax, d_);
                          if (cY <= .5 && hi < fC) {
                              fC = hi;
                              es = ax;
                              W = d_
                          }
                      }
                  }
                  for (X = 0; X < 2; X++) {
                      for (t = 0; t < 2; t++) {
                          ax = fM - .5 + X;
                          d_ = n - .5 + t;
                          hi = g(gl, ax, d_);
                          if (hi < fC) {
                              fC = hi;
                              es = ax;
                              W = d_
                          }
                      }
                  }
                  T.i7.Rh[G << 1] = es + m;
                  T.i7.Rh[(G << 1) + 1] = W + x
              }
          }
          function F(T) {
              var Q = T.i7.aJ, B = T.i7, G, r, J, m, x, R, b, z, $;
              for (G = 0; G < Q; G++) {
                  r = j(G + 1, Q);
                  J = j(G + 2, Q);
                  var P = B.Rh[G << 1]
                    , t = B.Rh[(G << 1) + 1]
                    , X = B.Rh[J << 1]
                    , Z = B.Rh[(J << 1) + 1]
                    , p = B.Rh[r << 1]
                    , gl = B.Rh[(r << 1) + 1]
                    , f = I(.5, X, p)
                    , cY = I(.5, Z, gl);
                  x = h(P, t, X, Z);
                  if (x != 0) {
                      m = a(p - P, gl - t, X - P, Z - t) / x;
                      m = Math.abs(m);
                      R = m > 1 ? 1 - 1 / m : 0;
                      R = R * (1 / .75)
                  } else {
                      R = 4 / 3
                  }
                  B.E9[r] = R;
                  var fC = 3 * r << 1;
                  if (R >= k.ac$) {
                      B.bN[r] = 0;
                      B.x9[fC + 0] = B.x9[fC + 1] = 0;
                      B.x9[fC + 2] = p;
                      B.x9[fC + 3] = gl;
                      B.x9[fC + 4] = f;
                      B.x9[fC + 5] = cY
                  } else {
                      if (R < .55) {
                          R = .55
                      } else if (R > 1) {
                          R = 1
                      }
                      var hi = .5 + .5 * R;
                      B.bN[r] = 1;
                      B.x9[fC] = I(hi, P, p);
                      B.x9[fC + 1] = I(hi, t, gl);
                      B.x9[fC + 2] = I(hi, X, p);
                      B.x9[fC + 3] = I(hi, Z, gl);
                      B.x9[fC + 4] = f;
                      B.x9[fC + 5] = cY
                  }
                  B.alpha[r] = R;
                  B.fx[r] = .5
              }
              B.acw = 1
          }
          function y(T) {
              function Q() {
                  this.a3 = 0;
                  this.gS = 0;
                  this.aA = 0;
                  this.VK = 0;
                  this.KB = 0;
                  this.yH = 0;
                  this.Us = 0;
                  this.alpha = 0
              }
              function B(T, G, P, aI, gn, es, W) {
                  var J = T.i7.aJ
                    , ce = T.i7.x9
                    , gr = T.i7.Rh;
                  if (G == P)
                      return 1;
                  var ek = G
                    , p = j(G + 1, J)
                    , bJ = j(ek + 1, J)
                    , bK = gr[G << 1]
                    , ei = gr[(G << 1) + 1]
                    , aN = gr[p << 1]
                    , bG = gr[(p << 1) + 1]
                    , aQ = es[bJ];
                  if (aQ == 0)
                      return 1;
                  var cu = o(bK - aN, ei - bG);
                  for (ek = bJ; ek != P; ek = bJ) {
                      var bJ = j(ek + 1, J)
                        , gX = j(ek + 2, J)
                        , bW = gr[bJ << 1]
                        , dE = gr[(bJ << 1) + 1]
                        , b4 = gr[gX << 1]
                        , cC = gr[(gX << 1) + 1];
                      if (es[bJ] != aQ)
                          return 1;
                      if (Math.sign(a(aN - bK, bG - ei, b4 - bW, cC - dE)) != aQ)
                          return 1;
                      if (e(aN - bK, bG - ei, b4 - bW, cC - dE) < cu * o(bW - b4, dE - cC) * -.999847695156)
                          return 1
                  }
                  var gN = j(G, J) * 3 + 2 << 1
                    , eH = j(G + 1, J) << 1
                    , hx = j(P, J) << 1
                    , c2 = j(P, J) * 3 + 2 << 1
                    , c4 = ce[gN]
                    , ch = ce[gN + 1]
                    , hv = gr[eH]
                    , fu = gr[eH + 1]
                    , dv = gr[hx]
                    , fj = gr[hx + 1]
                    , il = ce[c2]
                    , iH = ce[c2 + 1]
                    , d = gr[0]
                    , fM = gr[1];
                  gN = P * 3 + 2 << 1;
                  var fp = ce[gN]
                    , ff = ce[gN + 1]
                    , gl = W[P] - W[G];
                  gl -= a(fp - d, ff - fM, fp - d, ff - fM) / 2;
                  if (G >= P) {
                      gl += W[J]
                  }
                  var da = hv - c4
                    , aC = fu - ch
                    , fa = dv - c4
                    , hz = fj - ch
                    , f6 = il - c4
                    , bk = iH - ch
                    , dB = a(da, aC, fa, hz)
                    , fD = a(da, aC, f6, bk)
                    , bE = a(fa, hz, f6, bk)
                    , f0 = dB + bE - fD;
                  if (fD == dB)
                      return 1;
                  var hi = bE / (bE - f0)
                    , fC = fD / (fD - dB)
                    , dr = fD * hi / 2;
                  if (dr == 0)
                      return 1;
                  var g6 = gl / dr
                    , f = 2 - Math.sqrt(4 - g6 / .3);
                  aI.gS = I(hi * f, c4, hv);
                  aI.aA = I(hi * f, ch, fu);
                  aI.VK = I(fC * f, il, dv);
                  aI.KB = I(fC * f, iH, fj);
                  aI.alpha = f;
                  aI.yH = hi;
                  aI.Us = fC;
                  hv = aI.gS;
                  fu = aI.aA;
                  dv = aI.VK;
                  fj = aI.KB;
                  aI.a3 = 0;
                  for (ek = j(G + 1, J); ek != P; ek = bJ) {
                      bJ = j(ek + 1, J);
                      var fk = gr[ek << 1]
                        , iW = gr[(ek << 1) + 1]
                        , bW = gr[bJ << 1]
                        , dE = gr[(bJ << 1) + 1];
                      hi = A(hv - c4, fu - ch, dv - hv, fj - fu, il - dv, iH - fj, bW - fk, dE - iW);
                      if (hi < -.5)
                          return 1;
                      var bq = H(hi, c4, hv, dv, il)
                        , ik = H(hi, ch, fu, fj, iH)
                        , cu = o(bW - fk, dE - iW);
                      if (cu == 0)
                          return 1;
                      var e$ = a(bW - fk, dE - iW, bq - fk, ik - iW) / cu;
                      if (Math.abs(e$) > gn)
                          return 1;
                      if (e(bW - fk, dE - iW, bq - fk, ik - iW) < 0 || e(fk - bW, iW - dE, bq - bW, ik - dE) < 0) {
                          return 1
                      }
                      aI.a3 += e$ * e$
                  }
                  for (ek = G; ek != P; ek = bJ) {
                      bJ = j(ek + 1, J);
                      var gN = ek * 3 + 2 << 1
                        , eH = bJ * 3 + 2 << 1
                        , iU = ce[gN]
                        , eh = ce[gN + 1]
                        , hH = ce[eH]
                        , eJ = ce[eH + 1];
                      hi = A(hv - c4, fu - ch, dv - hv, fj - fu, il - dv, iH - fj, hH - iU, eJ - eh);
                      if (hi < -.5)
                          return 1;
                      var bq = H(hi, c4, hv, dv, il)
                        , ik = H(hi, ch, fu, fj, iH)
                        , cu = o(hH - iU, eJ - eh);
                      if (cu == 0)
                          return 1;
                      var e$ = a(hH - iU, eJ - eh, bq - iU, ik - eh) / cu
                        , gf = a(hH - iU, eJ - eh, gr[bJ << 1] - iU, gr[(bJ << 1) + 1] - eh) / cu;
                      gf *= .75 * T.i7.alpha[bJ];
                      if (gf < 0) {
                          e$ = -e$;
                          gf = -gf
                      }
                      if (e$ < gf - gn)
                          return 1;
                      if (e$ < gf) {
                          aI.a3 += (e$ - gf) * (e$ - gf)
                      }
                  }
                  return 0
              }
              var r = T.i7, J = r.aJ, m = r.Rh, x = new Array(J + 1), R = new Array(J + 1), b = new Array(J + 1), z = new Array(J + 1), $, G, P, t, X = new Q, Z, p, gl, f, cY, fC, hi, es = new Array(J), W = new Array(J + 1);
              for (G = 0; G < J; G++) {
                  if (r.bN[G] == "CURVE") {
                      var d = m[j(G - 1, J) << 1]
                        , fM = m[(j(G - 1, J) << 1) + 1]
                        , n = m[G << 1]
                        , ax = m[(G << 1) + 1]
                        , d_ = m[j(G + 1, J) << 1]
                        , cm = m[(j(G + 1, J) << 1) + 1];
                      es[G] = Math.sign(a(n - d, ax - fM, d_ - n, cm - ax))
                  } else {
                      es[G] = 0
                  }
              }
              gl = 0;
              W[0] = 0;
              var c4 = r.Rh[0]
                , ch = r.Rh[1];
              for (G = 0; G < J; G++) {
                  p = j(G + 1, J);
                  if (r.bN[p] == "CURVE") {
                      f = r.alpha[p];
                      var hQ = G * 3 + 2 << 1
                        , em = p * 3 + 2 << 1
                        , ag = r.x9[hQ]
                        , am = r.x9[hQ + 1]
                        , bK = m[p << 1]
                        , ei = m[(p << 1) + 1]
                        , dL = r.x9[em]
                        , fh = r.x9[em + 1];
                      gl += .3 * f * (4 - f) * a(bK - ag, ei - am, dL - ag, fh - am) / 2;
                      gl += a(ag - c4, am - ch, dL - c4, fh - ch) / 2
                  }
                  W[G + 1] = gl
              }
              x[0] = -1;
              R[0] = 0;
              b[0] = 0;
              for (P = 1; P <= J; P++) {
                  x[P] = P - 1;
                  R[P] = R[P - 1];
                  b[P] = b[P - 1] + 1;
                  for (G = P - 2; G >= 0; G--) {
                      t = B(T, G, j(P, J), X, k.a8b, es, W);
                      if (t) {
                          break
                      }
                      if (b[P] > b[G] + 1 || b[P] == b[G] + 1 && R[P] > R[G] + X.a3) {
                          x[P] = G;
                          R[P] = R[G] + X.a3;
                          b[P] = b[G] + 1;
                          z[P] = X;
                          X = new Q
                      }
                  }
              }
              $ = b[J];
              cY = new K($);
              fC = new Array($);
              hi = new Array($);
              P = J;
              for (G = $ - 1; G >= 0; G--) {
                  var eu = j(P, J)
                    , hf = G * 3 + 0 << 1
                    , iS = eu * 3 + 0 << 1;
                  if (x[P] == P - 1) {
                      cY.bN[G] = r.bN[eu];
                      cY.x9[hf] = r.x9[iS];
                      cY.x9[hf + 1] = r.x9[iS + 1];
                      cY.x9[hf + 2] = r.x9[iS + 2];
                      cY.x9[hf + 3] = r.x9[iS + 3];
                      cY.x9[hf + 4] = r.x9[iS + 4];
                      cY.x9[hf + 5] = r.x9[iS + 5];
                      cY.Rh[G << 1] = r.Rh[eu << 1];
                      cY.Rh[(G << 1) + 1] = r.Rh[(eu << 1) + 1];
                      cY.alpha[G] = r.alpha[eu];
                      cY.E9[G] = r.E9[eu];
                      cY.fx[G] = r.fx[eu];
                      fC[G] = hi[G] = 1
                  } else {
                      cY.bN[G] = "CURVE";
                      cY.x9[hf] = z[P].gS;
                      cY.x9[hf + 1] = z[P].aA;
                      cY.x9[hf + 2] = z[P].VK;
                      cY.x9[hf + 3] = z[P].KB;
                      cY.x9[hf + 4] = r.x9[iS + 4];
                      cY.x9[hf + 5] = r.x9[iS + 5];
                      cY.Rh[G << 1] = I(z[P].Us, r.x9[iS + 4], m[eu << 1]);
                      cY.Rh[(G << 1) + 1] = I(z[P].Us, r.x9[iS + 5], m[(eu << 1) + 1]);
                      cY.alpha[G] = z[P].alpha;
                      cY.E9[G] = z[P].alpha;
                      fC[G] = z[P].Us;
                      hi[G] = z[P].yH
                  }
                  P = x[P]
              }
              for (G = 0; G < $; G++) {
                  p = j(G + 1, $);
                  cY.fx[G] = fC[G] / (fC[G] + hi[p])
              }
              cY.acw = 1;
              T.i7 = cY
          }
          for (var G = 0; G < N.length; G++) {
              var T = N[G];
              S(T);
              v(T);
              s(T);
              D(T);
              F(T);
              if (k.agr)
                  y(T)
          }
      }
      return {
          a8L: i,
          a6y: C
      }
  }();
  dV.Sb = function(E, K, i, C) {
      var N = {
          t0: "minority",
          aaQ: C,
          agr: !0,
          ac$: 1,
          a8b: .2
      }
        , k = dV.a8L(E, K, i, N);
      dV.a6y(k, N);
      return k
  }
  ;
  dV.LM = function(E) {
      var K = [];
      for (var G = 0; G < E.length; G++) {
          var i = E[G]
            , C = i.i7
            , N = ["M"]
            , k = [C.x9[(C.aJ - 1) * 6 + 4], C.x9[(C.aJ - 1) * 6 + 5]];
          for (var V = 0; V < C.aJ; V++) {
              var j = V * 6;
              if (C.bN[V] == 1) {
                  N.push("C");
                  for (var a = 0; a < 6; a++)
                      k.push(C.x9[j + a])
              } else if (C.bN[V] == 0) {
                  N.push("L");
                  for (var a = 2; a < 4; a++)
                      k.push(C.x9[j + a])
              }
          }
          N.push("Z");
          K.push({
              parent: i.parent,
              color: i.color,
              path: {
                  H: k,
                  Z: N
              }
          })
      }
      return K
  }
  ;
  dV.a6t = function(E, K, i, C, N) {
      function k(o) {
          function H(G) {
              var h = "C " + (o.x9[G * 3 + 0 << 1] * K).toFixed(1) + " " + (o.x9[(G * 3 + 0 << 1) + 1] * K).toFixed(1) + ",";
              h += (o.x9[G * 3 + 1 << 1] * K).toFixed(1) + " " + (o.x9[(G * 3 + 1 << 1) + 1] * K).toFixed(1) + ",";
              h += (o.x9[G * 3 + 2 << 1] * K).toFixed(1) + " " + (o.x9[(G * 3 + 2 << 1) + 1] * K).toFixed(1) + " ";
              return h
          }
          function A(G) {
              var v = "L " + (o.x9[G * 3 + 1 << 1] * K).toFixed(1) + " " + (o.x9[(G * 3 + 1 << 1) + 1] * K).toFixed(1) + " ";
              v += (o.x9[G * 3 + 2 << 1] * K).toFixed(1) + " " + (o.x9[(G * 3 + 2 << 1) + 1] * K).toFixed(1) + " ";
              return v
          }
          var l = o.aJ, G, S = "M" + (o.x9[(l - 1) * 3 + 2 << 1] * K).toFixed(1) + " " + (o.x9[((l - 1) * 3 + 2 << 1) + 1] * K).toFixed(1) + " ";
          for (G = 0; G < l; G++) {
              if (o.bN[G] == 1) {
                  S += H(G)
              } else if (o.bN[G] == 0) {
                  S += A(G)
              }
          }
          return S
      }
      var i = i * K
        , C = C * K
        , V = E.length
        , j = [];
      for (var G = 0; G < 256; G++)
          j.push("rgb(" + Math.floor(Math.random() * 255) + "," + Math.floor(Math.random() * 255) + "," + Math.floor(Math.random() * 255) + ")");
      var a = "<svg id=\"svg\" version=\"1.1\" width=\"" + i + "\" height=\"" + C + "\" xmlns=\"http://www.w3.org/2000/svg\">";
      for (var G = 0; G < V; G++) {
          var e = N[E[G].color - 1].ag3.Zt;
          if ((e >>> 24 & 255) == 0)
              continue;
          a += "<path d=\"";
          var L = E[G].i7;
          a += k(L);
          var g = e >> 0 & 255
            , I = e >> 8 & 255
            , h = e >> 16 & 255
            , e = "rgb(" + g + "," + I + "," + h + ")";
          a += "\" fill=\"" + e + "\" fill-rule=\"evenodd\"/>"
      }
      a += "</svg>";
      return a
  }
  ;
  dV.acB = function(E, K, i) {
      var l = E.length >> 1, C, N = E[2 * l - 3] - i, k = E[2 * l - 2] - K, V = E[2 * l - 1] - i, j = V > N, a = 0;
      for (var G = 0; G < l; G++) {
          C = k;
          N = V;
          k = E[2 * G] - K;
          V = E[2 * G + 1] - i;
          if (N == V)
              continue;
          j = V > N
      }
      for (var G = 0; G < l; G++) {
          C = k;
          N = V;
          k = E[2 * G] - K;
          V = E[2 * G + 1] - i;
          if (N < 0 && V < 0)
              continue;
          if (N > 0 && V > 0)
              continue;
          if (C < 0 && k < 0)
              continue;
          if (N == V && Math.min(C, k) <= 0)
              return !0;
          if (N == V)
              continue;
          var e = C + (k - C) * -N / (V - N);
          if (e == 0)
              return !0;
          if (e > 0)
              a++;
          if (N == 0 && j && V > N)
              a--;
          if (N == 0 && !j && V < N)
              a--;
          j = V > N
      }
      return (a & 1) == 1
  }
  ;
  dV.fill = function(E, K, i, C) {
      var N = K[E]
        , k = [E]
        , V = 0;
      while (V < k.length) {
          var j = k[V];
          V++;
          K[j] = C;
          if (K[j - i] == N) {
              k.push(j - i);
              K[j - i] = 254
          }
          if (K[j - 1] == N) {
              k.push(j - 1);
              K[j - 1] = 254
          }
          if (K[j + 1] == N) {
              k.push(j + 1);
              K[j + 1] = 254
          }
          if (K[j + i] == N) {
              k.push(j + i);
              K[j + i] = 254
          }
      }
  }
  ;
  var Y = {};
  Y.vD = !1;
  Y.gn = !1;
  Y.Az = !1;
  Y.n4 = document.createElement("canvas");
  Y.se = null;
  Y.sO = null;
  Y.XM = 0;
  (function() {
      var E = {
          alpha: !0,
          antialias: !1,
          depth: !1,
          premultipliedAlpha: !1
      }, K;
      if (!K)
          K = Y.n4.getContext("webgl", E);
      if (!K)
          K = Y.n4.getContext("experimental-webgl", E);
      if (K) {
          Y.vD = !0;
          Y.gn = !0;
          Y.se = K;
          Y.sO = K.createFramebuffer();
          K.bindFramebuffer(K.FRAMEBUFFER, Y.sO);
          K.disable(K.BLEND);
          K.disable(K.DEPTH_TEST);
          var i = K.createBuffer();
          K.bindBuffer(K.ARRAY_BUFFER, i);
          K.bufferData(K.ARRAY_BUFFER, new Float32Array([0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1]), K.STATIC_DRAW);
          K.enableVertexAttribArray(0);
          K.vertexAttribPointer(0, 2, K.FLOAT, !1, 0, 0)
      }
  }());
  Y.acW = function(E) {
      E = E.replace(/\s\s+/g, " ");
      E = E.replace(/; /g, ";");
      E = E.replace(/} /g, "}");
      E = E.replace(/ }/g, "}");
      E = E.replace(/{ /g, "{");
      E = E.replace(/ {/g, "{");
      E = E.replace(/= /g, "=");
      E = E.replace(/ =/g, "=");
      E = E.replace(/\| /g, "|");
      E = E.replace(/ \|/g, "|");
      return E
  }
  ;
  Y.ad6 = function(E) {
      var K = Y.se;
      if (E > K.getParameter(K.MAX_TEXTURE_SIZE)) {
          Y.vD = !1;
          alert("Disabling WebGL")
      }
  }
  ;
  Y.$$ = function(E, K) {
      return new Float32Array([(E.x - K.x) / K.d, (E.y - K.y) / K.v, E.d / K.d, E.v / K.v])
  }
  ;
  Y.Zg = function() {
      return this.n4
  }
  ;
  Y.j8 = function(E, K) {
      var i = Y.se;
      i.bindFramebuffer(i.FRAMEBUFFER, Y.sO);
      i.framebufferTexture2D(i.FRAMEBUFFER, i.COLOR_ATTACHMENT0, i.TEXTURE_2D, E.k2, 0);
      i.viewport(0, 0, E.d, E.v);
      if (K) {
          i.enable(i.SCISSOR_TEST);
          i.scissor(K.x, K.y, K.d, K.v)
      } else
          i.disable(i.SCISSOR_TEST)
  }
  ;
  Y.TV = function(E, K, i) {
      if (i)
          throw "error";
      var C = Y.se;
      C.disable(C.SCISSOR_TEST);
      C.bindFramebuffer(C.FRAMEBUFFER, null);
      C.viewport(0, 0, E, K);
      if (i) {
          C.enable(C.SCISSOR_TEST);
          C.scissor(i.x, i.y, Math.round(i.d), Math.round(i.v))
      } else
          C.disable(C.SCISSOR_TEST)
  }
  ;
  Y.clear = function() {
      var E = Y.se;
      E.clearColor(0, 0, 0, 0);
      E.clear(E.COLOR_BUFFER_BIT)
  }
  ;
  Y.BP = function(E, K) {
      if (K == null)
          K = 0;
      var i = (K >>> 0 & 255) == 0
        , C = (K >>> 8 & 255) == 0
        , N = (K >>> 16 & 255) == 0
        , k = (K >>> 24 & 255) == 0
        , V = (E >>> 0 & 255) * (1 / 255)
        , j = (E >>> 8 & 255) * (1 / 255)
        , a = (E >>> 16 & 255) * (1 / 255)
        , e = (E >>> 24 & 255) * (1 / 255)
        , L = Y.se;
      L.colorMask(i, C, N, k);
      L.clearColor(V, j, a, e);
      L.clear(L.COLOR_BUFFER_BIT);
      L.colorMask(!0, !0, !0, !0)
  }
  ;
  Y.dc = function(E, K, i, C, N) {
      var k = K.lx(C);
      if (N)
          k = k.lx(N);
      if (k.OL())
          return;
      var V = Y.se;
      Y.j8(E);
      V.bindTexture(V.TEXTURE_2D, i.k2);
      V.copyTexSubImage2D(V.TEXTURE_2D, 0, k.x - C.x, k.y - C.y, k.x - K.x, k.y - K.y, k.d, k.v)
  }
  ;
  Y.I3 = function(G, E, K) {
      var i = Y.kE[G];
      if (i == null || i.d != E || i.v != K) {
          if (i)
              i.delete();
          i = new Y.U0(E,K)
      }
      Y.kE[G] = i;
      return i
  }
  ;
  Y.kE = [];
  Y.KI = function() {
      this.La = null;
      this.dM = null
  }
  ;
  Y.KI.sj = null;
  Y.KI.prototype.QQ = function(E) {
      if (this.dM)
          return;
      this.dM = {};
      var K = Y.se
        , i = this.La
        , C = this.dM;
      for (var G = 0; G < E.length; G++) {
          var N = E[G];
          C[N] = K.getUniformLocation(i, N)
      }
  }
  ;
  Y.KI.prototype.Op = function() {}
  ;
  Y.KI.prototype.bp = function(E) {
      var K = Y.se;
      for (var G = 0; G < E.length; G += 2) {
          K.uniform1i(E[G], G >>> 1);
          K.activeTexture(K["TEXTURE" + (G >>> 1)]);
          K.bindTexture(K.TEXTURE_2D, E[G + 1])
      }
      K.activeTexture(K.TEXTURE0)
  }
  ;
  Y.KI.prototype.ZV = function(E, K) {
      var i = Y.se
        , C = i.createShader(i.FRAGMENT_SHADER);
      i.shaderSource(C, E);
      i.compileShader(C);
      if (!i.getShaderParameter(C, i.COMPILE_STATUS))
          console.log(i.getShaderInfoLog(C));
      var N = i.createShader(i.VERTEX_SHADER);
      i.shaderSource(N, K);
      i.compileShader(N);
      if (!i.getShaderParameter(N, i.COMPILE_STATUS))
          console.log(i.getShaderInfoLog(N));
      var k = i.createProgram();
      i.attachShader(k, N);
      i.attachShader(k, C);
      i.linkProgram(k);
      if (!i.getProgramParameter(k, i.LINK_STATUS))
          console.log("Could not initialise shaders");
      this.La = k
  }
  ;
  Y.KI.prototype.Uk = function() {
      if (Y.KI.sj != this) {
          Y.se.useProgram(this.La);
          Y.KI.sj = this
      }
  }
  ;
  Y.Ti = function(E, K) {
      Y.lN++;
      Y.XM += E * K;
      if (Y.Az)
          console.log("GL.Channels instances: " + Y.lN + ", memory: " + Y.XM);
      var i = Y.se;
      this.d = E;
      this.v = K;
      this.k2 = i.createTexture();
      this.B6 = null;
      this.GS(this.k2, E, K)
  }
  ;
  Y.Ti.prototype.GS = function(E, K, i) {
      var C = Y.se;
      C.bindTexture(C.TEXTURE_2D, E);
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_MIN_FILTER, C.NEAREST);
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_MAG_FILTER, C.NEAREST);
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_WRAP_S, C.CLAMP_TO_EDGE);
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_WRAP_T, C.CLAMP_TO_EDGE);
      C.texImage2D(C.TEXTURE_2D, 0, C.ALPHA, K, i, 0, C.ALPHA, C.UNSIGNED_BYTE, null)
  }
  ;
  Y.Ti.prototype.set = function(E) {
      var K = Y.se;
      K.bindTexture(K.TEXTURE_2D, this.k2);
      K.pixelStorei(K.UNPACK_ALIGNMENT, 1);
      K.texImage2D(K.TEXTURE_2D, 0, K.ALPHA, this.d, this.v, 0, K.ALPHA, K.UNSIGNED_BYTE, E);
      K.pixelStorei(K.UNPACK_ALIGNMENT, 4)
  }
  ;
  Y.Ti.prototype.delete = function() {
      var E = Y.se;
      if (this.k2) {
          E.deleteTexture(this.k2);
          Y.lN--;
          Y.XM -= this.d * this.v
      }
      if (Y.Az)
          if (Y.Az)
              console.log("GL.Channels instances: " + Y.lN + ", memory: " + Y.XM * 4)
  }
  ;
  Y.lN = 0;
  Y.U0 = function(E, K, i) {
      if (i == null)
          i = !1;
      Y.lN++;
      Y.XM += E * K * 4;
      if (Y.Az)
          console.log("GL.Channels instances: " + Y.lN + ", memory: " + Y.XM);
      var C = Y.se;
      this.ab1 = i;
      this.d = E;
      this.v = K;
      this.k2 = C.createTexture();
      this.B6 = null;
      this.GS(this.k2, E, K)
  }
  ;
  Y.U0.prototype.set = function(E, K) {
      var i = Y.se;
      i.disable(i.SCISSOR_TEST);
      i.bindTexture(i.TEXTURE_2D, this.k2);
      if (E == null || E instanceof Uint8Array) {
          var C = this.d * this.v;
          if (K == null || K.X() * 10 > C)
              i.texImage2D(i.TEXTURE_2D, 0, i.RGBA, this.d, this.v, 0, i.RGBA, i.UNSIGNED_BYTE, E);
          else {
              var N = _.I(K.X() * 4);
              _.p8(E, new h4(0,0,this.d,this.v), N, K);
              i.texSubImage2D(i.TEXTURE_2D, 0, K.x, K.y, K.d, K.v, i.RGBA, i.UNSIGNED_BYTE, N)
          }
      } else
          i.texImage2D(i.TEXTURE_2D, 0, i.RGBA, i.RGBA, i.UNSIGNED_BYTE, E)
  }
  ;
  Y.U0.prototype.get = function(E) {
      var K = Y.se;
      Y.j8(this);
      K.readPixels(0, 0, this.d, this.v, K.RGBA, K.UNSIGNED_BYTE, E)
  }
  ;
  Y.U0.prototype.HV = function(E) {
      if (E.OL())
          return;
      var K = Y.se;
      if (this.B6 == null) {
          this.B6 = K.createTexture();
          this.GS(this.B6, this.d, this.v);
          Y.lN++;
          Y.XM += this.d * this.v * 4
      }
      K.bindFramebuffer(K.FRAMEBUFFER, Y.sO);
      K.bindTexture(K.TEXTURE_2D, this.B6);
      if (E) {
          var i = Math.max(E.x, 0)
            , C = Math.max(E.y, 0);
          K.copyTexSubImage2D(K.TEXTURE_2D, 0, i, C, i, C, E.d, E.v)
      } else
          K.copyTexImage2D(K.TEXTURE_2D, 0, K.RGBA, 0, 0, this.d, this.v, 0)
  }
  ;
  Y.U0.prototype.GS = function(E, K, i) {
      var C = Y.se;
      C.bindTexture(C.TEXTURE_2D, E);
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_MIN_FILTER, this.ab1 ? C.LINEAR : C.NEAREST);
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_MAG_FILTER, C.NEAREST);
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_WRAP_S, C.CLAMP_TO_EDGE);
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_WRAP_T, C.CLAMP_TO_EDGE);
      C.texImage2D(C.TEXTURE_2D, 0, C.RGBA, K, i, 0, C.RGBA, C.UNSIGNED_BYTE, null)
  }
  ;
  Y.U0.prototype.delete = function() {
      var E = Y.se;
      if (this.k2) {
          E.deleteTexture(this.k2);
          Y.lN--;
          Y.XM -= this.d * this.v * 4
      }
      if (this.B6) {
          E.deleteTexture(this.B6);
          Y.lN--;
          Y.XM -= this.d * this.v * 4
      }
      if (Y.Az)
          if (Y.Az)
              console.log("GL.Channels instances: " + Y.lN + ", memory: " + Y.XM)
  }
  ;
  Y.U0.prototype.clone = function() {
      var E = Y.se
        , K = new Y.U0(this.d,this.v);
      Y.j8(this);
      E.bindTexture(E.TEXTURE_2D, K.k2);
      E.copyTexImage2D(E.TEXTURE_2D, 0, E.RGBA, 0, 0, this.d, this.v, 0);
      return K
  }
  ;
  Y.E1 = {
      ajg: "  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",
      agT: "  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",
      SW: "const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",
      $v: " float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",
      R4: " float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",
      zR: "float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",
      gU: "float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",
      Yg: "vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",
      aj_: "float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",
      Hp: "vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",
      a3S: "vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",
      rt: "vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",
      ad: "bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",
      hash: "float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",
      d7: "vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",
      WV: "vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",
      BG: "float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",
      Et: "vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",
      Np: "vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",
      th: "\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",
      Lf: "\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"
  };
  Y.M4 = {
      qI: {},
      HC: "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"
  };
  Y.M4.Nk = function(E, K) {
      var i = gM.wK
        , C = [i.jW, i.aP, i.xH, i.Qa, i.rf, i.Nf, i.Z$, i.gg].indexOf(E.type)
        , N = Y.M4.qI[E.type];
      if (N == null)
          N = Y.M4.qI[E.type] = new Y.qI[C];
      N.Uk();
      N.Op(K, E);
      Y.se.drawArrays(Y.se.TRIANGLES, 0, 6)
  }
  ;
  Y.qI = [];
  Y.qI[0] = function() {
      Y.KI.call(this);
      this.VN = {};
      var E = "\t\t\tprecision mediump float;\t\t\t" + Y.E1.gU + "\t\t\t" + Y.E1.SW + "\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
      this.ZV(E, Y.M4.HC)
  }
  ;
  Y.qI[0].prototype = new Y.KI;
  Y.qI[0].prototype.Op = function(E, K) {
      var i = {
          h: K.wg,
          l: K.Zo,
          O: K.Lh,
          R: _.I(K.wg.length)
      }
        , C = i.h.length;
      if (this.VN["m" + C] == null) {
          this.VN["m" + C] = {
              a4y: new Y.U0(C,1),
              OR: _.I(C * 4)
          }
      }
      var N = this.VN["m" + C];
      _.aS(i, N.OR, 0);
      var k = N.a4y;
      k.set(N.OR);
      this.QQ(["source", "map", "toGray", "presLum"]);
      var V = Y.se
        , j = this.dM;
      V.uniform1f(j.toGray, K.by ? 1 : 0);
      V.uniform1f(j.presLum, K.lQ ? 1 : 0);
      this.bp([j.source, E, j.map, k.k2])
  }
  ;
  Y.qI[1] = function() {
      Y.KI.call(this);
      this.agg = new Y.U0(256,1);
      this.anc = _.I(256 * 4);
      var E = "\t\t\t\tprecision mediump float;\t\t\t\t" + Y.E1.BG + "\t\t\t\t" + Y.E1.d7 + "\t\t\t\t" + Y.E1.WV + "\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
      this.ZV(E, Y.M4.HC)
  }
  ;
  Y.qI[1].prototype = new Y.KI;
  Y.qI[1].prototype.Op = function(E, K) {
      _.aS({
          h: K.ail,
          l: K.Ep,
          O: K.afW,
          R: _.I(256)
      }, this.anc);
      this.agg.set(this.anc);
      this.QQ(["source", "map", "cfa", "cfb", "colorize"]);
      var i = Y.se
        , C = this.dM;
      i.uniform1f(C.cfa, K.ahh);
      i.uniform1f(C.cfb, K.m6);
      i.uniform1i(C.colorize, K.a2k);
      this.bp([C.source, E, C.map, this.agg.k2])
  }
  ;
  Y.qI[2] = function() {
      Y.KI.call(this);
      var E = "\t\t\tprecision mediump float;\t\t\t" + Y.E1.BG + "\t\t\t" + Y.E1.Et + "\t\t\t" + Y.E1.Np + "\t\t\t" + Y.E1.d7 + "\t\t\t" + Y.E1.WV + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
      this.ZV(E, Y.M4.HC)
  }
  ;
  Y.qI[2].prototype = new Y.KI;
  Y.qI[2].prototype.Op = function(E, K) {
      this.QQ(["source", "vib", "sat"]);
      var i = Y.se
        , C = this.dM;
      i.uniform1f(C.vib, K.KG[0] / 100);
      i.uniform1f(C.sat, K.KG[1] / 100);
      this.bp([C.source, E])
  }
  ;
  Y.qI[3] = function() {
      Y.KI.call(this);
      var E = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
      this.ZV(E, Y.M4.HC)
  }
  ;
  Y.qI[3].prototype = new Y.KI;
  Y.qI[3].prototype.Op = function(E, K) {
      this.QQ(["source", "trf"]);
      var i = Y.se
        , C = this.dM;
      i.uniformMatrix4fv(C.trf, !1, new Float32Array(_.hZ.C2(K.w3)));
      this.bp([C.source, E])
  }
  ;
  Y.qI[4] = function() {
      Y.KI.call(this);
      var E = "\t\t\tprecision mediump float; \t\t\t" + Y.E1.th + "\t\t\t" + Y.E1.BG + "\t\t\t" + Y.E1.WV + "\t\t\t" + Y.E1.d7 + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
      this.ZV(E, Y.M4.HC)
  }
  ;
  Y.qI[4].prototype = new Y.KI;
  Y.qI[4].prototype.Op = function(E, K) {
      this.QQ(["source", "mnm", "mxm", "shift", "lim"]);
      var i = Y.se
        , C = this.dM;
      i.uniform3fv(C.mnm, new Float32Array(K.SR));
      i.uniform3fv(C.mxm, new Float32Array(K._0));
      i.uniform3fv(C.shift, new Float32Array(K.shift));
      i.uniform1f(C.lim, K.Su);
      this.bp([C.source, E])
  }
  ;
  Y.qI[5] = function() {
      Y.KI.call(this);
      var E = "\t\t\tprecision mediump float;\t\t\t" + Y.E1.SW + "\t\t\t" + Y.E1.$v + "\t\t\t" + Y.E1.R4 + "\t\t\t" + Y.E1.d7 + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
      this.ZV(E, Y.M4.HC)
  }
  ;
  Y.qI[5].prototype = new Y.KI;
  Y.qI[5].prototype.Op = function(E, K) {
      this.QQ(["source", "cfs"]);
      var i = Y.se
        , C = this.dM;
      i.uniform3fv(C.cfs, K.sr);
      this.bp([C.source, E])
  }
  ;
  Y.qI[6] = function() {
      Y.KI.call(this);
      var E = "\t\t\tprecision mediump float;\t\t\t" + Y.E1.BG + "\t\t\t" + Y.E1.$v + "\t\t\t" + Y.E1.R4 + "\t\t\t" + Y.E1.d7 + "\t\t\t" + Y.E1.WV + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
      this.ZV(E, Y.M4.HC)
  }
  ;
  Y.qI[6].prototype = new Y.KI;
  Y.qI[6].prototype.Op = function(E, K) {
      this.QQ(["source", "wght", "prms"]);
      var i = Y.se
        , C = this.dM
        , N = [K.pe, K.a30, K.gU, K.a4S, K.qO, K.aiZ];
      i.uniform1fv(C.wght, new Float32Array(K.a51));
      i.uniform1fv(C.prms, new Float32Array(N));
      this.bp([C.source, E])
  }
  ;
  Y.qI[7] = function() {
      Y.KI.call(this);
      this.X3 = {};
      var E = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
      this.ZV(E, Y.M4.HC)
  }
  ;
  Y.qI[7].prototype = new Y.KI;
  Y.qI[7].prototype.Op = function(E, K) {
      this.QQ(["source", "lut", "N"]);
      var i = Y.se
        , C = this.dM
        , N = K.FE
        , k = K.UE;
      if (this.X3["m" + N] == null)
          this.X3["m" + N] = new Y.U0(N,N * N);
      var V = this.X3["m" + N];
      V.set(k);
      i.uniform1f(C.N, N);
      this.bp([C.source, E, C.lut, V.k2]);
      i.activeTexture(i.TEXTURE1);
      var j = i.LINEAR;
      i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MIN_FILTER, j);
      i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MAG_FILTER, j);
      i.activeTexture(i.TEXTURE0)
  }
  ;
  Y.filter = {
      vk: {},
      HC: "1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",
      QE: 0,
      Ds: 1,
      $C: 2,
      In: 3
  };
  Y.filter.Nk = function(E, K) {
      var i = Y.filter
        , C = [i.QE, i.Ds, i.$C, i.In].indexOf(E.type)
        , N = Y.filter.vk[E.type];
      if (N == null)
          N = Y.filter.vk[E.type] = new Y.vk[C];
      N.Uk();
      N.Op(K, E);
      Y.se.drawArrays(Y.se.TRIANGLES, 0, 6)
  }
  ;
  Y.vk = [0, 0, 0, 0, 0, 0, 0];
  Y.vk[3] = function() {
      Y.KI.call(this);
      var E = "1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
      this.ZV(c.iL(E), c.iL(Y.filter.HC))
  }
  ;
  Y.vk[3].prototype = new Y.KI;
  Y.vk[3].prototype.Op = function(E, K) {
      this.QQ("source iwh tdep rrad spec nois poly0 poly1".split(" "));
      var i = Y.se
        , C = this.dM;
      i.uniform2fv(C.iwh, K.uK);
      i.uniform1f(C.tdep, K.aah);
      i.uniform1f(C.rrad, K.aio);
      i.uniform2fv(C.spec, K.akI);
      i.uniform3fv(C.nois, K.ajw);
      i.uniformMatrix4fv(C.poly0, !1, K.a3f);
      i.uniformMatrix4fv(C.poly1, !1, K.ald);
      this.bp([C.source, E]);
      var N = i.LINEAR;
      i.activeTexture(i.TEXTURE0);
      i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MIN_FILTER, N);
      i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MAG_FILTER, N);
      i.activeTexture(i.TEXTURE0)
  }
  ;
  Y.vk[0] = function() {
      Y.KI.call(this);
      var E = "1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
      this.ZV(c.iL(E), c.iL(Y.filter.HC))
  }
  ;
  Y.vk[0].prototype = new Y.KI;
  Y.vk[0].prototype.Op = function(E, K) {
      this.QQ(["source", "iwh", "ld", "shine"]);
      var i = Y.se
        , C = this.dM;
      i.uniform2fv(C.iwh, K.uK);
      i.uniform3fv(C.ld, K.a1d);
      i.uniform1f(C.shine, K.aci);
      this.bp([C.source, E, C.tang, K.Dc])
  }
  ;
  Y.vk[1] = function() {
      Y.KI.call(this);
      var E = "1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
      this.ZV(c.iL(E), c.iL(Y.filter.HC))
  }
  ;
  Y.vk[1].prototype = new Y.KI;
  Y.vk[1].prototype.Op = function(E, K) {
      this.QQ(["source", "iwh", "isc", "bristle"]);
      var i = Y.se
        , C = this.dM;
      i.uniform2fv(C.iwh, K.uK);
      i.uniform1f(C.isc, K.am2);
      i.uniform1f(C.bristle, K.alo);
      this.bp([C.source, E])
  }
  ;
  Y.vk[2] = function() {
      Y.KI.call(this);
      var E = "1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
      this.ZV(c.iL(E), c.iL(Y.filter.HC))
  }
  ;
  Y.vk[2].prototype = new Y.KI;
  Y.vk[2].prototype.Op = function(E, K) {
      this.QQ(["source", "tang", "iwh", "sigma", "expo"]);
      var i = Y.se
        , C = this.dM;
      i.uniform2fv(C.iwh, K.uK);
      i.uniform1f(C.sigma, K.a3o);
      i.uniform1f(C.expo, K.aa$);
      this.bp([C.source, E, C.tang, K.Dc]);
      var N = i.LINEAR;
      i.activeTexture(i.TEXTURE0);
      i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MIN_FILTER, N);
      i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MAG_FILTER, N);
      i.activeTexture(i.TEXTURE0)
  }
  ;
  Y.p = {};
  Y.p.QX = {};
  Y.p.xs = null;
  Y.p.kx = null;
  Y.p.ms = null;
  Y.p.k6 = function(E, K, i, C, N, k, V, j) {
      if (j == null)
          j = h$.bP();
      if ("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(E) == -1) {
          V = V * j.fill;
          j.fill = 1;
          j.style = !1
      }
      var a = E + (j.c5 ? "1" : "");
      if (Y.p.QX[a] == null)
          Y.p.QX[a] = new Y.p.Rx(E,j.c5 != null);
      var e = Y.p.QX[a]
        , L = i.lx(N).lx(k);
      L.offset(-N.x, -N.y);
      if (L.OL())
          return;
      var g = Y.se;
      Y.j8(C, L);
      C.HV(L);
      e.Uk();
      e.Op(K.k2, C.B6, Y.$$(i, N), V, j.fill, j.style ? 1 : 0, j.MC ? 1 : 0, j.c5 ? new Float32Array(j.c5) : null);
      g.drawArrays(g.TRIANGLES, 0, 6)
  }
  ;
  Y.p.lG = function(E, K, i, C, N, k, V, j, a, e, L) {
      if (Y.p.xs == null)
          Y.p.xs = new Y.p.CO(!0,!0);
      if (Y.p.kx == null)
          Y.p.kx = new Y.p.CO(!0,!1);
      if (Y.p.ms == null)
          Y.p.ms = new Y.p.CO(!1,!0);
      var g = e ? 1 : 0
        , I = E ? N ? Y.p.xs : Y.p.kx : Y.p.ms
        , h = new Float32Array(L ? [L[0], L[1], L[2], 1] : [1, 1, 1, 1])
        , o = K ? K.lx(C).lx(j) : C.lx(j);
      if (o.OL())
          return;
      o.offset(-C.x, -C.y);
      var H = Y.se;
      Y.j8(i, o);
      i.HV(o);
      I.Uk();
      if (E == null)
          I.Op(null, i.B6, N.k2, Y.$$(C, C), Y.$$(k, C), V / 255, a, g, h);
      else if (N)
          I.Op(E.k2, i.B6, N.k2, Y.$$(K, C), Y.$$(k, C), V / 255, a, g, h);
      else
          I.Op(E.k2, i.B6, null, Y.$$(K, C), null, V / 255, a, g, h);
      H.drawArrays(H.TRIANGLES, 0, 6)
  }
  ;
  Y.p.a3y = function(E, K, i) {
      if (Y.p.aey == null)
          Y.p.aey = new Y.p.Ct;
      var C = Y.p.aey
        , N = new h4(0,0,E.d,E.v)
        , k = Y.se;
      Y.j8(K);
      K.HV(N);
      C.Uk();
      C.Op(N, E.k2, K.B6, i.k2);
      k.drawArrays(k.TRIANGLES, 0, 6)
  }
  ;
  Y.p.M9 = {
      norm: "return a;",
      diss: "return a;",
      dark: "return min(a,b);",
      "mul ": "return a*b;",
      idiv: "  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",
      lbrn: "return max(ZERO3, a*f+b-f);",
      dkCl: "return ( lum(a)<lum(b) ? a : b );",
      lite: "return max(a,b);",
      scrn: "return b+a-b*a;",
      "div ": "a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",
      lddg: "a*=f;  return min(ONE3,a+b);",
      lgCl: "return ( lum(a)>lum(b) ? a : b );",
      over: "return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",
      sLit: "return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",
      hLit: "return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",
      vLit: " return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",
      lLit: "return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",
      pLit: "return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",
      hMix: "if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",
      diff: "return abs(a*f-b);",
      smud: "return a+b-2.0*a*b;",
      fsub: "return max(b-a, ZERO3);",
      fdiv: "return min(b/a, ONE3);",
      "hue ": "return  setLum( setSat(a, sat(b)) , lum(b) ); ",
      "sat ": "return  setLum( setSat(b, sat(a)) , lum(b) ); ",
      colr: "return  setLum( a, lum(b) ); ",
      "lum ": "return  setLum( b, lum(a) ); "
  };
  Y.p.Rx = function(E, K) {
      Y.KI.call(this);
      var i = "\t\t\tprecision mediump float;\t\t\t" + Y.E1.SW + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t" + (K ? "uniform vec4 blIf[10];" : "") + "\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t" + Y.E1.zR + "\t\t\t" + Y.E1.gU + "\t\t\t" + Y.E1.Yg + "\t\t\t" + Y.E1.ajg + "\t\t\t" + Y.E1.agT + "\t\t\t" + Y.E1.aj_ + "\t\t\t" + Y.E1.Hp + "\t\t\t" + Y.E1.a3S + "\t\t\t" + Y.E1.rt + "\t\t\t" + Y.E1.hash + "\t\t\t" + (K ? Y.E1.Lf : "") + "\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { " + Y.p.M9[E] + " } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);"
        , C = "\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
      if (E == "diss")
          i += "\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
      else
          i += "  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t" + (K ? "  as*=blendIf(src,tgt,blIf);  " : "") + "\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
      this.ZV(i, C)
  }
  ;
  Y.p.Rx.prototype = new Y.KI;
  Y.p.Rx.prototype.Op = function(E, K, i, C, N, k, V, j) {
      this.QQ("srct alpha source target fill style keepBGA blIf".split(" "));
      var a = Y.se
        , e = this.dM;
      a.uniform4fv(e.srct, i);
      a.uniform1f(e.alpha, C);
      a.uniform1f(e.fill, N);
      a.uniform1f(e.style, k);
      a.uniform1f(e.keepBGA, V);
      if (j)
          a.uniform4fv(e.blIf, j);
      this.bp([e.source, E, e.target, K])
  }
  ;
  Y.p.CO = function(E, K) {
      Y.KI.call(this);
      this.aix = E;
      this.c8 = K;
      var i = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t" + Y.E1.ad + "\t\t\t" + Y.E1.hash + "\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = " + (E ? "texture2D(source, sCoord)" : "vec4(0.0)") + "; \t\t\t\tfloat wg = awg " + (K ? "* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)" : "") + ";\t\t\t\t" + (E ? "" : "wg = 1.0-wg;") + "\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  " + (K ? "nc" : "cswitch*nc + (1.0- cswitch)*tgt") + ";    \t\t\t}"
        , C = "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
      this.ZV(i, C)
  }
  ;
  Y.p.CO.prototype = new Y.KI;
  Y.p.CO.prototype.Op = function(E, K, i, C, N, k, V, j, a) {
      if (this.c8)
          this.QQ("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
      else
          this.QQ("srct awg dissv source target cswitch".split(" "));
      var e = Y.se
        , L = this.dM;
      e.uniform4fv(L.srct, C);
      if (this.c8) {
          e.uniform4fv(L.wrct, N);
          e.uniform1f(L.wcolor, k)
      } else {
          e.uniform4fv(L.cswitch, a)
      }
      e.uniform1f(L.awg, V);
      e.uniform1f(L.dissv, j);
      var g = [L.source, E, L.target, K];
      if (this.c8)
          g.push(L.weight, i);
      this.bp(g)
  }
  ;
  Y.p.Ct = function() {
      Y.KI.call(this);
      var E = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}"
        , K = "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
      this.ZV(E, K)
  }
  ;
  Y.p.Ct.prototype = new Y.KI;
  Y.p.Ct.prototype.Op = function(E, K, i, C) {
      this.QQ(["rct", "prev", "next", "alpha"]);
      var N = Y.se
        , k = this.dM;
      N.uniform4fv(k.rct, [0, 0, 1, 1]);
      this.bp([k.prev, K, k.next, i, k.alpha, C])
  }
  ;
  var u = {};
  u.UB = function(E, K, i) {
      this.name = E;
      this.id = K;
      this.sU = null;
      if (i != null)
          this.p3 = i
  }
  ;
  u.UB.prototype.d2 = function(E, K, i, C, N) {}
  ;
  u.UB.prototype.enable = function(E, K, i, C, N, k) {
      var V = new q(c.E.P,!0);
      V.data = {
          e: c.f.VP,
          UG: "default"
      };
      K.U(V)
  }
  ;
  u.UB.prototype.disable = function(E, K, i, C, N) {}
  ;
  u.UB.prototype.Dq = function(E, K, i, C, N) {
      return !1
  }
  ;
  u.UB.prototype.om = function(E, K, i, C, N) {}
  ;
  u.UB.prototype.UM = function(E, K, i, C, N) {}
  ;
  u.UB.prototype.n9 = function(E, K, i, C, N) {}
  ;
  u.UB.prototype.Cs = function(E, K, i, C, N) {}
  ;
  u.UB.prototype.R2 = function(E, K, i, C, N) {}
  ;
  u.UB.prototype.Ok = function(E, K, i, C) {}
  ;
  u.UB.prototype.Fs = function(E, K, i, C) {}
  ;
  u.UB.prototype.Fh = function(E, K) {}
  ;
  u.UB.prototype.eS = function(E, K) {}
  ;
  u.UB.prototype.Kl = function(E, K, i, C, N) {}
  ;
  u.UB.prototype.bX = function(E, K) {}
  ;
  u.UB.prototype.Ci = function(E, K) {
      return !1
  }
  ;
  u.UB.prototype.i4 = function(E, K) {
      return !1
  }
  ;
  u.UB.prototype.cn = function() {
      return !1
  }
  ;
  u.UB.prototype.Kg = function(E, K) {
      return !0
  }
  ;
  u.UB.prototype.bn = function() {
      return null
  }
  ;
  u.UB.prototype.jG = function(E, K, i) {}
  ;
  u.UB.prototype.XA = function() {
      return !1
  }
  ;
  u.UB.prototype.VF = function(E, K, i, C) {}
  ;
  u.UB.prototype.track = function(E) {
      var K = new q(c.E.J5,!0);
      K.data = E;
      E.Ak = !0;
      this.sU.U(K)
  }
  ;
  u.UB.xY = function(E, K, i, C, N) {
      u.UB.xP(E, K, [i2.get([12, 41]).charAt(0) + ": " + _.lj.Fg(i.d, C.v9, N, C.d, !0), i2.get([12, 42]).charAt(0) + ": " + _.lj.Fg(i.v, C.v9, N, C.v, !0)], C)
  }
  ;
  u.UB.xP = function(E, K, i, C) {
      var N = 14
        , k = 130
        , V = i.length * 17 + 8
        , j = new h4(E,K - V,k,V)
        , a = u.UB.ho;
      if (a == null)
          a = u.UB.ho = document.createElement("canvas");
      a.width = k;
      a.height = V;
      var e = a.getContext("2d");
      e.fillStyle = "rgba(0,0,1,1)";
      e.fillRect(0, 0, k, V);
      e.font = N + "px monospace";
      e.fillStyle = "rgba(255,255,255,1)";
      for (var G = 0; G < i.length; G++)
          e.fillText(i[G], 6, (G + 1) * 17);
      C.K.AL = [[e.getImageData(0, 0, k, V).data, j.clone()]]
  }
  ;
  u.UB.ho = null;
  u.Sm = "0";
  u.Z2 = "1";
  u.a0c = "2";
  u.ak$ = "3";
  u.jM = "5";
  u.ab2 = "6";
  u.afC = "7";
  u.pk = "8";
  u.Yc = "9";
  u.Wx = "10";
  u.Hs = "11";
  u.Qv = "12";
  u.RU = "13";
  u.le = "14";
  u.a81 = "16";
  u.MR = "18";
  u.mM = "19";
  u.dG = "20";
  u.cs = "21";
  u.aV = "22";
  u.uf = "23";
  u.pP = "24";
  u.ff = "25";
  u.Yd = "27";
  u.AO = "31";
  u.a8p = "32";
  u.ajQ = "34";
  u.ak2 = "35";
  u.nr = "36";
  u.Uv = "37";
  u.cV = "38";
  u.qD = "39";
  u.ZB = "40";
  u.v0 = "41";
  u.P3 = "42";
  u.kg = "43";
  u.EM = "47";
  u.mu = "51";
  u.WO = "52";
  u.x2 = "54";
  u.rR = "55";
  u.VC = "56";
  u.cZ = "57";
  u.q4 = "58";
  u.cQ = "59";
  u.aeC = "60";
  u.L7 = "61";
  u.Ny = "100";
  u.Dg = "101";
  u.iv = "102";
  u.v$ = "120";
  u.T$ = "230";
  u.a1a = "231";
  u.CC = "232";
  u.Iy = "233";
  u.YB = "234";
  u.sE = "235";
  u.fl = "236";
  u.S0 = function(E) {
      var K = u._4
        , i = null;
      for (var C in K)
          if (K[C][1].indexOf(E[1].classID) != -1)
              i = C;
      return i
  }
  ;
  u._4 = {};
  u._4[u.uf] = ["tools/brush", ["PbTl"]];
  u._4[u.pP] = ["tools/pencil", ["PcTl"]];
  u._4[u.AO] = ["tools/eraser", ["ErTl"]];
  u.Bu = function(E, K, i) {
      u.UB.call(this, E, K, i);
      this.Ph = {
          brush: E ? eQ.X1() : null,
          bmode: "norm",
          opacity: 1,
          flow: 1,
          smth: 0,
          samp: 0,
          prsr: [!1, !0],
          emode: 0,
          wconf: [40, !0, !0],
          algnd: !1,
          sfrom: 0,
          alt: [!1],
          expo: .5,
          rng: 1,
          strn: .5,
          pdetail: !0,
          smode: 1,
          qsmode: 0,
          setop: "front",
          patch: 0
      };
      this.Mi = null;
      this.Xq = null;
      this.bg = null;
      this.JW = null;
      this.es = null;
      this.mo = null;
      this.Ub = null;
      this.n7 = null;
      this.vO = null;
      this.L4 = null;
      this.xZ = null;
      this.sZ = null;
      this.JY = null;
      this.y4 = 1;
      this.U2 = !1;
      this.V2 = null;
      this.caller = null
  }
  ;
  u.Bu.prototype = new u.UB;
  u.Bu.prototype.i4 = function(E, K) {
      return E.Oy && K.q(w.Gj)
  }
  ;
  u.Bu.prototype.UM = function(E, K, i, C, N) {
      if (C.q(w.zA)) {
          this.mo = new bT(N.x,N.y);
          var k = this.Ph.brush.Brsh.v
            , V = k.Dmtr.v.val
            , j = k.Hrdn != null ? k.Hrdn.v.val : -1;
          this.Ub = [V, j, !0, JSON.parse(JSON.stringify(this.Ph.brush)), N];
          this._$(i)
      }
  }
  ;
  u.Bu.prototype.Ll = function(E, K, i) {
      var C = this.Ub
        , N = E.a.S
        , k = i.x - C[4].x
        , V = i.y - C[4].y
        , j = C[0]
        , a = C[1]
        , e = Math.abs(k) > Math.abs(V);
      if (e && C[2]) {
          var L = Math.round(2 * k / N);
          j += L;
          i.x -= k - .5 * L * N
      }
      if (!e && !C[2] && a != -1) {
          var L = Math.round(.25 * V);
          a += L;
          i.y -= V - 4 * L
      }
      j = Math.max(1, j);
      a = C[1] == -1 ? -1 : Math.max(0, Math.min(100, a));
      var g = C[3];
      g.Brsh.v.Dmtr.v.val = j;
      if (a != -1)
          g.Brsh.v.Hrdn.v.val = a;
      this.Ub = [j, a, e, g, i];
      var I = fr.fm(g, K.O9.uQ, N)
        , h = I[1];
      h.x = Math.round(this.mo.x - h.d / 2);
      h.y = Math.round(this.mo.y - h.v / 2);
      E.K.NK = [I];
      var o = E.a.Eb(this.mo.x, this.mo.y);
      E.K.s7 = {
          Q8: [],
          ha: [o.x - j / 2, o.y, o.x + j / 2, o.y]
      };
      if (a != -1)
          E.K.s7.ha.push(o.x + 50 / N, o.y - a / 2, o.x + 50 / N, o.y + a / 2);
      E.nK = !0
  }
  ;
  u.Bu.prototype.R2 = function(E, K, i, C, N) {
      if (this.id == u.dG)
          return;
      if (this.mo) {
          this.mo = null;
          this.cJ(JSON.parse(JSON.stringify(this.Ub[3])));
          E.K.NK = [];
          E.K.s7 = null;
          E.nK = !0;
          return
      }
      var k = new q(c.E.P,!0);
      k.data = {
          e: c.f.Mx,
          F: this.id,
          a6n: "showBrushOpts",
          s6: new bT(N.ES + 4,N.xg)
      };
      K.U(k)
  }
  ;
  u.Bu.prototype.cJ = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.H7,
          KG: dp.Zb,
          AC: E
      };
      this.caller.U(K)
  }
  ;
  u.Bu.yN = function(E, K, i, C) {
      if (E == null)
          E = "FrgC";
      if (K == null)
          K = "norm";
      if (i == null)
          i = 1;
      var N = {
          classID: "Fl",
          Usng: {
              t: "enum",
              v: {
                  FlCn: E
              }
          },
          Opct: {
              t: "UntF",
              v: {
                  type: "#Prc",
                  val: Math.round(i * 100)
              }
          },
          Md: {
              t: "enum",
              v: {
                  BlnM: gx.Ig(K)
              }
          }
      };
      if (E == "Clr")
          N.Clr = {
              t: "Objc",
              v: C
          };
      if (E == "contentAware")
          N.contentAwareColorAdaptationFill = {
              t: "bool",
              v: !0
          };
      return {
          bT: "fill",
          v4: N
      }
  }
  ;
  u.Bu.prototype.d2 = function(E, K, i, C, N) {
      this.sU = K;
      var k = i.QZ.length;
      if (k == 0 && !i.Os())
          return;
      var V = k != 0 ? -1 - i.QZ[0] : i.C[0]
        , j = i.t[V];
      if (E.e == "fromAction") {
          var a = E.cd
            , e = a.v4;
          if (a.bT == "fill") {
              var L = (e.Opct ? e.Opct.v.val : 100) / 100, g = e.Md ? gx.pv(e.Md.v.BlnM) : "norm", I = e.Usng.v.FlCn, h;
              if (I == "contentAware") {
                  if (i.N == null) {
                      alert("Select an area to heal first.");
                      return
                  }
                  if (!i.Os())
                      return;
                  this.ZK(i);
                  this.wO(i, 0);
                  var o = i.N
                    , H = _.I(o.rect.X() * 4);
                  _.lM(o.channel, H, 3);
                  this.uj(i, "sheal", H, o.rect, o.rect);
                  this.s(i, o.rect);
                  this.finish(i, o.rect)
              } else {
                  if (I == "FrgC")
                      h = N.sm;
                  else if (I == "BckC")
                      h = N.JT;
                  else if (I == "Blck")
                      h = 0;
                  else if (I == "Wht")
                      h = 16777215;
                  else if (I == "Gry")
                      h = 8421504;
                  else if (I == "Clr") {
                      var A = _.V.Gk(e.Clr.v);
                      h = A.h << 16 | A.l << 8 | A.O
                  }
                  var S = h >> 16 & 255
                    , v = h >> 8 & 255
                    , s = h >> 0 & 255;
                  this.$L(i, j, i.N, S, v, s, Math.round(255 * L), g, [2, 3])
              }
          } else if (a.bT == "delete") {
              var D = V < 0 ? 1 : j.dz, o = i.N, B;
              if (o == null)
                  return;
              var F = V < 0 ? i.h_[-V - 1] : D <= 0 ? null : D == 1 ? j.$Y() : j.uy(i).r
                , y = D <= 0 ? j.rect : F.rect
                , T = D <= 0 ? o.rect.lx(y) : o.rect.clone();
              if (T.OL())
                  return;
              var Q = T.X();
              if (D <= 0) {
                  B = _.I(Q * 4);
                  _.p8(j.buffer, j.rect, B, T)
              } else {
                  B = _.I(Q);
                  F.extend(T);
                  _.ie(F.channel, F.rect, B, T)
              }
              if (0 <= V && j.za(i, o)) {
                  if (D <= 0) {
                      _.EE(B, 0);
                      _.p8(j.rA.J8, j.rA.Kt, B, T)
                  } else {
                      B.fill(255);
                      _.ie(j.rA.J8, j.rA.Kt, B, T)
                  }
              } else {
                  if (D <= 0) {
                      var r = _.I(B.length >> 2);
                      _.wF(B, r, 3);
                      _.p.tj(_.rV(o.rect.X()), o.rect, r, T, o.channel, T, 1);
                      _.lM(r, B, 3)
                  } else {
                      var J = _.I(o.rect.X())
                        , S = N.JT >>> 16 & 255
                        , v = N.JT >> 8 & 255
                        , s = N.JT >> 0 & 255;
                      J.fill(Math.round(_.W6(S, v, s)));
                      _.p.tj(J, o.rect, B, T, o.channel, T, 1)
                  }
              }
              this.bJ(i, !0, [2, 2], V, D, T, B)
          }
      }
      if (E.e == "stroke") {
          var m = E.a6f
            , o = i.N;
          if (o == null) {
              o = {
                  rect: j.rect.clone(),
                  channel: _.I(j.rect.X())
              };
              _.wF(j.buffer, o.channel, 3)
          }
          var x = h$.QP(m)
            , R = u.u$.Wz(o, Math.ceil(x[0]), Math.ceil(x[1]))
            , h = _.V.Gk(m.Clr.v)
            , S = Math.round(h.h)
            , v = Math.round(h.l)
            , s = Math.round(h.O);
          this.$L(i, j, R, S, v, s, Math.round(255 * m.Opct.v.val / 100), gx.pv(m.Md.v.BlnM), [14, 9])
      }
      if (E.e == "fillBMP") {
          this.__(i, j, i.N, E.QB, E.Lh, E.$t)
      }
      if (E.e == "draw") {
          var b = E.Oc
            , z = b.rect;
          this.ZK(i);
          var $ = i.t[i.C[0]];
          if (E.a68 && $ && $.dz <= 0 && i.QZ.length == 0) {
              z = hn.BS.Ov(b, i);
              $.buffer = b.buffer.slice(0);
              $.rect = z.clone()
          } else {
              var P = this.Ph.bmode;
              this.Ph.bmode = "norm";
              this.uj(i, "draw", b.buffer, z, z.lx(new h4(0,0,i.d,i.v)));
              this.Ph.bmode = P
          }
          this.s(i, z);
          i._S = !0;
          this.finish(i, z, E.$t, E.a68)
      }
  }
  ;
  u.Bu.prototype.$L = function(E, K, i, C, N, k, V, j, a) {
      var e = i == null ? new h4(0,0,E.d,E.v) : i.rect
        , L = V << 24 | k << 16 | N << 8 | C << 0
        , g = _.I(e.X() * 4);
      _.EE(g, L);
      this.__(E, K, i, g, j, a)
  }
  ;
  u.Bu.prototype.__ = function(E, K, i, C, N, k) {
      var V = E.QZ.length != 0 ? -1 - E.QZ[0] : E.C[0], j = V < 0 ? 1 : K.dz, a = V < 0 ? E.h_[-1 - V] : j <= 0 ? null : j == 1 ? K.$Y() : K.uy(E).r, e = j <= 0 ? K.rect : a.rect, L = i == null ? new h4(0,0,E.d,E.v) : i.rect, g = i == null ? _.w6(E.d * E.v) : i.channel, I = L.X(), h, o = null;
      if (j <= 0) {
          h = _.I(I * 4);
          _.p8(K.buffer, K.rect, h, L)
      } else {
          h = _.I(I);
          a.extend(L);
          _.ie(a.channel, a.rect, h, L)
      }
      if (i != null)
          _.hb(g, C);
      if (j > 0) {
          o = _.I(I);
          _.YU(C, o)
      }
      if (0 <= V && i && K.za(E, i)) {
          var H = K.rA.Gf
            , A = K.rA.Gf.slice(0);
          if (j <= 0)
              _.uJ(C, A);
          else
              _.uJ(o, A);
          var S = new fy([2, 3],this);
          S.data = {
              e: "drawtemp",
              z: E.C[0],
              KM: j,
              afo: H,
              amm: A
          };
          E.b8(S);
          this.Fh(S.data, E)
      } else {
          if (j <= 0) {
              var v;
              if (K.Hv(0)) {
                  v = _.I(L.X());
                  _.wF(h, v, 3)
              }
              _.p.JA(N, C, L, h, L, L, 1);
              if (K.Hv(0))
                  _.lM(v, h, 3)
          } else
              _.p.tj(o, L, h, L, g, L, 1);
          this.bJ(E, !0, k, V, j, L, h)
      }
  }
  ;
  u.Bu.prototype.Ci = function(E) {
      if (w.D_.indexOf(E) != -1)
          return !0;
      return !1
  }
  ;
  u.Bu.prototype.Ok = function(E, K, i, C) {
      var N = this.Ph.brush
        , k = C.q(w.zA)
        , V = k != this.U2
        , j = u.Bu.g6(N, C);
      if (j != null)
          this.cJ(j);
      if (!C.q(w.qN) && C.lT() != -1) {
          var a = c.j_(Math.round(this.Ph.opacity * 100), C.lT()) / 100;
          this.Zr({
              opacity: a
          }, K)
      }
      if (this.id == u.pk && V && E != null) {
          var e = this.Ph.qsmode;
          if (e == 2)
              e = E.N == null ? 0 : 1;
          else
              e = 2;
          this.Zr({
              qsmode: e
          }, K)
      }
      this.U2 = k;
      if (V) {
          if (E)
              this.y4 = E.a.S;
          this._$(i, C)
      }
  }
  ;
  u.Bu.g6 = function(E, K) {
      var i = E.Brsh.v.Dmtr.v.val
        , C = E.Brsh.v.Hrdn != null ? E.Brsh.v.Hrdn.v.val : -1
        , N = i
        , k = C
        , V = K.q(w.Gj);
      if (K.q(w.g$)) {
          if (V)
              C = 25 * Math.floor((C - 1) / 25);
          else {
              if (i <= 10)
                  i--;
              else if (i <= 50)
                  i = 5 * Math.floor((i - 1) / 5);
              else if (i <= 100)
                  i = 10 * Math.floor((i - 1) / 10);
              else if (i <= 200)
                  i = 25 * Math.floor((i - 1) / 25);
              else if (i <= 400)
                  i = 50 * Math.floor((i - 1) / 50);
              else
                  i = 100 * Math.floor((i - 1) / 100)
          }
      }
      if (K.q(w.YL)) {
          if (V)
              C = 25 * Math.ceil((C + 1) / 25);
          else {
              if (i < 10)
                  i++;
              else if (i < 50)
                  i = 5 * Math.ceil((i + 1) / 5);
              else if (i < 100)
                  i = 10 * Math.ceil((i + 1) / 10);
              else if (i < 200)
                  i = 25 * Math.ceil((i + 1) / 25);
              else if (i < 400)
                  i = 50 * Math.ceil((i + 1) / 50);
              else
                  i = 100 * Math.ceil((i + 1) / 100)
          }
      }
      i = Math.max(1, i);
      C = Math.max(0, Math.min(100, C));
      if (k == -1)
          C = -1;
      if (i != N || C != k) {
          var j = JSON.parse(JSON.stringify(E));
          j.Brsh.v.Dmtr.v.val = i;
          if (k != -1)
              j.Brsh.v.Hrdn.v.val = C;
          return j
      }
      return null
  }
  ;
  u.Bu.prototype._$ = function(E, K, i, C) {
      if (E.O9.list.length == 0)
          return;
      var N = this.id, k;
      if ((N == u.Yd || N == u.mM || N == u.uf || N == u.pP) && (K != null && K.q(w.zA) || this.Ph.alt[0]))
          k = "crosshair";
      else {
          var V = this.y4
            , j = this.Ph.brush;
          if ((N == u.Yd || N == u.mM) && i && this.sZ && this.sZ.length == this.xZ.X() * 4) {
              var a = i.a.Eb(C.x, C.y), e = this.Ls(a), L = this.sZ, g = this.xZ, I = new h4(g.x + e.x,g.y + e.y,g.d,g.v), h = fr.fm(j, E.O9.uQ, V), o = h[0], H = h[1], A = Math.ceil(H.d / V), S = new h4(Math.round(a.x - A / 2),Math.round(a.y - A / 2),A,A), v = _.I(S.X() * 4), s, D;
              _.p8(L, I, v, S);
              if (V == 1) {
                  s = v;
                  D = S
              } else {
                  var F = new fn(V,0,0,V,0,0)
                    , y = u._.VT([v, S], F, !0);
                  D = H.clone();
                  D.x = y.rect.x;
                  D.y = y.rect.y;
                  if (D.Ql(y.rect))
                      s = y.buffer;
                  else {
                      s = _.I(D.X() * 4);
                      _.p8(y.buffer, y.rect, s, D)
                  }
              }
              var T = this.Ph.opacity / 255;
              for (var G = 0; G < s.length; G += 4)
                  s[G + 3] = T * (o[G + 3] * s[G + 3]);
              k = {
                  Ap: s,
                  g: D,
                  fu: new bT(D.d / 2,D.v / 2)
              }
          } else
              k = fr.da(j, E.O9.uQ, V, N == u.ff)
      }
      var Q = new q(c.E.P,!0);
      Q.data = {
          e: c.f.VP,
          UG: k
      };
      if (this.caller)
          this.caller.U(Q)
  }
  ;
  u.Bu.prototype.enable = function(E, K, i, C) {
      this.Mi = i;
      this.caller = K;
      this.cJ(JSON.parse(JSON.stringify(this.Ph.brush)));
      if (E && E.a.S != 0)
          this.y4 = E.a.S;
      this._$(i, C)
  }
  ;
  u.Bu.prototype.bX = function(E, K) {
      if (K == dp.Zb) {
          this.Ph.brush = E.O9.h8;
          this._$(E)
      }
  }
  ;
  u.Bu.prototype.Kl = function(E, K, i, C, N) {
      for (var k in E)
          this.Ph[k] = E[k];
      if (this.Ph.alt[0])
          this._$(N, C, i)
  }
  ;
  u.Bu.prototype._Z = function(E) {
      var K = E.QZ.length != 0 ? -1 - E.QZ[0] : E.C[0]
        , i = E.t[K]
        , C = K < 0 ? 1 : i.dz
        , N = K < 0 ? E.h_[-K - 1] : C <= 0 ? null : C == 1 ? i.$Y() : i.uy(E).r
        , k = N ? N.channel : i.buffer
        , V = (N ? N.rect : i.rect).clone();
      return [i, C, N, k, V]
  }
  ;
  u.Bu.prototype.ZK = function(E, K) {
      this.JY = E.N == null ? null : {
          rect: E.N.rect.clone(),
          channel: E.N.channel.slice(0)
      };
      var i = this._Z(E)
        , C = i[0]
        , N = i[1]
        , k = i[2];
      this.L4 = i[3];
      this.vO = i[4];
      var V = new h4(0,0,E.d,E.v)
        , j = V.ip(this.vO);
      if ((this.F_() && N <= 0 || j.Ql(this.vO)) && K != !0)
          this.L4 = this.L4.slice(0);
      else {
          if (k)
              k.extend(j);
          else
              C.extend(j)
      }
  }
  ;
  u.Bu.prototype.wO = function(E, K) {
      var i = this._Z(E)
        , C = i[1]
        , N = i[3]
        , k = i[4]
        , V = [N, k]
        , j = K != null ? K : this.Ph.sfrom;
      if (C <= 0 && j != 0) {
          V[1] = new h4(0,0,E.d,E.v);
          V[0] = E.A7(j == 1 && E.C[0] != E.t.length - 1 ? E.C[0] : null).slice(0)
      }
      this.xZ = V[1].clone();
      this.sZ = V[0].slice(0)
  }
  ;
  u.Bu.prototype.eV = function(E, K, i) {
      if (E.q(w.zA)) {
          var C = new q(c.E.A,!0);
          C.F = u.le;
          C.data = {
              e: "pickhere",
              a7d: i
          };
          K.U(C);
          return !0
      }
      return !1
  }
  ;
  u.Bu.prototype.Bi = function(E, K, i, C, N, k) {
      if (!E.Os(this.caller)) {
          this.Xq = null;
          return
      }
      this.ZK(E);
      var V = new h4(0,0,E.d,E.v)
        , j = null;
      if (k != null) {
          var a = E.QZ.length != 0 ? -1 - E.QZ[0] : E.C[0]
            , e = E.t[a]
            , L = a < 0 ? E.h_[-a - 1] : e.dz <= 0 ? null : e.dz == 1 ? e.$Y() : e.uy(E).r;
          j = _.I(V.X() * 4);
          if (L)
              u.Bu.To(this.L4, this.vO, L.color, j, V);
          else
              _.p8(this.L4, this.vO, j, V)
      }
      var g = this.Ph;
      if (this.Xq && this.id == u.pk && g.qsmode != 0 && E.N != null) {} else {
          var I = K.sm
            , h = K.JT;
          if (this.V2 == "erase") {
              var o = I;
              I = h;
              h = o
          }
          var H = this.id == u.pk ? this.vO : V;
          this.Xq = new fr(g.brush,K.O9.uQ,K.O9.j$,{
              $J: N,
              s5: k,
              a1x: g.smth * 50 * c.M() / E.a.S,
              zf: this.id == u.pP || g.emode == 1,
              JO: g.prsr
          },I,h,H,j)
      }
      if (this.id == u.pk) {
          this.Xq.XX(g.brush, g.qsmode == 2 ? 0 : 16777215)
      }
      var A = E.a.Eb(C.x, C.y);
      if (i.q(w.Gj) && this.bg) {
          var S = this.bg;
          this.Xq.moveTo(S.x, S.y, C.JV);
          this.Xq.lineTo(.001 * S.x + .999 * A.x, .001 * S.y + .999 * A.y, C.JV);
          this.Xq.lineTo(A.x, A.y, C.JV)
      } else
          this.Xq.moveTo(A.x, A.y, C.JV);
      this.bg = A;
      this.JW = A.clone();
      this.es = new aS(A,E.a.m3)
  }
  ;
  u.Bu.prototype.MB = function(E, K, i) {
      if (E && E.a.S != 0 && E.a.S != this.y4) {
          this.y4 = E.a.S;
          this._$(i)
      }
  }
  ;
  u.Bu.prototype.wX = function(E, K, i, C) {
      if (this.Xq == null)
          return;
      var N = E.t[E.C[0]]
        , k = E.a.Eb(C.x, C.y)
        , V = this.es.vt(k, i);
      if (V.Ql(this.bg))
          return 1;
      this.Xq.lineTo(V.x, V.y, C.JV);
      this.bg = V;
      if (this.id == u.Yd || this.id == u.mM) {
          var j = this.eG()
            , a = 11;
          j = E.a.Dl(k.x - j.x, k.y - j.y);
          var e = a >>> 1
            , L = new h4(Math.round(j.x) - e,Math.round(j.y) - e,a,a)
            , g = _.I(L.X() * 4);
          _.EE(16777215);
          for (var G = 0; G < a; G++)
              g[(G * a + e) * 4 + 3] = g[(a * e + G) * 4 + 3] = 255;
          E.K.AL = [[g, L]];
          E.nK = !0
      }
  }
  ;
  u.Bu.prototype.Fs = function(E, K, i, C) {
      if (i.sw != this.id)
          return;
      if (this.id != u.pk || E == null)
          return;
      if (E.N == null || E.C[0] != this.a8T) {
          this.a8T = E.C[0];
          this.Zr({
              qsmode: 0
          }, K)
      }
  }
  ;
  u.Bu.prototype.s = function(E, K) {
      if (E.QZ.length != 0) {
          E.nK = !0;
          return
      }
      var i = E.t[E.C[0]];
      if (K == null) {
          K = this.Xq.fo();
          if (this.F_() && i.dz <= 0)
              K = K.lx(this.vO)
      }
      if (K.OL())
          return;
      if (i.dz <= 0) {
          i.s(K)
      }
      if (i.dz == 1) {
          i.$Y().bZ = !0;
          i.Kf(E)
      }
      if (i.dz == 3) {
          i.s()
      }
      E.s(E.root.D5(K, E, E.C[0], !0))
  }
  ;
  u.Bu.prototype.Cs = function(E, K, i, C, N) {
      if (this.Xq == null)
          return;
      this.Xq.finish();
      if (this.id != u.MR && this.id != u.mM && this.id != u.pk)
          this.jJ(E);
      if (this.id == u.Yd || this.id == u.mM) {
          E.K.AL = [];
          E.nK = !0
      }
      if (this.id == u.pk) {
          var k = E.N;
          E.N = this.JY;
          var V = new q(c.E.A,!0);
          V.data = {
              e: "setsel",
              $t: this.name,
              N: k
          };
          V.F = u.Z2;
          K.U(V);
          if (this.Ph.qsmode == 0)
              this.Zr({
                  qsmode: 1
              }, K)
      } else {
          this.finish(E, this.Xq.oi());
          this.Xq = null;
          this.n7 = null
      }
      this.dir = 0
  }
  ;
  u.Bu.prototype.Zr = function(E, K) {
      for (var i in E)
          this.Ph[i] = E[i];
      var C = new q(c.E.P,!0);
      C.data = {
          e: c.f.Mx,
          F: this.id,
          $m: E
      };
      K.U(C)
  }
  ;
  u.Bu.prototype.F_ = function() {
      var E = this.id;
      return E == u.pk || E == u.AO || E == u.qD || E == u.ZB || E == u.v0 || E == u.aV
  }
  ;
  u.Bu.prototype.finish = function(E, K, i, C, N) {
      var k = E.QZ.length != 0 ? -1 - E.QZ[0] : E.C[0], V = E.t[k], j = k < 0 ? 1 : V.dz, a = k < 0 ? E.h_[-k - 1] : j <= 0 ? null : j == 1 ? V.$Y() : V.uy(E).r, e = a ? a.rect : V.rect, I;
      if (this.F_() || !e.Ql(this.vO)) {
          if (a == null) {
              if (this.F_())
                  V.NU();
              else {
                  var L = K.ip(this.vO)
                    , g = _.I(L.X() * 4);
                  _.p8(V.buffer, V.rect, g, L);
                  V.buffer = g;
                  V.rect = L
              }
          } else
              a.NU();
          this.s(E, e)
      }
      if (j <= 0) {
          I = _.I(K.X() * 4);
          _.p8(this.L4, this.vO, I, K)
      } else {
          I = _.I(K.X());
          I.fill(a.color);
          _.ie(this.L4, this.vO, I, K)
      }
      this.bJ(E, !1, i ? i : this.name, k, j, K, I, C, N)
  }
  ;
  u.Bu.prototype.bJ = function(E, K, i, C, N, k, V, j, a) {
      var e = V;
      if (N > 0) {
          e = _.I(k.X() * 4);
          u.Bu.To(V, k, 0, e, k)
      }
      var L = new fy(i,this);
      L.data = [{
          z: C,
          KM: N,
          g: k,
          UE: e
      }];
      if (j)
          L.data.gl = [E.N, null];
      if (a)
          L.data.gl = [this.JY, E.N];
      E.b8(L);
      if (K)
          this.Fh(L.data, E);
      else if (j)
          E.N = null;
      hn.VG.aF(E, L.data)
  }
  ;
  u.Bu.prototype.eS = function(E, K) {
      this.tq(E, K, !1)
  }
  ;
  u.Bu.prototype.Fh = function(E, K) {
      this.tq(E, K, !0)
  }
  ;
  u.Bu.prototype.tq = function(E, K, i) {
      if (E.e == "drawtemp") {
          var C = i ? E.amm : E.afo
            , N = K.t[E.z];
          N.rA.Gf = C;
          N.lA(K, 0, 0, K.N);
          N.s();
          K._S = !0
      } else {
          hn.VG.oK(K, E);
          if (E.gl) {
              K.N = E.gl[i ? 1 : 0];
              K.UT = !0
          }
      }
      K.s()
  }
  ;
  u.Bu.prototype.jJ = function(E) {
      this.uj(E, this.V2, this.Xq.wc(), this.Xq.Qc(), this.Xq.fo());
      this.s(E)
  }
  ;
  u.Bu.prototype.uj = function(E, K, i, C, N) {
      var k = this.Ph, V = E.t[E.C[0]], j = E.QZ.length != 0 ? E.h_[E.QZ[0]] : V.dz <= 0 ? null : V.dz == 1 ? V.$Y() : V.uy(E).r, a = _.I(N.X() * 4), e, L = V.Hv(0);
      if (j == null) {
          if (this.id == u.cs && K == "heal")
              _.p8(V.buffer, V.rect, a, N);
          else
              _.p8(this.L4, this.vO, a, N);
          if (L) {
              e = _.I(N.X());
              _.wF(a, e, 3)
          }
      } else {
          u.Bu.To(this.L4, this.vO, j.color, a, N)
      }
      if (E.N && K != "qselect") {
          var g = N.lx(E.N.rect)
            , I = _.I(g.X() * 4);
          if (K == "copy") {
              var h = _.I(g.X());
              _.ie(E.N.channel, E.N.rect, h, g);
              _.p8(a, N, I, g);
              _.p._H(i, C, I, g, h, g, 0, g, 1, !1)
          } else {
              _.p8(i, C, I, g);
              _.qY(E.N.channel, E.N.rect, I, g)
          }
          i = I;
          C = g
      }
      function o(S, hQ) {
          var ag = Math.max(hQ.x, Math.min(hQ.x + hQ.d - 1, S.x))
            , am = Math.max(hQ.y, Math.min(hQ.y + hQ.v - 1, S.y));
          return new bT(ag,am)
      }
      if (K == "idraw" || K == "ierase") {
          if (this.n7 == null)
              this.n7 = _.I(this.vO.X());
          var H = this.Ph.samp
            , A = this.Mi.JT
            , S = o(this.bg, N)
            , v = H == 0 ? S : this.JW
            , s = v.x
            , D = v.y
            , F = u.Lz.NS(this.L4, this.vO, [v, new bT(s - 2,D), new bT(s + 2,D), new bT(s,D - 2), new bT(s,D + 2)]);
          if (H == 2)
              F = [[A >>> 16 & 255, A >>> 8 & 255, A >>> 0 & 255, 255]];
          var y = u.Lz.PX(a, N, S, F, this.Ph.wconf)
            , T = _.I(N.X());
          _.ie(this.n7, this.vO, T, N);
          _.zv.ip(y, T, T);
          _.ie(T, N, this.n7, this.vO);
          _.qY(T, N, i, C);
          K = K.slice(1)
      }
      if (K == "erase" && (hn.VG.Vl(E) != 16777215 || j))
          K = "draw";
      if (K == "draw")
          _.p.JA(k.bmode, i, C, a, N, N, k.opacity);
      else if (K == "erase") {
          var Q = _.I(N.X() * 4);
          _.p8(i, C, Q, N);
          if (j == null) {
              var B = _.I(N.X());
              _.wF(Q, B, 3);
              _.Fj(B, k.opacity);
              _.KP(B);
              _.qY(B, N, a, N)
          } else {
              _.EE(Q, 0, 4278190080);
              _.p.JA("norm", Q, N, a, N, N, k.opacity)
          }
      } else if (K == "clone" || K == "heal") {
          var r = this.eG()
            , J = this.xZ.clone();
          J.offset(r.x, r.y);
          var m = N.clone();
          m.Lv(1, 1);
          var x = _.I(m.X() * 4)
            , R = _.I(m.X());
          _.p8(i, C, x, m);
          _.wF(x, R, 3);
          _.EE(x, 0);
          if (j == null) {
              _.p8(this.sZ, J, x, m);
              var b = _.I(m.X());
              _.wF(x, b, 3);
              _.RK(b, R)
          } else
              u.Bu.To(this.sZ, J, j.color, x, m);
          if (K == "clone") {
              _.lM(R, x, 3);
              _.p.JA(k.bmode, x, m, a, N, N, k.opacity)
          }
          if (K == "heal") {
              var z = R.slice(0);
              _.round(z, 20);
              var $ = _.I(m.X() * 4);
              if (j == null)
                  _.p8(this.L4, this.vO, $, m);
              else
                  u.Bu.To(this.L4, this.vO, j.color, $, m);
              _.p._H(x, m, $, m, z, m, 0, m, 1, !1);
              _.GF.Wb($, z, m);
              _.p._H($, m, a, N, R, m, 0, N, 1, !1)
          }
      } else if (K == "dodge" || K == "burn") {
          var x = _.I(N.X() * 4)
            , X = 1
            , Z = 0
            , p = 0
            , gl = 0;
          _.p8(i, C, x, N);
          var P = N.X() * 4
            , t = u.Bu.IM;
          if (this.U2) {
              if (K == "dodge")
                  K = "burn";
              else
                  K = "dodge"
          }
          var f = k.rng;
          if (K == "dodge") {
              Z = [1 - X / 2, 1, 1 + X][f];
              p = [1, 1 / (1 + X), 1][f];
              gl = [X / 2, 0, 0][f]
          }
          if (K == "burn") {
              Z = [1 / (1 - X / 2), 1, 1 - X / 2][f];
              p = [1, 1 + X, 1][f];
              gl = [-(X / 2) / (1 - X / 2), 0, 0][f]
          }
          for (var G = 0; G < P; G += 4) {
              var cY = x[G + 3];
              a[G + 0] = t(a[G + 0], Z, p, gl, cY);
              a[G + 1] = t(a[G + 1], Z, p, gl, cY);
              a[G + 2] = t(a[G + 2], Z, p, gl, cY)
          }
      } else if (K == "sponge" || K == "redeye") {
          var x = _.I(N.X() * 4)
            , R = _.I(N.X());
          _.p8(i, C, x, N);
          _.wF(x, R, 3);
          _.uJ(a, x);
          var fC = k.smode;
          if (this.U2)
              fC = 1 - fC;
          var hi = ef.Sk("hue2");
          if (K == "sponge")
              dn.RM(hi, 0, [0, [-50, 46][fC], [6, 5][fC]]);
          else
              dn.RM(hi, 1, {
                  ew: [265, 305, 25, 55],
                  sz: [0, -90, -70]
              });
          var es = gM.CZ("hue2", hi);
          gM.aL(es, x, x, N);
          _.p._H(x, N, a, N, R, N, 0, N, 1, !1)
      } else if (K == "copy")
          _.p8(i, C, a, N);
      else if (K == "sheal") {
          var x = _.I(N.X() * 4)
            , R = _.I(N.X());
          _.p8(i, C, x, N);
          _.wF(x, R, 3);
          x.fill(0);
          var W = this.sZ
            , d = this.xZ;
          if (j) {
              W = _.I(d.X() * 4);
              u.Bu.To(this.sZ, d, 0, W, d)
          }
          var fM = _.Il.Wb(W, d, R, x, N);
          if (fM != 0)
              _.p8(W, d, x, N);
          if (this.Ph.sfrom == 0)
              _.p8(x, N, a, N);
          else {
              _.p8(this.L4, this.vO, a, N);
              _.lM(R, x, 3);
              _.p.JA("norm", x, N, a, N, N, 1)
          }
      } else if (K == "qselect") {
          var n = this.vO
            , ax = n.d
            , d_ = n.v
            , cm = ax * d_
            , c4 = this.Xq.wc()
            , F = this.L4
            , ch = u.u$.wy
            , R = ch.Z6;
          R.fill(128);
          for (var G = 0; G < cm; G++) {
              var hQ = c4[G << 2]
                , em = c4[(G << 2) + 3];
              if (em == 255 && (hQ == 0 || hQ == 255))
                  R[G] = hQ
          }
          R[0] = R[ax - 1] = 0;
          R[(d_ >>> 1) * ax] = R[(d_ >>> 1) * ax + ax - 1] = 0;
          u.Wp.XN(ch, !0);
          E.N = {
              rect: n,
              channel: ch.N.slice(0)
          };
          E.UT = !0
      }
      if (j == null) {
          if (L)
              _.lM(e, a, 3);
          _.p8(a, N, V.buffer, V.rect)
      } else
          u.Bu.pp(a, N, j)
  }
  ;
  u.Bu.eG = function() {
      return null
  }
  ;
  u.Bu.IM = function(E, K, i, C, N) {
      var k = E * (1 / 255)
        , V = C + K * Math.pow(k, i)
        , j = Math.round(V * N + k * (255 - N));
      return Math.max(0, Math.min(255, j))
  }
  ;
  u.Bu.To = function(E, K, i, C, N) {
      var k = _.I(N.X());
      k.fill(i);
      _.ie(E, K, k, N);
      C.fill(255);
      _.WE(k, C)
  }
  ;
  u.Bu.pp = function(E, K, i) {
      var C = _.I(K.X());
      _.YU(E, C);
      _.ie(C, K, i.channel, i.rect)
  }
  ;
  u.u$ = function(E, K, i) {
      u.UB.call(this, E, K, i);
      this.Ph = {
          bH: "front",
          zo: 0,
          JD: {
              yH: 0,
              x: 3,
              y: 2
          },
          Uj: [16, !0, !0]
      };
      this.r4 = new bT(-1,-1);
      this.WK = new bT(-1,-1);
      this.pQ = "default";
      this.sU = null;
      this.a84 = !0;
      this.g_ = !1;
      this.HG = !1;
      this.U2 = !1;
      this.sk = 0;
      this.Yl = 0;
      this.Ev = !1;
      this.DH = null;
      this._n = null;
      this.T5 = !1
  }
  ;
  u.u$.prototype = new u.UB;
  u.u$.prototype.acH = function() {
      var E = this.Ph
        , K = [{
          front: 0,
          union: 1,
          difference: 2,
          intersection: 3
      }[E.bH], E.zo];
      if (this.id == u.Yc)
          K.push(E.Uj);
      return K
  }
  ;
  u.u$.prototype.afh = function(E, K, i) {
      var C = this.Ph;
      C.bH = ["front", "union", "difference", "intersection"][E[0]];
      C.zo = E[1];
      C.Uj = E[2];
      var N = new q(c.E.P,!0);
      N.data = {
          e: c.f.Mx,
          F: this.id,
          KT: C
      };
      i.U(N)
  }
  ;
  u.u$.wy = {
      key: ""
  };
  u.u$.z9 = function(E, K) {
      var i = {
          bT: E,
          v4: {
              classID: "setd",
              null: {
                  t: "obj ",
                  v: [{
                      t: "prop",
                      v: {
                          classID: "Chnl",
                          keyID: "fsel"
                      }
                  }]
              }
          }
      };
      if (K)
          i.v4.T = K;
      return i
  }
  ;
  u.u$.nj = function(E, K) {
      return u.u$.z9("set", {
          t: "Objc",
          v: {
              classID: E,
              Top: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: K.y
                  }
              },
              Left: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: K.x
                  }
              },
              Btom: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: K.y + K.v
                  }
              },
              Rght: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: K.x + K.d
                  }
              }
          }
      })
  }
  ;
  u.u$.Sg = function(E, K) {
      var i = []
        , C = []
        , k = "set";
      for (var G = 0; G < E.length; G += 2) {
          i.push(E[G]);
          C.push(E[G + 1])
      }
      var N = {
          t: "Objc",
          v: {
              classID: "Plgn",
              Pts: {
                  t: "ObAr",
                  v: {
                      classID: "Pnt",
                      arr: [{
                          id: "Hrzn",
                          type: "UnFl",
                          uID: "#Pxl",
                          arr: i
                      }, {
                          id: "Vrtc",
                          type: "UnFl",
                          uID: "#Pxl",
                          arr: C
                      }]
                  }
              }
          }
      };
      if (K)
          k = {
              front: "set",
              union: "addTo",
              difference: "subtractFrom",
              intersection: "interfaceWhite"
          }[K];
      return u.u$.z9(k, N)
  }
  ;
  u.u$.a6w = function(E, K) {
      var i = {
          t: "Objc",
          v: {
              classID: "Pnt",
              Hrzn: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: E.x
                  }
              },
              Vrtc: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: E.y
                  }
              }
          }
      }
        , C = u.u$.z9("set", i);
      C.v4.Tlrn = {
          t: "long",
          v: K[0]
      };
      C.v4.AntA = {
          t: "bool",
          v: K[1]
      };
      C.v4.Cntg = {
          t: "bool",
          v: K[2]
      };
      return C
  }
  ;
  u.u$.bi = function(E) {
      return u.u$.z9("set", {
          t: "enum",
          v: {
              Ordn: E ? "Al" : "None"
          }
      })
  }
  ;
  u.u$.a0K = function(E, K, i) {
      var C = {
          classID: "null"
      };
      if (E != "border")
          C.selectionModifyEffectAtCanvasBounds = {
              t: "bool",
              v: i
          };
      var N = {
          e: "By",
          c: "By",
          b: "Wdth",
          f: "Rds",
          s: "Rds"
      }[E[0]];
      C[N] = {
          t: "UntF",
          v: {
              type: "#Pxl",
              val: K
          }
      };
      return {
          bT: E,
          v4: C
      }
  }
  ;
  u.u$.vX = function(E, K, i) {
      var C = {
          t: "obj ",
          v: [{
              t: "prop",
              v: {
                  classID: "Chnl",
                  keyID: "fsel"
              }
          }]
      }
        , N = {
          t: "obj ",
          v: [{
              t: "Enmr",
              v: {
                  classID: "Chnl",
                  typeID: "Chnl",
                  enum: K
              }
          }]
      };
      if (i)
          N.v.push({
              t: "name",
              v: {
                  classID: "Lyr",
                  val: i
              }
          });
      var k = [{
          classID: "null",
          null: C,
          T: N
      }, {
          classID: "null",
          null: N,
          T: C
      }, {
          classID: "null",
          null: N,
          From: C
      }, {
          classID: "null",
          null: N,
          With: C
      }]
        , V = ["set", "add", "subtract", "interfaceIconFrameDimmed"];
      return {
          bT: V[E],
          v4: k[E]
      }
  }
  ;
  u.u$.DR = function(E, K) {
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.H7,
          KG: dp.kU
      };
      if (!K.NN)
          E.U(i);
      i.data = {
          e: c.f.H7,
          KG: dp.hJ
      };
      if (!K.bA.D1)
          E.U(i)
  }
  ;
  u.u$.prototype.d2 = function(E, K, i, C, N) {
      u.u$.DR(K, N);
      this.sU = K;
      var k = E.e, V, j, a = new h4(0,0,i.d,i.v), em = !1, ag, am, bK, ei;
      if (k == "fromAction") {
          var e = E.cd
            , L = e.bT
            , g = e.v4
            , I = g ? g.selectionModifyEffectAtCanvasBounds : null
            , h = I && I.v;
          if (L == "inverse") {
              if (i.N == null) {
                  alert("No selection!");
                  return
              }
              V = {
                  channel: _.I(a.X()),
                  rect: a
              };
              _.ie(i.N.channel, i.N.rect, V.channel, V.rect);
              _.KP(V.channel);
              j = [7, 2]
          } else if (L == "expand") {
              var o = g.By.v.val
                , H = i.N.rect.clone();
              H.Lv(o, o);
              var A = _.I(H.X())
                , S = _.I(H.X());
              _.ie(i.N.channel, i.N.rect, S, H);
              _.style.stroke(S, A, H, o);
              V = {
                  channel: A,
                  rect: H
              };
              j = [7, 4]
          } else if (L == "contract") {
              var o = g.By.v.val
                , v = i.N.rect.clone();
              v.Lv(1, 1);
              if (!h)
                  v = v.lx(a);
              var S = _.I(v.X())
                , s = _.I(S.length);
              _.ie(i.N.channel, i.N.rect, S, v);
              _.KP(S);
              _.style.stroke(S, s, v, o);
              _.KP(s);
              V = {
                  channel: s,
                  rect: v
              };
              _.NU(V);
              j = [7, 5]
          } else if (L == "border") {
              var o = g.Wdth.v.val;
              V = u.u$.Wz(i.N, o / 2, o / 2);
              j = [7, 9]
          } else if (L == "feather" || L == "smoothness") {
              var o = g.Rds.v.val;
              V = u.u$.qJ(i.N, o, L == "smoothness", a, h);
              j = L == "feather" ? [7, 6] : [19, 3, 0]
          } else {
              var D = g.null.v;
              function F(gX) {
                  var bW = gX.Top.v.val
                    , aI = gX.Left.v.val;
                  return new h4(aI,bW,gX.Rght.v.val - aI,gX.Btom.v.val - bW)
              }
              function y(gX) {
                  var bW = gX[0].arr
                    , dE = gX[1].arr
                    , b4 = {
                      H: [],
                      Z: []
                  };
                  for (var G = 0; G < bW.length; G++) {
                      b4.Z.push(G == 0 ? "M" : "L");
                      b4.H.push(bW[G], dE[G])
                  }
                  b4.Z.push("Z");
                  return b4
              }
              var T = ["set", "addTo", "subtractFrom", "interfaceWhite"].indexOf(L)
                , Q = g.T ? g.T.v : null;
              if (Q && Q.classID == "Elps") {
                  V = this.dk(u.pl.NO(F(Q)));
                  j = [10, 4]
              } else if (Q && Q.classID == "Rctn") {
                  var B = F(Q);
                  V = {
                      channel: _.I(B.X()),
                      rect: B.clone()
                  };
                  V.channel.fill(255);
                  j = [10, 15]
              } else if (Q && Q.classID == "ObSl") {
                  var B = F(Q)
                    , r = u.u$.wy
                    , J = r.rect
                    , m = r.Z6
                    , x = J.d
                    , R = J.v
                    , b = B.x - J.x
                    , z = b + B.d - 1
                    , $ = Math.max(b, Math.min(z, b + z >>> 1))
                    , P = B.y - J.y
                    , t = P + B.v - 1
                    , X = Math.max(P, Math.min(t, P + t >>> 1))
                    , Z = Math.max(b, 0)
                    , p = Math.min(z, x)
                    , gl = Math.max(P, 0)
                    , f = Math.min(t, R);
                  m.fill(128);
                  if (0 <= P)
                      for (var cY = Z; cY < p; cY++)
                          m[P * x + cY] = 0;
                  if (t < R)
                      for (var cY = Z; cY < p; cY++)
                          m[t * x + cY] = 0;
                  if (0 <= b)
                      for (var fC = gl; fC < f; fC++)
                          m[fC * x + b] = 0;
                  if (z < x)
                      for (var fC = gl; fC < f; fC++)
                          m[fC * x + z] = 0;
                  var hi = u._D.rc
                    , es = Math.round(B.d * hi)
                    , W = Math.round(B.v * hi);
                  for (var cY = Math.max(0, $ - es); cY < Math.min(x, $ + es); cY++)
                      m[X * x + cY] = 255;
                  for (var fC = Math.max(0, X - W); fC < Math.min(R, X + W); fC++)
                      m[fC * x + $] = 255;
                  u.Wp.XN(r, !0);
                  V = {
                      channel: r.N.slice(0),
                      rect: J.clone()
                  };
                  j = [10, 44]
              } else if (Q && Q.classID == "Plgn") {
                  V = this.dk(y(Q.Pts.v.arr));
                  j = [10, 9]
              } else if (Q && Q.classID == "Pnt") {
                  V = u.Lz.nP(i, new bT(Q.Hrzn.v.val,Q.Vrtc.v.val), [g.Tlrn.v, g.AntA == null || g.AntA.v, g.Cntg == null || g.Cntg.v]);
                  j = [10, 12]
              } else if (Q && Q.Ordn == "None") {
                  V = null;
                  j = [7, 1]
              } else if (Q && Q.Ordn == "Al") {
                  V = {
                      channel: _.I(a.X()),
                      rect: a
                  };
                  V.channel.fill(255);
                  j = [7, 0]
              } else if (Q && Q[0] && Q[0].v.keyID == "WrPt") {
                  var d = {
                      e: "frompath",
                      eT: [-1, 0, 0]
                  };
                  this.d2(d, K, i, C, N);
                  return
              } else {
                  var fM = ["set", "add", "subtract", "interfaceIconFrameDimmed"].indexOf(L), n = L == "set" ? Q : D, ax = n[0].v.enum, d;
                  if (ax == "Trsp" || ax == "Msk" || ax == "vectorMask") {
                      var d_ = i.C[0];
                      if (n.length == 2)
                          d_ = bY.uF(i, n[1]);
                      var cm = ["Trsp", "Msk", "vectorMask"].indexOf(ax);
                      d = {
                          e: "fromlayer",
                          eT: [d_, cm, fM]
                      }
                  } else {
                      if (n[0].t == "name") {
                          var d_ = 0;
                          for (var G = 0; G < i.h_.length; G++)
                              if (i.h_[G].name == n[0].v.val)
                                  d_ = G;
                          d = {
                              e: "fromchannel",
                              eT: [-5 - d_, 0, fM]
                          }
                      } else {
                          var c4 = ["RGB", "Rd", "Grn", "Bl"].indexOf(ax);
                          d = {
                              e: "fromchannel",
                              eT: [-1 - c4, 0, fM]
                          }
                      }
                  }
                  this.d2(d, K, i, C, N);
                  return
              }
              if (g.Fthr)
                  V = u.u$.qJ(V, g.Fthr.v.val, !1);
              if (L != "set" && i.N != null)
                  V = _.zv.fa(V, i.N, ["", "union", "difference", "intersection"][T])
          }
          if (L == "expand" || L == "contract")
              if (!h && !a.contains(V.rect)) {
                  var ch = V.rect.lx(a)
                    , hQ = _.I(ch.X());
                  _.ie(V.channel, V.rect, hQ, ch);
                  V.channel = hQ;
                  V.rect = ch
              }
      }
      if (k == "qmask") {
          em = !0;
          var dL = i.C6()
            , fh = new h4(0,0,i.d,i.v);
          if (dL) {
              V = dL.rect.Ql(fh) && _.K9(dL.channel, 255) ? null : {
                  rect: dL.rect.clone(),
                  channel: dL.channel.slice(0)
              };
              ag = dL
          } else {
              V = null;
              am = new U.xW;
              am.color = 0;
              am.name = "Quick Mask";
              am.a5 = !0;
              if (i.N) {
                  am.rect = i.N.rect.clone();
                  am.channel = i.N.channel.slice(0)
              } else {
                  am.rect = fh;
                  am.channel = _.I(am.rect.X());
                  am.channel.fill(255)
              }
          }
          j = [6, 6, 1]
      }
      if (k == "setsel") {
          V = E.N;
          j = E.$t
      }
      if (k == "crange") {
          var eu = E.SR
            , hf = E._0;
          V = u.u$.C3(i, eu, hf, E.Su);
          j = [7, 8];
          eu = {
              t: "Objc",
              v: {
                  classID: "LbCl",
                  Lmnc: {
                      t: "doub",
                      v: eu.Ym
                  },
                  A: {
                      t: "doub",
                      v: eu.R
                  },
                  B: {
                      t: "doub",
                      v: eu.O
                  }
              }
          };
          hf = {
              t: "Objc",
              v: {
                  classID: "LbCl",
                  Lmnc: {
                      t: "doub",
                      v: hf.Ym
                  },
                  A: {
                      t: "doub",
                      v: hf.R
                  },
                  B: {
                      t: "doub",
                      v: hf.O
                  }
              }
          };
          this.track({
              bT: "colorRange",
              v4: {
                  __name: "Color Range",
                  classID: "ClrR",
                  Fzns: {
                      t: "long",
                      v: Math.round(E.Su * 200)
                  },
                  Mnm: eu,
                  Mxm: hf,
                  colorModel: {
                      t: "long",
                      v: 0
                  }
              }
          })
      }
      if (k == "fromlayer" || k == "fromchannel" || k == "frompath") {
          var iS = E.eT[0]
            , cm = E.eT[1]
            , T = E.eT[2];
          if (k == "fromlayer") {
              if (iS == null)
                  iS = i.C[0];
              var aI = i.t[iS];
              if (cm == 0) {
                  var gn = aI.rect
                    , ce = aI.buffer;
                  if (gn.OL())
                      return;
                  var gr = _.I(ce.length >>> 2);
                  _.wF(ce, gr, 3);
                  V = {
                      channel: gr,
                      rect: gn.clone()
                  }
              } else {
                  if (aI.r == null)
                      aI.Kf(i);
                  var ek = cm == 1 ? aI.$Y() : aI.r;
                  V = u.u$.Av(ek, a)
              }
              this.track(u.u$.vX(T, ["Trsp", "Msk"][cm], aI.getName()))
          } else if (k == "frompath") {
              var bJ = i.LM()
                , aN = bJ[1]
                , bJ = bJ[0];
              if (iS == null)
                  if (bJ.length == 0 || aN.length == 0)
                      return;
              var bG = bJ[aN[0]];
              if (iS != null)
                  for (var G = 0; G < bJ.length; G++)
                      if (bJ[G].EL == iS)
                          bG = bJ[G];
              var ek = bG.add.vmsk.$Y()
                , aQ = ek.Qc();
              if (aQ.X() == 0)
                  return;
              var gr = ek.UN();
              if (E.eT[3] != null)
                  this.a84 = E.eT[3];
              if (this.a84) {
                  gr = gr.slice(0);
                  _.round(gr)
              }
              bK = [JSON.stringify(i.du), JSON.stringify(i.Rn)];
              ei = ["[]", "[]"];
              i.du = [];
              i.Rn = [];
              V = {
                  channel: gr,
                  rect: aQ
              }
          } else {
              if (iS == null)
                  iS = u.u$.rI(i);
              V = u.u$.WC(i, iS)
          }
          if (T != 0 && i.N)
              V = _.zv.fa(V, i.N, ["", "union", "difference", "intersection"][T]);
          j = [14, 11]
      }
      if (V != null && _.K9(V.channel, 0)) {
          V = null;
          j = [7, 1]
      }
      if (V)
          _.NU(V);
      var cu = new fy(j,this);
      cu.data = {
          e: "changesel",
          JY: i.N,
          Id: V,
          C6: em,
          a3M: ag,
          agf: am,
          YN: bK,
          a5B: ei
      };
      i.b8(cu);
      this.Fh(cu.data, i)
  }
  ;
  u.u$.rI = function(E) {
      var K = 0;
      if (E.QZ.length != 0)
          K = -5 - E.QZ[0];
      else if (JSON.stringify(E.a.zj) == "[1,1,1]")
          K = -1;
      else
          K = -2 - E.a.zj.indexOf(1);
      return K
  }
  ;
  u.u$.WC = function(E, K) {
      var i, C = new h4(0,0,E.d,E.v);
      if (-5 < K & K < 0) {
          var N = -K - 1
            , k = E.A7()
            , V = _.I(C.X());
          if (N == 0)
              _.YU(k, V);
          else
              _.wF(k, V, N - 1);
          i = {
              channel: V,
              rect: C.clone()
          }
      }
      if (K < -4) {
          i = u.u$.Av(E.h_[-K - 5], C)
      }
      return i
  }
  ;
  u.u$.Av = function(E, K) {
      var i, C;
      if (E.Gk() == 0) {
          C = E.Qc();
          if (C.X() == 0)
              return;
          i = E.UN()
      } else {
          C = K;
          i = _.I(C.X());
          E.or(C, i)
      }
      return {
          channel: i,
          rect: C
      }
  }
  ;
  u.u$.prototype.i4 = function(E) {
      return this.Ev || E.Oy && this.id != u.jM
  }
  ;
  u.u$.prototype.NZ = function(E, K, i) {
      var C = new q(K,!0);
      C.data = i;
      E.U(C)
  }
  ;
  u.u$.prototype.iA = function(E, K) {
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.VP,
          UG: K
      };
      E.U(i)
  }
  ;
  u.u$.prototype.Qc = function(E, K, i) {
      K = E.N == null || this.sk > 1 || this.Yl > 1 ? K : null;
      var C = this.r4
        , N = this.WK;
      if (i) {
          C.x = Math.max(0, Math.min(E.d, C.x));
          C.y = Math.max(0, Math.min(E.v, C.y));
          N.x = Math.max(0, Math.min(E.d, N.x));
          N.y = Math.max(0, Math.min(E.v, N.y))
      }
      var k = u.WZ.UC(C, N, K, !0, this.Ph.JD)
        , V = k[0].x
        , j = k[0].y;
      return new h4(V,j,k[1].x - V,k[1].y - j)
  }
  ;
  u.u$.prototype.om = function(E, K, i, C, N) {
      if (this.t7())
          return;
      this.sU = K;
      this.g_ = !1;
      this.HG = C.q(w.Gj);
      this.U2 = C.q(w.zA);
      this.sk = this.HG ? 0 : 1;
      this.Yl = this.U2 ? 0 : 1;
      this.r4 = E.a.Eb(N.x, N.y);
      this.r4 = u.x_.NQ(E, this.r4, i);
      if (this.Jp(E, this.r4, C)) {
          this.Ev = !0;
          this.DH = E.N.rect.clone();
          return
      }
      this.bC(E, i, C, N);
      E.a.bb = new h4
  }
  ;
  u.u$.prototype.Jp = function(E, K, i) {
      var C = i.q(w.Gj)
        , N = i.q(w.zA);
      if (E.N && !C && !N && this.Ph.bH == "front")
          return _.Wt(K, E.N.channel, E.N.rect);
      return !1
  }
  ;
  u.u$.prototype.n9 = function(E, K, i, C, N) {
      this.sU = K;
      if (this.T5)
          return;
      var k = E.a.Eb(N.x, N.y);
      if (bT.zL(this.r4, k) * E.a.S > 5)
          this.g_ = !0;
      if (C.q(w.NV)) {
          if (this._n == null)
              this._n = new bT(k.x - this.r4.x,k.y - this.r4.y);
          this.r4.x = k.x - this._n.x;
          this.r4.y = k.y - this._n.y
      } else
          this._n = null;
      this.WK = k;
      if (!this.Ev)
          this.WK = u.x_.NQ(E, this.WK, i);
      if (this.Jp(E, this.WK, C))
          this.iA(K, "move");
      else
          this.iA(K, this.pQ);
      if (this.Ev) {
          var V = this.DH.clone();
          V.x += this.WK.x - this.r4.x;
          V.y += this.WK.y - this.r4.y;
          var j = u.x_.Gw(E, V, i);
          E.N.rect.x = Math.round(this.WK.x - this.r4.x + this.DH.x + j[0]);
          E.N.rect.y = Math.round(this.WK.y - this.r4.y + this.DH.y + j[1]);
          E.UT = !0;
          u.x_.HH(E, V, j);
          return
      }
      this.BT(E, i, C, N);
      if (E.a.bb)
          E.a.bb = this.Qc(E, C)
  }
  ;
  u.u$.prototype.t7 = function() {
      return !1
  }
  ;
  u.u$.prototype.Cs = function(E, K, i, C, N) {
      E.a.bb = null;
      this.WK = E.a.Eb(N.x, N.y);
      this.WK = u.x_.NQ(E, this.WK, i);
      if (this.Ev) {
          this.Ev = !1;
          if (this.WK.Ql(this.r4) && this.TU() == "front") {
              this.NZ(K, c.E.J5, u.u$.bi());
              return
          }
          this.jB(E, this.DH, E.N.rect.clone());
          if (E != null && E.K.qK) {
              E.K.qK = null;
              E.nK = !0
          }
          return
      }
      this.nW(E, i, C, N);
      u.u$.DR(K, i)
  }
  ;
  u.u$.prototype.jB = function(E, K, i) {
      var C = E.Ty();
      if (C != null && C.F == this && C.data.e == "movesel") {} else {
          C = new fy([7, 7],this);
          C.data = {
              e: "movesel",
              ae: K
          };
          E.b8(C)
      }
      C.data.GB = i;
      this.Fh(C.data, E)
  }
  ;
  u.u$.prototype.UM = function(E, K, i, C, N) {
      this.T5 = !0
  }
  ;
  u.u$.prototype.R2 = function(E, K, i, C, N) {
      var k = new q(c.E.P,!0);
      k.data = {
          e: c.f.Mx,
          F: this.id,
          kK: N,
          im: E,
          VV: i
      };
      K.U(k);
      this.T5 = !1
  }
  ;
  u.u$.prototype.Ok = function(E, K, i, C) {
      var N = C.q(w.Gj)
        , k = C.q(w.zA);
      if (this.g_) {
          if (this.sk == 0 && !N)
              this.sk++;
          if (this.sk == 1 && N)
              this.sk++;
          if (this.Yl == 0 && !k)
              this.Yl++;
          if (this.Yl == 1 && k)
              this.Yl++
      }
      if (E != null && E.N != null) {
          var V = C.TD();
          if (V.x != 0 || V.y != 0) {
              var j = E.N.rect.clone();
              j.x += V.x;
              j.y += V.y;
              this.jB(E, E.N.rect.clone(), j)
          }
      }
      var a = u.u$.aN(this.Ph.bH, N, k)
        , e = new q(c.E.P,!0);
      e.data = {
          e: c.f.Mx,
          F: this.id,
          bH: a
      };
      K.U(e)
  }
  ;
  u.u$.prototype.finish = function(E, K, i, C) {
      var N = E.N
        , k = this.getSelection(E, K, i, C);
      if (k == null)
          k = u.u$.bi();
      else {
          var V = this.Ph.zo
            , j = this.TU();
          if (V != 0)
              k.v4.Fthr = {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: V
                  }
              };
          if (j != "front" && j != "xor")
              k.bT = {
                  union: "addTo",
                  difference: "subtractFrom",
                  intersection: "interfaceWhite"
              }[j]
      }
      this.NZ(this.sU, c.E.J5, k);
      this.r4.Wm(-1, -1);
      this.WK.Wm(-1, -1)
  }
  ;
  u.u$.prototype.TU = function() {
      return u.u$.aN(this.Ph.bH, this.HG, this.U2)
  }
  ;
  u.u$.aN = function(E, K, i) {
      if (K)
          E = "union";
      if (i)
          E = "difference";
      if (K && i)
          E = "intersection";
      return E
  }
  ;
  u.u$.prototype.getSelection = function(E, K, i, C) {
      return null
  }
  ;
  u.u$.prototype.bC = function(E, K, i, C) {}
  ;
  u.u$.prototype.BT = function(E, K, i, C) {}
  ;
  u.u$.prototype.nW = function(E, K, i, C) {}
  ;
  u.u$.prototype.eS = function(E, K) {
      var i = E.e;
      if (i == "changesel")
          K.N = E.JY;
      if (i == "movesel")
          K.N.rect = E.ae;
      if (E.C6) {
          if (E.a3M) {
              K.QZ = [K.h_.length];
              K.h_.push(E.a3M)
          } else {
              K.h_.pop();
              K.QZ = []
          }
      }
      if (E.YN) {
          K.du = JSON.parse(E.YN[0]);
          K.Rn = JSON.parse(E.YN[1])
      }
      K.UT = !0
  }
  ;
  u.u$.prototype.Fh = function(E, K) {
      var i = E.e;
      if (i == "changesel")
          K.N = E.Id;
      if (i == "movesel")
          K.N.rect = E.GB;
      if (E.C6) {
          if (E.agf) {
              K.QZ = [K.h_.length];
              K.h_.push(E.agf)
          } else {
              K.h_.pop();
              K.QZ = []
          }
      }
      if (E.YN) {
          K.du = JSON.parse(E.a5B[0]);
          K.Rn = JSON.parse(E.a5B[1])
      }
      K.UT = !0
  }
  ;
  u.u$.prototype.Kl = function(E) {
      this.Ph = E
  }
  ;
  u.u$.prototype.dk = function(E) {
      var K = _.$.PA(E.H);
      if (K.OL())
          return null;
      var i = c.w("canvas", "");
      i.width = K.d;
      i.height = K.v;
      var C = i.getContext("2d");
      C.beginPath();
      C.translate(-K.x, -K.y);
      Typr.U.pathToContext({
          cmds: E.Z,
          crds: E.H
      }, C);
      C.closePath();
      C.fill();
      var N = _.I(K.X())
        , k = C.getImageData(0, 0, i.width, i.height);
      _.wF(k.data, N, 3);
      return {
          rect: K,
          channel: N
      }
  }
  ;
  u.u$.qJ = function(E, K, i, C, N) {
      if (i)
          K = Math.round(K * .7);
      var k = Math.ceil(2.6 * K)
        , V = E.rect.clone();
      V.Lv(k, k);
      if (C && !N)
          V = V.lx(C);
      var j = _.I(V.X())
        , a = _.I(j.length);
      _.ie(E.channel, E.rect, a, V);
      _.Cu.hl(a, j, V, K);
      if (i) {
          var e = j.length;
          for (var G = 0; G < e; G++) {
              var L = (j[G] - 128) * K * 2.5;
              j[G] = Math.max(0, Math.min(255, Math.round(128 + L)))
          }
      }
      return {
          channel: j,
          rect: V
      }
  }
  ;
  u.u$.Wz = function(E, K, i) {
      var C = Math.max(1, Math.ceil(i))
        , N = E.rect.clone();
      N.Lv(C, C);
      var k = N.X()
        , V = {
          channel: _.I(k),
          rect: N
      }
        , j = _.I(k);
      _.ie(E.channel, E.rect, j, V.rect);
      if (i != 0)
          _.style.stroke(j, V.channel, V.rect, i);
      else
          _.uJ(j, V.channel);
      var a = _.I(k);
      _.KP(j);
      if (K != 0)
          _.style.stroke(j, a, V.rect, K);
      else
          _.uJ(j, a);
      _.zv.lx(V.channel, a, V.channel);
      return V
  }
  ;
  u.u$.C3 = function(E, K, i, C) {
      var N = new h4(0,0,E.d,E.v)
        , k = E.A7();
      if (E.N) {
          var V = E.N.rect.lx(N)
            , j = _.I(V.X() * 4);
          _.p8(k, N, j, V);
          N = V;
          k = j
      }
      var a = N.X()
        , e = _.I(a)
        , L = 1 / C;
      for (var G = 0; G < a; G++) {
          var g = G << 2
            , I = _.th(k[g], k[g + 1], k[g + 2])
            , h = _.vf(I, K, i, C, L);
          e[G] = k[g + 3] * h
      }
      return {
          rect: N,
          channel: e
      }
  }
  ;
  u.Z9 = function() {
      u.Bu.call(this, [10, 18], u.nr, "tools/blur");
      this.V2 = "copy"
  }
  ;
  u.Z9.prototype = new u.Bu;
  u.Z9.prototype.om = function(E, K, i, C, N) {
      var k = C.q(w.zA) ? fr.yS : fr.nr;
      this.Bi(E, i, C, N, this.Ph.strn, k);
      if (this.Xq == null)
          return;
      this.jJ(E)
  }
  ;
  u.Z9.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.q9 = function() {
      u.Bu.call(this, [10, 0], u.uf, "tools/brush");
      this.V2 = "draw"
  }
  ;
  u.q9.prototype = new u.Bu;
  u.q9.prototype.om = function(E, K, i, C, N) {
      if (this.eV(C, K, N))
          return;
      this.Bi(E, i, C, N, this.Ph.flow);
      if (this.Xq == null)
          return;
      this.jJ(E)
  }
  ;
  u.q9.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.iY = function() {
      u.Bu.call(this, [10, 42], u.ff, "tools/crepl");
      this.V2 = "idraw";
      this.Ph.bmode = "hue "
  }
  ;
  u.iY.prototype = new u.Bu;
  u.iY.prototype.om = function(E, K, i, C, N) {
      if (this.eV(C, K, N))
          return;
      this.Bi(E, i, C, N, this.Ph.flow);
      if (this.Xq == null)
          return;
      this.jJ(E)
  }
  ;
  u.iY.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.vP = function() {
      u.Bu.call(this, [10, 43], u.aV, "tools/redeye");
      this.Ph.smode = 0;
      this.V2 = "redeye"
  }
  ;
  u.vP.prototype = new u.Bu;
  u.vP.prototype.om = function(E, K, i, C, N) {
      this.Bi(E, i, C, N, this.Ph.flow);
      if (this.Xq == null)
          return;
      this.jJ(E)
  }
  ;
  u.vP.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.tS = function() {
      u.Bu.call(this, [10, 38], u.pP, "tools/pencil");
      this.V2 = "draw"
  }
  ;
  u.tS.prototype = new u.Bu;
  u.tS.prototype.om = function(E, K, i, C, N) {
      if (this.eV(C, K, N))
          return;
      this.Bi(E, i, C, N, this.Ph.flow);
      if (this.Xq == null)
          return;
      this.jJ(E)
  }
  ;
  u.tS.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.MI = function() {
      u.Bu.call(this, [10, 22], u.ZB, "tools/burn");
      this.V2 = "burn"
  }
  ;
  u.MI.prototype = new u.Bu;
  u.MI.prototype.om = function(E, K, i, C, N) {
      this.Bi(E, i, C, N, this.Ph.expo / Math.E);
      if (this.Xq == null)
          return;
      this.jJ(E)
  }
  ;
  u.MI.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.Qd = function(E, K, i) {
      u.Bu.call(this, E == "" ? null : E ? E : [10, 1], K ? K : u.Yd, i ? i : "tools/clone");
      this.V2 = "clone";
      this.mQ = null;
      this.i = null
  }
  ;
  u.Qd.prototype = new u.Bu;
  u.Qd.prototype.om = function(E, K, i, C, N) {
      var k = this.Ph
        , V = k.alt[0];
      if (C.q(w.zA) || C.q(w.pu) || V) {
          this.mQ = E.a.Eb(N.x, N.y);
          this.i = null;
          if (V)
              this.Zr({
                  alt: [!1]
              }, K);
          this.wO(E);
          this._$(i, C, E, N);
          return
      }
      if (this.mQ == null) {
          alert(i2.get([15, 7, 0]));
          return
      }
      this._$(i, C);
      this.Bi(E, i, C, N, this.Ph.flow);
      if (this.Xq == null)
          return;
      this.i = this.Ls(E.a.Eb(N.x, N.y));
      this.jJ(E)
  }
  ;
  u.Qd.prototype.Ls = function(E) {
      var K = this.i;
      if (K == null || !this.Ph.algnd)
          K = new bT(Math.round(E.x - this.mQ.x),Math.round(E.y - this.mQ.y));
      return K
  }
  ;
  u.Qd.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null) {
          if (this.mQ != null)
              this._$(i, C, E, N);
          return
      }
      if (!N.Oy || this.mQ == null)
          return;
      this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.Qd.prototype.eG = function() {
      return this.i
  }
  ;
  u.S7 = function(E, K, i) {
      u.UB.call(this, E, K, i);
      this.oO = {
          eA: {
              yH: 0,
              x: 0,
              y: 0
          },
          P9: !1
      };
      this.kF = null;
      this.cursor = null;
      this.akc = 0;
      this.YF = null;
      this.r4 = null;
      this.E3 = null
  }
  ;
  u.S7.prototype = new u.UB;
  u.S7.prototype.cn = function() {
      return this.kF != null
  }
  ;
  u.S7.prototype.i4 = function(E) {
      return this.kF && this.kF.xr()
  }
  ;
  u.S7.prototype.om = function(E, K, i, C, N) {
      this.YF = N;
      var k = E.a.Eb(N.x, N.y);
      k.x = Math.round(k.x);
      k.y = Math.round(k.y);
      var V = this.oO.eA
        , j = V.yH != 0 ? V.x / V.y : null;
      if (this.kF)
          this.kF.om(E, i, C, k, j, !1);
      else
          this.r4 = u.x_.NQ(E, k, i)
  }
  ;
  u.S7.prototype.lp = function(E, K) {
      var i = [E.x, E.y, E.x + E.d, E.y, E.x + E.d, E.y + E.v, E.x, E.y + E.v];
      return new go(i,!0,!1,this.id == u.Hs,!0,K,this.id == u.Hs ? 2 : 0,this.id == u.Hs)
  }
  ;
  u.S7.prototype._$ = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.VP,
          UG: this.cursor
      };
      E.U(K)
  }
  ;
  u.S7.prototype.enable = function(E, K, i, C) {
      this.sU = K;
      this.cursor = "crosshair";
      this._$(K);
      if (E != null && E.N) {
          var N = this.oO.eA = {
              yH: 0,
              x: 0,
              y: 0
          };
          this.NZ(K, c.E.P, {
              e: c.f.Mx,
              F: this.id,
              tV: !1,
              JD: N
          });
          this.Kl({
              AR: "cropby",
              aeE: 3
          }, K, E, C, i)
      }
  }
  ;
  u.S7.prototype.n9 = function(E, K, i, C, N) {
      this.YF = N;
      var k = E.a.Eb(N.x, N.y);
      if (!N.Oy) {
          var V = "crosshair";
          if (this.kF) {
              var j = this.kF.uP(k, E.a.S);
              if (j)
                  V = j;
              else
                  V = "default"
          }
          if (V != this.cursor) {
              this.cursor = V;
              this._$(K)
          }
      }
      if (this.kF)
          this.kF.n9(E, i, C, k);
      else if (this.r4) {
          var a = u.WZ.UC(this.r4, u.x_.NQ(E, k, i), C, !0, this.oO.eA)
            , e = a[0].x
            , L = a[0].y
            , g = this.E3 = new h4(e,L,a[1].x - e,a[1].y - L);
          E.K.yK = _.$.X6(g);
          E.nK = !0;
          u.UB.xY(N.x + 10, N.y - 10, g, E, i)
      }
  }
  ;
  u.S7.prototype.Cs = function(E, K, i, C, N) {
      this.YF = N;
      if (this.kF == null) {
          if (this.r4) {
              var k = this.E3;
              if (k) {
                  var V = this.oO.eA;
                  this.kF = this.lp(k, V.yH != 0);
                  this.kF.iF(E, i);
                  this.E3 = null;
                  this.NZ(K, c.E.P, {
                      e: c.f.Mx,
                      F: this.id,
                      tV: !0
                  })
              }
              this.r4 = null;
              E.K.AL = [];
              E.nK = !0
          }
          return
      }
      var j = E.a.Eb(N.x, N.y);
      this.kF.Cs(E, i, C, j);
      this.NZ(K, c.E.P, {
          e: c.f.Mx,
          F: this.id,
          tV: !0
      });
      var a = this.kF.P2();
      if (Math.abs(a[0] - a[4]) < 2 && Math.abs(a[1] - a[5]) < 2) {
          this.disable(E, K, null, C);
          return
      }
      if (Date.now() - this.akc < 200 && this.kF.gD(j)) {
          this.io(E, i);
          this.disable(E, K, i, C);
          return
      }
      this.akc = Date.now()
  }
  ;
  u.S7.prototype.Ok = function(E, K, i, C) {
      var N = this.kF;
      if (N == null || this.YF && this.YF.Oy)
          return;
      if (C.q(w.U6)) {
          this.io(E, i);
          this.disable(E, K, i, C)
      } else if (C.q(w.SO)) {
          this.disable(E, K, i, C)
      } else
          N.Ok(E, i, C)
  }
  ;
  u.S7.NT = function(E, K) {
      var i = {
          classID: "null",
          T: {
              t: "Objc",
              v: {
                  classID: "Rctn",
                  Top: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: E[1]
                      }
                  },
                  Left: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: E[0]
                      }
                  },
                  Btom: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: E[1] + E[3]
                      }
                  },
                  Rght: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: E[0] + E[2]
                      }
                  }
              }
          },
          Angl: {
              t: "UntF",
              v: {
                  type: "#Ang",
                  val: K != null ? K : 0
              }
          },
          Dlt: {
              t: "bool",
              v: !0
          },
          cropAspectRatioModeKey: {
              t: "enum",
              v: {
                  cropAspectRatioModeClass: "pureAspectRatio"
              }
          },
          CnsP: {
              t: "bool",
              v: !1
          }
      };
      return {
          bT: "crop",
          v4: i
      }
  }
  ;
  u.S7.YM = function(E, K) {
      if (K == null)
          K = [!0, !0, !0, !0];
      var i = {
          classID: "trim",
          trimBasedOn: {
              t: "enum",
              v: {
                  trimBasedOn: ["topLeftPixelColor", "bottomRightPixelColor", "Trns"][E]
              }
          }
      }
        , C = ["Top", "Left", "Btom", "Rght"];
      for (var G = 0; G < 4; G++)
          i[C[G]] = {
              t: "bool",
              v: K[G]
          };
      return {
          bT: "trim",
          v4: i
      }
  }
  ;
  u.S7.yF = function(E, K, i, C) {
      var N = {
          classID: "null"
      };
      if (C != null) {
          N.Wdth = {
              t: "UntF",
              v: {
                  type: "#Pxl",
                  val: E
              }
          };
          N.Hght = {
              t: "UntF",
              v: {
                  type: "#Pxl",
                  val: K
              }
          };
          N.Intr = {
              t: "enum",
              v: {
                  Intp: ["Nrst", "Blnr", "bicubicSharper"][C]
              }
          }
      }
      if (i != null)
          N.Rslt = {
              t: "UntF",
              v: {
                  type: "#Rsl",
                  val: i
              }
          };
      return {
          bT: "imageSize",
          v4: N
      }
  }
  ;
  u.S7.Sn = function(E, K, i) {
      if (i == null)
          i = 4;
      var C = Math.floor(i / 3)
        , N = i % 3;
      return {
          bT: "canvasSize",
          v4: {
              classID: "null",
              Wdth: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: E
                  }
              },
              Hght: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: K
                  }
              },
              Hrzn: {
                  t: "enum",
                  v: {
                      HrzL: ["Left", "Cntr", "Rght"][N]
                  }
              },
              Vrtc: {
                  t: "enum",
                  v: {
                      VrtL: ["Top", "Cntr", "Btom"][C]
                  }
              }
          }
      }
  }
  ;
  u.S7.prototype.d2 = function(E, K, i, C, N) {
      var k = new h4(0,0,i.d,i.v), V = [11, 3], j = i.v9, a = i.d / 2, e = i.v / 2, L = 1, f, cY;
      if (E.e == "fromAction") {
          var g = E.cd, I = g.bT, h = g.v4, o = i.d / i.v, H = h.Wdth ? h.Wdth.v.val : -1, A = h.Hght ? h.Hght.v.val : -1, j = h.Rslt ? h.Rslt.v.val : null, S = h.Wdth ? h.Wdth.v.type : h.Hght ? h.Hght.v.type : -1, v = 1, s;
          if (I == "imageSize") {
              if (h.Intr) {
                  if (h.Intr.v.Intp == "Nrst")
                      v = 0;
                  if (h.Intr.v.Intp == "bicubicSharper")
                      v = 2;
                  if (H == -1 && A == -1) {
                      var D = j / i.v9;
                      H = Math.round(i.d * D);
                      A = Math.round(i.v * D)
                  } else if (S == "#Prc") {
                      if (H != -1)
                          H = Math.round(i.d * H / 100);
                      if (A != -1)
                          A = Math.round(i.v * A / 100)
                  }
                  if (h.CnsP && h.CnsP.v) {
                      if (H == -1)
                          H = Math.round(A * o);
                      if (A == -1)
                          A = Math.round(H / o)
                  }
              } else {
                  if (S == "#Prc")
                      j = Math.round(i.v9 / ((H != -1 ? H : A) / 100));
                  else if (S == -1)
                      j = Math.round(j);
                  else
                      throw "e";
                  H = i.d;
                  A = i.v
              }
              s = {
                  e: "imgsize",
                  Rv: H,
                  b9: A,
                  zn: j,
                  $r: v
              }
          } else if (I == "canvasSize") {
              if (H == -1)
                  H = i.d;
              if (A == -1)
                  A = i.v;
              if (h.Rltv && h.Rltv.v == !0) {
                  if (h.Wdth)
                      H += i.d;
                  if (h.Hght)
                      A += i.v
              }
              var F = h.Vrtc ? h.Vrtc.v.VrtL : "Cntr"
                , y = h.Hrzn ? h.Hrzn.v.HrzL : "Cntr";
              s = {
                  e: "canvsize",
                  Rv: H,
                  b9: A,
                  rY: 3 * ["Top", "Cntr", "Btom"].indexOf(F) + ["Left", "Cntr", "Rght"].indexOf(y)
              }
          } else if (I == "revealAll") {
              s = {
                  e: "revealAll"
              }
          } else if (I == "trim") {
              var T = {
                  topLeftPixelColor: 0,
                  bottomRightPixelColor: 1,
                  Trns: 2
              }[h.trimBasedOn.v.trimBasedOn];
              if (T == null)
                  throw "e";
              var Q = ["Top", "Left", "Btom", "Rght"]
                , B = [!0, !0, !0, !0];
              for (var G = 0; G < 4; G++)
                  if (h[Q[G]])
                      B[G] = h[Q[G]].v;
              s = {
                  e: "trim",
                  acZ: T,
                  JD: B
              }
          } else if (I == "crop") {
              var r = h.T.v
                , J = Math.round(r.Left.v.val)
                , m = Math.round(r.Top.v.val)
                , x = Math.round(r.Rght.v.val) - J
                , R = Math.round(r.Btom.v.val) - m;
              s = {
                  e: "canvsize",
                  Rv: x,
                  b9: R,
                  i: new bT(J,m)
              }
          } else
              console.log(g);
          if (s)
              this.d2(s, K, i, C, N);
          return
      } else if (E.e == "imgsize") {
          k = new h4(0,0,E.Rv,E.b9);
          if (E.zn)
              j = E.zn;
          L = E.$r
      } else if (E.e == "canvsize") {
          var b = E.rY != null ? E.rY : 0;
          k = new h4(0,0,E.Rv,E.b9);
          var z = i.d - E.Rv
            , $ = i.v - E.b9
            , P = Math.round(z / 2)
            , t = Math.round($ / 2);
          if (b == 1 || b == 4 || b == 7)
              k.x = P;
          if (b == 2 || b == 5 || b == 8)
              k.x = z;
          if (b == 3 || b == 4 || b == 5)
              k.y = t;
          if (b == 6 || b == 7 || b == 8)
              k.y = $;
          if (E.i) {
              k.x = E.i.x;
              k.y = E.i.y
          }
      } else if (E.e == "rot" && (E.G + 2 * Math.PI) % (Math.PI / 2) != 0) {
          var X = _.$.X6(k).H
            , Z = new fn;
          Z.translate(-a, -e);
          Z.rotate(E.G);
          Z.translate(a, e);
          _.$.m(X, Z, X);
          k = _.$.PA(X)
      } else if (E.e == "rot" && E.G != Math.PI && E.G != -Math.PI) {
          k = new h4(a - i.v / 2,e - i.d / 2,i.v,i.d);
          if ((i.d + i.v & 1) == 1) {
              a = Math.floor(a);
              e = Math.floor(e);
              k = new h4(a - Math.floor(i.v / 2),e - Math.floor(i.d / 2),i.v,i.d);
              if ((i.d & 1) == 1 && E.G != -Math.PI / 2)
                  k.y--;
              if ((i.v & 1) == 1 && E.G == -Math.PI / 2)
                  k.x--
          }
      } else if (E.e == "trim") {
          V = [11, 12, 0];
          var p = i.A7()
            , gl = new h4(0,0,i.d,i.v);
          k = _._F(p, gl, E.acZ, E.JD);
          if (k.OL())
              k = gl
      } else if (E.e == "cropbysel") {
          V = [11, 12, 1];
          k = i.N.rect.clone()
      } else if (E.e == "revealAll") {
          V = [11, 12, 2];
          k = i.root.Qc(i, !0)
      }
      if (E.e == "imgsize" || E.e == "rot" || E.e == "scl") {
          var fC = new fn;
          if (E.e == "imgsize") {
              V = [11, 10];
              fC.scale(E.Rv / i.d, E.b9 / i.v)
          } else {
              fC.translate(-a, -e);
              if (E.e == "rot")
                  fC.rotate(E.G);
              if (E.e == "scl")
                  fC.scale(E.G.x, E.G.y);
              fC.translate(a, e);
              V = E.$t
          }
          cY = _.J.Nl(fC);
          f = this.Hr(i, N, !0, cY, L)
      } else if (E.e == "auto-align") {
          if (i.C.length < 2) {
              alert("Select two or more layers.");
              return
          }
          var hi = [];
          for (var G = 0; G < i.C.length; G++) {
              var es = i.t[i.C[G]];
              if (!es.Qs() && es.add.SoLd == null) {
                  alert("Unsupported layer selected.");
                  return
              }
              if (es.rect.OL()) {
                  alert("Empty layer selected.");
                  return
              }
              hi.push([es.buffer, es.rect])
          }
          var W = _.ub.Ra(hi, 0);
          if (W == null) {
              alert("No similarity found.");
              return
          }
          cY = W[1];
          var d = i.C;
          i.C = i.C.slice(1);
          f = this.Hr(i, N, !1, W.slice(1), L);
          i.C = d;
          k = i.root.Qc(i, !0);
          V = [2, 10, 1]
      }
      var fM = new h4(0,0,i.d,i.v);
      if (!k.OL() && (!k.Ql(fM) || f != null)) {
          var n = new fy(V,this);
          n.data = {
              ae: fM,
              GB: k,
              ahU: i.v9,
              zn: j,
              mh: f,
              pH: cY,
              Gg: u.S7.He(i, k, fM, f != null)
          };
          i.b8(n);
          this.Fh(n.data, i)
      }
  }
  ;
  u.S7.He = function(E, K, i, C) {
      if (E.jX.length == 0)
          return null;
      var N = JSON.stringify(E.jX)
        , k = JSON.parse(N);
      u.gX.ajf(k, K, i, C);
      k = JSON.stringify(k);
      return [N, k]
  }
  ;
  u.S7.prototype.Hr = function(E, K, i, C, N, k) {
      var V = {
          t: [],
          L_: null,
          we: null
      };
      if (i) {
          for (var G = 0; G < E.t.length; G++)
              V.t.push(G);
          for (var G = 0; G < E.xq.length; G++)
              V.t.push(-1 - G);
          for (var G = 0; G < E.h_.length; G++)
              V.t.push(-1e3 - G)
      } else
          V.t = E.C.slice(0);
      V.L_ = u._.j9(E, V.t, !0);
      u._.wD(E, K, V.t, V.L_, N, C, null, !0, k);
      V.we = u._.j9(E, V.t, !0);
      return V
  }
  ;
  u.S7.prototype.Fh = function(E, K) {
      if (E.zn)
          K.v9 = E.zn;
      if (E.Gg)
          K.jX = JSON.parse(E.Gg[1]);
      if (E.mh) {
          u.S7.jn(K, _.J.M1(E.pH));
          u._.DE(K, E.mh.t, E.mh.we)
      }
      u.S7.P9(K, E.GB)
  }
  ;
  u.S7.prototype.eS = function(E, K) {
      if (E.ahU)
          K.v9 = E.ahU;
      if (E.Gg)
          K.jX = JSON.parse(E.Gg[0]);
      var i = E.ae.clone();
      i.offset(-E.GB.x, -E.GB.y);
      u.S7.P9(K, i);
      if (E.gN)
          K.a.i.hX(E.gN);
      K.G_();
      if (E.mh) {
          var C = _.J.M1(E.pH).clone();
          C.KP();
          u.S7.jn(K, C);
          u._.DE(K, E.mh.t, E.mh.L_)
      }
  }
  ;
  u.S7.jn = function(E, K) {
      for (var G = 0; G < E.t.length; G++) {
          var i = E.t[G];
          if (i.add.artb == null)
              continue;
          var C = _.$.X6(i.vH()).H;
          _.$.m(C, K, C);
          var N = _.$.PA(C);
          i.Xx(N)
      }
  }
  ;
  u.S7.P9 = function(E, K) {
      E.d = K.d;
      E.v = K.v;
      var i = [];
      for (var G = 0; G < E.t.length; G++)
          i.push(G);
      u.x_.yl(E, i, null, -K.x, -K.y);
      for (var G = 0; G < E.t.length; G++) {
          E.t[G].Kf(E)
      }
      E.G_();
      E.a.i.Wm(0, 0);
      if (E.N)
          E.N.rect.offset(-K.x, -K.y);
      for (var G = 0; G < 2; G++)
          for (var C = 0; C < E.rJ[G].length; C++)
              E.rJ[G][C] -= G == 0 ? K.x : K.y;
      for (var G = 0; G < E.h_.length; G++)
          E.h_[G].rect.offset(-K.x, -K.y)
  }
  ;
  u.S7.prototype.Kl = function(E, K, i, C, N) {
      if (E.AR == "commit") {
          this.io(i, N);
          this.disable(i, K, null, C)
      } else if (E.AR == "cancel") {
          this.disable(i, K, null, C)
      }
      var k = null
        , V = new h4(0,0,i.d,i.v)
        , j = this.oO.eA;
      if (E.AR == "config") {
          this.oO = E.oO;
          j = this.oO.eA;
          if (this.oO.P9 != null)
              return;
          if (i == null)
              return;
          k = V;
          if (j.yH == 1) {
              var a = j.x / j.y;
              k.v = Math.round(k.d / a)
          }
          if (j.yH == 2) {
              k.d = j.x;
              k.v = j.y
          }
          k.x = Math.round((i.d - k.d) / 2);
          k.y = Math.round((i.v - k.v) / 2)
      }
      if (E.AR == "cropby") {
          if (i == null)
              return;
          var e = E.aeE, k;
          if (e == 0)
              k = i.root.Qc(i, !0);
          if (e == 1) {
              if (i.C.length == 0)
                  alert("No layer is selected.");
              else {
                  var L = i.root.WY(i.C[0]);
                  k = L.Qc(i, !0)
              }
          }
          if (e == 2) {
              if (i.C.length == 0)
                  alert("No layer is selected.");
              else {
                  k = _._F(i.A7(), V, 0);
                  if (k.OL())
                      k = V.clone()
              }
          }
          if (e == 3) {
              if (i.N != null)
                  k = i.N.rect;
              else
                  alert("There is no selection.")
          }
      }
      if (k && k.OL())
          k = null;
      if (k != null) {
          this.kF = this.lp(k, j.yH != 0);
          this.kF.iF(i, N);
          this.NZ(K, c.E.P, {
              e: c.f.Mx,
              F: this.id,
              tV: !0
          })
      }
  }
  ;
  u.S7.prototype.io = function(E, K) {
      var i = this.kF.P2(), C = _.$.PA(i), N = this.a6Q(E, i), k = !1, V = this.oO.eA, j = this.oO.P9, a = V.x, e = V.y, I;
      if (this.id == u.Wx && V.yH == 2 && N.X() != a * e) {
          N = new h4(N.x,N.y,a,e);
          k = !0
      }
      var L = _.J.hv(i, N);
      L = _.J.KP(L);
      var g = _.J.bW(L)
        , h = Math.atan2(L[3], L[0]);
      if (Math.abs(h) > 1e-9 || !g || k || j)
          I = this.Hr(E, K, !0, L, 1, C);
      var o = new fy(this.name,this)
        , H = new h4(0,0,E.d,E.v);
      o.data = {
          ae: H,
          GB: N,
          mh: I,
          pH: L,
          gN: E.a.i.clone(),
          Gg: u.S7.He(E, N, H, !1)
      };
      E.b8(o);
      this.Fh(o.data, E);
      this.track(u.S7.NT([C.x, C.y, C.d, C.v]))
  }
  ;
  u.S7.prototype.a6Q = function(E, K) {
      var i = _.J.hv(K)
        , C = _.J.bW(i)
        , N = _.J.M1(i)
        , k = N.vK
        , V = N.Cz
        , j = Math.atan2(N.O, N.R);
      N.rotate(j);
      var a = new h4(k,V,N.R,N.bI);
      if (!C) {
          function e(s, G, D) {
              var F = s[G] - s[D]
                , y = s[G + 1] - s[D + 1];
              return Math.sqrt(F * F + y * y)
          }
          var L = e(K, 0, 2), g = e(K, 4, 6), I = Math.max(L, g), h = e(K, 2, 4), o = e(K, 6, 0), H = Math.max(h, o), A = u.S7.a1C(K, E.d / 2, E.v / 2), S, v;
          if (isNaN(A) || A == Infinity || A == -Infinity || Math.min(A, 1 / A) < .1)
              A = (L + g) / (h + o);
          if (I / H > A) {
              S = I * 1;
              v = S / A
          } else {
              v = H * 1;
              S = v * A
          }
          a.d = S;
          a.v = v
      }
      a.x = Math.round(a.x);
      a.y = Math.round(a.y);
      a.d = Math.round(a.d);
      a.v = Math.round(a.v);
      return a
  }
  ;
  u.S7.a1C = function(E, K, i) {
      var C = E[0] - K
        , N = E[1] - i
        , k = E[2] - K
        , V = E[3] - i
        , j = E[6] - K
        , a = E[7] - i
        , e = E[4] - K
        , L = E[5] - i
        , g = ((N - L) * j - (C - e) * a + C * L - N * e) / ((V - L) * j - (k - e) * a + k * L - V * e)
        , I = ((N - L) * k - (C - e) * V + C * L - N * e) / ((a - L) * k - (j - e) * V + j * L - a * e)
        , h = -((I * a - N) * (g * V - N) + (I * j - C) * (g * k - C)) / ((I - 1) * (g - 1));
      function o(A) {
          return A * A
      }
      var H = Math.sqrt((o(g - 1) + o(g * V - N) / h + o(g * k - C) / h) / (o(I - 1) + o(I * a - N) / h + o(I * j - C) / h));
      if (g == 1 && I == 1)
          H = Math.sqrt((o(V - N) + o(k - C)) / (o(a - N) + o(j - C)));
      return H
  }
  ;
  u.S7.prototype.disable = function(E, K, i, C) {
      if (E == null)
          return;
      if (this.kF)
          this.kF.clear(E);
      this.kF = null;
      this.NZ(K, c.E.P, {
          e: c.f.Mx,
          F: this.id,
          tV: !1
      })
  }
  ;
  u.S7.prototype.NZ = function(E, K, i, C) {
      var N = new q(K,!0);
      N.data = i;
      if (C)
          N.F = C;
      E.U(N)
  }
  ;
  u.QC = function() {
      u.S7.call(this, [10, 2], u.Wx, "tools/rcrop")
  }
  ;
  u.QC.prototype = new u.S7;
  u.mp = function() {
      u.S7.call(this, [10, 39], u.Hs, "tools/pcrop")
  }
  ;
  u.mp.prototype = new u.S7;
  u.qf = function() {
      u.Bu.call(this, [10, 21], u.qD, "tools/dodge");
      this.V2 = "dodge"
  }
  ;
  u.qf.prototype = new u.Bu;
  u.qf.prototype.om = function(E, K, i, C, N) {
      this.Bi(E, i, C, N, this.Ph.expo / Math.PI);
      if (this.Xq == null)
          return;
      this.jJ(E)
  }
  ;
  u.qf.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.xu = function() {
      u.Bu.call(this, [10, 3], u.AO, "tools/eraser");
      this.V2 = "erase"
  }
  ;
  u.xu.prototype = new u.Bu;
  u.xu.prototype.om = function(E, K, i, C, N) {
      this.Bi(E, i, C, N, this.Ph.flow);
      if (this.Xq == null)
          return;
      this.jJ(E)
  }
  ;
  u.xu.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      var k = this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.St = function() {
      u.Bu.call(this, [10, 45], u.a8p, "tools/beraser");
      this.V2 = "ierase"
  }
  ;
  u.St.prototype = new u.Bu;
  u.St.prototype.om = function(E, K, i, C, N) {
      if (this.eV(C, K, N))
          return;
      this.Bi(E, i, C, N, this.Ph.flow);
      if (this.Xq == null)
          return;
      this.jJ(E)
  }
  ;
  u.St.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.f9 = function() {
      u.u$.call(this, [10, 15], u.Z2, "tools/rselect");
      this.pQ = "crosshair"
  }
  ;
  u.f9.prototype = new u.u$;
  u.f9.prototype.BT = function(E, K, i, C) {
      if (!C.Oy || !this.g_)
          return;
      var N = this.Qc(E, i, !0);
      E.K.yK = _.$.X6(N);
      E.nK = !0;
      u.UB.xY(C.x + 10, C.y - 10, N, E, K)
  }
  ;
  u.f9.prototype.nW = function(E, K, i, C) {
      E.K.yK = null;
      E.K.AL = [];
      E.nK = !0;
      this.finish(E, K, i, C)
  }
  ;
  u.f9.prototype.getSelection = function(E, K, i, C) {
      if (this.r4.Ql(this.WK) || !this.g_)
          return null;
      var N = this.Qc(E, i, !0);
      if (N.OL())
          return null;
      return u.u$.nj("Rctn", N)
  }
  ;
  u.pl = function() {
      u.u$.call(this, [10, 4], u.a0c, "tools/eselect");
      this.pQ = "crosshair"
  }
  ;
  u.pl.prototype = new u.u$;
  u.pl.prototype.BT = function(E, K, i, C) {
      if (!C.Oy || !this.g_)
          return;
      var N = this.Qc(E, i);
      E.K.yK = u.pl.NO(N);
      E.nK = !0;
      u.UB.xY(C.x + 10, C.y - 10, N, E, K)
  }
  ;
  u.pl.prototype.nW = function(E, K, i, C) {
      E.K.yK = null;
      E.K.AL = [];
      E.nK = !0;
      this.finish(E, K, i, C)
  }
  ;
  u.pl.prototype.getSelection = function(E, K, i, C) {
      if (this.r4.Ql(this.WK) || !this.g_)
          return null;
      var N = this.Qc(E, i);
      if (!N.ET(new h4(0,0,E.d,E.v)))
          return null;
      return u.u$.nj("Elps", N)
  }
  ;
  u.pl.NO = function(E) {
      var K = E.x
        , i = E.y
        , C = E.x + E.d
        , N = E.y + E.v
        , k = (K + C) / 2
        , V = (i + N) / 2
        , j = (K - C) / 2
        , a = (i - N) / 2
        , e = .5522848
        , L = {
          H: [k, V - a],
          Z: ["M", "C", "C", "C", "C"]
      };
      L.H.push(k + e * j, V - a, k + j, V - e * a, k + j, V);
      L.H.push(k + j, V + e * a, k + e * j, V + a, k, V + a);
      L.H.push(k - e * j, V + a, k - j, V + e * a, k - j, V);
      L.H.push(k - j, V - e * a, k - e * j, V - a, k, V - a);
      return L
  }
  ;
  u.NH = function() {
      u.UB.call(this, [10, 5], u.le, "tools/eyedropper");
      this.IG = !1;
      this.hB = 1
  }
  ;
  u.NH.prototype = new u.UB;
  u.NH.prototype.i4 = function(E) {
      return E.Oy
  }
  ;
  u.NH.prototype.d2 = function(E, K, i, C, N) {
      if (E.e == "pickhere")
          this.t8(i, K, N, C, E.a7d)
  }
  ;
  u.NH.prototype.om = function(E, K, i, C, N) {
      this.IG = !0;
      this.t8(E, K, i, C, N)
  }
  ;
  u.NH.prototype.n9 = function(E, K, i, C, N) {
      if (this.IG)
          this.t8(E, K, i, C, N)
  }
  ;
  u.NH.prototype.Cs = function(E, K, i, C, N) {
      this.IG = !1
  }
  ;
  u.NH.prototype.t8 = function(E, K, i, C, N) {
      var k = u.NH.Hn(E, N, this.hB)
        , V = new q(c.E.P);
      V.data = {
          e: c.f.H7,
          KG: dp.VL,
          Qh: 0,
          G: k
      };
      K.U(V)
  }
  ;
  u.NH.Hn = function(E, K, i) {
      var C = E.a.Eb(K.x, K.y)
        , N = Math.floor(C.x)
        , k = Math.floor(C.y)
        , V = (i - 1) / 2
        , j = Math.max(0, N - V)
        , a = Math.max(0, k - V)
        , e = Math.min(E.d, N + V + 1)
        , L = Math.min(E.v, k + V + 1)
        , g = (e - j) * (L - a)
        , I = E.A7()
        , h = 0
        , o = 0
        , H = 0;
      for (var N = j; N < e; N++)
          for (var k = a; k < L; k++) {
              var G = 4 * (k * E.d + N);
              h += I[G];
              o += I[G + 1];
              H += I[G + 2]
          }
      h = Math.round(h / g);
      o = Math.round(o / g);
      H = Math.round(H / g);
      return h << 16 | o << 8 | H
  }
  ;
  u.NH.prototype.Kl = function(E) {
      this.hB = E.hB
  }
  ;
  u.nS = function() {
      u.UB.call(this, [10, 6], u.ajQ, "tools/gradient");
      this.Ph = {
          V: JSON.parse(ao.I_.W9).v,
          jw: "Lnr",
          PE: !1,
          adL: !1,
          ahD: "norm",
          $J: 1
      };
      this.e5 = !1;
      this.sN = null
  }
  ;
  u.nS.prototype = new u.UB;
  u.nS.prototype.enable = function(E, K, i, C) {
      var N = new q(c.E.P,!0);
      N.data = {
          e: c.f.VP,
          UG: "default"
      };
      K.U(N)
  }
  ;
  u.nS.prototype.Kl = function(E) {
      this.Ph = E.KG
  }
  ;
  u.nS.prototype.om = function(E, K, i, C, N) {
      if (!E.Os())
          return;
      this.sN = E.a.Eb(N.x, N.y);
      this.sN = u.x_.NQ(E, this.sN, i);
      this.e5 = !0
  }
  ;
  u.nS.prototype.n9 = function(E, K, i, C, N) {
      if (!this.e5)
          return;
      var k = E.a.Eb(N.x, N.y);
      k = u.x_.NQ(E, k, i);
      if (C.q(w.Gj))
          k = u.nS.MQ(this.sN, k);
      E.K.yK = {
          H: [this.sN.x, this.sN.y, k.x, k.y],
          Z: ["M", "L"]
      };
      E.K.Cn = [this.sN.x, this.sN.y, k.x, k.y];
      E.nK = !0
  }
  ;
  u.nS.prototype.Cs = function(E, K, i, C, N) {
      if (!this.e5)
          return;
      var k = E.t[E.C[0]]
        , V = E.a.Eb(N.x, N.y);
      V = u.x_.NQ(E, V, i);
      if (C.q(w.Gj))
          V = u.nS.MQ(this.sN, V);
      var j = V.g7(this.sN)
        , a = bT.Rg(this.sN, V, .5)
        , e = Math.atan2(j.y, j.x)
        , L = bT.zL(this.sN, V)
        , g = Math.sin(e)
        , I = Math.cos(e);
      if (L > 2) {
          var h;
          if (E.N)
              h = E.N.rect;
          else
              h = new h4(0,0,E.d,E.v);
          var o = _.I(h.X() * 4)
            , H = this.Ph
            , A = H.jw;
          if (A != "Lnr") {
              L *= 2;
              a = this.sN
          }
          _.V.K3(H.V, o, h, [I * 1 / L, g * 1 / L, -g * 1 / L, I * 1 / L], a.x, a.y, H.PE, ao.V.types.indexOf(A), i.sm, i.JT, null, H.adL);
          var S = Math.round(H.$J * 256)
            , v = o.length;
          if (S != 256)
              for (var G = 0; G < v; G += 4)
                  o[G + 3] = o[G + 3] * S >>> 8;
          var s = new q(c.E.A);
          s.F = u.AO;
          s.data = {
              e: "fillBMP",
              QB: o,
              Lh: H.ahD,
              $t: this.name
          };
          K.U(s)
      }
      E.K.yK = null;
      E.K.Cn = [];
      E.nK = !0;
      this.e5 = !1
  }
  ;
  u.nS.MQ = function(E, K) {
      if (E.Ql(K))
          return E;
      var i = K.x - E.x
        , C = K.y - E.y
        , N = Math.abs(i)
        , k = Math.abs(C);
      if (N > k)
          k = N / 2 > k ? 0 : N;
      if (k > N)
          N = k / 2 > N ? 0 : k;
      N = i > 0 ? N : -N;
      k = C > 0 ? k : -k;
      var V = Math.sqrt(i * i + C * C) / Math.sqrt(N * N + k * k);
      return new bT(E.x + N * V,E.y + k * V)
  }
  ;
  u.nS.rP = function(E, K, i, C, N, k, V) {
      if (V == null)
          V = c.w("canvas", "");
      var j = V.getContext("2d");
      V.width = K;
      V.height = i;
      var a = new h4(0,0,K,i)
        , e = _.I(K * i * 4);
      _.ux(e, K, i, 4);
      var L = Math.sin(C)
        , g = Math.cos(C)
        , I = _.I(K * i * 4);
      _.V.K3(E, I, a, [g * 1 / K, L * 1 / K, -L * 1 / i, g * 1 / i], K / 2, i / 2, !1, 0, N, k);
      _.p.JA("norm", I, a, e, a, a, 1);
      var h = j.getImageData(0, 0, K, i);
      _.uJ(e, h.data);
      j.putImageData(h, 0, 0);
      return V.toDataURL()
  }
  ;
  u.nS.ad_ = function(E, K, i) {
      var C = JSON.parse(JSON.stringify(E));
      for (var G = 0; G < C.Clrs.v.length; G++) {
          var N = C.Clrs.v[G].v
            , k = N.Type.v.Clry;
          if (k == "UsrS")
              continue;
          var V = k == "FrgC" ? K : i;
          N.Type.v.Clry = "UsrS";
          N.Clr = {
              t: "Objc",
              v: _.V.VQ({
                  h: V >> 16 & 255,
                  l: V >> 8 & 255,
                  O: V & 255
              })
          }
      }
      return C
  }
  ;
  u.ZW = function() {
      u.UB.call(this, [10, 7], u.cQ, "tools/hand");
      this.SB = new bT(0,0);
      this.CQ = null
  }
  ;
  u.ZW.prototype = new u.UB;
  u.ZW.prototype.d2 = function(E, K, i, C, N) {
      var k = E.e;
      if (k == "setcls") {
          i.a.zj = E.zj;
          i.nK = !0;
          i.aO = !0
      }
      if (k == "scroll" && !C.q(w.zA)) {
          if (C.q(w.qN))
              u.ZW.a$(i, i.a.i.x - E.P$.y, i.a.i.y - E.P$.x);
          else
              u.ZW.a$(i, i.a.i.x - E.P$.x, i.a.i.y - E.P$.y)
      }
  }
  ;
  u.ZW.prototype.enable = function(E, K, i, C) {
      this.CQ = null;
      var N = new q(c.E.P,!0);
      N.data = {
          e: c.f.VP,
          UG: "grab"
      };
      K.U(N)
  }
  ;
  u.ZW.prototype.om = function(E, K, i, C, N) {
      this.CQ = E.a.i.clone();
      this.SB.Wm(N.x, N.y)
  }
  ;
  u.ZW.prototype.n9 = function(E, K, i, C, N) {
      if (!N.Oy)
          return;
      if (this.CQ == null)
          this.om(E, K, i, C, N);
      u.ZW.a$(E, this.CQ.x + (N.x - this.SB.x), this.CQ.y + (N.y - this.SB.y))
  }
  ;
  u.ZW.prototype.Cs = function(E, K, i, C, N) {
      this.CQ = null
  }
  ;
  u.ZW.a$ = function(E, K, i) {
      var C = E.a.S;
      if (E.d * C < E.a.DK.d && E.v * C < E.a.DK.v)
          E.a.i.Wm(0, 0);
      else {
          E.a.i.x = K;
          E.a.i.y = i
      }
      E.aO = !0
  }
  ;
  u.f2 = function() {
      u.UB.call(this, [10, 47], u.aeC, "tools/rview");
      this.SB = new bT(0,0);
      this.bg = null;
      this.amt = null
  }
  ;
  u.f2.prototype = new u.UB;
  u.f2.prototype.enable = function(E, K, i, C) {
      this.CQ = null;
      var N = new q(c.E.P,!0);
      N.data = {
          e: c.f.VP,
          UG: "grab"
      };
      K.U(N);
      if (E)
          this.LL(E, K)
  }
  ;
  u.f2.prototype.disable = function(E, K, i, C, N) {
      if (E)
          this.LL(E, K)
  }
  ;
  u.f2.prototype.VF = function(E, K, i, C) {
      if (E)
          this.LL(E, K)
  }
  ;
  u.f2.prototype.om = function(E, K, i, C, N) {
      this.SB.Wm(N.x, N.y);
      var k = E.a;
      this.bg = k.Eb(k.DK.d / 2, k.DK.v / 2);
      this.amt = k.e6()
  }
  ;
  u.f2.prototype.n9 = function(E, K, i, C, N) {
      if (!N.Oy)
          return;
      var k = E.a
        , V = this.bg
        , j = this.SB
        , a = new bT(k.DK.d / 2,k.DK.v / 2)
        , e = Math.atan2(N.y - a.y, N.x - a.x)
        , L = Math.atan2(j.y - a.y, j.x - a.x);
      this.gc(E, K, this.amt.clone(), V, e - L)
  }
  ;
  u.f2.prototype.Kl = function(E, K, i, C) {
      this.gc(i, K, null, null, E.Rz - i.a.m3);
      i.a.m3 = E.Rz
  }
  ;
  u.f2.prototype.gc = function(E, K, i, C, N) {
      var k = E.a;
      if (i == null)
          i = k.e6();
      if (C == null)
          C = k.Eb(k.DK.d / 2, k.DK.v / 2);
      i.translate(-C.x, -C.y);
      i.rotate(N);
      i.translate(C.x, C.y);
      k.Kx(i);
      if (E.d * k.S < k.DK.d && E.v * k.S < k.DK.v)
          k.i.Wm(0, 0);
      E.nK = !0;
      this.LL(E, K)
  }
  ;
  u.f2.prototype.LL = function(E, K) {
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.Mx,
          F: this.id,
          Rz: E.a.m3
      };
      K.U(i)
  }
  ;
  u.Gx = function() {
      u.Qd.call(this, [10, 25], u.mM, "tools/hbrush")
  }
  ;
  u.Gx.prototype = new u.Qd("");
  u.Gx.prototype.Cs = function(E, K, i, C, N) {
      if (this.Xq == null)
          return;
      this.uj(E, "heal", this.Xq.wc(), this.Xq.Qc(), this.Xq.oi());
      this.s(E, this.Xq.oi());
      u.Bu.prototype.Cs.call(this, E, K, i, C, N);
      if (!this.Ph.algnd)
          this.i = null
  }
  ;
  u.cg = function() {
      u.UB.call(this, [10, 8], u.EM, "tools/htype");
      this.Pr = [];
      this.uY = null;
      this.VV = null;
      this.caller = null;
      this.Tz = 1;
      this.bc = null;
      this.ajn = 0;
      this.d$ = 0;
      this.a6C = null;
      this.Rl = null;
      this.WQ = null;
      this.jb = null;
      this.xU = null;
      this.R_ = null;
      this.ahV = null;
      this.HO = null;
      this.kF = null;
      this.QF = null;
      this.a4i = null;
      this.lZ = !1;
      this.vR = !1;
      this.Mn = !1;
      this.E7 = null;
      this.Zn = null;
      this.alq = null;
      this.Bm = !1;
      this.ot = !1;
      this.ak = -1;
      this.Ut = -1;
      this.oj = document.createElement("textarea");
      this.oj.setAttribute("style", "font-family:Arial; font-size:14px; z-index:-1; " + " position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:" + (window.innerWidth - 10) + "px; height:150px;");
      this.oj.addEventListener("input", this.zS.bind(this), !1);
      this.oj.addEventListener("keydown", this.af$.bind(this), !1)
  }
  ;
  u.cg.prototype = new u.UB;
  u.cg.prototype.i4 = function(E) {
      return E.Oy
  }
  ;
  u.cg.prototype.Fs = function(E, K, i, C) {
      if (this.WQ != null)
          return;
      this.caller = K;
      this.uY = E;
      var N = this.yg(E);
      if (N.length != 0) {
          var k = null
            , V = []
            , j = [];
          for (var G = 0; G < N.length; G++) {
              var a = E.t[N[G]]
                , e = a.add.TySh
                , L = 0
                , g = cO.Es(e.Ou).length - 2
                , I = cO.UX(e.Ou, L, g);
              cO.i8(I, u._.x$(e.m));
              if (I.dP.Font != null)
                  I.dP.Font = I.gx[I.dP.Font].Name;
              k = I.gx;
              V.push(I.dP);
              j.push(I.oN)
          }
          var I = {
              gx: k,
              dP: cO.M8(V),
              oN: cO.M8(j)
          };
          if (I.dP.Font != null)
              cO.Ui(I, I.dP.Font);
          this.dD(K, I, e)
      }
  }
  ;
  u.cg.prototype.yg = function(E) {
      var K = [];
      for (var G = 0; G < E.C.length; G++)
          if (E.t[E.C[G]] && E.t[E.C[G]].add.TySh)
              K.push(E.C[G]);
      return K
  }
  ;
  u.cg.prototype.d2 = function(E, K, i, C, N) {
      if (E.e == "insertText" && this.WQ) {
          var k = this.oj
            , V = k.value
            , j = k.selectionStart
            , a = k.selectionEnd;
          k.value = V.slice(0, j) + E.G + V.slice(a);
          k.selectionStart = k.selectionEnd = j + E.G.length;
          this.zS(null);
          k.focus()
      }
      if (E.e == "updateStyles") {
          if (this.WQ == null) {
              var e = this.yg(i)
                , L = !1;
              if (e.length != 0) {
                  this.Qm(i, K, N, e);
                  for (var G = 0; G < e.length; G++) {
                      var g = i.t[e[G]]
                        , I = g.add.TySh;
                      cO.ko(I, this.Tz);
                      this.WQ = g;
                      var h = cO.Es(I.Ou);
                      this.ak = 0;
                      this.Ut = h.length - 1;
                      cO.Wk(I.Ou, this.ak, this.Ut, this.SM(N, I));
                      var o = this.SH(i, N);
                      if (o == !1)
                          L = !0
                  }
                  if (L) {
                      this.Bm = !0;
                      return
                  }
                  this.MJ(i, K)
              }
              return
          }
          this.eH(N)
      }
      if (E.e.startsWith("warp")) {
          var H = this.ot;
          if (E.e == "warp" || E.e == "warpCancel") {
              if (E.e == "warp")
                  this.WQ.add.TySh.xA = E.oC;
              else
                  this.WQ.add.TySh.xA = this.ahV;
              var i = this.uY;
              this.SH(i, N);
              if (!H)
                  this.lF(i)
          }
          if (E.e != "warp")
              this.oj.focus();
          if ((E.e == "warpConfirm" || E.e == "warpCancel") && H) {
              this.ot = !1;
              if (E.e == "warpConfirm")
                  this.MJ(i, K);
              else
                  this.zx(i, K)
          }
      }
      if (E.e == "editCurr") {
          if (N.sw != u.EM) {
              this.bc = N.sw;
              var A = new q(c.E.P,!0);
              A.data = {
                  e: c.f.oS,
                  F: u.EM
              };
              K.U(A)
          }
          if (this.WQ != null)
              this.disable(i, K, N, C);
          this.uY = i;
          this.VV = N;
          this.caller = K;
          this.Qm(i, K, N, [E.UU]);
          var h = cO.Es(this.WQ.add.TySh.Ou);
          this.ak = 0;
          this.Ut = h.length - 1;
          this.lF(i);
          this.tO();
          this.oj.focus()
      }
      if (E.e == "switchPntPrgr") {
          var g = i.t[i.C[0]]
            , I = g.add.TySh
            , S = I.m.x$()
            , v = JSON.parse(JSON.stringify(I.Ou))
            , s = cO.O1(v)
            , D = s == 1 ? cO.nh(v) : [0, 0, Math.round(g.rect.d * 1.05 / S), Math.round(g.rect.v * 1.25 / S)]
            , F = cO.UX(v, 0, 0)
            , y = F.gx[F.dP.Font].Name
            , T = N.g5.eK(y)
            , Q = [0, D[2], D[2] / 2][F.oN.Justification % 3]
            , B = T ? g_.LQ(T, y) * (1 / T.head.unitsPerEm) * F.dP.FontSize : F.dP.FontSize * .8;
          cO.kw(v, 1 - s);
          if (s == 0) {
              Q = -Q;
              B = -B;
              cO.Bk(v, [0, 0, D[2], D[3]])
          }
          var r = new fn(1,0,0,1,Q,B);
          r.concat(I.m);
          this.d2({
              wv: i.C[0],
              e: "newED",
              _W: v,
              m: r
          }, K, i, C, N)
      }
      if (E.e == "newED") {
          var g = i.t[E.wv]
            , I = g.add.TySh
            , J = this.el(i, [E.wv]);
          I.Ou = E._W;
          if (E.m)
              I.m = E.m;
          var m = new g_(I.Ou,N.g5)
            , x = dR.sX(m, I);
          g.rect = x.g;
          g.buffer = x.OR;
          g.s();
          i.s();
          var R = new fy(this.name,this);
          R.data = {
              rH: J,
              pE: this.el(i, [E.wv])
          };
          i.b8(R)
      }
      if (E.e == "fromAction") {
          var b = E.cd.v4.Usng.v
            , z = b.TxtC.v
            , $ = [];
          for (var G = 0; G < 2; G++) {
              var P = z[G == 0 ? "Hrzn" : "Vrtc"].v
                , t = P.val;
              if (P.type == "#Prc")
                  t = (G == 0 ? i.d : i.v) * (t / 100);
              $[G] = t
          }
          this.BH(i, K, N, C, i.a.Dl($[0], $[1]));
          var g = i.t[i.C[0]]
            , I = g.add.TySh
            , X = I.Ou
            , V = cO.Es(X);
          cO.tz(X, 0, V.length - 1);
          cO.qu(X, 0, b.Txt.v.replace(/\r/g, "\n"));
          for (var s = 0; s < 2; s++) {
              var Z = b[s == 0 ? "Txtt" : "paragraphStyleRange"].v;
              for (var G = 0; G < Z.length; G++) {
                  var p = Z[G].v
                    , j = p.From.v
                    , a = p.T.v - 1;
                  p = p[s == 0 ? "TxtS" : "paragraphStyle"].v;
                  var f = cO.UX(X, j, a)
                    , cY = s == 0 ? f.dP : f.oN;
                  for (var fC in p) {
                      var hi = p[fC].v;
                      if (fC == "Sz")
                          cY.FontSize = Math.round(hi.val);
                      if (fC == "fontPostScriptName")
                          cO.Ui(f, hi);
                      if (fC == "Algn")
                          cY.Justification = {
                              Cntr: 2
                          }[hi.Alg]
                  }
                  cO.Wk(X, j, a, f)
              }
          }
          var m = new g_(I.Ou,N.g5)
            , x = dR.sX(m, I);
          g.rect = x.g;
          g.buffer = x.OR;
          g.s();
          i.s();
          this.MJ(i, K)
      }
  }
  ;
  u.cg.prototype.eH = function(E) {
      var K = Math.min(this.ak, this.Ut)
        , i = Math.max(this.ak, this.Ut)
        , C = this.WQ.add.TySh;
      cO.ko(C, this.Tz);
      cO.Wk(C.Ou, K, i - 1, this.SM(E, C));
      var N = this.uY
        , k = this.SH(N, E);
      if (k)
          this.lF(N);
      if (document.activeElement.tagName.toLowerCase() != "input")
          this.oj.focus()
  }
  ;
  u.cg.prototype.Ci = function(E) {
      return this.Pr.indexOf(E) != -1
  }
  ;
  u.cg.prototype.enable = function(E, K, i, C) {
      var N = this.oj;
      if (!c.ws(N))
          K.j.appendChild(N);
      this.HO = "default";
      this._$(K)
  }
  ;
  u.cg.prototype.cn = function() {
      return this.WQ != null
  }
  ;
  u.cg.iw = function(E, K) {
      for (var G = E.t.length - 1; G >= 0; G--) {
          var i = E.t[G];
          if (i.add.TySh && i.rect.c9(K) && E.Oj(G)) {
              var C = i.Hv(2) || i.Hv(31);
              return C ? -2 : G
          }
      }
      return -1
  }
  ;
  u.cg.prototype.om = function(E, K, i, C, N) {
      this.uY = E;
      this.VV = i;
      this.caller = K;
      var k = E.a.Eb(N.x, N.y)
        , V = this.WQ == null;
      if (V) {
          var j = u.cg.iw(E, k);
          if (j == -2) {
              alert(i2.get([6, 57, 0]));
              return
          }
          if (j >= 0) {
              if (!dR.WW(E.t[j].add.TySh, i.g5)) {
                  alert("Fonts not loaded yet");
                  return
              }
              this.Qm(E, K, i, [j])
          } else {
              this.Mn = !0;
              this.E7 = N;
              return
          }
      }
      var a = V ? -1 : cO.O1(this.WQ.add.TySh.Ou)
        , e = this.QF ? this.QF : this.kF;
      if (e && e.om(E, i, C, k) && _.oC._9(this.WQ.add.TySh.xA) || !V && _.$.rE(k, this.WQ.rect) > 20 / E.a.S && (a == 0 || a == 1)) {
          this.lZ = !0;
          this.Zn = k;
          this.alq = this.WQ.add.TySh.m.clone();
          if (this.ak == -1 && this.Ut == -1)
              this.ak = this.Ut = this.OJ(k)
      } else {
          if (this.xU == null) {
              alert("Fonts not loaded yet");
              return
          }
          this.vR = !0;
          this.ak = this.Ut = this.OJ(k);
          var L = Date.now();
          if (L - this.ajn > 300)
              this.d$ = 0;
          this.d$++;
          this.ajn = L;
          if (this.d$ == 2)
              this.aii();
          if (this.d$ == 3)
              this.a4N();
          if (this.d$ > 1) {
              this.vR = !1
          }
      }
      this.tO();
      this.lF(E)
  }
  ;
  u.cg.prototype.Qm = function(E, K, i, C) {
      var N = E.t[C[0]];
      this.WQ = N;
      this.NZ(K, c.E.P, {
          e: c.f.Mx,
          F: this.id,
          AR: "showactive"
      });
      this.jb = C;
      E.C = C.slice(0);
      E.EK();
      E.yj = !0;
      this.R_ = this.el(E, C);
      this.hK(N.add.TySh);
      this.SH(E, i)
  }
  ;
  u.cg.prototype.hK = function(E) {
      if (cO.O1(E.Ou) != 1)
          return;
      var K = cO.nh(E.Ou);
      K = new h4(0,0,K[2] - K[0],K[3] - K[1]);
      var i = [K.x, K.y, K.x + K.d, K.y, K.x + K.d, K.y + K.v, K.x, K.y + K.v];
      _.$.m(i, E.m, i);
      this.kF = new go(i,!1,!1,!1,!0)
  }
  ;
  u.cg.prototype.aii = function() {
      var E = cO.Es(this.WQ.add.TySh.Ou);
      this.ak = this.po(E, this.ak);
      this.Ut = this.Jj(E, this.ak)
  }
  ;
  u.cg.prototype.po = function(E, K) {
      var i = " \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|"
        , C = [];
      for (var G = 0; G < i.length; G++)
          C.push(i.charAt(G));
      var N = C.indexOf(E[K]) == -1 ? !0 : !1;
      for (var G = K - 1; G >= 0; G--)
          if (C.indexOf(E.charAt(G)) != -1 == N)
              return G + 1;
      return 0
  }
  ;
  u.cg.prototype.Jj = function(E, K) {
      var i = " \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|"
        , C = [];
      for (var G = 0; G < i.length; G++)
          C.push(i.charAt(G));
      var N = C.indexOf(E[K]) == -1 ? !0 : !1;
      for (var G = K + 1; G < E.length; G++)
          if (C.indexOf(E.charAt(G)) != -1 == N)
              return G;
      return E.length - 1
  }
  ;
  u.cg.prototype.a4N = function() {
      var E = this.xU.a5w(this.ak);
      this.ak = E[0];
      this.Ut = E[1]
  }
  ;
  u.cg.prototype._$ = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.VP,
          UG: this.HO
      };
      E.U(K)
  }
  ;
  u.cg.prototype.n9 = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y)
        , V = this.WQ;
      if (!N.Oy) {
          var j = "default"
            , a = this.kF
            , e = this.QF ? this.QF : a;
          if (e && _.oC._9(V.add.TySh.xA)) {
              var L = e.uP(k, E.a.S);
              if (L)
                  j = L;
              else if (e == a && a.gD(k))
                  j = "text"
          } else if (V && _.$.rE(k, V.rect) > 20 / E.a.S)
              j = "move";
          else if (u.cg.iw(E, k) >= 0)
              j = "text";
          if (j != this.HO) {
              this.HO = j;
              this._$(K)
          }
      }
      var g = this.E7;
      if (this.Mn && Math.min(N.x - g.x, N.y - g.y) > 4 / E.a.S) {
          this.Mn = !1;
          this.BH(E, K, i, C, N);
          V = this.WQ;
          this.lZ = !0;
          this.kF = new go(null,!1,!1,!1,!0);
          var I = E.a.Eb(this.E7.x, this.E7.y);
          I.x = Math.round(I.x);
          I.y = Math.round(I.y);
          this.kF.om(E, i, C, I)
      }
      if (this.lZ) {
          var h = V.add.TySh;
          if (this.QF) {
              this.QF.n9(E, i, C, k);
              var o = _.J.M1(_.J.hv(this.QF.P2(), this.a4i));
              h.m = o;
              this.SH(E, i);
              cO.Rt(h)
          } else if (this.kF) {
              this.kF.n9(E, i, C, k);
              var H = h.m.clone()
                , A = Math.atan2(H.O, H.R);
              H.rotate(A);
              var o = _.J.M1(_.J.hv(this.kF.P2()))
                , S = Math.atan2(o.O, o.R);
              o.rotate(S);
              if (!isNaN(o.R) && o.R * o.bI - o.O * o.x9 != 0) {
                  var v = new h4(0,0,o.R / H.R,o.bI / H.bI)
                    , s = Math.round(v.d)
                    , D = Math.round(v.v)
                    , F = h.Ou.Curve;
                  if (F) {
                      var y = cO.nh(h.Ou)
                        , T = new fn(s / y[2],0,0,D / y[3],0,0);
                      _.$.m(F.Points, T, F.Points);
                      cO.Rt(h)
                  }
                  cO.Bk(h.Ou, [0, 0, s, D]);
                  h.m = _.J.M1(_.J.hv(this.kF.P2(), v));
                  this.SH(E, i);
                  cO.Rt(h)
              }
          } else {
              var Q = k.x - this.Zn.x
                , B = k.y - this.Zn.y;
              h.m = this.alq.clone();
              var r = new bT(h.m.vK + Q,h.m.Cz + B);
              r = u.x_.NQ(E, r, i);
              h.m.vK = r.x;
              h.m.Cz = r.y;
              this.SH(E, i)
          }
      }
      if (this.vR)
          this.Ut = this.OJ(k);
      if (this.lZ || this.vR)
          this.lF(E)
  }
  ;
  u.cg.prototype.BH = function(E, K, i, C, N) {
      var k = E.LM()
        , V = k[0]
        , j = k[1]
        , a = E.qV();
      a.add.lnsr = "rend";
      var e = E.t.slice(0);
      a.gv("Text layer " + e.length);
      this.WQ = a;
      var L = E.C.length == 0 ? E.t.length - 1 : E.C[E.C.length - 1]
        , g = L + 1;
      if (e[L].add.lsct == c5.qd)
          g--;
      this.R_ = {
          AV: e.slice(0),
          JY: E.C.slice(0)
      };
      e.splice(g, 0, a);
      E.C = [g];
      this.ak = this.Ut = 0;
      E.qk(e);
      this.R_.Un = e.slice(0);
      this.R_.Id = E.C.slice(0);
      this.NZ(K, c.E.P, {
          e: c.f.Mx,
          F: this.id,
          AR: "showactive"
      });
      var I = E.a.Eb(N.x, N.y);
      a.add.TySh = cO.u3(I.x, I.y, i.Ox);
      var h = a.add.TySh
        , o = h.Ou;
      cO.ko(h, this.Tz);
      if (N.Oy)
          cO.kw(o, 1);
      else {
          cO.kw(o, 0);
          var H = V[j.pop()]
            , A = H ? H.add.vmsk : null;
          if (A) {
              A = A.clone();
              var S = A.b, s, D;
              for (var G = 0; G < S.length; G++)
                  if (S[G].A0 != null)
                      S[G].A0 = 0;
              var v = 4 * c.M() / E.a.S;
              s = _.Y.Wt(A.b, I, !0, v);
              if (s.EL == -1)
                  s = _.Y.Wt(A.b, I);
              if (s.EL != -1) {
                  cO.kw(o, 1);
                  var F = _.Y.ac(S, s.EL)
                    , y = _.Y.On(S, s.EL) - 1;
                  S = A.b = S.slice(0, 2).concat(S.slice(F, F + y + 1));
                  A.C = [];
                  h.add = {
                      vmsk: A,
                      vogk: U.cE(S)
                  };
                  o.Curve = {};
                  cO.fp(h);
                  if (s.JE != null) {
                      var T = g_.$V(o.Curve);
                      _.$.m(T[0], h.m, T[0]);
                      var Q = _.$.G6(T[0], I.x, I.y)
                        , B = i.Ox.oN.Justification;
                      if (B == 2 || B == 5) {
                          var r = (T[2][Q] + T[3] * .5) % T[3];
                          Q = g_.xb(r, T[2])
                      }
                      var J = T[1][Q];
                      J = J % y;
                      A.pK = [J, J];
                      cO.fp(h)
                  } else
                      this.hK(h)
              }
          }
      }
      return a
  }
  ;
  u.cg.prototype.Cs = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y)
        , V = this.Mn;
      if (this.Mn) {
          this.Mn = !1;
          this.BH(E, K, i, C, N);
          this.vR = !0
      }
      if (this.lZ || this.vR) {
          this.lF(E);
          this.tO();
          if (V)
              this.eH(i)
      }
      if (this.lZ && this.kF)
          this.kF.Cs(E, i, C, k);
      this.lZ = this.vR = !1;
      this.Jn(E, i, C);
      this.oj.focus()
  }
  ;
  u.cg.prototype.tO = function() {
      var E = this.WQ.add.TySh, K = Math.min(this.ak, this.Ut), i = Math.max(this.ak, this.Ut), C, N;
      if (K == i) {
          var k = cO.Es(E.Ou);
          if (K == 0 || k.charAt(K - 1) == "\n")
              C = N = K;
          else
              C = N = K - 1
      } else {
          C = K;
          N = i - 1
      }
      var V = cO.UX(E.Ou, C, N);
      cO.i8(V, u._.x$(E.m));
      this.dD(this.caller, V, E)
  }
  ;
  u.cg.prototype.dD = function(E, K, i) {
      this.NZ(E, c.E.P, {
          e: c.f.H7,
          KG: dp.nF,
          Ox: K
      });
      var C = this.Tz = cO.aj(i);
      this.NZ(this.caller, c.E.P, {
          e: c.f.Mx,
          F: this.id,
          AR: "changeAA",
          Gz: C
      })
  }
  ;
  u.cg.prototype.Ok = function(E, K, i, C) {
      if (C.q(w.SO))
          this.zx(E, K);
      var N = this.WQ;
      if (N)
          if (this.QF == null && C.q(w.qN)) {
              var k = N.add.TySh, V = cO.O1(k.Ou), j;
              if (V == 1) {
                  j = cO.nh(k.Ou);
                  j = new h4(0,0,j[2] - j[0],j[3] - j[1])
              } else
                  j = this.xU.lY();
              var a = [j.x, j.y, j.x + j.d, j.y, j.x + j.d, j.y + j.v, j.x, j.y + j.v];
              _.$.m(a, k.m, a);
              this.QF = new go(a,!0,!0,!1,!1);
              this.a4i = j;
              this.lF(this.uY)
          } else
              this.Jn(E, i, C)
  }
  ;
  u.cg.prototype.Jn = function(E, K, i) {
      var C = this.WQ;
      if (C && !this.lZ && this.QF != null && !i.q(w.qN)) {
          this.QF.Cs(E, K, i, null);
          this.QF = null;
          this.hK(C.add.TySh);
          this.lF(this.uY)
      }
  }
  ;
  u.cg.prototype.disable = function(E, K, i, C) {
      var N = this.WQ;
      this.MJ(E, K)
  }
  ;
  u.cg.prototype.Kl = function(E, K, i, C, N) {
      if (this.ot)
          return;
      if (E.AR == "commit")
          this.MJ(i, K);
      if (E.AR == "cancel")
          this.zx(i, K);
      if (E.AR == "changeAA") {
          this.Tz = E.Gz;
          if (i != null)
              this.d2({
                  e: "updateStyles"
              }, K, i, C, N)
      }
      if (E.AR == "showwarp") {
          if (i == null)
              return;
          if (this.WQ == null) {
              var k = i.t[i.C[0]]
                , V = k.add.TySh;
              if (V == null)
                  return;
              this.Qm(i, K, N, [i.C[0]]);
              this.oj.focus();
              this.ot = !0
          }
          this.ahV = this.WQ.add.TySh.xA;
          var j = new q(c.E.P,!0);
          j.data = {
              e: c.f.eQ,
              KN: "textwarp"
          };
          K.U(j)
      }
  }
  ;
  u.cg.prototype.bX = function(E, K) {
      if (K != dp.ht)
          return;
      if (this.Bm) {
          this.Bm = !1;
          var i = this.uY
            , C = this.jb;
          for (var G = 0; G < C.length; G++) {
              this.WQ = i.t[C[G]];
              this.SH(i, E)
          }
          this.MJ(i, this.caller);
          return
      }
      if (this.WQ)
          this.eH(E)
  }
  ;
  u.cg.prototype.SM = function(E, K) {
      var i = JSON.parse(JSON.stringify(E.Ox));
      cO.i8(i, 1 / u._.x$(K.m));
      return i
  }
  ;
  u.cg.prototype.Fh = function(E, K) {
      if (E.rH != null)
          this.d5(K, E.pE);
      else
          this.hw(K, E.Un, E.Id)
  }
  ;
  u.cg.prototype.eS = function(E, K) {
      if (E.rH != null)
          this.d5(K, E.rH);
      else
          this.hw(K, E.AV, E.JY)
  }
  ;
  u.cg.prototype.d5 = function(E, K) {
      for (var G = 0; G < K.length; G++) {
          var i = K[G]
            , C = i.wv
            , N = E.t[C];
          N.buffer = i.UE;
          N.rect = i.g.clone();
          N.s();
          var k = N.add.TySh;
          k.xA = i.oC;
          k.u9 = i.u9.clone();
          k.m = i.m.clone();
          k.Ou = JSON.parse(JSON.stringify(i.Ou));
          N.IL()
      }
      E.s()
  }
  ;
  u.cg.prototype.el = function(E, K) {
      var i = [];
      for (var G = 0; G < K.length; G++) {
          var C = K[G]
            , N = E.t[C]
            , k = N.add.TySh;
          i.push({
              wv: C,
              m: k.m.clone(),
              oC: JSON.parse(JSON.stringify(k.xA)),
              u9: k.u9.clone(),
              Ou: JSON.parse(JSON.stringify(k.Ou)),
              UE: N.buffer.slice(0),
              g: N.rect.clone()
          })
      }
      return i
  }
  ;
  u.cg.prototype.hw = function(E, K, i) {
      E.C = i;
      E.qk(K);
      E.s();
      E._S = !0
  }
  ;
  u.cg.prototype.SH = function(E, K, i) {
      if (i == null)
          i = !1;
      var C = this.WQ.add.TySh;
      if (!dR.WW(C, K.g5))
          return !1;
      this.xU = new g_(C.Ou,K.g5);
      if (!i) {
          var N = cO.Es(C.Ou);
          this.oj.value = N.slice(0, N.length - 1)
      }
      var k = dR.sX(this.xU, C);
      if (_.oC._9(C.xA))
          C.u9 = new h4;
      else {
          if (cO.O1(C.Ou) == 1) {
              var V = cO.nh(C.Ou)
                , l = k.u9.y;
              C.u9 = new h4(0,l,V[2] - V[0],V[3] - V[1] - l)
          } else {
              C.u9 = k.u9
          }
      }
      var j = this.WQ.rect;
      this.WQ.rect = k.g;
      this.WQ.buffer = k.OR;
      this.WQ.s();
      E.S8();
      E.s(E.root.D5(k.g.ip(j), E, E.t.indexOf(this.WQ)));
      return !0
  }
  ;
  u.cg.prototype.zS = function(E) {
      if (this.WQ == null || this.ot)
          return;
      var K = this.oj.selectionStart
        , i = this.WQ.add.TySh
        , C = cO.Es(i.Ou)
        , N = this.oj.value + "\n"
        , k = Math.min(this.ak, this.Ut)
        , V = Math.max(this.ak, this.Ut)
        , g = !1;
      this.ak = Math.min(K, k);
      if (N.length - K < C.length - this.Ut)
          this.Ut = C.length - N.length + K;
      if (C != N) {
          while (this.ak > 0 && C.charAt(this.ak - 1) != N.charAt(this.ak - 1))
              this.ak--
      }
      var j = C.substring(0, this.ak)
        , a = C.substring(this.Ut, C.length)
        , e = N.substring(this.ak, N.length - a.length);
      cO.tz(i.Ou, this.ak, this.Ut);
      cO.qu(i.Ou, this.ak, e);
      var L = this.SM(this.VV, i)
        , I = -1
        , h = Array.from(e);
      for (var G = 0; G < h.length; G++)
          I = Math.max(I, h[G].codePointAt(0));
      if (I != -1 && I > 128 && L.dP.Font != null) {
          var o = L.gx[L.dP.Font].Name
            , H = this.VV.g5.TF(I, o, L.gx);
          if (o != H) {
              cO.Ui(L, H);
              g = !0
          }
      }
      if (this.Rl != null && e == this.Rl) {
          var A = JSON.parse(this.a6C);
          L.dP = A.dP;
          L.gx = A.gx;
          g = !0
      }
      cO.Wk(i.Ou, this.ak, this.ak + e.length - 1, L);
      this.ak = this.Ut = j.length + e.length;
      var S = this.uY
        , v = this.SH(S, this.VV, !0);
      if (v)
          this.lF(S, !0);
      if (g)
          this.tO()
  }
  ;
  u.cg.prototype.af$ = function(E) {
      if (this.WQ == null || this.ot)
          return;
      if (this.WQ == null)
          return;
      var K = w
        , i = 0
        , C = 0
        , S = !1;
      if (K.SS(E.code, K.t5))
          i = 1;
      if (K.SS(E.code, K.xM))
          i = -1;
      if (K.SS(E.code, K.ay))
          C = -1;
      if (K.SS(E.code, K.Kv))
          C = 1;
      var N = E.ctrlKey || E.metaKey
        , k = K.SS(E.code, w.am9)
        , V = K.SS(E.code, w.ali);
      if (K.SS(E.code, w.U6) && N) {
          this.MJ(this.uY, this.caller);
          return
      }
      if (K.SS(E.code, w.ll)) {
          E.preventDefault();
          var j = this.oj
            , a = j.value
            , e = j.selectionStart
            , L = j.selectionEnd;
          j.value = a.substring(0, e) + "\t" + a.substring(L);
          j.selectionStart = j.selectionEnd = e + 1;
          this.zS(null);
          return
      }
      if ((K.SS(E.code, K.dY) || K.SS(E.code, K.ab)) && N) {
          var g = this.ak
            , I = this.Ut;
          if (g > I) {
              var h = g;
              g = I;
              I = h
          }
          var o = this.WQ.add.TySh
            , H = cO.Es(o.Ou);
          if (g != I) {
              this.Rl = H.slice(g, I);
              this.a6C = JSON.stringify(this.VV.Ox)
          }
      }
      var A = cO.Es(this.WQ.add.TySh.Ou);
      if (i != 0 || C != 0 || k || V) {
          E.preventDefault();
          var v = this.ak;
          if (i != 0) {
              if (N && i == -1)
                  v = this.po(A, this.ak - 1);
              else if (N && i == 1)
                  v = this.Jj(A, this.ak);
              else {
                  var j = this.oj
                    , a = j.value;
                  v = this.ak + i;
                  if (v != 0 && a.codePointAt(v - 1) > 65535)
                      v += i
              }
          } else if (C != 0) {
              var s = this.xU._r(this.ak);
              if (C == -1 && s.lq == 0)
                  v = 0;
              else if (C == 1 && s.lq == this.xU.a1c() - 1)
                  v = 99999999999;
              else
                  v = this.xU.XP(new bT(s.g.x + s.g.d / 2,0), s.lq + C)
          } else if (k) {
              var D = this.ak - 1;
              while (D > 0 && A.charCodeAt(D) != 10)
                  D--;
              v = D == 0 ? 0 : D + 1
          } else if (V) {
              var D = this.ak;
              while (D < A.length - 1 && A.charCodeAt(D) != 10)
                  D++;
              v = D
          }
          v = Math.max(0, Math.min(A.length - 1, v));
          if (E.shiftKey)
              this.ak = v;
          else
              this.ak = this.Ut = v;
          S = !0
      }
      if (K.SS(E.code, w.f) && N) {
          this.ak = 0;
          this.Ut = A.length - 1;
          S = !0
      }
      if (S) {
          this.tO();
          this.lF(this.uY)
      }
  }
  ;
  u.cg.anb = function(E, K) {
      var i = E.length;
      if (i != K.length)
          return !1;
      for (var G = 0; G < i; G++)
          if (E[G].wv != K[G].wv)
              return !1;
      return !0
  }
  ;
  u.cg.prototype.MJ = function(E, K) {
      if (this.WQ == null)
          return;
      this.WQ.IL();
      var i = this.R_;
      if (i instanceof Array) {
          var C = this.el(E, this.jb)
            , N = E.Ty();
          if (N != null && N.F == this && N.data.rH && u.cg.anb(N.data.rH, i))
              N.data.pE = C;
          else {
              var k = new fy(this.name,this);
              k.data = {
                  rH: i,
                  pE: C
              };
              E.b8(k)
          }
      } else {
          var k = new fy(this.name,this);
          k.data = {
              AV: i.AV,
              Un: i.Un,
              JY: i.JY,
              Id: i.Id
          };
          E.b8(k)
      }
      this.escape(E, K)
  }
  ;
  u.cg.prototype.zx = function(E, K) {
      if (this.WQ == null)
          return;
      if (this.R_ instanceof Array) {
          this.d5(E, this.R_);
          if (this.WQ)
              cO.Rt(this.WQ.add.TySh)
      } else {
          E.C = this.R_.JY;
          E.qk(this.R_.AV)
      }
      E.s();
      this.escape(E, K)
  }
  ;
  u.cg.prototype.escape = function(E, K) {
      this.WQ = null;
      this.jb = null;
      this.xU = null;
      this.kF = null;
      this.oj.blur();
      E.K.yK = null;
      E.K.OU = null;
      E.K.Cn = [];
      E.nK = !0;
      this.lZ = !1;
      this.vR = !1;
      this.ak = this.Ut = -1;
      this.NZ(K, c.E.P, {
          e: c.f.Mx,
          F: this.id,
          AR: "hideactive"
      });
      if (this.bc) {
          var i = new q(c.E.P,!0);
          i.data = {
              e: c.f.oS,
              F: this.bc
          };
          K.U(i);
          this.bc = null
      }
  }
  ;
  u.cg.prototype.NZ = function(E, K, i, C) {
      var N = new q(K,!0);
      N.data = i;
      if (C)
          N.F = C;
      E.U(N)
  }
  ;
  u.cg.prototype.OJ = function(E) {
      var K = this.WQ.add.TySh
        , i = this.xU
        , C = K.m.clone();
      C.KP();
      var N = C.uZ(E)
        , k = cO.Qc(K, i)
        , V = _.oC.T4(K.xA, k)
        , j = _.cP.W.qg(V, 0, 1, 0, 1)
        , a = new Uint32Array(30)
        , e = _.cP.W.a7M(j.Mt, j.jl, N.x, N.y, a)
        , L = _.cP.Wt(V, N.x, N.y, j.Mt, a, e, !1)
        , g = _.cP.wi;
      if (g == null)
          g = new Float64Array(2);
      N = new bT(k.x + g[0] * k.d,k.y + g[1] * k.v);
      var I = i.XP(N);
      return I
  }
  ;
  u.cg.prototype.lF = function(E, K) {
      if (K == null)
          K = !1;
      var i = this.WQ.add.TySh
        , C = cO.O1(i.Ou)
        , N = this.xU
        , k = N ? cO.Qc(i, N) : null;
      E.K.Cn = [];
      E.K.yK = null;
      E.K.OU = null;
      var V = this.QF ? this.QF : this.kF;
      if (V) {
          V.iF(E, this.VV, !_.oC._9(i.xA));
          var j = i.m.clone();
          j.KP();
          _.$.m(E.K.Cn, j, E.K.Cn);
          _.$.m(E.K.yK.H, j, E.K.yK.H);
          if (N && N.amc()) {
              var a = k.d - 20
                , e = k.v + 8;
              E.K.yK.H.push(a, e, a + 10, e, a + 5, e - 5, a + 5, e + 5);
              E.K.yK.Z.push("M", "L", "M", "L")
          }
      } else if (C == 0)
          this.ahl(E, i, N);
      else
          E.K.yK = {
              H: [],
              Z: []
          };
      var L = Math.min(this.ak, this.Ut)
        , g = Math.max(this.ak, this.Ut);
      if (!K) {
          this.oj.selectionStart = L;
          this.oj.selectionEnd = g
      }
      if (N != null) {
          var I = function(V, F) {
              var y = V.x
                , T = V.y + V.v
                , Q = new fn;
              Q.translate(-y, -T);
              Q.rotate(-F);
              Q.translate(y, T);
              V.y += V.v * .27;
              var v = _.$.X6(V);
              _.$.m(v.H, Q, v.H);
              return v
          };
          if (L == g) {
              L = Math.max(L, 0);
              var h = N._r(L);
              if (h) {
                  var o = h.g
                    , H = this.VV.Ox.dP.FontSize;
                  if (H != null && H != 0) {
                      H /= i.m.x$();
                      o.y += o.v - H;
                      o.v = H
                  }
                  var A = N.alH(L);
                  if (A != null && A.FD == 1)
                      o.x += o.d;
                  var S = I(o, h.m3).H;
                  E.K.yK.Z.push("M", "L");
                  E.K.yK.H.push(S[0], S[1], S[6], S[7])
              }
          } else {
              E.K.OU = {
                  H: [],
                  Z: []
              };
              for (var G = L; G < g; G++) {
                  var h = N._r(G)
                    , v = I(h.g, h.m3);
                  _.$.concat(E.K.OU, v)
              }
          }
      }
      if (N != null) {
          if (!k.OL()) {
              var s = _.oC.T4(i.xA, k)
                , D = Math.min(k.d, k.v) / 10;
              if (D < 1)
                  D = 1;
              if (E.K.yK) {
                  E.K.yK = _.$.Eq(E.K.yK);
                  E.K.yK = _.$.Ye(E.K.yK, D);
                  _.cP.apply(s, E.K.yK.H, k)
              }
              if (E.K.OU) {
                  E.K.OU = _.$.Eq(E.K.OU);
                  E.K.OU = _.$.Ye(E.K.OU, D);
                  _.cP.apply(s, E.K.OU.H, k)
              }
              _.cP.apply(s, E.K.Cn, k)
          }
      }
      if (E.K.yK)
          _.$.m(E.K.yK.H, i.m, E.K.yK.H);
      if (E.K.OU)
          _.$.m(E.K.OU.H, i.m, E.K.OU.H);
      _.$.m(E.K.Cn, i.m, E.K.Cn);
      E.nK = !0
  }
  ;
  u.cg.prototype.ahl = function(E, K, i) {
      if (i == null)
          return;
      E.K.Cn.push(0, 0);
      if (E.K.yK == null)
          E.K.yK = {
              Z: [],
              H: []
          };
      for (var G = 0; G < i.oN.length; G++) {
          var C = i.oN[G];
          for (var N = 0; N < C.Pg.length; N++) {
              var k = C.Pg[N]
                , V = C.Mf.x + k.Mf.x + k.g.x
                , j = C.Mf.y + k.Mf.y + k.g.y + k.g.v;
              E.K.yK.Z.push("M", "L");
              E.K.yK.H.push(V, j, V + k.g.d, j)
          }
      }
      E.nK = !0
  }
  ;
  u.vC = function() {
      u.u$.call(this, [10, 9], u.jM, "tools/lasso");
      this.pQ = "crosshair";
      this.q1 = null;
      this.pc = null;
      this.Zn = null
  }
  ;
  u.vC.prototype = new u.u$;
  u.vC.prototype.bC = function(E, K, i, C) {
      this.q1 = this.r4;
      this.pc = {
          H: [this.q1.x, this.q1.y],
          Z: ["M"]
      }
  }
  ;
  u.vC.prototype.BT = function(E, K, i, C) {
      this.Zn = C;
      var N = this.pc;
      if (N == null)
          return;
      if (!C.Oy) {
          if (this.pc != null && this.Yl > 1 && i.q(w.zA)) {
              N.H.pop();
              N.H.pop();
              N.H.push(this.WK.x, this.WK.y);
              E.K.yK = N;
              E.nK = !0
          }
          return
      }
      N.Z.push("L");
      N.H.push(this.WK.x, this.WK.y);
      this.q1 = this.WK;
      if (this.g_) {
          E.K.yK = N;
          E.nK = !0
      }
  }
  ;
  u.vC.prototype.cn = function() {
      return this.pc != null
  }
  ;
  u.vC.prototype.t7 = function() {
      return this.pc != null
  }
  ;
  u.vC.prototype.Ok = function(E, K, i, C) {
      u.u$.prototype.Ok.call(this, E, K, i, C);
      if (this.pc && this.Yl > 1 && this.Zn && !this.Zn.Oy && !C.q(w.zA))
          this.ri(E, i, C)
  }
  ;
  u.vC.prototype.nW = function(E, K, i, C) {
      this.Zn = C;
      var N = this.pc;
      if (N == null)
          return;
      if (this.Yl > 1 && i.q(w.zA)) {
          N.Z.push("L");
          N.H.push(this.WK.x, this.WK.y);
          return
      }
      this.ri(E, K, i)
  }
  ;
  u.vC.prototype.ri = function(E, K, i) {
      this.finish(E, K, i, this.Zn);
      this.pc = null;
      E.K.yK = null;
      E.nK = !0
  }
  ;
  u.vC.prototype.getSelection = function(E, K, i, C) {
      if (this.r4.Ql(this.WK) || !this.g_)
          return null;
      return u.u$.Sg(this.pc.H)
  }
  ;
  u.x_ = function() {
      u.UB.call(this, [10, 11], u.Sm, "tools/move");
      this.m4 = new bT(0,0);
      this.nQ = new bT(0,0);
      this.Lk = null;
      this.es = null;
      this.l7 = new bT(0,0);
      this.Fd = null;
      this.Mi = null;
      this.sU = null;
      this.$g = 0;
      this.IX = null;
      this.xj = [];
      this.dL = null;
      this.e5 = !1;
      this.e = 0;
      this.vm = null;
      this.Jq = null;
      this.DP = null;
      this.r0 = !1;
      this.Ph = {
          GV: !1,
          PM: !1,
          s7: !1
      };
      this.amJ = !1;
      this.an5 = !1;
      this.kF = null;
      this.z4 = null;
      this.a0o = null;
      var E = [];
      for (var G = 0; G < _.lj.Cx.length; G++)
          E.push({
              name: _.lj.Cx[G],
              Q: function(K, i, C) {
                  return {
                      Sa: i.bA.RG == C
                  }
              }
          });
      this.n8 = new bi(E);
      this.n8.k("select", this.ic, this)
  }
  ;
  u.x_.prototype = new u.UB;
  u.UB.prototype.i4 = function(E) {
      return this.e5 && this.e != 2
  }
  ;
  u.x_.prototype.XA = function() {
      return this.e5 && this.e == 0
  }
  ;
  u.x_.prototype.VF = function(E, K, i, C) {
      this.eO(E, -this.l7.x, -this.l7.y);
      this.l7.Wm(0, 0);
      this.xk(E, null, i);
      this.yc(E)
  }
  ;
  u.x_.prototype.bn = function() {
      var E = this.Ph;
      return [E.GV ? 1 : 0, E.PM ? 1 : 0, E.s7 ? 1 : 0]
  }
  ;
  u.x_.prototype.jG = function(E, K, i) {
      var C = this.Ph;
      if (E && E[0] != null)
          C.GV = E[0] == 1;
      if (E && E[1] != null)
          C.PM = E[1] == 1;
      if (E && E[2] != null)
          C.s7 = E[2] == 1;
      var N = new q(c.E.P,!0);
      N.data = {
          e: c.f.Mx,
          F: this.id,
          KT: C,
          aa1: K
      };
      i.U(N)
  }
  ;
  u.x_.gh = function(E, K, i, C, N, k, V) {
      if (V == null)
          V = [!1, !0];
      var j = new h4(0,0,E.d,E.v)
        , a = E.Qw(null, N, !0)
        , e = E.BQ(a, V[0] ? j : null, V[1] ? null : j)[0];
      if (V[1]) {
          var L = _._F(e.A7(), new h4(0,0,e.d,e.v), 2);
          u.S7.P9(e, L)
      }
      if (i != 1) {
          var g = new h4(0,0,Math.round(e.d * i),Math.round(e.v * i));
          u.S7.P9(e, g);
          var I = [];
          for (var G = 0; G < e.t.length; G++)
              I.push(G);
          var h = u._.j9(e, I, !0);
          u.S7.jn(e, new fn(i,0,0,i,0,0));
          u._.wD(e, C, I, h, 1, _.J.Nl(new fn(i,0,0,i,0,0)), null, !0);
          e.L2()
      }
      var o = [];
      for (var G = 0; G < K.length; G++)
          if (e.d * e.v != 0)
              o.push(fb.MV(e, K[G].toUpperCase(), null, null, k ? k[G] : null, C));
      return o
  }
  ;
  u.x_.prototype.Uy = function(E, K, i, C, N) {
      if (E == null || E.C.length == 0)
          return;
      var k = u.x_.gh(E, [K], i, C, null)[0]
        , V = new q(c.E.P,!0);
      V.data = {
          e: c.f.Dy,
          data: k,
          name: E.t[E.C[0]].getName() + (i == 1 ? "" : "@" + i + "x") + "." + K
      };
      N.U(V)
  }
  ;
  u.x_.prototype.Kl = function(E, K, i, C, N) {
      if (E.Qh == "getPNG") {
          this.Uy(i, "png", E.V7, N, K)
      } else if (E.Qh == "getSVG") {
          this.Uy(i, "svg", E.V7, N, K)
      }
      if (E.Qh == "prms") {
          this.Ph = E;
          this.yc(i)
      }
  }
  ;
  u.x_.afA = function(E) {
      var l = E.length
        , i = 0;
      E.sort(function(k, V) {
          return k[0] + k[1] / 2 - (V[0] + V[1] / 2)
      });
      var K = E[l - 1][0] + E[l - 1][1] - E[0][0];
      for (var G = 0; G < l; G++)
          i += E[G][1];
      var C = Math.round((K - i) / (l - 1))
        , N = E[0][0];
      for (var G = 0; G < l; G++) {
          E[G][0] = N;
          N += E[G][1] + C
      }
  }
  ;
  u.x_.prototype.d2 = function(E, K, i, C, N) {
      var k = E.e;
      if (k == "trsl") {
          var V = Math.round(E.aea)
            , j = Math.round(E.a0w);
          this.l7.Wm(V, j);
          this.TH(i, K, C, N, !1, E.z);
          this.eO(i, V, j);
          this.xk(i, null, N)
      } else if (k == "gids" || k == "gidsFromLayer") {
          var a = E.Jq, e, L;
          if (a == null)
              a = JSON.parse(JSON.stringify(i.rJ));
          if (k == "gids") {
              e = E.B8;
              var g = a[0].length + a[1].length
                , I = e[0].length + e[1].length;
              L = g == I ? [23, 2] : g > I ? [23, 3] : [23, 4];
              if (I == 0)
                  L = [11, 15, 0]
          } else if (k == "gidsFromLayer") {
              var h = [[], []];
              for (var G = 0; G < i.C.length; G++) {
                  var o = i.t[i.C[G]].rect;
                  if (o.OL())
                      continue;
                  h[0].push(o.x, o.x + o.d);
                  h[1].push(o.y, o.y + o.v)
              }
              L = [11, 15, 1];
              e = JSON.parse(JSON.stringify(i.rJ));
              u.x_.qt(e, h)
          }
          if (JSON.stringify(a) == JSON.stringify(e))
              return;
          var k = new fy(L,this);
          k.data = {
              e: 2,
              Jq: a,
              B8: e
          };
          i.b8(k);
          this.Fh(k.data, i)
      } else if (k == "algn") {
          var H = E.G;
          if (i == null)
              return;
          if (i.C.length < 2 && !(i.N != null && H != 3 && H != 7)) {
              alert(i2.get([15, 7, 5]));
              return
          }
          var A = i.N;
          i.N = null;
          var o = A ? A.rect : u._.Qc(i);
          this.TH(i, K, C, N, !1);
          if (!this.e5)
              return;
          var S = this.IX
            , v = {}
            , s = []
            , D = []
            , F = [];
          for (var G = 0; G < S.length; G++) {
              var y = S[G];
              while (i.t[y].getName() == "</Layer group>")
                  y++;
              var T = i.root.WY(y)
                , Q = T;
              while (T.parent != null) {
                  T = T.parent;
                  if (S.indexOf(T.index) != -1)
                      Q = T
              }
              var B = D.indexOf(Q.index);
              if (B == -1) {
                  B = D.length;
                  D.push(Q.index)
              }
              s[G] = B
          }
          var r = []
            , J = []
            , m = [];
          for (var G = 0; G < D.length; G++) {
              var x = u._.Qc(i, i.Qw(!0, D[G]));
              m.push(x);
              var R = H == 3 ? [x.y, x.v] : [x.x, x.d];
              r[G] = R;
              J.push(R)
          }
          u.x_.afA(J);
          for (var G = 0; G < D.length; G++) {
              var x = m[G]
                , b = x.x
                , z = x.y;
              if (H == 0)
                  b = o.x;
              if (H == 1)
                  b = o.x + (o.d - x.d) / 2;
              if (H == 2)
                  b = o.x + (o.d - x.d);
              if (H == 3)
                  z = r[G][0];
              if (H == 4)
                  z = o.y;
              if (H == 5)
                  z = o.y + (o.v - x.v) / 2;
              if (H == 6)
                  z = o.y + (o.v - x.v);
              if (H == 7)
                  b = r[G][0];
              F.push(Math.round(b - x.x), Math.round(z - x.y))
          }
          var $ = [];
          for (var G = 0; G < S.length; G++) {
              var P = s[G];
              $[2 * G] = F[2 * P];
              $[2 * G + 1] = F[2 * P + 1]
          }
          this.eO(i, 0, 0, null, $);
          var t = H == 3 || H == 7 ? [20, 4, 6] : [20, 4, H < 3 ? H : H - 1];
          this.xk(i, null, N, $, t);
          i.N = A
      }
  }
  ;
  u.x_.qt = function(E, K) {
      for (var G = 0; G < K.length; G++)
          for (var i = 0; i < K[G].length; i++)
              if (E[G].indexOf(K[G][i]) == -1)
                  E[G].push(K[G][i])
  }
  ;
  u.x_.prototype.enable = function(E, K, i, C, N) {
      this.Mi = i;
      this.sU = K;
      this.r0 = N ? !0 : !1;
      this.yc(E);
      this._$("default", K)
  }
  ;
  u.x_.prototype.disable = function(E, K, i, C) {
      this.FT(E)
  }
  ;
  u.x_.prototype.FT = function(E) {
      if (E == null)
          return;
      if (this.kF) {
          this.kF.clear(E);
          this.kF = null
      }
      if (E.K.s7) {
          E.K.s7 = null;
          E.nK = !0
      }
      if (E.K.qK) {
          E.K.qK = null;
          E.nK = !0
      }
      if (E.K.Ni[this.id]) {
          delete E.K.Ni[this.id];
          E.nK = !0
      }
      if (E.K.AL.length != 0) {
          E.K.AL = [];
          E.nK = !0
      }
  }
  ;
  u.x_.prototype.Fs = function(E, K, i, C) {
      if (i.sw != this.id)
          return;
      this.yc(E)
  }
  ;
  u.x_.prototype.yc = function(E, K) {
      if (E == null)
          return;
      var i = this.Ph;
      this.FT(E);
      if (!this.r0) {
          var C;
          if (i.PM || i.s7)
              C = _.$.BK(u._.Qc(E));
          if (i.PM && !C.OL()) {
              this.kF = new go([C.x, C.y, C.x + C.d, C.y, C.x + C.d, C.y + C.v, C.x, C.y + C.v],!0);
              this.kF.iF(E, this.Mi)
          }
          if (i.s7) {
              var N = E.ai(E.C[0])
                , L = null
                , g = !1;
              if (N == null)
                  N = new h4(0,0,E.d,E.v);
              E.K.s7 = {
                  Q8: [C],
                  ha: []
              };
              var k = E.K.s7.ha
                , V = C.x + C.d
                , j = C.y + C.v
                , a = C.x + Math.floor(C.d / 2)
                , e = C.y + Math.floor(C.v / 2);
              if (K) {
                  var I = E.root.Wt(new bT(Math.floor(K.x),Math.floor(K.y)));
                  if (I) {
                      L = _.$.BK(I.z.p2(E));
                      if (L.ET(C)) {
                          g = (L.rp(C) || C.rp(L)) && !C.Ql(L);
                          if (!g)
                              L = null
                      }
                  }
              }
              this.Zy(C, k);
              if (L != null) {
                  E.K.s7.Q8.push(L);
                  var h = L.x + L.d
                    , o = L.y + L.v
                    , H = L.x + Math.floor(L.d / 2)
                    , A = L.y + Math.floor(L.v / 2);
                  if (g) {
                      var S = a
                        , v = e;
                      if (C.rp(L)) {
                          S = H;
                          v = A
                      }
                      k.push(C.x, v, L.x, v);
                      k.push(V, v, h, v);
                      k.push(S, C.y, S, L.y);
                      k.push(S, j, S, o)
                  } else {
                      this.Zy(L, k);
                      var s = j < L.y || o < C.y
                        , D = V < L.x || h < C.x;
                      if (V < L.x)
                          k.push(V, e, L.x, e);
                      if (h < C.x)
                          k.push(h, e, C.x, e);
                      if (j < L.y)
                          k.push(a, j, a, L.y);
                      if (o < C.y)
                          k.push(a, o, a, C.y);
                      if (s && !D) {
                          if (C.x < L.x)
                              k.push(C.x, A, L.x, A);
                          if (L.x < C.x)
                              k.push(L.x, e, C.x, e)
                      }
                  }
              } else {
                  if (C.y > N.y)
                      k.push(a, N.y, a, C.y);
                  if (j < N.y + N.v)
                      k.push(a, j, a, N.y + N.v);
                  if (C.x > N.x)
                      k.push(N.x, e, C.x, e);
                  if (V < N.x + N.d)
                      k.push(V, e, N.x + N.d, e)
              }
              E.nK = !0
          }
      }
      if (this.e == 2 && this.e5) {
          var F = this.IX
            , y = F[0]
            , T = (y == 0 ? "X" : "Y") + ": " + _.lj.Fg(E.rJ[y][F[1]], E.v9, this.Mi, y == 0 ? E.d : E.v, !0);
          u.UB.xP(Math.round(this.Lk.x) + 10, Math.round(this.Lk.y) - 10, [T], E);
          E.nK = !0
      }
      if (this.e == 3 && this.e5) {
          var Q = _.$.X6(this.vm);
          E.K.Ni[this.id] = {
              yK: Q
          };
          E.nK = !0
      }
  }
  ;
  u.x_.prototype.Zy = function(E, K) {
      var i = E.d
        , C = E.v
        , N = E.x + Math.floor(i * .2)
        , k = E.y + Math.floor(C * .2);
      K.push(N, E.y, N, E.y + C);
      K.push(E.x, k, E.x + i, k)
  }
  ;
  u.x_.prototype._$ = function(E, K) {
      var i = {
          e: c.f.VP,
          UG: E
      }
        , C = new q(c.E.P,!0);
      C.data = i;
      K.U(C)
  }
  ;
  u.x_.prototype.ZF = function(E) {
      var K = this.z4.s9()[0]
        , i = this.Fd
        , C = this.a0o[K];
      this.oB(i, C)
  }
  ;
  u.x_.prototype.ic = function(E) {
      var K = JSON.parse(JSON.stringify(this.Mi.bA));
      K.RG = this.n8.s9()[0];
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.H7,
          KG: dp.lg,
          Gz: K
      };
      this.sU.U(i)
  }
  ;
  u.x_.prototype.R2 = function(E, K, i, C, N) {
      if (this.e5)
          this.Cs(E, K, i, C, N);
      this.Fd = E;
      this.Mi = i;
      this.sU = K;
      var k = E.a.Eb(N.x, N.y), V;
      if (u.x_.mj(i, N, E.a)) {
          V = this.n8
      } else {
          if (this.z4)
              this.z4.removeEventListener("select", this.ZF);
          var j = [];
          E.root.Wt(k, j);
          if (j.length == 0)
              return;
          var a = [];
          this.a0o = j;
          for (var G = 0; G < j.length; G++)
              a.push({
                  name: E.t[j[G]].getName()
              });
          V = this.z4 = new bi(a);
          V.k("select", this.ZF, this)
      }
      V.parent = K;
      V.B();
      V.update(E, i);
      var e = new q(c.E.P,!0);
      e.data = {
          e: c.f.um,
          CP: V,
          x: N.ES + 2,
          y: N.xg + 1
      };
      K.U(e)
  }
  ;
  u.x_.prototype.Dq = function(E, K, i, C, N) {
      return u.x_.mj(i, N, E.a)
  }
  ;
  u.x_.prototype.om = function(E, K, i, C, N) {
      this.Lk = N;
      this.m4.Wm(N.x, N.y);
      this.nQ = E.a.Eb(N.x, N.y);
      this.es = new aS(this.nQ);
      this.TH(E, K, C, i, !0)
  }
  ;
  u.x_.mj = function(E, K, i) {
      var C = _.lj.Wa
        , N = i.DK.v;
      return E.Q4 && (0 < K.x && K.x < C || 0 < K.y && K.y < C || 0 < K.x && K.x < 4 * C && N - C < K.y && K.y < N)
  }
  ;
  u.x_.prototype.TH = function(E, K, i, C, N, k) {
      var V, j = this.nQ, a = !1;
      if (N) {
          var e = C.NN && C.bA.rJ;
          if (u.x_.mj(C, this.m4, E.a)) {
              V = JSON.parse(JSON.stringify(E.rJ));
              if (this.m4.x < _.lj.Wa)
                  E.rJ[0].push(j.x);
              if (this.m4.y < _.lj.Wa)
                  E.rJ[1].push(j.y);
              if (!e) {
                  var L = new q(c.E.P);
                  if (!C.bA.rJ) {
                      L.data = {
                          e: c.f.H7,
                          KG: dp.vw
                      };
                      K.U(L)
                  }
                  if (!C.NN) {
                      L.data = {
                          e: c.f.H7,
                          KG: dp.kU
                      };
                      K.U(L)
                  }
                  e = !0
              }
          }
          var g = this.qb(E, j);
          if (e && g) {
              this.e = 2;
              this.Jq = V ? V : JSON.parse(JSON.stringify(E.rJ));
              this.IX = g;
              this.e5 = !0;
              this.dL = u._.Qc(E);
              return
          }
          if (E.QZ.length != 0) {
              this.e = 4;
              this.dL = E.h_[E.QZ[0]].rect.clone();
              this.e5 = !0;
              return
          }
          if (this.kF && this.kF.uP(j, E.a.S, !0) != null) {
              var L = new q(c.E.P);
              L.data = {
                  e: c.f.oS,
                  F: u.Ny
              };
              K.U(L);
              var I = new q(c.E.A);
              I.F = u.Ny;
              I.data = {
                  e: "doMouseDown",
                  Lk: this.m4
              };
              K.U(I);
              return
          }
          if (E.N && E.N.rect.c9(j)) {
              var h = Math.round(j.x)
                , o = Math.round(j.y)
                , H = E.N.rect;
              a = E.N.channel[(o - H.y) * H.d + h - H.x] > 128
          }
          if (!a && (!this.r0 && this.Ph.GV || this.r0 && this.Ph.GV && (i.q(w.Gj) || E.C.length < 2))) {
              var A = this.a4p(E, j, i);
              if (!A) {
                  E.C = [];
                  E.Rn = null;
                  E._S = E.Jk = !0;
                  this.e = 3;
                  this.vm = new h4;
                  this.e5 = !0;
                  return
              }
          }
          if (i.q(w.zA) && !a) {
              var I = new q(c.E.A);
              I.F = u.Iy;
              I.data = {
                  e: U.CY,
                  a5a: !0
              };
              K.U(I)
          }
      }
      if (E.QZ.length != 0) {
          this.e = 4;
          this.dL = E.h_[E.QZ[0]].rect.clone();
          this.e5 = !0;
          return
      }
      this.IX = E.Qw(k == null, k, null, !0);
      for (var G = 0; G < this.IX.length; G++) {
          var S = E.t[this.IX[G]];
          if (S.Hv(2) || S.Hv(31)) {
              alert(i2.get([6, 57, 0]));
              return
          }
      }
      this.xj = u.x_.agA(E, this.IX);
      this.e = 0;
      if (E.N && (!N || a) && E.C.length == 1 && E.Os(!1)) {
          if (!E.i1()) {
              this.e5 = !1;
              return
          }
          var v = E.t[E.C[0]]
            , s = i.q(w.zA);
          this.e = 1;
          var D = E.history[E.tv];
          if (D.F == this && D.data.e == 1 && D.data.z == E.C[0] && v.dz == v.rA.dz && !s) {
              this.DP = D
          } else {
              var F = v.rA, y = !1, T;
              if (!v.za(E, E.N) || s) {
                  y = !0;
                  v.df(E, E.N, s)
              }
              if (v.rA.dz <= 0) {
                  T = _.I(v.rA.Gf.length >> 2);
                  _.wF(v.rA.Gf, T, 3)
              } else
                  T = E.N.channel.slice(0);
              var Q = {
                  rect: v.rA.BC.clone(),
                  channel: T
              };
              this.DP = new fy(s ? [12, 53] : [12, 54],this);
              this.DP.data = {
                  e: 1,
                  z: E.C[0],
                  rA: v.rA,
                  ZP: F,
                  AJ: y,
                  JY: E.N,
                  Id: Q,
                  bI: new bT(0,0)
              };
              E.b8(this.DP);
              E.N = Q;
              E.UT = !0
          }
      }
      this.e5 = !0;
      this.dL = u._.Qc(E)
  }
  ;
  u.x_.prototype.a4p = function(E, K, i) {
      var C = E.root.Wt(new bT(Math.floor(K.x),Math.floor(K.y)));
      if (C) {
          if (C.z.add.vmsk)
              E.nK = !0;
          var N = E.t.indexOf(C.z);
          if (i.q(w.Gj)) {
              var k = E.C.indexOf(N);
              if (k == -1)
                  E.C.push(N);
              else if (E.C.length > 1)
                  E.C.splice(k, 1)
          } else if (E.C.indexOf(N) == -1) {
              this.oB(E, N)
          }
      }
      return C != null
  }
  ;
  u.x_.prototype.oB = function(E, K) {
      E.t[K].dz = 0;
      E.C = [K];
      E.Rn = null;
      E.EK();
      E.yj = !0;
      E._S = !0
  }
  ;
  u.x_.prototype.n9 = function(E, K, i, C, N) {
      this.Lk = N;
      var k = E.a.Eb(N.x, N.y), I, h;
      if (this.es && this.e < 2)
          k = this.es.vt(k, C);
      if (!this.e5) {
          if (i.NN && i.bA.rJ) {
              var V = this.qb(E, k)
                , j = "default";
              if (V)
                  j = ["col-resize", "row-resize"][V[0]];
              else if (this.kF) {
                  var a = this.kF.uP(k, E.a.S);
                  if (a)
                      j = a
              }
              this._$(j, K)
          }
          this.yc(E, k);
          return
      }
      var e = this.nQ
        , L = Math.round(k.x - e.x) - this.l7.x
        , g = Math.round(k.y - e.y) - this.l7.y;
      if (this.dL) {
          if (this.e == 2) {
              k = u.x_.NQ(E, k, i, [!1, E.N ? E.N.rect : this.dL, !0])
          } else {
              h = this.dL.clone();
              h.offset(this.l7.x + L, this.l7.y + g);
              I = u.x_.Gw(E, h, i);
              L += Math.round(I[0]);
              g += Math.round(I[1])
          }
      }
      this.l7.x += L;
      this.l7.y += g;
      this.eO(E, L, g, k, null, C.q(w.Gj));
      this.yc(E, k);
      if (I)
          u.x_.HH(E, h, I)
  }
  ;
  u.x_.prototype.qb = function(E, K) {
      K = [K.x, K.y];
      for (var G = 0; G < 2; G++)
          for (var i = 0; i < E.rJ[G].length; i++)
              if (Math.abs(E.rJ[G][i] - K[G]) * E.a.S < 4)
                  return [G, i];
      return null
  }
  ;
  u.x_.prototype.eO = function(E, K, i, C, N, k) {
      if (this.e == 0) {
          if (N)
              u.x_.Pc(E, this.IX, this.xj, N);
          else
              u.x_.yl(E, this.IX, this.xj, K, i)
      } else if (this.e == 1) {
          var V = this.DP.data;
          V.bI.offset(K, i);
          u.x_.dl(E, V.z, K, i)
      } else if (this.e == 2) {
          var j = 1e-5;
          if (k)
              j = E.a.S <= 1 ? 10 : 1;
          else if (E.a.S <= 1)
              j = 1;
          var a = j * Math.round(C.x / j)
            , e = j * Math.round(C.y / j)
            , L = [a, e]
            , g = this.IX;
          E.rJ[g[0]][g[1]] = L[g[0]]
      } else if (this.e == 3) {
          var I = this.nQ
            , h = _.$.PA([I.x, I.y, C.x, C.y]);
          this.vm = h;
          var o = [];
          E.root.P8(h, o);
          if (JSON.stringify(E.C) != JSON.stringify(o)) {
              E.C = o;
              E._S = E.Jk = !0
          }
      } else if (this.e == 4) {
          for (var G = 0; G < E.QZ.length; G++)
              E.h_[E.QZ[G]].rect.offset(K, i);
          E.nK = !0
      }
  }
  ;
  u.x_.dl = function(E, K, i, C) {
      var N = E.t[K];
      E.N.rect.offset(i, C);
      N.lA(E, i, C, E.N);
      E.UT = !0;
      E.s()
  }
  ;
  u.x_.prototype.Cs = function(E, K, i, C, N) {
      this.xk(E, N, i);
      this.yc(E);
      if (Date.now() - this.$g < 300) {
          var k = u.cg.iw(E, E.a.Eb(N.x, N.y));
          if (k != -1) {
              var V = new q(c.E.A,!0);
              V.F = u.EM;
              V.data = {
                  e: "editCurr",
                  UU: k
              };
              K.U(V)
          } else if (u.x_.mj(i, N, E.a)) {
              var j = new q(c.E.P);
              j.data = {
                  e: c.f.eQ,
                  KN: "doczoom",
                  Io: E.a.S * 100,
                  b5: {
                      c: c.E.A,
                      F: u.L7,
                      o: {
                          e: "pzoom"
                      }
                  }
              };
              K.U(j)
          }
      }
      this.$g = Date.now()
  }
  ;
  u.x_.prototype.xk = function(E, K, i, C, N) {
      if (!this.e5)
          return;
      this.e5 = !1;
      if (this.e == 0) {
          if (C) {
              this.dj(E, null, C, N)
          } else {
              if (this.l7.x == 0 && this.l7.y == 0)
                  return;
              this.dj(E, this.l7.clone())
          }
          E.aO = !0
      } else if (this.e == 2) {
          var k = 0;
          K = [K.x, K.y];
          var V = this.IX
            , eX = this.Jq[0].length + this.Jq[1].length
            , j = E.rJ[0].length + E.rJ[1].length;
          if (i.Q4 && K[V[0]] < _.lj.Wa) {
              E.rJ[V[0]].splice(V[1], 1);
              k = 1;
              if (eX == j - 1)
                  return
          }
          if (eX < j)
              k = 2;
          var a = new fy([[23, 2], [23, 3], [23, 4]][k],this);
          a.data = {
              e: 2,
              Jq: this.Jq,
              B8: JSON.parse(JSON.stringify(E.rJ))
          };
          E.b8(a)
      } else if (this.e == 4) {
          var a = new fy([12, 54],this);
          a.data = {
              e: 4,
              C: E.QZ.slice(0),
              i: this.l7.clone()
          };
          E.b8(a)
      }
      this.l7.Wm(0, 0)
  }
  ;
  u.x_.prototype.Ok = function(E, K, i, C) {
      var N = C.TD();
      if (E != null && (N.x != 0 || N.y != 0)) {
          if (C.q(w.zA) && E.N == null) {
              var k = new q(c.E.A);
              k.F = u.Iy;
              k.data = {
                  e: U.CY,
                  a5a: !0
              };
              K.U(k)
          }
          this.l7.Wm(N.x, N.y);
          this.TH(E, K, C, i, !1);
          if (!this.e5)
              return;
          this.eO(E, N.x, N.y);
          this.xk(E, null, i);
          this.yc(E)
      }
      var V = C.q(w.qN);
      if (!this.r0 && this.an5 != V) {
          if (V) {
              this.amJ = this.Ph.GV;
              this.Ph.GV = !0
          } else {
              this.Ph.GV = this.amJ
          }
          this.an5 = V;
          var j = new q(c.E.P,!0);
          j.data = {
              e: c.f.Mx,
              F: this.id,
              KT: this.Ph
          };
          K.U(j)
      }
  }
  ;
  u.x_.prototype.eS = function(E, K) {
      if (E.e == 0)
          u.x_.Pc(K, E.C, E.C9, E.wa, !0);
      else if (E.e == 2) {
          K.rJ = JSON.parse(JSON.stringify(E.Jq));
          K.nK = !0
      } else if (E.e == 4) {
          for (var G = 0; G < E.C.length; G++)
              K.h_[E.C[G]].rect.offset(-E.i.x, -E.i.y);
          K.nK = !0
      } else {
          var i = K.t[E.z];
          if (E.AJ) {
              i.OD(K, E.ZP);
              K.N = E.JY;
              K.UT = !0;
              K.s();
              i.s()
          } else {
              u.x_.dl(K, E.z, -E.bI.x, -E.bI.y)
          }
      }
  }
  ;
  u.x_.prototype.Fh = function(E, K) {
      if (E.e == 0)
          u.x_.Pc(K, E.C, E.C9, E.wa);
      else if (E.e == 2) {
          K.rJ = JSON.parse(JSON.stringify(E.B8));
          K.nK = !0
      } else if (E.e == 4) {
          for (var G = 0; G < E.C.length; G++)
              K.h_[E.C[G]].rect.offset(E.i.x, E.i.y);
          K.nK = !0
      } else {
          var i = K.t[E.z];
          if (E.AJ) {
              i.rA = E.rA;
              K.N = E.Id;
              u.x_.dl(K, E.z, 0, 0);
              i.s()
          } else {
              u.x_.dl(K, E.z, E.bI.x, E.bI.y)
          }
      }
  }
  ;
  u.x_.prototype.dj = function(E, K, i, C) {
      if (i) {
          var N = !0;
          for (var G = 0; G < i.length; G++)
              if (i[G] != 0)
                  N = !1;
          if (N)
              return
      }
      var k = E.history[E.tv];
      if (k.data && k.F == this && k.data.e == 0 && i == null && JSON.stringify(k.data.C) == JSON.stringify(this.IX) && JSON.stringify(k.data.C9) == JSON.stringify(this.xj)) {
          var V = k.data.wa
            , j = k.data.a6$.v4.T.v;
          j.Hrzn.v.val += K.x;
          j.Vrtc.v.val += K.y;
          for (var G = 0; G < V.length; G += 2) {
              V[G] += K.x;
              V[G + 1] += K.y
          }
      } else {
          if (K == null)
              K = new bT(i[0],i[1]);
          var a = {
              bT: "move",
              v4: {
                  classID: "null",
                  null: bY.Ve("Lyr", !0),
                  T: {
                      t: "Objc",
                      v: {
                          classID: "Ofst",
                          Hrzn: {
                              t: "UntF",
                              v: {
                                  type: "#Rlt",
                                  val: K.x
                              }
                          },
                          Vrtc: {
                              t: "UntF",
                              v: {
                                  type: "#Rlt",
                                  val: K.y
                              }
                          }
                      }
                  }
              }
          }
            , e = new fy(C ? C : [12, 54],this);
          if (i)
              e.data = {
                  e: 0,
                  C: this.IX,
                  C9: this.xj,
                  wa: i
              };
          else
              e.data = {
                  e: 0,
                  C: this.IX,
                  C9: this.xj,
                  wa: u.x_.bD(this.IX, K.x, K.y)
              };
          e.data.a6$ = a;
          E.b8(e);
          this.track(a)
      }
  }
  ;
  u.x_.bD = function(E, K, i) {
      var C = [];
      for (var G = 0; G < E.length; G++)
          C.push(K, i);
      return C
  }
  ;
  u.x_.yl = function(E, K, i, C, N) {
      u.x_.Pc(E, K, i, u.x_.bD(K, C, N))
  }
  ;
  u.x_.Pc = function(E, K, i, C, N) {
      if (K.length == 0)
          return;
      if (i == null) {
          i = [];
          for (var G = 0; G < K.length; G++) {
              i.push(E.t[K[G]].uw(E, !0))
          }
      }
      var k = new h4
        , V = new h4(0,0,E.d,E.v);
      for (var G = 0; G < K.length; G++) {
          var j = C[2 * G]
            , a = C[2 * G + 1];
          if (N) {
              j = -j;
              a = -a
          }
          var e = E.t[K[G]]
            , L = i[G];
          if (e.add.fxrp && (L.indexOf(0) != -1 || e.bm()))
              e.add.fxrp.offset(j, a);
          for (var g = 0; g < L.length; g++) {
              var I = L[g];
              if (I == 0) {
                  e.rect.offset(j, a);
                  if (e.XQ() && e.uy(E))
                      e.uy(E).rect.offset(j, a);
                  if (e.add.artb) {
                      var h = e.vH();
                      h.offset(j, a);
                      e.Xx(h)
                  }
                  if (e.add.TySh) {
                      e.add.TySh.m.translate(j, a);
                      if (e.add.TySh.add) {
                          e.add.TySh.add.vmsk.offset(j, a)
                      }
                  }
                  if (e.add.SoLd) {
                      var o = new fn(1,0,0,1,j,a)
                        , H = e.add.SoLd
                        , A = u._.ph(H.Trnf)
                        , S = u._.ph(H.nonAffineTransform);
                      _.$.m(A, o, A);
                      _.$.m(S, o, S);
                      H.Trnf = u._.j6(A);
                      H.nonAffineTransform = u._.j6(S)
                  }
              }
              if (I == 1)
                  e.$Y().rect.offset(j, a);
              if (I == 2) {
                  e.add.vmsk.offset(j, a);
                  if (e.add.vogk)
                      _.U7.m(e.add.vogk, [1, 0, j, 0, 1, a, 0, 0], [])
              }
              if (I == 3) {
                  e.uy(E).r.rect.offset(j, a);
                  if (L.length == 1)
                      e.s()
              }
          }
          if (L.length > 0) {
              var v = e.add.GdFl;
              if (v == null)
                  v = e.add.PtFl;
              if (e.bm() && !e.bt() && e.add.vmsk != null && _.Y.mb(e.add.vmsk.b) && e.add.vmsk.ZD == 255 && (v == null || v.Algn && v.Algn.v)) {
                  e.rect.offset(j, a)
              } else
                  e.Kf(E);
              var s = E.root.D5(e.p2(E), E, K[G]);
              k = k.ip(s);
              s.offset(-j, -a);
              k = k.ip(s);
              if (e.add.SoCo || e.add.GdFl || e.add.PtFl || gM.get(e.add) != null)
                  k = k.ip(V);
              e.vs()
          }
      }
      E.s(k)
  }
  ;
  u.x_.agA = function(E, K) {
      var i = [];
      for (var G = 0; G < K.length; G++) {
          var C = E.t[K[G]];
          i.push(C.uw(E))
      }
      return i
  }
  ;
  u.x_.HH = function(E, K, i) {
      var C = E.K.qK = {
          H: [],
          Z: []
      }
        , N = K.x + i[0]
        , k = K.y + i[1];
      if (i[2] != 1e9) {
          C.Z.push("M", "L");
          C.H.push(i[2], k, i[2], k + K.v)
      }
      if (i[3] != 1e9) {
          C.Z.push("M", "L");
          C.H.push(N, i[3], N + K.d, i[3])
      }
      E.nK = !0
  }
  ;
  u.x_.NQ = function(E, K, i, C) {
      var N = u.x_.t$(E, [[K.x], [K.y]], i, C);
      return new bT(K.x + N[0],K.y + N[1])
  }
  ;
  u.x_.Gw = function(E, K, i, C, N) {
      var k = N == !0 ? 0 : 1
        , V = u.x_.t$(E, [[K.x, K.x + (K.d >>> k), K.x + K.d], [K.y, K.y + (K.v >>> k), K.y + K.v]], i, C);
      return V
  }
  ;
  u.x_.t$ = function(E, K, i, C) {
      if (C == null)
          C = [!0, null, !0];
      var N = [0, 0, 1e9, 1e9];
      if (!i.vQ)
          return N;
      var k = JSON.parse(JSON.stringify(K));
      for (var V = 0; V < 2; V++) {
          var j = 1e9
            , a = K[V]
            , e = 0;
          for (var L = 0; L < a.length; L++) {
              var g = u.x_.a2b(E, a[L], k[1 - V][L], V, i, C);
              if (g != 1e9)
                  k[V][L] = g;
              if (g != 1e9 && Math.abs(g - a[L]) < Math.abs(j)) {
                  j = g - a[L];
                  e = g
              }
          }
          if (j != 1e9) {
              N[V] = j;
              N[V + 2] = e
          }
      }
      return N
  }
  ;
  u.x_.a2b = function(E, K, i, C, N, k) {
      var V = 1e9
        , j = N.H2
        , a = N.bA
        , e = [E.root];
      while (e.length != 0 && j[2]) {
          var L = e.pop()
            , g = L.z
            , I = g.rect;
          if (!g.VD())
              continue;
          if (L.children)
              for (var G = 0; G < L.children.length; G++)
                  e.push(L.children[G]);
          if (E.C.indexOf(L.index) != -1 || I.OL())
              continue;
          if (C == 0) {
              var h = I.d
                , o = h >>> 1;
              if (Math.abs(I.x - K) < Math.abs(V - K))
                  V = I.x;
              if (Math.abs(I.x + o - K) < Math.abs(V - K))
                  V = I.x + o;
              if (Math.abs(I.x + h - K) < Math.abs(V - K))
                  V = I.x + h
          } else {
              var H = I.v
                , A = H >>> 1;
              if (Math.abs(I.y - K) < Math.abs(V - K))
                  V = I.y;
              if (Math.abs(I.y + A - K) < Math.abs(V - K))
                  V = I.y + A;
              if (Math.abs(I.y + H - K) < Math.abs(V - K))
                  V = I.y + H
          }
      }
      if (k[0] && j[0] && a.rJ && N.NN) {
          var S = E.rJ[C];
          for (var G = 0; G < S.length; G++)
              if (Math.abs(S[G] - K) < Math.abs(V - K))
                  V = S[G]
      }
      if (j[1] && a.NG && N.NN) {
          var v = Math.round(_.lj.wR(a.gd, E, a.gH));
          if (C == 1 && a.e8 == 1) {
              var s = i * .5 * Math.sqrt(4 / 3), D;
              v *= Math.sqrt(4 / 3);
              D = Math.round((K - s) / v) * v + s;
              if (Math.abs(D - K) < Math.abs(V - K))
                  V = D;
              D = Math.round((K + s) / v) * v - s;
              if (Math.abs(D - K) < Math.abs(V - K))
                  V = D
          } else {
              var D = Math.round(K / v) * v;
              if (Math.abs(D - K) < Math.abs(V - K))
                  V = D
          }
      }
      var F = E.jX;
      if (j[3] && a.jX && N.NN && F.length != 0) {
          for (var G = 0; G < F.length; G++) {
              if (!k[2] && E.I9.indexOf(G) != -1)
                  continue;
              var y = u.gX.hH(F, G);
              for (var T = 0; T < 3; T += 2)
                  if (y[T + C] != K && Math.abs(y[T + C] - K) < Math.abs(V - K))
                      V = y[T + C]
          }
      }
      if (k[1]) {
          var I = k[1]
            , h = I.d
            , H = I.v
            , Q = [I.x, I.y, I.x + (h >>> 1), I.y + (H >>> 1), I.x + h, I.y + H];
          for (var G = 0; G < 6; G += 2)
              if (Math.abs(Q[G + C] - K) < Math.abs(V - K))
                  V = Q[G + C]
      }
      if (j[4]) {
          var h = E.d
            , H = E.v
            , Q = [0, 0, h >>> 1, H >>> 1, h, H];
          for (var G = 0; G < 6; G += 2)
              if (Math.abs(Q[G + C] - K) < Math.abs(V - K))
                  V = Q[G + C]
      }
      var B = Math.abs(V - K) <= 4 * c.M() / E.a.S ? V : 1e9;
      return B
  }
  ;
  u.Lz = function() {
      u.u$.call(this, [10, 12], u.Yc, "tools/mwand")
  }
  ;
  u.Lz.prototype = new u.u$;
  u.Lz.prototype.bn = u.u$.prototype.acH;
  u.Lz.prototype.jG = u.u$.prototype.afh;
  u.Lz.prototype.bC = function(E, K, i, C) {
      this.finish(E, K, i, C)
  }
  ;
  u.Lz.prototype.getSelection = function(E, K, i, C) {
      var N = this.WK
        , k = u.u$.a6w(new bT(Math.floor(N.x),Math.floor(N.y)), this.Ph.Uj);
      return k
  }
  ;
  u.Lz.nP = function(E, K, i) {
      if (E.C.length != 1) {
          alert("More than one layer selected.");
          return null
      }
      var C = E.t[E.C[0]], N = C.dz <= 0 ? null : C.dz == 1 ? C.$Y() : C.uy(E).r, k;
      if (N == null && C.add.lsct != null && C.add.lsct != c5.hO) {
          alert("No layer selected.");
          return null
      }
      if (K.x < 0 || K.x > E.d || K.y < 0 || K.y > E.v)
          return null;
      var V = new h4(0,0,E.d,E.v);
      if (N == null && V.Ql(C.rect))
          k = C.buffer;
      else {
          k = _.I(V.X() * 4);
          if (N == null)
              _.p8(C.buffer, C.rect, k, V);
          else
              u.Bu.To(N.channel, N.rect, N.color, k, V)
      }
      var j = u.Lz.PX(k, V, K, null, i)
        , a = _.NM(j, V)
        , e = _.I(a.X());
      _.ie(j, V, e, a);
      return {
          rect: a,
          channel: e
      }
  }
  ;
  u.Lz.NS = function(E, K, i) {
      var C = K.d
        , N = K.v
        , V = 0
        , j = 0
        , a = 0
        , e = 0;
      E = new Uint32Array(E.buffer);
      var k = []
        , L = i.length;
      for (var G = 0; G < L; G++) {
          var g = i[G]
            , I = Math.round(g.x - .5 - K.x)
            , h = Math.round(g.y - .5 - K.y);
          I = Math.max(0, Math.min(C - 1, I));
          h = Math.max(0, Math.min(N - 1, h));
          var o = h * C + I
            , H = E[o];
          k.push([H & 255, H >> 8 & 255, H >> 16 & 255, H >>> 24])
      }
      return k
  }
  ;
  u.Lz.PX = function(E, K, i, C, N) {
      E = new Uint32Array(E.buffer);
      var k = K.d
        , V = K.v
        , j = k * V;
      if (C == null)
          C = u.Lz.NS(E, K, [i]);
      var a = Math.round(i.x - .5 - K.x)
        , e = Math.round(i.y - .5 - K.y)
        , L = e * k + a
        , g = Date.now()
        , I = _.I(k * V)
        , h = N[0]
        , o = 1 / h
        , H = N[1] && h > 0 ? 255 : 0;
      if (N[2]) {
          var A = _.I(I.length)
            , S = new Uint32Array(j)
            , v = 1;
          S[0] = a << 16 | e;
          A[L] = 1;
          while (v > 0) {
              var s = S[v - 1];
              v--;
              var D = s >>> 16
                , F = s & 65535
                , G = F * k + D
                , y = u.Lz.$f(E[G], C);
              if (y > h) {
                  var T = H * (1 - Math.max(0, Math.min(1, (y - h) * o)));
                  I[G] = ~~T
              } else {
                  I[G] = 255;
                  if (F != V - 1 && A[G + k] == 0) {
                      S[v++] = D << 16 | F + 1;
                      A[G + k] = 1
                  }
                  if (F != 0 && A[G - k] == 0) {
                      S[v++] = D << 16 | F - 1;
                      A[G - k] = 1
                  }
                  if (D != k - 1 && A[G + 1] == 0) {
                      S[v++] = D + 1 << 16 | F;
                      A[G + 1] = 1
                  }
                  if (D != 0 && A[G - 1] == 0) {
                      S[v++] = D - 1 << 16 | F;
                      A[G - 1] = 1
                  }
              }
          }
      } else {
          for (var G = 0; G < j; G++) {
              var y = u.Lz.$f(E[G], C);
              if (y <= h)
                  I[G] = 255
          }
          for (var F = 0; F < V; F++)
              for (var D = 0; D < k; D++) {
                  var G = F * k + D;
                  if (I[G] == 0 && (D > 0 && (I[G - 1] == 255 || F > 0 && I[G - k - 1] == 255 || F < V - 1 && I[G + k - 1] == 255) || D < k - 1 && (I[G + 1] == 255 || F > 0 && I[G - k + 1] == 255 || F < V - 1 && I[G + k + 1] == 255) || F > 0 && I[G - k] == 255 || F < V - 1 && I[G + k] == 255)) {
                      var y = u.Lz.$f(E[G], C)
                        , T = H * (1 - Math.max(0, Math.min(1, (y - h) * o)));
                      I[G] = ~~T
                  }
              }
      }
      return I
  }
  ;
  u.Lz.$f = function(E, K) {
      var i = K.length
        , C = u.Lz.N4(E, K[0])
        , G = 1;
      while (G != i) {
          C = Math.min(C, u.Lz.N4(E, K[G]));
          G++
      }
      return C
  }
  ;
  u.Lz.N4 = function(E, K) {
      var i = E & 255
        , C = E >>> 8 & 255
        , N = E >>> 16 & 255
        , k = E >>> 24 & 255;
      if (K[3] == 0)
          return k < 5 ? 0 : 255;
      var V = Math.max(Math.abs(i - K[0]), Math.max(Math.abs(C - K[1]), Math.abs(N - K[2])));
      return k == 0 ? 255 : V
  }
  ;
  u.T9 = function(E, K) {
      if (K)
          u.Bu.call(this);
      else if (E)
          u.Bu.call(this, [10, 49], u.cs, "tools/camove");
      else
          u.Bu.call(this, [10, 26], u.dG, "tools/patch");
      this.q1 = null;
      this.pc = null;
      this.i = null;
      this.Mf = null;
      this.bR = new bT;
      this.Jw = null;
      this.uX = null
  }
  ;
  u.T9.prototype = new u.Bu;
  u.T9.prototype.om = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y);
      if (E.N && _.Wt(k, E.N.channel, E.N.rect)) {
          var V = new h4(0,0,E.d,E.v)
            , j = V.lx(E.N.rect);
          if (!E.Os() || j.OL())
              return;
          if (!0) {
              var a = _.I(j.X());
              _.ie(E.N.channel, E.N.rect, a, j);
              E.N = {
                  channel: a,
                  rect: j
              }
          }
          this.ZK(E);
          this.wO(E);
          this.Mf = k;
          this.bR = new bT(k.x - E.N.rect.x,k.y - E.N.rect.y);
          this.uX = _.I(E.N.rect.X() * 4);
          this.uX.fill(255);
          if (this.Ph.patch == 1) {
              var e = E.t[E.C[0]];
              e.df(E, E.N, !0);
              if (e.rA == null)
                  this.Mf = null
          }
          this.Jw = E.N.rect.clone()
      } else {
          this.pc = {
              H: [k.x, k.y],
              Z: ["M"]
          };
          this.q1 = k
      }
  }
  ;
  u.T9.prototype.n9 = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y);
      if (this.Mf) {
          if (this.Ph.patch == 1) {
              if (E.QZ.length == 0) {
                  var V = E.t[E.C[0]].rA
                    , j = k.x - this.bR.x
                    , a = k.y - this.bR.y;
                  u.x_.dl(E, E.C[0], Math.round(j - V.BC.x), Math.round(a - V.BC.y))
              }
          } else
              this.Me(E, k, "clone")
      }
      if (this.q1) {
          this.pc.Z.push("L");
          this.pc.H.push(k.x, k.y);
          this.q1 = k;
          E.K.yK = this.pc;
          E.nK = !0
      }
  }
  ;
  u.T9.prototype.Cs = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y);
      if (this.Mf) {
          var V = E.N.rect.clone();
          if (this.id == u.cs) {
              var j = E.t[E.C[0]];
              j.OD(E, j.rA);
              E.N.rect = this.Jw.clone();
              var a = _.I(E.N.rect.X() * 4);
              _.lM(E.N.channel, a, 3);
              this.uj(E, "sheal", a, E.N.rect, E.N.rect);
              E.N.rect = V;
              V = V.ip(this.Jw)
          }
          this.Me(E, k, "heal");
          this.finish(E, V, null, null, !0);
          E.s(V);
          this.Mf = null
      }
      if (this.q1) {
          var e = u.u$.aN(this.Ph.setop, C.q(w.Gj), C.q(w.zA))
            , L = new q(c.E.J5,!0);
          if (this.pc.H.length <= 4)
              L.data = u.u$.bi();
          else
              L.data = u.u$.Sg(this.pc.H, e);
          K.U(L);
          this.q1 = null;
          E.K.yK = null;
          E.nK = !0
      }
  }
  ;
  u.T9.prototype.eG = function() {
      return this.i
  }
  ;
  u.T9.prototype.Kl = function(E, K, i, C, N) {
      u.Bu.prototype.Kl.call(this, E, K, i, C, N);
      this._$(N, C)
  }
  ;
  u.T9.prototype._$ = function(E, K) {
      var i = "auto;";
      if (K != null && K.q(w.Gj) && !K.q(w.zA) || this.Ph.setop == "union")
          i = "copy";
      var C = new q(c.E.P,!0);
      C.data = {
          e: c.f.VP,
          UG: i
      };
      if (this.caller)
          this.caller.U(C)
  }
  ;
  u.T9.prototype.Me = function(E, K, i) {
      var C = new bT(Math.round(this.Mf.x - K.x),Math.round(this.Mf.y - K.y));
      if (this.Ph.patch == 1)
          C.Wm(-C.x, -C.y);
      this.i = C;
      this.uj(E, i, this.uX, E.N.rect, E.N.rect);
      this.s(E, E.N.rect)
  }
  ;
  u.v2 = function() {
      u.T9.call(this, !0);
      this.Ph.patch = 1
  }
  ;
  u.v2.prototype = new u.T9(!0,!0);
  u.$I = function() {
      u.Bu.call(this, [10, 13], u.ak2, "tools/pbucket")
  }
  ;
  u.$I.prototype = new u.Bu;
  u.$I.prototype.enable = function(E, K, i, C) {
      var N = new q(c.E.P,!0);
      N.data = {
          e: c.f.VP,
          UG: "default"
      };
      K.U(N)
  }
  ;
  u.$I.prototype.bX = function(E, K) {}
  ;
  u.$I.prototype.Cs = function(E, K, i, C, N) {
      if (this.eV(C, K, N))
          return;
      if (!E.Os())
          return;
      var k = E.a.Eb(N.x, N.y)
        , V = u.Lz.nP(E, k, this.Ph.wconf);
      if (V == null)
          return;
      var j = _.I(V.rect.X() * 4);
      _.EE(j, (i.sm & 255) << 16 | (i.sm >> 8 & 255) << 8 | (i.sm >> 16 & 255) << 0);
      _.lM(V.channel, j, 3);
      this.ZK(E);
      this.uj(E, "draw", j, V.rect, V.rect);
      this.s(E, V.rect);
      this.finish(E, V.rect)
  }
  ;
  u.wY = function() {
      u.u$.call(this, [10, 14], u.ab2, "tools/plasso");
      this.pQ = "crosshair";
      this.Pr = [];
      this.bs = null;
      this.pc = null;
      this.a4Y = 0
  }
  ;
  u.wY.prototype = new u.u$;
  u.wY.prototype.disable = function(E, K, i, C) {
      this.jr(E)
  }
  ;
  u.wY.prototype.bC = function(E, K, i, C) {
      this.Pr = [w.UO, w.LC]
  }
  ;
  u.wY.prototype.Ci = function(E) {
      return this.Pr.indexOf(E) != -1
  }
  ;
  u.wY.prototype.i4 = function(E) {
      return this.pc != null
  }
  ;
  u.wY.prototype.t7 = function() {
      return this.pc != null
  }
  ;
  u.wY.prototype.cn = function() {
      return this.pc != null
  }
  ;
  u.wY.prototype.BT = function(E, K, i, C) {
      if (this.pc == null)
          return;
      var N = this.pc
        , k = N.H
        , V = k.length - 2
        , j = this.WK;
      if (this.Yl > 1 && i.q(w.zA) && C.Oy) {
          k.push(0, 0);
          N.Z.push("L");
          V += 2
      } else if (i.q(w.Gj))
          j = u.nS.MQ(new bT(k[V - 2],k[V - 1]), j);
      k[V] = j.x;
      k[V + 1] = j.y;
      E.K.yK = N;
      E.nK = !0
  }
  ;
  u.wY.prototype.nW = function(E, K, i, C) {
      var N = Date.now();
      if (this.pc == null)
          this.pc = {
              H: [this.WK.x, this.WK.y, this.WK.x, this.WK.y],
              Z: ["M", "L"]
          };
      else {
          this.BT(E, K, i, C);
          if (N - this.a4Y < 250 || bT.zL(this.WK, new bT(this.pc.H[0],this.pc.H[1])) < 5 * c.M() / E.a.S) {
              this.bs = this.pc;
              this.finish(E, K, i, C);
              this.jr(E);
              return
          }
          this.pc.Z.push("L");
          this.pc.H.push(this.WK.x, this.WK.y)
      }
      this.a4Y = N;
      E.K.yK = this.pc
  }
  ;
  u.wY.prototype.jr = function(E) {
      this.pc = null;
      this.Pr = [];
      if (E != null) {
          E.K.yK = null;
          E.nK = !0
      }
  }
  ;
  u.wY.prototype.Ok = function(E, K, i, C) {
      u.u$.prototype.Ok.call(this, E, K, i, C);
      if (C.q(w.SO) && this.pc == null && this.bs && E.N != null) {
          var N = new q(c.E.A);
          N.F = u.CC;
          N.data = {
              e: "h_stepbck"
          };
          K.U(N);
          this.bC(E, i, C, null);
          this.pc = this.bs;
          return
      }
      if (this.pc == null)
          return;
      if (C.q(w.UO) || C.q(w.LC)) {
          this.pc.H.pop();
          this.pc.H.pop();
          this.pc.Z.pop();
          this.BT(E, i, C)
      }
      if (C.q(w.U6)) {
          if (this.pc.H.length > 4) {
              this.bs = this.pc;
              this.finish(E, i, C)
          }
          this.pc = null
      }
      if (C.q(w.SO)) {
          this.pc = null
      }
      E.K.yK = this.pc;
      E.nK = !0
  }
  ;
  u.wY.prototype.getSelection = function(E, K, i, C) {
      return u.u$.Sg(this.pc.H)
  }
  ;
  u.OZ = function() {
      u.u$.call(this, [10, 10], u.afC, "tools/mlasso");
      this.pQ = "crosshair";
      this.Pr = [];
      this.b = [];
      this.LY = [];
      this.Pg = [];
      this.DS = null;
      this.VH = null;
      this.QD = null;
      this.$g = 0;
      this.TS = 0
  }
  ;
  u.OZ.prototype = new u.u$;
  u.OZ.prototype.disable = function(E, K, i, C) {
      this.clear(E)
  }
  ;
  u.OZ.prototype.i4 = function(E) {
      return this.b.length != 0
  }
  ;
  u.OZ.prototype.cn = function() {
      return this.b.length != 0
  }
  ;
  u.OZ.prototype.Ci = function(E) {
      return this.Pr.indexOf(E) != -1
  }
  ;
  u.OZ.prototype.bC = function(E, K, i, C) {
      this.Pr = [w.UO, w.LC];
      var N = this.X7(this.r4, E);
      if (this.b.length != 0 && (bT.zL(N, this.b[0]) < 4 * c.M() / E.a.S || Date.now() - this.$g < 300)) {
          this.UJ(E, this.b[0]);
          this.finish(E, K, i);
          this.clear(E);
          return
      }
      this.$g = Date.now();
      if (this.b.length != 0)
          N = this.hM(N, E);
      else {
          var k = E.d
            , V = E.v
            , j = _.I(k * V)
            , a = E.A7()
            , e = k * V * 4;
          for (var G = 0; G < e; G += 4)
              j[G >>> 2] = ~~(.5 + _.W6(a[G], a[G + 1], a[G + 2]) * (a[G + 3] * (1 / 255)));
          this.DS = _.Ff.aoL(j, k, V);
          this.QD = new Uint16Array(j.length)
      }
      this.UJ(E, N);
      this.TS = i.q(w.zA) ? 1 : 0;
      this.ry(E)
  }
  ;
  u.OZ.prototype.UJ = function(E, K) {
      var i = this.b;
      this.LY[i.length] = this.Pg.length;
      if (i.length != 0) {
          _.Ff.jS(this.VH, K.y * E.d + K.x);
          var C = this.s$(E, K);
          C.reverse();
          var N = u.OZ.YQ(E, C);
          this.Pg = this.Pg.concat(N)
      }
      i.push(K);
      this.oI(E)
  }
  ;
  u.OZ.prototype.oI = function(E) {
      var K = this.b[this.b.length - 1]
        , i = K.y * E.d + K.x;
      this.VH = _.Ff.ajF(this.DS.FE, this.DS.q8, i);
      this.QD.fill(0)
  }
  ;
  u.OZ.prototype.X7 = function(E, K) {
      return new bT(Math.floor(Math.max(0, Math.min(K.d - 1, E.x))),Math.floor(Math.max(0, Math.min(K.v - 1, E.y))))
  }
  ;
  u.OZ.prototype.clear = function(E) {
      this.Pg = [];
      this.b = [];
      this.LY = [];
      this.DS = null;
      this.VH = null;
      this.QD = null;
      if (E != null) {
          E.K.yK = null;
          E.K.Cn = [];
          E.nK = !0
      }
      this.Pr = []
  }
  ;
  u.OZ.prototype.BT = function(E, K, i, C) {
      var N = this.b
        , k = N.length;
      if (k == 0)
          return;
      var V = this.hM(this.X7(this.WK, E), E)
        , j = this.s$(E, V);
      for (var G = 0; G < j.length; G++) {
          var a = j[G]
            , e = new bT(a % E.d,Math.floor(a / E.d));
          if (this.QD[a] > 30 && bT.zL(e, N[k - 1]) > 20) {
              this.UJ(E, e);
              return
          }
          this.QD[a]++
      }
      if (this.TS == 1 && C.Oy)
          this.UJ(E, V);
      this.ry(E)
  }
  ;
  u.OZ.prototype.ry = function(E) {
      var K = this.b;
      if (K.length != 0) {
          var i = this.hM(this.X7(this.WK, E), E)
            , C = this.s$(E, i);
          C.reverse();
          var N = u.OZ.YQ(E, C)
            , k = this.Pg.concat(N)
            , V = E.K.yK = {
              H: k,
              Z: ["M"]
          };
          for (var G = 2; G < k.length; G += 2)
              V.Z.push("L")
      }
      E.K.Cn = [];
      for (var G = 0; G < K.length; G++)
          E.K.Cn.push(K[G].x + .5, K[G].y + .5);
      E.nK = !0
  }
  ;
  u.OZ.prototype.nW = function(E, K, i, C) {}
  ;
  u.OZ.prototype.Ok = function(E, K, i, C) {
      if (this.b.length == 0)
          return;
      if (C.q(w.UO) || C.q(w.LC)) {
          this.b.pop();
          this.Pg = this.Pg.slice(0, this.LY[this.b.length]);
          this.LY.pop();
          if (this.b.length == 0)
              this.clear(E);
          else
              this.oI(E);
          this.ry(E)
      }
      if (C.q(w.U6)) {
          var N = this.X7(this.WK, E);
          this.UJ(E, N);
          this.finish(E, i, C);
          this.clear(E)
      }
      if (C.q(w.SO)) {
          this.clear(E)
      }
  }
  ;
  u.OZ.prototype.getSelection = function(E, K, i, C) {
      return u.u$.Sg(this.Pg)
  }
  ;
  u.OZ.prototype.s$ = function(E, K) {
      var i = this.b[this.b.length - 1]
        , C = i.y * E.d + i.x
        , N = K.y * E.d + K.x;
      if (this.TS == 1)
          return [N, C];
      var k = [N];
      while (N != C) {
          N = this.VH.Dz[N];
          k.push(N);
          if (k.length > 5e3) {
              console.log(k);
              throw "e"
          }
      }
      return k
  }
  ;
  u.OZ.YQ = function(E, K) {
      var i = []
        , C = E.d;
      for (var G = 0; G < K.length; G++) {
          var N = K[G];
          i.push(N % C + .5, Math.floor(N / C) + .5)
      }
      return i
  }
  ;
  u.OZ.prototype.hM = function(E, K) {
      var i = K.d
        , C = K.v
        , N = E.clone()
        , V = 3;
      _.Ff.jS(this.VH, E.y * i + E.x);
      var k = this.VH.xV[E.y * i + E.x];
      for (var j = -V + 1; j < V; j++)
          for (var a = -V + 1; a < V; a++) {
              var e = E.x + a
                , L = E.y + j;
              if (e < 0 || e >= i || L < 0 || L >= C)
                  continue;
              _.Ff.jS(this.VH, L * i + e);
              if (this.VH.xV[L * i + e] < k)
                  N.Wm(e, L)
          }
      return N
  }
  ;
  u.Qn = function() {
      u.UB.call(this, [10, 36], u.a81, "tools/ruler");
      this.pK = null;
      this.kQ = null;
      this.zt = null;
      this.Sl = null
  }
  ;
  u.Qn.prototype = new u.UB;
  u.Qn.prototype.i4 = function(E) {
      return E.Oy
  }
  ;
  u.Qn.prototype.disable = function(E, K, i, C) {
      this.pK = this.kQ = null;
      if (E)
          this.yc(E)
  }
  ;
  u.Qn.prototype.om = function(E, K, i, C, N) {
      var k = E.a.S / c.M()
        , V = E.a.Eb(N.x, N.y);
      V.x = Math.round(V.x);
      V.y = Math.round(V.y);
      var j = this.pK;
      if (j && bT.zL(V, j[0]) * k < 6)
          this.kQ = [0];
      else if (j && bT.zL(V, j[1]) * k < 6)
          this.kQ = [1];
      else if (j && u.Qn.a0G(j[0], j[1], V) * k < 6 && Math.min(j[0].x, j[1].x) - 5 <= V.x && V.x <= Math.max(j[0].x, j[1].x) + 5 && Math.min(j[0].y, j[1].y) - 5 <= V.y && V.y <= Math.max(j[0].y, j[1].y) + 5) {
          this.kQ = [0, 1];
          this.Sl = [j[0].clone(), j[1].clone()];
          this.zt = V
      } else {
          this.pK = [V.clone(), V.clone()];
          this.kQ = [1]
      }
  }
  ;
  u.Qn.prototype.n9 = function(E, K, i, C, N) {
      if (this.kQ == null)
          return;
      var k = this.pK
        , V = this.kQ
        , j = E.a.Eb(N.x, N.y);
      j.x = Math.round(j.x);
      j.y = Math.round(j.y);
      if (V.length == 2) {
          var a = j.x - this.zt.x
            , e = j.y - this.zt.y;
          k[0] = this.Sl[0].clone();
          k[0].offset(a, e);
          k[1] = this.Sl[1].clone();
          k[1].offset(a, e)
      } else {
          k[V[0]].Wm(j.x, j.y);
          if (C.q(w.Gj)) {
              k[V[0]] = u.nS.MQ(k[1 - V[0]], k[V[0]])
          }
      }
      this.yc(E);
      this.NZ(K, c.E.P, {
          e: c.f.Mx,
          F: this.id,
          a9a: k[0],
          cA: k[1],
          v9: E.v9,
          abA: E.d
      })
  }
  ;
  u.Qn.prototype.Cs = function(E, K, i, C, N) {
      this.kQ = null
  }
  ;
  u.Qn.prototype.NZ = function(E, K, i) {
      var C = new q(K,!0);
      C.data = i;
      E.U(C)
  }
  ;
  u.Qn.prototype.yc = function(E) {
      var K = this.pK;
      if (K == null) {
          E.K.yK = null;
          E.K.Cn = []
      } else {
          var i = [K[0].x, K[0].y, K[1].x, K[1].y];
          E.K.yK = {
              Z: ["M", "L"],
              H: i
          };
          E.K.Cn = i
      }
      E.nK = !0
  }
  ;
  u.Qn.a0G = function(E, K, i) {
      var C = K.x - E.x
        , N = K.y - E.y
        , k = Math.abs(N * i.x - C * i.y + K.x * E.y - K.y * E.x)
        , V = Math.sqrt(C * C + N * N);
      return k / V
  }
  ;
  u.WB = function() {
      u.Bu.call(this, [10, 19], u.Uv, "tools/sharpen");
      this.V2 = "copy"
  }
  ;
  u.WB.prototype = new u.Bu;
  u.WB.prototype.om = function(E, K, i, C, N) {
      var k = this.Ph.pdetail ? fr.yS : fr.Uv;
      if (C.q(w.zA))
          k = fr.nr;
      this.Bi(E, i, C, N, this.Ph.strn, k);
      if (this.Xq == null)
          return;
      this.jJ(E)
  }
  ;
  u.WB.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.gf = function() {
      u.Bu.call(this, [10, 24], u.MR, "tools/shbrush");
      this.V2 = "draw";
      this.Ph.opacity = .5
  }
  ;
  u.gf.prototype = new u.Bu;
  u.gf.prototype.om = function(E, K, i, C, N) {
      this.Bi(E, i, C, N, 1);
      if (this.Xq == null)
          return;
      this.wO(E);
      this.jJ(E)
  }
  ;
  u.gf.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.gf.prototype.Cs = function(E, K, i, C, N) {
      if (this.Xq == null)
          return;
      this.uj(E, "sheal", this.Xq.wc(), this.Xq.Qc(), this.Xq.oi(), null);
      this.s(E, this.Xq.oi());
      u.Bu.prototype.Cs.call(this, E, K, i, C, N)
  }
  ;
  u.Pj = function() {
      u.Bu.call(this, [10, 20], u.cV, "tools/smudge");
      this.V2 = "copy"
  }
  ;
  u.Pj.prototype = new u.Bu;
  u.Pj.prototype.om = function(E, K, i, C, N) {
      this.Bi(E, i, C, N, this.Ph.strn, fr.cV);
      if (this.Xq == null)
          return;
      this.jJ(E)
  }
  ;
  u.Pj.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.vS = function() {
      u.Bu.call(this, [10, 23], u.v0, "tools/sponge");
      this.V2 = "sponge"
  }
  ;
  u.vS.prototype = new u.Bu;
  u.vS.prototype.om = function(E, K, i, C, N) {
      this.Bi(E, i, C, N, this.Ph.flow);
      if (this.Xq == null)
          return;
      this.jJ(E)
  }
  ;
  u.vS.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      this.wX(E, i, C, N);
      this.jJ(E)
  }
  ;
  u.z5 = function() {
      u.UB.call(this, [10, 17], u.L7, "tools/zoom");
      this.KP = !1;
      this.MS = !0;
      this.bl = 0;
      this._3 = null;
      this.sN = null;
      this.$s = 0;
      this.gN = null;
      this.e$ = 0;
      this.n8 = new bi([{
          name: [8, 0],
          xS: "Ctrl + +"
      }, {
          name: [8, 1],
          xS: "Ctrl + -",
          bx: !0
      }, {
          name: [20, 3],
          xS: "Ctrl + 0"
      }, {
          name: ["VAR0: 100%", [20, 2]],
          xS: "Ctrl + 1"
      }],[{
          c: c.E.A,
          F: u.L7,
          o: {
              e: "zoom",
              MS: !0
          }
      }, {
          c: c.E.A,
          F: u.L7,
          o: {
              e: "zoom",
              MS: !1
          }
      }, {
          c: c.E.A,
          F: u.L7,
          o: {
              e: "adapt",
              G: "fitscr"
          }
      }, {
          c: c.E.A,
          F: u.L7,
          o: {
              e: "adapt",
              G: "pixel"
          }
      }])
  }
  ;
  u.z5.prototype = new u.UB;
  u.z5.prototype.R2 = function(E, K, i, C, N) {
      var k = this.n8;
      k.B();
      k.parent = K;
      k.update(E, i);
      var V = new q(c.E.P,!0);
      V.data = {
          e: c.f.um,
          CP: k,
          x: N.ES + 2,
          y: N.xg + 1
      };
      K.U(V)
  }
  ;
  u.z5.prototype.enable = function(E, K, i, C) {
      this.XV(K, C);
      if (E && Date.now() - this.bl < 300)
          this.d2({
              e: "adapt",
              G: "pixel"
          }, K, E, C, i);
      this.bl = Date.now()
  }
  ;
  u.z5.prototype.om = function(E, K, i, C, N) {
      this.sN = new bT(N.x,N.y);
      this.$s = E.a.S;
      this.gN = E.a.i.clone()
  }
  ;
  u.z5.prototype.n9 = function(E, K, i, C, N) {
      if (this.sN == null)
          return;
      var k = Math.exp(Math.log(this.$s) + (N.x - this.sN.x) / 64);
      k = Math.max(.02, Math.min(32, k));
      E.a.S = this.$s;
      E.a.i = this.gN.clone();
      this.d2({
          e: "zoom",
          S: k,
          Lk: this.sN
      }, K, E, C, i)
  }
  ;
  u.z5.prototype.Cs = function(E, K, i, C, N) {
      if (bT.zL(this.sN, N) < 4) {
          var k = this.ij(C);
          this.d2({
              e: "zoom",
              MS: k,
              Lk: N
          }, K, E, C, i)
      }
      this.sN = null
  }
  ;
  u.z5.eI = [32, 16, 12, 8, 6, 5, 4, 3, 2, 1, 2 / 3, 1 / 2, 1 / 2 * (2 / 3), 1 / 4, 1 / 4 * (2 / 3), 1 / 8, 1 / 8 * (2 / 3), 1 / 16, 1 / 16 * (2 / 3), 1 / 32, 1 / 32 * (2 / 3), 1 / 64];
  u.z5.Kd = function(E, K, i, C) {
      var N = 1;
      while (E * N * 1 / 2 > i || K * N * 1 / 2 > C)
          N *= 1 / 2;
      if (E * N * 2 / 3 > i || K * N * 2 / 3 > C)
          N *= 1 / 2;
      else if (E * N > i || K * N > C)
          N *= 2 / 3;
      return N
  }
  ;
  u.z5.nI = function(E, K) {
      var i = u.z5.qa(E);
      if (K && i == 0)
          return E;
      if (!K && i == u.z5.eI.length - 1)
          return E;
      return u.z5.eI[K ? i - 1 : i + 1]
  }
  ;
  u.z5.qa = function(E) {
      var K = 0;
      while (u.z5.eI[K] > E)
          K++;
      return K
  }
  ;
  u.z5.sC = function(E, K, i, C) {
      var N = E.uY;
      if (C == 0 || C == null) {
          C = u.z5.nI(E.S, i);
          if (C == E.S)
              return
      }
      var k = E.Eb(K.x, K.y);
      if (N.d * C <= E.DK.d && N.v * C <= E.DK.v) {
          E.i.Wm(0, 0);
          E.S = C
      } else {
          var V = E.e6()
            , j = E.S / C;
          V.translate(-k.x, -k.y);
          V.scale(j, j);
          V.translate(k.x, k.y);
          E.Kx(V)
      }
  }
  ;
  u.z5.prototype.d2 = function(E, K, i, C, N) {
      if (E.e == "pzoom") {
          if (typeof E.G == "string")
              return;
          E = {
              e: "zoom",
              S: E.G / 100
          }
      }
      var k = 0
        , V = !1
        , j = null;
      if (E.e == "adapt") {
          var a = 0;
          if (E.G == "pixel")
              a = 1;
          if (E.G == "fitscr") {
              var a = 0
                , e = i.a.DK.d
                , L = i.a.DK.v;
              a = Math.min((e - 14) / i.d, (L - 14) / i.v)
          }
          j = new bT(Math.round(i.a.DK.d / 2),Math.round(i.a.DK.v / 2));
          k = a;
          u.z5.sC(i.a, j, V, k);
          i.aO = !0
      }
      if (E.e.startsWith("multi")) {
          function g(B) {
              var r = B[0].x - B[1].x
                , J = B[0].y - B[1].y;
              return Math.sqrt(r * r + J * J)
          }
          function I(B) {
              return new bT((B[0].x + B[1].x) / 2,(B[0].y + B[1].y) / 2)
          }
          var h = E.v5
            , o = I(h);
          if (E.e == "multidown") {
              this._3 = [h, i.a.S, i.a.Eb(o.x, o.y)]
          } else {
              k = this._3[1] * g(h) / g(this._3[0]);
              if (k >= 1)
                  k = Math.min(32, Math.round(k));
              else {
                  var H = 0
                    , A = 1e9
                    , S = u.z5.eI;
                  for (var G = 0; G < S.length; G++) {
                      var v = Math.abs(1 - k / S[G]);
                      if (v < A) {
                          A = v;
                          H = G
                      }
                  }
                  k = S[H]
              }
              if (k != i.a.S)
                  u.z5.sC(i.a, o, V, k);
              var s = this._3[2]
                , D = i.a.Dl(s.x, s.y)
                , F = i.a.i;
              F.x = Math.round(F.x + o.x - D.x);
              F.y = Math.round(F.y + o.y - D.y);
              i.aO = !0
          }
      }
      if (E.e == "scroll") {
          j = E.Lk;
          this.e$ += E.P$.y;
          var y = 14;
          if (this.e$ < -y) {
              V = !0;
              this.e$ = Math.max(this.e$ + y, -(y - 1))
          } else if (this.e$ > y) {
              V = !1;
              this.e$ = Math.min(this.e$ - y, y - 1)
          } else
              return;
          u.z5.sC(i.a, j, V, k);
          i.aO = !0
      }
      if (E.e == "zoom") {
          j = E.Lk ? E.Lk : new bT(Math.round(i.a.DK.d / 2),Math.round(i.a.DK.v / 2));
          if (E.S != null)
              k = E.S;
          else
              V = E.MS;
          u.z5.sC(i.a, j, V, k);
          i.aO = !0
      }
      if (E.e == "mskView") {
          var T = i.t[i.C[0]]
            , Q = T.dz == 3 ? T.uy(i).r : T.$Y();
          if (E.G == 0) {
              i.a.zj = [1, 1, 1];
              Q.a5 = !1
          }
          if (E.G == 1) {
              i.a.zj = [1, 1, 1];
              Q.a5 = !0
          }
          if (E.G == 2) {
              i.a.zj = [0, 0, 0];
              Q.a5 = !0
          }
          for (var G = 0; G < i.h_.length; G++)
              i.h_[G].a5 = !1;
          i.QZ = [];
          i.nK = !0
      }
  }
  ;
  u.z5.prototype.Ok = function(E, K, i, C) {
      if (this.KP != C.q(w.zA)) {
          this.KP = C.q(w.zA);
          var N = {
              e: c.f.Mx,
              F: this.id,
              KP: this.KP
          }
            , k = new q(c.E.P,!0);
          k.data = N;
          K.U(k);
          this.XV(K, C)
      }
  }
  ;
  u.z5.prototype.XV = function(E, K) {
      var i = new q(c.E.P,!0)
        , C = this.ij(K);
      i.data = {
          e: c.f.VP,
          UG: C ? "zoom-in" : "zoom-out"
      };
      E.U(i)
  }
  ;
  u.z5.prototype.Kl = function(E, K, i, C) {
      this.MS = E.MS;
      this.XV(K, C)
  }
  ;
  u.z5.prototype.ij = function(E) {
      var K = this.MS;
      if (E.q(w.NV) && E.q(w.qN))
          K = !0;
      if (this.KP)
          K = !K;
      return K
  }
  ;
  u.z5.PK = function(E, K) {
      if (E.q(w.Va) || E.q(w.a9y)) {
          K.F = u.L7;
          K.data = {
              e: "zoom",
              MS: !0
          }
      }
      if (E.q(w.ih)) {
          K.F = u.L7;
          K.data = {
              e: "zoom",
              MS: !1
          }
      }
      if (E.q(w.lS)) {
          K.F = u.L7;
          K.data = {
              e: "adapt",
              G: "fitscr"
          }
      }
      if (E.q(w.kP)) {
          K.F = u.L7;
          K.data = {
              e: "adapt",
              G: "pixel"
          }
      }
  }
  ;
  u.ut = function(E, K, i) {
      u.UB.call(this, E, K, i);
      this.CR = null;
      this.Mi = null;
      this.sU = null;
      this.ait = 0
  }
  ;
  u.ut.prototype = new u.UB;
  u.ut.prototype.enable = function(E, K, i, C, N) {
      this.Mi = i;
      var k = new q(c.E.P,!0);
      k.data = {
          e: c.f.VP,
          UG: "default"
      };
      K.U(k)
  }
  ;
  u.ut.prototype.R2 = function(E, K, i, C, N) {
      if (E.LM()[0].length == 0)
          return;
      var k = new q(c.E.P,!0);
      k.data = {
          e: c.f.Mx,
          F: this.id,
          kK: N,
          im: E,
          VV: i
      };
      K.U(k)
  }
  ;
  u.ut.prototype.Jb = function(E, K) {
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.H7,
          KG: dp.kU
      };
      if (!K.NN)
          E.U(i);
      i.data = {
          e: c.f.H7,
          KG: dp._w
      };
      if (!K.bA.xq)
          E.U(i)
  }
  ;
  u.ut.prototype.Fs = function(E, K, i, C) {
      if (i.sw != this.id)
          return;
      if (E.C.length == 0)
          return;
      var N = E.t[E.C[0]]
        , k = N.add.vmsk
        , V = N.add.vstk
        , j = u.ut.lX(E, E.C[0]);
      this.CR = E;
      this.sU = K;
      if (N.bm() && k != null && (JSON.stringify(V) != JSON.stringify(i.$P) || JSON.stringify(j) != JSON.stringify(i.uL))) {
          this.ait = Date.now();
          var a = new q(c.E.P,!0);
          a.data = {
              e: c.f.H7,
              KG: dp.sD,
              G: j
          };
          K.U(a);
          a.data = {
              e: c.f.H7,
              KG: dp.ev,
              G: V
          };
          K.U(a)
      }
  }
  ;
  u.ut.prototype.bX = function(E, K) {
      if (this.CR == null)
          return;
      if (K == dp.iW || K == dp.sD || K == dp.ev) {
          if (Date.now() - this.ait < 50)
              return;
          var i = K == dp.sD
            , C = this.CR
            , N = i ? E.uL : E.$P
            , k = [];
          for (var G = 0; G < C.C.length; G++) {
              var V = C.C[G]
                , j = C.t[V];
              if (!j.bm() || j.add.vmsk == null)
                  continue;
              k.push(V)
          }
          var a = new q(c.E.A,!0);
          a.F = u.Iy;
          a.data = {
              e: U.Sv,
              HQ: k,
              P1: i,
              G: N
          };
          if (k.length != 0)
              this.sU.U(a)
      }
  }
  ;
  u.ut.prototype.afx = function(E) {
      if (typeof E == "number") {
          var K = new q(c.E.J5,!0);
          K.data = u.WZ.yN(0);
          K.data.v4.Usng.v.Type.v.Clr.v = _.V.VQ({
              h: E >>> 16 & 255,
              l: E >>> 8 & 255,
              O: E >>> 0 & 255
          });
          this.sU.U(K)
      }
  }
  ;
  u.ut.prototype.d2 = function(E, K, i, C, N) {
      this.sU = K;
      if (E.e == "newfill") {
          if (E.wn == 0) {
              var k = new q(c.E.P,!0);
              k.data = {
                  e: c.f.eQ,
                  KN: "colorpicker",
                  vc: N.sm,
                  K2: this.afx.bind(this)
              };
              K.U(k)
          }
      } else if (E.e == "pathedit") {
          var V = E.Qh
            , j = ""
            , a = i.xq.slice(0)
            , e = i.du.slice(0)
            , L = i.xq.slice(0)
            , g = i.du.slice(0);
          if (V == "rnm") {
              var I = -1 - E.EL
                , h = a[I]
                , o = bl.JU(E.name, h.add);
              if (I != 0)
                  L[I] = o;
              else {
                  g = [L.length];
                  L.push(o);
                  L[0] = bl.JU("Work Path")
              }
              j = "Rename"
          } else if (V == "new") {
              L.push(bl.JU("Path " + a.length));
              g = [L.length - 1];
              j = "New"
          } else if (V == "del") {
              if (g.length == 0)
                  return;
              g.sort(function(B, $) {
                  return B - $
              });
              if (g[0] == 0) {
                  L[0] = bl.JU(a[0].name);
                  g = g.slice(1)
              }
              var H = 0;
              while (g.length != 0) {
                  L.splice(g[0] - H, 1);
                  g = g.slice(1);
                  H++
              }
              j = "Delete"
          } else if (V == "fromsel") {
              var A = L[0] = bl.JU("Work Path");
              g = [0];
              if (i.N == null)
                  return;
              var S = i.N.channel.slice(0);
              for (var G = 0; G < S.length; G++)
                  S[G] = S[G] > 128 ? 2 : 1;
              var v = i.N.rect.clone();
              v.Lv(1, 1);
              var s = _.I(v.X());
              _.ie(S, i.N.rect, s, v);
              var D = dV.Sb(s, v.d, v.v, Math.round(v.X() * 5e-4))
                , F = dV.LM(D)
                , y = new fn(1,0,0,1,-1 + i.N.rect.x,-1 + i.N.rect.y);
              for (var G = 0; G < F.length; G++)
                  _.$.m(F[G].path.H, y, F[G].path.H);
              for (var G = 0; G < F.length; G++) {
                  var T = F[G];
                  if (T.color == 1 && T.parent == -1)
                      continue;
                  var Q = _.$.rh(F[G].path, !1);
                  A.add.vmsk.b = A.add.vmsk.b.concat(Q.slice(2))
              }
              A.add.vogk = U.cE(A.add.vmsk.b);
              j = "Selection to"
          }
          var B = new fy(j + " Path",this);
          B.data = {
              eC: a,
              S$: e,
              a9L: L,
              uM: g
          };
          if (V == "fromsel") {
              B.data.JY = i.N;
              B.data.Id = null
          }
          i.b8(B);
          this.Fh(B.data, i)
      } else {
          var r = i.LM(E.e == "append")
            , F = r[0]
            , J = r[1]
            , A = F[J[0]]
            , m = A.add.vmsk
            , x = A.add.vogk
            , R = m.clone()
            , b = m.clone()
            , z = JSON.stringify(x);
          if (E.e == "remove") {
              if (b.C.length == 0)
                  return;
              var H = 0;
              for (var G = 0; G < b.C.length; G++) {
                  x.splice(b.C[G] + H, 1);
                  H--
              }
              b.b = _.Y.adT(b.b, b.C);
              b.C = [];
              b.hs = []
          }
          if (E.e == "append") {
              u.ut.P6(E.af8, b, x)
          }
          this.SQ(i, A.EL, b, x);
          this.Hx(i, E.$t, A.EL, R, b.clone(), null, z, JSON.stringify(x))
      }
  }
  ;
  u.ut.mL = function(E, K) {
      var i = _.Y.aem(E.b, E.C)
        , C = [];
      for (var G = 0; G < E.C.length; G++)
          C.push(JSON.parse(JSON.stringify(K[E.C[G]])));
      return [i, C]
  }
  ;
  u.ut.P6 = function(E, K, i) {
      var C = _.Y.oH(K.b)
        , N = _.Y.oH(E[0]);
      K.b = K.b.concat(E[0].slice(2));
      K.C = [];
      for (var G = 0; G < N; G++)
          K.C.push(C + G);
      for (var G = 0; G < N; G++)
          i.push(JSON.parse(JSON.stringify(E[1][G])))
  }
  ;
  u.ut.prototype.Ci = function(E, K) {
      if (K == null)
          return !1;
      var i = K.LM()
        , C = i[0]
        , N = i[1];
      if (N.length == 0)
          return !1;
      var k = C[N[0]]
        , V = k.add.vmsk;
      if (V && V.C.length + V.hs.length != 0)
          return [w.UO, w.LC].indexOf(E) != -1
  }
  ;
  u.ut.prototype.Ok = function(E, K, i, C) {
      if (E == null)
          return;
      var N = E.LM()
        , k = N[0]
        , V = N[1];
      if (V.length == 0)
          return;
      var j = k[V[0]]
        , a = j.add.vmsk;
      if (C.q(w.SO) || C.q(w.U6)) {
          a.hs = [];
          E.nK = !0
      }
      if (a.C.length != 0) {
          var e = C.TD();
          if (e.x != 0 || e.y != 0) {
              var L = a.clone()
                , g = a.clone()
                , I = new fn(1,0,0,1,e.x,e.y)
                , h = j.add.vogk
                , o = JSON.stringify(h);
              _.Y.aW(g.b, I, g.C);
              _.U7.m(h, _.J.Nl(I), g.C);
              this.SQ(E, j.EL, g, h);
              this.Hx(E, "Move Paths", j.EL, L, g.clone(), !0, o, JSON.stringify(h))
          }
          if (C.q(w.UO) || C.q(w.LC))
              this.d2({
                  e: "remove",
                  $t: "Delete Paths"
              }, K, E, C, i)
      }
  }
  ;
  u.ut.prototype.Hx = function(E, K, i, C, N, k, V, j) {
      var a = new fy(K,this);
      a.data = {
          CH: i,
          vT: C,
          zE: N,
          a4q: k,
          a4$: V,
          Fk: j
      };
      E.b8(a)
  }
  ;
  u.ut.prototype.Fh = function(E, K) {
      if (E.CH != null)
          this.SQ(K, E.CH, E.zE.clone(), JSON.parse(E.Fk));
      else {
          K.xq = E.a9L.slice(0);
          K.du = E.uM.slice(0);
          K.nK = K._S = !0
      }
      if (E.JY || E.Id) {
          K.N = E.Id;
          K.UT = !0
      }
  }
  ;
  u.ut.prototype.eS = function(E, K) {
      if (E.CH != null)
          this.SQ(K, E.CH, E.vT.clone(), JSON.parse(E.a4$));
      else {
          K.xq = E.eC.slice(0);
          K.du = E.S$.slice(0);
          K.nK = K._S = !0
      }
      if (E.JY || E.Id) {
          K.N = E.JY;
          K.UT = !0
      }
  }
  ;
  u.ut.prototype.SQ = function(E, K, i, C) {
      var N = K < 0 ? E.xq[-1 - K] : K < 1e6 ? E.t[K] : E.t[K - 1e6].add.TySh;
      N.add.vmsk = i;
      N.add.vogk = C;
      if (1e6 <= K) {
          cO.fp(N);
          var k = E.t[K - 1e6]
            , V = N
            , j = this.Mi
            , a = new g_(V.Ou,j.g5)
            , e = dR.sX(a, V);
          k.rect = e.g;
          k.buffer = e.OR;
          k.s();
          E.s()
      } else if (0 <= K) {
          i.bZ = !0;
          N.Kf(E);
          E.s()
      }
      E.nK = E._S = !0
  }
  ;
  u.ut.lX = function(E, K) {
      var i = E.t[K]
        , C = i.add.vstk
        , N = null;
      if (C && !C.fillEnabled.v)
          N = {
              K8: 0
          };
      else if (i.add.SoCo)
          N = {
              K8: 1,
              ja: i.add.SoCo
          };
      else if (i.add.GdFl)
          N = {
              K8: 2,
              ja: i.add.GdFl
          };
      else if (i.add.PtFl)
          N = {
              K8: 3,
              ja: i.add.PtFl
          };
      return N
  }
  ;
  u.ut.kk = function(E, K) {
      var i = E.add.vmsk
        , C = E.add.vstk
        , N = K.K8;
      if (C)
          C.fillEnabled.v = N != 0;
      if (N > 0) {
          var k = ["SoCo", "GdFl", "PtFl"][N - 1];
          for (var G = 0; G < 3; G++)
              delete E.add[["SoCo", "GdFl", "PtFl"][G]];
          E.add[k] = K.ja
      }
  }
  ;
  u.WZ = function(E, K, i, C) {
      u.ut.call(this, E, K, i);
      this.Ph = {
          tmode: 1,
          shape: dq.Sk(),
          pshape: 0,
          binop: 0,
          crad: 0,
          irad: 40,
          length: 4,
          sides: 5,
          width: 5,
          tolr: 5,
          tsiz: 300,
          cstr: {
              yH: 0
          }
      };
      this.anC = C;
      this.qr = null;
      this.K6 = null;
      this.Qy = null
  }
  ;
  u.WZ.prototype = new u.ut;
  u.WZ.prototype.i4 = function(E) {
      return E.Oy && this.id != u.kg
  }
  ;
  u.WZ.prototype.enable = function(E, K, i, C, N) {
      this.Mi = i;
      var k = new q(c.E.P,!0);
      k.data = {
          e: c.f.VP,
          UG: "crosshair"
      };
      K.U(k)
  }
  ;
  u.WZ.prototype.Ea = function(E, K, i, C) {}
  ;
  u.WZ.prototype.om = function(E, K, i, C, N) {
      var k = this.Ph.tmode;
      if (k != 2)
          this.Jb(K, i);
      if (k == 2 && !E.Os())
          return;
      var V = E.a.Eb(N.x, N.y);
      V = u.x_.NQ(E, V, i);
      this.Qy = [V.x, V.y];
      this.qr = V;
      this.K6 = new bT(0,0)
  }
  ;
  u.WZ.prototype.fS = function(E, K, i) {
      var C = [this.qr.clone(), K.clone()];
      if (this.anC)
          C = u.WZ.UC(C[0], C[1], i, !0, this.Ph.cstr);
      if (E)
          E.a.bb = new h4(C[0].x,C[0].y,C[1].x - C[0].x,C[1].y - C[0].y);
      return this.Ea(C[0], C[1], i.q(w.Gj), this.Qy)
  }
  ;
  u.WZ.prototype.up = function(E, K, i) {
      var C = E.a.Eb(K.x, K.y)
        , N = this.Ph.cstr;
      if (N.yH == 2) {
          var k = new h4(C.x - N.x,C.y - N.y,N.x,N.y)
            , V = u.x_.Gw(E, k, i);
          C.x += V[0];
          C.y += V[1];
          u.x_.HH(E, k, V)
      } else
          C = u.x_.NQ(E, C, i);
      return C
  }
  ;
  u.WZ.prototype.n9 = function(E, K, i, C, N) {
      if (this.qr == null)
          return;
      var k = this.Qy
        , V = k.length
        , j = N ? this.up(E, N, i) : new bT(k[V - 2],k[V - 1]);
      if (C.q(w.NV))
          this.qr = j.g7(this.K6);
      else
          this.K6 = j.g7(this.qr);
      k.push(j.x, j.y);
      if (this.Ph.shape == null)
          this.Ph.shape = i.ZN[0];
      var a = this.fS(E, j, C)[0]
        , e = _.$.bF(a);
      E.K.yK = e;
      if (this.id != u.kg && this.id != u.VC && this.id != u.cZ)
          u.UB.xY(N.x + 10, N.y - 10, E.a.bb, E, i);
      E.nK = !0
  }
  ;
  u.WZ.prototype.amD = function(E, K, i, C) {
      var N = E[4].clone();
      if (C) {
          N.x -= K / 2;
          N.y -= i / 2
      }
      var k = this.Ea(N, new bT(N.x + K,N.y + i), !1, this.Qy);
      this.HX(E[0], E[1], E[2], k)
  }
  ;
  u.WZ.prototype.HX = function(E, K, i, C) {
      var N = new q(c.E.J5,!0);
      N.data = u.WZ.Lg(C[1], i);
      K.U(N);
      if (C[1].v.classID == "customShape" && C[1].v.Nm.v.startsWith("--")) {
          var k = E.LM()
            , V = k[0]
            , j = k[1]
            , a = V[j.pop()]
            , e = a.add.vmsk
            , L = a.add.vogk
            , g = e.clone();
          g.b = C[0];
          this.SQ(E, a.EL, g, L)
      }
  }
  ;
  u.WZ.prototype.Cs = function(E, K, i, C, N) {
      if (this.qr == null)
          return;
      var k = this.up(E, N, i)
        , V = this.Ph.binop
        , j = this.Ph.tmode
        , a = this.Qy
        , e = a.length;
      if (this.id == u.kg && e <= 4) {} else if (e <= 4) {
          k.x = Math.round(k.x);
          k.y = Math.round(k.y);
          var L = new q(c.E.P);
          L.data = {
              e: c.f.eQ,
              KN: "createshape",
              al_: this.amD.bind(this),
              ajK: this.name,
              ajG: [E, K, i, C, k]
          };
          K.U(L)
      } else if (e != 2) {
          var g = this.fS(E, k, C)
            , I = g[0];
          if (j == 0 && I.length > 2) {
              I[2].A0 = [1, 2, 3, 0][V];
              var h = E.LM(!0)
                , o = h[0]
                , H = h[1]
                , A = o[H.pop()]
                , S = A.add.vmsk
                , v = A.add.vogk
                , s = S.clone()
                , D = S.clone()
                , F = JSON.stringify(v);
              D.b = D.b.concat(I.slice(2));
              D.C = [_.Y.oH(D.b) - 1];
              var y = _.U7.mk(g[1]);
              v.push(y ? y : _.U7.rV());
              this.SQ(E, A.EL, D, v);
              this.Hx(E, this.name, A.EL, s, D, null, F, JSON.stringify(v))
          } else if (j == 1) {
              this.HX(E, K, i, g)
          } else if (j == 2) {
              var D = new U.ql;
              D.b = D.b.concat(I.slice(2));
              var T = D.$Y()
                , Q = _.I(T.rect.X() * 4);
              _.EE(Q, (i.sm & 255) << 16 | (i.sm >> 8 & 255) << 8 | (i.sm >> 16 & 255) << 0);
              _.lM(T.channel, Q, 3);
              var B = new q(c.E.A,!0);
              B.F = u.uf;
              B.data = {
                  e: "draw",
                  Oc: {
                      buffer: Q,
                      rect: T.rect.clone()
                  },
                  $t: this.name
              };
              K.U(B)
          }
      }
      this.qr = null;
      E.K.yK = null;
      E.K.qK = null;
      E.K.AL = [];
      E.a.bb = null;
      E.nK = !0
  }
  ;
  u.WZ.prototype.Kl = function(E, K, i, C, N) {
      for (var i in E)
          this.Ph[i] = E[i]
  }
  ;
  u.WZ.UC = function(E, K, i, C, N) {
      var k = E.x
        , V = E.y
        , j = K.x
        , a = K.y;
      if (N && N.yH == 2) {
          if (C) {
              j = Math.round(j);
              a = Math.round(a)
          }
          k = j - N.x;
          V = a - N.y
      } else {
          var e = 0;
          if (N && N.yH == 1)
              e = N.y / N.x;
          else if (i && i.q(w.Gj))
              e = 1;
          if (e != 0) {
              if (C) {
                  if (k < j)
                      k = Math.floor(k);
                  else
                      k = Math.ceil(k);
                  if (V < a)
                      V = Math.floor(V);
                  else
                      V = Math.ceil(V)
              }
              var L = Math.abs(j - k)
                , g = Math.abs(a - V)
                , I = L;
              if (g / L < e)
                  I *= g / L / e;
              j = j > k ? k + I : k - I;
              a = a > V ? V + I * e : V - I * e
          }
          if (i && i.q(w.zA)) {
              k -= j - k;
              V -= a - V
          }
      }
      var E = new bT(k,V)
        , K = new bT(j,a);
      if (C)
          u.WZ.an_(E, K);
      return [E, K]
  }
  ;
  u.WZ.an_ = function(E, K) {
      if (E.x > K.x) {
          var i = E.x;
          E.x = K.x;
          K.x = i
      }
      if (E.y > K.y) {
          var i = E.y;
          E.y = K.y;
          K.y = i
      }
      E.x = Math.floor(E.x);
      E.y = Math.floor(E.y);
      K.x = Math.ceil(K.x);
      K.y = Math.ceil(K.y)
  }
  ;
  u.WZ.a5k = function() {
      return {
          classID: "Mk",
          null: {
              t: "obj ",
              v: [{
                  t: "Clss",
                  v: {
                      classID: "contentLayer"
                  }
              }]
          },
          Usng: {
              t: "Objc",
              v: {
                  classID: "contentLayer",
                  Type: {
                      t: "Objc",
                      v: {}
                  }
              }
          }
      }
  }
  ;
  u.WZ.yN = function(E, K) {
      var i = u.WZ.a5k();
      if (K == null)
          K = JSON.parse(JSON.stringify(ao.wW[E]));
      hn.BS.B$(K, i.Usng.v.Type.v, E);
      return {
          bT: "make",
          v4: i
      }
  }
  ;
  u.WZ.Lg = function(E, K) {
      var i = K.uL
        , C = JSON.parse(JSON.stringify(K.$P));
      if (i.K8 == 0)
          C.fillEnabled.v = !1;
      var N = u.WZ.yN(Math.max(0, i.K8 - 1), i.ja);
      N.v4.Usng.v.Shp = E;
      N.v4.Usng.v.strokeStyle = {
          t: "Objc",
          v: C
      };
      return N
  }
  ;
  u.wZ = function() {
      u.ut.call(this, [10, 29], u.P3, "tools/pen");
      this.JR = null;
      this.Om = null;
      this.ks = 1;
      this.a7a = 0;
      this.FZ = null;
      this.Ta = !1;
      this.EQ = !1;
      this.Ul = !1
  }
  ;
  u.wZ.prototype = new u.ut;
  u.wZ.prototype.i4 = function(E) {
      return this.JR != null
  }
  ;
  u.wZ.prototype.Ok = function(E, K, i, C) {
      u.ut.prototype.Ok.call(this, E, K, i, C);
      if (!C.q(w.zA))
          this.Ul = !1
  }
  ;
  u.wZ.prototype.om = function(E, K, i, C, N) {
      this.Jb(K, i);
      var k = E.a.Eb(N.x, N.y), h, o;
      k.x = Math.round(k.x);
      k.y = Math.round(k.y);
      var V = u.x_.NQ(E, k, i)
        , j = E.LM(this.ks == 0)
        , a = j[0]
        , e = j[1]
        , L = a[e.pop()]
        , g = L ? L.add.vmsk : null
        , I = 4 * c.M() / E.a.S;
      if (g)
          h = _.Y.Wt(g.b, k, !0, I);
      var H = C.q(w.zA);
      if (this.ks == 1 && (g == null || g.hs.length == 0 && h.EL == -1)) {
          var A = new q(c.E.J5,!0)
            , S = _.U7.XB("customShape", [0, 0, 1, 1], null, null, null, "--");
          A.data = u.WZ.Lg(S, i);
          K.U(A);
          j = E.LM(!0);
          a = j[0];
          e = j[1];
          L = a[e.pop()];
          g = L.add.vmsk;
          g.b = g.b.slice(0, 2)
      }
      var v = L.add.vogk;
      this.JR = g.clone();
      this.Om = JSON.stringify(v);
      var s = g.b
        , D = _.Y.oH(s);
      o = _.Y.AK(g.b, new h4(k.x - I,k.y - I,I * 2,I * 2), g.hs);
      h = _.Y.Wt(g.b, k, !0, I);
      var F = o[0].length + o[1].length + o[2].length;
      if (h.EL != -1 && o[0].length == 0) {
          var y = _.Y.ac(s, h.EL);
          while (s[y].length <= h.JE) {
              h.JE -= s[y].length;
              y += s[y].length + 1
          }
          s[y].length++;
          s.splice(y + 2 + h.JE, 0, {
              type: 4,
              ln: V.clone(),
              D: V.clone(),
              _8: V.clone()
          });
          g.hs = [y + 2 + h.JE]
      } else if (F != 0 && H) {
          var T = 0;
          for (var G = 0; G < 3; G++)
              if (o[G].length != 0) {
                  T = o[G][0];
                  this.EQ = G == 1;
                  break
              }
          if (o[0].length != 0) {
              var Q = g.b.length - 1
                , B = g.b[T];
              B._8 = B.D.clone();
              var r = B.type >= 3 ? 3 : 0;
              if (T != Q) {
                  B.ln = B.D.clone();
                  B.type = r + 1;
                  this.Ul = !0
              } else
                  B.type = r + 2
          }
          g.hs = [T]
      } else if (o[0].length == 1 && s[o[0][0] - 1] && s[o[0][0] - 1].A0 == null) {
          var T = o[0][0]
            , y = _.Y.aQ(s, T);
          y = _.Y.ac(s, y);
          var J = y + s[y].length;
          if (T != J) {
              s[y].length--;
              s.splice(T, 1);
              J--
          }
          g.hs = [J]
      } else {
          var m = 0;
          if (g.hs.length != 1) {
              g.C = [D];
              s.push({
                  type: 3,
                  length: 1,
                  A0: [1, 2, 3, 0][this.a7a],
                  n_: 0,
                  XH: 0,
                  h6: 0
              });
              m = s.length;
              v.push(_.U7.rV())
          } else {
              var x = g.hs[0]
                , R = _.Y.aQ(s, x)
                , y = _.Y.ac(s, R);
              x = y + s[y].length;
              if (bT.zL(k, s[y + 1].D) < I) {
                  s[y].type = 0;
                  g.hs = [y + 1];
                  this.FZ = V;
                  this.Ta = !0;
                  this.SQ(E, L.EL, g, v);
                  E.nK = !0;
                  return
              }
              s[y].length++;
              m = x + 1;
              if (x == y + 1 && s[y].length != 2)
                  m = y + 1
          }
          if (C.q(w.Gj) && s[m - 1] && s[m - 1].D)
              V = u.nS.MQ(s[m - 1].D, V);
          s.splice(m, 0, {
              type: 4,
              ln: V.clone(),
              D: V.clone(),
              _8: V.clone()
          });
          g.hs = [m];
          this.FZ = V
      }
      this.SQ(E, L.EL, g, v);
      E.nK = !0
  }
  ;
  u.wZ.prototype.n9 = function(E, K, i, C, N) {
      if (this.JR == null)
          return;
      var k = E.a.Eb(N.x, N.y)
        , V = u.x_.NQ(E, k, i)
        , j = E.LM(this.ks == 0)
        , a = j[0]
        , e = j[1]
        , L = a[e.pop()]
        , g = L.add.vmsk
        , I = g.b
        , h = I[g.hs[0]];
      if (C.q(w.NV)) {
          if (C.q(w.Gj))
              V = u.nS.MQ(this.FZ, V);
          var o = h.D.g7(h._8)
            , H = h.ln.g7(h.D);
          h._8 = V;
          h.D = V.add(o);
          h.ln = h.D.add(H)
      } else {
          if (C.q(w.Gj))
              V = u.nS.MQ(h.D, V);
          if (this.EQ) {
              var A = h.ln;
              h.ln = h._8;
              h._8 = A
          }
          if (this.Ta) {
              var S = bT.zL(h.D, V)
                , v = S == 0 ? 0 : bT.zL(h.D, h._8) / S;
              h._8.x = h.D.x + v * (V.x - h.D.x);
              h._8.y = h.D.y + v * (V.y - h.D.y)
          } else
              h._8 = V;
          if (C.q(w.zA) && !this.Ul)
              h.type = 5;
          else {
              h.type = 4;
              h.ln = h.D.add(h.D.g7(V))
          }
          this.FZ = V;
          if (this.EQ) {
              var A = h.ln;
              h.ln = h._8;
              h._8 = A
          }
      }
      this.SQ(E, L.EL, g, L.add.vogk);
      E.nK = !0
  }
  ;
  u.wZ.prototype.Cs = function(E, K, i, C, N) {
      if (this.JR == null)
          return;
      var k = E.LM(this.ks == 0)
        , V = k[0]
        , j = k[1]
        , a = V[j.pop()]
        , e = a.add.vmsk
        , L = a.add.vogk;
      if (this.Ta) {
          e.hs = [];
          this.SQ(E, a.EL, e, a.add.vogk)
      }
      this.Hx(E, this.Ta ? "Close Path" : "Add Anchor Point", a.EL, this.JR, e.clone(), null, this.Om, JSON.stringify(L));
      this.Ta = !1;
      this.EQ = !1;
      this.Ul = !1;
      this.JR = null
  }
  ;
  u.wZ.prototype.Kl = function(E, K, i, C, N) {
      this.ks = E.tmode;
      this.a7a = E.binop
  }
  ;
  u.tZ = function() {
      u.WZ.call(this, [10, 30], u.kg, "tools/fpen", !1)
  }
  ;
  u.tZ.prototype = new u.WZ;
  u.tZ.prototype.Ea = function(E, K, i, C) {
      return [_.Y.l3(C, this.Ph.tolr), _.U7.XB("customShape", [0, 0, 1, 1], null, null, null, "--")]
  }
  ;
  u.BZ = function() {
      u.ut.call(this, [10, 27], u.mu, "tools/pselect");
      this.O3 = null;
      this.tG = !1;
      this.pc = null;
      this.JR = null;
      this.Ml = null;
      this.Om = null;
      this.eW = null;
      this.dL = null;
      this.TB = null;
      this.es = null
  }
  ;
  u.BZ.prototype = new u.ut;
  u.BZ.prototype.i4 = function(E) {
      return E.Oy
  }
  ;
  u.BZ.prototype.om = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y), V = E.LM(), j = V[0], a = V[1], e, L;
      for (var G = 0; G < a.length; G++) {
          var g = j[a[G]]
            , I = g.add.vmsk
            , h = _.Y.Wt(I.b, k).EL;
          if (h != -1) {
              this.pc = e = g;
              L = h
          }
          for (var o = 0; o < I.pK.length; o++) {
              var H = _.Y.GG(I.b, I.pK[o]);
              if (H == null)
                  continue;
              var A = bT.zL(H, k);
              if (A < 4 * c.M() / E.a.S) {
                  var S = E.t[g.EL - 1e6].add.TySh
                    , v = S.Ou.Curve
                    , s = S.m
                    , D = v.Reversed;
                  v.Reversed = !1;
                  var v = g_.$V(S.Ou.Curve);
                  v.Reversed = D;
                  _.$.m(v[0], s, v[0]);
                  this.TB = [v, o, s.R * s.bI - s.O * s.x9];
                  this.pc = e = g;
                  L = 0
              }
          }
          if (this.TB)
              break
      }
      if (e != null) {
          var I = e.add.vmsk;
          I.hs = [];
          var F = I.C.indexOf(L);
          if (C.q(w.Gj)) {
              if (F == -1) {
                  I.C.push(L);
                  this.tG = !0
              } else
                  I.C.splice(F, 1)
          } else {
              if (F == -1)
                  I.C = [L];
              this.tG = !0
          }
          this.dL = _.Y.HD(I.b, I.C)
      }
      this.O3 = k;
      this.es = new aS(k);
      E._S = !0;
      E.nK = !0
  }
  ;
  u.BZ.prototype.n9 = function(E, K, i, C, N) {
      if (this.O3 == null)
          return;
      var k = E.a.Eb(N.x, N.y);
      if (this.tG) {
          k = this.es.vt(k, C);
          var V = this.pc;
          if (this.JR == null) {
              this.JR = this.Ml = V.add.vmsk.clone();
              this.Om = this.eW = JSON.stringify(V.add.vogk);
              if (C.q(w.zA)) {
                  var j = this.JR.clone()
                    , a = JSON.parse(this.Om)
                    , e = u.ut.mL(j, a);
                  u.ut.P6(e, j, a);
                  this.Ml = j;
                  this.eW = JSON.stringify(a)
              }
          }
          var j = this.Ml.clone()
            , a = JSON.parse(this.eW);
          if (this.TB) {
              var L = this.TB
                , g = L[0][0]
                , I = _.$.G6(g, k.x, k.y);
              j.pK[L[1]] = L[0][1][I];
              var h = g[I * 2]
                , o = g[I * 2 + 1]
                , H = (g[I * 2 + 2] - h) * (k.y - o) - (g[I * 2 + 3] - o) * (k.x - h);
              if (L[2] < 0)
                  H = -H;
              j.PE = H > 0
          } else {
              var A = this.dL.clone()
                , S = A.x
                , v = A.y;
              A.offset(k.x - this.O3.x, k.y - this.O3.y);
              A.x = Math.round(A.x);
              A.y = Math.round(A.y);
              var s = u.x_.Gw(E, A, i)
                , D = new fn(1,0,0,1,A.x - S + s[0],A.y - v + s[1]);
              _.Y.aW(j.b, D, j.C);
              _.U7.m(a, _.J.Nl(D), j.C);
              u.x_.HH(E, A, s)
          }
          this.SQ(E, V.EL, j, a)
      } else {
          var F = this.O3;
          E.K.yK = _.$.X6(new h4(F.x,F.y,k.x - F.x,k.y - F.y));
          E.nK = !0
      }
  }
  ;
  u.BZ.prototype.Cs = function(E, K, i, C, N) {
      if (this.O3 == null)
          return;
      var k = E.a.Eb(N.x, N.y)
        , V = this.pc
        , j = V ? V.add.vmsk : null;
      if (this.tG) {
          var a = JSON.stringify(V.add.vogk);
          if (!this.O3.Ql(k))
              this.Hx(E, "Move Paths", V.EL, this.JR, j, null, this.Om, a);
          if (E != null && E.K.qK) {
              E.K.qK = null;
              E.nK = !0
          }
      } else {
          if (j) {
              var e = this.O3
                , L = new h4(e.x,e.y,k.x - e.x,k.y - e.y)
                , g = _.Y.ah7(j.b, L);
              if (C.q(w.Gj)) {
                  for (var G = 0; G < g.length; G++)
                      if (j.C.indexOf(g[G]) == -1)
                          j.C.push(g[G])
              } else
                  j.C = g
          }
          E.K.yK = null;
          E.nK = !0
      }
      this.O3 = null;
      this.JR = null;
      this.TB = null;
      this.tG = !1;
      this.es = null
  }
  ;
  u.BZ.prototype.Fs = function(E, K, i, C) {
      u.ut.prototype.Fs.call(this, E, K, i, C);
      if (i.sw != this.id)
          return;
      if (E.C.length == 0)
          return;
      var N = E.LM()
        , k = N[0]
        , V = N[1];
      if (V.length == 0)
          return;
      var j = k[V[0]]
        , a = j.add.vmsk
        , e = j.add.vstk
        , L = j.add.vogk
        , g = new q(c.E.P,!0);
      g.data = {
          e: c.f.Mx,
          F: this.id,
          AR: "main",
          w4: a ? a : null,
          U7: L
      };
      K.U(g)
  }
  ;
  u.BZ.prototype.Kl = function(E, K, i, C, N) {
      var k = E.eT;
      if (k.w4) {
          var V = i.LM()
            , j = V[0]
            , a = V[1];
          if (a.length == 0)
              return;
          var e = j[a[0]]
            , L = e.add.vmsk.clone()
            , g = JSON.stringify(e.add.vogk)
            , I = k.w4;
          this.SQ(i, e.EL, I, k.U7);
          var h = [18, 5];
          if (L.b.length == I.b.length)
              h = L.C[0] == I.C[0] ? "Fill Rule" : "Path Order";
          this.Hx(i, h, e.EL, L, I, null, g, JSON.stringify(k.U7))
      }
  }
  ;
  u.oL = function() {
      u.ut.call(this, [10, 28], u.WO, "tools/dselect");
      this.bo = -1;
      this.UY = -1;
      this.A4 = null;
      this.O3 = null;
      this.pc = null;
      this.JR = null;
      this.Om = null;
      this.CR = null;
      this.$g = 0;
      this.am1 = {
          psnap: !1
      };
      this.es = null
  }
  ;
  u.oL.prototype = new u.ut;
  u.oL.prototype.i4 = function(E) {
      return E.Oy
  }
  ;
  u.oL.prototype.Kl = function(E) {
      this.am1 = E
  }
  ;
  u.oL.prototype.d2 = function(E, K, i, C, N) {
      if (E.e == "crnr") {
          if (i == null)
              return;
          var k = i.LM()
            , V = k[0]
            , j = k[1];
          if (j.length == 0) {
              alert("No paths selected");
              return
          }
          var a = V[j[0]]
            , e = a.add.vmsk;
          if (e.hs.length == 0) {
              alert("No corners selected");
              return
          }
          for (var G = 0; G < e.hs.length; G++) {
              var L = e.b[e.hs[G]];
              if (!L.D.Ql(L._8) || !L.D.Ql(L.ln)) {
                  alert("Only sharp corners can be rounded");
                  return
              }
          }
          if (this.JR == null) {
              this.JR = a.add.vmsk.clone();
              this.Om = JSON.stringify(a.add.vogk);
              this.pc = a;
              this.CR = i
          }
          var g = new q(c.E.P,!0);
          g.data = {
              e: c.f.eQ,
              KN: "cornerradius",
              Io: 5,
              qp: this.a2V.bind(this)
          };
          K.U(g)
      } else
          u.ut.prototype.d2.call(this, E, K, i, C, N)
  }
  ;
  u.oL.prototype.a2V = function(E) {
      if (E == "confirm") {
          var K = this.CR
            , i = this.pc
            , C = i.add.vmsk
            , N = i.add.vogk;
          this.Hx(K, [12, 94, 0], i.EL, this.JR, C, null, this.Om, JSON.stringify(N));
          this.jr();
          return
      }
      var C = this.JR.clone()
        , N = JSON.parse(this.Om)
        , k = C.hs;
      if (E == "cancel") {} else {
          var V = [];
          for (var G = 0; G < k.length; G++) {
              var j = k[G]
                , a = _.Y.aQ(C.b, j, !0)
                , g = 0;
              if (V.indexOf(a) != -1)
                  continue;
              V.push(a);
              var e = _.Y.ac(C.b, a, !0)
                , L = C.b[e].length
                , I = [];
              for (var h = 0; h < L; h++) {
                  var o = C.hs.indexOf(e + h + 1) == -1 ? 0 : E;
                  I.push(o);
                  if (o != 0)
                      g++
              }
              _.Y.MP(C.b, e, I);
              for (var h = 0; h < k.length; h++)
                  if (k[h] > e + L)
                      k[h] += g
          }
          this.EI(C, N);
          C.hs = []
      }
      this.SQ(this.CR, this.pc.EL, C, N);
      if (E == "cancel")
          this.jr()
  }
  ;
  u.oL.prototype.disable = function(E, K, i, C) {
      this.Ss(E)
  }
  ;
  u.oL.prototype.om = function(E, K, i, C, N) {
      this.Ss(E);
      var k = E.a.Eb(N.x, N.y), g, I, h;
      this.A4 = k.clone();
      var V = E.LM()
        , j = V[0]
        , a = V[1];
      if (a.length == 0)
          return;
      var e = 4 * c.M() / E.a.S
        , L = new h4(k.x - e,k.y - e,e * 2,e * 2);
      for (var o = 0; o < a.length; o++) {
          g = this.pc = j[a[o]];
          I = g.add.vmsk;
          h = _.Y.AK(I.b, L);
          if (h[0].length + h[1].length + h[2].length != 0)
              break
      }
      var H = [!1, !1, !1];
      for (var G = 0; G < 3; G++) {
          for (var A = 0; A < h[G].length; A++)
              if (I.hs.indexOf(h[G][A]) != -1) {
                  h[G] = [h[G][A]];
                  H[G] = !0;
                  break
              }
      }
      if (h[0].length != 0 && (H[0] || !H[1] && !H[2])) {
          var S = h[0][0]
            , v = I.hs.indexOf(S);
          if (C.q(w.Gj)) {
              if (v == -1)
                  I.hs.push(S);
              else {
                  I.hs.splice(v, 1);
                  E.nK = !0;
                  return
              }
          } else if (v == -1)
              I.hs = [S];
          this.bo = S;
          this.UY = 0
      } else if (h[1].length != 0 && (H[1] || !H[2])) {
          this.bo = h[1][0];
          this.UY = 1
      } else if (h[2].length != 0) {
          this.bo = h[2][0];
          this.UY = 2
      } else {
          var s = _.Y.Wt(I.b, k, !0, e);
          if (s.EL == -1)
              this.O3 = k;
          else {
              I.C = [s.EL];
              I.hs = []
          }
      }
      if (this.JR == null) {
          this.JR = g.add.vmsk.clone();
          this.Om = JSON.stringify(g.add.vogk)
      }
      this.es = new aS(k);
      E.nK = !0
  }
  ;
  u.oL.prototype.n9 = function(E, K, i, C, N) {
      if (E == null)
          return;
      var k = E.a.Eb(N.x, N.y)
        , V = this.pc;
      if (this.bo != -1) {
          var j = this.JR.clone()
            , a = V.add.vogk
            , e = j.b[this.bo];
          e = [e.D, e.ln, e._8][this.UY];
          if (C.q(w.Gj)) {
              k = this.es.vt(k, C);
              k.x += e.x - this.A4.x;
              k.y += e.y - this.A4.y
          } else {
              if (this.am1.psnap) {
                  k.x = Math.round(k.x);
                  k.y = Math.round(k.y)
              }
              k = u.x_.NQ(E, k, i)
          }
          if (this.UY == 0) {
              var L = new fn(1,0,0,1,k.x - e.x,k.y - e.y);
              _.Y.aW(j.b, L, null, j.hs)
          } else {
              var g = j.b[this.bo]
                , I = g.ln
                , h = g._8;
              if (this.UY == 2) {
                  I = g._8;
                  h = g.ln
              }
              I.Wm(k.x, k.y);
              if (g.type == 1 || g.type == 4) {
                  var o = bT.zL(I, g.D)
                    , H = bT.zL(h, g.D);
                  if (H != 0) {
                      h.x = g.D.x - (I.x - g.D.x) * (H / o);
                      h.y = g.D.y - (I.y - g.D.y) * (H / o)
                  }
              }
          }
          this.EI(j, a);
          this.SQ(E, V.EL, j, a)
      } else if (this.O3 != null) {
          var A = this.O3;
          E.K.yK = _.$.X6(new h4(A.x,A.y,k.x - A.x,k.y - A.y));
          E.nK = !0
      } else {
          var S = E.LM(), v = S[0], s = S[1], V, j, y;
          if (s.length == 0)
              return;
          var D = 4 * c.M() / E.a.S
            , F = new h4(k.x - D,k.y - D,D * 2,D * 2);
          for (var T = 0; T < s.length; T++) {
              V = v[s[T]];
              j = V.add.vmsk;
              y = _.Y.AK(j.b, F);
              if (y[0].length + y[1].length + y[2].length != 0)
                  break
          }
          this.Ss(E);
          for (var G = 0; G < 3; G++) {
              for (var Q = 0; Q < y[G].length; Q++) {
                  var B = y[G][Q]
                    , r = j.b[B];
                  r = G == 0 ? r.D : G == 1 ? r.ln : r._8;
                  E.K.Tt.push(E.K.OV.length >>> 1);
                  E.K.OV.push(r.x, r.y);
                  E.nK = !0
              }
          }
      }
  }
  ;
  u.oL.prototype.Ss = function(E) {
      if (E && E.K.OV.length != 0) {
          E.K.OV = [];
          E.K.Tt = [];
          E.nK = !0
      }
  }
  ;
  u.oL.prototype.Cs = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y)
        , V = this.pc
        , j = V ? V.add.vmsk : null
        , a = V ? V.add.vogk : null;
      if (this.bo != -1) {
          if (Date.now() - this.$g < 300) {
              var e = j.b[this.bo]
                , L = this.UY
                , g = null;
              if (L == 0) {
                  var I = e.ln.Ql(e.D)
                    , h = e._8.Ql(e.D);
                  if (!I && !h) {
                      g = "Anchor Type";
                      if (e.type == 1 || e.type == 4)
                          e.type++;
                      else {
                          e.type--;
                          e._8 = e.D.add(e.D.g7(e.ln))
                      }
                  } else {
                      g = "Add Handles";
                      if (I && h) {
                          e.ln.x -= 30;
                          e._8.x += 30
                      } else if (I)
                          e.ln = e.D.add(e.D.g7(e._8));
                      else if (h)
                          e._8 = e.D.add(e.D.g7(e.ln))
                  }
              } else {
                  g = "Remove Handle";
                  if (L == 1)
                      e.ln.hX(e.D);
                  else
                      e._8.hX(e.D)
              }
              this.EI(j, a);
              this.SQ(E, V.EL, j, a);
              this.Hx(E, g, V.EL, this.JR, j, null, this.Om, JSON.stringify(a))
          } else if (!this.A4.Ql(k)) {
              this.Hx(E, "Drag Anchors", V.EL, this.JR, j, null, this.Om, JSON.stringify(a))
          }
          this.$g = Date.now()
      } else if (this.O3 != null) {
          var o = this.O3
            , H = new h4(o.x,o.y,k.x - o.x,k.y - o.y);
          if (H.d < 0)
              H.x += H.d;
          if (H.v < 0)
              H.y += H.v;
          H.d = Math.abs(H.d);
          H.v = Math.abs(H.v);
          var A = _.Y.AK(j.b, H);
          j.hs = A[0].concat(C.q(w.Gj) ? j.hs : []);
          E.K.yK = null
      }
      this.jr();
      E.nK = !0
  }
  ;
  u.oL.prototype.jr = function() {
      this.pc = null;
      this.JR = null;
      this.O3 = null;
      this.bo = this.UY = -1;
      this.es = null
  }
  ;
  u.oL.prototype.EI = function(E, K) {
      for (var G = 0; G < E.hs.length; G++) {
          var i = _.Y.aQ(E.b, E.hs[G]);
          _.U7.wx(K, i)
      }
  }
  ;
  u.oL.prototype.Ok = function(E, K, i, C) {
      if (E == null)
          return;
      var N = E.LM()
        , k = N[0]
        , V = N[1];
      if (V.length == 0)
          return;
      var j = k[V[0]]
        , a = j.add.vmsk;
      if (a == null || a.hs.length == 0)
          return;
      var e = j.add.vogk
        , L = JSON.stringify(e)
        , g = C.TD();
      if (g.x != 0 || g.y != 0) {
          var I = a.clone()
            , h = a.clone()
            , o = new fn(1,0,0,1,g.x,g.y);
          _.Y.aW(h.b, o, null, h.hs);
          this.EI(h, e);
          this.SQ(E, j.EL, h, e);
          this.Hx(E, "Move Anchors", E.C[0], I, h.clone(), !0, L, JSON.stringify(e))
      }
      if (C.q(w.UO) || C.q(w.LC)) {
          var I = a.clone()
            , h = a.clone();
          h.b = _.Y.a01(h.b, h.hs, e);
          var H = _.Y.oH(h.b);
          for (var G = 0; G < h.C.length; G++)
              if (h.C[G] >= H) {
                  h.C.splice(G, 1);
                  G--
              }
          h.hs = [];
          this.SQ(E, j.EL, h, e);
          this.Hx(E, "Delete Anchors", j.EL, I, h.clone(), !0, L, JSON.stringify(e))
      }
  }
  ;
  u.oL.prototype.Hx = function(E, K, i, C, N, k, V, j) {
      var a = E.Ty();
      if (k && a != null && a.F == this && a.data.a4q && a.data.CH == i && JSON.stringify(a.data.vT.hs) == JSON.stringify(C.hs)) {
          a.data.zE = N;
          a.data.Fk = j
      } else {
          var a = new fy(K,this);
          a.data = {
              CH: i,
              vT: C,
              zE: N,
              a4q: k,
              a4$: V,
              Fk: j
          };
          E.b8(a)
      }
  }
  ;
  u.Rect = function() {
      u.WZ.call(this, [10, 32], u.x2, "tools/rect", !0)
  }
  ;
  u.Rect.prototype = new u.WZ;
  u.Rect.prototype.Ea = function(E, K, i) {
      var C = this.Ph.crad
        , N = K.x - E.x
        , k = K.y - E.y;
      return [_.Y.L8.Rect(E.x, E.y, N, k, C), _.U7.XB("Rctn", [E.x, E.y, K.x, K.y], [C, C, C, C])]
  }
  ;
  u.ZT = function() {
      u.WZ.call(this, [10, 33], u.rR, "tools/ellipse", !0)
  }
  ;
  u.ZT.prototype = new u.WZ;
  u.ZT.prototype.Ea = function(E, K, i) {
      var C = K.x - E.x
        , N = K.y - E.y;
      return [_.Y.L8.ZT(E.x, E.y, C, N), _.U7.XB("Elps", [E.x, E.y, K.x, K.y])]
  }
  ;
  u.Jt = function() {
      u.WZ.call(this, [10, 34], u.VC, "tools/pshape", !1)
  }
  ;
  u.Jt.prototype = new u.WZ;
  u.Jt.prototype.Ea = function(E, K, i) {
      var C = this.Ph.pshape, N = this.Ph.crad, k = this.Ph.irad / 100, V = this.Ph.sides, j = this.Ph.width, a = this.Ph.tsiz, e = this.Ph.length, A;
      K = K.clone();
      if (i) {
          if (Math.abs(K.x - E.x) < Math.abs(K.y - E.y))
              K.x = E.x;
          else
              K.y = E.y
      }
      var L = E.x
        , g = E.y
        , I = K.x
        , h = K.y
        , o = Math.sqrt((I - L) * (I - L) + (h - g) * (h - g))
        , H = Math.atan2(-h + g, I - L);
      if (C == 0)
          A = _.Y.L8.M5(L, g, o, H, V, N);
      if (C == 1)
          A = _.Y.L8.aiL(L, g, o, H, V, N, k);
      if (C == 2)
          A = _.Y.L8.ahC(E.x, E.y, K.x, K.y, j, a / 100);
      if (C == 3)
          A = _.Y.L8.a8$(L, g, o, H, e);
      return [A, _.U7.XB("customShape", [E.x, E.y, K.x, K.y], null, null, null, "--")]
  }
  ;
  u.Jt.prototype.Ok = function(E, K, i, C) {
      var N = C.TD(), k = this.Ph, V, j;
      if (N.y != 0) {
          var a = -N.y
            , e = k.pshape;
          if (e < 2) {
              V = "sides";
              j = Math.max(3, Math.min(100, k.sides + a))
          } else if (e == 2) {
              V = "width";
              j = Math.max(1, Math.min(100, k.width + a))
          } else if (e == 3) {
              V = "length";
              j = Math.max(4, Math.min(40, k.length + a))
          }
      }
      if (N.x != 0) {
          V = "pshape";
          j = Math.max(0, Math.min(3, k.pshape + N.x))
      }
      if (V) {
          var L = new q(c.E.P,!0)
            , g = {};
          g[V] = j;
          k[V] = j;
          L.data = {
              e: c.f.Mx,
              F: this.id,
              Qh: "vals",
              a72: g
          };
          K.U(L);
          this.n9(E, K, i, C)
      }
  }
  ;
  u.a1 = function() {
      u.WZ.call(this, [10, 35], u.cZ, "tools/line", !1)
  }
  ;
  u.a1.prototype = new u.WZ;
  u.a1.prototype.Ea = function(E, K, i) {
      var C = this.Ph.width;
      K = K.clone();
      if (i) {
          K = u.nS.MQ(E, K)
      }
      return [_.Y.L8.a1(E.x, E.y, K.x, K.y, C), _.U7.XB("Ln", null, null, [E.x, E.y, K.x, K.y], C)]
  }
  ;
  u.lP = function() {
      u.WZ.call(this, [10, 31], u.q4, "tools/cshape", !0)
  }
  ;
  u.lP.prototype = new u.WZ;
  u.lP.prototype.Ea = function(E, K, i) {
      var C = this.Ph.shape
        , N = C.J8.d / C.J8.v
        , k = U.ql.MD(C.b);
      K = K.clone();
      if (i) {
          K.y = E.y + (K.x - E.x) / N
      }
      var V = K.x - E.x
        , j = K.y - E.y;
      _.Y.aW(k, new fn(V,0,0,j,E.x,E.y));
      return [k, _.U7.XB("customShape", [E.x, E.y, K.x, K.y], null, null, null, C.vA)]
  }
  ;
  u._ = function(E, K, i) {
      u.UB.call(this, E, K, i);
      this.Xf = 0;
      this.t = null;
      this.Kp = null;
      this.VV = null;
      this.$r = 1;
      this.$F = !1;
      this.cursor = null;
      this.ZP = null;
      this.JY = null;
      this.AJ = !1;
      this.L_ = null;
      this.aaP = 0;
      this.xO = null;
      this.TS = 0;
      this.ae = null;
      this.kF = null;
      this.sh = null;
      this.R1 = null;
      this.adz = null;
      this.ap = null
  }
  ;
  u._.prototype = new u.UB;
  u._.Mz = function(E, K) {
      var i = {
          classID: "null",
          null: bY.Ve("Dcmn", !0)
      };
      if (E)
          i.Angl = {
              t: "UntF",
              v: {
                  type: "#Ang",
                  val: K
              }
          };
      else
          i.Axis = {
              t: "enum",
              v: {
                  Ornt: K
              }
          };
      return {
          bT: E ? "rotateEventEnum" : "flip",
          v4: i
      }
  }
  ;
  u._.prototype.R2 = function(E, K, i, C, N) {
      var k = new q(c.E.P,!0);
      k.data = {
          e: c.f.Mx,
          F: this.id,
          kK: N,
          im: E,
          VV: i
      };
      K.U(k);
      this.T5 = !1
  }
  ;
  u._.prototype.i4 = function(E) {
      return this.kF && this.kF.xr()
  }
  ;
  u._.prototype.d2 = function(E, K, i, C, N) {
      this.VV = N;
      if (E.e == "again" && this.xO == null)
          return;
      if (E.e == "doMouseDown") {
          if (this.kF == null)
              return;
          this.om(i, K, N, C, E.Lk);
          return
      }
      if (!this.Kg(i, N))
          return;
      if (this.kF) {
          this.ax(E, this.kF.UL());
          this.W7(i, N, 0, !0);
          this.Zh(i);
          return
      }
      this.JI(i, E.z == null, E.z);
      this.Ar(i);
      this.ax(E);
      this.MJ(i, K, E.$t, !1)
  }
  ;
  u._.prototype.ax = function(E, K) {
      var i = this.ae;
      if (K == null) {
          var C = E.rY != null ? E.rY : 4;
          K = this.kF.aaK()[C]
      }
      var N = K.x
        , k = K.y;
      if (E.e == "rot" && E.G != Math.PI && (i.d + i.v & 1) == 1) {
          N = Math.floor(N);
          k = Math.floor(k)
      }
      var V = new fn;
      V.translate(-N, -k);
      if (E.e == "rot")
          V.rotate(E.G);
      if (E.e == "scl")
          V.scale(E.G.x, E.G.y);
      if (E.e == "mat")
          V.concat(E.G);
      V.translate(N, k);
      if (E.e == "again")
          V = this.xO;
      var j = this.kF.P2();
      _.$.m(j, V, j);
      this.kF.Lb(j)
  }
  ;
  u._.prototype.cn = function() {
      return !0
  }
  ;
  u._.prototype.Kg = function(E, K) {
      if (E == null)
          return !1;
      if (this.id == u.Dg)
          return E.N != null;
      var i = E.Qw(!0, null, null, !0);
      if (this.id == u.iv && E.t[i[0]].rect.OL()) {
          alert("Layer is empty.");
          return !1
      }
      for (var G = 0; G < i.length; G++) {
          var C = E.t[i[G]];
          if (C.Hv(2) || C.Hv(31)) {
              alert(i2.get([6, 57, 0]));
              return !1
          }
          if (C.add.artb) {
              alert("You can not transform the whole artboard");
              return !1
          }
          if (C.add.TySh)
              if (!dR.WW(C.add.TySh, K.g5))
                  return !1;
          if (C.add.SoLd) {
              if (i.length == 1 && !_.oC._9(C.add.SoLd.warp.v) && (C.$Y() && C.$Y().Rq || C.add.vmsk && C.add.vmsk.Rq)) {
                  alert("Unlink masks before transforming Smart Object");
                  return !1
              }
              if (!E.ags(C.add.SoLd.Idnt.v)) {
                  alert("Unsupported format of the smart object (" + E.W4(C.add.SoLd.Idnt.v).hS + ")");
                  return !1
              }
          }
      }
      if (E.N == null)
          return !0;
      if (!E.Os())
          return !1;
      return E.i1()
  }
  ;
  u._.prototype.om = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y);
      if (this.TS == 1) {
          var V = _.J.KP(_.J.hv(this.kF.P2(), this.ae));
          k = _.J.Cj(V, k)
      }
      var j = this.TS == 0 ? this.kF : this.sh;
      this.$F = j.om(E, i, C, k);
      if (this.$F && j.gD(k)) {
          if (Date.now() - this.aaP < 250)
              this.MJ(E, K, null, !0);
          this.aaP = Date.now()
      }
  }
  ;
  u._.prototype._$ = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.VP,
          UG: this.cursor
      };
      E.U(K)
  }
  ;
  u._.prototype.n9 = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y);
      if (this.TS == 1) {
          var V = _.J.KP(_.J.hv(this.kF.P2(), this.ae));
          k = _.J.Cj(V, k)
      }
      var j = this.TS == 0 ? this.kF : this.sh;
      if (!N.Oy) {
          var a = "default";
          if (j) {
              var e = j.uP(k, E.a.S);
              if (e)
                  a = e
          }
          if (a != this.cursor) {
              this.cursor = a;
              this._$(K)
          }
      }
      if (!this.$F)
          return;
      j.n9(E, i, C, k);
      this.W7(E, i, 0, !0);
      this.Zh(E);
      this.oR(K)
  }
  ;
  u._.prototype.Cs = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y);
      this.kF.Cs(E, i, C, k);
      this.$F = !1
  }
  ;
  u._.prototype.Ok = function(E, K, i, C) {
      if (C.q(w.U6))
          this.MJ(E, K, null, !0);
      else if (C.q(w.SO))
          this.zx(E, K);
      else {
          var N = this.kF.Ok(E, i, C);
          if (N) {
              this.W7(E, i, 0, !0);
              this.oR(K)
          }
      }
  }
  ;
  u._.prototype.Kl = function(E, K, i, C) {
      if (E.AR == "commit")
          this.MJ(i, K, null, !0);
      else if (E.AR == "cancel")
          this.zx(i, K);
      else if (E.AR == "switchWarp") {
          this.TS = 1 - this.TS;
          this.adq();
          this.Zh(i);
          this.oR(K)
      } else if (E.AR == "wrp") {
          this.sh.J9(E.CJ);
          this.Zh(i);
          this.W7(i, this.VV, 0, !0)
      } else if (E.AR == "ctyp") {
          this.kF.acn(E.IU);
          this.Zh(i);
          this.oR(K)
      } else if (E.AR == "cen") {
          this.kF.a8y(E.fu);
          this.Zh(i);
          this.W7(i, this.VV, 0, !0);
          this.oR(K)
      } else if (E.AR == "trn") {
          var N = _.J.Nl(E.Mo)
            , k = this.ae
            , V = _.J.hv(this.kF.P2(), this.ae);
          N[6] = V[6],
          N[7] = V[7];
          var j = [k.x, k.y, k.x + k.d, k.y, k.x + k.d, k.y + k.v, k.x, k.y + k.v];
          _.J.apply(N, j);
          this.$r = E.$r;
          this.kF.Lb(j);
          this.Zh(i);
          this.W7(i, this.VV, 0, !0)
      }
  }
  ;
  u._.prototype.Zh = function(E) {
      if (this.TS == 0)
          this.kF.iF(E, this.VV);
      else {
          this.sh.iF(E);
          var K = _.J.hv(this.kF.P2(), this.ae);
          _.J.apply(K, E.K.yK.H);
          _.J.apply(K, E.K.Cn)
      }
  }
  ;
  u._.prototype.MJ = function(E, K, i, C) {
      this.W7(E, this.VV, this.$r);
      var N = new fy(i ? i : this.name,this);
      if (this.Xf == 0)
          N.data = {
              type: this.Xf,
              t: this.t,
              L_: this.Kp,
              we: u._.j9(E, this.t)
          };
      else if (this.Xf == 1) {
          var k = E.t[this.t[0]], V;
          if (k.rA.dz <= 0) {
              V = _.I(k.rA.BC.X());
              _.wF(k.rA.Gf, V, 3)
          } else
              V = E.N.channel;
          var j = {
              rect: k.rA.BC.clone(),
              channel: V
          };
          N.data = {
              type: this.Xf,
              z: this.t[0],
              JY: this.JY,
              Id: j,
              ZP: this.ZP,
              AJ: this.AJ,
              rA: k.rA,
              L_: this.L_,
              we: {
                  g: k.rA.BC,
                  UE: k.rA.Gf
              }
          }
      } else if (this.Xf == 2) {
          N.data = {
              type: this.Xf,
              JY: this.JY,
              Id: {
                  rect: E.N.rect.clone(),
                  channel: E.N.channel.slice(0)
              }
          }
      }
      E.b8(N);
      var a = this.ae
        , e = new bT(a.x + a.d / 2,a.y + a.v / 2)
        , L = _.J.hv(this.kF.P2(), a)
        , g = _.J.M1(L)
        , I = new fn;
      I.translate(e.x, e.y);
      I.concat(g);
      I.translate(-e.x, -e.y);
      g = I.clone();
      var h = -Math.atan2(-g.O, g.R)
        , o = new fn;
      o.rotate(h);
      g.concat(o);
      function H(v, s) {
          return {
              t: "UntF",
              v: {
                  type: ["#Pxl", "#Prc", "#Ang"][s],
                  val: v
              }
          }
      }
      var A = bY.Ve("Lyr", !0);
      if (this.id == u.Dg)
          A.v[0] = {
              t: "prop",
              v: {
                  classID: "Chnl",
                  keyID: "fsel"
              }
          };
      var S = {
          classID: "null",
          null: A,
          FTcs: {
              t: "enum",
              v: {
                  QCSt: "Qcsa"
              }
          },
          Intr: {
              t: "enum",
              v: {
                  Intp: "Bcbc"
              }
          },
          Ofst: {
              t: "Objc",
              v: {
                  __name: "Offset",
                  classID: "Ofst",
                  Hrzn: H(I.vK, 0),
                  Vrtc: H(I.Cz, 0)
              }
          },
          Skew: {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Hrzn: H(Math.atan(g.x9) * 180 / Math.PI, 2),
                  Vrtc: H(0, 2)
              }
          },
          Wdth: H(g.R * 100, 1),
          Hght: H(g.bI * 100, 1),
          Angl: H(h * 180 / Math.PI, 2)
      };
      this.sU = K;
      this.track({
          bT: "transform",
          v4: S
      });
      this.escape(E, K, C)
  }
  ;
  u._.prototype.zx = function(E, K) {
      if (this.Xf == 0)
          u._.DE(E, this.t, this.Kp);
      else if (this.Xf == 1) {
          var i = E.t[this.t[0]];
          E.N = this.JY;
          if (!this.AJ) {
              i.rA.BC = this.L_.g;
              i.rA.Gf = this.L_.UE;
              i.lA(E, 0, 0, E.N)
          } else {
              i.OD(E, this.ZP)
          }
          E.s();
          E.UT = !0
      } else if (this.Xf == 2) {
          E.N = this.JY;
          E.UT = !0
      }
      this.escape(E, K, !0)
  }
  ;
  u._.prototype.escape = function(E, K, i) {
      this.kF.clear(E);
      this.kF = null;
      this.sh = null;
      this.ap = null;
      this.TS = 0;
      if (i)
          this.NZ(K, c.E.P, {
              e: c.f.pN
          })
  }
  ;
  u._.prototype.Fh = function(E, K) {
      if (E.type == 0)
          u._.DE(K, E.t, E.we);
      else {
          if (E.type == 1) {
              var i = K.t[E.z];
              if (E.AJ) {
                  i.rA = E.rA
              } else {
                  i.rA.BC = E.we.g;
                  i.rA.Gf = E.we.UE
              }
              i.lA(K, 0, 0, K.N);
              K.s()
          }
          K.N = {
              rect: E.Id.rect.clone(),
              channel: E.Id.channel.slice(0)
          };
          K.UT = !0
      }
  }
  ;
  u._.prototype.eS = function(E, K) {
      if (E.type == 0)
          u._.DE(K, E.t, E.L_);
      else {
          if (E.type == 1) {
              var i = K.t[E.z];
              if (E.AJ) {
                  i.OD(K, E.ZP)
              } else {
                  i.rA.BC = E.L_.g;
                  i.rA.Gf = E.L_.UE;
                  i.lA(K, 0, 0, K.N)
              }
              K.s()
          }
          K.N = E.JY;
          K.UT = !0
      }
  }
  ;
  u._.prototype.JI = function(E, K, i) {
      E.LM();
      var C = [];
      if (i == null)
          for (var G = 0; G < E.du.length; G++)
              if (E.xq[E.du[G]].add.vmsk.b.length > 2)
                  C.push(-1 - E.du[G]);
      var N = []
        , k = E.a.zj;
      if (k[0] + k[1] + k[2] == 3)
          if (i != null || C.length == 0 || E.Rn != null && E.Rn.length != 0)
              N = E.Qw(K, i, null, !0);
      N = N.concat(C);
      for (var G = 0; G < E.QZ.length; G++)
          N.push(-1e3 - E.QZ[G]);
      this.t = N
  }
  ;
  u._.prototype.enable = function(E, K, i, C, N, k, V) {
      if (this.cursor == null)
          this.cursor = "default";
      this._$(K);
      if (this.kF)
          return;
      this.VV = i;
      this.JI(E, !0);
      this.Ar(E, k && k.zw != null && k.zw != -1 ? k.zw : null, V);
      this.oR(K);
      this.Zh(E);
      if (k && k.zw == -1)
          this.Kl({
              AR: "switchWarp"
          }, K, E, C)
  }
  ;
  u._.prototype.oR = function(E) {
      var K = {
          e: c.f.Mx,
          F: this.id
      };
      if (this.TS == 0) {
          var i = _.J.hv(this.kF.P2(), this.ae)
            , C = _.J.M1(i);
          K.Mo = {
              w3: C,
              IU: this.kF.a9v(),
              fu: this.kF.UL(),
              g: this.ae.clone()
          }
      } else {
          K.CJ = this.sh.OQ()
      }
      K.a5I = this.sh != null;
      this.NZ(E, c.E.P, K)
  }
  ;
  u._.prototype.Ar = function(E, K, i) {
      var C = this.id == u.Dg
        , N = !0
        , k = this.t[0]
        , V = E.t[k]
        , a = null;
      if (C) {
          this.Xf = 2;
          this.JY = E.N
      } else if (E.N && this.t.length == 1 && k >= 0 && !V.rect.OL()) {
          this.Xf = 1;
          this.JY = E.N;
          this.ZP = V.rA;
          this.AJ = !1;
          if (!V.za(E, E.N)) {
              this.AJ = !0;
              V.df(E, E.N, !1)
          }
          this.L_ = {
              UE: V.rA.Gf,
              g: V.rA.BC
          }
      } else {
          this.Xf = 0;
          this.Kp = u._.j9(E, this.t, null, i);
          for (var G = 0; G < this.Kp.length; G++)
              if (this.Kp[G][3] != null)
                  N = !1
      }
      var j = this.Xf == 1;
      if (this.Kp && this.Kp.length == 1) {
          var e = this.Kp[0];
          if (e[3] == null)
              j = !0;
          if (e[4] != null) {
              a = E.t[this.t[0]].add.SoLd;
              if (e[1] || e[2])
                  j = !1
          }
      }
      var L = C ? E.N.rect.clone() : u._.Qc(E, this.t, i);
      this.ae = L;
      if (!C && a) {
          var g = u._.ph(a.nonAffineTransform);
          this.ae = _.$.Rk(_.oC.T4(a.warp.v));
          if (j)
              this.sh = new bF(a.warp.v);
          this.R1 = _.J.hv(g, this.ae);
          this.kF = new go(g,!0,!0,N,!1,!1,K)
      } else {
          if (j || C)
              this.sh = new bF(_.oC.I(this.ae));
          this.R1 = [1, 0, 0, 0, 1, 0, 0, 0];
          if (this.id == u.iv)
              K = 3;
          this.kF = new go([L.x, L.y, L.x + L.d, L.y, L.x + L.d, L.y + L.v, L.x, L.y + L.v],!0,!0,N,!1,!1,K)
      }
      this.adz = [1, 0, 0, 0, 1, 0, 0, 0];
      if (this.id == u.iv) {
          var I = this.Kp[0][0]
            , h = I.Gv
            , o = h[1];
          this.ap = _.rr.a2A(h[0], o.d, o.v)
      }
  }
  ;
  u._.Qc = function(E, K, i) {
      if (K == null)
          K = E.Qw(!0, null, null, !0);
      var C = new h4;
      if (E.N && K.length == 1 && K[0] >= 0)
          C = E.N.rect.clone();
      else
          for (var G = 0; G < K.length; G++) {
              var N = K[G]
                , k = 0 <= N ? E.t[N] : -1e3 < N ? E.xq[-1 - N] : E.h_[-1e3 - N]
                , V = k.add ? k.add.vmsk : null
                , j = 0 <= N ? k.p2(E, K.length == 1, !1, i) : -1e3 < N ? _.Y.HD(V.b, K.length == 1 && V.C.length != 0 ? V.C : null) : k.rect.clone();
              C = C.ip(j)
          }
      return C
  }
  ;
  u._.prototype.NZ = function(E, K, i, C) {
      var N = new q(K,!0);
      N.data = i;
      if (C)
          N.F = C;
      E.U(N)
  }
  ;
  u._.j9 = function(E, K, i, C) {
      var N = [];
      for (var G = 0; G < K.length; G++) {
          var k = K[G], V, j;
          if (k >= 0) {
              V = E.t[k];
              j = V.uw(E, i, C)
          } else if (k > -1e3) {
              V = E.xq[-1 - k];
              j = [2]
          } else {
              N.push([null, null, null, null, null, null, null, E.h_[-1e3 - k].clone()]);
              continue
          }
          var a = [];
          if (j.indexOf(0) != -1) {
              var e = {
                  Gv: [V.buffer.slice(0), V.rect.clone()]
              };
              a.push(e);
              if (V.XQ()) {
                  var L = V.uy(E);
                  e.ann = L.buffer.slice(0);
                  e.a1L = L.rect.clone()
              }
          } else
              a.push(null);
          if (j.indexOf(1) != -1)
              a.push(V.$Y().clone());
          else
              a.push(null);
          if (j.indexOf(2) != -1)
              a.push({
                  w4: V.add.vmsk.clone(),
                  S6: V.add.vstk ? JSON.parse(JSON.stringify(V.add.vstk)) : null,
                  ja: V.add.vstk ? u.ut.lX(E, k) : null,
                  U7: V.add.vogk ? JSON.parse(JSON.stringify(V.add.vogk)) : null
              });
          else
              a.push(null);
          if (V.add.TySh && a[0]) {
              cO.fp(V.add.TySh);
              a.push(V.add.TySh.m.clone())
          } else
              a.push(null);
          if (V.add.SoLd && a[0])
              a.push(JSON.parse(JSON.stringify(V.add.SoLd)));
          else
              a.push(null);
          if (j.indexOf(3) != -1)
              a.push(V.uy(E).r.clone());
          else
              a.push(null);
          if (V.add.lmfx)
              a.push(JSON.stringify(V.add.lmfx));
          else
              a.push(null);
          N.push(a)
      }
      return N
  }
  ;
  u._.DE = function(E, K, i) {
      for (var G = 0; G < K.length; G++) {
          var C = K[G]
            , N = 0 <= C ? E.t[C] : -1e3 < C ? E.xq[-1 - C] : E.h_[-1e3 - C]
            , k = i[G];
          if (k[0]) {
              N.rect = k[0].Gv[1].clone();
              N.buffer = k[0].Gv[0].slice(0);
              if (N.XQ()) {
                  var V = N.uy(E);
                  V.buffer = k[0].ann.slice(0);
                  V.rect = k[0].a1L.clone()
              }
          }
          if (k[1]) {
              N.$Y().channel = k[1].channel.slice(0);
              N.$Y().rect = k[1].rect.clone();
              N.$Y().bZ = !0
          }
          if (k[2]) {
              N.add.vmsk = k[2].w4.clone();
              if (k[2].ja)
                  u.ut.kk(N, k[2].ja);
              if (k[2].S6)
                  N.add.vstk = JSON.parse(JSON.stringify(k[2].S6));
              if (k[2].U7)
                  N.add.vogk = JSON.parse(JSON.stringify(k[2].U7))
          }
          if (k[3]) {
              N.add.TySh.m = k[3].clone();
              cO.Rt(N.add.TySh)
          }
          if (k[4]) {
              N.add.SoLd = JSON.parse(JSON.stringify(k[4]))
          }
          if (k[5]) {
              var j = N.uy(E).r;
              j.channel = k[5].channel.slice(0);
              j.rect = k[5].rect.clone()
          }
          if (k[6]) {
              N.add.lmfx = JSON.parse(k[6])
          }
          if (k[7]) {
              N.channel = k[7].channel.slice(0);
              N.rect = k[7].rect.clone();
              N.bZ = !0
          }
          if (0 <= C) {
              N.Kf(E);
              N.s()
          }
      }
      E.s()
  }
  ;
  u._.x$ = function(E) {
      var K = E.clone()
        , i = Math.atan2(-K.O, K.R)
        , C = new fn;
      C.rotate(-i);
      K.concat(C);
      return (Math.abs(K.R) + Math.abs(K.bI)) / 2
  }
  ;
  u._.wD = function(E, K, i, C, N, k, V, j, a, e) {
      if (typeof k[0] == "number") {
          var L = [];
          for (var G = 0; G < i.length; G++)
              L[G] = k;
          k = L
      }
      for (var G = 0; G < i.length; G++) {
          var g = k[G]
            , I = _.J.M1(g)
            , h = u._.x$(I)
            , o = i[G]
            , H = 0 <= o ? E.t[o] : -1e3 < o ? E.xq[-1 - o] : E.h_[-1e3 - o]
            , A = C[G];
          if (A[0] && H.add.lmfx && j)
              h$.Wf(H.add.lmfx, h);
          if (A[0] && !A[3] && !A[4] && !A[5]) {
              var S = A[0].Gv;
              if (a) {
                  var v = a.clone()
                    , s = _.I(v.X() * 4);
                  _.p8(S[0], S[1], s, v);
                  S = [s, v]
              }
              var D = u._.rQ(S, N, g, V, N == 0 ? H.buffer.buffer : null, null, null, e);
              if (D) {
                  H.rect = D.rect;
                  H.buffer = D.buffer
              }
          }
          if (A[1])
              u._.DY(E, A[1], H.$Y(), N, g, V);
          if (A[2]) {
              var F = V && !_.oC._9(V)
                , y = A[2].w4.clone()
                , T = i.length == 1 && y.C.length != 0
                , Q = i.length == 1 && y.hs.length > 1;
              if (Q)
                  T = !1;
              var B = T ? y.C : null
                , r = Q ? y.hs : null;
              if (F) {
                  var J = _.oC.T4(V);
                  _.J.apply(g, J);
                  _.Y.agZ(y.b, J, B, r)
              } else
                  _.Y.adR(y.b, g, B, r);
              if (H.add.vstk && j) {
                  H.add.vstk.strokeStyleLineWidth.v.val = A[2].S6.strokeStyleLineWidth.v.val * h;
                  var m = A[2].ja;
                  if (m && m.K8 == 3) {
                      m = JSON.parse(JSON.stringify(m));
                      var x = m.ja.phase.v;
                      m.ja.Scl.v.val = Math.round(m.ja.Scl.v.val * h);
                      x.Hrzn.v = Math.round(x.Hrzn.v * h);
                      x.Vrtc.v = Math.round(x.Vrtc.v * h);
                      u.ut.kk(H, m)
                  }
              }
              if (H.add.vogk) {
                  H.add.vogk = JSON.parse(JSON.stringify(A[2].U7));
                  if (F || Q)
                      _.U7.alW(H.add.vogk);
                  else
                      _.U7.m(H.add.vogk, g, i.length > 1 ? [] : y.C, j)
              }
              y.zo *= h;
              H.add.vmsk = y;
              if (H.add.vogk)
                  _.U7._A(H.add.vogk, H.add.vmsk)
          }
          if (A[3]) {
              var R = A[3].clone();
              R.concat(I);
              H.add.TySh.m = R;
              cO.Rt(H.add.TySh);
              var b = new g_(H.add.TySh.Ou,K.g5)
                , z = dR.sX(b, H.add.TySh);
              H.rect = z.g;
              H.buffer = z.OR
          }
          if (A[4]) {
              var $ = H.add.SoLd
                , P = u._.ph(A[4].nonAffineTransform);
              _.J.apply(g, P);
              var t = _.$.PA(P);
              if (go.f8(P)) {
                  if (V) {
                      var X = _.$.Rk(_.oC.T4(A[4].warp.v))
                        , Z = _.J.hv(P, X)
                        , p = _.$.Rk(_.oC.T4(V));
                      P = [p.x, p.y, p.x + p.d, p.y, p.x + p.d, p.y + p.v, p.x, p.y + p.v];
                      _.J.apply(Z, P);
                      $.warp.v = V
                  }
                  var gl = _.J.hv(P)
                    , f = P;
                  if (!_.J.bW(gl)) {
                      gl[6] = gl[7] = 0;
                      f = [0, 0, 1, 0, 1, 1, 0, 1];
                      _.J.apply(gl, f)
                  }
                  $.Trnf = u._.j6(f);
                  $.nonAffineTransform = u._.j6(P);
                  H.z_(E, N == 0)
              }
          }
          if (A[5])
              u._.DY(E, A[5], H.uy(E).r, N, g, V);
          if (A[7])
              u._.DY(E, A[7], H, N, g, V);
          if (0 <= o) {
              if (N != 0)
                  H.NU();
              H.Kf(E);
              H.s()
          }
      }
      E.s()
  }
  ;
  u._.VT = function(E, K, i, C, N, k) {
      if (i == null)
          i = !1;
      return u._.rQ(E, i ? 0 : 1, _.J.Nl(K), null, C, N, k, i)
  }
  ;
  u._.rQ = function(E, K, i, C, N, k, V, j) {
      if (j == null)
          j = !1;
      if (j && V)
          throw "e";
      var a = {}
        , I = 0
        , h = .3;
      if (C && !_.oC._9(C)) {
          var e = _.oC.T4(C);
          _.J.apply(i, e);
          a.rect = _.$.PA(e);
          a.buffer = _.I(a.rect.X() * 4);
          _.cP.drawImage(e, E[0], E[1].d, E[1].v, a.buffer, a.rect, K == 0);
          return a
      }
      _.Mv(E);
      var L = E[0]
        , g = E[1]
        , o = g.X() * u._.x$(_.J.M1(i));
      if (j && o > 4e6)
          h = o > 8e6 ? 2.2 : 1.2;
      while (I + 3 < E.length && E[I + 3].X() > 16 && _.J.bW(i) && u._.x$(_.J.M1(i)) < h) {
          I += 2;
          var H = E[I]
            , A = E[I + 1]
            , S = g.d / A.d
            , v = g.v / A.v;
          i = _.J.M8(i, [1, 0, g.x, 0, 1, g.y, 0, 0]);
          i = _.J.M8(i, [S, 0, 0, 0, v, 0, 0, 0]);
          i = _.J.M8(i, [1, 0, -g.x, 0, 1, -g.y, 0, 0]);
          g = A;
          L = H
      }
      var s = _.J.M8(i, _.J.Nl(new fn(g.d,0,0,g.v,g.x,g.y)))
        , D = [0, 0, 1, 0, 1, 1, 0, 1];
      _.J.apply(s, D);
      a.rect = _.$.PA(D);
      if (V)
          a.rect = a.rect.lx(V);
      if (j) {
          while ((a.rect.d & 3) != 0)
              a.rect.d++;
          while ((a.rect.v & 3) != 0)
              a.rect.v++
      }
      if (!go.f8(D) || a.rect.d > 1e5 || a.rect.v > 1e5 || a.rect.X() > 3e4 * 3e4)
          return null;
      var F = a.rect.X() * 4;
      if (N && N.byteLength >= F && F >= N.byteLength >> 2) {
          a.buffer = new Uint8Array(N)
      } else {
          a.buffer = _.I(F)
      }
      _.J.drawImage(s, L, g.d, g.v, a.buffer, a.rect, K == 0, k, j);
      if (K == 2 && a.buffer) {
          var y = a.rect.d, T = a.rect.v, Q;
          Q = [0, -1, 0, -1, 16, -1, 0, -1, 0];
          Q = _.UZ.Wj(Q);
          var B = a.buffer.slice(0);
          _.UZ.Zl(B, a.buffer, y, T, Q, 255, !1, !0)
      }
      if (a.buffer)
          return a
  }
  ;
  u._.DY = function(E, K, i, C, N, k) {
      if (K.color == 255)
          _.KP(K.channel);
      var V = K.rect
        , j = _.I(V.X() * 4);
      _.lM(K.channel, j, 3);
      var a = u._.rQ([j, V], C, N, k);
      if (a) {
          i.rect = a.rect;
          i.channel = _.I(a.rect.X());
          _.wF(a.buffer, i.channel, 3);
          i.bZ = !0
      }
      if (K.color == 255) {
          _.KP(K.channel);
          if (a)
              _.KP(i.channel)
      }
  }
  ;
  u._.ph = function(E) {
      var K = []
        , i = E.v.length;
      for (var G = 0; G < i; G++)
          K.push(E.v[G].v);
      return K
  }
  ;
  u._.j6 = function(E) {
      var K = {
          t: "VlLs",
          v: []
      }
        , i = E.length;
      for (var G = 0; G < i; G++)
          K.v.push({
              t: "doub",
              v: E[G]
          });
      return K
  }
  ;
  u._.prototype.adq = function() {
      var E = _.$.Rk(_.oC.T4(this.sh.OQ()))
        , K = _.J.hv(this.kF.P2(), this.ae)
        , i = [E.x, E.y, E.x + E.d, E.y, E.x + E.d, E.y + E.v, E.x, E.y + E.v];
      _.J.apply(K, i);
      this.kF.Lb(i);
      this.ae = E
  }
  ;
  u._.prototype.W7 = function(E, K, i, C) {
      var N = _.J.hv(this.kF.P2(), this.ae);
      N = _.J.M8(N, _.J.KP(this.R1));
      var k = this.sh ? this.sh.OQ() : null;
      if (this.Xf == 0) {
          var V = this.xO = _.J.M1(N);
          if (this.id == u.iv) {
              var j = this.Kp[0][0]
                , a = j.Gv
                , e = a[1]
                , L = ~~(e.d * Math.max(0, V.R))
                , g = ~~(e.v * Math.max(0, V.bI))
                , I = new h4(Math.round(V.R * e.x + V.vK),Math.round(V.bI * e.y + V.Cz),L,g)
                , h = _.rr.m(this.ap, I)
                , o = E.t[this.t[0]];
              o.buffer = h;
              o.rect = I;
              o.s();
              E.s()
          } else
              u._.wD(E, K, this.t, this.Kp, i, N, k, null, null, C)
      } else if (this.Xf == 1) {
          var H = E.t[this.t[0]]
            , e = this.L_.g;
          if (H.dz <= 0) {
              var A = this.L_.UE
                , S = this.JY;
              if (k && !_.oC._9(k) && !S.rect.Ql(e)) {
                  var h = _.I(S.rect.X() * 4);
                  _.p8(A, e, h, S.rect);
                  A = h;
                  e = S.rect
              }
              var v = u._.rQ([A, e], i, N, k);
              if (v) {
                  H.rA.Gf = v.buffer;
                  H.rA.BC = v.rect;
                  var s = _.I(v.rect.X());
                  _.wF(H.rA.Gf, s, 3);
                  E.N = {
                      channel: s,
                      rect: H.rA.BC.clone()
                  }
              }
          } else {
              var D = _.I(e.X() * 4);
              _.lM(this.L_.UE, D, 3);
              var v = u._.rQ([D, e], i, N, k);
              if (v) {
                  H.rA.Gf = _.I(v.rect.X());
                  _.wF(v.buffer, H.rA.Gf, 3);
                  H.rA.BC = v.rect
              }
              this.Vu(E, i, N, k)
          }
          H.lA(E, 0, 0, E.N);
          if (i != 0) {
              H.NU();
              _.NU(E.N)
          }
          E.UT = !0;
          E.s()
      } else if (this.Xf == 2)
          this.Vu(E, i, N, k)
  }
  ;
  u._.prototype.Vu = function(E, K, i, C) {
      var N = this.JY.rect
        , k = _.I(N.X() * 4);
      _.lM(this.JY.channel, k, 3);
      var V = u._.rQ([k, N], K, i, C)
        , j = _.I(V.rect.X());
      _.wF(V.buffer, j, 3);
      E.N = {
          channel: j,
          rect: V.rect
      };
      E.UT = !0
  }
  ;
  u._.prototype.disable = function(E, K, i, C) {
      if (this.kF)
          this.MJ(E, K, null, !0)
  }
  ;
  u.OX = function() {
      u._.call(this, [10, 16], u.Ny, "tools/transform")
  }
  ;
  u.OX.prototype = new u._;
  u.LZ = function() {
      u._.call(this, [7, 10], u.Dg, "tools/transform")
  }
  ;
  u.LZ.prototype = new u._;
  u.a4 = function() {
      u._.call(this, [10, 48], u.iv, "tools/transform")
  }
  ;
  u.a4.prototype = new u._;
  u.uz = function(E, K, i) {
      u.UB.call(this, [10, 46], u.v$, "tools/transform");
      this.oP = [1, 1, 2, !0];
      this.bN = "rigidTransform";
      this.J7 = null;
      this.abk = null;
      this.YJ = null;
      this.dI = null;
      this.Zn = null;
      this.mX = null;
      this.H$ = []
  }
  ;
  u.uz.prototype = new u.UB;
  u.uz.prototype.cn = function() {
      return !0
  }
  ;
  u.uz.wC = function(E) {
      if (E == null)
          return !1;
      if (E.C.length != 1)
          return !1;
      var K = E.t[E.C[0]];
      return K.add.SoLd || E.Os(!1)
  }
  ;
  u.uz.prototype.Kg = function(E, K) {
      return u.uz.wC(E)
  }
  ;
  u.uz.prototype.enable = function(E, K, i, C, N, k, V) {
      this.abk = k.LN;
      var j = k.LN, a, H = null;
      if (j) {
          var e = E.t[j.z];
          if (e.add.SoLd.filterFX != null) {
              var L = e.add.SoLd.filterFX.v.filterFXList.v;
              if (L[j.index])
                  a = JSON.parse(JSON.stringify(L[j.index].v.Fltr.v))
          }
      }
      var g = a == null
        , e = E.t[E.C[0]]
        , I = e.buffer
        , h = e.rect
        , o = e.add.SoLd;
      if (o) {
          var A = o.nonAffineTransform.v;
          H = [];
          for (var G = 0; G < 4; G++)
              H.push(A[G * 2].v, A[G * 2 + 1].v);
          if (g)
              this.TM("edit", K);
          var S = e.uy(E);
          I = S.buffer;
          h = S.rect
      }
      this.J7 = {
          buffer: I.slice(0),
          rect: h.clone(),
          abj: H
      };
      if (g)
          a = u.uz.CT(this.J7, this.oP);
      this.YJ = a;
      this.dI = u.uz._z(this.YJ, this.oP);
      this.Lq();
      this.yc(E);
      if (g)
          this.Vp(K);
      var v = new q(c.E.P,!0);
      v.data = {
          e: c.f.Mx,
          F: this.id,
          KG: this.oP
      };
      K.U(v);
      v.data = {
          e: c.f.VP,
          UG: "default"
      };
      K.U(v)
  }
  ;
  u.uz.prototype.disable = function(E, K, i, C) {
      if (this.dI)
          this.MJ(E, K, !0)
  }
  ;
  u.uz.prototype.Lq = function(E) {
      var K = this.dI;
      this.H$ = [];
      for (var G = 0; G < K.length; G++) {
          var i = K[G];
          for (var C = 0; C < i.C.length; C++)
              this.H$.push([G, i.C[G]]);
          i.e2 = _.ER.V5(i);
          if (E)
              _.ER.W3(i)
      }
  }
  ;
  u.uz.prototype.Kl = function(E, K, i, C) {
      if (E.AR == "commit")
          this.MJ(i, K, !0);
      else if (E.AR == "cancel")
          this.zx(i, K, !0);
      else if (E.AR == "prm") {
          var N = !1;
          for (var G = 0; G < 3; G++)
              if (this.oP[G] != E.KG[G])
                  N = !0;
          this.oP = E.KG;
          if (N) {
              this.YJ = u.uz.CT(this.J7, this.oP, this.YJ);
              this.dI = u.uz._z(this.YJ, this.oP);
              this.Lq(!0);
              this.Vp(K)
          }
          this.yc(i)
      } else if (E.AR == "moveDepth") {
          var k = this.dI;
          for (var V = 0; V < k.length; V++) {
              var j = k[V];
              for (var G = 0; G < j.C.length; G++) {
                  var a = j.C[G];
                  j.De[a] += E.a4K ? 1 : -1
              }
          }
          this.Vp(K)
      }
  }
  ;
  u.uz.prototype.Ci = function(E, K) {
      return E == w.UO || E == w.LC
  }
  ;
  u.uz.prototype.Ok = function(E, K, i, C) {
      var N = C.TD();
      if (C.q(w.U6))
          this.MJ(E, K, !0);
      else if (C.q(w.SO))
          this.zx(E, K, !0);
      else if (C.q(w.UO) || C.q(w.LC)) {
          var k = this.dI;
          for (var V = 0; V < k.length; V++) {
              var j = k[V];
              j.C.sort(function(L, g) {
                  return g - L
              });
              for (var G = 0; G < j.C.length; G++) {
                  var a = j.C[G]
                    , e = a * 2;
                  j.De.splice(a, 1);
                  j.M7.splice(a, 1);
                  j.ns.splice(a, 1);
                  j.tT.splice(a, 1);
                  j.qZ.splice(e, 2);
                  j.XW.splice(e, 2)
              }
              j.C = [];
              if (j.tT.length == 0) {
                  j.AX = j.AF.slice(0);
                  j.hm = j.AF.slice(0)
              }
          }
          this.Lq(!0);
          this.Vp(K);
          this.yc(E)
      } else if (N.x != 0 || N.y != 0) {
          this.$Q(E, N.x, N.y, K);
          this.pV = null
      }
  }
  ;
  u.uz.prototype.MJ = function(E, K, i) {
      this.TM("confirm", K);
      this.escape(E, K, i)
  }
  ;
  u.uz.prototype.zx = function(E, K, i) {
      this.TM("cancel", K);
      this.escape(E, K, i)
  }
  ;
  u.uz.prototype.escape = function(E, K, i) {
      E.K.yK = null;
      E.K.OV = [];
      E.nK = !0;
      this.dI = null;
      var C = new q(c.E.P,!0);
      C.data = {
          e: c.f.pN
      };
      if (i)
          K.U(C)
  }
  ;
  u.uz.prototype.om = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y)
        , V = k.x
        , j = k.y
        , a = this.dI
        , e = null
        , L = [0, 2, 4, 1.2, 1.2, 1.2]
        , g = -1
        , I = c.M() * 5 / E.a.S;
      for (var G = 0; G < a.length; G++) {
          var h = a[G]
            , o = _.$.G6(h.XW, V, j, I);
          if (o != -1)
              e = [G, o];
          if (g == -1 && _.ER._Y.a3i(h.hm, h.Fm, V, j))
              g = G
      }
      if (e == null && g != -1) {
          var h = a[g];
          u.uz.zb(h, V, j, V, j, 0);
          e = [g, h.tT.length - 1];
          h.e2 = _.ER.V5(h)
      }
      this.Zn = k;
      if (e) {
          var H = a[e[0]].C.indexOf(e[1]) != -1;
          if (C.q(w.Gj) && !H) {
              a[e[0]].C.push(e[1]);
              this.H$.push(e)
          } else if (!H) {
              a[e[0]].C = [e[1]];
              this.H$ = [e]
          }
      }
      this.yc(E)
  }
  ;
  u.uz.zb = function(E, K, i, C, N, k) {
      var V = _.$.G6(E.hm, K, i);
      E.tT.push(V);
      E.XW.push(C, N);
      E.qZ.push(E.hm[V * 2] - K, E.hm[V * 2 + 1] - i);
      E.ns.push(0);
      E.M7.push(!1);
      E.De.push(k)
  }
  ;
  u.uz.prototype.n9 = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y)
        , V = this.Zn;
      if (V)
          this.$Q(E, k.x - V.x, k.y - V.y, K)
  }
  ;
  u.uz.prototype.$Q = function(E, K, i, C) {
      var N = {}
        , k = this.H$
        , V = this.dI;
      if (this.pV == null) {
          this.pV = [];
          for (var G = 0; G < V.length; G++)
              this.pV.push(V[G].XW.slice(0))
      }
      for (var G = 0; G < k.length; G++) {
          var j = this.H$[G]
            , a = j[0]
            , e = V[j[0]]
            , L = j[1] * 2;
          e.XW[L + 0] = this.pV[a][L + 0] + K;
          e.XW[L + 1] = this.pV[a][L + 1] + i;
          N[a] = a
      }
      for (var a in N)
          _.ER.W3(this.dI[N[a]]);
      this.yc(E);
      this.Vp(C)
  }
  ;
  u.uz.prototype.TM = function(E, K) {
      var i = new q(c.E.A,!0);
      i.F = u.sE;
      i.data = {
          e: E,
          LN: this.abk,
          bN: this.bN,
          Gb: this.YJ
      };
      K.U(i)
  }
  ;
  u.uz.prototype.Cs = function(E, K, i, C, N) {
      this.Zn = null;
      this.pV = null
  }
  ;
  u.uz.prototype.Vp = function(E) {
      u.uz.Y7(this.dI, this.oP, this.YJ);
      this.TM("edit", E)
  }
  ;
  u.uz.prototype.yc = function(E) {
      var K = this.dI
        , i = this.YJ;
      E.K.yK = {
          H: [],
          Z: []
      };
      E.K.OV = [];
      E.K.Tt = [];
      for (var G = 0; G < K.length; G++) {
          var C = K[G];
          for (var N = 0; N < C.C.length; N++)
              E.K.Tt.push((E.K.OV.length >>> 1) + C.C[N]);
          E.K.OV = E.K.OV.concat(C.XW);
          if (this.oP[3])
              _.$.concat(E.K.yK, _.$.aod(C.hm, C.Fm))
      }
      E.nK = !0
  }
  ;
  u.uz.CT = function(E, K, i) {
      var C = E.buffer
        , N = E.rect
        , k = E.abj
        , V = ef.Sk("rigidTransform");
      if (k)
          for (var G = 0; G < 4; G++) {
              V["PuX" + G].v = k[G * 2];
              V["PuY" + G].v = k[G * 2 + 1]
          }
      var j = V.puppetShapeList.v
        , a = _.ER.amN(C, N.d, N.v, K[1], K[2])
        , e = [];
      for (var L = 0; L < a.length; L++) {
          var g = {
              classID: "puppetShape",
              rigidType: {
                  t: "bool",
                  v: !0
              },
              VrsM: {
                  t: "long",
                  v: 1
              },
              VrsN: {
                  t: "long",
                  v: 0
              },
              originalVertexArray: {
                  t: "tdta",
                  v: []
              },
              deformedVertexArray: {
                  t: "tdta",
                  v: []
              },
              indexArray: {
                  t: "tdta",
                  v: []
              },
              pinOffsets: {
                  t: "VlLs",
                  v: []
              },
              posFinalPins: {
                  t: "VlLs",
                  v: []
              },
              pinVertexIndices: {
                  t: "VlLs",
                  v: []
              },
              PinP: {
                  t: "VlLs",
                  v: []
              },
              PnRt: {
                  t: "VlLs",
                  v: []
              },
              PnOv: {
                  t: "VlLs",
                  v: []
              },
              PnDp: {
                  t: "VlLs",
                  v: []
              },
              meshQuality: {
                  t: "long",
                  v: 2
              },
              meshExpansion: {
                  t: "long",
                  v: 2
              },
              meshRigidity: {
                  t: "long",
                  v: 2
              },
              imageResolution: {
                  t: "doub",
                  v: 72
              },
              selectedPin: {
                  t: "VlLs",
                  v: []
              }
          };
          g.meshBoundaryPath = {
              t: "Objc",
              v: {
                  classID: "pathClass",
                  pathComponents: {
                      t: "VlLs",
                      v: [{
                          t: "Objc",
                          v: {
                              classID: "PaCm",
                              shapeOperation: {
                                  t: "enum",
                                  v: {
                                      shapeOperation: "xor"
                                  }
                              },
                              SbpL: {
                                  t: "VlLs",
                                  v: [{
                                      t: "Objc",
                                      v: {
                                          classID: "Sbpl",
                                          Clsp: {
                                              t: "bool",
                                              v: !0
                                          },
                                          Pts: {
                                              t: "VlLs",
                                              v: []
                                          }
                                      }
                                  }]
                              }
                          }
                      }]
                  }
              }
          };
          var I = a[L];
          j.push({
              t: "Objc",
              v: g
          });
          var h = I.AF.slice(0);
          _.$.m(h, new fn(1,0,0,1,N.x,N.y), h);
          var o = I.Fm;
          for (var G = 0; G < o.length; G += 3) {
              var H = o[G + 1];
              o[G + 1] = o[G + 2];
              o[G + 2] = H
          }
          e.push({
              Fm: o,
              AF: h,
              AX: h,
              hm: h,
              tT: [],
              qZ: [],
              XW: [],
              e2: null,
              C: [],
              ns: [],
              M7: [],
              De: []
          })
      }
      if (i) {
          var A = u.uz._z(i, [])
            , S = e[0];
          for (var G = 0; G < A.length; G++) {
              var v = A[G];
              for (var s = 0; s < v.C.length; s++)
                  S.C.push((S.XW.length >>> 1) + v.C[s]);
              for (var s = 0; s < v.tT.length; s++) {
                  var D = v.tT[s] * 2
                    , F = v.AF[D] - v.qZ[s * 2]
                    , y = v.AF[D + 1] - v.qZ[s * 2 + 1];
                  u.uz.zb(S, F, y, v.XW[s * 2], v.XW[s * 2 + 1], v.De[s])
              }
          }
      }
      u.uz.Y7(e, K, V);
      return V
  }
  ;
  u.uz._z = function(E, K) {
      function i(y) {
          var T = [];
          for (var G = 0; G < y.length; G++)
              T.push(y[G].v);
          return T
      }
      var C = E.puppetShapeList.v
        , N = [];
      for (var k = 0; k < C.length; k++) {
          var V = C[k].v;
          K[0] = V.meshRigidity.v - 1;
          K[1] = V.meshQuality.v - 1;
          K[2] = V.meshExpansion.v;
          var j = V.pinVertexIndices.v.length
            , a = V.meshBoundaryPath.v.pathComponents.v[0].v.SbpL.v[0].v.Pts;
          a.v = [];
          var e = new Uint32Array(new Uint8Array(V.indexArray.v).buffer)
            , L = new Float32Array(new Uint8Array(V.originalVertexArray.v).buffer)
            , g = new Float32Array(new Uint8Array(V.deformedVertexArray.v).buffer)
            , I = []
            , h = []
            , o = [];
          for (var G = 0; G < e.length; G++)
              I.push(e[G]);
          for (var G = 0; G < L.length; G++) {
              h.push(L[G]);
              o.push(g[G])
          }
          var H = i(V.pinVertexIndices.v)
            , A = i(V.pinOffsets.v)
            , S = i(V.posFinalPins.v)
            , v = i(V.PnRt.v)
            , s = i(V.PnOv.v)
            , D = i(V.PnDp.v)
            , F = i(V.selectedPin.v);
          N.push({
              Fm: I,
              AF: h,
              AX: o.slice(0),
              hm: o,
              tT: H,
              qZ: A,
              XW: S,
              e2: null,
              ns: v,
              M7: s,
              De: D,
              C: F
          })
      }
      return N
  }
  ;
  u.uz.Y7 = function(E, K, i) {
      function C(I, h) {
          var o = [];
          for (var G = 0; G < I.length; G++)
              o.push({
                  t: h,
                  v: I[G]
              });
          return o
      }
      function N(I, h, o) {
          var H = new (o ? Uint32Array : Float32Array)(I)
            , A = new Uint8Array(H.buffer);
          for (var G = 0; G < A.length; G++)
              h[G] = A[G]
      }
      var k = i.puppetShapeList.v;
      for (var V = 0; V < k.length; V++) {
          var j = E[V]
            , a = k[V].v;
          a.meshRigidity.v = K[0] + 1;
          a.meshQuality.v = K[1] + 1;
          a.meshExpansion.v = K[2];
          N(j.Fm, a.indexArray.v, !0);
          N(j.AF, a.originalVertexArray.v);
          N(j.hm, a.deformedVertexArray.v);
          var e = [];
          for (var G = 0; G < j.tT.length; G++) {
              var L = j.tT[G] * 2
                , g = G * 2;
              e[g] = j.AF[L] - j.qZ[g];
              e[g + 1] = j.AF[L + 1] - j.qZ[g + 1]
          }
          a.PinP.v = C(e, "doub");
          a.pinVertexIndices.v = C(j.tT, "long");
          a.pinOffsets.v = C(j.qZ, "doub");
          a.posFinalPins.v = C(j.XW, "doub");
          a.PnRt.v = C(j.ns, "long");
          a.PnOv.v = C(j.M7, "bool");
          a.PnDp.v = C(j.De, "doub");
          a.selectedPin.v = C(j.C, "long")
      }
  }
  ;
  u.gX = function(E, K, i) {
      u.UB.call(this, E ? E : [10, 40], K ? K : u.Qv, i ? i : "tools/slice");
      this.eu = null;
      this.sU = null;
      this.kR = null;
      this.aov = null;
      this.GC = null;
      this.n8 = null
  }
  ;
  u.gX.prototype = new u.UB;
  u.gX.Wt = function(E, K) {
      var i = -1;
      for (var G = 0; G < E.length; G++) {
          var C = u.gX.hH(E, G);
          if (C[0] <= K.x && K.x <= C[2] && C[1] <= K.y && K.y <= C[3]) {
              i = G;
              break
          }
      }
      return i
  }
  ;
  u.gX.prototype.d2 = function(E, K, i, C, N) {
      this.Ze(i);
      i.jX[i.I9[0]].v = E;
      i.nK = !0;
      this.Gm(i)
  }
  ;
  u.gX.prototype.enable = function(E, K, i, C, N, k) {
      u.UB.prototype.enable.call(this, E, K, i, C, N, k);
      if (!i.bA.jX) {
          var V = new q(c.E.P,!0);
          V.data = {
              e: c.f.H7,
              KG: dp.KO
          };
          K.U(V)
      }
  }
  ;
  u.gX.prototype.disable = function() {
      this.eu = null;
      this.sU = null
  }
  ;
  u.gX.prototype.R2 = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y)
        , V = u.gX.Wt(E.jX, k);
      if (V == -1)
          return;
      this.eu = E;
      this.sU = K;
      E.I9 = [V];
      E.nK = !0;
      if (this.n8 == null) {
          this.n8 = new bi([{
              name: [5, 4]
          }, {
              name: [8, 11, 1],
              mv: !0
          }]);
          this.n8.k("select", this.ic, this)
      }
      var j = this.n8;
      j.parent = K;
      j.B();
      j.update(E, i);
      var a = new q(c.E.P,!0);
      a.data = {
          e: c.f.um,
          CP: j,
          x: N.ES + 2,
          y: N.xg + 1
      };
      K.U(a)
  }
  ;
  u.gX.prototype.ic = function(E) {
      var K = this.n8.s9()[0]
        , i = this.eu;
      if (K == 0) {
          this.Ze(i);
          i.jX.splice(i.I9[0], 1);
          i.I9 = [];
          i.nK = !0;
          this.Gm(i)
      }
      if (K == 1) {
          var C = new q(c.E.P,!0);
          C.data = {
              e: c.f.eQ,
              KN: "soptions",
              G: i.jX[i.I9[0]].v
          };
          this.sU.U(C)
      }
  }
  ;
  u.gX.prototype.om = function(E, K, i, C, N) {
      if (E == null)
          return;
      this.Ze(E);
      var k = E.a.Eb(N.x, N.y);
      k = u.x_.NQ(E, k, i, [!0, null, !1]);
      k.x = Math.round(k.x);
      k.y = Math.round(k.y);
      this.GC = k;
      E.jX.unshift(u.gX.zY());
      E.I9 = [0];
      u.gX.y1(E.jX, 0, [k.x, k.y, k.x + 20, k.y + 20]);
      E.nK = !0
  }
  ;
  u.gX.prototype.n9 = function(E, K, i, C, N) {
      if (this.kR == null)
          return;
      var k = E.a.Eb(N.x, N.y)
        , V = this.GC;
      k = u.x_.NQ(E, k, i, [!0, null, !1]);
      k.x = Math.round(k.x);
      k.y = Math.round(k.y);
      var j = [V.x, V.y, k.x, k.y];
      u.gX.XI(j);
      u.gX.y1(E.jX, 0, j);
      E.nK = !0
  }
  ;
  u.gX.prototype.Cs = function(E, K, i, C, N) {
      this.Gm(E);
      this.GC = null
  }
  ;
  u.gX.prototype.Ze = function(E) {
      this.kR = JSON.stringify(E.jX);
      this.aov = JSON.stringify(E.I9)
  }
  ;
  u.gX.prototype.Gm = function(E) {
      var K = JSON.stringify(E.jX);
      if (K != this.kR) {
          var i = new fy(this.name,this);
          i.data = {
              L_: this.kR,
              we: K,
              ajq: this.aov,
              ae_: JSON.stringify(E.I9)
          };
          E.b8(i)
      }
      this.kR = null
  }
  ;
  u.gX.prototype.eS = function(E, K) {
      K.jX = JSON.parse(E.L_);
      K.I9 = JSON.parse(E.ajq);
      K.nK = !0
  }
  ;
  u.gX.prototype.Fh = function(E, K) {
      K.jX = JSON.parse(E.we);
      K.I9 = JSON.parse(E.ae_);
      K.nK = !0
  }
  ;
  u.gX.prototype.Ci = function(E, K) {
      return K != null && K.I9.length != 0 && (E == w.UO || E == w.LC)
  }
  ;
  u.gX.prototype.Ok = function(E, K, i, C) {
      if (E == null)
          return;
      this.Ze(E);
      var N = C.TD();
      if (N.x != 0 || N.y != 0)
          u.gX.vR(E, N);
      if (C.q(w.UO) || C.q(w.LC)) {
          var k = E.jX.slice(0);
          for (var G = 0; G < E.I9.length; G++)
              E.jX.splice(E.jX.indexOf(k[E.I9[G]]), 1);
          E.I9 = []
      }
      this.Gm(E)
  }
  ;
  u.gX.prototype.Kl = function(E, K, i, C, N) {
      if (i == null || i.I9.length == 0)
          return;
      this.Ze(i);
      var k = i.jX
        , V = i.I9;
      V.sort(function(h, o) {
          return h - o
      });
      console.log(V);
      var j = k.slice(0)
        , a = []
        , e = [];
      for (var G = 0; G < V.length; G++) {
          var L = V[G]
            , g = k[L];
          e.push(g);
          j.splice(j.indexOf(g), 1)
      }
      var I = Math.max(0, Math.min(j.length, V[0] - E.dir));
      for (var G = 0; G < e.length; G++) {
          j.splice(I + G, 0, e[G]);
          a.push(I + G)
      }
      i.jX = j;
      i.I9 = a;
      this.Gm(i)
  }
  ;
  u.gX.ajf = function(E, K, i, C) {
      var N = new bT(-K.x,-K.y)
        , k = K.d / i.d
        , V = K.v / i.v
        , j = [0, 0, K.d, K.v];
      for (var G = 0; G < E.length; G++) {
          var a = u.gX.hH(E, G);
          if (C) {
              a[0] = Math.round(a[0] * k);
              a[1] = Math.round(a[1] * V);
              a[2] = Math.round(a[2] * k);
              a[3] = Math.round(a[3] * V)
          } else {
              u.gX.i5(a, N);
              u.gX.a5$(a, j)
          }
          if (a[0] >= a[2] || a[1] >= a[3]) {
              E.splice(G, 1);
              G--;
              continue
          }
          u.gX.y1(E, G, a)
      }
  }
  ;
  u.gX.vR = function(E, K) {
      var i = E.jX;
      for (var G = 0; G < E.I9.length; G++) {
          var C = u.gX.hH(i, E.I9[G]);
          u.gX.i5(C, K);
          u.gX.y1(i, E.I9[G], C)
      }
  }
  ;
  u.gX.a5$ = function(E, K) {
      if (E[0] < K[0])
          E[0] = K[0];
      if (E[1] < K[1])
          E[1] = K[1];
      if (K[2] < E[2])
          E[2] = K[2];
      if (K[3] < E[3])
          E[3] = K[3]
  }
  ;
  u.gX.i5 = function(E, K) {
      E[0] = Math.round(E[0] + K.x);
      E[2] = Math.round(E[2] + K.x);
      E[1] = Math.round(E[1] + K.y);
      E[3] = Math.round(E[3] + K.y)
  }
  ;
  u.gX.y1 = function(E, G, K) {
      var i = E[G].v.bounds.v;
      i.Left.v = K[0];
      i.Top.v = K[1];
      i.Rght.v = K[2];
      i.Btom.v = K[3]
  }
  ;
  u.gX.hH = function(E, G) {
      var K = E[G].v.bounds.v;
      return [K.Left.v, K.Top.v, K.Rght.v, K.Btom.v, G]
  }
  ;
  u.gX.XI = function(E) {
      if (E[2] < E[0]) {
          var K = E[0];
          E[0] = E[2];
          E[2] = K
      }
      if (E[2] == E[0])
          E[2]++;
      if (E[3] < E[1]) {
          var K = E[1];
          E[1] = E[3];
          E[3] = K
      }
      if (E[3] == E[1])
          E[3]++
  }
  ;
  u.gX.Rk = function(E, K) {
      var i = 1e9
        , C = -1e9
        , N = 1e9
        , k = -1e9;
      for (var G = 0; G < K.length; G++) {
          var V = u.gX.hH(E, K[G]);
          i = Math.min(i, V[0]);
          N = Math.min(N, V[1]);
          C = Math.max(C, V[2]);
          k = Math.max(k, V[3])
      }
      return [i, N, C, k]
  }
  ;
  u.gX.zY = function() {
      return {
          t: "Objc",
          v: {
              classID: "slice",
              sliceID: {
                  t: "long",
                  v: 0
              },
              groupID: {
                  t: "long",
                  v: 0
              },
              origin: {
                  t: "enum",
                  v: {
                      ESliceOrigin: "userGenerated"
                  }
              },
              Type: {
                  t: "enum",
                  v: {
                      ESliceType: "Img"
                  }
              },
              bounds: {
                  t: "Objc",
                  v: {
                      classID: "Rct1",
                      Top: {
                          t: "long",
                          v: 0
                      },
                      Left: {
                          t: "long",
                          v: 0
                      },
                      Btom: {
                          t: "long",
                          v: 0
                      },
                      Rght: {
                          t: "long",
                          v: 0
                      }
                  }
              },
              url: {
                  t: "TEXT",
                  v: ""
              },
              null: {
                  t: "TEXT",
                  v: ""
              },
              Msge: {
                  t: "TEXT",
                  v: ""
              },
              altTag: {
                  t: "TEXT",
                  v: ""
              },
              cellTextIsHTML: {
                  t: "bool",
                  v: !0
              },
              cellText: {
                  t: "TEXT",
                  v: ""
              },
              horzAlign: {
                  t: "enum",
                  v: {
                      ESliceHorzAlign: "default"
                  }
              },
              vertAlign: {
                  t: "enum",
                  v: {
                      ESliceVertAlign: "default"
                  }
              },
              bgColorType: {
                  t: "enum",
                  v: {
                      ESliceBGColorType: "None"
                  }
              },
              topOutset: {
                  t: "long",
                  v: 0
              },
              leftOutset: {
                  t: "long",
                  v: 0
              },
              bottomOutset: {
                  t: "long",
                  v: 0
              },
              rightOutset: {
                  t: "long",
                  v: 0
              }
          }
      }
  }
  ;
  u.yr = function() {
      u.gX.call(this, [10, 41], u.RU, "tools/sselect");
      this.GC = null;
      this.sB = null;
      this.Sq = null;
      this.mX = null;
      this.hq = !1
  }
  ;
  u.yr.prototype = new u.gX;
  u.yr.prototype.om = function(E, K, i, C, N) {
      if (E == null)
          return;
      var k = E.a.Eb(N.x, N.y)
        , V = u.yr.Kk(k, 4 / E.a.S, E.jX, E.I9);
      V.pop();
      if (V.length != 0) {
          this.GC = k;
          this.Sq = V;
          this.Ze(E);
          return
      }
      var j = E.jX
        , a = u.gX.Wt(j, k);
      if (a == -1)
          E.I9 = [];
      else {
          var e = E.I9.indexOf(a);
          if (C.q(w.Gj)) {
              if (e == -1)
                  E.I9.push(a);
              else
                  E.I9.splice(e, 1)
          } else {
              E.I9.sort(function(H, A) {
                  return H - A
              });
              if (e == -1)
                  E.I9 = [a];
              this.GC = k;
              this.Ze(E);
              this.sB = u.gX.Rk(j, E.I9);
              this.mX = [];
              for (var G = 0; G < E.I9.length; G++)
                  this.mX.push(u.gX.hH(j, E.I9[G]));
              if (C.q(w.zA)) {
                  var L = j.slice(0)
                    , g = E.I9
                    , I = [];
                  for (var G = 0; G < g.length; G++) {
                      var a = g[G]
                        , h = L[a]
                        , o = j.indexOf(h);
                      I.push(o);
                      j.splice(o, 0, JSON.parse(JSON.stringify(h)))
                  }
                  E.I9 = I
              }
          }
      }
      E.nK = !0
  }
  ;
  u.yr.prototype.n9 = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y);
      if (this.GC == null) {
          var V = u.yr.Kk(k, 4 / E.a.S, E.jX, E.I9)
            , j = V.pop()
            , a = V.length == 0 ? "default" : ["ew", "nwse", "ns", "nesw"][j] + "-resize"
            , e = new q(c.E.P,!0);
          e.data = {
              e: c.f.VP,
              UG: a
          };
          K.U(e);
          return
      }
      if (!this.hq && k.Ql(this.GC))
          return;
      this.hq = !0;
      var L = E.jX
        , V = this.Sq;
      if (V) {
          k = u.x_.NQ(E, k, i, [!0, null, !1]);
          var g = Math.round(k.x)
            , I = Math.round(k.y);
          for (var G = 0; G < V.length; G += 2) {
              var h = u.gX.hH(L, V[G])
                , o = V[G + 1];
              h[o] = (o & 1) == 0 ? g : I;
              u.gX.XI(h);
              u.gX.y1(L, V[G], h)
          }
      } else {
          var H = k.g7(this.GC)
            , A = this.sB.slice(0);
          u.gX.i5(A, H);
          var S = new h4(A[0],A[1],A[2] - A[0],A[3] - A[1])
            , v = u.x_.Gw(E, S, i, [!0, null, !1], !0);
          u.x_.HH(E, S, v);
          H.x += v[0];
          H.y += v[1];
          for (var G = 0; G < E.I9.length; G++)
              u.gX.y1(L, E.I9[G], this.mX[G]);
          u.gX.vR(E, H)
      }
      E.nK = !0
  }
  ;
  u.yr.prototype.Cs = function(E, K, i, C, N) {
      if (this.GC == null)
          return;
      this.Gm(E);
      E.K.qK = null;
      E.nK = !0;
      this.GC = null;
      this.Sq = null;
      this.mX = null;
      this.hq = !1
  }
  ;
  u.yr.Kk = function(E, K, i, C) {
      var N = E.x
        , k = E.y
        , V = []
        , j = -1
        , a = [];
      for (var G = 0; G < C.length; G++) {
          var e = C[G]
            , L = u.gX.hH(i, e)
            , g = L[0]
            , I = L[1]
            , h = L[2]
            , o = L[3];
          if (N < g - K || h + K < N || k < I - K || o + K < k)
              continue;
          var H = [N < g + K, k < I + K, h - K < N, o - K < k]
            , A = -1;
          for (var S = 0; S < 4; S++) {
              if (H[S] && H[S + 1 & 3])
                  A = 1 + 2 * (S & 1);
              if (H[S])
                  V.push(e, S)
          }
          if (A == -1) {
              if (H[0] || H[2])
                  A = 0;
              if (H[1] || H[3])
                  A = 2
          }
          if (A != -1) {
              j = A;
              a.push(e)
          }
      }
      var v = V.length;
      for (var G = 0; G < v; G += 2) {
          var e = V[G]
            , s = V[G + 1]
            , D = u.gX.hH(i, e)[s];
          for (var S = 0; S < C.length; S++) {
              var F = C[S];
              if (a.indexOf(F) != -1)
                  continue;
              var L = u.gX.hH(i, F);
              if (L[s & 1] == D)
                  V.push(F, s & 1);
              if (L[2 + (s & 1)] == D)
                  V.push(F, 2 + (s & 1))
          }
      }
      V.push(j);
      return V
  }
  ;
  u._D = function() {
      u.u$.call(this, [10, 44], u.ak$, "tools/oselect");
      this.pQ = "crosshair";
      this.aeS = 0
  }
  ;
  u._D.prototype = new u.u$;
  u._D.prototype.bC = function(E, K, i, C) {
      if (Math.random() < 1 / (1 + this.aeS)) {
          alert("The cross should be fully inside the object.", 3500);
          this.aeS++
      }
  }
  ;
  u._D.prototype.BT = function(E, K, i, C) {
      u.Wp.Vz(E, u.u$.wy, this.sU);
      if (!C.Oy || !this.g_)
          return;
      var N = this.Qc(E, i, !1)
        , k = N.d
        , V = N.v
        , j = N.x
        , a = N.y
        , e = N.x + k
        , L = N.y + V
        , g = j + k / 2
        , I = a + V / 2
        , h = u._D.rc;
      E.K.yK = {
          H: [j, a, e, a, e, L, j, L, g - k * h, I, g + k * h, I, g, I - V * h, g, I + V * h],
          Z: "M L L L Z M L M L".split(" ")
      };
      E.nK = !0
  }
  ;
  u._D.rc = .12;
  u._D.prototype.nW = function(E, K, i, C) {
      E.K.yK = null;
      E.nK = !0;
      this.finish(E, K, i, C)
  }
  ;
  u._D.prototype.getSelection = function(E, K, i, C) {
      if (this.r4.Ql(this.WK) || !this.g_)
          return null;
      var N = this.Qc(E, i, !1)
        , k = E.t[E.C[0]];
      if (N.OL() || !N.ET(k.rect))
          return null;
      return u.u$.nj("ObSl", N)
  }
  ;
  u.Wp = function() {
      u.Bu.call(this, [10, 37], u.pk, "tools/qselect");
      this.V2 = "qselect"
  }
  ;
  u.Wp.prototype = new u.Bu;
  u.Wp.prototype.om = function(E, K, i, C, N) {
      this.Bi(E, i, C, N, 1);
      if (this.Xq == null)
          return;
      this.jJ(E)
  }
  ;
  u.Wp.prototype.n9 = function(E, K, i, C, N) {
      this.MB(E, K, i);
      u.Wp.Vz(E, u.u$.wy, K);
      if (this.mo)
          this.Ll(E, i, N);
      if (this.Xq == null)
          return;
      if (!N.Oy)
          return;
      var k = this.wX(E, i, C, N);
      if (k != 1)
          this.jJ(E)
  }
  ;
  u.Wp.Vz = function(E, K, i) {
      if (E && K.key != u.Wp.rv(E)) {
          K.key = u.Wp.rv(E);
          var C = E.t[E.C[0]].rect.X()
            , k = "Image Analysis ...";
          if (C == 0)
              return;
          var N = C > 1e6
            , V = new q(c.E.P,!0);
          V.data = {
              e: c.f.bS,
              rF: k
          };
          if (N)
              i.U(V);
          setTimeout(function() {
              var j = u.Wp.rd(E);
              for (var a in j)
                  K[a] = j[a];
              var V = new q(c.E.P,!0);
              V.data = {
                  e: c.f.zG,
                  rF: k
              };
              if (N)
                  i.U(V)
          }, 30)
      }
  }
  ;
  u.Wp.rv = function(E) {
      var K = E.C[0]
        , i = E.t[K]
        , C = i.rect
        , N = C.d
        , k = C.v
        , V = N * k
        , j = i.buffer;
      return [K, C.x, C.y, N, k, j[0], j[1], j[2], j[3]].join(",")
  }
  ;
  u.Wp.rd = function(E) {
      var K = E.C[0]
        , i = E.t[K]
        , C = i.rect
        , N = C.d
        , k = C.v
        , V = N * k
        , j = i.buffer
        , a = Date.now()
        , e = _.I(V);
      e.fill(128);
      var L = _.Ky.ZY(j, N, k);
      console.log(Date.now() - a);
      var g = {
          key: u.Wp.rv(E),
          Zt: j,
          rect: C.clone(),
          jx: N,
          w1: k,
          Su: 12,
          aaB: !1,
          Z6: e,
          b3: L,
          N: _.I(V),
          o_: null,
          Z1: null,
          rw: null
      };
      u.Wp.XN(g);
      return g
  }
  ;
  u.Wp.XN = function(E, K) {
      var i = E.jx
        , C = E.w1
        , N = 0
        , k = 0
        , V = Date.now()
        , j = E.o_ != null && _.Ky.acb(E.b3.Fm, E.o_.Fm, E.o_.pu, E.Z6);
      N = Date.now() - V;
      V = Date.now();
      if (!j && !E.aaB) {
          E.o_ = _.Ky.l3(E.b3, i, C, E.Z6, E.Su);
          if (!_.Ky.acb(E.b3.Fm, E.o_.Fm, E.o_.pu, E.Z6)) {
              E.aaB = !0;
              console.log("conflict")
          }
          E.Z1 = _.Ky.adS(E.Zt, i, C, E.o_.Fm, E.o_.pu);
          E.rw = [E.Z1[0].slice(0), []];
          k = Date.now() - V;
          V = Date.now()
      }
      var V = Date.now();
      if (K) {
          E.rw[0].set(E.Z1[0]);
          var a = E.Z1[1]
            , e = E.rw[1];
          for (var L = 0; L < a.length; L++)
              e[L] = a[L].slice(0);
          _.Ky.ah$(E.o_.Fm, i, C, E.o_.pu, E.Z6, E.N, E.rw)
      }
  }
  ;
  function go(E, K, i, C, N, k, V, j) {
      this.eC = null;
      this.pK = E ? E.slice(0) : null;
      this.us = 4;
      this.WK = null;
      this.Ya = null;
      this.zh = null;
      this.p_ = -1;
      this.av = null;
      this.a5y = !1;
      this.abM = [];
      for (var G = 0; G < 8; G++)
          this.abM.push(fb.am0(0, PIMG.rotate, -.5, -.5, -45 - G * 45));
      this.al$ = K;
      this.aaz = i;
      this.a4M = C;
      this.alP = N;
      this.aiz = k;
      this.zw = V;
      this.a6M = j
  }
  go.prototype.xr = function() {
      return this.p_ != -1
  }
  ;
  go.prototype.P2 = function() {
      return this.pK.slice(0)
  }
  ;
  go.prototype.Lb = function(E) {
      this.pK = E
  }
  ;
  go.prototype.aaK = function() {
      return this.nZ(this.pK)
  }
  ;
  go.prototype.a9v = function() {
      return this.us
  }
  ;
  go.prototype.acn = function(E) {
      this.us = E
  }
  ;
  go.prototype.UL = function(E) {
      if (E == null)
          E = this.pK;
      if (this.us == 9)
          return this.WK;
      else
          return this.nZ(E)[this.us]
  }
  ;
  go.prototype.a8y = function(E) {
      if (this.us == 9)
          this.WK = E.clone();
      else {
          var K = this.UL()
            , i = new fn(1,0,0,1,E.x - K.x,E.y - K.y);
          _.$.m(this.pK, i, this.pK)
      }
  }
  ;
  go.prototype.uP = function(E, K, i) {
      var C = this.kH(E, K), N;
      if (C == 9)
          return "default";
      if (C == 10) {
          if (i)
              return null;
          return !this.al$ ? "move" : null
      }
      if (C == -1 || C == 4)
          return null;
      if (C == 11) {
          var k = this.UL().g7(E);
          N = 90 - Math.atan2(k.y, k.x) * 180 / Math.PI;
          var V = Math.round(8 * (N / 360));
          V = (V + 8) % 8;
          return this.abM[V]
      } else {
          var j = this.Rd(E, this.pK);
          N = [135, 90, 45, 180, 0, 0, 225, 270, 315][C];
          var a = _.J.hv(this.pK);
          N += Math.atan2(-a[3], a[0]) * 180 / Math.PI;
          var e = "ew nesw ns nwse ew nesw ns nwse".split(" ")
            , V = Math.round(8 * (N / 360));
          V = (V + 8) % 8;
          return e[V] + "-resize"
      }
  }
  ;
  go.prototype.Rd = function(E, K) {
      var i = _.J.KP(_.J.hv(K))
        , C = new Float64Array(2);
      _.J.xw(E.x, E.y, i, C);
      return new bT(C[0],C[1])
  }
  ;
  go.prototype.gD = function(E) {
      var K = this.Rd(E, this.pK);
      return 0 <= K.x && K.x <= 1 && 0 <= K.y && K.y <= 1
  }
  ;
  go.prototype.om = function(E, K, i, C, N, k) {
      this.a5y = k;
      this.av = C;
      var V = E.a.S, j;
      if (this.pK == null)
          C = u.x_.NQ(E, C, K);
      this.zh = C.clone();
      if (this.pK == null) {
          this.zh.offset(1, 1);
          var a = N == null ? 1 : 1 / N;
          this.pK = [C.x, C.y, C.x + 1, C.y, C.x + 1, C.y + a, C.x, C.y + a];
          j = 8
      } else {
          j = this.kH(C, V);
          if (0 <= j && j <= 8)
              this.zh = this.nZ(this.pK)[j]
      }
      this.eC = this.pK.slice(0);
      this.p_ = j;
      this.iF(E, K);
      this.Ya = this.UL();
      return j != -1
  }
  ;
  go.prototype.kH = function(E, K) {
      var i = -1
        , C = this.nZ()
        , N = 6 * c.M() / K;
      if (i == -1)
          if (bT.zL(this.UL(), E) < N)
              i = 9;
      if (i == -1)
          for (var G = 0; G < C.length; G++)
              if (G != 4 && bT.zL(C[G], E) < N)
                  i = G;
      if (i == -1 || this.zw == 4) {
          if (this.gD(E)) {
              if (this.al$)
                  i = 10
          } else {
              var k = this.Rd(E, this.pK)
                , V = new h4(0,0,1,1);
              V.Lv(.2, .2);
              i = V.c9(k) && this.zw != 3 ? 11 : 10
          }
      }
      return i
  }
  ;
  go.prototype.n9 = function(E, K, i, C) {
      if (this.p_ == -1)
          return;
      this.av = C;
      var N = i.q(w.Gj), k = i.q(w.zA), V = i.q(w.qN), j = E.a.S, a = this.zh, e = this.p_, L = this.nZ(), g = u.x_.NQ(E, a, K), I = u.x_.NQ(E, C, K), h, o;
      if (e == 9) {
          var L = this.nZ()
            , H = -1;
          for (var G = 0; G < L.length; G++)
              if (bT.zL(L[G], I) * j < 10)
                  H = G;
          this.us = H == -1 ? 9 : H;
          this.WK = N ? u.nS.MQ(g, I) : I.clone()
      } else if (e == 10) {
          o = _.$.Rk(this.eC);
          var A = o.x
            , S = o.y;
          o.offset(C.x - a.x, C.y - a.y);
          if (this.gK()) {
              o.x = Math.round(o.x);
              o.y = Math.round(o.y)
          }
          h = u.x_.Gw(E, o, K);
          var v = new fn(1,0,0,1,o.x - A + h[0],o.y - S + h[1]);
          _.$.m(this.eC, v, this.pK)
      } else if (e == 11) {
          var s = this.UL(this.eC)
            , D = s.g7(C)
            , F = s.g7(a)
            , y = Math.atan2(D.y, D.x)
            , T = Math.atan2(F.y, F.x)
            , v = new fn(1,0,0,1,-s.x,-s.y)
            , Q = Math.PI / 12;
          if (N)
              v.rotate(Math.round((T - y) / Q) * Q);
          else
              v.rotate(T - y);
          v.translate(s.x, s.y);
          _.$.m(this.eC, v, this.pK)
      } else {
          var B, r = this.eC, J = e == 0 || e == 2 || e == 6 || e == 8;
          if (this.zw == 1) {
              if (J)
                  N = k = V = !0
          } else if (this.zw == 2 && J && this.a5y != !0)
              V = !0;
          if (this.zw == 3)
              V = !1;
          if (this.a4M && J && V) {
              var G = [0, 0, 2, 0, 0, 0, 6, 0, 4, 0][e]
                , m = -1
                , x = I.x
                , R = I.y;
              if (N) {
                  var b = G + 6 & 7
                    , z = G + 10 & 7
                    , $ = go.WD(r[G], r[G + 1], r[b], r[b + 1], I.x, I.y)
                    , P = go.WD(r[G], r[G + 1], r[z], r[z + 1], I.x, I.y)
                    , t = $[2] < P[2] ? $ : P;
                  x = t[0];
                  R = t[1];
                  if (k)
                      m = $[2] < P[2] ? b : z
              } else if (k)
                  m = G + 4 & 7;
              B = r.slice(0);
              if (m != -1) {
                  var X = r[m]
                    , Z = r[m + 1]
                    , p = (r[G] + X) / 2
                    , gl = (r[G + 1] + Z) / 2;
                  B[m] = p - (x - p);
                  B[m + 1] = gl - (R - gl)
              }
              B[G] = x;
              B[G + 1] = R
          } else if (J && k) {
              var s = this.Ya
                , f = s.x
                , cY = s.y
                , fC = g.x - f
                , hi = g.y - cY
                , es = 1
                , W = 1;
              if (Math.abs(fC) >= 1)
                  es = (I.x - f) / fC;
              if (Math.abs(hi) >= 1)
                  W = (I.y - cY) / hi;
              if (N)
                  es = W = (es + W) / 2;
              var d = new fn;
              d.translate(-f, -cY);
              d.scale(es, W);
              d.translate(f, cY);
              B = r.slice(0);
              _.$.m(B, d, B)
          } else {
              if (this.gK()) {
                  I.x = Math.round(I.x);
                  I.y = Math.round(I.y)
              }
              var fM = [0, 1, 2, 5, 8, 7, 6, 3]
                , n = fM[(fM.indexOf(e) + 4) % 8]
                , ax = [];
              for (var G = 0; G < 3; G++)
                  for (var m = 0; m < 3; m++)
                      ax.push(new bT(m / 2,G / 2));
              var s = this.Ya
                , d_ = this.Rd(I, r)
                , cm = this.Rd(a, r)
                , c4 = k && (this.us == 4 || this.us == 9) ? this.Rd(s, r) : ax[n]
                , ch = new fn
                , hQ = new fn
                , es = (d_.x - c4.x) / (cm.x - c4.x);
              if (es == 0)
                  es = 1e-4;
              var W = (d_.y - c4.y) / (cm.y - c4.y);
              if (W == 0)
                  W = 1e-4;
              if (this.alP) {
                  es = Math.max(es, 0);
                  W = Math.max(W, 0)
              }
              if (e == 0 || e == 2 || e == 6 || e == 8) {
                  if (N || this.aiz)
                      ch.scale(es, es);
                  else
                      ch.scale(es, W)
              }
              if (e == 1 || e == 3 || e == 5 || e == 7) {
                  var em = this.aiz;
                  if (e == 1 || e == 7)
                      ch.scale(em ? W : 1, W);
                  else
                      ch.scale(es, em ? es : 1);
                  if (this.aaz && V) {
                      if (e == 1 || e == 7)
                          hQ.x9 = (d_.x - c4.x) / (d_.y - c4.y);
                      else
                          hQ.O = (d_.y - c4.y) / (d_.x - c4.x)
                  }
              }
              var d = new fn;
              d.translate(-c4.x, -c4.y);
              d.concat(ch);
              d.concat(hQ);
              d.translate(c4.x, c4.y);
              B = [0, 0, 1, 0, 1, 1, 0, 1];
              _.$.m(B, d, B);
              var t = _.J.hv(r);
              _.J.apply(t, B)
          }
          if (go.f8(B))
              this.pK = B
      }
      this.iF(E, K);
      if (h)
          u.x_.HH(E, o, h)
  }
  ;
  go.WD = function(E, K, i, C, N, k) {
      var V = i - E
        , j = C - K
        , a = N - E
        , e = k - K
        , L = V * V + j * j
        , g = a * V + e * j
        , I = g / L
        , h = E + I * V
        , o = K + I * j
        , H = N - h
        , A = k - o;
      return [h, o, Math.sqrt(H * H + A * A)]
  }
  ;
  go.prototype.gK = function() {
      var E = this.pK;
      return Math.abs(E[1] - E[3]) < 1e-6 && Math.abs(E[2] - E[4]) < 1e-6 || Math.abs(E[0] - E[2]) < 1e-6 && Math.abs(E[3] - E[5]) < 1e-6
  }
  ;
  go.f8 = function(E) {
      return _.$.nE(E) || _.$.nE([E[6], E[7], E[4], E[5], E[2], E[3], E[0], E[1]])
  }
  ;
  go.prototype.Cs = function(E, K, i, C) {
      this.p_ = -1;
      this.av = null;
      E.K.qK = null;
      E.K.AL = [];
      E.nK = !0
  }
  ;
  go.prototype.Ok = function(E, K, i) {
      var C = i.TD();
      if (C.x || C.y) {
          var N = new fn(1,0,0,1,C.x,C.y);
          _.$.m(this.pK, N, this.pK);
          this.iF(E, K);
          return !0
      }
      return !1
  }
  ;
  go.prototype.nZ = function(E) {
      if (E == null)
          E = this.pK;
      var K = E[6] - E[0]
        , i = E[7] - E[1]
        , C = E[4] - E[2]
        , N = E[5] - E[3]
        , k = [E[0], E[1], E[2], E[3], E[0] + K / 2, E[1] + i / 2, E[2] + C / 2, E[3] + N / 2, E[6], E[7], E[4], E[5]]
        , V = [];
      for (var G = 0; G < 3; G++) {
          var j = G * 4
            , a = k[j + 0]
            , e = k[j + 1]
            , L = k[j + 2]
            , g = k[j + 3];
          V.push(new bT(a,e));
          V.push(new bT(a + (L - a) / 2,e + (g - e) / 2));
          V.push(new bT(L,g))
      }
      return V
  }
  ;
  go.prototype.iF = function(E, K, i) {
      if (i == null)
          i = !1;
      var C = this.nZ()
        , N = C[0]
        , k = C[2]
        , V = C[6]
        , j = C[8];
      E.K.yK = {
          Z: [],
          H: []
      };
      E.K.yK.Z.push("M", "L", "L", "L", "Z");
      E.K.yK.H.push(N.x, N.y, k.x, k.y, j.x, j.y, V.x, V.y);
      if (this.a6M) {
          var a = k.g7(N)
            , e = V.g7(N)
            , L = j.g7(k)
            , g = j.g7(V);
          for (var G = 0; G < 3; G++) {
              E.K.yK.Z.push("M", "L", "M", "L");
              var I = (G + 1) * .25;
              E.K.yK.H.push(N.x + a.x * I, N.y + a.y * I, V.x + g.x * I, V.y + g.y * I);
              E.K.yK.H.push(N.x + e.x * I, N.y + e.y * I, k.x + L.x * I, k.y + L.y * I)
          }
      }
      E.a.bb = new h4(0,0,bT.zL(C[0], C[2]),bT.zL(C[0], C[6]));
      if (this.p_ != -1 && this.p_ < 9 && this.av) {
          var h = E.a.Dl(this.av.x, this.av.y);
          u.UB.xY(h.x + 10, h.y - 10, E.a.bb, E, K)
      }
      if (!i) {
          E.K.Cn = [];
          for (var G = 0; G < C.length; G++)
              if (G != 4)
                  E.K.Cn.push(C[G].x, C[G].y);
          var o = this.UL();
          E.K.Cn.push(o.x, o.y)
      }
      E.nK = !0
  }
  ;
  go.prototype.clear = function(E) {
      E.a.bb = null;
      E.K.qK = null;
      E.K.yK = null;
      E.K.Cn = [];
      E.nK = !0
  }
  ;
  function bF(E, K) {
      this.oC = null;
      this.p_ = -1;
      this.J9(E)
  }
  bF.prototype.OQ = function() {
      return JSON.parse(JSON.stringify(this.oC))
  }
  ;
  bF.prototype.J9 = function(E) {
      this.oC = JSON.parse(JSON.stringify(E))
  }
  ;
  bF.prototype.gD = function(E) {
      return !0
  }
  ;
  bF.prototype.uP = function(E, K) {
      var i = this.kH(E, K);
      if (i == -1)
          return "default";
      return "pointer"
  }
  ;
  bF.prototype.om = function(E, K, i, C) {
      this.p_ = this.kH(C, E.a.S);
      return this.p_ != -1
  }
  ;
  bF.prototype.kH = function(E, K) {
      var i = -1
        , C = 20 * c.M()
        , N = this.Q$();
      for (var G = 0; G < N.length; G++)
          if (bT.zL(N[G], E) * K < C)
              i = G;
      return i
  }
  ;
  bF.prototype.n9 = function(E, K, i, C) {
      if (this.p_ == -1)
          return;
      var N = E.a.S
        , k = this.p_
        , V = _.oC.T4(this.oC);
      V[k * 2] = C.x;
      V[k * 2 + 1] = C.y;
      _.oC.vr(V, this.oC)
  }
  ;
  bF.prototype.Cs = function(E, K, i, C) {
      this.p_ = -1;
      E.nK = !0
  }
  ;
  bF.prototype.Ok = function(E, K, i) {
      var C = i.TD();
      if (C.x || C.y) {
          var N = new fn(1,0,0,1,C.x,C.y);
          _.$.m(this.pK, N, this.pK);
          this.iF(E)
      }
  }
  ;
  bF.prototype.Q$ = function(E) {
      var K = _.oC.T4(this.oC)
        , i = [];
      for (var G = 0; G < K.length; G += 2)
          i.push(new bT(K[G],K[G + 1]));
      return i
  }
  ;
  bF.prototype.iF = function(E) {
      var K = this.Q$();
      E.K.yK = {
          Z: [],
          H: []
      };
      E.K.yK.Z.push("M", "C", "C", "C", "C");
      var i = [0, 1, 2, 3, 7, 11, 15, 14, 13, 12, 8, 4, 0];
      for (var G = 0; G < i.length; G++)
          E.K.yK.H.push(K[i[G]].x, K[i[G]].y);
      E.K.yK.Z.push("M", "L", "L", "M", "L", "L", "M", "L", "L", "M", "L", "L");
      i = [4, 0, 1, 2, 3, 7, 11, 15, 14, 13, 12, 8];
      for (var G = 0; G < i.length; G++)
          E.K.yK.H.push(K[i[G]].x, K[i[G]].y);
      E.K.Cn = [];
      for (var G = 0; G < K.length; G++)
          E.K.Cn.push(K[G].x, K[G].y);
      E.nK = !0
  }
  ;
  bF.prototype.clear = function(E) {
      E.K.yK = null;
      E.K.Cn = [];
      E.nK = !0
  }
  ;
  var hn = {};
  hn.pG = function(E) {
      this.id = E;
      this.sU = null
  }
  ;
  hn.pG.prototype.d2 = function(E, K, i, C, N) {}
  ;
  hn.pG.prototype.Fh = function(E, K) {}
  ;
  hn.pG.prototype.eS = function(E, K) {}
  ;
  hn.pG.prototype.track = function(E) {
      var K = new q(c.E.J5,!0);
      K.data = E;
      E.Ak = !0;
      this.sU.U(K)
  }
  ;
  hn.History = function() {
      hn.pG.call(this, u.CC);
      this.sH = !0;
      this.a1u = 0
  }
  ;
  hn.History.prototype = new hn.pG;
  hn.History.prototype.d2 = function(E, K, i, C) {
      i.aO = !0;
      if (E.e == "h_itemchange") {
          if (E.index < i.tv)
              for (var G = i.tv; G > E.index; G--)
                  this.Cq(i);
          if (E.index > i.tv)
              for (var G = i.tv; G < E.index; G++)
                  this.S2(i)
      }
      if (E.e == "h_stepfwd")
          this.S2(i);
      if (E.e == "h_stepbck")
          this.Cq(i);
      if (E.e == "h_undoredo") {
          var N = this.sH || this.a1u != i.tv;
          if (N) {
              this.Cq(i);
              N = !1
          } else {
              this.S2(i);
              N = !0
          }
          this.sH = N;
          this.a1u = i.tv
      } else
          this.sH = !0
  }
  ;
  hn.History.prototype.Cq = function(E) {
      if (E.tv == 0)
          return;
      var K = E.history[E.tv];
      K.F.eS(K.data, E);
      E.tv--
  }
  ;
  hn.History.prototype.S2 = function(E) {
      if (E.tv == E.history.length - 1)
          return;
      var K = E.history[E.tv + 1];
      K.F.Fh(K.data, E);
      E.tv++
  }
  ;
  hn.BS = function() {
      hn.pG.call(this, u.Iy);
      this.sU = null
  }
  ;
  hn.BS.prototype = new hn.pG;
  hn.BS.prototype.d2 = function(E, K, i, C, N) {
      this.sU = K;
      var k = E.e
        , V = E.z != null ? E.z : i.C.length != 0 ? i.C[0] : i.t.length - 1
        , j = i.t[V];
      i._S = !0;
      if (k == U.Mb && i.N == null)
          k = U.CY;
      if (k == U.k9) {
          var a = new fy([6, 33],this)
            , e = j.Uf() ? ["pass"].concat(gx.WR) : gx.WR
            , L = E.z != null ? [E.z] : i.C
            , g = JSON.stringify(L)
            , I = [];
          for (var G = 0; G < L.length; G++)
              I.push(i.t[L[G]].SI);
          a.data = {
              e: k,
              HQ: g,
              hT: I,
              Gz: e[E.Gz]
          };
          i.b8(a);
          this.Fh(a.data, i);
          this.track(bY.sf("Md", {
              t: "enum",
              v: {
                  BlnM: gx.hr[E.Gz]
              }
          }))
      }
      if (k == U.hQ) {
          var a, h = i.Ty(), L = E.z != null ? [E.z] : i.C, g = JSON.stringify(L);
          if (h && h.data && h.data.e == k && h.data.HQ == g)
              a = h;
          else {
              var o = bY.sf("Opct", {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 0
                  }
              });
              this.track(o);
              var I = [];
              for (var G = 0; G < L.length; G++)
                  I.push(i.t[L[G]].opacity);
              a = new fy([6, 32],this);
              a.data = {
                  e: k,
                  HQ: g,
                  hT: I,
                  Gz: E.Gz,
                  Yt: o.v4
              };
              i.b8(a)
          }
          a.data.Gz = E.Gz;
          a.data.Yt.T.v.Opct.v.val = Math.round(E.Gz * 100 / 255);
          this.Fh(a.data, i)
      }
      if (k == U.o4) {
          if (j.add.iOpa == null)
              j.add.iOpa = 255;
          var a, h = i.Ty();
          if (h && h.data && h.data.e == k && h.data.z == V)
              a = h;
          else {
              a = new fy("Fill Opacity Change",this);
              a.data = {
                  e: k,
                  z: V,
                  hT: j.add.iOpa,
                  Gz: E.Gz
              };
              i.b8(a)
          }
          a.data.Gz = E.Gz;
          this.Fh(a.data, i)
      }
      if (k == U.V9) {
          var H = E.Gz, A = E.z != null ? [E.z] : i.C.slice(0), S = [], v = [], a;
          for (var s = 0; s < A.length; s++) {
              var D = i.t[A[s]];
              if (D.add.lspf == null)
                  D.add.lspf = 0;
              var I = D.add.lspf
                , F = I;
              for (var G = 0; G < H[0].length; G++) {
                  var y = H[1][G]
                    , T = 1 << y;
                  if ((F & T) == 0 && H[0][G])
                      F ^= T;
                  else if ((F & T) != 0 && !H[0][G])
                      F ^= T
              }
              S.push(I);
              v.push(F)
          }
          var h = i.Ty()
            , L = JSON.stringify(A);
          if (h && h.data && h.data.e == k && JSON.stringify(h.data.HQ) == L) {
              a = h;
              a.data.Gz = v
          } else {
              var a = new fy([6, 57, 1],this);
              a.data = {
                  e: k,
                  HQ: L,
                  hT: S,
                  Gz: v
              };
              i.b8(a)
          }
          this.Fh(a.data, i)
      }
      if (k == U.hI) {
          var Q = "----"
            , B = E.Wh
            , F = null;
          for (var G = 0; G < hU.r6.RA.length; G++)
              if (j.add[hU.r6.RA[G]])
                  Q = hU.r6.RA[G];
          var r = j.add[Q];
          if (B == "TySh")
              F = cO.u3(50, 50, N.Ox);
          var a = new fy("Layer Type",this);
          a.data = {
              e: k,
              z: V,
              afk: [Q, r],
              Wh: [B, F]
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.cv) {
          var A = [];
          if (C.q(w.zA)) {
              var J = i.Ty()
                , m = J ? J.data : null;
              if (J != null && J.F == this && m.e == U.cv && m.HQ.length != 1) {
                  var x = new q(c.E.A);
                  x.F = u.CC;
                  x.data = {
                      e: "h_stepbck"
                  };
                  K.U(x);
                  if (m.z == V)
                      return
              }
              var R = i.root.WY(V)
                , b = i.Qw(null, V);
              while (R.parent != i.root) {
                  b.push(R.parent.index);
                  R = R.parent
              }
              for (var G = 0; G < i.t.length; G++) {
                  var z = i.t[G]
                    , $ = z.VD()
                    , P = b.indexOf(G) != -1;
                  if (!P && $)
                      A.push(G);
                  if (G == V && !$)
                      A.push(G)
              }
          } else {
              A.push(V);
              var $ = i.t[V].VD()
                , o = {
                  bT: $ ? "hide" : "show",
                  v4: {
                      classID: $ ? "Hd" : "Shw",
                      null: {
                          t: "VlLs",
                          v: [bY.Ve("Lyr", !0)]
                      }
                  }
              };
              this.track(o)
          }
          var a = new fy("Layer visibility",this,!0);
          a.data = {
              e: k,
              HQ: A,
              z: V
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.Zd) {
          var o = {
              bT: "select",
              v4: {
                  classID: "null",
                  MkVs: {
                      t: "bool",
                      v: !1
                  }
              }
          }, t, escape = !1;
          if (i.a.zj.join("") != "111") {
              i.a.zj = [1, 1, 1];
              i.nK = !0
          }
          if (C.q(w.qN) || E.aco == 0) {
              var X = i.C.indexOf(V);
              if (X == -1)
                  i.C.push(V);
              else if (i.C.length > 1)
                  i.C.splice(X, 1);
              i.C.sort(function(a, hI) {
                  return a - hI
              });
              o.v4.selectionModifier = {
                  t: "enum",
                  v: {
                      selectionModifierType: "addToSelection"
                  }
              };
              t = V
          } else if (C.q(w.Gj) && !C.q(w.zA) && E.HE > 0) {
              k = E.HE == 1 ? U.eq : E.HE == 2 ? U.ZG : U.np;
              escape = !0
          } else if ((C.q(w.Gj) || E.aco == 1) && i.C.length > 0) {
              var Z = Math.min(V, i.C[0])
                , p = Math.max(V, i.C[i.C.length - 1]);
              i.C = [];
              for (var G = Z; G <= p; G++)
                  if (i.t[G].add.lsct != c5.XG)
                      i.C.push(G);
              o.v4.selectionModifier = {
                  t: "enum",
                  v: {
                      selectionModifierType: "addToSelectionContinuous"
                  }
              };
              t = V
          } else {
              t = V;
              var z = i.t[V];
              if (z && z.Uf() && E.a7P)
                  z.add.lsct = c5.qd;
              else if (i.C.length == 1 && i.C[0] == V && E.HE == z.dz) {
                  return
              }
              i.C = [V];
              i.EK()
          }
          if (t != null && t < i.t.length) {
              o.v4.null = {
                  t: "obj ",
                  v: [{
                      t: "name",
                      v: {
                          classID: "Lyr",
                          val: i.t[t].getName()
                      }
                  }]
              },
              this.track(o)
          }
          if (!escape) {
              if (i.C.length == 1) {
                  var gl = i.C[0];
                  for (var G = 0; G < i.t.length; G++) {
                      if (G == gl)
                          continue;
                      var D = i.t[G];
                      D.dz = 0;
                      D.QK = !1
                  }
                  var j = i.t[gl];
                  if (E.HE == 2) {
                      j.QK = !j.QK;
                      i.du = []
                  } else if (j) {
                      j.dz = E.HE <= 0 ? 0 : E.HE;
                      if (E.HE == 1 || E.HE == 3) {
                          var f = E.HE == 3 ? j.uy(i).r : j.$Y();
                          f.a5 = !1
                      }
                  }
              } else
                  for (var G = 0; G < i.t.length; G++) {
                      var D = i.t[G];
                      D.dz = 0;
                      D.QK = !1
                  }
              i.Rn = null;
              i.aO = !0
          }
      }
      if (k == U.eq || k == U.np) {
          var cY = k == U.eq
            , f = cY ? j.$Y() : j.uy(i).r;
          if (f == null)
              return;
          var a = new fy(f.isEnabled ? cY ? [6, 15] : [6, 42] : cY ? [6, 14] : [6, 41],this);
          a.data = {
              e: k,
              z: V
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.ZG) {
          var f = j.add.vmsk;
          if (f == null)
              return;
          var a = new fy(f.isEnabled ? [6, 17] : [6, 16],this);
          a.data = {
              e: k,
              z: V
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.Qj) {
          var fC = j.add.lsct == c5.qd ? c5.Kw : c5.qd;
          if (C.q(w.qN)) {
              var hi = i.root.WY(i.t.indexOf(j)).parent;
              for (var G = 0; G < hi.children.length; G++) {
                  var es = hi.children[G].z;
                  if (es.Uf())
                      es.add.lsct = fC
              }
          } else
              j.add.lsct = fC;
          i.aO = !0
      }
      if (k == U.SE) {
          if (!i.Lj(V))
              return;
          var a = new fy(j.iB ? [6, 19] : [6, 18],this);
          a.data = {
              e: k,
              z: V
          };
          i.b8(a);
          if (E.Gz == null || E.Gz != j.iB)
              this.Fh(a.data, i);
          this.track({
              bT: "groupEvent",
              v4: {
                  classID: "GrpL",
                  null: {
                      t: "obj ",
                      v: [bY.Ve("Lyr", !0)]
                  }
              }
          })
      }
      if (k == U.Q7) {
          if (j.Hm())
              j.it -= 32;
          else
              j.it += 32;
          i.aO = !0
      }
      if (k == U.Bl || k == U.S9) {
          var a;
          if (k == U.Bl)
              a = new fy(j.add.lmfx.masterFXSwitch.v ? [6, 30] : [6, 29],this);
          if (k == U.S9)
              a = new fy(j.add.SoLd.filterFX.v.enab.v ? [6, 44] : [6, 43],this);
          a.data = {
              e: k,
              z: V
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.Y6 || k == U.S5) {
          var gl = E.index, a;
          if (k == U.Y6)
              a = new fy(j.add.lmfx[ao.Y9[gl[0]]].v[gl[1]].v.enab.v ? [6, 30] : [6, 29],this);
          if (k == U.S5)
              a = new fy(j.add.SoLd.filterFX.v.filterFXList.v[gl].v.enab.v ? [6, 44] : [6, 43],this);
          a.data = {
              e: k,
              z: V,
              index: E.index
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.x0) {
          if (E.src == E.jK)
              return;
          var W = i.t[E.src]
            , d = i.t[E.jK]
            , fM = W.add.lmfx ? JSON.stringify(W.add.lmfx) : ""
            , n = d.add.lmfx ? JSON.stringify(d.add.lmfx) : "";
          if (d.add.lmfx == null) {
              d.add.lmfx = JSON.parse(ao.default);
              for (var G = 0; G < ao.order.length; G++)
                  d.add.lmfx[ao.Y9[G]] = {
                      t: "VlLs",
                      v: []
                  }
          }
          if (E.vg == null) {
              d.add.lmfx = JSON.parse(fM);
              if (!E.aq)
                  delete W.add.lmfx
          } else {
              var ax = E.vg[0]
                , d_ = ao.Y9[ax];
              if (ao.nz.indexOf(ao.order[ax]) == -1)
                  d.add.lmfx[d_].v = [];
              d.add.lmfx[d_].v.push(W.add.lmfx[d_].v[E.vg[1]]);
              if (!E.aq)
                  W.add.lmfx[d_].v.splice(E.vg[1], 1)
          }
          var cm = W.add.lmfx ? JSON.stringify(W.add.lmfx) : ""
            , c4 = d.add.lmfx ? JSON.stringify(d.add.lmfx) : "";
          if (!d.Hm())
              d.it += 32;
          var a = new fy("Move Layer Styles",this);
          a.data = {
              e: k,
              a20: E.src,
              a3W: E.jK,
              ab4: fM,
              akF: n,
              ahZ: cm,
              anF: c4
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.sW) {
          var D = i.t[E.src]
            , ch = JSON.stringify(D.add.SoLd)
            , hQ = JSON.parse(ch)
            , em = hQ.filterFX.v.filterFXList.v;
          em.splice(E.vg, 1);
          var a = new fy([6, 53],this);
          a.data = {
              e: U.E5,
              C9: [{
                  CH: E.src,
                  OC: [ch, JSON.stringify(hQ)]
              }]
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.IN) {
          var W = i.t[E.src]
            , d = i.t[E.jK]
            , ag = [];
          if (W != d && d.add.SoLd == null) {
              alert("Target layer is not a smart object!");
              return
          }
          if (W == d && !E.aq && (E.vg == E.mV || E.vg == -1))
              return;
          var bK = W.uy(i)
            , ch = JSON.stringify(W.add.SoLd)
            , hQ = JSON.parse(ch)
            , em = hQ.filterFX.v.filterFXList.v;
          if (W == d) {
              em.splice(E.mV, 0, em[E.vg]);
              if (!E.aq)
                  em.splice(E.vg + (E.vg < E.mV ? 0 : 1), 1);
              ag.push({
                  CH: E.src,
                  OC: [ch, JSON.stringify(hQ)]
              })
          } else if (E.vg == -1) {
              var ei = hQ.filterFX;
              if (!E.aq) {
                  delete hQ.filterFX;
                  ag.push({
                      CH: E.src,
                      OC: [ch, JSON.stringify(hQ)],
                      TP: [bK, null]
                  })
              }
              var dL = d.XQ() ? d.uy(i) : null
                , fh = bl.aI(bK)
                , eu = JSON.stringify(d.add.SoLd)
                , hf = JSON.parse(eu);
              hf.placed.v = fh.id;
              hf.filterFX = ei;
              ag.push({
                  CH: E.jK,
                  OC: [eu, JSON.stringify(hf)],
                  TP: [dL, fh]
              })
          } else {
              var iS = em[E.vg];
              if (!E.aq) {
                  em.splice(E.vg, 1);
                  ag.push({
                      CH: E.src,
                      OC: [ch, JSON.stringify(hQ)]
                  })
              }
              var eu = JSON.stringify(d.add.SoLd)
                , hf = JSON.parse(eu);
              if (hf.filterFX == null)
                  hf.filterFX = ef.yC();
              var aI = hf.filterFX.v.filterFXList.v;
              aI.splice(E.mV, 0, iS);
              var gn = {
                  CH: E.jK,
                  OC: [eu, JSON.stringify(hf)]
              };
              if (!d.XQ()) {
                  var fh = bl.Za(d.add.SoLd.placed.v);
                  gn.TP = [null, fh]
              }
              ag.push(gn)
          }
          var a = new fy([6, 52],this);
          a.data = {
              e: U.E5,
              C9: ag
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.kB) {
          var f = j.$Y()
            , a = new fy(f.Rq ? [6, 26] : [6, 25],this);
          a.data = {
              e: k,
              z: V
          };
          i.b8(a);
          this.Fh(a.data, i);
          this.track({
              bT: "set",
              v4: {
                  classID: "setd",
                  null: {
                      t: "obj ",
                      v: [bY.Ve("Lyr", !0)]
                  },
                  T: {
                      t: "Objc",
                      v: {
                          classID: "Lyr",
                          Usrs: {
                              t: "bool",
                              v: f.Rq
                          }
                      }
                  }
              }
          })
      }
      if (k == U.gA) {
          var f = j.add.vmsk
            , a = new fy(f.Rq ? [6, 28] : [6, 27],this);
          a.data = {
              e: k,
              z: V
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.Q0) {
          var ce = [], a;
          for (var G = 0; G < i.C.length; G++) {
              var s = i.C[G]
                , z = i.t[s];
              if (z.add.vogk)
                  ce.push(s, JSON.stringify(z.add.vogk))
          }
          for (var G = 0; G < i.du.length; G++) {
              var s = i.du[G]
                , z = i.xq[s];
              if (z.add.vogk)
                  ce.push(-1 - s, JSON.stringify(z.add.vogk))
          }
          _.U7.aew(i, E.J8, E.agI);
          var gr = [];
          for (var G = 0; G < i.C.length; G++) {
              var s = i.C[G]
                , z = i.t[s];
              if (z.add.vogk)
                  gr.push(s, JSON.stringify(z.add.vogk))
          }
          for (var G = 0; G < i.du.length; G++) {
              var s = i.du[G]
                , z = i.xq[s];
              if (z.add.vogk)
                  gr.push(-1 - s, JSON.stringify(z.add.vogk))
          }
          var h = i.Ty();
          if (h && h.data && h.data.e == k) {
              var ek = !0;
              for (var G = 0; G < ce.length; G += 2)
                  if (ce[G] != h.data.rT[G])
                      ek = !1;
              if (ek) {
                  a = h;
                  a.data.$m = gr
              }
          }
          if (a == null) {
              var a = new fy([12, 91, 1],this);
              a.data = {
                  e: k,
                  rT: ce,
                  $m: gr
              };
              i.b8(a)
          }
          this.Fh(a.data, i)
      }
      if (k == U.Sf) {
          var a, h = i.Ty();
          if (h && h.data && h.data.e == k && h.data.z == V) {
              a = h;
              a.data.iM = JSON.stringify(E.iM)
          }
          if (a == null) {
              var a = new fy("Editing Artboard",this);
              a.data = {
                  e: k,
                  z: V,
                  adk: JSON.stringify(j.add.artb),
                  iM: JSON.stringify(E.iM)
              };
              i.b8(a)
          }
          this.Fh(a.data, i)
      }
      if (k == U.vn) {
          var gr = i.h_.slice(0)
            , bJ = i.QZ.slice(0)
            , aN = i.N
            , bG = i.N;
          if (E.Qh == "fromAction") {
              var aQ = E.G.bT
                , cu = E.G.v4;
              if (aQ == "make" || aQ == "duplicate") {
                  var gX = gr.length
                    , dE = !1
                    , b4 = !1;
                  if (i.C6())
                      gX--;
                  var bW = new U.xW;
                  bW.name = "Alpha " + (gX + 1);
                  if (aQ == "make") {
                      var cC = cu.Nw.v;
                      bW.color = 255;
                      bJ = [gX];
                      bW.a5 = !0;
                      bW.di = cC.Opct.v;
                      if (cC.Nm)
                          bW.name = cC.Nm.v;
                      if (cC.classID == "SCch") {
                          dE = !0;
                          bG = null;
                          bW.wn = 1
                      }
                  } else {
                      var gN = cu.null.v[0].v;
                      if (gN.keyID == "fsel")
                          dE = !0;
                      else {
                          var eH = u.u$.rI(i);
                          bG = u.u$.WC(i, eH);
                          bW.color = 0;
                          bW.rect = bG.rect;
                          bW.channel = bG.channel
                      }
                  }
                  if (dE) {
                      bW.color = 0;
                      if (i.N) {
                          bW.rect = i.N.rect.clone();
                          bW.channel = i.N.channel.slice(0)
                      }
                      if (b4) {
                          bW.color = 255 - bW.color;
                          _.KP(bW.channel)
                      }
                  }
                  gr.splice(gX, 0, bW)
              } else if (aQ == "delete") {
                  var b = i.QZ;
                  b.sort(function(a, hI) {
                      return hI - a
                  });
                  if (b.length == 0)
                      return;
                  for (var G = 0; G < b.length; G++)
                      gr.splice(b[G], 1);
                  bJ = []
              } else if (aQ == "hide") {
                  gr[bJ[0]] = gr[bJ[0]].clone();
                  gr[bJ[0]].a5 = !1
              }
          }
          if (E.Qh == "rnm") {
              gr[E.EL] = gr[E.EL].clone();
              gr[E.EL].name = E.name
          }
          var a = new fy("Channel Edit",this);
          a.data = {
              e: k,
              rT: i.h_.slice(0),
              S$: i.QZ.slice(0),
              $m: gr,
              uM: bJ,
              JY: aN,
              Id: bG
          };
          this.Fh(a.data, i);
          i.b8(a)
      }
      if (k == U.Qu) {
          var a = new fy(E.$t,this);
          a.data = {
              e: U.Qu,
              AV: i.t.slice(0),
              Un: E.Un,
              J1: i.C.slice(0),
              et: E.Id
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.FU) {
          var hx = i.Qw(null, E.z)
            , hv = 1e10;
          if (hx.length == 0)
              return;
          if (i.t.length == hx.length) {
              alert("Project must have at least 1 layer");
              return
          }
          var c2 = [];
          for (var G = 0; G < i.t.length; G++)
              if (hx.indexOf(G) == -1)
                  c2.push(i.t[G]);
          for (var G = 0; G < hx.length; G++)
              hv = Math.min(hv, hx[G]);
          hv = Math.max(hv - 1, 0);
          while (c2[hv].name == "</Layer group>")
              hv++;
          this.track({
              bT: "delete",
              v4: {
                  classID: "Dlt",
                  null: bY.Ve("Lyr", !0)
              }
          });
          var a = new fy([6, 31],this);
          a.data = {
              e: U.Qu,
              AV: i.t.slice(0),
              Un: c2,
              J1: i.C.slice(0),
              et: [hv]
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.Ah) {
          var b = E.aoi ? E.aoi : i.C
            , fu = 0
            , il = !1;
          if (b.length == 0)
              return;
          if (b.length == 1 && i.t[b[0]].RE == 0) {
              alert(i2.get([15, 7, 5]));
              return
          }
          var dv = [];
          for (var G = 0; G < i.t.length; G++) {
              var fj = i.t[G].RE;
              dv.push(fj);
              fu = Math.max(fu, fj)
          }
          var iH = -1
            , fp = -1;
          for (var G = 0; G < b.length; G++) {
              var fj = i.t[b[G]].RE;
              if (fj == 0)
                  il = !0;
              else if (iH == -1 || iH == fj)
                  iH = fj;
              else
                  fp = fj
          }
          if (!il)
              for (var G = 0; G < b.length; G++)
                  i.t[b[G]].RE = 0;
          else if (iH != -1 && fp == -1)
              for (var G = 0; G < b.length; G++)
                  i.t[b[G]].RE = iH;
          else
              for (var G = 0; G < b.length; G++)
                  i.t[b[G]].RE = fu + 1;
          var ff = [];
          for (var G = 0; G < i.t.length; G++) {
              var fj = i.t[G].RE;
              if (ff[fj] == null)
                  ff[fj] = 0;
              ff[fj]++
          }
          for (var G = 0; G < i.t.length; G++) {
              var fj = i.t[G].RE;
              if (ff[fj] == 1)
                  i.t[G].RE = 0
          }
          var da = dv;
          dv = [];
          for (var G = 0; G < i.t.length; G++) {
              var fj = i.t[G].RE;
              dv.push(fj);
              fu = Math.max(fu, fj)
          }
          var a = new fy(il ? [6, 54, 0] : [6, 54, 1],this);
          a.data = {
              e: U.Ah,
              agj: da,
              a6z: dv
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.CY && (E.z != null || i.C.length != 0) || k == U.Ef) {
          var aC = i.Bp(k == U.CY ? E.z : V, null, E.a5a);
          if (k == U.Ef) {
              var D = aC[0]
                , aQ = D.add.SoLd.Idnt.v
                , fa = i.W4(aQ).clone();
              D.add.SoLd.Idnt.v = fa.V3 = bl.Eu() + aQ.slice(8);
              i.add.lnk2.push(fa)
          }
          if (k == U.CY) {
              var hz = {
                  bT: "duplicate",
                  v4: {
                      classID: "null",
                      null: bY.Ve("Lyr", !0)
                  }
              };
              if (E.dq) {
                  aC[0].gv(E.dq);
                  hz.Nm = {
                      t: "TEXT",
                      v: E.dq
                  }
              }
              this.track(hz);
              E.aiY = E.z
          }
          k = U.w9;
          E.t = aC;
          E.By = i;
          E.EZ = i
      }
      if (k == U.w9) {
          var f6, bk, dB = E.By, fD = E.EZ;
          if (dB != fD) {
              console.log("ADDLAYERS different projs");
              var f6 = new h4(0,0,dB.d,dB.v)
                , bk = new h4(0,0,fD.d,fD.v)
                , bE = []
                , f0 = [];
              for (var G = 0; G < E.t.length; G++) {
                  var D = E.t[G];
                  if (D.add.SoLd == null)
                      continue;
                  var aQ = D.add.SoLd.Idnt.v;
                  if (bE.indexOf(aQ) == -1) {
                      bE.push(aQ);
                      f0.push(bl.Eu() + aQ.slice(8))
                  }
                  D.add.SoLd.Idnt.v = f0[bE.indexOf(aQ)];
                  var bK = D.uy(dB);
                  if (bK) {
                      dB.I7(bK);
                      fD.cB(bK)
                  }
              }
              if (bE.length > 0) {
                  if (fD.add.lnk2 == null)
                      fD.add.lnk2 = [];
                  for (var G = 0; G < bE.length; G++) {
                      var dr = dB.W4(bE[G])
                        , fa = dr.clone();
                      fa.V3 = f0[G];
                      fD.add.lnk2.push(fa)
                  }
              }
          }
          var aN = fD.C.slice(0);
          aN.sort(function(a, hI) {
              return a - hI
          });
          var c2 = fD.t.slice(0)
            , bG = []
            , g6 = -1;
          for (var G = 0; G < aN.length; G++)
              g6 = Math.max(g6, aN[G]);
          if (E.aiY != null)
              g6 = E.aiY;
          g6++;
          for (var G = 0; G < E.t.length; G++) {
              var z = E.t[G];
              c2.splice(g6, 0, z);
              bG.push(g6);
              g6++
          }
          if (E.t[E.t.length - 1].Uf())
              bG = [g6 - 1];
          var a = new fy([6, 0],this);
          a.data = {
              e: U.Qu,
              AV: fD.t.slice(0),
              Un: c2,
              J1: aN,
              et: bG
          };
          fD.b8(a);
          this.Fh(a.data, fD)
      }
      if (k == U.WL) {
          var fk = E.z != null ? [E.z] : i.Qw()
            , c2 = i.t.slice(0);
          for (var G = 0; G < fk.length; G++) {
              var z = i.t[fk[G]].clone();
              z.zT(i);
              c2.splice(fk[G], 1, z)
          }
          var a = new fy([6, 8],this);
          a.data = {
              e: U.Qu,
              AV: i.t.slice(0),
              Un: c2,
              J1: i.C.slice(0),
              et: i.C.slice(0)
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U._I) {
          var c2 = i.t.slice(0)
            , z = c2[i.C[0]] = c2[i.C[0]].clone()
            , iW = z.add.lmfx
            , e$ = 0;
          delete z.add.lmfx;
          var bq = _.I(z.rect.X());
          _.wF(z.buffer, bq, 3);
          var ik = h$.IY(iW, null, bq, z.rect, i, z.rect).type;
          for (var G = 0; G < ao.order.length; G++) {
              var iU = ao.order[G]
                , eh = ik[iU]
                , hH = G > 7;
              for (var eJ = 0; eJ < eh.length; eJ++) {
                  var gf = eh[eJ]
                    , L = i.qV();
                  L.SI = gf.Lh;
                  L.opacity = Math.round(255 * gf.bH);
                  L.iB = !hH;
                  L.buffer = gf.OR;
                  L.rect = gf.Hg;
                  L.rect.offset(z.rect.x, z.rect.y);
                  L.gv(z.getName() + "'s " + i2.get(ao.names[G]));
                  c2.splice(i.C[0] + (hH ? 0 : 1), 0, L);
                  if (hH)
                      e$++
              }
          }
          var a = new fy("Styles to Layers",this);
          a.data = {
              e: U.Qu,
              AV: i.t.slice(0),
              Un: c2,
              J1: i.C.slice(0),
              et: [i.C[0] + e$]
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.m5) {
          var fk = i.Qw()
            , c2 = i.t.slice(0)
            , d0 = new h4(0,0,i.d,i.v);
          for (var G = 0; G < fk.length; G++) {
              var ac = i.t[fk[G]]
                , eY = ac.VD();
              ac.HU(!0);
              var dg = i.root.WY(fk[G]);
              if (ac.Uf())
                  continue;
              if (dg == null)
                  continue;
              var z = ac.clone();
              z.zT(i);
              var cX = dg.Qc(i, !0)
                , eZ = i.t;
              i.qk([ac]);
              i.s();
              i.L2();
              z.buffer = _.I(cX.X() * 4);
              _.p8(i.A7(), d0, z.buffer, cX);
              z.rect = cX;
              z.opacity = 255;
              z.add.iOpa = 255;
              z.SI = "norm";
              z.s();
              z.W.aX = !0;
              i.qk(eZ);
              if (z.add.lmfx)
                  delete z.add.lmfx;
              z.r = z.md = null;
              c2.splice(fk[G], 1, z);
              z.HU(eY);
              ac.HU(eY)
          }
          var a = new fy([6, 34],this);
          a.data = {
              e: U.Qu,
              AV: i.t.slice(0),
              Un: c2,
              J1: i.C.slice(0),
              et: i.C.slice(0)
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.TG) {
          var fk = i.Qw()
            , c2 = i.t.slice(0);
          for (var G = 0; G < fk.length; G++) {
              var z = i.t[fk[G]]
                , iC = z.add.TySh;
              if (iC == null)
                  continue;
              var D = new g_(iC.Ou,N.g5)
                , cW = _.$.yD(dR.Nr(D, iC));
              for (var cT in cW) {
                  var cF = cW[cT]
                    , es = z.clone();
                  delete es.add.TySh;
                  es.it = es.it | 1 << 4;
                  es.add.SoCo = JSON.parse(JSON.stringify(ao.wW[0]));
                  var aP = es.add.SoCo.Clr.v;
                  aP.Rd.v = parseInt(cT.slice(1, 3), 16);
                  aP.Grn.v = parseInt(cT.slice(3, 5), 16);
                  aP.Bl.v = parseInt(cT.slice(5, 7), 16);
                  var iz = new U.ql;
                  iz.b = _.$.rh(cF, !1);
                  if (es.add.vmsk != null) {
                      es.add.vmsk.akZ();
                      iz.concat(es.add.vmsk)
                  }
                  es.add.vmsk = iz;
                  es.add.vstk = JSON.parse(JSON.stringify(ao.S6.default));
                  es.cE();
                  es.Kf(i);
                  c2.splice(c2.indexOf(z), 0, es)
              }
              c2.splice(c2.indexOf(z), 1)
          }
          var bG = i.C.slice(0);
          for (var G = bG.length - 1; G >= 0; G--)
              if (bG[G] >= c2.length)
                  bG.splice(G, 1);
          var a = new fy([6, 40],this);
          a.data = {
              e: U.Qu,
              AV: i.t.slice(0),
              Un: c2,
              J1: i.C.slice(0),
              et: bG
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.QU) {
          var al = i.C.length;
          if (al < 2) {
              alert("Select two or more layers.");
              return
          }
          if (!i.Uq())
              return;
          var es = i.t[i.C[0]].clone()
            , c2 = [];
          for (var G = 0; G < i.t.length; G++)
              if (i.C.indexOf(G) == -1)
                  c2.push(i.t[G]);
          c2.splice(i.C[0], 0, es);
          for (var G = 1; G < al; G++)
              if (i.t[i.C[G]].rect.X() > 2e6) {
                  alert("Blended areas are too large.");
                  return
              }
          for (var G = 1; G < al; G++) {
              var z = i.t[i.C[G]]
                , dj = z.rect.clone();
              dj.Lv(1, 1);
              var hI = _.I(dj.X() * 4);
              _.p8(z.buffer, z.rect, hI, dj);
              es.extend(dj);
              var hX = _.I(dj.X() * 4);
              _.p8(es.buffer, es.rect, hX, dj);
              var a = _.I(dj.X());
              _.wF(hI, a, 3);
              _.round(a, 200);
              _.lM(a, hI, 3);
              _.p.JA("norm", hI, dj, hX, dj, dj, 1);
              _.GF.Wb(hX, a, dj);
              _.p8(hX, dj, es.buffer, es.rect)
          }
          var a = new fy([2, 10, 0],this);
          a.data = {
              e: U.Qu,
              AV: i.t.slice(0),
              Un: c2,
              J1: i.C.slice(0),
              et: [i.C[0]]
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.vz) {
          var c2 = i.t.slice(0)
            , bJ = i.C.slice(0);
          for (var G = 0; G < c2.length; G++) {
              var z = c2[G]
                , hh = z.add.vmsk;
              if (z.bm() && hh && z.add.vstk.strokeEnabled.v && !z.add.vstk.fillEnabled.v) {
                  var bD = hh.b
                    , ez = 0
                    , gS = -1;
                  for (var eJ = 0; eJ < bD.length; eJ++) {
                      if ((bD[eJ].type == 0 || bD[eJ].type == 3) && bD[eJ].A0 != -1) {
                          ez++;
                          if (bD[eJ].type == 3 && gS == -1) {
                              bD[eJ].n_ = bD[eJ].A0 = 1;
                              gS = eJ
                          }
                      }
                  }
                  if (ez > 1 && gS != -1) {
                      console.log("separating an open path into a new layer");
                      z = z.clone();
                      hh = z.add.vmsk;
                      bD = hh.b;
                      var L = bD[gS].length
                        , hl = z.clone();
                      hl.add.lyid = i.tu();
                      hh.b = bD.slice(0, 2).concat(bD.slice(gS, gS + L + 1));
                      hh.C = [];
                      z.Kf(i);
                      z.s();
                      var hS = hl.add.vmsk.b;
                      hl.add.vmsk.b = hS.slice(0, gS).concat(hS.slice(gS + L + 1, hS.length));
                      hl.add.vmsk.C = [];
                      hl.Kf(i);
                      c2[G] = z;
                      c2.splice(G + 1, 0, hl);
                      for (var eJ = 0; eJ < bJ.length; eJ++)
                          if (bJ[eJ] > G)
                              bJ[eJ]++;
                      var hY = bJ.indexOf(G);
                      if (hY != -1) {
                          bJ.splice(hY + 1, 0, G + 1)
                      }
                  }
              }
          }
          if (c2.length != i.t.length) {
              var a = new fy("Splitting open paths",this);
              a.data = {
                  e: U.Qu,
                  AV: i.t.slice(0),
                  Un: c2,
                  J1: i.C.slice(0),
                  et: bJ
              };
              i.b8(a);
              this.Fh(a.data, i)
          }
      }
      if (k == U.o0) {
          this.d2({
              e: U.vz
          }, K, i, C, N);
          var aN = i.C.slice(0)
            , eZ = i.t.slice(0)
            , fk = i.Qw();
          if (fk.length == 0)
              return;
          i.Fa(fk, !1, E.iG);
          var a = new fy([6, 36, 0],this);
          a.data = {
              e: U.Qu,
              AV: eZ,
              Un: i.t.slice(),
              J1: aN,
              et: i.C.slice(0)
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.WH) {
          var ch = j.add.SoLd;
          if (ch == null)
              return;
          var aQ = ch.Idnt.v
            , bI = i.W4(aQ);
          bI.A7(!1);
          var bd = bI.Y0[0]
            , dj = bI.Y0[1];
          if (_.Tx(bd)) {
              alert("The smart object contains transparency.");
              return
          }
          var h7 = fb.vG("jpg").PW([[bd.buffer]], dj.d, dj.v, [90]);
          this.d2({
              e: U.PG,
              uY: i,
              data: new Uint8Array(h7),
              id: aQ,
              iG: "jpg"
          }, K, i, C, N);
          console.log(i.add);
          return
      }
      if (k == U.PG) {
          var dr = E.uY.W4(E.id)
            , fa = dr.clone();
          fa.raw = E.data;
          if (E.iG) {
              fa.Xy = "    ";
              fa.K8 = "    ";
              fa.hS = fa.hS + "." + E.iG
          } else {
              fa.Xy = "8BIM";
              fa.K8 = "8BPB";
              fa.hS = fa.hS + ".psd"
          }
          fa.A7(!1);
          dr.A7(!1);
          var a = new fy([6, 36, 1],this);
          a.data = {
              e: U.PG,
              id: E.id,
              yu: dr,
              _f: fa
          };
          E.uY.b8(a);
          this.Fh(a.data, E.uY)
      }
      if (k == U.G0) {
          var a = new fy([6, 36, 4],this);
          a.data = {
              e: k,
              z: V,
              Io: j.add.SoLd.Impr.v.classID,
              Gz: E.Gz
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.iC) {
          var io, bh;
          if (E.Ib) {
              io = E.uY;
              bh = E.Ib
          } else {
              E.uY.S8();
              E.uY.r9();
              E.uY.s();
              E.uY.L2();
              E.uY.A7();
              io = fb.vG("PSD").PW(E.uY, 0, 0, [!0, !0]);
              bh = E.uY.name
          }
          if (!(io instanceof ArrayBuffer))
              throw "e";
          io = new Uint8Array(io);
          var X = E.UU != null ? E.UU : i.C[i.C.length - 1] + 1
            , by = i.Yn(io, bh, 0, 0, !0)
            , c2 = i.t.slice(0);
          c2.splice(X, 0, by);
          var a = new fy([6, 36, 2],this);
          a.data = {
              e: U.Qu,
              AV: i.t.slice(),
              Un: c2,
              J1: i.C.slice(0),
              et: [c2.indexOf(by)]
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.SP && E.Qh == "merge") {
          var dm = []
            , gg = i.root.children
            , a6 = 0;
          for (var G = 0; G < gg.length; G++) {
              var R = gg[G]
                , z = R.z
                , be = R.children
                , eA = !0;
              if (!z.Uf() || be.length == 0)
                  continue;
              for (var eJ = 0; eJ < be.length; eJ++)
                  if (!be[eJ].z.getName().startsWith("_a_")) {
                      eA = !1;
                      break
                  }
              if (eA)
                  dm.push(i.t.indexOf(z))
          }
          var gF = [];
          for (var G = 0; G < dm.length; G++)
              if (i.C.indexOf(dm[G]) != -1)
                  gF.push(dm[G]);
          if (gF.length >= 2)
              dm = gF;
          if (dm.length < 2) {
              alert("At least two animation folders needed (whose layers start with \"_a_\").", 3500);
              return
          }
          var gz = [];
          for (var G = 0; G < dm.length; G++)
              gz.push(i.t[dm[G]].getName());
          var eh = [];
          for (var fZ = 0; fZ < dm.length; fZ++) {
              var R = i.root.WY(dm[fZ])
                , gn = [[], [], 0, fZ];
              eh.push(gn);
              for (var G = 0; G < R.children.length; G++) {
                  var s = R.children[G].index
                    , z = R.children[G].z
                    , bW = z.getName()
                    , i5 = 20
                    , gK = bW.split(",");
                  if (gK.length > 1) {
                      var f9 = parseInt(gK.pop());
                      if (!isNaN(f9) && f9 != 0)
                          i5 = f9
                  }
                  gn[0].push(z);
                  gn[1].push(i5);
                  gn[2] += i5
              }
          }
          eh.sort(function(a, hI) {
              return hI[2] - a[2]
          });
          var fs = eh[0]
            , ca = fs[2];
          for (var dM = 1; dM < eh.length; dM++) {
              var gn = eh[dM]
                , aa = 1
                , gG = gn[1].slice(0)
                , cq = 0;
              while ((aa + 1) * gn[2] <= fs[2]) {
                  aa++;
                  gG = gG.concat(gn[1])
              }
              gn[1] = gG;
              gn[2] *= aa;
              var bs = fs[2] / gn[2];
              for (var G = 0; G < gn[1].length; G++) {
                  var ey = Math.floor(gn[1][G] * bs);
                  gn[1][G] = ey;
                  cq += ey
              }
              while (cq < ca) {
                  cq++;
                  gn[1][gn[1].length - 1]++
              }
              gn[2] = cq
          }
          var bu = []
            , gU = []
            , ey = [];
          for (var G = 0; G < eh.length; G++) {
              bu.push(0);
              gU.push(0)
          }
          while (a6 < ca) {
              var gZ = 1e9
                , gX = -1;
              for (var G = 0; G < eh.length; G++) {
                  var df = eh[G][1]
                    , bX = bu[G];
                  if (bX != df.length && gU[G] + df[bX] < a6 + gZ) {
                      gX = G;
                      gZ = gU[G] + df[bX] - a6
                  }
              }
              gU[gX] += eh[gX][1][bu[gX]];
              bu[gX]++;
              if (gZ != 0) {
                  ey.push(gZ);
                  a6 += gZ
              }
          }
          for (var G = 0; G < ey.length; G++) {
              var av = ey[G]
                , az = av >>> 1;
              if (av < 17) {
                  var s = ey.length - 1;
                  if (G == 0)
                      ey[1] += av;
                  else if (G == ey.length - 1)
                      ey[s - 1] += av;
                  else {
                      ey[G - 1] += az;
                      ey[G + 1] += av - az
                  }
                  ey.splice(G, 1);
                  G--
              }
          }
          var eY = []
            , d0 = new h4(0,0,i.d,i.v);
          for (var G = 0; G < i.t.length; G++) {
              eY[G] = i.t[G].VD();
              i.t[G].HU(!1)
          }
          var iq = i.C.slice(0);
          i.C = dm;
          var hx = i.Qw();
          hx.sort(function(a, hI) {
              return a - hI
          });
          var c2 = [];
          for (var G = 0; G < i.t.length; G++) {
              if (hx.indexOf(G) == -1)
                  c2.push(i.t[G])
          }
          eh.sort(function(a, hI) {
              return a[3] - hI[3]
          });
          function cb(df, eI) {
              var G = 0
                , fz = 0;
              while (fz + df[G] <= eI) {
                  fz += df[G];
                  G++
              }
              return G
          }
          a6 = 0;
          c2.splice(hx[0], 0, i.Yy());
          for (var hD = 0; hD < ey.length; hD++) {
              var A = [];
              for (var G = 0; G < eh.length; G++) {
                  var bX = cb(eh[G][1], a6) % eh[G][0].length
                    , z = eh[G][0][bX];
                  A.push(z)
              }
              var z = i.qV();
              for (var G = 0; G < eh.length; G++) {
                  var gh = A[G]
                    , hi = i.t[dm[G]];
                  gh.HU(!0);
                  hi.HU(!0)
              }
              i.s();
              i.L2();
              var bd = i.A7();
              z.rect = _._F(bd, d0);
              z.buffer = _.I(z.rect.X() * 4);
              _.p8(bd, d0, z.buffer, z.rect);
              for (var G = 0; G < eh.length; G++) {
                  var gh = A[G]
                    , hi = i.t[dm[G]];
                  gh.HU(!1);
                  hi.HU(!1)
              }
              z.HU(hD == 0);
              z.gv("_a_frm" + hD + "," + ey[hD]);
              c2.splice(hx[0] + 1 + hD, 0, z);
              a6 += ey[hD]
          }
          var z = i.qV();
          z.gv(gz.join(" + "));
          z.SI = "pass";
          z.add.lsct = c5.Kw;
          z.it = 24;
          c2.splice(hx[0] + 1 + ey.length, 0, z);
          for (var G = 0; G < i.t.length; G++)
              i.t[G].HU(eY[G]);
          var a = new fy([6, 12, 0],this);
          a.data = {
              e: U.Qu,
              AV: i.t,
              Un: c2,
              J1: iq,
              et: [hx[0] + 1 + ey.length]
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.VM || k == U.ma || k == U.ct) {
          var eZ = i.t.slice(0), aN = i.C.slice(0), bM = !0, by, bG;
          if (k == U.VM)
              i.C = [V, V - 1];
          if (k == U.ct) {
              i.C = [];
              for (var G = 0; G < i.t.length; G++)
                  if (i.t[G].VD())
                      i.C.push(G)
          }
          var fk = i.Qw();
          fk.sort(function(a, hI) {
              return a - hI
          });
          var h6 = new h4
            , d0 = new h4(0,0,i.d,i.v);
          for (var G = 0; G < fk.length; G++) {
              var s = fk[G]
                , z = i.t[s];
              bM = bM && z.bm() && z.add.vmsk != null;
              h6 = h6.ip(i.root.WY(s).Qc(i, !0))
          }
          if (bM) {
              by = i.t[fk[0]].clone();
              var hh = by.add.vmsk;
              for (var G = 1; G < fk.length; G++) {
                  var L = i.t[fk[G]]
                    , hS = U.ql.MD(L.add.vmsk.b);
                  hh.b = hh.b.concat(hS.slice(2));
                  by.add.vogk = by.add.vogk.concat(JSON.parse(JSON.stringify(L.add.vogk)))
              }
              by.add.vmsk.bZ = !0;
              by.Kf(i)
          } else if (d0.rp(h6)) {
              by = i.qV();
              by.gv(i.t[fk[fk.length - 1]].getName());
              by.rect = h6;
              by.buffer = _.I(h6.X() * 4);
              var ho = i.A7(fk);
              _.p8(ho, d0, by.buffer, h6);
              by.s()
          } else {
              i.Fa(fk, !0);
              by = i.t[i.C[0]];
              i.t.splice(i.C[0], 1);
              var hb = i.W4(by.add.SoLd.Idnt.v);
              i.add.lnk2.splice(i.add.lnk2.indexOf(hb), 1);
              delete by.add.SoLd
          }
          var fc = C.q(w.zA)
            , iN = -1;
          if (E.v4 && E.v4.Dplc && E.v4.Dplc.v)
              fc = !0;
          if (fc && k == U.ct && i.t[aN[0]].Qs() && i.t[aN[0]].rect.OL()) {
              iN = aN[0];
              by.gv(i.t[iN].getName())
          }
          var c2 = [];
          for (var G = 0; G < i.t.length; G++)
              if (fc || fk.indexOf(G) == -1)
                  if (G != iN)
                      c2.push(i.t[G]);
          var aJ = fk[fk.length - 1]
            , gy = aJ == i.t.length - 1 ? null : i.t[aJ + 1]
            , ea = gy ? c2.indexOf(gy) : c2.length;
          c2.splice(ea, 0, by);
          bG = [ea];
          var a = new fy([6, 12, 0],this);
          a.data = {
              e: U.Qu,
              AV: eZ,
              Un: c2,
              J1: aN,
              et: bG
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.zg) {
          var es = i.qV();
          es.rect = new h4(0,0,i.d,i.v);
          es.buffer = _.I(es.rect.X() * 4);
          _.EE(es.buffer, 4294967295);
          _.p.JA("norm", i.A7(), es.rect, es.buffer, es.rect, es.rect, 1);
          es.gv("Background");
          es.add.lspf = 1 << 2;
          var a = new fy([6, 12, 1],this);
          a.data = {
              e: U.Qu,
              AV: i.t.slice(),
              Un: [es],
              J1: i.C.slice(0),
              et: [0]
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.BA || k == U.nH || k == U.Pk || k == U.NP || k == U.Mb) {
          var z = k == U.Mb ? i.t[i.C[0]].clone() : i.qV(), gL = i2.get([0, 3]), d2 = E.dq, i7 = !1, bj, dd;
          if (k == U.Pk)
              gL = i2.get([12, 76, 1]);
          if (k == U.Mb) {
              var ac = i.t[i.C[0]]
                , aq = ac.as(i, i.N);
              if (aq == null) {
                  alert("Copied area is empty");
                  return
              }
              z.rect = aq.rect;
              z.buffer = aq.UE;
              z.zT(i)
          }
          if (k == U.NP) {
              z.rect = hn.BS.Ov(E.Oc, i);
              z.buffer = E.Oc.buffer.slice(0);
              if (E.dv && i.N) {
                  z.r = new U.xW;
                  z.r.rect = i.N.rect;
                  z.r.color = 0;
                  z.r.channel = i.N.channel.slice(0)
              }
          }
          if (k == U.BA) {
              this.track({
                  bT: "make",
                  v4: {
                      classID: "Mk",
                      null: bY.Ve("Lyr")
                  }
              })
          }
          if (k == U.nH) {
              z.it |= 16;
              var iu = E.v4.Usng.v
                , aE = iu.Type.v
                , iy = gM.cC[aE.classID];
              gL = i2.get(gM.names[iy]);
              if (iu.Nm)
                  d2 = iu.Nm.v;
              z.add[iy] = ef.Sk(iy);
              if (z.add[iy] == null)
                  z.add[iy] = {};
              for (var fl in aE)
                  z.add[iy][fl] = JSON.parse(JSON.stringify(aE[fl]));
              z.r = hn.BS.tr(i)
          }
          if (k == U.Pk) {
              z.it |= 16;
              var cu = E.v4
                , iu = cu.Usng.v
                , h8 = iu.Type.v
                , cB = iu.Shp;
              if (cB == null) {
                  var gp = i.LM()
                    , cW = gp[0]
                    , hL = gp[1];
                  if (hL.length != 0) {
                      var bf = cW[hL[0]].add;
                      z.add.vmsk = bf.vmsk.clone();
                      z.add.vstk = JSON.parse(JSON.stringify(ao.S6.default));
                      z.add.vogk = JSON.parse(JSON.stringify(bf.vogk));
                      i.du = []
                  } else
                      z.r = hn.BS.tr(i)
              } else {
                  console.log(iu);
                  z.add.vmsk = new U.ql;
                  z.add.vstk = JSON.parse(JSON.stringify(iu.strokeStyle ? iu.strokeStyle.v : ao.S6.default));
                  z.add.vogk = [];
                  if (cB) {
                      var cy = _.U7.mk(cB);
                      if (cy) {
                          z.add.vogk = [cy];
                          z.add.vmsk.b.push({
                              type: 0,
                              A0: 1,
                              length: 0
                          });
                          _.U7._A(z.add.vogk, z.add.vmsk)
                      } else {
                          cB = cB.v;
                          var dF = cB.classID;
                          if (dF == "Plgn") {
                              var d5 = cB.Cntr.v
                                , eO = cB.corner.v;
                              d5 = new bT(d5.Hrzn.v.val,d5.Vrtc.v.val);
                              eO = new bT(eO.Hrzn.v.val,eO.Vrtc.v.val);
                              z.add.vmsk.b = _.Y.L8.M5(d5.x, d5.y, Math.sqrt(eO.x * eO.x + eO.y * eO.y), Math.atan2(eO.y, eO.x), cB.sides.v, 0)
                          } else if (dF == "customShape") {
                              var cG = _.U7.JQ(cB), iR = cG[2] - cG[0], an = cG[3] - cG[1], aL = N.ZN, bb, eb;
                              for (var G = 0; G < aL.length; G++)
                                  if (aL[G].vA == cB.Nm.v)
                                      bb = aL[G];
                              if (bb) {
                                  eb = U.ql.MD(bb.b);
                                  _.Y.aW(eb, new fn(iR,0,0,an,cG[0],cG[1]))
                              } else
                                  eb = _.Y.L8.Rect(cG[0], cG[1], iR, an, 0);
                              z.add.vmsk.b = eb
                          }
                          z.cE()
                      }
                  }
              }
              var cj = {
                  solidColorLayer: 0,
                  gradientLayer: 1,
                  patternLayer: 2
              }[h8.classID]
                , cH = ["SoCo", "GdFl", "PtFl"][cj];
              z.add[cH] = JSON.parse(JSON.stringify(ao.wW[cj]));
              hn.BS.B$(h8, z.add[cH], cj);
              if (cB == null)
                  gL = i2.get([6, 48, 0, cj]);
              if (cH == "PtFl")
                  i.fN(h$.Si(z.add[cH].Ptrn.v, N.hz));
              z.Kf(i)
          }
          var al = hn.BS.aa(i, gL + " ");
          z.gv(gL + " " + (al + 1));
          if (d2)
              z.gv(d2);
          var a1 = i.C.length == 0 ? i.t.length - 1 : i.C[i.C.length - 1]
            , b6 = i.t[a1];
          if (k == U.Pk && b6.Qs() && b6.rect.OL()) {
              i7 = !0;
              z.gv(b6.getName());
              bj = a1
          } else {
              bj = a1 + 1;
              if (b6 && b6.add.lsct == c5.qd)
                  bj--
          }
          if (E.akT)
              bj = Math.max(0, bj - 1);
          var c2 = i.t.slice(0);
          c2.splice(bj, i7 ? 1 : 0, z);
          var hF = [5, 2];
          if (k == U.BA)
              hF = [6, 13];
          if (k == U.nH)
              hF = [6, 1];
          if (k == U.Pk) {
              hF = [6, 48, 1];
              var cB = E.v4.Usng.v.Shp;
              if (cB) {
                  var ew = {
                      Rctn: [10, 32],
                      Ln: [10, 35],
                      Elps: [10, 33],
                      Plgn: [12, 93, 0],
                      customShape: [10, 31]
                  }[cB.v.classID];
                  if (ew)
                      hF = ew
              }
          }
          if (k == U.Mb) {
              hF = [6, 49]
          }
          if (k == U.Mb || k == U.Pk || k == U.NP)
              if (i.N)
                  dd = [i.N, null];
          var a = new fy(hF,this);
          a.data = {
              e: U.Qu,
              AV: i.t.slice(0),
              Un: c2,
              J1: i.C.slice(0),
              et: [bj],
              pi: dd
          };
          i.b8(a);
          this.Fh(a.data, i);
          if (k == U.Pk && cB == null && cj != 0 || k == U.nH) {
              var b2 = new q(c.E.P);
              b2.data = {
                  e: c.f.zl,
                  KN: iL.Yb.q5
              };
              K.U(b2)
          }
      }
      if (k == U.Qr) {
          var z = i.qV();
          z.gv(i2.get([0, 4]) + " " + i.t.length);
          z.SI = "pass";
          z.add.lsct = c5.qd;
          z.it = 24;
          var gR = i.Yy()
            , a1 = V
            , bj = a1 + 1
            , c2 = i.t.slice(0);
          c2.splice(bj, 0, gR, z);
          var a = new fy([6, 20],this);
          a.data = {
              e: U.Qu,
              AV: i.t.slice(0),
              Un: c2,
              J1: i.C.slice(0),
              et: [bj + 1]
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.Bo || k == U.LI) {
          var i4 = k == U.Bo ? E.source : i.C[0], aK, ep, hu = i.C.indexOf(i4) != -1, eM = C.q(w.zA) | E.a7_, e6;
          if (hu)
              e6 = i.Qw();
          else
              e6 = i.Er(i4);
          e6.sort(function(a, hI) {
              return a - hI
          });
          if (k == U.Bo) {
              aK = E.target;
              ep = E.$E > .5
          } else if (E.target != null) {
              aK = E.target;
              ep = !0;
              i.yj = !0
          } else {
              var co = E.Qh;
              ep = co > 1;
              if (co == 0) {
                  aK = i.t.length - 1
              }
              if (co == 1) {
                  aK = e6[e6.length - 1] + 1;
                  var L = i.Er(aK);
                  if (L.indexOf(i4) == -1)
                      aK += L.length - 1
              }
              if (co == 2) {
                  aK = e6[0] - 1;
                  var L = i.Er(aK);
                  if (L.indexOf(i4) == -1)
                      aK -= L.length - 1
              }
              if (co == 3) {
                  aK = 0
              }
              if (aK < 0 || aK > i.t.length - 1)
                  return;
              i.yj = !0
          }
          if (e6.indexOf(aK) != -1 && !eM)
              return;
          var af = i.t[aK]
            , c2 = [];
          if (eM)
              c2 = i.t.slice(0);
          else
              for (var G = 0; G < i.t.length; G++)
                  if (e6.indexOf(G) == -1)
                      c2.push(i.t[G]);
          var ct = c2.indexOf(af);
          if (k == U.Bo && af.Uf() && af.add.lsct == c5.Kw && E.$E > .8)
              ct -= i.Er(aK).length - 1;
          var hc = []
            , cJ = eM ? i.Bp(hu ? null : i4) : null;
          for (var G = 0; G < e6.length; G++) {
              var bw = ct + (ep ? 0 : 1) + G
                , D = eM ? cJ[G] : i.t[e6[G]];
              c2.splice(bw, 0, D);
              hc.push(bw)
          }
          var a = new fy(eM ? [6, 0] : [6, 35],this);
          a.data = {
              e: U.Qu,
              AV: i.t.slice(0),
              Un: c2,
              J1: i.C.slice(0),
              et: hc
          };
          i.b8(a);
          this.Fh(a.data, i);
          var cu = {
              classID: "move",
              null: bY.Ve("Lyr", !0),
              T: {
                  t: "obj ",
                  v: [{
                      t: "indx",
                      v: {
                          classID: "Lyr",
                          val: ct + (ep ? 0 : 1)
                      }
                  }]
              },
              Adjs: {
                  t: "bool",
                  v: !1
              },
              Vrsn: {
                  t: "long",
                  v: 5
              },
              Dplc: {
                  t: "long",
                  v: eM
              }
          };
          this.track({
              bT: "move",
              v4: cu
          })
      }
      if (k == U.BR) {
          if (E.Mw) {
              if (j == null || !j.Uf())
                  return;
              var R = i.root.WY(V)
                , bx = i.t.indexOf(R.aef)
                , c2 = i.t.slice(0);
              c2.splice(V, 1);
              c2.splice(bx, 1);
              var bJ = [];
              for (var G = bx; G < V - 1; G++)
                  bJ.push(G);
              var a = new fy("Ungroup Layers",this);
              a.data = {
                  e: U.Qu,
                  AV: i.t.slice(0),
                  Un: c2,
                  J1: i.C.slice(0),
                  et: bJ
              };
              i.b8(a);
              this.Fh(a.data, i)
          } else {
              var z = i.qV()
                , gY = i2.get([0, 4]) + " ";
              z.gv(gY + (hn.BS.aa(i, gY) + 1));
              z.SI = "pass";
              if (E.dq)
                  z.gv(E.dq);
              z.add.lsct = i.C.length == 1 ? c5.qd : c5.Kw;
              z.it = 24;
              var gR = i.Yy()
                , e6 = i.Qw();
              if (e6.length == 0)
                  return;
              e6.sort(function(a, hI) {
                  return a - hI
              });
              var c2 = [];
              for (var G = 0; G < i.t.length; G++)
                  if (e6.indexOf(G) == -1)
                      c2.push(i.t[G]);
              var a1 = i.C[i.C.length - 1] - e6.length;
              c2.splice(a1 + 1, 0, gR);
              for (var G = 0; G < e6.length; G++)
                  c2.splice(a1 + 2 + G, 0, i.t[e6[G]]);
              c2.splice(a1 + 2 + e6.length, 0, z);
              var a = new fy([6, 9],this);
              a.data = {
                  e: U.Qu,
                  AV: i.t.slice(0),
                  Un: c2,
                  J1: i.C.slice(0),
                  et: [c2.indexOf(z)]
              };
              i.b8(a);
              this.Fh(a.data, i);
              var o = {
                  bT: "make",
                  Ak: !0
              };
              o.v4 = {
                  classID: "Mk",
                  null: bY.Ve("layerSection"),
                  From: bY.Ve("Lyr", !0),
                  Usng: {
                      t: "Objc",
                      v: {
                          classID: "layerSection",
                          Nm: {
                              t: "TEXT",
                              v: z.getName()
                          }
                      }
                  }
              };
              this.track(o)
          }
      }
      if (k == U.wp) {
          if (i.C.length != 1)
              return;
          var X = i.C[0]
            , cf = C.q(w.zA);
          if (i.t[X].$Y() == null) {
              k = U.mx;
              E.zw = i.N ? !cf ? "RvlS" : "HdSl" : !cf ? "RvlA" : "HdAl"
          } else
              k = U.H4
      }
      if (k == U.mx) {
          if (i.C.length != 1)
              return;
          var X = i.C[0]
            , z = i.t[X];
          if (z.add.vmsk && z.r == null)
              z.Kf(i);
          var fe = z.$Y();
          if (fe == null || E.a3d) {
              var a = new fy([6, 21],this)
                , bc = new U.xW
                , fU = E.zw
                , ai = fU == "RvlS" || fU == "HdSl";
              if (fU == "RvlS" || fU == "HdAl" || fU == "Trns")
                  bc.color = 0;
              if (ai) {
                  bc.channel = i.N.channel.slice(0);
                  bc.rect = i.N.rect.clone();
                  if (fU == "HdSl")
                      _.KP(bc.channel)
              }
              if (fU == "Trns") {
                  bc.rect = z.rect.clone();
                  bc.channel = _.I(z.rect.X());
                  _.wF(z.buffer, bc.channel, 3)
              }
              a.data = {
                  e: k,
                  z: X,
                  r: bc,
                  zC: fe,
                  pi: ai ? [i.N, null] : null
              };
              i.b8(a);
              this.Fh(a.data, i);
              i.t[X].dz = 1;
              this.track({
                  bT: "make",
                  v4: {
                      __name: "Make",
                      classID: "Mk",
                      Nw: {
                          t: "type",
                          v: {
                              classID: "Chnl"
                          }
                      },
                      At: {
                          t: "obj ",
                          v: [{
                              t: "Enmr",
                              v: {
                                  classID: "Chnl",
                                  typeID: "Chnl",
                                  enum: "Msk"
                              }
                          }]
                      },
                      Usng: {
                          t: "enum",
                          v: {
                              UsrM: fU
                          }
                      }
                  }
              })
          }
      } else if (k == U.g2) {
          var W = i.t[E.src]
            , d = i.t[E.jK];
          if (d.$Y())
              return;
          var a = new fy([6, 21],this)
            , bc = W.$Y();
          if (E.aq) {
              a.data = {
                  e: U.mx,
                  z: E.jK,
                  r: bc.clone()
              }
          } else {
              a.data = {
                  e: k,
                  src: E.src,
                  jK: E.jK,
                  r: bc
              }
          }
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.oU) {
          if (i.C.length != 1)
              return;
          var X = V;
          if (i.t[X].$Y() != null) {
              var a = new fy([6, 22],this);
              a.data = {
                  e: k,
                  z: X,
                  r: i.t[X].$Y()
              };
              i.b8(a);
              this.Fh(a.data, i)
          }
      }
      if (k == U.Go) {
          var eZ = i.t.slice(0)
            , es = j.clone()
            , aO = es.$Y();
          _.qY(aO.or(es.rect), es.rect, es.buffer, es.rect);
          hn.BS.ZL(i, es);
          i.t[i.C[0]] = es;
          var a = new fy([5, 8],this);
          a.data = {
              e: U.Qu,
              AV: eZ,
              Un: i.t.slice(),
              J1: i.C.slice(0),
              et: i.C.slice(0)
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.Dw) {
          if (i.C.length != 1)
              return;
          var X = i.C[0];
          if (i.t[X].uy(i).r == null) {
              var a = new fy([6, 45],this);
              a.data = {
                  e: k,
                  z: X,
                  r: new U.xW
              };
              i.b8(a);
              this.Fh(a.data, i)
          }
      }
      if (k == U.uS) {
          if (i.C.length != 1)
              return;
          var X = i.C[0];
          if (i.t[X].uy(i).r != null) {
              var a = new fy([6, 46],this);
              a.data = {
                  e: k,
                  z: X,
                  r: i.t[X].uy(i).r
              };
              i.b8(a);
              this.Fh(a.data, i)
          }
      }
      if (k == U.lw) {
          if (E.z == null && i.C.length != 1)
              return;
          if (i.t[V].XQ()) {
              var a = new fy([6, 47],this)
                , ch = JSON.stringify(i.t[V].add.SoLd)
                , hQ = JSON.parse(ch);
              delete hQ.filterFX;
              a.data = {
                  e: U.E5,
                  C9: [{
                      CH: V,
                      OC: [ch, JSON.stringify(hQ)],
                      TP: [i.t[V].uy(i), null]
                  }]
              };
              i.b8(a);
              this.Fh(a.data, i)
          }
      }
      if (k == U.H4) {
          if (i.C.length != 1)
              return;
          if (j.add.vmsk == null) {
              var a = new fy([6, 23],this), bD = i.LM(), b = bD[1], bD = bD[0], bc, cy;
              if (E.acF && b.length != 0) {
                  var bf = bD[b[0]].add;
                  bc = bf.vmsk.clone();
                  cy = bf.vogk
              } else {
                  bc = new U.ql;
                  cy = [];
                  bc.b[1].all = E.aek ? 0 : 1
              }
              a.data = {
                  e: k,
                  z: V,
                  gY: !0,
                  r: bc,
                  U7: JSON.stringify(cy),
                  S6: null
              };
              if (j.bm()) {
                  a.data.S6 = JSON.stringify(ao.S6.default)
              }
              i.b8(a);
              this.Fh(a.data, i)
          }
      }
      if (k == U.No) {
          var W = i.t[E.src]
            , d = i.t[E.jK];
          if (d.add.vmsk)
              return;
          var a = new fy([6, 23],this)
            , hh = W.add.vmsk;
          a.data = {
              z: E.jK,
              gY: W.QK,
              r: hh.clone(),
              U7: JSON.stringify(W.add.vogk),
              S6: W.add.vstk ? JSON.stringify(W.add.vstk) : null
          };
          if (E.aq) {
              a.data.e = U.H4
          } else {
              a.data.e = k;
              a.data.src = E.src;
              a.data.jK = E.jK
          }
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.zF) {
          if (i.C.length != 1)
              return;
          var z = i.t[V]
            , hh = z.add.vmsk;
          if (hh != null) {
              var a = new fy([6, 24],this);
              a.data = {
                  e: k,
                  z: V,
                  gY: z.QK,
                  r: hh,
                  U7: JSON.stringify(z.add.vogk),
                  S6: z.add.vstk ? JSON.stringify(z.add.vstk) : null
              };
              i.b8(a);
              this.Fh(a.data, i)
          }
      }
      if (k == U.sp) {
          var a = new fy("Metadata",this);
          a.data = {
              e: k,
              L_: JSON.stringify(i.Xp),
              we: JSON.stringify(E.we)
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.gL) {
          var hZ = E.jK ? E.jK : i
            , hm = hZ.name
            , d2 = E.G + ".psd";
          if (hm == d2)
              return;
          var a = new fy([6, 37],this);
          a.data = {
              e: k,
              aeG: hm,
              dq: d2
          };
          if (E.ajz != !0)
              hZ.b8(a);
          this.Fh(a.data, hZ)
      }
      if (k == U.SP && E.Qh == "makeframes") {
          var ht = [];
          for (var G = 0; G < i.C.length; G++) {
              var s = i.C[G]
                , z = i.t[s]
                , fF = z.getName();
              if (fF.startsWith("_a_") || z.add.lsct == c5.XG)
                  continue;
              ht.push([s, fF, "_a_" + fF, z.add.lnsr, null])
          }
          var a = new fy([6, 37],this);
          a.data = {
              e: U.tJ,
              KG: ht
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.tJ) {
          var hm = j.getName()
            , d2 = E.name.substring(0, 255);
          if (hm == d2)
              return;
          var a = new fy([6, 37],this);
          a.data = {
              e: k,
              KG: [[V, hm, d2, j.add.lnsr, null]]
          };
          i.b8(a);
          this.Fh(a.data, i);
          this.track(bY.sf("Nm", {
              t: "TEXT",
              v: d2
          }))
      }
      if (k == U.xN) {
          var cx = i.Qw()
            , gk = []
            , aA = [];
          for (var G = 0; G < cx.length; G++) {
              gk.push(i.t[cx[G]].add.lclr);
              aA.push(E.aoy)
          }
          var a = new fy([6, 38],this);
          a.data = {
              e: k,
              t: cx,
              akV: gk,
              ag2: aA
          };
          i.b8(a);
          this.Fh(a.data, i)
      }
      if (k == U.If) {
          var a = i.history[i.tv];
          if (a != null && a.F == this && a.data.e == k && a.data.z == E.S_ && a.data.Gz.Yp == E.D$.Yp)
              a.data.Gz = E.D$;
          else {
              a = new fy("Mask Density / Feather",this);
              a.data = {
                  e: k,
                  z: E.S_,
                  Io: i.t[E.S_].e_(E.D$.Yp),
                  Gz: E.D$
              };
              i.b8(a)
          }
          this.Fh(a.data, i)
      }
      if (k == U.Sv) {
          var ie = JSON.stringify(E.G)
            , du = JSON.parse(ie)
            , a = i.history[i.tv];
          if (a != null && a.F == this && a.data.e == k && a.data.P1 == E.P1 && a.data.HQ.join(",") == E.HQ.join(",")) {
              for (var G = 0; G < E.HQ.length; G++)
                  a.data.LP[G] = du;
              if (a.data.v4 && du.K8 != 0)
                  hn.BS.B$(du.ja, a.data.v4.T.v, du.K8 - 1)
          } else {
              a = new fy([11, 6],this);
              a.data = {
                  e: k,
                  HQ: E.HQ,
                  P1: E.P1,
                  a2l: [],
                  LP: []
              };
              var ig = !1;
              for (var G = 0; G < E.HQ.length; G++) {
                  var s = E.HQ[G]
                    , z = i.t[s]
                    , dz = E.P1 ? u.ut.lX(i, s) : JSON.parse(JSON.stringify(z.add.vstk));
                  a.data.a2l.push(dz);
                  a.data.LP.push(du);
                  if (JSON.stringify(dz) != ie)
                      ig = !0
              }
              if (!ig)
                  return;
              i.b8(a);
              if (E.P1 && du.K8 > 0) {
                  var cu = a.data.v4 = {
                      classID: "setd",
                      null: bY.Ve("contentLayer", !0),
                      T: {
                          t: "Objc",
                          v: {}
                      }
                  }
                    , cH = ["SoCo", "GdFl", "PtFl"][du.K8 - 1];
                  hn.BS.B$(du.ja, cu.T.v, du.K8 - 1);
                  this.track({
                      bT: "set",
                      v4: cu
                  })
              }
          }
          if (E.P1 && du.K8 == 3)
              i.fN(h$.Si(du.ja.Ptrn.v, N.hz));
          if (!E.P1) {
              var aX = du.strokeStyleContent.v;
              if (aX.classID == ao.S6.gk[2])
                  i.fN(h$.Si(aX.Ptrn.v, N.hz))
          }
          this.Fh(a.data, i)
      }
  }
  ;
  hn.BS.B$ = function(E, K, i) {
      var C = [ao.wz, ao.yI, ao.TX][i];
      if (K.classID == null)
          K.classID = ["solidColorLayer", "gradientLayer", "patternLayer"][i];
      for (var G = 0; G < C.length; G++)
          if (E[C[G]])
              K[C[G]] = JSON.parse(JSON.stringify(E[C[G]]))
  }
  ;
  hn.BS.tr = function(E) {
      var K = new U.xW;
      if (E.N != null) {
          K.color = 0;
          K.channel = E.N.channel.slice(0);
          K.rect = E.N.rect.clone()
      }
      return K
  }
  ;
  hn.BS.l6 = function(E, K, i, C) {
      var N = C.d / i.d
        , k = C.v / i.v
        , V = C.d / 2
        , j = C.v / 2
        , a = _.$.X6(C).H;
      for (var G = 0; G < E.t.length; G++) {
          var e = E.t[G]
            , L = e.add.SoLd;
          if (L == null || L.Idnt.v != K)
              continue;
          if (N != 1 || k != 1) {
              var g = u._.ph(L.nonAffineTransform)
                , I = _.J.hv(g, C)
                , h = new fn;
              h.translate(-V, -j);
              h.scale(N, k);
              h.translate(V, j);
              var o = _.J.M8(I, _.J.Nl(h))
                , H = a.slice(0);
              _.J.apply(o, H);
              L.Trnf = u._.j6(H);
              L.nonAffineTransform = u._.j6(H)
          }
          e.z_(E)
      }
      E.s()
  }
  ;
  hn.BS.a6W = function(E, K, i) {
      K.color = 255 - K.color;
      _.KP(K.channel);
      K.bZ = !0;
      E.Kf(i);
      i.s()
  }
  ;
  hn.BS.prototype.eS = function(E, K) {
      var i = E.e
        , C = K.t[E.z];
      K._S = !0;
      if (i == U.PG) {
          K.add.lnk2.splice(K.add.lnk2.indexOf(E._f), 1, E.yu);
          hn.BS.l6(K, E.id, E._f.Y0[1], E.yu.Y0[1])
      }
      if (i == U.G0) {
          C.add.SoLd.Impr.v.classID = E.Io;
          C.z_(K)
      }
      if (i == U.k9) {
          var N = JSON.parse(E.HQ);
          for (var G = 0; G < N.length; G++)
              K.t[N[G]].SI = E.hT[G];
          K.s()
      }
      if (i == U.hQ) {
          var N = JSON.parse(E.HQ);
          for (var G = 0; G < N.length; G++)
              K.t[N[G]].opacity = E.hT[G];
          K.s()
      }
      if (i == U.V9) {
          var N = JSON.parse(E.HQ);
          for (var G = 0; G < N.length; G++)
              if (K.t[N[G]].add.lsct != c5.XG)
                  K.t[N[G]].add.lspf = E.hT[G]
      }
      if (i == U.hI) {
          var k = E.Wh
            , V = E.afk;
          delete C.add[k[0]];
          if (V[0] != "----")
              C.add[V[0]] = V[1]
      }
      if (i == U.o4) {
          C.add.iOpa = E.hT;
          K.s()
      }
      if (i == U.cv) {
          for (var G = 0; G < E.HQ.length; G++) {
              var j = K.t[E.HQ[G]];
              j.HU(!j.VD())
          }
          K.s()
      }
      if (i == U.eq) {
          var a = C.$Y();
          a.isEnabled = !a.isEnabled;
          C.Kf(K);
          K.s()
      }
      if (i == U.np) {
          var a = C.uy(K).r;
          a.isEnabled = !a.isEnabled;
          C.s();
          K.s()
      }
      if (i == U.ZG) {
          var a = C.add.vmsk;
          a.isEnabled = !a.isEnabled;
          if (!a.isEnabled) {
              if (C.md) {
                  C.r = C.md;
                  C.md = null
              } else
                  C.r = null
          } else if (C.r) {
              C.md = C.r;
              C.r = null
          }
          C.Kf(K);
          K.s()
      }
      if (i == U.SE) {
          C.iB = !C.iB;
          K.s()
      }
      if (i == U.Bl) {
          C.add.lmfx.masterFXSwitch.v = !C.add.lmfx.masterFXSwitch.v;
          C.W.aX = !0;
          K.s()
      }
      if (i == U.S9) {
          C.add.SoLd.filterFX.v.enab.v = !C.add.SoLd.filterFX.v.enab.v;
          C.Yx(K);
          K.s()
      }
      if (i == U.Y6) {
          var e = E.index
            , L = C.add.lmfx[ao.Y9[e[0]]].v[e[1]].v;
          L.enab.v = !L.enab.v;
          C.W.aX = !0;
          K.s()
      }
      if (i == U.x0) {
          var g = K.t[E.a20]
            , I = K.t[E.a3W]
            , h = E.ab4
            , o = E.akF;
          if (h == "")
              delete g.add.lmfx;
          else
              g.add.lmfx = JSON.parse(h);
          if (o == "")
              delete I.add.lmfx;
          else
              I.add.lmfx = JSON.parse(o);
          g.W.aX = !0;
          I.W.aX = !0;
          K.s()
      }
      if (i == U.S5) {
          var H = C.add.SoLd.filterFX.v.filterFXList.v[E.index].v;
          H.enab.v = !H.enab.v;
          C.Yx(K);
          K.s()
      }
      if (i == U.u1) {
          C.add.SoLd.filterFX.v = JSON.parse(JSON.stringify(E.aeZ));
          C.Yx(K);
          K.s()
      }
      if (i == U.kB) {
          var a = C.$Y();
          a.Rq = !a.Rq
      }
      if (i == U.gA) {
          var a = C.add.vmsk;
          a.Rq = !a.Rq
      }
      if (i == U.Q0) {
          var A = E.rT;
          for (var G = 0; G < A.length; G += 2) {
              var S = A[G]
                , j = S >= 0 ? K.t[S] : K.xq[-1 - S];
              j.add.vogk = JSON.parse(A[G + 1]);
              _.U7._A(j.add.vogk, j.add.vmsk);
              if (S >= 0)
                  j.Kf(K)
          }
          K.s()
      }
      if (i == U.Sf) {
          C.add.artb = JSON.parse(E.adk);
          K.s()
      }
      if (i == U.vn) {
          K.N = E.JY;
          K.h_ = E.rT.slice(0);
          K.QZ = E.S$.slice(0);
          K.nK = K.aO = !0
      }
      if (i == U.Ah) {
          var v = E.agj;
          for (var G = 0; G < v.length; G++)
              K.t[G].RE = v[G]
      }
      if (i == U.Qu) {
          if (E.J1)
              K.C = E.J1;
          if (E.pi)
              K.N = E.pi[0];
          K.Rn = null;
          K.s();
          K.qk(E.AV)
      }
      if (i == U.mx) {
          hn.BS.ZL(K, C);
          if (E.zC)
              hn.BS.tM(K, C, E.zC);
          if (E.pi) {
              var s = E.pi[0];
              if (s == null)
                  delete K.N;
              else
                  K.N = s
          }
      }
      if (i == U.g2) {
          hn.BS.ZL(K, K.t[E.jK]);
          hn.BS.tM(K, K.t[E.src], E.r)
      }
      if (i == U.oU) {
          hn.BS.tM(K, C, E.r)
      }
      if (i == U.Dw) {
          C.uy(K).r = null;
          C.s();
          K.s()
      }
      if (i == U.uS) {
          C.uy(K).r = E.r;
          C.s();
          K.s()
      }
      if (i == U.E5) {
          hn.BS.ZE(K, E.C9, 0)
      }
      if (i == U.H4) {
          hn.BS.v8(K, C, !0)
      }
      if (i == U.No) {
          hn.BS.v8(K, K.t[E.jK], E.r.isEnabled);
          hn.BS.Vo(K, K.t[E.src], E)
      }
      if (i == U.zF) {
          hn.BS.Vo(K, C, E)
      }
      if (i == U.sp) {
          K.Xp = JSON.parse(E.L_)
      }
      if (i == U.gL) {
          K.name = E.aeG
      }
      if (i == U.tJ) {
          for (var G = 0; G < E.KG.length; G++) {
              var D = E.KG[G]
                , j = K.t[D[0]];
              j.gv(D[1]);
              if (D[3])
                  j.add.lnsr = D[3];
              else
                  delete j.add.lnsr
          }
      }
      if (i == U.xN) {
          for (var G = 0; G < E.t.length; G++)
              K.t[E.t[G]].add.lclr = E.akV[G]
      }
      if (i == U.Sv) {
          var F = E.a2l;
          for (var G = 0; G < E.HQ.length; G++) {
              var j = K.t[E.HQ[G]]
                , y = F[G];
              if (!E.P1)
                  j.add.vstk = JSON.parse(JSON.stringify(y));
              else
                  u.ut.kk(j, JSON.parse(JSON.stringify(y)));
              j.qy(K)
          }
          K.s()
      }
      if (i == U.If) {
          C.Zj(E.Io);
          C.Kf(K);
          K.s()
      }
      K.aO = !0
  }
  ;
  hn.BS.prototype.Fh = function(E, K) {
      var i = E.e
        , C = K.t[E.z];
      K._S = !0;
      if (i == U.PG) {
          K.add.lnk2.splice(K.add.lnk2.indexOf(E.yu), 1, E._f);
          hn.BS.l6(K, E.id, E.yu.Y0[1], E._f.Y0[1])
      }
      if (i == U.G0) {
          C.add.SoLd.Impr.v.classID = E.Gz;
          C.z_(K)
      }
      if (i == U.k9) {
          var N = JSON.parse(E.HQ);
          for (var G = 0; G < N.length; G++)
              K.t[N[G]].SI = E.Gz;
          K.s()
      }
      if (i == U.hQ) {
          var N = JSON.parse(E.HQ);
          for (var G = 0; G < N.length; G++)
              K.t[N[G]].opacity = E.Gz;
          K.s()
      }
      if (i == U.V9) {
          var N = JSON.parse(E.HQ);
          for (var G = 0; G < N.length; G++)
              if (K.t[N[G]].add.lsct != c5.XG)
                  K.t[N[G]].add.lspf = E.Gz[G]
      }
      if (i == U.hI) {
          var k = E.afk
            , V = E.Wh;
          delete C.add[k[0]];
          if (V[0] != "----")
              C.add[V[0]] = V[1]
      }
      if (i == U.o4) {
          C.add.iOpa = E.Gz;
          K.s()
      }
      if (i == U.cv) {
          for (var G = 0; G < E.HQ.length; G++) {
              var j = K.t[E.HQ[G]];
              j.HU(!j.VD())
          }
          K.s()
      }
      if (i == U.eq) {
          var a = C.$Y();
          a.isEnabled = !a.isEnabled;
          C.Kf(K);
          K.s()
      }
      if (i == U.np) {
          var a = C.uy(K).r;
          a.isEnabled = !a.isEnabled;
          C.s();
          K.s()
      }
      if (i == U.ZG) {
          var a = C.add.vmsk;
          a.isEnabled = !a.isEnabled;
          if (!a.isEnabled) {
              if (C.md) {
                  C.r = C.md;
                  C.md = null
              } else
                  C.r = null
          } else if (C.r) {
              C.md = C.r;
              C.r = null
          }
          C.Kf(K);
          K.s()
      }
      if (i == U.SE) {
          C.iB = !C.iB;
          K.s()
      }
      if (i == U.Bl) {
          C.add.lmfx.masterFXSwitch.v = !C.add.lmfx.masterFXSwitch.v;
          C.W.aX = !0;
          K.s()
      }
      if (i == U.S9) {
          C.add.SoLd.filterFX.v.enab.v = !C.add.SoLd.filterFX.v.enab.v;
          C.Yx(K);
          K.s()
      }
      if (i == U.Y6) {
          var e = E.index
            , L = C.add.lmfx[ao.Y9[e[0]]].v[e[1]].v;
          L.enab.v = !L.enab.v;
          C.W.aX = !0;
          K.s()
      }
      if (i == U.x0) {
          var g = K.t[E.a20]
            , I = K.t[E.a3W]
            , h = E.ahZ
            , o = E.anF;
          if (h == "")
              delete g.add.lmfx;
          else
              g.add.lmfx = JSON.parse(h);
          if (o == "")
              delete I.add.lmfx;
          else
              I.add.lmfx = JSON.parse(o);
          g.W.aX = !0;
          I.W.aX = !0;
          K.s()
      }
      if (i == U.S5) {
          var H = C.add.SoLd.filterFX.v.filterFXList.v[E.index].v;
          H.enab.v = !H.enab.v;
          C.Yx(K);
          K.s()
      }
      if (i == U.u1) {
          C.add.SoLd.filterFX.v = JSON.parse(JSON.stringify(E.alK));
          C.Yx(K);
          K.s()
      }
      if (i == U.kB) {
          var a = C.$Y();
          a.Rq = !a.Rq
      }
      if (i == U.gA) {
          var a = C.add.vmsk;
          a.Rq = !a.Rq
      }
      if (i == U.Q0) {
          var A = E.$m;
          for (var G = 0; G < A.length; G += 2) {
              var S = A[G]
                , j = S >= 0 ? K.t[S] : K.xq[-1 - S];
              j.add.vogk = JSON.parse(A[G + 1]);
              _.U7._A(j.add.vogk, j.add.vmsk);
              if (S >= 0)
                  j.Kf(K)
          }
          K.s()
      }
      if (i == U.Sf) {
          C.add.artb = JSON.parse(E.iM);
          K.s()
      }
      if (i == U.vn) {
          K.N = E.Id;
          K.h_ = E.$m.slice(0);
          K.QZ = E.uM.slice(0);
          K.nK = K.aO = !0
      }
      if (i == U.Ah) {
          var v = E.a6z;
          for (var G = 0; G < v.length; G++)
              K.t[G].RE = v[G]
      }
      if (i == U.Qu) {
          var s = E.Un, D = 0, F;
          for (var G = 0; G < s.length; G++) {
              var j = s[G]
                , y = j.add.lsct;
              if (y == c5.XG)
                  D++;
              else if (y == c5.qd || y == c5.Kw)
                  D--;
              if (j.add.artb && D != 0)
                  F = "Artboards can not be inside folders."
          }
          if (F) {
              K.history.pop();
              K.tv--;
              alert(F);
              return
          }
          if (E.et)
              K.C = E.et;
          if (E.pi)
              K.N = E.pi[1];
          K.Rn = null;
          K.s();
          K.qk(E.Un)
      }
      if (i == U.mx) {
          if (E.zC)
              hn.BS.ZL(K, C);
          hn.BS.tM(K, C, E.r);
          if (E.pi) {
              var T = E.pi[1];
              if (T == null)
                  delete K.N;
              else
                  K.N = T
          }
      }
      if (i == U.g2) {
          hn.BS.ZL(K, K.t[E.src]);
          hn.BS.tM(K, K.t[E.jK], E.r)
      }
      if (i == U.oU) {
          hn.BS.ZL(K, C)
      }
      if (i == U.Dw) {
          C.uy(K).r = E.r;
          C.dz = 0;
          C.s();
          K.s()
      }
      if (i == U.uS) {
          C.uy(K).r = null;
          C.dz = 0;
          C.s();
          K.s()
      }
      if (i == U.E5) {
          hn.BS.ZE(K, E.C9, 1)
      }
      if (i == U.H4) {
          hn.BS.Vo(K, C, E)
      }
      if (i == U.No) {
          hn.BS.v8(K, K.t[E.src], E.r.isEnabled);
          hn.BS.Vo(K, K.t[E.jK], E)
      }
      if (i == U.zF) {
          hn.BS.v8(K, C, E.r.isEnabled)
      }
      if (i == U.sp) {
          K.Xp = JSON.parse(E.we)
      }
      if (i == U.gL) {
          K.name = E.dq
      }
      if (i == U.tJ) {
          for (var G = 0; G < E.KG.length; G++) {
              var Q = E.KG[G]
                , j = K.t[Q[0]];
              j.gv(Q[2]);
              if (Q[4])
                  j.add.lnsr = Q[4];
              else
                  delete j.add.lnsr
          }
      }
      if (i == U.xN) {
          for (var G = 0; G < E.t.length; G++)
              K.t[E.t[G]].add.lclr = E.ag2[G]
      }
      if (i == U.Sv) {
          var B = E.LP;
          for (var G = 0; G < E.HQ.length; G++) {
              var j = K.t[E.HQ[G]]
                , r = B[G];
              if (!E.P1)
                  j.add.vstk = JSON.parse(JSON.stringify(r));
              else
                  u.ut.kk(j, JSON.parse(JSON.stringify(r)));
              j.qy(K)
          }
          K.s()
      }
      if (i == U.If) {
          C.Zj(E.Gz);
          C.Kf(K);
          K.s()
      }
      K.aO = !0
  }
  ;
  hn.BS.aa = function(E, K) {
      var i = 0;
      for (var G = 0; G < E.t.length; G++) {
          var C = E.t[G].getName();
          if (C.startsWith(K)) {
              var N = C.slice(K.length).trim()
                , k = parseInt(N);
              if (!isNaN(k) && k + "" == N)
                  i = k
          }
      }
      return i
  }
  ;
  hn.BS.ZE = function(E, K, i) {
      for (var G = 0; G < K.length; G++) {
          var C = K[G]
            , N = E.t[C.CH];
          if (C.OC) {
              N.add.SoLd = JSON.parse(C.OC[i])
          }
          if (C.TP) {
              if (C.TP[1 - i] != null)
                  E.I7(C.TP[1 - i]);
              if (C.TP[i] != null)
                  E.cB(C.TP[i]);
              else
                  N.dz = 0
          }
          N.z_(E)
      }
  }
  ;
  hn.BS.Ov = function(E, K) {
      var i = E.vO
        , C = E.rect.clone();
      if (i != null && (i.x != K.d || i.y != K.v)) {
          C.x = Math.floor((K.d - C.d) / 2);
          C.y = Math.floor((K.v - C.v) / 2)
      }
      return C
  }
  ;
  hn.BS.ZL = function(E, K) {
      if (K.md)
          K.md = null;
      else
          K.r = null;
      K.Kf(E);
      E.s();
      K.dz = 0
  }
  ;
  hn.BS.tM = function(E, K, i) {
      if (K.r)
          K.md = i;
      else
          K.r = i;
      K.Kf(E);
      E.s()
  }
  ;
  hn.BS.v8 = function(E, K, i) {
      if (K.md && i) {
          K.r = K.md;
          K.md = null
      } else if (K.r && i) {
          K.r = null
      }
      delete K.add.vogk;
      delete K.add.vstk;
      delete K.add.vmsk;
      K.Kf(E);
      K.QK = !1;
      E.Rn = [];
      E.s()
  }
  ;
  hn.BS.Vo = function(E, K, i) {
      K.add.vogk = JSON.parse(i.U7);
      if (i.S6)
          K.add.vstk = JSON.parse(i.S6);
      else
          delete K.add.vstk;
      K.add.vmsk = i.r.clone();
      if (K.r && K.add.vmsk.isEnabled)
          K.md = K.r;
      K.Kf(E);
      K.QK = i.gY;
      E.Rn = [E.t.indexOf(K)];
      E.du = [];
      E.s()
  }
  ;
  hn.Qx = function() {
      hn.pG.call(this, u.YB);
      this._U = null;
      this.oy = null;
      this.mB = null;
      this.Fc = [];
      this.wu = null
  }
  ;
  hn.Qx.prototype = new hn.pG;
  hn.Qx.prototype.d2 = function(E, K, i, C, N) {
      var k = E.z;
      if (k == null)
          k = i.C[0];
      var V = i.t[k]
        , j = E.EL;
      if (this._U == null) {
          this.mB = hn.Qx.VW(i, V);
          this._U = JSON.stringify(this.mB);
          if (V.add.lmfx)
              this.oy = JSON.stringify(V.add.lmfx)
      }
      if (V.add.lmfx == null) {
          V.add.lmfx = JSON.parse(ao.default);
          for (var G = 0; G < ao.order.length; G++)
              V.add.lmfx[ao.Y9[G]] = {
                  t: "VlLs",
                  v: []
              }
      }
      if (E.e == "scaleeffects") {
          if (E.G == "confirm" || E.G == "cancel") {
              this.d2({
                  e: E.G
              }, K, i, C, N);
              return
          }
          V.add.lmfx = JSON.parse(this.oy);
          h$.Wf(V.add.lmfx, E.G / 100)
      } else if (E.e == "changeprop") {
          var a = null;
          if (j != 0) {
              var e = this.Fc[j[0]];
              if (e == null)
                  e = ao.Fc[j[0]];
              e = JSON.parse(e);
              var L = V.add.lmfx[ao.Y9[j[0]]].v;
              if (L[j[1]] == null)
                  L[j[1]] = {
                      t: "Objc",
                      v: e
                  };
              a = L[j[1]].v;
              for (var g in e)
                  if (a[g] == null)
                      a[g] = e[g]
          }
          if (E.e == "changeprop") {
              if (j == 0) {
                  this.mB[E.tL].v = E.G;
                  hn.Qx.fV(i, V, this.mB)
              } else if (E.tL == "lagl") {
                  if (a.uglg && a.uglg.v) {
                      i.wj(E.G.val);
                      this.mB.a5l = i.IQ()
                  } else
                      a[E.tL].v = E.G
              } else if (E.tL == "Lald") {
                  if (a.uglg.v) {
                      i.NY(E.G.val);
                      this.mB.agS = i.My()
                  } else
                      a[E.tL].v = E.G
              } else if ((j[0] == 3 || j[0] == 8) && (E.tL == "Clr" || E.tL == "Grad")) {
                  if (E.tL == "Clr") {
                      a.Clr = {
                          t: "Objc",
                          v: E.G
                      };
                      delete a.Grad
                  }
                  if (E.tL == "Grad") {
                      a.Grad = {
                          t: "Objc",
                          v: E.G
                      };
                      delete a.Clr
                  }
              } else {
                  a[E.tL].v = E.G
              }
              if (j != 0)
                  this.Fc[j[0]] = JSON.stringify(a)
          }
          if (j != 0)
              if (a.Ptrn)
                  i.fN(h$.Si(a.Ptrn.v, N.hz))
      } else if (E.e == "setstl") {
          var I = E.G.Lefx;
          if (I)
              h$.i6(I, i, N.hz);
          h$.Zm(E.G, V);
          this.mB = hn.Qx.VW(i, V)
      } else if (E.e == "st_dupsingle") {
          var h = V.add.lmfx[ao.Y9[E.na[0]]].v;
          if (h[E.na[1]] == null)
              return;
          var o = JSON.parse(JSON.stringify(h[E.na[1]]));
          h.splice(E.na[1], 0, o)
      } else if (E.e == "st_movsingle") {
          var H = E.na[1]
            , h = V.add.lmfx[ao.Y9[E.na[0]]].v;
          if (h[E.na[1]] == null)
              return;
          var A = Math.max(0, Math.min(h.length - 1, H + E.aiy))
            , S = h[A];
          h[A] = h[H];
          h[H] = S
      } else if (E.e == "cancel") {
          if (this.oy == null)
              delete V.add.lmfx;
          else
              V.add.lmfx = JSON.parse(this.oy);
          hn.Qx.fV(i, V, JSON.parse(this._U));
          this._U = null;
          this.oy = null
      } else if (E.e == "confirm") {
          var v = JSON.stringify(V.add.lmfx)
            , s = new fy([11, 6],this);
          s.data = {
              t: [k],
              rk: [this.oy],
              $_: [v],
              mZ: [this._U],
              fz: [JSON.stringify(this.mB)]
          };
          i.b8(s);
          this._U = null;
          this.oy = null;
          if (v != null) {
              var D = JSON.parse(v);
              cc.Ae(D);
              D.classID = "Lefx";
              delete D.masterFXSwitch;
              var F = new q(c.E.J5);
              F.r1 = !0;
              F.data = {
                  bT: "set",
                  Ak: !0
              };
              var y = bY.Ve("Lyr", !0);
              y.v.splice(0, 0, {
                  t: "prop",
                  v: {
                      classID: "Prpr",
                      keyID: "Lefx"
                  }
              });
              F.data.v4 = {
                  __name: "Set",
                  classID: "setd",
                  null: y,
                  T: {
                      t: "Objc",
                      v: D
                  }
              };
              K.U(F)
          }
      } else if (E.e == "st_copy") {
          this.wu = [this._U, this.oy];
          this._U = null;
          this.oy = null
      } else if (E.e == "st_paste" || E.e == "st_clear") {
          if (E.e == "st_paste" && this.wu == null)
              return;
          var T = E.z != null ? [E.z] : i.C.slice(0)
            , Q = []
            , B = []
            , r = []
            , J = [];
          for (var G = 0; G < T.length; G++) {
              var V = i.t[T[G]]
                , m = hn.Qx.VW(i, V);
              Q.push(V.add.lmfx ? JSON.stringify(V.add.lmfx) : null);
              r.push(JSON.stringify(m));
              if (E.e == "st_paste") {
                  B.push(this.wu[1]);
                  J.push(this.wu[0])
              } else {
                  B.push(null);
                  m.lrMd.v = 0;
                  m.Opct.v.val = 100;
                  m.iOpa.v.val = 100;
                  m.blIf = {
                      v: []
                  };
                  for (var x = 0; x < 10; x++)
                      m.blIf.v.push(0, 0, 255, 255);
                  J.push(JSON.stringify(m))
              }
          }
          var s = new fy([11, 6],this);
          s.data = {
              t: T,
              rk: Q,
              $_: B,
              mZ: r,
              fz: J
          };
          this.Fh(s.data, i);
          i.b8(s);
          this._U = null;
          this.oy = null
      } else {
          var R = this.mB
            , D = null;
          if (E.e == "st_delsingle") {
              D = JSON.parse(this.oy);
              D[ao.Y9[E.na[0]]].v.splice(E.na[1], 1);
              D = JSON.stringify(D)
          }
          if (D == null)
              delete V.add.lmfx;
          else
              V.add.lmfx = JSON.parse(D);
          if (R != null)
              hn.Qx.fV(i, V, R);
          var s = new fy([11, 6],this);
          s.data = {
              t: [E.z],
              rk: [this.oy],
              $_: [D],
              mZ: [this._U],
              fz: [JSON.stringify(R)]
          };
          i.b8(s);
          this._U = null;
          this.oy = null
      }
      V.W.aX = !0;
      i._S = !0;
      i.s()
  }
  ;
  hn.Qx.VW = function(E, K) {
      if (K.add.iOpa == null)
          K.add.iOpa = 255;
      if (K.add.brst == null)
          K.add.brst = [1, 1, 1];
      var i = K.Uf() ? ["pass"].concat(gx.WR) : gx.WR;
      return {
          lrMd: {
              v: i.indexOf(K.SI)
          },
          Opct: {
              v: {
                  type: "#Prc",
                  val: Math.round(K.opacity * 100 / 255)
              },
              t: "UntF"
          },
          iOpa: {
              v: {
                  type: "#Prc",
                  val: Math.round(K.add.iOpa * 100 / 255)
              },
              t: "UntF"
          },
          blIf: {
              v: K.fA.slice(0)
          },
          brst: {
              v: K.add.brst
          },
          a5l: E.IQ(),
          agS: E.My(),
          Uf: K.Uf()
      }
  }
  ;
  hn.Qx.fV = function(E, K, i) {
      var C = K.Uf() ? ["pass"].concat(gx.WR) : gx.WR;
      K.SI = C[i.lrMd.v];
      K.opacity = Math.round(i.Opct.v.val * 255 / 100);
      K.add.iOpa = Math.round(i.iOpa.v.val * 255 / 100);
      K.fA = i.blIf.v.slice(0);
      K.add.brst = i.brst.v.slice(0);
      E.wj(i.a5l);
      E.NY(i.agS)
  }
  ;
  hn.Qx.prototype.eS = function(E, K) {
      for (var G = 0; G < E.t.length; G++) {
          var i = K.t[E.t[G]]
            , C = E.rk[G];
          if (C == null)
              delete i.add.lmfx;
          else
              i.add.lmfx = JSON.parse(C);
          hn.Qx.fV(K, i, JSON.parse(E.mZ[G]));
          i.W.aX = !0
      }
      K._S = !0;
      K.s()
  }
  ;
  hn.Qx.prototype.Fh = function(E, K) {
      for (var G = 0; G < E.t.length; G++) {
          var i = K.t[E.t[G]]
            , C = E.$_[G];
          if (C == null)
              delete i.add.lmfx;
          else
              i.add.lmfx = JSON.parse(C);
          hn.Qx.fV(K, i, JSON.parse(E.fz[G]));
          i.W.aX = !0
      }
      K._S = !0;
      K.s()
  }
  ;
  hn.Tu = function() {
      hn.pG.call(this, u.fl)
  }
  ;
  hn.Tu.prototype = new hn.pG;
  hn.Tu.prototype.d2 = function(E, K, i, C) {
      var N = JSON.parse(JSON.stringify(i.aZ))
        , k = JSON.parse(JSON.stringify(i.aZ))
        , V = null
        , j = null
        , a = null
        , e = -1
        , L = !1;
      if (E.e == "delLC") {
          var g = hn.Tu.f1(i.aZ, E.EL)
            , I = i.aZ.lastAppliedComp ? i.aZ.lastAppliedComp.v : 0;
          k.list.v.splice(g, 1);
          if (I == E.EL)
              delete k.lastAppliedComp;
          V = "Delete Layer Comp"
      }
      if (E.e == "editLC") {
          var g = hn.Tu.f1(i.aZ, E.EL)
            , h = k.list.v[g].v;
          if (E.dq != null)
              h.Nm.v = E.dq;
          if (E.ao0 != null) {
              var o = E.ao0
                , H = h.capturedInfo.v
                , A = H & (1 << o) - 1;
              H = H >> o;
              if ((H & 1) == 1)
                  H--;
              else
                  H++;
              h.capturedInfo.v = (H << o) + A
          }
          V = "Layer Comp properties"
      }
      if (E.e == "setLC") {
          hn.Tu.Ey(i);
          if (E.EL == 0)
              delete k.lastAppliedComp;
          else
              k.lastAppliedComp = {
                  t: "long",
                  v: E.EL
              };
          V = "Switch Layer Comp";
          L = !0
      }
      if (E.e == "updLC") {
          hn.Tu.Ey(i);
          j = hn.Tu.a0E(i, E.EL);
          a = hn.Tu.lO(i, E.EL);
          k.lastAppliedComp = {
              t: "long",
              v: E.EL
          };
          V = "Update Layer Comp";
          e = E.EL;
          L = !0
      }
      if (E.e == "addLC") {
          hn.Tu.Ey(i);
          var S = 1;
          for (var G = 0; G < k.list.v.length; G++)
              S = Math.max(S, k.list.v[G].v.compID.v) + 1;
          S += Math.floor(Math.random() * 1e4);
          var v = {
              t: "Objc",
              v: {
                  classID: "Comp",
                  Nm: {
                      t: "TEXT",
                      v: "New Comp " + (k.list.v.length + 1)
                  },
                  compID: {
                      t: "long",
                      v: S
                  },
                  capturedInfo: {
                      t: "long",
                      v: 7
                  }
              }
          };
          k.list.v.push(v);
          k.lastAppliedComp = {
              t: "long",
              v: S
          };
          V = "New Layer Comp";
          var s = hn.Tu.lO(i, S);
          hn.Tu.Ks(i, s, S)
      }
      var D = new fy(V,this);
      D.data = {
          a4A: N,
          a31: k,
          abY: j,
          agb: a,
          EL: e,
          ry: L
      };
      this.Fh(D.data, i);
      i.b8(D)
  }
  ;
  hn.Tu.prototype.Fh = function(E, K) {
      K.aZ = E.a31;
      K._S = !0;
      if (E.agb)
          hn.Tu.Ks(K, E.agb, E.EL);
      if (E.ry) {
          var i = K.aZ.lastAppliedComp ? K.aZ.lastAppliedComp.v : 0
            , C = hn.Tu.f1(K.aZ, i)
            , N = C == -1 ? null : K.aZ.list.v[C].v
            , k = N ? N.capturedInfo.v : 7;
          hn.Tu.jg(K, i, k);
          K.s()
      }
  }
  ;
  hn.Tu.prototype.eS = function(E, K) {
      K.aZ = E.a4A;
      K._S = !0;
      if (E.abY)
          hn.Tu.Ks(K, E.abY, E.EL);
      if (E.ry) {
          var i = K.aZ.lastAppliedComp ? K.aZ.lastAppliedComp.v : 0
            , C = hn.Tu.f1(K.aZ, i)
            , N = C == -1 ? null : K.aZ.list.v[C].v
            , k = N ? N.capturedInfo.v : 7;
          hn.Tu.jg(K, i, k);
          K.s()
      }
  }
  ;
  hn.Tu.Ey = function(E) {
      if (E.aZ.lastAppliedComp != null || !E.tx)
          return;
      var K = hn.Tu.lO(E, 0);
      hn.Tu.Ks(E, K, 0);
      E.tx = !1
  }
  ;
  hn.Tu.ua = function(E, K, i) {
      E.v.Hrzn.v += K;
      E.v.Vrtc.v += i
  }
  ;
  hn.Tu.f1 = function(E, K) {
      var i = E.list.v;
      for (var G = 0; G < i.length; G++)
          if (i[G].v.compID.v == K)
              return G;
      return -1
  }
  ;
  hn.Tu.acx = function(E) {
      var K = E.layerSettings.v
        , N = null;
      if (K.length == 0)
          return;
      var i = "compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" ")
        , C = K[0].v;
      if (C.enab == null)
          C.enab = {
              t: "bool",
              v: !0
          };
      if (C.Ofst == null)
          C.Ofst = {
              t: "Objc",
              v: {
                  classID: "null",
                  Hrzn: {
                      t: "long",
                      v: 0
                  },
                  Vrtc: {
                      t: "long",
                      v: 0
                  }
              }
          };
      for (var G = 0; G < K.length; G++) {
          var k = K[G].v;
          if (N == null)
              N = JSON.parse(JSON.stringify(k));
          else
              for (var V = 0; V < i.length; V++) {
                  var j = i[V];
                  if (k[j])
                      N[j] = JSON.parse(JSON.stringify(k[j]))
              }
          K[G].v = JSON.parse(JSON.stringify(N))
      }
  }
  ;
  hn.Tu.sn = function(E, K) {
      var i = E.add.shmd.cmls
        , C = i.layerSettings.v;
      for (var N = 0; N < C.length; N++) {
          var k = C[N].v
            , V = k.compList.v[0].v;
          if (V == K)
              return N
      }
      return -1
  }
  ;
  hn.Tu.UD = function(E, K) {
      var i = hn.Tu.sn(E, K);
      return i == -1 ? null : E.add.shmd.cmls.layerSettings.v[i].v
  }
  ;
  hn.Tu.jg = function(E, K, i) {
      for (var G = 0; G < E.t.length; G++) {
          var C = E.t[G]
            , N = C.add.shmd.cmls;
          if (N == null)
              continue;
          var k = N.layerSettings.v
            , V = hn.Tu.UD(C, K);
          if (V == null) {
              C.HU(!1);
              continue
          }
          if ((i & 1) != 0) {
              if (V.enab)
                  C.HU(V.enab.v);
              else
                  C.HU(!0)
          }
          if ((i & 2) != 0) {
              if (V.Ofst) {
                  var j = V.Ofst.v
                    , a = C.p2(E)
                    , e = Math.round(j.Hrzn.v - a.x)
                    , L = Math.round(j.Vrtc.v - a.y);
                  if (e != 0 || L != 0)
                      u.x_.yl(E, [G], null, e, L)
              }
          }
          if ((i & 4) != 0) {
              if (V.Lefx) {
                  var g = JSON.parse(JSON.stringify(V.Lefx.v));
                  cc.ge(g);
                  if (JSON.stringify(g) != JSON.stringify(C.add.lmfx)) {
                      C.add.lmfx = g;
                      C.W.aX = !0
                  }
              } else
                  delete C.add.lmfx;
              if (V.blendOptions) {
                  var I = V.blendOptions.v;
                  if (I.Opct)
                      C.opacity = Math.round(255 * I.Opct.v.val / 100);
                  if (I.fillOpacity)
                      C.add.iOpa = Math.round(255 * I.fillOpacity.v.val / 100);
                  if (I.Md)
                      C.SI = C.add.lsct == c5.XG ? "norm" : gx.pv(I.Md.v.BlnM)
              } else {
                  C.opacity = 255;
                  C.SI = C.Uf() ? "pass" : "norm";
                  C.add.iOpa = 255
              }
          }
      }
  }
  ;
  hn.Tu.a0E = function(E, K) {
      var i = {};
      for (var G = 0; G < E.t.length; G++) {
          var C = E.t[G];
          if (C.add.shmd == null || C.add.shmd.cmls == null)
              continue;
          i["l" + C.add.lyid] = JSON.parse(JSON.stringify(hn.Tu.UD(C, K)))
      }
      return i
  }
  ;
  hn.Tu.lO = function(E, K) {
      var i = {};
      for (var G = 0; G < E.t.length; G++) {
          var C = E.t[G]
            , N = C.add.lyid;
          i["l" + N] = hn.Tu.hY(E, C, K)
      }
      return i
  }
  ;
  hn.Tu.hY = function(E, K, i) {
      var C = K.add.shmd ? K.add.shmd.cmls : null
        , N = {
          classID: "null"
      }
        , k = K.p2(E)
        , V = {
          t: "Objc",
          v: {
              classID: "null",
              Hrzn: {
                  t: "long",
                  v: k.x
              },
              Vrtc: {
                  t: "long",
                  v: k.y
              }
          }
      };
      N.compList = {
          t: "VlLs",
          v: [{
              t: "long",
              v: i
          }]
      };
      N.enab = {
          t: "bool",
          v: K.VD()
      };
      N.Ofst = JSON.parse(JSON.stringify(V));
      N.FXRefPoint = JSON.parse(JSON.stringify(C && C.origFXRefPoint ? C.origFXRefPoint : V));
      N.blendOptions = {
          t: "Objc",
          v: {
              classID: "null",
              Md: {
                  t: "enum",
                  v: {
                      BlnM: gx.Ig(K.SI)
                  }
              },
              Opct: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 100 * K.opacity / 255
                  }
              },
              fillOpacity: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: K.add.iOpa != null ? 100 * K.add.iOpa / 255 : 100
                  }
              }
          }
      };
      if (K.add.vmsk) {
          N.vectorMask = {
              t: "Objc",
              v: {
                  classID: "null"
              }
          };
          N.vectorMask.v.Ofst = JSON.parse(JSON.stringify(V))
      }
      if (K.add.lmfx) {
          N.Lefx = {
              t: "Objc",
              v: JSON.parse(JSON.stringify(K.add.lmfx))
          };
          cc.Ae(N.Lefx.v)
      }
      return N
  }
  ;
  hn.Tu.aox = function(E, K) {
      var i = K.add.lyid;
      if (K.add.shmd == null)
          K.add.shmd = {};
      if (K.add.shmd.cmls == null) {
          K.add.shmd.cmls = {
              classID: "null",
              LyrI: {
                  t: "long",
                  v: i
              },
              layerSettings: {
                  t: "VlLs",
                  v: [{
                      t: "Objc",
                      v: hn.Tu.hY(E, K, 0)
                  }]
              }
          }
      }
  }
  ;
  hn.Tu.Ks = function(E, K, i) {
      for (var G = 0; G < E.t.length; G++) {
          var C = E.t[G]
            , N = C.add.lyid;
          hn.Tu.aox(E, C);
          var k = C.add.shmd.cmls
            , V = k.layerSettings.v
            , j = K["l" + N];
          if (j != null)
              j = {
                  t: "Objc",
                  v: JSON.parse(JSON.stringify(j))
              };
          var a = hn.Tu.sn(C, i);
          if (a == -1) {
              if (j == null)
                  continue;
              else
                  V.push(j)
          } else {
              if (j == null)
                  V.splice(a, 1);
              else
                  V[a] = j
          }
      }
  }
  ;
  hn.Tu.Re = function(E, K) {
      for (var G = 0; G < E.t.length; G++) {
          var i = E.t[G]
            , C = i.add.lyid;
          if (i.add.shmd == null || i.add.shmd.cmls == null)
              continue;
          var N = i.p2(E)
            , k = Math.round(N.x)
            , V = Math.round(N.y);
          if (!K) {
              k = -k;
              V = -V
          }
          var j = i.add.shmd.cmls
            , a = j.layerSettings.v;
          if (j.origFXRefPoint)
              hn.Tu.ua(j.origFXRefPoint, -k, -V);
          for (var e = 0; e < a.length; e++) {
              var L = a[e].v;
              hn.Tu.ua(L.Ofst, k, V);
              var g = L.imageMask
                , I = L.vectorMask;
              if (g && g.v.Ofst)
                  hn.Tu.ua(g.v.Ofst, k, V);
              if (I && I.v.Ofst)
                  hn.Tu.ua(I.v.Ofst, k, V)
          }
      }
  }
  ;
  hn.VG = function() {
      hn.pG.call(this, u.T$);
      this.we = null;
      this.sj = null
  }
  ;
  hn.VG.prototype = new hn.pG;
  hn.VG.Pd = function(E, K, i, C) {
      if (C)
          K /= 4;
      var N = 0
        , k = 0
        , V = 255
        , j = 0
        , a = 0
        , e = 255;
      while (k + E[N] < K) {
          k += E[N];
          N++
      }
      while (j + E[V] < K) {
          j += E[V];
          V--
      }
      if (C) {
          N -= Math.round(E[N] / (i / 32));
          V += Math.round(E[V] / (i / 32));
          if (N < 0)
              a = Math.round(-N * 255 / (V - N));
          if (V > 255)
              e = 255 - Math.round((V - 255) * 255 / (V - N))
      }
      return [Math.max(N, 0), Math.min(V, 255), a, e, 100]
  }
  ;
  hn.VG.prototype.d2 = function(E, K, i, C, N) {
      var k = E.e;
      if (k == "auto") {
          var V = E.cS
            , j = hn.VG.getData(i);
          for (var G = 0; G < j.length; G++) {
              var a = j[G], e;
              if (V < 3) {} else {
                  var L = ef.Sk("hue2");
                  dn.RM(L, 0, [0, -100, 0]);
                  e = gM.CZ("hue2", L)
              }
              gM.aL(e, a.UE, a.gQ, a.g)
          }
          hn.VG.Z5(i, j);
          hn.VG.oJ(i, j, V < 3 ? [4, 16, V] : [19, 7, 0], this);
          i.s()
      }
      if (k == "edit_layer")
          this.ad$(E, K, i, C);
      if (k == "edit" || k == "confirm" || k == "cancel")
          this.E8(E, K, i, N, !0);
      if (k == "start") {
          if (i.C.length == 0)
              return;
          var g = i.t[i.C[0]];
          if (g.add.SoLd && g.dz <= 0) {
              var I = new q(c.E.A,!0);
              I.F = u.sE;
              I.data = {
                  e: "start",
                  bN: E.M4
              };
              K.U(I);
              return
          }
          if (!i.Uq(K, null, !0))
              return;
          if (M[E.M4] && E.Gb == null) {
              if (i.C.length != 1)
                  alert("Will be applied to " + i.C.length + " layers.");
              var I = new q(c.E.P,!0);
              I.data = {
                  e: c.f.eQ,
                  KN: "afw_" + E.M4
              };
              K.U(I)
          } else {
              this.E8({
                  e: "edit",
                  Gb: E.Gb,
                  bN: E.M4
              }, K, i, N);
              this.E8({
                  e: "confirm",
                  bN: E.M4
              }, K, i, N)
          }
      }
  }
  ;
  hn.VG.prototype.ad$ = function(E, K, i, C) {
      var N = E.e, k = i.C[0], V = i.t[k], j = gM.get(V.add), a = JSON.parse(JSON.stringify(E.G)), g;
      for (var e in gM.cC)
          if (gM.cC[e] == j)
              a.classID = e;
      var L = i.history[i.tv];
      if (L && L.F == this && L.data.Io != null && L.data.z == k)
          g = L;
      else {
          var I = new q(c.E.J5,!0)
            , h = {
              classID: "setd",
              null: bY.Ve("AdjL", !0),
              T: {
                  t: "Objc",
                  v: a
              }
          };
          I.data = {
              Ak: !0,
              bT: "set",
              v4: h
          };
          K.U(I);
          var g = new fy([6, 39],this);
          g.data = {
              z: k,
              Io: V.add[j],
              Gz: E.G,
              Yt: h
          };
          i.b8(g)
      }
      g.data.Gz = E.G;
      g.data.Yt.T.v = a;
      this.Fh(g.data, i)
  }
  ;
  hn.VG.getData = function(E, K, i) {
      var C = []
        , N = new h4(0,0,E.d,E.v)
        , k = E.QZ.length != 0 ? [-1 - E.QZ[0]] : E.C;
      for (var G = 0; G < k.length; G++) {
          var V = k[G]
            , j = V < 0 ? null : E.t[V]
            , a = {
              z: V,
              KM: V < 0 ? 1 : j.dz
          };
          C.push(a);
          var e = E.h_[-1 - V];
          if (0 <= V)
              e = j.dz <= 0 ? null : j.dz == 1 ? j.$Y() : j.uy(E).r;
          var L = e ? e.rect : j.rect;
          if (E.N)
              a.g = e != null ? E.N.rect.lx(N) : E.N.rect.lx(L);
          else
              a.g = K || e != null ? L.ip(N) : L.clone();
          if (i)
              a.g = i[G].g.clone();
          var g = a.g.X();
          a.UE = _.I(g * 4);
          if (e)
              u.Bu.To(e.channel, e.rect, e.color, a.UE, a.g);
          else
              _.p8(j.buffer, L, a.UE, a.g);
          a.gQ = a.UE.slice(0);
          if (E.N) {
              a.$d = _.I(g);
              _.ie(E.N.channel, E.N.rect, a.$d, a.g)
          }
      }
      return C
  }
  ;
  hn.VG.amn = function(E, K, i) {
      if (K == null)
          return K;
      var C = gM.yX(E, K), k;
      if (C == -1)
          return K;
      var N = i.length >>> 2
        , V = _.x7(i)
        , j = .001 * N;
      if (C == 0 || C == 2)
          k = [[0, 255, 0, 255, 100], hn.VG.Pd(V[1], j, N, C == 2), hn.VG.Pd(V[2], j, N, C == 2), hn.VG.Pd(V[3], j, N, C == 2)];
      if (C == 1)
          k = [hn.VG.Pd(V[0], j * .33, N, !1), [0, 255, 0, 255, 100], [0, 255, 0, 255, 100], [0, 255, 0, 255, 100]];
      var a = ef.Sk("levl");
      for (var G = 0; G < 4; G++)
          aH.RM(a, G, k[G]);
      return a
  }
  ;
  hn.VG.prototype.E8 = function(E, K, i, C) {
      if (this.we == null) {
          if (E.bN == "aply")
              i.t[i.C[0]].extend(new h4(0,0,i.d,i.v));
          this.we = hn.VG.getData(i, null, E.bN == "fade" ? i.Ty().data : null);
          if (E.bN == "aply")
              this.we[0].Ap = i.A7()
      }
      if (E.e == "edit") {
          this.sj = [E.bN, E.Gb];
          var N = this.we[0]
            , k = hn.VG.amn(E.bN, E.Gb, N.UE)
            , V = gM.CZ(E.bN, k);
          if (E.bN == "fade" || E.bN == "aply")
              V = E.Gb;
          if (V != null) {
              for (var G = 0; G < this.we.length; G++) {
                  var j = this.we[G];
                  if (E.Aw)
                      _.uJ(j.UE, j.gQ);
                  else if (E.bN == "fade") {
                      var a = gx.pv(E.Gb.Md.v.BlnM)
                        , e = E.Gb.Opct.v.val / 100
                        , L = i.Ty().data[G];
                      _.uJ(L.UE, j.gQ);
                      if (a == "norm")
                          _.p._H(j.UE, j.g, j.gQ, j.g, null, null, null, j.g, e);
                      else {
                          var g = h$.bP();
                          g.MC = !0;
                          for (var G = 0; G < L.UE.length; G += 4)
                              if (L.UE[G + 3] != j.UE[G + 3]) {
                                  g = null;
                                  break
                              }
                          _.p.JA(a, j.UE, j.g, j.gQ, j.g, j.g, e, g)
                      }
                  } else if (E.bN == "aply") {
                      V = V.With.v;
                      var I = V.T.v, h, o;
                      if (I[1].t == "name") {
                          var H = 0;
                          for (var A = 0; A < i.t.length; A++)
                              if (i.t[A].getName() == I[1].v.val)
                                  H = A;
                          if (H == j.z) {
                              h = j.UE;
                              o = j.g
                          } else {
                              var S = i.t[H];
                              h = S.buffer;
                              o = S.rect
                          }
                      } else {
                          o = new h4(0,0,i.d,i.v);
                          h = j.Ap
                      }
                      var v = V.Clcl ? V.Clcl.v.Clcn : null
                        , a = v ? gx.pv(v) : "norm"
                        , e = V.Opct ? V.Opct.v.val / 100 : 1
                        , s = ["RGB", "Rd", "Grn", "Bl", "Trsp"].indexOf(I[0].v.enum)
                        , k = V.Invr && V.Invr.v;
                      if (k || s != 0) {
                          h = h.slice(0);
                          if (k)
                              _.akQ(h);
                          if (s != 0) {
                              var D = _.I(o.X());
                              _.wF(h, D, s - 1);
                              if (s == 4)
                                  _.KP(D);
                              for (var A = 0; A < 3; A++)
                                  _.lM(D, h, A)
                          }
                      }
                      if (v == "Sbtr") {
                          var F = 1 / V.Scl.v
                            , y = V.Ofst.v
                            , T = new Uint8ClampedArray(j.gQ.buffer);
                          for (var G = 0; G < h.length; G += 4) {
                              T[G] = (j.UE[G] - h[G]) * F + y;
                              T[G + 1] = (j.UE[G + 1] - h[G + 1]) * F + y;
                              T[G + 2] = (j.UE[G + 2] - h[G + 2]) * F + y
                          }
                      } else {
                          var g = h$.bP();
                          g.MC = V.PrsT && V.PrsT.v;
                          j.gQ.fill(0);
                          j.gQ.set(j.UE);
                          _.p.JA(a, h, o, j.gQ, j.g, j.g, e, g)
                      }
                  } else
                      gM.aL(V, j.UE, j.gQ, j.g)
              }
              hn.VG.Z5(i, this.we)
          }
      }
      if (E.e == "cancel") {
          hn.VG.r5(i, this.we);
          this.we = null
      }
      if (E.e == "confirm") {
          var Q = E.bN == "fade" ? [2, 11] : E.bN == "aply" ? [2, 12] : gM.names[E.bN]
            , B = gM.yX(E.bN, this.sj[1]);
          if (B != -1)
              Q = [4, 16, B];
          hn.VG.oJ(i, this.we, Q, this);
          this.we = null;
          if (B == -1)
              hn.VG.i3(K, this.sj)
      }
      i.s()
  }
  ;
  hn.VG.i3 = function(E, K) {
      var i = K[0], C = K[1], N, k;
      if (gM.Xd[i]) {
          N = gM.Xd[i];
          if (M[i])
              k = C
      }
      if (ef.Xd[i]) {
          N = ef.Xd[i];
          if (M[i])
              k = C
      }
      if (i == "fade") {
          N = "fade";
          k = C
      }
      if (i == "aply") {
          N = "applyImageEvent";
          k = C
      }
      if (N == null)
          return;
      var V = new q(c.E.J5,!0);
      V.data = {
          Ak: !0,
          bT: N
      };
      if (k) {
          k = JSON.parse(JSON.stringify(k));
          k.classID = "null";
          delete k.__name;
          V.data.v4 = k
      }
      E.U(V)
  }
  ;
  hn.VG.r5 = function(E, K) {
      hn.VG.oK(E, K)
  }
  ;
  hn.VG.oJ = function(E, K, i, C) {
      for (var G = 0; G < K.length; G++) {
          var N = K[G]
            , k = E.t[N.z]
            , V = N.z < 0 ? E.h_[-1 - N.z] : N.KM <= 0 ? null : N.KM == 1 ? k.$Y() : k.uy(E).r;
          if (V) {
              V.NU();
              V.bZ = !0;
              if (k)
                  k.Kf(E)
          } else {
              k.NU();
              k.s()
          }
          delete N.gQ;
          delete N.$d
      }
      var j = new fy(i,C);
      j.data = K;
      E.b8(j);
      E._S = !0
  }
  ;
  hn.VG.Z5 = function(E, K, i) {
      for (var G = 0; G < K.length; G++) {
          var C = K[G]
            , N = E.t[C.z]
            , k = i ? C.UE : C.gQ
            , V = C.g;
          if (C.KM == 0) {
              N.extend(V);
              if (C.$d) {
                  _.p8(C.UE, V, N.buffer, N.rect);
                  _.p._H(k, V, N.buffer, N.rect, C.$d, V, 0, V, 1)
              } else
                  _.p8(k, V, N.buffer, N.rect)
          } else {
              var j = C.z < 0 ? E.h_[-1 - C.z] : C.KM == 1 ? N.$Y() : N.uy(E).r;
              j.extend(V);
              if (C.$d) {
                  var a = _.I(V.X() * 4);
                  _.uJ(C.UE, a);
                  _.p._H(k, V, a, V, C.$d, V, 0, V, 1);
                  u.Bu.pp(a, V, j)
              } else
                  u.Bu.pp(k, V, j);
              j.bZ = !0;
              if (N)
                  N.Kf(E)
          }
          if (N)
              N.s()
      }
      if (!i)
          hn.VG.aF(E, K)
  }
  ;
  hn.VG.oK = function(E, K) {
      for (var G = 0; G < K.length; G++) {
          var i = K[G]
            , C = E.t[i.z]
            , N = i.g
            , k = _.I(N.X() * 4);
          if (i.KM == 0) {
              _.p8(C.buffer, C.rect, k, N);
              C.extend(N);
              _.p8(i.UE, N, C.buffer, C.rect);
              C.NU()
          } else {
              var V = i.z < 0 ? E.h_[-1 - i.z] : i.KM == 1 ? C.$Y() : C.uy(E).r;
              u.Bu.To(V.channel, V.rect, V.color, k, N);
              V.extend(N);
              u.Bu.pp(i.UE, N, V);
              V.NU();
              V.bZ = !0;
              if (C)
                  C.Kf(E)
          }
          i.UE = k;
          if (C)
              C.s()
      }
      E._S = !0
  }
  ;
  hn.VG.aF = function(E, K) {
      var i = hn.VG.Vl(E)
        , C = ~i;
      if (i == 16777215)
          return;
      for (var G = 0; G < K.length; G++) {
          var N = K[G]
            , k = E.t[N.z]
            , V = N.g;
          if (N.KM != 0)
              continue;
          k.extend(V);
          var j = V.x - k.rect.x
            , a = V.y - k.rect.y
            , e = k.rect.d
            , L = new Uint32Array(N.UE.buffer)
            , g = new Uint32Array(k.buffer.buffer);
          for (var I = 0; I < V.v; I++)
              for (var h = 0; h < V.d; h++) {
                  var o = I * V.d + h
                    , H = (I + a) * e + (h + j);
                  g[H] = g[H] & i | L[o] & C
              }
          k.NU();
          k.s()
      }
      E.s()
  }
  ;
  hn.VG.Vl = function(E) {
      var K = E.a.zj;
      return K[2] * 16711680 | K[1] * 65280 | K[0] * 255
  }
  ;
  hn.VG.prototype.eS = function(E, K) {
      var i = K.t[E.z];
      if (E.Io != null)
          i.add[gM.get(i.add)] = E.Io;
      else
          hn.VG.oK(K, E);
      K.s()
  }
  ;
  hn.VG.prototype.Fh = function(E, K) {
      var i = K.t[E.z];
      if (E.Io != null)
          i.add[gM.get(i.add)] = E.Gz;
      else
          hn.VG.oK(K, E);
      K.s()
  }
  ;
  hn.ZO = function() {
      hn.pG.call(this, u.sE);
      this.we = null;
      this.am = null;
      this.e = null;
      this.sj = null
  }
  ;
  hn.ZO.prototype = new hn.pG;
  hn.ZO.prototype.d2 = function(E, K, i, C, N) {
      if (E.e == "start") {
          if (i.C.length == 0)
              return;
          var k = i.t[i.C[0]];
          if (k.add.SoLd && k.dz <= 0) {} else if (!i.Uq(K, null, !0))
              return;
          var V = E.bN;
          if ((M[V] || ef.d4[V]) && E.Gb == null) {
              if (i.C.length != 1)
                  alert("Will be applied to " + i.C.length + " layers.");
              var j = new q(c.E.P,!0);
              j.data = hn.ZO.M2(V, this.bB(i, V));
              K.U(j)
          } else {
              var a = {
                  e: "edit",
                  bN: V,
                  Gb: E.Gb,
                  LN: this.bB(i)
              };
              this.d2(a, K, i, C, N);
              a.e = "confirm";
              delete a.Gb;
              this.d2(a, K, i, C, N)
          }
      }
      if (E.e == "edit" || E.e == "cancel" || E.e == "confirm") {
          if (E.e == "edit")
              this.sj = [E.bN, E.Gb];
          if (E.LN)
              this.aiD(E, i, N);
          else
              this.a2h(E, K, i, N)
      }
      if (E.e == "applylast" && this.sj != null) {
          var a = {
              e: "edit",
              bN: this.sj[0],
              Gb: this.sj[1],
              LN: this.bB(i)
          };
          this.d2(a, K, i, C, N);
          a.e = "confirm";
          delete a.Gb;
          this.d2(a, K, i, C, N)
      }
  }
  ;
  hn.ZO.M2 = function(E, K) {
      var i = ef.d4[E];
      if (i)
          return {
              e: c.f.oS,
              F: i,
              KT: {
                  LN: K
              }
          };
      else
          return {
              e: c.f.eQ,
              KN: "afw_" + E,
              LN: K
          }
  }
  ;
  hn.ZO.prototype.bB = function(E, K) {
      var i = E.t[E.C[0]], C;
      if (i.add.SoLd && i.dz <= 0) {
          C = {
              z: E.C[0],
              index: 0
          };
          if (i.add.SoLd.filterFX != null) {
              var N = i.add.SoLd.filterFX.v.filterFXList.v;
              C.index = N.length;
              for (var G = 0; G < N.length; G++)
                  if (ef.o6(N[G].v) == K && ef.d4[K])
                      C.index = G
          }
      }
      return C
  }
  ;
  hn.ZO.prototype.aiD = function(E, K, i) {
      var C = K.t[E.LN.z]
        , N = E.bN;
      if (E.e == "edit") {
          if (this.e == null) {
              var k = ef.names[N];
              if (k == null)
                  k = gM.names[N];
              if (N == "blendOptions")
                  k = [14, 10];
              this.e = new fy(k,this);
              this.e.data = {
                  LN: E.LN,
                  aiQ: JSON.parse(JSON.stringify(C.add.SoLd))
              }
          }
          if (!C.XQ()) {
              C.add.SoLd.filterFX = ef.yC();
              this.e.data.TP = bl.Za(C.add.SoLd.placed.v);
              K.cB(this.e.data.TP);
              C.z_(K)
          }
          var V = C.add.SoLd.filterFX.v.filterFXList.v;
          if (V[E.LN.index] == null) {
              V.push(ef.Im(N, i))
          }
          if (E.Gb) {
              V[E.LN.index].v.enab.v = E.Aw != !0;
              if (N == "blendOptions")
                  V[E.LN.index].v.blendOptions.v = E.Gb;
              else
                  V[E.LN.index].v.Fltr.v = E.Gb
          }
          this.e.data.a5_ = JSON.parse(JSON.stringify(C.add.SoLd));
          this.Fh(this.e.data, K)
      }
      if (E.e == "cancel") {
          if (this.e)
              this.eS(this.e.data, K);
          this.e = null
      }
      if (E.e == "confirm") {
          if (this.e)
              K.b8(this.e);
          this.e = null
      }
  }
  ;
  hn.ZO.prototype.dY = function(E) {
      return {
          h: E >>> 16,
          l: E >>> 8 & 255,
          O: E & 255
      }
  }
  ;
  hn.ZO.prototype.a2h = function(E, K, i, C) {
      if (this.we == null) {
          var N = ef.Oa(E.bN, E.Gb);
          this.we = hn.VG.getData(i, N.x != 0 || N.y != 0)
      }
      if (E.e == "edit") {
          var k = JSON.stringify(E.Gb);
          if ((E.Gb == null || k != this.am) && E.Aw != !0)
              for (var G = 0; G < this.we.length; G++) {
                  var V = this.we[G]
                    , j = {
                      rect: V.g,
                      buffer: V.UE
                  }
                    , a = {
                      rect: V.g,
                      buffer: V.gQ
                  };
                  ef.aL(E.bN, j, E.Gb, this.dY(C.sm), this.dY(C.JT), a, [i.add.lnk2 ? i.add.lnk2 : [], i.t[i.C[0]].$Y(), i.h_]);
                  this.am = k
              }
          hn.VG.Z5(i, this.we, E.Aw)
      }
      if (E.e == "cancel") {
          hn.VG.r5(i, this.we);
          this.we = null;
          this.am = null
      }
      if (E.e == "confirm") {
          hn.VG.oJ(i, this.we, ef.names[E.bN], this);
          this.we = null;
          this.am = null;
          hn.VG.i3(K, this.sj)
      }
      i.s();
      i._S = !0
  }
  ;
  hn.ZO.prototype.eS = function(E, K) {
      if (E.LN) {
          var i = K.t[E.LN.z];
          if (E.TP)
              K.I7(E.TP);
          i.add.SoLd = JSON.parse(JSON.stringify(E.aiQ));
          if (i.XQ())
              i.Yx(K);
          else {
              i.z_(K);
              i.dz = 0
          }
      } else
          hn.VG.oK(K, E);
      K.s();
      K._S = !0
  }
  ;
  hn.ZO.prototype.Fh = function(E, K) {
      if (E.LN) {
          var i = K.t[E.LN.z];
          if (E.TP)
              K.cB(E.TP);
          i.add.SoLd = JSON.parse(JSON.stringify(E.a5_));
          if (i.XQ())
              i.Yx(K);
          else
              i.z_(K);
          if (!i.Hm())
              i.it += 32
      } else
          hn.VG.oK(K, E);
      K.s();
      K._S = !0
  }
  ;
  var dp = {
      iW: "0",
      uf: "1",
      vq: "2",
      _G: "3",
      KJ: "4",
      y5: "5",
      ur: "6",
      Q9: "7",
      A: "8",
      rC: "8.5",
      dw: "8.8",
      aG: "9",
      ht: "10",
      nF: "11",
      sD: "12",
      ev: "13",
      Zb: "14",
      o7: "15",
      VL: "21",
      K_: "22",
      kU: "23",
      lg: "23.0",
      vw: "23.1",
      Db: "23.2",
      _w: "23.3",
      cl: "23.4",
      KO: "23.5",
      hJ: "23.6",
      pt: "30",
      X9: "31",
      td: "40",
      W0: "41",
      bh: "42"
  };
  dp.sd = {};
  dp.sd[dp.uf] = ["abr", "brushes", dk, [9, 3]];
  dp.sd[dp.vq] = ["grd", "gradients", iF, [12, 37]];
  dp.sd[dp._G] = ["shc", "contours", hV, [12, 21]];
  dp.sd[dp.KJ] = ["asl", "styles", bH, [12, 22]];
  dp.sd[dp.y5] = ["pat", "patterns", fi, [12, 62]];
  dp.sd[dp.ur] = ["csh", "shapes", dq, [12, 77]];
  dp.sd[dp.Q9] = ["aco", "swatches", b9, [9, 8]];
  dp.sd[dp.A] = ["atn", "actions", bo, [9, 9]];
  dp.sd[dp.rC] = ["tpl", "tpresets", fJ, [9, 12]];
  dp.sd[dp.dw] = ["icc", "profiles", iA, "ICCs"];
  function fy(E, K, i) {
      if (i == null)
          i = !1;
      this.name = E;
      this.F = K;
      this.eZ = i;
      this.data = null
  }
  var bY = {};
  bY.Ve = function(E, K) {
      var i = {
          t: "Clss",
          v: {
              classID: E
          }
      };
      if (K)
          i = {
              t: "Enmr",
              v: {
                  classID: E,
                  typeID: "Ordn",
                  enum: "Trgt"
              }
          };
      return {
          t: "obj ",
          v: [i]
      }
  }
  ;
  bY.sf = function(E, K) {
      var i = {
          classID: "Lyr"
      };
      i[E] = K;
      return {
          bT: "set",
          v4: {
              classID: "null",
              null: bY.Ve("Lyr", !0),
              T: {
                  t: "Objc",
                  v: i
              }
          }
      }
  }
  ;
  bY.aaI = function(E, K, i, C, N) {
      var k = new q(c.E.J5,!0)
        , V = []
        , G = 0
        , j = bY.Fv(K, i, C, V);
      while (V.length != 0) {
          var a = V.pop();
          G++;
          if (!a.Q)
              continue;
          if (a.bT == "conditional") {
              var e = E.t[E.C[0]]
                , L = a.v4.null.v.Cndt
                , g = !1;
              if (L == "Bckg")
                  g = !1;
              else if (L == "Pxel" && E.Os(!1))
                  g = !0;
              else if (L == "Adjs" && gM.get(e.add))
                  g = !0;
              else if (L == "Shp" && e.add.vogk)
                  g = !0;
              else if (L == "Grup" && e.Uf())
                  g = !0;
              var I = a.v4.then.v;
              if (g)
                  bY.Fv(K, I[0].v.val, I[1].v.val, V)
          } else if (a.bT == "stop") {
              if (a.v4.Cntn && a.v4.Cntn.v == !0)
                  window.confirm(a.v4.Msge.v);
              else {
                  alert(a.v4.Msge.v);
                  break
              }
          } else if (a.bT == "play") {
              var h = a.v4.null.v
                , o = new q(c.E.P,!0);
              o.data = {
                  e: c.f._s,
                  eT: [h[0].v.val, h[1].v.val]
              };
              N.U(o)
          } else {
              k.data = {
                  bT: a.bT,
                  v4: a.v4
              };
              N.U(k)
          }
      }
  }
  ;
  bY.Fv = function(E, K, i, C) {
      var N;
      for (var G = 0; G < E.length; G++) {
          if (E[G].$t != i)
              continue;
          var k = E[G].DK;
          for (var V = 0; V < k.length; V++) {
              if (k[V].$t != K)
                  continue;
              N = k[V].DK
          }
      }
      var j = N.length;
      for (var G = 0; G < j; G++)
          C.push(N[j - 1 - G])
  }
  ;
  bY.aeV = function(E) {
      var K = E.bT, i = E.v4, C, V, j, a, e, L;
      if (i && i.null)
          C = i.null.v[0];
      if (i && C == null && i.At)
          C = i.At.v[0];
      if (C && C.t == "obj ")
          C = C.v[0];
      var N = C ? C.v.classID : null
        , k = ["purge"];
      if (k.indexOf(K) != -1)
          return K[0].toUpperCase() + K.slice(1);
      L = gM.Xd;
      for (V in L)
          if (L[V] == K)
              j = V;
      L = ef.Xd;
      for (V in L)
          if (L[V] == K)
              a = V;
      L = eU.Xd;
      for (V in L)
          if (L[V] == K)
              e = V;
      if (j) {
          var g = gM.yX(j, i);
          if (g != -1)
              return [4, 16, g];
          return gM.names[j]
      }
      if (a)
          return ef.names[a];
      if (e)
          return eU.names[e];
      var I = bY.Ko;
      if (K == "make") {
          if (C) {
              if (N == "AdjL")
                  return [6, 1];
              else if (N == "layerSection")
                  return [6, 9];
              else if (N == "Lyr")
                  return [6, 13];
              else if (N == "Chnl" && C.v.enum == "Msk")
                  return [6, 2];
              else if (N == "contentLayer")
                  return [6, 48, 1];
              else if (N == "BckL")
                  return "Make Background Layer";
              else if (N == "Path")
                  return "Make Path";
              else if (N == "TxLr")
                  return "Make Text Layer"
          }
          if (i.Nw) {
              N = i.Nw.v.classID;
              if (N == "Dcmn")
                  return [11, 7];
              else if (N == "Chnl" || N == "SCch")
                  return "New Channel"
          }
      } else if (K == "select") {
          if (N == "Chnl")
              return "Select " + (C.v.enum == "Msk" ? "Mask " : "") + "Channel";
          else if (N == "Mn")
              return "Select Panel \"" + C.v.enum + "\"";
          else if (N == "Lyr") {
              if (C.t == "Enmr")
                  return "Select " + {
                      Bckw: "Backward"
                  }[C.v.enum] + " Layer";
              return "Select Layer \"" + C.v.val + "\""
          } else if (N == "Dcmn")
              return "Select Document"
      } else if (I[K] && N == "Chnl") {
          var h = C.v.keyID == "fsel";
          return I[K] + " " + (h ? "Selection" : "Channel")
      } else if (K == "set") {
          if (N == "Lyr")
              return "Set Current Layer";
          else if (N == "AdjL")
              return [6, 39];
          else if (N == "contentLayer")
              return [6, 48, 2];
          else if (N == "Prpr")
              return [11, 6];
          else if (N == "Clr")
              return "Set " + (C.v.keyID == "FrgC" ? "Foreground" : "Background") + " color";
          else if (N == "Brsh")
              return "Set Brush";
          else
              console.log(N)
      } else if (K == "move") {
          if (N == "Lyr")
              return "Move Layer"
      } else if (K == "show" || K == "hide") {
          var o = "";
          if (N == "Lyr")
              +"Layer";
          if (N == "Chnl")
              +"Channel";
          return (K == "show" ? "Show" : "Hide") + " " + o
      } else if (K == "reset") {
          if (N == "Clr")
              return "Reset Colors"
      } else if (K == "exchange") {
          if (N == "Clr")
              return [22, 7, 0]
      } else if (K == "rotateEventEnum")
          return [2, 5];
      else if (K == "flip") {
          var H = i.Axis.v.Ornt == "Hrzn";
          return [[2, 6], [22, 4, H ? 2 : 3]]
      }
      if (N == "Chnl") {
          if (K == "duplicate") {
              if (C.v.keyID == "fsel")
                  return "Selection to Channel";
              else
                  return "Duplicate Channel"
          }
          if (K == "delete")
              return "Delete Channel"
      }
      if (K == "transform")
          return C.v.keyID == "fsel" ? [7, 10] : [10, 16];
      var A = {
          cut: [5, 0],
          copyEvent: [5, 1],
          copyToLayer: [6, 49],
          copyMerged: [5, 7],
          paste: [5, 2],
          close: [1, 12],
          save: [1, 2],
          groupEvent: [6, 18],
          duplicate: [6, 0],
          mergeLayersNew: [6, 12, 0],
          mergeVisible: "Merge Visible",
          flattenImage: [6, 12, 1],
          updatePlacedLayer: [6, 36, 1],
          fade: [2, 11],
          applyImageEvent: [2, 12],
          fill: [2, 3],
          colorRange: [7, 8],
          desaturate: [19, 7, 0],
          delete: i ? [6, 31] : [2, 2],
          align: [20, 4, 0],
          applyLocking: [6, 57, 1],
          crop: [11, 12, 1],
          placedLayerEditContents: "Edit Contents",
          convertMode: "Convert Mode",
          newPlacedLayer: [6, 7],
          canvasSize: [11, 3],
          imageSize: [11, 10],
          rasterizeLayer: [6, 8],
          revealAll: [11, 12, 2],
          conditional: "If"
      }
        , S = A[K];
      if (S == null)
          S = bY.CB[K];
      if (S)
          return S;
      return K
  }
  ;
  bY.CB = {
      border: [7, 9],
      smoothness: [19, 3, 0],
      expand: [7, 4],
      contract: [7, 5],
      feather: [7, 6],
      inverse: [7, 2]
  };
  bY.Ko = {
      set: "Set",
      add: "Add Transparency",
      addTo: "Add To",
      subtract: "Subtract Transparency",
      subtractFrom: "Subtract From",
      interfaceIconFrameDimmed: "Intersect Transparency",
      interfaceWhite: "Intersect With"
  };
  bY.agC = function(E, K, i, C) {
      var N = E.bT, k = E.v4, V = new q(c.E.A,!0), e, L, g, I, h, S;
      V.F = u.Iy;
      var j = new q(c.E.P,!0)
        , a = ["purge", "updatePlacedLayer", "convertMode"];
      if (a.indexOf(N) != -1)
          return;
      h = gM.Xd;
      for (e in h)
          if (h[e] == N)
              L = e;
      h = ef.Xd;
      for (e in h)
          if (h[e] == N)
              g = e;
      h = eU.Xd;
      for (e in h)
          if (h[e] == N)
              I = e;
      if (N == "fade")
          L = N;
      if (N == "applyImageEvent")
          L = "aply";
      if (L) {
          V.F = u.T$;
          V.data = {
              e: "start",
              M4: L,
              Gb: k
          }
      } else if (g) {
          V.F = u.sE;
          V.data = {
              e: "start",
              bN: g,
              Gb: k
          }
      } else if (I) {
          V.F = u.sE;
          V.data = {
              e: "start",
              bN: "GEfc",
              Gb: k
          }
      } else if (N == "imageSize" || N == "canvasSize" || N == "revealAll" || N == "trim" || N == "crop") {
          V.F = u.Wx;
          V.data = {
              e: "fromAction",
              cd: E
          }
      } else if (N == "fill" || N == "delete" && k == null) {
          V.F = u.uf;
          V.data = {
              e: "fromAction",
              cd: E
          }
      } else if (N == "colorRange") {
          var o = k.Mnm.v
            , H = k.Mxm.v;
          V.F = u.Z2;
          V.data = {
              e: "crange",
              SR: {
                  Ym: o.Lmnc.v,
                  R: o.A.v,
                  O: o.B.v
              },
              _0: {
                  Ym: H.Lmnc.v,
                  R: H.A.v,
                  O: H.B.v
              },
              Su: k.Fzns.v / 200
          }
      } else if (bY.CB[N] || bY.Ko[N] && (!1 || k.With && k.With.v[0].v.keyID == "fsel" || k.From && k.From.v[0].v.keyID == "fsel" || k.null && k.null.v[0].v.keyID == "fsel" || k.T.v[0] && k.T.v[0].v.keyID == "fsel")) {
          V.F = u.Z2;
          V.data = {
              e: "fromAction",
              cd: E
          }
      }
      var A = {
          copyToLayer: U.Mb,
          mergeLayersNew: C && C.C.length == 1 ? U.VM : U.ma,
          rasterizeLayer: U.WL,
          mergeVisible: U.ct,
          flattenImage: U.zg,
          newPlacedLayer: U.o0
      };
      if (A[N])
          V.data = {
              e: A[N],
              v4: k
          };
      if (V.data) {
          K.U(V);
          return
      }
      if (N == "desaturate") {
          V.F = u.T$;
          V.data = {
              e: "auto",
              cS: 3
          };
          if (C && C.t[C.C[0]].add.SoLd == null)
              K.U(V);
          return
      }
      if (N == "close") {
          if (k.Svng.v.YsN == "Ys") {
              j.data = {
                  e: c.f.T6
              };
              K.U(j)
          }
          j.data = {
              e: c.f.G9,
              Fn: C
          };
          K.U(j);
          return
      }
      if (N == "save") {
          j.data = {
              e: c.f.T6
          };
          K.U(j);
          return
      }
      var A = {
          placedLayerEditContents: c.f.Ja,
          copyEvent: c.f.M$,
          paste: c.f.kb
      };
      if (A[N])
          j.data = {
              e: A[N]
          };
      if (j.data) {
          K.U(j);
          return
      }
      if (k.null || k.At)
          S = (k.null ? k.null : k.At).v;
      else
          S = [{
              t: "----",
              v: k
          }];
      if (S[0].t == "obj ") {
          if (S.length != 1)
              throw "e";
          S = S[0].v
      }
      for (var v = 0; v < S.length; v++) {
          var s = S[v]
            , D = s.v.classID;
          V.data = null;
          if (N == "make") {
              if (k.null == null && k.Nw)
                  D = k.Nw.v.classID;
              if (D == "AdjL") {
                  V.data = {
                      e: U.nH,
                      v4: k
                  }
              } else if (D == "layerSection") {
                  V.data = {
                      e: U.BR
                  };
                  if (k.Usng)
                      V.data.dq = k.Usng.v.Nm.v
              } else if (D == "Lyr") {
                  if (k.Usng && k.Usng.v.length == 2)
                      V.data = {
                          e: U._I
                      };
                  else {
                      V.data = {
                          e: U.BA
                      };
                      if (k.Usng)
                          V.data.dq = k.Usng.v.Nm.v;
                      if (k.below && k.below.v)
                          V.data.akT = !0
                  }
              } else if (D == "Chnl" && s.v.enum == "Msk") {
                  V.data = {
                      e: U.mx,
                      zw: k.Usng.v.UsrM
                  }
              } else if (D == "Chnl" || D == "SCch") {
                  V.data = {
                      e: U.vn,
                      Qh: "fromAction",
                      G: E
                  }
              } else if (D == "contentLayer") {
                  V.data = {
                      e: U.Pk,
                      v4: k
                  }
              } else if (D == "BckL") {
                  C.t[C.C[0]].a2C();
                  continue
              } else if (D == "Dcmn") {
                  var F = k.Nw.v;
                  j.data = {
                      e: c.f.xC,
                      uY: bl.a2R(F, i)
                  }
              } else if (D == "Ptrn")
                  j.data = {
                      e: c.f.Vq,
                      KG: 0
                  };
              else if (D == "Path") {
                  V.F = u.mu;
                  V.data = {
                      e: "pathedit",
                      Qh: "fromsel"
                  }
              } else if (D == "TxLr") {
                  V.F = u.EM;
                  V.data = {
                      e: "fromAction",
                      cd: E
                  }
              } else {
                  console.log(N, D, k);
                  throw "e"
              }
          } else if (N == "select") {
              var y = {
                  PcTl: u.pP,
                  magicWandTool: u.Yc
              };
              if (D == "Lyr") {
                  var T = k.selectionModifier
                    , Q = T ? T.v.selectionModifierType : null
                    , B = bY.uF(C, s);
                  if (B == -1) {
                      alert("Layer " + s.v.val + " does not exist.");
                      throw "e"
                  }
                  V.data = {
                      e: U.Zd,
                      z: B,
                      aco: Q ? ["addToSelection", "addToSelectionContinuous"].indexOf(Q) : null,
                      HE: 0,
                      a7P: !0
                  }
              } else if (D == "Chnl") {
                  V.data = {
                      e: U.Zd,
                      z: B,
                      HE: 1
                  }
              } else if (D == "Dcmn") {
                  if (K.pZ.length < 2)
                      return;
                  j.data = {
                      e: c.f.gW,
                      dir: k.null.v[0].v.val
                  }
              } else if (y[D]) {
                  j.data = {
                      e: c.f.oS,
                      F: y[D]
                  }
              }
          } else if ((N == "set" || N == "reset" || N == "exchange") && D == "Clr") {
              j.data = {
                  e: c.f.H7,
                  KG: dp.VL,
                  Qh: N == "reset" ? 3 : 2
              };
              if (N == "set") {
                  j.data.Qh = s.v.keyID == "FrgC" ? 0 : 1;
                  var r = _.V.Gk(k.T.v);
                  j.data.G = r.h << 16 | r.l << 8 | r.O
              }
          } else if (N == "set") {
              if (D == "AdjL") {
                  var J = k.T.v.classID;
                  J = gM.cC[J];
                  V.F = u.T$;
                  if (J)
                      V.data = {
                          e: "edit_layer",
                          G: k.T.v
                      }
              } else if (D == "Lyr") {
                  var m = k.T.v
                    , B = bY.uF(C, s);
                  if (m.Nm)
                      V.data = {
                          e: U.tJ,
                          name: m.Nm.v
                      };
                  else if (m.Opct)
                      V.data = {
                          e: U.hQ,
                          Gz: Math.round(m.Opct.v.val * 255 / 100)
                      };
                  else if (m.fillOpacity)
                      V.data = {
                          e: U.o4,
                          Gz: Math.round(m.fillOpacity.v.val * 255 / 100)
                      };
                  else if (m.Md)
                      V.data = {
                          e: U.k9,
                          Gz: gx.hr.indexOf(m.Md.v.BlnM) + (C.t[B].Uf() ? 1 : 0)
                      };
                  else if (m.Usrs)
                      V.data = {
                          e: U.kB,
                          z: B
                      };
                  else if (m.Blnd) {
                      V.F = u.YB;
                      V.data = {
                          e: "setstl",
                          z: B,
                          G: {
                              blendOptions: {
                                  t: "objc",
                                  v: m
                              }
                          }
                      };
                      K.U(V);
                      V.data = {
                          e: "confirm",
                          z: B
                      }
                  } else if (m.Clr) {
                      var x = {
                          Rd: 1,
                          Ylw: 3,
                          Vlt: 6
                      }[m.Clr.v.Clr];
                      if (x == null)
                          throw m.Clr.v.Clr;
                      V.data = {
                          e: U.xN,
                          aoy: x
                      }
                  } else if (S[0].t == "prop")
                      continue;
                  else {
                      console.log(k);
                      throw "e"
                  }
                  var R = C.t[B];
                  R.a3_()
              } else if (D == "Prpr") {
                  var m = JSON.parse(JSON.stringify(k.T.v));
                  if (s.v.keyID == "TxtS") {
                      var B = bY.uF(C, k.null.v[1])
                        , R = C.t[B]
                        , b = R.add.TySh
                        , z = JSON.parse(JSON.stringify(b.Ou))
                        , $ = cO.Es(z)
                        , P = cO.UX(z, 0, $.length - 2);
                      if (m.Undl && m.Undl.v.Undl == "underlineOnLeftInVertical")
                          P.dP.Underline = !0;
                      cO.Wk(z, 0, $.length - 1, P);
                      V.F = u.EM;
                      V.data = {
                          e: "newED",
                          wv: B,
                          _W: z
                      };
                      v = 1e9
                  } else {
                      for (var t in m)
                          if (m[t].v) {
                              if (t == "Scl")
                                  m[t].v.val = 100;
                              if (m[t].v.TrnS && m[t].v.TrnS.v.Crv == null) {
                                  m[t].v.TrnS = JSON.parse(ao.Fc[9]).TrnS
                              }
                          }
                      cc.ge(m);
                      if (m.masterFXSwitch == null)
                          m.masterFXSwitch = {
                              t: "bool",
                              v: !0
                          };
                      var B = bY.uF(C, k.null.v[1]);
                      V.F = u.YB;
                      V.data = {
                          e: "setstl",
                          z: B,
                          G: {
                              Lefx: {
                                  t: "objc",
                                  v: m
                              }
                          }
                      };
                      K.U(V);
                      V.data = {
                          e: "confirm",
                          z: B
                      }
                  }
              } else if (D == "contentLayer") {
                  var B = bY.uF(C, s)
                    , m = k.T.v;
                  if (m.classID == "shapeStyle")
                      m = m.FlCn.v;
                  var X = {
                      solidColorLayer: 0,
                      gradientLayer: 1,
                      patternLayer: 2
                  }[m.classID]
                    , g = JSON.parse(JSON.stringify(ao.wW[X]));
                  hn.BS.B$(m, g, X);
                  V.data = {
                      e: U.Sv,
                      HQ: [B],
                      P1: !0,
                      G: {
                          K8: X + 1,
                          ja: g
                      }
                  }
              } else if (D == "Brsh") {
                  var Z = JSON.parse(JSON.stringify(i.O9.h8))
                    , p = k.T.v;
                  if (p.masterDiameter)
                      Z.Brsh.v.Dmtr.v.val = p.masterDiameter.v.val;
                  else
                      console.log("unknown brush parameters");
                  j.data = {
                      e: c.f.H7,
                      KG: dp.Zb,
                      AC: Z
                  }
              } else {
                  console.log(s, k);
                  throw D
              }
          } else if (N == "move") {
              if (D == "Lyr") {
                  var m = k.T.v;
                  if (m.classID == "Ofst") {
                      V.data = {
                          e: "trsl",
                          aea: m.Hrzn.v.val,
                          a0w: m.Vrtc.v.val
                      };
                      V.F = u.Sm
                  } else {
                      var f, cY;
                      if (m[0].t == "Enmr") {
                          if (m[0].v.enum == "Frnt")
                              cY = 0;
                          else if (m[0].v.enum == "Prvs")
                              cY = 2;
                          else if (m[0].v.enum == "Back")
                              cY = 3;
                          else
                              throw "e"
                      } else
                          f = m[0].v.val;
                      V.data = {
                          e: U.LI,
                          target: f,
                          Qh: cY,
                          a7_: k.Dplc ? k.Dplc.v : !1
                      }
                  }
              }
          } else if (N == "groupEvent")
              V.data = {
                  e: U.SE
              };
          else if (N == "show" || N == "hide") {
              if (D == "Lyr") {
                  var B = bY.uF(C, s);
                  if (B == -1)
                      continue;
                  var fC = C.t[B].VD();
                  if (N == "show" && fC || N == "hide" && !fC)
                      continue;
                  V.data = {
                      e: U.cv,
                      z: B
                  }
              } else if (D == "Chnl") {
                  V.data = {
                      e: U.vn,
                      Qh: "fromAction",
                      G: E
                  }
              }
          } else if (N == "rotateEventEnum") {
              V.F = u.Wx;
              var hi = k.Angl.v.val;
              V.data = {
                  e: "rot",
                  $t: [2, 5],
                  G: -hi * Math.PI / 180
              }
          } else if (N == "flip") {
              V.F = u.Wx;
              var es = k.Axis.v.Ornt == "Hrzn"
                , W = es ? new bT(-1,1) : new bT(1,-1);
              V.data = {
                  e: "scl",
                  $t: [[2, 6], [22, 4, es ? 2 : 3]],
                  G: W
              }
          } else if (N == "transform") {
              var d = 1
                , fM = 1
                , n = 0
                , ax = 0
                , d_ = 0
                , cm = 0
                , c4 = 0;
              if (k.Wdth)
                  d = k.Wdth.v.val / 100;
              if (k.Hght)
                  fM = k.Hght.v.val / 100;
              if (k.Skew) {
                  var ch = k.Skew.v;
                  n = ch.Hrzn.v.val;
                  ax = ch.Vrtc.v.val
              }
              if (k.Ofst) {
                  var hQ = k.Ofst.v;
                  cm = hQ.Hrzn.v.val;
                  c4 = hQ.Vrtc.v.val
              }
              if (k.Angl)
                  d_ = k.Angl.v.val;
              var em = new fn;
              em.concat(new fn(d,d * Math.tan(ax * Math.PI / 180),fM * Math.tan(n * Math.PI / 180),fM,0,0));
              em.rotate(-d_ * Math.PI / 180);
              em.translate(cm, c4);
              var ag = {
                  Qcsa: 4,
                  Qcs0: 0,
                  Qcs1: 2,
                  Qcs2: 8,
                  Qcs3: 6,
                  Qcs4: 1,
                  Qcs5: 5,
                  Qcs6: 7,
                  Qcs7: 3
              }[k.FTcs.v.QCSt];
              if (ag == null)
                  throw k.FTcs.v.QCSt;
              var s = k.null;
              if (s && s.v instanceof Array)
                  s = s.v[0];
              var B = s ? bY.uF(C, s) : null;
              if (B == -1)
                  B = null;
              V.F = s && s.v.keyID == "fsel" ? u.Dg : u.Ny;
              V.data = {
                  e: "mat",
                  rY: ag,
                  G: em,
                  z: B
              }
          } else if (D == "Chnl") {
              V.data = {
                  e: U.vn,
                  Qh: "fromAction",
                  G: E
              }
          } else if (N == "duplicate")
              V.data = {
                  e: U.CY,
                  dq: k.Nm ? k.Nm.v : null
              };
          else if (N == "delete")
              V.data = {
                  e: U.FU
              };
          else if (N == "align") {
              if (k.Aply && k.Aply.v.projection == "Auto") {
                  V.F = u.Wx;
                  V.data = {
                      e: "auto-align"
                  }
              } else {
                  V.F = u.Sm;
                  var L = {
                      AdLf: 0
                  }[k.Usng.v.ADSt];
                  if (L == null)
                      throw "e";
                  V.data = {
                      e: "algn",
                      G: L
                  }
              }
          } else if (N == "applyLocking") {
              var bK = k.layerLocking.v, ei;
              if (bK.protectTransparency)
                  ei = [[bK.protectTransparency.v], [0]];
              else if (bK.protectNone)
                  ei = [[!1, !1, !1, !1], [0, 1, 2, 31]];
              else {
                  console.log(bK);
                  throw "e"
              }
              V.data = {
                  e: U.V9,
                  Gz: ei
              }
          }
          if (V.data)
              K.U(V);
          else if (j.data)
              K.U(j);
          else {
              console.log(E);
              alert("Unknown action \"" + N + "\"");
              throw "e"
          }
      }
  }
  ;
  bY.uF = function(E, K) {
      var i = K.t
        , C = -1;
      if (i == "name") {
          var N = K.v.val
            , C = -1;
          for (var G = 0; G < E.t.length; G++)
              if (E.t[G].getName() == N) {
                  C = G;
                  break
              }
      }
      if (i == "Enmr" && E.C.length != 0)
          C = E.C[0];
      if (i == "Enmr" && K.v.enum == "Frwr")
          C = E.C[0] + 1;
      if (i == "Enmr" && K.v.enum == "Bckw")
          C = E.C[0] - 1;
      if (i == "prop") {
          if (K.v.keyID == "Bckg")
              C = 0
      }
      return C
  }
  ;
  var gM = {};
  gM.get = function(E) {
      for (var K in gM.names)
          if (E[K] != null)
              return K;
      return null
  }
  ;
  gM.CZ = function(E, K) {
      var i = gM.wK, C;
      if (E == "brit") {
          var N = K.Brgh ? K.Brgh.v : 0
            , k = K.Cntr ? K.Cntr.v : 0
            , V = K.useLegacy ? K.useLegacy.v : !1;
          if (V) {
              var j = N / 255
                , a = 1 + k / 100;
              if (a > 1)
                  a = 1 + Math.tan(Math.PI / 2 * k / 101);
              var e = (1 - a) / 2
                , L = _.hZ.SA(j, j, j)
                , g = [a, 0, 0, e, 0, a, 0, e, 0, 0, a, e, 0, 0, 0, 1]
                , I = _.hZ.multiply(L, g)
                , h = new _.U0(256);
              for (var G = 0; G < 256; G++)
                  h.h[G] = G;
              _.hZ.transform(h, h, I);
              C = {
                  type: i.jW,
                  wg: h.h,
                  Zo: h.h,
                  Lh: h.h,
                  by: !1,
                  lQ: !1
              }
          } else {
              var o = 1024
                , H = -30 + 60 * (k + 100) / 200
                , A = [];
              for (var G = 0; G < 4; G++)
                  A.push(_.Qe.QT(G / 3 * 255, G / 3 * 255, !0));
              A[1].v.Hrzn.v = 64;
              A[1].v.Vrtc.v = 64 - H;
              A[2].v.Hrzn.v = 128 + 64;
              A[2].v.Vrtc.v = 128 + 64 + H;
              A.sort(function(al, dj) {
                  return al.v.Hrzn.v - dj.v.Hrzn.v
              });
              var S = _.Qe.uU(A, o);
              function v(al, o) {
                  var A = []
                    , l = 3;
                  for (var G = 0; G < l + 1; G++)
                      A.push(_.Qe.QT(G / l * 255, G / l * 255, !0));
                  A[1].v.Hrzn.v = 130 - al * 26;
                  A[1].v.Vrtc.v = 130 + al * 51;
                  A[2].v.Hrzn.v = 233 - al * 48;
                  A[2].v.Vrtc.v = 233 + al * 10;
                  return _.Qe.uU(A, o)
              }
              var s = v(Math.abs(N) / 100, o);
              if (N < 0) {
                  var D = []
                    , F = 1 / o;
                  for (var G = 0; G < o; G++) {
                      var y = G * F
                        , T = G;
                      while (s[T] > y && T > 1)
                          T--;
                      D[G] = T * F
                  }
                  s = D
              }
              var Q = new Uint8Array(o);
              for (var G = 0; G < o; G++) {
                  var B = Math.round((o - 1) * s[G]);
                  Q[G] = Math.round(255 * S[B])
              }
              C = {
                  type: i.jW,
                  wg: Q,
                  Zo: Q,
                  Lh: Q,
                  by: !1,
                  lQ: !1
              }
          }
      }
      if (E == "levl") {
          var r = [], J, m, L, x, R, b;
          for (var G = 0; G < 4; G++)
              r.push(aH.oD(K, G));
          J = -r[0][0] / 255;
          m = 1 / (r[0][1] / 255 - r[0][0] / 255);
          L = _.hZ.multiply(_.hZ.vF(m, m, m), _.hZ.SA(J, J, J));
          x = _.hZ.vF(1 / (r[1][1] / 255 - r[1][0] / 255), 1 / (r[2][1] / 255 - r[2][0] / 255), 1 / (r[3][1] / 255 - r[3][0] / 255));
          R = _.hZ.SA(-r[1][0] / 255, -r[2][0] / 255, -r[3][0] / 255);
          b = _.hZ.multiply(x, R);
          var Q = new _.U0(256);
          for (var G = 0; G < 256; G++)
              Q.h[G] = Q.l[G] = Q.O[G] = G;
          var z = 1 / (r[0][4] / 100)
            , $ = 1 / (r[1][4] / 100)
            , P = 1 / (r[2][4] / 100)
            , t = 1 / (r[3][4] / 100);
          _.hZ.transform(Q, Q, b);
          for (var G = 0; G < 256; G++) {
              Q.h[G] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(Q.h[G] / 255, $))));
              Q.l[G] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(Q.l[G] / 255, P))));
              Q.O[G] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(Q.O[G] / 255, t))))
          }
          _.hZ.transform(Q, Q, L);
          for (var G = 0; G < 256; G++) {
              Q.h[G] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(Q.h[G] / 255, z))));
              Q.l[G] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(Q.l[G] / 255, z))));
              Q.O[G] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(Q.O[G] / 255, z))))
          }
          J = r[0][2] / 255;
          m = r[0][3] / 255 - r[0][2] / 255;
          L = _.hZ.multiply(_.hZ.SA(J, J, J), _.hZ.vF(m, m, m));
          x = _.hZ.vF(r[1][3] / 255 - r[1][2] / 255, r[2][3] / 255 - r[2][2] / 255, r[3][3] / 255 - r[3][2] / 255);
          R = _.hZ.SA(r[1][2] / 255, r[2][2] / 255, r[3][2] / 255);
          b = _.hZ.multiply(R, x);
          _.hZ.transform(Q, Q, _.hZ.multiply(L, b));
          C = {
              type: i.jW,
              wg: Q.h,
              Zo: Q.l,
              Lh: Q.O,
              by: !1,
              lQ: !1
          }
      }
      if (E == "curv") {
          var X = bZ.oD(K, 0).length == 256 ? 1 : 0
            , p = [];
          if (X == 0) {
              var gl = _.Qe.Pl(bZ.oD(K, 0), 256);
              for (var G = 1; G < 4; G++) {
                  var f = _.Qe.Pl(bZ.oD(K, G), 256);
                  p.push(_.Qe.C1(f, gl))
              }
          } else {
              var cY = [];
              for (var G = 0; G < 4; G++) {
                  var hi = new Uint8Array(256);
                  cY.push(hi);
                  var es = bZ.oD(K, G);
                  for (var T = 0; T < 256; T++)
                      hi[T] = es[T]
              }
              for (var G = 1; G < 4; G++)
                  p.push(_.Qe.C1(cY[G], cY[0]))
          }
          C = {
              type: i.jW,
              wg: p[0],
              Zo: p[1],
              Lh: p[2],
              by: !1,
              lQ: !1
          }
      }
      if (E == "expA") {
          console.log(K);
          var W = K.Exps
            , d = K.Ofst
            , fM = K.gammaCorrection
            , n = W ? W.v : 0
            , ax = d ? d.v : 0
            , d_ = fM ? fM.v : 1
            , Q = new Uint8Array(256);
          for (var G = 0; G < 256; G++) {
              var K = G / 255
                , cm = Math.pow(Math.abs(ax), 1 / (Math.PI / 2));
              if (ax > 0) {
                  K = Math.max(ax / Math.E, K);
                  K = K * Math.exp(ax / 1.75 + n / Math.PI);
                  K = (1 - cm) * K + cm * 1
              } else {
                  K = K * Math.exp(-ax * 1.75 + n / Math.PI);
                  K = K + -cm * 1.14
              }
              K = Math.pow(K, 1 / d_);
              K = Math.max(0, Math.min(1, K));
              Q[G] = Math.round(K * 255)
          }
          C = {
              type: i.jW,
              wg: Q,
              Zo: Q,
              Lh: Q,
              by: !1,
              lQ: !1
          }
      }
      if (E == "vibA") {
          C = {
              type: i.xH,
              KG: [K.vibrance ? K.vibrance.v : 0, K.Strt ? K.Strt.v : 0]
          }
      }
      if (E == "hue2") {
          var c4 = []
            , hQ = []
            , em = []
            , ag = K.Clrz ? K.Clrz.v : !1;
          for (var G = 0; G < 256; G++) {
              c4[G] = G / 255;
              hQ[G] = 0;
              em[G] = 0
          }
          var am = dn.oD(K, 0)
            , bK = gM.I5(am[1] / 100);
          if (ag) {
              var ei = am[0] / 360;
              for (var G = 0; G < 256; G++) {
                  c4[G] = ei;
                  hQ[G] = bK
              }
          } else {
              for (var G = 0; G < 256; G++) {
                  var dL = c4[G]
                    , fh = hQ[G];
                  c4[G] += am[0] / 360;
                  for (var T = 0; T < 6; T++) {
                      var eu = dn.oD(K, T + 1)
                        , hf = eu.sz
                        , iS = eu.ew
                        , cm = 0;
                      for (var aI = 1; aI < 4; aI++)
                          if (iS[aI] < iS[0])
                              iS[aI] += 360;
                      var gn = iS[0]
                        , ce = iS[1]
                        , gr = iS[2]
                        , ek = iS[3]
                        , bJ = dL * 360;
                      if (bJ < iS[0])
                          bJ += 360;
                      var aN = (bJ - gn) / (ce - gn)
                        , bG = (bJ - gr) / (ek - gr);
                      if (aN < 0)
                          cm = 0;
                      else if (aN < 1)
                          cm = aN;
                      else if (bG < 0)
                          cm = 1;
                      else if (bG < 1)
                          cm = 1 - bG;
                      else
                          cm = 0;
                      var a = gM.I5(hf[1] / 100);
                      c4[G] += cm * hf[0] / 360;
                      hQ[G] += cm * a;
                      em[G] += cm * hf[2] / 100
                  }
              }
              for (var G = 0; G < 256; G++) {
                  hQ[G] = (1 + hQ[G]) * (1 + bK) - 1;
                  em[G] = Math.max(-1, Math.min(1, em[G]))
              }
          }
          var aQ = new Uint8Array(256)
            , cu = new Uint8Array(256)
            , gX = new Uint8Array(256);
          for (var G = 0; G < 256; G++) {
              var bW = c4[G]
                , dE = hQ[G]
                , b4 = em[G];
              if (bW > 1)
                  bW--;
              if (bW < 0)
                  bW++;
              dE = gM.a5f(dE);
              dE = (1 + dE) * .5;
              b4 = (1 + b4) * .5;
              aQ[G] = Math.round(255 * bW);
              cu[G] = Math.round(255 * dE);
              gX[G] = Math.round(255 * b4)
          }
          var cC = am[2] / 100
            , gN = cC < 0 ? -cC : cC
            , eH = cC < 0 ? 0 : 1;
          C = {
              type: i.aP,
              ail: aQ,
              Ep: cu,
              afW: gX,
              ahh: gN * eH,
              m6: 1 - gN,
              ans: am[2] / 100,
              a2k: ag ? 1 : 0
          }
      }
      if (E == "nvrt") {
          var Q = new Uint8Array(256);
          for (var G = 0; G < 256; G++)
              Q[G] = 255 - G;
          C = {
              type: i.jW,
              wg: Q,
              Zo: Q,
              Lh: Q,
              by: !1,
              lQ: !1
          }
      }
      if (E == "post") {
          var hx = K.Lvls.v
            , Q = new Uint8Array(256)
            , cm = hx / 255.001
            , c2 = 255 / (hx - 1);
          for (var G = 0; G < 256; G++)
              Q[G] = Math.floor(G * cm) * c2;
          C = {
              type: i.jW,
              wg: Q,
              Zo: Q,
              Lh: Q,
              by: !1,
              lQ: !1
          }
      }
      if (E == "grdm") {
          var hv = K.Grad.v
            , fu = K.Rvrs
            , dv = _.V.tA(hv.Clrs.v, 0, 0)
            , o = 1024
            , fj = _.V.Jo(hv, dv, o, fu ? fu.v : !1)
            , il = _.I(o)
            , iH = _.I(o)
            , fp = _.I(o);
          _.wF(fj, il, 0);
          _.wF(fj, iH, 1);
          _.wF(fj, fp, 2);
          C = {
              type: i.jW,
              wg: il,
              Zo: iH,
              Lh: fp,
              by: !0,
              lQ: !1
          }
      }
      if (E == "selc") {
          var ff = new Float32Array(9 * 3 * 2)
            , da = K.hF
            , aC = K.Mthd ? K.Mthd.v.CrcM == "Absl" : !1;
          for (var T = 0; T < 9; T++) {
              var fa = T * 6
                , hz = cQ.oD(K, T)
                , f6 = hz[0] / 100
                , bk = hz[1] / 100
                , dB = hz[2] / 100
                , fD = hz[3] / 100;
              if (aC) {
                  ff[fa] = ff[fa + 1] = ff[fa + 2] = 1;
                  ff[fa + 3] = f6 * (1 + fD) + fD;
                  ff[fa + 4] = bk * (1 + fD) + fD;
                  ff[fa + 5] = dB * (1 + fD) + fD
              } else {
                  ff[fa + 0] = (1 + f6) * (1 + fD);
                  ff[fa + 1] = (1 + bk) * (1 + fD);
                  ff[fa + 2] = (1 + dB) * (1 + fD)
              }
          }
          C = {
              type: i.Nf,
              sr: ff
          }
      }
      if (E == "blwh") {
          var bE = "Rd Yllw Grn Cyn Bl Mgnt".split(" ")
            , C = []
            , iW = 0
            , bq = 0;
          for (var G = 0; G < 6; G++)
              C.push(K[bE[G]].v);
          C.push(K.useTint.v, K.tintColor.v);
          var f0 = [];
          for (var G = 0; G < 6; G++)
              f0.push((C[G] - 50) / 50);
          var dr = _.V.Gk(C[7]);
          dr.h /= 255;
          dr.l /= 255;
          dr.O /= 255;
          var g6 = _.Et(dr.h, dr.l, dr.O)
            , b4 = _.gU(_.WV(g6.w1, 1, .5))
            , fk = g6.Us * g6.Gb;
          if (b4 == .5)
              iW = bq = .5;
          else {
              iW = fk * (.5 - b4) / (.5 / b4 - 1);
              bq = 1 - fk * (.5 - b4) - 1 / (2 * (1 - b4));
              bq /= 1 - 1 / (2 * (1 - b4))
          }
          C = {
              type: i.Z$,
              a51: f0,
              pe: C[6] ? 1 : 0,
              a30: g6.w1,
              gU: b4,
              a4S: fk,
              qO: iW,
              aiZ: bq
          }
      }
      if (E == "blnc") {
          console.log(K);
          var r = []
            , ik = ["ShdL", "MdtL", "HghL"];
          for (var G = 0; G < 3; G++) {
              if (K[ik[G]] == null) {
                  r[G] = [0, 0, 0];
                  continue
              }
              var hx = K[ik[G]].v
                , e$ = hx[0].v / 100
                , iU = hx[1].v / 100
                , eh = hx[2].v / 100
                , hH = K.PrsL == null || K.PrsL.v ? (Math.min(e$, iU, eh) + Math.max(e$, iU, eh)) / 2 : 0;
              r[G] = [e$ - hH, iU - hH, eh - hH]
          }
          var p = [_.I(256), _.I(256), _.I(256)];
          for (var T = 0; T < 3; T++)
              for (var G = 0; G < 256; G++) {
                  var y = G * (1 / 255)
                    , eJ = 0
                    , H = 0
                    , gf = 0;
                  H = r[2][T];
                  gf = Math.abs(H);
                  if (H < 0)
                      eJ = Math.pow(y, Math.SQRT2);
                  else
                      eJ = 1.63 * (Math.pow(y + .04, .5) - .2);
                  y = gf * eJ + (1 - gf) * y;
                  H = r[1][T];
                  gf = Math.abs(H);
                  if (H < 0)
                      eJ = Math.pow(y, 2);
                  else
                      eJ = Math.min(2.35 * (Math.pow(y + .09, .5) - .3), Math.pow(y, 1 / 2));
                  y = gf * eJ + (1 - gf) * y;
                  H = r[0][T];
                  gf = Math.abs(H);
                  if (H < 0)
                      eJ = y < .4 ? 0 : Math.pow((y - .4) / .6, Math.SQRT2);
                  else
                      eJ = Math.pow(y, Math.SQRT2 / 2);
                  y = gf * eJ + (1 - gf) * y;
                  y = Math.max(0, Math.min(1, y));
                  p[T][G] = Math.round(y * 255)
              }
          C = {
              type: i.jW,
              wg: p[0],
              Zo: p[1],
              Lh: p[2],
              by: !1,
              lQ: !1
          }
      }
      if (E == "phfl") {
          var d0 = _.V.Gk(K.Clr.v)
            , ac = [d0.h / 255, d0.l / 255, d0.O / 255]
            , eY = K.Dnst.v / 100
            , p = [_.I(256), _.I(256), _.I(256)];
          for (var T = 0; T < 3; T++)
              for (var G = 0; G < 256; G++) {
                  var y = G * (1 / 255)
                    , dg = y * ac[T];
                  dg = Math.max(0, Math.min(1, dg));
                  y = eY * dg + (1 - eY) * y;
                  p[T][G] = Math.round(y * 255)
              }
          C = {
              type: i.jW,
              wg: p[0],
              Zo: p[1],
              Lh: p[2],
              by: !1,
              lQ: K.PrsL.v
          }
      }
      if (E == "thrs") {
          var Q = _.I(256);
          for (var G = K.Lvl.v; G < 256; G++)
              Q[G] = 255;
          C = {
              type: i.jW,
              wg: Q,
              Zo: Q,
              Lh: Q,
              by: !0,
              lQ: !1
          }
      }
      if (E == "mixr") {
          var cX = gM.WF(K)
            , I = [];
          for (var G = 0; G < cX.G.length; G++)
              if (G % 5 != 3)
                  I.push(cX.G[G] / 100);
          if (cX.jE) {
              for (var eZ = 1; eZ < 3; eZ++)
                  for (var y = 0; y < 4; y++)
                      I[eZ * 4 + y] = I[y]
          }
          C = {
              type: i.Qa,
              w3: I
          }
      }
      if (E == "rplc") {
          var iC = K.Mnm.v
            , cW = K.Mxm.v;
          C = {
              type: i.rf,
              SR: [iC.Lmnc.v, iC.A.v, iC.B.v],
              _0: [cW.Lmnc.v, cW.A.v, cW.B.v],
              shift: [K.H.v / 360, K.Strt.v / 100, K.Lght.v / 100],
              Su: K.Fzns.v / 200
          }
      }
      if (E == "clrL" && K.profile) {
          var cT = new Uint8Array(K.profile.v)
            , cF = ICC.R(cT.buffer)
            , aP = []
            , iz = 17
            , aP = ICC.U.sampleLUT(cF, iz);
          C = {
              type: i.gg,
              UE: ICC.U.rgba8LUT(aP, iz),
              amU: aP,
              FE: iz
          }
      }
      return C
  }
  ;
  gM.yX = function(E, K) {
      var i = -1;
      if (E != "levl" || K == null)
          i = -1;
      else if (K.Auto)
          i = 0;
      else if (K.AuCo)
          i = 1;
      else if (K.autoBlackWhite)
          i = 2;
      return i
  }
  ;
  gM.wK = {
      jW: 0,
      aP: 1,
      xH: 2,
      Nf: 3,
      Z$: 4,
      Qa: 5,
      rf: 6,
      gg: 7
  };
  gM.I5 = function(E) {
      if (E < 0)
          return E;
      return Math.pow(Math.tan(Math.PI / 2 * E), 1.3)
  }
  ;
  gM.a5f = function(E) {
      if (E < 0)
          return E;
      E = Math.pow(E, 1 / 1.3);
      return Math.atan2(E, 1) / (Math.PI / 2)
  }
  ;
  gM.aL = function(E, K, i, C) {
      var N = gM.wK
        , k = Date.now();
      if (Y.vD && C.X() > 300 * 300 && E.type != N.jW && E.type != N.gg) {
          C = C.clone();
          C.x = C.y = 0;
          var V = Y.I3(0, C.d, C.v);
          V.set(K);
          Y.j8(V, C);
          V.HV(C);
          gM.Nk(E, V.B6, C);
          V.get(i);
          return
      }
      if (E.type == N.gg) {
          var j = E.amU
            , a = E.FE;
          ICC.U.applyLUT(j, a, K, i)
      }
      if (E.type == N.Qa)
          _.hZ.O_(K, i, E.w3);
      if (E.type == N.Z$) {
          var e = E.a4S
            , L = E.gU
            , g = E.qO
            , I = E.aiZ
            , h = K.length;
          for (var G = 0; G < h; G += 4) {
              var C = K[G] * (1 / 255)
                , o = K[G + 1] * (1 / 255)
                , H = K[G + 2] * (1 / 255)
                , A = _.d7(C, o, H)
                , S = 0;
              for (var v = 0; v < 6; v++)
                  S += Math.min(1, 1.7 * (1 - A.q8)) * A.Us * E.a51[v] * gM.qi(A.w1, v * (1 / 6));
              var s = Math.max(0, Math.min(1, A.q8 * (1 + S)));
              if (E.pe == 1) {
                  var D = 0;
                  if (s < g)
                      D = s * (.5 / L);
                  else if (s < I)
                      D = s + e * (.5 - L);
                  else
                      D = 1 - (1 - s) * .5 / (1 - L);
                  A.w1 = E.a30;
                  A.Us = Math.min(1, e + 3 * e * Math.abs(s - .5 * (g + I)));
                  A.q8 = D
              } else {
                  A.w1 = 0;
                  A.Us = 0;
                  A.q8 = s
              }
              var F = _.WV(A.w1, A.Us, A.q8);
              i[G] = Math.round(F.h * 255);
              i[G + 1] = Math.round(F.l * 255);
              i[G + 2] = Math.round(F.O * 255)
          }
      }
      if (E.type == N.Nf) {
          var y = E.sr
            , h = K.length
            , T = 1 / 255;
          for (var G = 0; G < h; G += 4) {
              var C = K[G] * T
                , o = K[G + 1] * T
                , H = K[G + 2] * T
                , A = _.d7(C, o, H)
                , Q = Math.max(C, Math.max(o, H))
                , B = Math.min(C, Math.min(o, H))
                , r = 1 - C
                , J = 1 - o
                , m = 1 - H
                , x = 0
                , R = 0
                , b = 0;
              for (var v = 0; v < 9; v++) {
                  var z = v * 6
                    , X = 0;
                  if (y[z] == 1 && y[z + 1] == 1 && y[z + 2] == 1 && y[z + 3] == 0 && y[z + 4] == 0 && y[z + 5] == 0)
                      continue;
                  var $ = r * y[z] + y[z + 3]
                    , P = J * y[z + 1] + y[z + 4]
                    , t = m * y[z + 2] + y[z + 5];
                  if (v < 6)
                      X = gM.qi(A.w1, v * (1 / 6)) * A.Us * 2 * Math.min(A.q8, 1 - A.q8);
                  else if (v == 6)
                      X = Math.max(0, B - .5) * 2;
                  else if (v == 7)
                      X = 1 - (Math.abs(Q - .5) + Math.abs(B - .5));
                  else
                      X = Math.max(0, .5 - Q) * 2;
                  x += (Math.max(0, Math.min(1, $)) - r) * X;
                  R += (Math.max(0, Math.min(1, P)) - J) * X;
                  b += (Math.max(0, Math.min(1, t)) - m) * X
              }
              r = Math.max(0, Math.min(1, r + x));
              J = Math.max(0, Math.min(1, J + R));
              m = Math.max(0, Math.min(1, m + b));
              C = 1 - r;
              o = 1 - J;
              H = 1 - m;
              i[G] = Math.round(C * 255);
              i[G + 1] = Math.round(o * 255);
              i[G + 2] = Math.round(H * 255)
          }
      }
      if (E.type == N.jW) {
          _.ahY(K, i, E.wg, E.Zo, E.Lh, E.by, E.lQ)
      }
      if (E.type == N.aP) {
          var Z = new Uint32Array(K.buffer)
            , p = new Uint32Array(i.buffer)
            , h = Z.length;
          if (gM.rG == null) {
              gM.rG = new Float64Array(256);
              for (var G = 0; G < 256; G++)
                  gM.rG[G] = gM.I5(-1 + 2 * G / 255)
          }
          var gl = gM.rG;
          for (var G = 0; G < h; G++) {
              var f = Z[G]
                , C = (f & 255) * (1 / 255)
                , o = (f >>> 8 & 255) * (1 / 255)
                , H = (f >>> 16 & 255) * (1 / 255)
                , cY = f >>> 24
                , fC = Math.min(C, o, H)
                , hi = Math.max(C, o, H)
                , es = 0
                , W = 0
                , d = 0;
              es = _.d7(C, o, H).w1;
              var fM = ~~(es * 255 + .5)
                , n = E.ail[fM] * (1 / 255)
                , ax = E.Ep[fM] * (1 / 255) * 2 - 1
                , d_ = E.afW[fM] * (1 / 255) * 2 - 1
                , S = -d_
                , cm = fC;
              if (0 < d_) {
                  S = d_;
                  cm = hi
              }
              var c4 = E.ahh + E.m6 * S * cm
                , ch = E.m6 * (1 - S);
              C = c4 + ch * C;
              o = c4 + ch * o;
              H = c4 + ch * H;
              hi = Math.max(C, o, H);
              fC = Math.min(C, o, H);
              d = (hi + fC) * .5;
              if (hi != fC) {
                  var hQ = hi - fC;
                  W = d > .5 ? hQ / (2 - (hi + fC)) : hQ / (hi + fC)
              }
              var em = ax;
              if (E.a2k == 0) {
                  ax = gl[Math.floor((1 + ax) * 127.5)];
                  em = Math.min(W * (1 + ax), 1)
              }
              var F = _.WV(n, em, d);
              C = F.h;
              o = F.l;
              H = F.O;
              p[G] = cY << 24 | H * 255 << 16 | o * 255 << 8 | C * 255
          }
      }
      if (E.type == N.rf) {
          _.uJ(K, i);
          var Z = new Uint32Array(K.buffer)
            , p = new Uint32Array(i.buffer)
            , h = Z.length
            , ag = E.Su
            , am = 1 / ag
            , bK = {
              Ym: E.SR[0],
              R: E.SR[1],
              O: E.SR[2]
          }
            , ei = {
              Ym: E._0[0],
              R: E._0[1],
              O: E._0[2]
          };
          for (var G = 0; G < h; G++) {
              var f = Z[G]
                , dL = f & 255
                , fh = f >>> 8 & 255
                , eu = f >>> 16 & 255
                , C = dL * (1 / 255)
                , o = fh * (1 / 255)
                , H = eu * (1 / 255)
                , cY = f >>> 24
                , hf = _.th(dL, fh, eu)
                , iS = _.vf(hf, bK, ei, ag, am);
              if (iS == 0)
                  continue;
              var A = _.d7(C, o, H)
                , n = 2 + A.w1 + iS * E.shift[0];
              A.w1 = n - ~~n;
              A.Us = Math.max(0, Math.min(1, A.Us + iS * E.shift[1]));
              A.q8 = Math.max(0, Math.min(1, A.q8 + iS * E.shift[2]));
              var F = _.WV(A.w1, A.Us, A.q8);
              C = F.h;
              o = F.l;
              H = F.O;
              p[G] = cY << 24 | H * 255 << 16 | o * 255 << 8 | C * 255
          }
      }
      if (E.type == N.xH) {
          var Z = new Uint32Array(K.buffer)
            , p = new Uint32Array(i.buffer)
            , h = Z.length
            , aI = E.KG[0] / 100
            , gn = E.KG[1] / 100;
          for (var G = 0; G < h; G++) {
              var f = Z[G]
                , C = (f & 255) * (1 / 255)
                , o = (f >>> 8 & 255) * (1 / 255)
                , H = (f >>> 16 & 255) * (1 / 255)
                , cY = f >>> 24
                , A = _.Et(C, o, H)
                , es = A.w1
                , W = A.Us
                , d = A.Gb
                , ce = 0
                , gr = 45 / 360
                , ek = es < gr ? Math.cos(Math.PI / 2 * (es - gr / 2) / (gr / 2)) : 0;
              W = W + .2 * (1 - .4 * ek) * aI * Math.max(0, Math.sin(W * Math.PI));
              W = W * (1 + gn);
              W = Math.max(0, Math.min(1, W));
              var F = _.Np(es, W, d);
              C = F.h;
              o = F.l;
              H = F.O;
              p[G] = cY << 24 | H * 255 << 16 | o * 255 << 8 | C * 255
          }
      }
  }
  ;
  gM.Nk = function(E, K, i) {
      Y.M4.Nk(E, K)
  }
  ;
  gM.qi = function(E, K) {
      var i = _.$v(K, E) * 6;
      return Math.max(0, Math.min(1, i < 0 ? 1 + i : 1 - i))
  }
  ;
  gM.names = {
      brit: [4, 0],
      levl: [4, 1],
      curv: [4, 2],
      expA: [4, 3],
      vibA: [4, 4],
      hue2: [4, 5],
      blnc: [4, 6],
      blwh: [4, 7],
      phfl: [4, 8],
      mixr: [4, 9],
      clrL: [4, 10],
      nvrt: [4, 11],
      post: [4, 12],
      thrs: [4, 13],
      grdm: [4, 14],
      selc: [4, 15],
      rplc: [4, 17]
  };
  gM.Z7 = ["expA", "clrL", "selc"];
  gM.dQ = [[13, 1, 1], [13, 1, 3], [13, 1, 4], [13, 1, 11], [13, 1, 5], [13, 1, 12]];
  gM.amr = [[13, 1, 11], [13, 1, 12], [13, 1, 3], [13, 1, 10]];
  gM.Hh = [[13, 1, 1], [13, 1, 4], [13, 1, 5]];
  gM.pX = {
      BrgC: "brit",
      Lvls: "levl",
      Crvs: "curv",
      Exps: "expA",
      vibrance: "vibA",
      HStr: "hue2",
      ClrB: "blnc",
      BanW: "blwh",
      photoFilter: "phfl",
      Invr: "nvrt",
      Pstr: "post",
      Thrs: "thrs",
      GrMp: "grdm",
      SlcC: "selc",
      ChnM: "mixr",
      colorLookup: "clrL",
      rplc: "rplc"
  };
  gM.cC = function() {
      var E = JSON.parse(JSON.stringify(gM.pX));
      delete E.GrMp;
      E.GdMp = "grdm";
      return E
  }();
  gM.Xd = {
      brit: "brightnessEvent",
      levl: "levels",
      curv: "curves",
      expA: "exposure",
      vibA: "vibrance",
      hue2: "hueSaturation",
      blnc: "colorBalance",
      blwh: "blackAndWhite",
      phfl: "photoFilter",
      mixr: "channelMixer",
      clrL: "colorLookup",
      nvrt: "invert",
      post: "posterization",
      thrs: "thresholdClassEvent",
      grdm: "gradientMapEvent",
      selc: "selectiveColor",
      rplc: "replaceColor"
  };
  gM.keys = {
      levl: [w.qN, w.Ym],
      curv: [w.qN, w.ka],
      hue2: [w.qN, w.dM],
      nvrt: [w.qN, w.Gs],
      blnc: [w.qN, w.gB]
  };
  gM.IW = function(E) {
      var K = ef.Sk("mixr");
      K.Mnch = {
          t: "bool",
          v: E.jE
      };
      function i(C, G) {
          var N = {
              classID: "ChMx"
          }
            , k = {
              Rd: 0,
              Grn: 1,
              Bl: 2,
              Cnst: 4
          };
          for (var V in k)
              N[V] = {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: C[G + k[V]]
                  }
              };
          return {
              t: "Objc",
              v: N
          }
      }
      if (E.jE)
          K.Gry = i(E.G, 0);
      else {
          K.Rd = i(E.G, 0);
          K.Grn = i(E.G, 5);
          K.Bl = i(E.G, 10)
      }
      return K
  }
  ;
  gM.WF = function(E) {
      function K(C, N, G) {
          var k = {
              Rd: 0,
              Grn: 1,
              Bl: 2,
              Cnst: 4
          };
          for (var V in k)
              if (C[V])
                  N[G + k[V]] = C[V].v.val
      }
      var i = {
          jE: !1,
          G: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
      };
      if (E.Mnch && E.Mnch.v)
          i.jE = !0;
      if (i.jE)
          K(E.Gry.v, i.G, 0);
      else {
          K(E.Rd.v, i.G, 0);
          K(E.Grn.v, i.G, 5);
          K(E.Bl.v, i.G, 10)
      }
      return i
  }
  ;
  var ef = {};
  ef.o6 = function(E) {
      var K = E.filterID.v;
      return K > 16777215 ? O.aiB(K) : E.Fltr.v.classID
  }
  ;
  ef.Wq = [{
      ja: "GEfc"
  }, {
      ja: "LnCr"
  }, {
      ja: "LqFy",
      bx: !0
  }, {
      Qp: "3D",
      LT: ["lightFilterGradient"]
  }, {
      Qp: [24, 2],
      LT: "Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")
  }, {
      Qp: [24, 4],
      LT: "Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")
  }, {
      Qp: [24, 6],
      LT: ["AdNs", "Dspc", "DstS", "Mdn "]
  }, {
      Qp: [24, 8],
      LT: "ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")
  }, {
      Qp: [24, 10],
      LT: ["Clds", "DfrC", "LnsF"]
  }, {
      Qp: [24, 12],
      LT: ["Shrp", "ShrE", "ShrM", "smartSharpen", "UnsM"]
  }, {
      Qp: [24, 14],
      LT: "Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")
  }, {
      Qp: [24, 16],
      LT: "HghP,Mxm ,Mnm ,Ofst,Rept,Ctoa".split(",")
  }, {
      Qp: "Fourier",
      LT: ["dDFT", "iDFT"]
  }];
  ef.Xd = {
      LqFy: "LqFy",
      Avrg: "Avrg",
      "Blr ": "blurEvent",
      BlrM: "blurMethod",
      boxblur: "boxblur",
      GsnB: "gaussianBlur",
      MtnB: "motionBlur",
      RdlB: "radialBlur",
      surfaceBlur: "surfaceBlur",
      lightFilterGradient: "lightFilterGradient",
      adaptCorrect: "adaptCorrect",
      Pnch: "pinch",
      "Plr ": "polar",
      Rple: "ripple",
      "Shr ": "shear",
      Sphr: "spherize",
      Twrl: "twirl",
      Wave: "wave",
      AdNs: "addNoise",
      DstS: "dustAndScratches",
      "Mdn ": "median",
      ClrH: "colorHalftone",
      Crst: "",
      Frgm: "",
      Mztn: "mezzotint",
      "Msc ": "mosaic",
      Pntl: "",
      Clds: "clouds",
      DfrC: "differenceClouds",
      LnsF: "LnsF",
      Shrp: "sharpen",
      ShrM: "sharpenMore",
      smartSharpen: "smartSharpen",
      UnsM: "unsharpMask",
      FndE: "findEdges",
      oilPaint: "oilPaint",
      HghP: "highPass",
      "Mxm ": "maximum",
      "Mnm ": "minimum",
      Ofst: "offset"
  };
  ef.VZ = {
      AddNoise: "AdNs",
      Average: "Avrg",
      Blur: "Blr ",
      BlurMore: "BlrM",
      Clouds: "Clds",
      DifferenceClouds: "DfrC",
      DustAndScratches: "DstS",
      GaussianBlur: "GsnB",
      HighPass: "HghP",
      Maximum: "Mxm ",
      Minimum: "Mnm ",
      MotionBlur: "MtnB",
      Offset: "Ofst",
      Pinch: "Pnch",
      PolarCoordinates: "Plr ",
      Ripple: "Rple",
      Sharpen: "Shrp",
      SharpenMore: "ShrM",
      Twirl: "Twrl",
      UnsharpMask: "UnsM"
  };
  ef.d4 = {
      rigidTransform: u.v$
  };
  ef.names = {
      lightFilterGradient: "Normal Map",
      rigidTransform: [10, 46],
      LnCr: [24, 1, 1, 0],
      LqFy: [24, 1, 0, 0],
      GEfc: [24, 0],
      Avrg: [24, 3, 0],
      "Blr ": [24, 3, 1],
      BlrM: [24, 3, 2],
      boxblur: [24, 3, 3],
      GsnB: [24, 3, 4],
      Bokh: [24, 3, 5],
      MtnB: [24, 3, 6],
      RdlB: [24, 3, 7],
      surfaceBlur: [24, 3, 10],
      Dspl: [24, 5, 0],
      Pnch: [24, 5, 1],
      "Plr ": [24, 5, 2],
      Rple: [24, 5, 3],
      "Shr ": [24, 5, 4],
      Sphr: [24, 5, 5],
      Twrl: [24, 1, 0, 1, 3],
      Wave: [24, 5, 6],
      AdNs: [24, 7, 0],
      Dspc: [24, 7, 1],
      DstS: [24, 7, 2],
      "Mdn ": [24, 7, 3],
      ClrH: [24, 9, 0],
      Crst: [24, 9, 1],
      Frgm: [24, 9, 3],
      Mztn: [24, 9, 4],
      "Msc ": [24, 9, 5],
      Pntl: [24, 9, 6],
      Clds: [24, 11, 0],
      DfrC: [24, 11, 1],
      LnsF: [24, 11, 2],
      Shrp: [24, 13, 0],
      ShrE: [24, 13, 1],
      ShrM: [24, 13, 2],
      smartSharpen: [24, 13, 3],
      UnsM: [24, 13, 4],
      "Dfs ": [24, 15, 0],
      Embs: [24, 15, 1],
      FndE: [24, 15, 3],
      oilPaint: [24, 15, 4],
      Slrz: "Solarize",
      TrcC: "Trace Contour",
      "Wnd ": "Wind",
      HghP: [24, 17, 1],
      "Mxm ": [24, 17, 2],
      "Mnm ": [24, 17, 3],
      Ofst: [24, 17, 4],
      Rept: [24, 17, 5],
      Ctoa: "Color to Alpha",
      dDFT: "Fourier Transform",
      iDFT: "Inverse Fourier Transform",
      adaptCorrect: ["VAR0/VAR1", [19, 6, 0], [19, 6, 2]]
  };
  ef.Sk = function(E) {
      var K = null;
      if (E == "GEfc")
          K = {
              __name: "Filter Gallery",
              classID: "GEfc",
              GEfs: {
                  t: "VlLs",
                  v: [{
                      t: "Objc",
                      v: eU.Sk("GlwE")
                  }]
              }
          };
      if (E == "LqFy") {
          var i = {
              jx: 5,
              w1: 5,
              map: new Float32Array(5 * 5 * 2)
          }
            , C = new Uint8Array(as.c4(i))
            , N = [];
          for (var G = 0; G < C.length; G++)
              N.push(C[G]);
          K = {
              __name: "Liquify",
              classID: "LqFy",
              LqMe: {
                  t: "tdta",
                  v: N
              }
          }
      }
      if (E == "rigidTransform") {
          K = {
              __name: "Puppet Warp",
              classID: "rigidTransform",
              null: {
                  t: "obj ",
                  v: [{
                      t: "Enmr",
                      v: {
                          classID: "Lyr",
                          typeID: "Ordn",
                          enum: "Trgt"
                      }
                  }]
              },
              rigidType: {
                  t: "bool",
                  v: !0
              },
              puppetShapeList: {
                  t: "VlLs",
                  v: []
              },
              PuX0: {
                  t: "doub",
                  v: 0
              },
              PuX1: {
                  t: "doub",
                  v: 1e3
              },
              PuX2: {
                  t: "doub",
                  v: 1e3
              },
              PuX3: {
                  t: "doub",
                  v: 0
              },
              PuY0: {
                  t: "doub",
                  v: 0
              },
              PuY1: {
                  t: "doub",
                  v: 0
              },
              PuY2: {
                  t: "doub",
                  v: 1e3
              },
              PuY3: {
                  t: "doub",
                  v: 1e3
              }
          }
      }
      if (E == "LnCr")
          K = {
              __name: "Lens Correction",
              classID: "LnCr",
              LnAg: {
                  t: "bool",
                  v: !0
              },
              LnAc: {
                  t: "bool",
                  v: !1
              },
              LnAv: {
                  t: "bool",
                  v: !1
              },
              LnAs: {
                  t: "bool",
                  v: !1
              },
              LnIp: {
                  t: "bool",
                  v: !1
              },
              LnFo: {
                  t: "doub",
                  v: 0
              },
              LnPr: {
                  t: "TEXT",
                  v: ""
              },
              LnIa: {
                  t: "doub",
                  v: 0
              },
              LnI0: {
                  t: "doub",
                  v: 0
              },
              LnI1: {
                  t: "doub",
                  v: 0
              },
              LnI2: {
                  t: "doub",
                  v: 0
              },
              LnI3: {
                  t: "doub",
                  v: 1
              },
              LnRa: {
                  t: "doub",
                  v: 0
              },
              LnVp: {
                  t: "doub",
                  v: 0
              },
              LnHp: {
                  t: "doub",
                  v: 0
              },
              LnSi: {
                  t: "doub",
                  v: 100
              },
              LnFt: {
                  t: "long",
                  v: 2
              },
              LnSb: {
                  t: "doub",
                  v: 0
              },
              LnSt: {
                  t: "long",
                  v: 50
              },
              LnRc: {
                  t: "doub",
                  v: 0
              },
              LnGm: {
                  t: "doub",
                  v: 0
              },
              LnBy: {
                  t: "doub",
                  v: 0
              },
              LnNa: {
                  t: "long",
                  v: 64
              },
              LnIh: {
                  t: "long",
                  v: 0
              },
              LnIv: {
                  t: "long",
                  v: 0
              },
              LnIs: {
                  t: "Objc",
                  v: {
                      classID: "RGBC",
                      Rd: {
                          t: "doub",
                          v: 127
                      },
                      Grn: {
                          t: "doub",
                          v: 127
                      },
                      Bl: {
                          t: "doub",
                          v: 127
                      }
                  }
              },
              LnNm: {
                  t: "bool",
                  v: !1
              }
          };
      if (E == "adaptCorrect")
          K = {
              __name: "Shadow/Highlight",
              classID: "adaptCorrect",
              sdwM: {
                  t: "Objc",
                  v: {
                      __name: "Parameters",
                      classID: "adaptCorrectTones",
                      Amnt: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 50
                          }
                      },
                      Wdth: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 25
                          }
                      },
                      Rds: {
                          t: "long",
                          v: 12
                      }
                  }
              },
              hglM: {
                  t: "Objc",
                  v: {
                      __name: "Parameters",
                      classID: "adaptCorrectTones",
                      Amnt: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 0
                          }
                      },
                      Wdth: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 0
                          }
                      },
                      Rds: {
                          t: "long",
                          v: 0
                      }
                  }
              },
              BlcC: {
                  t: "doub",
                  v: 0
              },
              WhtC: {
                  t: "doub",
                  v: 0
              },
              Cntr: {
                  t: "long",
                  v: 0
              },
              ClrC: {
                  t: "long",
                  v: 0
              }
          };
      if (E == "Dfs ")
          K = {
              __name: "Diffuse",
              classID: "Dfs",
              Md: {
                  t: "enum",
                  v: {
                      DfsM: "Nrml"
                  }
              },
              FlRs: {
                  t: "long",
                  v: 14061024
              }
          };
      if (E == "Embs")
          K = {
              __name: "Emboss",
              classID: "Embs",
              Angl: {
                  t: "long",
                  v: 45
              },
              Hght: {
                  t: "long",
                  v: 5
              },
              Amnt: {
                  t: "long",
                  v: 100
              }
          };
      if (E == "oilPaint")
          K = {
              __name: "Oil Paint",
              classID: "oilPaint",
              lightingOn: {
                  t: "bool",
                  v: !0
              },
              stylization: {
                  t: "doub",
                  v: 3
              },
              brushScale: {
                  t: "doub",
                  v: 1
              },
              microBrush: {
                  t: "doub",
                  v: 0
              },
              LghD: {
                  t: "long",
                  v: 45
              },
              specularity: {
                  t: "doub",
                  v: 1
              },
              cleanliness: {
                  t: "doub",
                  v: 2
              }
          };
      if (E == "TrcC")
          K = {
              __name: "Trace Contour",
              classID: "TrcC",
              Lvl: {
                  t: "long",
                  v: 128
              },
              Edg: {
                  t: "enum",
                  v: {
                      CntE: "Lwr"
                  }
              }
          };
      if (E == "Wnd ")
          K = {
              __name: "Wind",
              classID: "Wnd",
              WndM: {
                  t: "enum",
                  v: {
                      WndM: "Wnd"
                  }
              },
              Drct: {
                  t: "enum",
                  v: {
                      Drct: "Rght"
                  }
              }
          };
      if (E == "lightFilterGradient")
          K = {
              __name: "Generate Normals",
              classID: "lightFilterGradient",
              blur: {
                  t: "doub",
                  v: 0
              },
              textureScale: {
                  t: "doub",
                  v: 1
              },
              Scl: {
                  t: "doub",
                  v: 1
              },
              Dtl: {
                  t: "VlLs",
                  v: [{
                      t: "doub",
                      v: 1
                  }, {
                      t: "doub",
                      v: 1
                  }, {
                      t: "doub",
                      v: 1
                  }]
              }
          };
      if (E == "boxblur")
          K = {
              __name: "Box Blur",
              classID: "boxblur",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 15
                  }
              }
          };
      if (E == "GsnB")
          K = {
              __name: "Gaussian Blur",
              classID: "GsnB",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 7.2
                  }
              }
          };
      if (E == "Bokh")
          K = {
              __name: "Lens Blur",
              classID: "Bokh",
              BkDi: {
                  t: "enum",
                  v: {
                      BtDi: "BeIn"
                  }
              },
              BkDp: {
                  t: "long",
                  v: 0
              },
              BkDs: {
                  t: "bool",
                  v: !1
              },
              BkIs: {
                  t: "enum",
                  v: {
                      BtIs: "BeS6"
                  }
              },
              BkIb: {
                  t: "doub",
                  v: 30
              },
              BkIc: {
                  t: "long",
                  v: 0
              },
              BkIr: {
                  t: "long",
                  v: 0
              },
              BkSb: {
                  t: "doub",
                  v: 0
              },
              BkSt: {
                  t: "long",
                  v: 255
              },
              BkNa: {
                  t: "long",
                  v: 0
              },
              BkNt: {
                  t: "enum",
                  v: {
                      BtNt: "BeNu"
                  }
              },
              BkNm: {
                  t: "bool",
                  v: !1
              }
          };
      if (E == "MtnB")
          K = {
              __name: "Motion Blur",
              classID: "MtnB",
              Angl: {
                  t: "long",
                  v: 0
              },
              Dstn: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 4
                  }
              }
          };
      if (E == "RdlB")
          K = {
              __name: "Radial Blur",
              classID: "RdlB",
              Amnt: {
                  t: "long",
                  v: 10
              },
              BlrM: {
                  t: "enum",
                  v: {
                      BlrM: "Spn"
                  }
              },
              BlrQ: {
                  t: "enum",
                  v: {
                      BlrQ: "Gd"
                  }
              },
              Cntr: {
                  t: "Objc",
                  v: {
                      classID: "Pnt",
                      Hrzn: {
                          t: "doub",
                          v: .5
                      },
                      Vrtc: {
                          t: "doub",
                          v: .5
                      }
                  }
              }
          };
      if (E == "surfaceBlur")
          K = {
              __name: "Surface Blur",
              classID: "surfaceBlur",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 15
                  }
              },
              Thsh: {
                  t: "long",
                  v: 15
              }
          };
      if (E == "Dspl")
          K = {
              __name: "Displace",
              classID: "Dspl",
              HrzS: {
                  t: "long",
                  v: 10
              },
              VrtS: {
                  t: "long",
                  v: 10
              },
              DspM: {
                  t: "enum",
                  v: {
                      DspM: "StrF"
                  }
              },
              UndA: {
                  t: "enum",
                  v: {
                      UndA: "RptE"
                  }
              },
              DspF: {
                  t: "Pth ",
                  v: {
                      sig: "txtu",
                      pth: "file.psd\0"
                  }
              }
          };
      if (E == "Pnch")
          K = {
              __name: "Pinch",
              classID: "Pnch",
              Amnt: {
                  t: "long",
                  v: -100
              }
          };
      if (E == "Plr ")
          K = {
              __name: "Polar Coordinates",
              classID: "Plr",
              Cnvr: {
                  t: "enum",
                  v: {
                      Cnvr: "RctP"
                  }
              }
          };
      if (E == "Rple")
          K = {
              __name: "Ripple",
              classID: "Rple",
              Amnt: {
                  t: "long",
                  v: 999
              },
              RplS: {
                  t: "enum",
                  v: {
                      RplS: "Mdm"
                  }
              }
          };
      if (E == "Shr ")
          K = {
              __name: "Shear",
              classID: "Shr",
              ShrP: {
                  t: "VlLs",
                  v: [{
                      t: "Objc",
                      v: {
                          classID: "Pnt",
                          Hrzn: {
                              t: "doub",
                              v: 0
                          },
                          Vrtc: {
                              t: "doub",
                              v: 1
                          }
                      }
                  }, {
                      t: "Objc",
                      v: {
                          classID: "Pnt",
                          Hrzn: {
                              t: "doub",
                              v: 0
                          },
                          Vrtc: {
                              t: "doub",
                              v: 128
                          }
                      }
                  }]
              },
              UndA: {
                  t: "enum",
                  v: {
                      UndA: "WrpA"
                  }
              },
              ShrS: {
                  t: "long",
                  v: 0
              },
              ShrE: {
                  t: "long",
                  v: 1
              }
          };
      if (E == "Sphr")
          K = {
              __name: "Spherize",
              classID: "Sphr",
              Amnt: {
                  t: "long",
                  v: 100
              },
              SphM: {
                  t: "enum",
                  v: {
                      SphM: "Nrml"
                  }
              }
          };
      if (E == "Twrl")
          K = {
              __name: "Twirl",
              classID: "Twrl",
              Angl: {
                  t: "long",
                  v: 90
              }
          };
      if (E == "Wave")
          K = {
              __name: "Wave",
              classID: "Wave",
              Wvtp: {
                  t: "enum",
                  v: {
                      Wvtp: "WvSn"
                  }
              },
              NmbG: {
                  t: "long",
                  v: 1
              },
              WLMn: {
                  t: "long",
                  v: 101
              },
              WLMx: {
                  t: "long",
                  v: 102
              },
              AmMn: {
                  t: "long",
                  v: 36
              },
              AmMx: {
                  t: "long",
                  v: 37
              },
              SclH: {
                  t: "long",
                  v: 100
              },
              SclV: {
                  t: "long",
                  v: 100
              },
              UndA: {
                  t: "enum",
                  v: {
                      UndA: "WrpA"
                  }
              },
              RndS: {
                  t: "long",
                  v: 743887
              }
          };
      if (E == "AdNs")
          K = {
              __name: "Add Noise",
              classID: "AdNs",
              Dstr: {
                  t: "enum",
                  v: {
                      Dstr: "Unfr"
                  }
              },
              Nose: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 20
                  }
              },
              Mnch: {
                  t: "bool",
                  v: !1
              },
              FlRs: {
                  t: "long",
                  v: 100691320
              }
          };
      if (E == "DstS")
          K = {
              __name: "Dust & Scratches",
              classID: "DstS",
              Rds: {
                  t: "long",
                  v: 2
              },
              Thsh: {
                  t: "long",
                  v: 26
              }
          };
      if (E == "Mdn ")
          K = {
              __name: "Median",
              classID: "Mdn",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 7
                  }
              }
          };
      if (E == "ClrH")
          K = {
              __name: "Color Halftone",
              classID: "ClrH",
              Rds: {
                  t: "long",
                  v: 8
              },
              Ang1: {
                  t: "long",
                  v: 10
              },
              Ang2: {
                  t: "long",
                  v: 40
              },
              Ang3: {
                  t: "long",
                  v: 70
              },
              Ang4: {
                  t: "long",
                  v: 80
              }
          };
      if (E == "Crst")
          K = {
              __name: "Crystallize",
              classID: "Crst",
              ClSz: {
                  t: "long",
                  v: 10
              },
              FlRs: {
                  t: "long",
                  v: 1554929224
              }
          };
      if (E == "Mztn")
          K = {
              __name: "Mezzotint",
              classID: "Mztn",
              MztT: {
                  t: "enum",
                  v: {
                      MztT: "FnDt"
                  }
              },
              FlRs: {
                  t: "long",
                  v: 204994187
              }
          };
      if (E == "Msc ")
          K = {
              __name: "Mosaic",
              classID: "Msc",
              ClSz: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 12
                  }
              }
          };
      if (E == "Pntl")
          K = {
              __name: "Pointillize",
              classID: "Pntl",
              ClSz: {
                  t: "long",
                  v: 10
              },
              FlRs: {
                  t: "long",
                  v: 1554929236
              }
          };
      if (E == "LnsF")
          K = {
              __name: "Lens Flare",
              classID: "LnsF",
              Brgh: {
                  t: "long",
                  v: 100
              },
              FlrC: {
                  t: "Objc",
                  v: {
                      classID: "Pnt",
                      Hrzn: {
                          t: "doub",
                          v: .19140625
                      },
                      Vrtc: {
                          t: "doub",
                          v: .185628741979599
                      }
                  }
              },
              Lns: {
                  t: "enum",
                  v: {
                      Lns: "Zm"
                  }
              }
          };
      if (E == "smartSharpen")
          K = {
              __name: "Smart Sharpen",
              classID: "smartSharpen",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              useLegacy: {
                  t: "bool",
                  v: !1
              },
              Amnt: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 150
                  }
              },
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 1
                  }
              },
              noiseReduction: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 0
                  }
              },
              blur: {
                  t: "enum",
                  v: {
                      blurType: "GsnB"
                  }
              }
          };
      if (E == "UnsM")
          K = {
              __name: "Unsharp Mask",
              classID: "UnsM",
              Amnt: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 142
                  }
              },
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 4.5
                  }
              },
              Thsh: {
                  t: "long",
                  v: 0
              }
          };
      if (E == "HghP")
          K = {
              __name: "High Pass",
              classID: "HghP",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 3
                  }
              }
          };
      if (E == "Mxm ")
          K = {
              __name: "Maximum",
              classID: "Mxm",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 9
                  }
              }
          };
      if (E == "Mnm ")
          K = {
              __name: "Minimum",
              classID: "Mnm",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 14
                  }
              }
          };
      if (E == "Ofst")
          K = {
              __name: "Offset",
              classID: "Ofst",
              Hrzn: {
                  t: "long",
                  v: 144
              },
              Vrtc: {
                  t: "long",
                  v: 278
              },
              Fl: {
                  t: "enum",
                  v: {
                      FlMd: "Wrp"
                  }
              }
          };
      if (E == "Rept")
          K = {
              __name: "Repeat",
              classID: "Rept",
              Scl: {
                  v: {
                      type: "#Prc",
                      val: 100
                  },
                  t: "UntF"
              },
              Rsft: {
                  v: {
                      type: "#Prc",
                      val: 0
                  },
                  t: "UntF"
              },
              SpcX: {
                  v: {
                      type: "#Prc",
                      val: 0
                  },
                  t: "UntF"
              },
              SpcY: {
                  v: {
                      type: "#Prc",
                      val: 0
                  },
                  t: "UntF"
              },
              SpcC: {
                  t: "bool",
                  v: !1
              },
              Angl: {
                  t: "long",
                  v: 0
              }
          };
      if (E == "Ctoa")
          K = {
              __name: "Color to Alpha",
              classID: "Ctoa",
              Trsp: {
                  v: {
                      type: "#Prc",
                      val: 0
                  },
                  t: "UntF"
              },
              Opct: {
                  v: {
                      type: "#Prc",
                      val: 100
                  },
                  t: "UntF"
              },
              Clr: {
                  v: {
                      classID: "RGBC",
                      Rd: {
                          v: 0,
                          t: "doub"
                      },
                      Grn: {
                          v: 0,
                          t: "doub"
                      },
                      Bl: {
                          v: 0,
                          t: "doub"
                      }
                  },
                  t: "Objc"
              }
          };
      if (E == "brit")
          K = {
              __name: "Brightness/Contrast",
              classID: "BrgC",
              Brgh: {
                  t: "long",
                  v: 0
              },
              Cntr: {
                  t: "long",
                  v: 0
              },
              useLegacy: {
                  t: "bool",
                  v: !1
              }
          };
      if (E == "levl")
          K = {
              __name: "Levels",
              classID: "Lvls",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              Adjs: {
                  t: "VlLs",
                  v: []
              }
          };
      if (E == "curv")
          K = {
              __name: "Curves",
              classID: "Crvs",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              Adjs: {
                  t: "VlLs",
                  v: []
              }
          };
      if (E == "expA")
          K = {
              __name: "Exposure",
              classID: "Exps",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              Exps: {
                  t: "doub",
                  v: 0
              },
              Ofst: {
                  t: "doub",
                  v: 0
              },
              gammaCorrection: {
                  t: "doub",
                  v: 1
              }
          };
      if (E == "vibA")
          K = {
              __name: "Vibrance",
              classID: "vibrance",
              vibrance: {
                  t: "long",
                  v: 0
              },
              Strt: {
                  t: "long",
                  v: 0
              }
          };
      if (E == "hue2")
          K = {
              __name: "Hue/Saturation",
              classID: "HStr",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              Clrz: {
                  t: "bool",
                  v: !1
              },
              Adjs: {
                  t: "VlLs",
                  v: []
              }
          };
      if (E == "blnc")
          K = {
              __name: "Color Balance",
              classID: "ClrB",
              ShdL: {
                  t: "VlLs",
                  v: [{
                      t: "long",
                      v: 0
                  }, {
                      t: "long",
                      v: 0
                  }, {
                      t: "long",
                      v: 0
                  }]
              },
              MdtL: {
                  t: "VlLs",
                  v: [{
                      t: "long",
                      v: 0
                  }, {
                      t: "long",
                      v: 0
                  }, {
                      t: "long",
                      v: 0
                  }]
              },
              HghL: {
                  t: "VlLs",
                  v: [{
                      t: "long",
                      v: 0
                  }, {
                      t: "long",
                      v: 0
                  }, {
                      t: "long",
                      v: 0
                  }]
              },
              PrsL: {
                  t: "bool",
                  v: !0
              }
          };
      if (E == "blwh")
          K = {
              __name: "Black & White",
              classID: "BanW",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              Rd: {
                  t: "long",
                  v: 40
              },
              Yllw: {
                  t: "long",
                  v: 85
              },
              Grn: {
                  t: "long",
                  v: 204
              },
              Cyn: {
                  t: "long",
                  v: 60
              },
              Bl: {
                  t: "long",
                  v: 20
              },
              Mgnt: {
                  t: "long",
                  v: 80
              },
              useTint: {
                  t: "bool",
                  v: !0
              },
              tintColor: {
                  t: "Objc",
                  v: {
                      classID: "RGBC",
                      Rd: {
                          t: "doub",
                          v: 0
                      },
                      Grn: {
                          t: "doub",
                          v: 0
                      },
                      Bl: {
                          t: "doub",
                          v: 0
                      }
                  }
              }
          };
      if (E == "phfl")
          K = {
              __name: "Photo Filter",
              classID: "photoFilter",
              Clr: {
                  t: "Objc",
                  v: {
                      classID: "LbCl",
                      Lmnc: {
                          t: "doub",
                          v: 67.06
                      },
                      A: {
                          t: "doub",
                          v: 32
                      },
                      B: {
                          t: "doub",
                          v: 120
                      }
                  }
              },
              Dnst: {
                  t: "long",
                  v: 80
              },
              PrsL: {
                  t: "bool",
                  v: !0
              }
          };
      if (E == "grdm")
          K = {
              __name: "Gradient Map",
              classID: "GrMp",
              Rvrs: {
                  t: "bool",
                  v: !1
              },
              Grad: JSON.parse(ao.Fc[6]).Grad
          };
      if (E == "selc")
          K = {
              __name: "Selective Color",
              classID: "SlcC",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              Mthd: {
                  t: "enum",
                  v: {
                      CrcM: "Rltv"
                  }
              },
              ClrC: {
                  t: "VlLs",
                  v: []
              }
          };
      if (E == "thrs")
          K = {
              __name: "Threshold",
              classID: "Thrs",
              Lvl: {
                  t: "long",
                  v: 128
              }
          };
      if (E == "mixr")
          K = {
              __name: "Channel Mixer",
              classID: "ChnM",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindDefault"
                  }
              },
              Rd: {
                  t: "Objc",
                  v: {
                      classID: "ChMx",
                      Rd: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 100
                          }
                      }
                  }
              },
              Grn: {
                  t: "Objc",
                  v: {
                      classID: "ChMx",
                      Grn: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 100
                          }
                      }
                  }
              },
              Bl: {
                  t: "Objc",
                  v: {
                      classID: "ChMx",
                      Bl: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 100
                          }
                      }
                  }
              }
          };
      if (E == "clrL")
          K = {
              __name: "Color Lookup",
              classID: "colorLookup"
          };
      if (E == "post")
          K = {
              __name: "Posterize",
              classID: "Pstr",
              Lvls: {
                  t: "long",
                  v: 3
              }
          };
      if (E == "rplc")
          K = {
              __name: "Replace Color",
              classID: "RplC",
              Fzns: {
                  t: "long",
                  v: 55
              },
              Mnm: {
                  t: "Objc",
                  v: {
                      classID: "LbCl",
                      Lmnc: {
                          t: "doub",
                          v: 73.1
                      },
                      A: {
                          t: "doub",
                          v: 23.95
                      },
                      B: {
                          t: "doub",
                          v: 8.03
                      }
                  }
              },
              Mxm: {
                  t: "Objc",
                  v: {
                      classID: "LbCl",
                      Lmnc: {
                          t: "doub",
                          v: 73
                      },
                      A: {
                          t: "doub",
                          v: 23
                      },
                      B: {
                          t: "doub",
                          v: 8
                      }
                  }
              },
              H: {
                  t: "long",
                  v: -22
              },
              Strt: {
                  t: "long",
                  v: 100
              },
              Lght: {
                  t: "long",
                  v: 2
              }
          };
      if (E == "fade")
          K = {
              __name: "Fade",
              classID: "fade",
              Opct: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 100
                  }
              },
              Md: {
                  t: "enum",
                  v: {
                      BlnM: "Nrml"
                  }
              }
          };
      if (E == "aply")
          K = {
              classID: "null",
              With: {
                  t: "Objc",
                  v: {
                      classID: "Clcl",
                      T: {
                          t: "obj ",
                          v: [{
                              t: "Enmr",
                              v: {
                                  classID: "Chnl",
                                  typeID: "Chnl",
                                  enum: "RGB"
                              }
                          }, {
                              t: "Enmr",
                              v: {
                                  classID: "Lyr",
                                  typeID: "Ordn",
                                  enum: "Mrgd"
                              }
                          }]
                      },
                      Invr: {
                          t: "bool",
                          v: !1
                      },
                      Clcl: {
                          t: "enum",
                          v: {
                              Clcn: "Nrml"
                          }
                      },
                      Opct: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 100
                          }
                      },
                      PrsT: {
                          t: "bool",
                          v: !1
                      }
                  }
              }
          };
      if (E == "blendOptions")
          K = {
              classID: "blendOptions",
              Opct: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 100
                  }
              },
              Md: {
                  t: "enum",
                  v: {
                      BlnM: "Nrml"
                  }
              }
          };
      return K
  }
  ;
  ef.XL = {
      sAdNs: function(E, K) {
          K[0] = E.Nose.v.val;
          K[1] = ["Gsn", "Unfr"].indexOf(E.Dstr.v.Dstr);
          K[2] = E.Mnch.v
      },
      gAdNs: function(E, K) {
          E.Nose.v.val = K[0];
          E.Dstr.v.Dstr = ["Gsn", "Unfr"][K[1]];
          E.Mnch.v = K[2]
      },
      sDstS: function(E, K) {
          K[0] = E.Rds.v;
          K[1] = E.Thsh.v
      },
      gDstS: function(E, K) {
          E.Rds.v = K[0];
          E.Thsh.v = K[1]
      },
      sGsnB: function(E, K) {
          K[0] = E.Rds.v.val
      },
      gGsnB: function(E, K) {
          E.Rds.v.val = K[0]
      },
      sHghP: function(E, K) {
          K[0] = E.Rds.v.val
      },
      gHghP: function(E, K) {
          E.Rds.v.val = K[0]
      },
      "sMxm ": function(E, K) {
          K[0] = E.Rds.v.val
      },
      "gMxm ": function(E, K) {
          E.Rds.v.val = K[0]
      },
      "sMnm ": function(E, K) {
          K[0] = E.Rds.v.val
      },
      "gMnm ": function(E, K) {
          E.Rds.v.val = K[0]
      },
      sMtnB: function(E, K) {
          K[0] = E.Angl.v;
          K[1] = E.Dstn.v.val
      },
      gMtnB: function(E, K) {
          E.Angl.v = typeof K[0] == "number" ? K[0] : K[0].Rz;
          E.Dstn.v.val = K[1]
      },
      sOfst: function(E, K) {
          K[0] = E.Hrzn.v;
          K[1] = E.Vrtc.v;
          K[2] = ["Rpt", "Bckg", "Wrp"].indexOf(E.Fl.v.FlMd)
      },
      gOfst: function(E, K) {
          E.Hrzn.v = K[0];
          E.Vrtc.v = K[1];
          E.Fl.v.FlMd = ["Rpt", "Bckg", "Wrp"][K[2]]
      },
      sPnch: function(E, K) {
          K[0] = E.Amnt.v
      },
      gPnch: function(E, K) {
          E.Amnt.v = K[0]
      },
      "sPlr ": function(E, K) {
          K[0] = ["RctP", "PlrR"].indexOf(E.Cnvr.v.Cnvr)
      },
      "gPlr ": function(E, K) {
          E.Cnvr.v.Cnvr = ["RctP", "PlrR"][K[0]]
      },
      sRple: function(E, K) {
          K[0] = E.Amnt.v;
          K[1] = ["Sml", "Mdm", "Lrg"].indexOf(E.RplS.v.RplS)
      },
      gRple: function(E, K) {
          E.Amnt.v = K[0];
          E.RplS.v.RplS = ["Sml", "Mdm", "Lrg"][K[1]]
      },
      sTwrl: function(E, K) {
          K[0] = E.Angl.v
      },
      gTwrl: function(E, K) {
          E.Angl.v = K[0]
      },
      sUnsM: function(E, K) {
          K[0] = E.Amnt.v.val;
          K[1] = E.Rds.v.val;
          K[2] = E.Thsh.v
      },
      gUnsM: function(E, K) {
          E.Amnt.v.val = K[0];
          E.Rds.v.val = K[1];
          E.Thsh.v = K[2]
      }
  };
  ef.afm = function(E) {
      var K = new bT(0,0);
      if (E.enab.v == !1)
          return K;
      var i = E.filterFXList.v;
      for (var G = 0; G < i.length; G++) {
          var C = i[G].v;
          if (C.enab.v == !1)
              continue;
          var N = ef.o6(C)
            , k = ef.Oa(N, C.Fltr ? C.Fltr.v : null);
          if (k.x > K.x)
              K.x = k.x;
          if (k.y > K.y)
              K.y = k.y
      }
      return K
  }
  ;
  ef.Oa = function(E, K) {
      var i = 0
        , C = 0;
      if (["GsnB", "boxblur", "smartSharpen", "UnsM", "HghP"].indexOf(E) != -1) {
          var N = K.Rds.v.val;
          i = C = N * 2.57
      }
      if (E == "MtnB")
          i = C = K.Dstn.v.val;
      if ("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm".split(",").indexOf(E) != -1) {
          i = C = 1e4
      }
      if (E == "GEfc")
          return eU.Oa(K);
      return new bT(Math.ceil(i),Math.ceil(C))
  }
  ;
  ef.yC = function() {
      return {
          t: "Objc",
          v: {
              classID: "filterFXStyle",
              enab: {
                  t: "bool",
                  v: !0
              },
              validAtPosition: {
                  t: "bool",
                  v: !0
              },
              filterMaskEnable: {
                  t: "bool",
                  v: !0
              },
              filterMaskLinked: {
                  t: "bool",
                  v: !0
              },
              filterMaskExtendWithWhite: {
                  t: "bool",
                  v: !0
              },
              filterFXList: {
                  t: "VlLs",
                  v: []
              }
          }
      }
  }
  ;
  ef.Im = function(E, K) {
      var i = {
          h: K.sm >> 16,
          l: K.sm >> 8 & 255,
          O: K.sm & 255
      }
        , C = {
          h: K.JT >> 16,
          l: K.JT >> 8 & 255,
          O: K.JT & 255
      }
        , N = ef.names[E];
      if (N == null)
          N = gM.names[E];
      var k = E;
      for (var V in gM.pX)
          if (gM.pX[V] == E)
              k = V;
      var j = {
          t: "Objc",
          v: {
              classID: "filterFX",
              Nm: {
                  t: "TEXT",
                  v: i2.get(N)
              },
              blendOptions: {
                  t: "Objc",
                  v: {
                      classID: "blendOptions",
                      Opct: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 100
                          }
                      },
                      Md: {
                          t: "enum",
                          v: {
                              BlnM: "Nrml"
                          }
                      }
                  }
              },
              enab: {
                  t: "bool",
                  v: !0
              },
              hasoptions: {
                  t: "bool",
                  v: !0
              },
              FrgC: {
                  t: "Objc",
                  v: _.V.VQ(i)
              },
              BckC: {
                  t: "Objc",
                  v: _.V.VQ(C)
              },
              filterID: {
                  t: "long",
                  v: k.length == 4 ? O.a3b(k) : 777
              }
          }
      }
        , a = ef.Sk(E);
      if (a)
          j.v.Fltr = {
              t: "Objc",
              v: a
          };
      return j
  }
  ;
  ef.fY = function(E, K, i, C, N, k, V, j) {
      var a = i * C * 4;
      _.A2.ab8(E, K, i, C, N, k, V)
  }
  ;
  ef.Ca = function(E, K, i, C) {
      _.OT(i);
      if (E < 1) {
          var N = Math.round(E * 5)
            , k = [1, 2, 1, 2, [40, 26, 13, 6, 4, 2][N], 2, 1, 2, 1];
          k = _.UZ.Wj(k);
          var V = i.slice(0);
          _.UZ.Zl(V, i, C.d, C.v, k, 255)
      } else
          K(i, C, E);
      _.xJ(i)
  }
  ;
  ef.aoJ = function(E, K, i, C) {
      for (var G = 0; G < E.length; G++) {
          i[G] = E[G] * (1 / 255);
          C[G] = 0
      }
      FFT.fft2d(i, C);
      var N = K >>> 1
        , k = 16384
        , V = 128
        , a = 100;
      while (V < K) {
          V <<= 1;
          k <<= 2
      }
      var j = 255 / Math.log(k)
        , e = -100;
      for (var L = 0; L < K; L++)
          for (var g = 0; g < N; g++) {
              var I = K + N + L & K - 1
                , h = i[I * K + g]
                , o = C[I * K + g]
                , H = Math.sqrt(h * h + o * o)
                , A = Math.atan2(o, h);
              E[L * K + g] = Math.round(j * Math.log(H + 1));
              E[L * K + N + g] = Math.round((Math.PI + A) * (255 * .5 / Math.PI))
          }
  }
  ;
  ef.adn = function(E, K, i, C) {
      i.fill(0);
      C.fill(0);
      var N = K >>> 1
        , k = 16384
        , V = 128;
      while (V < K) {
          V <<= 1;
          k <<= 2
      }
      var j = 255 / Math.log(k)
        , a = []
        , e = []
        , L = [];
      for (var G = 0; G < 256; G++) {
          a[G] = Math.exp(G / j) - 1;
          var g = G * (2 * Math.PI / 255) - Math.PI;
          e[G] = Math.sin(g);
          L[G] = Math.cos(g)
      }
      for (var I = 0; I < K; I++)
          for (var h = 0; h < N; h++) {
              var o = K + N + I & K - 1
                , H = a[E[I * K + h]]
                , g = E[I * K + N + h]
                , A = H * L[g]
                , S = H * e[g];
              i[o * K + h] = A;
              C[o * K + h] = S;
              if (h != 0) {
                  var v = o == 0 ? o * K + K - h : (K - o) * K + (K - h);
                  i[v] = A;
                  C[v] = -S
              }
          }
      FFT.ifft2d(i, C);
      for (var G = 0; G < E.length; G++) {
          E[G] = Math.max(0, Math.min(255, ~~(.5 + 255 * i[G])))
      }
  }
  ;
  ef.Fe = new ArrayBuffer(512);
  ef.a8E = function(E) {
      var K = ef.Fe
        , i = E.length;
      if (K.byteLength < i)
          ef.Fe = K = new ArrayBuffer(i);
      var C = new Uint8Array(K);
      for (var G = 0; G < i; G += 4) {
          C[G] = E[G];
          C[G + 1] = E[G + 1];
          C[G + 2] = E[G + 2];
          C[G + 3] = E[G + 3]
      }
      return K
  }
  ;
  ef.aL = function(E, K, i, C, N, k, V) {
      if (k == null)
          k = {
              buffer: _.I(K.buffer.length),
              rect: K.rect.clone()
          };
      _.uJ(K.buffer, k.buffer);
      if (E == "GEfc") {
          var j = [];
          if (i.GEfs) {
              var a = i.GEfs.v;
              for (var G = 0; G < a.length; G++) {
                  var e = a[G].v;
                  if (e.GELv && e.GELv.v == !1)
                      continue;
                  j.push(e)
              }
          } else
              j = [i];
          for (var G = 0; G < j.length; G++) {
              var L;
              if (G == 0)
                  eU.aL(E, K, j[G], C, N, k, V);
              else {
                  if (L == null)
                      L = {
                          buffer: _.I(K.buffer.length),
                          rect: K.rect.clone()
                      };
                  _.uJ(k.buffer, L.buffer);
                  eU.aL(E, L, j[G], C, N, k, V)
              }
          }
      }
      if (E == "adaptCorrect") {
          var g = K.rect
            , I = g.d
            , h = g.v
            , o = I * h
            , H = o * 4
            , A = i.sdwM.v
            , S = A.Amnt.v.val / 100
            , v = A.Wdth.v.val / 100
            , s = A.Rds.v
            , D = i.hglM.v
            , F = D.Amnt.v.val / 100
            , y = D.Wdth.v.val / 100
            , T = D.Rds.v;
          _.Ga.a1M(K.buffer, k.buffer, I, h, S, v, s, F, y, T, i.ClrC.v / 100, i.Cntr.v / 100)
      }
      if (E == "Fbrs") {
          var g = K.rect
            , I = g.d
            , h = g.v
            , Q = _.I(I * h)
            , B = Date.now()
            , r = 1
            , J = 1 - r;
          for (var G = 0; G < I * 100; G++) {
              var m = Math.random() * I;
              for (var x = 0; x < h; x++) {
                  var R = ~~(m + 4096) & 511;
                  Q[x * I + R] = Math.min(255, Q[x * I + R] + 1);
                  var b = Math.random();
                  m = m - r + b * 2 * r
              }
          }
          _.KP(Q);
          k.buffer.fill(255);
          _.WE(Q, k.buffer)
      }
      if (E == "Frgm") {
          var g = K.rect
            , I = g.d
            , h = g.v
            , z = K.buffer.slice(0);
          _.OT(z);
          _.Mp.al6(z, I, h, k.buffer);
          _.xJ(k.buffer)
      }
      if (E == "Dfs ") {
          var g = K.rect
            , I = g.d
            , h = g.v
            , $ = ["Nrml", "DrkO", "LghO", "anisotropic"].indexOf(i.Md.v.DfsM);
          if ($ < 3)
              _.Mp.acr(K.buffer, I, h, k.buffer, [$]);
          else {
              var P = [1.4, 1.6, 1, 4, !1, 2, [0, 0, .001]]
                , g = K.rect.clone();
              g.x = g.y = 0;
              _.rW.filter(K.buffer, g, k.buffer, P)
          }
      }
      if (E == "TrcC") {
          var g = K.rect
            , I = g.d
            , t = I << 2
            , h = g.v
            , X = i.Lvl.v
            , Z = i.Edg.v.CntE == "Lwr"
            , p = K.buffer
            , gl = k.buffer;
          _.EE(gl, 16777215, 4278190080);
          function f(cB, gp) {
              hi(cB, gp);
              hi(cB + 1, gp + 1);
              hi(cB + 2, gp + 2)
          }
          function fC(cB, gp) {
              es(cB, gp);
              es(cB + 1, gp + 1);
              es(cB + 2, gp + 2)
          }
          function hi(cB, gp) {
              var dW = p[cB]
                , iz = p[gp];
              if (dW >= X && iz < X)
                  gl[cB] = 0;
              if (dW < X && iz >= X)
                  gl[gp] = 0
          }
          function es(cB, gp) {
              var dW = p[cB]
                , iz = p[gp];
              if (dW > X && iz <= X)
                  gl[gp] = 0;
              if (dW <= X && iz > X)
                  gl[cB] = 0
          }
          if (Z)
              for (var x = 1; x < h; x++)
                  for (var m = 1; m < I; m++) {
                      var W = x * I + m << 2;
                      f(W, W - 4);
                      f(W, W - t)
                  }
          else
              for (var x = 1; x < h; x++)
                  for (var m = 1; m < I; m++) {
                      var W = x * I + m << 2;
                      fC(W, W - 4);
                      fC(W, W - t)
                  }
      }
      if (E == "Embs") {
          var g = K.rect
            , I = g.d
            , h = g.v
            , d = -i.Angl.v * Math.PI / 180
            , fM = i.Hght.v
            , n = i.Amnt.v / 100;
          fM /= 2;
          var ax = Math.cos(d) * fM
            , d_ = Math.sin(d) * fM
            , p = K.buffer
            , gl = k.buffer;
          gl.fill(0);
          var cm = new Uint32Array(p.buffer)
            , c4 = new Uint8Array(4)
            , ch = new Uint32Array(c4.buffer);
          for (var x = 0; x < h; x++)
              for (var m = 0; m < I; m++) {
                  var hQ = 0
                    , em = 0
                    , ag = 0;
                  if (0 <= m + ax && m + ax < I && 0 <= x + d_ && x + d_ < h) {
                      _.J.iz(m + ax + .5, x + d_ + .5, cm, I, h, ch, 0, 0);
                      hQ += c4[0] - 128;
                      em += c4[1] - 128;
                      ag += c4[2] - 128
                  }
                  if (0 <= m - ax && m - ax < I && 0 <= x - d_ && x - d_ < h) {
                      _.J.iz(m - ax + .5, x - d_ + .5, cm, I, h, ch, 0, 0);
                      hQ -= c4[0] - 128;
                      em -= c4[1] - 128;
                      ag -= c4[2] - 128
                  }
                  var W = x * I + m << 2;
                  gl[W] = Math.max(0, Math.min(255, hQ * n + 128));
                  gl[W + 1] = Math.max(0, Math.min(255, em * n + 128));
                  gl[W + 2] = Math.max(0, Math.min(255, ag * n + 128));
                  gl[W + 3] = p[W + 3]
              }
      }
      if (E == "ShrE") {
          var g = K.rect
            , I = g.d
            , h = g.v;
          _.Mp.amo(K.buffer, I, h, k.buffer)
      }
      if (E == "Dspc") {
          var g = K.rect
            , I = g.d
            , h = g.v;
          _.Mp.a78(K.buffer, I, h, k.buffer)
      }
      if (E == "Slrz") {
          var am = k.buffer
            , bK = 128;
          for (var G = 0; G < am.length; G += 4) {
              if (am[G] > bK)
                  am[G] = 255 - am[G];
              if (am[G + 1] > bK)
                  am[G + 1] = 255 - am[G + 1];
              if (am[G + 2] > bK)
                  am[G + 2] = 255 - am[G + 2]
          }
      }
      if (E == "Wnd ") {
          var g = K.rect
            , I = g.d
            , h = g.v
            , ei = ["Wnd", "Blst", "Stgr"]
            , dL = i.WndM.v.WndM;
          _.Mp.KN(K.buffer, I, h, k.buffer, [ei.indexOf(dL), i.Drct.v.Drct != "Left"])
      }
      if (E == "Bokh") {
          var g = K.rect
            , I = g.d
            , h = g.v
            , o = I * h
            , H = o * 4
            , fh = K.buffer.slice(0)
            , eu = i.BkDi.v.BtDi
            , hf = i.BkDc
            , iS = i.BkDp.v / 255;
          if (eu == "BeIn")
              iS = 0;
          var aI = 57 * (.3 + .7 * ((I + h) / 2) / 1750) * (i.BkIb.v / 100) * (1 + .2 * Math.pow(iS, .1))
            , l = parseInt(i.BkIs.v.BtIs.slice(3))
            , gn = -i.BkIr.v * Math.PI / 180
            , ce = [];
          for (var G = 0; G < 8; G++) {
              var gr = gn + G * (Math.PI * 2 / l)
                , ek = gn + (G + 1) * (Math.PI * 2 / l)
                , bJ = Math.cos(gr)
                , aN = Math.sin(gr)
                , bG = Math.cos(ek)
                , aQ = Math.sin(ek)
                , cu = [0, 0, 0];
              _.w3.qs([[bJ, aN, 1, 0], [bG, aQ, 1, 0], [1, 1, 1, 1]], cu);
              if (cu[2] > 0) {
                  cu[0] *= -1;
                  cu[1] *= -1;
                  cu[2] *= -1
              }
              ce.push(cu[0], cu[1], cu[2], 0)
          }
          if (eu == "BeIn") {
              _.EE(fh, 0, 16777215);
              iS = 1
          } else if (eu == "BeIt" && hf.v.BtDc == "BeCt") {} else {
              var gX;
              if (eu == "BeIt" && hf.v.BtDc == "BeCm")
                  gX = V[1];
              else if (eu == "BeIa")
                  gX = V[2][hf.v];
              if (gX == null) {
                  _.EE(fh, 0, 16777215)
              } else {
                  var bW;
                  if (gX.rect.Ql(g))
                      bW = gX.channel;
                  else
                      bW = gX.or(g);
                  _.lM(bW, fh, 3)
              }
          }
          if (Y.vD) {
              var dE = fh
                , b4 = I
                , cC = h
                , gN = 1
                , eH = (i.BkSb.v == 0 || i.BkSt.v == 255) && eu == "BeIn";
              if (!eH) {
                  var hx = 0;
                  for (var G = 0; G < H; G += 4)
                      hx += Math.abs(iS - fh[G + 3] * (1 / 255));
                  hx = hx / o * aI;
                  var c2 = 3.14 * hx * hx * I * h / 3e6;
                  if (c2 > 2e3) {
                      alert("too large radius");
                      return
                  }
              }
              while (eH && 3 * (aI / gN) * (aI / gN) * I * h > 500 * 2e3 * 2e3) {
                  var hv = _._j(fh, new h4(0,0,b4,cC));
                  fh = hv.OR;
                  b4 = hv.rect.d;
                  cC = hv.rect.v;
                  gN *= 2
              }
              var B = Date.now()
                , fu = Y.I3(0, b4, cC);
              fu.set(fh);
              var dv = Y.I3(1, I, h);
              Y.j8(dv);
              Y.filter.Nk({
                  type: Y.filter.In,
                  uK: new Float32Array([1 / b4, 1 / cC]),
                  aah: iS,
                  aio: aI / gN,
                  akI: new Float32Array([i.BkSb.v / 100, i.BkSt.v / 255]),
                  ajw: new Float32Array([i.BkNa.v / 100, i.BkNt.v.BtNt == "BeNu" ? 0 : 1, i.BkNm.v ? 1 : 0]),
                  a3f: new Float32Array(ce.slice(0, 16)),
                  ald: new Float32Array(ce.slice(16))
              }, fu.k2);
              dv.get(k.buffer);
              var fj = k.buffer;
              for (var G = 0; G < H; G += 4)
                  fj[G + 3] = K.buffer[G + 3]
          }
      }
      if (E == "rigidTransform") {
          var B = Date.now()
            , il = ef.a8E
            , fu = K.buffer.slice(0)
            , fa = 0
            , hz = 0;
          _.OT(fu);
          _.EE(k.buffer, 0);
          var I = K.rect.d
            , h = K.rect.v
            , iH = i.puppetShapeList.v
            , fp = []
            , ff = []
            , da = []
            , aC = [];
          for (var f6 = 0; f6 < iH.length; f6++) {
              var bk = iH[f6].v
                , dB = fa * 2
                , fD = hz * 3
                , bE = bk.originalVertexArray.v.length >>> 2
                , f0 = bk.indexArray.v.length >>> 2
                , g6 = new Float32Array(il(bk.originalVertexArray.v));
              for (var G = 0; G < bE; G++)
                  fp[dB + G] = g6[G];
              var fk = new Float32Array(il(bk.deformedVertexArray.v));
              for (var G = 0; G < bE; G++)
                  ff[dB + G] = fk[G];
              var iW = new Uint32Array(il(bk.indexArray.v));
              for (var G = 0; G < f0; G++)
                  da[fD + G] = fa + iW[G];
              var bq = []
                , ik = []
                , e$ = bk.PnDp.v;
              for (var G = 0; G < e$.length; G++) {
                  bq.push(bk.pinVertexIndices.v[G].v);
                  ik.push(e$[G].v)
              }
              var iU = _.ER.a8N(g6, iW, bq, ik);
              for (var G = 0; G < iU.length; G++)
                  aC[fa + G] = iU[G];
              fa += bE >>> 1;
              hz += ~~(f0 / 3)
          }
          _.ER.sX(fu, k.buffer, K.rect, fp, ff, aC, da);
          _.xJ(k.buffer)
      }
      if (E == "lightFilterGradient") {
          function eh(hh) {
              var dW = 1 / Math.sqrt(hh[0] * hh[0] + hh[1] * hh[1] + hh[2] * hh[2]);
              hh[0] *= dW;
              hh[1] *= dW;
              hh[2] *= dW
          }
          var I = K.rect.d
            , h = K.rect.v
            , o = I * h
            , B = Date.now()
            , hH = _.I(o)
            , iz = .3
            , al = .7;
          _.YU(k.buffer, hH);
          var eJ = _.I(o);
          _.Cu.hl(hH, eJ, k.rect, 16);
          var gf = _.I(o);
          _.Cu.hl(hH, gf, k.rect, 8);
          var d0 = hH
            , Q = new Float32Array(o)
            , ac = i.Dtl.v
            , eY = ac[2].v
            , dg = ac[1].v
            , cX = ac[0].v
            , eZ = i.Scl.v * 40 * i.textureScale.v / (eY + dg + cX);
          eY *= eZ;
          dg *= eZ;
          cX *= eZ;
          for (var G = 0; G < o; G++) {
              var iC = eJ[G] * (1 / 255)
                , cW = gf[G] * (1 / 255)
                , cT = d0[G] * (1 / 255);
              cT = cT * cT;
              Q[G] = eY * iC + dg * cW + cX * cT
          }
          var cF = i.blur.v;
          if (cF != 0) {
              var aP = Q.slice(0);
              _.Cu.E2(aP, Q, k.rect, cF)
          }
          var dj = I - 1
            , hI = h - 1;
          for (var x = 1; x < hI; x++)
              for (var m = 1; m < dj; m++) {
                  var G = x * I + m
                    , W = G * 4
                    , hX = Q[G]
                    , ax = iz * (Q[G + 1] - hX) + al * (hX - Q[G - 1])
                    , d_ = iz * (Q[G + I] - hX) + al * (hX - Q[G - I])
                    , hh = [1, 0, ax]
                    , bD = [0, 1, d_];
                  eh(hh);
                  eh(bD);
                  var ek = hh[0]
                    , ez = hh[2]
                    , gS = bD[1]
                    , hl = bD[2]
                    , hS = -ez * gS
                    , hY = -ek * hl
                    , bI = ek * gS;
                  k.buffer[W] = ~~(127.5 + hS * 127.5);
                  k.buffer[W + 1] = ~~(127.5 + hY * 127.5);
                  k.buffer[W + 2] = ~~(127.5 + bI * 127.5)
              }
      }
      if (E == "dDFT" || E == "iDFT") {
          function bd(l) {
              if (l == 0)
                  return 1;
              l--;
              l |= l >> 1;
              l |= l >> 2;
              l |= l >> 4;
              l |= l >> 8;
              l |= l >> 16;
              return l + 1
          }
          var I = K.rect.d
            , h = K.rect.v
            , h7 = bd(Math.max(I, h))
            , io = h7 >>> 1
            , bh = new h4(0,0,h7,h7)
            , by = new h4(0,0,I,h);
          by.y = h7 - h >>> 1;
          var dm = I >>> 1
            , gg = new h4(0,by.y,dm,h)
            , be = new _.U0(I * h);
          _.nT(K.buffer, be);
          var eA = new Float64Array(h7 * h7)
            , gF = new Float64Array(h7 * h7)
            , bW = _.I(h7 * h7);
          FFT.init(h7);
          var gz = [be.h, be.l, be.O];
          for (var G = 0; G < 3; G++) {
              var fZ = gz[G];
              bW.fill(0);
              if (E == "dDFT") {
                  _.ie(fZ, by, bW, bh);
                  ef.aoJ(bW, h7, eA, gF);
                  _.ie(bW, bh, fZ, by, gg);
                  gg.x += dm;
                  bh.x -= io - dm;
                  _.ie(bW, bh, fZ, by, gg);
                  gg.x -= dm;
                  bh.x += io - dm
              } else {
                  _.ie(fZ, by, bW, bh, gg);
                  gg.x += io;
                  by.x += io - dm;
                  _.ie(fZ, by, bW, bh, gg);
                  gg.x -= io;
                  by.x -= io - dm;
                  ef.adn(bW, h7, eA, gF);
                  _.ie(bW, bh, fZ, by)
              }
          }
          _.aS(be, k.buffer)
      }
      if (E == "Avrg") {
          var i5 = 0
            , gK = 0
            , f9 = 0
            , fs = 0
            , ca = 1;
          for (var G = 0; G < K.buffer.length; G += 4) {
              var dM = K.buffer[G + 3];
              f9 += K.buffer[G] * dM;
              gK += K.buffer[G + 1] * dM;
              i5 += K.buffer[G + 2] * dM;
              fs += dM
          }
          var aa = 1 / fs;
          i5 = Math.round(ca * (i5 * aa) + (1 - ca) * 255);
          gK = Math.round(ca * (gK * aa) + (1 - ca) * 255);
          f9 = Math.round(ca * (f9 * aa) + (1 - ca) * 255);
          _.EE(k.buffer, i5 << 16 | gK << 8 | f9, 4278190080)
      }
      if (["GsnB", "boxblur", "smartSharpen", "UnsM", "HghP"].indexOf(E) != -1) {
          var gG = i.Rds.v.val
            , bs = E == "boxblur" ? _.Cu.DO : _.Cu.afX;
          ef.Ca(gG, bs, k.buffer, k.rect);
          if (E == "UnsM" || E == "smartSharpen") {
              var n = i.Amnt.v.val / 100
                , cq = 0;
              if (E == "UnsM")
                  cq = i.Thsh.v;
              else
                  n *= .75;
              for (var G = 0; G < K.buffer.length; G++) {
                  if ((G & 3) == 3) {
                      k.buffer[G] = K.buffer[G];
                      continue
                  }
                  var ey = K.buffer[G]
                    , a6 = k.buffer[G]
                    , bu = n * (ey - a6);
                  if (bu > 0)
                      bu = Math.max(0, bu - cq);
                  else
                      bu = Math.min(0, bu + cq);
                  k.buffer[G] = Math.max(0, Math.min(255, ey + bu))
              }
          }
          if (E == "HghP")
              for (var G = 0; G < K.buffer.length; G++) {
                  if ((G & 3) == 3) {
                      k.buffer[G] = K.buffer[G];
                      continue
                  }
                  var ey = K.buffer[G]
                    , a6 = k.buffer[G];
                  k.buffer[G] = Math.max(0, Math.min(255, 128 + ey - a6))
              }
      }
      if (E == "surfaceBlur") {
          var gU = i.Rds.v.val
            , gZ = i.Thsh.v
            , I = K.rect.d
            , h = K.rect.v;
          ef.fY(K.buffer, k.buffer, I, h, gU, _.A2.Df, [gZ], 2)
      }
      if (E == "AdNs") {
          var df = new Uint8ClampedArray(k.buffer.buffer), bX = 255 * i.Nose.v.val / 100, av;
          if (i.Dstr.v.Dstr == "Gsn")
              av = function() {
                  return (Math.random() + Math.random() + Math.random() + Math.random() - 2) * 2
              }
              ;
          else
              av = function() {
                  return Math.random() * 2 - 1
              }
              ;
          for (var G = 0; G < df.length; G += 4) {
              var gU = df[G], az = df[G + 1], iq = df[G + 2], cb, hD, gh;
              if (i.Mnch.v) {
                  cb = hD = gh = av()
              } else {
                  cb = av();
                  hD = av();
                  gh = av()
              }
              gU += bX * cb;
              az += bX * hD;
              iq += bX * gh;
              df[G] = gU;
              df[G + 1] = az;
              df[G + 2] = iq
          }
      }
      if (E == "Mdn " || E == "DstS" || E == "Mxm " || E == "Mnm ") {
          var gU = 0;
          if (E == "Mdn " || E == "Mxm " || E == "Mnm ")
              gU = i.Rds.v.val;
          if (E == "DstS")
              gU = i.Rds.v;
          _.A2.oa = .5;
          var bs = _.A2.Rw;
          if (E == "Mxm ")
              bs = _.A2.j7;
          if (E == "Mnm ")
              bs = _.A2.BM;
          var I = K.rect.d
            , h = K.rect.v
            , bM = {
              "Mdn ": 0,
              "Mxm ": 1,
              "Mnm ": 1,
              DstS: 2
          }[E];
          ef.fY(K.buffer, k.buffer, I, h, gU, bs, [], bM);
          if (E == "DstS") {
              var gZ = i.Thsh.v;
              for (var G = 0; G < I * h * 4; G++) {
                  var h6 = Math.abs(K.buffer[G] - k.buffer[G]);
                  if (h6 <= gZ)
                      k.buffer[G] = K.buffer[G]
              }
          }
      }
      if (E == "ClrH") {
          var gg = K.rect.clone();
          gg.x = gg.y = 0;
          var gU = i.Rds.v;
          gU = Math.round(gU * Math.sqrt(2));
          var I = gg.d
            , h = gg.v
            , be = new _.U0(I * h);
          _.nT(K.buffer, be);
          _.KP(be.h);
          _.KP(be.l);
          _.KP(be.O);
          var ho = c.w("canvas", "");
          ho.width = I;
          ho.height = h;
          var hb = ho.getContext("2d")
            , fj = _.I(I * h * 4);
          for (var fc = 0; fc < 3; fc++) {
              var bW = fc == 0 ? be.h : fc == 1 ? be.l : be.O
                , d = Math.PI * i["Ang" + (fc + 1)].v / 180
                , iN = new fn(1 / gU,0,0,1 / gU,0,0);
              iN.rotate(d);
              _.lM(bW, fj, 3);
              var c4 = u._.VT([fj, gg], iN, !0)
                , by = c4.rect;
              hb.clearRect(0, 0, I, h);
              var aJ = Math.sin(d)
                , gy = Math.cos(d);
              for (var G = 0; G < by.v; G++)
                  for (var cR = 0; cR < by.d; cR++) {
                      var m = (cR + by.x + .5) * gU
                        , x = (G + by.y + .5) * gU
                        , ea = m
                        , gL = x;
                      m = gy * ea - aJ * gL;
                      x = aJ * ea + gy * gL;
                      var o = c4.buffer[(G * by.d + cR << 2) + 3] * (1 / 255)
                        , gG = gU * Math.sqrt(o * (1 / Math.PI));
                      hb.beginPath();
                      hb.arc(m, x, gG, 0, 2 * Math.PI);
                      hb.fill()
                  }
              var d2 = hb.getImageData(0, 0, I, h);
              _.wF(d2.data, bW, 3)
          }
          _.KP(be.h);
          _.KP(be.l);
          _.KP(be.O);
          _.aS(be, k.buffer)
      }
      if (E == "Crst" || E == "Pntl") {
          var I = K.rect.d
            , h = K.rect.v
            , bs = E == "Crst" ? _.ce.acC : _.ce.a4I;
          bs(K.buffer, I, h, k.buffer, i.ClSz.v, [Math.round(N.h), Math.round(N.l), Math.round(N.O)])
      }
      if (E == "Mztn") {
          var I = K.rect.d
            , h = K.rect.v
            , o = I * h
            , be = new _.U0(o)
            , aq = [be.h, be.l, be.O];
          _.nT(K.buffer, be);
          var dL = i.MztT.v.MztT
            , iu = {
              FnDt: [.1, 0, .3, 1.4],
              MdmD: [.9, 0, .1, 1.4],
              GrnD: [3, 0, .2, 1.4],
              CrsD: [7, 0, .1, 1.4],
              ShrL: [0, 10, .16, 3],
              MdmL: [0, 22, .06, 3],
              LngL: [0, 25, .01, 4.5],
              ShSt: [3, 10, .05, 4.4],
              MdmS: [4, 25, .15, 4],
              LngS: [4, 30, .05, 4]
          }[dL]
            , B = Date.now()
            , aE = [];
          for (var G = 0; G < o; G++) {
              aE[G] = Math.random()
          }
          var o = I * h
            , iy = Math.round(o * iu[0])
            , fl = o - I - 1;
          for (var G = 0; G < iy; G++) {
              var b = Math.random()
                , h8 = 1;
              if (b < .5) {
                  h8 = I;
                  b *= 2
              } else
                  b = 2 * (b - .5);
              var cB = Math.floor(b * fl)
                , gp = cB + h8;
              aE[cB] = aE[gp]
          }
          var hL = Math.round(I * iu[1]);
          for (var x = 0; x < h; x++)
              for (var G = 0; G < hL; G++) {
                  var b = _.p.ne(x * o + G)
                    , cB = x * I + Math.floor(b * (I - 1));
                  aE[cB] = aE[cB + 1]
              }
          var bf = new Float64Array(256);
          for (var G = 0; G < 256; G++) {
              var cy = G / 255
                , dF = 2 * (cy < .5 ? cy : 1 - cy);
              dF = iu[2] + Math.pow(dF, iu[3]) * (1 - iu[2]);
              cy = cy < .5 ? dF * .5 : 1 - dF * .5;
              bf[G] = cy
          }
          for (var d5 = 0; d5 < 3; d5++) {
              var bW = aq[d5];
              for (var x = 0; x < h; x++) {
                  for (var m = 0; m < I; m++) {
                      var G = x * I + m
                        , eO = bW[G]
                        , cy = bf[eO]
                        , b = aE[G];
                      bW[G] = b > cy ? 0 : 255
                  }
              }
          }
          _.aS(be, k.buffer)
      }
      if (E == "Msc ") {
          var cG = i.ClSz.v.val
            , I = K.rect.d
            , h = K.rect.v
            , iR = Math.ceil(I / cG)
            , an = Math.ceil(h / cG)
            , aL = _.I(iR * an * 4);
          _.scale.OB(K.buffer, I, h, aL, iR, an, 1 / cG);
          _.scale.OB(aL, iR, an, k.buffer, I, h, cG)
      }
      if (E == "Clds" || E == "DfrC") {
          var I = k.rect.d
            , h = k.rect.v
            , o = I * h
            , bb = _.I(o);
          if (E == "Clds")
              _.EE(k.buffer, 4278190080);
          var eb = _.I(256 * 4);
          for (var G = 0; G < 256; G++) {
              var W = G << 2
                , cj = G / 255
                , iW = 1 - cj;
              eb[W] = Math.round(cj * C.h + iW * N.h);
              eb[W + 1] = Math.round(cj * C.l + iW * N.l);
              eb[W + 2] = Math.round(cj * C.O + iW * N.O)
          }
          _.Mp.abB(K.buffer, I, h, bb);
          var cH = k.buffer;
          for (var G = 0; G < o; G++) {
              var W = G << 2
                , d5 = bb[G] << 2
                , gU = eb[d5]
                , az = eb[d5 + 1]
                , iq = eb[d5 + 2];
              if (E == "Clds") {
                  cH[W] = gU;
                  cH[W + 1] = az;
                  cH[W + 2] = iq
              } else {
                  cH[W] = Math.abs(cH[4 * G] - gU);
                  cH[W + 1] = Math.abs(cH[4 * G + 1] - az);
                  cH[W + 2] = Math.abs(cH[4 * G + 2] - iq)
              }
          }
      }
      if (E == "LnsF") {
          var I = K.rect.d
            , h = K.rect.v
            , dL = ["Zm", "Nkn", "Nkn1", "PnVs"].indexOf(i.Lns.v.Lns)
            , a1 = i.FlrC.v
            , b6 = [Math.min(dL, 2), i.Brgh.v / 100, a1.Hrzn.v, a1.Vrtc.v]
            , B = Date.now();
          _.ade(K.buffer, I, h, k.buffer, b6)
      }
      var i7 = ["Blr ", "BlrM", "Shrp", "ShrM"].indexOf(E);
      if (i7 != -1) {
          var bj = i7 > 1
            , I = K.rect.d
            , h = K.rect.v
            , hF = _.UZ.RF[i7]
            , dd = K.buffer.slice(0);
          if (!bj)
              _.OT(dd);
          _.UZ.Zl(dd, k.buffer, I, h, hF, 255, !1, bj);
          if (!bj)
              _.xJ(k.buffer)
      }
      if (E == "MtnB") {
          var ew = -i.Angl.v * Math.PI / 180
            , b2 = i.Dstn.v.val / 2
            , B = Date.now()
            , I = K.rect.d
            , h = K.rect.v
            , g = K.rect.clone();
          g.x = g.y = 0;
          if (Y.vD) {
              var B = Date.now()
                , gR = k.buffer;
              gR.set(K.buffer);
              _.OT(gR);
              var i4 = Y.I3(0, I, h);
              i4.set(gR);
              var p = _.I(4);
              p[0] = Math.round(128 + 127 * Math.cos(ew));
              p[1] = Math.round(128 + 127 * Math.sin(ew));
              new Uint32Array(gR.buffer).fill(new Uint32Array(p.buffer)[0]);
              var aK = Y.I3(1, I, h);
              aK.set(gR);
              Y.j8(i4, g);
              i4.HV(g);
              Y.filter.Nk({
                  type: Y.filter.$C,
                  Dc: aK.k2,
                  uK: new Float32Array([1 / I, 1 / h]),
                  a3o: b2 / 2,
                  aa$: 1
              }, i4.B6);
              i4.get(gR);
              _.xJ(gR)
          } else {
              var iN = new fn;
              iN.rotate(ew);
              var c4 = u._.VT([K.buffer, K.rect], iN, !1, null, !0);
              ef.Ca(b2, _.Cu.Nj, c4.buffer, c4.rect);
              iN.KP();
              c4 = u._.VT([c4.buffer, c4.rect], iN, !1, k.buffer.buffer, !0, k.rect)
          }
          console.log(Date.now() - B)
      }
      if (E == "RdlB") {
          var I = K.rect.d
            , h = K.rect.v
            , n = i.Amnt.v
            , ep = i.BlrM.v.BlrM == "Zm"
            , fc = i.Cntr.v
            , hu = fc.Hrzn.v
            , eM = fc.Vrtc.v
            , ax = Math.max(hu, 1 - hu) * I
            , d_ = Math.max(eM, 1 - eM) * h
            , gG = Math.sqrt(ax * ax + d_ * d_)
            , e6 = 2 * Math.PI * gG * 1.5
            , co = Math.round(e6)
            , af = Math.round(gG)
            , gg = new h4(0,0,co,af)
            , ct = _.I(co * af * 4)
            , hc = ep ? 4 : 1
            , cJ = ep ? .6 : 8 * ((I + h) / 2) / 1400
            , bw = .1
            , gN = 1
            , bx = 1;
          _.J.Sy(K.buffer, I, h, ct, co, af, hu, eM, hc, bw, gN, bx);
          var gY = ep ? _.I(co * af * 4) : null;
          if (ep) {
              _.J.C2(ct, gY, co, af);
              var cf = gY;
              gY = ct;
              ct = cf;
              gg.d = af;
              gg.v = co
          }
          ef.Ca(cJ * n, _.Cu.Nj, ct, gg);
          if (ep) {
              _.J.C2(ct, gY, af, co);
              var cf = gY;
              gY = ct;
              ct = cf;
              gg.d = co;
              gg.v = af
          }
          _.J.c$(ct, co, af, k.buffer, I, h, hu, eM, hc, bw, gN, bx)
      }
      if (E == "Plr ") {
          var I = K.rect.d
            , h = K.rect.v;
          if (i.Cnvr.v.Cnvr == "RctP")
              _.J.c$(K.buffer, I, h, k.buffer, I, h, .5, .5, 1, 0, 2, I / h);
          else
              _.J.Sy(K.buffer, I, h, k.buffer, I, h, .5, .5, 1, 0, 2, I / h)
      }
      if (E == "FndE") {
          var I = K.rect.d
            , h = K.rect.v;
          _.UZ.r$(K.buffer, k.buffer, I, h)
      }
      if (E == "oilPaint") {
          var d = i.LghD.v * Math.PI / 180
            , fe = [Math.cos(d), Math.sin(d), .001]
            , P = [i.stylization.v, i.cleanliness.v, i.brushScale.v, i.microBrush.v, i.lightingOn.v, i.specularity.v, fe]
            , g = K.rect.clone();
          g.x = g.y = 0;
          _.rW.filter(K.buffer, g, k.buffer, P)
      }
      if (E == "Ofst") {
          var I = K.rect.d
            , h = K.rect.v
            , bc = new Uint32Array(K.buffer.buffer)
            , fU = new Uint32Array(k.buffer.buffer)
            , ea = i.Hrzn.v
            , gL = i.Vrtc.v
            , ai = i.Fl.v.FlMd;
          _.EE(fU, 0);
          if (ai == "Bckg" || ai == "Rpt") {
              var gg = K.rect.clone();
              gg.offset(ea, gL);
              _.p8(bc, gg, fU, k.rect)
          }
          if (ai == "Rpt") {
              var bJ, aN, bG, aQ, hZ;
              ea = Math.max(-I, Math.min(I, ea));
              gL = Math.max(-h, Math.min(h, gL));
              bJ = ea > 0 ? ea : 0;
              bG = ea > 0 ? I : I + ea;
              aN = gL > 0 ? 0 : gL + h;
              aQ = gL > 0 ? gL : h;
              hZ = gL > 0 ? 0 : I * (h - 1);
              for (var x = aN; x < aQ; x++)
                  for (var m = bJ; m < bG; m++)
                      fU[x * I + m] = bc[hZ + m - ea];
              bJ = ea > 0 ? 0 : I + ea;
              bG = ea > 0 ? ea : I;
              aN = gL > 0 ? gL : 0;
              aQ = gL > 0 ? h : h + gL;
              hZ = ea > 0 ? 0 : I - 1;
              for (var x = aN; x < aQ; x++)
                  for (var m = bJ; m < bG; m++)
                      fU[x * I + m] = bc[hZ + I * (x - gL)];
              if (ea >= 0 && gL >= 0) {
                  bJ = 0;
                  bG = ea;
                  aN = 0;
                  aQ = gL;
                  hZ = 0
              }
              if (ea >= 0 && gL < 0) {
                  bJ = 0;
                  bG = ea;
                  aN = h + gL;
                  aQ = h;
                  hZ = I * (h - 1)
              }
              if (ea < 0 && gL >= 0) {
                  bJ = I + ea;
                  bG = I;
                  aN = 0;
                  aQ = gL;
                  hZ = I - 1
              }
              if (ea < 0 && gL < 0) {
                  bJ = I + ea;
                  bG = I;
                  aN = h + gL;
                  aQ = h;
                  hZ = I * h - 1
              }
              for (var x = aN; x < aQ; x++)
                  for (var m = bJ; m < bG; m++)
                      fU[x * I + m] = bc[hZ]
          }
          if (ai == "Wrp") {
              ea = (ea + 100 * I) % I;
              gL = (gL + 100 * h) % h;
              var gg = new h4(ea - I,gL - h,I,h);
              _.p8(bc, gg, fU, k.rect);
              gg.offset(I, 0);
              _.p8(bc, gg, fU, k.rect);
              gg.offset(0, h);
              _.p8(bc, gg, fU, k.rect);
              gg.offset(-I, 0);
              _.p8(bc, gg, fU, k.rect)
          }
      }
      if (E == "Rept") {
          var hm = i.Rsft.v.val / 100
            , ht = i.SpcX.v.val / 100;
          ht = Math.max(ht, -.99);
          var fF = i.SpcY.v.val / 100;
          fF = Math.max(fF, -.99);
          var gN = i.Scl.v.val / 100
            , iN = new fn;
          iN.rotate(i.Angl.v * Math.PI / 180);
          iN.scale(gN, gN);
          var cx = {
              buffer: K.buffer,
              rect: K.rect
          };
          _.YX(cx);
          if (cx.rect.OL()) {
              cx.buffer = K.buffer;
              cx.rect = K.rect
          }
          var cH = cx.buffer
            , gg = cx.rect
            , gk = _._F(cH, gg, 0)
            , aA = new Uint32Array(cH.buffer)[0];
          if (!gk.OL() && !gk.Ql(gg)) {
              var ie = _.I(gk.X() * 4);
              _.p8(cH, gg, ie, gk);
              cH = ie;
              gg = gk
          }
          gg.x = gg.y = 0;
          aA = ht == 0 && fF == 0 || i.SpcC.v ? aA : 0;
          function du(m) {
              return m < 0 ? Math.ceil(m) : Math.floor(m)
          }
          var ig = iN.uZ(new bT(gg.d,0));
          ig.x = du(ig.x);
          ig.y = du(ig.y);
          var ic = iN.uZ(new bT(0,gg.v));
          ic.x = du(ic.x);
          ic.y = du(ic.y);
          var c4 = u._.VT([cH, gg], iN, !1)
            , by = c4.rect
            , gl = c4.buffer
            , aX = Math.round(by.x)
            , eI = Math.round(by.y)
            , fz = Math.max(k.rect.d, k.rect.v) / Math.min(gg.d * gN * (1 + ht), gg.v * gN * (1 + fF));
          fz = Math.ceil(fz * 1.7);
          _.EE(k.buffer, aA);
          for (var x = -fz; x < fz; x++) {
              for (var m = -fz; m < fz; m++) {
                  var fq = (m + x * hm) * (1 + ht)
                    , hs = x * (1 + fF);
                  by.x = aX + Math.round(fq * ig.x + hs * ic.x);
                  by.y = eI + Math.round(fq * ig.y + hs * ic.y);
                  if (by.ET(k.rect))
                      _.p.JA("norm", gl, by, k.buffer, k.rect, by, 1)
              }
          }
      }
      if (E == "Ctoa") {
          var N = _.V.Gk(i.Clr.v)
            , gZ = i.Trsp.v.val / 100
            , dJ = i.Opct.v.val / 100;
          gZ = dJ == 0 ? 0 : gZ / dJ;
          var I = K.rect.d
            , h = K.rect.v
            , bg = ~~N.h
            , iT = ~~N.l
            , g$ = ~~N.O
            , hZ = K.buffer
            , dS = k.buffer;
          for (var x = 0; x < h; x++)
              for (var m = 0; m < I; m++) {
                  var G = x * I + m
                    , W = G << 2
                    , gg = hZ[W]
                    , i6 = hZ[W + 1]
                    , cH = hZ[W + 2]
                    , hW = Math.abs(bg - gg)
                    , cD = Math.abs(iT - i6)
                    , b0 = Math.abs(g$ - cH)
                    , cz = Math.max(hW, cD, b0) * (1 / 255);
                  cz = Math.max(0, Math.min(1, cz / dJ));
                  var ex = cz == 0 ? 0 : 1 / cz
                    , e7 = gZ == 1 ? 1 : Math.max(0, Math.min(1, (cz - gZ) / (1 - gZ)));
                  dS[W] = Math.max(0, Math.min(255, (gg - bg * (1 - cz)) * ex));
                  dS[W + 1] = Math.max(0, Math.min(255, (i6 - iT * (1 - cz)) * ex));
                  dS[W + 2] = Math.max(0, Math.min(255, (cH - g$ * (1 - cz)) * ex));
                  dS[W + 3] = ~~(.5 + e7 * 255)
              }
      }
      if ("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(E) != -1) {
          var ev = V[0], I = K.rect.d, h = K.rect.v, bf, cE = 0;
          if (E == "LqFy")
              bf = as.sQ(new Uint8Array(i.LqMe.v).buffer);
          else {
              var i3 = 3;
              bf = {
                  jx: Math.floor(I / i3),
                  w1: Math.floor(h / i3)
              };
              bf.map = new Float32Array(bf.jx * bf.w1 * 2);
              if (E == "LnCr") {
                  var hu = .5 * (bf.jx - 1)
                    , eM = .5 * (bf.w1 - 1)
                    , hE = Math.max(Math.abs(0 - hu), Math.abs(1 - hu))
                    , hj = Math.max(Math.abs(0 - eM), Math.abs(1 - eM))
                    , ga = Math.sqrt(hE * hE + hj * hj)
                    , fm = 0
                    , h0 = 0
                    , gb = -1
                    , bp = 2
                    , gN = i.LnSi.v / 100
                    , ep = 1 / gN
                    , er = i.LnIa.v / 100
                    , f2 = er == 0 ? 1e-6 : er * 4.6
                    , gC = ep / ga;
                  for (var x = 0; x < bf.w1; x++) {
                      for (var m = 0; m < bf.jx; m++) {
                          var ax = (m - hu) * gC
                            , d_ = (x - eM) * gC
                            , gU = Math.sqrt(ax * ax + d_ * d_) * f2
                            , hg = Math.atan(gU)
                            , fP = er > 0 ? hg / gU : gU / hg
                            , bx = hu + ga * fP * ax
                            , dD = eM + ga * fP * d_
                            , G = x * bf.jx + m << 1;
                          bf.map[G] = bx - m;
                          bf.map[G + 1] = dD - x
                      }
                  }
              } else if (E == "Dspl" && ev.length != 0) {
                  cE = i.UndA.v.UndA == "WrpA" ? 2 : 1;
                  var ba = i.DspF.v.pth, eC;
                  for (var G = 0; G < ev.length; G++)
                      if (ev[G].V3 == ba)
                          eC = ev[G];
                  if (eC == null)
                      eC = ev[0];
                  eC.A7();
                  var hW = eC.Y0[1]
                    , aF = _.I(hW.X());
                  _.YU(eC.Y0[0], aF);
                  var fv = hW.d
                    , bL = hW.v;
                  bf = {
                      jx: fv,
                      w1: bL
                  };
                  bf.map = new Float32Array(bf.jx * bf.w1 * 2);
                  var b5 = 2.54 * i.HrzS.v * fv / I
                    , cg = 2.54 * i.VrtS.v * bL / h;
                  for (var x = 0; x < bf.w1; x++) {
                      for (var m = 0; m < bf.jx; m++) {
                          var h6 = -.5 + aF[x * fv + m] * (1 / 255)
                            , G = x * bf.jx + m << 1;
                          bf.map[G] = h6 * b5;
                          bf.map[G + 1] = h6 * cg
                      }
                  }
              } else if (E == "Pnch" || E == "Twrl" || E == "Sphr") {
                  var n = 1
                    , ew = Math.PI
                    , eB = 0
                    , fc = 3
                    , cG = 1.53
                    , fP = 1;
                  if (E == "Pnch" || E == "Sphr")
                      n = i.Amnt.v / 100;
                  if (E == "Twrl")
                      ew = i.Angl.v * Math.PI / 180;
                  if (E == "Sphr")
                      eB = ["Nrml", "HrzO", "VrtO"].indexOf(i.SphM.v.SphM);
                  function bs(m) {
                      m = Math.pow(m, 1 - m * .3 - m * m * (m * m) * .5);
                      return -.225 * Math.sin(m * Math.PI)
                  }
                  function hN(h, dW, gU, bJ, aN, bG, aQ, fP) {
                      var ax = bG - bJ
                        , d_ = aQ - aN
                        , bA = bJ - h
                        , a8 = aN - dW
                        , cj = ax * ax + d_ * d_
                        , iq = 2 * (ax * bA + d_ * a8)
                        , fc = bA * bA + a8 * a8 - gU * gU
                        , gB = Math.sqrt(iq * iq - 4 * cj * fc)
                        , dQ = fP / (2 * cj)
                        , bz = (-iq + gB) * dQ
                        , hd = (-iq - gB) * dQ;
                      return fP * Math.min(bz, hd)
                  }
                  var iR = bf.jx
                    , an = bf.w1
                    , aU = bf.jx / 2
                    , hI = bf.w1 / 2
                    , ih = 1 / aU
                    , gU = Math.sqrt(fc * fc + 1) / fc
                    , fZ = fc + Math.sqrt(1 / (fc * fc));
                  if (n < 0) {
                      fc = 1.72;
                      gU = 1;
                      fZ = fc;
                      cG = -1;
                      fP = -1
                  }
                  for (var x = 0; x < an; x++) {
                      var d_ = (x - hI) / hI;
                      for (var m = 0; m < iR; m++) {
                          var ax = (m - aU) * ih;
                          if (eB == 1)
                              d_ = 0;
                          else if (eB == 2)
                              ax = 0;
                          var hA = Math.sqrt(ax * ax + d_ * d_);
                          if (hA < 1 && hA != 0) {
                              var G = x * bf.jx + m << 1;
                              if (E == "Pnch") {
                                  var e2 = -n * bs(hA) / hA;
                                  bf.map[G] = ax * e2 * aU;
                                  bf.map[G + 1] = d_ * e2 * hI
                              } else if (E == "Sphr") {
                                  var cf = hN(0, fZ, gU, 0, 0, hA, fc, fP)
                                    , dw = cG * n * (cf - 1);
                                  bf.map[G] = ax * dw * aU;
                                  bf.map[G + 1] = d_ * dw * hI
                              } else if (E == "Twrl") {
                                  var d = Math.atan2(d_, ax) - ew * (1 - hA) * (1 - hA)
                                    , it = Math.cos(d)
                                    , b_ = Math.sin(d);
                                  bf.map[G] = (hA * it - ax) * aU;
                                  bf.map[G + 1] = (hA * b_ - d_) * hI
                              }
                          }
                      }
                  }
              } else if (E == "Shr ") {
                  var aM = JSON.parse(JSON.stringify(i.ShrP.v));
                  _.Qe.m(aM, new fn(0,255 / 127,255 / 127,0,-2,0));
                  var gj = _.Qe.uU(aM, bf.w1, !0);
                  cE = i.UndA.v.UndA == "WrpA" ? 2 : 1;
                  for (var x = 0; x < bf.w1; x++) {
                      var ax = -gj[x] * bf.jx;
                      for (var m = 0; m < bf.jx; m++) {
                          var G = x * bf.jx + m << 1;
                          bf.map[G] = ax
                      }
                  }
              } else if (E == "Wave") {
                  var fH = i.NmbG.v
                    , fw = i.WLMn.v
                    , i8 = i.WLMx.v
                    , g9 = i.AmMn.v * (Math.PI / 4)
                    , hC = i.AmMx.v * (Math.PI / 4)
                    , h9 = i.SclH.v / 100
                    , cv = i.SclV.v / 100
                    , dL = i.Wvtp.v.Wvtp
                    , f1 = Math.sin;
                  if (dL == "WvTr")
                      f1 = function(m) {
                          m *= 2 / Math.PI;
                          return -.5 + Math.abs(m % 2 - 1)
                      }
                      ;
                  if (dL == "WvSq")
                      f1 = function(m) {
                          m *= 2 / Math.PI;
                          return 1 + 2 * Math.floor(m % 2 - 1)
                      }
                      ;
                  var a2 = []
                    , fV = new _.p.y$(i.RndS.v);
                  for (var G = 0; G < fH; G++) {
                      a2.push(fV.get() * 10);
                      a2.push(Math.PI * i3 / (fw + fV.get() * (i8 - fw)));
                      a2.push(h9 * (g9 + fV.get() * (hC - g9)) / i3);
                      a2.push(fV.get() * 10);
                      a2.push(Math.PI * i3 / (fw + fV.get() * (i8 - fw)));
                      a2.push(cv * (g9 + fV.get() * (hC - g9)) / i3)
                  }
                  var dl = []
                    , g7 = []
                    , gv = Math.max(bf.jx, bf.w1);
                  for (var G = 0; G < gv; G++) {
                      var ax = 0
                        , d_ = 0;
                      for (var cR = 0; cR < fH; cR++) {
                          var aW = cR * 6;
                          ax += a2[aW + 2] * f1(a2[aW] + G * a2[aW + 1]);
                          d_ += a2[aW + 5] * f1(a2[aW + 3] + G * a2[aW + 4])
                      }
                      dl[G] = d_;
                      g7[G] = ax
                  }
                  for (var x = 0; x < bf.w1; x++) {
                      for (var m = 0; m < bf.jx; m++) {
                          var G = x * bf.jx + m << 1;
                          bf.map[G] = g7[x];
                          bf.map[G + 1] = dl[m]
                      }
                  }
                  cE = i.UndA.v.UndA == "WrpA" ? 2 : 1
              } else if (E == "Rple") {
                  cE = 1;
                  var n = i.Amnt.v / 100
                    , gE = 4
                    , is = [0, -.19, -.29, -.32, .92, .37, .93, .54, -.54, .42, -.29, -.58, -.67, .85, 0, .64]
                    , en = 1
                    , b8 = 1
                    , bA = 0
                    , gt = ["Sml", "Mdm", "Lrg"].indexOf(i.RplS.v.RplS);
                  if (gt == 0) {
                      en = 1;
                      b8 = .2;
                      bA = 3
                  }
                  if (gt == 2) {
                      en = 1;
                      b8 = 2;
                      bA = -1;
                      is = is.reverse()
                  }
                  var gT = function(m, x) {
                      var fc = Math.cos
                        , eZ = 0;
                      for (var G = 0; G < gE; G++)
                          for (var cR = 0; cR < gE; cR++)
                              eZ += is[G * gE + cR] * fc(m * (G + bA) - x * (cR + bA));
                      return eZ
                  }
                    , gV = Math.floor(50 / i3)
                    , dX = new Float32Array(gV * gV * 2)
                    , b$ = b8 * n * .5 / i3;
                  for (var x = 0; x < gV; x++)
                      for (var m = 0; m < gV; m++) {
                          var hu = en * m * 2 * Math.PI / gV
                            , eM = en * x * 2 * Math.PI / gV
                            , eV = gT(hu, eM)
                            , ax = (gT(hu + .01, eM) - eV) * 100
                            , d_ = (gT(hu, eM + .01) - eV) * 100
                            , G = (x * gV + m) * 2;
                          dX[G] = ax * b$;
                          dX[G + 1] = d_ * b$
                      }
                  for (var x = 0; x < bf.w1; x++)
                      for (var m = 0; m < bf.jx; m++) {
                          var b_ = x % gV
                            , it = m % gV
                            , G = x * bf.jx + m << 1
                            , bm = b_ * gV + it << 1;
                          bf.map[G] = dX[bm];
                          bf.map[G + 1] = dX[bm + 1]
                      }
              }
          }
          _.eU.Xa(K.buffer, k.buffer, I, h, null, bf.map, bf.jx, bf.w1, cE)
      }
      return k
  }
  ;
  var eU = {};
  eU.w_ = "BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");
  eU.r7 = "LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
  eU.Tq = ["ScrC", "ScrD", "ScrL"];
  eU.Vk = ["SDRD", "SDHz", "SDLD", "SDVt"];
  eU.NC = "TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
  eU.Xd = {
      PntD: "paintDaubs"
  };
  eU.Wq = ["Artistic", "Brush Strokes", [24, 4], "Sketch", [24, 14], [12, 67]];
  eU.names = {
      PntD: [0, "Paint Daubs"],
      PlsW: [0, "Plastic Wrap"],
      Spt: [1, "Spatter"],
      SprS: [1, "Sprayed Strokes"],
      Gls: [2, "Glass"],
      OcnR: [2, "Ocean Ripple"],
      BsRl: [3, "Bas Relief"],
      Chrc: [3, "Charcoal"],
      Chrm: [3, "Chrome"],
      GraP: [3, "Graphic Pen"],
      HlfS: [3, "Halftone Pattern"],
      Phtc: [3, "Photocopy"],
      Stmp: [3, "Stamp"],
      GlwE: [4, "Glowing Edges"],
      StnG: [5, "Stained Glass"],
      Txtz: [5, "Texturizer"]
  };
  eU.Sk = function(E) {
      var K;
      if (E == "PntD")
          K = {
              Sz: {
                  t: "long",
                  v: 10
              },
              Shrp: {
                  t: "long",
                  v: 10
              },
              BrsT: {
                  t: "enum",
                  v: {
                      BrsT: "BrSm"
                  }
              }
          };
      if (E == "PlsW")
          K = {
              HghS: {
                  t: "long",
                  v: 20
              },
              Dtl: {
                  t: "long",
                  v: 4
              },
              Smth: {
                  t: "long",
                  v: 5
              }
          };
      if (E == "Spt")
          K = {
              SprR: {
                  t: "long",
                  v: 10
              },
              Smth: {
                  t: "long",
                  v: 5
              },
              FlRs: {
                  t: "long",
                  v: 10738420
              }
          };
      if (E == "SprS")
          K = {
              StrL: {
                  t: "long",
                  v: 12
              },
              SprR: {
                  t: "long",
                  v: 7
              },
              SDir: {
                  t: "enum",
                  v: {
                      StrD: "SDRD"
                  }
              },
              FlRs: {
                  t: "long",
                  v: 893120664
              }
          };
      if (E == "Gls")
          K = {
              Dstr: {
                  t: "long",
                  v: 3
              },
              Smth: {
                  t: "long",
                  v: 1
              },
              TxtT: {
                  t: "enum",
                  v: {
                      TxtT: "TxTL"
                  }
              },
              Scln: {
                  t: "long",
                  v: 100
              },
              InvT: {
                  t: "bool",
                  v: !1
              }
          };
      if (E == "OcnR")
          K = {
              RplS: {
                  t: "long",
                  v: 5
              },
              RplM: {
                  t: "long",
                  v: 15
              },
              FlRs: {
                  t: "long",
                  v: 64008840
              }
          };
      if (E == "BsRl")
          K = {
              Dtl: {
                  t: "long",
                  v: 11
              },
              Smth: {
                  t: "long",
                  v: 7
              },
              LghD: {
                  t: "enum",
                  v: {
                      LghD: "LDBt"
                  }
              }
          };
      if (E == "Chrc")
          K = {
              ChAm: {
                  t: "long",
                  v: 1
              },
              Dtl: {
                  t: "long",
                  v: 5
              },
              LgDr: {
                  t: "long",
                  v: 50
              },
              GELv: {
                  t: "bool",
                  v: !0
              }
          };
      if (E == "Chrm")
          K = {
              Dtl: {
                  t: "long",
                  v: 4
              },
              Smth: {
                  t: "long",
                  v: 4
              }
          };
      if (E == "GraP")
          K = {
              StrL: {
                  t: "long",
                  v: 7
              },
              LgDr: {
                  t: "long",
                  v: 50
              },
              SDir: {
                  t: "enum",
                  v: {
                      StrD: "SDRD"
                  }
              },
              FlRs: {
                  t: "long",
                  v: 55993248
              }
          };
      if (E == "HlfS")
          K = {
              HlSz: {
                  t: "long",
                  v: 1
              },
              Cntr: {
                  t: "long",
                  v: 5
              },
              ScrT: {
                  t: "enum",
                  v: {
                      ScrT: "ScrD"
                  }
              }
          };
      if (E == "Phtc")
          K = {
              Dtl: {
                  t: "long",
                  v: 10
              },
              Drkn: {
                  t: "long",
                  v: 4
              }
          };
      if (E == "Stmp")
          K = {
              LgDr: {
                  t: "long",
                  v: 25
              },
              Smth: {
                  t: "long",
                  v: 4
              }
          };
      if (E == "GlwE")
          K = {
              EdgW: {
                  t: "long",
                  v: 1
              },
              EdgB: {
                  t: "long",
                  v: 10
              },
              Smth: {
                  t: "long",
                  v: 1
              }
          };
      if (E == "StnG")
          K = {
              ClSz: {
                  t: "long",
                  v: 10
              },
              BrdT: {
                  t: "long",
                  v: 4
              },
              LghI: {
                  t: "long",
                  v: 0
              },
              FlRs: {
                  t: "long",
                  v: 319935998
              }
          };
      if (E == "Txtz")
          K = {
              TxtT: {
                  t: "enum",
                  v: {
                      TxtT: "TxBr"
                  }
              },
              Scln: {
                  t: "long",
                  v: 100
              },
              Rlf: {
                  t: "long",
                  v: 10
              },
              LghD: {
                  t: "enum",
                  v: {
                      LghD: "LDBL"
                  }
              },
              InvT: {
                  t: "bool",
                  v: !1
              }
          };
      K.__name = "Filter Gallery";
      K.classID = "GEfc";
      K.GEfk = {
          t: "enum",
          v: {
              GEft: E
          }
      };
      K.GELv = {
          t: "bool",
          v: !0
      };
      return K
  }
  ;
  eU.by = function(E, K) {
      for (var G = 0; G < K.length; G++)
          ~~(K[G] = (E[4 * G] + E[4 * G + 1] + E[4 * G + 2]) * (1 / 3))
  }
  ;
  eU.aL = function(E, K, i, C, N, k, V) {
      E = i.GEfk.v.GEft;
      var j = K.rect
        , a = j.d
        , e = j.v
        , L = a * e;
      console.log(JSON.stringify(E), JSON.stringify(i));
      if (E == "PstE") {}
      if (E == "AccE") {}
      if (E == "AngS") {}
      if (E == "Chrc") {
          var g = _.I(a * e)
            , I = _.I(a * e);
          eU.by(K.buffer, g);
          _.Mp.alU(g, a, e, I, [i.ChAm.v, i.Dtl.v, i.LgDr.v]);
          eU.DD(I, k.buffer, C, N)
      }
      if (E == "Stmp") {
          var g = _.I(a * e)
            , I = _.I(a * e);
          eU.by(K.buffer, g);
          _.Mp.ahj(g, a, e, I, [i.LgDr.v, i.Smth.v]);
          eU.DD(I, k.buffer, C, N)
      }
      if (E == "GraP") {
          var g = _.I(a * e)
            , I = _.I(a * e);
          _.YU(K.buffer, g);
          _.Mp.alz(g, a, e, I, [i.StrL.v, i.LgDr.v, ["SDRD", "SDHz", "SDLD", "SDVt"].indexOf(i.SDir.v.StrD)]);
          eU.DD(I, k.buffer, C, N)
      }
      if (E == "Phtc") {
          function h(gn, ce, j, fD) {
              _.Cu.t2(gn, ce, j, fD);
              for (var G = 0; G < L; G++)
                  ce[G] = Math.max(0, Math.min(255, 128 + gn[G] - ce[G]))
          }
          var o = i.Dtl.v
            , H = i.Drkn.v
            , g = _.I(L);
          _.YU(K.buffer, g);
          var A = _.I(L);
          h(g, A, j, 1);
          var S = _.I(L);
          h(g, S, j, o);
          for (var G = 0; G < L; G++)
              g[G] = Math.max(0, Math.min(255, 255 - (A[G] - S[G]) * H));
          eU.DD(g, k.buffer, C, N)
      }
      if (E == "Spt" || E == "SprS") {
          var v, s = 1, D = 1;
          v = {
              jx: Math.floor(a / D),
              w1: Math.floor(e / D)
          };
          v.map = new Float32Array(v.jx * v.w1 * 2);
          var F = new _.p.y$(i.FlRs.v)
            , y = new Float32Array(8192)
            , T = i.SprR.v
            , Q = T < 20 ? .018 * T : .36 + (T - 20) * .128;
          if (E == "SprS") {
              Q = .07 + [0, .02, .04, .06, .08, .1, .12, .14, .16, .18, .2, .22, .24, .26, .28, .3, .34, .38, .5, .65, .75, .85, 1, 1.5, 2.2, 3][T]
          }
          for (var G = 0; G < 8192; G++)
              y[G] = (-1 + 2 * F.get()) * Q * 70;
          for (var B = 0; B < e; B++)
              for (var r = 0; r < a; r++) {
                  var J = B * a + r << 1;
                  v.map[J] = y[J % 7919];
                  v.map[J + 1] = y[(J + 1) % 7919]
              }
          var m = v.map.slice(0)
            , x = E == "Spt" ? i.Smth.v - 1 : 1;
          if (E == "Spt" && x != 0) {
              eU.qw(v.map, m, a, e, x);
              eU.D6(m, v.map, a, e, x)
          }
          if (E == "SprS") {
              var R = i.StrL.v >>> 1
                , b = R == 0 ? 2 : 1;
              eU.qw(v.map, m, a, e, b);
              eU.D6(m, v.map, a, e, b);
              if (R != 0) {
                  var z = eU.Vk.indexOf(i.SDir.v.StrD)
                    , $ = [1, 1, 1, 0][z]
                    , P = [-1, 0, 1, 1][z]
                    , t = 2 * R + 1
                    , X = 1 / t;
                  for (var B = 0; B < e; B++)
                      for (var r = 0; r < a; r++) {
                          var J = B * a + r << 1
                            , Z = 0
                            , p = 0;
                          for (var G = 0; G < t; G++) {
                              var gl = Math.max(0, Math.min(a - 1, r - (R + G) * $))
                                , f = Math.max(0, Math.min(e - 1, B - (R + G) * P))
                                , cY = f * a + gl << 1;
                              Z += v.map[cY];
                              p += v.map[cY + 1]
                          }
                          m[J] = Z * X;
                          m[J + 1] = p * X
                      }
                  v.map = m
              }
          }
          _.eU.Xa(K.buffer, k.buffer, a, e, null, v.map, v.jx, v.w1, s)
      }
      if (E == "BsRl" || E == "PlsW" || E == "Chrm") {
          var fC = Date.now()
            , hi = _.I(L)
            , es = hi.slice(0);
          _.YU(K.buffer, hi);
          var o = i.Dtl.v
            , W = i.Smth.v;
          if (o != 15) {
              _.Cu.hl(hi, es, j, Math.round((15 - o) * .5));
              _.uJ(es, hi)
          }
          var d = 1.4 / a
            , fM = 1.4 / e
            , n = new Float32Array(L)
            , ax = new Float32Array(L)
            , d_ = new Float32Array(k.buffer.buffer);
          for (var B = 0; B < e; B++)
              for (var r = 0; r < a; r++) {
                  var G = B * a + r
                    , $ = r == a - 1 ? hi[G] - hi[G - 1] : hi[G + 1] - hi[G]
                    , P = B == e - 1 ? hi[G] - hi[G - a] : hi[G + a] - hi[G]
                    , cm = r * d - .7
                    , c4 = B * fM - .7;
                  n[G] = $ == 0 ? cm : $ * .4;
                  ax[G] = P == 0 ? c4 : P * .4
              }
          if (E == "BsRl") {
              var ch = (2 + eU.r7.indexOf(i.LghD.v.LghD)) * Math.PI * .25
                , Z = Math.cos(ch);
              if (Math.abs(Z) < .1)
                  Z = 0;
              Z = Math.sign(Z);
              var p = Math.sin(ch);
              if (Math.abs(p) < .1)
                  p = 0;
              p = Math.sign(p);
              var hQ = 1 / (Z * Z + p * p);
              for (var B = 0; B < e; B++)
                  for (var r = 0; r < a; r++) {
                      var G = B * a + r
                        , em = Math.max(-1, Math.min(1, Z * n[G]))
                        , ag = Math.max(-1, Math.min(1, p * ax[G]));
                      es[G] = 128 + 127 * (em + ag) * hQ
                  }
              if (W != 1) {
                  _.Cu.hl(es, hi, j, Math.round((W - 1) * .5));
                  _.uJ(hi, es)
              }
              eU.DD(es, k.buffer, C, N)
          } else {
              if (E == "Chrm")
                  W = 5 + W;
              if (W > 1)
                  eU.Ca(n, ax, d_, j, W - 1);
              if (E == "PlsW") {
                  var am = new Uint8Array(n.buffer);
                  for (var G = 0; G < L; G++) {
                      var bK = G << 2
                        , $ = n[G]
                        , P = ax[G]
                        , ei = 1 / (Math.sqrt(1 + $ * $) * Math.sqrt(1 + P * P))
                        , dL = ei * ei
                        , fh = dL * dL
                        , eu = ~~(255 * (fh * fh * dL));
                      am[bK + 0] = eu;
                      am[bK + 1] = eu;
                      am[bK + 2] = eu;
                      am[bK + 3] = eu
                  }
                  k.buffer.set(K.buffer);
                  _.p.JA("norm", am, j, k.buffer, j, j, i.HghS.v / 20)
              } else if (E == "Chrm") {
                  var hf = k.buffer
                    , iS = a >>> 1
                    , aI = e >>> 1;
                  for (var G = 0; G < L; G++) {
                      var bK = G << 2
                        , $ = n[G]
                        , P = ax[G]
                        , gn = {
                          x: 1,
                          y: 0,
                          IK: $
                      };
                      h$.rn(gn);
                      var ce = {
                          x: 0,
                          y: 1,
                          IK: P
                      };
                      h$.rn(ce);
                      var gr = h$.Mm(gn, ce)
                        , ek = 1 / gr.IK
                        , bJ = ~~Math.max(0, Math.min(a - 1, iS - gr.x * ek * iS))
                        , aN = ~~Math.max(0, Math.min(e - 1, aI - gr.y * ek * aI))
                        , eu = hi[aN * a + bJ];
                      hf[bK + 0] = eu;
                      hf[bK + 1] = eu;
                      hf[bK + 2] = eu
                  }
              }
          }
      }
      if (E == "Gls" || E == "OcnR" || E == "Txtz") {
          var bG = E == "OcnR" ? 2 : eU.NC.indexOf(i.TxtT.v.TxtT), t = 24, iH = 0, fp, ff;
          if (bG == 6)
              bG = 2;
          var aQ = "blocks canvas frosted tinylens brick burlap".split(" ")[bG];
          if (eU.mU == null)
              eU.mU = [];
          if (eU.mU[bG] == null) {
              var cu, gX;
              if (bG == 2) {
                  gX = new h4(0,0,128,128);
                  var bW = ef.Sk("AdNs");
                  bW.Mnch.v = !0;
                  bW.Dstr.v.Dstr = "Gsn";
                  bW.Nose.v.val = 50;
                  var cu = _.I(gX.X() * 4)
                    , dE = cu.slice(0);
                  new Uint32Array(dE.buffer).fill(4286611584);
                  ef.aL("AdNs", {
                      buffer: dE,
                      rect: gX
                  }, bW, 0, 0, {
                      buffer: cu,
                      rect: gX
                  })
              } else {
                  var b4 = fb.Km.get("tex/" + aQ, !0)[0];
                  gX = b4.UP;
                  cu = new Uint8Array(b4.data)
              }
              var hi = _.I(gX.X());
              _.wF(cu, hi, 0);
              eU.mU[bG] = [gX, hi]
          }
          var gX = eU.mU[bG][0]
            , hi = eU.mU[bG][1]
            , cC = gX.d
            , gN = gX.v;
          function eH(dj, hI, hX) {
              return ~~(hx * (dj + hI) + 8192) & 127
          }
          var n = new Float32Array(L)
            , ax = new Float32Array(L)
            , d_ = new Float32Array(k.buffer.buffer)
            , hx = E == "OcnR" ? 1 / (1 + (i.RplS.v - 1) * .1) : 100 / i.Scln.v;
          if (bG == 3)
              hx *= 32 / 22.2;
          var fC = Date.now()
            , c2 = hx
            , d = 1.4 / a
            , fM = 1.4 / e;
          if (E == "Txtz") {
              c2 *= 1 / 255;
              t = 256
          }
          for (var B = 0; B < e; B++) {
              var hv = eH(B, j.y, gN)
                , f = hv + 1 & 127;
              for (var r = 0; r < a; r++) {
                  var G = B * a + r
                    , fu = eH(r, j.x, cC)
                    , gl = fu + 1 & 127
                    , dv = 0
                    , fj = 0
                    , il = 0;
                  if (E == "Txtz") {
                      dv = _.J.a6(hx * r, hx * B, hi, 128, 128);
                      fj = _.J.a6(hx * r, hx * B + 1, hi, 128, 128);
                      il = _.J.a6(hx * r + 1, hx * B, hi, 128, 128)
                  } else {
                      dv = hi[hv * cC + fu];
                      fj = hi[f * cC + fu];
                      il = hi[hv * cC + gl]
                  }
                  n[G] = Math.max(-t, Math.min((il - dv) * c2, t));
                  ax[G] = Math.max(-t, Math.min((fj - dv) * c2, t))
              }
          }
          if (E == "Txtz")
              eU.FS(n, ax, d_, j, 6);
          else
              eU.Ca(n, ax, d_, j, E == "Txtz" ? 1 : E == "OcnR" ? 3.5 / hx : i.Smth.v);
          if (E == "Txtz")
              iH = i.InvT.v ? -1 : 1;
          else if (E == "Gls") {
              iH = [1, .4, .5, .5][bG] * (Math.exp(i.Dstr.v * .155) - 1);
              if (i.InvT.v)
                  iH = -iH
          } else {
              iH = .5 * (Math.exp(i.RplM.v * .155) - 1)
          }
          var hf = k.buffer;
          if (E == "Txtz") {
              var ch = (2 + eU.r7.indexOf(i.LghD.v.LghD)) * Math.PI * .25
                , Z = Math.cos(ch)
                , p = Math.sin(ch);
              fp = {
                  x: Z,
                  y: p,
                  IK: 0
              };
              h$.rn(fp);
              ff = i.Rlf.v;
              ff = ff / 4 + Math.max(0, (ff - 35) * 2)
          }
          function da(gn, ce, fa) {
              var ik = _.p.overF(ce, gn, 1)
                , dj = (1 - fa) * gn + fa * (fa * ce + (1 - fa) * ik);
              return dj * 255
          }
          for (var B = 0; B < e; B++)
              for (var r = 0; r < a; r++) {
                  var G = B * a + r
                    , bK = G << 2
                    , $ = n[G]
                    , P = ax[G]
                    , gn = {
                      x: 1,
                      y: 0,
                      IK: $
                  };
                  h$.rn(gn);
                  var ce = {
                      x: 0,
                      y: 1,
                      IK: P
                  };
                  h$.rn(ce);
                  var gr = h$.Mm(gn, ce);
                  if (E == "Txtz") {
                      var aC = h$.a3L(gr, fp) * iH
                        , fa = 1
                        , eu = 1;
                      if (aC < 0) {
                          eu = 0;
                          aC = -aC
                      }
                      fa = Math.min(1, aC * ff);
                      hf[bK + 0] = ~~da(K.buffer[bK] * (1 / 255), eu, fa);
                      hf[bK + 1] = ~~da(K.buffer[bK + 1] * (1 / 255), eu, fa);
                      hf[bK + 2] = ~~da(K.buffer[bK + 2] * (1 / 255), eu, fa)
                  } else {
                      var ek = iH / gr.IK
                        , bJ = ~~Math.max(0, Math.min(a - 1, r - gr.x * ek))
                        , aN = ~~Math.max(0, Math.min(e - 1, B - gr.y * ek))
                        , hz = aN * a + bJ << 2;
                      hf[bK + 0] = K.buffer[hz];
                      hf[bK + 1] = K.buffer[hz + 1];
                      hf[bK + 2] = K.buffer[hz + 2]
                  }
              }
      }
      if (E == "PntD") {
          var f6 = i.Shrp.v * .4
            , bk = i.BrsT.v.BrsT
            , dB = {
              BrSm: [.75],
              BrsL: [.85],
              BrDR: [.68],
              BrsW: [.75],
              BrbW: [.78],
              BrSp: [.62]
          }[bk]
            , fD = Math.round(i.Sz.v * .5);
          _.A2.oa = dB[0];
          var bE = _.A2.Rw;
          ef.fY(K.buffer, k.buffer, a, e, fD, bE, [], 0);
          var f0 = [-.7, -1, -.7, -1, 10, -1, -.7, -1, -.7];
          f0 = _.UZ.Wj(f0);
          var g6 = k.buffer.slice(0);
          _.UZ.Zl(g6, k.buffer, a, e, f0, 0);
          for (var G = 0; G < K.buffer.length; G++) {
              var fk = k.buffer[G] - g6[G];
              k.buffer[G] = Math.max(0, Math.min(255, g6[G] + f6 * fk))
          }
      }
      if (E == "GlwE") {
          var iW = k.buffer.slice(0);
          _.A2.oa = .5;
          var bE = _.A2.Rw;
          ef.fY(K.buffer, iW, a, e, i.Smth.v >>> 1, bE, [], 0);
          _.UZ.r$(iW, k.buffer, a, e);
          _.uJ(k.buffer, iW);
          _.KP(iW);
          _.EE(iW, 4278190080, 16777215);
          ef.fY(iW, k.buffer, a, e, i.EdgW.v >>> 1, _.A2.j7, [], 0);
          var bq = i.EdgB.v / 10;
          for (var G = 0; G < iW.length; G++) {
              if ((G & 3) == 3)
                  continue;
              var ik = k.buffer[G];
              k.buffer[G] = Math.max(0, Math.min(255, ik * bq))
          }
      }
      if (E == "StnG") {
          _.ce.aof(K.buffer, a, e, k.buffer, i.ClSz.v, [Math.round(C.h), Math.round(C.l), Math.round(C.O)], i.BrdT.v)
      }
      if (E == "HlfS") {
          var e$ = i.HlSz.v
            , iU = e$ * 2 + 1
            , eh = i.Cntr.v
            , hH = eU.Tq.indexOf(i.ScrT.v.ScrT)
            , L = a * e
            , eJ = L * 4
            , gf = _.I(L)
            , d0 = K.buffer
            , eZ = 0
            , iC = 0;
          for (var G = 0; G < eJ; G += 4)
              gf[G >>> 2] = ~~(.5 + (d0[G] + d0[G + 1] + d0[G + 2]) * (1 / 3));
          var ac = gf.slice(0);
          _.Cu.Uz(ac, gf, j, e$);
          var eY = Math.PI / iU
            , dg = new Float64Array(a)
            , Z = new Float64Array(a)
            , cX = new Float64Array(2 * a);
          for (var r = 0; r < a; r++) {
              var fu = (r - (a >>> 1)) * eY;
              dg[r] = fu * fu;
              Z[r] = Math.cos(fu);
              var $ = r << 1;
              cX[$] = Math.sin($ * (1 / 4.5));
              cX[$ + 1] = Math.sin(($ + 1) * (1 / 4.5))
          }
          for (var B = 0; B < e; B++) {
              var hv = (B - (e >>> 1)) * eY
                , p = Math.cos(hv)
                , cW = hv * hv;
              for (var r = 0; r < a; r++) {
                  var eu = p;
                  if (hH == 0) {
                      var cT = .5 + Math.sqrt(dg[r] + cW) * 4.5;
                      eu = cX[~~cT]
                  } else if (hH == 1) {
                      eu = Z[r] * p
                  }
                  var G = B * a + r
                    , cF = gf[G] * (.75 + .25 * eu)
                    , fa = d0[(G << 2) + 3] * (1 / 255)
                    , aP = Math.max(0, Math.min(255, ~~cF));
                  eZ += aP * fa,
                  iC += fa;
                  gf[G] = aP
              }
          }
          eZ /= iC;
          var iz = 128 + 1.26 * (eZ - 128)
            , bq = .08 + .25 * Math.abs((128 - eZ) / 128)
            , al = 1 + bq * eh;
          for (var G = 0; G < L; G++) {
              var cF = iz + (gf[G] - iz) * al;
              gf[G] = Math.max(0, Math.min(255, ~~cF))
          }
          if (eh > 46)
              _.round(gf);
          eU.DD(gf, k.buffer, C, N)
      }
      for (var G = 0; G < K.buffer.length; G += 4)
          k.buffer[G + 3] = K.buffer[G + 3]
  }
  ;
  eU.DD = function(E, K, i, C) {
      var N = E.length
        , k = i.h
        , V = i.l
        , j = i.O
        , a = C.h
        , e = C.l
        , L = C.O;
      for (var G = 0; G < N; G++) {
          var g = E[G] * (1 / 255)
            , I = 1 - g
            , h = G << 2;
          K[h] = ~~(k * I + a * g);
          K[h + 1] = ~~(V * I + e * g);
          K[h + 2] = ~~(j * I + L * g)
      }
  }
  ;
  eU.Ca = function(E, K, i, C, N) {
      if (N <= 1) {
          N = Math.round(N);
          eU.FS(E, K, i, C, [1, 16, 4][N]);
          return
      }
      var k = N * .42;
      if (E) {
          _.Cu.E2(E, i, C, k, 3);
          E.set(i)
      }
      if (K) {
          _.Cu.E2(K, i, C, k, 3);
          K.set(i)
      }
  }
  ;
  eU.FS = function(E, K, i, C, N) {
      var k = _.UZ.Wj([1, 2, 1, 2, N, 2, 1, 2, 1]);
      if (E) {
          i.set(E);
          _.UZ.jL(E, i, C.d, C.v, k);
          E.set(i)
      }
      if (K) {
          i.set(K);
          _.UZ.jL(K, i, C.d, C.v, k);
          K.set(i)
      }
  }
  ;
  eU.Oa = function(E) {
      if (E == null)
          return new bT(0,0);
      var K = 0
        , i = E.GEfs ? E.GEfs.v : [{
          v: E
      }];
      for (var G = 0; G < i.length; G++) {
          var C = i[G].v
            , k = 1e4;
          if (C.GELv && !C.GELv.v)
              continue;
          var N = C.GEfk.v.GEft;
          if (N == "GlwE" || N == "Phtc" || N == "BsRl" || N == "PlsW" || N == "Chrm" || N == "Gls" || N == "OcnR")
              k = 0;
          K = Math.max(K, k)
      }
      return new bT(K,K)
  }
  ;
  eU.m7 = function(E) {
      var K = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        , i = [0, .6, .7, .8, 1, 1.2, 1.4, 1.6, 1.8, 2, 2.2, 2.6, 3, 4, 5][E];
      for (var G = 0; G < 13; G++) {
          var C = G - 6;
          K[G] = 1 / (i * Math.sqrt(2 * Math.PI)) * Math.exp(-.5 * (C / i) * (C / i))
      }
      return K
  }
  ;
  eU.qw = function(E, K, i, C, N) {
      var k = eU.m7(N)
        , V = 6
        , j = 13;
      for (var a = 0; a < C; a++)
          for (var e = 0; e < i; e++) {
              var L = a * i + e << 1
                , g = 0
                , I = 0;
              for (var G = 0; G < j; G++) {
                  var h = e + G - V
                    , o = h < 0 ? 0 : h >= i ? i - 1 : h
                    , H = (a * i + o) * 2
                    , A = k[G];
                  g += A * E[H];
                  I += A * E[H + 1]
              }
              K[L] = g;
              K[L + 1] = I
          }
  }
  ;
  eU.D6 = function(E, K, i, C, N) {
      var k = eU.m7(N)
        , V = 6
        , j = 13;
      for (var a = 0; a < C; a++)
          for (var e = 0; e < i; e++) {
              var L = a * i + e << 1
                , g = 0
                , I = 0;
              for (var G = 0; G < j; G++) {
                  var h = a + G - V
                    , o = h < 0 ? 0 : h >= C ? C - 1 : h
                    , H = (o * i + e) * 2
                    , A = k[G];
                  g += A * E[H];
                  I += A * E[H + 1]
              }
              K[L] = g;
              K[L + 1] = I
          }
  }
  ;
  function gx() {}
  gx.Dx = [2, 5, 5, 7, 4, 4];
  gx.WR = "norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
  gx.hr = "Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
  gx.z2 = [[15, 10, 0], [15, 10, 1], [15, 10, 2], [15, 10, 3], [15, 10, 4], [15, 10, 5], [15, 10, 6], [15, 10, 7], [15, 10, 8], [15, 10, 9], [15, 10, 10], [15, 10, 11], [15, 10, 12], [15, 10, 13], [15, 10, 14], [15, 10, 15], [15, 10, 16], [15, 10, 17], [15, 10, 18], [15, 10, 19], [15, 10, 20], [15, 10, 21], [15, 10, 22], [15, 10, 23], [15, 10, 24], [15, 10, 25], [15, 10, 26]];
  gx.vY = ["normal", null, "darken", "multiply", "color-burn", null, null, "lighten", "screen", "color-dodge", null, null, "overlay", "soft-light", "hard-light", null, null, null, null, "difference", "exclusion", null, null, "hue", "saturation", "color", "luminosity"];
  gx.pv = function(E) {
      if (E == "passThrough")
          return "pass";
      return gx.WR[gx.hr.indexOf(E)]
  }
  ;
  gx.Ig = function(E) {
      if (E == "pass")
          return "passThrough";
      return gx.hr[gx.WR.indexOf(E)]
  }
  ;
  gx.getName = function(E) {
      return gx.z2[gx.WR.indexOf(E)]
  }
  ;
  function U() {
      this.rect = null;
      this.SI = "norm";
      this.opacity = 255;
      this.iB = !1;
      this.it = 0;
      this.RE = 0;
      this.fA = [];
      for (var G = 0; G < 10; G++)
          this.fA.push(0, 0, 255, 255);
      this.name = null;
      this.add = {};
      this.buffer = null;
      this.LE = null;
      this.D2 = null;
      this.r = null;
      this.md = null;
      this.a0s = 30;
      this.HW = U.hg();
      this.aiv = U.hg();
      this.afE = U.hg();
      this.aaF = U.hg();
      this.dz = 0;
      this.QK = !1;
      this.rA = null;
      this.W = new U.A1
  }
  U.hg = function() {
      var E = c.w("canvas");
      E.width = E.height = 30;
      return E.getContext("2d")
  }
  ;
  U.A1 = function() {
      this.GE = !0;
      this.aX = !0;
      this.vl = _.I(0);
      this.ab$ = _.I(0);
      this.Lu = null;
      this.i$ = {};
      this.ai6 = null;
      this.tF = null;
      this.FB = null;
      this.JN = null;
      this.lK = null;
      this.n2 = null;
      this.rj = null;
      this.C5 = null;
      this.EP = null;
      this.bY = null;
      this.cj = null;
      this.SX = null;
      this.RS = !1
  }
  ;
  U.A1.prototype.RL = function() {
      this.GE = !1;
      this.aX = !1;
      this.Lu = null;
      this.RS = Y.vD
  }
  ;
  U.A1.prototype.a0y = function() {
      h$.bv(this.i$);
      this.vl = _.I(0);
      this.ab$ = _.I(0);
      if (this.JN)
          this.JN.delete();
      if (this.lK)
          this.lK.delete();
      this.JN = null;
      this.lK = null;
      var E = [this.n2, this.rj, this.C5, this.EP, this.bY, this.cj];
      for (var G = 0; G < 6; G++)
          if (E[G] != null && E[G]instanceof Y.U0)
              E[G].delete();
      this.n2 = null;
      this.rj = null;
      this.C5 = null;
      this.EP = null;
      this.bY = null;
      this.cj = null
  }
  ;
  U.prototype.s = function(E) {
      if (E == null)
          E = this.rect.clone();
      if (this.W.Lu == null)
          this.W.Lu = E;
      else
          this.W.Lu = this.W.Lu.ip(E)
  }
  ;
  U.prototype.Uf = function() {
      return this.add.lsct == c5.qd || this.add.lsct == c5.Kw
  }
  ;
  U.prototype.bm = function() {
      var E = this.add;
      return E.SoCo != null || E.GdFl != null || E.PtFl != null
  }
  ;
  U.prototype.vs = function() {
      var E = this.add.lmfx;
      if (E == null)
          return;
      var K = ["GrFl", "patternFill"];
      for (var G = 0; G < K.length; G++) {
          var i = ao.Y9[ao.order.indexOf(K[G])]
            , C = E[i].v;
          if (C.length == 0)
              continue;
          for (var N = 0; N < C.length; N++) {
              var k = C[N].v;
              if (k.enab.v && (k.Algn == null || !k.Algn.v))
                  this.W.aX = !0
          }
      }
  }
  ;
  U.prototype.z6 = function() {
      var E = this.r;
      if (this.bm())
          E = this.$Y();
      if (!Y.vD)
          return E.UN();
      if (this.W.lK == null || this.W.GE || Y.vD != this.W.RS) {
          if (this.W.lK)
              this.W.lK.delete();
          this.W.lK = new Y.Ti(E.Qc().d,E.Qc().v);
          this.W.lK.set(E.UN())
      }
      return this.W.lK
  }
  ;
  U.prototype.Qi = function(E) {
      var K = this.rect
        , i = this.buffer;
      if (!Y.vD) {
          var C = this.mc(E, i, K);
          if (C) {
              i = C.OR;
              K = C.rect
          }
          return i
      }
      if (this.W.Lu != null || Y.vD != this.W.RS) {
          var C = this.mc(E, i, K);
          if (C) {
              i = C.OR;
              K = C.rect
          }
          var N = K;
          if (Y.vD != this.W.RS || this.W.JN == null || this.W.JN.d != N.d || this.W.JN.v != N.v) {
              if (this.W.JN)
                  this.W.JN.delete();
              this.W.JN = new Y.U0(N.d,N.v);
              this.W.JN.set(i)
          } else {
              var k = this.W.Lu.clone();
              k.offset(-K.x, -K.y);
              this.W.JN.set(i, k)
          }
      }
      return this.W.JN
  }
  ;
  U.prototype.bt = function() {
      var E = this.r;
      if (this.bm())
          E = this.$Y();
      return E != null && E.isEnabled && (E.Gk() == 0 || E.Gk() != 0 && !E.rect.OL())
  }
  ;
  U.prototype.mc = function(E, K, i) {
      if (this.XQ()) {
          var C = this.uy(E);
          if (C.r && C.r.isEnabled && (!C.r.rect.OL() || C.r.color == 0)) {
              var N = this.add.SoLd.filterFX.v;
              C.r.ZD = N.filterMaskDensity ? N.filterMaskDensity.v : 255;
              C.r.zo = N.filterMaskFeather ? N.filterMaskFeather.v : 0;
              var k = C.buffer
                , V = C.r.or(i);
              _.KP(V);
              K = K.slice(0);
              _.p._H(k, C.rect, K, i, V, i, 0, i, 1);
              return {
                  OR: K,
                  rect: i
              }
          }
      }
  }
  ;
  U.prototype.ai0 = function() {
      var E = {
          v_: !1,
          SG: !1,
          e7: 0,
          m9: 0
      };
      if (this.add.vmsk && this.add.vmsk.isEnabled)
          E.SG = !0;
      if (this.$Y() && this.$Y().isEnabled)
          E.v_ = !0;
      if (E.v_ && E.SG) {
          E.e7 = this.$Y().rect.x - this.add.vmsk.$Y().rect.x;
          E.m9 = this.$Y().rect.y - this.add.vmsk.$Y().rect.y
      }
      return E
  }
  ;
  U.prototype.Kf = function(E) {
      if (this.add.lsct == c5.XG)
          return;
      var K = this
        , i = this.$Y() != null && this.$Y().bZ
        , C = this.add.vmsk != null && this.add.vmsk.bZ
        , N = this.ai0()
        , k = JSON.stringify(N) != this.W.ai6 || N.v_ && i || N.SG && C;
      if (k) {
          if (N.SG) {
              var V = this.add.vmsk.$Y();
              if (N.v_) {
                  this.r = this.$Y().M8(V);
                  this.W.tF = new bT(this.r.rect.x - this.$Y().rect.x,this.r.rect.y - this.$Y().rect.y)
              } else
                  this.r = V
          }
          if (this.r)
              this.W.GE = !0;
          if (this.r)
              this.W.FB = new bT(this.rect.x - this.r.rect.x,this.rect.y - this.r.rect.y);
          if (N.v_)
              this.$Y().bZ = !1;
          if (N.SG)
              this.add.vmsk.bZ = !1;
          this.s()
      } else {
          if (N.v_ && N.SG) {
              this.r.rect.x = this.$Y().rect.x + this.W.tF.x;
              this.r.rect.y = this.$Y().rect.y + this.W.tF.y
          }
      }
      if (K.bm()) {
          this.qy(E)
      }
      if (K.Qs()) {
          var j;
          if (this.r)
              j = new bT(this.rect.x - this.r.rect.x,this.rect.y - this.r.rect.y);
          if (this.r && this.r.isEnabled && (this.W.FB == null || !j.Ql(this.W.FB))) {
              this.W.FB = j;
              this.s();
              this.W.GE = !0
          }
      }
      if (gM.get(K.add) != null)
          this.W.GE = !0;
      this.W.ai6 = JSON.stringify(N)
  }
  ;
  U.prototype.qy = function(E) {
      var K = this, i = K.add.vstk, C, N = K.add.vmsk ? this.add.vmsk.$Y() : null, j = !0;
      if (N && N.isEnabled && N.Gk() == 0)
          C = N.Qc().clone();
      else
          C = new h4(0,0,E.d,E.v);
      var k = K.$Y();
      if (k && k.isEnabled && k.Gk() == 0)
          C = C.lx(K.r.Qc());
      var V = N && i;
      if (i && (!i.strokeEnabled.v || i.strokeStyleLineWidth.v.val == 0))
          V = !1;
      if (i && !i.fillEnabled.v && V)
          j = !1;
      var a = _.I(C.X() * 4);
      if (j) {
          if (K.add.SoCo)
              h$.Hk(a, K.add.SoCo.Clr.v);
          if (K.add.GdFl)
              h$.XJ(K.add.GdFl, a, C, E, null, N && N.color == 0 ? N.rect : null);
          if (K.add.PtFl)
              h$.Vj(K.add.PtFl, a, C, E, K.add.fxrp)
      }
      if (N) {
          var e = N.ZD;
          if (V)
              N.ZD = 255;
          var L = _.I(C.X());
          if (N.Gk() != 0)
              L.fill(Math.round(N.Gk()));
          if (N && N.isEnabled) {
              var g = N.Qc()
                , I = N.UN();
              if (g.Ql(C))
                  _.uJ(I, L);
              else
                  _.ie(I, g, L, C)
          }
          if (K.add.SoCo && j) {
              _.lM(L, a, 3)
          } else
              _.qY(L, C, a, C);
          if (V)
              N.ZD = e
      }
      K.buffer = a;
      K.rect = C;
      if (V) {
          var h = ao.S6.Ee.indexOf(i.strokeStyleLineAlignment.v.strokeStyleLineAlignment)
            , o = i.strokeStyleContent.v
            , H = ao.S6.gk.indexOf(o.classID)
            , A = this.add.vmsk.$Y(i);
          if (K.rect.Ql(new h4(0,0,E.d,E.v)))
              K.rect = K.rect;
          else if (h != 0) {
              var S = K.rect.ip(A.Qc())
                , v = _.I(S.X() * 4);
              _.p8(K.buffer, K.rect, v, S);
              K.buffer = v;
              K.rect = S
          }
          var e = A.ZD;
          A.ZD = 255;
          var s = A.or(K.rect);
          A.ZD = e;
          if (A.color == 255)
              _.KP(s);
          var D = _.I(K.rect.X() * 4);
          if (H == 0)
              h$.Hk(D, o.Clr.v);
          if (H == 1)
              h$.XJ(o, D, K.rect, E, null, N.color == 0 ? N.rect : null);
          if (H == 2)
              h$.Vj(o, D, K.rect, E, K.add.fxrp);
          var F = i.strokeStyleOpacity.v.val / 100;
          if (F != 1)
              _.Fj(s, F);
          _.lM(s, D, 3);
          if (A.color == 255)
              h = 2 - h;
          if (h == 0) {
              _.p.JA("norm", D, K.rect, K.buffer, K.rect, K.rect, 1);
              _.qY(L, K.rect, K.buffer, K.rect)
          }
          if (h == 1) {
              _.p.JA("norm", D, K.rect, K.buffer, K.rect, K.rect, 1)
          }
          if (h == 2) {
              _.KP(L);
              _.p._H(D, K.rect, K.buffer, K.rect, L, C, 255, K.rect, 1, !1);
              _.KP(L)
          }
          if (A.ZD != 255) {
              var y = D.slice(0);
              _.EE(y, 4278190080, 16777215);
              _.p.JA("norm", y, K.rect, K.buffer, K.rect, K.rect, 1 - A.ZD / 255)
          }
          e = N.ZD;
          N.ZD = 255;
          this.ab$ = N.or(K.rect);
          N.ZD = e
      }
      this.s()
  }
  ;
  U.prototype.z_ = function(E, K) {
      var i = this
        , C = i.add.SoLd.Idnt.v
        , N = i.add.SoLd
        , k = _.$.Rk(u._.ph(N.nonAffineTransform))
        , V = E.ez(C, N.Crop ? N.Crop.v : null, [k.d, k.v], N.Impr.v.classID);
      if (V == null)
          return;
      var j = V.Y0;
      N.Sz.v.Wdth.v = j[1].d;
      N.Sz.v.Hght.v = j[1].v;
      var a = N.warp.v
        , e = u._.ph(N.nonAffineTransform)
        , L = _.J.hv(e, j[1]);
      if (a && !_.oC._9(a)) {
          var k = _.$.Rk(_.oC.T4(a))
            , g = k.x
            , I = k.y
            , h = 1 / k.d
            , o = 1 / k.v;
          L = _.J.hv(e);
          L = _.J.M8(L, [h, 0, -g * h, 0, o, -I * o, 0, 0])
      }
      var H = u._.rQ(j, K ? 0 : 1, L, a, null, null, null, K);
      if (H == null) {
          i.buffer = _.I();
          i.rect = new h4
      } else if (i.XQ()) {
          var A = i.uy(E);
          A.buffer = H.buffer;
          A.rect = H.rect.clone();
          this.Yx(E, K)
      } else {
          i.buffer = H.buffer;
          i.rect = H.rect
      }
      i.Kf(E);
      i.s();
      E.s()
  }
  ;
  U.prototype.Yx = function(E, K) {
      if (K == null)
          K = !1;
      var i = this.uy(E)
        , C = this.add.SoLd.filterFX.v
        , N = ef.afm(C)
        , k = new h4(0,0,E.d,E.v)
        , V = i.rect.ip(k)
        , j = i.rect.clone();
      j.Lv(N.x, N.y);
      var a = {
          buffer: null,
          rect: V.lx(j)
      };
      a.buffer = _.I(a.rect.X() * 4);
      _.p8(i.buffer, i.rect, a.buffer, a.rect);
      if (C.enab.v && K == !1) {
          var e = C.filterFXList.v;
          for (var G = 0; G < e.length; G++) {
              var L = e[G].v;
              if (L.enab.v == !1)
                  continue;
              var g = L.blendOptions.v
                , I = gx.pv(g.Md.v.BlnM)
                , h = g.Opct.v.val / 100
                , o = _.V.Gk(L.FrgC.v)
                , H = _.V.Gk(L.BckC.v)
                , A = ef.o6(L)
                , S = {
                  buffer: _.I(a.buffer.length),
                  rect: a.rect.clone()
              }
                , v = L.Fltr ? L.Fltr.v : null;
              if (gM.pX[A] != null) {
                  var s = gM.pX[A]
                    , D = gM.CZ(s, v);
                  if (D)
                      gM.aL(D, a.buffer, S.buffer, a.rect)
              } else
                  ef.aL(A, a, v, o, H, S, [E.add.lnk2 ? E.add.lnk2 : [], this.$Y(), E.h_]);
              if (I == "norm" && h == 1)
                  a = S;
              else if (I == "norm") {
                  _.p._H(S.buffer, S.rect, a.buffer, a.rect, null, null, null, a.rect, h)
              } else {
                  _.p.JA(I, S.buffer, S.rect, a.buffer, a.rect, a.rect, h)
              }
          }
      }
      this.rect = a.rect;
      this.buffer = a.buffer;
      this.NU();
      this.s();
      E.s()
  }
  ;
  U.prototype.df = function(E, K, i) {
      this.rA = this.PF(E, K, i)
  }
  ;
  U.prototype.as = function(E, K) {
      var i = this.PF(E, K, !0);
      if (i == null)
          return null;
      var C = {
          HE: i.dz,
          UE: i.Gf,
          rect: i.BC
      };
      if (C.HE == 1 || C.HE == 3) {
          var N = C.rect
            , k = _.I(N.d * N.v * 4);
          _.lM(C.UE, k, 0);
          _.lM(C.UE, k, 1);
          _.lM(C.UE, k, 2);
          _.Lm(E.N.channel, E.N.rect, k, N);
          C.UE = k
      }
      return C
  }
  ;
  U.prototype.PF = function(E, K, i) {
      var C, N, k, V, j, a, e;
      if (this.dz <= 0) {
          var L = _.I(this.rect.X());
          _.wF(this.buffer, L, 3);
          C = _.zv.fa(K, {
              channel: L,
              rect: this.rect
          }, "intersection");
          if (C == null)
              return null;
          var g = _.NM(C.channel, C.rect);
          V = C.rect.clone();
          j = this.rect.clone();
          N = _.I(V.X() * 4);
          _.p8(this.buffer, j, N, V);
          _.lM(C.channel, N, 3);
          k = this.buffer.slice(0);
          if (!i) {
              var I = K.channel.slice(0);
              _.KP(I);
              _.qY(I, K.rect, k, j)
          }
          a = this.buffer.slice(0);
          e = this.rect.clone()
      }
      if (this.dz == 1 || this.dz == 3) {
          var h = this.dz == 1 ? this.$Y() : this.uy(E).r;
          V = K.rect.clone();
          j = h.rect.clone();
          N = h.Yq(V);
          var k = h.channel.slice(0);
          if (!i)
              _.p.tj(h.color == 255 ? _.w6(V.X()) : _.rV(V.X()), V, k, j, K.channel, V, 1);
          a = h.channel.slice(0);
          e = h.rect.clone()
      }
      return {
          dz: this.dz,
          Gf: N,
          BC: V,
          J8: k,
          Kt: j,
          de: a,
          gV: e
      }
  }
  ;
  U.prototype.OD = function(E, K) {
      var i = this.rA;
      if (i.dz == 0) {
          this.rect = i.gV;
          this.buffer = i.de;
          this.s()
      }
      if (i.dz == 1 || i.dz == 3) {
          var C = i.dz == 1 ? this.$Y() : this.uy(E).r;
          C.channel = i.de;
          C.rect = i.gV;
          if (this.dz == 1) {
              C.bZ = !0;
              this.Kf(E)
          }
          if (this.dz == 3)
              this.s()
      }
      this.rA = K
  }
  ;
  U.prototype.za = function(E, K) {
      if (this.dz <= 0 && K.rect.Ql(this.rect)) {
          var i = _.I(this.rect.X());
          _.wF(this.buffer, i, 3);
          if (_.Ql(E.N.channel, i)) {
              var C = this.rect
                , N = this.buffer;
              this.rA = {
                  dz: this.dz,
                  Gf: N.slice(0),
                  BC: C.clone(),
                  J8: _.I(0),
                  Kt: new h4,
                  de: _.I(0),
                  gV: new h4
              };
              return !0
          }
      }
      var k = this.rA;
      if (k == null)
          return !1;
      if (k.dz != this.dz)
          return !1;
      if (!K.rect.Ql(k.BC))
          return !1;
      var V = k.Kt.ip(k.BC);
      if (k.dz <= 0) {
          if (!V.Ql(this.rect))
              return !1;
          var j = _.I(k.Gf.length >> 2);
          _.wF(k.Gf, j, 3);
          if (!_.Ql(K.channel, j))
              return !1;
          var a = _.I(V.d * V.v * 4);
          _.p8(k.J8, k.Kt, a, V);
          _.p.JA("norm", k.Gf, k.BC, a, V, V, 1);
          return _.Ql(a, this.buffer)
      }
      if (k.dz == 1 || k.dz == 3) {
          var e = k.dz == 1 ? this.$Y() : this.uy(E).r;
          if (!V.Ql(e.rect))
              return !1;
          var L = _.I(V.X());
          L.fill(e.color);
          _.ie(k.J8, k.Kt, L, V);
          _.p.tj(k.Gf, k.BC, L, V, K.channel, V, 1);
          return _.Ql(L, e.channel)
      }
  }
  ;
  U.prototype.lA = function(E, K, i, C) {
      var N = this.rA;
      N.BC.offset(K, i);
      var k = N.Kt.ip(N.BC);
      if (N.dz <= 0) {
          var V = _.I(k.X() * 4);
          _.p8(N.J8, N.Kt, V, k);
          _.p.JA("norm", N.Gf, N.BC, V, k, k, 1);
          this.buffer = V;
          this.rect = k;
          this.s()
      } else {
          var j = this.dz == 1 ? this.$Y() : this.uy(E).r
            , a = _.I(k.X());
          a.fill(j.color);
          _.ie(N.J8, N.Kt, a, k);
          _.p.tj(N.Gf, N.BC, a, k, C.channel, k, 1);
          j.channel = a;
          j.rect = k.clone();
          if (this.dz == 1) {
              j.bZ = !0;
              this.Kf(E)
          }
          if (this.dz == 3)
              this.s()
      }
  }
  ;
  U.prototype.Y1 = function() {
      var E = [-1, 0, 1, 2];
      if (this.r)
          E.push(-2);
      if (this.md)
          E.push(-3);
      return E
  }
  ;
  U.prototype.getName = function() {
      return this.add.luni ? this.add.luni : this.name
  }
  ;
  U.prototype.gv = function(l) {
      this.add.luni = this.name = l
  }
  ;
  U.prototype.IL = function(E) {
      var K = this.add.lnsr
        , i = this.add.TySh;
      if (K == "rend" && i)
          this.gv(cO.Es(i.Ou).replace(/(?:\r\n|\r|\n)/g, " ").slice(0, 32))
  }
  ;
  U.prototype.VD = function() {
      return (this.it & 1 << 1) == 0
  }
  ;
  U.prototype.Qs = function() {
      return (this.it & 1 << 4) == 0
  }
  ;
  U.prototype.Hm = function() {
      return (this.it & 1 << 5) != 0
  }
  ;
  U.prototype.a2C = function() {
      var E = this;
      if (E.add.lnsr != "bgnd") {
          E.add.lnsr = "bgnd";
          E.gv("Background");
          E.add.lspf = 1 << 2
      }
  }
  ;
  U.prototype.a3_ = function() {
      var E = this;
      if (E.add.lnsr == "bgnd") {
          delete E.add.lnsr;
          E.gv("Layer 0");
          E.add.lspf = 0
      }
  }
  ;
  U.prototype.Hv = function(E) {
      var K = this.add.lspf;
      return K == null ? !1 : (K >> E & 1) != 0
  }
  ;
  U.prototype.HU = function(E) {
      if (E && !this.VD())
          this.it -= 2;
      if (!E && this.VD())
          this.it += 2
  }
  ;
  U.prototype.Nz = function() {
      var E = this.add.lmfx;
      if (E == null)
          return !1;
      for (var K in E) {
          if (K == "masterFXSwitch")
              continue;
          if (K == "Scl")
              continue;
          if (K == "classID")
              continue;
          if (E[K].v.length > 0)
              return !0
      }
      return !1
  }
  ;
  U.prototype.XQ = function() {
      return this.add.SoLd != null && this.add.SoLd.filterFX != null
  }
  ;
  U.prototype.yZ = function() {
      var E = this.add.lmfx;
      if (E == null)
          return !1;
      if (!E.masterFXSwitch.v)
          return !1;
      for (var K in E) {
          if (K == "masterFXSwitch")
              continue;
          if (K == "Scl")
              continue;
          if (K == "classID")
              continue;
          var i = E[K].v;
          for (var G = 0; G < i.length; G++)
              if (i[G].v.enab.v)
                  return !0
      }
      return !1
  }
  ;
  U.prototype.p2 = function(E, K, i, C) {
      var N = new h4
        , k = this.uw(E, i, C);
      if (k.indexOf(0) != -1)
          N = N.ip(this.rect);
      if (k.indexOf(1) != -1)
          N = N.ip(this.$Y().Qc());
      if (k.indexOf(2) != -1) {
          var V = this.add.vmsk, j;
          if (K) {
              if (V.hs.length > 1) {
                  var a = _.Y.ZX(V.b, null, V.hs);
                  j = _.$.Rk(a)
              } else
                  j = _.Y.HD(V.b, V.C.length != 0 ? V.C : null)
          } else
              j = _.Y.HD(V.b);
          N = N.ip(j)
      }
      if (k.indexOf(3) != -1)
          N = N.ip(this.uy(E).r.Qc());
      if (k.length == 0 && this.bm())
          N = new h4(0,0,E.d,E.v);
      return N
  }
  ;
  U.prototype.z3 = function() {
      var E = this.add.artb
        , K = E.artboardBackgroundType.v
        , i = 0;
      if (K == 1)
          i = 4294967295;
      else if (K == 2)
          i = 4278190080;
      else if (K == 3)
          i = 0;
      else if (K == 4) {
          i = E.Clr.v;
          i = 255 << 24 | i.Bl.v << 16 | i.Grn.v << 8 | i.Rd.v
      } else
          throw K;
      return i
  }
  ;
  U.prototype.vH = function() {
      var E = this.add.artb.artboardRect.v
        , K = E.Btom.v
        , i = E.Left.v
        , C = E.Rght.v
        , top = E.Top.v;
      return new h4(i,top,C - i,K - top)
  }
  ;
  U.prototype.Xx = function(E) {
      var K = U.pD(E);
      if (this.add.artb == null)
          this.add.artb = {
              classID: "artboard",
              artboardRect: {
                  t: "Objc",
                  v: null
              },
              artboardBackgroundType: {
                  t: "long",
                  v: 1
              }
          };
      this.add.artb.artboardRect.v = K
  }
  ;
  U.pD = function(E) {
      var K = {
          classID: "classFloatRect",
          Top: {
              t: "doub",
              v: 0
          },
          Left: {
              t: "doub",
              v: 0
          },
          Btom: {
              t: "doub",
              v: 0
          },
          Rght: {
              t: "doub",
              v: 0
          }
      };
      K.Btom.v = E.y + E.v;
      K.Left.v = E.x;
      K.Rght.v = E.x + E.d;
      K.Top.v = E.y;
      return K
  }
  ;
  U.prototype.uw = function(E, K, i) {
      var C = []
        , N = this
        , k = this.QK;
      if (!K && N.QK && i) {
          C.push(2)
      } else if (N.dz <= 0 || K) {
          if (N.Qs())
              if (!this.rect.OL())
                  C.push(0);
          if (N.$Y() && !N.$Y().rect.OL())
              if (N.$Y().Rq || K)
                  C.push(1);
          if (N.add.vmsk)
              if (N.add.vmsk.Rq || K)
                  C.push(2);
          if (N.XQ() && N.uy(E).r && !N.uy(E).r.rect.OL())
              C.push(3)
      } else if (N.dz == 1) {
          C.push(1);
          if (N.$Y().Rq && !N.$Y().rect.OL()) {
              if (N.Qs())
                  if (!this.rect.OL())
                      C.push(0);
              if (N.add.vmsk)
                  if (N.add.vmsk.Rq)
                      C.push(2)
          }
      } else if (N.dz == 3 && !N.uy(E).r.rect.OL())
          C.push(3);
      if (N.add.artb && C.indexOf(0) == -1)
          C.push(0);
      C.sort();
      return C
  }
  ;
  U.prototype.$Y = function() {
      var E = this;
      return E.md ? E.md : E.add.vmsk && E.add.vmsk.isEnabled ? null : E.r
  }
  ;
  U.prototype.uy = function(E) {
      var K = this.add.SoLd.placed.v
        , i = E.add.FEid;
      if (i == null)
          return null;
      for (var G = 0; G < i.length; G++)
          if (i[G].id == K)
              return i[G];
      return null
  }
  ;
  U.prototype.extend = function(E) {
      _.a4j(this, E)
  }
  ;
  U.prototype.kA = function(E, K, i) {
      var C = E.clone();
      if (this.yZ()) {
          var N = this.add.lmfx
            , k = K.root.WY(K.t.indexOf(this))
            , V = N.gradientFillMulti.v
            , j = !1;
          for (var G = 0; G < V.length; G++)
              if (V[G].v.enab.v && V[G].v.Algn.v)
                  j = !0;
          if (j)
              C = C.ip(k.Qc(K, !1));
          var a = h$.a3w(this, K, i);
          C.offset(a.x, a.y);
          C.d += a.d;
          C.v += a.v
      }
      return C
  }
  ;
  U.prototype.NU = function() {
      if (this.Qs())
          _.YX(this);
      var E = this.$Y();
      if (E)
          E.NU()
  }
  ;
  U.prototype.clone = function() {
      var E = new U;
      E.rect = this.rect.clone();
      E.buffer = this.buffer.slice(0);
      E.SI = this.SI;
      E.opacity = this.opacity;
      E.iB = this.iB;
      E.it = this.it;
      E.name = this.name;
      E.fA = this.fA.slice(0);
      if (this.r)
          E.r = this.r.clone();
      if (this.md)
          E.md = this.md.clone();
      for (var K in this.add)
          E.add[K] = cc.clone(K, this.add[K]);
      return E
  }
  ;
  U.prototype.zT = function(E) {
      var K = this;
      if (K.add.TySh)
          delete K.add.TySh;
      if (K.add.SoLd) {
          var i = this.mc(E, this.buffer, this.rect);
          if (i) {
              this.buffer = i.OR;
              this.rect = i.rect;
              this.s()
          }
          delete K.add.SoLd
      }
      if (K.add.SoCo || K.add.GdFl || K.add.PtFl) {
          if (K.add.vogk)
              delete K.add.vogk;
          if (K.add.SoCo)
              delete K.add.SoCo;
          if (K.add.GdFl)
              delete K.add.GdFl;
          if (K.add.PtFl)
              delete K.add.PtFl;
          if (K.add.vmsk) {
              console.log(K.md, K.r);
              delete K.add.vmsk;
              if (K.md == null && K.r)
                  delete K.r;
              else if (K.md != null && K.r != null) {
                  K.r = K.md;
                  delete K.md
              }
          }
      }
      if (!K.Uf() && gM.get(K.add) == null && !this.Qs())
          this.it -= 16
  }
  ;
  U.prototype.e_ = function(E) {
      var K = 255
        , i = 0;
      if (E == 2) {
          var C = this.add.SoLd.filterFX.v;
          if (C.filterMaskDensity)
              K = C.filterMaskDensity.v;
          if (C.filterMaskFeather)
              i = C.filterMaskFeather.v
      } else {
          var N = E == 0 ? this.$Y() : this.add.vmsk;
          K = N.ZD;
          i = N.zo
      }
      return {
          Yp: E,
          EW: K,
          mJ: i
      }
  }
  ;
  U.prototype.Zj = function(E) {
      if (E.Yp == 2) {
          var K = this.add.SoLd.filterFX.v;
          if (E.EW == 255)
              delete K.filterMaskDensity;
          else
              K.filterMaskDensity = {
                  t: "long",
                  v: E.EW
              };
          if (E.mJ == 0)
              delete K.filterMaskFeather;
          else
              K.filterMaskFeather = {
                  t: "doub",
                  v: E.mJ
              };
          this.s()
      } else {
          var i = E.Yp == 0 ? this.$Y() : this.add.vmsk;
          i.ZD = E.EW;
          i.zo = E.mJ;
          i.bZ = !0
      }
  }
  ;
  U.prototype.cE = function() {
      var E = this
        , K = E.add.vmsk;
      if (K == null)
          return;
      E.add.vogk = U.cE(K.b)
  }
  ;
  U.cE = function(E) {
      var K = []
        , i = _.Y.oH(E);
      for (var C = 0; C < i; C++)
          K.push(_.U7.rV());
      return K
  }
  ;
  var c5 = {
      hO: 0,
      qd: 1,
      Kw: 2,
      XG: 3
  };
  U.xW = function() {
      this.name = "Mask";
      this.a5 = !1;
      this.vc = {
          h: 255,
          l: 0,
          O: 0
      };
      this.di = 50;
      this.wn = 0;
      this.color = 255;
      this.Rq = !0;
      this.isEnabled = !0;
      this.Rj = !1;
      this.ZD = 255;
      this.zo = 0;
      this.rect = new h4;
      this.channel = _.I(0);
      this.QF = null;
      this.agw = null;
      this.bZ = !0
  }
  ;
  U.xW.prototype.M8 = function(E) {
      if (!this.isEnabled)
          return E;
      var K = new U.xW;
      K.color = Math.round(this.Gk() * E.Gk() / 255);
      if (this.Gk() == 0 && E.Gk() == 0)
          K.rect = this.Qc().lx(E.Qc());
      else if (E.Gk() == 0)
          K.rect = E.Qc().clone();
      else if (this.Gk() == 0)
          K.rect = this.Qc().clone();
      else
          K.rect = this.Qc().ip(E.Qc());
      K.channel = this.or(K.rect);
      K.ZD = 255;
      K.zo = 0;
      var i = E.or(K.rect);
      _.a40(i, K.rect, K.channel, K.rect);
      return K
  }
  ;
  U.xW.prototype.Qc = function() {
      if (this.zo == 0)
          return this.rect;
      var E = Math.ceil(this.zo * 2.2)
        , K = this.rect.clone();
      K.Lv(E, E);
      return K
  }
  ;
  U.xW.prototype.UN = function() {
      if (this.zo == 0 && this.ZD == 255)
          return this.channel;
      if (this.zo == 0) {
          var E = this.channel.slice(0);
          _.KP(E);
          _.Fj(E, this.ZD / 255);
          _.KP(E);
          return E
      }
      var K = this.Qc()
        , i = this.Yq(K)
        , E = _.I(K.X());
      _.Cu.hl(i, E, K, this.zo);
      if (this.ZD != 255) {
          _.KP(E);
          _.Fj(E, this.ZD / 255);
          _.KP(E)
      }
      return E
  }
  ;
  U.xW.prototype.Gk = function() {
      return Math.round(255 - (255 - this.color) * (this.ZD / 255))
  }
  ;
  U.xW.prototype.extend = function(E) {
      _.extend(this, E, this.color)
  }
  ;
  U.xW.prototype.NU = function() {
      if (this.color == 255)
          _.KP(this.channel);
      _.NU(this);
      if (this.color == 255)
          _.KP(this.channel)
  }
  ;
  U.xW.prototype.clone = function() {
      var E = new U.xW;
      E.name = this.name;
      E.a5 = this.a5;
      E.vc = this.vc;
      E.di = this.di;
      E.wn = this.wn;
      E.color = this.color;
      E.Rq = this.Rq;
      E.isEnabled = this.isEnabled;
      E.Rj = this.Rj;
      E.ZD = this.ZD;
      E.zo = this.zo;
      E.rect = this.rect.clone();
      E.channel = this.channel.slice(0);
      return E
  }
  ;
  U.xW.prototype.Yq = function(E, K) {
      if (K == null)
          K = _.I(E.X());
      K.fill(this.color);
      _.ie(this.channel, this.rect, K, E);
      return K
  }
  ;
  U.xW.prototype.or = function(E, K) {
      var i = this.Qc()
        , C = this.UN();
      if (K == null)
          K = _.I(E.X());
      K.fill(this.Gk());
      _.ie(C, i, K, E);
      return K
  }
  ;
  U.ql = function() {
      this.Rq = !0;
      this.isEnabled = !0;
      this.ZD = 255;
      this.zo = 0;
      this.b = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      this.pK = [-3, -3];
      this.PE = !1;
      this.md = null;
      this.bZ = !0;
      this.C = [];
      this.hs = []
  }
  ;
  U.ql.prototype.offset = function(E, K) {
      this.md = this.$Y();
      _.Y.aW(this.b, new fn(1,0,0,1,E,K));
      this.md.rect.offset(E, K)
  }
  ;
  U.ql.prototype.$Y = function(E) {
      if (!this.bZ && this.md && E == null) {
          this.md.isEnabled = this.isEnabled;
          return this.md
      }
      var K = _.Y.HD(this.b)
        , i = "strokeStyleLineAlignment"
        , C = "strokeStyleLineJoinType";
      if (K.X() > 3e4 * 3e4)
          K = new h4(0,0,100,100);
      if (E && E[i].v[i] != "strokeStyleAlignInside") {
          var N = 1;
          if (E[C].v[C] == "strokeStyleMiterJoin") {
              var k = _.Y.amV(this.b)
                , V = k / 2
                , j = Math.sin(V)
                , a = Math.cos(V);
              a /= j;
              j = 1;
              var N = Math.sqrt(a * a + j * j);
              if (isNaN(N) || N < 1)
                  N = 1
          }
          N *= E[i].v[i] == "strokeStyleAlignOutside" ? 1 : .5;
          var e = Math.ceil(E.strokeStyleLineWidth.v.val * N);
          e = Math.min(e, 600);
          K.Lv(e, e)
      }
      K = _.$.BK(K);
      var L = new U.xW;
      L.color = _.Y.mb(this.b) ? 0 : 255;
      L.Rq = this.Rq;
      L.isEnabled = this.isEnabled;
      L.Rj = !0;
      L.rect = K;
      L.ZD = this.ZD;
      L.zo = this.zo;
      L.channel = _.I(L.rect.X());
      if (!K.OL())
          _.Y.a24(this.b, L.channel, L.rect, E);
      if (E == null) {
          this.md = L;
          this.bZ = !1
      }
      return L
  }
  ;
  U.ql.prototype.clone = function() {
      var E = new U.ql;
      E.Rq = this.Rq;
      E.isEnabled = this.isEnabled;
      E.ZD = this.ZD;
      E.zo = this.zo;
      E.b = U.ql.MD(this.b);
      E.pK = this.pK.slice(0);
      E.PE = this.PE;
      E.C = this.C.slice(0);
      E.hs = this.hs.slice(0);
      return E
  }
  ;
  U.ql.prototype.concat = function(E) {
      var K = E.b.slice(2);
      if (K.length == 0)
          return;
      K[0].A0 = 3;
      this.b = this.b.concat(K)
  }
  ;
  U.ql.MD = function(E) {
      var K = [];
      for (var G = 0; G < E.length; G++) {
          var i = E[G];
          if (i.type > 5 || i.type == 0 || i.type == 3)
              K.push(JSON.parse(JSON.stringify(i)));
          else
              K.push({
                  type: i.type,
                  ln: i.ln.clone(),
                  D: i.D.clone(),
                  _8: i._8.clone()
              })
      }
      return K
  }
  ;
  U.ql.ao8 = function(E, K, i) {
      if (E.length != K.length)
          return !1;
      for (var G = 2; G < E.length; G++) {
          var C = E[G]
            , N = K[G];
          if (C.type != N.type)
              return !1;
          if (C.type == 0 || C.type == 3) {
              if (C.length != N.length || !i && C.A0 != N.A0)
                  return !1
          } else if (!C.ln.Ql(N.ln) || !C.D.Ql(N.D) || !C._8.Ql(N._8))
              return !1
      }
      return !0
  }
  ;
  U.ql.prototype.akZ = function() {
      var E = this.b;
      for (var G = 3; G < E.length; G++)
          if (E[G].type == 0 || E[G].type == 3)
              E[G].A0 = -1
  }
  ;
  U.CK = function() {
      this.type = null;
      this.Aa = 2;
      this.V3 = null;
      this.hS = "";
      this.K8 = "";
      this.Xy = "";
      this.open = 0;
      this.raw = null;
      this.Y0 = null;
      this.ad8 = ""
  }
  ;
  U.CK.prototype.clone = function() {
      var E = new U.CK;
      E.type = this.type;
      E.Aa = this.Aa;
      E.V3 = this.V3;
      E.hS = this.hS;
      E.K8 = this.K8;
      E.Xy = this.Xy;
      E.open = this.open;
      E.raw = new Uint8Array(this.raw.buffer.slice(0));
      return E
  }
  ;
  U.CK.prototype.A7 = function(E, K, i) {
      if (i == null)
          i = "none";
      var C = this
        , N = fb.e1(C.raw.buffer)
        , k = N == "svg" || N == "pdf";
      if (C.Y0) {
          var V = K && k && Math.max(C.Y0[1].d, C.Y0[1].v) < Math.max(K[0], K[1]);
          if (!V && i == this.ad8)
              return
      }
      this.ad8 = i;
      if (!k)
          E = 0;
      if (N == null) {
          alert("Unsupported format: " + O.zV(C.raw, 0, 4));
          return null
      }
      var j = fb.vG(N);
      if (j.tW) {
          var a = new bl(name + (N == "psd" ? "" : "-" + N) + ".psd"), e;
          j.VA(C.raw.buffer, a, K);
          var L = new h4(0,0,a.d,a.v);
          if ("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(i) != -1) {
              var g = [];
              for (var G = 0; G < a.t.length; G++) {
                  var I = a.t[G]
                    , h = I.buffer;
                  if (!I.rect.Ql(L)) {
                      h = _.I(L.X() * 4);
                      _.p8(I.buffer, I.rect, h, L);
                      console.log("resizing")
                  }
                  g.push(h)
              }
              e = _.I(L.X() * 4);
              _.stack.stack(g, e, i)
          } else {
              for (var G = 0; G < a.t.length; G++)
                  if (a.t[G].bm())
                      a.t[G].Kf(a);
              a.S8();
              a.s();
              a.L2();
              e = a.A7()
          }
          C.Y0 = [e, L]
      } else if (j) {
          var o = j.VA(C.raw.buffer)[0];
          C.Y0 = [new Uint8Array(o.data), o.UP]
      }
      if (C.Y0) {
          if (E == 1) {
              var h = C.Y0[0]
                , H = C.Y0[1]
                , A = _.I(H.X());
              _.wF(h, A, 3);
              var S = _.NM(A, H)
                , v = _.I(S.X() * 4);
              _.p8(h, H, v, S);
              C.Y0 = [v, S]
          }
          _.Mv(C.Y0)
      }
  }
  ;
  U.CY = "0";
  U.FU = "2";
  U.Ah = "2.5";
  U.o0 = "3";
  U.PG = "4";
  U.G0 = "4.5";
  U.WH = "4.6";
  U.iC = "5";
  U.Ef = "5.5";
  U.WL = "6";
  U.m5 = "7";
  U._I = "7.5";
  U.VM = "8";
  U.ma = "9";
  U.ct = "9.3";
  U.zg = "9.5";
  U.SP = "9.6";
  U.eq = "10";
  U.ZG = "11";
  U.np = "12";
  U.oU = "13";
  U.g2 = "13.5";
  U.Go = "13.7";
  U.zF = "14";
  U.No = "14.5";
  U.mx = "15";
  U.H4 = "16";
  U.kB = "17";
  U.gA = "18";
  U.wp = "19";
  U.Q0 = "19.5";
  U.vn = "19.6";
  U.Sf = "19.7";
  U.k9 = "20";
  U.hQ = "21";
  U.V9 = "21.5";
  U.o4 = "22";
  U.hI = "22.5";
  U.cv = "23";
  U.a9p = "24";
  U.Zd = "25";
  U.Qj = "26";
  U.Q7 = "27";
  U.Bl = "28";
  U.Y6 = "29";
  U.w9 = "30";
  U.SE = "31";
  U.BA = "32";
  U.Qr = "33";
  U.nH = "34";
  U.NP = "35";
  U.Bo = "36";
  U.x0 = "36.5";
  U.BR = "37";
  U.LI = "37.5";
  U.ae5 = "37.6";
  U.tJ = "38";
  U.gL = "38.5";
  U.sp = "38.6";
  U.Qu = "39";
  U.xN = "40";
  U.TG = "41";
  U.QU = "42";
  U.S9 = "50";
  U.S5 = "51";
  U.Dw = "52";
  U.uS = "53";
  U.lw = "54";
  U.IN = "54.5";
  U.sW = "54.6";
  U.u1 = "54.7";
  U.E5 = "54.8";
  U.Sv = "55";
  U.Pk = "56";
  U.Mb = "57";
  U.If = "58";
  U.vz = "59";
  function ej() {
      this.depth = 0;
      this.index = -1;
      this.z = null;
      this.aef = null;
      this.Ju = -1;
      this.children = null;
      this.parent = null;
      this.lf = null
  }
  ej.prototype.W2 = function(E, K) {
      if (this.depth != 0)
          E.push(this.z.getName());
      if (this.children)
          for (var G = 0; G < this.children.length; G++)
              this.children[G].W2(E, K);
      if (E.length > K.Gb.length)
          K.Gb = E.slice(0);
      if (this.depth != 0)
          E.pop()
  }
  ;
  ej.prototype.acU = function() {
      var E = 0;
      if (this.z.Uf()) {
          for (var G = 0; G < this.children.length; G++)
              E += this.children[G].acU()
      } else if (this.z.buffer)
          E += this.z.buffer.length;
      return E
  }
  ;
  ej.prototype.WY = function(E) {
      var K = this.lf[E];
      return this.lf[E]
  }
  ;
  ej.prototype.P8 = function(E, K) {
      var i = this.z;
      if (!i.VD() || i.Hv(2) || i.Hv(31))
          return null;
      if (i.bt()) {
          var C = i.r.rect.ET(E);
          if (!C && i.r.color == 0)
              return
      }
      if (i.Uf()) {
          for (var G = 0; G < this.children.length; G++) {
              var l = this.children[G];
              l.P8(E, K)
          }
      } else if (i.rect.ET(E))
          K.push(this.index)
  }
  ;
  ej.prototype.Wt = function(E, K) {
      var i = this.z;
      if (!i.VD() || i.Hv(2) || i.Hv(31))
          return null;
      if (i.bt()) {
          if (i.r.rect.c9(E)) {
              if (!_.Wt(E, i.r.channel, i.r.rect))
                  return null
          } else if (i.r.color == 0)
              return null
      }
      if (i.Uf()) {
          for (var G = this.children.length - 1; G >= 0; G--) {
              var l = this.children[G]
                , C = l.Wt(E, K);
              if (C && K == null)
                  return C
          }
          return null
      } else if (i.add.TySh && i.rect.c9(E) || _.afT(E, i.buffer, i.rect)) {
          if (K == null)
              return this;
          else
              K.push(this.index)
      }
      return null
  }
  ;
  ej.prototype.agL = function(E) {
      var K = this.z;
      if (!K.VD() || K.Hv(2) || K.Hv(31))
          return null;
      var i = K.add.vmsk;
      if (i && i.isEnabled) {
          var C = _.Y.Wt(i.b, E).EL;
          if (C != -1)
              return {
                  afV: this,
                  afH: C
              }
      }
      if (K.Uf()) {
          for (var G = this.children.length - 1; G >= 0; G--) {
              var l = this.children[G]
                , N = l.agL(E);
              if (N)
                  return N
          }
          return null
      }
      return null
  }
  ;
  ej.prototype.wJ = function(E, K) {
      E.push(this.index);
      if (this.z.Uf()) {
          E.push(this.Ju);
          if (K)
              if (this.z.dz == 1 && this.z.$Y().Rq == !1)
                  return;
          for (var G = 0; G < this.children.length; G++)
              this.children[G].wJ(E)
      }
  }
  ;
  ej.prototype.rP = function(E, K, i) {
      var C = this.z, N, k;
      if (C.Uf() && C.add.artb != null)
          K = C.vH();
      if (K.d > K.v) {
          N = i;
          k = Math.floor(i * (K.v / K.d))
      } else {
          N = Math.floor(i * (K.d / K.v));
          k = i
      }
      if (C.bm() && C.add.vmsk == null || C.add.TySh)
          N = k = Math.max(k, 16);
      else {
          N = Math.max(N, 6);
          k = Math.max(k, 6)
      }
      var V = k
        , j = C.bm() && C.add.vmsk;
      if (j) {
          var a = C.rect.clone(), g, I;
          if (a.OL())
              a = new h4(0,0,20,20);
          var e = a.d
            , L = a.v;
          if (e > L) {
              g = i;
              I = Math.floor(i * (L / e))
          } else {
              g = Math.floor(i * (e / L));
              I = i
          }
          if (g * I == 0)
              g = I = 16;
          _.ia.u_(C.HW, g, I, a, C.buffer, C.rect, !1);
          _.ia.acP(C.HW, g, I);
          V = I
      } else if (C.add.TySh) {
          _.ia.a9W(C.HW, V, V, C.add.TySh)
      } else if (C.add.SoCo) {
          V = Math.max(16, Math.min(N, k));
          _.ia.anB(C.HW, V, V, C.add.SoCo)
      } else if (C.add.GdFl) {
          _.ia.aiP(C.HW, V, V, C.add.GdFl)
      } else if (C.add.PtFl) {
          _.ia.a9P(C.HW, V, V, C.add.PtFl, E)
      } else if (gM.get(C.add) != null) {
          _.ia.a4T(C.HW, V, V, C.add)
      } else if (C.add.SoLd) {
          _.ia.u_(C.HW, N, k, K, C.buffer, C.rect, !1);
          _.ia.a6i(C.HW, N, k, C.add.SoLd)
      } else if (C.Uf()) {
          V = 16
      } else {
          if (C.Qs())
              _.ia.u_(C.HW, N, k, K, C.buffer, C.rect, !1);
          else {
              _.ia.aj$(C.HW, V, V)
          }
      }
      var h = C.$Y();
      if (h)
          _.ia.Bx(C.aiv, N, k, K, h);
      if (C.XQ() && C.uy(E) && C.uy(E).r) {
          var o = C.uy(E).r;
          _.ia.Bx(C.aaF, N, k, K, o)
      }
      if (!j && C.add.vmsk) {
          _.ia.Bx(C.afE, N, k, K, C.add.vmsk.$Y(), !0)
      }
      if (C.add.vmsk || h)
          V = Math.max(V, k);
      C.a0s = Math.max(V, 16);
      if (C.Uf() && C.add.lsct == c5.qd)
          for (var G = 0; G < this.children.length; G++)
              this.children[G].rP(E, K, i)
  }
  ;
  ej.prototype.Ez = function(E, K, i, C) {
      this.depth = i;
      var N = E[K];
      if (C == null)
          C = [];
      this.lf = C;
      if (N.add.lsct == c5.XG) {
          this.aef = N;
          this.Ju = K - 1;
          this.children = [];
          var G = K + 1;
          while (!0) {
              var k = E[G];
              if (k == null)
                  console.log(G, E.length);
              if (k.add.lsct == c5.qd || k.add.lsct == c5.Kw) {
                  if (N.add.lyid == k.add.lyid)
                      N.add.lyid += 16777215;
                  this.z = k;
                  this.index = G - 1;
                  C[this.index] = this;
                  C[K - 1] = this;
                  break
              }
              var V = new ej;
              V.parent = this;
              G = V.Ez(E, G, i + 1, C);
              this.children.push(V)
          }
          return G + 1
      } else {
          this.z = N;
          this.index = K - 1;
          C[this.index] = this;
          return K + 1
      }
  }
  ;
  ej.prototype.D5 = function(E, K, i, C) {
      var N = this.WY(i)
        , k = E;
      while (N.parent != null) {
          k = N.z.kA(k, K, C);
          N = N.parent
      }
      return k
  }
  ;
  ej.prototype.Qc = function(E, K) {
      var i = this.z
        , C = new h4;
      if (!i.VD())
          return C;
      var N = i.$Y();
      if (i.Uf())
          for (var G = 0; G < this.children.length; G++) {
              var k = this.children[G].Qc(E, !0);
              C = C.ip(k)
          }
      else if (gM.get(i.add) != null)
          C = i.bt() && i.r.color == 0 ? i.r.Qc().clone() : new h4(0,0,E.d,E.v);
      else if (i.bm() && i.add.vmsk && i.add.vmsk.isEnabled && i.add.vstk) {
          C = i.rect.clone()
      } else if (i.bm() && N && N.isEnabled && N.Gk() != 0)
          C = new h4(0,0,E.d,E.v);
      else {
          C = i.p2(E, !1, !0);
          if (i.add.vmsk)
              C = _.$.BK(C)
      }
      return K ? i.kA(C, E) : C
  }
  ;
  ej.prototype.cO = function(E, K, i, C, N) {
      var k = this.z
        , V = h$.VW(k);
      if (!k.VD())
          return;
      if (k.opacity == 255) {
          this.E6(E, K, i, C, N);
          return
      }
      var j = E.slice(0);
      this.E6(j, K, i, C, N);
      _.p._H(j, K, E, K, null, null, 0, i, k.opacity / 255, k.SI == "diss")
  }
  ;
  ej.prototype.E6 = function(E, K, i, C, N) {
      var k = this.z, V = h$.VW(k), j = gM.get(k.add) != null, g, o;
      if (k.Uf() && k.SI == "pass" && !k.bt() && !(N.length > 0 || V.fill != 1 || k.yZ())) {
          this.ZM(E, K, i, C);
          return
      }
      var a = k.Uf() && k.SI == "pass" && (N.length > 0 || V.fill != 1 || k.yZ())
        , e = k.rect
        , L = k.buffer;
      if (k.Uf()) {
          e = this.Qc(C, !1);
          var I = _.I(e.X() * 4);
          g = _.I(e.X());
          this.ZM(I, e, i, C);
          _.wF(I, g, 3)
      } else if (j) {
          e = K.clone();
          g = _.I(e.X());
          g.fill(255)
      } else {
          e = k.rect;
          g = _.I(e.X());
          _.wF(L, g, 3)
      }
      if (k.bt()) {
          var h = k.r.or(e);
          _.RK(h, g)
      }
      if (k.yZ())
          o = h$.IY(k.add.lmfx, k.add.fxrp, g, e, C);
      if (k.yZ())
          h$.SC(k.add.lmfx, o, e, E, K, i);
      if (k.Uf()) {
          L = _.I(e.X() * 4);
          if (k.SI == "pass")
              _.p8(E, K, L, e);
          if (a) {
              var I = _.I(e.X() * 4);
              this.ZM(I, e, i, C);
              var H = _.I(e.X());
              _.wF(I, H, 3);
              _.qY(H, e, L, e)
          }
          this.ZM(L, e, i, C)
      }
      if (j) {
          L = E.slice(0);
          _.EE(L, 4278190080, 16777215);
          var A = gM.get(k.add)
            , S = gM.CZ(A, k.add[A]);
          gM.aL(S, L, L, e)
      }
      var v = L.slice(0);
      _.EE(v, 4278190080, 16777215);
      for (var G = 0; G < N.length; G++)
          N[G].cO(v, e, i, C, []);
      var s = _.I(e.X() * 4);
      _.p8(E, K, s, e);
      if (j)
          V.MC = !0;
      _.p.JA(k.SI == "pass" ? "norm" : k.SI, v, e, s, e, i, 1, V);
      if (k.yZ()) {
          var D = k.W.i$.type.FrFX
            , F = null;
          if (D.length != 0) {
              F = D[0];
              for (var G = 0; G < D.length; G++)
                  if (D[G].tl.d > F.tl.d)
                      F = D[G];
              var y = _.I(F.tl.d * F.tl.v * 4);
              _.p8(E, K, y, F.tl)
          }
          h$.$x(k.add.lmfx, o, e, E, K, i, s, y, F ? F.tl : null)
      }
      _.p._H(s, e, E, K, g, e, 0, i, 1, k.SI == "diss")
  }
  ;
  ej.prototype.ZM = function(E, K, i, C) {
      var N = this.children;
      for (var G = 0; G < N.length; G++) {
          var k = [];
          for (var V = G + 1; V < N.length; V++)
              if (N[V].z.iB)
                  k.push(N[V]);
              else
                  break;
          N[G].cO(E, K, i, C, k);
          G += k.length
      }
  }
  ;
  ej.dM = {
      delete: function(E) {
          if (E && E.d)
              E.delete()
      },
      I: function(E, K) {
          return Y.vD ? new Y.U0(E,K) : _.I(E * K * 4)
      },
      _6: function(E, K, i) {
          if (Y.vD) {
              if (E == null || E.d != K || E.v != i) {
                  ej.dM.delete(E);
                  return new Y.U0(K,i)
              }
          } else {
              if (E == null || !(E instanceof Uint8Array) || E.length != K * i * 4) {
                  ej.dM.delete(E);
                  return _.I(K * i * 4)
              }
          }
          return E
      },
      ie: function(E, K, i, C, N) {
          (Y.vD ? Y.dc : _.p8)(E, K, i, C, N)
      },
      _H: function(E, K, i, C, N, k, V, j, G, a, e) {
          (Y.vD ? Y.p.lG : _.p._H)(E, K, i, C, N, k, V, j, G, a, e)
      },
      JA: function(E, K, i, C, N, k, V, j) {
          if (Y.vD)
              Y.p.k6(E, K, i, C, N, k, V, j);
          else
              _.p.JA(E, K, i, C, N, k, V, j)
      },
      EE: function(E, K, i) {
          if (Y.vD) {
              Y.j8(E);
              Y.BP(K, i)
          } else
              _.EE(E, K, i)
      },
      a9o: function(E, K, i, C, N) {
          if (Y.vD) {
              Y.p.lG(null, null, C, N, E, K, i, N, 1, !1)
          } else {
              if (i == 255)
                  _.qY(E, K, C, N);
              else {
                  var k = _.I(K.X());
                  _.yA(C, N, k, K);
                  _.RK(E, k);
                  _.EE(C, 0, 16777215);
                  _.Lm(k, K, C, N)
              }
          }
      },
      wV: function(E, K, i, C) {
          if (Y.vD)
              Y.p.lG(null, null, i, C, E, K, 0, C, 1, !1);
          else
              _.wV(E, K, i, C)
      }
  };
  ej.prototype.UF = function(E, K, i, C, N, k) {
      var V = typeof k == "number";
      if (!this.z.Uf() && (V && this.index > k || !V && k.indexOf(this.index) == -1)) {
          return
      }
      var j = this.z
        , a = h$.VW(j)
        , e = ej.dM
        , L = j.bm() ? j.$Y() : j.r;
      if (!j.VD())
          return;
      if (j.bt() && L.rect.OL()) {
          return
      }
      if (j.add.vstk == null && this.Qc(C, !1).OL() && j.add.artb == null) {
          return
      }
      var g = this.Qc(C, !0).lx(i);
      if (!K.Ql(i) && !i.ET(g) && j.add.artb == null)
          return;
      if (j.Uf() && j.add.artb) {
          var I = j.vH();
          i = i.lx(I);
          var h = j.z3();
          if (h != 0) {
              if (Y.vD) {
                  Y.j8(E, i);
                  Y.BP(h);
                  Y.BP(h)
              } else
                  _.adc(E, K, i, h)
          }
      }
      var o = ej.WU(j, N, a);
      if (!o) {
          this.j1(E, K, i, C, N, k);
          return
      }
      j.W.n2 = e._6(j.W.n2, g.d, g.v);
      e.ie(E, K, j.W.n2, g, i);
      this.j1(j.W.n2, g, i, C, N, k);
      e._H(j.W.n2, g, E, K, null, null, 0, i, j.opacity / 255, j.SI == "diss", a.LJ)
  }
  ;
  ej.WU = function(E, K, i) {
      if (i.LJ[0] * i.LJ[1] * i.LJ[2] == 0)
          return !0;
      return E.opacity != 255 && (K.length != 0 || E.Uf() || E.yZ())
  }
  ;
  ej.a4B = {
      W: {}
  };
  ej.prototype.j1 = function(E, K, i, C, N, k) {
      var V = this.z, j = h$.VW(V), a = gM.get(V.add) != null, e = ej.dM, L = ej.WU(V, N, j), g = L ? 1 : V.opacity / 255, I = V.bm() ? V.$Y() : V.r, h = V.Uf() && V.SI == "pass" && !(N.length > 0 || j.fill != 1 || V.yZ()), o = !V.Uf() && !a && !V.yZ() && N.length == 0, H = a && !V.yZ() && N.length == 0, F = null, y = null, T = null, J;
      if (h || o || H) {
          var A = E
            , S = K;
          if (V.bt()) {
              S = this.Qc(C, !1);
              A = V.W.EP = e._6(V.W.EP, S.d, S.v);
              e.ie(E, K, V.W.EP, S)
          }
          if (h)
              this.d_(A, S, i, C, k);
          if (o)
              e.JA(V.SI, V.Qi(C), V.rect, A, S, i, g, j);
          if (H) {
              var v = V.bt() && I.Gk() == 0 ? I.Qc().clone() : S.clone()
                , s = V.W;
              if (v.Ql(new h4(0,0,C.d,C.v)))
                  s = ej.a4B;
              s.C5 = this.Be(A, S, s.C5, v, V.add);
              j.MC = !0;
              e.JA(V.SI, s.C5, v, A, S, i, g, j)
          }
          if (V.bt())
              e._H(A, S, E, K, V.z6(), I.Qc(), I.Gk(), i, 1, V.SI == "diss");
          V.W.RL();
          return
      }
      var D = V.Uf() && V.SI == "pass" && (N.length > 0 || j.fill != 1 || V.yZ())
        , v = V.rect;
      if (V.Uf()) {
          v = this.Qc(C, !1);
          T = V.W.C5 = e._6(V.W.C5, v.d, v.v);
          e.EE(T, 0);
          this.d_(T, v, v, C, k);
          y = e._6(V.W.rj, v.d, v.v);
          e.ie(T, v, y, v)
      } else if (a) {
          v = V.bt() && I.Gk() == 0 ? I.Qc().clone() : K.clone();
          y = e._6(V.W.rj, v.d, v.v);
          e.EE(y, 4294967295)
      } else {
          v = V.rect;
          F = V.Qi(C);
          y = e._6(V.W.rj, v.d, v.v);
          e.ie(F, v, y, v)
      }
      V.W.rj = y;
      if (V.bt())
          e.a9o(V.z6(), I.Qc(), I.Gk(), y, v);
      if (V.yZ())
          if (V.W.Lu || V.W.aX || V.W.RS != Y.vD || V.W.GE || V.Uf()) {
              var Q = _.I(v.d * v.v);
              if (h$.w7(V.add.lmfx)) {
                  if (Y.vD) {
                      if (!V.Uf() && V.$Y() == null && V.rect.Ql(v))
                          _.wF(V.buffer, Q, 3);
                      else {
                          var B = _.I(v.d * v.v * 4);
                          y.get(B);
                          _.wF(B, Q, 3)
                      }
                  } else
                      _.wF(y, Q, 3)
              }
              if (V.W.aX || V.W.RS != Y.vD || !_.Ql(Q, V.W.vl)) {
                  var r = null;
                  if (V.bm() && V.add.vmsk && V.add.vmsk.isEnabled && V.add.vmsk.$Y().color == 0)
                      r = V.add.vmsk.$Y().rect;
                  h$.agi(V.W.i$, Q, v, V.add.lmfx, V.add.fxrp, C, r);
                  V.W.vl = Q
              }
          }
      if (V.yZ())
          h$.SC(V.add.lmfx, V.W.i$, v, E, K, i);
      if (V.Uf()) {
          F = e._6(V.W.EP, v.d, v.v);
          e.EE(F, 0);
          if (V.SI == "pass")
              e.ie(E, K, F, v);
          if (D)
              e.wV(T, v, F, v);
          this.d_(F, v, i, C, k);
          V.W.EP = F
      }
      if (a) {
          F = V.W.EP = this.Be(E, K, V.W.EP, v, V.add)
      }
      if (V.Uf() || a)
          J = F;
      else {
          J = e._6(V.W.EP, v.d, v.v);
          e.ie(F, v, J, v, i);
          V.W.EP = J
      }
      e.EE(J, 4278190080, 16777215);
      for (var G = 0; G < N.length; G++)
          N[G].UF(J, v, i, C, [], k);
      var m = V.W.bY = e._6(V.W.bY, v.d, v.v);
      e.ie(E, K, m, v, i);
      if (a)
          j.MC = !0;
      e.JA(V.SI == "pass" ? "norm" : V.SI, J, v, m, v, i, 1, j);
      if (V.yZ()) {
          var x = V.W.i$.type.FrFX
            , R = null;
          if (x.length != 0) {
              R = x[0];
              for (var G = 0; G < x.length; G++)
                  if (x[G].tl.d > R.tl.d)
                      R = x[G];
              V.W.cj = e._6(V.W.cj, R.tl.d, R.tl.v);
              e.ie(E, K, V.W.cj, R.tl, i);
              V.W.SX = e._6(V.W.SX, R.tl.d, R.tl.v)
          }
          h$.$x(V.add.lmfx, V.W.i$, v, E, K, i, m, V.W.cj, V.W.SX, R ? R.tl : null)
      }
      if (!Y.vD) {
          var b = _.I(v.X());
          _.wF(y, b, 3);
          y = b
      }
      e._H(m, v, E, K, y, v, 0, i, 1, V.SI == "diss");
      V.W.RL()
  }
  ;
  ej.prototype.Be = function(E, K, i, C, N) {
      var k = gM.get(N), V;
      if (k)
          V = gM.CZ(k, N[k]);
      var j = ej.dM;
      i = j._6(i, C.d, C.v);
      if (!(Y.vD && K.Ql(C)))
          j.ie(E, K, i, C);
      if (V) {
          if (Y.vD) {
              var a = C.clone();
              a.x = a.y = 0;
              if (K.Ql(C)) {
                  Y.j8(i, a);
                  gM.Nk(V, E.k2, a)
              } else {
                  Y.j8(i, C);
                  i.HV(C);
                  gM.Nk(V, i.B6, a)
              }
          } else
              gM.aL(V, i, i, C)
      }
      return i
  }
  ;
  ej.prototype.d_ = function(E, K, i, C, N) {
      var k = this.children;
      for (var G = 0; G < k.length; G++) {
          var V = [];
          for (var j = G + 1; j < k.length; j++)
              if (k[j].z.iB)
                  V.push(k[j]);
              else
                  break;
          k[G].UF(E, K, i, C, V, N);
          G += V.length
      }
  }
  ;
  function bl(E) {
      this.xf = "psd";
      this._t = !1;
      this.name = E;
      this.KR = -1;
      this.LG = null;
      this.oX = null;
      this.Fl = null;
      this.Yz = null;
      this.d = 0;
      this.v = 0;
      this.t = [];
      this.kZ = {};
      this.add = {};
      this.buffer = null;
      this.Ie = 4;
      this.Mh = null;
      this.v9 = 72;
      this.Xp = {};
      this.C = [];
      this.rJ = [[], []];
      this.jX = [];
      this.I9 = [];
      this.xq = [bl.JU("Work Path")];
      this.du = [];
      this.Rn = null;
      this.aZ = {
          classID: "CompList",
          list: {
              t: "VlLs",
              v: []
          }
      };
      this.root = null;
      this.QJ = null;
      this.BJ = !1;
      this.a8_ = !1;
      this.a2p = !1;
      this.tx = !1;
      this.UT = !1;
      this.nK = !1;
      this.aO = !1;
      this._S = !1;
      this.Jk = !1;
      this.yj = !1;
      this.Lu = null;
      this.lI = null;
      this.rA = {};
      this.N = null;
      this.h_ = [];
      this.QZ = [];
      this.K = {
          Ni: {},
          Cn: [],
          amH: [],
          OV: [],
          Tt: [],
          yK: null,
          OU: null,
          qK: null,
          s7: null,
          NK: [],
          AL: []
      };
      this.history = [new fy([1, 0],null)];
      this.tv = 0;
      this.i_ = 0;
      this.a = new gJ(this)
  }
  bl.prototype.C6 = function() {
      var E = this.h_
        , K = this.h_.length;
      if (K != 0 && E[K - 1].name == "Quick Mask")
          return E[K - 1]
  }
  ;
  bl.prototype.vN = function() {
      return this.xf == c.iL("% |/!)") || this.xf == c.nU("gP")
  }
  ;
  bl.prototype.Wl = function(E) {
      this.add.artd = {
          classID: "null",
          Cnt: {
              t: "long",
              v: E
          },
          autoExpandOffset: {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Hrzn: {
                      t: "doub",
                      v: 0
                  },
                  Vrtc: {
                      t: "doub",
                      v: 0
                  }
              }
          },
          origin: {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Hrzn: {
                      t: "doub",
                      v: 0
                  },
                  Vrtc: {
                      t: "doub",
                      v: 0
                  }
              }
          },
          canvasColorMode: {
              t: "enum",
              v: {
                  canvasColorType: "Cstm"
              }
          },
          canvasColor: {
              t: "Objc",
              v: {
                  classID: "RGBC",
                  Rd: {
                      t: "doub",
                      v: 220
                  },
                  Grn: {
                      t: "doub",
                      v: 220
                  },
                  Bl: {
                      t: "doub",
                      v: 220
                  }
              }
          },
          autoExpandEnabled: {
              t: "bool",
              v: !0
          },
          autoNestEnabled: {
              t: "bool",
              v: !0
          },
          autoPositionEnabled: {
              t: "bool",
              v: !0
          }
      }
  }
  ;
  bl.prototype.cB = function(E) {
      if (this.add.FEid == null)
          this.add.FEid = [];
      if (this.add.FEid.indexOf(E) == -1)
          this.add.FEid.push(E)
  }
  ;
  bl.prototype.I7 = function(E) {
      var K = this.add.FEid.indexOf(E);
      this.add.FEid.splice(K, 1);
      if (this.add.FEid.length == 0)
          delete this.add.FEid
  }
  ;
  bl.prototype.s = function(E) {
      if (E == null)
          E = new h4(0,0,this.d,this.v);
      if (this.Lu == null)
          this.Lu = E;
      else
          this.Lu = this.Lu.ip(E)
  }
  ;
  bl.prototype.akk = function(E) {
      return this.Lu != null
  }
  ;
  bl.prototype.Lj = function(E) {
      var K = this.t[E]
        , i = this.root.WY(E);
      if (i == null)
          return !1;
      if (K.Uf() || i.parent.children.indexOf(i) == 0)
          return !1;
      return !0
  }
  ;
  bl.anE = function(E) {
      if (E.add.lnk2)
          for (var G = 0; G < E.add.lnk2.length; G++) {
              var K = E.add.lnk2[G].V3;
              E.add.lnk2[G].V3 = bl.Eu() + K.slice(8);
              for (var i = 0; i < E.t.length; i++) {
                  var C = E.t[i].add.SoLd;
                  if (C && C.Idnt.v == K)
                      C.Idnt.v = E.add.lnk2[G].V3
              }
          }
  }
  ;
  bl.prototype.BQ = function(E, K, i) {
      E.sort(function(g, I) {
          return g - I
      });
      var top = E[E.length - 1]
        , C = this.t.slice(0)
        , N = this.C.slice(0)
        , k = []
        , V = [];
      for (var G = 0; G < this.t.length; G++) {
          if (E.indexOf(G) != -1)
              V.push(this.t[G]);
          else
              k.push(this.t[G])
      }
      this.qk(V);
      this.C = [];
      var j = this.root.Qc(this, !0);
      if (K)
          j = j.lx(K);
      if (i)
          j = j.ip(i);
      if (j.OL())
          j = new h4(0,0,100,100);
      var a = new h4(-j.x,-j.y,this.d,this.v)
        , e = new Uint8Array(fb.vG("PSD").PW(this, 0, 0, [!0, !1]));
      this.qk(C);
      this.C = N;
      var L = new bl(this.t[top].getName());
      fb.vG("PSD").VA(e.buffer, L);
      delete L.add.artd;
      L.rJ = [[], []];
      L.jX = [];
      L.qk(L.t);
      bl.anE(L);
      u.S7.P9(L, j);
      L.s();
      L.L2();
      L.A7();
      return [L, j, k, top]
  }
  ;
  bl.prototype.Fa = function(E, K, i) {
      var C = this.BQ(E), N = C[0], k = C[1], V = C[2], top = C[3], j;
      if (i == "jpg")
          j = new Uint8Array(fb.vG("JPG").PW([[N.A7().buffer]], N.d, N.v, [80]));
      else
          j = new Uint8Array(fb.vG("PSD").PW(N, null, null, [!0, !1]));
      if (K)
          V = this.t.slice(0);
      var a = this.Yn(j, N.name, k.x, k.y);
      if (top == this.t.length - 1)
          V.push(a);
      else
          V.splice(K ? top + 1 : top - E.length + 1, 0, a);
      this.qk(V);
      this.C = [V.indexOf(a)]
  }
  ;
  bl.Eu = function() {
      var E = "";
      for (var G = 0; G < 8; G++)
          E += Math.floor(Math.random() * 16).toString(16);
      return E
  }
  ;
  bl.prototype.fN = function(E) {
      if (E == null)
          return;
      if (this.add.Patt == null)
          this.add.Patt = [];
      var K = this.add.Patt;
      for (var G = 0; G < K.length; G++)
          if (K[G].id == E.id)
              return;
      K.push(E)
  }
  ;
  bl.prototype.Yn = function(E, K, i, C, N) {
      if (this.add.lnk2 == null)
          this.add.lnk2 = [];
      var k = null
        , g = !1;
      for (var G = 0; G < this.add.lnk2.length; G++)
          if (_.Ql(E, this.add.lnk2[G].raw)) {
              k = this.add.lnk2[G].V3;
              break
          }
      if (k == null) {
          var V = fb.e1(E.buffer);
          k = bl.Eu() + "-d71c-11e5-b1ae-a548a96e5f9f";
          var j = new U.CK;
          j.V3 = k;
          j.Xy = V == "psd" ? "8BIM" : "    ";
          j.hS = K + "." + V;
          j.K8 = V == "psd" ? "8BPB" : "    ";
          j.open = 0;
          j.raw = E;
          j.type = "liFD";
          j.Aa = 2;
          this.add.lnk2.push(j)
      }
      var a = this.ez(k)
        , e = bl.Eu() + "-d71c-11e5-b1ae-a548a96e5f9f"
        , L = this.qV();
      L.gv(K);
      if (a != null) {
          var I = L.rect = a.Y0[1].clone();
          L.rect.offset(i, C);
          var h = Math.max(I.d / this.d, I.v / this.v)
            , g = N && h > 1.0001;
          if (g) {
              I.d = Math.round(I.d / h);
              I.v = Math.round(I.v / h);
              I.x = Math.round((this.d - I.d) / 2);
              I.y = Math.round((this.v - I.v) / 2)
          } else if (N && fb.e1(E.buffer) == "pdf" && this.v9 != 144) {
              var h = 144 / this.v9;
              I.d = Math.round(I.d / h);
              I.v = Math.round(I.v / h);
              g = !0
          }
          L.buffer = _.I(L.rect.X() * 4);
          if (!g)
              _.uJ(a.Y0[0], L.buffer)
      }
      L.add.SoLd = {
          classID: "null",
          Idnt: {
              t: "TEXT",
              v: k
          },
          Impr: {
              t: "Objc",
              v: {
                  __name: "None",
                  classID: "none"
              }
          },
          placed: {
              t: "TEXT",
              v: e
          },
          PgNm: {
              t: "long",
              v: 1
          },
          totalPages: {
              t: "long",
              v: 1
          },
          frameStep: {
              t: "Objc",
              v: {
                  classID: "null",
                  numerator: {
                      t: "long",
                      v: 0
                  },
                  denominator: {
                      t: "long",
                      v: 600
                  }
              }
          },
          duration: {
              t: "Objc",
              v: {
                  classID: "null",
                  numerator: {
                      t: "long",
                      v: 0
                  },
                  denominator: {
                      t: "long",
                      v: 600
                  }
              }
          },
          frameCount: {
              t: "long",
              v: 1
          },
          Annt: {
              t: "long",
              v: 16
          },
          Type: {
              t: "long",
              v: 2
          },
          Trnf: null,
          nonAffineTransform: null,
          warp: {
              t: "Objc",
              v: _.oC.I(L.rect)
          },
          Sz: {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Wdth: {
                      t: "doub",
                      v: L.rect.d
                  },
                  Hght: {
                      t: "doub",
                      v: L.rect.v
                  }
              }
          },
          Rslt: {
              t: "UntF",
              v: {
                  type: "#Rsl",
                  val: 72
              }
          }
      };
      var o = _.$.X6(L.rect).H;
      L.add.SoLd.Trnf = u._.j6(o);
      L.add.SoLd.nonAffineTransform = u._.j6(o);
      if (g)
          L.z_(this, !1);
      return L
  }
  ;
  bl.prototype.A7 = function(E) {
      if (E != null) {
          this.s();
          this.L2(E);
          var K = this.buffer;
          if (Y.vD)
              this.QJ.get(K);
          else
              K = K.slice(0);
          this.s();
          this.L2();
          return K
      }
      if (this.Lu) {
          this.L2();
          this.Lu = null
      }
      if (Y.vD && this.lI) {
          this.QJ.get(this.buffer);
          this.lI = null;
          this.aO = !0
      }
      return this.buffer
  }
  ;
  bl.prototype.G_ = function() {
      for (var G = 0; G < this.t.length; G++)
          this.t[G].vs();
      this.s()
  }
  ;
  bl.prototype.Wv = function() {
      for (var G = 0; G < this.t.length; G++)
          if (this.t[G].add.lmfx)
              this.t[G].W.aX = !0
  }
  ;
  bl.prototype.tu = function() {
      var E = this.kZ.r1044;
      if (E == null) {
          E = this.kZ.r1044 = new Uint8Array(4);
          var K = 0;
          for (var G = 0; G < this.t.length; G++)
              K = Math.max(K, this.t[G].add.lyid);
          O.P0(E, 0, K)
      }
      var i = O.n(E, 0);
      O.P0(E, 0, i + 1);
      return i + 1
  }
  ;
  bl.prototype.Os = function(E, K, i) {
      if (E == null)
          E = !0;
      var C = this;
      if (C.QZ.length != 0)
          return !0;
      if (C.C.length != 1) {
          if (E)
              alert(C.C.length == 0 ? "Select a layer first." : "More than one layer selected.");
          return !1
      }
      return this.Uq(E, K, i)
  }
  ;
  bl.prototype.Uq = function(E, K, i) {
      if (E == null)
          E = !0;
      if (K == null)
          K = !1;
      var C = this;
      if (C.QZ.length != 0)
          return !0;
      for (var G = 0; G < C.C.length; G++) {
          var N = C.t[C.C[G]]
            , k = K || N.dz <= 0;
          if (N.add.lsct != null && N.add.lsct != c5.hO && N.dz != 1) {
              if (E)
                  alert(i2.get([15, 7, 2]));
              return !1
          }
          if (k && !N.Qs()) {
              if (E)
                  alert(i2.get([15, 7, 2]));
              return !1
          }
          if (k && N.add.TySh) {
              return this.lU(E, [15, 7, 3], i)
          }
          if (k && N.add.SoLd) {
              return this.lU(E, [15, 7, 4], i)
          }
          if (N.Hv(1) || N.Hv(31)) {
              if (E)
                  alert(i2.get([6, 57, 0]));
              return !1
          }
      }
      return !0
  }
  ;
  bl.prototype.lU = function(E, K, i) {
      if (E && typeof E == "object") {
          var C = window.confirm(i2.get(K) + ". " + i2.get([6, 8]) + "?");
          if (C) {
              var N = new q(c.E.J5,!0);
              N.data = {
                  bT: "rasterizeLayer",
                  v4: {
                      classID: "rasterizeLayer",
                      null: bY.Ve("Lyr", !0)
                  }
              };
              E.U(N)
          }
          return i ? C : !1
      }
      if (E)
          alert(i2.get(K));
      return !1
  }
  ;
  bl.prototype.Oj = function(E) {
      var K = this.root.WY(E);
      if (K.parent)
          return K.z.VD() && this.Oj(K.parent.index);
      else
          return K.z.VD()
  }
  ;
  bl.prototype.ai = function(E) {
      var K = this.root.WY(E);
      if (K == null)
          return null;
      var i = K.z;
      if (i.add.artb)
          return i.vH();
      if (K.parent)
          return this.ai(K.parent.index);
      return null
  }
  ;
  bl.prototype.i1 = function() {
      var E = this.t[this.C[0]];
      if (E.dz <= 0 && !E.rect.ET(this.N.rect)) {
          alert("Selected area is empty.");
          return !1
      }
      if (this.C.length == 1 && this.N) {
          var K = _.I(this.N.channel.length);
          _.yA(E.buffer, E.rect, K, this.N.rect);
          _.RK(this.N.channel, K);
          if (_.K9(K, 0)) {
              alert("Selected area is empty.");
              return !1
          }
      }
      return !0
  }
  ;
  bl.prototype.IQ = function() {
      if (this.kZ["r" + 1037] == null)
          this.wj(30);
      return O.Ex(this.kZ["r" + 1037], 0)
  }
  ;
  bl.prototype.wj = function(E) {
      if (this.kZ["r" + 1037] == null)
          this.kZ["r" + 1037] = new Uint8Array(4);
      if (O.Ex(this.kZ["r" + 1037], 0) == E)
          return;
      O.c2(this.kZ["r" + 1037], 0, E);
      this.Wv()
  }
  ;
  bl.prototype.My = function() {
      if (this.kZ["r" + 1049] == null)
          this.NY(30);
      return O.Ex(this.kZ["r" + 1049], 0)
  }
  ;
  bl.prototype.NY = function(E) {
      if (this.kZ["r" + 1049] == null)
          this.kZ["r" + 1049] = new Uint8Array(4);
      if (O.Ex(this.kZ["r" + 1049], 0) == E)
          return;
      O.c2(this.kZ["r" + 1049], 0, E);
      this.Wv()
  }
  ;
  bl.prototype.W4 = function(E) {
      if (this.add.lnk2 == null)
          return null;
      for (var G = 0; G < this.add.lnk2.length; G++)
          if (this.add.lnk2[G].V3 == E)
              return this.add.lnk2[G];
      return null
  }
  ;
  bl.prototype.ags = function(E) {
      var K = this.W4(E);
      if (K == null)
          return !1;
      var i = fb.e1(K.raw.buffer);
      if (i == null)
          return !1;
      if (fb.vG(i) != null || i == "psd")
          return !0;
      return !1
  }
  ;
  bl.prototype.ez = function(E, K, i, C) {
      var N = this.W4(E);
      if (N == null)
          return null;
      N.A7(K, i, C);
      if (N.Y0)
          return N
  }
  ;
  bl.prototype.Ce = function() {
      var E = this.d
        , K = this.v;
      if (Y.vD && this.QJ == null)
          this.QJ = new Y.U0(E,K,!0);
      if (this.buffer == null || this.buffer.length != E * K * 4 || Y.vD && (this.QJ.d != E || this.QJ.v != K)) {
          this.buffer = _.I(E * K * 4);
          if (this.QJ)
              this.QJ.delete();
          if (Y.vD)
              this.QJ = new Y.U0(E,K,!0)
      }
  }
  ;
  bl.prototype.afc = function() {
      this.Ce();
      if (Y.vD) {
          this.QJ.set(this.buffer)
      }
  }
  ;
  bl.prototype.L2 = function(E) {
      var K = this.d
        , i = this.v
        , C = new h4(0,0,K,i)
        , N = C.lx(this.Lu);
      this.Ce();
      if (N.OL())
          return;
      if (!N.Ql(C)) {
          if (!Y.vD) {
              var k = _.rV(N.X() * 4);
              _.p8(k, N, this.buffer, C)
          }
          if (Y.vD) {
              Y.j8(this.QJ, N);
              Y.BP(0)
          }
      } else {
          if (Y.vD) {
              this.QJ.set(null)
          } else {
              this.buffer.fill(0)
          }
      }
      var V = Date.now()
        , j = Y.vD ? this.QJ : this.buffer;
      if (E == null)
          E = 1e9;
      this.root.UF(j, C, N, this, [], E);
      this.lI = this.Lu.clone()
  }
  ;
  bl.prototype.qV = function(E) {
      var K = new U;
      K.rect = new h4(0,0,0,0);
      K.buffer = _.I(1);
      K.add.luni = new bT(0,0);
      if (E != !0)
          K.add.lyid = this.tu();
      K.add.lsct = c5.hO;
      K.add.lclr = 0;
      K.add.fxrp = new bT(0,0);
      return K
  }
  ;
  bl.prototype.Yy = function(E) {
      var K = this.qV(E);
      K.gv("</Layer group>");
      K.add.lsct = c5.XG;
      K.it = 24;
      return K
  }
  ;
  bl.prototype.Vv = function() {
      return this.tv != this.i_
  }
  ;
  bl.prototype.b8 = function(E) {
      while (this.history.length > this.tv + 1)
          this.history.pop();
      if (this.i_ > this.tv)
          this.i_ = -1;
      if (E.F.id != u.fl) {
          this.tx = !0;
          if (this.aZ.lastAppliedComp) {
              delete this.aZ.lastAppliedComp;
              this.aO = !0
          }
      }
      this.history.push(E);
      this.tv++;
      this.aO = !0;
      var K = h2.pw() ? 60 : 30
        , i = 0;
      for (var G = this.history.length - 1; G >= 0; G--) {
          var C = this.history[G];
          if (C.eZ)
              continue;
          i++;
          if (i == K) {
              this.tv -= G;
              this.history = this.history.slice(G);
              break
          }
      }
  }
  ;
  bl.prototype.Ty = function() {
      if (this.tv != this.history.length - 1)
          return null;
      return this.history[this.history.length - 1]
  }
  ;
  bl.prototype.Qw = function(E, K, i, C) {
      if (E == null)
          E = !1;
      var N = K != null ? [K] : this.C.slice(0);
      if (C) {
          var k = [];
          for (var G = 0; G < N.length; G++) {
              var V = this.t[N[G]].RE;
              if (V != 0 && k.indexOf(V) == -1)
                  k.push(V)
          }
          for (var G = 0; G < this.t.length; G++) {
              var V = this.t[G].RE;
              if (V != 0 && k.indexOf(V) != -1 && N.indexOf(G) == -1)
                  N.push(G)
          }
      }
      var j = [];
      for (var G = 0; G < N.length; G++) {
          var a = this.Er(N[G], E);
          for (var e = 0; e < a.length; e++)
              if (j.indexOf(a[e]) == -1)
                  j.push(a[e]);
          if (i) {
              var l = this.root.WY(N[G]);
              while (l.parent != null && l.parent.parent != null) {
                  l = l.parent;
                  if (j.indexOf(l.index) == -1) {
                      j.push(l.index, l.Ju)
                  }
              }
          }
      }
      return j
  }
  ;
  bl.prototype.Bp = function(E, K, i) {
      var C = this
        , N = C.Qw(!1, E, null, i);
      N.sort(function(v, s) {
          return v - s
      });
      var k = {};
      for (var V = 0; V < C.t.length; V++) {
          var j = C.t[V].getName();
          k[j] = !0
      }
      var a = [];
      for (var G = 0; G < N.length; G++) {
          var e = C.t[N[G]].clone(), H, A;
          e.add.lyid = C.tu();
          e.add.lspf = 0;
          if (e.XQ()) {
              var L = e.uy(C)
                , g = bl.aI(L);
              C.cB(g);
              e.add.SoLd.placed.v = g.id
          }
          e.Kf(C);
          var I = e.getName()
            , h = I.length;
          while (48 <= I.charCodeAt(h - 1) && I.charCodeAt(h - 1) <= 57)
              h--;
          var o = parseInt(I.slice(h));
          if (isNaN(o)) {
              if (I.endsWith(" copy")) {
                  o = 1;
                  H = I.slice(0, I.length - 5)
              } else {
                  o = 0;
                  H = I
              }
          } else if (I.slice(0, h).endsWith(" copy ")) {
              o = o;
              H = I.slice(0, h - 6)
          } else {
              o = 0;
              H = I
          }
          o++;
          while (!0) {
              A = H + " copy" + (o == 1 ? "" : " " + o);
              if (k[A] == null)
                  break;
              o++
          }
          var S = N.indexOf(this.root.WY(N[G]).parent.index) != -1;
          if (K != !0 && !S)
              e.gv(A);
          k[A] = !0;
          a.push(e)
      }
      return a
  }
  ;
  bl.aI = function(E) {
      return {
          id: bl.Eu() + E.id.slice(8),
          buffer: E.buffer.slice(0),
          rect: E.rect.clone(),
          r: E.r ? E.r.clone() : null
      }
  }
  ;
  bl.Za = function(E) {
      return {
          id: E,
          rect: new h4,
          buffer: _.I(1),
          r: new U.xW
      }
  }
  ;
  bl.JU = function(E, K) {
      if (K == null)
          K = {
              vmsk: new U.ql
          };
      if (K.vogk == null) {
          K.vogk = [];
          var i = _.Y.oH(K.vmsk.b);
          for (var C = 0; C < i; C++)
              K.vogk.push(_.U7.rV())
      }
      return {
          name: E,
          EL: 0,
          add: K
      }
  }
  ;
  bl.prototype.LM = function(E) {
      var K = []
        , i = []
        , C = this
        , k = 0;
      for (var G = 1; G < C.xq.length; G++) {
          var N = C.xq[G];
          N.EL = -1 - G;
          K.push(N);
          if (C.du.indexOf(G) != -1)
              i.push(K.length - 1)
      }
      if (C.xq[0].add.vmsk.b.length > 2) {
          var N = C.xq[0];
          N.EL = -1;
          K.push(N);
          if (C.du.indexOf(0) != -1)
              i.push(K.length - 1)
      }
      var V = C.Rn == null;
      if (V)
          C.Rn = [];
      for (var G = C.C.length - 1; G >= 0; G--) {
          var j = C.t[C.C[G]]
            , a = j.add.TySh;
          if (j.add.vmsk != null && (j.QK || j.bm())) {
              var N = bl.JU("\"" + j.getName() + "\" Shape Path", j.add);
              N.EL = C.C[G];
              K.push(N);
              if (V)
                  C.Rn.push(k);
              if (C.Rn.indexOf(k) != -1)
                  i.push(K.length - 1);
              k++
          }
          if (E != !0 && a && a.add && _.oC._9(a.xA)) {
              var N = bl.JU("\"" + j.getName().slice(0, 10) + "..\" Text Path", a.add);
              N.EL = 1e6 + C.C[G];
              K.push(N);
              i.push(K.length - 1);
              k++
          }
      }
      if (i.length == 0 && E) {
          C.xq[0].EL = -1;
          C.du = [0];
          i.push(K.length);
          K.push(C.xq[0])
      }
      return [K, i]
  }
  ;
  bl.prototype.Er = function(G, E) {
      var K = []
        , l = this.root.WY(G);
      if (l)
          l.wJ(K, E);
      return K
  }
  ;
  bl.prototype.r9 = function() {
      this.root.rP(this, new h4(0,0,this.d,this.v), 32)
  }
  ;
  bl.prototype.qk = function(E) {
      for (var G = 0; G < this.t.length; G++) {
          var K = this.t[G];
          if (E.indexOf(K) == -1) {
              K.W.a0y();
              K.s()
          }
      }
      this.t = E.slice(0);
      this.S8()
  }
  ;
  bl.prototype.S8 = function() {
      var E = this.t
        , K = E.length;
      this.root = new ej;
      var i = this.qV(!0);
      i.SI = "pass";
      i.add.lsct = c5.qd;
      var C = this.Yy(!0)
        , N = [C];
      for (var G = 0; G < K; G++)
          N.push(E[G]);
      N.push(i);
      this.root.Ez(N, 0, 0);
      if (this.C.length == 0)
          this.C = [K - 1]
  }
  ;
  bl.prototype.EK = function() {
      if (this.C.length != 1)
          return;
      var E = this.root.WY(this.C[0]);
      while (E.parent != null) {
          var K = E.parent.z;
          K.add.lsct = c5.qd;
          E = E.parent
      }
      this.nK = this.ai7 = !0
  }
  ;
  bl.prototype.ajR = function() {
      this.S8();
      var E = [this.root]
        , eX = 0;
      while (E.length != 0) {
          var top = E.pop();
          eX++;
          if (top.z.add.lsct == c5.qd)
              for (var G = 0; G < top.children.length; G++)
                  E.push(top.children[G])
      }
      if (eX > 1e3) {
          var K = this.root.children;
          for (var G = 0; G < K.length; G++)
              if (K[G].z.add.lsct == c5.qd)
                  K[G].z.add.lsct = c5.Kw
      }
  }
  ;
  bl.il = function(E, K, i, C, N) {
      var k = {
          __name: "Make",
          classID: "Mk",
          Nw: {
              t: "Objc",
              v: {
                  classID: "Dcmn",
                  Nm: {
                      t: "TEXT",
                      v: C
                  },
                  Md: {
                      t: "type",
                      v: {
                          classID: "RGBM"
                      }
                  },
                  Wdth: {
                      t: "UntF",
                      v: {
                          type: "#Rlt",
                          val: E
                      }
                  },
                  Hght: {
                      t: "UntF",
                      v: {
                          type: "#Rlt",
                          val: K
                      }
                  },
                  Rslt: {
                      t: "UntF",
                      v: {
                          type: "#Rsl",
                          val: i
                      }
                  },
                  pixelScaleFactor: {
                      t: "doub",
                      v: 1
                  },
                  Fl: {
                      t: "enum",
                      v: {
                          Fl: N
                      }
                  },
                  Dpth: {
                      t: "long",
                      v: 8
                  },
                  profile: {
                      t: "TEXT",
                      v: "sRGB IEC61966-2.1"
                  }
              }
          }
      };
      return {
          bT: "make",
          v4: k
      }
  }
  ;
  bl.a2R = function(E, K) {
      var i = 0
        , C = 0
        , N = 72
        , k = K.a7l
        , V = E.preset && E.preset.v == "Clipboard";
      if (V) {
          i = k.d;
          C = k.v
      } else {
          i = E.Wdth.v.val;
          C = E.Hght.v.val;
          N = E.Rslt.v.val
      }
      var j = new bl((E.Nm ? E.Nm.v : i2.get([11, 7])) + ".psd");
      j.d = i;
      j.v = C;
      j.v9 = N;
      var a = j.qV();
      a.gv("Background");
      j.qk([a]);
      a.add.lspf = 1 << 2;
      var e = E.Fl ? E.Fl.v.Fl : "Wht";
      if (e != "Trns") {
          var L = K.JT;
          L = (L & 255) << 16 | (L >>> 8 & 255) << 8 | L >>> 16;
          a.rect = new h4(0,0,i,C);
          a.buffer = _.I(i * C * 4);
          _.EE(a.buffer, {
              Wht: 4294967295,
              BckC: 255 << 24 | L
          }[e])
      }
      j.buffer = _.I(i * C * 4);
      return j
  }
  ;
  function gJ(E) {
      this.uY = E;
      this.S = 0;
      this.Qb = 1;
      this.i = new bT(0,0);
      this.En = new bT(0,0);
      this.m3 = 0;
      this.zj = [1, 1, 1];
      this.DK = new h4(0,0,1,1);
      this.a6k = new h4(0,0,E.d,E.v);
      this.bb = null;
      this.hC = null;
      this.JB = new Uint32Array(0);
      this.ik = null;
      this._h = null;
      this.yf = _.I(0);
      this.yd = null;
      this.KW = null
  }
  gJ.prototype.e6 = function(E) {
      var K = new fn
        , i = this.DK
        , C = this.uY
        , N = E ? this.Qb : this.S
        , k = E ? this.En : this.i
        , V = Math.round((i.d - C.d * N) / 2 + k.x)
        , j = Math.round((i.v - C.v * N) / 2 + k.y);
      K.translate(-V, -j);
      K.scale(1 / N, 1 / N);
      var a = C.d / 2
        , e = C.v / 2;
      K.translate(-a, -e);
      K.rotate(this.m3);
      K.translate(a, e);
      return K
  }
  ;
  gJ.prototype.Kx = function(E) {
      var K = this.DK
        , i = this.uY
        , C = Math.atan2(-E.O, E.R)
        , N = i.d / 2
        , k = i.v / 2;
      E.translate(-N, -k);
      E.rotate(-C);
      E.translate(N, k);
      var V = 1 / E.x$();
      E.scale(V, V);
      var j = -E.vK
        , a = -E.Cz
        , e = Math.round(j - (K.d - i.d * V) / 2)
        , L = Math.round(a - (K.v - i.v * V) / 2);
      if (Math.abs(V - Math.round(V)) < 1e-6)
          V = Math.round(V);
      this.m3 = C;
      this.S = V;
      this.i = new bT(e,L)
  }
  ;
  gJ.prototype.Eb = function(E, K) {
      var i = this.e6();
      return i.uZ(new bT(E,K))
  }
  ;
  gJ.prototype.Dl = function(E, K) {
      var i = this.e6();
      i.KP();
      return i.uZ(new bT(E,K))
  }
  ;
  function ao() {}
  ao.order = "ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");
  ao.Y9 = "ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
  ao.names = [[14, 4], [14, 9], [14, 1], [14, 3], [14, 8], [14, 5], [14, 6], [14, 7], [14, 2], [14, 0]];
  ao.nz = ["DrSh", "IrSh", "SoFi", "GrFl", "FrFX"];
  ao.wz = ["Clr"];
  ao.yI = "Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
  ao.TX = ["Ptrn", "Scl", "Algn", "phase"];
  ao.I_ = {
      IZ: "{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",
      sP: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",
      W9: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",
      te: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"
  };
  ao.I_.IZ = "\"Clr\": " + ao.I_.IZ;
  ao.I_.V = "\"Grad\":" + ao.I_.sP + ",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
  ao.I_.te = "\"Ptrn\":" + ao.I_.te + ",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
  ao.default = "{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
  ao.Fc = ["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}", "{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"}," + ao.I_.IZ + "," + ao.I_.V + "," + ao.I_.te + "}", "{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}", "{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}", "{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}", "{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"}," + ao.I_.IZ + "}", "{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"}," + ao.I_.V + "}", "{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"}," + ao.I_.te + "}", "{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}", "{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
  ao.V = {
      types: "Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),
      names: [[19, 0, 0], [19, 0, 1], [19, 0, 2], [19, 0, 3], [19, 0, 4], [19, 0, 5]]
  };
  ao.stroke = {
      types: ["InsF", "CtrF", "OutF"],
      names: [[19, 5, 2], [19, 5, 1], [19, 5, 0]],
      uB: ["SClr", "GrFl", "Ptrn"],
      a9g: [[13, 0], [12, 37], [12, 62]]
  };
  ao.fP = {
      types: ["SfBL", "PrBL"],
      names: [[19, 1, 0], [19, 1, 1]],
      ZJ: ["SrcC", "SrcE"],
      a6l: [[19, 5, 1], [12, 69]]
  };
  ao.lC = {
      types: ["OtrB", "InrB", "Embs", "PlEb", "strokeEmboss"],
      style: [[19, 2, 0], [19, 2, 1], [19, 2, 2], [19, 2, 3], [19, 2, 4]],
      Jz: ["SfBL", "PrBL", "Slmt"],
      a3q: [[19, 3, 0], [19, 3, 1], [19, 3, 2]],
      dir: [[19, 4, 0], [19, 4, 1]]
  };
  ao.S6 = {
      mN: ["strokeStyleButtCap", "strokeStyleRoundCap", "strokeStyleSquareCap"],
      Ee: ["strokeStyleAlignInside", "strokeStyleAlignCenter", "strokeStyleAlignOutside"],
      join: ["strokeStyleMiterJoin", "strokeStyleRoundJoin", "strokeStyleBevelJoin"],
      gk: ["solidColorLayer", "gradientLayer", "patternLayer"],
      default: {
          classID: "strokeStyle",
          strokeStyleVersion: {
              t: "long",
              v: 2
          },
          strokeEnabled: {
              t: "bool",
              v: !1
          },
          fillEnabled: {
              t: "bool",
              v: !0
          },
          strokeStyleLineWidth: {
              t: "UntF",
              v: {
                  type: "#Pnt",
                  val: 4.38
              }
          },
          strokeStyleLineDashOffset: {
              t: "UntF",
              v: {
                  type: "#Pnt",
                  val: 0
              }
          },
          strokeStyleMiterLimit: {
              t: "doub",
              v: 100
          },
          strokeStyleLineCapType: {
              t: "enum",
              v: {
                  strokeStyleLineCapType: "strokeStyleButtCap"
              }
          },
          strokeStyleLineJoinType: {
              t: "enum",
              v: {
                  strokeStyleLineJoinType: "strokeStyleMiterJoin"
              }
          },
          strokeStyleLineAlignment: {
              t: "enum",
              v: {
                  strokeStyleLineAlignment: "strokeStyleAlignCenter"
              }
          },
          strokeStyleScaleLock: {
              t: "bool",
              v: !1
          },
          strokeStyleStrokeAdjust: {
              t: "bool",
              v: !1
          },
          strokeStyleLineDashSet: {
              t: "VlLs",
              v: []
          },
          strokeStyleBlendMode: {
              t: "enum",
              v: {
                  BlnM: "Nrml"
              }
          },
          strokeStyleOpacity: {
              t: "UntF",
              v: {
                  type: "#Prc",
                  val: 100
              }
          },
          strokeStyleContent: {
              t: "Objc",
              v: JSON.parse("{\"classID\":\"solidColorLayer\"," + ao.I_.IZ + "}")
          },
          strokeStyleResolution: {
              t: "doub",
              v: 72
          }
      }
  };
  ao.wW = [{
      classID: "null",
      Clr: JSON.parse(ao.Fc[5]).Clr
  }, {
      classID: "null",
      Grad: JSON.parse(ao.Fc[6]).Grad,
      Dthr: {
          t: "bool",
          v: !1
      },
      Rvrs: {
          t: "bool",
          v: !1
      },
      Angl: {
          t: "UntF",
          v: {
              type: "#Ang",
              val: 60
          }
      },
      Type: {
          t: "enum",
          v: {
              GrdT: "Lnr"
          }
      },
      Algn: {
          t: "bool",
          v: !0
      },
      Scl: {
          t: "UntF",
          v: {
              type: "#Prc",
              val: 100
          }
      },
      Ofst: {
          t: "Objc",
          v: {
              classID: "Pnt",
              Hrzn: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 0
                  }
              },
              Vrtc: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 0
                  }
              }
          }
      }
  }, {
      classID: "null",
      Ptrn: JSON.parse(ao.Fc[7]).Ptrn,
      Algn: {
          v: !0,
          t: "bool"
      },
      Scl: {
          v: {
              type: "#Prc",
              val: 100
          },
          t: "UntF"
      },
      phase: {
          v: {
              classID: "Pnt",
              Hrzn: {
                  v: 0,
                  t: "doub"
              },
              Vrtc: {
                  v: 0,
                  t: "doub"
              }
          },
          t: "Objc"
      }
  }];
  var h$ = {};
  h$.l5 = function(E, K) {
      function i(E, I) {
          if (E == null)
              return null;
          var h = E[I].v, o;
          if (h.length != 0) {
              o = h[0].v;
              if (!o.enab.v)
                  o = null
          }
          return o
      }
      var C = K.SoCo
        , N = K.GdFl
        , k = i(E, "solidFillMulti")
        , V = i(E, "gradientFillMulti");
      if (k == null && V == null)
          return [C, N];
      var j = h$.a6e;
      if (C && k && V == null) {
          var a = JSON.parse(JSON.stringify(C));
          a.Clr.v = j(k.Clr.v, C.Clr.v, k);
          return [a, null]
      }
      if (N && k && V == null) {
          var e = JSON.parse(JSON.stringify(N))
            , L = e.Grad.v.Clrs.v;
          for (var G = 0; G < L.length; G++) {
              var g = L[G].v.Clr;
              g.v = j(k.Clr.v, g.v, k)
          }
          return [null, e]
      }
      if (C && V) {
          var e = JSON.parse(JSON.stringify(V))
            , L = e.Grad.v.Clrs.v;
          for (var G = 0; G < L.length; G++) {
              var g = L[G].v.Clr;
              g.v = j(g.v, C.Clr.v, V)
          }
          return [null, e]
      }
      return [k, V]
  }
  ;
  h$.a3c = {
      A9: _.I(4),
      ZZ: _.I(4),
      h: new h4(0,0,1,1)
  };
  h$.a6e = function(E, K, i) {
      var C = gx.pv(i.Md.v.BlnM)
        , N = i.Opct.v.val / 100
        , k = h$.a3c;
      E = _.V.Gk(E);
      K = _.V.Gk(K);
      k.A9[0] = E.h;
      k.A9[1] = E.l;
      k.A9[2] = E.O;
      k.A9[3] = 255;
      k.ZZ[0] = K.h;
      k.ZZ[1] = K.l;
      k.ZZ[2] = K.O;
      k.ZZ[3] = 255;
      _.p.JA(C, k.A9, k.h, k.ZZ, k.h, k.h, N);
      return {
          classID: "RGBC",
          Rd: {
              t: "doub",
              v: k.ZZ[0]
          },
          Grn: {
              t: "doub",
              v: k.ZZ[1]
          },
          Bl: {
              t: "doub",
              v: k.ZZ[2]
          }
      }
  }
  ;
  h$.FP = function(E, K, i) {
      var C = E;
      E = E.slice(0);
      var N = gx.WR[gx.hr.indexOf(K.Md.v.BlnM)]
        , k = _.V.Gk(K.Clr.v)
        , V = 4278190080 | Math.round(k.O) << 16 | Math.round(k.l) << 8 | Math.round(k.h)
        , j = _.I(i.X() * 4);
      _.EE(j, V);
      _.p.JA(N, j, i, E, i, i, K.Opct.v.val / 100);
      for (var G = 0; G < E.length; G += 4)
          E[G + 3] = C[G + 3];
      return E
  }
  ;
  h$.Wf = function(E, K) {
      var i = ["Sz", "blur", "Sftn", "Dstn"];
      for (var G = 0; G < ao.order.length; G++) {
          var C = ao.order[G]
            , N = E[ao.Y9[G]].v;
          for (var k = 0; k < N.length; k++) {
              var V = N[k].v;
              for (var j = 0; j < i.length; j++) {
                  var a = V[i[j]];
                  if (a) {
                      var e = a.v.val
                        , L = e;
                      L = Math.max(e == 0 ? 0 : 1, L * K);
                      if (C == "ChFX")
                          L = Math.min(L, 250);
                      if (C == "ebbl") {
                          if (i[j] == "blur")
                              L = Math.min(L, 250);
                          if (i[j] == "Sftn")
                              L = Math.min(L, 16)
                      }
                      a.v.val = Math.round(L)
                  }
              }
              if (C == "ebbl" || C == "patternFill" || C == "FrFX")
                  if (V.Ptrn && V.Scl)
                      V.Scl.v.val = Math.max(1, Math.min(1e3, V.Scl.v.val * K))
          }
      }
  }
  ;
  h$.a3w = function(E, K, i) {
      var C = new h4(-.5,-.5,1,1)
        , N = E.add.lmfx;
      for (var G = 0; G < ao.order.length; G++) {
          var k = ao.order[G]
            , V = N[ao.Y9[G]].v;
          for (var j = 0; j < V.length; j++) {
              var a = V[j].v, I;
              if (!a.enab.v)
                  continue;
              var e = a.blur ? a.blur.v.val + 1 : 0
                , L = a.Ckmt ? a.Ckmt.v.val / 100 : 0
                , g = Math.round(e * L);
              if (k == "DrSh" || k == "IrSh" && i) {
                  I = new h4(-.5,-.5,1,1);
                  I.Lv(e, e);
                  h$.kD(I, a, K, 0)
              }
              if (k == "OrGl" || k == "IrGl" && i) {
                  I = new h4(-.5,-.5,1,1);
                  I.Lv(e, e)
              }
              if (k == "FrFX") {
                  var h = h$.QP(a)
                    , o = h[1];
                  if (i)
                      o = Math.max(h[0], o);
                  I = new h4(-.5,-.5,1,1);
                  I.Lv(Math.ceil(o), Math.ceil(o))
              }
              if (k == "ebbl") {
                  var e = a.blur.v.val
                    , H = a.bvlS.v.BESl;
                  if (H == "Embs" || H == "PlEb")
                      e /= 2;
                  var A = ["OtrB", "InrB", "Embs", "PlEb", "strokeEmboss"]
                    , S = ["SfBL", "PrBL", "Slmt"]
                    , v = ["In", "Out"]
                    , s = a.bvlT.v.bvlT != "SfBL" ? e : e * .43
                    , D = Math.round(e);
                  I = new h4(-D - 1,-D - 1,2 * D + 2,2 * D + 2)
              }
              if (i && k == "ChFX") {
                  I = new h4(-.5,-.5,1,1);
                  I.Lv(e, e);
                  var F = I.clone();
                  h$.kD(I, a, K, 0);
                  h$.kD(F, a, K, Math.PI);
                  I = I.ip(F)
              }
              if (I)
                  C = C.ip(I)
          }
      }
      if (C.x != Math.ceil(C.x)) {
          C.x = Math.ceil(C.x);
          C.d -= 1
      }
      if (C.y != Math.ceil(C.y)) {
          C.y = Math.ceil(C.y);
          C.v -= 1
      }
      return C
  }
  ;
  h$.QP = function(E) {
      var K = 0
        , i = 0
        , C = E.Styl.v.FStl
        , N = E.Sz.v.val;
      if (C == "OutF")
          i = N;
      if (C == "InsF")
          K = N;
      if (C == "CtrF")
          K = i = N / 2;
      return [K, i]
  }
  ;
  h$.bv = function(E) {
      if (E.all == null)
          return;
      for (var G = 0; G < E.all.length; G++) {
          var K = E.all[G];
          if (K.h2)
              K.h2.delete();
          if (K.jV)
              K.jV.delete();
          if (K.yw)
              K.yw.delete()
      }
  }
  ;
  h$.agi = function(E, K, i, C, N, k, V) {
      h$.bv(E);
      var j = h$.IY(C, N, K, i, k, V);
      E.type = j.type,
      E.all = j.all;
      if (Y.vD)
          for (var G = 0; G < E.all.length; G++) {
              var a = E.all[G];
              a.h2 = new Y.U0(a.Hg.d,a.Hg.v);
              a.h2.set(a.OR);
              delete a.OR;
              if (a.CG) {
                  a.jV = new Y.Ti(a.Hg.d,a.Hg.v);
                  a.jV.set(a.CG);
                  delete a.CG
              }
              if (a.ps) {
                  a.yw = new Y.Ti(a.Hg.d,a.Hg.v);
                  a.yw.set(a.ps);
                  delete a.ps
              }
          }
  }
  ;
  h$.w7 = function(E) {
      for (var G = 0; G < ao.order.length; G++) {
          var K = ao.order[G]
            , i = ao.Y9[G]
            , C = E[i].v;
          for (var N = 0; N < C.length; N++) {
              var k = C[N].v;
              if (k.enab.v && ["patternFill", "GrFl", "SoFi"].indexOf(K) == -1)
                  return !0
          }
      }
      return !1
  }
  ;
  h$.IY = function(E, K, i, C, N, k) {
      if (k == null)
          k = C;
      var V = 0
        , j = 0;
      for (var G = 0; G < ao.order.length; G++) {
          var a = ao.order[G]
            , e = ao.Y9[G]
            , L = E[e].v;
          for (var g = 0; g < L.length; g++) {
              var I = L[g].v;
              if (a == "DrSh" && I.enab.v && I.Ckmt.v.val > 0 && I.blur.v.val > 0)
                  V = Math.max(V, Math.ceil(I.Ckmt.v.val * I.blur.v.val / 100));
              if (a == "OrGl" && I.enab.v && I.Ckmt.v.val > 0 && I.blur.v.val > 0 && I.GlwT.v.BETE == "SfBL")
                  V = Math.max(V, Math.ceil(I.Ckmt.v.val * I.blur.v.val / 100));
              if (a == "OrGl" && I.enab.v && I.blur.v.val > 0 && I.GlwT.v.BETE == "PrBL")
                  V = Math.max(V, I.blur.v.val);
              if (a == "FrFX" && I.enab.v && I.Sz.v.val > 0) {
                  if (I.Styl.v.FStl == "OutF")
                      V = Math.max(V, I.Sz.v.val);
                  if (I.Styl.v.FStl == "CtrF")
                      V = Math.max(V, Math.ceil(I.Sz.v.val / 2));
                  j = Math.max(j, h$.QP(I)[1])
              }
          }
      }
      var h = new h$.py(i,C,V,h$.w7(E))
        , o = -C.x
        , H = -C.y
        , A = {
          type: {},
          all: []
      };
      for (var S = 0; S < ao.order.length; S++) {
          var a = ao.order[S]
            , e = ao.Y9[S];
          A.type[a] = [];
          for (var v = E[e].v.length - 1; v >= 0; v--) {
              var s = E[e].v[v].v;
              if (!s.enab.v)
                  continue;
              var D = s.blur ? s.blur.v.val : 0
                , F = s.Ckmt ? s.Ckmt.v.val / 100 : 0
                , y = D * F;
              if (a == "DrSh") {
                  var T = h.aE(y, D - y, !0)
                    , Q = T.oe
                    , B = T.g;
                  B.offset(o, H);
                  h$.bk(Q, s, !1);
                  h$.kD(B, s, N, 0);
                  var r = _.I(B.X() * 4);
                  h$.Hk(r, s.Clr.v);
                  _.lM(Q, r, 3);
                  var J = {
                      OR: r,
                      Hg: B,
                      Lh: gx.pv(s.Md.v.BlnM),
                      bH: s.Opct.v.val / 100,
                      ac9: s.layerConceals.v
                  };
                  A.type[a].push(J);
                  A.all.push(J)
              }
              if (a == "IrSh") {
                  var T = h.aE(y, D - y, !1);
                  h$.kD(T.g, s, N, 0);
                  var B = h.rect().clone()
                    , Q = _.I(B.X());
                  Q.fill(255);
                  _.ie(T.oe, T.g, Q, B);
                  h$.bk(Q, s, !0);
                  var r = _.I(B.X() * 4);
                  h$.Hk(r, s.Clr.v);
                  _.lM(Q, r, 3);
                  B.offset(o, H);
                  var J = {
                      OR: r,
                      Hg: B,
                      Lh: gx.pv(s.Md.v.BlnM),
                      bH: s.Opct.v.val / 100
                  };
                  A.type[a].push(J);
                  A.all.push(J)
              }
              if (a == "GrFl") {
                  var r = _.I(h.rect().X() * 4);
                  h$.XJ(s, r, h.rect(), N, null, k);
                  var B = h.rect().clone();
                  B.offset(o, H);
                  var J = {
                      OR: r,
                      Hg: B,
                      Lh: gx.pv(s.Md.v.BlnM),
                      bH: s.Opct.v.val / 100
                  };
                  A.type[a].push(J);
                  A.all.push(J)
              }
              if (a == "SoFi") {
                  var r = _.I(h.oe().length * 4);
                  h$.Hk(r, s.Clr.v);
                  var B = h.rect().clone();
                  B.offset(o, H);
                  var J = {
                      OR: r,
                      Hg: B,
                      Lh: gx.pv(s.Md.v.BlnM),
                      bH: s.Opct.v.val / 100
                  };
                  A.type[a].push(J);
                  A.all.push(J)
              }
              if (a == "ebbl") {
                  var m = !1;
                  if (m)
                      console.log(s);
                  var x = Date.now()
                    , R = s.bvlS.v.BESl;
                  if (R == "strokeEmboss") {
                      var b = E.frameFXMulti.v;
                      if (b.length == 0)
                          continue;
                      b = b[0].v;
                      if (!b.enab.v)
                          continue;
                      var z = b.Styl.v.FStl;
                      if (z == "OutF")
                          R = "OtrB";
                      if (z == "CtrF")
                          R = "Embs";
                      if (z == "InsF")
                          R = "InrB"
                  }
                  var D = s.blur.v.val;
                  if (D == 0)
                      D = .7;
                  if (R == "Embs" || R == "PlEb")
                      D /= 2;
                  var $ = ["OtrB", "InrB", "Embs", "PlEb", "strokeEmboss"]
                    , P = ["SfBL", "PrBL", "Slmt"]
                    , t = ["In", "Out"]
                    , X = s.bvlT.v.bvlT != "SfBL" ? D : D * .45
                    , Z = Math.round(D)
                    , p = h.rect().clone()
                    , gl = p.clone();
                  gl.Lv(Z, Z);
                  var f = gl.d
                    , cY = gl.v
                    , fC = f * cY
                    , hi = _.I(fC);
                  _.ie(h.oe(), p, hi, gl);
                  var W = new Float64Array(fC)
                    , d = new Float64Array(fC);
                  _.style.pA(hi, W, f, cY);
                  _.KP(hi);
                  _.style.pA(hi, d, f, cY);
                  if (m)
                      console.log("distTransform computed", Date.now() - x);
                  for (var G = 0; G < fC; G++)
                      d[G] = d[G] - W[G];
                  for (var G = 0; G < fC; G++) {
                      var fM = d[G];
                      if (fM < -X)
                          d[G] = -X;
                      else if (fM > X)
                          d[G] = X
                  }
                  if (m)
                      console.log("summing + cropping", Date.now() - x);
                  if (s.bvlT.v.bvlT == "SfBL") {
                      var n = Math.pow(D * .21, 1.22);
                      if (!0)
                          n = Math.max(n, 2);
                      var ax = _.Cu.Od(n, 2);
                      _.Cu.s2(d, W, gl, ax[0] >>> 1);
                      _.Cu.s2(W, d, gl, ax[1] >>> 1)
                  }
                  if (m)
                      console.log("blurring", Date.now() - x);
                  var d_ = d
                    , cm = d_.slice(0);
                  if (s.useShape.v) {
                      var c4 = Math.min(100, s.Inpr.v.val + 1) / 100;
                      if (R != "OtrB" && R != "InrB")
                          c4 = 1;
                      var ch = _.Qe.uU(s.MpgS.v.Crv.v, 2e3)
                        , hQ = Math.round(2e3 / c4);
                      ch = _.Qe.agp(ch, hQ, R == "InrB");
                      var em = .5 / X;
                      for (var G = 0; G < fC; G++) {
                          var ag = d_[G]
                            , am = .99999 * (ag + X) * em;
                          d_[G] = -X + 2 * X * ch[~~(am * (hQ - 1))]
                      }
                      if (m)
                          console.log("applying shape", Date.now() - x)
                  }
                  if (s.useTexture.v) {
                      var bK = _.I(f * cY * 4);
                      h$.Vj(s, bK, gl, N, K);
                      var ei = _.I(f * cY);
                      _.YU(bK, ei);
                      var dL = _.I(f * cY);
                      _.Cu.Uz(ei, dL, gl, 1);
                      ei = dL;
                      var fh = D * s.textureDepth.v.val * (1 / 100) * (1 / 255);
                      if (s.InvT.v)
                          fh = -fh;
                      for (var G = 0; G < fC; G++)
                          d_[G] += -fh * ei[G];
                      if (m)
                          console.log("applying texture", Date.now() - x)
                  }
                  var eu = (s.bvlT.v.bvlT == "SfBL" ? 1 : .5) * (s.bvlD.v.BESs == "In" ? 1 : -1) * s.srgR.v.val / 100;
                  for (var G = 0; G < fC; G++)
                      d_[G] *= eu;
                  if (m)
                      console.log("scaling", Date.now() - x);
                  var hf = s.uglg && s.uglg.v ? N.IQ() : s.lagl.v.val;
                  hf = hf * (Math.PI / 180);
                  var iS = s.uglg && s.uglg.v ? N.My() : s.Lald.v.val;
                  iS = iS * (Math.PI / 180);
                  var aI = Math.cos(hf) * Math.cos(iS)
                    , gn = -Math.sin(hf) * Math.cos(iS)
                    , ce = Math.sin(iS)
                    , gr = new Float64Array(fC)
                    , ek = new Float64Array(fC)
                    , bJ = R == "PlEb";
                  for (var aN = 0; aN < cY; aN++)
                      for (var bG = 0; bG < f; bG++) {
                          var G = aN * f + bG
                            , aQ = 0
                            , cu = 0
                            , gX = 1;
                          if (aN != 0 && aN != cY - 1 && bG != 0 && bG != f - 1) {
                              var bW = d_[G - f - 1]
                                , dE = d_[G - f + 1]
                                , b4 = d_[G + f - 1]
                                , cC = d_[G + f + 1];
                              aQ = -.125 * (dE + 2 * d_[G + 1] + cC - (bW + 2 * d_[G - 1] + b4));
                              cu = -.125 * (b4 + 2 * d_[G + f] + cC - (bW + 2 * d_[G - f] + dE))
                          } else {
                              var gN = d_[G];
                              cu = -(aN == 0 ? d_[G + f] - gN : aN == cY - 1 ? gN - d_[G - f] : .5 * (d_[G + f] - d_[G - f]));
                              aQ = -(bG == 0 ? d_[G + 1] - gN : bG == f - 1 ? gN - d_[G - 1] : .5 * (d_[G + 1] - d_[G - 1]))
                          }
                          var eH = 1 / Math.sqrt(aQ * aQ + cu * cu + 1);
                          aQ *= eH;
                          cu *= eH;
                          gX *= eH;
                          var hx = aQ * aI + cu * gn + gX * ce
                            , c2 = hx;
                          if (bJ)
                              c2 = -aQ * aI - cu * gn + gX * ce;
                          if (hx > 0)
                              gr[G] = hx;
                          if (c2 > 0)
                              ek[G] = c2
                      }
                  if (m)
                      console.log("raycasting", Date.now() - x);
                  if (s.Sftn.v.val != 0) {
                      _.Cu.E2(gr, W, gl, s.Sftn.v.val * .43);
                      var hv = W
                        , W = gr
                        , gr = hv;
                      if (bJ) {
                          _.Cu.E2(ek, W, gl, s.Sftn.v.val * .43);
                          var hv = W
                            , W = ek
                            , ek = hv
                      } else
                          _.uJ(gr, ek)
                  }
                  if (m)
                      console.log("softening", Date.now() - x);
                  var ch = _.Qe.uU(s.TrnS.v.Crv.v, 1024);
                  for (var G = 0; G < fC; G++) {
                      gr[G] = ch[~~(gr[G] * 1024)];
                      ek[G] = ch[~~(ek[G] * 1024)]
                  }
                  if (m)
                      console.log("contour remap", Date.now() - x);
                  f = Math.round(f);
                  cY = Math.round(cY);
                  var fu = _.I(f * cY * 4);
                  h$.Hk(fu, s.hglC.v);
                  var dv = _.I(f * cY * 4);
                  h$.Hk(dv, s.sdwC.v);
                  var fj = _.I(f * cY * 4);
                  h$.Hk(fj, s.hglC.v);
                  var il = _.I(f * cY * 4);
                  h$.Hk(il, s.sdwC.v);
                  var iH = 1 / ce
                    , fp = 1 / (1 - ce)
                    , em = 1 / X
                    , ff = new Float64Array(1e3);
                  for (var G = 0; G < 1e3; G++)
                      ff[G] = Math.pow(G * .001, .2);
                  for (var aN = 0; aN < cY; aN++)
                      for (var bG = 0; bG < f; bG++) {
                          var G = aN * f + bG
                            , da = 4 * G + 3
                            , aC = 0
                            , fa = 0;
                          aC = gr[G];
                          fa = ek[G];
                          var hz = Math.max(0, Math.min(.9999, (cm[G] + X * .993) * em));
                          hz = ff[Math.floor(hz * 1e3)];
                          var f6 = hz * (1 - Math.min(1, aC * iH))
                            , bk = hz * (1 - Math.min(1, (1 - aC) * fp))
                            , dB = hz * (1 - Math.min(1, fa * iH))
                            , fD = hz * (1 - Math.min(1, (1 - fa) * fp));
                          dv[da] = Math.round(255 * f6);
                          fu[da] = Math.round(255 * bk);
                          il[da] = Math.round(255 * dB);
                          fj[da] = Math.round(255 * fD)
                      }
                  if (m)
                      console.log("baking textures", Date.now() - x);
                  gl = h.rect().clone();
                  gl.Lv(Z, Z);
                  gl.offset(o, H);
                  var bE = {
                      al9: s.bvlS.v.BESl == "strokeEmboss"
                  };
                  if (["InrB", "Embs", "PlEb"].indexOf(R) != -1) {
                      bE.vv = {
                          OR: fu,
                          Hg: gl,
                          Lh: gx.pv(s.hglM.v.BlnM),
                          bH: s.hglO.v.val / 100
                      };
                      bE.GZ = {
                          OR: dv,
                          Hg: gl,
                          Lh: gx.pv(s.sdwM.v.BlnM),
                          bH: s.sdwO.v.val / 100
                      };
                      A.all.push(bE.vv, bE.GZ)
                  }
                  if (["OtrB", "Embs", "PlEb"].indexOf(R) != -1) {
                      bE.B9 = {
                          OR: fj,
                          Hg: gl,
                          Lh: gx.pv(s.hglM.v.BlnM),
                          bH: s.hglO.v.val / 100
                      };
                      bE.Oz = {
                          OR: il,
                          Hg: gl,
                          Lh: gx.pv(s.sdwM.v.BlnM),
                          bH: s.sdwO.v.val / 100
                      };
                      A.all.push(bE.B9, bE.Oz)
                  }
                  if (m)
                      console.log(Date.now() - x);
                  A.type[a].push(bE)
              }
              if (a == "patternFill") {
                  var f0 = h.rect()
                    , r = _.I(f0.X() * 4);
                  h$.Vj(s, r, f0, N, K);
                  var B = f0.clone();
                  B.offset(o, H);
                  var J = {
                      OR: r,
                      Hg: B,
                      Lh: gx.pv(s.Md.v.BlnM),
                      bH: s.Opct.v.val / 100
                  };
                  A.type[a].push(J);
                  A.all.push(J)
              }
              if (a == "ChFX") {
                  var r = _.I(h.oe().length * 4);
                  h$.Hk(r, s.Clr.v);
                  var D = s.blur.v.val
                    , dr = h.rect().clone();
                  dr.Lv(D, D);
                  var g6 = _.I(dr.X())
                    , fk = _.I(dr.X());
                  _.ie(h.oe(), h.rect(), fk, dr);
                  _.Cu.hl(fk, g6, dr, D * .43);
                  var iW = _.Qe.Pl(s.MpgS.v.Crv.v, 256, !0);
                  _._l(g6, iW);
                  var bq = _.I(h.oe().length)
                    , ik = _.I(h.oe().length)
                    , e$ = h.rect().clone();
                  h$.kD(e$, s, N, 0);
                  _.ie(g6, dr, bq, e$);
                  e$ = h.rect().clone();
                  h$.kD(e$, s, N, Math.PI);
                  _.ie(g6, dr, ik, e$);
                  var iU = bq.length;
                  for (var G = 0; G < iU; G++)
                      r[4 * G + 3] = Math.abs(bq[G] - ik[G]);
                  if (s.Invr.v)
                      for (var G = 0; G < iU; G++)
                          r[4 * G + 3] = 255 - r[4 * G + 3];
                  var B = h.rect().clone();
                  B.offset(o, H);
                  var J = {
                      OR: r,
                      Hg: B,
                      Lh: gx.pv(s.Md.v.BlnM),
                      bH: s.Opct.v.val / 100
                  };
                  A.type[a].push(J);
                  A.all.push(J)
              }
              if (a == "OrGl") {
                  var T;
                  if (s.GlwT.v.BETE == "SfBL")
                      T = h.aE(y, D - y, !0);
                  else
                      T = h.jT(D, F, !0);
                  var Q = T.oe
                    , B = T.g
                    , eh = Q.slice(0);
                  h$.QI(Q, s);
                  var r = _.I(B.X() * 4);
                  if (s.Grad == null) {
                      h$.Hk(r, s.Clr.v);
                      h$.bk(Q, s, !1)
                  } else {
                      h$.bk(Q, s, null);
                      var hH = {
                          hk: Q,
                          RN: 255,
                          JZ: 0,
                          ku: B
                      };
                      h$.XJ(s, r, B, N, hH);
                      var eJ = s.Nose.v.val / 100
                        , gf = B.d;
                      for (var G = 0; G < eh.length; G++) {
                          var d0 = 255
                            , ac = eh[G];
                          if (ac < 32) {
                              var eY = (ac + eh[G - 1] + eh[G + 1] + eh[G - gf] + eh[G + gf]) * .2 - 1;
                              d0 = Math.min(255, Math.round(Math.max(0, eY) * 8))
                          }
                          Q[G] = d0
                      }
                      h$.yQ(Q, s)
                  }
                  _.lM(Q, r, 3);
                  B.offset(o, H);
                  var J = {
                      OR: r,
                      Hg: B,
                      Lh: gx.pv(s.Md.v.BlnM),
                      bH: s.Opct.v.val / 100
                  };
                  A.type[a].push(J);
                  A.all.push(J)
              }
              if (a == "IrGl") {
                  var T;
                  if (s.GlwT.v.BETE == "SfBL")
                      T = h.aE(y, D - y, !1);
                  else
                      T = h.jT(D, F, !1);
                  var Q = T.oe
                    , B = T.g;
                  h$.QI(Q, s);
                  if (s.glwS.v.IGSr == "SrcC")
                      _.KP(Q);
                  var r = _.I(B.X() * 4);
                  if (s.Grad == null) {
                      h$.Hk(r, s.Clr.v);
                      h$.bk(Q, s, !0)
                  } else {
                      h$.bk(Q, s, null);
                      var hH = {
                          hk: Q,
                          RN: 255,
                          JZ: 0,
                          ku: B
                      };
                      h$.XJ(s, r, B, N, hH);
                      Q.fill(255);
                      h$.yQ(Q, s)
                  }
                  _.lM(Q, r, 3);
                  B.offset(o, H);
                  var J = {
                      OR: r,
                      Hg: B,
                      Lh: gx.pv(s.Md.v.BlnM),
                      bH: s.Opct.v.val / 100
                  };
                  A.type[a].push(J);
                  A.all.push(J)
              }
              if (a == "FrFX") {
                  var dg = h$.QP(s)
                    , cX = dg[0]
                    , eZ = dg[1]
                    , B = h.rect().clone()
                    , iC = null
                    , cW = null;
                  B.Lv(Math.ceil(j), Math.ceil(j));
                  if (eZ > 0) {
                      var T = h.aE(eZ, 0, !0);
                      cW = T.oe;
                      if (cW.length < B.X()) {
                          cW = _.I(B.X());
                          _.ie(T.oe, T.g, cW, B)
                      }
                  }
                  if (cX > 0) {
                      var T = h.aE(cX, 0, !1);
                      iC = _.I(B.X());
                      iC.fill(255);
                      _.ie(T.oe, T.g, iC, B)
                  }
                  B.offset(o, H);
                  var r = _.I(B.X() * 4)
                    , cT = s.PntT.v.FrFl;
                  if (cT == "SClr")
                      h$.Hk(r, s.Clr.v);
                  if (cT == "GrFl")
                      h$.XJ(s, r, B, N, h.ab7(cX, eZ));
                  if (cT == "Ptrn")
                      h$.Vj(s, r, B, N, K);
                  var J = {
                      OR: r,
                      Hg: B,
                      Lh: gx.pv(s.Md.v.BlnM),
                      bH: s.Opct.v.val / 100,
                      ps: cW,
                      CG: iC
                  };
                  A.type[a].push(J);
                  A.all.push(J)
              }
          }
      }
      return A
  }
  ;
  h$.rn = function(E) {
      var K = 1 / Math.sqrt(E.x * E.x + E.y * E.y + E.IK * E.IK);
      E.x *= K;
      E.y *= K;
      E.IK *= K
  }
  ;
  h$.Mm = function(E, K) {
      return {
          x: E.y * K.IK - E.IK * K.y,
          y: E.IK * K.x - E.x * K.IK,
          IK: E.x * K.y - E.y * K.x
      }
  }
  ;
  h$.a3L = function(E, K) {
      return E.x * K.x + E.y * K.y + E.IK * K.IK
  }
  ;
  h$.yQ = function(E, K) {
      var i = K.Nose.v.val / 100;
      if (i > 0)
          for (var G = 0; G < E.length; G++) {
              var C = E[G];
              C = Math.min(510 - (1 + i) * _.style.ne(G), C);
              E[G] = C
          }
  }
  ;
  h$.VW = function(E) {
      var K = h$.bP()
        , i = E.fA
        , C = !1;
      for (var G = 0; G < 32; G += 8)
          if (i[G] + i[G + 1] + i[4] + i[5] != 0 || i[G + 2] + i[G + 3] + i[6] + i[7] != 1020)
              C = !0;
      if (C) {
          i = i.slice(0);
          for (var G = 0; G < 40; G += 4) {
              var N = i[G] / 255
                , k = i[G + 1] / 255
                , V = i[G + 2] / 255
                , j = i[G + 3] / 255;
              i[G] = N - 1e-4;
              i[G + 1] = N == k ? 1e9 : 1 / (k - (N - 1e-4));
              i[G + 2] = V == j ? -1e9 : 1 / (V - (j + 1e-4));
              i[G + 3] = j + 1e-4
          }
      }
      var a = E.add.iOpa != null ? E.add.iOpa / 255 : K.fill
        , e = E.add.vstk;
      if (e && !e.fillEnabled.v && (!e.strokeEnabled.v || e.strokeStyleLineWidth.v.val == 0))
          a = 0;
      return {
          fill: a,
          c5: C ? i : null,
          LJ: E.add.brst != null ? E.add.brst : K.LJ,
          abW: E.add.knko != null ? E.add.knko : K.abW,
          style: !1,
          MC: !1
      }
  }
  ;
  h$.bP = function() {
      return {
          fill: 1,
          c5: null,
          LJ: [1, 1, 1],
          abW: 0,
          style: !1,
          MC: !1
      }
  }
  ;
  h$.Si = function(E, K) {
      if (K == null)
          return null;
      var i = E.Idnt.v
        , C = null;
      for (var G = 0; G < K.length; G++)
          if (K[G].id == i)
              return K[G];
      return null
  }
  ;
  h$.i6 = function(E, K, i) {
      var C = ["patternFillMulti", "ebblMulti", "frameFXMulti"];
      for (var G = 0; G < C.length; G++) {
          var N = E.v[C[G]].v;
          for (var k = 0; k < N.length; k++)
              if (N[k].v.Ptrn)
                  K.fN(h$.Si(N[k].v.Ptrn.v, i))
      }
  }
  ;
  h$.al4 = function(E, K, i) {
      var C = ["patternFillMulti", "ebblMulti", "frameFXMulti"];
      for (var G = 0; G < C.length; G++) {
          var N = E.v[C[G]].v;
          for (var k = 0; k < N.length; k++)
              if (N[k].v.Ptrn) {
                  var V = N[k].v.Ptrn.v
                    , j = h$.Si(V, i)
                    , a = h$.Si(V, K.add.Patt);
                  if (j == null && a)
                      i.push(a)
              }
      }
  }
  ;
  h$.Vj = function(E, K, i, C, N) {
      var k = h$.Si(E.Ptrn.v, C.add.Patt);
      if (k != null && !i.OL()) {
          var V = k.yG
            , j = V[0]
            , a = V[1]
            , e = 0;
          _.Mv(V);
          var L = E.Scl.v.val / 100;
          while ((L < .3 || L == .5) && V[e + 2]) {
              L *= a.d / V[e + 3].d;
              e += 2;
              j = V[e];
              a = V[e + 1]
          }
          var g = _.scale.Vj(j, a.d, a.v)
            , I = -i.x + E.phase.v.Hrzn.v - 1
            , h = -i.y + E.phase.v.Vrtc.v - 1;
          if (E.Algn != null && !E.Algn.v) {} else {
              I += N.x;
              h += N.y
          }
          _.scale.a9C(g, K, i.d, i.v, L, L, I + 1, h + 1)
      }
  }
  ;
  h$.XJ = function(E, K, i, C, N, k) {
      if (k == null)
          k = i;
      var V = E.Type ? E.Type.v.GrdT : "shapeburst"
        , j = E.Algn && E.Algn.v ? k : new h4(0,0,C.d,C.v)
        , a = E.Angl ? _.V.TO(E, j) : [new bT(0,0), new bT(100,0)]
        , e = a[0].x
        , L = a[0].y
        , g = a[1].x - e
        , I = a[1].y - L
        , h = Math.sqrt(g * g + I * I);
      h = 1 / (2 * h * h);
      var o = [g * h, I * h, -I * h, g * h]
        , H = E.Rvrs ? E.Rvrs.v : !1
        , A = E.Dthr ? E.Dthr.v : !1;
      _.V.K3(E.Grad.v, K, i, o, e, L, H, ao.V.types.indexOf(V), 0, 0, N, A)
  }
  ;
  h$.adZ = function(E, K) {
      for (var G = 0; G < E.all.length; G++) {
          var i = E.all[G];
          i.tl = i.Hg.clone();
          i.tl.offset(K.x, K.y)
      }
  }
  ;
  h$.SC = function(E, K, i, C, N, k) {
      var V = Y.vD ? h$.Bd : h$.fq;
      h$.adZ(K, i);
      var j = K.type.DrSh;
      for (var G = 0; G < j.length; G++)
          if (!j[G].ac9)
              V(j[G], C, N, k)
  }
  ;
  h$.$x = function(E, K, i, C, N, k, V, j, a, e) {
      var L = i, g = Y.vD ? h$.Bd : h$.fq, I = Y.vD ? Y.p.lG : _.p._H, h;
      h = K.type.DrSh;
      for (var G = 0; G < h.length; G++)
          if (h[G].ac9)
              g(h[G], C, N, k);
      h = K.type.OrGl;
      for (var G = 0; G < h.length; G++)
          g(h[G], C, N, k);
      var o = "patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
      for (var H = 0; H < o.length; H++) {
          var h = K.type[o[H]];
          for (var G = 0; G < h.length; G++)
              g(h[G], V, L, k)
      }
      var A = K.type.ebbl[0]
        , S = A != null && A.al9;
      h = K.type.FrFX;
      for (var G = 0; G < h.length; G++) {
          var v = h[G];
          ej.dM.ie(j, e, a, e, k);
          g(v, a, e, k);
          if (S && G == h.length - 1) {
              if (A.Oz)
                  g(A.Oz, a, e, k);
              if (A.B9)
                  g(A.B9, a, e, k);
              if (A.GZ)
                  g(A.GZ, a, e, k);
              if (A.vv)
                  g(A.vv, a, e, k)
          }
          if (v.CG || v.jV)
              I(a, e, V, L, Y.vD ? v.jV : v.CG, v.tl, 0, k, 1);
          if (v.ps || v.yw)
              I(a, e, C, N, Y.vD ? v.yw : v.ps, v.tl, 0, k, 1)
      }
      if (!S && A != null) {
          if (A.Oz)
              g(A.Oz, C, N, k);
          if (A.B9)
              g(A.B9, C, N, k);
          if (A.GZ)
              g(A.GZ, V, L, k);
          if (A.vv)
              g(A.vv, V, L, k)
      }
  }
  ;
  h$.fq = function(E, K, i, C) {
      var N = h$.bP();
      N.fill = E.bH;
      N.style = !0;
      _.p.JA(E.Lh, E.OR, E.tl, K, i, C, 1, N)
  }
  ;
  h$.Bd = function(E, K, i, C) {
      var N = h$.bP();
      N.fill = E.bH;
      N.style = !0;
      Y.p.k6(E.Lh, E.h2, E.tl, K, i, C, 1, N)
  }
  ;
  h$.QI = function(E, K) {
      var i = 1 - K.Inpr.v.val / 100
        , C = 1 + Math.tan(i * (Math.PI / 2))
        , N = E.length;
      for (var G = 0; G < N; G++)
          E[G] = Math.min(255, Math.round(E[G] * C))
  }
  ;
  h$.bk = function(E, K, i) {
      var C = K.blur.v.val
        , N = Math.round(C * (K.Ckmt.v.val / 100));
      if (C > N) {
          var k = _.Qe.Pl(K.TrnS.v.Crv.v, 256, !0);
          _._l(E, k)
      }
      if (i != null && K.Nose.v.val > 0)
          _.style.u5(E, K.Nose.v.val / 100, i)
  }
  ;
  h$.Hk = function(E, K, i) {
      if (i == null)
          i = 255;
      var C = _.V.Gk(K)
        , N = i << 24 | C.O << 16 | C.l << 8 | C.h
        , k = new Uint32Array(E.buffer);
      k.fill(N)
  }
  ;
  h$.kD = function(E, K, i, C) {
      var N = K.uglg && K.uglg.v ? i.IQ() : K.lagl.v.val;
      N = N * Math.PI / 180 + C;
      var k = Math.cos(N) * K.Dstn.v.val
        , V = Math.sin(N) * K.Dstn.v.val;
      E.x -= Math.round(k);
      E.y += Math.round(V)
  }
  ;
  h$.m2 = function(E) {
      if (E == null)
          return null;
      var K = E.frameFXMulti.v;
      if (K.length == 0)
          return null;
      K = K[0].v;
      var i = JSON.parse(JSON.stringify(ao.S6.default));
      h$.iO(K, i);
      return i
  }
  ;
  h$.iO = function(E, K) {
      var i = ao.stroke.uB.indexOf(E.PntT.v.FrFl)
        , C = [ao.wz, ao.yI, ao.TX][i]
        , N = K.strokeStyleContent.v = {
          classID: ao.S6.gk[i]
      };
      for (var G = 0; G < C.length; G++)
          N[C[G]] = E[C[G]];
      K.strokeEnabled = E.enab;
      K.strokeStyleLineWidth = E.Sz;
      K.strokeStyleLineAlignment.v.strokeStyleLineAlignment = ao.S6.Ee[ao.stroke.types.indexOf(E.Styl.v.FStl)];
      K.strokeStyleOpacity = E.Opct;
      K.strokeStyleBlendMode = E.Md
  }
  ;
  h$.xh = function(E, K) {
      var i = [];
      for (var G = 0; G < E.length; G++)
          i.push({
              t: "UntF",
              v: {
                  type: "#Nne",
                  val: Math.round(E[G] * K)
              }
          });
      return i
  }
  ;
  h$.py = function(E, K, i, C) {
      this.BV = K.clone();
      this.ajk = K.clone();
      this.ajk.Lv(i, i);
      if (C) {
          this.BV.Lv(1, 1);
          this.T3 = _.I(this.BV.X());
          _.ie(E, K, this.T3, this.BV)
      } else
          this.T3 = E;
      this.vx = null;
      this.wt = null;
      this.NW = null
  }
  ;
  h$.py.prototype.oe = function() {
      return this.T3
  }
  ;
  h$.py.prototype.rect = function() {
      return this.BV
  }
  ;
  h$.py.prototype.F$ = function() {
      return this.ajk
  }
  ;
  h$.py.prototype.Mw = function() {
      if (this.vx)
          return this.vx;
      this.vx = this.oe().slice(0);
      _.KP(this.vx);
      return this.vx
  }
  ;
  h$.py.prototype.DL = function() {
      if (this.wt)
          return this.wt;
      this.wt = new Float64Array(this.rect().X());
      _.style.pA(this.Mw(), this.wt, this.rect().d, this.rect().v);
      return this.wt
  }
  ;
  h$.py.prototype.nB = function() {
      if (this.NW)
          return this.NW;
      var E = this.F$()
        , K = _.I(E.X());
      _.ie(this.oe(), this.rect(), K, E);
      this.NW = new Float64Array(E.X());
      _.style.pA(K, this.NW, E.d, E.v);
      return this.NW
  }
  ;
  h$.py.prototype.ab7 = function(E, K) {
      var i = {
          RN: -K,
          JZ: E,
          ku: null,
          hk: null
      };
      if (K == 0) {
          i.ku = this.rect();
          i.hk = this.DL();
          return i
      }
      var C = this.nB().slice(0)
        , N = this.F$();
      i.ku = N;
      i.hk = C;
      for (var G = 0; G < C.length; G++)
          C[G] = -C[G];
      if (E == 0)
          return i;
      var k = this.DL()
        , V = this.rect();
      for (var j = 0; j < V.v; j++)
          for (var a = 0; a < V.d; a++) {
              var e = j * V.d + a
                , L = (j + V.y - N.y) * N.d + a + V.x - N.x;
              C[L] += k[e]
          }
      return i
  }
  ;
  h$.py.prototype.aE = function(E, K, i) {
      var C = Math.ceil(E + K)
        , N = {
          g: this.rect().clone(),
          oe: null
      };
      N.g.Lv(C, C);
      N.oe = _.I(N.g.X());
      if (E == 0 && K == 0)
          _.uJ(i ? this.oe() : this.Mw(), N.oe);
      else {
          var k = _.I(N.g.X());
          _.ie(this.oe(), this.rect(), k, N.g);
          if (!i)
              _.KP(k);
          if (E != 0) {
              if (i)
                  _.style.xo(k, N.g, this.nB(), this.F$(), E);
              else
                  _.style.xo(k, N.g, this.DL(), this.rect(), E)
          }
          if (K != 0)
              _.Cu.hl(k, N.oe, N.g, Math.max(1, K * .43));
          else
              N.oe = k
      }
      return N
  }
  ;
  h$.py.prototype.jT = function(E, K, i) {
      var C = E * (K - .5)
        , N = {
          g: this.rect().clone(),
          oe: null
      };
      if (i)
          N.g.Lv(E, E);
      N.oe = _.I(N.g.X());
      var k = N.g.d
        , V = N.g.v
        , j = i ? this.nB() : this.DL()
        , a = i ? this.F$() : this.rect()
        , e = N.g
        , L = e.lx(a)
        , k = L.d
        , V = L.v
        , g = L.x - e.x
        , I = L.y - e.y
        , h = L.x - a.x
        , o = L.y - a.y
        , H = 1 - K * 2;
      for (var A = 0; A < V; A++)
          for (var S = 0; S < k; S++) {
              var v = j[(A + o) * a.d + S + h]
                , s = v / E;
              N.oe[(A + I) * e.d + S + g] = Math.max(0, Math.min(255, 255 - 255 * ((s + H) / (1 + H))))
          }
      return N
  }
  ;
  h$.Zm = function(E, K, i) {
      var C = E.Lefx
        , N = E.blendOptions;
      if (C) {
          var k = K.add.lmfx;
          if (i == null)
              i = k ? k.Scl.v.val : 100;
          K.add.lmfx = JSON.parse(JSON.stringify(C.v));
          h$.Wf(K.add.lmfx, i / K.add.lmfx.Scl.v.val);
          if (k)
              K.add.lmfx.Scl.v.val = k.Scl.v.val
      } else
          delete K.add.lmfx;
      if (N) {
          N = N.v;
          if (N.Md)
              K.SI = gx.pv(N.Md.v.BlnM);
          if (N.Opct)
              K.opacity = Math.round(N.Opct.v.val * 255 / 100);
          if (N.fillOpacity)
              K.add.iOpa = Math.round(N.fillOpacity.v.val * 255 / 100);
          if (N.Blnd) {
              var V = [];
              for (var G = 0; G < 10; G++)
                  V.push(0, 0, 255, 255);
              var j = N.Blnd.v
                , a = "SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
              for (var G = 0; G < j.length; G++) {
                  var e = j[G].v
                    , L = 8 * ["Gry", "Rd", "Grn", "Bl"].indexOf(e.Chnl.v[0].v.enum);
                  for (var g = 0; g < 8; g++) {
                      V[L + g] = e[a[g]].v
                  }
              }
              K.fA = V
          }
      }
  }
  ;
  h$.j4 = function(E) {
      var K = "SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ")
        , i = []
        , C = E.fA;
      for (var G = 0; G < 4; G++) {
          var N = G * 8;
          if (C[N] + C[N + 1] + C[N + 4] + C[N + 5] == 0 && C[N + 2] + C[N + 3] + C[N + 6] + C[N + 7] == 4 * 255)
              continue;
          var k = {
              t: "Objc",
              v: {
                  classID: "Blnd",
                  Chnl: {
                      t: "obj ",
                      v: [{
                          t: "Enmr",
                          v: {
                              classID: "Chnl",
                              typeID: "Chnl",
                              enum: ["Gry", "Rd", "Grn", "Bl"][G]
                          }
                      }]
                  }
              }
          };
          i.push(k);
          for (var V = 0; V < 8; V++)
              k.v[K[V]] = {
                  t: "long",
                  v: C[G * 8 + V]
              }
      }
      var j = {
          classID: "blendOptions"
      };
      if (E.SI != "norm")
          j.Md = {
              t: "enum",
              v: {
                  BlnM: gx.Ig(E.SI)
              }
          };
      if (E.opacity != 255)
          j.Opct = {
              t: "UntF",
              v: {
                  type: "#Prc",
                  val: Math.round(E.opacity * 100 / 255)
              }
          };
      if (E.add.iOpa != null)
          j.fillOpacity = {
              t: "UntF",
              v: {
                  type: "#Prc",
                  val: Math.round(E.add.iOpa * 100 / 255)
              }
          };
      if (i.length != 0)
          j.Blnd = {
              t: "VlLs",
              v: i
          };
      var a = {
          SV: {
              classID: "null",
              Idnt: {
                  t: "TEXT",
                  v: bl.Eu() + "-bd9f-11d5-b8ba-b73f8571793d"
              },
              Nm: {
                  t: "TEXT",
                  v: "Custom Style"
              }
          },
          jw: {
              classID: "Styl",
              blendOptions: {
                  t: "Objc",
                  v: j
              }
          }
      }
        , e = E.add.lmfx;
      if (e)
          a.jw.Lefx = {
              t: "Objc",
              v: e
          };
      return a
  }
  ;
  function eQ() {}
  eQ.Xv = function(E) {
      return JSON.parse(JSON.stringify(E))
  }
  ;
  eQ.X1 = function(E) {
      var K = eQ.Xv(eQ.a7N)
        , i = K.Brsh.v;
      if (E != null) {
          delete i.Hrdn;
          i.classID = "sampledBrush";
          i.Nm = {
              t: "TEXT",
              v: "layer.png"
          },
          i.sampledData = {
              t: "TEXT",
              v: E
          }
      }
      return K
  }
  ;
  eQ.a7N = {
      classID: "brushPreset",
      Nm: {
          t: "TEXT",
          v: "Custom Brush"
      },
      Brsh: {
          t: "Objc",
          v: {
              classID: "computedBrush",
              Dmtr: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 15
                  }
              },
              Hrdn: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 100
                  }
              },
              Angl: {
                  t: "UntF",
                  v: {
                      type: "#Ang",
                      val: 0
                  }
              },
              Rndn: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 100
                  }
              },
              Spcn: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 25
                  }
              },
              Intr: {
                  t: "bool",
                  v: !0
              },
              flipX: {
                  t: "bool",
                  v: !1
              },
              flipY: {
                  t: "bool",
                  v: !1
              }
          }
      },
      useTipDynamics: {
          t: "bool",
          v: !1
      },
      useScatter: {
          t: "bool",
          v: !1
      },
      dualBrush: {
          t: "Objc",
          v: {
              classID: "dualBrush",
              useDualBrush: {
                  t: "bool",
                  v: !1
              }
          }
      },
      brushGroup: {
          t: "Objc",
          v: {
              classID: "brushGroup",
              useBrushGroup: {
                  t: "bool",
                  v: !1
              }
          }
      },
      useTexture: {
          t: "bool",
          v: !1
      },
      usePaintDynamics: {
          t: "bool",
          v: !1
      },
      useColorDynamics: {
          t: "bool",
          v: !1
      },
      Wtdg: {
          t: "bool",
          v: !1
      },
      Nose: {
          t: "bool",
          v: !1
      },
      Rpt: {
          t: "bool",
          v: !1
      }
  };
  eQ.rn = {};
  eQ.rn.check = function(E) {
      var K = eQ.rn.Nt;
      for (var G = 0; G < K.length; G++)
          if (E[K[G]] == null)
              E[K[G]] = JSON.parse(eQ.rn.uD[K[G]]);
      var i = [];
      for (var G = 0; G < K.length; G++)
          i.push(K[G]);
      var C = eQ.rn.Ao;
      for (var G = 0; G < C.length; G++) {
          var N = C[G][0]
            , k = C[G][1]
            , V = !0;
          for (var j = 0; j < N.length; j++)
              V = V && E[N[j]].v == !0;
          if (V)
              for (var j = 0; j < k.length; j++) {
                  if (E[k[j]] == null)
                      console.log("Missing conditional parameter " + k[j]);
                  else
                      i.push(k[j])
              }
      }
      for (var a in E)
          if (i.indexOf(a) == -1)
              console.log("Extra parameter " + a);
      E = E.Brsh.v;
      K = eQ.rn.AC.Nt;
      for (var G = 0; G < K.length; G++)
          if (E[K[G]] == null)
              E[K[G]] = JSON.parse(eQ.rn.AC.uD[K[G]]);
      i = [];
      for (var G = 0; G < K.length; G++)
          if (E[K[G]])
              i.push(K[G]);
          else
              console.log("Missing default parameter " + K[G]);
      C = eQ.rn.AC.aa_[E.classID];
      for (var G = 0; G < C.length; G++)
          if (E[C[G]] == null && C[G] != "dtipsGridSize" && C[G] != "dtipsErodibleTipHeightMap" && E.acJ != 1)
              console.log("Missing conditional parameter " + C[G]);
          else
              i.push(C[G]);
      for (var a in E)
          if (i.indexOf(a) == -1)
              console.log("Extra parameter " + a)
  }
  ;
  eQ.rn.at = function(E) {
      var K = eQ.rn.Ao;
      for (var G = 0; G < K.length; G++) {
          var i = K[G][0]
            , C = K[G][1]
            , N = !0;
          for (var k = 0; k < i.length; k++)
              N = N && E[i[k]] && E[i[k]].v == !0;
          if (N) {
              for (var k = 0; k < C.length; k++)
                  if (E[C[k]] == null) {
                      E[C[k]] = JSON.parse(eQ.rn.uD[C[k]])
                  }
          } else
              for (var k = 0; k < C.length; k++)
                  if (E[C[k]] != null) {
                      delete E[C[k]]
                  }
      }
  }
  ;
  eQ.rn.AC = {};
  eQ.rn.AC.Nt = "classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
  eQ.rn.AC.uD = {
      flipX: "{\"t\":\"bool\",\"v\":false}",
      flipY: "{\"t\":\"bool\",\"v\":false}"
  };
  eQ.rn.AC.aa_ = {
      computedBrush: ["Hrdn", "Rndn"],
      sampledBrush: ["Nm", "Rndn", "sampledData"],
      dBrush: "Shp Dnst Lngt clumping thickness stiffness physics".split(" "),
      dTips: "dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")
  };
  eQ.rn.Ao = [[["useTipDynamics"], "flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")], [["usePaintDynamics"], ["prVr", "opVr", "wtVr", "mxVr"]], [["useBrushPose"], "overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")], [["useTexture"], "TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")], [["useColorDynamics"], "clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")], [["useScatter"], ["Cnt", "countDynamics", "bothAxes", "scatterDynamics"]], [["useScatter", "bothAxes"], ["Spcn"]]];
  eQ.rn.Nt = "classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
  eQ.rn.uD = {
      useBrushSize: "{\"t\":\"bool\",\"v\":false}",
      useBrushPose: "{\"t\":\"bool\",\"v\":false}",
      brushGroup: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",
      flipX: "{\"t\":\"bool\",\"v\":false}",
      flipY: "{\"t\":\"bool\",\"v\":false}",
      brushProjection: "{\"t\":\"bool\",\"v\":false}",
      minimumDiameter: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
      minimumRoundness: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",
      tiltScale: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",
      szVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      angleDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      roundnessDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      prVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      opVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      wtVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      mxVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      overridePoseAngle: "{\"t\":\"bool\",\"v\":false}",
      overridePoseTiltX: "{\"t\":\"bool\",\"v\":true}",
      overridePoseTiltY: "{\"t\":\"bool\",\"v\":true}",
      overridePosePressure: "{\"t\":\"bool\",\"v\":true}",
      brushPosePressure: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",
      brushPoseTiltX: "{\"t\":\"long\",\"v\":0}",
      brushPoseTiltY: "{\"t\":\"long\",\"v\":0}",
      brushPoseAngle: "{\"t\":\"long\",\"v\":0}",
      TxtC: "{\"t\":\"bool\",\"v\":false}",
      interpretation: "{\"t\":\"bool\",\"v\":true}",
      textureBlendMode: "{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",
      textureDepth: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",
      minimumDepth: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",
      textureDepthDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      Txtr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",
      textureScale: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",
      InvT: "{\"t\":\"bool\",\"v\":false}",
      textureBrightness: "{\"t\":\"long\",\"v\":14}",
      textureContrast: "{\"t\":\"long\",\"v\":100}",
      Cnt: "{\"t\":\"doub\",\"v\":4}",
      countDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      bothAxes: "{\"t\":\"bool\",\"v\":false}",
      scatterDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      clVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      H: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
      Strt: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
      Brgh: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",
      purity: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
      colorDynamicsPerTip: "{\"t\":\"bool\",\"v\":false}"
  };
  function aS(E, K) {
      this.aoI = E;
      this.m3 = K == null ? 0 : K;
      this.dir = 0
  }
  aS.prototype.vt = function(E, K) {
      var i = this.aoI
        , C = new bT(E.x - i.x,E.y - i.y)
        , N = new fn;
      N.rotate(-this.m3);
      C = N.uZ(C);
      if (this.dir == 0 && !i.Ql(E))
          this.dir = Math.abs(C.x) < Math.abs(C.y) ? 1 : 2;
      if (K.q(w.Gj)) {
          if (this.dir == 1)
              C.x = 0;
          if (this.dir == 2)
              C.y = 0
      }
      N.KP();
      C = N.uZ(C);
      var k = new bT(i.x + C.x,i.y + C.y);
      return k
  }
  ;
  function fr(E, K, i, C, N, k, V, j) {
      this.uQ = K;
      this.j$ = i;
      this.JT = k;
      this.eT = C;
      if (C.JO == null)
          C.JO = [!1, !0];
      this.JW = null;
      this.bg = null;
      this.vU = 0;
      this.ain = 0;
      this.aiC = 0;
      this.Cc = 0;
      this.cX = 0;
      this.amX = V;
      this.UP = new h4;
      this.WX = new h4;
      this.rect = new h4;
      if (j != null) {
          this.OR = j
      } else {
          var a = fr.I$;
          if (a.length != V.X() * 4)
              a = _.I(V.X() * 4);
          else
              a.fill(0);
          this.OR = fr.I$ = a
      }
      this.rect = V.clone();
      this.GQ = [];
      this.Bt = [];
      this.WK = null;
      this.sm = 0;
      this.O = null;
      this.yh = "";
      this.nl = null;
      this.XX(E, N)
  }
  fr.I$ = _.I(16);
  fr.prototype.XX = function(E, K) {
      this.sm = K;
      this.O = E;
      this.yh = JSON.stringify(E) + JSON.stringify(this.eT.zf);
      this.nl = fr.adY(E, this.uQ, this.j$)
  }
  ;
  fr.prototype.moveTo = function(E, K, i) {
      i = this.yy(i);
      this.vU = i;
      var C = new bT(E,K)
        , N = this.O.Brsh.v.Dmtr.v.val;
      this.JW = C.clone();
      this.bg = C.clone();
      this.WK = C.clone();
      this.GQ = [E, K];
      this.Bt = [i];
      var k = this.eT.JO;
      if (this.eT.s5 != fr.cV)
          this.LV(this.HF(C, this.uH() * (k[1] ? i : 1), this.eT.$J * (k[0] ? i * .5 : 1), new bT(0,0)));
      this.Cc = C.clone()
  }
  ;
  fr.prototype.lineTo = function(E, K, i) {
      i = this.yy(i);
      var C = this.GQ
        , N = C.length
        , k = C[N - 2]
        , V = C[N - 1];
      if (E == k && K == V)
          return;
      var j = this.O.Brsh.v.Dmtr.v.val
        , a = Math.ceil(j) + 1
        , e = new h4(Math.round(k),Math.round(V),0,0);
      e.Lv(a, a);
      var L = new h4(Math.round(E),Math.round(K),0,0);
      L.Lv(a, a);
      this.lm(e.ip(L));
      this.GQ.push(E, K);
      this.Bt.push(i);
      N += 2;
      if (N >= 6)
          this.LV(this.R8(N))
  }
  ;
  fr.prototype.yy = function(E) {
      if (E == null)
          E = 1;
      E = Math.max(.05, Math.min(5, E));
      if (isNaN(E)) {
          alert("Pressure is not a number");
          throw "e"
      }
      return E
  }
  ;
  fr.prototype.LV = function(E) {
      this.UP = E;
      this.WX = this.WX.ip(E)
  }
  ;
  fr.prototype.finish = function() {
      var E = this.GQ, K = E.length, i;
      if (K == 4)
          i = this.qo(E[K - 2], E[K - 1], this.Bt[(K >> 1) - 1], !0);
      if (K > 4)
          i = this.R8(K + 2);
      if (i)
          this.LV(i)
  }
  ;
  fr.prototype.R8 = function(E) {
      var K = this.GQ
        , i = this.Bt
        , C = K[E - 6]
        , N = K[E - 5]
        , k = K[E - 4]
        , V = K[E - 3]
        , j = i[(E >> 1) - 3]
        , a = i[(E >> 1) - 2]
        , e = new bT(0,0)
        , L = new bT(0,0);
      if (8 <= E)
          e = fr.H1(K[E - 8], K[E - 7], C, N, k, V);
      if (E <= K.length)
          L = fr.H1(K[E - 2], K[E - 1], k, V, C, N);
      var g = C + e.x
        , I = N + e.y
        , h = k + L.x
        , o = V + L.y
        , H = new h4;
      for (var G = 0; G < 10; G++) {
          var A = (G + 1) * .1
            , S = 1 - A
            , v = S * S * S * C + 3 * A * S * S * g + 3 * A * A * S * h + A * A * A * k
            , s = S * S * S * N + 3 * A * S * S * I + 3 * A * A * S * o + A * A * A * V
            , D = this.qo(v, s, j + A * (a - j));
          H = H.ip(D)
      }
      return H
  }
  ;
  fr.H1 = function(E, K, i, C, N, k) {
      var V = E - i
        , j = K - C
        , a = N - i
        , e = k - C
        , L = Math.sqrt(V * V + j * j)
        , g = Math.sqrt(a * a + e * e)
        , I = Math.acos((V * a + j * e) / (L * g)) / Math.PI
        , h = .35
        , o = .1;
      I = o + I * (h - o);
      var H = N - E
        , A = k - K
        , S = Math.sqrt(H * H + A * A)
        , v = I * g / S;
      return new bT(H * v,A * v)
  }
  ;
  fr.prototype.qo = function(E, K, i, C) {
      var N = new h4
        , k = this.eT.a1x;
      if (k == null)
          k = 0;
      if (k == 0 || C) {
          N = this.Wn(E, K, i);
          return N
      }
      var V = this.WK
        , j = E - V.x
        , a = K - V.y
        , e = Math.sqrt(j * j + a * a);
      j /= e;
      a /= e;
      if (e > k) {
          var L = V.x + j * (e - k)
            , g = V.y + a * (e - k);
          N = this.Wn(L, g, i);
          this.WK.Wm(L, g)
      }
      return N
  }
  ;
  fr.prototype.Wn = function(E, K, i) {
      var C = new h4
        , N = new bT(E,K)
        , k = this.O.Brsh.v.Dmtr.v.val
        , V = this.eT.s5
        , j = N.g7(this.bg);
      j.normalize(1);
      var a = bT.zL(this.bg, N)
        , e = -this.ain
        , L = this.bg.clone()
        , g = this.eT.JO;
      while (!0) {
          var I = this.vU + (i - this.vU) * (Math.max(0, e) / a)
            , h = this.uH() * (g[1] ? I : 1)
            , o = this.aei() * (h + this.aiC) / 2;
          if (V == fr.cV)
              o = 1;
          if (e + o < a) {
              e += o;
              var H = new bT(this.bg.x + j.x * e,this.bg.y + j.y * e)
                , v = 1;
              if (V == fr.cV) {
                  var A = L.clone();
                  A.x += j.x > 0 ? 1 : -1;
                  var S = L.clone();
                  S.y += j.y > 0 ? 1 : -1;
                  if (bT.zL(A, H) < bT.zL(S, H))
                      H = A;
                  else
                      H = S;
                  e = bT.zL(H, this.bg)
              }
              if (this.O.useScatter.v == !0) {
                  v = this.O.Cnt.v;
                  var s = this.O.countDynamics.v.jitter.v.val / 100
                    , D = s * (-1 + 2 * this.ex());
                  v += Math.round(v * D)
              }
              for (var G = 0; G < v; G++) {
                  var F = this.HF(H, h, this.eT.$J * (g[0] ? I * .5 : 1), j);
                  C = C.ip(F)
              }
              L = H
          } else
              break
      }
      this.ain = a - e;
      this.bg = N;
      this.vU = i;
      return C
  }
  ;
  fr.prototype.aei = function() {
      var E = this.O.Brsh.v
        , K = E.Spcn.v.val
        , i = Math.max(5, E.Rndn.v.val);
      return i / 100 * (K / 100)
  }
  ;
  fr.prototype.uH = function() {
      var E = this.O
        , K = E.Brsh.v.Dmtr.v.val;
      if (E.useTipDynamics.v) {
          var i = K * (E.minimumDiameter.v.val / 100);
          K = i + (K - i) * (1 - this.ex() * (E.szVr.v.jitter.v.val / 100))
      }
      return K
  }
  ;
  fr.prototype.HF = function(E, K, i, C) {
      i = Math.min(1, i);
      var N = this.O
        , k = this.O.Brsh.v
        , V = k.Dmtr.v.val
        , j = this.eT
        , a = j.s5
        , e = j.afL
        , L = new fn;
      L.translate(-this.nl.$A.d / 2, -this.nl.$A.v / 2);
      L.scale(1 / this.nl.a9F, 1 / this.nl.a9F);
      L.scale(K / V, K / V);
      L.scale(1, Math.max(5, k.Rndn.v.val) / 100);
      if (N.useTipDynamics.v) {
          var g = N.minimumRoundness.v.val / 100;
          L.scale(1, g + (1 - g) * Math.round(100 - this.ex() * N.roundnessDynamics.v.jitter.v.val) / 100);
          L.rotate((-.5 + this.ex()) * 4 * Math.PI * (N.angleDynamics.v.jitter.v.val / 100))
      }
      L.rotate(k.Angl.v.val * (Math.PI / 180));
      if (N.useScatter.v) {
          var I = (-1 + 2 * this.ex()) * N.scatterDynamics.v.jitter.v.val / 100;
          L.translate(-I * K * C.y, I * K * C.x)
      }
      L.translate(E.x, E.y);
      var h = this.a5h(L, E);
      this.lm(h.rect);
      var o = h.rect.clone();
      if (a == null) {
          var H = this.Gk(N);
          _.EE(h.cw, Math.round(H.O * 255) << 16 | Math.round(H.l * 255) << 8 | Math.round(H.h * 255) << 0, 4278190080);
          if (this.WX.OL() && this.rect.Ql(h.rect) && i == 1)
              this.OR = h.cw.slice(0);
          else
              _.p.akE(h.cw, h.rect, this.OR, this.rect, h.rect, i)
      }
      if (a == fr.cV) {
          var A = new bT(h.rect.x + h.rect.d / 2,h.rect.y + h.rect.v / 2)
            , S = Math.round(A.x - this.Cc.x)
            , v = Math.round(A.y - this.Cc.y)
            , s = h.rect.clone();
          s.offset(-S, -v);
          var D = s.lx(this.rect);
          D.offset(S, v);
          _.p8(this.OR, this.rect, h.cw, s);
          _.p.uI(h.cw, h.rect, this.OR, this.rect, h.Z6, h.rect, i)
      }
      if (a == fr.nr || a == fr.Uv || a == fr.yS) {
          var F = h.rect.lx(this.rect), y;
          if (F.Ql(h.rect))
              y = h.Z6;
          else {
              y = _.I(F.X());
              _.ie(h.Z6, h.rect, y, F)
          }
          var T = _.I(F.X() * 4);
          _.p8(this.OR, this.rect, T, F);
          if (a == fr.Uv) {
              var Q = T.slice(0)
                , B = _.UZ.Wj([-1, -1, -1, -1, 25, -1, -1, -1, -1]);
              _.UZ.Zl(T, Q, F.d, F.v, B, 0);
              _.uJ(Q, T)
          } else if (a == fr.yS) {
              var r = ef.Sk("UnsM");
              r.Amnt.v.val = 15;
              r.Thsh.v = 0;
              r.Rds.v.val = 5;
              var Q = _.I(T.length);
              ef.aL("UnsM", {
                  buffer: T,
                  rect: F
              }, r, 0, 0, {
                  buffer: Q,
                  rect: F
              });
              _.uJ(Q, T)
          } else {
              ef.Ca(1, _.Cu.DO, T, F)
          }
          _.p.uI(T, F, this.OR, this.rect, y, F, i)
      }
      this.aiC = K;
      this.Cc = A;
      return o
  }
  ;
  fr.prototype.Gk = function(E) {
      var K = fr.tk(this.sm);
      if (E.useColorDynamics && E.useColorDynamics.v) {
          var i = 1 - this.ex() * E.clVr.v.jitter.v.val / 100
            , C = fr.tk(this.JT);
          K.h = i * K.h + (1 - i) * C.h;
          K.l = i * K.l + (1 - i) * C.l;
          K.O = i * K.O + (1 - i) * C.O;
          var N = (-.5 + this.ex()) * E.H.v.val / 100
            , k = (-1 + 2 * this.ex()) * E.Strt.v.val / 100
            , V = (-1 + 2 * this.ex()) * E.Brgh.v.val / 100
            , j = _.Et(K.h, K.l, K.O);
          j.w1 = (j.w1 + N + 1) % 1;
          j.Us = j.Us + k;
          if (j.Us < 0)
              j.Us = -j.Us;
          if (j.Us > 1)
              j.Us = 1 - (j.Us - 1);
          j.Gb = j.Gb + V;
          if (j.Gb < 0)
              j.Gb = -j.Gb;
          if (j.Gb > 1)
              j.Gb = 1 - (j.Gb - 1);
          K = _.Np(j.w1, j.Us, j.Gb)
      }
      return K
  }
  ;
  fr.prototype.rn = function(E) {
      return Math.max(0, Math.min(1, E))
  }
  ;
  fr.prototype.ex = function() {
      this.cX++;
      return fr.hash(this.cX)
  }
  ;
  fr.tk = function(E) {
      return {
          h: (E >> 16 & 255) / 255,
          l: (E >> 8 & 255) / 255,
          O: (E >> 0 & 255) / 255
      }
  }
  ;
  fr.hash = function(E) {
      E = E ^ 61 ^ E >> 16;
      E = E + (E << 3);
      E = E ^ E >> 4;
      E = E * 668265261;
      E = E ^ E >> 15;
      return (E & 16777215) / 16777215
  }
  ;
  fr.Oo = [];
  fr.ai3 = function(E, l) {
      var K = E.x$()
        , i = l.x$();
      if (K < i) {
          var C = K;
          K = i;
          i = C
      }
      var N = E.R - l.R
        , k = E.O - l.O
        , V = E.x9 - l.x9
        , j = E.bI - l.bI;
      return i != 0 && K - i < .025 && Math.max(N * N, k * k, V * V, j * j) <= .01
  }
  ;
  fr.prototype.a5h = function(E, K) {
      var i = null, k;
      for (var G = 0; G < fr.Oo.length; G++)
          if (fr.Oo[G].yh == this.yh) {
              i = fr.Oo[G];
              fr.Oo.splice(G, 1)
          }
      if (i == null)
          i = {
              XK: [],
              yh: this.yh,
              Xc: 0,
              X: 0
          };
      var C = i.XK
        , N = this.eT.zf;
      if (N) {
          E = E.clone();
          E.vK = Math.floor(E.vK);
          E.Cz = Math.floor(E.Cz)
      }
      var V = fr.zQ(E.vK, E.Cz);
      for (var G = 0; G < C.length; G++) {
          var j = C[G];
          if (!fr.ai3(j.BF, E))
              continue;
          if (fr.a35(j.Mf, V) < .2 || j.rect.X() > 2500) {
              k = j;
              break
          }
      }
      var a = Math.round(this.O.Brsh.v.Dmtr.v.val);
      if (k) {
          k.rect.x = Math.round(k.ae.x - k.BF.vK + E.vK);
          k.rect.y = Math.round(k.ae.y - k.BF.Cz + E.Cz);
          if (N) {
              k.rect.x = Math.round(K.x - k.rect.d / 2);
              k.rect.y = Math.round(K.y - k.rect.v / 2)
          }
          k.Xc = Date.now()
      } else {
          var e;
          if (N && a <= 3) {
              e = {
                  buffer: _.I(a * a * 4),
                  rect: new h4(Math.round(K.x - a / 2),Math.round(K.y - a / 2),a,a)
              };
              _.EE(e.buffer, 4278190080)
          } else if (E.R == 1 && E.O == 0 && E.x9 == 0 && E.bI == 1) {
              e = {
                  buffer: this.nl.cw,
                  rect: this.nl.$A.clone()
              };
              e.rect.x = Math.round(E.vK);
              e.rect.y = Math.round(E.Cz)
          } else
              e = u._.VT([this.nl.cw, this.nl.$A], E);
          if (N) {
              for (var G = 0; G < e.buffer.length; G++)
                  e.buffer[G] = e.buffer[G] > 127 ? 255 : 0
          }
          if (e == null)
              e = {
                  buffer: _.I(0),
                  rect: new h4
              };
          var L = E.vK - Math.floor(E.vK)
            , g = E.Cz - Math.floor(E.Cz);
          k = {
              cw: e.buffer,
              Z6: _.I(e.rect.X()),
              rect: e.rect,
              ae: e.rect.clone(),
              BF: E,
              Mf: fr.zQ(E.vK, E.Cz),
              Xc: Date.now()
          };
          _.wF(k.cw, k.Z6, 3);
          C.push(k);
          i.X += e.rect.X();
          if (C.length > 2e3 || i.X > 100 * 100 * 400) {
              console.log("pruning", i.X, C.length);
              C.sort(function(h, o) {
                  return o.Xc - h.Xc
              });
              while (C.length > 1e3 || i.X > 100 * 100 * 200) {
                  var I = C.pop();
                  i.X -= I.rect.X()
              }
          }
      }
      i.XK = C;
      i.Xc = Date.now();
      fr.Oo.push(i);
      fr.Oo.sort(function(h, o) {
          return o.Xc - h.Xc
      });
      while (fr.Oo.length > 3)
          fr.Oo.pop();
      return k
  }
  ;
  fr.zQ = function(E, K) {
      return new bT(E - Math.floor(E),K - Math.floor(K))
  }
  ;
  fr.a35 = function(E, K) {
      var i = K.x
        , C = K.y
        , N = Math.abs(i - E.x)
        , k = Math.abs(C - E.y);
      if (Math.abs(i - 1 - E.x) < N)
          i--;
      else if (Math.abs(i + 1 - E.x) < N)
          i++;
      if (Math.abs(C - 1 - E.y) < k)
          C--;
      else if (Math.abs(C + 1 - E.y) < k)
          C++;
      N = E.x - i;
      k = E.y - C;
      return Math.sqrt(N * N + k * k)
  }
  ;
  fr.prototype.lm = function(E) {}
  ;
  fr.adY = function(E, K, i) {
      var C, N, k, V = E.Brsh.v.Dmtr.v.val;
      if (E.Brsh.v.classID == "computedBrush") {
          var j = E.Brsh.v.Hrdn.v.val / 100
            , a = 1 + .55 * (1 - j);
          k = V < 100 ? 1.2 : 1;
          var e = Math.round(k * V * a);
          N = new h4(0,0,e,e);
          C = _.I(e * e * 4);
          var L = new Uint32Array(C.buffer)
            , g = e / 2
            , I = a / g
            , h = Date.now()
            , o = fr.NS(j)
            , H = Math.round(8e3 / g)
            , K = o[0]
            , A = o[1] - H
            , S = o[2] + H
            , v = Math.min(e, (e >>> 1) + 1);
          for (var G = 0; G < v; G++) {
              var s = I * (G - g + .25);
              s *= s;
              var D = I * (G - g + .75);
              D *= D;
              var F = G * e
                , y = (e - 1 - G) * e;
              for (var T = 0; T < v; T++) {
                  var Q = I * (T - g + .25)
                    , B = Math.floor(Math.sqrt(Q * Q + s) * (4e3 / 1.55));
                  if (S < B)
                      continue;
                  else if (B < A) {
                      var r = 4278190080;
                      while (T < v) {
                          var J = e - 1 - T;
                          L[F + T] = r;
                          L[F + J] = r;
                          L[y + T] = r;
                          L[y + J] = r;
                          T++
                      }
                      break
                  } else {
                      var m = I * (T - g + .75)
                        , x = Math.floor(Math.sqrt(m * m + s) * (4e3 / 1.55))
                        , R = Math.floor(Math.sqrt(Q * Q + D) * (4e3 / 1.55))
                        , b = Math.floor(Math.sqrt(m * m + D) * (4e3 / 1.55))
                        , r = ~~(.5 + 255 * .25 * (K[B] + K[x] + K[R] + K[b])) << 24
                        , J = e - 1 - T;
                      L[F + T] = r;
                      L[F + J] = r;
                      L[y + T] = r;
                      L[y + J] = r
                  }
              }
          }
      }
      if (E.Brsh.v.classID == "sampledBrush") {
          var z;
          for (var G = 0; G < K.length; G++)
              if (K[G].id == E.Brsh.v.sampledData.v)
                  z = K[G];
          N = new h4(0,0,z.g.d,z.g.v);
          k = Math.max(N.d, N.v) / V;
          C = _.I(N.X() * 4);
          _.lM(z.channel, C, 3)
      }
      while (Math.min(N.d, N.v) > V * 2) {
          var $ = new h4(N.x,N.y,Math.floor(N.d / 2),Math.floor(N.v / 2))
            , P = u._.VT([C, N], new fn($.d / N.d,0,0,$.v / N.v,0,0));
          k *= $.d / N.d;
          N = P.rect;
          C = P.buffer
      }
      return {
          a9F: k,
          $A: N,
          cw: C
      }
  }
  ;
  fr.LW = [];
  fr.NS = function(E) {
      if (fr.LW[E])
          return fr.LW[E];
      var K = Math.pow(E, .55)
        , i = new Float64Array(8e3)
        , C = 0
        , N = 8e3;
      for (var G = 0; G < 8e3; G++) {
          var k = fr.a8l(G * (1.55 / 4e3), K);
          if (k >= 1)
              C = G;
          else if (k <= 0 && N == 8e3)
              N = G;
          i[G] = k
      }
      var V = [i, C, N];
      fr.LW[E] = V;
      return V
  }
  ;
  fr.a8l = function(E, K) {
      var i = E < K ? 1 : fr.afP((E - K) / Math.pow(1.001 - K, .86));
      return i
  }
  ;
  fr.afP = function(E) {
      var K = E * .85;
      return Math.exp(-(K * K) * (1 / (2 * .4 * .4))) * (1 / (.4 * Math.sqrt(2 * Math.PI)))
  }
  ;
  fr.prototype.Qc = function() {
      return this.rect.clone()
  }
  ;
  fr.prototype.fo = function() {
      return this.UP.lx(this.rect)
  }
  ;
  fr.prototype.oi = function() {
      return this.WX.lx(this.rect)
  }
  ;
  fr.prototype.wc = function() {
      return this.OR
  }
  ;
  fr.n4 = null;
  fr.se = null;
  fr.rP = function(E, K, i, C, N, k) {
      var V = fr.n4
        , j = fr.se;
      if (V == null) {
          fr.n4 = V = c.w("canvas", "");
          fr.se = j = V.getContext("2d")
      }
      if (k == null)
          k = C;
      if (V.width != k || V.height != N) {
          V.width = k;
          V.height = N
      } else
          j.clearRect(0, 0, k, N);
      j.fillStyle = "#000000";
      j.font = Math.floor(10 * c.M()) + "px sans-serif";
      var a = E.Brsh.v.Dmtr.v.val
        , e = "" + a
        , L = j.measureText(e);
      j.fillText(e, (C - L.width) / 2, N - 2);
      var g = C
        , I = N - 10 * c.M()
        , h = Math.min(g, I)
        , o = E.Brsh.v.classID;
      if (o == "computedBrush") {
          j.translate(g / 2, I / 2);
          j.rotate(-E.Brsh.v.Angl.v.val * Math.PI / 180);
          j.scale(1, .1 + .9 * E.Brsh.v.Rndn.v.val / 100);
          var H = Math.min(.95 * h / 2, a / 2) + .5
            , A = .9 * E.Brsh.v.Hrdn.v.val / 100
            , S = j.createRadialGradient(0, 0, 0, 0, 0, H);
          S.addColorStop(A, "rgba(0,0,0,1)");
          S.addColorStop((.5 + A) / 1.5, "rgba(0,0,0,.5)");
          S.addColorStop(1, "rgba(0,0,0,0)");
          j.fillStyle = S;
          j.fillRect(-H, -H, 2 * H, 2 * H);
          j.setTransform(1, 0, 0, 1, 0, 0)
      } else if (o == "sampledBrush") {
          var v, T = 0;
          for (var G = 0; G < K.length; G++)
              if (K[G].id == E.Brsh.v.sampledData.v)
                  v = K[G];
          var s = v.ajv;
          if (s == null) {
              s = v.ajv = [v.channel, v.g];
              _.L$(s)
          }
          var D = v.channel
            , F = v.g.d
            , y = v.g.v;
          while ((F > g || y > I) && s[T + 2]) {
              T += 2;
              D = s[T];
              F = s[T + 1].d;
              y = s[T + 1].v
          }
          if (F * y != 0) {
              var Q = _.I(F * y * 4);
              _.lM(D, Q, 3);
              var B = new ImageData(new Uint8ClampedArray(Q.buffer),F,y);
              j.putImageData(B, Math.round((g - F) / 2), Math.round((I - y) / 2))
          }
      } else {}
      return V.toDataURL()
  }
  ;
  fr.fm = function(E, K, i, C) {
      if (i == 0)
          i = 1;
      var N = E.Brsh.v, k = N.Dmtr.v.val, V = N.Dmtr.v.val = Math.min(C != null ? Math.round(C * 2.6) : 3e3, k * i), j = N.Hrdn ? N.Hrdn.v.val / 100 : 1, a = C != null ? C : Math.round(V * (1 + .55 * (1 - j))) + 4, g;
      a = Math.max(15, Math.min(a, 3e3));
      var e = new h4(0,0,a,a)
        , L = new fr(E,K,null,{
          $J: 1
      },16711712,0,e);
      N.Dmtr.v.val = k;
      L.moveTo(e.d / 2, e.v / 2);
      var I = L.wc()
        , h = L.Qc();
      if (e.Ql(h))
          g = I;
      else {
          g = _.I(e.X() * 4);
          _.p8(I, h, g, e)
      }
      return [g, e, V]
  }
  ;
  fr.da = function(E, K, i, C) {
      var N = fr.fm(E, K, i)
        , k = N[0].slice(0)
        , V = N[1]
        , j = N[2]
        , a = V.X()
        , e = _.I(a);
      _.wF(k, e, 3);
      var L = _.I(a);
      _.N.agY(e, L, V);
      if (j < 3 || _.K9(L, 0) || C && j > 12) {
          var g = V.d
            , I = g >>> 1
            , h = L
            , o = 255;
          for (var G = 0; G < 4; G++) {
              h[g * (I - 6 + G) + I] = o;
              h[g * I + I - 6 + G] = o;
              h[g * I + I + 6 - G] = o;
              h[g * (I + 6 - G) + I] = o
          }
      }
      var H = [1, 2, 1, 2, 8, 2, 1, 2, 1];
      H = _.UZ.Wj(H);
      _.UZ.Kh(L, e, V.d, V.v, H);
      _.EE(k, 4294967295);
      _.lM(e, k, 3);
      for (var G = 0; G < a; G++)
          if (L[G] == 255) {
              k[G << 2] = k[(G << 2) + 1] = k[(G << 2) + 2] = 0;
              k[(G << 2) + 3] = 255
          }
      return {
          Ap: k,
          g: V,
          fu: new bT(V.d / 2,V.v / 2)
      }
  }
  ;
  fr.cV = "0";
  fr.nr = "1";
  fr.Uv = "2";
  fr.yS = "3";
  var dR = {};
  dR.n4 = document.createElement("canvas");
  dR.se = dR.n4.getContext("2d");
  dR.sX = function(E, K) {
      var i = E.lY(), j;
      if (i.x == Infinity || i.OL())
          return {
              OR: _.I(0),
              g: new h4,
              u9: new h4
          };
      var C = E.lY()
        , N = dR.Nr(E, K)
        , k = _.$.PA(N.H);
      if (k.OL())
          return {
              OR: _.I(0),
              g: new h4,
              u9: new h4
          };
      var V = _.Zg(k.d, k.v);
      V.translate(-k.x, -k.y);
      dR.adx(N, V);
      if (E.dP.length != 0) {
          var a = cO.aj(K)
            , e = V.getImageData(0, 0, k.d, k.v);
          j = new Uint8Array(e.data.buffer);
          if (a == 0)
              for (var G = 0; G < j.length; G += 4)
                  j[G + 3] = j[G + 3] > 80 ? 255 : 0;
          if (a == 3)
              for (var G = 0; G < j.length; G += 4)
                  j[G + 3] = Math.min(255, j[G + 3] * 1.5)
      } else
          j = _.I(k.X() * 4);
      V.resetTransform();
      V.beginPath();
      return {
          OR: j,
          g: k,
          u9: C
      }
  }
  ;
  dR.Nr = function(E, K) {
      var i = {
          Z: [],
          H: []
      }
        , C = K.m
        , N = cO.aj(K)
        , k = Math.max(C.O * C.O, C.x9 * C.x9) < 1e-9 ? C : null;
      if (N == 3 || N == 4)
          k = null;
      dR.ah4(E, i, k);
      if (!_.oC._9(K.xA)) {
          var V = _.$.Rk(i.H);
          i = _.$.Eq(i);
          i = _.$.Ye(i, Math.min(V.d, V.v) / 8);
          var j = cO.Qc(K, E)
            , a = _.oC.T4(K.xA, j);
          _.cP.apply(a, i.H, j)
      }
      _.$.m(i.H, C, i.H);
      return i
  }
  ;
  dR.adx = function(E, K) {
      Typr.U.pathToContext({
          crds: E.H,
          cmds: E.Z
      }, K)
  }
  ;
  dR.WW = function(E, K) {
      if (!g_.y9())
          return;
      var i = E.Ou
        , C = i.ResourceDict.FontSet
        , N = i.ResourceDict.StyleSheetSet[0].StyleSheetData
        , k = i.EngineDict.StyleRun.RunLengthArray
        , V = i.EngineDict.StyleRun.RunArray
        , j = cO.Es(i)
        , a = !0
        , e = {}
        , L = 0;
      for (var G = 0; G < V.length; G++) {
          var g = V[G].StyleSheet.StyleSheetData.Font;
          if (g == null)
              g = N.Font;
          for (var I = 0; I < k[G]; I++) {
              var h = j.charCodeAt(L + I)
                , o = g + "," + (h > 128 ? h : -1);
              if (e[o] == null) {
                  e[o] = 1;
                  if (K.eK(C[g].Name, h) == null)
                      a = !1
              }
          }
          L += k[G]
      }
      return a
  }
  ;
  dR.ah4 = function(E, K, i) {
      var C = new fn;
      for (var G = 0; G < E.oN.length; G++)
          dR.a8g(E.dP, E.oN[G], K, C, i)
  }
  ;
  dR.a8g = function(E, K, i, C, N) {
      C.translate(K.Mf.x, K.Mf.y);
      for (var G = 0; G < K.Pg.length; G++) {
          var k = {}
            , V = K.Pg[G];
          if (!V.qF)
              break;
          var j = C.clone();
          j.translate(V.Mf.x, V.Mf.y);
          if (N) {
              var a = N.Cz + j.Cz * N.bI;
              j.Cz = (Math.round(a) - N.Cz) / N.bI
          }
          for (var e = V.start; e < V.end; e++)
              dR.a65(E, K.Gt[e], K, k, i, j)
      }
      C.translate(-K.Mf.x, -K.Mf.y)
  }
  ;
  dR.acq = "()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
  dR.a65 = function(E, K, i, C, N, k) {
      k.translate(K.Mf.x, K.Mf.y);
      for (var V = K.N2; V <= K.Au; V++) {
          var j = i.gu[V]
            , a = j.g.d
            , e = E[i.a90 + j.Nm];
          if (e.OK == "\n")
              continue;
          var L = e.Mq.FontSize / e.G7.head.unitsPerEm
            , g = cO.Gk(e.Mq)
            , I = (Math.round(g.h) << 16) + (Math.round(g.l) << 8) + Math.round(g.O);
          N.Z.push("#" + _.rS(I));
          var h = k.clone();
          h.translate(j.Mf.x + j.e7 * L, j.Mf.y - j.m9 * L);
          var o = new fn;
          o.scale(L, -L);
          if (e.FD == 1 && dR.acq.indexOf(e.OK) != -1)
              o.concat(new fn(-1,0,0,1,a,0));
          if (e.Mq.FauxItalic)
              o.concat(new fn(1,0,-Math.tan(.18),1,0,0));
          o.translate(0, e.SF);
          o.scale(e.scale.x, e.scale.y);
          if (e.Mq.BaselineShift != null)
              o.translate(0, -e.Mq.BaselineShift);
          if (j.m3 != 0) {
              o.rotate(-j.m3)
          }
          o.concat(h);
          if (j.path.Z.length != 0 && e.OK != "\t") {
              if (e.Mq.FauxBold) {
                  var H = e.Mq.FontSize / 2048 * 27 * e.scale.x;
                  o.vK += H;
                  _.$.concat(N, j.path, o);
                  o.vK -= H + H;
                  _.$.concat(N, j.path, o)
              } else
                  _.$.concat(N, j.path, o)
          }
          if (e.OK != "\n") {
              if (e.Mq.Underline) {
                  if (C.gj == null)
                      C.gj = e.G7.post.underlineThickness;
                  if (C.adD == null)
                      C.adD = e.G7.post.underlinePosition;
                  var A = 0
                    , S = C.adD - C.gj / 2
                    , v = j.ES * 1.05
                    , s = -C.gj;
                  _.$.concat(N, {
                      Z: ["M", "L", "L", "L", "Z"],
                      H: [A, S, A + v, S, A + v, S + s, A, S + s]
                  }, o)
              }
              if (e.Mq.Strikethrough) {
                  var D = e.G7["OS/2"].yStrikeoutSize
                    , F = e.G7["OS/2"].yStrikeoutPosition
                    , A = 0
                    , S = F + D / 2
                    , v = j.ES * 1.05
                    , s = -D;
                  _.$.concat(N, {
                      Z: ["M", "L", "L", "L", "Z"],
                      H: [A, S, A + v, S, A + v, S + s, A, S + s]
                  }, o)
              }
          }
          N.Z.push("X")
      }
      k.translate(-K.Mf.x, -K.Mf.y)
  }
  ;
  function g_(E, K) {
      var i = cO.O1(E), C, N, k = cO.nh(E), a;
      if (E.Curve)
          N = g_.$V(E.Curve);
      if (i != 0) {
          C = new h4(k[0],k[1],k[2],k[3]);
          if (i == 2) {
              C.d = N[5] - N[4];
              C.v = 9999
          }
      }
      this.oN = [];
      this.dP = [];
      this.wn = i;
      var V = this.akr = cO.Es(E)
        , j = -1;
      for (var G = 0; G < V.length; G++) {
          var e = a
            , L = cO.mn(E, G);
          if (L != j) {
              j = L;
              e = a = cO.akP(E, G)
          }
          var g = {
              OK: V.charAt(G),
              Mq: e,
              G7: null,
              KU: -1,
              SF: 0,
              scale: new bT(0,0),
              LQ: 0,
              lineHeight: 0,
              FD: 0
          }
            , I = E.ResourceDict.FontSet[e.Font].Name
            , h = g.G7 = K.eK(I, V.charCodeAt(G));
          g.scale.x = e.HorizontalScale == null ? 1 : e.HorizontalScale;
          g.scale.y = e.VerticalScale == null ? 1 : e.VerticalScale;
          var o = h["OS/2"]
            , H = h.hhea;
          if (e.FontCaps == 1 && g.OK != g.OK.toUpperCase()) {
              var A = o.sxHeight ? o.sxHeight / o.sTypoAscender : .76;
              g.scale.x *= A;
              g.scale.y *= A
          }
          var S = 1 / h.head.unitsPerEm * e.FontSize;
          if (e.FontBaseline == 1) {
              var A = E.ResourceDict.SuperscriptSize;
              g.scale.x *= A;
              g.scale.y *= A;
              g.SF -= E.ResourceDict.SuperscriptPosition * e.FontSize
          }
          if (e.FontBaseline == 2) {
              var A = E.ResourceDict.SubscriptSize;
              g.scale.x *= A;
              g.scale.y *= A;
              g.SF += E.ResourceDict.SubscriptPosition * e.FontSize
          }
          var v = g_.LQ(h, I);
          g.LQ = v * S;
          g.lineHeight = e.FontSize * 1.2;
          if (e.AutoLeading == !1)
              g.lineHeight = e.Leading;
          if (g.lineHeight == 0)
              g.lineHeight = .001;
          this.dP.push(g)
      }
      var s = this.oN
        , D = [0];
      for (var G = 0; G < E.EngineDict.ParagraphRun.RunLengthArray.length; G++) {
          var F = new g_.tP(E,K,this.dP,G,C,D,i == 1 ? N : null);
          s.push(F)
      }
      if (i == 2) {
          var y = E.Curve.Points
            , T = N[0]
            , Q = N[1]
            , B = N[2]
            , r = N[3]
            , J = N[4]
            , m = N[5];
          for (var G = 0; G < s.length; G++)
              for (var x = 0; x < s[G].Pg.length; x++)
                  if (!(G == 0 && x == 0))
                      s[G].Pg[x].qF = !1;
          var F = s[0]
            , R = F.Pg[0];
          F.Mf.Wm(0, 0);
          R.Mf.Wm(0, 0);
          for (var x = R.start; x < R.end; x++) {
              var b = F.Gt[x]
                , z = b.Mf.x;
              b.Mf.x = 0;
              for (var $ = b.N2; $ <= b.Au; $++) {
                  var P = F.gu[$]
                    , t = P.g.d / 2;
                  P.Mf.x += z;
                  var X = g_.aeg(T, (J + P.Mf.x + t) % r);
                  P.Mf.x = X[0] - t * X[2];
                  P.Mf.y = X[1] - t * X[3];
                  P.m3 = Math.atan2(X[3], X[2])
              }
          }
      }
  }
  g_.LQ = function(E, K) {
      var i = E["OS/2"]
        , C = E.hhea
        , N = 0
        , N = 0
        , k = [];
      k.push(i && i.sxHeight && K.toLowerCase().indexOf("capitals") != -1 ? i.sxHeight : 0);
      k.push(i && i.sCapHeight ? i.sCapHeight : 0);
      k.push(i && i.sTypoAscender ? i.sTypoAscender : 0);
      k.push(C.ascender ? C.ascender : 0);
      for (var V = 0; V < k.length; V++)
          if (k[V] != 0) {
              N = k[V];
              break
          }
      return N
  }
  ;
  g_.prototype.amc = function() {
      return !this.Ew(0)
  }
  ;
  g_.prototype.a1c = function() {
      return this.Ew(1)
  }
  ;
  g_.prototype.Ew = function(E) {
      var K = this.oN
        , i = !0
        , C = 0;
      for (var G = 0; G < K.length; G++) {
          var N = K[G].Pg
            , k = N.length;
          C += k;
          for (var V = 0; V < k; V++)
              i &= N[V].qF
      }
      return [i, C][E]
  }
  ;
  g_.$V = function(E) {
      var K = E.Points
        , i = K.length
        , C = i >>> 3
        , N = E.TextOnPathTRange
        , k = E.Reversed
        , L = 0
        , g = 0;
      if (k) {
          var V = K.slice(0);
          for (var G = 0; G < i; G += 2) {
              V[G] = K[i - 2 - G];
              V[G + 1] = K[i - 1 - G]
          }
          K = V;
          N = [C - N[1] % C, C - N[0] % C]
      }
      var j = []
        , a = [0]
        , e = [0];
      for (var G = 0; G < i; G += 8) {
          var I = K[G + 6] - K[G + 0]
            , h = K[G + 7] - K[G + 1]
            , o = Math.round(4 * Math.sqrt(I * I + h * h));
          for (var H = 0; H < o; H++) {
              var A = H / o
                , S = 1 - A
                , v = S * S * S * K[G + 0] + 3 * S * S * A * K[G + 2] + 3 * S * A * A * K[G + 4] + A * A * A * K[G + 6]
                , s = S * S * S * K[G + 1] + 3 * S * S * A * K[G + 3] + 3 * S * A * A * K[G + 5] + A * A * A * K[G + 7];
              j.push(v, s);
              if (G + H != 0) {
                  var I = v - L
                    , h = s - g;
                  e.push(e[e.length - 1] + Math.sqrt(I * I + h * h));
                  a.push((G >>> 3) + A)
              }
              L = v;
              g = s
          }
      }
      var D = e.length
        , F = e[D - 1]
        , y = g_.xb(N[0], a)
        , T = g_.xb(N[1] % C, a)
        , Q = e[y % D]
        , B = e[T % D];
      if (Q >= B)
          B += F;
      return [j, a, e, F, Q, B]
  }
  ;
  g_.xb = function(E, K) {
      var G = 0;
      while (K[G] < E)
          G++;
      return G
  }
  ;
  g_.aeg = function(E, K) {
      var i = 0, G = 0, C, N, k;
      while (i < K) {
          C = E[G + 2] - E[G];
          N = E[G + 3] - E[G + 1];
          k = Math.sqrt(C * C + N * N);
          i += k;
          G += 2
      }
      return [E[G], E[G + 1], C / k, N / k]
  }
  ;
  g_.prototype.alH = function(E) {
      return this.dP[E]
  }
  ;
  g_.prototype.a5w = function(E) {
      for (var K = 0; K < this.oN.length; K++) {
          var i = this.oN[K];
          for (var C = 0; C < i.Pg.length; C++) {
              var N = i.Pg[C]
                , k = i.Gt[N.start].start
                , V = i.Gt[N.end - 1].end;
              if (k < E && E < V)
                  return [k, V - 1]
          }
      }
      return [0, 1]
  }
  ;
  g_.prototype.XP = function(E, K) {
      var i = -1
        , C = this.oN;
      if (this.wn == 2) {
          var N = 1e9
            , k = 0
            , V = C[0]
            , j = V.Pg[0];
          for (var a = j.start; a < j.end; a++) {
              var e = V.Gt[a];
              for (var L = e.N2; L <= e.Au; L++) {
                  var g = V.gu[L]
                    , I = g.g.d
                    , h = E.x - g.Mf.x
                    , o = E.y - g.Mf.y
                    , H = h * h + o * o;
                  if (H < N) {
                      N = H;
                      k = g.Nm
                  }
              }
          }
          if (k != 0 && this.akr.codePointAt(k - 1) > 65535)
              k--;
          return k
      }
      for (var A = 0; A < C.length; A++) {
          var V = C[A];
          for (var S = 0; S < V.Pg.length; S++) {
              i++;
              var j = V.Pg[S]
                , v = V.Pg[S + 1];
              if (v == null && A < C.length - 1)
                  v = C[A + 1].Pg[0];
              if (K != null) {
                  if (i != K)
                      continue
              } else {
                  if (v != null && V.Mf.y + j.Mf.y < E.y)
                      continue
              }
              for (var a = j.start; a < j.end; a++) {
                  var e = V.Gt[a];
                  for (var L = e.N2; L <= e.Au; L++) {
                      var g = V.gu[L]
                        , I = g.g.d
                        , s = V.Mf.x + j.Mf.x + e.Mf.x
                        , D = s + g.Mf.x
                        , F = s + (L < e.Au ? V.gu[L + 1].Mf.x : g.Mf.x + I);
                      if (E.x <= F || a + 1 == j.end && L == e.Au) {
                          var y = V.a90 + g.Nm
                            , T = this.dP[y]
                            , Q = T.FD & 1;
                          if (T.OK != "\n" && (Q == 0 && E.x > D + I / 2 || Q == 1 && E.x < D + I / 2))
                              y += this.akr.codePointAt(y) > 65535 ? 2 : 1;
                          return y
                      }
                  }
              }
          }
      }
  }
  ;
  g_.prototype._r = function(E) {
      var K = {
          g: new h4,
          lq: 0
      }
        , i = 0;
      for (var C = 0; C < this.oN.length; C++) {
          var N = this.oN[C];
          for (var k = 0; k < N.Pg.length; k++) {
              var V = N.Pg[k];
              K.lq = i;
              i++;
              for (var j = V.start; j < V.end; j++) {
                  var a = N.Gt[j];
                  for (var e = a.start; e < a.end; e++) {
                      if (e == E) {
                          var L = this.dP[e]
                            , g = L.KU
                            , I = N.gu[g].Nm
                            , h = 1;
                          while (N.gu[g] != null && N.gu[g].Nm == I) {
                              var o = N.gu[g]
                                , H = N.Mf.x + V.Mf.x + a.Mf.x + o.Mf.x
                                , A = N.Mf.y + V.Mf.y + a.Mf.y + o.Mf.y;
                              K.g = K.g.ip(new h4(H,A - L.lineHeight,o.g.d,L.lineHeight));
                              K.m3 = o.m3;
                              g += h
                          }
                          return K
                      }
                  }
              }
          }
      }
  }
  ;
  g_.prototype.lY = function() {
      var E = Infinity
        , K = Infinity
        , i = -Infinity
        , C = -Infinity;
      for (var G = 0; G < this.oN.length; G++) {
          var N = this.oN[G];
          for (var k = 0; k < N.Pg.length; k++) {
              var V = N.Pg[k];
              if (!V.qF)
                  break;
              for (var j = V.start; j < V.end; j++) {
                  var a = N.Gt[j];
                  for (var e = a.N2; e <= a.Au; e++) {
                      var L = N.gu[e]
                        , g = L.g
                        , I = N.Mf.x + V.Mf.x + a.Mf.x + L.Mf.x
                        , h = N.Mf.y + V.Mf.y + a.Mf.y + L.Mf.y;
                      E = Math.min(E, I + g.x);
                      K = Math.min(K, h + g.y);
                      i = Math.max(i, I + g.x + g.d);
                      C = Math.max(C, h + g.y + g.v)
                  }
              }
          }
      }
      return new h4(E,K,i - E,C - K)
  }
  ;
  g_.ug = function(E) {
      return 19968 <= E && E <= 40959 || 12288 <= E && E <= 12543
  }
  ;
  g_.anW = function(E, K, i, C, N, k, V) {
      var j = [k]
        , a = 0;
      for (var G = k; G < V; G++) {
          if (i[G] == null)
              console.log(G, k, V, i);
          var e = i[G].OK
            , L = e.charCodeAt(0);
          if (L == 32 || L == 9) {
              j.push(a, G, 1, G + 1);
              a = 0
          } else if (L == 3851) {
              j.push(a + 1, G + 1);
              a = 0
          } else if (g_.ug(L)) {
              j.push(a, G);
              a = 1
          } else if (G != k && i[G].FD != i[G - 1].FD) {
              j.push(a, G);
              a = 1
          } else
              a++
      }
      j.push(a);
      var g = [];
      for (var G = 0; G < j.length; G += 2) {
          var I = j[G]
            , h = j[G + 1];
          if (h == 0)
              continue;
          g.push(new g_.a39(E,K,i,C,N,I,h))
      }
      return g
  }
  ;
  g_.a4_ = function(E, K, i, C, N, k, V) {
      var j = [0, K ? K.d : 1e9]
        , a = [];
      if (C) {
          var e = E[k].LQ
            , L = N + (N == 0 ? e : E[k].lineHeight)
            , g = L - e * .9
            , I = _.$.KK(C[0], g)
            , h = I.length
            , o = _.$.KK(C[0], L)
            , H = o.length;
          if (h != 0 && H != 0) {
              var A = 0
                , S = 0;
              j = [];
              while (A < h && S < H) {
                  var v = Math.max(I[A], o[S])
                    , s = I[A + 1]
                    , D = o[S + 1]
                    , F = Math.min(s, D);
                  if (v < F)
                      j.push(v, F);
                  if (s < D)
                      A += 2;
                  else
                      S += 2
              }
          }
      }
      for (var y = 0; y < j.length; y += 2) {
          var T = j[y + 1] - j[y]
            , Q = 0
            , B = k
            , r = K ? T - i.StartIndent - i.EndIndent - (k == 0 ? i.FirstLineIndent : 0) : Infinity;
          while (k != E.length) {
              var J = E[k]
                , m = Q == 0 || (J.$j || J.gG) || Q + J.g.d < r;
              if (!m)
                  break;
              Q += J.g.d;
              k++
          }
          a.push(k - B)
      }
      V[0] = a;
      V[1] = j;
      V[2] = k
  }
  ;
  g_.akL = function(E, K) {
      var i = E.length
        , C = new Uint32Array(i)
        , N = new Uint8Array(i)
        , k = 0;
      for (var G = 0; G < i; G++) {
          N[G] = 0;
          var V = E.charCodeAt(G);
          C[G] = V;
          if (V > k)
              k = V
      }
      if (k > 1424)
          N = g_.a6b(C, K);
      return N
  }
  ;
  g_.tP = function(E, K, i, C, N, k, V) {
      this.Gt = [];
      this.Pg = [];
      this.Mf = new bT(0,0);
      this.gu = null;
      this.Gt = null;
      this.Mq = cO.a98(E, C);
      var j = this.Mq
        , g = 0
        , o = ""
        , s = 0
        , D = 1
        , Z = 0;
      if (C != 0) {
          var a = j.SpaceBefore;
          if (a != null)
              k[0] += a
      }
      var e = E.EngineDict.ParagraphRun.RunLengthArray
        , L = e[C];
      for (var G = 0; G < C; G++)
          g += e[G];
      var I = j._Direction ? j._Direction : 0;
      this.a90 = g;
      var h = cO.Es(E).slice(g, g + L);
      for (var H = 0; H < h.length; H++) {
          var A = h.charAt(H);
          o += i[g + H].Mq.FontCaps == 0 ? A : A.toUpperCase()
      }
      h = o;
      var S = g_.akL(h, I)
        , v = []
        , F = S[G] & 1
        , y = i[g].G7;
      i[g].FD = S[0];
      for (var G = 1; G < h.length; G++) {
          var A = i[g + G]
            , T = S[G];
          A.FD = T;
          if (T != F || A.G7 != y) {
              v.push(s, D);
              s = G;
              D = 1;
              F = T;
              y = A.G7
          } else
              D++
      }
      v.push(s, D);
      var Q = this.gu = [];
      for (var G = 0; G < v.length; G += 2) {
          var B = v[G]
            , r = v[G + 1]
            , J = (i[g + B].FD & 1) == 0
            , m = h.slice(B, B + r)
            , x = Typr.U.shapeHB(i[g + B].G7, m, J)
            , R = []
            , $ = 0;
          for (var H = 0; H < x.length; H++) {
              var b = x[H];
              R.push({
                  l: b.g,
                  Nm: b.cl,
                  ES: b.ax,
                  xg: b.ay,
                  e7: b.dx,
                  m9: b.dy
              })
          }
          x = R;
          var z = x.slice(0);
          if (!J)
              z.reverse();
          for (var H = 0; H < m.length; H++) {
              while ($ + 1 < z.length && z[$ + 1].Nm <= H) {
                  $++
              }
              while ($ > 0 && z[$ - 1].Nm == H)
                  $--;
              i[g + B + H].KU = Q.length + (J ? $ : z.length - $ - 1)
          }
          for (var H = 0; H < x.length; H++) {
              Q.push(x[H]);
              x[H].Nm += B;
              var A = i[g + x[H].Nm];
              if (A.OK == "\n")
                  x[H].ES = 0;
              if (A.OK == "\t")
                  x[H].ES = A.G7.head.unitsPerEm * 2
          }
      }
      var P = cO.gF(j)
        , t = this.Gt = g_.anW(E, K, i, g, Q, g, g + L)
        , X = this.Pg
        , p = -1
        , o = [null, null, 0];
      while (Z < t.length) {
          g_.a4_(t, N, j, V, k[0], Z, o);
          p++;
          var f = {
              start: Z,
              end: 0,
              g: new h4,
              Mf: new bT(0,0),
              qF: !0
          }
            , hQ = 0
            , em = 0;
          X.push(f);
          f.end = o[2];
          var cY = f.end == t.length;
          function fC(z, B, bK) {
              var ei = bK - B >>> 1;
              for (var G = 0; G < ei; G++) {
                  var dL = z[B + G];
                  z[B + G] = z[bK - 1 - G];
                  z[bK - 1 - G] = dL
              }
          }
          for (var hi = 1; hi < 5; hi++) {
              var es = -1;
              for (var G = f.start; G < f.end; G++) {
                  var T = i[t[G].start].FD;
                  if (es == -1 && T >= hi)
                      es = G;
                  else if (es != -1 && T < hi) {
                      fC(t, es, G);
                      es = -1
                  }
              }
              var W = f.end;
              if (I == 0 && t[W - 1].$j)
                  W--;
              if (es != -1)
                  fC(t, es, W)
          }
          var d = o[0]
            , fM = o[1]
            , es = Z
            , n = Z;
          for (var ax = 0; ax < d.length; ax++) {
              var d_ = fM[ax * 2 + 1] - fM[ax * 2]
                , cm = 0;
              es = n;
              n += d[ax];
              var c4 = this.a8s(es, n, t, I, N != null);
              if (N) {
                  if (P == 1 || cY && P == 4)
                      cm = c4[1] + (d_ - c4[0]);
                  if (P == 2 || cY && P == 5)
                      cm = c4[1] + (d_ - c4[0]) / 2;
                  if (p == 0)
                      cm += j.FirstLineIndent;
                  cm += j.StartIndent
              } else {
                  if (P == 0)
                      cm = j.StartIndent + j.FirstLineIndent;
                  if (P == 1)
                      cm = -c4[0] - j.EndIndent;
                  if (P == 2)
                      cm = -c4[0] / 2
              }
              cm += fM[ax * 2];
              if (N && P > 2 && (P == 6 || !cY))
                  this.a6H(es, n, t, d_, I, cm);
              else {
                  var ch = cm;
                  for (var G = es; G < n; G++) {
                      t[G].Mf.x = ch;
                      ch += t[G].g.d
                  }
              }
          }
          Z = f.end;
          for (var G = f.start; G < f.end; G++) {
              var ag = t[G].g.clone();
              ag.CE(t[G].Mf);
              f.g = f.g.ip(ag);
              hQ = Math.max(hQ, t[G].LQ);
              em = Math.max(em, t[G].lineHeight)
          }
          f.Mf.y = p == 0 ? 0 : X[p - 1].Mf.y + em;
          if (p == 0) {
              if (C == 0 && N)
                  k[0] += hQ;
              if (C != 0)
                  k[0] += em;
              this.Mf.y = k[0]
          } else
              k[0] += em;
          if (N)
              f.qF = this.Mf.y + f.Mf.y < N.y + N.v
      }
      var am = j.SpaceAfter;
      if (am != null)
          k[0] += am
  }
  ;
  g_.tP.prototype.a8s = function(E, K, i, C, N) {
      var k = 0
        , V = 0;
      for (var G = E; G < K; G++)
          k += i[G].g.d;
      if (N) {
          if (C == 0)
              for (var G = K - 1; G >= E; G--)
                  if (i[G].$j || i[G].gG)
                      k -= i[G].g.d;
                  else
                      break;
          if (C == 1)
              for (var G = E; G < K; G++)
                  if (i[G].$j || i[G].gG) {
                      var j = i[G].g.d;
                      k -= j;
                      V -= j
                  } else
                      break
      }
      return [k, V]
  }
  ;
  g_.tP.prototype.a6H = function(E, K, i, C, N, k) {
      var V = 0
        , j = 0
        , a = 0
        , e = 0;
      for (var G = E; G < K; G++)
          if (i[G].$j)
              a++;
          else {
              V += i[G].g.d;
              j++
          }
      if (N == 0)
          for (var G = K - 1; G >= E; G--)
              if (i[G].$j || i[G].gG) {
                  if (i[G].$j) {
                      a--
                  }
              } else
                  break;
      if (N == 1)
          for (var G = E; G < K; G++)
              if (i[G].$j || i[G].gG) {
                  if (i[G].$j) {
                      a--;
                      e++
                  }
              } else
                  break;
      if (j <= 1 || a == 0) {
          if (j == 1)
              i[E].Mf.x = k;
          return
      }
      var L = (C - V) / a
        , g = -e * L;
      for (var G = E; G < K; G++) {
          if (i[G].$j)
              this.gu[i[G].N2].g.d = i[G].g.d = L;
          i[G].Mf.x = k + g;
          g += i[G].g.d
      }
  }
  ;
  g_.a39 = function(E, K, i, C, N, k, V) {
      this.bu = "";
      for (var G = 0; G < V; G++)
          this.bu += i[k + G].OK;
      this.$j = V == 1 && (i[k].OK == " " || i[k].OK == "\t");
      this.gG = V == 1 && i[k].OK == "\n";
      this.start = k;
      this.end = k + V;
      this.g = new h4;
      this.Mf = new bT(0,0);
      this.LQ = 0;
      this.lineHeight = 0;
      var j = 0
        , a = 0;
      if (V == 0) {
          this.lineHeight = i[k].lineHeight;
          this.LQ = i[k].LQ;
          this.g = new h4(0,-i[k].lineHeight,0,i[k].lineHeight)
      }
      var e = i[k].KU
        , L = i[k + V - 1].KU;
      if (L < e) {
          var g = e;
          e = L;
          L = g
      }
      while (L + 1 < N.length && N[L].Nm == N[L + 1].Nm) {
          L++
      }
      this.N2 = e;
      this.Au = L;
      for (var I = e; I <= L; I++) {
          var h = N[I]
            , o = i[C + h.Nm]
            , H = 1 / o.G7.head.unitsPerEm * o.Mq.FontSize
            , s = 0;
          if (!o.Mq.AutoKerning)
              j += o.Mq.Kerning * 2 * H * o.scale.x;
          var A = h.ES * H * o.scale.x;
          h.Mf = new bT(j,0);
          h.m3 = 0;
          h.g = new h4(0,-o.lineHeight,A,o.lineHeight);
          var S = Typr.U.glyphToPath(o.G7, h.l);
          h.path = {
              Z: S.cmds,
              H: S.crds
          };
          var v = h.g.clone();
          v.CE(h.Mf);
          if (o.Mq.Tracking != null)
              s = o.Mq.Tracking * .001 * o.Mq.FontSize;
          if (o.Mq.FauxBold == !0)
              s += .027 * o.Mq.FontSize;
          j += A + s;
          if (V == 1 && (o.OK == " " || o.OK == "\t"))
              v.d += 2 * s;
          else if (V == 1 && o.OK != null && g_.ug(o.OK.charCodeAt(0)))
              v.d += s;
          this.g = this.g.ip(v);
          this.LQ = Math.max(this.LQ, o.LQ);
          this.lineHeight = Math.max(this.lineHeight, o.lineHeight)
      }
  }
  ;
  g_._C = 0;
  g_.y9 = function() {
      if (g_._C == 2)
          return !0;
      if (g_._C == 1)
          return !1;
      g_._C = 1;
      function E() {
          fetch("code/external/fribidi.wasm").then(function(K) {
              return K.arrayBuffer()
          }).then(function(K) {
              return WebAssembly.instantiate(K)
          }).then(function(K) {
              var i = K.instance.exports
                , C = i.memory
                , V = 16
                , j = 256
                , a = 1;
              C.grow(400);
              var N = new Uint8Array(C.buffer)
                , k = new Uint32Array(C.buffer)
                , e = V | j
                , L = V | j | a;
              g_.a6b = function(I, h) {
                  var o = I.length
                    , H = i.calloc(o * 4 + 4 + o * 4 + o * 4 + o, 1)
                    , A = H + o * 4
                    , S = A + 4
                    , v = S + o * 4
                    , s = v + o * 4;
                  k.set(I, H >>> 2);
                  k[A >>> 2] = h == 0 ? e : L;
                  i.fribidi_get_bidi_types(H, o, S);
                  i.fribidi_get_bracket_types(H, o, S, v);
                  i.fribidi_get_par_embedding_levels_ex(S, v, o, A, s);
                  var D = N.slice(s, s + o);
                  i.free(H);
                  return D
              }
              ;
              g_._C = 2;
              var g = new q(c.E.P,!0);
              g.data = {
                  e: c.f.H7,
                  LG: "add",
                  KG: dp.ht,
                  in: null
              };
              d4.ta.U(g)
          })
      }
      Typr.U.initHB("code/external/hb.wasm", E);
      return !1
  }
  ;
  function cO() {}
  cO.Xv = function(E) {
      return JSON.parse(JSON.stringify(E))
  }
  ;
  cO.x6 = function(E, K) {
      for (var i in K)
          E[i] = K[i]
  }
  ;
  cO.u3 = function(E, K, i) {
      var C = cO.Oe();
      if (i)
          cO.Wk(C, 0, 0, i);
      var N = {
          m: new fn(1,0,0,1,Math.round(E),Math.round(K)),
          Ou: C
      };
      N.al = cO.JG();
      N.xA = _.oC.I();
      N.u9 = new h4;
      return N
  }
  ;
  cO.fM = function(E) {
      var K = ["CharacterDirection", 0];
      for (var G = 0; G < K.length; G += 2) {
          if (E[K[G]] != null && E[K[G]] != K[G + 1]) {
              throw "e";
              console.log(K[G], E[K[G]])
          }
      }
      if (E instanceof Array)
          for (var G = 0; G < E.length; G++)
              cO.fM(E[G]);
      else if (E instanceof Object)
          for (var i in E)
              cO.fM(E[i])
  }
  ;
  cO.gF = function(E, K) {
      if (K == null)
          K = E.Justification;
      var i = E._Direction ? E._Direction : 0;
      if (i == 1) {
          if (K == 0 || K == 3)
              K++;
          else if (K == 1 || K == 4)
              K--
      }
      return K
  }
  ;
  cO.fp = function(E) {
      if (E.add == null)
          return;
      var K = E.Ou
        , i = K.Curve
        , C = E.add.vmsk
        , N = C.b
        , k = _.$.bF(N, !0).H
        , V = E.m.clone();
      V.KP();
      _.$.m(k, V, k);
      var j = k.slice(0, 8);
      for (var a = 8; a < k.length; a += 6)
          j.push(k[a - 2], k[a - 1], k[a], k[a + 1], k[a + 2], k[a + 3], k[a + 4], k[a + 5]);
      i.Points = j;
      i.TextOnPathTRange = C.pK.slice(0);
      i.Reversed = C.PE;
      if (cO.O1(K) == 1) {
          var i = g_.$V(K.Curve)
            , e = _.$.Rk(i[0]);
          cO.Bk(K, [0, 0, e.d, e.v].map(Math.round));
          for (var G = 0; G < j.length; G += 2) {
              j[G] -= e.x;
              j[G + 1] -= e.y
          }
          var L = new fn(1,0,0,1,e.x,e.y);
          L.concat(E.m);
          E.m = L
      }
  }
  ;
  cO.Rt = function(E) {
      if (E.add == null)
          return;
      var K = E.add.vmsk
        , i = E.Ou.Curve
        , C = i.Points
        , N = {
          Z: ["M"],
          H: [C[0], C[1]]
      };
      for (var G = 0; G < C.length; G += 8) {
          N.Z.push("C");
          N.H.push(C[G + 2], C[G + 3], C[G + 4], C[G + 5], C[G + 6], C[G + 7])
      }
      _.$.m(N.H, E.m, N.H);
      var k = _.$.rh(N, !0);
      K.b = k;
      K.PE = i.Reversed;
      K.pK = i.TextOnPathTRange.slice(0);
      E.add.vogk = U.cE(k)
  }
  ;
  cO.Gk = function(E) {
      var K = {
          h: 0,
          l: 0,
          O: 0
      };
      if (E.FillColor) {
          var i = E.FillColor
            , C = i.Values;
          if (i.Type == 1)
              K = {
                  h: C[1] * 255,
                  l: C[2] * 255,
                  O: C[3] * 255
              };
          else if (i.Type == 2) {
              var N = {
                  classID: "CMYC",
                  Cyn: {
                      t: "doub",
                      v: C[1] * 100
                  },
                  Mgnt: {
                      t: "doub",
                      v: C[2] * 100
                  },
                  Ylw: {
                      t: "doub",
                      v: C[3] * 100
                  },
                  Blck: {
                      t: "doub",
                      v: C[4] * 100
                  }
              };
              K = _.V.Gk(N)
          } else
              console.log("Unknown color type")
      }
      return K
  }
  ;
  cO.ank = function(E) {
      for (var G = 0; G < E.length; G++) {
          var K = E[G].StyleSheet.StyleSheetData
            , i = K.FillColor;
          if (i && i.Type == 2) {
              var C = cO.Gk(K);
              i.Type = 1;
              i.Values = [1, C.h / 255, C.l / 255, C.O / 255]
          }
      }
  }
  ;
  cO.Qc = function(E, K) {
      var i;
      if (cO.O1(E.Ou) == 1) {
          var C = cO.nh(E.Ou);
          i = new h4(0,0,C[2] - C[0],C[3] - C[1])
      } else
          i = K.lY();
      return i
  }
  ;
  cO.M8 = function(E) {
      var K = E[0];
      for (var G = 0; G < E.length; G++)
          K = cO.acc(K, E[G]);
      return K
  }
  ;
  cO.acc = function(E, K) {
      var i = {};
      for (var C in E)
          if (JSON.stringify(E[C]) == JSON.stringify(K[C]))
              i[C] = E[C];
      return i
  }
  ;
  cO.Ui = function(E, K) {
      var i = E.gx
        , C = -1;
      for (var G = 0; G < i.length; G++)
          if (i[G].Name == K)
              C = G;
      if (C == -1) {
          C = i.length;
          i.push({
              FontType: 1,
              Name: K,
              Script: 0,
              Synthetic: 0
          })
      }
      E.dP.Font = C
  }
  ;
  cO.Es = function(E) {
      return E.EngineDict.Editor.Text.replace(/\r/g, "\n").replace(/\u0003/g, "\n")
  }
  ;
  cO.LH = function(E, K) {
      E.EngineDict.Editor.Text = K.replace(/\n/g, "\r")
  }
  ;
  cO.O1 = function(E) {
      return E.Curve && E.Curve.TextOnPathTRange[0] >= 0 ? 2 : E.EngineDict.Rendered.Shapes.Children[0].ShapeType
  }
  ;
  cO.kw = function(E, K) {
      var i = E.EngineDict.Rendered.Shapes.Children[0];
      i.ShapeType = K;
      var C = i.Cookie.Photoshop;
      C.ShapeType = K;
      C.Base.ShapeType = K;
      if (K == 0) {
          delete C.BoxBounds;
          C.PointBase = [0, 0]
      }
      if (K == 1) {
          delete C.PointBase;
          C.BoxBounds = [0, 0, 1, 1]
      }
  }
  ;
  cO.nh = function(E) {
      return E.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds
  }
  ;
  cO.Bk = function(E, K) {
      E.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds = K
  }
  ;
  cO.akP = function(E, K) {
      return cO.aen(E, cO.mn(E, K))
  }
  ;
  cO.mn = function(E, K) {
      var i = E.EngineDict.StyleRun.RunLengthArray;
      return cO._y(i, K).M_
  }
  ;
  cO.aen = function(E, K) {
      var i = E.ResourceDict.StyleSheetSet[0].StyleSheetData
        , C = {};
      for (var N in i)
          C[N] = i[N];
      var k = E.EngineDict.StyleRun.RunArray[K].StyleSheet.StyleSheetData;
      cO.x6(C, k);
      return C
  }
  ;
  cO.a98 = function(E, K) {
      var i = E.ResourceDict.ParagraphSheetSet[0].Properties
        , C = {};
      for (var N in i)
          C[N] = i[N];
      var k = E.EngineDict.ParagraphRun.RunArray[K].ParagraphSheet.Properties;
      cO.x6(C, k);
      var V = ["StartIndent", "EndIndent", "FirstLineIndent"];
      for (var G = 0; G < 3; G++)
          if (C[V[G]] == null)
              C[V[G]] = 0;
      return C
  }
  ;
  cO.qu = function(E, K, i) {
      if (i == "")
          return;
      var C = cO.Es(E);
      cO.LH(E, C.substring(0, K) + i + C.substring(K, C.length));
      var N = E.EngineDict.StyleRun
        , k = N.RunLengthArray
        , V = cO._y(k, K - 1);
      k[V.M_] += i.length;
      var j = E.EngineDict.ParagraphRun
        , k = j.RunLengthArray
        , a = cO._y(k, K)
        , e = i.split("\n");
      if (e.length == 1) {
          k[a.M_] += i.length;
          return
      }
      k.splice(a.M_ + 1, 0, k[a.M_] - (K - a.nA));
      j.RunArray.splice(a.M_ + 1, 0, cO.Xv(j.RunArray[a.M_]));
      k[a.M_] -= k[a.M_ + 1];
      k[a.M_] += e[0].length + 1;
      for (var G = 1; G < e.length - 1; G++) {
          j.RunArray.splice(a.M_ + G, 0, cO.Xv(j.RunArray[a.M_ + G - 1]));
          j.RunLengthArray.splice(a.M_ + G, 0, e[G].length + 1)
      }
      k[a.M_ + e.length - 1] += e[e.length - 1].length
  }
  ;
  cO.tz = function(E, K, i) {
      var C = cO.Es(E);
      cO.LH(E, C.substring(0, K) + C.substring(i, C.length));
      cO.Iu(E.EngineDict.ParagraphRun, K, i, !0);
      cO.Iu(E.EngineDict.StyleRun, K, i, !1)
  }
  ;
  cO.Iu = function(E, K, i, C) {
      var N = E.RunLengthArray
        , k = cO._y(N, K)
        , V = cO._y(N, i)
        , j = [];
      for (var G = 0; G < N.length; G++)
          for (var a = 0; a < N[G]; a++)
              j.push(G);
      j.splice(K, i - K);
      var e = [];
      for (var G = 0; G < N.length; G++)
          e.push(0);
      for (var G = 0; G < j.length; G++)
          e[j[G]]++;
      for (var G = 0; G < N.length; G++) {
          if (e[G] == 0) {
              e.splice(G, 1);
              N.splice(G, 1);
              E.RunArray.splice(G, 1);
              G--
          } else if (e[G] < N[G])
              N[G] = e[G]
      }
      if (C && k.M_ != V.M_ && k.nA != K) {
          N[k.M_] += N[k.M_ + 1];
          N.splice(k.M_ + 1, 1);
          E.RunArray.splice(k.M_ + 1, 1)
      }
  }
  ;
  cO.Wk = function(E, K, i, C) {
      var N = E.EngineDict.Editor.Text.length;
      if (i == N - 2)
          i++;
      if (C.dP.Font != null)
          E.ResourceDict.FontSet = C.gx.slice(0);
      if (K <= i)
          cO.k7(E.EngineDict.StyleRun, C.dP, K, i, !0);
      cO.k7(E.EngineDict.ParagraphRun, C.oN, K, i, !1)
  }
  ;
  cO.k7 = function(E, K, i, C, N) {
      var k = E.RunLengthArray;
      if (N) {
          var V = cO._y(k, i);
          if (V.nA != i) {
              var j = k[V.M_];
              k.splice(V.M_, 0, i - V.nA);
              k[V.M_ + 1] = j - k[V.M_];
              E.RunArray.splice(V.M_ + 1, 0, cO.Xv(E.RunArray[V.M_]))
          }
          var a = cO._y(k, C);
          if (a.nA + k[a.M_] - 1 != C) {
              var j = k[a.M_];
              k.splice(a.M_, 0, C - a.nA + 1);
              k[a.M_ + 1] = j - k[a.M_];
              E.RunArray.splice(a.M_ + 1, 0, cO.Xv(E.RunArray[a.M_]))
          }
      }
      var V = cO._y(k, i)
        , a = cO._y(k, C);
      if (N)
          for (var G = V.M_; G <= a.M_; G++)
              cO.x6(E.RunArray[G].StyleSheet.StyleSheetData, K);
      else
          for (var G = V.M_; G <= a.M_; G++)
              cO.x6(E.RunArray[G].ParagraphSheet.Properties, K)
  }
  ;
  cO.a2O = function(E, K, i) {
      var C = E.EngineDict.StyleRun.RunLengthArray
        , N = []
        , k = 0;
      for (var G = 0; G < C.length; G++) {
          var V = C[G];
          for (var j = 0; j < V; j++)
              if (K <= k + j && k + j < i)
                  N.push(G);
          k += V
      }
      var a = N[0]
        , e = [];
      for (var G = 0; G < N.length; G++) {
          var L = N[G] - a;
          if (L == e.length)
              e.push(0);
          e[L]++
      }
      return e
  }
  ;
  cO.aag = function(E) {
      var K = E.EngineDict.StyleRun
        , i = K.RunArray
        , C = K.RunLengthArray;
      for (var G = 0; G < C.length - 1; G++) {
          var N = i[G].StyleSheet.StyleSheetData
            , k = i[G + 1].StyleSheet.StyleSheetData;
          if (JSON.stringify(N) == JSON.stringify(k)) {
              i.splice(G + 1, 1);
              C[G] += C[G + 1];
              C.splice(G + 1, 1);
              G--
          }
      }
  }
  ;
  cO.aj = function(E) {
      var K = E.al.AntA.v.Annt;
      K = ["Anno", "antiAliasSharp", "AnCr", "AnSt", "AnSm"].indexOf(K);
      if (K == -1)
          K = 1;
      return K
  }
  ;
  cO.ko = function(E, K) {
      E.al.AntA.v.Annt = ["Anno", "antiAliasSharp", "AnCr", "AnSt", "AnSm"][K]
  }
  ;
  cO.UX = function(E, K, i) {
      var C = {
          gx: E.ResourceDict.FontSet.slice(0),
          dP: [],
          oN: []
      }
        , N = E.EngineDict.StyleRun.RunLengthArray
        , k = cO._y(N, K).M_
        , V = cO._y(N, i).M_;
      for (var G = k; G <= V; G++) {
          var j = cO.Xv(E.ResourceDict.StyleSheetSet[0].StyleSheetData)
            , a = E.EngineDict.StyleRun.RunArray;
          if (a.length == 0)
              continue;
          var e = a[G].StyleSheet.StyleSheetData;
          cO.x6(j, e);
          C.dP.push(j)
      }
      var L = E.EngineDict.ParagraphRun.RunLengthArray
        , g = cO._y(L, K).M_
        , I = cO._y(L, i).M_;
      for (var G = g; G <= I; G++) {
          var h = E.EngineDict.ParagraphRun.RunArray;
          if (h.length == 0)
              continue;
          C.oN.push(cO.Xv(h[G].ParagraphSheet.Properties))
      }
      C.dP = C.dP.length == 0 ? {} : cO.M8(C.dP);
      C.oN = C.oN.length == 0 ? {} : cO.M8(C.oN);
      return C
  }
  ;
  cO.i8 = function(E, K) {
      var i, C;
      i = ["FontSize", "Leading", "BaselineShift"];
      C = E.dP;
      for (var G = 0; G < i.length; G++)
          if (C[i[G]] != null)
              C[i[G]] *= K;
      i = ["StartIndent", "EndIndent", "FirstLineIndent", "SpaceBefore", "SpaceAfter"];
      C = E.oN;
      for (var G = 0; G < i.length; G++)
          if (C[i[G]] != null)
              C[i[G]] *= K
  }
  ;
  cO.aaZ = function() {
      return cO.UX(cO.gE, 0, 0)
  }
  ;
  cO.JG = function() {
      return {
          classID: "TxLr",
          Txt: {
              t: "TEXT",
              v: "\0"
          },
          textGridding: {
              t: "enum",
              v: {
                  textGridding: "None"
              }
          },
          Ornt: {
              t: "enum",
              v: {
                  Ornt: "Hrzn"
              }
          },
          AntA: {
              t: "enum",
              v: {
                  Annt: "antiAliasSharp"
              }
          },
          TextIndex: {
              t: "long",
              v: 0
          }
      }
  }
  ;
  cO._y = function(E, K) {
      var i = 0
        , G = 0;
      while (i + E[G] <= K) {
          i += E[G];
          G++
      }
      return {
          M_: G,
          nA: i
      }
  }
  ;
  cO.Oe = function() {
      var E = cO.Xv(this.gE);
      return E
  }
  ;
  cO.jR = {
      Justification: 0,
      FirstLineIndent: 0,
      StartIndent: 0,
      EndIndent: 0,
      SpaceBefore: 0,
      SpaceAfter: 0,
      AutoHyphenate: !1,
      HyphenatedWordSize: 6,
      PreHyphen: 2,
      PostHyphen: 2,
      ConsecutiveHyphens: 8,
      Zone: 36,
      WordSpacing: [.8, 1, 1.33],
      LetterSpacing: [0, 0, 0],
      GlyphSpacing: [1, 1, 1],
      AutoLeading: 1.2,
      LeadingType: 0,
      Hanging: !1,
      Burasagari: !1,
      KinsokuOrder: 0,
      EveryLineComposer: !1,
      _Direction: 0
  };
  cO.a8c = {
      Font: 0,
      FontSize: 12,
      FauxBold: !1,
      FauxItalic: !1,
      AutoLeading: !0,
      Leading: 0,
      HorizontalScale: 1,
      VerticalScale: 1,
      Tracking: 0,
      AutoKerning: !0,
      Kerning: 0,
      BaselineShift: 0,
      FontCaps: 0,
      FontBaseline: 0,
      Underline: !1,
      Strikethrough: !1,
      Ligatures: !0,
      DLigatures: !1,
      BaselineDirection: 2,
      Tsume: 0,
      StyleRunAlignment: 2,
      Language: 0,
      NoBreak: !1,
      FillColor: {
          Type: 1,
          Values: [1, 0, 0, 0]
      },
      StrokeColor: {
          Type: 1,
          Values: [1, 0, 0, 0]
      },
      FillFlag: !0,
      StrokeFlag: !1,
      FillFirst: !0,
      YUnderline: 1,
      OutlineWidth: 1,
      CharacterDirection: 0,
      HindiNumbers: !1,
      Kashida: 1,
      DiacriticPos: 2
  };
  cO.gE = {
      EngineDict: {
          Editor: {
              Text: "\n"
          },
          ParagraphRun: {
              DefaultRunData: {
                  ParagraphSheet: {
                      DefaultStyleSheet: 0,
                      Properties: {}
                  },
                  Adjustments: {
                      Axis: [1, 0, 1],
                      XY: [0, 0]
                  }
              },
              RunArray: [{
                  ParagraphSheet: {
                      DefaultStyleSheet: 0,
                      Properties: JSON.parse(JSON.stringify(cO.jR))
                  },
                  Adjustments: {
                      Axis: [1, 0, 1],
                      XY: [0, 0]
                  }
              }],
              RunLengthArray: [1],
              IsJoinable: 1
          },
          StyleRun: {
              DefaultRunData: {
                  StyleSheet: {
                      StyleSheetData: {}
                  }
              },
              RunArray: [{
                  StyleSheet: {
                      StyleSheetData: {
                          Font: 0,
                          FontSize: 24,
                          AutoKerning: !0,
                          Kerning: 0
                      }
                  }
              }],
              RunLengthArray: [1],
              IsJoinable: 2
          },
          GridInfo: {
              GridIsOn: !1,
              ShowGrid: !1,
              GridSize: 18,
              GridLeading: 22,
              GridColor: {
                  Type: 1,
                  Values: [0, 0, 0, 1]
              },
              GridLeadingFillColor: {
                  Type: 1,
                  Values: [0, 0, 0, 1]
              },
              AlignLineHeightToGridFlags: !1
          },
          AntiAlias: 4,
          UseFractionalGlyphWidths: !0,
          Rendered: {
              Version: 1,
              Shapes: {
                  WritingDirection: 0,
                  Children: [{
                      ShapeType: 0,
                      Procession: 0,
                      Lines: {
                          WritingDirection: 0,
                          Children: []
                      },
                      Cookie: {
                          Photoshop: {
                              ShapeType: 0,
                              PointBase: [0, 0],
                              Base: {
                                  ShapeType: 0,
                                  TransformPoint0: [1, 0],
                                  TransformPoint1: [0, 1],
                                  TransformPoint2: [0, 0]
                              }
                          }
                      }
                  }]
              }
          }
      },
      ResourceDict: {
          KinsokuSet: [{
              Name: "PhotoshopKinsokuHard",
              NoStart: "\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",
              NoEnd: "\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",
              Keep: "\u2015\u2025",
              Hanging: "\u3001\u3002.,"
          }, {
              Name: "PhotoshopKinsokuSoft",
              NoStart: "\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",
              NoEnd: "\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",
              Keep: "\u2015\u2025",
              Hanging: "\u3001\u3002.,"
          }],
          MojiKumiSet: [{
              InternalName: "Photoshop6MojiKumiSet1"
          }, {
              InternalName: "Photoshop6MojiKumiSet2"
          }, {
              InternalName: "Photoshop6MojiKumiSet3"
          }, {
              InternalName: "Photoshop6MojiKumiSet4"
          }],
          TheNormalStyleSheet: 0,
          TheNormalParagraphSheet: 0,
          ParagraphSheetSet: [{
              Name: "Normal RGB",
              DefaultStyleSheet: 0,
              Properties: JSON.parse(JSON.stringify(cO.jR))
          }],
          StyleSheetSet: [{
              Name: "Normal RGB",
              StyleSheetData: JSON.parse(JSON.stringify(cO.a8c))
          }],
          FontSet: [{
              Name: "DejaVuSans",
              Script: 0,
              FontType: 1,
              Synthetic: 0
          }, {
              Name: "AdobeInvisFont",
              Script: 0,
              FontType: 0,
              Synthetic: 0
          }, {
              Name: "MyriadHebrew-Regular",
              Script: 6,
              FontType: 0,
              Synthetic: 0
          }],
          SuperscriptSize: .583,
          SuperscriptPosition: .333,
          SubscriptSize: .583,
          SubscriptPosition: .333,
          SmallCapSize: .7
      }
  };
  var cM = {};
  cM.a8I = function(E) {
      var K = cM.afy(E._0, E._1);
      cM.a97(K, E._0);
      return K
  }
  ;
  cM.a3l = function(E, K, i) {
      var C = {};
      C._98 = {
          _0: "i7"
      };
      C._0 = cM.agP(E, K, i ? i._0 : null);
      C._1 = cM.amL(E, K, C._0, i ? i._1 : null);
      return C
  }
  ;
  cM.agP = function(E, K, i) {
      var C = {};
      C._1 = cM.a3n(E, i ? i._1 : null);
      C._2 = {
          _0: [{
              _0: {
                  _0: "s"
              }
          }],
          _1: [{
              _0: "i0"
          }]
      };
      C._3 = JSON.parse(JSON.stringify(cM.akd));
      C._4 = JSON.parse(JSON.stringify(cM.a36));
      C._5 = cM.ae9(E, C._1._0, i ? i._5 : null);
      C._6 = cM.a8n(E, i ? i._6 : null);
      C._8 = cM.aor(E, K, i ? i._8 : null);
      C._9 = cM.ag8;
      return C
  }
  ;
  cM.a97 = function(E, K) {
      cM.a6R(E, K._5, K._1._0)
  }
  ;
  cM.a3n = function(E, K) {
      var i = []
        , C = [];
      for (var G = 0; G < E.length; G++) {
          var N = E[G].ResourceDict.FontSet;
          for (var k = 0; k < N.length; k++) {
              var V = N[k];
              if (C.indexOf(V.Name) != -1)
                  continue;
              i.push(V);
              C.push(V.Name)
          }
      }
      var j = {
          _0: []
      };
      for (var G = 0; G < i.length; G++) {
          var a = i[G]
            , e = {
              _0: {
                  _99: "/CoolTypeFont",
                  _0: {
                      _0: "s" + a.Name,
                      _1: "i" + a.Script,
                      _2: "i" + a.FontType
                  }
              }
          };
          if (a.Script == 0)
              delete e._0._0._1;
          j._0.push(e)
      }
      return j
  }
  ;
  cM.ae9 = function(E, K, i) {
      var C = {
          _0: [],
          _1: []
      }
        , N = {
          _0: JSON.parse(JSON.stringify(cM.Nb))
      };
      cM.LD(N._0, E[0].ResourceDict.StyleSheetSet[0], K, E[0].ResourceDict.FontSet);
      C._0.push(N);
      C._1.push({
          _0: "i0"
      });
      C._0.push({
          _0: {
              _0: "sNone",
              _5: "i0",
              _6: {}
          }
      });
      C._1.push({
          _0: "i1"
      });
      return C
  }
  ;
  cM.a6R = function(E, K, i) {
      var C = K._0[0];
      for (var G = 0; G < E.length; G++)
          cM.tb(C._0, E[G].ResourceDict.StyleSheetSet[0], i, E[G].ResourceDict.FontSet)
  }
  ;
  cM.a8n = function(E, K) {
      var i = {
          _0: [],
          _1: []
      }
        , C = {
          _0: JSON.parse(JSON.stringify(cM.on))
      };
      cM.iT(C._0, E[0].ResourceDict.ParagraphSheetSet[0]);
      i._0.push(C);
      i._1.push({
          _0: "i0"
      });
      C = {
          _0: JSON.parse(JSON.stringify(cM.on))
      };
      cM.iT(C._0, E[0].ResourceDict.ParagraphSheetSet[0]);
      C._0._0 = "sBasic Paragraph";
      C._0._6 = "i0";
      i._0.push(C);
      i._1.push({
          _0: "i1"
      });
      return i
  }
  ;
  cM.aor = function(E, K, i) {
      var C = {
          _0: []
      };
      for (var G = 0; G < E.length; G++) {
          var N = E[G].Curve
            , k = {};
          C._0.push({
              _0: k
          });
          var V = cO.O1(E[G]);
          k._2 = {};
          k._2._0 = "i" + V;
          if (V == 0) {
              k._2._6 = ["f-1", "f-1"];
              k._2._11 = {
                  _4: "i-1",
                  _7: !1
              }
          } else if (V == 1 && N == null) {
              var j = cO.nh(E[G])
                , a = j[2]
                , e = j[3];
              k._1 = {
                  _0: cM.fU("f", [0, 0, 0, 0, a, 0, a, 0, a, 0, a, 0, a, e, a, e, a, e, a, e, 0, e, 0, e, 0, e, 0, e, 0, 0, 0, 0])
              };
              k._2._6 = ["f-2", "f-2"];
              k._2._11 = {
                  _4: "i-2",
                  _7: !1
              }
          } else if (V == 1) {
              var j = cO.nh(E[G])
                , a = j[2]
                , e = j[3];
              k._1 = {
                  _0: cM.fU("f", N.Points)
              };
              k._2._6 = ["f-3", "f-3"];
              k._2._11 = {
                  _4: "i-3",
                  _7: !1
              }
          } else if (V == 2) {
              k._1 = {
                  _0: cM.fU("f", N.Points)
              };
              k._2._6 = cM.fU("f", N.TextOnPathTRange);
              k._2._11 = {
                  _0: N.Reversed,
                  _3: "i0",
                  _5: "f0",
                  _7: !1
              }
          }
      }
      return C
  }
  ;
  cM.amL = function(E, K, i, C) {
      var N = {};
      N._0 = JSON.parse(JSON.stringify(cM.abt));
      N._1 = cM.a1v(E, K, i, C ? C._1 : null);
      N._2 = JSON.parse(JSON.stringify(cM.Nb._6));
      N._3 = JSON.parse(JSON.stringify(cM.on._5));
      return N
  }
  ;
  cM.afy = function(E, K) {
      return cM.afO(E, K._1)
  }
  ;
  cM.a1v = function(E, K, i, C) {
      var N = []
        , k = i._1._0;
      for (var G = 0; G < E.length; G++) {
          var V = E[G]
            , j = {
              _0: {}
          };
          N.push(j);
          var a = C ? C[G] : null;
          j._0._0 = "s" + V.EngineDict.Editor.Text;
          j._0._0 = j._0._0;
          var e = {
              _0: []
          };
          j._0._5 = e;
          var L = V.EngineDict.ParagraphRun;
          for (var g = 0; g < L.RunArray.length; g++) {
              var I = {
                  _0: {}
              };
              e._0.push(I);
              I._0._0 = {
                  _0: "s",
                  _5: {},
                  _6: "i1"
              };
              cM.iT(I._0._0, L.RunArray[g].ParagraphSheet);
              I._1 = "i" + L.RunLengthArray[g]
          }
          var h = {
              _0: []
          };
          j._0._6 = h;
          var o = a ? a._0._6 : null;
          L = V.EngineDict.StyleRun;
          for (var g = 0; g < L.RunArray.length; g++) {
              var H = {
                  _0: {}
              };
              h._0.push(H);
              var A = o ? o._0 : null;
              H._0._0 = {
                  _0: "s",
                  _5: "i1",
                  _6: {}
              };
              cM.LD(H._0._0, L.RunArray[g].StyleSheet, k, V.ResourceDict.FontSet, A ? H._0._0 : null);
              H._1 = "i" + L.RunLengthArray[g]
          }
          j._0._10 = {
              _0: "i4",
              _2: !0
          };
          j._1 = cM.view.any(V, null, G, null)
      }
      return N
  }
  ;
  cM.afO = function(E, K) {
      var i = []
        , C = E._1._0;
      for (var G = 0; G < K.length; G++) {
          var N = cO.Oe();
          i.push(N);
          var k = K[G];
          N.EngineDict.Editor.Text = k._0._0.slice(1);
          var V = N.EngineDict.ParagraphRun.RunArray[0]
            , j = N.EngineDict.ParagraphRun
            , a = k._0._5;
          for (var e = 0; e < a._0.length; e++) {
              var L = a._0[e];
              j.RunLengthArray[e] = parseInt(L._1.slice(1));
              j.RunArray[e] = JSON.parse(JSON.stringify(V));
              cM.aed(L._0._0, j.RunArray[e].ParagraphSheet)
          }
          var g = k._0._6;
          j = N.EngineDict.StyleRun;
          if (g)
              for (var e = 0; e < g._0.length; e++) {
                  var I = g._0[e];
                  j.RunLengthArray[e] = parseInt(I._1.slice(1));
                  j.RunArray[e] = {
                      StyleSheet: {
                          StyleSheetData: {}
                      }
                  };
                  cM.tb(I._0._0, j.RunArray[e].StyleSheet, C, N.ResourceDict.FontSet)
              }
          else {
              j.RunLengthArray[0] = cO.Es(N).length;
              j.RunArray[0] = {
                  StyleSheet: {
                      StyleSheetData: {}
                  }
              }
          }
      }
      return i
  }
  ;
  cM.LD = function(E, K, i, C, N) {
      E._0 = "s" + (K.Name ? K.Name : "");
      var k = E._6
        , V = N ? N._6 : null
        , j = K.StyleSheetData;
      if (j.Font == null)
          return;
      var a = C[j.Font].Name
        , e = -1;
      for (var G = 0; G < i.length; G++)
          if ("s" + a == i[G]._0._0._0) {
              e = G;
              break
          }
      k._0 = "i" + e;
      if (j.FontSize != null)
          k._1 = "f" + j.FontSize;
      if (j.FauxBold != null)
          k._2 = j.FauxBold;
      if (j.FauxItalic != null)
          k._3 = j.FauxItalic;
      if (j.AutoLeading != null)
          k._4 = j.AutoLeading;
      if (j.Leading != null)
          k._5 = "f" + j.Leading;
      if (j.HorizontalScale != null)
          k._6 = "f" + j.HorizontalScale;
      if (j.VerticalScale != null)
          k._7 = "f" + j.VerticalScale;
      if (j.Tracking != null)
          k._8 = "i" + j.Tracking;
      if (j.BaselineShift != null)
          k._9 = "f" + j.BaselineShift;
      if (j.AutoKerning != null)
          k._11 = "i" + (j.AutoKerning ? 1 : 0);
      if (j.FontCaps != null)
          k._12 = "i" + j.FontCaps;
      if (j.FontBaseline != null)
          k._13 = "i" + j.FontBaseline;
      if (j.Strikethrough != null)
          k._15 = "i" + (j.Strikethrough ? 1 : 0);
      if (j.Underline != null)
          k._16 = "i" + (j.Underline ? 2 : 0);
      if (j.Ligatures != null)
          k._18 = j.Ligatures;
      if (j.DLigatures != null)
          k._19 = j.DLigatures;
      if (j.Language != null)
          k._38 = "i" + j.Language;
      if (j.FillColor != null)
          k._53 = {
              _99: "/SimplePaint",
              _0: {
                  _0: "i1",
                  _1: cM.fU("f", j.FillColor.Values)
              }
          }
  }
  ;
  cM.tb = function(E, K, i, C) {
      var N = E._6
        , k = K.StyleSheetData;
      if (N._0) {
          var V = parseInt(N._0.slice(1))
            , j = i[V]._0._0._0.slice(1);
          cO.Ui({
              dP: k,
              gx: C
          }, j)
      }
      if (N._1 != null)
          k.FontSize = parseFloat(N._1.slice(1));
      if (N._2 != null)
          k.FauxBold = N._2;
      if (N._3 != null)
          k.FauxItalic = N._3;
      if (N._4 != null)
          k.AutoLeading = N._4;
      if (N._5 != null)
          k.Leading = parseFloat(N._5.slice(1));
      if (N._6 != null)
          k.HorizontalScale = parseFloat(N._6.slice(1));
      if (N._7 != null)
          k.VerticalScale = parseFloat(N._7.slice(1));
      if (N._8 != null)
          k.Tracking = parseFloat(N._8.slice(1));
      if (N._9 != null)
          k.BaselineShift = parseFloat(N._9.slice(1));
      if (N._11 != null)
          k.AutoKerning = parseFloat(N._11.slice(1)) == 1;
      if (N._12 != null)
          k.FontCaps = parseFloat(N._12.slice(1));
      if (N._13 != null)
          k.FontBaseline = parseFloat(N._13.slice(1));
      if (N._15 != null)
          k.Strikethrough = parseFloat(N._15.slice(1)) == 1;
      if (N._16 != null)
          k.Underline = parseFloat(N._16.slice(1)) == 1;
      if (N._18 != null)
          k.Ligatures = N._18;
      if (N._19 != null)
          k.DLigatures = N._19;
      if (N._38 != null)
          k.Language = parseFloat(N._38.slice(1));
      if (N._53) {
          var a = N._53._0._1
            , e = [];
          for (var G = 0; G < 4; G++)
              e[G] = parseFloat(a[G].slice(1));
          k.FillColor = {
              Type: 1,
              Values: e
          }
      }
  }
  ;
  cM.iT = function(E, K) {
      E._0 = "s" + (K.Name ? K.Name : "");
      var i = E._5
        , C = K.Properties;
      if (C.Justification != null)
          i._0 = "i" + C.Justification;
      if (C.FirstLineIndent != null)
          i._1 = "f" + C.FirstLineIndent;
      if (C.StartIndent != null)
          i._2 = "f" + C.StartIndent;
      if (C.EndtIndent != null)
          i._3 = "f" + C.EndtIndent;
      if (C.SpaceBefore != null)
          i._4 = "f" + C.SpaceBefore;
      if (C.SpaceAfter != null)
          i._5 = "f" + C.SpaceAfter;
      if (C.AutoHyphenate != null)
          i._9 = C.AutoHyphenate;
      if (C._Direction != null)
          i._33 = "i" + C._Direction
  }
  ;
  cM.aed = function(E, K) {
      var i = E._5;
      if (i == null)
          return;
      var C = K.Properties;
      if (i._0)
          C.Justification = parseInt(i._0.slice(1))
  }
  ;
  cM.fU = function(E, K) {
      var i = [];
      for (var G = 0; G < K.length; G++)
          i.push(E + K[G]);
      return i
  }
  ;
  cM.akd = {
      _0: [{
          _0: {
              _0: "sPhotoshop6MojiKumiSet4",
              _5: {
                  _0: "i0",
                  _3: "i2"
              }
          }
      }, {
          _0: {
              _0: "sPhotoshop6MojiKumiSet3",
              _5: {
                  _0: "i0",
                  _3: "i4"
              }
          }
      }, {
          _0: {
              _0: "sPhotoshop6MojiKumiSet2",
              _5: {
                  _0: "i0",
                  _3: "i3"
              }
          }
      }, {
          _0: {
              _0: "sPhotoshop6MojiKumiSet1",
              _5: {
                  _0: "i0",
                  _3: "i1"
              }
          }
      }, {
          _0: {
              _0: "sYakumonoHankaku",
              _5: {
                  _0: "i0",
                  _3: "i1"
              }
          }
      }, {
          _0: {
              _0: "sGyomatsuYakumonoHankaku",
              _5: {
                  _0: "i0",
                  _3: "i3"
              }
          }
      }, {
          _0: {
              _0: "sGyomatsuYakumonoZenkaku",
              _5: {
                  _0: "i0",
                  _3: "i4"
              }
          }
      }, {
          _0: {
              _0: "sYakumonoZenkaku",
              _5: {
                  _0: "i0",
                  _3: "i2"
              }
          }
      }],
      _1: [{
          _0: "i0"
      }, {
          _0: "i1"
      }, {
          _0: "i2"
      }, {
          _0: "i3"
      }, {
          _0: "i4"
      }, {
          _0: "i5"
      }, {
          _0: "i6"
      }, {
          _0: "i7"
      }]
  };
  cM.a36 = {
      _0: [{
          _0: {
              _0: "sNone",
              _5: {
                  _0: "s",
                  _1: "s",
                  _2: "s",
                  _3: "s",
                  _4: "i0"
              }
          }
      }, {
          _0: {
              _0: "sPhotoshopKinsokuHard",
              _5: {
                  _0: "s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                  _1: "s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",
                  _2: "s\u2014\u2025\u2026",
                  _3: "s\u3001\u3002\uFF0C\uFF0E",
                  _4: "i1"
              }
          }
      }, {
          _0: {
              _0: "sPhotoshopKinsokuSoft",
              _5: {
                  _0: "s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                  _1: "s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",
                  _2: "s\u2014\u2025\u2026",
                  _3: "s\u3001\u3002\uFF0C\uFF0E",
                  _4: "i2"
              }
          }
      }, {
          _0: {
              _0: "sHard",
              _5: {
                  _0: "s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                  _1: "s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",
                  _2: "s\u2014\u2025\u2026",
                  _3: "s\u3001\u3002\uFF0C\uFF0E",
                  _4: "i1"
              }
          }
      }, {
          _0: {
              _0: "sSoft",
              _5: {
                  _0: "s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                  _1: "s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",
                  _2: "s\u2014\u2025\u2026",
                  _3: "s\u3001\u3002\uFF0C\uFF0E",
                  _4: "i2"
              }
          }
      }],
      _1: [{
          _0: "i0"
      }, {
          _0: "i1"
      }, {
          _0: "i2"
      }, {
          _0: "i3"
      }, {
          _0: "i4"
      }]
  };
  cM.Nb = {
      _0: "sNormal RGB",
      _6: {
          _0: "i0",
          _1: "f12",
          _2: !1,
          _3: !1,
          _4: !0,
          _5: "f0",
          _6: "f1",
          _7: "f1",
          _8: "i0",
          _9: "f0",
          _10: "f0",
          _11: "i1",
          _12: "i0",
          _13: "i0",
          _14: "i0",
          _15: "i0",
          _16: "i0",
          _17: "f0",
          _18: !0,
          _19: !1,
          _20: !1,
          _21: !1,
          _22: !1,
          _23: !1,
          _24: !1,
          _25: !1,
          _26: !1,
          _27: !1,
          _28: !1,
          _29: !1,
          _30: "i0",
          _31: !1,
          _32: !1,
          _33: !1,
          _34: !1,
          _35: "i2",
          _36: "f0",
          _37: "i2",
          _38: "i0",
          _39: "i0",
          _40: !1,
          _41: "i2",
          _42: "i0",
          _43: {
              _0: "f.5"
          },
          _44: "i2",
          _45: "i2",
          _46: "i7",
          _47: "i0",
          _48: "i0",
          _49: "f-1",
          _50: "f-1",
          _51: "i0",
          _52: !1,
          _53: {
              _99: "/SimplePaint",
              _0: {
                  _0: "i1",
                  _1: ["f1", "f0", "f0", "f0"]
              }
          },
          _54: {
              _99: "/SimplePaint",
              _0: {
                  _0: "i1",
                  _1: ["f1", "f0", "f0", "f0"]
              }
          },
          _55: {
              _99: "/SimpleBlender"
          },
          _56: !0,
          _57: !1,
          _58: !0,
          _59: !1,
          _60: !1,
          _61: "i0",
          _62: "i0",
          _63: "f1",
          _64: "f4",
          _65: "f0",
          _66: [],
          _67: [],
          _68: "i0",
          _69: "i0",
          _70: "i0",
          _71: "i4",
          _72: "f0",
          _73: "f0",
          _74: !1,
          _75: !1,
          _76: !1,
          _77: !0,
          _78: !0,
          _79: {
              _99: "/SimplePaint",
              _0: {
                  _0: "i1",
                  _1: ["f1", "f1", "f1", "f0"]
              }
          },
          _80: !1,
          _81: "i0",
          _82: "f3",
          _83: "f3",
          _84: !1,
          _85: "i0",
          _86: {
              _99: "/SimpleCustomFeature"
          },
          _87: "f100",
          _88: !0
      }
  };
  cM.on = {
      _0: "sNormal RGB",
      _5: {
          _0: "i0",
          _1: "f0",
          _2: "f0",
          _3: "f0",
          _4: "f0",
          _5: "f0",
          _6: "i1",
          _7: "f1.2",
          _8: "i0",
          _9: !0,
          _10: "i6",
          _11: "i2",
          _12: "i2",
          _13: "i0",
          _14: "f36",
          _15: !0,
          _16: "f.5",
          _17: ["f.8", "f1", "f1.33"],
          _18: ["f0", "f0", "f0"],
          _19: ["f1", "f1", "f1"],
          _20: "i6",
          _21: !1,
          _22: "i0",
          _23: !0,
          _24: "i0",
          _25: "i0",
          _27: "/nil",
          _26: !1,
          _28: "/nil",
          _29: !1,
          _30: {},
          _31: "f36",
          _32: {},
          _33: "i0",
          _34: "i7",
          _35: "i1",
          _36: "/nil",
          _37: "i0",
          _38: !1,
          _39: "i0",
          _40: "i2"
      }
  };
  cM.ag8 = {
      _0: [{
          _0: {
              _0: "skPredefinedNumericListStyleTag",
              _6: "i1"
          }
      }, {
          _0: {
              _0: "skPredefinedUppercaseAlphaListStyleTag",
              _6: "i2"
          }
      }, {
          _0: {
              _0: "skPredefinedLowercaseAlphaListStyleTag",
              _6: "i3"
          }
      }, {
          _0: {
              _0: "skPredefinedUppercaseRomanNumListStyleTag",
              _6: "i4"
          }
      }, {
          _0: {
              _0: "skPredefinedLowercaseRomanNumListStyleTag",
              _6: "i5"
          }
      }, {
          _0: {
              _0: "skPredefinedBulletListStyleTag",
              _6: "i6"
          }
      }],
      _1: [{
          _0: "i0"
      }, {
          _0: "i1"
      }, {
          _0: "i2"
      }, {
          _0: "i3"
      }, {
          _0: "i4"
      }, {
          _0: "i5"
      }]
  };
  cM.abt = {
      _0: {
          _0: "i1",
          _1: [{
              _0: "s ",
              _1: "s1"
          }, {
              _0: "s\r",
              _1: "s6"
          }, {
              _0: "s\t",
              _1: "s0"
          }, {
              _0: "s\u2029",
              _1: "s5"
          }, {
              _0: "s\x03",
              _1: "s5"
          }, {
              _0: "s\u3000",
              _1: "s1"
          }, {
              _0: "s\xAD",
              _1: "s3"
          }]
      },
      _1: "i0",
      _2: "i0",
      _3: "f.583",
      _4: "f.333",
      _5: "f.583",
      _6: "f.333",
      _7: "f.7",
      _8: !0,
      _9: [{
          _0: "i0",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i1",
          _1: "s\u201D",
          _2: "s\u201D",
          _3: "s\u2019",
          _4: "s\u2019"
      }, {
          _0: "i2",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i3",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i4",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i5",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i6",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2039",
          _4: "s\u203A"
      }, {
          _0: "i7",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i8",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i9",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i10",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i11",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i12",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i13",
          _1: "s\u201D",
          _2: "s\u201D",
          _3: "s\u2019",
          _4: "s\u2019"
      }, {
          _0: "i14",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i15",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i16",
          _1: "s\u201D",
          _2: "s\u201D",
          _3: "s\u2019",
          _4: "s\u2019"
      }, {
          _0: "i17",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i18",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i19",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i20",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i21",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i22",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i23",
          _1: "s\u201E",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i24",
          _1: "s\u201E",
          _2: "s\u201D",
          _3: "s\u201A",
          _4: "s\u2019"
      }, {
          _0: "i25",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2039",
          _4: "s\u203A"
      }, {
          _0: "i26",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i27",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i28",
          _1: "s\u201E",
          _2: "s\u201D",
          _3: "s\u2019",
          _4: "s\u2019"
      }, {
          _0: "i29",
          _1: "s\u301D",
          _2: "s\u301E"
      }, {
          _0: "i30",
          _1: "s\u300C",
          _2: "s\u300D"
      }, {
          _0: "i31",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i32",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i33",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i34",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i35",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i36",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i37",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i38",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i39",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s<",
          _4: "s>"
      }, {
          _0: "i40",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i41",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s<",
          _4: "s>"
      }, {
          _0: "i42",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i43",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i44",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2039",
          _4: "s\u203A"
      }, {
          _0: "i45",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }],
      _15: {
          _0: "sWinSoft"
      },
      _16: !1
  };
  var eT = {};
  eT.a9e = function(E) {
      return eT.Yr(E, eT.fg, 0)
  }
  ;
  eT.a5x = function(E) {
      return eT.xz(E, eT.fg)
  }
  ;
  eT.Yr = function(E, K, i) {
      var C;
      if (typeof E == "string")
          return E;
      if (E instanceof Array) {
          C = [];
          for (var G = 0; G < E.length; G++)
              C[G] = eT.Yr(E[G], K, i + 1)
      } else {
          C = {};
          var N = {};
          for (var k in K) {
              var V = K[k]
                , j = "_" + V[0];
              if (E[j] != null) {
                  C[k] = V[1] ? eT.Yr(E[j], V[1], i + 1) : E[j];
                  N[j] = !0
              }
          }
          for (var k in E) {
              if (N[k] == null) {
                  console.log(N);
                  console.log(k, E, K);
                  throw "e"
              }
          }
      }
      return C
  }
  ;
  eT.xz = function(E, K) {
      var i;
      if (E instanceof Array) {
          i = [];
          for (var G = 0; G < E.length; G++)
              i[G] = eT.xz(E[G], K)
      } else {
          i = {};
          var C = {};
          for (var N in K) {
              var k = K[N]
                , V = "_" + k[0];
              if (E[N] != null) {
                  i[V] = k[1] ? eT.xz(E[N], k[1]) : E[N];
                  C[N] = !0
              }
          }
          for (var N in E) {
              if (C[N] == null) {
                  console.log(C);
                  console.log(N, E);
                  throw "e"
              }
          }
      }
      return i
  }
  ;
  eT.wH = {
      _StreamTag: [99],
      _5: [5],
      _Color: [0, {
          _Type: [0],
          _Values: [1]
      }]
  };
  eT.hr = {
      _Font: [0],
      _FontSize: [1],
      _FauxBold: [2],
      _FauxItalic: [3],
      _AutoLeading: [4],
      _Leading: [5],
      _HorizontalScale: [6],
      _VerticalScale: [7],
      _Tracking: [8],
      _BaselineShift: [9],
      _CharacterRotation: [10],
      _AutoKern: [11],
      _FontCaps: [12],
      _FontBaseline: [13],
      _FontOTPosition: [14],
      _StrikethroughPosition: [15],
      _UnderlinePosition: [16],
      _UnderlineOffset: [17],
      _Ligatures: [18],
      _DiscretionaryLigatures: [19],
      _ContextualLigatures: [20],
      _AlternateLigatures: [21],
      _OldStyle: [22],
      _Fractions: [23],
      _Ordinals: [24],
      _Swash: [25],
      _Titling: [26],
      _ConnectionForms: [27],
      _StylisticAlternates: [28],
      _Ornaments: [29],
      _FigureStyle: [30],
      _ProportionalMetrics: [31],
      _Kana: [32],
      _Italics: [33],
      _Ruby: [34],
      _BaselineDirection: [35],
      _Tsume: [36],
      _StyleRunAlignment: [37],
      _Language: [38],
      _JapaneseAlternateFeature: [39],
      _EnableWariChu: [40],
      _WariChuLineCount: [41],
      _WariChuLineGap: [42],
      _WariChuSubLineAmount: [43, {
          _WariChuSubLineScale: [0]
      }],
      _WariChuWidowAmount: [44],
      _WariChuOrphanAmount: [45],
      _WariChuJustification: [46],
      _TCYUpDownAdjustment: [47],
      _TCYLeftRightAdjustment: [48],
      _LeftAki: [49],
      _RightAki: [50],
      _JiDori: [51],
      _NoBreak: [52],
      _FillColor: [53, eT.wH],
      _StrokeColor: [54, eT.wH],
      _Blend: [55, {
          _StreamTag: [99]
      }],
      _FillFlag: [56],
      _StrokeFlag: [57],
      _FillFirst: [58],
      _FillOverPrint: [59],
      _StrokeOverPrint: [60],
      _LineCap: [61],
      _LineJoin: [62],
      _LineWidth: [63],
      _MiterLimit: [64],
      _LineDashOffset: [65],
      _LineDashArray: [66],
      _Type1EncodingNames: [67],
      _Kashidas: [68],
      _DirOverride: [69],
      _DigitSet: [70],
      _DiacVPos: [71],
      _DiacXOffset: [72],
      _DiacYOffset: [73],
      _OverlapSwash: [74],
      _JustificationAlternates: [75],
      _StretchedAlternates: [76],
      _FillVisibleFlag: [77],
      _StrokeVisibleFlag: [78],
      _FillBackgroundColor: [79, eT.wH],
      _FillBackgroundFlag: [80],
      _UnderlineStyle: [81],
      _DashedUnderlineGapLength: [82],
      _DashedUnderlineDashLength: [83],
      _SlashedZero: [84],
      _StylisticSets: [85],
      _CustomFeature: [86, {
          _StreamTag: [99]
      }],
      _87: [87],
      _88: [88]
  };
  eT.Xj = {
      _Justification: [0],
      _FirstLineIndent: [1],
      _StartIndent: [2],
      _EndIndent: [3],
      _SpaceBefore: [4],
      _SpaceAfter: [5],
      _DropCaps: [6],
      _AutoLeading: [7],
      _LeadingType: [8],
      _AutoHyphenate: [9],
      _HyphenatedWordSize: [10],
      _PreHyphen: [11],
      _PostHyphen: [12],
      _ConsecutiveHyphens: [13],
      _Zone: [14],
      _HyphenateCapitalized: [15],
      _HyphenationPreference: [16],
      _WordSpacing: [17],
      _LetterSpacing: [18],
      _GlyphSpacing: [19],
      _SingleWordJustification: [20],
      _Hanging: [21],
      _AutoTCY: [22],
      _KeepTogether: [23],
      _BurasagariType: [24],
      _KinsokuOrder: [25],
      _Kinsoku: [27],
      _KurikaeshiMojiShori: [26],
      _MojiKumiTable: [28],
      _EveryLineComposer: [29],
      _TabStops: [30],
      _DefaultTabWidth: [31],
      _DefaultStyle: [32, eT.hr],
      _ParagraphDirection: [33],
      _JustificationMethod: [34],
      _ComposerEngine: [35],
      _ListStyle: [36],
      _ListTier: [37],
      _ListSkip: [38],
      _ListOffset: [39],
      _40: [40]
  };
  eT.Fq = {
      _Name: [0],
      _Features: [5, eT.Xj],
      _Parent: [6]
  };
  eT.pb = {
      _Name: [0],
      _Parent: [5],
      _Features: [6, eT.hr]
  };
  eT.fg = {
      _98: [98, {
          _0: [0]
      }],
      _DocumentResources: [0, {
          _0: [0],
          _FontSet: [1, {
              _Resources: [0, {
                  _Resource: [0, {
                      _StreamTag: [99],
                      _Identifier: [0, {
                          _Name: [0],
                          _ScriptType: [1],
                          _Type: [2],
                          _Synthetic: [3],
                          _4: [4]
                      }]
                  }]
              }],
              _1: [1, {
                  _0: [0]
              }]
          }],
          _MojiKumiCodeToClassSet: [2, {
              _Resources: [0, {
                  _Resource: [0, {
                      _Name: [0],
                      _5: [5]
                  }]
              }],
              _DisplayList: [1, {
                  _Resource: [0]
              }]
          }],
          _MojiKumiTableSet: [3, {
              _Resources: [0, {
                  _Resource: [0, {
                      _Name: [0],
                      _Members: [5, {
                          _CodeToClass: [0],
                          _AutoTsume: [1, {
                              _TsumeMappings: [0, {
                                  _Before: [0],
                                  _After: [1],
                                  _Code: [2]
                              }]
                          }],
                          _Table: [2, {
                              _DataArray: [0, {
                                  _SparseArray: [0, {
                                      _Index: [0],
                                      _Elements: [1, {
                                          _P: [0],
                                          _Data: [1, {
                                              _A: [0, {
                                                  _R: [0],
                                                  _P: [1]
                                              }],
                                              _B: [1, {
                                                  _R: [0],
                                                  _P: [1]
                                              }]
                                          }]
                                      }]
                                  }]
                              }]
                          }],
                          _PredefinedTag: [3]
                      }]
                  }]
              }],
              _DisplayList: [1, {
                  _Resource: [0]
              }]
          }],
          _KinsokuSet: [4, {
              _Resources: [0, {
                  _Resource: [0, {
                      _Name: [0],
                      _Data: [5, {
                          _NoStart: [0],
                          _NoEnd: [1],
                          _Keep: [2],
                          _Hanging: [3],
                          _PredefinedTag: [4]
                      }]
                  }]
              }],
              _DisplayList: [1, {
                  _Resource: [0]
              }]
          }],
          _StyleSheetSet: [5, {
              _Resources: [0, {
                  _Resource: [0, eT.pb]
              }],
              _DisplayList: [1, {
                  _Resource: [0]
              }]
          }],
          _ParagraphSheetSet: [6, {
              _Resources: [0, {
                  _Resource: [0, eT.Fq]
              }],
              _DisplayList: [1, {
                  _Resource: [0]
              }]
          }],
          _TextFrameSet: [8, {
              _Resources: [0, {
                  _Resource: [0, {
                      _0: [0],
                      _Bezier: [1, {
                          _Points: [0]
                      }],
                      _Data: [2, {
                          _Type: [0],
                          _LineOrientation: [1],
                          _FrameMatrix: [2],
                          _TextOnPathTRange: [6],
                          _RowGutter: [7],
                          _ColumnGutter: [8],
                          _FirstBaselineAlignment: [10, {
                              _Flag: [0],
                              _Min: [1]
                          }],
                          _PathData: [11, {
                              _Reversed: [0],
                              _2: [2],
                              _3: [3],
                              _Spacing: [4],
                              _5: [5],
                              _7: [7]
                          }],
                          _12: [12]
                      }]
                  }]
              }]
          }],
          _ListStyleSet: [9, {
              _Resources: [0, {
                  _Resource: [0, {
                      _Name: [0],
                      _PredefinedTag: [6]
                  }]
              }],
              _DisplayList: [1, {
                  _Resource: [0]
              }]
          }]
      }],
      _DocumentObjects: [1, {
          _DocumentSettings: [0, {
              _HiddenGlyphFont: [0, {
                  _AlternateGlyphFont: [0],
                  _WhitespaceCharacterMapping: [1, {
                      _WhitespaceCharacter: [0],
                      _AlternateCharacter: [1]
                  }]
              }],
              _NormalStyleSheet: [1],
              _NormalParagraphSheet: [2],
              _SuperscriptSize: [3],
              _SuperscriptPosition: [4],
              _SubscriptSize: [5],
              _SubscriptPosition: [6],
              _SmallCapSize: [7],
              _UseSmartQuotes: [8],
              _SmartQuoteSets: [9, {
                  _Language: [0],
                  _OpenDoubleQuote: [1],
                  _CloseDoubleQuote: [2],
                  _OpenSingleQuote: [3],
                  _CloseSingleQuote: [4]
              }],
              _11: [11],
              _15: [15, {
                  _0: [0]
              }],
              _16: [16],
              _17: [17]
          }],
          _TextObjects: [1, {
              _Model: [0, {
                  _Text: [0],
                  _ParagraphRun: [5, {
                      _RunArray: [0, {
                          _RunData: [0, {
                              _ParagraphSheet: [0, eT.Fq]
                          }],
                          _Length: [1]
                      }]
                  }],
                  _StyleRun: [6, {
                      _RunArray: [0, {
                          _RunData: [0, {
                              _StyleSheet: [0, eT.pb]
                          }],
                          _Length: [1]
                      }]
                  }],
                  _FirstKern: [7],
                  _8: [8],
                  _9: [9],
                  _StorySheet: [10, {
                      _AntiAlias: [0],
                      _UseFractionalGlyphWidths: [2],
                      _3: [3],
                      _4: [4]
                  }]
              }],
              _View: [1, {
                  _Frames: [0, {
                      _Resource: [0]
                  }],
                  _RenderedData: [1, {
                      _RunArray: [0, {
                          _RunData: [0, {
                              _0: [0],
                              _LineCount: [1]
                          }],
                          _Length: [1]
                      }]
                  }],
                  _Strikes: [2]
              }]
          }],
          _OriginalNormalStyleFeatures: [2, eT.hr],
          _OriginalNormalParagraphFeatures: [3, eT.Xj]
      }]
  };
  cM.view = {};
  cM.view.any = function(E, K, i, C) {
      var N = {}
        , k = cO.O1(E);
      N._0 = [{
          _0: "i" + i
      }];
      return N
  }
  ;
  function CSS() {}
  CSS.adC = function(E, K) {
      var i = E.add
        , C = i.vmsk
        , N = i.vstk
        , k = i.lmfx
        , V = i.TySh
        , j = []
        , a = CSS.aak(k, i);
      if (E.bm() && C) {
          var e = _.Y.HD(C.b);
          if (!e.OL()) {
              j.push("width: " + Math.round(e.d) + "px");
              j.push("height: " + Math.round(e.v) + "px")
          }
          var L = _.Y.a9N(C.b);
          if (L > 0)
              j.push("border-radius: " + Math.round(L) + "px")
      } else if (V) {
          var g = V.Ou;
          if (cO.O1(g) == 1) {
              var e = cO.nh(g);
              j.push("width: " + Math.round(e[2]) + "px");
              j.push("height: " + Math.round(e[3]) + "px")
          }
          CSS.HB(j, cO.UX(g, 0, 0), V.m, !1, !1, a[0])
      }
      var I = []
        , h = k ? k.dropShadowMulti.v : 0;
      for (var G = 0; G < h.length; G++) {
          var o = h[G].v;
          if (o.enab.v) {
              var H = o.Dstn.v.val
                , A = o.lagl.v.val * Math.PI / 180;
              if (o.uglg && o.uglg.v)
                  A = K.IQ() * Math.PI / 180;
              var S = H * Math.cos(A)
                , v = H * Math.sin(A);
              I.push("drop-shadow(" + (S == 0 ? "0 " : CSS.pj(-S) + "px ") + (v == 0 ? "0 " : CSS.pj(v) + "px ") + o.blur.v.val / 2 + "px " + CSS.hj(o.Clr.v, o.Opct.v.val / 100) + ")")
          }
      }
      if (I.length != 0)
          j.push("filter: " + I.join(" "));
      if (V == null)
          CSS.a60(a, j);
      if (N == null || !N.strokeEnabled.v)
          N = h$.m2(k);
      if (N && N.strokeEnabled.v) {
          var s = N.strokeStyleContent.v
            , D = s.classID
            , F = ao.S6.mN.indexOf(N.strokeStyleLineCapType.v.strokeStyleLineCapType)
            , y = ao.S6.join.indexOf(N.strokeStyleLineJoinType.v.strokeStyleLineJoinType)
            , T = N.strokeStyleOpacity.v.val / 100
            , Q = N.strokeStyleLineWidth.v.val
            , B = "";
          if (D == "solidColorLayer")
              B = CSS.hj(s.Clr.v, T);
          j.push("border: " + Q + "px solid " + B)
      }
      return j
  }
  ;
  CSS.aak = function(E, K) {
      var i = h$.l5(E, K), C = i[0], N = i[1], k, V;
      if (C) {
          k = CSS.hj(C.Clr.v, K.iOpa != null ? K.iOpa / 255 : 1)
      } else if (N) {
          V = CSS.ti(N)
      }
      return [k, V]
  }
  ;
  CSS.a60 = function(E, K) {
      if (E[0])
          K.push("background-color: " + E[0]);
      if (E[1])
          K.push("background-image: " + E[1])
  }
  ;
  CSS.Fr = {
      aliceblue: "#f0f8ff",
      antiquewhite: "#faebd7",
      aqua: "#00ffff",
      aquamarine: "#7fffd4",
      azure: "#f0ffff",
      beige: "#f5f5dc",
      bisque: "#ffe4c4",
      black: "#000000",
      blanchedalmond: "#ffebcd",
      blue: "#0000ff",
      blueviolet: "#8a2be2",
      brown: "#a52a2a",
      burlywood: "#deb887",
      cadetblue: "#5f9ea0",
      chartreuse: "#7fff00",
      chocolate: "#d2691e",
      coral: "#ff7f50",
      cornflowerblue: "#6495ed",
      cornsilk: "#fff8dc",
      crimson: "#dc143c",
      cyan: "#00ffff",
      darkblue: "#00008b",
      darkcyan: "#008b8b",
      darkgoldenrod: "#b8860b",
      darkgray: "#a9a9a9",
      darkgreen: "#006400",
      darkgrey: "#a9a9a9",
      darkkhaki: "#bdb76b",
      darkmagenta: "#8b008b",
      darkolivegreen: "#556b2f",
      darkorange: "#ff8c00",
      darkorchid: "#9932cc",
      darkred: "#8b0000",
      darksalmon: "#e9967a",
      darkseagreen: "#8fbc8f",
      darkslateblue: "#483d8b",
      darkslategray: "#2f4f4f",
      darkslategrey: "#2f4f4f",
      darkturquoise: "#00ced1",
      darkviolet: "#9400d3",
      deeppink: "#ff1493",
      deepskyblue: "#00bfff",
      dimgray: "#696969",
      dimgrey: "#696969",
      dodgerblue: "#1e90ff",
      firebrick: "#b22222",
      floralwhite: "#fffaf0",
      forestgreen: "#228b22",
      fuchsia: "#ff00ff",
      gainsboro: "#dcdcdc",
      ghostwhite: "#f8f8ff",
      gold: "#ffd700",
      goldenrod: "#daa520",
      gray: "#808080",
      green: "#008000",
      greenyellow: "#adff2f",
      grey: "#808080",
      honeydew: "#f0fff0",
      hotpink: "#ff69b4",
      indianred: "#cd5c5c",
      indigo: "#4b0082",
      ivory: "#fffff0",
      khaki: "#f0e68c",
      lavender: "#e6e6fa",
      lavenderblush: "#fff0f5",
      lawngreen: "#7cfc00",
      lemonchiffon: "#fffacd",
      lightblue: "#add8e6",
      lightcoral: "#f08080",
      lightcyan: "#e0ffff",
      lightgoldenrodyellow: "#fafad2",
      lightgray: "#d3d3d3",
      lightgreen: "#90ee90",
      lightgrey: "#d3d3d3",
      lightpink: "#ffb6c1",
      lightsalmon: "#ffa07a",
      lightseagreen: "#20b2aa",
      lightskyblue: "#87cefa",
      lightslategray: "#778899",
      lightslategrey: "#778899",
      lightsteelblue: "#b0c4de",
      lightyellow: "#ffffe0",
      lime: "#00ff00",
      limegreen: "#32cd32",
      linen: "#faf0e6",
      magenta: "#ff00ff",
      maroon: "#800000",
      mediumaquamarine: "#66cdaa",
      mediumblue: "#0000cd",
      mediumorchid: "#ba55d3",
      mediumpurple: "#9370db",
      mediumseagreen: "#3cb371",
      mediumslateblue: "#7b68ee",
      mediumspringgreen: "#00fa9a",
      mediumturquoise: "#48d1cc",
      mediumvioletred: "#c71585",
      midnightblue: "#191970",
      mintcream: "#f5fffa",
      mistyrose: "#ffe4e1",
      moccasin: "#ffe4b5",
      navajowhite: "#ffdead",
      navy: "#000080",
      oldlace: "#fdf5e6",
      olive: "#808000",
      olivedrab: "#6b8e23",
      orange: "#ffa500",
      orangered: "#ff4500",
      orchid: "#da70d6",
      palegoldenrod: "#eee8aa",
      palegreen: "#98fb98",
      paleturquoise: "#afeeee",
      palevioletred: "#db7093",
      papayawhip: "#ffefd5",
      peachpuff: "#ffdab9",
      peru: "#cd853f",
      pink: "#ffc0cb",
      plum: "#dda0dd",
      powderblue: "#b0e0e6",
      purple: "#800080",
      rebeccapurple: "#663399",
      red: "#ff0000",
      rosybrown: "#bc8f8f",
      royalblue: "#4169e1",
      saddlebrown: "#8b4513",
      salmon: "#fa8072",
      sandybrown: "#f4a460",
      seagreen: "#2e8b57",
      seashell: "#fff5ee",
      sienna: "#a0522d",
      silver: "#c0c0c0",
      skyblue: "#87ceeb",
      slateblue: "#6a5acd",
      slategray: "#708090",
      slategrey: "#708090",
      snow: "#fffafa",
      springgreen: "#00ff7f",
      steelblue: "#4682b4",
      tan: "#d2b48c",
      teal: "#008080",
      thistle: "#d8bfd8",
      tomato: "#ff6347",
      turquoise: "#40e0d0",
      violet: "#ee82ee",
      wheat: "#f5deb3",
      white: "#ffffff",
      whitesmoke: "#f5f5f5",
      yellow: "#ffff00",
      yellowgreen: "#9acd32"
  };
  CSS.pj = function(l) {
      return "" + parseFloat(l.toFixed(3))
  }
  ;
  CSS.h0 = function(E) {
      if (E == null)
          return {
              h: 0,
              l: 0,
              O: 0
          };
      var K = E.indexOf("(");
      if (K != -1) {
          var i = E.slice(K + 1, E.length - 1).split(",");
          for (var G = 0; G < i.length; G++) {
              var C = i[G].trim();
              i[G] = parseFloat(C) * (C.endsWith("%") ? 255 / 100 : 1)
          }
          return {
              h: i[0],
              l: i[1],
              O: i[2]
          }
      }
      if (E.charAt(0) != "#") {
          var N = CSS.Fr;
          if (N[E])
              E = N[E];
          else
              console.log("unknown color " + E)
      }
      E = E.slice(1);
      if (E.length == 3)
          E = E[0] + E[0] + E[1] + E[1] + E[2] + E[2];
      E = parseInt(E, 16);
      return {
          h: E >> 16 & 255,
          l: E >> 8 & 255,
          O: E & 255
      }
  }
  ;
  CSS.hj = function(E, K) {
      return CSS.Z8(_.V.Gk(E), K)
  }
  ;
  CSS.Z8 = function(E, K) {
      if (K == null)
          K = 1;
      var i = Math.round(E.h)
        , C = Math.round(E.l)
        , N = Math.round(E.O)
        , k = i << 16 | C << 8 | N;
      return K == 1 ? "#" + _.rS(k) : "rgba(" + i + "," + C + "," + N + "," + K + ")"
  }
  ;
  CSS.ti = function(E) {
      var K = E.Grad.v;
      if (K.Clrs == null)
          return "";
      var i = K.Clrs.v.slice(0)
        , C = K.Trns.v.slice(0)
        , N = E.Ofst.v
        , k = E.Type.v.GrdT == "Rdl" ? 1 : 0
        , V = (k == 1 ? "radial" : "linear") + "-gradient"
        , j = k == 0 ? Math.round(-E.Angl.v.val + 90) + "deg" : "circle at center"
        , a = E.Rvrs.v;
      if (a) {
          i.reverse();
          C.reverse()
      }
      for (var G = 0; G < i.length; G++) {
          var e = i[G].v
            , L = G < C.length ? C[G].v.Opct.v.val / 100 : 1
            , g = e.Lctn.v / 4096;
          if (a)
              g = 1 - g;
          j += ", " + CSS.hj(e.Clr.v, L) + " " + Math.round(g * 100) + "%"
      }
      return V + "(" + j + ")"
  }
  ;
  CSS.HB = function(E, K, i, C, N, k) {
      var V = K.dP
        , j = C ? 1 : u._.x$(i)
        , a = Math.round(V.FontSize * j);
      E.push("font-size: " + a + "px");
      var e = V.Tracking;
      if (!C && e != null && e != 0)
          E.push("letter-spacing: " + Math.round(e * a / 1e3) + "px");
      if (!V.AutoLeading)
          E.push("line-height: " + Math.round(V.Leading * j) + "px");
      if (V.Strikethrough)
          E.push("text-decoration: line-through");
      var L = cO.Gk(V);
      L = [L.h, L.l, L.O].map(Math.round);
      E.push((C ? "fill: " : "color: ") + (k ? k : "#" + _.rS(L[0] << 16 | L[1] << 8 | L[2])));
      var g = K.gx[V.Font].Name;
      if (g) {
          var I = d4.ta.eK(g)
            , h = ""
            , o = null
            , H = null;
          if (I != null && g != d4.Nc(I))
              I = null;
          if (N && I)
              h += "\"" + g + "\", ";
          var A = g.toLowerCase();
          if (I) {
              o = d4._c(I)[0];
              if (I["OS/2"])
                  H = I["OS/2"].usWeightClass
          } else {
              o = CSS.a08(g);
              if (A.indexOf("light") != -1)
                  H = 300;
              else if (A.indexOf("medium") != -1)
                  H = 500;
              else if (A.indexOf("black") != -1 || A.indexOf("extrabold") != -1)
                  H = 800;
              else if (A.indexOf("bold") != -1)
                  H = "bold"
          }
          if (o != null)
              h += "\"" + o + "\"";
          if (H != null)
              E.push("font-weight: " + H);
          if (A.indexOf("italic") != -1 || A.indexOf("oblique") != -1)
              E.push("font-style: italic");
          if (h)
              E.push("font-family: " + h)
      }
      var S = K.oN.Justification;
      if (S != null && S != 0)
          if (C)
              E.push("text-anchor: " + ["start", "end", "middle"][S % 3]);
          else
              E.push("text-align: " + ["left", "right", "center"][S % 3])
  }
  ;
  CSS.a08 = function(E) {
      E = E.split("-")[0];
      while (E.endsWith("MT") || E.endsWith("PS"))
          E = E.slice(0, E.length - 2);
      var K = !0;
      for (var G = 0; G < E.length; G++) {
          var i = E.charAt(G);
          if (!K && i.toLowerCase() != i) {
              E = E.slice(0, G) + " " + E.slice(G);
              G++;
              K = !0
          } else
              K = !1
      }
      return E
  }
  ;
  function hU() {}
  hU._Q = {
      document: !0,
      parent: !0,
      top: !0,
      eval: !0,
      postMessage: !0,
      UTIF: !0,
      PIMG: !0,
      LNG: !0,
      FNTS: !0
  };
  hU.oW = function(E, K) {
      var i = Date.now(), C;
      try {
          C = acorn.parse(E)
      } catch (i2) {
          console.log(i2);
          return
      }
      var N = JSON.parse(JSON.stringify(hU.r6.H0));
      N.__return = !1;
      N.__break = !1;
      N.__throw = !1;
      N.__fs = {};
      N.__window = {};
      hU.eval(C, K, N);
      var k = N.__fs;
      if (Object.keys(k).length != 0) {
          var V = UZIP.encode(k);
          gQ.save(V, "output.zip")
      }
  }
  ;
  hU.eval = function(E, K, i) {
      var C = E.type;
      if (!1) {} else if (C == "Program" || C == "BlockStatement") {
          var N = E.body;
          for (var G = 0; G < N.length; G++) {
              var k = N[G].type;
              if (k == "FunctionDeclaration")
                  i[N[G].id.name] = N[G]
          }
          for (var G = 0; G < N.length; G++) {
              var k = N[G].type
                , V = hU.eval(N[G], K, i);
              if (i.__return || i.__break || i.__throw)
                  return V
          }
      } else if (C == "ReturnStatement") {
          i.__return = !0;
          return E.argument ? hU.$W(E.argument, K, i) : null
      } else if (C == "BreakStatement") {
          i.__break = !0
      } else if (C == "VariableDeclaration") {
          var j = E.declarations;
          for (var G = 0; G < j.length; G++)
              hU.eval(j[G], K, i)
      } else if (C == "VariableDeclarator") {
          i[E.id.name] = E.init ? hU.$W(E.init, K, i) : null
      } else if (C == "FunctionDeclaration") {
          i[E.id.name] = E
      } else if (C == "MemberExpression") {
          var a = hU.$W(E.object, K, i), e = E.computed ? hU.$W(E.property, K, i) : hU.eval(E.property, K, i), V;
          if (a.zj != null)
              V = hU.r6.tL(a, e, K, i);
          else if (a == window && hU._Q[e]) {} else
              V = a[e];
          return V
      } else if (C == "ArrayExpression") {
          var L = []
            , g = E.elements;
          for (var G = 0; G < g.length; G++)
              L.push(hU.$W(g[G], K, i));
          return L
      } else if (C == "ObjectExpression") {
          var L = {}
            , g = E.properties;
          for (var G = 0; G < g.length; G++) {
              var I = g[G]
                , h = g[G].key.name ? g[G].key.name : g[G].key.value;
              L[h] = hU.$W(g[G].value, K, i)
          }
          return L
      } else if (C == "ExpressionStatement") {
          return hU.eval(E.expression, K, i)
      } else if (C == "NewExpression") {
          var o = E.arguments
            , H = E.callee
            , A = H.type
            , S = []
            , L = null;
          for (var G = 0; G < o.length; G++)
              S.push(hU.$W(o[G], K, i));
          if (A == "Identifier")
              L = hU.r6.alm(H.name, S, K, i);
          else
              throw "e";
          if (L == null)
              throw "new " + H.name;
          return L
      } else if (C == "CallExpression") {
          var o = E.arguments
            , H = E.callee
            , A = H.type
            , v = {};
          for (var s in i)
              v[s] = i[s];
          var S = [];
          for (var G = 0; G < o.length; G++)
              S.push(hU.$W(o[G], K, i));
          if (A == "Identifier") {
              var D = H.name
                , F = i[D];
              if (F) {
                  if (F.params) {
                      var y = F.params;
                      for (var G = 0; G < y.length; G++)
                          v[y[G].name] = S[G];
                      return hU.eval(F.body, K, v)
                  } else {
                      return F.apply(null, S)
                  }
              } else if (hU.r6.a3z.indexOf(D) != -1)
                  return hU.r6.IM({
                      zj: "Application"
                  }, D, S, K, i);
              else if (window[D] == null)
                  console.log("Unknown function " + D);
              else if (hU._Q[D])
                  alert(D + "() not available");
              else {
                  var T = window[D].apply(window, S);
                  return T
              }
          } else if (A == "MemberExpression") {
              var a = hU.$W(H.object, K, i)
                , e = H.computed ? hU.$W(H.property, K, i) : hU.eval(H.property, K, i);
              if (a == window && hU._Q[e])
                  return;
              if (a.zj != null)
                  return hU.r6.IM(a, e, S, K, i);
              else
                  return a[e].apply(a, S)
          } else if (A == "FunctionExpression") {
              return hU.eval(H.body, K, i)
          } else
              console.log(E)
      } else if (C == "AssignmentExpression") {
          var Q = E.operator
            , B = E.left
            , r = B.type
            , J = hU.$W(B, K, i)
            , m = hU.$W(E.right, K, i)
            , V = null;
          if (!1) {} else if (Q == "=")
              V = m;
          else if (Q == "+=")
              V = J + m;
          else if (Q == "-=")
              V = J - m;
          else if (Q == "*=")
              V = J * m;
          else if (Q == "/=")
              V = J / m;
          else if (Q == "%=")
              V = J % m;
          else if (Q == "&=")
              V = J & m;
          else if (Q == "|=")
              V = J | m;
          else if (Q == "&&=")
              V = J && m;
          else if (Q == "||=")
              V = J || m;
          else
              console.log(E);
          if (r == "Identifier") {
              var x = B.name;
              if (i.hasOwnProperty(x))
                  i[x] = V;
              else
                  i.__window[x] = V
          } else if (r == "MemberExpression") {
              var R = hU.eval(B.property, K, i)
                , b = hU.$W(B.object, K, i);
              if (b.zj != null)
                  hU.r6.aaN(b, R, V, K, i);
              else
                  b[R] = V
          } else
              console.log(E)
      } else if (C == "Identifier")
          return E.name;
      else if (C == "Literal")
          return E.value;
      else if (C == "UpdateExpression") {
          var Q = E.operator
            , z = E.argument.name
            , L = hU.$W(E.argument, K, i);
          if (!1) {} else if (Q == "++") {
              i[z]++;
              return E.prefix ? i[z] : i[z] - 1
          } else if (Q == "--") {
              i[z]--;
              return E.prefix ? i[z] : i[z] + 1
          } else
              console.log(E)
      } else if (C == "UnaryExpression") {
          var Q = E.operator
            , $ = hU.$W(E.argument, K, i);
          if ($.zj == "UnitValue") {
              if (Q == "-")
                  return -$.G;
              else
                  return hU.ro($.G, Q)
          } else
              return hU.ro($, Q)
      } else if (C == "BinaryExpression" || C == "LogicalExpression") {
          var Q = E.operator
            , B = hU.$W(E.left, K, i)
            , $ = hU.$W(E.right, K, i);
          if (B == null || $ == null)
              return hU.Jx(B, $, Q);
          else if (B.zj == "UnitValue" && $.zj == "UnitValue")
              return hU.Jx(B.G, $.G, Q);
          else if (B.zj == "UnitValue")
              return hU.Jx(B.G, $, Q);
          else if ($.zj == "UnitValue") {
              if (Q == "-")
                  return -(B - $.G);
              else
                  return hU.Jx(B, $.G, Q)
          } else
              return hU.Jx(B, $, Q)
      } else if (C == "IfStatement" || C == "ConditionalExpression") {
          var P = hU.$W(E.test, K, i);
          if (P)
              return hU.eval(E.consequent, K, i);
          else if (E.alternate)
              return hU.eval(E.alternate, K, i)
      } else if (C == "ForInStatement") {
          hU.eval(E.left, K, i);
          var t = E.left.declarations[0].id.name
            , X = hU.$W(E.right, K, i);
          for (var s in X) {
              i[t] = s;
              var Z = hU.eval(E.body, K, i);
              if (i.__break)
                  break;
              if (i.__return)
                  return Z
          }
          i.__break = !1
      } else if (C == "ForStatement") {
          hU.eval(E.init, K, i);
          while (hU.eval(E.test, K, i)) {
              var Z = hU.eval(E.body, K, i);
              if (i.__break)
                  break;
              if (i.__return)
                  return Z;
              hU.eval(E.update, K, i)
          }
          i.__break = !1
      } else if (C == "DoWhileStatement") {
          do {
              var Z = hU.eval(E.body, K, i);
              if (i.__break)
                  break;
              if (i.__return)
                  return Z
          } while (hU.eval(E.test, K, i));i.__break = !1
      } else if (C == "TryStatement") {
          hU.eval(E.block, K, i);
          if (i.__throw) {
              var p = E.handler;
              i[p.param.name] = i.__throw;
              i.__throw = !1;
              hU.eval(p.body, K, i);
              delete i[p.param.name]
          }
      } else if (C == "EmptyStatement") {} else
          console.log(E)
  }
  ;
  hU.Jx = function(E, K, i) {
      if (i == "+")
          return E + K;
      else if (i == "-")
          return E - K;
      else if (i == "*")
          return E * K;
      else if (i == "/")
          return E / K;
      else if (i == "%")
          return E % K;
      else if (i == "^")
          return E ^ K;
      else if (i == "&")
          return E & K;
      else if (i == "&&")
          return E && K;
      else if (i == "|")
          return E | K;
      else if (i == "||")
          return E || K;
      else if (i == "<")
          return E < K;
      else if (i == ">")
          return E > K;
      else if (i == "==")
          return E == K;
      else if (i == "<=")
          return E <= K;
      else if (i == ">=")
          return E >= K;
      else if (i == "!=")
          return E != K;
      else if (i == "!==")
          return E !== K;
      else if (i == "<<")
          return E << K;
      else if (i == ">>")
          return E >> K;
      else
          console.log(i)
  }
  ;
  hU.ro = function(E, K) {
      if (K == "-")
          return -E;
      else if (K == "!")
          return !E;
      else if (K == "~")
          return ~E;
      else if (K == "+")
          return E;
      else
          console.log(obj)
  }
  ;
  hU.$W = function(E, K, i) {
      var C = E.type;
      if (C == "Identifier")
          return hU.a5v(E.name, K, i);
      else
          return hU.eval(E, K, i)
  }
  ;
  hU.a5v = function(E, K, i) {
      if (E == "undefined")
          return undefined;
      else if (i.hasOwnProperty(E))
          return i[E];
      else if (E == "app")
          return {
              zj: "Application"
          };
      else if (E == "$")
          return {
              zj: "$"
          };
      else if (hU.r6.a6a.indexOf(E) != -1)
          return hU.r6.tL({
              zj: "Application"
          }, E, K, i);
      else if (window[E] && !hU._Q[E])
          return window[E];
      else {
          i[E] = null;
          return null
      }
  }
  ;
  hU.r6 = {};
  hU.r6.alm = function(E, K, i, C) {
      var N;
      if (E == "SolidColor")
          N = {
              zj: E,
              G: [1, 0, 0, 0]
          };
      if (E == "Window")
          N = {
              zj: E,
              G: new aY(K[0],K[1],K[2])
          };
      if (E == "ExportOptionsSaveForWeb")
          N = {
              zj: E,
              G: {
                  iG: "png",
                  Gd: 100
              }
          };
      if (E == "JPEGSaveOptions")
          N = {
              zj: E,
              G: {
                  iG: "jpg",
                  Gd: 100
              }
          };
      if (E == "File")
          N = {
              zj: E,
              G: K[0]
          };
      if (E == "ActionReference")
          N = {
              zj: E,
              G: []
          };
      if (E == "ActionDescriptor")
          N = {
              zj: E,
              G: {}
          };
      if (E == "ActionList")
          N = {
              zj: E,
              G: []
          };
      if (E == "UnitValue")
          N = {
              zj: E,
              G: K.length == 0 ? 0 : parseFloat(K[0])
          };
      return N
  }
  ;
  hU.r6.a6a = "activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
  hU.r6.a3z = ["charIDToTypeID", "stringIDToTypeID", "executeAction", "executeActionGet", "doAction"];
  hU.r6.tL = function(E, K, i, C) {
      var N = i.wq
        , k = i.O5();
      if (!1) {} else if (K == "typename") {
          if (E.zj == "Layer")
              return E.G.Uf() ? "LayerSet" : "ArtLayer";
          else
              return E.zj
      } else if (["Document", "Layer"].indexOf(E.zj) != -1 && ["layers", "artLayers", "layerSets"].indexOf(K) != -1) {
          var V = k.root
            , j = {
              zj: "Layers",
              kp: K,
              G: []
          };
          if (E.zj == "Layer")
              V = k.root.WY(k.t.indexOf(E.G));
          if (V.children == null)
              return null;
          for (var G = 0; G < V.children.length; G++) {
              var a = V.children[G].z
                , e = a.Uf();
              if (e && K == "artLayers" || !e && K == "layerSets")
                  continue;
              j.G.push({
                  zj: "Layer",
                  G: a
              })
          }
          j.G.reverse();
          return j
      } else if (E.zj == "Documents" || E.zj == "Layers" || E.zj == "HistoryStates") {
          if (!1) {} else if (K == "length")
              return E.G.length;
          else if (Number.isInteger(K))
              return E.G[K];
          else
              console.log(E.zj + ": unknown property ", K)
      } else if (E.zj == "Application") {
          if (!1) {} else if (K == "activeDocument")
              return {
                  zj: "Document",
                  G: i.O5()
              };
          else if (K == "documents") {
              var j = {
                  zj: "Documents",
                  G: []
              };
              for (var G = 0; G < i.pZ.length; G++)
                  j.G.push({
                      zj: "Document",
                      G: i.pZ[G]
                  });
              return j
          } else if (K == "fonts")
              return {
                  zj: "TextFonts"
              };
          else if (K == "preferences")
              return {
                  zj: "Preferences"
              };
          else if (K == "displayDialogs")
              return {
                  zj: "DialogModes"
              };
          else if (K == "foregroundColor" || K == "backgroundColor") {
              var L = K[0] == "f" ? N.sm : N.JT;
              return {
                  zj: "SolidColor",
                  G: [1, (L >>> 16 & 255) / 255, (L >>> 8 & 255) / 255, (L >>> 0 & 255) / 255]
              }
          } else if (K == "UI")
              return {
                  zj: "UI"
              };
          else
              console.log(E, K)
      } else if (E.zj == "Document") {
          var k = E.G;
          if (!1) {} else if (K == "activeLayer") {
              var a = k.t[k.C[0]];
              return {
                  zj: "Layer",
                  G: a
              }
          } else if (K == "resolution")
              return k.v9;
          else if (K == "width")
              return k.d;
          else if (K == "height")
              return k.v;
          else if (K == "name")
              return k.name;
          else if (K == "saved")
              return !k.Vv();
          else if (K == "selection")
              return {
                  zj: "Selection"
              };
          else if (K == "activeHistoryState")
              return {
                  zj: "HistoryState",
                  EL: k.tv
              };
          else if (K == "source")
              return k.oX;
          else if (K == "historyStates") {
              var g = [];
              for (var G = 0; G < k.history.length; G++)
                  g.push({
                      zj: "HistoryState",
                      EL: G
                  });
              return {
                  zj: "HistoryStates",
                  G: g
              }
          } else
              console.log(E, K)
      } else if (E.zj == "Layer") {
          var I = {
              transparentPixelsLocked: 0,
              pixelsLocked: 1,
              positionLocked: 2,
              allLocked: 31
          }
            , a = E.G;
          if (!1) {} else if (K == "visible")
              return a.VD();
          else if (K == "selected")
              return k.C.indexOf(k.t.indexOf(a)) != -1;
          else if (K == "grouped")
              return a.iB;
          else if (I[K] != null)
              return a.Hv(I[K]);
          else if (K == "opacity")
              return a.opacity * 100 / 255;
          else if (K == "blendMode")
              return a.SI;
          else if (K == "name")
              return a.getName();
          else if (K == "textItem")
              return {
                  zj: "TextItem",
                  G: a
              };
          else if (K == "bounds") {
              var h = u._.Qc(k, [k.t.indexOf(a)]);
              return hU.r6.CN(h, k)
          } else if (K == "parent") {
              var o = i.pZ;
              for (var G = 0; G < o.length; G++)
                  if (o[G].t.indexOf(a) != -1)
                      return {
                          zj: "Document",
                          G: o[G]
                      }
          } else if (K == "kind") {
              var H = hU.r6.RA;
              for (var G = 0; G < H.length; G++)
                  if (a.add[H[G]] != null)
                      return G;
              return 0
          } else
              console.log(E, K)
      } else if (E.zj == "Selection") {
          if (!1) {} else if (K == "bounds")
              return hU.r6.CN(i.O5().N.rect, k);
          else
              console.log(E, K)
      } else if (E.zj == "TextItem") {
          var A = E.G.add.TySh
            , S = A.Ou
            , v = cO.Es(S)
            , s = A.m.x$()
            , D = cO.UX(S, 0, Math.max(0, v.length - 2));
          if (K == "contents")
              return v.slice(0, v.length - 1).replace(/\n/g, "\r");
          else if (K == "font")
              return D.dP.Font != null ? D.gx[D.dP.Font].Name : null;
          else if (K == "size")
              return hU.r6.ID(D.dP.FontSize * s, k);
          else if (K == "leading")
              return hU.r6.ID(D.dP.Leading * s, k);
          else if (K == "tracking")
              return hU.r6.ID(D.dP.Tracking);
          else if (K == "kind")
              return 1 - cO.O1(S);
          else if (K == "useAutoLeading")
              return D.oN.AutoLeading;
          else if (K == "hyphenation")
              return D.oN.AutoHyphenate;
          else if (K == "color")
              return {
                  zj: "SolidColor",
                  G: D.dP.FillColor.Values.slice(0)
              };
          else if (K == "width" || K == "height") {
              var F = cO.nh(S)
                , y = (F[2] - F[0]) * s
                , T = (F[3] - F[1]) * s;
              return hU.r6.ID(K == "width" ? y : T, k)
          } else if (K == "position") {
              var Q = A.m;
              return hU.r6.if([Q.vK, Q.Cz], k)
          } else if (K == "horizontalScale" || K == "verticalScale") {
              var B = K[0].toUpperCase() + K.slice(1);
              return Math.round(D.dP[B] * 100)
          } else
              console.log(E, K)
      } else if (E.zj == "Preferences") {
          if (K == "rulerUnits")
              return N.bA.RG;
          else
              console.log(E, K)
      } else if (E.zj == "SolidColor") {
          if (K == "rgb")
              return {
                  zj: "RGBColor",
                  G: E.G
              };
          else
              console.log(E, K)
      } else if (E.zj == "RGBColor") {
          var h = Math.round(255 * E.G[1])
            , r = Math.round(255 * E.G[2])
            , J = Math.round(255 * E.G[3]);
          if (!1) {} else if (K == "red")
              return h;
          else if (K == "green")
              return r;
          else if (K == "blue")
              return J;
          else if (K == "hexValue")
              return "#" + _.rS(h << 16 | r << 8 | J).toUpperCase();
          else
              console.log(E, K)
      } else if (E.zj == "UnitValue") {
          if (K == "value")
              return E.G;
          else
              throw "e"
      } else if (E.zj == "ExportOptionsSaveForWeb") {
          if (K == "format")
              return E.G.iG;
          else if (K == "PNG8")
              return !1;
          else if (K == "quality")
              return E.G.Gd;
          else
              throw K
      } else if (E.zj == "JPEGSaveOptions") {
          return 0
      } else
          console.log(E, K)
  }
  ;
  hU.r6.CN = function(E, K) {
      return hU.r6.if([E.x, E.y, E.x + E.d, E.y + E.v], K)
  }
  ;
  hU.r6.if = function(E, K) {
      var i = [];
      for (var G = 0; G < E.length; G++)
          i.push(hU.r6.ID(E[G], K));
      return i
  }
  ;
  hU.r6.tR = function(E) {
      var K = [];
      for (var G = 0; G < E.length; G++)
          K.push(E[G].zj ? E[G].G : E[G]);
      return K
  }
  ;
  hU.r6.ID = function(E, K) {
      return {
          zj: "UnitValue",
          G: E
      }
  }
  ;
  hU.r6.a2Z = function(E, K) {
      if (E.zj == "UnitValue")
          return E.G;
      return E
  }
  ;
  hU.r6.aaN = function(E, K, i, C, N) {
      var k = new q(c.E.A,!0)
        , V = new q(c.E.P,!0)
        , j = C.O5()
        , a = C.wq;
      if (!1) {} else if (E.zj == "Application") {
          if (!1) {} else if (K == "activeDocument") {
              V.data = {
                  e: c.f.xC,
                  uY: i.G
              };
              C.U(V)
          } else if (K == "displayDialogs") {} else
              console.log(E, K, i)
      } else if (E.zj == "Document") {
          var e = E.G;
          if (!1) {} else if (K == "name") {
              k.F = u.Iy;
              k.data = {
                  e: U.gL,
                  G: i,
                  ajz: !0,
                  jK: e
              };
              j.aO = !0
          } else if (K == "source")
              e.oX = i;
          else if (K == "activeLayer") {
              e.C = [e.t.indexOf(i.G)]
          } else if (K == "activeHistoryState") {
              k.F = u.CC;
              k.data = {
                  e: "h_itemchange",
                  index: i.EL
              }
          } else
              console.log(E, K)
      } else if (E.zj == "Layer") {
          k.F = u.Iy;
          var L = {
              transparentPixelsLocked: 0,
              pixelsLocked: 1,
              positionLocked: 2,
              allLocked: 31
          }
            , g = E.G
            , I = j.t.indexOf(g);
          if (!1) {} else if (K == "visible") {
              if (g.VD() != i)
                  k.data = {
                      e: U.cv,
                      z: I
                  }
          } else if (K == "opacity") {
              k.data = {
                  e: U.hQ,
                  z: I,
                  Gz: Math.round(255 * i / 100)
              }
          } else if (K == "blendMode") {
              k.data = {
                  e: U.k9,
                  z: I,
                  Gz: gx.WR.indexOf(i)
              }
          } else if (K == "name") {
              k.data = {
                  e: U.tJ,
                  z: I,
                  name: i
              }
          } else if (L[K] != null) {
              k.data = {
                  e: U.V9,
                  z: I,
                  Gz: [[i], [L[K]]]
              }
          } else if (K == "kind") {
              k.data = {
                  e: U.hI,
                  z: I,
                  Wh: hU.r6.RA[i]
              }
          } else if (K == "grouped") {
              k.data = {
                  e: U.SE,
                  z: I,
                  Gz: i
              }
          } else
              console.log(E, K, i)
      } else if (E.zj == "TextItem") {
          k.F = u.EM;
          var g = E.G
            , h = g.add.TySh
            , o = JSON.parse(JSON.stringify(h.Ou))
            , H = h.m.clone()
            , A = h.m.x$()
            , S = cO.Es(o)
            , v = cO.UX(o, 0, S.length - 2)
            , s = !1;
          if (!1) {} else if (K == "contents") {
              cO.tz(o, 0, S.length - 1);
              cO.qu(o, 0, i.replace(/\r/g, "\n"))
          } else if (K == "size") {
              v.dP.FontSize = (i.G != null ? i.G : i) / A;
              s = !0
          } else if (K == "leading") {
              v.dP.Leading = (i.G != null ? i.G : i) / A;
              s = !0
          } else if (K == "tracking") {
              v.dP.Tracking = i.G != null ? i.G : i;
              s = !0
          } else if (K == "kind") {
              var D = cO.O1(o);
              if (D == 1 && i == 1) {
                  var F = new g_(o,C.wq.g5).oN[0]
                    , y = F.Pg[0].end
                    , T = F.Gt[y - 1].end;
                  cO.tz(o, 0, S.length - 1);
                  cO.qu(o, 0, S.slice(0, T - 1))
              }
              if (D == i)
                  cO.kw(o, 1 - i)
          } else if (K == "useAutoLeading") {
              v.oN.AutoLeading = i;
              s = !0
          } else if (K == "hyphenation") {
              v.oN.AutoHyphenate = i;
              s = !0
          } else if (K == "font") {
              cO.Ui(v, i);
              s = !0
          } else if (K == "color") {
              v.dP.FillColor.Values = i.G.slice(0);
              s = !0
          } else if (K == "width" || K == "height") {
              var Q = cO.nh(o).slice(0)
                , B = hU.r6.a2Z(i);
              if (K == "width")
                  Q[2] = Math.round(Q[0] + B / A);
              else
                  Q[3] = Math.round(Q[1] + B / A);
              cO.Bk(o, Q)
          } else if (K == "position") {
              H.vK = i[0];
              H.Cz = i[1]
          } else if (K == "horizontalScale" || K == "verticalScale") {
              var r = K[0].toUpperCase() + K.slice(1);
              v.dP[r] = i / 100;
              s = !0
          } else
              console.log(E, K, i);
          if (s)
              cO.Wk(o, 0, S.length - 1, v);
          k.data = {
              e: "newED",
              wv: j.t.indexOf(g),
              _W: o,
              m: H
          }
      } else if (E.zj == "Preferences") {
          if (!1) {} else if (K == "rulerUnits") {
              var J = JSON.parse(JSON.stringify(a.bA));
              J.RG = i;
              V.data = {
                  e: c.f.H7,
                  KG: dp.lg,
                  Gz: J
              };
              C.U(V)
          } else
              console.log(E, K, i)
      } else if (E.zj == "RGBColor") {
          if (!1) {} else if (K == "red")
              E.G[1] = i / 255;
          else if (K == "green")
              E.G[2] = i / 255;
          else if (K == "blue")
              E.G[3] = i / 255;
          else if (K == "hexValue") {
              var m = _.Ek(i.slice(1));
              E.G[1] = (m >>> 16 & 255) / 255;
              E.G[2] = (m >>> 8 & 255) / 255;
              E.G[3] = (m >>> 0 & 255) / 255
          } else
              console.log(E, K)
      } else if (E.zj == "ExportOptionsSaveForWeb") {
          if (K == "format")
              E.G.iG = i;
          else if (K == "PNG8") {} else if (K == "quality")
              E.G.Gd = i;
          else
              throw "e"
      } else if (E.zj == "JPEGSaveOptions") {
          if (K == "quality")
              E.G.Gd = Math.round(100 * i / 12)
      } else
          console.log(E, K, i);
      if (k.data != null)
          C.U(k)
  }
  ;
  hU.r6.IM = function(E, K, i, C, N) {
      var k = E.zj
        , V = null
        , j = new q(c.E.A,!0)
        , a = new q(c.E.J5,!0)
        , e = new q(c.E.P,!0)
        , L = C.O5()
        , g = C.pZ;
      if (!1) {} else if (k == "Application") {
          if (!1) {} else if (K == "charIDToTypeID") {
              var I = i[0].trim()
                , h = {
                  slct: "select",
                  Dlt: "delete"
              };
              return h[I] ? h[I] : I
          } else if (K == "stringIDToTypeID") {
              var o = i[0].trim()
                , h = {
                  red: "Rd",
                  blue: "Bl",
                  color: "Clr",
                  RGBColor: "RGBC",
                  type: "Type",
                  using: "Usng"
              }
                , H = h[o];
              return H == null ? o : H
          } else if (K == "executeAction") {
              console.log(i);
              var A;
              if (i[1]) {
                  A = i[1].G;
                  A.classID = i[0]
              }
              var S = {
                  setd: "set"
              }
                , v = S[i[0]];
              if (v == null)
                  v = i[0];
              var s = gM.pX[i[0]];
              if (s && gM.Xd[s])
                  v = gM.Xd[s];
              a.data = {
                  bT: v,
                  v4: A
              }
          } else if (K == "executeActionGet") {
              return {
                  zj: "ActionDescriptor",
                  G: {
                      classID: "null",
                      null: {
                          t: "obj ",
                          v: i[0].G
                      }
                  }
              }
          } else if (K == "doAction") {
              e.data = {
                  e: c.f._s,
                  eT: [i[0], i[1]]
              }
          } else if (K == "open") {
              e.data = {
                  e: c.f.$N,
                  KG: {
                      url: i[0]
                  }
              };
              if (i[2] && g.length != 0)
                  e.data.KG.As = g.indexOf(L)
          } else if (K == "echoToOE") {
              e.data = {
                  e: c.f.iP,
                  KG: i[0]
              }
          } else
              console.log(K)
      } else if (k == "Document") {
          var L = E.G;
          if (!1) {} else if (K == "crop") {
              a.data = u.S7.NT(i[0])
          } else if (K == "trim") {
              var D = [];
              for (var G = 0; G < 4; G++)
                  D.push(i[G + 1] != null ? i[G + 1] : !0);
              a.data = u.S7.YM(i[0] != null ? i[0] : 0, D)
          } else if (K == "suspendHistory") {
              var F = acorn.parse(i[1]);
              hU.eval(F, C, N)
          } else if (K == "save") {
              e.data = {
                  e: c.f.T6
              }
          } else if (K == "saveToOE") {
              e.data = {
                  e: c.f.T6,
                  a8q: i
              }
          } else if (K == "rotateCanvas") {
              a.data = u._.Mz(!0, i[0])
          } else if (K == "resizeImage" || K == "resizeCanvas") {
              var y = i[0]
                , T = i[1];
              if (typeof y != "number") {
                  y = L.d * parseFloat(y.slice(0, y.length - 1)) / 100;
                  T = L.v * parseFloat(T.slice(0, T.length - 1)) / 100
              }
              if (K == "resizeCanvas")
                  a.data = u.S7.Sn(Math.round(y), Math.round(T), i[2]);
              else
                  a.data = u.S7.yF(Math.round(y), Math.round(T), null, 1)
          } else if (K == "paste") {
              e.data = {
                  e: c.f.kb,
                  dv: i.length != 0 && i[0]
              }
          } else if (K == "close") {
              e.data = {
                  e: c.f.G9,
                  Fn: L
              }
          } else if (K == "exportDocument" || K == "saveAs") {
              var Q = N.__fs
                , B = i[0].G.replace(":", "").replace("~/", "")
                , r = K == "exportDocument" ? i[2].G : i[1].G
                , J = fb.MV(L, r.iG, null, null, [r.Gd], C.wq);
              Q[B] = new Uint8Array(J)
          } else
              console.log(E, K, i)
      } else if (k == "Layer") {
          var m = E.G
            , x = L.t.indexOf(m);
          if (!1) {} else if (K == "copy") {
              hU.r6.Xo(L, C, 0);
              e.data = {
                  e: c.f.M$,
                  Dd: i[0],
                  CH: x
              };
              C.U(e);
              delete e.data;
              hU.r6.Xo(L, C, 1)
          } else if (K == "clear") {
              hU.r6.Xo(L, C, 0);
              a.data = {
                  bT: "delete"
              };
              C.U(a);
              delete a.data;
              hU.r6.Xo(L, C, 1)
          } else if (K == "duplicate") {
              if (i.length == 0) {
                  j.data = {
                      e: U.CY,
                      z: x
                  };
                  j.F = u.Iy;
                  C.U(j);
                  j.data = null;
                  V = {
                      zj: "Layer",
                      G: L.t[L.C[0]]
                  }
              } else if (i[0].zj == "Document") {
                  j.data = {
                      e: U.w9,
                      t: L.Bp(x),
                      By: L,
                      EZ: i[0].G
                  };
                  j.F = u.Iy
              }
          } else if (K == "merge" || K == "remove") {
              j.data = {
                  e: K == "merge" ? U.VM : U.FU,
                  z: x
              };
              j.F = u.Iy;
              if (K != "remove")
                  V = {
                      zj: "Layer",
                      G: L.t[L.C[0]]
                  }
          } else if (K == "move") {
              j.data = {
                  e: U.Bo,
                  source: x,
                  target: L.t.indexOf(i[0].G),
                  $E: i[1] != 3 ? .6 : .3
              };
              j.F = u.Iy
          } else if (K == "rasterize") {
              a.data = {
                  bT: "rasterizeLayer",
                  v4: {
                      classID: "rasterizeLayer",
                      null: bY.Ve("Lyr", !0)
                  }
              }
          } else if (K == "rotate") {
              j.data = {
                  e: "rot",
                  $t: [2, 5],
                  G: -i[0] * Math.PI / 180,
                  rY: i[1],
                  z: x
              };
              j.F = u.Ny
          } else if (K == "resize") {
              j.data = {
                  e: "scl",
                  $t: [2, 4],
                  G: new bT(i[0] / 100,i[1] / 100),
                  rY: i[2],
                  z: x
              };
              j.F = u.Ny
          } else if (K == "translate") {
              var R = hU.r6.tR(i);
              j.data = {
                  e: "trsl",
                  z: x,
                  aea: R[0],
                  a0w: R[1]
              };
              j.F = u.Sm
          } else if (K == "link") {
              j.data = {
                  e: U.Ah,
                  aoi: [x, L.t.indexOf(i[0].G)]
              };
              j.F = u.Iy
          } else if (K == "invert") {
              j.F = u.T$;
              j.data = {
                  e: "start",
                  M4: "nvrt"
              }
          } else if (K.startsWith("apply") && ef.VZ[K.slice(5)]) {
              var R = hU.r6.tR(i)
                , b = ef.VZ[K.slice(5)];
              a.data = {
                  bT: ef.Xd[b]
              };
              var A = ef.Sk(b);
              if (A) {
                  ef.XL["g" + b](A, R);
                  a.data.v4 = A
              }
          } else
              console.log(E, K, i)
      } else if (k == "Documents") {
          if (K == "getByName") {
              for (var G = 0; G < g.length; G++)
                  if (g[G].name == i[0])
                      return {
                          zj: "Document",
                          G: g[G]
                      };
              return null
          } else if (K == "add") {
              var z = i[5];
              if (z == null)
                  z = 1;
              a.data = bl.il(i[0], i[1], i[2], i[3], ["Wht", "Trns", "BckC"][z])
          } else
              throw "e"
      } else if (k == "Layers") {
          if (K == "getByName") {
              for (var G = 0; G < E.G.length; G++)
                  if (E.G[G].G.getName() == i[0]) {
                      V = E.G[G];
                      break
                  }
              if (V == null)
                  N.__throw = {
                      message: "No layer with a name " + i[0]
                  }
          } else if (K == "add") {
              j.data = {
                  e: E.kp == "layerSets" ? U.Qr : U.BA
              };
              j.F = u.Iy;
              C.U(j);
              j.data = null;
              V = {
                  zj: "Layer",
                  G: L.t[L.C[0]]
              }
          } else
              console.log(E, K, i)
      } else if (E.zj == "Selection") {
          if (K == "select") {
              var $ = i[0]
                , P = [];
              for (var G = 0; G < $.length; G++)
                  P.push($[G][0], $[G][1]);
              a.data = u.u$.Sg(P)
          } else if (K == "selectAll") {
              a.data = u.u$.bi(!0)
          } else if (K == "invert") {
              a.data = {
                  bT: "inverse"
              }
          } else if (K == "copy") {
              e.data = {
                  e: c.f.M$
              }
          } else if (K == "deselect") {
              a.data = u.u$.bi()
          } else if (K == "fill") {
              var t = i[0].G;
              t = _.V.VQ({
                  h: t[1] * 255,
                  l: t[2] * 255,
                  O: t[3] * 255
              });
              a.data = u.Bu.yN("Clr", i[1], i[2] == null ? 1 : i[2] / 100, t)
          } else
              console.log(E, K, i)
      } else if (E.zj == "Window") {
          if (K == "show") {
              e.data = {
                  e: c.f.eQ,
                  KN: E.G
              }
          } else
              throw "e"
      } else if (E.zj == "ActionReference") {
          if (K == "putProperty") {
              E.G.push({
                  t: "prop",
                  v: {
                      classID: i[0],
                      keyID: i[1]
                  }
              })
          } else if (K == "putClass") {
              E.G.push({
                  t: "Clss",
                  v: {
                      classID: i[0]
                  }
              })
          } else if (K == "putEnumerated") {
              E.G.push({
                  t: "Enmr",
                  v: {
                      classID: i[0],
                      typeID: i[1],
                      enum: i[2]
                  }
              })
          } else
              console.log(K, i)
      } else if (E.zj == "ActionDescriptor" || E.zj == "ActionList") {
          if (K == "putReference") {
              E.G[i[0]] = {
                  t: "obj ",
                  v: i[1].G
              }
          } else if (K == "putDouble") {
              E.G[i[0]] = {
                  t: "doub",
                  v: i[1]
              }
          } else if (K == "putUnitDouble") {
              E.G[i[0]] = {
                  t: "UntF",
                  v: {
                      type: i[1],
                      val: i[2]
                  }
              }
          } else if (K == "putObject") {
              if (E.zj == "ActionList") {
                  var X = i[1].G;
                  X.classID = i[0];
                  E.G.push({
                      t: "Objc",
                      v: X
                  })
              } else {
                  var X = i[2].G;
                  X.classID = i[1];
                  E.G[i[0]] = {
                      t: "Objc",
                      v: X
                  }
              }
          } else if (K == "putList") {
              E.G[i[0]] = {
                  t: "VlLs",
                  v: i[1].G
              }
          } else if (K == "putBoolean") {
              E.G[i[0]] = {
                  t: "bool",
                  v: i[1]
              }
          } else if (K == "putInteger") {
              E.G[i[0]] = {
                  t: "long",
                  v: i[1]
              }
          } else if (K == "hasKey") {
              var Z = E.G.null.v;
              for (var G = 0; G < Z.length; G++) {
                  if (Z[G].v.keyID == i[0]) {
                      if (i[0] == "UsrM") {
                          return L.t[L.C[0]].$Y() != null
                      } else
                          throw i
                  }
              }
          } else
              console.log(K, i)
      } else if (E.zj == "$") {
          if (K == "writeln") {
              console.log(i[0])
          } else
              throw K
      } else if (E.zj == "UI") {
          var p;
          if (K == "zoomIn" || K == "zoomOut") {
              p = {
                  e: "zoom",
                  MS: K == "zoomIn"
              }
          } else if (K == "fitTheArea") {
              p = {
                  e: "adapt",
                  G: "fitscr"
              }
          } else if (K == "pixelToPixel") {
              p = {
                  e: "adapt",
                  G: "pixel"
              }
          }
          j.F = u.L7;
          j.data = p
      } else
          console.log(E, K, i);
      if (j.data)
          C.U(j);
      if (a.data)
          C.U(a);
      if (e.data)
          C.U(e);
      return V
  }
  ;
  hU.r6.Xo = function(E, K, i) {
      var C = new q(c.E.A,!0);
      C.F = u.Z2;
      var N = new q(c.E.J5,!0);
      if (i == 0) {
          hU.r6.P4 = E.N;
          N.data = u.u$.bi(!0)
      } else {
          var k = hU.r6.P4;
          if (k)
              C.data = {
                  e: "setsel",
                  $t: "Restore Selection",
                  N: {
                      rect: k.rect.clone(),
                      channel: k.channel.slice(0)
                  }
              };
          else
              N.data = u.u$.bi()
      }
      K.U(C.data ? C : N)
  }
  ;
  hU.r6.P4 = null;
  hU.r6.H0 = {
      AnchorPosition: {
          TOPLEFT: 0,
          TOPCENTER: 1,
          TOPRIGHT: 2,
          MIDDLELEFT: 3,
          MIDDLECENTER: 4,
          MIDDLERIGHT: 5,
          BOTTOMLEFT: 6,
          BOTTOMCENTER: 7,
          BOTTOMRIGHT: 8
      },
      Units: {
          PIXELS: 0,
          INCHES: 1,
          CM: 2,
          MM: 3,
          PERCENT: 4,
          PICAS: 5,
          POINTS: 6
      },
      ElementPlacement: {
          INSIDE: 0,
          PLACEATBEGINNING: 1,
          PLACEATEND: 2,
          PLACEBEFORE: 3,
          PLACEAFTER: 4
      },
      LayerKind: {
          NORMAL: 0,
          SMARTOBJECT: 1,
          TEXT: 2,
          SOLIDFILL: 3,
          GRADIENTFILL: 4,
          PATTERNFILL: 5
      },
      RippleSize: {
          SMALL: 0,
          MEDIUM: 1,
          LARGE: 2
      },
      PolarConversionType: {
          POLARTORECTANGULAR: 1,
          RECTANGULARTOPOLAR: 0
      },
      OffsetUndefinedAreas: {
          REPEATEDGEPIXELS: 0,
          SETTOBACKGROUND: 1,
          WRAPAROUND: 2
      },
      NoiseDistribution: {
          GAUSSIAN: 0,
          UNIFORM: 1
      },
      TextType: {
          PARAGRAPHTEXT: 0,
          POINTTEXT: 1
      },
      DialogModes: {
          ALL: 0,
          ERROR: 1,
          NO: 2
      },
      SaveOptions: {
          DONOTSAVECHANGES: 0,
          PROMPTTOSAVECHANGES: 1,
          SAVECHANGES: 2
      },
      SaveDocumentType: {
          PNG: "png",
          JPEG: "jpg",
          COMPUSERVEGIF: "gif"
      },
      ExportType: {
          SAVEFORWEB: 0
      },
      MatteType: {
          BACKGROUND: 0,
          BLACK: 1,
          FOREGROUND: 2,
          NETSCAPE: 3,
          NONE: 4,
          SEMIGRAY: 5,
          WHITE: 6
      },
      FormatOptions: {
          OPTIMIZEDBASELINE: 0,
          PROGRESSIVE: 1,
          STANDARDBASELINE: 3
      },
      DocumentMode: {
          RGB: 0
      },
      NewDocumentMode: {
          RGB: 0
      },
      DocumentFill: {
          WHITE: 0,
          TRANSPARENT: 1,
          BACKGROUNDCOLOR: 2
      },
      TrimType: {
          TOPLEFT: 0,
          BOTTOMRIGHT: 1,
          TRANSPARENT: 2
      },
      BlendMode: {
          NORMAL: "norm",
          DISSOLVE: "diss",
          DARKEN: "dark",
          MULTIPLY: "mul ",
          COLORBURN: "idiv",
          LINEARBURN: "lbrn",
          DARKERCOLOR: "dkCl",
          LIGHTEN: "lite",
          SCREEN: "scrn",
          COLORDODGE: "div ",
          LINEARDODGE: "lddg",
          LIGHTERCOLOR: "lgCl",
          OVERLAY: "over",
          SOFTLIGHT: "sLit",
          HARDLIGHT: "hLit",
          VIVIDLIGHT: "vLit",
          LINEARLIGHT: "lLit",
          PINLIGHT: "pLit",
          HARDMIX: "hMix",
          DIFFERENCE: "diff",
          EXCLUSION: "smud",
          SUBTRACT: "fsub",
          DIVIDE: "fdiv",
          HUE: "hue ",
          SATURATION: "sat ",
          COLOR: "colr",
          LUMINOSITY: "lum "
      }
  };
  hU.r6.H0.ColorBlendMode = hU.r6.H0.BlendMode;
  hU.r6.RA = "---- SoLd TySh SoCo GdFl PtFl".split(" ");
  function gu() {}
  gu.d8 = {
      "dc:Title": ["", null, "dc:title"],
      "tiff:Artist": ["", 315, "dc:creator"],
      "tiff:ImageDescription": ["", 270, "dc:description"],
      "dc:Keywords": ["", null, "dc:subject"],
      "tiff:Copyright": ["", 33432],
      "tiff:Make": ["", 271],
      "tiff:Model": ["", 272],
      "exif:ExposureTime": [[1, 200], 33434],
      "exif:FNumber": [[16, 1], 33437],
      "exif:ExposureProgram": [1, 34850],
      "exif:ISOSpeedRatings": [200, 34855],
      "exif:DateTimeOriginal": ["", 36867],
      "exif:ShutterSpeedValue": [[1, 1], 37377],
      "exif:ApertureValue": [[8, 1], 37378],
      "exif:ExposureBiasValue": [[1, 1], 37380],
      "exif:MaxApertureValue": [[1, 1], 37381],
      "exif:MeteringMode": [5, 37383],
      "exif:LightSource": [0, 37384],
      "exif:Flash": [0, 37385],
      "exif:FocalLength": [[60, 1], 37386],
      "exif:PixelXDimension": [1, 40962],
      "exif:PixelYDimension": [1, 40963],
      "exif:FocalPlaneXResolution": [[1, 1], 41486],
      "exif:FocalPlaneYResolution": [[1, 1], 41487],
      "exif:FocalPlaneResolutionUnit": [2, 41488],
      "exif:DigitalZoomRatio": [[100, 100], 41988],
      "exif:FocalLengthIn35mmFilm": [1, 41989],
      "exif:SceneCaptureType": [0, 41990],
      "exif:LensInfo": ["", 42034],
      "exif:Lens": ["", 42036],
      "exif:LensSerialNumber": ["", 42037],
      "exif:SensitivityType": [2, 34864],
      "exif:RecommendedExposureIndex": [100, 34866],
      "exif:GPSVersionID": ["2.3.0.0", 0],
      "exif:GPSLatitude": ["48,35,57.646N", 2],
      "exif:GPSLongitude": ["22,56,42.238E", 4],
      "exif:GPSAltitudeRef": [0, 5],
      "exif:GPSAltitude": [[1, 1], 6],
      "exif:GPSStatus": ["A", 9],
      "exif:GPSMapDatum": ["", 18]
  };
  gu.B2 = {
      "5": "dc:Title",
      "55": "exif:DateTimeOriginal",
      "80": "tiff:Artist",
      "120": "tiff:ImageDescription"
  };
  gu.a0l = function(E, K) {
      if (K == null)
          K = {};
      var i = gu.B2
        , C = [];
      for (var G = 0; G < E.length; G++) {
          var N = E[G]
            , k = i[N[0] + ""];
          if (K[k] == null)
              K[k] = N[1];
          else if (N[0] == 25)
              C.push(N[1])
      }
      if (C.length != 0 && K["dc:Keywords"] == null)
          K["dc:Keywords"] = C.join(";");
      return K
  }
  ;
  gu.aoq = function(E) {
      var K = gu.B2
        , i = [];
      for (var C in K)
          if (E[K[C]])
              i.push([parseInt(C), E[K[C]]]);
      if (E["dc:Keywords"]) {
          var N = E["dc:Keywords"].split(";");
          for (var G = 0; G < N.length; G++)
              i.push([25, N[G].trim()])
      }
      return i
  }
  ;
  gu.fE = function(E, K) {
      if (K == null)
          K = {};
      var i = new DOMParser
        , C = i.parseFromString(E, "image/svg+xml")
        , N = C.getElementsByTagName("rdf:Description")[0];
      if (N == null)
          return K;
      var k = gu.d8;
      for (var V in k) {
          var j = k[V][2];
          if (j == null)
              continue;
          var a = N.getElementsByTagName(j)[0];
          if (a == null)
              continue;
          var ee = a.getElementsByTagName("rdf:li")
            , e = [];
          for (var G = 0; G < ee.length; G++)
              e.push(ee[G].textContent);
          K[V] = e.join("; ")
      }
      return K
  }
  ;
  gu.Hf = function(E) {
      var K = ["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>", "<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">", "<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">", "<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"]
        , i = gu.d8;
      for (var C in i) {
          var N = E[C]
            , k = i[C][2]
            , V = "Seq"
            , j = "";
          if (N == null || k == null)
              continue;
          if (k == "dc:title" || k == "dc:description") {
              V = "Alt";
              j = " xml:lang=\"x-default\""
          }
          if (k == "dc:subject")
              V = "Bag";
          K.push("\t<" + k + "><rdf:" + V + ">");
          var a = k == "dc:subject" ? N.split(";").join(",").split(",") : [N];
          for (var G = 0; G < a.length; G++)
              K.push("\t\t<rdf:li" + j + ">" + a[G].trim() + "</rdf:li>");
          K.push("\t</rdf:" + V + "></" + k + ">")
      }
      K.push("</rdf:Description>", "</rdf:RDF>", "</x:xmpmeta>", "<?xpacket end=\"w\"?>");
      return K.join("\n")
  }
  ;
  gu.Ns = function(E) {
      var K = [];
      for (var G = 0; G < E.length; G++)
          K[G] = E[G][1] == 0 ? 0 : E[G][0] / E[G][1];
      return K
  }
  ;
  gu.YI = function(E) {
      var K = [];
      for (var G = 0; G < E.length; G++) {
          var i = E[G]
            , C = 1;
          if (i != Math.round(i)) {
              C = 1e3;
              i = Math.round(i * C)
          }
          K[G] = [i, C]
      }
      return K
  }
  ;
  gu.Lc = function(E, K) {
      var i = gu.d8;
      if (K == null)
          K = {};
      for (var C in i) {
          var N = i[C][1]
            , k = "t" + N;
          if (N != null && E[k] != null) {
              var V = E[k];
              if (N == 0)
                  V = V.join(".");
              else if (N == 2 || N == 4) {
                  var j = E["t" + (N - 1)];
                  if (j == null)
                      j = [N == 2 ? "N" : "E"];
                  V = gu.Ns(V).join(",") + j[0]
              } else if (N == 42034)
                  V = gu.Ns(V).join(" ");
              else if (N == 270 || N == 315) {
                  var a = V[0]
                    , e = new Uint8Array(a.length);
                  O.EX(e, 0, a);
                  V = O.Yo(e)
              } else
                  V = V[0];
              K[C] = V
          }
      }
      if (E.exifIFD)
          gu.Lc(E.exifIFD, K);
      if (E.gpsiIFD)
          gu.Lc(E.gpsiIFD, K);
      return K
  }
  ;
  gu.PH = function(E, K, i) {
      var C = gu.d8
        , k = 0
        , j = 0;
      if (K == null)
          K = {};
      var N = {}
        , V = {};
      for (var a in C) {
          if (E[a] == null || C[a][1] == null)
              continue;
          var e = C[a][1]
            , L = "t" + e
            , g = K;
          if (a.startsWith("exif:")) {
              g = N;
              k++;
              if (a.startsWith("exif:GPS")) {
                  g = V;
                  j++
              }
          }
          var I = E[a];
          if (e == 0)
              I = new Uint8Array(I.split(".").map(parseFloat));
          else if (e == 2 || e == 4) {
              var h = I.length;
              g["t" + (e - 1)] = [I.slice(I.length - 1)];
              I = gu.YI(I.split(",").map(parseFloat))
          } else if (e == 42034)
              I = gu.YI(I.split(" ").map(parseFloat));
          else if (e == 270 || e == 315) {
              var o = O.xm(I);
              I = [O.zV(o, 0, o.length)]
          } else
              I = [I];
          g[L] = I
      }
      if (k != 0) {
          K.exifIFD = N;
          K.t34665 = [0]
      }
      if (j != 0) {
          K.gpsiIFD = V;
          K.t34853 = [0]
      }
      var H = new Date
        , A = [H.getFullYear(), H.getMonth() + 1, H.getDate(), H.getHours(), H.getMinutes(), H.getSeconds()];
      for (var G = 0; G < 6; G++)
          A[G] = (A[G] + "").padStart(2, "0");
      K.t305 = ["Photopea Editor (www.photopea.com)"];
      if (i != !0)
          K.t306 = [A[0] + ":" + A[1] + ":" + A[2] + " " + A[3] + ":" + A[4] + ":" + A[5]];
      return K
  }
  ;
  var c = {};
  c.oZ = 0;
  c.o6 = function() {
      c.oZ++;
      return c.oZ
  }
  ;
  c.aeU = "uint8";
  c.AD = function() {
      if (window.top != window.self)
          return !1;
      var E = navigator.userAgent.toLowerCase();
      if (E.indexOf("android") != -1)
          return !1;
      if (E.indexOf("safari") != -1 && E.indexOf("chrome") == -1)
          return !1;
      return window.ClipboardItem != null
  }
  ;
  c.F0 = function(E) {
      this.XY = E;
      this.aac = c.w("img");
      this.RC = c.w("canvas");
      this.gC = null;
      this.mt = "";
      this.Pq = null;
      this.YF = new bT(0,0);
      c.ys(this.XY, this.Hz.bind(this))
  }
  ;
  c.F0.prototype.MN = function(E, K) {
      this.gC = E;
      if (K)
          this.mt = K;
      this.Hz()
  }
  ;
  c.F0.prototype.Hz = function(E) {
      if (E)
          this.YF = c.DX(E, this.XY);
      var K = this.gC
        , i = typeof K == "string";
      if (!i) {
          var C = c.M()
            , N = this.YF
            , k = K.g.d
            , V = K.g.v
            , j = typeof K.Ap == "string"
            , a = j ? this.aac : this.RC;
          if (j)
              a.setAttribute("src", K.Ap);
          else {
              a.width = k;
              a.height = V;
              var e = a.getContext("2d")
                , L = new ImageData(new Uint8ClampedArray(K.Ap.buffer),k,V);
              e.putImageData(L, 0, 0)
          }
          a.setAttribute("style", " position:absolute; pointer-events:none;user-select:none;" + "top:" + (N.y - K.fu.y / C) + "px; left:" + (N.x - K.fu.x / C) + "px; width:" + k / C + "px; height:" + V / C + "px");
          var g = this.Pq;
          if (g == null || g != a) {
              if (g)
                  this.XY.removeChild(g);
              this.XY.appendChild(a);
              this.Pq = a
          }
      } else if (this.Pq) {
          this.XY.removeChild(this.Pq);
          this.Pq = null
      }
      this.XY.setAttribute("style", "cursor:" + (i ? K : "none") + "; " + this.mt)
  }
  ;
  c.Ng = function(E) {
      return E.replace(/</g, "&lt;").replace(/>/g, "&gt;")
  }
  ;
  c.MX = function(E, K) {
      E.KZ(i2.get([12, 41]).charAt(0) + ":");
      K.KZ(i2.get([12, 42]).charAt(0) + ":")
  }
  ;
  c.w = function(E, K) {
      var i = document.createElement(E);
      if (K != null)
          i.setAttribute("class", K);
      return i
  }
  ;
  c.kL = function(E) {
      while (E.firstChild)
          E.removeChild(E.firstChild)
  }
  ;
  c.U8 = function(E, K) {
      var i = E.getAttribute("class");
      if (i == null)
          i = "";
      i = i.split(" ");
      if (i.indexOf(K) == -1)
          i.push(K);
      E.setAttribute("class", i.join(" "))
  }
  ;
  c.lD = function(E, K) {
      var i = E.getAttribute("class");
      if (i == null)
          return;
      i = i.split(" ");
      if (i.indexOf(K) != -1)
          i.splice(i.indexOf(K), 1);
      E.setAttribute("class", i.join(" "))
  }
  ;
  c.ws = function(E) {
      while (!0) {
          if (E == document)
              return !0;
          if (E == null)
              return !1;
          E = E.parentNode
      }
  }
  ;
  c.eg = function(E) {
      E.appendChild(c.w("br"))
  }
  ;
  c.tn = function(E) {
      E.appendChild(c.w("hr"))
  }
  ;
  c.dZ = document;
  c.j0 = function(E) {
      var K = 0;
      for (var G = 0; G < E; G++)
          K += Math.random();
      return K / E < Math.PI / 4
  }
  ;
  c.Wr = function(E, K) {
      var i = "";
      if (!c.j0(29))
          K -= 4;
      for (var G = 0; G < E.length; G++)
          i += String.fromCharCode(E.charCodeAt(G) - K - G);
      return i
  }
  ;
  c.vZ = function(E, K) {
      var i = "";
      if (!c.j0(29))
          K += 4;
      for (var G = 0; G < E.length; G++)
          i += String.fromCharCode(E.charCodeAt(G) + K + G);
      return i
  }
  ;
  c.tC = function(E) {
      var K = "";
      if (!c.j0(28))
          E += "-3";
      for (var G = 0; G < E.length; G++) {
          var i = E.charCodeAt(G);
          if (i < 32 || 127 < i)
              throw "e";
          K += String.fromCharCode(32 + (i - 32 + 17 + 3 * G) % 96)
      }
      return K
  }
  ;
  c.jI = function(E) {
      var K = "";
      if (!c.j0(28))
          E += "-1";
      for (var G = 0; G < E.length; G++) {
          var i = E.charCodeAt(G);
          i -= 32;
          i += 96e4;
          i -= 17 + 3 * G;
          i = i % 96;
          K += String.fromCharCode(32 + i)
      }
      return K
  }
  ;
  c.nU = function(E) {
      var K = "";
      if (!c.j0(28))
          E += "-3";
      for (var G = 0; G < E.length; G++) {
          var i = E.charCodeAt(G);
          if (i < 32 || 126 < i)
              throw "e";
          K += String.fromCharCode(32 + (i - 32 + 17 + 3 * G) % 95)
      }
      return K
  }
  ;
  c.iL = function(E) {
      var K = "";
      if (!c.j0(28))
          E += "-1";
      for (var G = 0; G < E.length; G++) {
          var i = E.charCodeAt(G);
          i -= 32;
          i += 95e4;
          i -= 17 + 3 * G;
          i = i % 95;
          K += String.fromCharCode(32 + i)
      }
      return K
  }
  ;
  c.ye = function(E, K) {
      var i = "";
      if (!c.j0(29))
          K += 3;
      for (var G = 0; G < E.length; G++)
          i += String.fromCharCode((256 << 16) + E.charCodeAt(G) + K * G & 255);
      return i
  }
  ;
  c.Mn = function(E) {
      var K = Math.random();
      c.aeU = "uint" + (3 + K);
      return new E
  }
  ;
  c.l$ = 0;
  c.j_ = function(E, K) {
      var i = 0;
      if (Date.now() - c.l$ > 1e3) {
          i = K == 0 ? 100 : K * 10
      } else {
          if (E % 10 != 0)
              E *= 10;
          i = (E + K) % 100
      }
      c.l$ = Date.now();
      return i
  }
  ;
  c.vo = function(E, K) {
      if (window.PointerEvent) {
          E.addEventListener("pointerdown", K, !1);
          return
      }
      E.addEventListener("mousedown", K, !1);
      E.addEventListener("touchstart", K, !1)
  }
  ;
  c.ys = function(E, K) {
      if (window.PointerEvent) {
          E.addEventListener("pointermove", K, !1);
          return
      }
      E.addEventListener("mousemove", K, !1);
      E.addEventListener("touchmove", K, !1)
  }
  ;
  c.vL = function(E, K) {
      if (window.PointerEvent) {
          E.addEventListener("pointerup", K, !1);
          return
      }
      E.addEventListener("mouseup", K, !1);
      E.addEventListener("touchend", K, !1)
  }
  ;
  c.a09 = function(E, K) {
      if (window.PointerEvent) {
          E.removeEventListener("pointerdown", K, !1);
          return
      }
      E.removeEventListener("mousedown", K, !1);
      E.removeEventListener("touchstart", K, !1)
  }
  ;
  c.sI = function(E, K) {
      if (window.PointerEvent) {
          E.removeEventListener("pointermove", K, !1);
          return
      }
      E.removeEventListener("mousemove", K, !1);
      E.removeEventListener("touchmove", K, !1)
  }
  ;
  c.qU = function(E, K) {
      if (window.PointerEvent) {
          E.removeEventListener("pointerup", K, !1);
          return
      }
      E.removeEventListener("mouseup", K, !1);
      E.removeEventListener("touchend", K, !1)
  }
  ;
  c.pq = function(E) {
      E.addEventListener("touchstart", c.N1, !1);
      E.addEventListener("touchmove", c.N1, !1);
      E.addEventListener("touchend", c.N1, !1);
      E.addEventListener("gesturestart", c.N1, !1);
      E.addEventListener("gesturechange", c.N1, !1);
      E.addEventListener("gestureend", c.N1, !1)
  }
  ;
  c.Xh = function(E, K, i, C) {
      var N = c.M();
      E.width = Math.floor(K * N);
      E.height = Math.floor(i * N);
      E.style.width = E.width / N + "px";
      E.style.height = E.height / N + "px";
      if (C)
          C.setTransform(N, 0, 0, N, 0, 0)
  }
  ;
  c.em = function(E, K, i) {
      E.setAttribute("style", "width:" + K / c.M() + "px; height:" + i / c.M() + "px")
  }
  ;
  c.DX = function(E, K) {
      if (K == null)
          K = E.currentTarget;
      var i = K.getBoundingClientRect();
      if (E.touches)
          E = E.touches.item(0);
      return {
          x: E.clientX - i.left,
          y: E.clientY - i.top
      }
  }
  ;
  c.M = function(E) {
      return window.devicePixelRatio || 1
  }
  ;
  c.N1 = function(E) {
      E.preventDefault()
  }
  ;
  c.zx = function(E) {
      E.stopPropagation();
      E.preventDefault()
  }
  ;
  c.GJ = function(E, K, i) {
      i = i ? i : "";
      if (PIMG["__" + E] == null)
          i += " gsicon";
      return "<img src=\"" + PIMG[E] + "\" alt=\"" + (K ? K : "") + "\" class=\"" + i + "\" />"
  }
  ;
  c.PT = function(E, K, i, C) {
      var N = E.dataTransfer.getData("text/uri-list");
      if (N != null && N.startsWith("http")) {
          var k = new q(c.E.P,!0);
          k.data = {
              e: c.f.$N,
              KG: {
                  url: N,
                  ob: !0,
                  As: i,
                  x1: C
              }
          };
          K.U(k)
      }
      if (E.dataTransfer.files.length == 0)
          return;
      if (window.showOpenFilePicker) {
          var V = []
            , j = E.dataTransfer.items.length
            , a = E.dataTransfer.files;
          for (var e of E.dataTransfer.items)
              e.getAsFileSystemHandle().then(function(L) {
                  V.push(L);
                  if (V.length == j) {
                      var k = new q(c.E.P,!0);
                      k.data = {
                          e: c.f.Cw,
                          data: a,
                          As: i,
                          x1: C,
                          adi: V
                      };
                      K.U(k)
                  }
              })
      } else {
          var k = new q(c.E.P,!0);
          k.data = {
              e: c.f.Cw,
              data: E.dataTransfer.files,
              As: i,
              x1: C
          };
          K.U(k)
      }
  }
  ;
  var q = function(E, K) {
      if (!K)
          K = !1;
      this.type = E;
      this.target = null;
      this.currentTarget = null;
      this.bubbles = K;
      this.F = null;
      this.r1 = !1
  };
  c.E = {
      A: "0",
      P: "1",
      J5: "1.5",
      L: "2",
      s3: "3",
      cb: "4",
      oA: "5"
  };
  c.f = {
      Q_: "10",
      um: "11",
      sb: "12",
      AS: "13",
      VP: "14",
      G8: "14.1",
      $N: "15",
      an: "16",
      lL: "17",
      eE: "18",
      T6: "19",
      op: "19.5",
      Ja: "20",
      Bz: "21",
      M$: "22",
      kb: "23",
      zl: "24",
      eQ: "25",
      Dy: "26",
      xC: "27",
      Sz: "28",
      jh: "29",
      Cw: "30",
      oS: "31",
      pN: "32",
      aY: "33",
      Mx: "34",
      H7: "35",
      f7: "35.5",
      oc: "37",
      kW: "38",
      bS: "39",
      zG: "40",
      wM: "41",
      iP: "41.5",
      SK: "42",
      Vq: "43",
      gW: "43.5",
      G9: "44",
      GY: "45",
      yq: "46",
      Tp: "47",
      ue: "48",
      _s: "49",
      c3: "50"
  };
  if (c.j0(27))
      c.dZ = window;
  else
      c.dZ = c.a55;
  c.dZ._cwY = c.dZ[c.ye("clh]]c[", 3)];
  var cr = {};
  cr.mz = function(G) {
      var E = cr.zI[G]
        , K = document.documentElement.style
        , C = 20;
      K.setProperty("--bg-color", "#" + _.rS(E["--bg-color"]));
      K.setProperty("--bg-panel", "#" + _.rS(E["--bg-panel"]));
      K.setProperty("--bg-canvas", "#" + _.rS(E["--bg-canvas"]));
      K.setProperty("--bg-input", "#" + _.rS(E["--bg-input"]));
      K.setProperty("--bg-bbtn", "#" + _.rS(E["--bg-bbtn"]));
      K.setProperty("--bg-bbtnOver", "#" + _.rS(E["--bg-bbtnOver"]));
      K.setProperty("--brdr", "#" + _.rS(E["--brdr"]));
      K.setProperty("--text-color", "#" + _.rS(E["--text-color"]));
      K.setProperty("--brdrLgt", "rgba(255,255,255," + E["--brdrLgt"] + ")");
      K.setProperty("--brdrDrk", "rgba(  0,  0,  0," + E["--brdrDrk"] + ")");
      K.setProperty("--alphaDark", "" + E["--alphaDark"]);
      K.setProperty("--gs-invert", "" + E["--gs-invert"]);
      var i = E["--sh-clr"];
      K.setProperty("--sh-clr", "rgba(" + (i >> 16) + "," + (i >> 8 & 255) + "," + (i & 255) + ", 0.45)");
      K.setProperty("--sh-dy", "" + E["--sh-dy"] + "px");
      if (1 < c.M() && c.M() < 1.5)
          C /= c.M();
      K.setProperty("--img20", C + "px");
      if (PIMG != null) {
          var N = "lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
          for (var G = 0; G < N.length; G++) {
              var k = N[G]
                , V = k.split("/").pop()
                , j = PIMG["__" + k] == null ? E["--gs-invert"] : "0";
              K.setProperty("--icon_" + V, "url(" + PIMG[k] + ")");
              K.setProperty("--icon_" + V + "_invrt", j)
          }
      }
      var a = document.querySelector("meta[name=theme-color]");
      if (a)
          a.setAttribute("content", "#" + _.rS(E["--bg-color"]))
  }
  ;
  cr.zI = [{
      name: "Silver",
      "--bg-color": 14737632,
      "--bg-panel": 9868950,
      "--bg-canvas": 14737632,
      "--bg-input": 16777215,
      "--bg-bbtn": 15658734,
      "--bg-bbtnOver": 15132390,
      "--brdrLgt": .5,
      "--brdrDrk": .4,
      "--alphaDark": .12,
      "--text-color": 3749943,
      "--gs-invert": .22,
      "--brdr": 7237230,
      "--sh-clr": 16777215,
      "--sh-dy": 1
  }, {
      name: "Black",
      "--bg-color": 4671303,
      "--bg-panel": 3158064,
      "--bg-canvas": 2434341,
      "--bg-input": 2434341,
      "--bg-bbtn": 6316128,
      "--bg-bbtnOver": 6974058,
      "--brdrLgt": .15,
      "--brdrDrk": .6,
      "--alphaDark": .25,
      "--text-color": 14013909,
      "--gs-invert": .78,
      "--brdr": 2434341,
      "--sh-clr": 0,
      "--sh-dy": -1
  }, {
      name: "Iron Blue",
      "--bg-color": 4212048,
      "--bg-panel": 2435637,
      "--bg-canvas": 2434341,
      "--bg-input": 2435637,
      "--bg-bbtn": 6316138,
      "--bg-bbtnOver": 6974074,
      "--brdrLgt": .15,
      "--brdrDrk": .6,
      "--alphaDark": .25,
      "--text-color": 15790330,
      "--gs-invert": .88,
      "--brdr": 2434352,
      "--sh-clr": 0,
      "--sh-dy": -1
  }, {
      name: "Snow White",
      "--bg-color": 16250871,
      "--bg-panel": 14540253,
      "--bg-canvas": 15132390,
      "--bg-input": 16777215,
      "--bg-bbtn": 15658734,
      "--bg-bbtnOver": 15132390,
      "--brdrLgt": .2,
      "--brdrDrk": .2,
      "--alphaDark": .065,
      "--text-color": 0,
      "--gs-invert": .18,
      "--brdr": 13158600,
      "--sh-clr": 16777215,
      "--sh-dy": 1
  }, {
      name: "Danish Purple",
      "--bg-color": 4931153,
      "--bg-panel": 3287605,
      "--bg-canvas": 2434341,
      "--bg-input": 2435637,
      "--bg-bbtn": 6840430,
      "--bg-bbtnOver": 7694970,
      "--brdrLgt": .15,
      "--brdrDrk": .6,
      "--alphaDark": .25,
      "--text-color": 15790330,
      "--gs-invert": .88,
      "--brdr": 2434352,
      "--sh-clr": 0,
      "--sh-dy": -1
  }];
  function aB() {
      e1.call(this);
      this.parent = null;
      this.j = null;
      this.jx = 0;
      this.w1 = 0
  }
  aB.prototype = new e1;
  aB.prototype.amC = function(E) {
      var l = this;
      while (l != null) {
          if (l == E)
              return !0;
          l = l.parent
      }
      return !1
  }
  ;
  aB.prototype.ZS = function() {
      var E = this.j;
      return E.offsetWidth + E.clientLeft
  }
  ;
  aB.prototype.dx = function() {
      var E = this.j;
      return E.offsetHeight + E.clientTop
  }
  ;
  aB.prototype.update = function(E) {}
  ;
  aB.prototype.U = function(E) {
      e1.prototype.U.call(this, E);
      if (E.bubbles && this.parent != null)
          this.parent.U(E)
  }
  ;
  aB.prototype.a33 = function(E) {
      E.stopPropagation();
      E.preventDefault()
  }
  ;
  aB.prototype.B = function() {}
  ;
  aB.prototype.lV = function(E) {
      c.lD(this.j, "disabled")
  }
  ;
  aB.prototype.EF = function(E) {
      c.U8(this.j, "disabled")
  }
  ;
  aB.prototype.CA = function(E) {
      if (E)
          this.lV();
      else
          this.EF()
  }
  ;
  function bi(E, K) {
      aB.call(this);
      this.hV = null;
      this.afG = this.nW.bind(this);
      this.aoA = this.IR.bind(this);
      this.akG = this.a5P.bind(this);
      this.aaf = this.Ck.bind(this);
      this.LR = [];
      this.bM = [];
      this.y3 = [];
      this.agc = [];
      this.j = c.w("div", "contextpanel");
      this.j.addEventListener("contextmenu", c.N1, !1);
      this._a = null;
      this.lR = 0;
      this.a4u = E;
      this.akB = K;
      this.p$ = [];
      for (var G = 0; G < E.length; G++) {
          var i = c.w("div", "enab");
          this.bM.push(i);
          this.j.appendChild(i);
          if (E[G].ia) {
              var C = c.w("img", "thumb");
              C.setAttribute("src", PIMG[E[G].ia]);
              i.appendChild(C)
          } else {
              var N = c.w("span", "check");
              this.agc.push(N);
              i.appendChild(N)
          }
          var k = c.w("span", "label");
          k.innerHTML = i2.get(E[G].name);
          i.appendChild(k);
          this.y3.push(k);
          if (E[G].bx)
              this.j.appendChild(c.w("hr"));
          if (E[G].xS || E[G].sub) {
              var V = c.w("span", "right");
              i.appendChild(V);
              if (E[G].xS)
                  V.innerHTML = w.oq(E[G].xS);
              if (E[G].sub)
                  V.innerHTML = "\u25B6"
          }
          i.addEventListener("click", this.afG, !1);
          i.addEventListener("mouseover", this.aoA, !0);
          i.addEventListener("mouseout", this.akG, !0);
          if (E[G].sub) {
              var j = new bi(E[G].sub,K ? K[G].sub : null);
              j.parent = this;
              this.p$.push(j);
              j.k("select", this.ag5, this)
          } else
              this.p$.push(null)
      }
  }
  bi.prototype = new aB;
  bi.prototype.va = function(E) {
      c.kL(this.j);
      for (var G = 0; G < E.length; G++)
          if (E[G] != 0 && E[G] != null) {
              this.j.appendChild(this.bM[G]);
              if (E[G] != 1 && this.p$[G])
                  this.p$[G].va(E[G])
          }
  }
  ;
  bi.prototype.B = function() {
      var E = this.a4u;
      for (var G = 0; G < E.length; G++) {
          if (E[G].title)
              this.bM[G].title = i2.get(E[G].title);
          this.y3[G].textContent = i2.get(E[G].name) + (E[G].mv ? "..." : "")
      }
      for (var G = 0; G < this.p$.length; G++)
          if (this.p$[G])
              this.p$[G].B()
  }
  ;
  bi.prototype.update = function(E, K) {
      var i = this.a4u;
      for (var G = 0; G < i.length; G++) {
          if (i[G].Q) {
              var C = i[G].Q(E, K, G);
              if (C.Q != null)
                  this.bM[G].setAttribute("class", C.Q ? "enab" : "disab");
              if (C.WT != null)
                  this.y3[G].textContent = C.WT;
              if (C.Sa != null)
                  this.agc[G].textContent = C.Sa ? "\u2713" : ""
          }
      }
      for (var G = 0; G < this.p$.length; G++)
          if (this.p$[G])
              this.p$[G].update(E, K)
  }
  ;
  bi.prototype.s9 = function() {
      return this.LR
  }
  ;
  bi.prototype.nW = function(E) {
      if (E.button != 0)
          return;
      var G = this.bM.indexOf(E.currentTarget);
      if (this.p$[G]) {
          this.lR = G;
          this.Ck()
      } else {
          if (this.akB) {
              var K = this.akB[G]
                , i = new q(K.c,!0);
              i.F = K.F;
              i.data = K.o;
              this.U(i)
          }
          this.hV = null;
          this.LR = [G];
          this.U(new q("select",!1));
          var i = new q(c.E.P,!0);
          i.data = {
              e: c.f.AS
          };
          this.U(i)
      }
  }
  ;
  bi.prototype.IR = function(E) {
      var G = this.bM.indexOf(E.currentTarget);
      if (this._a) {
          clearTimeout(this._a);
          this._a = null
      }
      if (this.p$[G] == null)
          return;
      this.lR = G;
      this._a = setTimeout(this.aaf, 300)
  }
  ;
  bi.prototype.a5P = function(E) {
      var G = this.bM.indexOf(E.currentTarget);
      if (this._a) {
          clearTimeout(this._a);
          this._a = null
      }
  }
  ;
  bi.prototype.Ck = function() {
      if (this._a) {
          clearTimeout(this._a);
          this._a = null
      }
      var G = this.lR;
      if (this.hV)
          this.hV.iq();
      this.hV = this.p$[G];
      var E = this.bM[G].getBoundingClientRect()
        , K = new q(c.E.P,!0);
      K.data = {
          e: c.f.um,
          CP: this.p$[G],
          x: E.left + E.width + 2,
          y: E.top
      };
      this.U(K)
  }
  ;
  bi.prototype.iq = function() {
      for (var G = 0; G < this.p$.length; G++)
          if (this.p$[G])
              this.p$[G].iq();
      var E = new q(c.E.P,!0);
      E.data = {
          e: c.f.sb,
          CP: this
      };
      this.U(E)
  }
  ;
  bi.prototype.ag5 = function(E) {
      var G = this.p$.indexOf(E.target);
      this.LR = [G].concat(E.target.s9());
      this.U(new q("select",!1))
  }
  ;
  function au(E, K, i, C, N, k, V, j, a) {
      aB.call(this);
      this.j = c.w("span", "fitem");
      var e = c.o6();
      this.v7 = E;
      this.A_ = j;
      this.a8F = a;
      this.RN = K;
      this.JZ = i;
      this.Mu = null;
      if (C instanceof Array) {
          this.Mu = C;
          C = C[0]
      }
      this.ds = C;
      this.Hy = N;
      this.agn = k;
      this.Rp = V;
      this.RH = 0;
      this.Fy = c.w("label", "flabel");
      this.Fy.innerHTML = E;
      this.Fy.setAttribute("style", "cursor:col-resize;");
      this.PC = c.w("input", "");
      this.PC.setAttribute("type", "range");
      if (V) {
          this.PC.min = 0;
          this.PC.max = 400
      } else {
          this.PC.min = K;
          this.PC.max = i;
          if (N != 0)
              this.PC.step = (i - K) / 200
      }
      this.ZR = c.w("input", "");
      this.ZR.setAttribute("type", "text");
      this.ZR.setAttribute("id", e);
      this.sq = c.w("span", "");
      this.sq.innerHTML = C;
      this.ZR.addEventListener("change", this.sc.bind(this), !1);
      this.ZR.addEventListener("keydown", this.W_.bind(this), !1);
      this.ZR.addEventListener("wheel", this.nJ.bind(this), !1);
      this.PC.addEventListener("input", this.sc.bind(this), !1);
      if (a)
          this.PC.addEventListener("change", this.sc.bind(this), !1);
      this.PC.addEventListener("click", this.ai5.bind(this), !1);
      this.a1f = this.alT.bind(this);
      this.a7L = this.a2F.bind(this);
      this.ajV = this.alh.bind(this);
      this._2 = 0;
      this.eo = 0;
      this.ML = !1;
      c.vo(this.Fy, this.a1f);
      this.Fy.addEventListener("dragstart", c.zx, !1)
  }
  au.prototype = new aB;
  au.prototype.K1 = function(E) {
      this.Hy = E
  }
  ;
  au.prototype.KZ = function(E) {
      this.Fy.textContent = E
  }
  ;
  au.prototype.B = function() {
      var l = this.v7
        , E = this.A_;
      if (l) {
          if (typeof l == "string" && l.startsWith("<"))
              this.Fy.innerHTML = l;
          else
              this.Fy.textContent = i2.get(l) + ":"
      }
      if (E) {
          E = i2.get(E);
          if (l)
              this.Fy.setAttribute("title", E);
          this.ZR.setAttribute("title", E)
      }
  }
  ;
  au.prototype.T = function(E, K) {
      var i = this.RN == this.JZ;
      if (!i && this.RN >= 0)
          E = Math.max(this.RN, E);
      if (this.Hy == 0)
          E = Math.round(E);
      var C = this.ds;
      this.ZR.value = (this.Hy != 0 ? E.toFixed(this.Hy) : E) + (this.agn && C ? (C.toLowerCase() == C.toUpperCase() ? "" : " ") + C : "");
      var N = 400 * Math.pow((E - this.RN) / (this.JZ - this.RN), 1 / 2.7);
      this.PC.value = this.Rp ? N : E;
      if (K)
          this.dH()
  }
  ;
  au.prototype.u = function() {
      var E = parseFloat(this.ZR.value);
      if (isNaN(E))
          E = 0;
      return E
  }
  ;
  au.prototype.Or = function() {
      return this.ds
  }
  ;
  au.prototype.sc = function(E) {
      var K = 0;
      if (E.currentTarget == this.ZR) {
          var i = E.target.value
            , C = 0;
          while (C < i.length && (i.charAt(C) == "." || 48 <= i.charCodeAt(C) && i.charCodeAt(C) <= 57))
              C++;
          K = i == "" ? 0 : parseFloat(i);
          if (isNaN(K))
              K = 0;
          var N = i.slice(C).trim();
          if (this.Mu && this.Mu.indexOf(N) != -1)
              this.ds = N
      } else {
          if (Date.now() - this.RH < 10)
              return;
          K = parseFloat(E.target.value);
          if (this.Rp) {
              K = this.RN + Math.pow(K / 400, 2.7) * (this.JZ - this.RN);
              K = this.x8(K)
          }
      }
      this.T(K);
      if (E.type == "input" && this.a8F)
          return;
      this.dH()
  }
  ;
  au.prototype.dH = function() {
      this.U(new q(c.E.L))
  }
  ;
  au.prototype.x8 = function(E) {
      if (this.JZ - this.RN > 50 && E > 10)
          E = Math.round(E);
      return E
  }
  ;
  au.prototype.W_ = function(E) {
      var K = 0;
      if (w.SS(E.code, w.ay))
          K = 1;
      if (w.SS(E.code, w.Kv))
          K = -1;
      if (K != 0)
          this.rZ(K, E.shiftKey)
  }
  ;
  au.prototype.nJ = function(E) {
      this.rZ(E.deltaY > 0 ? -1 : 1, E.shiftKey)
  }
  ;
  au.prototype.rZ = function(E, K) {
      var i = this.u()
        , C = this.Hy
        , N = E * (C == null || C == 0 || i > 5 ? 1 : .1);
      if (K)
          N *= 10;
      var k = i + N;
      if (!this.Rp && this.JZ != this.RN)
          k = Math.min(this.JZ, k);
      this.T(k);
      this.dH()
  }
  ;
  au.prototype.ai5 = function(E) {
      var K = Date.now() - this.RH;
      this.RH = Date.now();
      if (K > 300)
          return;
      var i = (this.JZ + this.RN) / 2;
      if (this.RN < 0 && this.JZ > 0)
          i = 0;
      else if (this.RN < 1 && this.JZ > 1 && this.JZ < 10)
          i = 1;
      this.T(i);
      this.dH()
  }
  ;
  au.prototype.alT = function(E) {
      c.ys(document, this.a7L);
      c.vL(document, this.ajV);
      this._2 = c.DX(E, document.body).x;
      this.eo = this.u()
  }
  ;
  au.prototype.a2F = function(E) {
      c.zx(E);
      var K = this.RN == this.JZ
        , i = c.DX(E, document.body).x
        , C = (i - this._2) * (K ? 1 : 1 / 120 * (this.JZ - this.RN))
        , N = this.eo + C;
      if (K)
          N = Math.round(N);
      if (!K) {
          if (!0) {
              N = Math.max(this.RN, N);
              if (N == this.RN) {
                  this._2 = i;
                  this.eo = this.RN
              }
          }
          if (!this.Rp) {
              N = Math.min(this.JZ, N);
              if (N == this.JZ) {
                  this._2 = i;
                  this.eo = this.JZ
              }
          }
          N = this.x8(N)
      }
      this.ML = !0;
      this.T(N);
      this.dH()
  }
  ;
  au.prototype.alh = function(E) {
      if (!this.ML)
          this.ZR.focus();
      this.ML = !1;
      c.sI(document, this.a7L);
      c.qU(document, this.ajV)
  }
  ;
  au.prototype.QO = function() {
      this.ZR.select();
      this.ZR.focus()
  }
  ;
  function aV(E, K) {
      aB.call(this);
      this.xj = [];
      this.GI = -1;
      this.a3H = E;
      this.wB = K;
      this.NB = 0;
      this.dI = null;
      this.YF = new bT(0,0);
      if (K != null) {
          this.b1 = new bi([{
              name: [6, 37]
          }, {
              name: [5, 4]
          }]);
          this.b1.parent = this;
          this.b1.k("select", this.ZF, this)
      }
      this.j = c.w("div", "imageset scrollable");
      this.j.addEventListener("contextmenu", c.N1, !1)
  }
  aV.prototype = new aB;
  aV.prototype.B = function() {
      if (this.b1)
          this.b1.B()
  }
  ;
  aV.prototype.ZF = function(E) {
      var G = this.b1.s9()[0]
        , K = new q(c.E.P,!0)
        , i = {
          e: c.f.H7,
          KG: this.wB,
          Fm: [this.GI]
      };
      if (G == 0) {
          var C = this.dI[1][this.GI];
          i.LG = "rnm";
          K.data = {
              e: c.f.eQ,
              KN: "namewindow",
              Io: C,
              b5: {
                  c: c.E.P,
                  o: i
              }
          }
      } else {
          K.data = i;
          i.LG = "del"
      }
      this.U(K)
  }
  ;
  aV.prototype.ahI = function() {
      return this.NB
  }
  ;
  aV.prototype.Lt = function(E) {
      this.NB = E;
      if (this.dI)
          this.Vp()
  }
  ;
  aV.prototype.Oi = function(E, K, i, C) {
      this.dI = [E, K, i, C];
      this.Vp()
  }
  ;
  aV.prototype.Vp = function() {
      var E = this.dI
        , K = E[0]
        , i = E[1]
        , C = E[2]
        , N = E[3];
      this.xj = [];
      this.j.innerHTML = "";
      var k = this.p5.bind(this)
        , V = this.NB;
      if (V == 0)
          c.U8(this.j, "imageset");
      else
          c.lD(this.j, "imageset");
      for (var G = 0; G < K.length; G++) {
          var j = K[G];
          if (j == null) {
              this.xj.push(null);
              continue
          }
          var a = c.w("img", "image");
          if (C)
              c.em(a, C, N);
          if (this.a3H)
              c.U8(a, "gsicon");
          a.setAttribute("src", j);
          if (V == 0) {} else {
              var e = c.w("div", "listitem");
              e.appendChild(a);
              var L = c.w("span");
              L.textContent = i ? i[G] : "Item " + (G + 1);
              L.setAttribute("style", "margin-left:4px;");
              e.appendChild(L);
              a = e
          }
          if (i)
              a.setAttribute("title", i[G]);
          a.addEventListener("mousedown", k, !1);
          this.xj.push(a);
          this.j.appendChild(a)
      }
  }
  ;
  aV.prototype.p5 = function(E) {
      E.preventDefault();
      this.GI = this.xj.indexOf(E.currentTarget);
      this.YF = c.DX(E, E.currentTarget);
      if (E.button == 0)
          this.U(new q(c.E.L));
      if (E.button == 2 && this.b1) {
          var K = this.b1;
          K.update(null);
          var i = c.DX(E, document.body)
            , C = new q(c.E.P,!0);
          C.data = {
              e: c.f.um,
              CP: K,
              x: i.x,
              y: i.y + 2
          };
          this.U(C)
      }
  }
  ;
  aV.prototype.u = function() {
      return this.GI
  }
  ;
  aV.prototype.T = function(E) {
      this.GI = E
  }
  ;
  aV.prototype.anv = function() {
      var E = this.YF;
      return new bT(E.x,E.y)
  }
  ;
  aV.prototype.qL = function(E) {
      for (var G = 0; G < this.xj.length; G++) {
          var K = this.xj[G];
          if (K == null)
              continue;
          if (G == E)
              c.U8(K, "active");
          else
              c.lD(K, "active")
      }
  }
  ;
  function hK(E, K, i, C, N, k, V) {
      aB.call(this);
      this.j = c.w("span", "fitem " + i);
      this.px = new aB;
      this.px.j = c.w("div", "floatcont");
      this.px.j.setAttribute("style", "width: " + (C + 1.5) + "em;");
      this.px.parent = this;
      this.h$ = c.w("div");
      this.px.j.appendChild(this.h$);
      this.PV = c.w("div");
      this.px.j.appendChild(this.PV);
      if (E) {
          this.v7 = E;
          this.Fy = c.w("label", "flabel");
          this.j.appendChild(this.Fy)
      }
      this.e = c.w("button", V ? "nopadding" : "");
      this.e.setAttribute("style", "position:relative;");
      this.e.addEventListener("click", (K ? this.E0 : this.P7).bind(this), !1);
      this.j.appendChild(this.e);
      this.li = c.w("img", V ? "gsicon" : "");
      this.e.appendChild(this.li);
      if (K) {
          var j = c.w("button");
          j.textContent = "\u25BC";
          j.addEventListener("click", this.P7.bind(this), !1);
          this.j.appendChild(j)
      } else {
          var a = c.w("span");
          a.textContent = "\u25BC";
          a.setAttribute("style", "position:absolute;  bottom:2px;  right:4px;");
          this.e.appendChild(a)
      }
      var e = c.w("span");
      this.PV.appendChild(e);
      e.setAttribute("style", "display:inline-block;  vertical-align:top; width:" + C + "em;");
      this.fL = new aV(V,k);
      e.appendChild(this.fL.j);
      this.fL.parent = this.px;
      this.fL.k(c.E.L, this.ack, this);
      this.fL.j.style.height = N + "em";
      this.p7 = c.w("button");
      this.p7.textContent = "\u25BC";
      this.p7.setAttribute("style", "padding:3px");
      this.p7.addEventListener("click", this.afb.bind(this), !1);
      this.PV.appendChild(this.p7);
      var L = this.$H()
        , g = k != dp.KJ && k != dp.ur ? k : null
        , I = k == null ? "" : dp.sd[k][0].toUpperCase()
        , h = g ? [{
          name: [12, 87]
      }] : [];
      h = h.concat([{
          name: ["VAR0 / VAR1", [25, 3, 0], [25, 3, 1]]
      }, {
          name: [[23, 6], "." + (I == "ICC" ? "icc .cube .look .3dl" : I)]
      }, {
          name: ["VAR0 ." + I, [1, 8]],
          bx: L.length != 0
      }]);
      for (var G = 0; G < L.length; G++)
          h.push({
              name: L[G].split("/").pop()
          });
      this.b1 = new bi(h);
      this.b1.parent = this.px;
      this.b1.k("select", this.ZF, this);
      this.wB = k;
      this.ag7 = g;
      this.qT = null;
      this.yi = !0;
      this.e0 = null
  }
  hK.prototype = new aB;
  hK.prototype.$H = function() {
      return []
  }
  ;
  hK.prototype.ack = function(E) {
      this._u(E);
      this.fL.qL(this.fL.u())
  }
  ;
  hK.prototype.E0 = function() {}
  ;
  hK.prototype.B = function() {
      this.b1.B();
      this.fL.B();
      var E = this.v7;
      if (E)
          this.Fy.textContent = i2.get(E) + ":"
  }
  ;
  hK.prototype.KZ = function(E) {
      this.Fy.textContent = E
  }
  ;
  hK.prototype.$S = function(E) {
      var K = this.wB
        , i = 0;
      if (K == dp.dw) {
          i = this.qT ? this.qT.length : 0;
          E = E.slice(0)
      }
      this.qT = E;
      this.yi = !0;
      if (c.ws(this.fL.j) || K == dp.Q9)
          this.GW();
      if (K == dp.dw && E.length - i == 1 && c.ws(this.j)) {
          this.T(E[i]);
          this.yi = !0;
          this.GW();
          this.fL.qL(i);
          this.U(new q(c.E.L))
      }
  }
  ;
  hK.prototype.ZF = function(E) {
      var K = E.target.s9()[0];
      if (this.ag7 == null)
          K++;
      var i = new q(c.E.P,!0);
      if (K == 0) {
          var C = this.uk();
          if (this.wB == dp.dw && C[0].profile == null)
              return;
          i.data = {
              e: c.f.H7,
              LG: "add",
              KG: this.ag7,
              in: C
          }
      } else if (K == 1)
          this.fL.Lt(1 - this.fL.ahI());
      else if (K == 2)
          i.data = {
              e: c.f.an
          };
      else if (K == 3)
          i.data = {
              e: c.f.yq,
              a3k: this.wB
          };
      else {
          var N = this.$H();
          i.data = {
              e: c.f.$N,
              KG: {
                  url: "rsrc/" + N[K - 4]
              }
          }
      }
      if (i.data)
          this.U(i)
  }
  ;
  hK.prototype.uk = function() {
      return [this.u()]
  }
  ;
  hK.prototype.afb = function(E) {
      var K = this.b1;
      K.B();
      K.update(null);
      var i = E.currentTarget.getBoundingClientRect()
        , C = new q(c.E.P,!0);
      C.data = {
          e: c.f.um,
          CP: K,
          x: i.left,
          y: i.top + i.height
      };
      this.U(C)
  }
  ;
  hK.prototype.P7 = function(E) {
      this.GW();
      var K = this.e.getBoundingClientRect()
        , i = new q(c.E.P,!0);
      i.data = {
          e: c.f.um,
          CP: this.px,
          x: K.left,
          y: K.top + K.height,
          Ra: !0
      };
      this.U(i)
  }
  ;
  function fT() {
      aB.call(this);
      this.j = c.w("div");
      this.gC = !1;
      this.hn = [new gc([12, 19, 1],[[13, 1, 7]].concat(gM.Hh)), new dh([17, 1]), new dh([12, 46])];
      for (var G = 0; G < 3; G++) {
          var E = this.hn[G];
          this.j.appendChild(E.j);
          E.k(c.E.L, this.fR, this)
      }
      this.B()
  }
  fT.prototype = new aB;
  fT.prototype.B = function() {
      for (var G = 0; G < 3; G++)
          this.hn[G].B()
  }
  ;
  fT.prototype.u = function() {
      return this.gC.slice(0)
  }
  ;
  fT.prototype.T = function(E) {
      this.gC = E.slice(0);
      var K = this.hn
        , i = K[0].u();
      K[1].T(E.slice(i * 8, i * 8 + 4), i);
      K[2].T(E.slice(i * 8 + 4, i * 8 + 8), i)
  }
  ;
  fT.prototype.fR = function(E) {
      var K = this.hn
        , i = K.indexOf(E.currentTarget);
      if (i == 0)
          this.T(this.gC);
      else {
          var C = K[0].u() * 8 + (i == 1 ? 0 : 4)
            , N = K[i].u();
          for (var G = 0; G < 4; G++)
              this.gC[C + G] = N[G];
          this.U(new q(c.E.L,!1))
      }
  }
  ;
  function dh(E) {
      aB.call(this);
      this.j = c.w("div");
      this.n4 = c.w("canvas");
      this.abo = E;
      this.gC = [0, 20, 200, 255];
      this.FG = 0;
      this.a5d = -1;
      this.a6B = !1;
      this.ajE = [];
      for (var G = 0; G < 5; G++) {
          var K = c.w("span");
          K.setAttribute("style", "display:inline-block;width:" + (G == 0 ? 8 : G == 2 ? 7 : 2) + "em");
          this.ajE.push(K);
          this.j.appendChild(K)
      }
      this.fQ = this.bC.bind(this);
      this.$G = this.BT.bind(this);
      this.ra = this.nW.bind(this);
      c.vo(this.n4, this.fQ);
      this.j.appendChild(this.n4);
      this.Vp()
  }
  dh.prototype = new aB;
  dh.prototype.B = function() {
      this.Vp()
  }
  ;
  dh.prototype.T = function(E, K) {
      this.gC = E;
      this.FG = K;
      this.Vp()
  }
  ;
  dh.prototype.u = function() {
      return this.gC.slice(0)
  }
  ;
  dh.prototype.bC = function(E) {
      var K = this.gC
        , i = c.DX(E, this.n4)
        , C = i.x - 8
        , N = -1
        , k = 1e9;
      for (var G = 0; G < 4; G++) {
          var V = C - K[G]
            , j = Math.abs(V);
          if (j < 8 && j < k && ((G & 1) == 0 && V < 0 || (G & 1) == 1 && V > 0)) {
              k = V;
              N = G
          }
      }
      if (N == -1)
          return;
      this.a5d = N;
      this.GK = E.altKey || K[(N >>> 1) * 2] != K[(N >>> 1) * 2 + 1];
      c.ys(window, this.$G);
      c.vL(window, this.ra)
  }
  ;
  dh.prototype.BT = function(E) {
      var K = this.gC
        , i = this.a5d
        , C = (i >>> 1) * 2
        , N = C + 1
        , k = c.DX(E, this.n4)
        , V = Math.round(Math.max(0, Math.min(255, k.x - 8)));
      K[i] = V;
      if (this.GK && K[C] >= K[N])
          this.GK = !1;
      if (!this.GK)
          K[C] = K[N] = V;
      this.Vp();
      this.U(new q(c.E.L,!1))
  }
  ;
  dh.prototype.nW = function(E) {
      c.sI(window, this.$G);
      c.qU(window, this.ra)
  }
  ;
  dh.prototype.Vp = function() {
      var E = this.n4;
      c.Xh(E, 255 + 16, 16);
      var K = E.getContext("2d")
        , i = E.width
        , C = E.height
        , N = Math.round(255 * c.M())
        , k = Math.round(8 * c.M());
      K.translate(k, 0);
      var V = K.createLinearGradient(0, 0, N, 0);
      V.addColorStop(0, "black");
      V.addColorStop(1, "#" + ["ffffff", "ff0000", "00ff00", "0000ff"][this.FG]);
      K.fillStyle = V;
      K.fillRect(0, 0, N, k);
      var j = this.ajE
        , a = i2.get(this.abo) + ":";
      j[0].textContent = a;
      for (var G = 0; G < 4; G++) {
          var e = this.gC[G];
          j[1 + G].textContent = e;
          var L = Math.round(e * c.M());
          K.beginPath();
          K.moveTo(L, k);
          K.lineTo(L, k + k);
          K.lineTo(L + ((G & 1) == 0 ? -1 : 1) * k, k + k);
          K.closePath();
          K.fillStyle = "#cccccc";
          K.fill();
          K.strokeStyle = "black";
          K.stroke()
      }
  }
  ;
  function cU(E) {
      aB.call(this);
      this.Rz = 0;
      this.alt = 0;
      var K = "ai" + c.o6();
      this.j = c.w("span", "fitem angleinput");
      if (E) {
          this.Fy = c.w("label", "flabel");
          this.v7 = E;
          this.j.appendChild(this.Fy);
          this.Fy.setAttribute("for", K)
      }
      this.sG = 20;
      this.oV = c.w("canvas", "gsicon");
      this.NE = this.oV.getContext("2d");
      c.Xh(this.oV, this.sG * 2 + 1, this.sG * 2 + 1, this.NE);
      this.j.appendChild(this.oV);
      c.vo(this.oV, this.Aq.bind(this));
      this.iy = this.$R.bind(this);
      this.Dn = this.$T.bind(this);
      this.ZR = c.w("input", "");
      this.ZR.setAttribute("type", "text");
      this.j.appendChild(this.ZR);
      this.ZR.setAttribute("id", K);
      this.ZR.addEventListener("change", this.sc.bind(this), !1);
      this.sq = c.w("span", "");
      this.sq.innerHTML = "\xB0";
      this.j.appendChild(this.sq);
      this.T(this.Rz, this.alt)
  }
  cU.prototype = new aB;
  cU.prototype.B = function() {
      this.Fy.textContent = i2.get(this.v7) + ":"
  }
  ;
  cU.prototype.KZ = function(E) {
      this.Fy.textContent = E
  }
  ;
  cU.prototype.u = function() {
      return {
          Rz: this.Rz,
          alt: this.alt
      }
  }
  ;
  cU.prototype.T = function(E, K, i) {
      if (E != null)
          this.Rz = E;
      if (K != null)
          this.alt = K;
      this.ZR.value = this.Rz;
      E = Math.PI * this.Rz / 180;
      K = .9 * this.sG * (90 - this.alt) / 90;
      var C = this.sG + .5
        , N = this.NE;
      N.clearRect(0, 0, 100, 100);
      N.strokeStyle = "#000000";
      N.beginPath();
      N.arc(C, C, .9 * this.sG, 0, 2 * Math.PI);
      N.moveTo(C, C);
      N.lineTo(C + Math.cos(E) * this.sG * .9, C - Math.sin(E) * this.sG * .9);
      N.stroke();
      N.strokeStyle = "#ff0000";
      N.beginPath();
      N.moveTo(C + Math.cos(E) * K - 3, C - Math.sin(E) * K);
      N.lineTo(C + Math.cos(E) * K + 3, C - Math.sin(E) * K);
      N.moveTo(C + Math.cos(E) * K, C - Math.sin(E) * K - 3);
      N.lineTo(C + Math.cos(E) * K, C - Math.sin(E) * K + 3);
      N.stroke();
      if (i)
          this.sc()
  }
  ;
  cU.prototype.sc = function(E) {
      var K = parseInt(this.ZR.value);
      K = K % 360;
      this.T(K);
      this.U(new q(c.E.L,!1))
  }
  ;
  cU.prototype.Aq = function(E) {
      c.ys(window, this.iy);
      c.vL(window, this.Dn);
      this.$R(E)
  }
  ;
  cU.prototype.$R = function(E) {
      var K = c.DX(E, this.oV)
        , i = K.x - this.sG
        , C = K.y - this.sG
        , N = 180 * Math.atan2(-C, i) / Math.PI
        , k = 90 - 90 * Math.min(1, Math.sqrt(i * i + C * C) / (.9 * this.sG));
      this.T(Math.round(N), Math.round(k));
      this.U(new q(c.E.L,!1))
  }
  ;
  cU.prototype.$T = function(E) {
      this.U(new q(c.E.L,!1));
      c.sI(window, this.iy);
      c.qU(window, this.Dn)
  }
  ;
  function cw(E, K) {
      aB.call(this);
      this.gC = 0;
      this.nV = K;
      this.j = c.w("span", "fitem angleinput");
      if (E) {
          this.Fy = c.w("label", "flabel");
          this.v7 = E;
          this.j.appendChild(this.Fy)
      }
      this.oV = c.w("canvas", "gsicon");
      this.NE = this.oV.getContext("2d");
      c.Xh(this.oV, K, K);
      this.j.appendChild(this.oV);
      c.vo(this.oV, this.Aq.bind(this));
      this.iy = this.$R.bind(this);
      this.Dn = this.$T.bind(this);
      this.T(0)
  }
  cw.prototype = new aB;
  cw.prototype.B = function() {
      if (this.v7)
          this.Fy.textContent = i2.get(this.v7) + ":"
  }
  ;
  cw.prototype.KZ = function(E) {
      this.Fy.textContent = E
  }
  ;
  cw.prototype.u = function() {
      return this.gC
  }
  ;
  cw.prototype.T = function(E) {
      this.gC = E;
      var K = this.oV.width
        , i = Math.floor(E / 3)
        , C = E - 3 * i
        , N = (C + .5) * K / 3
        , k = (i + .5) * K / 3
        , V = this.NE
        , j = [.5, Math.round(K / 3) + .5, Math.round(2 * K / 3) + .5, K - .5];
      V.clearRect(0, 0, K, K);
      var a = this.nV < 30;
      V.setLineDash([]);
      V.strokeStyle = a ? "rgba(0,0,0,0.5)" : "#000000";
      V.beginPath();
      for (var G = 0; G < 4; G++) {
          var e = j[G];
          V.moveTo(e, 0);
          V.lineTo(e, K);
          V.moveTo(0, e);
          V.lineTo(K, e)
      }
      V.stroke();
      if (E == 9)
          return;
      if (!a) {
          V.setLineDash([1, 2]);
          var L = K * .53
            , g = Math.max(0, Math.min(K - L, N - L / 2))
            , I = Math.max(0, Math.min(K - L, k - L / 2));
          V.strokeRect(Math.round(g) + .5, Math.round(I) + .5, Math.round(L), Math.round(L))
      }
      V.fillStyle = "#000000";
      V.beginPath();
      V.arc(N, k, K / 8, 0, Math.PI * 2);
      V.fill()
  }
  ;
  cw.prototype.Aq = function(E) {
      c.ys(window, this.iy);
      c.vL(window, this.Dn);
      this.$R(E)
  }
  ;
  cw.prototype.$R = function(E) {
      var K = c.DX(E, this.oV)
        , i = Math.max(0, Math.min(2, Math.floor(K.x / (this.nV / 3))))
        , C = Math.max(0, Math.min(2, Math.floor(K.y / (this.nV / 3))));
      this.T(C * 3 + i)
  }
  ;
  cw.prototype.$T = function(E) {
      this.U(new q(c.E.L,!1));
      c.sI(window, this.iy);
      c.qU(window, this.Dn)
  }
  ;
  function hO(E, K, i, C) {
      aB.call(this);
      this.j = c.w("button", "fitem" + (K ? " spread" : "") + (C ? " bbtn" : ""));
      this.v7 = E;
      this.A_ = i;
      this.B();
      this.j.addEventListener("click", this.p5.bind(this), !1)
  }
  hO.prototype = new aB;
  hO.prototype.B = function() {
      var E = this.j
        , K = this.v7
        , i = this.A_
        , C = i2.get(K);
      if (C.startsWith("<img") || C.startsWith("<svg"))
          E.innerHTML = C;
      else
          E.textContent = C;
      if (C.startsWith("<img") || C.startsWith("<svg"))
          E.setAttribute("style", "padding:2px");
      if (i) {
          E.setAttribute("title", i2.get(i))
      }
  }
  ;
  hO.prototype.ad1 = function(E) {
      this.j.setAttribute("title", E)
  }
  ;
  hO.prototype.p5 = function(E) {
      this.U(new q("click",!1))
  }
  ;
  hO.prototype.cY = function() {
      c.U8(this.j, "bactive")
  }
  ;
  hO.prototype.$o = function() {
      c.lD(this.j, "bactive")
  }
  ;
  hO.prototype.KZ = function(E, K) {
      if (E)
          this.v7 = E;
      if (K)
          this.A_ = K;
      this.B()
  }
  ;
  hO.prototype.T = function(E) {
      if (E)
          this.cY();
      else
          this.$o()
  }
  ;
  hO.prototype.vV = function() {
      return this.j.getAttribute("class").indexOf("bactive") != -1
  }
  ;
  hO.prototype.u = function() {
      return this.vV()
  }
  ;
  function ft(l) {
      aB.call(this);
      this.j = c.w("span", "fitem cswatch");
      this.akA = 0;
      this.MG = [];
      this.qc = [];
      var E = this.ajN.bind(this);
      for (var G = 0; G < l; G++) {
          this.MG.push(0);
          var K = c.w("span", "colorsample");
          K.addEventListener("click", E, !1);
          this.qc.push(K);
          this.j.appendChild(K)
      }
      var i = [16711680, 65280, 255, 65535, 16711935, 16776960, 0, 8421504, 16777215]
        , C = Math.min(l, i.length);
      for (var G = 0; G < C; G++)
          this.MG[G] = i[G];
      this.jp()
  }
  ft.prototype = new aB;
  ft.prototype.ajN = function(E) {
      this.akA = this.qc.indexOf(E.currentTarget);
      this.U(new q(c.E.L))
  }
  ;
  ft.prototype.u = function() {
      return this.MG[this.akA]
  }
  ;
  ft.prototype.T = function(E) {
      var K = this.MG
        , i = K.indexOf(E);
      if (i != -1)
          K.splice(i, 1);
      else
          K.pop();
      K.unshift(E);
      this.jp()
  }
  ;
  ft.prototype.jp = function() {
      for (var G = 0; G < this.MG.length; G++) {
          this.qc[G].setAttribute("style", "background-color:#" + _.rS(this.MG[G]))
      }
  }
  ;
  function ha(E) {
      aB.call(this);
      this.wH = {
          h: 0,
          l: 0,
          O: 0
      };
      this.vb = E;
      this.j = c.w("span", "fitem colorsample");
      this.j.addEventListener("click", this.MW.bind(this), !1)
  }
  ha.prototype = new aB;
  ha.prototype.B = function() {}
  ;
  ha.prototype.MW = function(E) {
      var K = this.wH;
      this.U(new q("click"));
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.eQ,
          KN: "colorpicker",
          vc: K.h << 16 | K.l << 8 | K.O,
          K2: this.J0.bind(this),
          RV: this.vb
      };
      this.U(i)
  }
  ;
  ha.prototype.J0 = function(E) {
      this.Pi(E);
      this.U(new q(c.E.L))
  }
  ;
  ha.prototype.ak4 = function() {
      this.MW(null)
  }
  ;
  ha.prototype.q0 = function() {
      var E = this.wH;
      return E.h << 16 | E.l << 8 | E.O
  }
  ;
  ha.prototype.u = function() {
      return _.V.VQ(this.wH)
  }
  ;
  ha.prototype.Pi = function(E) {
      this.wH = {
          h: E >> 16 & 255,
          l: E >> 8 & 255,
          O: E & 255
      };
      this.U1()
  }
  ;
  ha.prototype.T = function(E) {
      this.wH = _.V.Gk(E);
      this.U1()
  }
  ;
  ha.prototype.U1 = function() {
      var E = this.wH
        , K = E.h
        , i = E.l
        , C = E.O
        , N = K << 16 | i << 8 | C;
      this.j.setAttribute("style", "background-color:#" + _.rS(N))
  }
  ;
  function c1() {
      aB.call(this);
      this.ee = !1;
      this.V0 = 20;
      this.a9_ = 10;
      this.sO = 0;
      this.ee = !1;
      this.lt = {
          h: 255,
          l: 0,
          O: 0
      };
      this.oo = {
          h: 0,
          l: 0,
          O: 0
      };
      this.j = c.w("canvas");
      this.Vp();
      c.pq(this.j);
      c.vo(this.j, this.fQ.bind(this))
  }
  c1.prototype = new aB;
  c1.prototype.a9z = function(E) {
      if (this.ee == E)
          return;
      this.ee = E;
      this.Vp()
  }
  ;
  c1.prototype.B = function() {}
  ;
  c1.prototype.a95 = function(E, K) {
      function i(C) {
          return {
              h: C >> 16 & 255,
              l: C >> 8 & 255,
              O: C & 255
          }
      }
      if (E != null)
          this.lt = i(E);
      if (K != null)
          this.oo = i(K);
      this.Vp()
  }
  ;
  c1.prototype.fQ = function(E) {
      var K = c.DX(E, this.j)
        , i = K.x * c.M()
        , C = K.y * c.M()
        , N = this.V0
        , k = this.a9_
        , V = 0;
      if (i < k && C < k) {
          V = 0
      } else if (i > N - k && C > N - k) {
          V = 1
      } else if (i < k) {
          V = 2
      } else {
          V = 3
      }
      var j = new q(c.E.P,!0);
      if (V > 1)
          j.data = {
              e: c.f.H7,
              KG: dp.VL,
              Qh: V
          };
      else {
          this.sO = V;
          var a = V == 0 ? this.lt : this.oo;
          j.data = {
              e: c.f.eQ,
              KN: "colorpicker",
              vc: a.h << 16 | a.l << 8 | a.O,
              K2: this.J0.bind(this)
          }
      }
      this.U(j)
  }
  ;
  c1.prototype.J0 = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.H7,
          KG: dp.VL,
          Qh: this.sO,
          G: E
      };
      this.U(K)
  }
  ;
  c1.prototype.Vp = function() {
      var E = this.j
        , K = E.getContext("2d")
        , i = c.M()
        , N = "#aaaaaa"
        , k = .65;
      c.Xh(E, 34, 34);
      E.setAttribute("style", E.getAttribute("style") + ";cursor:pointer");
      var C = this.V0 = E.width
        , V = this.a9_ = Math.round(C * k);
      function j(h, o) {
          var H = h.h
            , A = h.l
            , S = h.O;
          if (o)
              H = A = S = Math.round(_.W6(H, A, S));
          var v = H << 16 | A << 8 | S;
          return "#" + _.rS(v)
      }
      function a(h, o, V, H, A) {
          K.fillStyle = A ? A : "black";
          K.fillRect(h, o, V, V);
          K.fillStyle = H;
          K.fillRect(h + 1, o + 1, V - 2, V - 2)
      }
      a(C - V, C - V, V, j(this.oo, this.ee));
      a(0, 0, V, j(this.lt, this.ee));
      var e = C - V
        , L = Math.round(e * k);
      a(C - L, e - L, L, "white", N);
      a(C - e, 0, L, "black", N);
      K.save();
      K.fillStyle = N;
      K.translate(0, C);
      K.rotate(-Math.PI / 2);
      e = C - V;
      var g = Math.round(e * .28)
        , I = Math.round(e * .25);
      for (var G = 0; G < 2; G++) {
          K.fillRect(g, g, e - g, 1);
          K.beginPath();
          K.moveTo(e - I, g + .5 - I);
          K.lineTo(e, g + .5);
          K.lineTo(e - I, g + .5 + I);
          K.closePath();
          K.fill();
          K.transform(0, 1, 1, 0, 0, 0)
      }
      K.restore()
  }
  ;
  function iE(E) {
      hK.call(this, E, !1, "brushbutton nopadding", 16.6, 10, dp.uf, !0);
      this.Q3 = new hk([12, 14, 0],1,1e3," px",0,!0);
      this.Q3.k(c.E.L, this.US, this);
      this.h$.appendChild(this.Q3.j);
      this.$i = new hk([12, 17],0,100,"%");
      this.$i.k(c.E.L, this.US, this);
      this.h$.appendChild(this.$i.j)
  }
  iE.prototype = new hK;
  iE.prototype.$H = function() {
      var E = ["pencil", "trees"];
      for (var G = 0; G < E.length; G++)
          E[G] = "brushes/" + E[G] + ".abr";
      return E
  }
  ;
  iE.prototype.P7 = function(E) {
      var K = this.j.getBoundingClientRect();
      this.N8(K.left, K.top + K.height)
  }
  ;
  iE.prototype.N8 = function(E, K) {
      this.GW();
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.um,
          CP: this.px,
          x: E,
          y: K
      };
      this.U(i)
  }
  ;
  iE.prototype.T = function(E, K, i) {
      this.e0 = JSON.parse(JSON.stringify(E));
      var C = Math.floor(20 * c.M())
        , N = Math.floor(36 * c.M())
        , k = Math.floor(24 * c.M())
        , V = fr.rP(E, K, i, C, k, N);
      this.li.setAttribute("src", V);
      c.em(this.li, N, k);
      var j = E.Brsh.v;
      this.Q3.T(j.Dmtr.v.val);
      if (j.Hrdn != null) {
          this.$i.lV();
          this.$i.T(j.Hrdn.v.val)
      } else
          this.$i.EF();
      this.fL.qL(-1)
  }
  ;
  iE.prototype.uk = function() {
      return {
          list: [{
              t: "Objc",
              v: this.u()
          }],
          uQ: [],
          j$: []
      }
  }
  ;
  iE.prototype.u = function() {
      return this.e0
  }
  ;
  iE.prototype.GW = function() {
      if (!this.yi)
          return;
      var E = []
        , K = []
        , i = this.qT
        , C = Math.floor(33 * c.M())
        , N = Math.floor(40 * c.M());
      for (var G = 0; G < i.list.length; G++) {
          var k = i.list[G].v
            , V = fr.rP(k, i.uQ, i.j$, C, N);
          E.push(V);
          K.push(k.Nm.v.split("=").pop())
      }
      this.fL.Oi(E, K, C, N);
      this.yi = !1
  }
  ;
  iE.prototype._u = function(E) {
      var K = this.qT;
      this.T(K.list[this.fL.u()].v, K.uQ, K.j$);
      this.U(new q(c.E.L))
  }
  ;
  iE.prototype.B = function() {
      hK.prototype.B.call(this);
      this.Q3.B();
      this.$i.B()
  }
  ;
  iE.prototype.US = function(E) {
      var K = this.qT
        , i = this.e0;
      i.Brsh.v.Dmtr.v.val = this.Q3.u();
      if (i.Brsh.v.Hrdn != null)
          i.Brsh.v.Hrdn.v.val = this.$i.u();
      this.T(i, K.uQ, K.j$);
      this.U(new q(c.E.L))
  }
  ;
  function iB(E) {
      hK.call(this, E, !0, "contourbutton", 17, 10.5, dp._G)
  }
  iB.prototype = new hK;
  iB.prototype._u = function(E) {
      this.T(this.qT[E.target.u()]);
      this.U(new q(c.E.L))
  }
  ;
  iB.prototype.E0 = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.eQ,
          KN: "contoureditor",
          DK: this.e0,
          response: this.a5T.bind(this)
      };
      this.U(K)
  }
  ;
  iB.prototype.a5T = function(E) {
      this.T(E);
      this.U(new q(c.E.L))
  }
  ;
  iB.prototype.GW = function() {
      if (!this.yi)
          return;
      var E = Math.floor(38 * c.M())
        , K = Math.floor(38 * c.M())
        , i = []
        , C = []
        , N = this.qT;
      for (var G = 0; G < N.length; G++) {
          C.push(N[G].Nm ? N[G].Nm.v : "");
          i.push(_.Qe.rP(N[G].Crv.v, E, K))
      }
      this.fL.Oi(i, C, E, K);
      this.yi = !1
  }
  ;
  iB.prototype.T = function(E) {
      this.e0 = JSON.parse(JSON.stringify(E));
      var K = this.e0.Crv.v;
      for (var G = 0; G < K.length; G++)
          if (K[G].v.Cnty == null)
              K[G].v.Cnty = {
                  t: "bool",
                  v: !0
              };
      this.jC()
  }
  ;
  iB.prototype.jC = function() {
      var E = Math.floor(30 * c.M())
        , K = Math.floor(30 * c.M())
        , i = _.Qe.rP(this.e0.Crv.v, E, K);
      this.li.setAttribute("src", i);
      c.em(this.li, E, K)
  }
  ;
  iB.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.e0))
  }
  ;
  function hJ(E) {
      aB.call(this);
      this.OI = null;
      this.Mi = null;
      this.Fd = null;
      this.T_ = null;
      this.aoC = [];
      this.a4E = [];
      this.j = c.w("span", "fitem fillbutton");
      this.px = new aB;
      this.px.j = c.w("div", "floatcont form");
      this.px.j.setAttribute("style", "width: 21em;");
      this.px.parent = this;
      this.Qf = E;
      this.Fy = this.Fy = c.w("label", "flabel");
      this.j.appendChild(this.Fy);
      this.oV = c.w("canvas");
      this.NE = this.oV.getContext("2d");
      this.aas = null;
      this.j.appendChild(this.oV);
      this.oV.addEventListener("click", this.P7.bind(this), !1);
      this.RT = new eN([12, 66],["", "Color", "Grad", "Patt"]);
      this.px.j.appendChild(this.RT.j);
      this.RT.k(c.E.L, this.fR, this);
      this.px.j.appendChild(c.w("hr"));
      this.a2c = c.w("span");
      this.R0 = new ha(!0);
      this.R0.parent = this.px;
      this.R0.k(c.E.L, this.fR, this);
      this.Po = new ft(10);
      this.Po.k(c.E.L, this.fR, this);
      this.Tn = c.w("div", "marged hiline");
      this.Tn.appendChild(this.R0.j);
      c.eg(this.Tn);
      this.Tn.appendChild(this.Po.j);
      this.ey = new iP("GrFl",!0);
      this.ey.parent = this.px;
      this.ey.k(c.E.L, this.fR, this);
      this.mw = c.w("div", "marged hiline");
      var K = "Grad Type Algn Angl Rvrs Scl Ofst".split(" ");
      for (var G = 0; G < K.length; G++) {
          var i = this.ey.pC[K[G]].j;
          this.mw.appendChild(i)
      }
      this.lb = new iP("patternFill",!0);
      this.lb.parent = this.px;
      this.lb.k(c.E.L, this.fR, this);
      this.HA = c.w("div", "marged hiline");
      var K = ["Ptrn", "Scl", "Algn", "phase"];
      for (var G = 0; G < K.length; G++) {
          var i = this.lb.pC[K[G]].j;
          this.HA.appendChild(i)
      }
  }
  hJ.prototype = new aB;
  hJ.prototype.bX = function(E, K) {
      if (K == dp.y5) {
          this.aoC = [];
          this.a4E = [];
          if (this.OI)
              this.T(this.Fd, this.u(), this.OI)
      }
      this.Mi = E;
      this.ey.bX(E, K);
      this.lb.bX(E, K)
  }
  ;
  hJ.prototype.B = function() {
      this.Fy.textContent = i2.get(this.Qf) + ": ";
      this.RT.B();
      this.R0.B();
      this.ey.B();
      this.lb.B()
  }
  ;
  hJ.prototype.fR = function(E) {
      var K = E.currentTarget;
      if (K == this.RT) {
          var i = this.RT.u()
            , C = {
              K8: i,
              ja: this.OI[i]
          };
          if (i > 0 && C.ja == null)
              C.ja = JSON.parse(JSON.stringify(ao.wW[i - 1]));
          if (this.OI)
              this.T(this.Fd, C, this.OI)
      }
      if (K == this.Po)
          this.R0.Pi(K.u());
      this.U(new q(c.E.L,!1))
  }
  ;
  hJ.prototype.P7 = function(E) {
      var K = this.oV.getBoundingClientRect()
        , i = new q(c.E.P,!0);
      i.data = {
          e: c.f.um,
          CP: this.px,
          x: K.left,
          y: K.top + K.height + 4
      };
      this.U(i);
      this.Po.T(this.R0.q0())
  }
  ;
  hJ.prototype.T = function(E, K, i) {
      this.OI = i;
      this.Fd = E;
      var C = [[13, 1, 0], [13, 0], [12, 37], [12, 62]], N = this.aoC, k = this.a4E, V = !1, L;
      for (var G = 0; G < 4; G++) {
          var j = {
              K8: G,
              ja: i[G]
          }
            , a = hJ.qS(j);
          if (k[G] == a)
              continue;
          V = !0;
          var e = hJ._V(null, j, this.Mi, this.Fd, 22, 22, !1);
          N[G] = "<img width=\"22\" height=\"22\" src=\"" + e + "\" />";
          k[G] = a
      }
      if (V)
          this.RT.X2(N, C);
      this.RT.T(K.K8);
      var a = hJ.qS(K);
      if (a != this.aas)
          hJ._V(this.NE, K, this.Mi, this.Fd, 30, 23, !0);
      this.aas = a;
      var g = K.K8;
      if (g == 0) {
          L = this.a2c
      }
      if (g == 1) {
          this.R0.T(K.ja.Clr.v);
          L = this.Tn
      }
      if (g == 2) {
          this.ey.update(E, K.ja);
          L = this.mw
      }
      if (g == 3) {
          this.lb.update(E, K.ja);
          L = this.HA
      }
      if (L != this.T_) {
          if (this.T_ != null) {
              this.px.j.removeChild(this.T_)
          }
          this.px.j.appendChild(L);
          this.T_ = L
      }
  }
  ;
  hJ.prototype.u = function() {
      var E = {
          K8: this.RT.u()
      };
      if (E.K8 == 1) {
          E.ja = JSON.parse(JSON.stringify(ao.wW[0]));
          E.ja.Clr.v = this.R0.u()
      }
      if (E.K8 == 2) {
          E.ja = this.ey.u()
      }
      if (E.K8 == 3) {
          E.ja = this.lb.u()
      }
      return E
  }
  ;
  hJ.qS = function(E) {
      var K = E.K8
        , i = E.ja
        , C = "empty";
      if (K == 1) {
          C = _.V.Gk(i.Clr.v);
          C = C.h + "," + C.l + "," + C.O
      }
      if (K == 2)
          C = JSON.stringify(i.Grad.v);
      if (K == 3)
          C = i.Ptrn.v.Idnt.v;
      return C
  }
  ;
  hJ._V = function(E, K, i, C, N, k, V) {
      if (E == null)
          E = hJ.NE;
      var j = Math.floor(N * c.M()), a = Math.floor(k * c.M()), e = E.canvas, L;
      e.width = j;
      e.height = a;
      c.em(e, j, a);
      var g = K.K8;
      if (g == 0) {
          E.fillStyle = "#ffffff";
          E.fillRect(0, 0, j, a);
          E.strokeStyle = "#ff0000";
          E.lineWidth = 2;
          E.moveTo(0, 0);
          E.lineTo(j, a);
          E.moveTo(0, a);
          E.lineTo(j, 0);
          E.stroke()
      }
      if (g == 1) {
          var I = K.ja.Clr.v;
          I = _.V.Gk(I);
          E.fillStyle = "#" + _.rS(I.h << 16 | I.l << 8 | I.O);
          E.fillRect(0, 0, j, a)
      }
      if (g == 2) {
          u.nS.rP(K.ja.Grad.v, j, a, 0, i.sm, i.JT, e)
      }
      if (g == 3) {
          var h = K.ja.Ptrn.v, o;
          if (C != null)
              o = h$.Si(h, C.add.Patt);
          if (o == null)
              o = h$.Si(h, i.hz);
          f4.rP(o, j, a, e)
      }
      if (V) {
          E.beginPath();
          E.strokeStyle = "#000000";
          E.fillStyle = "#ffffff";
          E.lineWidth = 2;
          var H = j * .7
            , A = Math.floor(a * .7)
            , S = 7 * c.M();
          E.moveTo(H, A);
          E.lineTo(H + S, A);
          E.lineTo(H + S / 2, A + S / 2);
          E.closePath();
          E.stroke();
          E.fill()
      }
      if (E == hJ.NE)
          return e.toDataURL()
  }
  ;
  hJ.NE = c.w("canvas").getContext("2d");
  function f4(E) {
      hK.call(this, E, !1, "patternbutton", 18, 10, dp.y5);
      this.uV = null
  }
  f4.prototype = new hK;
  f4.prototype._u = function(E) {
      var K = this.qT[this.fL.u()];
      this.e0 = {
          classID: "Ptrn",
          Nm: {
              t: "TEXT",
              v: K.name
          },
          Idnt: {
              t: "TEXT",
              v: K.id
          }
      };
      this.U(new q(c.E.L));
      this.jC()
  }
  ;
  f4.sg = !1;
  f4.prototype.GW = function() {
      if (!this.yi)
          return;
      var E = this.qT;
      if (E == null || !f4.sg) {
          var K = new q(c.E.P,!0);
          K.data = {
              e: c.f.$N,
              KG: {
                  url: "rsrc/basic/basic.pat"
              }
          };
          this.U(K);
          f4.sg = !0;
          return
      }
      var i = Math.floor(34 * c.M())
        , C = Math.floor(34 * c.M())
        , N = []
        , k = [];
      for (var G = 0; G < E.length; G++) {
          N.push(f4.rP(E[G], i, C));
          k.push(E[G].name)
      }
      this.fL.Oi(N, k, i, C);
      this.yi = !1
  }
  ;
  f4.prototype.T = function(E, K) {
      if (this.e0 && E.Idnt.v == this.e0.Idnt.v)
          return;
      this.e0 = JSON.parse(JSON.stringify(E));
      this.jC(K)
  }
  ;
  f4.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.e0))
  }
  ;
  f4.prototype.uk = function() {
      return this.uV ? [this.uV] : []
  }
  ;
  f4.prototype.jC = function(E) {
      var K = Math.floor(50 * c.M()), i = Math.floor(50 * c.M()), C;
      if (E != null)
          C = h$.Si(this.e0, E.add.Patt);
      if (C == null)
          C = h$.Si(this.e0, this.qT);
      this.uV = C;
      var N = f4.rP(C, K, i);
      this.li.setAttribute("src", N);
      c.em(this.li, K, i)
  }
  ;
  f4.n4 = c.w("canvas", "");
  f4.rP = function(E, K, i, C) {
      if (C == null)
          C = f4.n4;
      var N = C.getContext("2d");
      C.width = K;
      C.height = i;
      if (E) {
          var k = E.yG[1]
            , V = k.d
            , j = k.v
            , a = E.yG[0]
            , e = Math.min(K / V, i / j)
            , L = e;
          if (L * V < 2)
              L = 2 / V;
          var g = e;
          if (g * j < 2)
              g = 2 / j;
          var I = u._.VT([a, k], new fn(L,0,0,g,0,0), !1)
            , h = I.rect.d
            , o = I.rect.v
            , H = N.createImageData(h, o);
          _.uJ(I.buffer, H.data);
          N.putImageData(H, Math.floor((K - h) / 2), Math.floor((i - o) / 2))
      }
      return C.toDataURL()
  }
  ;
  function bS(E) {
      hK.call(this, E, !1, "patternbutton", 24.2, 17, dp.KJ);
      this.eA = ""
  }
  bS.prototype = new hK;
  bS.prototype._u = function(E) {
      this.e0 = JSON.parse(JSON.stringify(this.qT[0][this.fL.u()]));
      this.U(new q(c.E.L))
  }
  ;
  bS.prototype.GW = function() {
      var E = this.qT;
      if (E == null || !this.yi)
          return;
      var K = Math.floor(50 * c.M())
        , i = Math.floor(50 * c.M())
        , C = []
        , N = [];
      for (var G = 0; G < E[0].length; G++) {
          C.push(bS.rP(this.qT[0][G].jw, K, i, this.qT[1]));
          N.push(E[0][G].SV.Nm.v.split("=").pop())
      }
      this.fL.Oi(C, N, K, i);
      this.yi = !1
  }
  ;
  bS.prototype.T = function(E, K, i, C) {
      var N = JSON.stringify(E.jw) + "," + i + "," + C;
      if (this.eA != N) {
          this.eA = N;
          this.e0 = JSON.parse(JSON.stringify(E));
          this.jC(K, i, C)
      }
      this.fL.qL(-1)
  }
  ;
  bS.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.e0))
  }
  ;
  bS.prototype.jC = function(E, K, i) {
      var C = Math.floor(68 * c.M())
        , N = Math.floor(68 * c.M())
        , k = bS.rP(this.e0.jw, C, N, E ? E : this.qT[1], K, i);
      this.li.setAttribute("src", k);
      c.em(this.li, C, N)
  }
  ;
  bS.rP = function(E, K, i, C, N, k) {
      var V = new bl;
      V.d = K;
      V.v = i;
      V.buffer = _.I(K * i * 4);
      V.add.Patt = C;
      V.wj(N == null ? 90 : N);
      V.NY(k == null ? 30 : k);
      var j = new h4(0,0,Math.round(K * .5),Math.round(i * .5));
      j.x = Math.round((K - j.d) / 2);
      j.y = Math.round((i - j.v) / 2);
      var a = V.qV();
      a.rect = j;
      a.buffer = _.I(j.X() * 4);
      _.EE(a.buffer, 4284045657);
      h$.Zm(E, a, .5 * 100);
      V.t.push(a);
      V.S8();
      V.s();
      var e = Y.vD;
      Y.vD = !1;
      V.L2();
      var L = V.A7();
      Y.vD = e;
      var g = fb.Bs(L.buffer, V.d, V.v);
      return g
  }
  ;
  function hP(E) {
      hK.call(this, null, !1, "tpresetbutton", 18, 24, dp.rC, !0);
      c.lD(this.j, "fitem");
      this.fL.Lt(1);
      this.id = E;
      this.jC();
      this.Dk = new ck([15, 7, 9]);
      this.Dk.T(!0);
      this.Dk.k(c.E.L, this.alQ, this);
      this.PV.appendChild(this.Dk.j)
  }
  hP.prototype = new hK;
  hP.prototype.am5 = function(E) {
      if (this.id == E)
          return;
      this.id = E;
      this.$S(this.qT)
  }
  ;
  hP.prototype._u = function(E) {
      var K = this.qT[this.fL.u()]
        , i = new q(c.E.P,!0);
      i.data = {
          e: c.f.H7,
          LG: "set",
          KG: dp.rC,
          in: K
      };
      this.U(i)
  }
  ;
  hP.prototype.B = function() {
      hK.prototype.B.call(this);
      this.Dk.B()
  }
  ;
  hP.prototype.alQ = function() {
      this.yi = !0;
      this.GW()
  }
  ;
  hP.prototype.GW = function() {
      if (!this.yi)
          return;
      var E = Math.floor(16 * c.M())
        , K = Math.floor(16 * c.M())
        , i = []
        , C = []
        , N = this.qT
        , k = this.Dk.u();
      for (var G = 0; G < N.length; G++) {
          var V = u.S0(N[G]);
          if (!k || V == this.id) {
              C.push(N[G][0] ? N[G][0].split("=").pop() : "");
              i.push(V == -1 ? "" : PIMG[u._4[V][0]])
          } else {
              i.push(null);
              C.push(null)
          }
      }
      this.fL.Oi(i, C, E, K);
      this.yi = !1
  }
  ;
  hP.prototype.jC = function() {
      var E = this.li;
      E.setAttribute("src", PIMG[u._4[this.id][0]]);
      c.U8(E, "toolicon")
  }
  ;
  hP.prototype.uk = function() {
      return null
  }
  ;
  hP.fg = {};
  hP.rP = function(E, K, i) {
      var C = hP.se
        , N = hP.fg
        , k = _.rS(E.h << 16 | E.l << 8 | E.O);
      if (N[k])
          return N[k];
      if (C == null) {
          var V = c.w("canvas");
          C = hP.se = V.getContext("2d")
      }
      var V = C.canvas;
      V.width = K;
      V.height = i;
      C.fillStyle = "#" + k;
      C.fillRect(0, 0, K, i);
      var j = N[k] = V.toDataURL();
      return j
  }
  ;
  function eD(E, K) {
      aB.call(this);
      this.j = c.w("span", "fitem curveeditor");
      this.Oo = null;
      this.a93 = 0;
      this.FG = "";
      this.mode = 0;
      this.xF = E;
      this.a5D = K;
      this.i7 = null;
      this.O4 = null;
      this.bg = new bT;
      this.HM = this.$R.bind(this);
      this.lH = this.$T.bind(this);
      this.oV = c.w("canvas", "");
      this.NE = this.oV.getContext("2d");
      c.pq(this.oV);
      c.Xh(this.oV, 256, 256, this.NE);
      this.j.appendChild(this.oV);
      c.vo(this.oV, this.Aq.bind(this))
  }
  eD.prototype = new aB;
  eD.prototype.T = function(E, G) {
      var K = JSON.stringify(E);
      if (K == JSON.stringify(this.i7))
          return;
      this.mode = E.length == 256 ? 1 : 0;
      this.i7 = JSON.parse(K);
      if (G != null)
          this.O4 = this.i7[G];
      this.ry()
  }
  ;
  eD.prototype.TC = function(E, K, i) {
      this.Oo = E;
      this.a93 = K;
      this.FG = i;
      this.ry()
  }
  ;
  eD.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.i7))
  }
  ;
  eD.prototype.A$ = function() {
      return this.i7.indexOf(this.O4)
  }
  ;
  eD.prototype.Aq = function(E) {
      var K = c.DX(E, this.oV)
        , i = K.x
        , C = 256 - K.y;
      if (this.xF) {
          var N = i;
          i = 256 - C;
          C = N
      }
      this.bg.Wm(i, C);
      if (this.mode == 0) {
          var k = null;
          for (var G = 0; G < this.i7.length; G++) {
              var V = this.i7[G].v
                , j = V.Hrzn.v - i
                , a = V.Vrtc.v - C
                , e = Math.sqrt(j * j + a * a);
              if (e < 5)
                  k = this.i7[G]
          }
          if (k == null) {
              k = _.Qe.QT(i, C, !0);
              this.i7.push(k)
          }
          this.O4 = k
      }
      c.ys(document.body, this.HM);
      c.vL(document.body, this.lH);
      this.$R(E)
  }
  ;
  eD.prototype.$R = function(E) {
      var K = c.DX(E, this.oV)
        , i = K.x
        , C = 256 - K.y;
      if (this.xF) {
          var N = i;
          i = 256 - C;
          C = N
      }
      if (this.mode == 0) {
          var k = this.i7
            , V = this.a5D
            , j = k.indexOf(this.O4)
            , a = j == 0 || j == k.length - 1
            , e = 0
            , L = 255
            , g = !0;
          if (a) {
              e = 1;
              L = 254
          }
          if (!V || !a)
              this.O4.v.Hrzn.v = Math.max(e, Math.min(L, Math.round(i)));
          this.O4.v.Vrtc.v = Math.max(0, Math.min(255, Math.round(C)));
          for (var G = 0; G < k.length; G++) {
              if (k[G] == this.O4)
                  continue;
              if (Math.abs(k[G].v.Hrzn.v - this.O4.v.Hrzn.v) < 2)
                  g = !1
          }
          if (i < 0 || i > 255 || C < 0 || C > 255)
              g = !1;
          if (g && k.indexOf(this.O4) == -1)
              k.push(this.O4);
          if (!g && k.indexOf(this.O4) != -1 && k.length > 2 && (!V || !a))
              k.splice(k.indexOf(this.O4), 1);
          if (k[0].v.Hrzn.v == k[1].v.Hrzn.v)
              if (k[0].v.Hrzn.v == 0)
                  k[1].v.Hrzn.v = 1;
              else
                  k[0].v.Hrzn.v--;
          k.sort(function(S, v) {
              return S.v.Hrzn.v - v.v.Hrzn.v
          })
      } else {
          i = Math.round(i);
          C = Math.round(C);
          i = Math.max(0, Math.min(255, i));
          C = Math.max(0, Math.min(255, C));
          var I = this.bg.x
            , h = i
            , o = this.bg.y
            , H = C;
          if (i < this.bg.x) {
              h = I;
              I = i;
              H = o;
              o = C
          }
          this.i7[i] = C;
          if (I != h)
              for (var A = I; A <= h; A++)
                  this.i7[A] = Math.round(o + (A - I) * (H - o) / (h - I))
      }
      this.bg.Wm(i, C);
      this.ry();
      this.U(new q(c.E.L))
  }
  ;
  eD.prototype.$T = function(E) {
      c.sI(document.body, this.HM);
      c.qU(document.body, this.lH);
      this.U(new q(c.E.L))
  }
  ;
  eD.prototype.ry = function() {
      var E = this.NE;
      E.fillStyle = "#ffffff";
      E.fillRect(0, 0, 256, 256);
      if (this.Oo) {
          E.translate(0, 256);
          E.scale(1, -1);
          fg.ww(E, this.Oo, 5700 / this.a93, this.FG);
          E.scale(1, -1);
          E.translate(0, -256)
      }
      E.strokeStyle = "#aaaaaa";
      E.lineWidth = 1;
      E.beginPath();
      for (var G = 1; G < 4; G++) {
          E.moveTo(0, 64 * G - .5);
          E.lineTo(255, 64 * G - .5);
          E.moveTo(64 * G - .5, 0);
          E.lineTo(64 * G - .5, 255)
      }
      E.stroke();
      if (this.xF) {
          E.save();
          E.transform(0, 1, -1, 0, 256, 0)
      }
      if (this.mode == 0) {
          var K = this.i7
            , i = _.Qe.Pl(K, 256);
          E.strokeStyle = "#000000";
          E.beginPath();
          E.moveTo(0, 255.5 - i[0]);
          for (var G = 0; G < 256; G++)
              E.lineTo(G, 255.5 - i[G]);
          E.stroke();
          E.lineWidth = 2;
          for (var G = 0; G < K.length; G++) {
              var C = K[G].v;
              E.fillStyle = this.O4 == K[G] ? "#333" : "#fff";
              E.beginPath();
              E.moveTo(C.Hrzn.v, 255.5 - C.Vrtc.v);
              E.arc(C.Hrzn.v, 255.5 - C.Vrtc.v, 3, 0, 2 * Math.PI);
              E.stroke();
              E.fill()
          }
      } else {
          var i = this.i7;
          E.strokeStyle = "#000000";
          E.beginPath();
          E.moveTo(0, 255.5 - i[0]);
          for (var G = 0; G < 256; G++)
              E.lineTo(G, 255.5 - i[G]);
          E.stroke()
      }
      if (this.xF)
          E.restore()
  }
  ;
  function fg(E, K) {
      aB.call(this);
      this.j = c.w("span", "");
      this.El = new gc([12, 4],["RGB", [13, 1, 1], [13, 1, 4], [13, 1, 5], [12, 82]]);
      this.El.k(c.E.L, this.Vp, this);
      this.j.appendChild(this.El.j);
      c.eg(this.j);
      this.n4 = c.w("canvas");
      var i = this.n4;
      this.j.appendChild(i);
      i.width = Math.round(E * c.M());
      i.height = Math.round(100 * c.M());
      c.em(i, i.width, i.height);
      this.se = i.getContext("2d");
      this.Oo = null;
      this.kY = 0;
      this.aka = null;
      this.ac1 = [];
      this.q_ = [];
      var C = ["Mean:", "Pixels:"]
        , N = this.j;
      for (var G = 0; G < C.length; G++) {
          var k = new di(C[G]);
          this.ac1.push(k);
          if (K)
              N.appendChild(k.j);
          var V = new di("hi");
          this.q_.push(V);
          if (K)
              N.appendChild(V.j);
          c.eg(N)
      }
  }
  fg.prototype = new aB;
  fg.prototype.B = function() {
      this.El.B()
  }
  ;
  fg.prototype.Lt = function(E) {
      this.El.T(E);
      this.Vp()
  }
  ;
  fg.prototype.T = function(E, K) {
      this.Oo = E;
      this.aka = K;
      this.Vp()
  }
  ;
  fg.prototype.Pi = function(E) {
      if (E == this.kY)
          return;
      this.kY = E;
      this.Vp()
  }
  ;
  fg.prototype.Vp = function() {
      if (this.Oo == null)
          return;
      var E = this.n4
        , K = this.se
        , i = this.Oo
        , C = this.aka
        , N = this.El.u()
        , k = 6e3 / i[4]
        , V = "#" + _.rS(this.kY)
        , j = fg.ww;
      E.width = E.width;
      K.setTransform(E.width / 256, 0, 0, -E.height / 100, 0, E.height);
      K.globalCompositeOperation = "lighter";
      if (N == 0)
          j(K, i[0], k / 3, V);
      else if (N < 4)
          j(K, i[N], k, V);
      else {
          j(K, i[1], k, "#ff0000");
          j(K, i[2], k, "#00ff00");
          j(K, i[3], k, "#0000ff")
      }
      K.setTransform(1, 0, 0, 1, 0, 0);
      if (C != null) {
          var a = 0;
          for (var G = 0; G < 256; G++)
              a += G * i[N][G];
          if (N == 0)
              a /= 3;
          this.q_[0].T((a / C).toFixed(1) + "");
          this.q_[1].T(C + "")
      }
  }
  ;
  fg.ww = function(E, K, i, C) {
      E.beginPath();
      E.moveTo(0, 0);
      for (var N = 0; N < 256; N++)
          E.lineTo(N, K[N] * i);
      E.lineTo(256, 0);
      E.closePath();
      E.fillStyle = C;
      E.fill()
  }
  ;
  function f_(E) {
      aB.call(this);
      this.Kz = {
          h: 0,
          l: 0,
          O: 0
      };
      if (Math.abs(E - 256 / c.M()) < 10)
          E = 256 / c.M();
      var K = this.j = c.w("div", "flexrow");
      this.k5 = new bT;
      this.bq = new bT;
      this.iy = this.Vd.bind(this);
      this.Dn = this.a46.bind(this);
      this.oV = c.w("canvas", "");
      this.NE = this.oV.getContext("2d");
      this.oV.width = this.oV.height = 256;
      this.amG = this.NE.getImageData(0, 0, 256, 256);
      this.a8z = -1;
      c.pq(this.oV);
      c.vo(this.oV, this.am8.bind(this));
      K.appendChild(this.oV);
      this.amS = this.gZ.bind(this);
      this.a2P = this.a8R.bind(this);
      this.nR = c.w("canvas", "");
      this.DF = this.nR.getContext("2d");
      this.nR.width = 20;
      this.nR.height = 256;
      this.a3C = this.DF.getImageData(0, 0, 20, 256);
      this.amv(this.a3C.data, 20, 256);
      c.pq(this.nR);
      c.vo(this.nR, this.ai9.bind(this));
      K.appendChild(this.nR);
      this.oV.setAttribute("style", "width:" + E + "px; height:" + E + "px");
      this.nR.setAttribute("style", "width:" + 20 / c.M() + "px; height:" + E + "px")
  }
  f_.prototype = new aB;
  f_.prototype.FY = function(E, K) {
      this.oV.style.width = E + "px"
  }
  ;
  f_.prototype.T = function(E) {
      this.Kz = E;
      this.update()
  }
  ;
  f_.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.Kz))
  }
  ;
  f_.prototype.update = function() {
      var E = this.Kz
        , K = _.Et(E.h, E.l, E.O);
      if (K.Gb == 0)
          K.Us = this.k5.x / 255;
      if (K.Us == 0 || K.Gb == 0)
          K.w1 = (255 - this.rn(this.bq.y)) / 255;
      if (K.Gb != 0)
          this.k5.x = K.Us * 255;
      this.k5.y = (1 - K.Gb) * 255;
      this.bq.y = (1 - K.w1) * 255;
      var i = this.amG;
      if (Math.abs(K.w1 - this.a8z) > .002) {
          this.anJ(i.data, 256, 256, K.w1);
          this.a8z = K.w1
      }
      this.NE.putImageData(i, 0, 0);
      this.NE.strokeStyle = "#000000";
      this.NE.beginPath();
      this.NE.arc(this.k5.x + 1, this.k5.y + 1, 5, 0, 2 * Math.PI);
      this.NE.stroke();
      this.NE.strokeStyle = "#ffffff";
      this.NE.beginPath();
      this.NE.arc(this.k5.x, this.k5.y, 5, 0, 2 * Math.PI);
      this.NE.stroke();
      var i = this.a3C;
      this.DF.putImageData(i, 0, 0);
      this.DF.strokeStyle = "#ffffff";
      this.DF.beginPath();
      this.DF.moveTo(0, this.bq.y);
      this.DF.lineTo(20, this.bq.y);
      this.DF.lineWidth = 2;
      this.DF.stroke()
  }
  ;
  f_.prototype.anJ = function(E, K, i, C) {
      var N = 1 / K
        , k = 1 / i;
      for (var V = 0; V < i; V++)
          for (var j = 0; j < K; j++) {
              var a = _.Np(C, j * N, (i - V - 1) * k)
                , G = V * K + j << 2;
              E[G + 0] = ~~(a.h * 255);
              E[G + 1] = ~~(a.l * 255);
              E[G + 2] = ~~(a.O * 255);
              E[G + 3] = 255
          }
  }
  ;
  f_.prototype.amv = function(E, K, i) {
      var C = new Uint32Array(E.buffer);
      for (var N = 0; N < i; N++) {
          var k = _.Np(1 - N / i, 1, 1)
            , V = 255 << 24 | k.O * 255 << 16 | k.l * 255 << 8 | k.h * 255;
          for (var j = 0; j < K; j++)
              C[N * K + j] = V
      }
  }
  ;
  f_.prototype.am8 = function(E) {
      c.ys(window, this.iy);
      c.vL(window, this.Dn);
      this.Vd(E)
  }
  ;
  f_.prototype.a46 = function(E) {
      c.sI(window, this.iy);
      c.qU(window, this.Dn)
  }
  ;
  f_.prototype.Vd = function(E) {
      var K = c.DX(E, this.oV);
      K.x = K.x * (256 / parseFloat(this.oV.style.width));
      K.y = K.y * (256 / parseFloat(this.oV.style.height));
      this.k5.Wm(this.rn(K.x), this.rn(K.y));
      this.dH()
  }
  ;
  f_.prototype.dH = function() {
      this.Kz = this.aeo();
      this.U(new q(c.E.L))
  }
  ;
  f_.prototype.aeo = function() {
      var E = _.Np((255 - this.rn(this.bq.y)) / 255, this.x3(this.k5.x / 255), this.x3(1 - this.k5.y / 255));
      return {
          h: E.h,
          l: E.l,
          O: E.O
      }
  }
  ;
  f_.prototype.ai9 = function(E) {
      c.ys(window, this.amS);
      c.vL(window, this.a2P);
      this.gZ(E)
  }
  ;
  f_.prototype.a8R = function(E) {
      c.sI(window, this.amS);
      c.qU(window, this.a2P)
  }
  ;
  f_.prototype.gZ = function(E) {
      var K = c.DX(E, this.nR);
      K.y = K.y * (256 / parseFloat(this.nR.style.height));
      this.bq.Wm(this.rn(K.x), this.rn(K.y));
      this.dH()
  }
  ;
  f_.prototype.rn = function(E) {
      return Math.max(0, Math.min(255, E))
  }
  ;
  f_.prototype.x3 = function(E) {
      return Math.max(0, Math.min(1, E))
  }
  ;
  function eN(E, K, i) {
      aB.call(this);
      if (!K)
          return;
      this.GI = 0;
      this.j = c.w("span", "fitem bbmenu");
      if (E) {
          this.v7 = E;
          this.Fy = c.w("label", "flabel");
          this.Fy.textContent = E + ":";
          this.j.appendChild(this.Fy)
      }
      this.eC = [];
      this.bz = null;
      this.X2(K, i);
      this.T(0)
  }
  eN.prototype = new aB;
  eN.prototype.KZ = function(E) {
      this.v7 = E;
      this.B()
  }
  ;
  eN.prototype.B = function() {
      if (this.v7 != null) {
          this.Fy.textContent = i2.get(this.v7) + ": "
      }
      for (var G = 0; G < this.eC.length; G++)
          this.eC[G].B()
  }
  ;
  eN.prototype.u = function() {
      return this.GI
  }
  ;
  eN.prototype.X2 = function(E, K) {
      while (this.eC.length > 0)
          this.j.removeChild(this.eC.pop().j);
      this.bz = E;
      for (var G = 0; G < E.length; G++) {
          var i = new hO(E[G],!1,K ? K[G] : null);
          i.k("click", this.sc, this);
          this.j.appendChild(i.j);
          this.eC.push(i)
      }
      this.B()
  }
  ;
  eN.prototype.T = function(E) {
      this.GI = E;
      for (var G = 0; G < this.eC.length; G++)
          this.eC[G].$o();
      this.eC[E].cY()
  }
  ;
  eN.prototype.sc = function(E) {
      var G = this.eC.indexOf(E.target);
      this.T(G);
      this.U(new q(c.E.L,!1))
  }
  ;
  function fX(E, K, i, C) {
      if (C == null)
          C = 16;
      var N = fX.RC
        , k = N.getContext("2d")
        , V = C >>> 1;
      N.width = N.height = C;
      var j = [];
      for (var G = 0; G < K.length; G++) {
          if (K[G] == "checker") {
              k.fillStyle = "white";
              k.fillRect(0, 0, C, C);
              k.fillStyle = "#bbbbbb";
              k.fillRect(V, 0, V, V);
              k.fillRect(0, V, V, V)
          } else if (K[G].startsWith("#")) {
              k.fillStyle = K[G];
              k.fillRect(0, 0, C, C)
          }
          if (K[G] == "checker" || K[G].startsWith("#"))
              j.push("<img src=\"" + N.toDataURL() + "\" />");
          else
              j.push("<img src=\"" + K[G] + "\" class=\"autoscale gsicon\" />")
      }
      eN.call(this, E, j, i)
  }
  fX.prototype = new eN;
  fX.RC = c.w("canvas");
  function gc(E, K, i, C) {
      aB.call(this);
      if (!K)
          return;
      if (i == null)
          i = !1;
      this.GI = 0;
      this.a3a = i;
      this.v7 = E;
      this.B2 = null;
      this.amh = C;
      var N = "dd" + c.o6();
      this.j = c.w("span", "fitem ddmenu");
      if (E && !i) {
          this.Fy = c.w("label", "flabel");
          this.j.appendChild(this.Fy);
          this.Fy.setAttribute("for", N)
      }
      this.GL = c.w("select", "bbtn");
      this.GL.setAttribute("id", N);
      this.j.appendChild(this.GL);
      this.GL.addEventListener("change", this.sc.bind(this), !1);
      this.eC = [];
      this.bz = null;
      this.X2(K, C);
      this.B()
  }
  gc.prototype = new aB;
  gc.prototype.KZ = function(E) {
      this.v7 = E;
      this.B()
  }
  ;
  gc.prototype.B = function() {
      if (this.v7 != null) {
          var E = i2.get(this.v7);
          if (this.a3a)
              this.GL.setAttribute("title", E);
          else
              this.Fy.textContent = E + ":"
      }
      if (this.bz)
          this.X2(this.bz, this.amh);
      this.T(this.GI)
  }
  ;
  gc.prototype.u = function() {
      return this.GI
  }
  ;
  gc.prototype.X2 = function(E, K) {
      c.kL(this.GL);
      var i = []
        , C = 0;
      if (K) {
          i.push(K[0]);
          for (var G = 1; G < K.length; G++)
              i.push(i[G - 1] + K[G])
      }
      this.bz = E;
      this.B2 = [];
      this.amh = K;
      for (var G = 0; G < E.length; G++) {
          var N = c.w("option");
          N.textContent = i2.get(E[G]);
          N.setAttribute("value", G);
          this.GL.appendChild(N);
          this.eC.push(N);
          this.B2.push(G + C);
          if (i.indexOf(G + 1) != -1 && G != E.length - 1) {
              var k = c.w("option");
              k.setAttribute("disabled", "");
              k.textContent = "";
              this.GL.appendChild(k);
              C++
          }
      }
  }
  ;
  gc.prototype.T = function(E) {
      this.GI = E;
      this.GL.selectedIndex = this.B2[E]
  }
  ;
  gc.prototype.sc = function(E) {
      this.GI = this.B2.indexOf(this.GL.selectedIndex);
      this.U(new q(c.E.L,!1))
  }
  ;
  function hp() {
      aB.call(this);
      this.VV = null;
      this.jj = new ae;
      this.jj.k(c.E.L, this.amM, this);
      this.jj.parent = this;
      this.kn = new gI([12, 14, 0],1,150,"px",0,!0);
      this.kn.k(c.E.L, this.Sc, this);
      this.kn.parent = this;
      this.kd = new gI([16, 0],0,100,"px",2,!0,null,5);
      this.kd.k(c.E.L, this.Sc, this);
      this.kd.parent = this;
      this.Nn = new ck("Auto");
      this.Nn.k(c.E.L, this.Sc, this);
      this.RR = new gI([16, 1],-500,5e3,"%",0,!0);
      this.RR.k(c.E.L, this.Sc, this);
      this.RR.parent = this;
      this.yB = new gI("\u2B0D",1,300,"%",null,null,null,null,[[2, 7], [22, 4, 3]]);
      this.yB.k(c.E.L, this.Sc, this);
      this.yB.parent = this;
      this.pm = new gI("\u2B0C",1,300,"%",null,null,null,null,[[2, 7], [22, 4, 2]]);
      this.pm.k(c.E.L, this.Sc, this);
      this.pm.parent = this;
      this.TE = new gI([16, 2],-10,10,"px");
      this.TE.k(c.E.L, this.Sc, this);
      this.TE.parent = this;
      this.ep = new ha(!0);
      this.ep.k(c.E.L, this.acl, this);
      this.ep.parent = this;
      this.G5 = new hO("<img src=\"" + PIMG["type/bold"] + "\" class=\"autoscale gsicon\" />");
      this.ud = new hO("<img src=\"" + PIMG["type/italic"] + "\" class=\"autoscale gsicon\" />");
      this.Cr = new hO("<img src=\"" + PIMG["type/caps"] + "\" class=\"autoscale gsicon\" />");
      this.$q = new hO("<img src=\"" + PIMG["type/scaps"] + "\" class=\"autoscale gsicon\" />");
      this.Ri = new hO("<img src=\"" + PIMG["type/sub"] + "\" class=\"autoscale gsicon\" />");
      this.mf = new hO("<img src=\"" + PIMG["type/sup"] + "\" class=\"autoscale gsicon\" />");
      this.Yf = new hO("<img src=\"" + PIMG["type/under"] + "\" class=\"autoscale gsicon\" />");
      this._E = new hO("<img src=\"" + PIMG["type/strike"] + "\" class=\"autoscale gsicon\" />");
      var E = [this.G5, this.ud, this.Cr, this.$q, this.Ri, this.mf, this.Yf, this._E];
      for (var G = 0; G < E.length; G++)
          E[G].k("click", this.aeu, this);
      this.Ug = new hO("<img src=\"" + PIMG["par/left"] + "\" class=\"autoscale gsicon\" />");
      this.lr = new hO("<img src=\"" + PIMG["par/right"] + "\" class=\"autoscale gsicon\" />");
      this.MY = new hO("<img src=\"" + PIMG["par/center"] + "\" class=\"autoscale gsicon\" />");
      this.acX = new hO("<img src=\"" + PIMG["par/jleft"] + "\" class=\"autoscale gsicon\" />");
      this.a6p = new hO("<img src=\"" + PIMG["par/jright"] + "\" class=\"autoscale gsicon\" />");
      this.anu = new hO("<img src=\"" + PIMG["par/jcenter"] + "\" class=\"autoscale gsicon\" />");
      this.anS = new hO("<img src=\"" + PIMG["par/jall"] + "\" class=\"autoscale gsicon\" />");
      this.KS = [this.Ug, this.lr, this.MY, this.acX, this.a6p, this.anu, this.anS];
      for (var G = 0; G < this.KS.length; G++)
          this.KS[G].k("click", this.Sc, this);
      var K = ["lind", "rind", "flind", "bind", "aind"]
        , i = [];
      for (var G = 0; G < 5; G++)
          i.push("<img src=\"" + PIMG["par/" + K[G]] + "\" class=\"autoscale gsicon\" /> ");
      this.ZI = new gI(i[0],-20,20,"px");
      this.ZI.k(c.E.L, this.Sc, this);
      this.ZI.parent = this;
      this.Qt = new gI(i[1],-20,20,"px");
      this.Qt.k(c.E.L, this.Sc, this);
      this.Qt.parent = this;
      this.Pe = new gI(i[2],-20,20,"px");
      this.Pe.k(c.E.L, this.Sc, this);
      this.Pe.parent = this;
      this.Px = new gI(i[3],-20,20,"px");
      this.Px.k(c.E.L, this.Sc, this);
      this.Px.parent = this;
      this.I2 = new gI(i[4],-20,20,"px");
      this.I2.k(c.E.L, this.Sc, this);
      this.I2.parent = this;
      this.be = new eN([12, 33],["Abc ...", "... \u0623\u064A \u0628\u064A"]);
      this.be.k(c.E.L, this.Sc, this);
      this.be.parent = this
  }
  hp.prototype = new aB;
  hp.prototype.B = function() {
      this.jj.B();
      this.kn.B();
      this.kd.B();
      this.RR.B();
      this.TE.B();
      this.yB.B();
      this.pm.B();
      this.be.B()
  }
  ;
  hp.prototype.T = function(E, K, i) {
      this.Ox = JSON.parse(JSON.stringify(E));
      var C = this.Ox
        , N = C.dP
        , k = C.oN;
      this.G5.T(N.FauxBold != null ? N.FauxBold : !1);
      this.ud.T(N.FauxItalic != null ? N.FauxItalic : !1);
      this.Cr.T(N.FontCaps == 2);
      this.$q.T(N.FontCaps == 1);
      this.mf.T(N.FontBaseline == 1);
      this.Ri.T(N.FontBaseline == 2);
      this.Yf.T(N.Underline);
      this._E.T(N.Strikethrough);
      this.jj.T(N.Font == null ? null : C.gx[N.Font].Name, K, i);
      var V = N.FontSize == null ? 20 : N.FontSize;
      this.kn.T(V);
      var j = N.Tracking;
      this.RR.T(j == null ? 0 : j);
      this.kd.T(N.Leading != null ? N.Leading : 0);
      this.Nn.T(N.AutoLeading);
      this.yB.T((N.VerticalScale != null ? N.VerticalScale : 0) * 100);
      this.pm.T((N.HorizontalScale != null ? N.HorizontalScale : 0) * 100);
      this.TE.T(N.BaselineShift != null ? N.BaselineShift : 0);
      if (N.FillColor) {
          var a = cO.Gk(N);
          this.ep.Pi(Math.round(a.h) << 16 | Math.round(a.l) << 8 | Math.round(a.O))
      } else
          this.ep.Pi(0);
      var e = k._Direction != null ? k._Direction : 0
        , L = cO.gF(k);
      for (var G = 0; G < this.KS.length; G++)
          this.KS[G].T(L == G);
      this.be.T(e);
      this.ZI.T(k.StartIndent != null ? k.StartIndent : 0);
      this.Qt.T(k.EndIndent != null ? k.EndIndent : 0);
      this.Pe.T(k.FirstLineIndent != null ? k.FirstLineIndent : 0);
      this.Px.T(k.SpaceBefore != null ? k.SpaceBefore : 0);
      this.I2.T(k.SpaceAfter != null ? k.SpaceAfter : 0)
  }
  ;
  hp.prototype.dm = function() {
      var E = new q(c.E.P,!0);
      E.data = {
          e: c.f.H7,
          KG: dp.nF,
          Ox: this.Ox
      };
      this.U(E);
      var E = new q(c.E.A,!0);
      E.F = u.EM;
      E.data = {
          e: "updateStyles"
      };
      this.U(E)
  }
  ;
  hp.prototype.aeu = function(E) {
      var K = this.Ox.dP
        , i = E.target
        , C = !i.vV();
      if (i == this.G5)
          K.FauxBold = C;
      if (i == this.ud)
          K.FauxItalic = C;
      if (i == this.Cr)
          K.FontCaps = C ? 2 : 0;
      if (i == this.$q)
          K.FontCaps = C ? 1 : 0;
      if (i == this.mf)
          K.FontBaseline = C ? 1 : 0;
      if (i == this.Ri)
          K.FontBaseline = C ? 2 : 0;
      if (i == this.Yf)
          K.Underline = C;
      if (i == this._E)
          K.Strikethrough = C;
      this.dm()
  }
  ;
  hp.prototype.Sc = function(E) {
      var K = this.Ox.dP
        , i = this.Ox.oN
        , C = E.target;
      if (C == this.RR) {
          var N = this.RR.u();
          K.Tracking = N
      }
      if (C == this.kd) {
          K.AutoLeading = !1;
          K.Leading = this.kd.u()
      }
      if (C == this.Nn) {
          K.AutoLeading = this.Nn.u()
      }
      if (C == this.kn)
          K.FontSize = C.u();
      if (C == this.yB)
          K.VerticalScale = C.u() / 100;
      if (C == this.pm)
          K.HorizontalScale = C.u() / 100;
      if (C == this.TE)
          K.BaselineShift = C.u();
      if (this.KS.indexOf(C) != -1) {
          i.Justification = cO.gF(i, this.KS.indexOf(C))
      }
      if (C == this.ZI)
          i.StartIndent = C.u();
      if (C == this.Qt)
          i.EndIndent = C.u();
      if (C == this.Pe)
          i.FirstLineIndent = C.u();
      if (C == this.Px)
          i.SpaceBefore = C.u();
      if (C == this.I2)
          i.SpaceAfter = C.u();
      if (C == this.be)
          i._Direction = C.u();
      this.dm()
  }
  ;
  hp.prototype.amM = function(E) {
      var K = this.Ox
        , i = this.jj.u()
        , C = -1;
      for (var G = 0; G < K.gx.length; G++)
          if (K.gx[G].Name == i)
              C = G;
      if (C == -1) {
          C = K.gx.length;
          var N = JSON.parse(JSON.stringify(K.gx[0]));
          N.Name = i;
          K.gx.splice(C, 0, N)
      }
      K.dP.Font = C;
      this.dm()
  }
  ;
  hp.prototype.acl = function(E) {
      var K = this.ep.q0()
        , i = {
          Type: 1,
          Values: [1, (K >> 16 & 255) / 255, (K >> 8 & 255) / 255, (K >> 0 & 255) / 255]
      };
      for (var G = 0; G < 4; G++)
          i.Values[G] = Math.round(i.Values[G] * 1e3) / 1e3;
      this.Ox.dP.FillColor = i;
      this.dm()
  }
  ;
  function ae() {
      aB.call(this);
      this.j = c.w("span", "fontinput");
      this.RD = null;
      this.IP = null;
      this.u8 = null;
      this.nX = "";
      this.xj = {};
      this.Tg = [];
      this.aet = {};
      this.o5 = !1;
      this.AH = c.w("button", "fitem");
      this.AH.setAttribute("style", "width:9em;");
      this.AH.textContent = "Family Name \u25BC";
      this.j.appendChild(this.AH);
      c.vo(this.AH, this.a8.bind(this));
      this.fT = new aB;
      this.fT.parent = this;
      this.fT.j = c.w("div", "floatcont");
      this.fT.j.addEventListener("keyup", this.akJ.bind(this), !1);
      this.AT = new fA(6.8);
      this.fT.j.appendChild(this.AT.a91());
      this.AT.parent = this.fT;
      this.AT.k(c.E.L, this._N, this);
      var E = c.w("div", "form");
      this.fT.j.appendChild(E);
      this.rK = new hO(c.GJ("tools/cshape", null, "autoscale"),!1,"Show Favorites Only");
      this.rK.k("click", this.a2j, this);
      E.appendChild(this.rK.j);
      this.DA = new fN([12, 86],null,9);
      this.DA.k("input", this.gt, this);
      E.appendChild(this.DA.j);
      var K = this.a9m = new hO([[23, 6], [22, 6, 0]],!1,"Load OTF / TTF file from your computer",!0);
      K.k("click", this.a6U, this);
      K.j.style.marginLeft = "1.5em";
      E.appendChild(K.j);
      this.O8 = c.w("span", "fitem imageset scrollable marged");
      this.O8.style.height = "30em";
      this.fT.j.appendChild(this.O8);
      this.RP = c.w("button", "fitem");
      this.RP.setAttribute("style", "width:7em;");
      this.RP.textContent = "SubFamily Name \u25BC";
      this.j.appendChild(this.RP);
      c.vo(this.RP, this.a8.bind(this));
      this.Nx = new aB;
      this.Nx.parent = this;
      this.Nx.j = c.w("div", "floatcont");
      this.$w = c.w("span", "fitem imageset scrollable marged");
      this.Nx.j.appendChild(this.$w)
  }
  ae.prototype = new aB;
  ae.prototype.akJ = function(E) {
      var K = 0;
      if (w.SS(E.code, w.ay))
          K = -1;
      if (w.SS(E.code, w.Kv))
          K = 1;
      if (K != 0) {
          var i = this.Tg
            , C = i.length
            , N = this.RD.y2()[this.u8];
          if (N == null && C == 0)
              return;
          var k = i.indexOf(N[0]);
          if (k == -1)
              return;
          k = (k + K + C) % C;
          this.Zu(i[k], null)
      }
  }
  ;
  ae.prototype.a6U = function() {
      var E = new q(c.E.P,!0);
      E.data = {
          e: c.f.an,
          anX: ".otf,.ttf,.ttc"
      };
      this.U(E)
  }
  ;
  ae.prototype.B = function() {
      this.AT.B();
      this.a9m.B();
      this.rK.KZ(c.GJ("tools/cshape", null, "autoscale"))
  }
  ;
  ae.prototype.a2j = function(E) {
      this.rK.T(!this.rK.vV());
      this._N()
  }
  ;
  ae.prototype.gt = function(E) {
      this.nX = this.DA.u().toLowerCase();
      this._N()
  }
  ;
  ae.prototype.a8 = function(E) {
      c.zx(E);
      var K = E.currentTarget
        , i = K.getBoundingClientRect()
        , C = K == this.AH
        , N = C ? this.fT : this.Nx;
      if (c.ws(N.j)) {
          this.nq(N);
          return
      }
      if (!C && this.RD.y2()[this.u8] == null)
          return;
      var k = new q(c.E.P,!0);
      k.data = {
          e: c.f.um,
          CP: N,
          x: i.left,
          y: i.top + i.height
      };
      this.U(k);
      if (C) {
          this._N();
          this.DA.QO()
      }
  }
  ;
  ae.prototype.a1j = function(E) {
      var K = E.currentTarget.firstChild.nextSibling.textContent;
      if (E.target.tagName.toLowerCase() == "button") {
          var i = this.IP.slice(0)
            , C = i.indexOf(K);
          if (C == -1) {
              i = i.slice(Math.max(0, i.length - 29));
              i.push(K)
          } else
              i.splice(C, 1);
          var N = new q(c.E.P,!0);
          N.data = {
              e: c.f.H7,
              KG: dp.o7,
              Gz: i
          };
          this.U(N);
          this.o5 = !0;
          this._N()
      } else {
          this.Zu(K, null);
          this.DA.QO()
      }
  }
  ;
  ae.prototype.alM = function(E) {
      this.Zu(null, E.currentTarget.firstChild.textContent)
  }
  ;
  ae.prototype.Zu = function(E, K) {
      var i = E == null ? this.Nx : this.fT
        , C = this.RD;
      if (E == null)
          E = C.y2()[this.u8][0];
      else {
          var N = C.gw(E)
            , k = C.y2()[this.u8];
          K = d4.EC(N, k ? k[1] : "regular")
      }
      var V = C.VU(E, K)[2];
      this.T(V, C);
      this.U(new q(c.E.L,!1));
      this.nq(i);
      this._N()
  }
  ;
  ae.prototype.nq = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.sb,
          CP: E
      };
      this.U(K)
  }
  ;
  ae.prototype.u = function() {
      return this.u8
  }
  ;
  ae.prototype.T = function(E, K, i) {
      var C = this.RD;
      if (E != null)
          this.u8 = E;
      else
          E = this.u8;
      this.RD = K;
      this.IP = i;
      if (E != null) {
          var N = K.y2()[E], k, V;
          if (N == null) {
              k = "- " + E;
              V = "-------"
          } else {
              k = N[0];
              V = N[1];
              var j = K.gw(k);
              j.sort(d4.ahz);
              var a = j.indexOf(V)
                , e = this.alM.bind(this);
              this.$w.textContent = "";
              for (var G = 0; G < j.length; G++) {
                  var N = K.VU(k, j[G]);
                  if (!this.AT.fB(N))
                      continue;
                  var L = this.L5(N, N[1], e, !1);
                  this.$w.appendChild(L)
              }
          }
          this.AH.textContent = k.substring(0, 15) + " \u25BC";
          this.AH.setAttribute("title", k);
          this.RP.textContent = V.substring(0, 10) + " \u25BC";
          this.RP.setAttribute("title", V)
      }
  }
  ;
  ae.prototype._N = function() {
      var E = this.RD.y2()[this.u8]
        , K = this.IP
        , i = null
        , C = this.RD.a3Z()
        , N = this.a1j.bind(this);
      this.Tg = [];
      for (var k in C) {
          var V = d4.EC(C[k], "regular")
            , j = this.RD.VU(k, V)
            , a = K.indexOf(k) != -1
            , e = !0;
          if (this.nX.length > 0 && j[0].toLowerCase().indexOf(this.nX) == -1)
              e = !1;
          else if (!this.AT.fB(j))
              e = !1;
          else if (this.rK.vV() && !a)
              e = !1;
          var L = this.xj[k];
          if (L == null) {
              var L = this.L5(j, k, N, !0);
              this.xj[k] = L;
              this.O8.appendChild(L)
          }
          if (e)
              this.Tg.push(k);
          var g = e ? "" : "display:none; "
            , I = "opacity: " + (a ? "1" : "0.2");
          if (E && E[0] == k) {
              g += "background-color:rgba(0,0,0,0.13);";
              i = L
          }
          if (this.aet[k] != g + I) {
              L.setAttribute("style", g);
              L.firstChild.setAttribute("style", I);
              this.aet[k] = g + I
          }
      }
      if (i && !this.o5)
          this.O8.scrollTop = i.offsetTop - 210;
      this.o5 = !1
  }
  ;
  ae.prototype.L5 = function(E, K, i, C) {
      var N = c.w("div", "fontitem")
        , a = "";
      N.addEventListener("click", i, !1);
      if (C)
          N.appendChild(c.w("button", "star"));
      var k = c.w("span", "label");
      k.setAttribute("title", K);
      k.textContent = K;
      N.appendChild(k);
      var V = c.M()
        , j = 1 / V
        , e = d4.h7 * j
        , L = d4.Li * j;
      if (1 < V && V < 1.5)
          a = "width:" + e + "px; height:" + L + "px;";
      var g = c.w("span", "thumb gsicon");
      if (E.aon) {
          a += "background: url(" + E.aon + ");";
          if (1 < V && V < 1.5)
              a += "background-size: " + e + "px " + L + "px;"
      } else {
          var I = Math.ceil(FNTS.list.length / d4.cols)
            , h = Math.floor(E.EL / I)
            , o = E.EL % I
            , H = h * d4.h7
            , A = o * d4.Li;
          if (1 < V && V < 1.5) {
              a += "background-size: " + d4.cols * e + "px " + I * L + "px;";
              H *= j;
              A *= j
          }
          a += "background-position:-" + H + "px -" + A + "px;"
      }
      g.setAttribute("style", a);
      N.appendChild(g);
      return N
  }
  ;
  function fA(E) {
      aB.call(this);
      this.j = c.w("button", "fitem bbtn");
      this.j.addEventListener("click", this.a50.bind(this), !1);
      this.px = new aB;
      this.px.j = c.w("div", "floatcont");
      this.px.parent = this;
      this.YT = c.w("div", "flexrow");
      this.px.j.appendChild(this.YT);
      this._7 = [];
      this.gP = [];
      var K = this.YT
        , i = c.w("div", "")
        , C = c.w("div", "");
      K.appendChild(i);
      K.appendChild(C);
      this.Wq = [];
      for (var G = 0; G < FNTS.cats.length; G++)
          this.Wq.push({
              name: FNTS.cats[G],
              index: G,
              m1: 0
          });
      this.dB = new ck([7, 0]);
      this.dB.k(c.E.L, this.a2I, this);
      i.appendChild(this.dB.j);
      this.oT = c.w("div", "vlist marged scrollable");
      this.oT.setAttribute("style", "width:10.85em; height:" + E + "em; ");
      i.appendChild(this.oT);
      this.Gc = [];
      for (var G = 0; G < this.Wq.length; G++) {
          var N = this.Wq[G]
            , k = new ck(N.name);
          this.Gc.push(k);
          k.k(c.E.L, this.a5G, this);
          k.T(!0);
          this.oT.appendChild(k.j);
          this._7.push(1)
      }
      this.abZ = new ck([7, 0]);
      this.abZ.k(c.E.L, this.abJ, this);
      this.Se = c.w("div", "vlist marged scrollable");
      this.Se.setAttribute("style", "width:8.6em; height:" + (E + 1.5) + "em; ");
      C.appendChild(this.Se);
      this.SY = [];
      for (var G = 0; G < FNTS.subsetNames.length; G++) {
          var k = new ck(FNTS.subsetNames[G]);
          this.SY.push(k);
          k.k(c.E.L, this.anw, this);
          k.T(!1);
          this.Se.appendChild(k.j);
          this.gP.push(0)
      }
  }
  fA.prototype = new aB;
  fA.prototype.alg = function(E) {
      var K = this.SY;
      for (var G = 0; G < K.length; G++) {
          var i = (E >>> G & 1) == 1;
          this.gP[G] = i;
          K[G].T(i)
      }
  }
  ;
  fA.prototype.a91 = function() {
      return this.YT
  }
  ;
  fA.prototype.B = function() {
      this.j.textContent = i2.get([25, 1, 0]) + " \u25BC";
      this.dB.B();
      this.abZ.B()
  }
  ;
  fA.prototype.a50 = function(E) {
      var K = this.j.getBoundingClientRect()
        , i = new q(c.E.P,!0);
      i.data = {
          e: c.f.um,
          CP: this.px,
          x: K.left,
          y: K.top + K.height,
          Ra: !1
      };
      this.U(i)
  }
  ;
  fA.prototype.fB = function(E) {
      if (this._7[E[4]] == 0)
          return !1;
      else
          for (var K = 0; K < this.gP.length; K++)
              if (this.gP[K] == 1 && (E[3] >>> K & 1) == 0)
                  return !1;
      return !0
  }
  ;
  fA.prototype.a2I = function(E) {
      var K = E.target.u()
        , i = this.Gc
        , C = this._7;
      for (var G = 0; G < i.length; G++) {
          i[G].T(K);
          C[G] = K ? 1 : 0
      }
      this.U(new q(c.E.L,!1))
  }
  ;
  fA.prototype.abJ = function(E) {
      var K = E.target.u()
        , i = this.SY
        , C = this.gP;
      for (var G = 0; G < i.length; G++) {
          i[G].T(K);
          C[G] = K ? 1 : 0
      }
      this.U(new q(c.E.L,!1))
  }
  ;
  fA.prototype.a5G = function(E) {
      var G = this.Gc.indexOf(E.target)
        , K = this.Wq[G].index;
      this._7[K] = 1 - this._7[K];
      this.U(new q(c.E.L,!1))
  }
  ;
  fA.prototype.anw = function(E) {
      var G = this.SY.indexOf(E.target);
      this.gP[G] = 1 - this.gP[G];
      this.U(new q(c.E.L,!1))
  }
  ;
  function c6(E, K, i) {
      hK.call(this, K, !0, "gradientbutton", 18, 10, dp.vq);
      this.sm = -1;
      this.JT = -1;
      this.al8 = null;
      this.aj9 = E;
      this.vb = i
  }
  c6.prototype = new hK;
  c6.prototype._u = function(E) {
      var K = this.qT;
      this.T(K[this.fL.u()]);
      this.U(new q(c.E.L))
  }
  ;
  c6.prototype.E0 = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.eQ,
          KN: "gradienteditor",
          V: this.e0,
          K2: this.a1G.bind(this),
          RV: this.vb
      };
      this.U(K)
  }
  ;
  c6.prototype.a1G = function(E) {
      this.T(E);
      this.U(new q(c.E.L))
  }
  ;
  c6.prototype.GW = function() {
      if (!this.yi)
          return;
      var E = Math.floor(36 * c.M())
        , K = Math.floor(36 * c.M())
        , i = []
        , C = []
        , N = this.qT;
      for (var G = 0; G < N.length; G++) {
          var k = N[G];
          C.push(k.Nm ? k.Nm.v.split("=").pop() : "");
          var V = u.nS.rP(k, E, K, Math.PI / 4, this.sm, this.JT);
          i.push(V)
      }
      this.fL.Oi(i, C, E, K);
      this.yi = !1
  }
  ;
  c6.prototype.ca = function(E, K) {
      this.FJ(this.e0, E, K)
  }
  ;
  c6.prototype.T = function(E) {
      this.FJ(E, this.sm, this.JT)
  }
  ;
  c6.prototype.FJ = function(E, K, i) {
      this.sm = K;
      this.JT = i;
      if (E == null)
          return;
      var C = JSON.stringify(E)
        , N = C + K + "," + i;
      if (N == this.al8)
          return;
      this.al8 = N;
      this.e0 = JSON.parse(C);
      var k = Math.floor(80 * c.M())
        , V = Math.floor(16 * c.M())
        , j = u.nS.rP(this.e0, k, V, 0, this.sm, this.JT);
      this.li.setAttribute("src", j);
      c.em(this.li, k, V)
  }
  ;
  c6.prototype.u = function() {
      var E;
      if (this.aj9)
          E = u.nS.ad_(this.e0, this.sm, this.JT);
      else
          E = JSON.parse(JSON.stringify(this.e0));
      return E
  }
  ;
  function ed(E) {
      hK.call(this, E, !1, "swatchbutton", 16, 8.75, dp.Q9)
  }
  ed.prototype = new hK;
  ed.prototype._u = function(E) {
      this.T(this.qT[E.target.u()]);
      this.U(new q(c.E.L))
  }
  ;
  ed.prototype.GW = function() {
      if (!this.yi)
          return;
      var E = Date.now()
        , K = Math.floor(10 * c.M())
        , i = Math.floor(10 * c.M())
        , C = []
        , N = []
        , k = this.qT;
      for (var G = 0; G < k.length; G++) {
          N.push(k[G].Qp ? k[G].Qp.split("=").pop() : "");
          C.push(ed.rP(k[G], K, i))
      }
      this.fL.Oi(C, N, K, i);
      this.yi = !1
  }
  ;
  ed.prototype.T = function(E) {
      this.e0 = JSON.parse(JSON.stringify(E));
      this.jC()
  }
  ;
  ed.prototype.jC = function() {
      var E = Math.floor(24 * c.M())
        , K = Math.floor(20 * c.M())
        , i = ed.rP(this.e0, E, K);
      this.li.setAttribute("src", i);
      c.em(this.li, E, K)
  }
  ;
  ed.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.e0))
  }
  ;
  ed.fg = {};
  ed.rP = function(E, K, i) {
      var C = ed.se
        , N = ed.fg
        , k = _.rS(E.h << 16 | E.l << 8 | E.O);
      if (N[k])
          return N[k];
      if (C == null) {
          var V = c.w("canvas");
          C = ed.se = V.getContext("2d")
      }
      var V = C.canvas;
      V.width = K;
      V.height = i;
      C.fillStyle = "#" + k;
      C.fillRect(0, 0, K, i);
      var j = N[k] = V.toDataURL();
      return j
  }
  ;
  function ck(E, K, i) {
      aB.call(this);
      this.j = c.w("span", "fitem cbox");
      if (K == null)
          K = !0;
      if (i == null)
          i = "flabel";
      var C = "cb" + c.o6();
      this.ZR = c.w("input", "");
      this.ZR.setAttribute("type", "checkbox");
      this.ZR.setAttribute("id", C);
      this.j.appendChild(this.ZR);
      this.v7 = E;
      this.Fy = c.w("label", i);
      if (K)
          this.Fy.setAttribute("for", C);
      this.j.appendChild(this.Fy);
      this.B();
      this.ZR.addEventListener("change", this.sc.bind(this), !1)
  }
  ck.prototype = new aB;
  ck.prototype.So = function() {
      return this.v7
  }
  ;
  ck.prototype.KZ = function(E) {
      this.Fy.textContent = E
  }
  ;
  ck.prototype.B = function() {
      var E = this.v7;
      if (typeof E == "string" && E.startsWith("<"))
          this.Fy.innerHTML = E;
      else
          this.Fy.textContent = i2.get(E)
  }
  ;
  ck.prototype.cY = function() {
      this.ZR.checked = !0
  }
  ;
  ck.prototype.$o = function() {
      this.ZR.checked = !1
  }
  ;
  ck.prototype.vV = function() {
      return this.ZR.checked
  }
  ;
  ck.prototype.T = function(E) {
      this.ZR.checked = E
  }
  ;
  ck.prototype.u = ck.prototype.vV;
  ck.prototype.sc = function(E) {
      this.U(new q(c.E.L,!1))
  }
  ;
  function cP(E, K, i, C) {
      aB.call(this);
      this.j = c.w("span", "fitem mbox");
      this.ahJ = i;
      if (E) {
          this.v7 = E;
          this.Fy = c.w("label", "flabel");
          this.j.appendChild(this.Fy)
      }
      this.Qz = K;
      this.Pz = [];
      for (var G = 0; G < K.length; G++) {
          var N = i ? new hO(K[G],!1,C ? C[G] : null) : new ck(K[G],!0,"");
          N.k(i ? "click" : c.E.L, this.sc, this);
          this.Pz.push(N);
          this.j.appendChild(N.j)
      }
      this.B()
  }
  cP.prototype = new aB;
  cP.prototype.T = function(E) {
      for (var K = 0; K < this.Qz.length; K++)
          this.Pz[K].T(E[K])
  }
  ;
  cP.prototype.u = function() {
      var E = [];
      for (var K = 0; K < this.Qz.length; K++)
          E[K] = this.Pz[K].u();
      return E
  }
  ;
  cP.prototype.B = function() {
      if (this.v7)
          this.Fy.innerHTML = i2.get(this.v7) + ": ";
      for (var E = 0; E < this.Pz.length; E++)
          this.Pz[E].B()
  }
  ;
  cP.prototype.sc = function(E) {
      var G = this.Pz.indexOf(E.currentTarget);
      if (this.ahJ)
          this.Pz[G].T(!this.Pz[G].u());
      this.U(new q(c.E.L,!1))
  }
  ;
  function hw(E, K, i, C, N, k) {
      au.call(this, E, K, i, C, N, !1, k);
      this.j.appendChild(this.Fy);
      var V = c.w("span", "rangecont");
      this.j.appendChild(V);
      V.appendChild(this.PC);
      this.j.appendChild(this.ZR);
      this.ZR.setAttribute("style", "width:3.3em");
      if (this.ds)
          this.j.appendChild(this.sq)
  }
  hw.prototype = new au;
  function bP(E, K, i, C) {
      if (E == null)
          E = !1;
      if (K == null)
          K = !1;
      if (i == null)
          i = !1;
      aB.call(this);
      this.mC = new bT;
      this.D$ = new bT;
      this.sV = 72;
      this.Of = 72;
      this.MF = !0;
      this.j = c.w("span", "");
      this.zi = new gI([12, 41],0,0,null,0,!1,!0);
      this.j.appendChild(this.zi.j);
      this.zi.k(c.E.L, this.fR, this);
      var N = ["px", "%"];
      if (E)
          N = N.concat(["mm", "in"]);
      this.yo = new gc(null,N);
      this.j.appendChild(this.yo.j);
      c.eg(this.j);
      this.yo.k(c.E.L, this.fR, this);
      this.nt = new gI([12, 42],0,0,null,0,!1,!0);
      this.j.appendChild(this.nt.j);
      this.nt.k(c.E.L, this.fR, this);
      var k = new hO("\u21F5",!1,null,!0);
      k.k("click", this.adb, this);
      this.mF = new hO("<img src=\"" + PIMG["lrs/chain"] + "\" class=\"autoscale gsicon\" />",!1,[12, 51]);
      this.mF.k("click", this.fR, this);
      this.aoB = new di("");
      if (K) {
          this.j.appendChild(this.mF.j);
          this.j.appendChild(this.aoB.j);
          this.mF.cY()
      } else
          this.j.appendChild(k.j);
      this.GH = new gI("DPI",0,0,null,3,!1,!0,4);
      if (E && C == null) {
          c.eg(this.j);
          this.j.appendChild(this.GH.j)
      }
      this.GH.k(c.E.L, this.fR, this);
      this.Ry = new ck([12, 23, 1]);
      this.Ry.k(c.E.L, this.fR, this);
      if (i) {
          c.eg(this.j);
          this.j.appendChild(this.Ry.j)
      }
      c.eg(this.j)
  }
  bP.prototype = new aB;
  bP.prototype.ahu = function() {
      this.MF = !1;
      if (this.yo.u() == 0) {
          this.yo.T(3);
          this.XF()
      }
  }
  ;
  bP.prototype.a3s = function() {
      this.MF = !0
  }
  ;
  bP.prototype.abC = function(E) {
      this.mF.T(E)
  }
  ;
  bP.prototype.B = function() {
      this.zi.B();
      this.nt.B();
      this.GH.B();
      this.mF.B();
      this.Ry.B()
  }
  ;
  bP.prototype.adb = function(E) {
      var K = this.D$.x;
      this.D$.x = this.D$.y;
      this.D$.y = K;
      this.XF();
      this.U(new q(c.E.L,!1))
  }
  ;
  bP.prototype.fR = function(E) {
      if (E.target == this.yo && !this.MF && this.yo.u() == 0)
          this.yo.T(3);
      if (E.target == this.yo || E.target == this.Ry) {
          this.XF();
          return
      }
      if (E.target == this.mF)
          E.target.T(!E.target.u());
      var K = this.mC
        , i = parseFloat(this.zi.u());
      if (isNaN(i))
          i = 1;
      var C = parseFloat(this.nt.u());
      if (isNaN(C))
          C = 1;
      var N = this.yo.u();
      if (this.MF) {
          var k = this.Of;
          if (N == 1) {
              i = this.mC.x * (i / 100);
              C = this.mC.y * (C / 100)
          }
          var V = [1, 1, 25.4 / k, 1 / k][N];
          i /= V;
          C /= V;
          if (this.Ry.u()) {
              i += this.mC.x;
              C += this.mC.y
          }
          if (E.target == this.GH) {
              var j = this.GH.u();
              if (!0) {
                  var a = j / k;
                  i *= a;
                  C *= a
              }
              k = j
          }
          if (this.mF.u()) {
              if (E.target == this.zi)
                  C = i * (K.y / K.x);
              else
                  i = C * (K.x / K.y)
          }
          i = Math.max(Math.abs(i), 1);
          C = Math.max(Math.abs(C), 1)
      } else {
          var k = this.sV;
          if (E.target == this.GH)
              k = this.GH.u();
          else {
              if (this.mF.u()) {
                  if (E.target == this.zi)
                      C = i * (K.y / K.x);
                  else
                      i = C * (K.x / K.y)
              }
              var V = [1, 1, 25.4 / k, 1 / k][N]
                , e = i / (N == 1 ? 100 : K.x * V);
              k = k / e
          }
          i = K.x;
          C = K.y
      }
      this.D$ = new bT(Math.round(i),Math.round(C));
      this.Of = k;
      this.XF();
      this.U(new q(c.E.L,!1))
  }
  ;
  bP.prototype.a5c = function(G) {
      this.yo.T(G);
      this.XF()
  }
  ;
  bP.prototype.T = function(E, K, i) {
      if (i != !0)
          this.mC = E.clone();
      this.D$ = E.clone();
      if (K != null) {
          this.sV = K;
          this.Of = K
      }
      this.XF()
  }
  ;
  bP.prototype.XF = function() {
      var E = this.D$.x
        , K = this.D$.y
        , i = this.Of
        , C = (E / K).toFixed(3);
      while (C.charAt(C.length - 1) == "0")
          C = C.substring(0, C.length - 1);
      if (C.charAt(C.length - 1) == ".")
          C = C.substring(0, C.length - 1);
      var N = "  " + C + " : 1"
        , k = function(L, g) {
          while (g != 0) {
              var I = g;
              g = L % g;
              L = I
          }
          return L
      }
        , V = k(E, K);
      if (Math.min(E, K) / V < 10)
          N = "  " + Math.round(E / V) + " : " + Math.round(K / V);
      this.aoB.T(N);
      if (this.Ry.u()) {
          E -= this.mC.x;
          K -= this.mC.y
      }
      var j = this.yo.u();
      if (j == 1) {
          if (this.MF) {
              E = 100 * E / this.mC.x;
              K = 100 * K / this.mC.y
          } else {
              E = K = 100 * this.sV / this.Of
          }
      } else {
          E = Math.round(E);
          K = Math.round(K)
      }
      var a = [1, 1, 25.4 / i, 1 / i][j];
      E *= a;
      K *= a;
      var e = j == 1 || j == 3 ? 2 : 0;
      this.zi.K1(e);
      this.nt.K1(e);
      this.zi.T(E);
      this.nt.T(K);
      this.GH.T(i)
  }
  ;
  bP.prototype.u = function() {
      return this.D$.clone()
  }
  ;
  bP.prototype.ru = function() {
      return this.Of
  }
  ;
  function ar() {
      aB.call(this);
      this.c0 = 0;
      this.q_ = [0, 0, 1, 1, 100, 100];
      this.j = c.w("span", "fitem");
      this.u7 = new gc(null,[[12, 89, 0], [12, 89, 1], [12, 89, 2]]);
      this.j.appendChild(this.u7.j);
      this.u7.k(c.E.L, this.fR, this);
      this.zi = new gI("W",0,0,null,0,!1,!0);
      this.j.appendChild(this.zi.j);
      this.zi.k(c.E.L, this.fR, this);
      this.nt = new gI("H",0,0,null,0,!1,!0);
      this.j.appendChild(this.nt.j);
      this.nt.k(c.E.L, this.fR, this);
      this.T({
          yH: 0,
          x: 0,
          y: 0
      })
  }
  ar.prototype = new aB;
  ar.prototype.B = function() {
      c.MX(this.zi, this.nt);
      this.u7.B()
  }
  ;
  ar.prototype.fR = function(E) {
      if (E.target == this.u7) {
          var K = this.u()
            , i = this.q_;
          i[this.c0 * 2] = K.x;
          i[this.c0 * 2 + 1] = K.y;
          this.c0 = K.yH;
          this.T({
              yH: K.yH,
              x: i[K.yH * 2],
              y: i[K.yH * 2 + 1]
          })
      }
      if (this.zi.u() < 1)
          this.zi.T(1);
      if (this.nt.u() < 1)
          this.nt.T(1);
      this.U(new q(c.E.L,!1))
  }
  ;
  ar.prototype.T = function(E) {
      this.u7.T(E.yH);
      this.zi.T(E.x);
      this.nt.T(E.y);
      if (E.yH == 0) {
          this.zi.EF();
          this.nt.EF()
      } else {
          this.zi.lV();
          this.nt.lV()
      }
  }
  ;
  ar.prototype.u = function() {
      return {
          yH: this.u7.u(),
          x: this.zi.u(),
          y: this.nt.u()
      }
  }
  ;
  function di(E, K) {
      aB.call(this);
      this.v7 = E;
      this.j = c.w("span", "labelitem fitem" + (K ? " spread" : ""));
      this.B()
  }
  di.prototype = new aB;
  di.prototype.T = function(E) {
      this.j.textContent = E
  }
  ;
  di.prototype.u = function() {
      return this.j.textContent
  }
  ;
  di.prototype.lV = function() {
      this.j.removeAttribute("disabled")
  }
  ;
  di.prototype.EF = function() {
      this.j.setAttribute("disabled", "")
  }
  ;
  di.prototype.KZ = function(E) {
      this.j.textContent = E
  }
  ;
  di.prototype.B = function() {
      this.j.textContent = i2.get(this.v7)
  }
  ;
  di.prototype.So = function() {
      return this.v7
  }
  ;
  function dC(E) {
      aB.call(this);
      this.j = c.w("span", "");
      this.a94 = E;
      this.EA = new hw("Off X",-100,100,E ? "%" : "px",0,!1);
      this.re = new hw("Off Y",-100,100,E ? "%" : "px",0,!1);
      this.EA.k(c.E.L, this.fR, this);
      this.re.k(c.E.L, this.fR, this);
      this.j.appendChild(this.EA.j);
      this.j.appendChild(this.re.j)
  }
  dC.prototype = new aB;
  dC.prototype.B = function() {
      this.EA.B();
      this.re.B()
  }
  ;
  dC.prototype.fR = function(E) {
      this.U(new q(c.E.L,!1))
  }
  ;
  dC.prototype.ag$ = function(E) {
      this.EA.T(E.x);
      this.re.T(E.y)
  }
  ;
  dC.prototype.afK = function() {
      return new bT(this.EA.u(),this.re.u())
  }
  ;
  dC.prototype.T = function(E, K) {
      var i = E.Hrzn.v
        , C = E.Vrtc.v;
      if (this.a94) {
          i = i.val;
          C = C.val
      }
      this.EA.T(i);
      this.re.T(C);
      if (K)
          this.fR()
  }
  ;
  dC.prototype.u = function() {
      var E = this.EA.u()
        , K = this.re.u();
      if (this.a94)
          return {
              classID: "Pnt",
              Hrzn: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: E
                  }
              },
              Vrtc: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: K
                  }
              }
          };
      else
          return {
              classID: "Pnt",
              Hrzn: {
                  v: E,
                  t: "doub"
              },
              Vrtc: {
                  v: K,
                  t: "doub"
              }
          }
  }
  ;
  function gI(E, K, i, C, N, k, V, j, a) {
      au.call(this, E, K, i, C, N, !0, k, a);
      c.U8(this.j, "rangedropinput");
      this.j.appendChild(this.Fy);
      this.ZR.setAttribute("style", "width:" + (j ? j : 3.3) + "em");
      this.j.appendChild(this.ZR);
      this.anH = c.w("span", "rangecont");
      this.anH.appendChild(this.PC);
      this.fZ = c.w("button");
      this.fZ.innerHTML = "\u25BC";
      c.vo(this.fZ, this.abN.bind(this));
      if (V != !0)
          this.j.appendChild(this.fZ);
      this.$B = new aB;
      this.$B.j = this.anH
  }
  gI.prototype = new au;
  gI.prototype.abN = function(E) {
      if (c.ws(this.$B.j))
          return;
      E.stopPropagation();
      var K = this.j.getBoundingClientRect();
      this.PC.setAttribute("style", "width:" + K.width + "px;");
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.um,
          CP: this.$B,
          x: K.left,
          y: K.top + K.height
      };
      this.U(i)
  }
  ;
  function d$() {
      aB.call(this);
      this.j = c.w("span", "fitem strokebutton");
      this._m = [[null, null, null, ""], [null, 0, null, "4 2"], [1, 1, null, "0 2"]];
      this.Xr = JSON.parse(JSON.stringify(ao.S6.default));
      this.dX = c.w("button");
      this.j.appendChild(this.dX);
      this.dX.addEventListener("click", this.P7.bind(this), !1);
      var E = c.w("canvas", "gsicon");
      this.NE = E.getContext("2d");
      this.dX.appendChild(E);
      var K = c.w("span");
      K.textContent = " \u25BC";
      this.dX.appendChild(K);
      this.px = new aB;
      this.px.parent = this;
      this.px.j = c.w("div", "floatcont form");
      var i = this.px.j;
      i.setAttribute("style", "width: 14em;");
      this.xj = [new gc([12, 40],[[19, 5, 2], [19, 5, 1], [19, 5, 0]]), new eN([19, 9, 0],["<img src=\"" + PIMG["caps/butt"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["caps/round"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["caps/square"] + "\" class=\"autoscale gsicon\" />"]), new eN([19, 9, 1],["<img src=\"" + PIMG["joins/miter"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["joins/round"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["joins/bevel"] + "\" class=\"autoscale gsicon\" />"]), new fN([19, 9, 2])];
      for (var G = 0; G < this.xj.length; G++) {
          var C = this.xj[G];
          i.appendChild(C.j);
          var N = G < 4 ? c.E.L : "click";
          C.k(N, this.fR, this)
      }
      c.eg(i);
      this.qc = [];
      var k = this.ahn.bind(this);
      for (var G = 0; G < this._m.length; G++) {
          var V = c.w("button", "fitem");
          this.qc.push(V);
          i.appendChild(V);
          V.addEventListener("click", k, !1);
          var E = c.w("canvas", "gsicon")
            , j = E.getContext("2d");
          V.appendChild(E);
          this.rM(j, 40, 20, this._m[G])
      }
  }
  d$.prototype = new aB;
  d$.prototype.P7 = function(E) {
      var K = this.dX.getBoundingClientRect()
        , i = new q(c.E.P,!0);
      i.data = {
          e: c.f.um,
          CP: this.px,
          x: K.left,
          y: K.top + K.height + 4
      };
      this.U(i)
  }
  ;
  d$.prototype.fR = function(E) {
      var ee = this.xj
        , K = ee.indexOf(E.target)
        , i = [];
      for (var G = 0; G < 4; G++)
          i.push(ee[G].u());
      this.Xr = this._e(i);
      this.U(new q(c.E.L,!1))
  }
  ;
  d$.prototype.ahn = function(E) {
      var K = this.qc.indexOf(E.currentTarget);
      this.T(this._e(this._m[K]));
      this.U(new q(c.E.L,!1))
  }
  ;
  d$.prototype._e = function(E) {
      var K = JSON.parse(JSON.stringify(this.Xr))
        , i = E[0]
        , C = E[1]
        , N = E[2]
        , k = E[3];
      if (i != null)
          K.strokeStyleLineAlignment.v.strokeStyleLineAlignment = ao.S6.Ee[i];
      if (C != null)
          K.strokeStyleLineCapType.v.strokeStyleLineCapType = ao.S6.mN[C];
      if (N != null)
          K.strokeStyleLineJoinType.v.strokeStyleLineJoinType = ao.S6.join[N];
      var V = K.strokeStyleLineDashSet.v = [];
      k = k.split(" ");
      while ((k.length & 1) != 0)
          k.pop();
      for (var G = 0; G < k.length; G++)
          V.push({
              t: "UntF",
              v: {
                  type: "#Nne",
                  val: parseInt(k[G])
              }
          });
      return K
  }
  ;
  d$.prototype.B = function() {
      for (var G = 0; G < this.xj.length; G++)
          this.xj[G].B()
  }
  ;
  d$.prototype.T = function(E) {
      this.Xr = JSON.parse(JSON.stringify(E));
      var K = ao.S6.Ee.indexOf(E.strokeStyleLineAlignment.v.strokeStyleLineAlignment)
        , i = ao.S6.mN.indexOf(E.strokeStyleLineCapType.v.strokeStyleLineCapType)
        , C = ao.S6.join.indexOf(E.strokeStyleLineJoinType.v.strokeStyleLineJoinType)
        , N = []
        , k = E.strokeStyleLineDashSet.v;
      for (var V = 0; V < k.length; V++)
          N.push(k[V].v.val);
      var ee = this.xj;
      ee[0].T(K);
      ee[1].T(i);
      ee[2].T(C);
      ee[3].T(N.join(" "));
      var j = [];
      for (var G = 0; G < 4; G++)
          j.push(ee[G].u());
      this.rM(this.NE, 40, 16, j)
  }
  ;
  d$.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.Xr))
  }
  ;
  d$.prototype.rM = function(E, K, i, C) {
      var N = C[0]
        , k = C[1]
        , V = C[2]
        , j = C[3].split(" ").map(parseFloat);
      c.Xh(E.canvas, K, i);
      var a = Math.min(5, this.Xr.strokeStyleLineWidth.v.val);
      for (var G = 0; G < j.length; G++)
          j[G] *= a;
      E.clearRect(0, 0, K, i);
      E.setLineDash(j);
      E.lineCap = ["butt", "round", "square"][k];
      E.lineJoin = ["miter", "round", "bevel"][V];
      E.lineWidth = a;
      E.beginPath();
      E.moveTo(0, i / 2);
      E.lineTo(K * 2, i / 2);
      E.stroke()
  }
  ;
  function f3(E) {
      hK.call(this, E, !1, "contourbutton", 34, 16, dp.ur);
      this.DA = new fN([12, 86],null,16);
      this.DA.k("input", this.gt, this);
      this.px.j.appendChild(this.DA.j);
      this.nc = null;
      this.nX = "";
      this.zO = null;
      this.T(dq.Sk())
  }
  f3.prototype = new hK;
  f3.prototype.B = function() {
      hK.prototype.B.call(this);
      this.DA.B()
  }
  ;
  f3.prototype._u = function(E) {
      this.T(this.nc[E.target.u()]);
      this.U(new q(c.E.L))
  }
  ;
  f3.prototype.gt = function(E) {
      this.nX = this.DA.u().toLowerCase();
      this.Kr()
  }
  ;
  f3.sg = !1;
  f3.prototype.GW = function() {
      if (!this.yi)
          return;
      var E = this.qT;
      if (E == null || !f3.sg) {
          var K = new q(c.E.P,!0);
          K.data = {
              e: c.f.$N,
              KG: {
                  url: "rsrc/basic/fa_basic.csh"
              }
          };
          this.U(K);
          f3.sg = !0
      } else {
          var i = Math.floor(38 * c.M())
            , C = Math.floor(38 * c.M());
          this.zO = [];
          for (var G = 0; G < E.length; G++)
              this.zO.push(f3._K(E[G], i, C));
          this.Kr();
          this.yi = !1
      }
  }
  ;
  f3.prototype.Kr = function() {
      var E = Math.floor(38 * c.M())
        , K = Math.floor(38 * c.M());
      this.nc = [];
      var i = []
        , C = []
        , N = this.qT;
      for (var G = 0; G < N.length; G++) {
          if (N[G].vA.toLowerCase().indexOf(this.nX) == -1)
              continue;
          this.nc.push(N[G]);
          i.push(this.zO[G]);
          C.push(N[G].vA)
      }
      this.fL.Oi(i, C, E, K)
  }
  ;
  f3.prototype.T = function(E) {
      this.e0 = f3.clone(E);
      this.jC()
  }
  ;
  f3.prototype.jC = function() {
      var E = Math.floor(23 * c.M())
        , K = Math.floor(23 * c.M())
        , i = f3._K(this.e0, E, K);
      this.li.setAttribute("src", i);
      c.em(this.li, E, K)
  }
  ;
  f3.prototype.u = function() {
      return f3.clone(this.e0)
  }
  ;
  f3.clone = function(E) {
      return {
          vA: E.vA,
          SV: E.SV,
          b: U.ql.MD(E.b),
          J8: E.J8.clone()
      }
  }
  ;
  f3.n4 = null;
  f3.ke = null;
  f3._K = function(E, K, i) {
      var C = U.ql.MD(E.b)
        , N = E.J8
        , k = Math.min(K / N.d, i / N.v) * .9
        , V = new fn;
      V.translate(-.5, -.5);
      V.scale(.95, .95);
      V.translate(.5, .5);
      V.scale(k * N.d, k * N.v);
      _.Y.aW(C, V);
      var j = new U.ql;
      j.b = C;
      var a = j.$Y();
      a.rect.x = Math.floor((K - a.rect.d) / 2);
      a.rect.y = Math.floor((i - a.rect.v) / 2);
      var e = _.I(a.rect.X() * 4);
      _.EE(e, 4278190080);
      _.KP(a.channel);
      _.lM(a.channel, e, 0);
      _.lM(a.channel, e, 1);
      _.lM(a.channel, e, 2);
      var L = f3;
      if (L.n4 == null)
          L.n4 = c.w("canvas");
      var g = L.n4
        , I = g.getContext("2d");
      if (g.width != K || g.height != i || L.ke == null) {
          g.width = K;
          g.height = i;
          L.ke = I.createImageData(K, i)
      }
      var h = L.ke;
      _.EE(h.data, 4294967295);
      _.p8(e, a.rect, h.data, new h4(0,0,K,i));
      I.putImageData(h, 0, 0);
      return g.toDataURL()
  }
  ;
  function dY(E) {
      hK.call(this, E, !1, "ICCButton", 16, 12, dp.dw, !0);
      this.fL.Lt(1)
  }
  dY.prototype = new hK;
  dY.prototype.$H = function() {
      var E = "Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
      for (var G = 0; G < E.length; G++)
          E[G] = "luts/" + E[G] + ".CUBE";
      return E
  }
  ;
  dY.prototype._u = function(E) {
      this.T(this.qT[E.target.u()]);
      this.U(new q(c.E.L))
  }
  ;
  dY.prototype.GW = function() {
      if (!this.yi)
          return;
      var E = Math.floor(1 * c.M())
        , K = Math.floor(1 * c.M())
        , i = []
        , C = []
        , N = this.qT;
      for (var G = 0; G < N.length; G++) {
          var k = N[G].Nm.v.split("\\").pop().split("/").pop();
          C.push(k);
          i.push(dY.rP(N[G], E, K))
      }
      this.fL.Oi(i, C, E, K);
      this.yi = !1
  }
  ;
  dY.prototype.T = function(E) {
      this.e0 = JSON.parse(JSON.stringify(E));
      this.jC()
  }
  ;
  dY.rP = function(E, K, i) {
      var C = c.w("canvas")
        , V = "ICC / 3DL / look / cube";
      C.width = K;
      C.height = i;
      var N = C.getContext("2d")
        , k = Math.floor(14 * c.M());
      N.font = k + "px sans-serif";
      if (E.Nm)
          V = E.Nm.v.split("\\").pop().split("/").pop();
      N.fillText(V, 10, k);
      return C.toDataURL()
  }
  ;
  dY.prototype.jC = function() {
      var E = Math.floor(120 * c.M())
        , K = Math.floor(20 * c.M());
      this.li.setAttribute("src", dY.rP(this.e0, E, K));
      c.em(this.li, E, K)
  }
  ;
  dY.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.e0))
  }
  ;
  function f8() {
      aB.call(this);
      this.Kz = null;
      this.j = c.w("span", "fitem");
      this.Ji = new hJ([14, 9]);
      this.A3 = new gI(null,0,150,"pt",1,!0,null,null,[19, 2, 5]);
      this.Pn = new d$;
      this.Cd = [this.Ji, this.A3, this.Pn];
      for (var G = 0; G < this.Cd.length; G++) {
          var E = this.Cd[G];
          this.j.appendChild(E.j);
          E.parent = this;
          E.k(c.E.L, this.fR, this)
      }
  }
  f8.prototype = new aB;
  f8.prototype.B = function() {
      for (var G = 0; G < this.Cd.length; G++)
          this.Cd[G].B()
  }
  ;
  f8.prototype.bX = function(E, K) {
      this.Ji.bX(E, K)
  }
  ;
  f8.prototype.fR = function(E) {
      var K = this.Kz
        , i = this.Ji.u()
        , C = i.K8;
      K.strokeEnabled.v = C != 0;
      if (C != 0) {
          K.strokeStyleContent.v = i.ja;
          i.ja.classID = ao.S6.gk[C - 1]
      }
      K.strokeStyleLineWidth.v.val = this.A3.u();
      if (E.target == this.Pn)
          K = this.Pn.u();
      this.Kz = K;
      this.U(new q(c.E.L,!1))
  }
  ;
  f8.prototype.T = function(E, K, i) {
      this.Kz = JSON.parse(JSON.stringify(K));
      var C = K.strokeEnabled.v
        , N = K.strokeStyleContent.v
        , k = C ? {
          K8: 1 + ao.S6.gk.indexOf(N.classID),
          ja: N
      } : {
          K8: 0
      };
      this.Ji.T(E, k, i);
      this.A3.T(K.strokeStyleLineWidth.v.val);
      this.Pn.T(K)
  }
  ;
  f8.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.Kz))
  }
  ;
  function gH(E) {
      aB.call(this);
      this.j = c.w("span", "fitem");
      this.cW = null;
      if (E) {
          this.cW = new di("");
          this.j.appendChild(this.cW.j)
      }
      this.SL = ["front", "union", "difference", "intersection"];
      var K = [[18, 0], [18, 1], [18, 2], [18, 3]];
      this.bM = [];
      this.wG = 0;
      for (var G = 0; G < this.SL.length; G++) {
          var i = new hO("<img src=\"" + PIMG["set/" + this.SL[G]] + "\" class=\"autoscale gsicon\" />",!1,K[G]);
          i.k("click", this.aj6, this);
          this.j.appendChild(i.j);
          this.bM.push(i)
      }
      this.bM[0].cY()
  }
  gH.prototype = new aB;
  gH.prototype.ahT = function() {
      return this.wG
  }
  ;
  gH.prototype.u = function() {
      return this.SL[this.wG]
  }
  ;
  gH.prototype.T = function(E) {
      this.wG = this.SL.indexOf(E);
      for (var G = 0; G < this.bM.length; G++)
          this.bM[G].$o();
      this.bM[this.wG].cY()
  }
  ;
  gH.prototype.aj6 = function(E) {
      this.T(this.SL[this.bM.indexOf(E.currentTarget)]);
      this.U(new q(c.E.L,!1))
  }
  ;
  gH.prototype.B = function() {
      if (this.cW)
          this.cW.T(i2.get([12, 36]) + ":");
      for (var G = 0; G < this.bM.length; G++)
          this.bM[G].B()
  }
  ;
  function fN(E, K, i, C) {
      aB.call(this);
      var N = c.o6()
        , k = "";
      this.j = c.w("span", "fitem tinput");
      if (E) {
          this.v7 = E;
          this.Fy = c.w("label", "flabel");
          this.j.appendChild(this.Fy);
          this.Fy.setAttribute("for", N);
          this.B()
      }
      if (C == null) {
          this.ZR = c.w("input", "");
          this.ZR.setAttribute("type", "text")
      } else
          this.ZR = c.w("textarea", "scrollable");
      this.ZR.setAttribute("id", N);
      if (i)
          k += "width:" + i + "em;";
      if (C) {
          this.ZR.setAttribute("rows", C)
      }
      if (k != "")
          this.ZR.setAttribute("style", k);
      this.j.appendChild(this.ZR);
      if (K) {
          this.sq = c.w("span", "");
          this.sq.textContent = K;
          this.j.appendChild(this.sq)
      }
      this.ZR.addEventListener("change", this.sc.bind(this), !1);
      this.ZR.addEventListener("input", this.agG.bind(this), !1)
  }
  fN.prototype = new aB;
  fN.prototype.B = function() {
      if (this.v7)
          this.Fy.textContent = i2.get(this.v7) + ":"
  }
  ;
  fN.prototype.KZ = function(E) {
      this.Fy.textContent = E
  }
  ;
  fN.prototype.T = function(E) {
      this.ZR.value = E == null ? "" : E
  }
  ;
  fN.prototype.u = function() {
      return this.ZR.value
  }
  ;
  fN.prototype.QO = function() {
      this.ZR.select();
      this.ZR.focus()
  }
  ;
  fN.prototype.sc = function(E) {
      this.U(new q(c.E.L,!1))
  }
  ;
  fN.prototype.agG = function(E) {
      this.U(new q("input",!1))
  }
  ;
  function hk(E, K, i, C, N, k, V) {
      au.call(this, E, K, i, C, N, !0, k, null, V);
      c.U8(this.j, "trangeinput");
      this.j.appendChild(this.Fy);
      this.j.appendChild(this.ZR);
      var j = c.w("span", "rangecont");
      this.j.appendChild(j);
      j.appendChild(this.PC);
      this.PC.setAttribute("style", "width:97%;")
  }
  hk.prototype = new au;
  function gO() {
      aB.call(this);
      this.dI = [16, !0, !0];
      this.j = c.w("span", "");
      this.hn = [new gI([12, 24],0,255), new ck("Anti-alias"), new ck([12, 25])];
      for (var G = 0; G < 3; G++) {
          var E = this.hn[G];
          E.parent = this;
          E.T(this.dI[G]);
          this.j.appendChild(E.j);
          E.k(c.E.L, this.fR, this)
      }
  }
  gO.prototype = new aB;
  gO.prototype.fR = function() {
      for (var G = 0; G < 3; G++)
          this.dI[G] = this.hn[G].u();
      this.U(new q(c.E.L,!1))
  }
  ;
  gO.prototype.T = function(E) {
      this.dI = E.slice(0);
      for (var G = 0; G < 3; G++)
          this.hn[G].T(E[G])
  }
  ;
  gO.prototype.u = function() {
      return this.dI.slice(0)
  }
  ;
  gO.prototype.B = function() {
      for (var G = 0; G < 3; G++)
          this.hn[G].B()
  }
  ;
  function fL(E, K) {
      aB.call(this);
      if (K == null)
          K = !1;
      this.zO = [];
      this.adW = 0;
      this.aao = 0;
      this.D8 = 0;
      this.xt = [];
      this.z2 = [];
      for (var i in _.oC.type) {
          if (i == "warpCustom" && !K)
              continue;
          this.xt.push(i);
          this.z2.push(_.oC.type[i])
      }
      this.j = c.w("span", "fitem warpbutton");
      this.px = new aB;
      this.px.j = c.w("div", "floatcont");
      if (E) {
          this.cW = E;
          this.Fy = c.w("label", "flabel");
          this.j.appendChild(this.Fy)
      }
      this.e = c.w("button");
      this.j.appendChild(this.e);
      this.e.addEventListener("click", this.P7.bind(this), !1);
      this.dU = new aV(!0);
      this.px.j.appendChild(this.dU.j);
      this.dU.k(c.E.L, this.aba, this);
      this.B()
  }
  fL.prototype = new aB;
  fL.prototype.KZ = function(E) {
      this.Fy.textContent = E
  }
  ;
  fL.prototype.B = function() {
      if (this.cW)
          this.Fy.innerHTML = i2.get(this.cW) + ":";
      this.zO = [];
      var E = c.w("canvas", "")
        , K = E.getContext("2d")
        , i = 0;
      K.font = Math.floor(13 * c.M()) + "px sans-serif";
      for (var G = 0; G < this.xt.length; G++) {
          i = Math.max(i, K.measureText(i2.get(_.oC.type[this.xt[G]])).width)
      }
      var C = this.adW = Math.floor(50 * c.M() + i)
        , N = this.aao = Math.floor(23 * c.M());
      E.width = C;
      E.height = N;
      this.px.j.setAttribute("style", "width:" + Math.floor(8 + C / c.M()) + "px;");
      K.font = Math.floor(13 * c.M()) + "px sans-serif";
      K.lineWidth = 1;
      K.strokeStyle = "#000000";
      var k = Math.floor(16 * c.M())
        , V = new h4(0,0,k,k);
      for (var G = 0; G < this.xt.length; G++) {
          var j = this.xt[G];
          K.clearRect(0, 0, E.width, E.height);
          var a = _.oC.oC(V, j, !0, .3, 0, 0)
            , e = _.$.X6(V);
          e.Z.push("M", "L", "M", "L");
          e.H.push(0, k / 2, k, k / 2);
          e.H.push(k / 2, 0, k / 2, k);
          e = _.$.Eq(e);
          e = _.$.Ye(e, k / 5);
          _.cP.apply(a, e.H, V);
          _.$.m(e.H, new fn(1,0,0,1,Math.floor(8 * c.M()) + .5,Math.floor(3 * c.M()) + .5), e.H);
          K.beginPath();
          Typr.U.pathToContext({
              cmds: e.Z,
              crds: e.H
          }, K);
          K.stroke();
          K.fillText(i2.get(_.oC.type[j]), Math.floor(40 * c.M()), Math.floor(16 * c.M()));
          this.zO.push(E.toDataURL())
      }
      this.dU.Oi(this.zO, null, C, N);
      this.jC()
  }
  ;
  fL.prototype.P7 = function(E) {
      var K = this.e.getBoundingClientRect()
        , i = new q(c.E.P,!0);
      i.data = {
          e: c.f.um,
          CP: this.px,
          x: K.left,
          y: K.top + K.height + 4
      };
      this.U(i)
  }
  ;
  fL.prototype.aba = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.sb,
          CP: this.px
      };
      this.U(K);
      this.D8 = E.target.u();
      this.jC();
      this.U(new q(c.E.L))
  }
  ;
  fL.prototype.jC = function() {
      this.dU.qL(this.D8);
      this.e.innerHTML = "<img src=\"" + this.zO[this.D8] + "\" class=\"gsicon\" />";
      var E = this.adW
        , K = this.aao;
      c.em(this.e.firstChild, E, K)
  }
  ;
  fL.prototype.u = function() {
      return this.xt[this.D8]
  }
  ;
  fL.prototype.T = function(E) {
      this.D8 = this.xt.indexOf(E);
      this.jC()
  }
  ;
  function fO(E, K, i) {
      aB.call(this);
      if (E == null)
          E = !1;
      if (K == null)
          K = !1;
      if (i == null)
          i = !1;
      this.a8t = K;
      this.oC = null;
      this.tI = new fL([12, 22],i);
      this.tI.parent = this;
      this.tI.k(c.E.L, this.dm, this);
      this.NR = new gc([22, 0],[[22, 4, 0], [22, 4, 1]]);
      this.NR.k(c.E.L, this.dm, this);
      var C = E ? gI : hk;
      this.JS = new C([22, 1],-100,100,"%");
      this.XR = new C("Horizontal Distortion:",-100,100,"%");
      this.Co = new C("Vertical Distortion:",-100,100,"%");
      this.JS.parent = this.XR.parent = this.Co.parent = this;
      this.JS.k(c.E.L, this.dm, this);
      this.XR.k(c.E.L, this.dm, this);
      this.Co.k(c.E.L, this.dm, this)
  }
  fO.prototype = new aB;
  fO.prototype.B = function() {
      this.tI.B();
      this.NR.B();
      this.JS.B();
      var E = this.a8t ? 1 : 100;
      this.XR.KZ(i2.get([22, 2]).substring(0, E) + ":");
      this.Co.KZ(i2.get([22, 3]).substring(0, E) + ":")
  }
  ;
  fO.prototype.dm = function() {
      var E = this.oC
        , K = this.tI.u()
        , i = E.warpStyle.v.warpStyle;
      if (K == "warpCustom")
          _.oC.vr(_.oC.T4(E), E);
      else
          delete E.customEnvelopeWarp;
      E.warpStyle.v.warpStyle = this.tI.u();
      E.warpRotate.v.Ornt = ["Hrzn", "Vrtc"][this.NR.u()];
      E.warpValue.v = this.JS.u();
      E.warpPerspective.v = this.XR.u();
      E.warpPerspectiveOther.v = this.Co.u();
      if (K == "warpNone" || K == "warpCustom") {
          E.warpValue.v = 0;
          E.warpPerspective.v = 0;
          E.warpPerspectiveOther.v = 0
      } else if (i == "warpNone" || i == "warpCustom")
          E.warpValue.v = 50;
      this.U(new q(c.E.L,!1));
      this.T(E)
  }
  ;
  fO.prototype.u = function(E) {
      return JSON.parse(JSON.stringify(this.oC))
  }
  ;
  fO.prototype.T = function(E) {
      this.oC = JSON.parse(JSON.stringify(E));
      this.tI.T(E.warpStyle.v.warpStyle);
      this.NR.T(E.warpRotate.v.Ornt == "Hrzn" ? 0 : 1);
      this.JS.T(E.warpValue.v);
      this.XR.T(E.warpPerspective.v);
      this.Co.T(E.warpPerspectiveOther.v);
      var K = E.warpStyle.v.warpStyle
        , i = K == "warpNone" || K == "warpCustom"
        , C = [this.NR, this.JS, this.XR, this.Co];
      for (var G = 0; G < C.length; G++)
          if (i)
              C[G].EF();
          else
              C[G].lV()
  }
  ;
  function a4(E) {
      aB.call(this);
      this.j = c.w("div");
      this.wQ = E;
      this.X4 = null;
      this.YF = new bT(0,0);
      this.mt = "position:relative;overflow:hidden;";
      this.HO = null;
      this.EG = new c.F0(this.j);
      this.PO("grab");
      this.aR = c.w("canvas", "canv");
      this.j.appendChild(this.aR);
      this.NE = this.aR.getContext("2d");
      this.aec = null;
      this.vM = null;
      this.jO = null;
      this.lW = 0;
      this.N9 = 0;
      this.D7 = 0;
      this.abe = this.Z3.bind(this);
      this.am$ = null;
      this.a = new gJ({
          d: 1,
          v: 1
      });
      this.Pm = null;
      this.gN = null;
      this.aeI = this.bC.bind(this);
      this.a3V = this.BT.bind(this);
      this.a2d = this.nW.bind(this);
      this.abE = this.nJ.bind(this);
      this.ach = 0;
      this.ej = null;
      this.cF(this.aR);
      this.H9(this)
  }
  a4.prototype = new aB;
  a4.prototype.Ok = function(E) {
      var K = this.HO
        , i = null;
      if (E.q(w.NV)) {
          i = "grab";
          if (E.q(w.qN)) {
              i = "zoom-in";
              if (E.q(w.zA))
                  i = "zoom-out"
          }
      }
      this.X4 = i;
      if (i)
          K = i;
      this.EG.MN(K, this.mt);
      if (E.q(w.qN)) {
          var C = 0;
          if (E.q(w.Va))
              C = 1;
          if (E.q(w.ih))
              C = -1;
          if (C != 0) {
              this.n5(new bT(this.aR.width / 2,this.aR.height / 2), C == 1)
          }
      }
  }
  ;
  a4.prototype.PO = function(E) {
      this.HO = E;
      if (this.X4)
          return;
      this.EG.MN(E, this.mt)
  }
  ;
  a4.prototype.cF = function(E) {
      c.vo(E, this.aeI);
      c.pq(E);
      E.addEventListener("wheel", this.abE, !1)
  }
  ;
  a4.prototype.H9 = function(E) {
      E.k("viewchange", this.ac_, this)
  }
  ;
  a4.prototype.ac_ = function(E) {
      var K = this.a.S
        , i = E.currentTarget.iD();
      this.a.S = i.S;
      this.a.i = i.i.clone();
      if (K != i.S)
          this.fs();
      this.ry()
  }
  ;
  a4.prototype.iD = function() {
      return {
          S: this.a.S,
          i: this.a.i
      }
  }
  ;
  a4.prototype.T = function(E, K) {
      var i = E[0].UP;
      if (this.vM != null && this.vM[0].UP.Ql(i)) {} else {
          this.a.uY = {
              d: i.d,
              v: i.v
          };
          this.a.i = new bT(0,0);
          this.a.S = 1
      }
      this.vM = E;
      this.fs();
      this.Vx();
      this.lW = 0;
      this.N9 = 0;
      this.D7 = K == null ? 0 : K;
      this.Z3()
  }
  ;
  a4.prototype.nJ = function(E) {
      E.preventDefault();
      if (E.deltaY == 0 || Date.now() - this.ach < 100)
          return;
      var K = c.DX(E);
      K.x = c.M() * K.x;
      K.y = c.M() * K.y;
      this.ach = Date.now();
      this.n5(K, E.deltaY < 0)
  }
  ;
  a4.prototype.n5 = function(E, K) {
      u.z5.sC(this.a, E, K);
      this.mg()
  }
  ;
  a4.prototype.alD = function() {
      var E = this.a
        , K = E.uY;
      this.a.S = u.z5.Kd(K.d, K.v, E.DK.d, E.DK.v);
      this.mg()
  }
  ;
  a4.prototype.mg = function() {
      this.fs();
      this.U(new q("viewchange"));
      this.U(new q("zoom"))
  }
  ;
  a4.prototype.fs = function() {
      this.jO = [];
      var E = this.a.S;
      for (var G = 0; G < this.vM.length; G++) {
          var K = this.vM[G], i = new Uint8Array(K.data), C;
          if (E >= 1)
              C = {
                  OR: i,
                  rect: K.UP
              };
          else
              C = _.alG(i, K.UP, E);
          this.jO.push(C)
      }
  }
  ;
  a4.prototype.Vx = function() {
      clearTimeout(this.am$)
  }
  ;
  a4.prototype.ry = function() {
      if (this.vM == null || !c.ws(this.aR))
          return;
      var E = this.aec, K = this.aR.width, i = this.aR.height, o, H;
      if (E == null || E.width != K || E.height != i) {
          E = this.aec = this.NE.createImageData(K, i);
          console.log("creating image data")
      }
      var C = this.vM[this.lW]
        , N = this.jO[this.lW]
        , k = this.a
        , V = k.uY
        , j = k.DK
        , a = j.d
        , e = j.v
        , L = V.d * k.S
        , g = V.v * k.S
        , I = Math.round((a - L) / 2 + k.i.x)
        , h = Math.round((e - g) / 2 + k.i.y);
      if (k.S <= 1) {
          H = N.rect.clone();
          H.x = I;
          H.y = h;
          L = H.d;
          g = H.v;
          o = N.OR
      } else {
          var A = 1 / k.S
            , S = new h4(Math.floor((j.x - I) * A),Math.floor((j.y - h) * A),Math.ceil(j.d * A) + 1,Math.ceil(j.v * A) + 1)
            , v = new h4(0,0,S.d * k.S,S.v * k.S);
          v.x = S.x * k.S + I;
          v.y = S.y * k.S + h;
          if (k.JB == null || k.JB.length != S.X() * 4) {
              k.JB = _.I(S.X() * 4)
          }
          if (k.hC == null || k.hC.length != v.X() * 4) {
              k.hC = _.I(v.X() * 4)
          }
          _.EE(k.JB, 0);
          _.p8(N.OR, N.rect, k.JB, S);
          _.scale.OB(k.JB, S.d, S.v, k.hC, v.d, v.v, k.S);
          o = k.hC;
          H = v
      }
      var s = new Uint8Array(E.data.buffer);
      _.ux(s, a, e, 8, -I, -h);
      _.p.JA("norm", o, H, s, j, j, 1);
      this.NE.setTransform(1, 0, 0, 1, 0, 0);
      this.NE.putImageData(E, 0, 0);
      this.NE.clearRect(I - 1e3, h, 1e3, g);
      this.NE.clearRect(I + L, h, 1e3, g);
      this.NE.clearRect(I - 1e3, h - 1e3, L + 2e3, 1e3);
      this.NE.clearRect(I - 1e3, h + g, L + 2e3, 1e3);
      var D = a4.jo(k.S, "#ffffff");
      this.NE.putImageData(D, 0, k.DK.v - D.height)
  }
  ;
  a4.wo = {};
  a4.jo = function(E, K) {
      var i = "z" + E + "," + K
        , C = a4.wo[i];
      if (C)
          return C;
      var N = Math.round(50 * c.M())
        , k = Math.round(18 * c.M())
        , V = c.w("canvas")
        , j = V.getContext("2d");
      V.width = N;
      V.height = k;
      j.fillStyle = "rgba(1,1,1,1)";
      j.fillRect(0, 0, N, k);
      j.font = Math.round(11 * c.M()) + "px monospace";
      j.fillStyle = K;
      var a = E * 100;
      if (a < 100)
          a = a.toFixed(2);
      else
          a = Math.round(a);
      a = a + "%";
      var e = j.measureText(a).width;
      j.fillText(a, (N - e) / 2, Math.round(k * .7));
      C = a4.wo[i] = j.getImageData(0, 0, N, k);
      return C
  }
  ;
  a4.prototype.Z3 = function() {
      var E = this.vM
        , K = E.length
        , i = this.lW
        , C = this.vM[i]
        , N = (i + 1) % K;
      this.ry();
      if (K != 1 && E[N].UP.Ql(C.UP)) {
          var k = C.Ho ? parseInt(C.Ho.split(",").pop()) : 30;
          if (k == 0)
              k = 16;
          if (N == 0)
              this.N9++;
          if (this.D7 == 0 || this.N9 < this.D7)
              this.am$ = setTimeout(this.abe, k)
      }
      this.lW = N
  }
  ;
  a4.prototype.FY = function(E, K) {
      if (E <= 0 || K <= 0)
          return;
      var i = Math.floor(E * c.M())
        , C = Math.floor(K * c.M());
      this.a.DK = new h4(0,0,i,C);
      this.aR.width = i;
      this.aR.height = C;
      this.aR.setAttribute("style", "width:" + i / c.M() + "px; height:" + C / c.M() + "px; display:block;");
      this.ry()
  }
  ;
  a4.prototype.bC = function(E) {
      this.ej = E.target;
      c.ys(window, this.a3V);
      c.vL(window, this.a2d);
      this.Pm = c.DX(E, this.aR);
      this.Pm.x *= c.M();
      this.Pm.y *= c.M();
      this.YF = this.Pm;
      this.gN = this.a.i.clone();
      if (this.wQ && this.ej == this.aR && !this.X4)
          this.U(new q("mousedown"))
  }
  ;
  a4.prototype.BT = function(E) {
      var K = this.a
        , i = this.X4
        , C = this.vM[this.lW].UP.clone();
      C.d *= K.S;
      C.v *= K.S;
      var N = c.DX(E, this.aR);
      N.x *= c.M();
      N.y *= c.M();
      this.YF = N;
      if (this.wQ && this.ej == this.aR && !i)
          this.U(new q("mousemove"));
      else if ((i == "grab" || i == null) && !K.DK.rp(C)) {
          var k = N.x - this.Pm.x
            , V = N.y - this.Pm.y;
          K.i.x = this.gN.x + Math.round(k);
          K.i.y = this.gN.y + Math.round(V);
          this.U(new q("viewchange"))
      }
  }
  ;
  a4.prototype.nW = function(E) {
      c.sI(window, this.a3V);
      c.qU(window, this.a2d);
      var K = this.X4;
      if (E.detail > 1) {
          this.a.S = 1;
          this.a.i.Wm(0, 0);
          this.ry()
      }
      if (this.wQ && this.ej == this.aR && !this.X4)
          this.U(new q("mouseup"));
      else {
          if (K == "zoom-in" || K == "zoom-out")
              this.n5(this.YF, K == "zoom-in")
      }
  }
  ;
  a4.prototype.mT = function() {
      return this.a.Eb(this.YF.x, this.YF.y)
  }
  ;
  function hq() {
      aB.call(this);
      this.Ip = null;
      this.V0 = null;
      this.a7 = null;
      this.Ch = null;
      this.a6j = "";
      this.uW = [];
      this.iZ = 0;
      this.qn = [];
      this.bl = 0;
      this.Mi = null;
      var E = this.j = c.w("div", "")
        , K = this.a8r = c.w("div", "form");
      K.setAttribute("style", "line-height:0; margin-bottom:0.5em;");
      E.appendChild(K);
      var i = this.cW = c.w("span");
      K.appendChild(i);
      i.setAttribute("style", "font-size:1.2em; font-weight:bold; margin-right:3em;");
      var C = this.aay = new ck([25, 2, 0]);
      C.T(!0);
      K.appendChild(C.j);
      C.k(c.E.L, this.jp, this);
      var N = this.MU = new ck([25, 2, 1]);
      N.T(!0);
      K.appendChild(N.j);
      N.k(c.E.L, this.jp, this);
      var k = new di(" ");
      K.appendChild(k.j);
      var V = this.zm = new fN([25, 1, 1]);
      K.appendChild(V.j);
      V.k(c.E.L, this.jp, this);
      this.AT = new fA(14);
      this.AT.alg(3);
      K.appendChild(this.AT.j);
      this.AT.parent = this;
      this.AT.k(c.E.L, this.aoK, this);
      var j = this.abT = new hO([25, 1, 2],null,null,!0);
      K.appendChild(j.j);
      j.k("click", this.eh, this);
      this.anr = this.a9t.bind(this);
      this.hE = c.w("div", "svggallery scrollable");
      E.appendChild(this.hE);
      this.hE.addEventListener("scroll", this.ago.bind(this))
  }
  hq.prototype = new aB;
  hq.prototype.bX = function(E) {
      this.a3Q = E
  }
  ;
  hq.prototype.B = function() {
      this.cW.textContent = i2.get([25, 0]);
      this.AT.B();
      this.aay.B();
      this.MU.B();
      this.zm.B();
      this.abT.B()
  }
  ;
  hq.prototype.FY = function(E, K) {
      K -= 26;
      this.Ip = new bT(E,K);
      this.a8r.setAttribute("style", "width:" + E + "px");
      this.hE.setAttribute("style", "width:" + E + "px; height:" + K + "px");
      if (c.ws(this.j))
          this.jp()
  }
  ;
  hq.prototype.T = function(E) {
      this.V0 = E;
      this.jp()
  }
  ;
  hq.prototype.ago = function(E) {
      var K = this.hE;
      if (K.scrollTop + K.clientHeight + 10 >= K.scrollHeight) {
          this.jp(!0)
      }
  }
  ;
  hq.prototype.aoK = function(E) {
      this.a7 = null;
      this.jp()
  }
  ;
  hq.prototype.a9t = function(E) {
      if (Date.now() - this.bl < 2e3)
          return;
      this.bl = Date.now();
      this.iZ = this.qn.indexOf(E.currentTarget);
      var K = this.r3(this.V0.x, this.V0.y);
      if (K[1]) {
          var i = K[1].largeImageURL
            , C = new XMLHttpRequest;
          C.responseType = "arraybuffer";
          C.open("GET", i, !0);
          C.onload = this.anR.bind(this);
          C.send();
          return
      }
      this.kl(K)
  }
  ;
  hq.prototype.anR = function(E) {
      var K = E.target.response
        , i = fb.e1(K)
        , C = fb.vG(i)
        , N = C.VA(K)
        , k = this.r3(this.V0.x, this.V0.y, [K, N[0].UP.d, N[0].UP.v]);
      this.kl(k)
  }
  ;
  hq.prototype.kl = function(E) {
      var K = E[0]
        , i = fb.e1(K)
        , C = fb.vG(i)
        , N = new bl("template.psd");
      C.VA(K, N);
      var k = new q("tempready",!0);
      k.data = {
          uY: N
      };
      this.U(k)
  }
  ;
  hq.prototype.eh = function(E) {
      var K = E.target;
      this.uW = [];
      this.jp()
  }
  ;
  hq.prototype.aax = function(E) {
      var K = JSON.parse(E.target.response);
      this.Ch = K.hits;
      this.jp()
  }
  ;
  hq.prototype.jp = function(E) {
      if (this.V0 == null || this.Ip == null || this.a3Q == null)
          return;
      if (this.Ip.x <= 0)
          return;
      var K = this.V0.x
        , i = this.V0.y;
      if (Math.min(K, i) < 50)
          return;
      if (E != !0) {
          this.qn = [];
          c.kL(this.hE);
          this.hE.scrollTop = 0
      }
      if (this.qn.length > 300)
          return;
      var C = Math.min(1, 300 / Math.max(K, i))
        , N = this.Ip.clone();
      N.x -= 20;
      var k = Math.max(1, Math.floor(N.x / (K * C)))
        , V = Math.max(1, Math.ceil(N.y / (i * C)));
      C = N.x / k / K;
      var j = k * V;
      if (this.a7 == null) {
          var a = this.a3Q.g5.y2();
          this.a7 = [];
          for (var e in a) {
              var L = a[e]
                , g = L[3];
              if (!this.AT.fB(L))
                  continue;
              if (L[5] == null || L[5].slice(0, 2) == "gf")
                  continue;
              this.a7.push(L)
          }
          if (this.a7.length == 0)
              this.a7.push(a.DejaVuSans)
      }
      var I = this.MU.u()
        , h = this.zm.u().trim();
      this.zm.CA(I);
      if (I && (this.Ch == null || h != this.a6j)) {
          var o = new XMLHttpRequest
            , H = "https://pixabay.com/api/?image_type=photo" + (h == "" ? "" : "&q=" + encodeURIComponent(h)) + "&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
          if (h == "")
              H += "&safesearch=true";
          if (h == "")
              H = "plugins/gallery.json";
          o.open("GET", H, !0);
          o.onload = this.aax.bind(this);
          o.onerror = function(F) {
              console.log(F.target.response)
          }
          ;
          o.send();
          this.a6j = h;
          return
      }
      C *= (K * C - 5) / (K * C);
      var A = this.qn.length;
      for (var G = 0; G < j; G++) {
          var S = this.iZ = A + G;
          if (this.uW[S] == null)
              this.uW[S] = Math.floor(Math.random() * 4294967295);
          var v = this.r3(Math.round(K * C), Math.round(i * C))
            , s = v[0];
          s = O.Yo(new Uint8Array(s));
          var D = c.w("span");
          D.innerHTML = s;
          this.qn.push(D);
          this.hE.appendChild(D);
          D.addEventListener("click", this.anr, !1)
      }
  }
  ;
  hq.prototype.r3 = function(E, K, i) {
      var C = this.MU.u()
        , N = this.aay.u()
        , k = C && this.Ch.length != 0 ? this.Ch : null;
      if (N && !C)
          k = null;
      if (N && C && (this.iZ & 1) == 0)
          k = null;
      return bU.L8(E, K, this.uW[this.iZ], this.a7, i ? i : k)
  }
  ;
  function i9() {
      aB.call(this);
      this.j = c.w("div");
      this.ta = null;
      this.alp = null;
      this.y7 = -1;
      this.UQ = {
          JPG: [{
              ve: new hk([12, 52, 0],0,100,"%",null,null,!0),
              zc: 70
          }, {
              ve: new ck("attach metadata"),
              zc: !1
          }],
          TIFF: [{
              ve: new ck("attach metadata"),
              zc: !1
          }],
          WEBP: [{
              ve: new hk([12, 52, 0],0,100,"%",null,null,!0),
              zc: 70
          }],
          GIF: [{
              ve: new hk([12, 52, 0],0,100,"%",null,null,!0),
              zc: 100
          }],
          PNG: [{
              ve: new hk([12, 52, 0],0,100,"%",null,null,!0),
              zc: 100
          }, {
              ve: new ck("don't use palettes"),
              zc: !1
          }],
          PDF: [{
              ve: new fN([12, 52, 1]),
              zc: ""
          }, {
              ve: new hk([12, 52, 0],0,100,"%",null,null,!0),
              zc: 100
          }, {
              ve: new ck("rasterize all"),
              zc: !1
          }, {
              ve: new ck("rasterize text"),
              zc: !1
          }, {
              ve: new ck("vectorize text"),
              zc: !1
          }],
          EMF: [{
              ve: new fN([12, 52, 1]),
              zc: ""
          }, {
              ve: new ck("rasterize all"),
              zc: !1
          }, {
              ve: new ck("rasterize text"),
              zc: !1
          }, {
              ve: new ck("vectorize text"),
              zc: !1
          }],
          SVG: [{
              ve: new ck("add raster graphics"),
              zc: !0
          }, {
              ve: new ck("add hidden layers"),
              zc: !1
          }, {
              ve: new ck("vectorize text"),
              zc: !1
          }, {
              ve: new ck("rasterize text"),
              zc: !1
          }, {
              ve: new ck("add layer names"),
              zc: !0
          }, {
              ve: new ck("pretty-print"),
              zc: !0
          }],
          RAW: [{
              ve: new eN([12, 72],["1", "3", "4"]),
              zc: 2
          }, {
              ve: new eN([12, 34],["8 Bits", "16 Bits"]),
              zc: 0
          }, {
              ve: new eN("Byte Order",["12-34", "34-12"]),
              zc: 0
          }],
          anim: [{
              ve: new hk("Speed",10,800,"%",null,!0,!0),
              zc: 100
          }, {
              ve: new gI("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),
              zc: 0
          }, {
              ve: new ck("reverse frames"),
              zc: !1
          }, {
              ve: new ck("boomerang"),
              zc: !1
          }],
          slcs: [{
              ve: new ck("As Slices"),
              zc: !0
          }]
      };
      for (var E in this.UQ) {
          var K = this.UQ[E];
          for (var G = 0; G < K.length; G++) {
              K[G].ve.T(K[G].zc);
              K[G].ve.k(c.E.L, this.I0, this)
          }
      }
  }
  i9.prototype = new aB;
  i9.prototype.alA = function() {
      this.y7 = -1
  }
  ;
  i9.prototype.B = function() {
      for (var E in this.UQ)
          for (var G = 0; G < this.UQ[E].length; G++)
              this.UQ[E][G].ve.B()
  }
  ;
  i9.prototype.I0 = function() {
      this.jp();
      this.U(new q(c.E.L,!1))
  }
  ;
  i9.prototype.jp = function() {
      var E = this.ta
        , K = E[0]
        , i = E[1]
        , C = E[2]
        , N = E[3]
        , k = this.UQ[K];
      if (k == null)
          k = [];
      else
          k = k.slice(0);
      if (i)
          k = k.concat(this.UQ.anim);
      if (["GIF", "PNG", "JPG"].indexOf(K) != -1 && C)
          k = k.concat(this.UQ.slcs);
      if (K + " " + i + " " + N != this.y7) {
          this.y7 = K + " " + i + " " + N;
          c.kL(this.j);
          for (var G = 0; G < k.length; G++) {
              if (K == "PDF" && N && G == 0)
                  continue;
              this.j.appendChild(k[G].ve.j);
              c.eg(this.j)
          }
      }
      var V = this.alp = [];
      for (var G = 0; G < k.length; G++)
          V.push(k[G].ve.u())
  }
  ;
  i9.prototype.p9 = function(E, K, i, C) {
      this.ta = [E, K, i, C];
      this.jp()
  }
  ;
  i9.prototype.u = function() {
      return this.alp.slice(0)
  }
  ;
  function ci() {
      aB.call(this);
      this.j = c.w("span", "fitem");
      this.gC = !1;
      this.e4 = new hO("No",!1,"Cancel");
      this.Tl = new hO("Yes",!1,"Confirm");
      this.j.appendChild(this.e4.j);
      this.j.appendChild(this.Tl.j);
      this.e4.k("click", this.Vw, this);
      this.Tl.k("click", this.Vw, this);
      this.B()
  }
  ci.prototype = new aB;
  ci.prototype.B = function() {
      this.e4.KZ(c.GJ("cross", null, "autoscale"));
      this.Tl.KZ(c.GJ("checkmark", null, "autoscale"))
  }
  ;
  ci.prototype.Vw = function(E) {
      this.gC = E.target == this.Tl;
      this.U(new UIEvent("click"))
  }
  ;
  ci.prototype.u = function() {
      return this.gC
  }
  ;
  function M(E) {
      aB.call(this);
      this.OE = E;
      this.j = c.w("div", "");
      this.kr = [];
      this.a3B = []
  }
  M.prototype = new aB;
  M.prototype.Ly = function(E) {}
  ;
  M.prototype.Vb = function() {
      return !1
  }
  ;
  M.prototype.FY = function(E, K) {}
  ;
  M.prototype.bX = function(E, K) {}
  ;
  M.prototype.TC = function(E) {}
  ;
  M.prototype.T = function(E, K, i, C, N, k) {
      var V = []
        , j = this.kr
        , a = 0
        , e = ef.XL["s" + this.OE];
      e ? e(E, V, k) : this.A5(E, V, k);
      for (var G = 0; G < j.length; G++)
          if (!(j[G]instanceof di))
              j[G].T(V[a++])
  }
  ;
  M.prototype.u = function() {
      var E = ef.Sk(this.OE)
        , K = []
        , i = this.kr
        , C = 0;
      for (var G = 0; G < i.length; G++)
          if (!(i[G]instanceof di))
              K[C++] = i[G].u();
      var N = ef.XL["g" + this.OE];
      N ? N(E, K) : this.Ku(E, K);
      return E
  }
  ;
  M.prototype.Ok = function(E) {}
  ;
  M.prototype.dm = function(E) {
      var K = this.a3B;
      for (var G = 0; G < K.length; G += 2) {
          var i = this.kr[K[G]]
            , C = this.kr[K[G + 1]]
            , N = i.u()
            , k = C.u();
          if (E.target == i)
              C.T(Math.max(N, k));
          else
              i.T(Math.min(N, k))
      }
      this.U(new q(c.E.L))
  }
  ;
  M.prototype.B = function() {
      for (var G = 0; G < this.kr.length; G++)
          this.kr[G].B()
  }
  ;
  M.prototype.ZV = function(E) {
      c.U8(this.j, "form");
      var K = this.kr;
      for (var G = 0; G < K.length; G++) {
          var i = K[G];
          i.parent = this;
          i.k(c.E.L, this.dm, this);
          this.j.appendChild(i.j);
          if (i instanceof ck && K[G + 1]instanceof ha)
              continue;
          if (E && E.indexOf(G) != -1)
              c.tn(this.j);
          else
              c.eg(this.j)
      }
  }
  ;
  M.prototype.Di = function() {
      return !1
  }
  ;
  M.prototype.om = function(E, K, i, C, N) {}
  ;
  M.prototype.n9 = function(E, K, i, C, N) {}
  ;
  M.prototype.Cs = function(E, K, i, C, N) {}
  ;
  M.prototype.Ku = function(E, K) {}
  ;
  M.prototype.A5 = function(E, K) {}
  ;
  M.Bokh = function() {
      M.call(this, "Bokh");
      this.kr = [new gc("Depth Map",["A", "b"]), new hk("Focal Distance",0,255), new gc([12, 76, 1],"Triangle (3),Square (4),Pentagon (5),Hexagon (6),Heptagon (7),Octagon (8)".split(",")), new hk([12, 56],0,100), new hk([12, 15],0,360), new hk([12, 2],0,100), new hk([4, 13],0,255), new hk([24, 6],0,100), new eN([12, 58],[[12, 59, 0], [12, 59, 1]]), new ck([12, 60])];
      this.ZV([4, 6])
  }
  ;
  M.Bokh.prototype = new M;
  M.Bokh.prototype.A5 = function(E, K, i) {
      var C = [[22, 5, 0], [6, 5, 3], [6, 2]]
        , N = E.BkDi.v.BtDi
        , k = E.BkDc
        , V = 0;
      if (N == "BeIn")
          V = 0;
      else if (N == "BeIt" && k.v.BtDc == "BeCt")
          V = 1;
      else if (N == "BeIt" && k.v.BtDc == "BeCm")
          V = 2;
      else
          V = 3 + k.v;
      for (var G = 0; G < i[1].length; G++)
          C.push(i[1][G].name);
      this.kr[0].X2(C, [3]);
      K[0] = V;
      K[1] = E.BkDp.v;
      K[2] = parseInt(E.BkIs.v.BtIs.slice(3)) - 3;
      K[3] = E.BkIb.v;
      K[4] = E.BkIr.v;
      K[5] = E.BkSb.v;
      K[6] = E.BkSt.v;
      K[7] = E.BkNa.v;
      K[8] = E.BkNt.v.BtNt == "BeNu" ? 0 : 1;
      K[9] = E.BkNm.v
  }
  ;
  M.Bokh.prototype.Ku = function(E, K) {
      var i;
      if (K[0] == 0) {
          i = "BeIn";
          delete E.BkDc
      } else if (K[0] < 3) {
          i = "BeIt";
          E.BkDc = {
              t: "enum",
              v: {
                  BtDc: ["BeCt", "BeCm"][K[0] - 1]
              }
          }
      } else {
          i = "BeIa";
          E.BkDc = {
              t: "long",
              v: K[0] - 3
          }
      }
      E.BkDi.v.BtDi = i;
      E.BkDp.v = K[1];
      E.BkIs.v.BtIs = "BeS" + (3 + K[2]);
      E.BkIb.v = K[3];
      E.BkIr.v = K[4];
      E.BkSb.v = K[5];
      E.BkSt.v = K[6];
      E.BkNa.v = K[7];
      E.BkNt.v.BtNt = ["BeNu", "BeNg"][K[8]];
      E.BkNm.v = K[9]
  }
  ;
  M.oilPaint = function() {
      M.call(this, "oilPaint");
      this.kr = [new hk([12, 56],.1,10,"px",!0), new hk("Cleanliness",0,10,"px",!0), new hk([12, 38],.1,10,null,!0), new hk("Bristle Detail",0,10,null,!0), new ck("Lighting"), new hk("Shine",0,10,null,!0), new cU([12, 15])];
      this.ZV()
  }
  ;
  M.oilPaint.prototype = new M;
  M.oilPaint.prototype.A5 = function(E, K) {
      var i = "stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
      for (var G = 0; G < i.length; G++)
          K[G] = E[i[G]].v;
      K[6] = E.LghD.v
  }
  ;
  M.oilPaint.prototype.Ku = function(E, K) {
      var i = "stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
      for (var G = 0; G < i.length; G++)
          E[i[G]].v = K[G];
      E.LghD.v = K[6].Rz
  }
  ;
  M.TrcC = function() {
      M.call(this, "TrcC");
      this.kr = [new hk("Level",0,255), new eN([12, 69],[[19, 4, 1], [19, 4, 0]])];
      this.ZV()
  }
  ;
  M.TrcC.prototype = new M;
  M.TrcC.prototype.A5 = function(E, K) {
      K[0] = E.Lvl.v;
      K[1] = ["Lwr", "Upr"].indexOf(E.Edg.v.CntE)
  }
  ;
  M.TrcC.prototype.Ku = function(E, K) {
      E.Lvl.v = K[0];
      E.Edg.v.CntE = ["Lwr", "Upr"][K[1]]
  }
  ;
  M["Dfs "] = function() {
      M.call(this, "Dfs ");
      this.kr = [new eN([12, 36],[[15, 10, 0], [15, 10, 6], [15, 10, 11], "Anisotropic"])];
      this.ZV()
  }
  ;
  M["Dfs "].prototype = new M;
  M["Dfs "].prototype.A5 = function(E, K) {
      K[0] = ["Nrml", "DrkO", "LghO", "anisotropic"].indexOf(E.Md.v.DfsM)
  }
  ;
  M["Dfs "].prototype.Ku = function(E, K) {
      E.Md.v.DfsM = ["Nrml", "DrkO", "LghO", "anisotropic"][K[0]]
  }
  ;
  M.Embs = function() {
      M.call(this, "Embs");
      this.kr = [new cU([12, 15]), new hk([12, 42],1,100,"px"), new hk([12, 57],1,500,"%")];
      this.ZV()
  }
  ;
  M.Embs.prototype = new M;
  M.Embs.prototype.A5 = function(E, K) {
      K[0] = E.Angl.v;
      K[1] = E.Hght.v;
      K[2] = E.Amnt.v
  }
  ;
  M.Embs.prototype.Ku = function(E, K) {
      E.Angl.v = K[0].Rz;
      E.Hght.v = K[1];
      E.Amnt.v = K[2]
  }
  ;
  M["Wnd "] = function() {
      M.call(this, "Wnd ");
      this.kr = [new eN([12, 32],["Wind", "Blast", "Stagger"]), new eN([12, 33],["From the Right", "From the Left"])];
      this.ZV()
  }
  ;
  M["Wnd "].prototype = new M;
  M["Wnd "].prototype.A5 = function(E, K) {
      K[0] = ["Wnd", "Blst", "Stgr"].indexOf(E.WndM.v.WndM);
      K[1] = ["Left", "Rght"].indexOf(E.Drct.v.Drct)
  }
  ;
  M["Wnd "].prototype.Ku = function(E, K) {
      E.WndM.v.WndM = ["Wnd", "Blst", "Stgr"][K[0]];
      E.Drct.v.Drct = ["Left", "Rght"][K[1]]
  }
  ;
  M.lightFilterGradient = function() {
      M.call(this, "lightFilterGradient");
      this.kr = [new hk([24, 3, 1],0,100,"px",1,!0), new hk([12, 38],0,200,"%"), new ck([4, 11]), new hk("High",0,100,"%"), new hk("Medium",0,100,"%"), new hk("Low",0,100,"%")];
      this.ZV()
  }
  ;
  M.lightFilterGradient.prototype = new M;
  M.lightFilterGradient.prototype.A5 = function(E, K) {
      K[0] = E.blur.v;
      K[1] = E.textureScale.v * 100;
      K[2] = E.Scl.v == -1;
      var i = E.Dtl.v;
      K[3] = i[0].v * 100;
      K[4] = i[1].v * 100;
      K[5] = i[2].v * 100
  }
  ;
  M.lightFilterGradient.prototype.Ku = function(E, K) {
      E.blur.v = K[0];
      E.textureScale.v = K[1] / 100;
      E.Scl.v = K[2] ? -1 : 1;
      var i = E.Dtl.v;
      i[0].v = K[3] / 100;
      i[1].v = K[4] / 100;
      i[2].v = K[5] / 100
  }
  ;
  M.LnsF = function() {
      M.call(this, "LnsF");
      this.kr = [new hk([12, 2],10,300,"%"), new eN([12, 44],["Lens 1", "Lens 2", "Lens 3", "Lens 4"]), new hk("Position X",0,100,"%"), new hk("Position Y",0,100,"%")];
      this.ZV()
  }
  ;
  M.LnsF.prototype = new M;
  M.LnsF.prototype.A5 = function(E, K) {
      K[0] = E.Brgh.v;
      K[1] = ["Zm", "Nkn", "Nkn1", "PnVs"].indexOf(E.Lns.v.Lns);
      var i = E.FlrC.v;
      K[2] = Math.round(i.Hrzn.v * 100);
      K[3] = Math.round(i.Vrtc.v * 100)
  }
  ;
  M.LnsF.prototype.Ku = function(E, K) {
      E.Brgh.v = K[0];
      E.Lns.v.Lns = ["Zm", "Nkn", "Nkn1", "PnVs"][K[1]];
      var i = E.FlrC.v;
      i.Hrzn.v = K[2] / 100;
      i.Vrtc.v = K[3] / 100
  }
  ;
  M.LnsF.prototype.Di = function() {
      return !0
  }
  ;
  M.LnsF.prototype.om = function(E, K, i, C, N) {
      this.Bh = !0;
      this.rN(E, N)
  }
  ;
  M.LnsF.prototype.n9 = function(E, K, i, C, N) {
      if (!this.Bh)
          return;
      this.rN(E, N)
  }
  ;
  M.LnsF.prototype.Cs = function(E, K, i, C, N) {
      this.Bh = !1
  }
  ;
  M.LnsF.prototype.rN = function(E, K) {
      var i = E.a.Eb(K.x, K.y);
      function C(N, k) {
          return Math.round(Math.max(0, Math.min(100, 100 * N / k)))
      }
      this.kr[2].T(C(i.x, E.d));
      this.kr[3].T(C(i.y, E.v));
      this.dm()
  }
  ;
  M.blendOptions = function() {
      M.call(this, "blendOptions");
      this.kr.push(new gc([12, 19, 0],gx.z2,!1,gx.Dx));
      this.kr.push(new hk([12, 0],0,100,"%"));
      this.ZV()
  }
  ;
  M.blendOptions.prototype = new M;
  M.blendOptions.prototype.A5 = function(E, K) {
      K[0] = gx.hr.indexOf(E.Md.v.BlnM);
      K[1] = E.Opct.v.val
  }
  ;
  M.blendOptions.prototype.Ku = function(E, K) {
      E.Md.v.BlnM = gx.hr[K[0]];
      E.Opct.v.val = K[1]
  }
  ;
  M.LnCr = function() {
      M.call(this, "LnCr");
      this.kr = [new hk([12, 57],-100,100), new hk([12, 38],10,150,"%")];
      this.ZV()
  }
  ;
  M.LnCr.prototype = new M;
  M.LnCr.prototype.A5 = function(E, K) {
      K[0] = E.LnIa.v;
      K[1] = E.LnSi.v
  }
  ;
  M.LnCr.prototype.Ku = function(E, K) {
      E.LnIa.v = K[0];
      E.LnSi.v = K[1]
  }
  ;
  M.adaptCorrect = function() {
      M.call(this, "adaptCorrect");
      var E = hw;
      this.kr = [new di([19, 6, 0]), new E([12, 57],0,100,"%"), new E("Tone",0,100,"%"), new E([12, 56],0,200,"px"), new di([19, 6, 2]), new E([12, 57],0,100,"%"), new E("Tone",0,100,"%"), new E([12, 56],0,200,"px"), new di([3]), new E([13, 0],-100,100)];
      this.ZV([3, 7])
  }
  ;
  M.adaptCorrect.prototype = new M;
  M.adaptCorrect.prototype.A5 = function(E, K) {
      var i = E.sdwM.v;
      K[0] = i.Amnt.v.val;
      K[1] = i.Wdth.v.val;
      K[2] = i.Rds.v;
      var i = E.hglM.v;
      K[3] = i.Amnt.v.val;
      K[4] = i.Wdth.v.val;
      K[5] = i.Rds.v;
      K[6] = E.ClrC.v
  }
  ;
  M.adaptCorrect.prototype.Ku = function(E, K) {
      var i = E.sdwM.v;
      i.Amnt.v.val = K[0];
      i.Wdth.v.val = K[1];
      i.Rds.v = K[2];
      var i = E.hglM.v;
      i.Amnt.v.val = K[3];
      i.Wdth.v.val = K[4];
      i.Rds.v = K[5];
      E.ClrC.v = K[6]
  }
  ;
  M.boxblur = function() {
      M.call(this, "boxblur");
      this.kr = [new hk([12, 56],1,200," px")];
      this.ZV()
  }
  ;
  M.boxblur.prototype = new M;
  M.boxblur.prototype.A5 = function(E, K) {
      K[0] = E.Rds.v.val
  }
  ;
  M.boxblur.prototype.Ku = function(E, K) {
      E.Rds.v.val = K[0]
  }
  ;
  M.GsnB = function() {
      M.call(this, "GsnB");
      this.kr = [new hk([12, 56],.1,400,"px",1,!0)];
      this.ZV()
  }
  ;
  M.GsnB.prototype = new M;
  M.MtnB = function() {
      M.call(this, "MtnB");
      this.kr = [new cU([12, 15]), new hk([12, 28],1,100," px")];
      this.ZV()
  }
  ;
  M.MtnB.prototype = new M;
  M.RdlB = function() {
      M.call(this, "RdlB");
      this.kr = [new hk([12, 57],1,100), new eN([12, 36],["Spin", "Zoom"]), new hw("Off X",0,1,null,2), new hw("Off Y",0,1,null,2)];
      this.ZV()
  }
  ;
  M.RdlB.prototype = new M;
  M.RdlB.prototype.A5 = function(E, K) {
      K[0] = E.Amnt.v;
      K[1] = ["Spn", "Zm"].indexOf(E.BlrM.v.BlrM);
      K[2] = E.Cntr.v.Hrzn.v;
      K[3] = E.Cntr.v.Vrtc.v
  }
  ;
  M.RdlB.prototype.Ku = function(E, K) {
      E.Amnt.v = K[0];
      E.BlrM.v.BlrM = ["Spn", "Zm"][K[1]];
      E.Cntr.v.Hrzn.v = K[2];
      E.Cntr.v.Vrtc.v = K[3]
  }
  ;
  M.Dspl = function() {
      M.call(this, "Dspl");
      this.kr = [new gc([6, 36, 3],["a", "b"]), new hk([22, 4, 0],-100,100,"px"), new hk([22, 4, 1],-100,100,"px"), new gc([24, 18, 0],[[24, 18, 3], [24, 18, 2]])];
      this.ZV()
  }
  ;
  M.Dspl.prototype = new M;
  M.Dspl.prototype.A5 = function(E, K, i) {
      this.ajo = [];
      this.t_ = [];
      var C = -1
        , N = i ? i[0] : null;
      if (N == null)
          N = this.a99;
      else
          this.a99 = N;
      if (N)
          for (var G = 0; G < N.length; G++) {
              var k = N[G];
              this.ajo.push(k.hS.trim());
              this.t_.push(k.V3);
              if (k.V3 == E.DspF.v.pth)
                  C = G
          }
      this.kr[0].X2(this.ajo);
      K[0] = C == -1 ? 0 : C;
      K[1] = E.HrzS.v;
      K[2] = E.VrtS.v;
      K[3] = ["WrpA", "RptE"].indexOf(E.UndA.v.UndA)
  }
  ;
  M.Dspl.prototype.Ku = function(E, K) {
      if (this.t_.length == 0)
          return;
      E.DspF.v.pth = this.t_[K[0]];
      E.HrzS.v = K[1];
      E.VrtS.v = K[2];
      E.UndA.v.UndA = ["WrpA", "RptE"][K[3]]
  }
  ;
  M.Pnch = function() {
      M.call(this, "Pnch");
      this.kr = [new hk([12, 57],-100,100,"%")];
      this.ZV()
  }
  ;
  M.Pnch.prototype = new M;
  M["Plr "] = function() {
      M.call(this, "Plr ");
      this.kr = [new eN(null,["Rect to Polar", "Polar to Rect"])];
      this.ZV()
  }
  ;
  M["Plr "].prototype = new M;
  M.Rple = function() {
      M.call(this, "Rple");
      this.kr = [new hk([12, 57],-999,999), new gc([12, 14, 0],[[19, 8, 0], [19, 8, 1], [19, 8, 2]])];
      this.ZV()
  }
  ;
  M.Rple.prototype = new M;
  M["Shr "] = function() {
      M.call(this, "Shr ");
      this.kr = [new eD(!0,!0), new gc([24, 18, 0],[[24, 18, 3], [24, 18, 2]])];
      this.ZV()
  }
  ;
  M["Shr "].prototype = new M;
  M["Shr "].prototype.A5 = function(E, K) {
      var i = new fn(0,255 / 127,255 / 127,0,-2,128)
        , C = JSON.parse(JSON.stringify(E.ShrP.v));
      _.Qe.m(C, i);
      K[0] = C;
      K[1] = ["WrpA", "RptE"].indexOf(E.UndA.v.UndA)
  }
  ;
  M["Shr "].prototype.Ku = function(E, K) {
      var i = new fn(0,255 / 127,255 / 127,0,-2,128);
      i.KP();
      _.Qe.m(K[0], i);
      E.ShrP.v = K[0];
      E.ShrE.v = K[0].length - 1;
      E.UndA.v.UndA = ["WrpA", "RptE"][K[1]]
  }
  ;
  M.Sphr = function() {
      M.call(this, "Sphr");
      this.kr = [new hk([12, 57],-100,100), new gc([12, 36],["Normal", [22, 4, 0], [22, 4, 1]])];
      this.ZV()
  }
  ;
  M.Sphr.prototype = new M;
  M.Sphr.prototype.A5 = function(E, K) {
      K[0] = E.Amnt.v;
      K[1] = ["Nrml", "HrzO", "VrtO"].indexOf(E.SphM.v.SphM)
  }
  ;
  M.Sphr.prototype.Ku = function(E, K) {
      E.Amnt.v = K[0];
      E.SphM.v.SphM = ["Nrml", "HrzO", "VrtO"][K[1]]
  }
  ;
  M.Twrl = function() {
      M.call(this, "Twrl");
      this.kr = [new hk([12, 15],-999,999)];
      this.ZV()
  }
  ;
  M.Twrl.prototype = new M;
  M.Wave = function() {
      M.call(this, "Wave");
      this.a3B = [1, 2, 3, 4];
      this.kr = [new hk("Number of Generators",1,100), new hw("Min Length",1,999), new hw("Max Length",1,999), new hw("Min Ampl.",1,999), new hw("Max Ampl.",1,999), new hw("Scale X",1,100,"%"), new hw("Scale Y",1,100,"%"), new eN([12, 44],["Sine", "Triangle", [12, 93, 3]]), new gc([24, 18, 0],[[24, 18, 3], [24, 18, 2]]), new fN("Randomizer Seed")];
      this.ZV()
  }
  ;
  M.Wave.prototype = new M;
  M.Wave.prototype.A5 = function(E, K) {
      K[0] = E.NmbG.v;
      K[1] = E.WLMn.v;
      K[2] = E.WLMx.v;
      K[3] = E.AmMn.v;
      K[4] = E.AmMx.v;
      K[5] = E.SclH.v;
      K[6] = E.SclV.v;
      K[7] = ["WvSn", "WvTr", "WvSq"].indexOf(E.Wvtp.v.Wvtp);
      K[8] = ["WrpA", "RptE"].indexOf(E.UndA.v.UndA);
      K[9] = E.RndS.v
  }
  ;
  M.Wave.prototype.Ku = function(E, K) {
      E.NmbG.v = K[0];
      E.WLMn.v = K[1];
      E.WLMx.v = K[2];
      E.AmMn.v = K[3];
      E.AmMx.v = K[4];
      E.SclH.v = K[5];
      E.SclV.v = K[6];
      E.Wvtp.v.Wvtp = ["WvSn", "WvTr", "WvSq"][K[7]];
      E.UndA.v.UndA = ["WrpA", "RptE"][K[8]];
      var i = parseInt(K[9]);
      if (isNaN(i))
          i = 248325464;
      i = Math.max(0, Math.min(268435455, i));
      E.RndS.v = i;
      this.kr[9].T(i)
  }
  ;
  M.surfaceBlur = function() {
      M.call(this, "surfaceBlur");
      this.kr = [new hk([12, 56],1,200," px"), new hk([4, 13],1,255," px")];
      this.ZV()
  }
  ;
  M.surfaceBlur.prototype = new M;
  M.surfaceBlur.prototype.A5 = function(E, K) {
      K[0] = E.Rds.v.val;
      K[1] = E.Thsh.v
  }
  ;
  M.surfaceBlur.prototype.Ku = function(E, K) {
      E.Rds.v.val = K[0];
      E.Thsh.v = K[1]
  }
  ;
  M.AdNs = function() {
      M.call(this, "AdNs");
      this.kr = [new hk([12, 57],0,200," %"), new gc([12, 58],[[12, 59, 1], [12, 59, 0]]), new ck([12, 60])];
      this.ZV()
  }
  ;
  M.AdNs.prototype = new M;
  M.DstS = function() {
      M.call(this, "DstS");
      this.kr = [new hk([12, 56],1,200," px"), new hk([4, 13],1,255," px")];
      this.ZV()
  }
  ;
  M.DstS.prototype = new M;
  M["Mdn "] = function() {
      M.call(this, "Mdn ");
      this.kr = [new hk([12, 56],1,200," px")];
      this.ZV()
  }
  ;
  M["Mdn "].prototype = new M;
  M["Mdn "].prototype.A5 = function(E, K) {
      K[0] = E.Rds.v.val
  }
  ;
  M["Mdn "].prototype.Ku = function(E, K) {
      E.Rds.v.val = K[0]
  }
  ;
  M.ClrH = function() {
      M.call(this, "ClrH");
      this.kr = [new hk([12, 56],4,100," px")];
      for (var G = 1; G < 4; G++)
          this.kr.push(new hk("Angle " + G,0,90," \xB0"));
      this.ZV()
  }
  ;
  M.ClrH.prototype = new M;
  M.ClrH.prototype.A5 = function(E, K) {
      K[0] = E.Rds.v;
      for (var G = 1; G < 4; G++)
          K[G] = E["Ang" + G].v
  }
  ;
  M.ClrH.prototype.Ku = function(E, K) {
      E.Rds.v = K[0];
      for (var G = 1; G < 4; G++)
          E["Ang" + G].v = K[G]
  }
  ;
  M.ClrH.prototype.B = function() {
      var E = this.kr;
      E[0].B();
      for (var G = 1; G < 4; G++)
          E[G].KZ(i2.get([12, 15]) + " " + G)
  }
  ;
  M.Crst = function() {
      M.call(this, "Crst");
      this.kr = [new hk([12, 61],3,100," px")];
      this.ZV()
  }
  ;
  M.Crst.prototype = new M;
  M.Crst.prototype.A5 = function(E, K) {
      K[0] = E.ClSz.v
  }
  ;
  M.Crst.prototype.Ku = function(E, K) {
      E.ClSz.v = K[0]
  }
  ;
  M.Mztn = function() {
      M.call(this, "Mztn");
      this.kr.push(new gc([12, 44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4, 3, 3]));
      this.t_ = "FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");
      this.ZV()
  }
  ;
  M.Mztn.prototype = new M;
  M.Mztn.prototype.A5 = function(E, K) {
      K[0] = this.t_.indexOf(E.MztT.v.MztT)
  }
  ;
  M.Mztn.prototype.Ku = function(E, K) {
      E.MztT.v.MztT = this.t_[K[0]]
  }
  ;
  M["Msc "] = function() {
      M.call(this, "Msc ");
      this.kr = [new hk([12, 61],2,200," px")];
      this.ZV()
  }
  ;
  M["Msc "].prototype = new M;
  M["Msc "].prototype.A5 = function(E, K) {
      K[0] = E.ClSz.v.val
  }
  ;
  M["Msc "].prototype.Ku = function(E, K) {
      E.ClSz.v.val = K[0]
  }
  ;
  M.Pntl = function() {
      M.call(this, "Pntl");
      this.kr = [new hk([12, 61],3,100," px")];
      this.ZV()
  }
  ;
  M.Pntl.prototype = new M;
  M.Pntl.prototype.A5 = function(E, K) {
      K[0] = E.ClSz.v
  }
  ;
  M.Pntl.prototype.Ku = function(E, K) {
      E.ClSz.v = K[0]
  }
  ;
  M.smartSharpen = function() {
      M.call(this, "smartSharpen");
      this.kr = [new hk([12, 57],1,200,"%"), new hk([12, 56],0,200,"px",1,!0)];
      this.ZV()
  }
  ;
  M.smartSharpen.prototype = new M;
  M.smartSharpen.prototype.A5 = function(E, K) {
      K[0] = E.Amnt.v.val;
      K[1] = E.Rds.v.val
  }
  ;
  M.smartSharpen.prototype.Ku = function(E, K) {
      E.Amnt.v.val = K[0];
      E.Rds.v.val = K[1]
  }
  ;
  M.UnsM = function() {
      M.call(this, "UnsM");
      this.kr = [new hk([12, 57],1,200," %"), new hk([12, 56],.1,400,"px",1,!0), new hk([4, 13],0,255," ")];
      this.ZV()
  }
  ;
  M.UnsM.prototype = new M;
  M.HghP = function() {
      M.call(this, "HghP");
      this.kr = [new hk([12, 56],.1,400,"px",1,!0)];
      this.ZV()
  }
  ;
  M.HghP.prototype = new M;
  M["Mxm "] = function() {
      M.call(this, "Mxm ");
      this.kr = [new hk([12, 56],1,200," px")];
      this.ZV()
  }
  ;
  M["Mxm "].prototype = new M;
  M["Mnm "] = function() {
      M.call(this, "Mnm ");
      this.kr = [new hk([12, 56],1,200," px")];
      this.ZV()
  }
  ;
  M["Mnm "].prototype = new M;
  M.Ofst = function() {
      M.call(this, "Ofst");
      this.kr = [new hk([22, 4, 0],-1024,1024," px"), new hk([22, 4, 1],-1024,1024," px"), new gc([24, 18, 0],[[24, 18, 2], [24, 18, 1], [24, 18, 3]])];
      this.ZV()
  }
  ;
  M.Ofst.prototype = new M;
  M.Rept = function() {
      M.call(this, "Rept");
      this.kr = [new hw([12, 38],1,300," %"), new hw("Row Shift",-50,50," %"), new hw("Space X",-99,200," %"), new hw("Space Y",-99,200," %"), new ck([4, 16, 2]), new cU([12, 15])];
      this.ZV()
  }
  ;
  M.Rept.prototype = new M;
  M.Rept.prototype.A5 = function(E, K) {
      K[0] = E.Scl.v.val;
      K[1] = E.Rsft.v.val;
      K[2] = E.SpcX.v.val;
      K[3] = E.SpcY.v.val;
      K[4] = E.SpcC.v;
      K[5] = E.Angl.v
  }
  ;
  M.Rept.prototype.Ku = function(E, K) {
      E.Scl.v.val = K[0];
      E.Rsft.v.val = K[1];
      E.SpcX.v.val = K[2];
      E.SpcY.v.val = K[3];
      E.SpcC.v = K[4];
      E.Angl.v = K[5].Rz;
      return E
  }
  ;
  M.Ctoa = function() {
      M.call(this, "Ctoa");
      this.kr = [new di([13, 0]), new ha(!0), new hk(["VAR0 VAR1", "Transparency", [4, 13]],0,100," %"), new hk(["VAR0 VAR1", [12, 0], [4, 13]],0,100," %")];
      this.ZV()
  }
  ;
  M.Ctoa.prototype = new M;
  M.Ctoa.prototype.A5 = function(E, K) {
      K[0] = E.Clr.v;
      K[1] = E.Trsp.v.val;
      K[2] = E.Opct.v.val
  }
  ;
  M.Ctoa.prototype.Ku = function(E, K) {
      E.Clr.v = K[0];
      E.Trsp.v.val = K[1];
      E.Opct.v.val = K[2]
  }
  ;
  M.LqFy = function() {
      M.call(this, "LqFy");
      this.U2 = !1;
      this.av = null;
      this.aoe = null;
      this.F = 0;
      this.d4 = {
          dE: [[{
              F: {
                  id: 0,
                  name: [24, 1, 0, 1, 0],
                  p3: "liq/smudge"
              }
          }], [{
              F: {
                  id: 1,
                  name: [24, 1, 0, 1, 1],
                  p3: "liq/reconstruct"
              }
          }], [{
              F: {
                  id: 2,
                  name: [24, 1, 0, 1, 2],
                  p3: "liq/smooth"
              }
          }], [{
              F: {
                  id: 3,
                  name: [24, 1, 0, 1, 3],
                  p3: "liq/twirl"
              }
          }], [{
              F: {
                  id: 4,
                  name: [24, 1, 0, 1, 4],
                  p3: "liq/shrink"
              }
          }], [{
              F: {
                  id: 5,
                  name: [24, 1, 0, 1, 5],
                  p3: "liq/blow"
              }
          }], [{
              F: {
                  id: 6,
                  name: [24, 1, 0, 1, 6],
                  p3: "liq/pleft"
              }
          }]],
          keys: []
      };
      this.t6 = new eo(this.d4,!1);
      this.t6.Xu(0);
      this.t6.k(c.E.P, this.ahv, this);
      this.Ft = eQ.X1();
      this.fg = null;
      this.l_ = [];
      this.W$ = -1;
      this.ku = null;
      this.a6g = null;
      this.WS = null;
      this.HK = null;
      this.gM = null;
      var E = c.w("div", "flexrow");
      this.XY = E;
      this.j.appendChild(E);
      E.appendChild(this.t6.j);
      this.view = new a4(!0);
      this.view.FY(100, 100);
      this.view.k("mousedown", this.bC, this);
      this.view.k("mousemove", this.BT, this);
      this.view.k("mouseup", this.nW, this);
      this.view.k("zoom", this._$, this);
      E.appendChild(this.view.j);
      var K = c.w("div", "form");
      E.appendChild(K);
      this.vj = K;
      K.style.width = "230px";
      this.Pz = [new hk([12, 14, 0],0,1e3,null,!1,!0), new hk([12, 74],0,100,null,!1,!1), new hk([12, 84],0,100,null,!1,!1), new ck([12, 46]), new hk([12, 0],0,100,null,!1,!1)];
      var i = this.Ft.Brsh.v;
      i.Dmtr.v.val = 100;
      var C = [100, 50, 100, !1, 100];
      for (var G = 0; G < this.Pz.length; G++) {
          var N = this.Pz[G];
          N.T(C[G]);
          N.k(c.E.L, this.anh, this);
          K.appendChild(N.j)
      }
      var k = new hO("Reset",!0,null,!0);
      k.k("click", this.eh, this);
      K.appendChild(k.j);
      this.NA = new aB;
      this.NA.j = c.w("div", "floatcont");
      this.cU = new hO("Menu",!1,null,!0);
      this.cU.k("click", this.ahm, this);
      var V = this.cU.j;
      V.setAttribute("style", "position:absolute; right:13px; top:47px")
  }
  ;
  M.LqFy.prototype = new M;
  M.LqFy.prototype.Vb = function() {
      return !0
  }
  ;
  M.LqFy.prototype.Ly = function(E) {
      this.vj.appendChild(E)
  }
  ;
  M.LqFy.prototype.ahm = function(E) {
      var K = this.cU.j.getBoundingClientRect();
      this.NA.j.appendChild(this.vj);
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.um,
          CP: this.NA,
          x: K.right + K.width - 290,
          y: K.top + K.height
      };
      this.U(i)
  }
  ;
  M.LqFy.prototype.Ok = function(E) {
      this.U2 = E.q(w.zA);
      var K = u.Bu.g6(this.Ft, E);
      if (K != null) {
          this.Ft = K;
          this._$();
          this.Pz[0].T(K.Brsh.v.Dmtr.v.val)
      } else if (E.q(w.qN) && E.q(w.p6)) {
          var i = this.l_;
          if (E.q(w.Gj)) {
              if (this.W$ + 1 < i.length)
                  this.W$++
          } else if (this.W$ > 0)
              this.W$--;
          this.fg.map = i[this.W$].slice(0);
          this.Vp(null)
      } else
          this.view.Ok(E)
  }
  ;
  M.LqFy.prototype.ahv = function(E) {
      if (E.data.e == c.f.oS) {
          this.F = E.data.F;
          this.t6.Xu(this.F)
      }
  }
  ;
  M.LqFy.prototype.anh = function(E) {
      var K = E.currentTarget
        , G = this.Pz.indexOf(K)
        , i = this.Ft.Brsh.v;
      if (G == 0) {
          i.Dmtr.v.val = K.u();
          this._$()
      }
      if (G > 2)
          this.Vp(null)
  }
  ;
  M.LqFy.prototype.yE = function() {
      var E = this.l_;
      this.W$++;
      E[this.W$] = this.fg.map.slice(0);
      while (E.length > this.W$ + 1)
          E.pop();
      while (E.length > 50) {
          E = E.slice(1);
          this.W$--
      }
  }
  ;
  M.LqFy.prototype.bC = function(E) {
      this.vI();
      this.av = this.view.mT();
      this.aoe = new bT(0,0);
      this.k(c.E.oA, this.cy, this)
  }
  ;
  M.LqFy.prototype.BT = function(E) {
      var K = this.view.mT()
        , i = new bT(K.x - this.av.x,K.y - this.av.y);
      if (this.F == 0 || this.F == 6)
          this.AY(i);
      this.av = K
  }
  ;
  M.LqFy.prototype.nW = function(E) {
      this.yE();
      this.vI()
  }
  ;
  M.LqFy.prototype.vI = function() {
      if (this.Dh(c.E.oA, this.cy))
          this.removeEventListener(c.E.oA, this.cy, this)
  }
  ;
  M.LqFy.prototype.cy = function(E) {
      if (this.F != 0 && this.F != 6)
          this.AY(new bT(0,0))
  }
  ;
  M.LqFy.prototype.AY = function(E) {
      var K = this.fg
        , i = K.jx / this.ku.d
        , C = this.av
        , N = this.Ft.Brsh.v
        , k = N.Dmtr.v.val
        , V = Date.now()
        , j = K.jx
        , a = K.w1
        , e = Math.sqrt(E.x * E.x + E.y * E.y)
        , L = Math.max(1, Math.ceil(e / 2))
        , g = E.x / L
        , I = E.y / L
        , h = C.clone()
        , o = this.F
        , H = this.Pz[1].u() / 100
        , A = this.Pz[2].u() / 100
        , S = [.005, .015, 0, 0, .2, .2, .01, .01, .05, .35, .1, .1, .005, .015]
        , v = S[o * 2]
        , s = S[o * 2 + 1]
        , D = (1 - H) * v + H * s
        , F = k * i / 2;
      for (var G = 0; G < L; G++) {
          var y = [];
          h.x += g;
          h.y += I;
          _.eU.akt(K.map, j, a, o, h.x * i, h.y * i, F, H, A, g * i, I * i, y, this.U2);
          _.eU.alX(j, a, K.map, y, 2 * D * A)
      }
      var T = new h4(0,0,j,a)
        , Q = new h4(C.x * i,C.y * i,0,0);
      Q.Lv(k * i * .5, k * i * .5);
      var B = Q.clone();
      B.offset(E.x * i, E.y * i);
      Q = Q.ip(B);
      var r = new h4(Q.x / i,Q.y / i,Q.d / i,Q.v / i);
      r = _.$.BK(r).lx(this.ku);
      this.Vp(r)
  }
  ;
  M.LqFy.prototype._$ = function() {
      var E = fr.da(this.Ft, null, this.view.iD().S);
      this.view.PO(E)
  }
  ;
  M.LqFy.prototype.T = function(E, K, i, C, N) {
      i = i.clone();
      if (K == null)
          return;
      if (!C.Ql(i)) {
          var k = i.ip(C)
            , V = _.I(k.X() * 4);
          _.p8(K, i, V, k);
          K = V;
          i = k
      }
      i.x = i.y = 0;
      this.WS = K;
      this.a6g = N;
      this.gM = K.slice(0);
      this.HK = K.slice(0);
      this.ku = i;
      this.fg = as.sQ(new Uint8Array(E.LqMe.v).buffer);
      var j = i.d
        , a = i.v;
      if (this.fg.jx / j < .22) {
          this.fg = {
              jx: Math.floor(j / 4),
              w1: Math.floor(a / 4)
          };
          this.fg.map = new Float32Array(this.fg.jx * this.fg.w1 * 2)
      }
      this.l_ = [];
      this.W$ = -1;
      this.yE();
      this.Vp(null);
      this._$()
  }
  ;
  M.LqFy.prototype.u = function() {
      this.vI();
      var E = ef.Sk("LqFy")
        , K = new Uint8Array(as.c4(this.fg))
        , i = [];
      for (var G = 0; G < K.length; G++)
          i.push(K[G]);
      E.LqMe.v = i;
      return E
  }
  ;
  M.LqFy.prototype.FY = function(E, K) {
      this.t6.FY(E, K);
      var i = this.cU.j
        , C = this.vj;
      this.XY.appendChild(C);
      this.XY.appendChild(i);
      if (E > 450) {
          C.style.marginLeft = "1em";
          this.XY.removeChild(i);
          this.view.FY(E - 238 - 45, K)
      } else {
          C.style.marginLeft = "";
          this.XY.removeChild(C);
          this.view.FY(E - 40, K)
      }
  }
  ;
  M.LqFy.prototype.B = function() {
      this.t6.B();
      for (var G = 0; G < this.Pz.length; G++)
          this.Pz[G].B()
  }
  ;
  M.LqFy.prototype.eh = function() {
      this.vI();
      this.fg.map.fill(0);
      this.yE();
      this.Vp(null)
  }
  ;
  M.LqFy.prototype.Vp = function(E) {
      var K = this.ku
        , i = this.WS
        , C = this.gM
        , N = this.fg;
      _.eU.Xa(i, this.HK, K.d, K.v, E, N.map, N.jx, N.w1, 0);
      if (this.Pz[3].vV()) {
          _.p8(this.a6g, K, C, K, E ? E : K);
          _.p.JA("norm", this.HK, K, C, K, E ? E : K, this.Pz[4].u() / 100)
      } else
          _.uJ(this.HK, C);
      this.view.T([{
          UP: K,
          data: C.buffer
      }])
  }
  ;
  M.GEfc = function() {
      M.call(this, "GEfc");
      this.R9 = 0;
      this.dA = 0;
      this.WS = null;
      this.gM = null;
      this.ku = null;
      this.Mi = null;
      this.D$ = null;
      this.Zp = 0;
      var E = c.w("div", "flexrow");
      this.XY = E;
      this.j.appendChild(E);
      this.view = new a4;
      this.view.FY(100, 100);
      E.appendChild(this.view.j);
      this._q = "";
      this.xQ = 270;
      var K = this.ahR = c.w("div", "form scrollable");
      E.appendChild(K);
      K.setAttribute("style", "width:" + this.xQ + "px;  margin-left:1em");
      var i = c.w("div", "form");
      E.appendChild(i);
      i.setAttribute("style", "width:230px;  margin-left:1em");
      this.aM = {};
      for (var C in eU.names) {
          var N = new M.GEfc.Uh(C);
          this.aM[C] = N;
          N.k(c.E.L, this.m0, this)
      }
      this.dN = c.w("div");
      i.appendChild(this.dN);
      this.dN.style.marginBottom = "1.5em";
      this.qX = c.w("div");
      this.qX.style.height = "16.3em";
      i.appendChild(this.qX);
      c.eg(i);
      this.yx = c.w("div", "lpbody scrollable");
      this.I1 = c.w("div", "lpfoot");
      i.appendChild(this.yx);
      i.appendChild(this.I1);
      this.k("click", this.anZ, this);
      this.YH = [];
      h1.Gi([[5, 3], [5, 4]], this.YH, this.I1, this.tg.bind(this))
  }
  ;
  M.GEfc.prototype = new M;
  M.GEfc.prototype.Vb = function() {
      return !0
  }
  ;
  M.GEfc.prototype.Ly = function(E) {
      this.dN.appendChild(E)
  }
  ;
  M.GEfc.prototype.bX = function(E, K) {
      this.Mi = E
  }
  ;
  M.GEfc.prototype.FY = function(E, K) {
      this.R9 = E;
      this.dA = K;
      this.ahR.style.height = K + "px";
      this.view.FY(E - 240 - this.xQ - 10, K);
      this.yx.style.height = K - this.qX.getBoundingClientRect().height - 106 + "px"
  }
  ;
  M.GEfc.prototype.aa6 = function() {
      var E = fb.Km.get("img/beach", !0)[0]
        , K = E.UP
        , i = this.ahR
        , C = Math.floor(c.M() * (this.xQ - 40) / 3)
        , N = ~~(C * .7)
        , k = new h4(0,0,C,N)
        , V = _.I(C * N * 4)
        , j = V.slice(0)
        , a = Math.round(10 * c.M())
        , e = new ImageData(new Uint8ClampedArray(j.buffer),C,N);
      _.p8(new Uint8Array(E.data), K, V, new h4(Math.round((K.d - C) / 2),Math.round((K.v - N) / 2),C,N));
      var L = c.w("canvas")
        , g = L.getContext("2d");
      L.width = C;
      L.height = N + Math.round(a * 1.5);
      g.font = a + "px sans-serif";
      g.fillStyle = "white";
      this.LF = {};
      var I = this.a0Y.bind(this);
      for (var G = 0; G < eU.Wq.length; G++) {
          var h = eU.Wq[G]
            , o = c.w("div");
          i.appendChild(o);
          o.setAttribute("style", "background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
          o.textContent = i2.get(h);
          for (var H in eU.names) {
              var A = eU.names[H];
              if (A[0] != G)
                  continue;
              eU.aL(H, {
                  rect: k,
                  buffer: V
              }, eU.Sk(H), {
                  h: 0,
                  l: 0,
                  O: 0
              }, {
                  h: 255,
                  l: 255,
                  O: 255
              }, {
                  rect: k,
                  buffer: j
              }, {});
              g.clearRect(0, 0, 500, 500);
              g.putImageData(e, 0, 0);
              var S = i2.get(A[1]);
              g.fillText(S, (C - g.measureText(S).width) / 2, N + Math.round(a * 1.2));
              var v = c.w("div");
              i.appendChild(v);
              v.setAttribute("style", "display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
              v.addEventListener("click", I, !1);
              var o = c.w("img");
              v.appendChild(o);
              o.setAttribute("src", L.toDataURL());
              o.setAttribute("style", "width:" + C / c.M() + "px; margin-bottom:0px;");
              this.LF[H] = v
          }
      }
  }
  ;
  M.GEfc.prototype.a0Y = function(E) {
      var K;
      for (var i in this.LF)
          if (this.LF[i] == E.currentTarget)
              this._q = i;
      this.m0()
  }
  ;
  M.GEfc.prototype.tg = function(E) {
      var K = h1.o8(this.YH, E)
        , i = this.D$.GEfs.v
        , C = i[this.Zp].v;
      if (K == 0) {
          i.push(JSON.parse(JSON.stringify(i[this.Zp])));
          this.Zp = i.length - 1
      } else if (i.length > 1) {
          i.splice(this.Zp, 1);
          if (this.Zp == i.length)
              this.Zp--
      }
      this.An();
      this.Vp()
  }
  ;
  M.GEfc.prototype.m0 = function(E) {
      var K = this._q, i;
      if (E == null)
          i = eU.Sk(K);
      else
          i = this.aM[K].u();
      this.D$.GEfs.v[this.Zp].v = i;
      this.An();
      this.Vp()
  }
  ;
  M.GEfc.prototype.T = function(E, K, i, C, N) {
      if (this.LF == null)
          this.aa6();
      E = this.D$ = JSON.parse(JSON.stringify(E));
      if (E.GEfs == null)
          E = this.D$ = {
              __name: "Filter Gallery",
              classID: "GEfc",
              GEfs: {
                  t: "VlLs",
                  v: [{
                      t: "Objc",
                      v: E
                  }]
              }
          };
      var k = E.GEfs.v;
      for (var G = 0; G < k.length; G++)
          if (k[G].v.GELv == null)
              k[G].v.GELv = {
                  t: "bool",
                  v: !0
              };
      this.Zp = k.length - 1;
      this.An();
      i = i.clone();
      if (K == null)
          return;
      if (!C.Ql(i) && eU.Oa(E).x != 0) {
          var V = i.ip(C)
            , j = _.I(V.X() * 4);
          _.p8(K, i, j, V);
          K = j;
          i = V
      }
      i.x = i.y = 0;
      this.WS = K;
      this.gM = K.slice(0);
      this.ku = i;
      this.Vp()
  }
  ;
  M.GEfc.prototype.anZ = function(E) {
      var K = E.data
        , G = K.EL
        , i = this.D$.GEfs.v;
      if (K.pz) {
          i[G].v.GELv.v = !i[G].v.GELv.v;
          this.Vp()
      } else
          this.Zp = G;
      this.An()
  }
  ;
  M.GEfc.prototype.An = function() {
      var E = this.D$.GEfs.v
        , K = E[this.Zp].v
        , i = K.GEfk.v.GEft
        , C = this.qX;
      if (eU.names[i] == null) {
          alert("Unsupported gallery filter");
          c.kL(C)
      } else {
          this._q = i;
          for (var N in this.LF)
              c.lD(this.LF[N], "selected");
          c.U8(this.LF[i], "selected");
          var k = this.aM[i];
          k.T(K);
          if (C.firstChild != k.j) {
              c.kL(C);
              C.appendChild(k.j)
          }
      }
      var V = [];
      for (var G = 0; G < E.length; G++) {
          var j = E[G].v
            , a = eU.names[j.GEfk.v.GEft]
            , e = new cS(G,!0,!0,null,a ? a[1] : "Filter",G == this.Zp,j.GELv.v);
          e.parent = this;
          V.push(e.j)
      }
      c.kL(this.yx);
      V.reverse();
      for (var G = 0; G < V.length; G++)
          this.yx.appendChild(V[G]);
      this.FY(this.R9, this.dA)
  }
  ;
  M.GEfc.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.D$))
  }
  ;
  M.GEfc.prototype.Vp = function(E) {
      var K = this.ku
        , i = this.WS
        , C = this.gM
        , N = this._q
        , k = this.D$
        , V = this.Mi;
      function j(a) {
          return {
              h: a >>> 16,
              l: a >>> 8 & 255,
              O: a & 255
          }
      }
      ef.aL("GEfc", {
          rect: this.ku,
          buffer: this.WS
      }, k, j(V.sm), j(V.JT), {
          rect: this.ku,
          buffer: this.gM
      }, null);
      this.view.T([{
          UP: K,
          data: C.buffer
      }])
  }
  ;
  M.GEfc.prototype.B = function() {
      for (var E in this.aM)
          this.aM[E].B();
      h1.Ag(this.YH, ["lrs/newlayer", "lrs/bin"])
  }
  ;
  M.GEfc.Uh = function(E) {
      aB.call(this);
      this.gk = E;
      this.j = c.w("div");
      this.Tb = {};
      var K = eU.Sk(E);
      for (var i in K) {
          var C;
          if (i == "__name" || i == "classID" || i == "GEfk" || i == "GELv" || ["LghI", "FlRs"].indexOf(i) != -1)
              continue;
          else if (i == "Sz")
              C = new hk([12, 14, 0],1,50);
          else if (i == "Dtl")
              C = E == "Chrc" ? new hk("Detail",0,5) : new hk("Detail",1,15);
          else if (i == "Shrp")
              C = new hk("Sharpness",0,40);
          else if (i == "TxtT")
              C = new gc([12, 67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
          else if (i == "BrsT")
              C = new gc("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
          else if (i == "LghD")
              C = new gc("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
          else if (i == "SDir")
              C = new gc([12, 33],["Right Diagonal", "Horizontal", "Left Diagonal", "Vertical"]);
          else if (i == "EdgW")
              C = new hk("Edge Width",1,14);
          else if (i == "EdgB")
              C = new hk("Edge Brightness",0,20);
          else if (i == "Smth")
              C = new hk([19, 3, 3],1,E == "Stmp" ? 50 : 15);
          else if (i == "ClSz")
              C = new hk([12, 61],3,100);
          else if (i == "BrdT")
              C = new hk([7, 9],1,20);
          else if (i == "HghS")
              C = new hk([12, 64],0,20);
          else if (i == "HlSz")
              C = new hk([12, 14, 0],1,15);
          else if (i == "Cntr")
              C = new hk([12, 3, 0],0,50);
          else if (i == "ScrT")
              C = new gc([12, 62],["Circle", "Dot", [10, 35]]);
          else if (i == "SprR")
              C = new hk("Spray Radius",0,25);
          else if (i == "StrL")
              C = new hk("Stroke Length",0,20);
          else if (i == "LgDr")
              C = new hk("Light/Dark Balance",0,E == "Stmp" ? 50 : 100);
          else if (i == "Drkn")
              C = new hk("Darkness",1,50);
          else if (i == "Dstr")
              C = new hk("Distortion",0,20);
          else if (i == "Scln")
              C = new hk([12, 38],50,200);
          else if (i == "Rlf")
              C = new hk("Relief",0,50);
          else if (i == "ChAm")
              C = new hk("Thickness",1,7);
          else if (i == "InvT")
              C = new ck([4, 11]);
          else if (i == "RplS")
              C = new hk("Ripple Size",1,15);
          else if (i == "RplM")
              C = new hk("Ripple Magnitude",0,20);
          else
              console.log(i);
          C.k(c.E.L, this.dH, this);
          this.Tb[i] = C;
          this.j.appendChild(C.j)
      }
  }
  ;
  M.GEfc.Uh.prototype = new aB;
  M.GEfc.Uh.prototype.dH = function(E) {
      this.U(new q(c.E.L,!1))
  }
  ;
  M.GEfc.Uh.prototype.T = function(E) {
      for (var K in this.Tb) {
          var i;
          if ("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM".split(" ").indexOf(K) != -1)
              i = E[K].v;
          else if (K == "TxtT")
              i = eU.NC.indexOf(E[K].v[K]);
          else if (K == "BrsT")
              i = eU.w_.indexOf(E[K].v[K]);
          else if (K == "LghD")
              i = eU.r7.indexOf(E[K].v[K]);
          else if (K == "ScrT")
              i = eU.Tq.indexOf(E[K].v[K]);
          else if (K == "SDir")
              i = eU.Vk.indexOf(E[K].v.StrD);
          this.Tb[K].T(i)
      }
  }
  ;
  M.GEfc.Uh.prototype.u = function() {
      var E = eU.Sk(this.gk);
      for (var K in this.Tb) {
          var i = this.Tb[K].u();
          if ("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM".split(" ").indexOf(K) != -1)
              E[K].v = i;
          else if (K == "TxtT")
              E[K].v[K] = eU.NC[i];
          else if (K == "BrsT")
              E[K].v[K] = eU.w_[i];
          else if (K == "LghD")
              E[K].v[K] = eU.r7[i];
          else if (K == "ScrT")
              E[K].v[K] = eU.Tq[i];
          else if (K == "SDir")
              E[K].v.StrD = eU.Vk[i]
      }
      return E
  }
  ;
  M.GEfc.Uh.prototype.B = function() {
      for (var E in this.Tb)
          this.Tb[E].B()
  }
  ;
  M.blnc = function() {
      M.call(this);
      var E = this.j;
      this.gC = null;
      this.CX = new gc([12, 12],[[19, 6, 0], [19, 6, 1], [19, 6, 2]]);
      this.CX.k(c.E.L, this.Vp, this);
      E.appendChild(this.CX.j);
      this.sz = [];
      for (var G = 0; G < 3; G++) {
          var K = new hk(gM.Hh[G],-100,100);
          K.k(c.E.L, this.dm, this);
          this.sz.push(K);
          E.appendChild(K.j)
      }
      this.Q6 = new ck([13, 4]);
      this.Q6.k(c.E.L, this.dm, this);
      E.appendChild(this.Q6.j)
  }
  ;
  M.blnc.prototype = new M;
  M.blnc.prototype.B = function() {
      this.CX.B();
      for (var G = 0; G < 3; G++)
          this.sz[G].B();
      this.Q6.B()
  }
  ;
  M.blnc.prototype.T = function(E) {
      this.gC = JSON.parse(JSON.stringify(E));
      this.Vp()
  }
  ;
  M.blnc.prototype.u = function(E) {
      var K = ["ShdL", "MdtL", "HghL"]
        , i = this.gC[K[this.CX.u()]].v;
      for (var G = 0; G < 3; G++)
          i[G].v = this.sz[G].u();
      this.gC.PrsL.v = this.Q6.u();
      return JSON.parse(JSON.stringify(this.gC))
  }
  ;
  M.blnc.prototype.Vp = function(E) {
      var K = ["ShdL", "MdtL", "HghL"]
        , i = this.gC[K[this.CX.u()]].v;
      for (var G = 0; G < 3; G++)
          this.sz[G].T(i[G].v);
      this.Q6.T(this.gC.PrsL.v)
  }
  ;
  M.brit = function() {
      M.call(this, "brit");
      this.kr.push(new hk([12, 2],-150,150,""));
      this.kr.push(new hk([12, 3, 0],-100,100,""));
      this.kr.push(new ck([12, 3, 1]));
      this.ZV()
  }
  ;
  M.brit.prototype = new M;
  M.brit.prototype.A5 = function(E, K) {
      K[0] = E.Brgh ? E.Brgh.v : 0;
      K[1] = E.Cntr ? E.Cntr.v : 0;
      K[2] = E.useLegacy ? E.useLegacy.v : !1
  }
  ;
  M.brit.prototype.Ku = function(E, K) {
      E.Brgh.v = K[0];
      E.Cntr.v = K[1];
      E.useLegacy.v = K[2]
  }
  ;
  M.curv = function() {
      M.call(this);
      this.value = null;
      this.XK = null;
      var E = this.j;
      this.QH = new gc([12, 4],["RGB", [13, 1, 1], [13, 1, 4], [13, 1, 5]]);
      this.QH.k(c.E.L, this.ry, this);
      E.appendChild(this.QH.j);
      this.u7 = new gc(null,["Spline", "Sketch"]);
      this.u7.k(c.E.L, this.amI, this);
      E.appendChild(this.u7.j);
      this.no = new eD;
      this.no.k(c.E.L, this.u4, this);
      E.appendChild(this.no.j);
      this.EJ = new fX("Sample from image",["#000000", "#888888", "#ffffff"]);
      E.appendChild(this.EJ.j)
  }
  ;
  M.curv.prototype = new M;
  M.curv.prototype.B = function() {
      this.QH.B()
  }
  ;
  M.curv.prototype.amI = function(E) {
      var K = bZ.oD(this.value, 0)
        , i = K.length == 256 ? 1 : 0
        , C = this.u7.u();
      if (i == C)
          return;
      var N = ef.Sk("curv");
      if (C == 1) {
          var k = [];
          for (var G = 0; G < 256; G++)
              k.push(G);
          bZ.RM(N, 0, k)
      }
      this.T(N);
      this.dm()
  }
  ;
  M.curv.prototype.u4 = function() {
      bZ.RM(this.value, this.QH.u(), this.no.u());
      this.dm()
  }
  ;
  M.curv.prototype.ry = function() {
      var E = this.QH.u()
        , K = bZ.oD(this.value, E)
        , i = K.length == 256 ? 1 : 0;
      this.u7.T(i);
      if (this.XK)
          this.no.TC(this.XK[E], this.XK[4] * [1, .33, .33, .33][E], ["#ccc", "#fcc", "#cfc", "#ccf"][E]);
      this.no.T(K)
  }
  ;
  M.curv.prototype.Di = function() {
      return !0
  }
  ;
  M.curv.prototype.Cs = function(E, K, i, C, N) {
      var k = this.value
        , V = this.EJ.u();
      this.value = ef.Sk("curv");
      this.dm();
      var j = u.NH.Hn(E, N, 1)
        , a = [j >>> 16 & 255, j >>> 8 & 255, j & 255];
      for (var G = 0; G < 3; G++) {
          var e = bZ.oD(k, 1 + G);
          if (V == 0)
              e[0].v.Hrzn.v = a[G];
          if (V == 1) {
              var L = (a[0] + a[1] + a[2]) * .333
                , g = Math.log(a[G] / 255) / Math.log(L / 255)
                , I = Math.min(999, Math.max(10, Math.round(100 * g)));
              if (e.length == 2)
                  e.splice(1, 0, JSON.parse(JSON.stringify(e[0])));
              e[1].v.Hrzn.v = 127 - Math.log(I / 100) * 127;
              e[1].v.Vrtc.v = 127
          }
          if (V == 2)
              e[e.length - 1].v.Hrzn.v = a[G];
          bZ.RM(k, 1 + G, e)
      }
      this.T(k);
      this.dm()
  }
  ;
  M.curv.prototype.T = function(E) {
      this.value = E;
      this.ry()
  }
  ;
  M.curv.prototype.TC = function(E) {
      this.XK = E;
      this.ry()
  }
  ;
  M.curv.prototype.u = function(E) {
      return JSON.parse(JSON.stringify(this.value))
  }
  ;
  M.expA = function() {
      M.call(this, "expA");
      this.kr.push(new hk([12, 5],-20,20,null,3));
      this.kr.push(new hk([12, 6],-.5,.5,null,3));
      this.kr.push(new hk([12, 7],.01,6.99,null,3));
      this.ZV()
  }
  ;
  M.expA.prototype = new M;
  M.expA.prototype.A5 = function(E, K) {
      K[0] = E.Exps.v;
      K[1] = E.Ofst.v;
      K[2] = E.gammaCorrection.v
  }
  ;
  M.expA.prototype.Ku = function(E, K) {
      E.Exps.v = K[0];
      E.Ofst.v = K[1];
      E.gammaCorrection.v = K[2]
  }
  ;
  M.grdm = function() {
      M.call(this, "grdm");
      this.kr.push(new c6(!0,null,!0));
      this.kr.push(new ck([12, 23, 0]));
      this.ZV()
  }
  ;
  M.grdm.prototype = new M;
  M.grdm.prototype.A5 = function(E, K) {
      K[0] = E.Grad.v;
      K[1] = E.Rvrs ? E.Rvrs.v : !1
  }
  ;
  M.grdm.prototype.Ku = function(E, K) {
      E.Grad.v = K[0];
      E.Rvrs = {
          t: "bool",
          v: K[1]
      }
  }
  ;
  M.grdm.prototype.bX = function(E, K) {
      this.kr[0].ca(E.sm, E.JT);
      if (K == dp.iW || K == dp.VL || K == dp.vq)
          this.kr[0].$S(E.i0)
  }
  ;
  M.selc = function() {
      M.call(this);
      var E = this.j;
      this.zZ = [];
      this.jy = null;
      this.CX = new gc([12, 82],gM.dQ.concat([[13, 1, 8], [13, 1, 13], [13, 1, 10]]));
      this.CX.k(c.E.L, this.dH, this);
      E.appendChild(this.CX.j);
      for (var G = 0; G < 4; G++) {
          var K = new hk(gM.amr[G],-100,100,"%");
          K.k(c.E.L, this.dH, this);
          this.zZ.push(K);
          E.appendChild(K.j)
      }
      this.Ia = new ck([13, 3]);
      E.appendChild(this.Ia.j);
      this.Ia.k(c.E.L, this.dH, this)
  }
  ;
  M.selc.prototype = new M;
  M.selc.prototype.B = function() {
      this.CX.B();
      this.Ia.B();
      for (var G = 0; G < 4; G++)
          this.zZ[G].B()
  }
  ;
  M.selc.prototype.T = function(E) {
      this.jy = JSON.parse(JSON.stringify(E));
      this.Vp()
  }
  ;
  M.selc.prototype.u = function(E) {
      return JSON.parse(JSON.stringify(this.jy))
  }
  ;
  M.selc.prototype.dH = function(E) {
      if (E.target != this.CX) {
          var K = this.jy
            , i = [];
          for (var G = 0; G < 4; G++)
              i[G] = this.zZ[G].u();
          cQ.RM(K, this.CX.u(), i);
          K.Mthd = {
              t: "enum",
              v: {
                  CrcM: this.Ia.u() ? "Absl" : "Rltv"
              }
          }
      }
      this.Vp();
      this.dm()
  }
  ;
  M.selc.prototype.Vp = function() {
      var E = this.jy
        , K = cQ.oD(E, this.CX.u());
      for (var G = 0; G < 4; G++)
          this.zZ[G].T(K[G]);
      this.Ia.T(E.Mthd ? E.Mthd.v.CrcM == "Absl" : !1)
  }
  ;
  M.blwh = function() {
      M.call(this, "blwh");
      this.kr.push(new ck([12, 11]));
      this.kr.push(new ha(!0));
      for (var G = 0; G < 6; G++)
          this.kr.push(new hk(gM.dQ[G],-200,300));
      this.ZV()
  }
  ;
  M.blwh.prototype = new M;
  M.blwh.prototype.A5 = function(E, K) {
      K[0] = E.useTint.v;
      K[1] = E.tintColor.v;
      var i = "Rd Yllw Grn Cyn Bl Mgnt".split(" ");
      for (var G = 0; G < 6; G++)
          K[2 + G] = E[i[G]].v
  }
  ;
  M.blwh.prototype.Ku = function(E, K) {
      E.useTint.v = K[0];
      E.tintColor.v = K[1];
      var i = "Rd Yllw Grn Cyn Bl Mgnt".split(" ");
      for (var G = 0; G < 6; G++)
          E[i[G]].v = K[2 + G]
  }
  ;
  M.hue2 = function() {
      M.call(this);
      this.value = null;
      this.EA = null;
      this.a2y = null;
      var E = this.j;
      this.CX = new gc([12, 12],["Master"].concat(gM.dQ));
      this.CX.k(c.E.L, this.ry, this);
      E.appendChild(this.CX.j);
      this.h5 = new hk([12, 8],-180,180);
      this.h5.k(c.E.L, this.wl, this);
      E.appendChild(this.h5.j);
      this.IB = new hk([12, 9],-100,100);
      this.IB.k(c.E.L, this.wl, this);
      E.appendChild(this.IB.j);
      this.YZ = new hk([12, 10],-100,100);
      this.YZ.k(c.E.L, this.wl, this);
      E.appendChild(this.YZ.j);
      this.Yw = new ck([12, 11]);
      this.Yw.k(c.E.L, this.ac0, this);
      E.appendChild(this.Yw.j);
      this.a0a = new di("...",!0);
      E.appendChild(this.a0a.j)
  }
  ;
  M.hue2.prototype = new M;
  M.hue2.prototype.B = function() {
      this.h5.B();
      this.IB.B();
      this.YZ.B();
      this.Yw.B();
      this.CX.B()
  }
  ;
  M.hue2.prototype.ac0 = function(E) {
      var K = this.Yw.u();
      this.value.Clrz.v = K;
      if (K)
          this.CX.T(0);
      this.ry();
      this.dm()
  }
  ;
  M.hue2.prototype.wl = function(E) {
      var K = this.value.Clrz.v
        , i = this.CX.u()
        , C = dn.oD(this.value, i)
        , N = i == 0 ? C : C.sz;
      N[0] = this.h5.u();
      var k = this.IB.u();
      N[1] = K ? Math.max(0, k) : k;
      N[2] = this.YZ.u();
      dn.RM(this.value, i, C);
      this.ry();
      this.dm()
  }
  ;
  M.hue2.prototype.ry = function() {
      var E = this.value.Clrz ? this.value.Clrz.v : !1
        , N = "";
      this.Yw.T(E);
      if (E)
          this.CX.EF();
      else
          this.CX.lV();
      var K = this.CX.u()
        , i = dn.oD(this.value, K)
        , C = K == 0 ? i : i.sz;
      this.h5.T(C[0]);
      this.IB.T(C[1]);
      this.YZ.T(C[2]);
      if (!E) {
          N += i2.get([5, 8]) + ": ";
          var K = this.CX.u();
          if (K == 0)
              N += i2.get([13, 2]);
          else
              N += i.ew
      }
      this.a0a.T(N)
  }
  ;
  M.hue2.prototype.Di = function() {
      return !0
  }
  ;
  M.hue2.prototype.om = function(E, K, i, C, N) {
      var k = this.value;
      this.value = ef.Sk("hue2");
      this.dm();
      var V = u.NH.Hn(E, N, 1)
        , j = [V >>> 16 & 255, V >>> 8 & 255, V & 255]
        , a = _.Et(j[0] / 255, j[1] / 255, j[2] / 255);
      this.CX.T(1 + Math.round(a.w1 * 6) % 6);
      this.T(k);
      this.dm();
      this.EA = N.x;
      this.a2y = this.IB.u()
  }
  ;
  M.hue2.prototype.n9 = function(E, K, i, C, N) {
      if (this.EA != null) {
          var k = N.x - this.EA;
          k = Math.max(-100, Math.min(100, this.a2y + .5 * k));
          this.IB.T(k);
          this.wl()
      }
  }
  ;
  M.hue2.prototype.Cs = function(E, K, i, C, N) {
      this.EA = null
  }
  ;
  M.hue2.prototype.T = function(E) {
      this.value = JSON.parse(JSON.stringify(E));
      this.ry()
  }
  ;
  M.hue2.prototype.u = function(E) {
      return JSON.parse(JSON.stringify(this.value))
  }
  ;
  M.levl = function() {
      M.call(this);
      this.value = null;
      this.XK = null;
      this.q1 = [new bT(0,0), new bT(0,0), new bT(0,0), new bT(0,0), new bT(0,0)];
      this.lu = -1;
      this.HM = this.$R.bind(this);
      this.lH = this.$T.bind(this);
      var E = this.j;
      this.QH = new gc([12, 4],["RGB", [13, 1, 1], [13, 1, 4], [13, 1, 5]]);
      this.QH.k(c.E.L, this.ry, this);
      E.appendChild(this.QH.j);
      var K = c.w("div", "");
      E.appendChild(K);
      var i = c.w("div", "");
      E.appendChild(i);
      this.oV = c.w("canvas");
      K.appendChild(this.oV);
      this.NE = this.oV.getContext("2d");
      this.o$ = new bT(256,120);
      this.oV.setAttribute("style", "display:block");
      c.Xh(this.oV, this.o$.x, this.o$.y, this.NE);
      c.pq(this.oV);
      c.vo(this.oV, this.Aq.bind(this));
      this.nR = c.w("canvas", "");
      i.appendChild(this.nR);
      this.DF = this.nR.getContext("2d");
      this.d6 = new bT(this.o$.x,40);
      this.nR.setAttribute("style", "display:block");
      c.Xh(this.nR, this.d6.x, this.d6.y, this.DF);
      c.pq(this.nR);
      c.vo(this.nR, this.ak8.bind(this));
      var C = this.abm = [];
      for (var G = 0; G < 5; G++) {
          var N = new fN(null,null,3);
          C.push(N);
          N.k(c.E.L, this.abw, this);
          (G < 2 || G == 4 ? K : i).appendChild(N.j)
      }
      K.appendChild(C[1].j);
      C[4].j.setAttribute("style", "margin: 0 4.7em");
      C[3].j.setAttribute("style", "margin:0 0 0 13em");
      this.EJ = new fX("Sample from image",["#000000", "#888888", "#ffffff"]);
      E.appendChild(this.EJ.j)
  }
  ;
  M.levl.prototype = new M;
  M.levl.prototype.B = function() {
      this.QH.B()
  }
  ;
  M.levl.prototype.abw = function(E) {
      var K = [];
      for (var G = 0; G < 5; G++) {
          var i = 255
            , C = 1;
          if (G == 4) {
              i = 999;
              C = 100
          }
          var N = parseFloat(this.abm[G].u());
          K[G] = Math.max(0, Math.min(i, N * C))
      }
      aH.RM(this.value, this.QH.u(), K);
      this.ry();
      this.dm()
  }
  ;
  M.levl.prototype.ry = function(E) {
      var K = this.o$.x
        , i = this.o$.y
        , C = this.QH.u()
        , N = this.NE;
      N.clearRect(0, 0, K, i);
      N.fillStyle = "#cccccc";
      N.fillRect(8, 8, K - 16, i - 16 - 8);
      if (this.XK) {
          if (C == 0) {
              this.XK[0].fill(0);
              var k = JSON.parse(JSON.stringify(this.value));
              aH.RM(k, 0, [0, 255, 0, 255, 100]);
              var V = gM.CZ("levl", k)
                , j = [V.wg, V.Zo, V.Lh];
              for (var a = 0; a < 3; a++) {
                  var e = this.XK[1 + a]
                    , L = j[a];
                  for (var G = 0; G < 256; G++)
                      this.XK[0][L[G]] += e[G]
              }
          }
          var g = this.XK[C]
            , I = 0;
          for (var G = 0; G < g.length; G++)
              I += g[G];
          N.fillStyle = "#333333";
          N.beginPath();
          N.moveTo(8, i - 16);
          for (var G = 0; G < 256; G++) {
              var h = 55 * g[G] / I;
              N.lineTo(8 + G / 256 * (K - 16), Math.max(8, i - 16 - i * h))
          }
          N.lineTo(K - 8, i - 16);
          N.closePath();
          N.fill()
      }
      var o = aH.oD(this.value, C);
      for (var G = 0; G < 5; G++)
          this.abm[G].T(o[G] / (G == 4 ? 100 : 1));
      this.q1[0].Wm(8 + o[0] / 255 * (K - 16), i - 14);
      this.q1[1].Wm(8 + o[1] / 255 * (K - 16), i - 14);
      var H = Math.log(o[4] / 100) / Math.log(9.99);
      H = .5 - H / 2;
      this.q1[4].Wm(this.q1[0].x + H * (this.q1[1].x - this.q1[0].x), i - 14);
      this.kN(N, this.q1[0], "#000000");
      this.kN(N, this.q1[1], "#ffffff");
      this.kN(N, this.q1[4], "#777777");
      var K = this.d6.x
        , i = this.d6.y;
      N = this.DF;
      N.clearRect(0, 0, K, i);
      var A = N.createLinearGradient(0, 0, K - 16, 0);
      A.addColorStop(0, "black");
      A.addColorStop(1, "white");
      N.fillStyle = A;
      N.fillRect(8, 8, K - 16, 16);
      this.q1[2].Wm(8 + o[2] / 255 * (K - 16), i - 14);
      this.q1[3].Wm(8 + o[3] / 255 * (K - 16), i - 14);
      this.kN(N, this.q1[2], "#000000");
      this.kN(N, this.q1[3], "#ffffff")
  }
  ;
  M.levl.prototype.kN = function(E, K, i) {
      E.fillStyle = i;
      E.fillRect(K.x - 5, K.y, 10, 10)
  }
  ;
  M.levl.prototype.Aq = function(E) {
      var K = c.DX(E, this.oV);
      for (var G = 0; G < 2; G++)
          if (bT.zL(this.q1[G], K) < 10)
              this.lu = G;
      if (bT.zL(this.q1[4], K) < 10)
          this.lu = 4;
      this.r2()
  }
  ;
  M.levl.prototype.ak8 = function(E) {
      var K = c.DX(E, this.nR);
      for (var G = 2; G < 4; G++)
          if (bT.zL(this.q1[G], K) < 10)
              this.lu = G;
      this.r2()
  }
  ;
  M.levl.prototype.r2 = function(E) {
      if (this.lu == -1)
          return;
      c.ys(document.body, this.HM);
      c.vL(document.body, this.lH)
  }
  ;
  M.levl.prototype.$R = function(E) {
      var K = aH.oD(this.value, this.QH.u())
        , i = c.DX(E, this.lu == 2 && this.lu == 3 ? this.nR : this.oV)
        , C = 255 * (i.x - 8) / (this.o$.x - 16);
      C = Math.max(0, Math.min(255, C));
      if (this.lu == 0)
          C = Math.min(C, K[1] - 2);
      if (this.lu == 1)
          C = Math.max(C, K[0] + 2);
      if (this.lu != 4)
          K[this.lu] = Math.round(C);
      else {
          var N = (C - K[0]) / (K[1] - K[0]);
          N = 1 - 2 * N;
          N = Math.pow(9.99, N);
          K[4] = Math.min(999, Math.max(10, Math.round(N * 100)))
      }
      aH.RM(this.value, this.QH.u(), K);
      this.ry();
      this.dm()
  }
  ;
  M.levl.prototype.$T = function(E) {
      c.sI(document.body, this.HM);
      c.qU(document.body, this.lH);
      this.lu = -1
  }
  ;
  M.levl.prototype.Di = function() {
      return !0
  }
  ;
  M.levl.prototype.Cs = function(E, K, i, C, N) {
      var k = this.value
        , V = this.EJ.u();
      this.value = ef.Sk("levl");
      this.dm();
      var j = u.NH.Hn(E, N, 1)
        , a = [j >>> 16 & 255, j >>> 8 & 255, j & 255];
      for (var G = 0; G < 3; G++) {
          var e = aH.oD(k, 1 + G);
          if (V == 0)
              e[0] = a[G];
          if (V == 1) {
              var L = Math.log(a[G] / 255) / Math.log((a[0] + a[1] + a[2]) * .333 / 255);
              e[4] = Math.min(999, Math.max(10, Math.round(100 * L)))
          }
          if (V == 2)
              e[1] = a[G];
          aH.RM(k, 1 + G, e)
      }
      this.T(k);
      this.dm()
  }
  ;
  M.levl.prototype.T = function(E) {
      this.value = E;
      this.ry()
  }
  ;
  M.levl.prototype.TC = function(E) {
      this.XK = E;
      this.ry()
  }
  ;
  M.levl.prototype.u = function(E) {
      return JSON.parse(JSON.stringify(this.value))
  }
  ;
  M.phfl = function() {
      M.call(this, "phfl");
      this.kr.push(new ha);
      this.kr.push(new hk([12, 74],0,100,"%"));
      this.kr.push(new ck([13, 4]));
      this.ZV()
  }
  ;
  M.phfl.prototype = new M;
  M.phfl.prototype.A5 = function(E, K) {
      K[0] = E.Clr.v;
      K[1] = E.Dnst.v;
      K[2] = E.PrsL.v
  }
  ;
  M.phfl.prototype.Ku = function(E, K) {
      var i = _.V.Gk(K[0])
        , C = E.Clr.v
        , N = _.th(i.h, i.l, i.O);
      C.Lmnc.v = N.Ym;
      C.A.v = N.R;
      C.B.v = N.O;
      E.Dnst.v = K[1];
      E.PrsL.v = K[2]
  }
  ;
  M.vibA = function() {
      M.call(this, "vibA");
      this.kr.push(new hk([12, 13],-100,100,null));
      this.kr.push(new hk([12, 9],-100,100,null));
      this.ZV()
  }
  ;
  M.vibA.prototype = new M;
  M.vibA.prototype.A5 = function(E, K) {
      K[0] = E.vibrance ? E.vibrance.v : 0;
      K[1] = E.Strt ? E.Strt.v : 0
  }
  ;
  M.vibA.prototype.Ku = function(E, K) {
      E.vibrance.v = K[0];
      E.Strt.v = K[1]
  }
  ;
  M.thrs = function() {
      M.call(this, "thrs");
      this.kr.push(new hk([4, 13],1,255,null));
      this.ZV()
  }
  ;
  M.thrs.prototype = new M;
  M.thrs.prototype.A5 = function(E, K) {
      K[0] = E.Lvl.v
  }
  ;
  M.thrs.prototype.Ku = function(E, K) {
      E.Lvl.v = K[0]
  }
  ;
  M.mixr = function() {
      M.call(this);
      var E = this.j;
      this.zZ = [];
      this.jy = null;
      this.CX = new gc([12, 4],[[13, 1, 1], [13, 1, 4], [13, 1, 5]]);
      this.CX.k(c.E.L, this.dH, this);
      E.appendChild(this.CX.j);
      c.eg(E);
      this.jE = new ck([12, 60]);
      E.appendChild(this.jE.j);
      this.jE.k(c.E.L, this.dH, this);
      for (var G = 0; G < 4; G++) {
          var K = new hk([[13, 1, 1], [13, 1, 4], [13, 1, 5], [13, 2]][G],-200,200,"%");
          K.k(c.E.L, this.dH, this);
          this.zZ.push(K);
          E.appendChild(K.j)
      }
  }
  ;
  M.mixr.prototype = new M;
  M.mixr.prototype.B = function() {
      this.CX.B();
      this.jE.B();
      for (var G = 0; G < 4; G++)
          this.zZ[G].B()
  }
  ;
  M.mixr.prototype.T = function(E) {
      this.jy = JSON.parse(JSON.stringify(E));
      this.Vp()
  }
  ;
  M.mixr.prototype.u = function(E) {
      return JSON.parse(JSON.stringify(this.jy))
  }
  ;
  M.mixr.prototype.dH = function(E) {
      if (E.target != this.CX) {
          var K = gM.WF(this.jy);
          if (E.target == this.jE) {
              K.jE = this.jE.u();
              if (K.jE)
                  K.G = [40, 40, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
              else
                  K.G = [100, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0]
          } else {
              var i = (K.jE ? 0 : this.CX.u()) * 5
                , G = this.zZ.indexOf(E.target);
              K.G[i + (G < 3 ? G : 4)] = E.target.u()
          }
          this.jy = gM.IW(K)
      }
      this.Vp();
      this.dm()
  }
  ;
  M.mixr.prototype.Vp = function() {
      var E = gM.WF(this.jy);
      this.jE.T(E.jE);
      var K = (E.jE ? 0 : this.CX.u()) * 5;
      for (var G = 0; G < 4; G++)
          this.zZ[G].T(E.G[K + (G < 3 ? G : 4)])
  }
  ;
  M.post = function() {
      M.call(this, "post");
      this.kr.push(new hk([4, 1],2,255,null));
      this.ZV()
  }
  ;
  M.post.prototype = new M;
  M.post.prototype.A5 = function(E, K) {
      K[0] = E.Lvls.v
  }
  ;
  M.post.prototype.Ku = function(E, K) {
      E.Lvls.v = K[0]
  }
  ;
  M.clrL = function() {
      M.call(this, "clrL");
      this.kr.push(new dY("LUTs"));
      this.ZV()
  }
  ;
  M.clrL.prototype = new M;
  M.clrL.prototype.A5 = function(E, K) {
      K[0] = E
  }
  ;
  M.clrL.prototype.Ku = function(E, K) {
      var i = K[0];
      for (var C in i)
          E[C] = i[C]
  }
  ;
  M.clrL.prototype.bX = function(E, K) {
      if (K == dp.iW || K == dp.dw)
          this.kr[0].$S(E.ahe)
  }
  ;
  M.rplc = function() {
      M.call(this, "rplc");
      this.kr.push(new hk([12, 92],0,200));
      this.kr.push(new ha);
      this.kr.push(new hk([12, 8],-180,180));
      this.kr.push(new hk([12, 9],-100,100));
      this.kr.push(new hk([12, 10],-100,100));
      this.ZV()
  }
  ;
  M.rplc.prototype = new M;
  M.rplc.prototype.A5 = function(E, K) {
      K[0] = E.Fzns.v;
      K[1] = E.Mxm.v;
      K[2] = E.H.v;
      K[3] = E.Strt.v;
      K[4] = E.Lght.v
  }
  ;
  M.rplc.prototype.Ku = function(E, K) {
      function i(N, k) {
          k.Lmnc.v = N.Ym;
          k.A.v = N.R;
          k.B.v = N.O
      }
      E.Fzns.v = K[0];
      E.H.v = K[2];
      E.Strt.v = K[3];
      E.Lght.v = K[4];
      var C = _.V.Gk(K[1])
        , N = _.th(C.h, C.l, C.O);
      i(N, E.Mnm.v);
      i(N, E.Mxm.v)
  }
  ;
  M.fade = function() {
      M.call(this, "fade");
      this.kr.push(new hk([12, 0],0,100,"%"));
      this.kr.push(new gc([12, 19, 0],gx.z2,!1,gx.Dx));
      this.ZV()
  }
  ;
  M.fade.prototype = new M;
  M.fade.prototype.A5 = function(E, K) {
      K[0] = E.Opct.v.val;
      K[1] = gx.hr.indexOf(E.Md.v.BlnM)
  }
  ;
  M.fade.prototype.Ku = function(E, K) {
      E.Opct.v.val = K[0];
      E.Md.v.BlnM = gx.hr[K[1]]
  }
  ;
  M.aply = function() {
      M.call(this, "aply");
      this.kr.push(new gc([0, 3],[]));
      this.kr.push(new gc([12, 4],["RGB"].concat(gM.Hh).concat(["Transparency"])));
      this.kr.push(new ck([4, 11]));
      this.kr.push(new gc([12, 19, 0],gx.z2,!1,gx.Dx));
      this.kr.push(new hk([12, 0],0,100,"%"));
      this.kr.push(new ck("Preserve Transparency"));
      this.ZV([2]);
      this.bK = null
  }
  ;
  M.aply.prototype = new M;
  M.aply.prototype.A5 = function(E, K, i) {
      if (i) {
          var C = i[2].t
            , N = this.bK = [];
          for (var G = 0; G < C.length; G++)
              N.push(C[G].getName());
          N.reverse();
          this.kr[0].X2([[5, 7]].concat(N), [1, N.length])
      } else
          var N = this.bK;
      E = E.With.v;
      var k = E.T.v;
      K[0] = k[1].t == "name" ? 1 + N.indexOf(k[1].v.val) : 0;
      K[1] = ["RGB", "Rd", "Grn", "Bl", "Trsp"].indexOf(k[0].v.enum);
      K[2] = E.Invr.v;
      K[3] = gx.hr.indexOf(E.Clcl.v.Clcn);
      K[4] = E.Opct.v.val;
      K[5] = E.PrsT.v
  }
  ;
  M.aply.prototype.Ku = function(E, K) {
      E = E.With.v;
      var i = E.T.v;
      if (K[0] == 0)
          i[1] = {
              t: "Enmr",
              v: {
                  classID: "Lyr",
                  typeID: "Ordn",
                  enum: "Mrgd"
              }
          };
      else
          i[1] = {
              t: "name",
              v: {
                  classID: "Lyr",
                  val: this.bK[this.bK.length - 1 - K[0]]
              }
          };
      i[0].v.enum = ["RGB", "Rd", "Grn", "Bl", "Trsp"][K[1]];
      E.Invr.v = K[2];
      E.Clcl.v.Clcn = gx.hr[K[3]];
      E.Opct.v.val = K[4];
      E.PrsT.v = K[5]
  }
  ;
  function bQ(E, K) {
      aB.call(this);
      if (E == null)
          return;
      this.id = K;
      this.N7 = E;
      this.yU = null;
      this.j = c.w("div", "window " + K);
      this.aly = null;
      this.Xs = c.w("div", "whead");
      this.adt = c.w("span", "wname");
      this.Xs.appendChild(this.adt);
      this.j.appendChild(this.Xs);
      this.fQ = this.a0_.bind(this);
      this.$G = this.aiR.bind(this);
      this.ra = this.ai4.bind(this);
      c.pq(this.Xs);
      c.vo(this.Xs, this.fQ);
      this.pn = c.w("span", "cross");
      this.Xs.appendChild(this.pn);
      bQ.prototype.B.call(this);
      c.vL(this.pn, this.Bq.bind(this));
      this.body = c.w("div", "body");
      this.j.appendChild(this.body)
  }
  bQ.prototype = new aB;
  bQ.prototype.cn = function() {
      return !1
  }
  ;
  bQ.prototype.Di = function() {
      return !1
  }
  ;
  bQ.prototype.B = function() {
      if (this.N7 == null)
          return;
      this.adt.textContent = i2.get(this.N7);
      var E = PIMG.__cross == null ? "filter:invert(1);" : "";
      this.pn.setAttribute("style", "background-image:url(" + PIMG.cross + ");" + E)
  }
  ;
  bQ.prototype.om = function(E, K, i, C, N) {}
  ;
  bQ.prototype.UM = function(E, K, i, C, N) {}
  ;
  bQ.prototype.n9 = function(E, K, i, C, N) {}
  ;
  bQ.prototype.Cs = function(E, K, i, C, N) {}
  ;
  bQ.prototype.R2 = function(E, K, i, C, N) {}
  ;
  bQ.prototype.Ok = function(E, K, i, C) {
      if (C.q(w.U6) && this.zW)
          this.zW();
      if (C.q(w.qN)) {
          var N = new q(c.E.A);
          N.r1 = !0;
          u.z5.PK(C, N);
          if (N.data)
              K.U(N)
      }
  }
  ;
  bQ.prototype.Ci = function(E) {
      return !1
  }
  ;
  bQ.prototype.N$ = function(E, K) {
      return !0
  }
  ;
  bQ.prototype.MN = function(E, K, i, C) {}
  ;
  bQ.prototype.bX = function(E, K) {}
  ;
  bQ.prototype.yV = function(E, K) {
      return null
  }
  ;
  bQ.prototype.ajO = function(E) {
      return this.aly
  }
  ;
  bQ.prototype.FY = function() {}
  ;
  bQ.prototype.close = function() {
      this.U(new q(c.E.s3))
  }
  ;
  bQ.prototype.a0_ = function(E) {
      this.yU = c.DX(E, this.j);
      c.ys(window, this.$G);
      c.vL(window, this.ra)
  }
  ;
  bQ.prototype.aiR = function(E) {
      var K = this.j.parentNode
        , i = c.DX(E, K)
        , C = Math.round(i.x - this.yU.x)
        , N = K.offsetTop + Math.max(0, Math.min(window.innerHeight - 36, Math.round(i.y - this.yU.y)));
      this.aly = new bT(C,N);
      this.j.style.left = C + "px";
      this.j.style.top = N + "px"
  }
  ;
  bQ.prototype.ai4 = function(E) {
      c.sI(window, this.$G);
      c.qU(window, this.ra)
  }
  ;
  bQ.prototype.Bq = function(E) {
      this.U(new q("closebtn"));
      this.close()
  }
  ;
  function bn() {
      bQ.call(this, [0, 13, 0], "account");
      this.lo = c.w("div", "form padded scrollable");
      this.lo.setAttribute("style", "max-width:48em;  max-height:33em;");
      this.body.appendChild(this.lo);
      this.nv = [new bn.sL, new bn.Pv(bn.a1s), new bn.Pv(bn.acR)];
      for (var G = 0; G < this.nv.length; G++)
          this.nv[G].parent = this;
      this.k("showpage", this.ao6, this)
  }
  bn.prototype = new bQ;
  bn.prototype.ao6 = function(E) {
      c.kL(this.lo);
      this.lo.scrollTop = 0;
      this.lo.appendChild(this.nv[E.data.EL].j)
  }
  ;
  bn.prototype.B = function() {
      bQ.prototype.B.call(this);
      for (var G = 0; G < this.nv.length; G++)
          this.nv[G].B()
  }
  ;
  bn.prototype.MN = function(E, K, i) {
      c.kL(this.lo);
      var C = this.nv[0];
      this.lo.appendChild(C.j);
      C.MN();
      this.B()
  }
  ;
  bn.prototype.bX = function(E, K) {
      this.MN(null, null, null)
  }
  ;
  bn.sL = function() {
      aB.call(this);
      this.j = c.w("div");
      var E = this.j, K, i, C = "background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
      this.q2 = c.w("div");
      E.appendChild(this.q2);
      this.nk = new hO([0, 11],!1,null,!0);
      this.nk.j.setAttribute("style", "background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
      this.nk.k("click", this.PZ, this);
      E.appendChild(this.nk.j);
      this.pR = new hO([0, 13, 1],!1,null,!0);
      this.pR.k("click", this.nw, this);
      E.appendChild(this.pR.j);
      this.acV = new hO("Contact",!1,null,!0);
      this.acV.k("click", this.ah8, this);
      K = c.w("h2");
      K.innerHTML = "Account types";
      E.appendChild(K);
      i = c.w("table");
      i.innerHTML = "\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
      E.appendChild(i);
      var N = this.aev = [[9, 30, 1], [10, 90, 1], [40, 365, 1], [15, 30, 5], [30, 90, 5], [120, 365, 5], [50, 30, 20], [100, 90, 20], [400, 365, 20], [40, 30, 1e3], [80, 90, 1e3], [300, 365, 1e3], [100, 30, 5e3], [200, 90, 5e3], [700, 365, 5e3], [200, 30, 2e4], [400, 90, 2e4], [1400, 365, 2e4]];
      this.ol = [];
      for (var G = 0; G < N.length; G++)
          this.ol.push(new hO("Buy: $" + N[G][0],!1,null,!0));
      for (var G = 0; G < this.ol.length; G++) {
          this.ol[G].j.setAttribute("style", C);
          this.ol[G].k("click", this.dV, this)
      }
      K = c.w("h2");
      K.innerHTML = "Go Premium";
      E.appendChild(K);
      this.H_ = new hO("...",!0);
      this.H_.j.setAttribute("style", C);
      E.appendChild(this.H_.j);
      i = this.jv(3, ["Single user", this.ol[0], this.ol[1], this.ol[2], "Team of 5", this.ol[3], this.ol[4], this.ol[5], "Team of 20", this.ol[6], this.ol[7], this.ol[8]]);
      E.appendChild(i);
      this.a59 = new ck("I accept",!0,"");
      E.appendChild(this.a59.j);
      this.ST = new hO([0, 13, 1],!1,null,!0);
      this.ST.k("click", this.nw, this);
      E.appendChild(this.ST.j);
      this.VY = new hO("I have a key",!1,null,!0);
      this.VY.j.setAttribute("style", C + " margin-left:18.9em;");
      this.VY.k("click", this.dV, this);
      E.appendChild(this.VY.j);
      K = c.w("h2");
      K.textContent = "Team Settings";
      E.appendChild(K);
      this.wd = new ck("Join a team");
      E.appendChild(this.wd.j);
      this.wd.k(c.E.L, this.Nv, this);
      this.B7 = new fN("Email of a leader",null,14);
      E.appendChild(this.B7.j);
      c.eg(E);
      this.TW = new ck("Start a team");
      E.appendChild(this.TW.j);
      this.TW.k(c.E.L, this.Nv, this);
      var k = new di("Emails of other members:");
      E.appendChild(k.j);
      c.eg(E);
      this._x = c.w("textarea");
      this._x.setAttribute("rows", 3);
      this._x.setAttribute("cols", 70);
      this._x.setAttribute("style", "display:block;tab-size:4;");
      E.appendChild(this._x);
      var V = new hO("Save Team Settings",!1,null,!0);
      E.appendChild(V.j);
      V.k("click", this.a1Y, this);
      var j = this.aaY = new hO("More about Teams",!1,null,!0);
      E.appendChild(j.j);
      j.k("click", this.Xz, this);
      K = c.w("h2");
      K.innerHTML = "Distributor Account";
      E.appendChild(K);
      this.$b = new hO("...",!0);
      this.$b.j.setAttribute("style", C);
      E.appendChild(this.$b.j);
      i = this.jv(3, ["1000 views/month", this.ol[9], this.ol[10], this.ol[11], "5000 views/month", this.ol[12], this.ol[13], this.ol[14], "20000 views/month", this.ol[15], this.ol[16], this.ol[17]]);
      E.appendChild(i);
      this.Zk = new fN("Domain name (e.g. domain.com)",null,14);
      E.appendChild(this.Zk.j);
      c.eg(E);
      var V = new hO("Save Domain Settings",!1,null,!0);
      V.cY();
      E.appendChild(V.j);
      V.k("click", this.akv, this);
      var j = new hO("More about Distributors",!1,null,!0);
      E.appendChild(j.j);
      j.k("click", this.Xz, this)
  }
  ;
  bn.sL.prototype = new aB;
  bn.sL.prototype.nw = function(E) {
      var K = new q("showpage",!0);
      K.data = {
          EL: 1
      };
      this.U(K)
  }
  ;
  bn.sL.prototype.ah8 = function(E) {
      var K = new q("showpage",!0);
      K.data = {
          EL: 2
      };
      this.U(K)
  }
  ;
  bn.sL.prototype.B = function() {
      this.nk.KZ(h2.EU() ? i2.get([0, 11]) : i2.get([0, 10]));
      this.ST.B();
      this.pR.B();
      this.acV.B()
  }
  ;
  bn.sL.prototype.Xz = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.oc,
          link: "https://www.photopea.com/api/accounts#" + (E.target == this.aaY ? "teams" : "distributors")
      };
      this.U(K)
  }
  ;
  bn.sL.prototype.Nv = function(E) {
      var K = E.currentTarget == this.wd;
      this.wd.T(K);
      this.TW.T(!K)
  }
  ;
  bn.sL.prototype.a1Y = function(E) {
      var K = this.wd.u()
        , i = this.B7.u().trim()
        , C = this._x.value.trim();
      if (i.length > 60) {
          alert("Too long email address");
          return
      }
      if (C.length > 600) {
          alert("Too many team members");
          return
      }
      C = C.split(",").join(" ").trim();
      C = C.replace(/\s+/g, " ");
      if (C == "")
          C = [];
      else
          C = C.split(" ");
      var N = h2.GP();
      if (N == null)
          N = {};
      if (N.acc == null)
          N.acc = {};
      N.acc.team = {
          jin: K,
          ldr: i,
          mmb: C
      };
      h2.Hu(N, this.d3.bind(this));
      alert("Saved!");
      this.MN()
  }
  ;
  bn.sL.prototype.akv = function(E) {
      var K = this.Zk.u().trim();
      if (!h2.EU()) {
          alert("You have to log in first.");
          return
      }
      if (h2.Yv().distrib == "0") {
          alert("Order a distributor account first.");
          return
      }
      var i = h2.GP();
      if (i == null)
          i = {};
      if (i.acc == null)
          i.acc = {};
      if (K == "")
          delete i.acc.dname;
      else
          i.acc.dname = K;
      h2.Hu(i, this.d3.bind(this));
      alert("Saved!");
      this.MN()
  }
  ;
  bn.sL.prototype.MN = function() {
      if (h2.EU()) {
          var E = h2.Yv();
          if (E == null)
              return;
          this.q2.innerHTML = "<span style=\"font-size:1.5em; margin-right:0.7em;\">" + E.name + "</span> " + E.email + " <br/>"
      } else
          this.q2.innerHTML = "Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
      var K = h2.EU() && h2.pw();
      this.H_.j.style.display = K ? "block" : "none";
      if (K) {
          var i = parseInt(E[c.jI("!&|'&50")]) - Date.now() * (1 / 1e3), C = parseInt(E.ptype), N;
          if (C == -1)
              N = "member of a team";
          else if (C == 1)
              N = "Single user";
          else
              N = "Team of " + C;
          this.H_.KZ("Premium active for " + Math.round(i / (60 * 60 * 24)) + " more days! (" + N + ")")
      }
      var k = h2.EU() && E.distrib * 1e3 > Date.now();
      this.$b.j.style.display = k ? "block" : "none";
      if (k) {
          var i = parseInt(E.distrib) - Date.now() / 1e3
            , C = parseInt(E.ptype);
          this.$b.KZ("Distributor active for " + Math.round(i / (60 * 60 * 24)) + " more days! (" + C + " visitos)")
      }
      var V = h2.GP();
      if (V && V.acc && V.acc.team) {
          var j = V.acc.team;
          this.wd.T(j.jin);
          this.TW.T(!j.jin);
          this.B7.T(j.ldr);
          this._x.value = j.mmb.join(", ")
      } else {
          this.wd.T(!0);
          this.TW.T(!1);
          this.B7.T("");
          this._x.value = ""
      }
      if (V && V.acc && V.acc.dname)
          this.Zk.T(V.acc.dname);
      else
          this.Zk.T("")
  }
  ;
  bn.sL.prototype.jv = function(E, K) {
      var i = c.w("table");
      i.innerHTML = "\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> " + (E == 3 ? "<th>365 days</th>" : "") + " </tr>\t\t\t\t</table>\t\t\t";
      for (var G = 0; G < K.length; G += E + 1) {
          var C = c.w("tr"), N;
          i.appendChild(C);
          N = c.w("td", "left");
          C.appendChild(N);
          N.innerHTML = "<b>" + K[G] + "</b>";
          for (var k = 0; k < E; k++) {
              N = c.w("td");
              C.appendChild(N);
              N.appendChild(K[G + 1 + k].j)
          }
      }
      return i
  }
  ;
  bn.sL.prototype.dV = function(E) {
      var K = this.ol.indexOf(E.currentTarget)
        , C = 30
        , N = 1;
      if (!h2.EU()) {
          alert("You must log in before buying Premium");
          return
      }
      if (this.a59.u() == !1 && K < 9) {
          alert("You must accept Terms of Service");
          return
      }
      var i = h2.EU() && h2.pw();
      if (K != -1) {
          var k = this.aev[K];
          C = k[1];
          N = k[2]
      }
      if (i && N < 1e3) {
          alert("You already have premium.");
          return
      }
      if (K == -1) {
          var V = prompt("Please enter your key");
          if (V != null) {
              h2.ah2(V, this.d3.bind(this));
              this.Vi()
          }
          return
      }
      if (C == 30 && N == 1) {
          var j = confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
          if (!j)
              return
      }
      h2.order(C, N, this.d3.bind(this));
      this.Vi()
  }
  ;
  bn.sL.prototype.d3 = function(E) {
      if (h2.EU() && h2.Yv().msg)
          alert(h2.Yv().msg);
      this.MN();
      this.Vi()
  }
  ;
  bn.sL.prototype.PZ = function(E) {
      if (h2.EU()) {
          h2.akx();
          this.Vi();
          this.MN(null, null, null)
      } else
          h2.PZ(this.a5n.bind(this))
  }
  ;
  bn.sL.prototype.a5n = function() {
      var E = new q(c.E.P,!0);
      E.data = {
          e: c.f.amQ
      };
      this.U(E)
  }
  ;
  bn.sL.prototype.Vi = function() {
      var E = new q(c.E.P,!0);
      E.data = {
          e: c.f.kW
      };
      this.U(E)
  }
  ;
  bn.Pv = function(E) {
      aB.call(this);
      this.j = c.w("div");
      var K = this.j
        , i = this.aaD = new hO([0, 13, 2],!1,null,!0);
      i.k("click", this.a4t, this);
      K.appendChild(i.j);
      var C = c.w("div");
      C.innerHTML = E;
      K.appendChild(C)
  }
  ;
  bn.Pv.prototype = new aB;
  bn.Pv.prototype.a4t = function(E) {
      var K = new q("showpage",!0);
      K.data = {
          EL: 0
      };
      this.U(K)
  }
  ;
  bn.Pv.prototype.B = function() {
      this.aaD.B()
  }
  ;
  bn.acR = "\t\t<h1>Contact</h1>\t\t<p>Photopea.com is a service operated by Ivan Kuckir (I\u010C 04498411).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com</li>\t\t\t<li><b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<p>You can ask for a refund by writing us an email.</p>\t\t<p>You can pay with PayPal or your credit / debit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t";
  bn.a1s = "\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
  function fR() {
      bQ.call(this, [11, 14], "addguides");
      this.eu;
      this.Mi = {
          bA: {
              RG: 0
          }
      };
      this.KE = null;
      var E = c.w("div", "form");
      this.body.appendChild(E);
      this.nt = new fN([22, 4, 0],null,16);
      this.nt.k(c.E.L, this.E4, this);
      this.pr = new fN([22, 4, 1],null,16);
      this.pr.k(c.E.L, this.E4, this);
      this.Uu = new gc(null,_.lj.Cx);
      this.Uu.k(c.E.L, this.E4, this);
      E.appendChild(this.nt.j);
      E.appendChild(this.Uu.j);
      c.eg(E);
      E.appendChild(this.pr.j);
      this.Tl = new hO("OK",!0,null,!0);
      this.Tl.k("click", this.zW, this);
      E.appendChild(this.Tl.j);
      this.k("closebtn", this.a3$, this)
  }
  fR.prototype = new bQ;
  fR.prototype.N$ = function(E, K) {
      return E != null
  }
  ;
  fR.prototype.cn = function() {
      return !0
  }
  ;
  fR.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.nt.B();
      this.pr.B();
      this.Uu.B()
  }
  ;
  fR.prototype.bX = function(E, K) {
      var i = E.bA.RG;
      this.Mi.bA.RG = i;
      this.Uu.T(i)
  }
  ;
  fR.prototype.MN = function(E, K) {
      this.eu = E;
      this.KE = JSON.stringify(E.rJ);
      this.jp()
  }
  ;
  fR.prototype.jp = function() {
      var E = this.eu
        , K = E.rJ
        , i = function(C, E, N, k) {
          var V = [];
          for (var G = 0; G < C.length; G++)
              V.push(_.lj.Fg(C[G], E.v9, N, k));
          return V.join(", ")
      };
      this.nt.T(i(K[1], E, this.Mi, E.v));
      this.pr.T(i(K[0], E, this.Mi, E.d))
  }
  ;
  fR.prototype.E4 = function(E) {
      if (E && E.currentTarget == this.Uu)
          this.Mi.bA.RG = this.Uu.u();
      else {
          var K = this.SJ(this.nt)
            , i = this.SJ(this.pr)
            , C = this.eu;
          C.rJ = [i, K];
          C.nK = !0
      }
      this.jp()
  }
  ;
  fR.prototype.SJ = function(E) {
      var K = E == this.nt ? this.eu.v : this.eu.d
        , i = E.u().replace(/,/g, " ").replace(/  +/g, " ").trim()
        , C = i == "" ? [] : i.split(" ");
      for (var G = 0; G < C.length; G++)
          C[G] = _.lj.a43(C[G], this.eu.v9, this.Mi, K);
      return C
  }
  ;
  fR.prototype.a3$ = function(E) {
      var K = this.eu;
      K.rJ = JSON.parse(this.KE);
      K.nK = !0;
      this.eu = null
  }
  ;
  fR.prototype.zW = function(E) {
      this.E4(E);
      var K = new q(c.E.A,!0);
      K.F = u.Sm;
      K.data = {
          e: "gids",
          Jq: JSON.parse(this.KE),
          B8: JSON.parse(JSON.stringify(this.eu.rJ))
      };
      this.eu = null;
      this.close();
      this.U(K)
  }
  ;
  function fB(E) {
      var K = ef.names[E];
      if (K == null)
          K = gM.names[E];
      if (E == "aply")
          K = "Apply Image";
      if (E == "fade")
          K = [2, 11];
      if (E == "blendOptions")
          K = [14, 10];
      bQ.call(this, K, "afw_" + E);
      this.bN = E;
      this.LN = null;
      this.Ai = null;
      this.no = new M[E];
      this.no.k(c.E.L, this.dm, this);
      this.no.parent = this;
      this.body.appendChild(this.no.j);
      this.Dz = new ck([24, 18, 5]);
      this.Dz.T(!0);
      this.Dz.k(c.E.L, this.dm, this);
      this.akg = new hO("Reset",!0,null,!0);
      this.akg.k("click", this.eh, this);
      this.Tl = new hO("OK",!0,null,!0);
      this.Tl.k("click", this.zW, this);
      if (this.kG())
          this.no.Ly(this.Tl.j);
      else {
          c.U8(this.no.j, "form");
          c.U8(this.body, "flexrow");
          this.no.j.setAttribute("style", "width:24em");
          var i = c.w("div");
          this.body.appendChild(i);
          i.setAttribute("style", "width:8em; margin-left:1em; line-height:2.3em");
          i.appendChild(this.Tl.j);
          i.appendChild(this.akg.j);
          i.appendChild(this.Dz.j)
      }
      this.k("closebtn", this.Qg, this)
  }
  fB.prototype = new bQ;
  fB.prototype.cn = function() {
      return !0
  }
  ;
  fB.prototype.kG = function() {
      return this.no != null && this.no.Vb()
  }
  ;
  fB.prototype.yV = function() {
      return this.kG() ? new bT(0,0) : bQ.prototype.yV()
  }
  ;
  fB.prototype.Di = function() {
      return this.no.Di()
  }
  ;
  fB.prototype.om = function(E, K, i, C, N) {
      this.no.om(E, K, i, C, N)
  }
  ;
  fB.prototype.n9 = function(E, K, i, C, N) {
      this.no.n9(E, K, i, C, N)
  }
  ;
  fB.prototype.Cs = function(E, K, i, C, N) {
      this.no.Cs(E, K, i, C, N)
  }
  ;
  fB.prototype.N$ = function(E, K) {
      if (this.bN == "fade")
          return fB.mr(E);
      return !0
  }
  ;
  fB.prototype.eh = function(E) {
      this.no.T(ef.Sk(this.bN));
      this.dm()
  }
  ;
  fB.prototype.dm = function(E) {
      this.bQ({
          e: "edit",
          Gb: this.no.u(),
          Aw: !this.Dz.u()
      })
  }
  ;
  fB.prototype.Qg = function(E) {
      this.bQ({
          e: "cancel"
      })
  }
  ;
  fB.prototype.zW = function(E) {
      if (!this.Dz.u()) {
          this.Dz.T(!0);
          this.dm()
      }
      this.Ai = this.no.u();
      if (this.kG())
          this.dm();
      this.bQ({
          e: "confirm"
      });
      this.close()
  }
  ;
  fB.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.Dz.B();
      if (this.no)
          this.no.B()
  }
  ;
  fB.prototype.bX = function(E, K) {
      if (this.no)
          this.no.bX(E, K)
  }
  ;
  fB.prototype.Ok = function(E, K, i, C) {
      if (this.kG())
          this.no.Ok(C);
      else
          bQ.prototype.Ok.call(this, E, K, i, C)
  }
  ;
  fB.prototype.MN = function(E, K, i, C) {
      this.LN = K.LN;
      var N = E.add.lnk2 ? E.add.lnk2 : [], k, V, j = new h4(0,0,E.d,E.v), a = E.t[E.C[0]], e = null;
      k = a.buffer;
      V = a.rect;
      if (this.kG())
          e = E.A7(E.C[0] - 1);
      var L = ef.Sk(this.bN)
        , g = [N, E.h_, E];
      if (K.LN == null) {
          this.no.T(L, k, V, j, e, g);
          if (gM.names[this.bN]) {
              if (C.q(w.zA) && this.Ai)
                  this.no.T(this.Ai);
              var I = hn.VG.getData(E)
                , h = _.x7(I[0].UE);
              this.no.TC(h)
          }
      } else {
          var o = !1
            , a = E.t[this.LN.z];
          if (a.XQ()) {
              var H = a.uy(E);
              k = H.buffer;
              V = H.rect;
              var A = a.add.SoLd.filterFX.v.filterFXList.v;
              if (A[this.LN.index]) {
                  var S = A[this.LN.index].v
                    , v = S.Fltr.v;
                  this.no.T(this.bN == "blendOptions" ? S.blendOptions.v : v, k, V, j, e, g);
                  this.no.TC(_.x7(k));
                  o = !0
              }
          }
          if (!o) {
              this.no.T(L, k, V, j, e, g);
              this.no.TC(_.x7(k))
          }
      }
      if (!this.kG())
          this.dm()
  }
  ;
  fB.prototype.bQ = function(E) {
      var K = new q(c.E.A,!0);
      E.bN = this.bN;
      E.LN = this.LN;
      K.data = E;
      K.F = ef.names[this.bN] || this.LN ? u.sE : u.T$;
      K.r1 = !0;
      this.U(K)
  }
  ;
  fB.prototype.FY = function(E, K) {
      K = K - 26;
      E = E - 26;
      this.no.FY(E, K)
  }
  ;
  fB.mr = function(E) {
      if (E == null)
          return !1;
      var K = E.Ty();
      if (K == null || !(K.data instanceof Array) || K.data.length != E.C.length)
          return !1;
      for (var G = 0; G < K.data.length; G++) {
          var i = K.data[G];
          if (i.z < 0 && E.h_[-1 - i.z])
              return !0;
          if (i.z == null || E.t[i.z] == null || E.t[i.z].dz != i.KM)
              return !1;
          if (E.C.indexOf(i.z) == -1)
              return !1
      }
      return !0
  }
  ;
  function fK() {
      bQ.call(this, [11, 0], "camera");
      this.data = null;
      this.Ke = new bT(1,1);
      this.aiA = [];
      var E = c.w("div", "form hbar");
      this.body.appendChild(E);
      this.acu = new gc(null,[]);
      this.Ua = new gc([21, 0],[[21, 2], [21, 1]]);
      E.appendChild(this.Ua.j);
      this.BE = new gc(null,[]);
      this.BE.k(c.E.L, this.ME, this);
      E.appendChild(this.BE.j);
      this.a_ = new hO([11, 0],!1,null,!0);
      this.a_.k("click", this.a3O, this);
      E.appendChild(this.a_.j);
      this.fe = new di("");
      E.appendChild(this.fe.j);
      this.stream = null;
      this.Y4 = c.w("video", "");
      this.Y4.setAttribute("autoplay", "true");
      this.body.appendChild(this.Y4);
      this.ahq = this.aiU.bind(this);
      this.alf = this.aae.bind(this);
      this.aim = this.acY.bind(this);
      this.k("closebtn", this.hL, this)
  }
  fK.prototype = new bQ;
  fK.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.Ua.B();
      this.a_.B();
      this.FY(this.jx, this.w1)
  }
  ;
  fK.prototype.A7 = function() {
      var E = this.Y4.videoWidth
        , K = this.Y4.videoHeight
        , i = c.w("canvas", "");
      i.width = E;
      i.height = K;
      var C = i.getContext("2d");
      C.drawImage(this.Y4, 0, 0, E, K);
      var N = C.getImageData(0, 0, E, K);
      return {
          UP: new h4(0,0,E,K),
          data: N.data.buffer
      }
  }
  ;
  fK.prototype.a3O = function(E) {
      if (this.Ua.u() == 0)
          this.anQ();
      else
          this.a5Q()
  }
  ;
  fK.prototype.a5Q = function() {
      var E = this.A7()
        , K = {
          buffer: new Uint8Array(E.data),
          rect: E.UP
      }
        , i = new q(c.E.A,!0);
      i.r1 = !0;
      i.F = u.Iy;
      i.data = {
          e: U.NP,
          Oc: K
      };
      this.U(i);
      alert(i2.get([21, 4]))
  }
  ;
  fK.prototype.anQ = function() {
      var E = this.A7()
        , K = fb.qz("camera", [E])
        , i = new q(c.E.P,!0);
      i.data = {
          e: c.f.xC,
          uY: K
      };
      this.U(i);
      alert(i2.get([21, 5]))
  }
  ;
  fK.prototype.MN = function(E, K, i) {
      navigator.mediaDevices.enumerateDevices().then(this.adV.bind(this))
  }
  ;
  fK.prototype.adV = function(E) {
      var K = this.aiA = []
        , i = [];
      for (var G = 0; G < E.length; G++)
          if (E[G].kind == "videoinput") {
              K.push(E[G]);
              i.push("Camera " + K.length)
          }
      this.BE.X2(i);
      this.BE.T(0);
      this.ME()
  }
  ;
  fK.prototype.ME = function(E) {
      this.hL();
      var K = {
          video: {
              deviceId: this.aiA[this.BE.u()].deviceId,
              width: {
                  ideal: 8e3
              },
              height: {
                  ideal: 8e3
              }
          }
      };
      if (navigator.mediaDevices.getUserMedia)
          navigator.mediaDevices.getUserMedia(K).then(this.ahq).catch(this.alf);
      else
          navigator.webkitGetUserMedia(K, this.ahq, this.alf)
  }
  ;
  fK.prototype.aiU = function(E) {
      this.stream = E;
      this.Y4.srcObject = E;
      this.Y4.addEventListener("loadedmetadata", this.aim, !1)
  }
  ;
  fK.prototype.acY = function(E) {
      this.Y4.play();
      this.FY(this.jx, this.w1)
  }
  ;
  fK.prototype.yV = function(E, K) {
      return new bT(0,0)
  }
  ;
  fK.prototype.FY = function(E, K) {
      var i = this.Y4.videoWidth
        , C = this.Y4.videoHeight;
      this.fe.T(i + " x " + C + " px");
      this.fe.j.setAttribute("style", "position:absolute;  left:14px; bottom:10px; z-index:1;");
      this.Ke.Wm(i, C);
      this.jx = E;
      this.w1 = K;
      var N = E - 28
        , k = K - 28 - 30
        , V = this.Ke.x / this.Ke.y;
      if (N / k > V)
          N = k * V;
      else
          k = N / V;
      this.Y4.setAttribute("style", "display: block; width: " + Math.round(N) + "px; height:" + Math.round(k) + "px;")
  }
  ;
  fK.prototype.aae = function(E) {
      console.log("error", E);
      alert(i2.get([21, 6]));
      this.close()
  }
  ;
  fK.prototype.hL = function(E) {
      if (this.stream != null) {
          var K = this.stream.getTracks();
          for (var G = 0; G < K.length; G++)
              K[G].stop();
          this.stream = null
      }
  }
  ;
  function aD() {
      bQ.call(this, [7, 8], "crange");
      this.eu = null;
      this.u0 = {
          Ym: 73,
          R: 4.45,
          O: 4
      };
      this.DQ = {
          Ym: 73,
          R: 4.45,
          O: 4
      };
      var E = c.w("div", "form");
      E.setAttribute("style", "width:18em");
      this.body.appendChild(E);
      this.Tv = new hk([12, 92],0,200);
      this.Tv.T(40);
      this.Tv.k(c.E.L, this.Vp, this);
      E.appendChild(this.Tv.j);
      this.n4 = c.w("canvas");
      E.appendChild(this.n4);
      this.PN = new eN([12, 36],[[18, 0], "\uFF0B", "\u2014"]);
      E.appendChild(this.PN.j);
      this.iI = new hO("OK",!0,null,!0);
      this.iI.k("click", this.zW, this);
      this.body.appendChild(this.iI.j)
  }
  aD.prototype = new bQ;
  aD.prototype.N$ = function(E, K) {
      return E != null
  }
  ;
  aD.prototype.Di = function() {
      return !0
  }
  ;
  aD.prototype.cn = function() {
      return !0
  }
  ;
  aD.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.Tv.B();
      this.PN.B()
  }
  ;
  aD.prototype.om = function(E, K, i, C, N) {
      var k = E.a.Eb(N.x, N.y);
      this.Oq(k.x, k.y)
  }
  ;
  aD.prototype.Oq = function(E, K) {
      var i = Math.min
        , C = Math.max
        , N = this.eu
        , k = C(0, i(N.d - 1, Math.floor(E)))
        , V = C(0, i(N.v - 1, Math.floor(K)))
        , j = N.A7()
        , a = (V * N.d + k) * 4
        , e = j[a]
        , L = j[a + 1]
        , g = j[a + 2]
        , I = _.th(e, L, g)
        , h = this.PN.u()
        , o = this.u0
        , H = this.DQ;
      if (h == 0) {
          this.u0 = JSON.parse(JSON.stringify(I));
          this.DQ = I
      } else if (h == 1) {
          o.Ym = i(o.Ym, I.Ym);
          o.R = i(o.R, I.R);
          o.O = i(o.O, I.O);
          H.Ym = C(H.Ym, I.Ym);
          H.R = C(H.R, I.R);
          H.O = C(H.O, I.O)
      } else if (h == 2) {
          var A = (o.Ym + H.Ym) / 2
            , S = (o.R + H.R) / 2
            , v = (o.O + H.O) / 2;
          if (I.Ym < A)
              o.Ym = C(o.Ym, I.Ym + 10);
          else
              H.Ym = i(H.Ym, I.Ym - 10);
          if (I.R < S)
              o.R = C(o.R, I.R + 1);
          else
              H.R = i(H.R, I.R - 1);
          if (I.O < v)
              o.O = C(o.O, I.O + 1);
          else
              H.O = i(H.O, I.O - 1)
      }
      this.Vp()
  }
  ;
  aD.prototype.zW = function(E) {
      var K = new q(c.E.A,!0);
      K.F = u.Z2;
      K.data = {
          e: "crange",
          SR: this.u0,
          _0: this.DQ,
          Su: this.Tv.u() / 200
      };
      K.r1 = !0;
      this.U(K);
      this.close()
  }
  ;
  aD.prototype.MN = function(E, K) {
      this.eu = E;
      this.Oq(0, 0)
  }
  ;
  aD.prototype.Vp = function() {
      var E = this.eu
        , K = u.u$.C3(E, this.u0, this.DQ, this.Tv.u() / 200)
        , i = K.rect
        , C = K.channel
        , N = this.n4
        , k = N.getContext("2d")
        , V = Math.floor(230 * c.M())
        , j = Math.floor(V * (i.v / i.d));
      N.width = V;
      N.height = j;
      c.em(N, V, j);
      var a = _.I(C.length * 4);
      _.EE(a, 4294967295);
      for (var G = 0; G < 3; G++)
          _.lM(C, a, G);
      var e = u._.VT([a, i], new fn(V / i.d,0,0,j / i.v,0,0))
        , L = e.rect
        , g = new ImageData(new Uint8ClampedArray(e.buffer.buffer),L.d,L.v);
      k.putImageData(g, 0, 0)
  }
  ;
  function ij() {
      bQ.call(this, [12, 76, 1], "createshape");
      this.dI = null;
      var E = c.w("div", "form");
      E.setAttribute("style", "width:20em");
      this.body.appendChild(E);
      this.zi = new gI([12, 41],0,0,null,0,!1,!0);
      E.appendChild(this.zi.j);
      c.eg(E);
      this.nt = new gI([12, 42],0,0,null,0,!1,!0);
      E.appendChild(this.nt.j);
      c.eg(E);
      this.LX = new ck([19, 5, 3]);
      E.appendChild(this.LX.j);
      this.zi.T(100);
      this.nt.T(100);
      this.Tl = new hO("OK",!0,null,!0);
      this.Tl.k("click", this.zW, this);
      E.appendChild(this.Tl.j)
  }
  ij.prototype = new bQ;
  ij.prototype.zW = function(E) {
      this.dI.al_(this.dI.ajG, this.zi.u(), this.nt.u(), this.LX.u());
      this.close()
  }
  ;
  ij.prototype.B = function() {
      if (this.dI)
          this.N7 = i2.get([5, 3]) + ": " + i2.get(this.dI.ajK);
      bQ.prototype.B.call(this);
      this.zi.B();
      this.nt.B();
      this.LX.B()
  }
  ;
  ij.prototype.MN = function(E, K) {
      this.dI = K;
      this.B()
  }
  ;
  function c0() {
      bQ.call(this, [11, 1], "colorpicker");
      this.y_ = null;
      this.Kz = null;
      this.W5 = null;
      this.VJ = !1;
      this.vb = !1;
      var E = c.w("div", "flexrow"), k, V;
      this.body.appendChild(E);
      this.Qk = new f_(256);
      this.Qk.k(c.E.L, this.cp, this);
      E.appendChild(this.Qk.j);
      var K = c.w("div", "form");
      K.setAttribute("style", "width:14.5em; margin-left:1em;");
      E.appendChild(K);
      this.an$ = c.w("div", "full");
      K.appendChild(this.an$);
      this.agy = c.w("div", "full");
      K.appendChild(this.agy);
      var i = c.w("div", "flexrow");
      K.appendChild(i);
      var C = c.w("div")
        , N = c.w("div");
      i.appendChild(C);
      i.appendChild(N);
      k = ["R", "G", "B"];
      V = C;
      this.ZA = [];
      for (var G = 0; G < 3; G++) {
          var j = new gI(k[G] + ":",0,255,null,0,!1,!0);
          this.ZA.push(j);
          j.k(c.E.L, this.a7Z, this);
          V.appendChild(j.j)
      }
      k = ["H", "S", "B"];
      V = N;
      this.fh = [];
      for (var G = 0; G < 3; G++) {
          var a = 0
            , e = 360
            , L = "\xB0";
          if (G != 0) {
              e = 100;
              L = "%"
          }
          var j = new gI(k[G] + ":",a,e,L,0,!1,!0);
          this.fh.push(j);
          j.k(c.E.L, this.aaE, this);
          V.appendChild(j.j)
      }
      this.nt = new fN("Hex",null,6);
      this.nt.k(c.E.L, this.hG, this);
      K.appendChild(this.nt.j);
      this.WP = c.w("input", "fitem");
      this.WP.setAttribute("type", "color");
      this.WP.setAttribute("style", "width:50px");
      this.WP.addEventListener("change", this.hG.bind(this), !1);
      K.appendChild(this.WP);
      this.Kb = new ft(9);
      this.Kb.k(c.E.L, this.hG, this);
      K.appendChild(this.Kb.j);
      this.Tl = new hO("OK",!0,null,!0);
      this.Tl.k("click", this.zW, this);
      K.appendChild(this.Tl.j);
      this.k("closebtn", this.Qg, this);
      this.o1 = !1
  }
  c0.prototype = new bQ;
  c0.prototype.Di = function() {
      return !0
  }
  ;
  c0.prototype.FY = function(E, K) {
      this.Qk.FY(Math.min(256, E - 250), K)
  }
  ;
  c0.prototype.cp = function(E) {
      this.Kz = this.Qk.u();
      this.update()
  }
  ;
  c0.prototype.om = function(E, K, i, C, N) {
      this.o1 = !0;
      this.Xt(E, N)
  }
  ;
  c0.prototype.n9 = function(E, K, i, C, N) {
      if (!this.o1)
          return;
      this.Xt(E, N)
  }
  ;
  c0.prototype.Cs = function(E, K, i, C, N) {
      this.o1 = !1
  }
  ;
  c0.prototype.Xt = function(E, K) {
      var i = u.NH.Hn(E, K, 1)
        , C = i & 255
        , N = i >> 8 & 255
        , k = i >> 16 & 255;
      this.Kz = {
          h: k / 255,
          l: N / 255,
          O: C / 255
      };
      this.update()
  }
  ;
  c0.prototype.a7Z = function(E) {
      var K = this.ZA
        , i = this.rn(parseInt(K[0].u()))
        , C = this.rn(parseInt(K[1].u()))
        , N = this.rn(parseInt(K[2].u()));
      this.Kz = {
          h: i / 255,
          l: C / 255,
          O: N / 255
      };
      this.update()
  }
  ;
  c0.prototype.aaE = function(E) {
      var K = this.fh
        , i = this.x3(parseInt(K[0].u()) / 360)
        , C = this.x3(parseInt(K[1].u()) / 100)
        , N = this.x3(parseInt(K[2].u()) / 100);
      this.Kz = _.Np(i, C, N);
      this.update()
  }
  ;
  c0.prototype.hG = function(E) {
      var K;
      if (E.currentTarget == this.Kb)
          K = this.Kb.u();
      else {
          K = E.currentTarget == this.nt ? this.nt.u() : this.WP.value;
          if (K.charAt(0) == "#")
              K = K.slice(1);
          if (K.length == 3)
              K = K[0] + K[0] + K[1] + K[1] + K[2] + K[2];
          K = _.Ek(K)
      }
      this.Kz = {
          h: (K >> 16 & 255) / 255,
          l: (K >> 8 & 255) / 255,
          O: (K & 255) / 255
      };
      this.update()
  }
  ;
  c0.prototype.ki = function(E) {
      var K = E.h
        , i = E.l
        , C = E.O;
      return Math.round(K * 255) << 16 | Math.round(i * 255) << 8 | Math.round(C * 255)
  }
  ;
  c0.prototype.zW = function(E) {
      this.k0();
      var K = this.ki(this.Kz);
      this.W5(K);
      this.close();
      this.vb = !1;
      this.Kz = null
  }
  ;
  c0.prototype.Qg = function(E) {
      this.k0();
      if (this.VJ)
          this.W5(this.ki(this.y_));
      this.vb = !1;
      this.Kz = null
  }
  ;
  c0.prototype.k0 = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.G8
      };
      this.U(K)
  }
  ;
  c0.prototype.bX = function(E, K) {
      if (K != dp.VL)
          return;
      var i = E.sm;
      this.Kb.T(i);
      if (this.Kz != null) {
          this.Kz = {
              h: (i >> 16 & 255) / 255,
              l: (i >> 8 & 255) / 255,
              O: (i >> 0 & 255) / 255
          };
          this.update()
      }
  }
  ;
  c0.prototype.MN = function(E, K) {
      var i = K.vc
        , C = {
          h: (i >> 16 & 255) / 255,
          l: (i >> 8 & 255) / 255,
          O: (i >> 0 & 255) / 255
      };
      if (this.Kz == null) {
          var N = new q(c.E.P,!0);
          N.data = {
              e: c.f.VP,
              UG: "crosshair",
              push: !0
          };
          this.U(N);
          this.o1 = !1;
          this.W5 = K.K2;
          this.VJ = !1;
          this.vb = K.RV;
          this.y_ = JSON.parse(JSON.stringify(C));
          this.agy.setAttribute("style", "height:3em;background-color:#" + _.rS(i) + ";")
      }
      this.Kz = C;
      this.update()
  }
  ;
  c0.prototype.update = function() {
      var E = this.Kz
        , K = this.ki(E)
        , i = this.ZA;
      i[0].T(Math.round(E.h * 255));
      i[1].T(Math.round(E.l * 255));
      i[2].T(Math.round(E.O * 255));
      this.nt.T(_.rS(K));
      this.WP.value = "#" + _.rS(K);
      this.an$.setAttribute("style", "height:3em;background-color:#" + _.rS(K) + ";");
      var C = _.Et(E.h, E.l, E.O);
      i = this.fh;
      i[0].T(Math.round(C.w1 * 360));
      i[1].T(Math.round(C.Us * 100));
      i[2].T(Math.round(C.Gb * 100));
      this.Qk.T(E);
      if (this.vb) {
          this.W5(this.ki(this.Kz));
          this.VJ = !0
      }
  }
  ;
  c0.prototype.rn = function(E) {
      return Math.max(0, Math.min(255, E))
  }
  ;
  c0.prototype.x3 = function(E) {
      return Math.max(0, Math.min(1, E))
  }
  ;
  function fY() {
      bQ.call(this, [11, 2], "contoureditor");
      this.a1R = null;
      this.Ff = null;
      this.response = null;
      this.R5 = c.w("div", "cell");
      this.body.appendChild(this.R5);
      this.n8 = c.w("div", "cell padded");
      this.body.appendChild(this.n8);
      var E = c.w("div", "bordered padded vmargin");
      this.R5.appendChild(E);
      this.no = new eD;
      this.no.k(c.E.L, this.u4, this);
      E.appendChild(this.no.j);
      this.Tl = new hO("OK",!0,null,!0);
      this.Tl.k("click", this.close, this);
      this.n8.appendChild(this.Tl.j);
      this.coords = c.w("div", "");
      this.coords.setAttribute("style", "width:250px");
      this.R5.appendChild(this.coords);
      this.ow = new fN("X (in)","%",4);
      this.nf = new fN("Y (out)","%",4);
      this.sA = new ck([19, 3, 0]);
      this.ow.k(c.E.L, this.CU, this);
      this.nf.k(c.E.L, this.CU, this);
      this.sA.k(c.E.L, this.CU, this);
      this.coords.appendChild(this.ow.j);
      this.coords.appendChild(this.sA.j);
      this.coords.appendChild(this.nf.j);
      this.k("closebtn", this.zx, this)
  }
  fY.prototype = new bQ;
  fY.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.sA.B()
  }
  ;
  fY.prototype.u4 = function(E) {
      this.Ff.Crv.v = this.no.u();
      this.response(this.Ff);
      this.D0()
  }
  ;
  fY.prototype.zx = function(E) {
      this.response(this.a1R)
  }
  ;
  fY.prototype.MN = function(E, K) {
      this.a1R = JSON.parse(JSON.stringify(K.DK));
      this.Ff = K.DK;
      this.response = K.response;
      this.no.T(this.Ff.Crv.v);
      this.D0()
  }
  ;
  fY.prototype.D0 = function() {
      var G = this.no.A$();
      this.coords.setAttribute("class", G == -1 ? "disabled" : "");
      if (G == -1)
          return;
      var E = this.Ff.Crv.v[G].v;
      this.ow.T(Math.round(E.Hrzn.v * (100 / 255)));
      this.nf.T(Math.round(E.Vrtc.v * (100 / 255)));
      this.sA.T(E.Cnty.v)
  }
  ;
  fY.prototype.CU = function(E) {
      var G = this.no.A$()
        , K = this.Ff.Crv.v[G];
      K.v.Hrzn.v = parseFloat(this.ow.u()) * (255 / 100);
      K.v.Vrtc.v = parseFloat(this.nf.u()) * (255 / 100);
      K.v.Cnty.v = this.sA.u();
      this.Ff.Crv.v.sort(function(i, C) {
          return i.v.Hrzn.v - C.v.Hrzn.v
      });
      this.no.T(this.Ff.Crv.v, this.Ff.Crv.v.indexOf(K));
      this.D0();
      this.response(this.Ff)
  }
  ;
  function c8() {
      bQ.call(this, [11, 3], "csize");
      this.nL = 0;
      this.lo = c.w("div", "form");
      this.lo.setAttribute("style", "width:22em");
      this.body.appendChild(this.lo);
      this.Pu = new bP(!0,!0,!0,!0);
      this.Pu.abC(!1);
      this.lo.appendChild(this.Pu.j);
      this.Ij = new eN("Align with",[[8, 7], [12, 6]]);
      this.Ij.k(c.E.L, this.a3X, this);
      this.rs = new cw([12, 23, 2],41);
      this.lo.appendChild(this.rs.j);
      this.rs.T(4);
      this.eB = new dC(!1);
      this.eB.ag$(new bT(0,0));
      this.iI = new hO("OK",!0,null,!0);
      this.iI.k("click", this.zW, this);
      this.body.appendChild(this.iI.j)
  }
  c8.prototype = new bQ;
  c8.prototype.N$ = function(E, K) {
      return E != null
  }
  ;
  c8.prototype.cn = function() {
      return !0
  }
  ;
  c8.prototype.a3X = function() {
      var E = [this.rs.j, this.eB.j];
      this.lo.removeChild(E[this.nL]);
      this.nL = this.Ij.u();
      this.lo.appendChild(E[this.nL])
  }
  ;
  c8.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.Pu.B();
      this.Ij.B();
      this.rs.B();
      this.eB.B()
  }
  ;
  c8.prototype.zW = function(E) {
      var K = this.Pu.u()
        , i = K.x
        , C = K.y
        , N = new q(c.E.J5,!0);
      N.data = u.S7.Sn(i, C, this.rs.u());
      this.close();
      this.U(N)
  }
  ;
  c8.prototype.MN = function(E, K) {
      this.Pu.T(new bT(E.d,E.v), E.v9)
  }
  ;
  function d3() {
      bQ.call(this, [11, 4], "duplinto");
      this.Fn = null;
      this.sv = null;
      var E = c.w("div", "form");
      E.setAttribute("style", "max-width:26em");
      this.body.appendChild(E);
      this.OS = new gc([12, 43],["abc", "def"]);
      this.OS.k(c.E.L, this.B0, this);
      E.appendChild(this.OS.j);
      c.eg(E);
      this.qB = new fN([12, 48],null,14);
      E.appendChild(this.qB.j);
      this.Tl = new hO("OK",!0,null,!0);
      this.Tl.k("click", this.zW, this);
      E.appendChild(this.Tl.j)
  }
  d3.prototype = new bQ;
  d3.prototype.cn = function() {
      return !0
  }
  ;
  d3.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.OS.B();
      this.qB.B()
  }
  ;
  d3.prototype.B0 = function(E) {
      var K = this.OS.u();
      if (K == this.sv.length)
          this.qB.lV();
      else
          this.qB.EF()
  }
  ;
  d3.prototype.MN = function(E, K, i) {
      this.Fn = E;
      this.sv = i;
      this.qB.T(E.C.length == 0 ? "Layer" : E.t[E.C[0]].getName());
      var C = [];
      for (var G = 0; G < i.length; G++)
          C.push(i[G].name);
      C.push([11, 7]);
      this.OS.X2(C);
      this.OS.T(i.indexOf(E));
      this.B0(null)
  }
  ;
  d3.prototype.zW = function(E) {
      var K = this.OS.u();
      if (K == this.sv.length) {
          var i = new bl(this.qB.u() + ".psd");
          i.d = this.Fn.d;
          i.v = this.Fn.v;
          i.buffer = _.I(i.d * i.v * 4);
          var C = i.qV();
          C.gv("Background");
          i.qk([C]);
          var N = new q(c.E.P,!0);
          N.r1 = !0;
          N.data = {
              e: c.f.xC,
              uY: i
          };
          this.U(N)
      }
      var k = this.Fn.Bp(null, this.Fn != this.sv[K])
        , N = new q(c.E.A,!0);
      N.data = {
          e: U.w9,
          t: k,
          By: this.Fn,
          EZ: this.sv[K]
      };
      N.F = u.Iy;
      N.r1 = !0;
      this.U(N);
      this.close()
  }
  ;
  function cL() {
      bQ.call(this, [1, 9], "eassets");
      this.Mi = null;
      this.CR = null;
      var E = c.w("div", "form");
      E.setAttribute("style", "width:32em");
      this.body.appendChild(E);
      this.rF = c.w("span");
      E.appendChild(this.rF);
      c.eg(E);
      this.pV = [new ck("Only layers / folders, whose name starts with \"-e-\""), new ck("Remove parts outside the canvas"), new ck("Trim transparent parts")];
      for (var G = 0; G < 3; G++) {
          var K = this.pV[G];
          K.T(!0);
          K.k(c.E.L, this.jp, this);
          E.appendChild(K.j);
          c.eg(E)
      }
      this.mK = new cP([12, 14, 0],["1x", "2x", "3x", "4x"]);
      this.mK.T([!0, !1, !1, !1]);
      E.appendChild(this.mK.j);
      c.tn(E);
      this.Cm = ["PNG", "JPG", "SVG"];
      this.Z4 = new gc([12, 50],this.Cm);
      this.Z4.k(c.E.L, this.hp, this);
      E.appendChild(this.Z4.j);
      this.Al = new i9;
      E.appendChild(this.Al.j);
      this.iI = new hO([1, 9],!0,null,!0);
      this.iI.k("click", this.zW, this);
      E.appendChild(this.iI.j);
      this.k("closebtn", this.uT, this)
  }
  cL.prototype = new bQ;
  cL.prototype.hp = function(E) {
      this.Al.p9(this.Cm[this.Z4.u()])
  }
  ;
  cL.prototype.uT = function(E) {
      this.CR = null
  }
  ;
  cL.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.Z4.B();
      this.mK.B();
      this.iI.B();
      this.Al.B()
  }
  ;
  cL.prototype.MN = function(E, K, i) {
      this.CR = E;
      this.jp()
  }
  ;
  cL.prototype.jp = function(E) {
      var K = this.b0()
        , i = "- - - " + K.length + " exportable layers";
      this.rF.textContent = i;
      this.hp(null)
  }
  ;
  cL.prototype.b0 = function() {
      var E = this.pV[0].u()
        , K = []
        , i = this.CR;
      for (var G = 0; G < i.t.length; G++) {
          var C = i.t[G]
            , N = C.getName();
          if (!E && !C.Uf() && !C.rect.OL() || N.startsWith("-e"))
              K.push(G)
      }
      return K
  }
  ;
  cL.prototype.bX = function(E, K) {
      this.Mi = E
  }
  ;
  cL.prototype.zW = function(E) {
      var K = this.CR
        , i = [this.Cm[this.Z4.u()]]
        , C = [this.Al.u()]
        , N = this.mK.u()
        , k = {}
        , V = {}
        , j = this.b0();
      if (j.length == 0) {
          alert("No layers to export.");
          return
      }
      var a = [this.pV[1].u(), this.pV[2].u()];
      for (var G = 0; G < j.length; G++) {
          var e = j[G]
            , L = K.t[e]
            , g = L.getName();
          if (V[g] != null) {
              V[g]++;
              g += " " + V[g]
          } else
              V[g] = 1;
          var I = L.VD();
          L.HU(!0);
          for (var h = 0; h < N.length; h++) {
              if (!N[h])
                  continue;
              var o = h + 1
                , H = u.x_.gh(K, i, o, this.Mi, e, C, a);
              for (var A = 0; A < i.length; A++) {
                  var S = i[A]
                    , v = g.slice(g.startsWith("-e-") ? 3 : 0) + (o == 1 ? "" : "-" + o + "x") + "." + S.toLowerCase();
                  if (H[A])
                      k[v] = new Uint8Array(H[A])
              }
          }
          L.HU(I)
      }
      var s = UZIP.encode(k)
        , D = new q(c.E.P,!0);
      D.data = {
          e: c.f.Dy,
          data: s,
          name: "assets.zip"
      };
      this.U(D)
  }
  ;
  function g3() {
      bQ.call(this, "Export Color Lookup Tables", "exlut");
      this.Mi = null;
      this.CR = null;
      var E = c.w("div", "form");
      E.setAttribute("style", "width:20em");
      this.body.appendChild(E);
      this.pV = [new gI("Grid Points",1,256), new eN([12, 50],[".CUBE"])];
      var K = [16, 0];
      for (var G = 0; G < this.pV.length; G++) {
          var i = this.pV[G];
          i.T(K[G]);
          i.parent = this;
          i.k(c.E.L, this.jp, this);
          E.appendChild(i.j);
          c.eg(E)
      }
      this.iI = new hO("OK",!0,null,!0);
      this.iI.k("click", this.zW, this);
      E.appendChild(this.iI.j);
      this.k("closebtn", this.uT, this)
  }
  g3.prototype = new bQ;
  g3.prototype.N$ = function(E, K) {
      if (Math.min(E.d, E.v) < 16) {
          alert("The document must be at least 16 x 16 pixels.", 3200);
          return !1
      }
      if (E.t.length < 2) {
          alert("There must be a background layer and some adjustment layers.", 3200);
          return !1
      }
      return !0
  }
  ;
  g3.prototype.uT = function(E) {
      this.CR = null
  }
  ;
  g3.prototype.bX = function(E, K) {
      this.Mi = E
  }
  ;
  g3.prototype.MN = function(E, K, i) {
      this.CR = E
  }
  ;
  g3.prototype.zW = function() {
      var E = this.CR
        , K = this.pV[0].u()
        , i = []
        , C = new h4(0,0,E.d,E.v)
        , N = _.I(K * K * 4)
        , k = N.slice(0)
        , V = new h4(E.d - K >>> 1,E.v - K >>> 1,K,K)
        , j = E.t[0]
        , a = j.buffer
        , e = j.rect;
      j.rect = V;
      j.buffer = N;
      for (var L = 0; L < K; L++) {
          this.af3(K, L, N);
          j.s(V);
          E.s(V);
          var g = E.A7();
          _.p8(g, C, k, V);
          for (var I = 0; I < K; I++)
              for (var h = 0; h < K; h++) {
                  var o = I * K + h << 2;
                  i.push(k[o] / 255, k[o + 1] / 255, k[o + 2] / 255)
              }
      }
      var H = iA.alr(i, K, E.name);
      gQ.save(H, E.name.split(".")[0] + ".CUBE");
      j.buffer = a;
      j.rect = e;
      j.s();
      E.s()
  }
  ;
  g3.prototype.af3 = function(E, K, i) {
      var C = 255 / (E - 1)
        , N = Math.round(K * C);
      for (var k = 0; k < E; k++)
          for (var V = 0; V < E; V++) {
              var j = k * E + V << 2;
              i[j] = Math.round(V * C);
              i[j + 1] = Math.round(k * C);
              i[j + 2] = N;
              i[j + 3] = 255
          }
  }
  ;
  g3.prototype.B = function() {
      bQ.prototype.B.call(this);
      for (var G = 0; G < this.pV.length; G++)
          this.pV[G].B()
  }
  ;
  function gm() {
      bQ.call(this, [1, 14], "finfo");
      this.br = null;
      this.fg = null;
      this.PL = null;
      this.lo = c.w("div", "form scrollable label12");
      this.lo.setAttribute("style", "width:35em;  height:38em;  margin-bottom:8px");
      this.body.appendChild(this.lo);
      var E = c.w("div", "form");
      this.body.appendChild(E);
      this.Vf = new gc(null,["Hello"]);
      E.appendChild(this.Vf.j);
      this.a2f = new hO("Add Parameter",!1,null,!0);
      E.appendChild(this.a2f.j);
      this.a2f.k("click", this.JJ, this);
      this.d1 = new hO("=== S A V E ===",!1,null,!0);
      E.appendChild(this.d1.j);
      this.d1.k("click", this.DI, this);
      this.aaT = ""
  }
  gm.prototype = new bQ;
  gm.prototype.yV = function(E, K) {
      return E < 450 || K < 450 ? new bT(0,0) : new bT(150,100)
  }
  ;
  gm.prototype.JJ = function(E) {
      if (this.PL.length == 0)
          return;
      var K = this.PL[this.Vf.u()]
        , i = this.Ge();
      i[K] = gu.d8[K][0];
      this.kj(i);
      this.fg[K].j.scrollIntoView();
      this.fg[K].QO()
  }
  ;
  gm.prototype.Th = function(E) {
      var K = this.Ge();
      delete K[E.currentTarget.a5F];
      this.kj(K)
  }
  ;
  gm.prototype.DI = function(E) {
      var K = this.Ge()
        , i = this.br
        , C = !0;
      for (var N in i)
          if (JSON.stringify(i[N]) != JSON.stringify(K[N]))
              C = !1;
      for (var N in K)
          if (JSON.stringify(i[N]) != JSON.stringify(K[N]))
              C = !1;
      if (C)
          return;
      var k = new q(c.E.A,!0);
      k.F = u.Iy;
      k.data = {
          e: U.sp,
          we: K
      };
      this.U(k);
      this.br = K;
      this.kj(K)
  }
  ;
  gm.lk = function(E) {
      function K(N) {
          var k = N.toLowerCase();
          return N == k
      }
      var i = E.split(":").pop();
      for (var C = 1; C < i.length - 1; C++) {
          if (i[C] == i[C].toUpperCase() && (K(i[C + 1]) || K(i[C - 1]))) {
              i = i.slice(0, C) + " " + i.slice(C);
              C++
          }
      }
      return i
  }
  ;
  gm.prototype.MN = function(E, K) {
      this.br = E.Xp;
      this.kj(E.Xp)
  }
  ;
  gm.prototype.kj = function(E) {
      var K = this.lo
        , N = 0;
      c.kL(K);
      var i = this.fg = {}
        , C = ["tiff", "exif", "exif:GPS"]
        , k = this.PL = []
        , V = [];
      for (var j in gu.d8) {
          var a = gm.lk(j)
            , e = 0
            , L = 15
            , g = null;
          if (E[j] == null) {
              k.push(j);
              V.push(a);
              continue
          }
          for (var G = 0; G < C.length; G++)
              if (j.startsWith(C[G]))
                  e = G;
          if (e != N) {
              c.tn(K);
              N = e
          }
          if (j == "tiff:ImageDescription" || j == "dc:Keywords") {
              L = 18.5;
              g = 3
          }
          var I = new fN(a,null,L,g);
          i[j] = I;
          var h = E[j];
          if (h instanceof Array)
              h = h[1] == 0 ? "---" : h[0] + "/" + h[1];
          var o = new hO("\u2716",null,i2.get([5, 4]));
          K.appendChild(o.j);
          o.k("click", this.Th, this);
          o.a5F = j;
          I.T(h);
          K.appendChild(I.j);
          c.eg(K);
          if (j == "exif:GPSLongitude" && E["exif:GPSLatitude"]) {
              this.aaT = gm.J4(E["exif:GPSLatitude"]) + "," + gm.J4(E["exif:GPSLongitude"]);
              var H = new hO("Show on map",!1,null,!0);
              K.appendChild(H.j);
              c.eg(K);
              H.k("click", this.age, this)
          }
      }
      this.Vf.X2(V);
      this.Vf.T(0)
  }
  ;
  gm.prototype.Ge = function() {
      var E = this.fg
        , K = gu.d8
        , i = {};
      for (var C in K) {
          var N = K[C][0]
            , k = typeof N;
          if (N == null || E[C] == null)
              continue;
          var V = E[C].u()
            , j = "The value of \"" + gm.lk(C) + "\" must ";
          if (k == "number") {
              V = parseFloat(V);
              if (isNaN(V)) {
                  alert(j + "be a number.");
                  V = N
              }
          } else if (N instanceof Array && N.length == 2) {
              if (V.indexOf("/") == -1) {
                  alert(j + "be a fraction.");
                  V = N.slice(0)
              } else {
                  V = V.split("/").map(parseFloat);
                  if (isNaN(V[0]) || isNaN(V[1])) {
                      V = N.slice(0)
                  }
              }
          }
          i[C] = V
      }
      return i
  }
  ;
  gm.J4 = function(E) {
      var K = E.length
        , i = E.slice(0, K - 1).split(",").map(parseFloat)
        , C = E.slice(K - 1)
        , N = i[0] + i[1] / 60 + i[2] / 3600;
      if (C != "N" && C != "E")
          N = -N;
      return N
  }
  ;
  gm.prototype.age = function(E) {
      window.open("https://maps.google.com?q=" + this.aaT, "Map")
  }
  ;
  function d6() {
      bQ.call(this, [11, 5], "gradienteditor");
      this.y_ = null;
      this.Kz = null;
      this.V$ = null;
      this.W5 = null;
      this.VJ = !1;
      this.vb = !1;
      c.U8(this.body, "form");
      this.h1 = null;
      this.E$ = null;
      this.ah = -1;
      this.C4 = -1;
      this.RH = 0;
      this.HM = this.$R.bind(this);
      this.lH = this.$T.bind(this);
      this.oV = c.w("canvas", "");
      this.NE = this.oV.getContext("2d");
      this.oV.setAttribute("style", "display:block");
      this.cT = null;
      c.pq(this.oV);
      c.vo(this.oV, this.Aq.bind(this));
      this.NF = new gI([19, 3, 3],0,100,"%");
      this.NF.k(c.E.L, this.At, this);
      this.NF.parent = this;
      this.body.appendChild(this.NF.j);
      c.eg(this.body);
      this.rO = new di([12, 0]);
      this.body.appendChild(this.rO.j);
      this.hW = c.w("div", "bordered padded noalign");
      this.body.appendChild(this.hW);
      this.$J = new gI([12, 0],0,100,"%");
      this.$J.parent = this;
      this.$J.k(c.E.L, this.At, this);
      this.hW.appendChild(this.$J.j);
      this.fj = new gI([12, 40],0,100,"%");
      this.fj.parent = this;
      this.fj.k(c.E.L, this.At, this);
      this.hW.appendChild(this.fj.j);
      this.P5 = new hO([5, 4],!1,null,!0);
      this.P5.k("click", this.zU, this);
      this.hW.appendChild(this.P5.j);
      this.body.appendChild(this.oV);
      c.eg(this.body);
      this.agd = new di([13, 0]);
      this.body.appendChild(this.agd.j);
      this.Vg = c.w("div", "bordered padded noalign");
      this.body.appendChild(this.Vg);
      this.us = new gc([12, 44],[[12, 45], [12, 46], [12, 47]]);
      this.us.k(c.E.L, this.At, this);
      this.Vg.appendChild(this.us.j);
      this.iV = new ha(!0);
      this.iV.parent = this;
      this.iV.k(c.E.L, this.At, this);
      this.Vg.appendChild(this.iV.j);
      this.tB = new gI([12, 40],0,100,"%");
      this.tB.parent = this;
      this.tB.k(c.E.L, this.At, this);
      this.Vg.appendChild(this.tB.j);
      this.w$ = new hO([5, 4],!1,null,!0);
      this.w$.k("click", this.s_, this);
      this.Vg.appendChild(this.w$.j);
      this.Tl = new hO("OK",!0,null,!0);
      this.Tl.k("click", this.zW, this);
      this.body.appendChild(this.Tl.j);
      this.k("closebtn", this.Qg, this)
  }
  d6.prototype = new bQ;
  d6.prototype.Qg = function(E) {
      if (this.VJ)
          this.W5(this.y_)
  }
  ;
  d6.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.NF.B();
      this.rO.B();
      this.agd.B();
      this.P5.B();
      this.w$.B();
      this.$J.B();
      this.fj.B();
      this.us.B();
      this.tB.B()
  }
  ;
  d6.prototype.bX = function(E, K) {
      this.V$ = E
  }
  ;
  d6.prototype.MN = function(E, K) {
      this.Kz = JSON.parse(JSON.stringify(K.V));
      this.y_ = JSON.parse(JSON.stringify(K.V));
      this.h1 = this.E$ = null;
      this.W5 = K.K2;
      this.VJ = !1;
      this.vb = K.RV;
      this.ry();
      this.XO()
  }
  ;
  d6.prototype.zW = function(E) {
      var K = this.Kz;
      this.W5(K);
      this.close()
  }
  ;
  d6.prototype.Ci = function(E) {
      return E == w.UO || E == w.LC
  }
  ;
  d6.prototype.Ok = function(E, K, i, C) {
      if (C.q(w.UO) || C.q(w.LC)) {
          if (this.E$)
              this.zU();
          if (this.h1)
              this.s_()
      }
  }
  ;
  d6.prototype.zU = function(E) {
      var K = this.Kz.Trns.v;
      if (this.E$ == null || K.length == 2)
          return;
      K.splice(K.indexOf(this.E$), 1);
      this.E$ = null;
      this.ry();
      this.XO()
  }
  ;
  d6.prototype.s_ = function(E) {
      var K = this.Kz.Clrs.v;
      if (this.h1 == null || K.length == 2)
          return;
      K.splice(K.indexOf(this.h1), 1);
      this.h1 = null;
      this.ry();
      this.XO()
  }
  ;
  d6.prototype.ry = function() {
      var E = this.oV
        , K = this.NE
        , i = c.M();
      E.width = Math.floor(410 * i);
      E.height = Math.floor(90 * i);
      c.em(E, E.width, E.height);
      this.cT = new h4(0,0,Math.floor(380 * i),Math.floor(32 * i));
      this.cT.x = Math.floor((this.oV.width - this.cT.d) / 2);
      this.cT.y = Math.floor((this.oV.height - this.cT.v) / 2);
      var C = this.cT
        , N = C.d
        , k = C.v
        , V = C.x
        , j = C.y
        , a = new h4(0,0,N,k)
        , e = K.getImageData(0, 0, N, k)
        , L = new Uint8Array(e.data.buffer);
      _.ux(L, N, k, 8);
      var g = _.I(N * k * 4);
      _.V.K3(this.Kz, g, a, [1 / N, 0, 0, 1 / k], N / 2, k / 2, !1, 0, this.V$.sm, this.V$.JT);
      _.p.JA("norm", g, C, L, C, C, 1);
      K.clearRect(0, 0, E.width, E.height);
      K.putImageData(e, V, j);
      var I = this.Kz.Trns.v
        , h = this.Kz.Clrs.v
        , o = _.V.tA(h, this.V$.sm, this.V$.JT)
        , H = Math.round(6 * c.M())
        , A = Math.round(14 * c.M())
        , S = this.E$ ? this.E$.v : null
        , v = this.h1 ? this.h1.v : null;
      for (var G = 0; G < I.length; G++) {
          var s = I[G].v
            , D = Math.round(255 - 255 * s.Opct.v.val / 100);
          if ((s == S || I[G - 1] && I[G - 1].v == S || G == this.C4) && G != 0) {
              K.fillStyle = "#000000";
              K.fillRect(V - 3 + N * (I[G - 1].v.Lctn.v + (s.Lctn.v - I[G - 1].v.Lctn.v) * s.Mdpn.v / 100) / 4096, j - 6 - 2, 6, 6)
          }
          if (s == S) {
              K.fillStyle = "#ffffff";
              K.fillRect(V - H + N * (s.Lctn.v / 4096) - 2, j - 2 - A - 2, 2 * H + 4, A + 4)
          }
          K.fillStyle = "rgb(" + D + "," + D + "," + D + ")";
          K.fillRect(V - H + N * (s.Lctn.v / 4096), j - 2 - A, 2 * H, A)
      }
      for (var G = 0; G < h.length; G++) {
          var F = h[G].v
            , y = o[G];
          if ((F == v || h[G - 1] && h[G - 1].v == v || G == this.ah) && G != 0) {
              K.fillStyle = "#000000";
              K.fillRect(V - 3 + N * (h[G - 1].v.Lctn.v + (F.Lctn.v - h[G - 1].v.Lctn.v) * F.Mdpn.v / 100) / 4096, j + k + 2, 6, 6)
          }
          if (F == v) {
              K.fillStyle = "#ffffff";
              K.fillRect(V - H + N * (F.Lctn.v / 4096) - 2, j + k + 2 - 2, 2 * H + 4, A + 4)
          }
          K.fillStyle = "rgb(" + Math.round(y.h) + ", " + Math.round(y.l) + "," + Math.round(y.O) + ")";
          K.fillRect(V - H + N * (F.Lctn.v / 4096), j + k + 2, 2 * H, A)
      }
      if (this.vb) {
          this.W5(this.Kz);
          this.VJ = !0
      }
  }
  ;
  d6.prototype.XO = function() {
      this.NF.T(Math.round(100 * this.Kz.Intr.v / 4096));
      var E = this.Kz.Trns.v
        , K = this.Kz.Clrs.v
        , i = this.E$ != null
        , C = this.C4 != -1;
      this.$J.CA(i);
      this.fj.CA(i || C);
      this.P5.CA(i);
      if (i) {
          this.hW.setAttribute("style", "");
          var N = this.E$.v;
          this.fj.T(Math.round(100 * N.Lctn.v / 4096));
          this.$J.T(N.Opct.v.val)
      }
      if (C)
          this.fj.T(E[this.C4].v.Mdpn.v);
      var i = this.h1 != null
        , C = this.ah != -1;
      this.us.CA(i);
      this.iV.CA(i);
      this.tB.CA(i || C);
      this.w$.CA(i);
      if (i) {
          this.Vg.setAttribute("style", "");
          var k = this.h1.v;
          this.tB.T(Math.round(100 * k.Lctn.v / 4096));
          var V = k.Type.v.Clry;
          this.us.T(["FrgC", "BckC", "UsrS"].indexOf(V));
          if (V == "FrgC")
              this.iV.Pi(this.V$.sm);
          if (V == "BckC")
              this.iV.Pi(this.V$.JT);
          if (V == "UsrS")
              this.iV.T(k.Clr.v)
      }
      if (C)
          this.tB.T(K[this.ah].v.Mdpn.v)
  }
  ;
  d6.prototype.At = function(E) {
      var K = Math.round(4096 * this.NF.u() / 100);
      this.Kz.Intr.v = K;
      var i = this.Kz.Trns.v
        , C = this.Kz.Clrs.v;
      if (this.E$ != null) {
          var N = this.E$.v;
          N.Lctn.v = Math.round(4096 * (this.fj.u() / 100));
          N.Opct.v.val = this.$J.u()
      }
      if (this.h1 != null) {
          var k = this.h1.v;
          k.Lctn.v = Math.round(4096 * (this.tB.u() / 100));
          if (E.target == this.iV)
              this.us.T(2);
          var V = this.us.u();
          k.Type.v.Clry = ["FrgC", "BckC", "UsrS"][V];
          if (V == 2)
              k.Clr = {
                  t: "Objc",
                  v: this.iV.u()
              };
          else if (k.Clr)
              delete k.Clr
      }
      if (this.C4 != -1)
          i[this.C4].v.Mdpn.v = this.fj.u();
      if (this.ah != -1)
          C[this.ah].v.Mdpn.v = this.tB.u();
      this.ry()
  }
  ;
  d6.prototype.Aq = function(E) {
      var K = c.DX(E, this.oV)
        , i = (K.x * c.M() - this.cT.x) / this.cT.d
        , C = (K.y * c.M() - this.cT.y) / this.cT.v
        , N = this.Kz.Trns.v
        , k = this.Kz.Clrs.v
        , V = null
        , j = null
        , a = -1
        , e = -1;
      if (C < 1)
          for (var G = 0; G < N.length; G++) {
              var L = N[G].v;
              if (Math.abs(L.Lctn.v / 4096 - i) < .02)
                  V = N[G];
              if (G > 0)
                  if (Math.abs((N[G - 1].v.Lctn.v + (L.Lctn.v - N[G - 1].v.Lctn.v) * L.Mdpn.v / 100) / 4096 - i) < .01)
                      a = G
          }
      if (C > 0)
          for (var G = 0; G < k.length; G++) {
              var g = k[G].v;
              if (Math.abs(g.Lctn.v / 4096 - i) < .02)
                  j = k[G];
              if (G > 0)
                  if (Math.abs((k[G - 1].v.Lctn.v + (g.Lctn.v - k[G - 1].v.Lctn.v) * g.Mdpn.v / 100) / 4096 - i) < .01)
                      e = G
          }
      if (j == null && V == null && a == -1 && e == -1) {
          if (C < 0) {
              var L = {
                  t: "Objc",
                  v: {
                      classID: "TrnS",
                      Opct: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 100
                          }
                      },
                      Lctn: {
                          t: "long",
                          v: 0
                      },
                      Mdpn: {
                          t: "long",
                          v: 50
                      }
                  }
              };
              L.v.Lctn.v = Math.round(i * 4096);
              N.push(L);
              N.sort(this.uq);
              V = L
          }
          if (C > 1) {
              var k = this.Kz.Clrs.v
                , I = _.V.tA(k, this.V$.sm, this.V$.JT)
                , h = _.V.$W(this.Kz, I, i)
                , g = {
                  t: "Objc",
                  v: {
                      classID: "Clrt",
                      Clr: {
                          t: "Objc",
                          v: _.V.VQ({
                              h: h & 255,
                              l: h >> 8 & 255,
                              O: h >> 16 & 255
                          })
                      },
                      Type: {
                          t: "enum",
                          v: {
                              Clry: "UsrS"
                          }
                      },
                      Lctn: {
                          t: "long",
                          v: 0
                      },
                      Mdpn: {
                          t: "long",
                          v: 50
                      }
                  }
              };
              g.v.Lctn.v = Math.round(i * 4096);
              k.push(g);
              k.sort(this.uq);
              j = g
          }
      }
      if (j != null)
          e = -1;
      if (V != null)
          a = -1;
      if (j != null || V != null || a > -1 || e > -1) {
          this.E$ = V;
          this.h1 = j;
          this.C4 = a;
          this.ah = e;
          this.XO();
          this.ry();
          c.ys(window, this.HM);
          c.vL(window, this.lH)
      }
  }
  ;
  d6.prototype.$R = function(E) {
      var K = c.DX(E, this.oV)
        , i = c.M() * (K.x - this.cT.x) / this.cT.d
        , C = c.M() * (K.y - this.cT.y) / this.cT.v;
      i = Math.max(0, Math.min(1, i));
      var N = this.Kz.Trns.v
        , k = this.Kz.Clrs.v;
      if (this.E$ != null) {
          var V = this.E$.v;
          V.Lctn.v = Math.round(4096 * i);
          var j = N.indexOf(this.E$);
          if (j != -1 && C < -1 && N.length > 2)
              N.splice(j, 1);
          if (j == -1 && C > -1)
              N.push(this.E$);
          N.sort(this.uq)
      }
      if (this.h1 != null) {
          var a = this.h1.v;
          a.Lctn.v = Math.round(4096 * i);
          var e = k.indexOf(this.h1);
          if (e != -1 && C > 1.5 && k.length > 2)
              k.splice(e, 1);
          if (e == -1 && C < 1.5)
              k.push(this.h1);
          k.sort(this.uq)
      }
      if (this.C4 > -1) {
          var V = N[this.C4].v;
          V.Mdpn.v = Math.max(5, Math.min(95, Math.round(100 * (i * 4096 - N[this.C4 - 1].v.Lctn.v) / (V.Lctn.v - N[this.C4 - 1].v.Lctn.v))))
      }
      if (this.ah > -1) {
          var a = k[this.ah].v;
          a.Mdpn.v = Math.max(5, Math.min(95, Math.round(100 * (i * 4096 - k[this.ah - 1].v.Lctn.v) / (a.Lctn.v - k[this.ah - 1].v.Lctn.v))))
      }
      if (this.E$ != null || this.h1 != null || this.C4 > -1 || this.ah > -1) {
          this.XO();
          this.ry()
      }
  }
  ;
  d6.prototype.$T = function(E) {
      c.sI(window, this.HM);
      c.qU(window, this.lH);
      if (Date.now() - this.RH < 300) {
          if (this.ah != -1 || this.C4 != -1) {
              var K = (this.ah != -1 ? this.Kz.Clrs.v[this.ah] : this.Kz.Trns.v[this.C4]).v;
              K.Mdpn.v = 50;
              this.XO();
              this.ry()
          } else if (this.h1 != null)
              this.iV.ak4()
      }
      this.RH = Date.now()
  }
  ;
  d6.prototype.uq = function(E, K) {
      return E.v.Lctn.v - K.v.Lctn.v
  }
  ;
  function iI() {
      bQ.call(this, [11, 10], "isize");
      this.lo = c.w("div", "form");
      this.lo.setAttribute("style", "width:20em");
      this.body.appendChild(this.lo);
      this.Pu = new bP(!0,!0);
      this.lo.appendChild(this.Pu.j);
      this.Sp = new ck("Resample");
      this.Sp.T(!0);
      this.lo.appendChild(this.Sp.j);
      this.Sp.k(c.E.L, this.a89, this);
      this.u7 = new gc([12, 14, 1],[[12, 14, 2], [12, 14, 3], "Bicubic Sharper"]);
      this.u7.T(1);
      this.lo.appendChild(this.u7.j);
      this.iI = new hO("OK",!0,null,!0);
      this.iI.k("click", this.zW, this);
      this.body.appendChild(this.iI.j)
  }
  iI.prototype = new bQ;
  iI.prototype.N$ = function(E, K) {
      return E != null
  }
  ;
  iI.prototype.cn = function() {
      return !0
  }
  ;
  iI.prototype.a89 = function(E) {
      var K = this.Sp.u()
        , i = this.Pu
        , C = this.u7;
      if (K)
          C.lV();
      else
          C.EF();
      if (K)
          i.a3s();
      else
          i.ahu()
  }
  ;
  iI.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.u7.B();
      this.Pu.B()
  }
  ;
  iI.prototype.zW = function(E) {
      this.close();
      var K = this.Pu.u()
        , i = K.x
        , C = K.y
        , N = this.u7.u();
      if (!this.Sp.u())
          N = null;
      var k = new q(c.E.J5,!0);
      k.data = u.S7.yF(i, C, this.Pu.ru(), N);
      this.U(k)
  }
  ;
  iI.prototype.MN = function(E, K) {
      this.Pu.T(new bT(E.d,E.v), E.v9)
  }
  ;
  function a$() {
      bQ.call(this, "Import RAW", "importraw");
      var E = c.w("div", "flexrow")
        , K = c.w("div");
      this.body.appendChild(E);
      this.body.appendChild(K);
      var i = c.w("div", "form");
      i.setAttribute("style", "width:16em");
      E.appendChild(i);
      var C = c.w("div", "form");
      C.setAttribute("style", "width:14em");
      E.appendChild(C);
      this.dI = null;
      this.anj = null;
      this.li = null;
      this.akl = [];
      var N = [];
      for (var G = 0; G < a$.pS.length; G++)
          N.push(a$.pS[G] + " Bits");
      this.oP = [new bP(!0,!0), new eN([12, 72],["1", "3", "4"]), new eN([12, 34],N), new eN("Byte Order",["12-34", "34-12"]), new gc("Guesses",[])];
      for (var G = 0; G < this.oP.length; G++) {
          var k = this.oP[G];
          if (G != 0)
              k.T(0);
          k.k(c.E.L, G == 4 ? this.wP : this.dH, this);
          var V = G == 0 ? i : G == 4 ? K : C;
          V.appendChild(k.j)
      }
      this.n4 = c.w("canvas");
      this.se = this.n4.getContext("2d");
      this.body.appendChild(this.n4);
      this.iI = new hO("OK",!0,null,!0);
      this.iI.k("click", this.zW, this);
      this.body.appendChild(this.iI.j)
  }
  a$.prototype = new bQ;
  a$.prototype.B = function() {
      bQ.prototype.B.call(this);
      var E = this.oP;
      for (var G = 0; G < E.length; G++)
          E[G].B()
  }
  ;
  a$.prototype.zW = function(E) {
      this.close();
      var K = this.oP[0].u()
        , i = fb.qz(this.anj, [{
          data: this.li,
          UP: new h4(0,0,K.x,K.y)
      }])
        , C = new q(c.E.P,!0);
      C.data = {
          e: !0 ? c.f.xC : c.f.Sz,
          uY: i
      };
      this.U(C)
  }
  ;
  a$.pS = [8, 16];
  a$.prototype.MN = function(E, K) {
      this.dI = new Uint8Array(K.zr);
      this.anj = K.hS;
      var i = this.dI.length
        , C = [1, 3, 4]
        , N = 0
        , k = 0
        , V = 1
        , j = 1
        , a = this.akl = [];
      for (var e = 0; e < 3; e++) {
          for (var L = 0; L < 2; L++) {
              var g = a$.pS[L]
                , I = C[e]
                , h = I * g
                , o = Math.round(i * 8 / h);
              if (o != i * 8 / h)
                  continue;
              for (var H = 0; H <= 4e3; H++)
                  for (var A = 0; A <= 4e3; A++)
                      if (H * A == o) {
                          var S = 0;
                          if (H == A)
                              S += 64;
                          if (Math.round(H / 100) == H / 100 && Math.round(A / 100) == A / 100)
                              S += 32;
                          if (Math.round(H / 10) == H / 10 && Math.round(A / 10) == A / 10)
                              S += 16;
                          if (Math.round(H / 2) == H / 2 && Math.round(A / 2) == A / 2)
                              S += 8;
                          a.push([H, A, I, g, S])
                      }
          }
      }
      var v = function(y, T) {
          if (T[4] != y[4])
              return T[4] - y[4];
          var Q = Math.max(y[0], y[1]) / Math.min(y[0], y[1])
            , B = Math.max(T[0], T[1]) / Math.min(T[0], T[1]);
          if (Q != B)
              return Q - B;
          return T[0] - y[0]
      };
      a.sort(v);
      var s = this.oP
        , D = [];
      for (var G = 0; G < a.length; G++) {
          var F = a[G];
          D.push(F[0] + " x " + F[1] + ", " + F[2] + "c, " + F[3] + "-bit")
      }
      s[4].X2(D);
      s[4].T(0);
      this.wP(null)
  }
  ;
  a$.prototype.wP = function(E) {
      var K = this.oP
        , i = this.akl[this.oP[4].u()];
      K[0].T(new bT(i[0],i[1]), 72);
      K[1].T([1, 3, 4].indexOf(i[2]));
      K[2].T(a$.pS.indexOf(i[3]));
      this.dH()
  }
  ;
  a$.prototype.dH = function(E) {
      var K = this.oP
        , i = K[0].u()
        , C = i.x
        , N = i.y
        , k = a$.pS[K[2].u()]
        , V = this.dI;
      if (k == 16 && K[3].u() == 1) {
          V = V.slice(0);
          for (var G = 0; G < V.length; G += 2) {
              var j = V[G];
              V[G] = V[G + 1];
              V[G + 1] = j
          }
      }
      var a = this.li = UPNG.toRGBA8.decodeImage(V, C, N, {
          tabs: {},
          ctype: [0, 2, 6][K[1].u()],
          depth: k
      })
        , e = this.n4
        , L = this.se
        , g = [a, new h4(0,0,C,N)];
      _.Mv(g);
      for (var G = 0; G < g.length; G += 2)
          if (g[G + 1].v < 300) {
              a = g[G];
              C = g[G + 1].d;
              N = g[G + 1].v;
              break
          }
      e.width = C;
      e.height = N;
      c.em(e, C, N);
      var I = new ImageData(new Uint8ClampedArray(a.buffer),C,N);
      L.putImageData(I, 0, 0)
  }
  ;
  function iP(E, K, i) {
      aB.call(this);
      this.j = c.w("div", "");
      this.hr = E;
      this.pC = null;
      this.PR = K == null ? !1 : K;
      this.YR = null;
      this.Ir = i;
      this.jN = [];
      this.h3 = [];
      this.ao = [];
      this.xj = [];
      this.fi = 0;
      this.pC = this.a5o(iP.xj[E]);
      this.ZV();
      this.Ik = null;
      this.a1k;
      this.a0p
  }
  iP.prototype = new aB;
  iP.prototype.om = function(E, K, i, C, N) {
      this.Ik = N;
      this.a1k = JSON.parse(JSON.stringify(this.YR));
      if (this.pC.lagl)
          this.a0p = this.pC.lagl.u()
  }
  ;
  iP.prototype.n9 = function(E, K, i, C, N) {
      var k = this.Ik
        , V = this.hr
        , j = this.a1k;
      if (k == null)
          return;
      var a = (N.x - k.x) / E.a.S
        , e = (N.y - k.y) / E.a.S;
      if (V == "GrFl") {
          var L = JSON.parse(JSON.stringify(j.Ofst.v));
          L.Hrzn.v.val += a * .5;
          L.Vrtc.v.val += e * .5;
          this.pC.Ofst.T(L, !0)
      }
      if (V == "patternFill") {
          var L = JSON.parse(JSON.stringify(j.phase.v));
          L.Hrzn.v += a;
          L.Vrtc.v += e;
          this.pC.phase.T(L, !0)
      }
      if (V == "DrSh" || V == "IrSh" || V == "ChFX") {
          var g = j.Dstn.v.val
            , I = this.a0p.Rz * Math.PI / 180
            , h = -Math.cos(I) * g + a
            , o = Math.sin(I) * g + e;
          this.pC.Dstn.T(Math.sqrt(h * h + o * o), !0);
          this.pC.lagl.T(Math.atan2(o, -h) * 180 / Math.PI, null, !0)
      }
  }
  ;
  iP.prototype.Cs = function(E, K, i, C, N) {
      this.Ik = null
  }
  ;
  iP.prototype.agm = function() {
      for (var G = 0; G < this.xj.length; G++) {
          c.lD(this.xj[G], "selected");
          if (this.ao[G]instanceof ck)
              this.ao[G].T(!1)
      }
  }
  ;
  iP.prototype.a5e = function(E) {
      var K = this.a7q.bind(this);
      for (var G = 0; G < this.ao.length; G++) {
          var i = c.w("div", "listitem");
          this.xj.push(i);
          if (G > 0)
              i.textContent = "\u2003";
          i.appendChild(this.ao[G].j);
          if (ao.nz.indexOf(this.hr) != -1) {
              var C = new hO("+");
              C.cY();
              C.j.style.float = "right";
              i.appendChild(C.j);
              var N = new hO("\u2B0D");
              N.cY();
              N.j.style.float = "right";
              N.j.style["margin-right"] = "2px";
              i.appendChild(N.j)
          }
          i.addEventListener("click", K, !1);
          E.appendChild(i)
      }
  }
  ;
  iP.TY = function(E, K) {
      var i = K.getBoundingClientRect();
      return (E.clientY - i.top) / i.height
  }
  ;
  iP.prototype.a7q = function(E) {
      var K = E.target.tagName.toLowerCase();
      if (K == "input") {
          return
      }
      if (K == "button") {
          var i = new q(c.E.A,!0)
            , C = E.target.textContent == "+"
            , N = C ? 0 : iP.TY(E, E.target) < .5 ? -1 : 1;
          if (C)
              i.data = {
                  e: "st_dupsingle",
                  z: this.parent.data.z,
                  na: this.Ir
              };
          else
              i.data = {
                  e: "st_movsingle",
                  z: this.parent.data.z,
                  na: this.Ir,
                  aiy: N
              };
          i.F = u.YB;
          i.r1 = !0;
          this.U(i);
          i = new q("redrawall",!0);
          i.data = {
              aiy: N
          };
          this.U(i);
          return
      }
      c.zx(E);
      this.Nw();
      this.fi = this.xj.indexOf(E.currentTarget);
      this.U(new q("showme"))
  }
  ;
  iP.prototype.Nw = function() {
      if (this.pC.enab && this.pC.enab.u() == !1)
          this.bQ({
              tL: "enab",
              G: !0
          })
  }
  ;
  iP.prototype.a9n = function() {
      var E = this.xj[this.fi];
      if (E)
          c.U8(E, "selected");
      return this.h3[this.fi]
  }
  ;
  iP.prototype.a5o = function(E) {
      var K = {};
      for (var G = 0; G < E.length; G++) {
          var i = E[G]
            , C = null;
          if (i == "----")
              C = {
                  j: c.w("hr")
              };
          if (i == "\n")
              C = {
                  j: c.w("br")
              };
          if (i == "blOptions")
              C = new di([14, 10]);
          if (i == "brst")
              C = new cP([12, 72],["R", "G", "B"]);
          if (i == "knko")
              C = new gc("Knockout",[[13, 1, 0], "Shallow", "Deep"]);
          if (i == "enab")
              C = new ck(ao.names[ao.order.indexOf(this.hr)]);
          if (i == "lrMd" || i == "Md")
              C = new gc([12, 19, 0],gx.z2,!1,gx.Dx);
          if (i == "Opct")
              C = new hw([12, 0],0,100,"%");
          if (i == "iOpa")
              C = new hw([12, 26],0,100,"%");
          if (i == "blIf")
              C = new fT;
          if (i == "ShdN")
              C = new hw([12, 68],0,100,"%");
          if (i == "lagl" || i == "Angl")
              C = new cU([12, 15]);
          if (i == "uglg")
              C = new ck([12, 27]);
          if (i == "Dstn")
              C = new hw([12, 28],0,200,"px");
          if (i == "Ckmt")
              C = new hw([12, 29],0,100,"%");
          if (i == "blur")
              C = new hw([12, 14, 0],0,200,"px");
          if (i == "TrnS" || i == "MpgS")
              C = new iB([12, 21]);
          if (i == "Nose")
              C = new hw([12, 30],0,100,"%");
          if (i == "layerConceals")
              C = new ck([12, 31]);
          if (i == "AntA" || i == "antialiasGloss")
              C = new ck("Anti-alias");
          if (i == "GlwT")
              C = new gc([12, 32],ao.fP.names);
          if (i == "glwS")
              C = new gc([12, 70],ao.fP.a6l);
          if (i == "Inpr")
              C = new hw([12, 12],1,100,"%");
          if (i == "bvlS")
              C = new gc([12, 22],ao.lC.style);
          if (i == "bvlT")
              C = new gc([12, 32],ao.lC.a3q);
          if (i == "bvlD")
              C = new gc(null,ao.lC.dir);
          if (i == "srgR")
              C = new hw([12, 34],0,1e3,"%");
          if (i == "Sftn")
              C = new hw([12, 35],0,20,"px");
          if (i == "Lald")
              C = K.lagl;
          if (i == "hglM" || i == "sdwM")
              C = new gc([12, 36],gx.z2,!1,gx.Dx);
          if (i == "hglC" || i == "sdwC")
              C = new ha;
          if (i == "hglO" || i == "sdwO")
              C = new hw([12, 0],0,100,"%");
          if (i == "Invr" || i == "InvT")
              C = new ck([4, 11]);
          if (i == "Sz")
              C = new hw([12, 14, 0],1,200,"px");
          if (i == "Styl")
              C = new gc([12, 40],ao.stroke.names);
          if (i == "PntT")
              C = new gc([12, 66],ao.stroke.a9g);
          if (i == "Clr")
              C = new ha(!0);
          if (i == "Grad") {
              C = new c6(!0,[12, 37],!0);
              C.T(JSON.parse(ao.I_.sP).v)
          }
          if (i == "Rvrs")
              C = new ck([12, 23, 0]);
          if (i == "Dthr")
              C = new ck("Dither");
          if (i == "Type")
              C = new gc([12, 22],ao.V.names.slice(0, this.hr == "FrFX" ? 6 : 5));
          if (i == "Ptrn")
              C = new f4([12, 62]);
          if (i == "Scl")
              C = new hw([12, 38],10,500,"%",0,!0);
          if (i == "Algn")
              C = new ck([12, 39]);
          if (i == "Ofst")
              C = new dC(!0);
          if (i == "phase")
              C = new dC(!1);
          if (i == "useShape")
              C = new ck([12, 21]);
          if (i == "useTexture")
              C = new ck([12, 67]);
          if (i == "textureDepth")
              C = new hw([12, 34],-300,300,"%");
          var N = i == "----" || i == "\n" ? i + G : i;
          if (C != null)
              K[N] = C
      }
      return K
  }
  ;
  iP.prototype.aiq = function(E) {
      var K = this.h3[this.fi];
      for (var G = 0; G < E.length; G++) {
          var i = this.pC[E[G]];
          if (i && K.contains(i.j))
              K.removeChild(i.j)
      }
  }
  ;
  iP.prototype.ao7 = function(E) {
      var K = this.h3[this.fi];
      for (var G = 0; G < E.length; G++) {
          var i = this.pC[E[G]];
          if (i && !K.contains(i.j))
              K.appendChild(i.j)
      }
  }
  ;
  iP.prototype.bX = function(E, K) {
      if (this.pC == null)
          return;
      var i = K == dp.iW;
      if (this.pC.Grad) {
          this.pC.Grad.ca(E.sm, E.JT);
          if (i || K == dp.VL || K == dp.vq)
              this.pC.Grad.$S(E.i0)
      }
      if (this.pC.Ptrn) {
          if (i || K == dp.y5)
              this.pC.Ptrn.$S(E.hz)
      }
      if (this.pC.TrnS) {
          if (i || K == dp._G)
              this.pC.TrnS.$S(E.FI)
      }
      if (this.pC.MpgS) {
          if (i || K == dp._G)
              this.pC.MpgS.$S(E.FI)
      }
  }
  ;
  iP.prototype.B = function() {
      for (var G = 0; G < this.jN.length; G++)
          this.jN[G].B();
      for (var E in this.pC)
          if (this.pC[E]instanceof aB)
              this.pC[E].B()
  }
  ;
  iP.prototype.ZV = function() {
      for (var E in this.pC) {
          var K = this.pC[E];
          K.parent = this;
          if (K instanceof aB)
              K.k(c.E.L, this.aln, this);
          if (this.h3.length == 0 || E == "useShape" || E == "useTexture") {
              var i = new di(K.So())
                , C = c.w("div", "bordered padded");
              if (this.PR == !1) {
                  C.appendChild(i.j);
                  C.appendChild(c.w("hr", ""))
              }
              this.jN.push(i);
              this.h3.push(C);
              this.ao.push(K)
          } else
              this.h3[this.h3.length - 1].appendChild(K.j)
      }
  }
  ;
  iP.prototype.update = function(E, K) {
      if (this.pC == null)
          return;
      this.YR = JSON.parse(JSON.stringify(K));
      for (var i in K) {
          if ("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(i) != -1)
              this.pC[i].T(K[i].v.val);
          if ("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(i) != -1) {
              this.pC[i].T(K[i].v, E)
          }
          if (["Md", "hglM", "sdwM"].indexOf(i) != -1)
              this.pC[i].T(gx.hr.indexOf(K[i].v.BlnM));
          if (i == "lrMd") {
              var C = (K.Uf ? [[15, 10, 27]] : []).concat(gx.z2)
                , N = (K.Uf ? [1] : []).concat(gx.Dx);
              this.pC[i].X2(C, N);
              this.pC[i].T(K[i].v)
          }
          if (i == "lagl") {
              var k = K.uglg && K.uglg.v ? E.IQ() : K.lagl.v.val;
              this.pC[i].T(k)
          }
          if (i == "Lald") {
              var k = K.uglg && K.uglg.v ? E.My() : K.Lald.v.val;
              this.pC[i].T(null, k)
          }
          if (i == "Type")
              this.pC[i].T(ao.V.types.indexOf(K.Type.v.GrdT));
          if (i == "Styl")
              this.pC[i].T(ao.stroke.types.indexOf(K.Styl.v.FStl));
          if (i == "PntT") {
              var V = ao.stroke.uB.indexOf(K.PntT.v.FrFl);
              this.pC[i].T(V);
              if (!this.PR) {
                  this.aiq(ao.wz.concat(ao.yI.concat(ao.TX)));
                  this.ao7([ao.wz, ao.yI, ao.TX][V])
              }
          }
          if (i == "GlwT")
              this.pC[i].T(ao.fP.types.indexOf(K.GlwT.v.BETE));
          if (i == "glwS")
              this.pC[i].T(ao.fP.ZJ.indexOf(K.glwS.v.IGSr));
          if (i == "bvlS")
              this.pC[i].T(ao.lC.types.indexOf(K.bvlS.v.BESl));
          if (i == "bvlT")
              this.pC[i].T(ao.lC.Jz.indexOf(K.bvlT.v.bvlT));
          if (i == "bvlD")
              this.pC[i].T(["In", "Out"].indexOf(K.bvlD.v.BESs))
      }
  }
  ;
  iP.prototype.aln = function(E) {
      for (var K in this.pC) {
          if (this.pC[K] != E.target)
              continue;
          var i = null
            , C = !1;
          if ("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(K) != -1)
              i = {
                  type: "#Prc",
                  val: E.target.u()
              };
          if (["Dstn", "Ckmt", "blur", "Sz", "Sftn"].indexOf(K) != -1)
              i = {
                  type: "#Pxl",
                  val: E.target.u()
              };
          if (["Angl", "lagl"].indexOf(K) != -1)
              i = {
                  type: "#Ang",
                  val: E.target.u().Rz
              };
          if ("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(K) != -1)
              i = E.target.u();
          if (["Md", "hglM", "sdwM"].indexOf(K) != -1)
              i = {
                  BlnM: gx.hr[E.target.u()]
              };
          if (K == "uglg") {
              i = E.target.u();
              C = !0
          }
          if (K == "PntT") {
              i = {
                  FrFl: ao.stroke.uB[E.target.u()]
              };
              C = !0
          }
          if (K == "Lald")
              i = {
                  type: "#Ang",
                  val: E.target.u().alt
              };
          if (K == "Type")
              i = {
                  GrdT: ao.V.types[E.target.u()]
              };
          if (K == "Styl")
              i = {
                  FStl: ao.stroke.types[E.target.u()]
              };
          if (K == "GlwT")
              i = {
                  BETE: ao.fP.types[E.target.u()]
              };
          if (K == "glwS")
              i = {
                  IGSr: ao.fP.ZJ[E.target.u()]
              };
          if (K == "bvlS")
              i = {
                  BESl: ao.lC.types[E.target.u()]
              };
          if (K == "bvlT")
              i = {
                  bvlT: ao.lC.Jz[E.target.u()]
              };
          if (K == "bvlD")
              i = {
                  BESs: ["In", "Out"][E.target.u()]
              };
          this.bQ({
              tL: K,
              G: i
          });
          if (C) {
              if (this.PR)
                  this.update(null, this.YR);
              else {
                  var N = this.parent
                    , k = N.uY
                    , V = this.Ir
                    , j = k.t[N.data.z].add.lmfx[ao.Y9[V[0]]].v[V[1]].v;
                  this.update(k, j)
              }
          }
      }
  }
  ;
  iP.prototype.bQ = function(E) {
      if (this.YR && this.YR[E.tL])
          this.YR[E.tL].v = E.G;
      if (this.PR) {
          this.U(new q(c.E.L))
      } else {
          E.e = "changeprop";
          E.z = this.parent.data.z;
          E.EL = this.Ir;
          var K = new q(c.E.A,!0);
          K.data = E;
          K.F = u.YB;
          K.r1 = !0;
          this.U(K);
          this.U(new q("afterchange",!0))
      }
  }
  ;
  iP.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.YR))
  }
  ;
  iP.xj = {
      bops: "blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),
      DrSh: "enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),
      IrSh: "enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),
      OrGl: ["enab", "Md", "Opct", "Nose", "\n", "Clr", "Grad", "----", "GlwT", "Ckmt", "blur", "TrnS", "Inpr", "ShdN"],
      IrGl: ["enab", "Md", "Opct", "Nose", "\n", "Clr", "Grad", "----", "GlwT", "glwS", "Ckmt", "blur", "TrnS", "Inpr", "ShdN"],
      ebbl: ["enab", "bvlS", "bvlT", "bvlD", "srgR", "blur", "Sftn", "----", "lagl", "Lald", "uglg", "TrnS", "\n", "hglM", "hglC", "hglO", "sdwM", "sdwC", "sdwO", "useShape", "MpgS", "Inpr", "useTexture", "Ptrn", "Scl", "textureDepth", "InvT", "Algn", "phase"],
      SoFi: ["enab", "Md", "Opct"].concat(ao.wz),
      GrFl: ["enab", "Md", "Opct"].concat(ao.yI),
      patternFill: ["enab", "Md", "Opct"].concat(ao.TX),
      ChFX: "enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),
      FrFX: ["enab", "Sz", "Styl", "\n", "Md", "Opct", "PntT", "\n"].concat(ao.wz.concat(ao.yI.concat(ao.TX)))
  };
  function eF() {
      bQ.call(this, [11, 6], "layerstyle");
      this.anA = -1;
      this.data = {};
      this.uY = null;
      this.Mi = null;
      this._v = [];
      this.ng = [];
      c.U8(this.body, "flexrow");
      this.R5 = c.w("div", "bordered");
      this.R5.setAttribute("style", "min-width:13em;");
      this.body.appendChild(this.R5);
      this.z4 = c.w("div", "");
      this.z4.setAttribute("style", "width:25em; padding-left: 1em;");
      this.body.appendChild(this.z4);
      this.n8 = c.w("div", "form");
      this.n8.setAttribute("style", "padding-left: 1em; width:7em;");
      this.body.appendChild(this.n8);
      this.Tl = new hO("OK",!0,null,!0);
      this.Tl.k("click", this.zW, this);
      this.n8.appendChild(this.Tl.j);
      this.cL = new hO([12, 87],!0,null,!0);
      this.cL.k("click", this.a1b, this);
      this.n8.appendChild(this.cL.j);
      this.rl = new bS;
      this.rl.parent = this;
      this.rl.k(c.E.L, this.a5u, this);
      this.n8.appendChild(this.rl.j);
      this.k("closebtn", this.Qg, this);
      this.k("redrawall", this.K7, this)
  }
  eF.prototype = new bQ;
  eF.prototype.cn = function() {
      return !0
  }
  ;
  eF.prototype.Di = function() {
      return !0
  }
  ;
  eF.prototype.om = function(E, K, i, C, N) {
      var k = this.Ol();
      if (k)
          k.om(E, K, i, C, N)
  }
  ;
  eF.prototype.n9 = function(E, K, i, C, N) {
      var k = this.Ol();
      if (k)
          k.n9(E, K, i, C, N)
  }
  ;
  eF.prototype.Cs = function(E, K, i, C, N) {
      var k = this.Ol();
      if (k)
          k.Cs(E, K, i, C, N)
  }
  ;
  eF.prototype.Ol = function(E) {
      if (E == null)
          E = this.data.index;
      return E == null ? null : E == 0 ? this._v[0] : this.ng[E[0]][E[1]]
  }
  ;
  eF.prototype.a5u = function(E) {
      var K = this.rl.u();
      this.bQ({
          e: "setstl",
          G: K.jw
      });
      this.K7(null)
  }
  ;
  eF.prototype.a1b = function(E) {
      var K = this.uY
        , i = this.data.z;
      if (i == null)
          i = K.C[0];
      var C = this.uY.t[i]
        , N = h$.j4(C)
        , k = new q(c.E.P,!0);
      k.data = {
          e: c.f.H7,
          LG: "add",
          KG: dp.KJ,
          in: [JSON.parse(JSON.stringify(N))]
      };
      this.U(k)
  }
  ;
  eF.prototype.ahK = function(E) {
      this.data.index = E.currentTarget.Ir;
      this.Aj(E.currentTarget.Ir)
  }
  ;
  eF.prototype.K7 = function(E) {
      this.MN(this.uY, this.data)
  }
  ;
  eF.prototype.Aj = function(E, K) {
      c.kL(this.z4);
      for (var G = 0; G < this._v.length; G++)
          this._v[G].agm();
      var i = this.Ol(E);
      this.z4.appendChild(i.a9n());
      if (K)
          i.Nw();
      var C = this.uY;
      if (C) {
          var N = C.t[this.data.z];
          this._v[0].update(C, hn.Qx.VW(C, N));
          var k = N.add.lmfx;
          if (k == null)
              return;
          for (var G = 0; G < ao.order.length; G++) {
              var V = k[ao.Y9[G]].v;
              for (var j = 0; j < V.length; j++)
                  this.ng[G][j].update(C, V[j].v)
          }
      }
      if (K)
          i.Nw()
  }
  ;
  eF.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.cL.B();
      this.rl.B();
      for (var G = 0; G < this._v.length; G++)
          this._v[G].B()
  }
  ;
  eF.prototype.MN = function(E, K) {
      var i = K.z == null;
      this.data.z = K.z;
      this.data.index = K.index;
      K = this.data;
      this.uY = E;
      if (i)
          K.z = E.C.length == 0 ? E.t.length - 1 : E.C[0];
      c.kL(this.R5);
      var C = E.t[K.z].add.lmfx;
      this.ok();
      this._v = [new iP("bops",!1,0)];
      this.ng = [];
      for (var G = 0; G < ao.order.length; G++) {
          this.ng.push([]);
          var N = C == null ? [] : C[ao.Y9[G]].v;
          for (var k = 0; k < N.length; k++) {
              var V = new iP(ao.order[G],!1,[G, k]);
              this._v.push(V);
              this.ng[G].push(V)
          }
          if (N.length == 0) {
              var V = new iP(ao.order[G],!1,[G, 0]);
              this._v.push(V);
              this.ng[G].push(V)
          }
      }
      this.B();
      this.w8(this.Mi, dp.iW);
      for (var G = 0; G < this._v.length; G++) {
          this._v[G].parent = this;
          this._v[G].a5e(this.R5);
          this._v[G].k("showme", this.ahK, this)
      }
      if (K.index == null || K.index == 0 || !i && C[ao.Y9[K.index[0]]].v.length == 0) {
          this.Aj(0)
      } else
          this.Aj(K.index, i);
      this.k("afterchange", this.ok, this)
  }
  ;
  eF.prototype.ok = function(E) {
      var K = this.uY
        , i = this.data.z;
      if (i == null)
          i = K.C[0];
      var C = this.uY.t[i]
        , N = h$.j4(C);
      this.rl.T(N, K.add.Patt ? K.add.Patt : [], K.IQ(), K.My())
  }
  ;
  eF.prototype.bX = function(E, K) {
      this.Mi = E;
      this.w8(E, K);
      if (K == dp.KJ || K == dp.iW) {
          this.rl.$S([E.i$, E.hz])
      }
      if (K == dp.ur) {}
  }
  ;
  eF.prototype.w8 = function(E, K) {
      for (var G = 0; G < this._v.length; G++)
          this._v[G].bX(E, K)
  }
  ;
  eF.prototype.Qg = function(E) {
      this.bQ({
          e: "cancel"
      })
  }
  ;
  eF.prototype.zW = function(E) {
      this.bQ({
          e: "confirm"
      });
      this.close()
  }
  ;
  eF.prototype.bQ = function(E) {
      E.z = this.data.z;
      var K = new q(c.E.A,!0);
      K.data = E;
      K.F = u.YB;
      K.r1 = !0;
      this.U(K);
      this.ok()
  }
  ;
  eF.FK = function(E) {
      var K = [{
          name: [14, 10],
          bx: !0
      }];
      for (var G = 0; G < ao.names.length; G++)
          K.push({
              name: ao.names[G]
          });
      if (E) {
          K[K.length - 1].bx = !0;
          K.push({
              name: "Scale Effects",
              Q: function(i) {
                  return {
                      Q: i != null && i.C.length != 0 && i.t[i.C[0]].Nz()
                  }
              }
          });
          K.push({
              name: ["VAR0 VAR1", [12, 49], [9, 1]],
              Q: function(i) {
                  return {
                      Q: i != null && i.C.length != 0 && i.t[i.C[0]].add.lmfx != null
                  }
              }
          })
      }
      return K
  }
  ;
  eF.n0 = function(E) {
      var K = [{
          c: c.E.P,
          o: {
              e: c.f.eQ,
              KN: "layerstyle"
          }
      }];
      for (var G = 0; G < ao.names.length; G++)
          K.push({
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "layerstyle",
                  index: [G, 0]
              }
          });
      if (E) {
          K.push({
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "scaleeffects",
                  Io: 100,
                  b5: {
                      c: c.E.A,
                      F: u.YB,
                      o: {
                          e: "scaleeffects"
                      }
                  }
              }
          });
          var i = {
              classID: "Mk",
              null: bY.Ve("Lyr"),
              Usng: {
                  t: "obj ",
                  v: [{
                      t: "prop",
                      v: {
                          classID: "Prpr",
                          keyID: "Lefx"
                      }
                  }, {
                      t: "Enmr",
                      v: {
                          classID: "Lyr",
                          typeID: "Ordn",
                          enum: "Trgt"
                      }
                  }]
              }
          };
          K.push({
              c: c.E.J5,
              o: {
                  bT: "make",
                  v4: i
              }
          })
      }
      return K
  }
  ;
  eF.Jc = function(E) {
      var K = [];
      if (E)
          K.push({
              name: [6, 48, 0, 0],
              mv: !0
          }, {
              name: [6, 48, 0, 1],
              mv: !0
          }, {
              name: [6, 48, 0, 2],
              mv: !0,
              bx: !0
          });
      for (var i in gM.names)
          K.push({
              name: gM.names[i],
              bx: gM.Z7.indexOf(i) != -1,
              mv: M[i] != null
          });
      return K
  }
  ;
  eF.NL = function(E) {
      var K = [];
      if (E) {
          K.push({
              c: c.E.A,
              F: u.x2,
              o: {
                  e: "newfill",
                  wn: 0
              }
          });
          for (var G = 1; G < 3; G++)
              K.push({
                  c: c.E.J5,
                  o: u.WZ.yN(G)
              })
      }
      for (var i in gM.names) {
          var C = ef.Sk(i);
          if (C == null)
              C = {};
          for (var N in gM.cC)
              if (gM.cC[N] == i)
                  C.classID = N;
          var k = {
              bT: "make",
              v4: {
                  classID: "Mk",
                  null: bY.Ve("AdjL"),
                  Usng: {
                      t: "Objc",
                      v: {
                          classID: "AdjL",
                          Type: {
                              t: "Objc",
                              v: C
                          }
                      }
                  }
              }
          };
          K.push({
              c: c.E.J5,
              o: k
          })
      }
      return K
  }
  ;
  function ah() {
      bQ.call(this, "Merge Channels", "mergechannels");
      this.Fo = null;
      var E = c.w("div", "form");
      this.body.appendChild(E);
      this.oP = [];
      for (var G = 0; G < 3; G++) {
          var K = new gc(gM.Hh[G],[]);
          this.oP.push(K);
          E.appendChild(K.j);
          c.eg(E)
      }
      this.Tl = new hO("OK",!0,null,!0);
      this.Tl.k("click", this.zW, this);
      E.appendChild(this.Tl.j)
  }
  ah.prototype = new bQ;
  ah.prototype.B = function() {
      bQ.prototype.B.call(this);
      for (var G = 0; G < 3; G++)
          this.oP[G].B()
  }
  ;
  ah.prototype.MN = function(E, K, i, C) {
      this.Fo = i;
      var N = [];
      for (var G = 0; G < i.length; G++)
          N.push(i[G].name);
      for (var G = 0; G < 3; G++) {
          var k = this.oP[G];
          k.X2(N);
          k.T(Math.min(G, i.length - 1))
      }
  }
  ;
  ah.prototype.zW = function(E) {
      var K = this.Fo
        , i = K[0]
        , C = new q(c.E.J5,!0);
      C.data = bl.il(i.d, i.v, i.v9, "Merged Document", "Wht");
      this.U(C);
      var N = [];
      for (var G = 0; G < 3; G++)
          N.push(K[this.oP[G].u()].A7());
      var i = K[K.length - 1]
        , k = i.t[0]
        , V = k.buffer;
      for (var G = 0; G < V.length; G += 4) {
          V[G] = N[0][G];
          V[G + 1] = N[1][G];
          V[G + 2] = N[2][G]
      }
      k.s();
      i.s();
      this.close()
  }
  ;
  function cp() {
      bQ.call(this, [1, 10], "script");
      var E = c.w("div", "form");
      E.setAttribute("style", "width:44em");
      this.body.appendChild(E);
      this.Mi = null;
      this.qc = [];
      this.ky = [];
      this.ajy;
      var K = this.d1 = new hO([1, 2],!1,null,!0);
      K.k("click", this.DI, this);
      E.appendChild(K.j);
      var i = new hO("JS Reference",!1,null,!0);
      i.k("click", this.a1V, this);
      E.appendChild(i.j);
      E.appendChild(new di("Demos:").j);
      this.a0q = [];
      var C = cp.VS;
      for (var G = 0; G < C.length; G++) {
          var N = new hO(C[G].zE,!1,null,!0);
          this.a0q.push(N);
          E.appendChild(N.j);
          N.k("click", this.a9D, this)
      }
      this._x = c.w("textarea");
      this._x.setAttribute("rows", 16);
      this._x.setAttribute("style", "display:block;tab-size:4; font-family:monospace;width:100%;");
      E.appendChild(this._x);
      var k = new hO("Run",!0,null,!0);
      k.k("click", this.zW, this);
      E.appendChild(k.j);
      this.a13 = c.w("div");
      E.appendChild(this.a13)
  }
  cp.prototype = new bQ;
  cp.prototype.B = function() {
      this.d1.B()
  }
  ;
  cp.prototype.DI = function() {
      var E = this.ajy;
      if (E == null)
          E = "script.jsx";
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.eQ,
          KN: "namewindow",
          Io: E.slice(0, E.length - 4),
          qp: this.a9b.bind(this)
      };
      this.U(K)
  }
  ;
  cp.prototype.a9b = function(E) {
      var K = this._x.value
        , i = O.xm(K)
        , C = new q(c.E.P,!0);
      C.data = {
          e: c.f.Tp,
          zr: i.buffer,
          jc: E + ".jsx",
          a1P: !0
      };
      this.U(C)
  }
  ;
  cp.prototype.aj3 = function(E) {
      var G = this.qc.indexOf(E.target)
        , K = this.ajy = this.ky[G]
        , i = this.Mi.rb.S4[K]
        , C = new Uint8Array(i)
        , N = O.Yo(C, 0, C.length);
      this._x.value = N
  }
  ;
  cp.prototype.MN = function(E, K, i) {
      this._x.value = cp.VS[0].OF;
      this.A6()
  }
  ;
  cp.prototype.A6 = function() {
      var E = this.Mi.rb
        , K = this.a13;
      c.kL(K);
      this.qc = [];
      this.ky = [];
      K.textContent = "Saved scripts: ";
      for (var i in E.S4) {
          if (i.endsWith(".jsx")) {
              var C = new hO(i,!1,null,!0);
              this.qc.push(C);
              this.ky.push(i);
              C.k("click", this.aj3, this);
              K.appendChild(C.j)
          }
      }
  }
  ;
  cp.prototype.bX = function(E, K) {
      this.Mi = E;
      if (K == dp.bh)
          this.A6()
  }
  ;
  cp.prototype.a1V = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.oc,
          link: "https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"
      };
      this.U(K)
  }
  ;
  cp.prototype.zW = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.wM,
          Iv: this._x.value
      };
      this.U(K)
  }
  ;
  cp.prototype.a9D = function(E) {
      var K = this.a0q.indexOf(E.currentTarget);
      this._x.value = cp.VS[K].OF
  }
  ;
  cp.VS = [{
      zE: "Hello",
      OF: "\nalert(\"Hello Photopea!\");\n"
  }, {
      zE: "Process Layers",
      OF: "\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n" + "\t//lays[i].visible = false;\n" + "\t//lays[i].opacity = 50;\n" + "\tlays[i].name = \"My Layer \"+i;\n}"
  }, {
      zE: "Clone Layers",
      OF: "\nvar orig = app.activeDocument.activeLayer;\n" + "var cnt = 12;\n" + "var angle = Math.floor(360 / cnt);\n" + "\n" + "for(var i=1; i<cnt; i++)\n" + "{\n" + "\tvar nlay = orig.duplicate();\n" + "\t//nlay.translate(30*i, 20*i);\n" + "\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n" + "}"
  }];
  function cI() {
      bQ.call(this, [11, 7], "newproject");
      this.data = null;
      this.Fo = null;
      var E = c.w("div", "flexrow");
      this.pT = E;
      this.body.appendChild(E);
      var K = c.w("div", "form");
      this.lo = K;
      E.appendChild(K);
      this.qB = new fN([12, 48]);
      K.appendChild(this.qB.j);
      c.eg(K);
      this.Pu = new bP(!0);
      this.Pu.T(new bT(1280,720), 72);
      this.Pu.k(c.E.L, this.xx, this);
      K.appendChild(this.Pu.j);
      this.$k = new gc([12, 46],[[13, 1, 8], [13, 1, 9], [12, 46]]);
      K.appendChild(this.$k.j);
      K.appendChild(c.w("hr"));
      this.iI = new hO([12, 49],!0,null,!0);
      this.iI.k("click", this.zW, this);
      K.appendChild(this.iI.j);
      var i = cI.dI
        , C = [];
      for (var G = 0; G < i.length; G++)
          C.push(i[G].name);
      this.BI = new eN(null,C);
      this.BI.k(c.E.L, this.qj, this);
      K.appendChild(this.BI.j);
      this.BI.j.style["margin-top"] = "1em";
      this.Zi = new aV(!0);
      this.Zi.k(c.E.L, this.a3r, this);
      K.appendChild(this.Zi.j);
      this.qj();
      this.Br = new hq;
      this.Br.parent = this;
      this.Br.j.setAttribute("style", "margin-left:1em");
      this.Br.k("tempready", this.a2E, this)
  }
  cI.prototype = new bQ;
  cI.prototype.bX = function(E, K) {
      this.Br.bX(E)
  }
  ;
  cI.prototype.yV = function(E, K) {
      return new bT(Math.max(0, Math.min(70, (E - 690) / 2)),E > K ? Math.max(0, Math.min(50, (K - 400) / 2)) : 0)
  }
  ;
  cI.prototype.FY = function(E, K) {
      this.lo.setAttribute("style", "width:" + Math.min(E, 338) + "px");
      this.Zi.j.style.height = K - 260 + "px";
      var i = this.Br.j
        , C = i.parentNode;
      if (E < 500) {
          if (C != null)
              this.pT.removeChild(i)
      } else {
          if (C == null)
              this.pT.appendChild(i)
      }
      this.Br.FY(E - 360, K - 35)
  }
  ;
  cI.prototype.xx = function() {
      this.Br.T(this.Pu.u())
  }
  ;
  cI.prototype.a3r = function(E) {
      var K = this.Zi.u()
        , i = cI.dI[this.BI.u()].sz[K]
        , C = i[4];
      if (C == 0)
          C = 72;
      var N = i[1]
        , k = i[2]
        , V = ["px", "%", "mm", "in"].indexOf(i[3])
        , j = [1, 1, 25.4 / C, 1 / C][V];
      N /= j;
      k /= j;
      this.Pu.T(new bT(Math.round(N),Math.round(k)), C);
      this.Pu.a5c(V);
      this.Zi.qL(K);
      this.xx()
  }
  ;
  cI.prototype.qj = function(E) {
      var K = cI.dI[this.BI.u()].sz
        , i = []
        , C = []
        , N = Math.round(106 * c.M())
        , k = Math.round(106 * c.M())
        , V = 0;
      for (var G = 0; G < K.length; G++)
          V = Math.max(V, K[G][1], K[G][2]);
      for (var G = 0; G < K.length; G++) {
          var j = K[G]
            , a = j[1] + " x " + j[2] + " " + j[3];
          if (j[3] == "in")
              a = (j[1] * 25.4).toFixed(0) + " x " + (j[2] * 25.4).toFixed(0) + " mm";
          if (j[3] == "mm")
              a = (j[1] / 25.4).toFixed(1) + " x " + (j[2] / 25.4).toFixed(1) + " in";
          if (j[4])
              a = a + " @ " + j[4] + " ppi";
          C.push(a);
          i.push(cI.rP(j, N, k, V))
      }
      this.Zi.Oi(i, C, N, k)
  }
  ;
  cI.rP = function(E, K, i, C) {
      var N = c.w("canvas", "")
        , k = N.getContext("2d");
      N.width = K;
      N.height = i;
      var V = Math.round(K / 8)
        , j = Math.floor(11 * c.M())
        , a = E[1]
        , e = E[2];
      k.fillStyle = "#000000";
      k.font = Math.round(j * .9) + "px \"Open Sans\", Sans-Serif";
      var L = a + " x " + e + " " + E[3]
        , g = k.measureText(L);
      k.fillText(L, Math.round((K - g.width) / 2), i - Math.round(V / 2));
      if (E[0] != null) {
          k.font = "bold " + j + "px \"Open Sans\", Sans-Serif";
          var L = E[0]
            , g = k.measureText(L);
          k.fillText(L, Math.round((K - g.width) / 2), i - Math.round(V / 2) - Math.round(j * 1.3))
      }
      i -= Math.round(2.5 * j);
      var I = Math.min((K - V) / a, (i - V) / e);
      I *= .5 + .5 * (Math.max(a, e) / C);
      var h = (K - a * I) / 2
        , o = (i - e * I) / 2;
      k.strokeRect(Math.round(h) + .5, Math.round(o) + .5, Math.round(a * I), Math.round(e * I));
      return N.toDataURL()
  }
  ;
  cI.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.Pu.B();
      this.qB.B();
      this.$k.B();
      this.iI.B();
      this.qB.T(i2.get([11, 7]));
      this.BI.B();
      this.Br.B()
  }
  ;
  cI.prototype.zW = function(E) {
      var K = this.Pu.u()
        , i = K.x
        , C = K.y;
      this.close();
      var N = new q(c.E.J5,!0);
      N.data = bl.il(i, C, this.Pu.ru(), this.qB.u(), ["Wht", "Trns", "BckC"][this.$k.u()]);
      this.U(N);
      this.Wu()
  }
  ;
  cI.prototype.a2E = function(E) {
      var K = E.data.uY;
      K.v9 = this.Pu.ru();
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.xC,
          uY: K
      };
      this.U(i);
      this.close();
      this.Wu()
  }
  ;
  cI.prototype.Wu = function() {
      var E = this.Fo[this.Fo.length - 1]
        , K = this.data.a69;
      if (K)
          fx.AE(function() {
              var i = new XMLHttpRequest
                , C = "https://www.googleapis.com/drive/v3/files?" + fx.TR();
              i.open("POST", C, !0);
              i.setRequestHeader("Content-Type", "application/json");
              i.addEventListener("load", function(N) {
                  var k = JSON.parse(N.target.response);
                  E.Yz = {
                      file: k,
                      Zq: "psd"
                  };
                  alert(E.name + " created in Google Drive")
              });
              i.send(JSON.stringify({
                  name: E.name,
                  alE: [K]
              }))
          })
  }
  ;
  cI.prototype.MN = function(E, K, i, C) {
      this.Fo = i;
      if (E != null && E.N != null) {
          var N = new h4(0,0,E.d,E.v).lx(E.N.rect);
          this.Pu.T(new bT(N.d,N.v))
      }
      this.data = K;
      this.xx();
      this.qB.QO();
      if (c.AD())
          gQ.a7v(this.afe.bind(this))
  }
  ;
  cI.prototype.afe = function(E) {
      if (E == "granted")
          gQ.nN(this, this.aoD.bind(this))
  }
  ;
  cI.prototype.aoD = function(E, K) {
      this.Pu.T(new bT(K.d,K.v))
  }
  ;
  cI.dI = [{
      name: "Social",
      sz: [["FB Page Cover", 1640, 664, "px", 0], ["FB Shared Image", 1200, 630, "px", 0], ["FB Event Image", 1920, 1080, "px", 0], ["FB Group Header", 1640, 856, "px", 0], ["Instagram", 1080, 1080, "px", 0], ["Insta Story", 1080, 1920, "px", 0], ["Youtube Profile", 800, 800, "px", 0], ["Youtube Cover", 2560, 1440, "px", 0], ["Twitter Profile", 400, 400, "px", 0], ["Twitter Header", 1500, 500, "px", 0]]
  }, {
      name: [12, 88, 4],
      sz: [["A3", 297, 420, "mm", 300], ["A4", 210, 297, "mm", 300], ["A5", 148, 210, "mm", 300], ["B3", 353, 500, "mm", 300], ["B4", 250, 353, "mm", 300], ["B5", 176, 250, "mm", 300], ["Letter", 8.5, 11, "in", 300], ["Ledger", 11, 17, "in", 300], ["Business Card", 3.5, 2, "in", 300]]
  }, {
      name: [12, 88, 0],
      sz: [["Wallet", 2, 3, "in", 300], ["Enprint", 3.5, 5, "in", 300], [null, 5, 7, "in", 300], [null, 8, 12, "in", 300], [null, 12, 18, "in", 300], [null, 16, 24, "in", 300], [null, 20, 30, "in", 300], [null, 24, 36, "in", 300]]
  }, {
      name: [12, 88, 1],
      sz: [["VGA", 640, 480, "px", 0], ["XGA", 1024, 768, "px", 0], ["HD", 1280, 720, "px", 0], [null, 1366, 768, "px", 0], [null, 1600, 900, "px", 0], ["Full HD", 1920, 1080, "px", 0], ["2K", 2048, 1080, "px", 0], ["UHD", 3840, 2160, "px", 0], ["4K", 4096, 2160, "px", 0]]
  }, {
      name: [12, 88, 2],
      sz: [["iPhone 4", 640, 900, "px", 326], ["iPhone 5", 640, 1136, "px", 326], ["iPhone 6 7 8", 750, 1334, "px", 326], ["iPhone 6+ 7+ 8+", 1080, 1920, "px", 401], ["iPhone X", 1125, 2436, "px", 458], ["Samsung A5", 720, 1280, "px", 0], ["Samsung S5", 1080, 1920, "px", 0], ["Samsung S6", 1440, 2560, "px", 0], ["Samsung S8+", 1440, 2560, "px", 0], ["Google Pixel", 1080, 1920, "px", 0], ["iPad Mini 4", 1536, 2048, "px", 0], ["iPad Air 2", 1536, 2048, "px", 0], ["iPad Pro 9.7\"", 1536, 2048, "px", 0], ["iPad Pro 10.5\"", 1668, 2224, "px", 0], ["iPad Pro 12.9\"", 2048, 2732, "px", 0]]
  }, {
      name: [12, 88, 3],
      sz: [["Small Square", 200, 200, "px", 0], ["Square", 250, 250, "px", 0], ["Medium Rect", 300, 250, "px", 0], ["Large Rect", 336, 280, "px", 0], ["Mobile Leaderboard", 320, 50, "px", 0], ["Large Mobile", 320, 100, "px", 0], ["Banner", 468, 60, "px", 0], ["Leaderboard", 728, 90, "px", 0], ["Large Leaderboard", 970, 90, "px", 0], ["Billboard", 970, 250, "px", 0], ["Vertical Rect", 240, 400, "px", 0], ["Skyscraper", 120, 600, "px", 0], ["Wide Skyscraper", 160, 600, "px", 0], ["Half Page", 300, 600, "px", 0], ["Portrait", 300, 1050, "px", 0]]
  }, {
      name: "2\u1D3A",
      sz: [[null, 16, 16, "px", 0], [null, 32, 32, "px", 0], [null, 64, 64, "px", 0], [null, 128, 128, "px", 0], [null, 256, 256, "px", 0], [null, 512, 512, "px", 0], [null, 1024, 1024, "px", 0], [null, 2048, 2048, "px", 0], [null, 4096, 4096, "px", 0]]
  }];
  function eL(E, K, i) {
      bQ.call(this, K, "sel_" + E);
      this.e = E;
      var C = c.w("div", "form");
      this.body.appendChild(C);
      this.qB = new gI(K,0,255,null,0,!1,!0);
      C.appendChild(this.qB.j);
      this.qB.T(1);
      var N = c.w("span");
      N.textContent = i;
      C.appendChild(N);
      c.eg(C);
      this.ale = new ck("Apply at canvas bounds");
      if (E != "border")
          C.appendChild(this.ale.j);
      this.Tl = new hO("OK",!0,null,!0);
      this.Tl.k("click", this.zW, this);
      C.appendChild(this.Tl.j)
  }
  eL.prototype = new bQ;
  eL.prototype.N$ = function(E, K) {
      if (E == null)
          return;
      if (E.N == null)
          alert("No selection!");
      return E.N != null
  }
  ;
  eL.prototype.zW = function(E) {
      var K = new q(c.E.J5,!0);
      K.data = u.u$.a0K(this.e, this.qB.u(), this.ale.u());
      K.r1 = !0;
      this.U(K);
      this.close()
  }
  ;
  eL.prototype.B = function() {
      bQ.prototype.B.call(this);
      if (this.qB)
          this.qB.B()
  }
  ;
  eL.prototype.MN = function(E, K) {}
  ;
  function db(E, K, i, C, N) {
      bQ.call(this, i, K);
      this.vb = N;
      this.dI = null;
      this.lo = c.w("div", "form");
      this.body.appendChild(this.lo);
      this.qB = E == 0 ? new fN(i) : new hw(i,0,500,C,1);
      this.qB.k(c.E.L, this.I0, this);
      this.lo.appendChild(this.qB.j);
      this.Tl = new hO("OK",!0,null,!0);
      this.Tl.k("click", this.zW, this);
      this.lo.appendChild(this.Tl.j);
      this.k("closebtn", this.Qg, this)
  }
  db.prototype = new bQ;
  db.prototype.cn = function() {
      return !0
  }
  ;
  db.prototype.I0 = function(E) {
      var K = this.qB.u();
      if (this.vb)
          this.Tk(K)
  }
  ;
  db.prototype.Qg = function(E) {
      if (this.vb)
          this.Tk("cancel")
  }
  ;
  db.prototype.zW = function(E) {
      if (this.vb)
          this.Tk("confirm");
      else
          this.Tk(this.qB.u());
      this.close()
  }
  ;
  db.prototype.Tk = function(E) {
      if (this.dI.qp)
          this.dI.qp(E);
      else if (this.dI.b5) {
          var K = this.dI.b5
            , i = new q(K.c,!0);
          i.F = K.F;
          i.data = K.o;
          i.data.G = E;
          i.r1 = !0;
          this.U(i)
      }
  }
  ;
  db.prototype.B = function() {
      bQ.prototype.B.call(this);
      if (this.qB)
          this.qB.B()
  }
  ;
  db.prototype.MN = function(E, K) {
      this.dI = K;
      this.qB.T(K.Io);
      this.qB.QO();
      this.I0(null)
  }
  ;
  function cA() {
      bQ.call(this, [1, 5], "open_from_url");
      this.As = null;
      var E = c.w("div", "form");
      this.body.appendChild(E);
      this.h9 = new fN("URL",null,22);
      E.appendChild(this.h9.j);
      c.eg(E);
      this.hP = new eN([21, 0],[[21, 2], [21, 1]]);
      E.appendChild(this.hP.j);
      this.iI = new hO("OK",!0,null,!0);
      this.iI.k("click", this.zW, this);
      E.appendChild(this.iI.j)
  }
  cA.prototype = new bQ;
  cA.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.hP.B()
  }
  ;
  cA.prototype.MN = function(E, K, i) {
      this.h9.QO();
      this.As = null;
      if (E && i.indexOf(E) != -1)
          this.As = i.indexOf(E)
  }
  ;
  cA.prototype.zW = function(E) {
      var K = new q(c.E.P,!0)
        , i = this.h9.u();
      K.data = {
          e: c.f.$N,
          KG: {
              url: i,
              ob: !0,
              As: this.hP.u() == 1 ? this.As : null
          }
      };
      this.U(K);
      this.close()
  }
  ;
  function fo() {
      bQ.call(this, [12, 79], "preferences");
      this.Mi = null;
      var E = c.w("div", "form");
      this.body.appendChild(E);
      this.xj = [new ck([8, 2]), new ck([8, 4]), new gc([12, 80, 3],[[12, 93, 3], [12, 80, 4]]), new hw([12, 80, 5],1,100,null,2), new gc(null,_.lj.Cx), new gc([12, 80, 6],_.lj.Cx)];
      for (var G = 0; G < this.xj.length; G++) {
          var K = this.xj[G];
          E.appendChild(K.j);
          if (G != 3)
              c.eg(E);
          K.k(c.E.L, this.E4, this)
      }
  }
  fo.prototype = new bQ;
  fo.prototype.B = function() {
      bQ.prototype.B.call(this);
      for (var G = 0; G < this.xj.length; G++)
          this.xj[G].B()
  }
  ;
  fo.prototype.MN = function(E, K, i) {}
  ;
  fo.prototype.bX = function(E, K) {
      this.Mi = E;
      this.xj[0].T(E.bA.rJ);
      this.xj[1].T(E.bA.NG);
      this.xj[2].T(E.bA.e8);
      this.xj[3].T(E.bA.gd);
      this.xj[4].T(E.bA.gH);
      this.xj[5].T(E.bA.RG)
  }
  ;
  fo.prototype.E4 = function(E) {
      var ee = this.xj
        , K = JSON.parse(JSON.stringify(this.Mi.bA));
      K.rJ = ee[0].u();
      K.NG = ee[1].u();
      K.e8 = ee[2].u();
      K.gd = ee[3].u();
      K.gH = ee[4].u();
      K.RG = ee[5].u();
      if (K.gH != 4)
          K.gd = Math.round(K.gd);
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.H7,
          KG: dp.lg,
          Gz: K
      };
      this.U(i)
  }
  ;
  function iw() {
      bQ.call(this, [11, 8], "saveforweb");
      this.a4a = "";
      this.k("closebtn", function() {
          this.kv.Vx()
      }, this);
      this.nV = new bT(512,512);
      this.uY = null;
      this.uu = null;
      this.a1H = null;
      this.Mi = null;
      c.U8(this.body, "flexrow");
      var E = c.w("div")
        , K = c.w("div");
      this.body.appendChild(E);
      this.body.appendChild(K);
      this.Vg = c.w("div", "imgcont");
      E.appendChild(this.Vg);
      this.kv = new a4;
      this.kv.FY(this.nV.x, this.nV.y);
      this.xc = c.w("span");
      E.appendChild(this.xc);
      this.lo = c.w("div", "form cell");
      this.lo.setAttribute("style", "width:15em; padding-left:1em;");
      K.appendChild(this.lo);
      this.Yk = new gc([12, 50],fb.hy());
      this.lo.appendChild(this.Yk.j);
      this.Yk.k(c.E.L, this.jp, this);
      this.Pu = new bP(!0,!0,!1,!0);
      this.Pu.k(c.E.L, this.jp, this);
      this.lo.appendChild(this.Pu.j);
      this.Al = new i9;
      this.Al.k(c.E.L, this.jp, this);
      this.lo.appendChild(this.Al.j);
      this.jt = new hO([1, 2],!0,null,!0);
      this.jt.k("click", this.zW, this);
      this.lo.appendChild(this.jt.j)
  }
  iw.prototype = new bQ;
  iw.prototype.N$ = function(E, K) {
      return E != null
  }
  ;
  iw.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.Pu.B();
      this.Yk.B();
      this.Al.B();
      this.jt.B()
  }
  ;
  iw.prototype.zW = function(E) {
      var K = this.uY.name.split(".")[0]
        , i = fb.hy()[this.Yk.u()]
        , C = this.uu
        , N = K + "." + i.toLowerCase()
        , k = this.uY
        , V = k.jX;
      if (V.length != 0 && (i == "JPG" || i == "PNG" || i == "GIF") && this.Al.u().pop()) {
          var j = "<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n"
            , a = []
            , e = {}
            , L = new h4(0,0,k.d,k.v)
            , g = k.A7();
          for (var G = 0; G < V.length; G++)
              a.push(u.gX.hH(V, G));
          a.reverse();
          var I = _.rect.J$([0, 0, k.d, k.v], a);
          for (var G = 0; G < I.length; G++) {
              var h = I[G]
                , o = new h4(h[0],h[1],h[2] - h[0],h[3] - h[1])
                , H = h.length == 5 ? V[h[4]].v : null
                , A = _.I(o.X() * 4);
              _.p8(g, L, A, o);
              var S = "img/img" + (G + 1) + "." + i.toLowerCase();
              e[S] = new Uint8Array(fb.vG(i).PW([[A.buffer, 0]], o.d, o.v, this.Al.u()));
              j += "<div style=\"background-image:url('" + S + "'); left:" + o.x + "px; top:" + o.y + "px; width:" + o.d + "px; height:" + o.v + "px\">";
              if (H && H.url.v != "")
                  j += "\n\t<a href=\"" + H.url.v + "\" target=\"" + H.null.v + "\" style=\"display:block;width:100%;height:100%;\"></a>\n";
              j += "</div>\n"
          }
          j += "</body>\n</html>\n";
          var v = _.I(Math.round(j.length * 1.5))
            , s = O.AP(j, v, 0);
          e["index.html"] = v.slice(0, s);
          C = UZIP.encode(e);
          N = K + ".zip"
      }
      if (k._t) {
          var D = new XMLHttpRequest;
          D.open("GET", "/papi/img/update.php?act=1&id=" + k._t + "&rnd=" + Math.random());
          D.send()
      }
      var F = new q(c.E.P,!0);
      F.data = {
          e: c.f.Dy,
          data: C,
          name: N
      };
      this.U(F);
      this.kv.Vx();
      this.close()
  }
  ;
  iw.prototype.MN = function(E, K) {
      if (K.iG != null)
          this.Yk.T(K.iG);
      this.uY = E;
      var i = E.d + "," + E.v;
      if (i != this.a4a) {
          this.a4a = i;
          this.Pu.T(new bT(E.d,E.v), E.v9)
      }
      this.Al.alA();
      this.jp(null, !0)
  }
  ;
  iw.prototype.yV = function(E, K) {
      return new bT(Math.max(0, Math.min(150, (E - 770) / 2)),Math.max(0, Math.min(150, (K - 590) / 2)))
  }
  ;
  iw.prototype.FY = function(E, K) {
      this.jx = E;
      this.w1 = K;
      this.nV.x = Math.min(512, E - 26 - 214);
      this.nV.y = Math.min(512, K - 45);
      if (this.uY == null)
          return;
      var i = this.Pu.u()
        , E = i.x
        , K = i.y
        , C = fb.hy()[this.Yk.u()]
        , N = fb.vG(C)
        , g = "<span style=\"width:"
        , I = "display:inline-block; text-align:right;\">";
      if (N.tW) {
          var k = E, V = K, j;
          if (C == "PDF" || N.Aw) {
              k = this.nV.x;
              V = this.nV.y
          } else {
              k = Math.min(E + 20, this.nV.x);
              V = Math.min(K + 20, this.nV.y)
          }
          this.Vg.firstChild.setAttribute("style", "display:block; width:" + k + "px; height:" + V + "px;")
      } else {
          if (N.Aw) {
              k = this.nV.x;
              V = this.nV.y
          } else {
              var a = this.a1H
                , e = a[0].UP
                , k = e.d
                , V = e.v;
              this.kv.FY(Math.max(50, Math.min(k / c.M(), this.nV.x)), Math.max(50, Math.min(V / c.M(), this.nV.y)))
          }
      }
      var L = this.uu.byteLength
        , h = C + ":" + g + 64 + "px;" + I + iw.js(L) + "</span>";
      if (this.nV.x > 200)
          h += g + 90 + "px; opacity:" + .5 + ";" + I + L.toLocaleString() + " B</span>";
      this.xc.innerHTML = h
  }
  ;
  iw.js = function(E) {
      var K = 0;
      while (E >>> K + 10 != 0)
          K += 10;
      var i = (E / (1 << K)).toFixed(1)
        , C = ["B", "KB", "MB", "GB"][Math.floor(K / 10)];
      return i + " " + C
  }
  ;
  iw.prototype.bX = function(E, K) {
      this.Mi = E
  }
  ;
  iw.prototype.jp = function(E, K) {
      var i = this.uY
        , C = this.Pu.u()
        , N = C.x
        , k = C.y
        , V = this.Yk.u()
        , j = fb.hy()[V]
        , a = fb.Lr(i)[0].length
        , e = ["GIF", "PNG", "WEBP"].indexOf(j) != -1 && a > 1
        , H = "";
      if (e && K && (a > 4 && N * k > 1024 * 1024 || N * k * a > 800 * 800 * 50)) {
          var L = 1;
          while (Math.max(N >>> L, k >>> L) > 800)
              L++;
          var g = window.confirm("Your animation is large (" + N + " x " + k + " px). Press \"OK\" to scale it to " + (100 >>> L) + "%. Press \"Cancel\" to keep the size.");
          if (g) {
              this.Pu.T(new bT(N >>> L,k >>> L), null, !0);
              N = N >>> L;
              k = k >>> L
          }
      }
      var I = i.add.artd
        , h = I == null || I.Cnt.v == 1;
      this.Al.p9(j, e, i.jX.length != 0, h);
      var o = this.Al.u();
      this.uu = fb.MV(i, j, N, k, o, this.Mi);
      if (this.uu == null) {
          this.uY = null;
          return
      }
      c.kL(this.Vg);
      this.kv.Vx();
      var A = fb.vG(j);
      if (A.Aw) {
          this.Vg.innerHTML = "<div></div>";
          H += "width:0px"
      } else if (A.tW) {
          var S = N, v = k, s;
          if (j == "PDF") {
              s = URL.createObjectURL(new Blob([this.uu],{
                  type: "application/pdf"
              }))
          } else {
              s = URL.createObjectURL(new Blob([this.uu],{
                  type: "image/svg+xml"
              }))
          }
          this.Vg.innerHTML = "<iframe src=\"" + s + "\"></iframe>"
      } else {
          var D = this.a1H = A.VA(this.uu)
            , F = D[0].UP
            , S = F.d
            , v = F.v;
          this.kv.T(D, D.length > 1 ? o[o.length - 3] : 0);
          this.Vg.appendChild(this.kv.j);
          H = "background: rgba(0,0,0,0);"
      }
      this.Vg.setAttribute("style", "display:block; background-size:" + 16 / c.M() + "px;" + H);
      this.FY(this.jx, this.w1)
  }
  ;
  function gi() {
      bQ.call(this, [11, 13], "shortcuts");
      var E = this.pT = c.w("div", "scrollable");
      E.setAttribute("style", "min-width:700px; max-height:500px; padding:1.5em");
      this.body.appendChild(E);
      this.U3()
  }
  gi.prototype = new bQ;
  gi.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.U3()
  }
  ;
  gi.prototype.U3 = function() {
      var E = "<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">"
        , K = ""
        , i = w
        , C = i.qN
        , N = i.Gj
        , k = i.zA;
      K += "<h2 style=\"margin-top:0;\">Main Menu</h2>";
      K += E;
      K += this.Tc([[0, 0], "---", [1, 0], [C, i.Eo], [1, 2], [C, i.tD], [1, 3], [N, C, i.tD], [1, 8], [k, N, C, i.tD], [0, 1], "---", [2, 0], [N, C, i.p6], [2, 1], [C, i.p6], [5, 0], [C, i.ab], [5, 1], [C, i.dY], [5, 2], [C, i.Pp], [2, 2], "Delete", [2, 3], [k, i.LC], [10, 16], [k, C, i.W], [12, 79], [C, i.pu], [3], "---", [4, 1], [C, i.Ym], [4, 2], [C, i.ka], [4, 5], [C, i.dM], [4, 11], [C, i.Gs], [0, 3], "---", [6, 0], [C, i.dS], [6, 6, 0], [k, C, i.t4], [6, 9], [C, i.t4], [6, 10], [C, i.E], [0, 5], "---", [7, 0], [C, i.f], [7, 1], [C, i.Yg], [7, 2], [N, C, i.Gs], [0, 7], "---", [8, 0], [C, i.Va], [8, 1], [C, i.ih], [8, 3], [C, i.Yb], [8, 2], [C, i.EY], [8, 4], [C, i.T0], [11, 13], "?"]);
      K += "</div>";
      K += "<h2 style=\"margin-top:1.5em;\">Navigation</h2>";
      K += E;
      K += this.Tc(["Vertical scroll", "Wheel", "Horizontal scroll", [C, "Wheel"], "Zooming", [k, "Wheel"]]);
      K += "</div>";
      K += "<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
      K += E;
      K += this.Tc([[10, 11], [C], [10, 7], "Space", [10, 17], [C, i.NV]]);
      K += "</div>";
      K += "<h2 style=\"margin-top:1.5em;\">Tools</h2>";
      K += E;
      var V = gi.d4
        , j = [];
      for (var G = 0; G < V.length; G += 3)
          if (V[G + 1])
              j.push(V[G], V[G + 1]);
      j = j.concat([[24, 16], "---", [22, 7, 1], "D", [22, 7, 0], "X", [6, 6, 1], "Q", "Decrease Brush Size", "[", "Increase Brush Size", "]", "Decrease Hardness", "{", "Increase Hardness", "}"]);
      K += this.Tc(j);
      K += "</div>";
      this.pT.innerHTML = K
  }
  ;
  gi.prototype.Tc = function(E) {
      var K = ""
        , i = !0;
      for (var G = 0; G < E.length; G += 2) {
          var C = E[G]
            , N = w.oq(E[G + 1]);
          if (N == null) {
              i = !1;
              continue
          }
          var k = c.Ng(i2.get(C));
          if (N == "---") {
              if (!i)
                  K += "<br/>";
              K += "<div style=\"font-weight:bold; border-bottom: 1px solid;\">" + k + "</div>"
          } else
              K += "<div>" + k + " <span style=\"float:right; font-weight:bold;\">" + N + "</span> </div>";
          i = !1
      }
      return K
  }
  ;
  gi.d4 = [[10, 11], "V", 0, [10, 15], "M", 1, [10, 4], "M", 2, [10, 9], "L", 5, [10, 14], "L", 6, [10, 10], "L", 7, [10, 44], "W", 3, [10, 37], "W", 8, [10, 12], "W", 9, [10, 2], "C", 10, [10, 39], "C", 11, [10, 40], "C", 12, [10, 41], "C", 13, [10, 5], "I", 14, [10, 36], "I", 16, [10, 24], "J", 18, [10, 25], "J", 19, [10, 26], "J", 20, [10, 43], "J", 22, [10, 0], "B", 23, [10, 38], "B", 24, [10, 42], "B", 25, [10, 1], "S", 27, [10, 3], "E", 31, [10, 45], "E", 32, [10, 6], "G", 34, [10, 13], "G", 35, [10, 18], null, 36, [10, 19], null, 37, [10, 20], null, 38, [10, 21], "O", 39, [10, 22], "O", 40, [10, 23], "O", 41, [10, 8], "T", 47, [10, 29], "P", 42, [10, 30], "P", 43, [10, 27], "A", 51, [10, 28], "A", 52, [10, 32], "U", 54, [10, 33], "U", 55, [10, 35], "U", 57, [10, 34], "U", 56, [10, 31], "U", 58, [10, 7], "H", 59, [10, 17], "Z", 61];
  function b7() {
      bQ.call(this, [8, 11, 1], "soptions");
      this.D$ = null;
      var E = c.w("div", "form");
      E.style.width = "20em";
      this.body.appendChild(E);
      this.QS = {
          Nm: [12, 48],
          url: "URL",
          null: [12, 71]
      };
      this.xj = {};
      for (var K in this.QS) {
          var i = new fN(this.QS[K],null,15);
          this.xj[K] = i;
          E.appendChild(i.j)
      }
      var C = new hO("OK",!0,null,!0);
      C.k("click", this.zW, this);
      E.appendChild(C.j)
  }
  b7.prototype = new bQ;
  b7.prototype.MN = function(E, K, i) {
      var C = K.G;
      this.D$ = JSON.stringify(C);
      for (var N in this.QS) {
          if (C[N])
              this.xj[N].T(C[N].v)
      }
  }
  ;
  b7.prototype.zW = function(E) {
      var K = JSON.parse(this.D$);
      for (var i in this.QS) {
          var C = this.xj[i].u();
          K[i] = {
              t: "TEXT",
              v: C
          }
      }
      var N = new q(c.E.A,!0);
      N.F = u.Qv;
      N.data = K;
      N.r1 = !0;
      this.U(N);
      this.close()
  }
  ;
  function eK() {
      bQ.call(this, [2, 3], "fill");
      this.Mi = null;
      this.eu = null;
      var E = c.w("div", "form padded");
      E.style.width = "22em";
      this.body.appendChild(E);
      this.Wc = "FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
      this.RT = new gc([2, 3],[[12, 45], [12, 46], [12, 47], [13, 1, 10], [13, 1, 7], [13, 1, 8], [6, 48, 0, 3]]);
      this.RT.k(c.E.L, this.a6x, this);
      E.appendChild(this.RT.j);
      this.Vg = c.w("span");
      E.appendChild(this.Vg);
      this.IZ = new ha;
      this.IZ.parent = this;
      this.IZ.Pi(0);
      this.BL = new gc([12, 19, 0],gx.z2,!1,gx.Dx);
      E.appendChild(this.BL.j);
      this.rX = new hw([12, 0],0,100,"%",0,!1);
      this.rX.T(100);
      E.appendChild(this.rX.j);
      this.iI = new hO("OK",!0,null,!0);
      this.iI.k("click", this.zW, this);
      this.body.appendChild(this.iI.j)
  }
  eK.prototype = new bQ;
  eK.prototype.N$ = function(E, K) {
      return E != null
  }
  ;
  eK.prototype.cn = function() {
      return !0
  }
  ;
  eK.prototype.a6x = function() {
      var E = this.RT.u() == 2
        , K = this.IZ.j
        , i = this.Vg;
      if (E)
          i.appendChild(K);
      else if (i.contains(K))
          i.removeChild(K)
  }
  ;
  eK.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.RT.B();
      this.BL.B();
      this.rX.B()
  }
  ;
  eK.prototype.zW = function(E) {
      if (!this.eu.Os())
          return;
      var K = new q(c.E.J5,!0)
        , i = this.RT.u();
      K.data = u.Bu.yN(this.Wc[i], gx.WR[this.BL.u()], this.rX.u() / 100, this.IZ.u());
      this.close();
      this.U(K)
  }
  ;
  eK.prototype.MN = function(E, K) {
      this.eu = E
  }
  ;
  eK.prototype.bX = function(E, K) {
      this.Mi = E
  }
  ;
  function cl() {
      bQ.call(this, [14, 9], "stroke");
      this.Mi = null;
      this.lo = c.w("div", "form");
      this.lo.setAttribute("style", "width:24em");
      this.body.appendChild(this.lo);
      this.Pn = new iP("FrFX",!0);
      this.Pn.parent = this;
      var E = ["Sz", "Styl", "Md", "Opct"].concat(ao.wz);
      for (var G = 0; G < E.length; G++) {
          var K = this.Pn.pC[E[G]].j;
          this.lo.appendChild(K)
      }
      this.BY = !1;
      this.iI = new hO("OK",!0,null,!0);
      this.iI.k("click", this.zW, this);
      this.body.appendChild(this.iI.j)
  }
  cl.prototype = new bQ;
  cl.prototype.N$ = function(E, K) {
      return E != null
  }
  ;
  cl.prototype.cn = function() {
      return !0
  }
  ;
  cl.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.Pn.B()
  }
  ;
  cl.prototype.zW = function(E) {
      var K = new q(c.E.A,!0);
      K.F = u.AO;
      K.data = {
          e: "stroke",
          a6f: this.Pn.u()
      };
      this.close();
      this.U(K)
  }
  ;
  cl.prototype.MN = function(E, K) {
      if (!this.BY) {
          var i = ao.Fc[ao.order.indexOf("FrFX")];
          i = JSON.parse(i);
          this.Pn.update(E, i);
          this.BY = !0
      }
      var i = this.Pn.u()
        , C = this.Mi.sm;
      i.Clr.v = _.V.VQ({
          h: C >> 16 & 255,
          l: C >> 8 & 255,
          O: C & 255
      });
      this.Pn.update(E, i)
  }
  ;
  cl.prototype.bX = function(E, K) {
      this.Mi = E
  }
  ;
  function hG() {
      bQ.call(this, [11, 9], "textwarp");
      this.xj = new fO;
      this.xj.k(c.E.L, this.dm, this);
      this.xj.parent = this;
      this.lo = c.w("div", "form");
      this.lo.setAttribute("style", "width:20em");
      this.body.appendChild(this.lo);
      this.lo.appendChild(this.xj.tI.j);
      this.lo.appendChild(this.xj.NR.j);
      this.lo.appendChild(this.xj.JS.j);
      this.lo.appendChild(this.xj.XR.j);
      this.lo.appendChild(this.xj.Co.j);
      this.iI = new hO("OK",!0,null,!0);
      this.iI.k("click", this.zW, this);
      this.lo.appendChild(this.iI.j);
      this.k("closebtn", this.Qg, this)
  }
  hG.prototype = new bQ;
  hG.prototype.cn = function() {
      return !0
  }
  ;
  hG.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.xj.B()
  }
  ;
  hG.prototype.dm = function(E) {
      var K = this.xj.u();
      this.Tk({
          e: "warp",
          oC: K
      })
  }
  ;
  hG.prototype.Tk = function(E) {
      var K = new q(c.E.A,!0);
      K.F = u.EM;
      K.data = E;
      K.r1 = !0;
      this.U(K)
  }
  ;
  hG.prototype.Qg = function(E) {
      this.Tk({
          e: "warpCancel"
      })
  }
  ;
  hG.prototype.zW = function(E) {
      this.Tk({
          e: "warpConfirm"
      });
      this.close()
  }
  ;
  hG.prototype.MN = function(E, K) {
      var i = E.t[E.C[0]];
      this.xj.T(i.add.TySh.xA)
  }
  ;
  function bt() {
      bQ.call(this, "Raw Photopea", "rawpea");
      this.li = null;
      this.dJ = null;
      this.kt = null;
      this.Gp = 0;
      this.Jm = null;
      this.YY = null;
      this.a7F = 500;
      this.aa0 = 500;
      this.k("closebtn", this.jr, this);
      c.U8(this.body, "flexrow");
      var E = c.w("div")
        , K = c.w("div")
        , C = "<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
      K.setAttribute("style", "padding-left: 1em");
      this.body.appendChild(E);
      this.body.appendChild(K);
      this.n4 = c.w("canvas");
      E.appendChild(this.n4);
      this.Oo = new fg(225);
      this.Oo.Lt(4);
      K.appendChild(this.Oo.j);
      this.lo = c.w("div");
      this.lo.setAttribute("style", "width:18em;");
      K.appendChild(this.lo);
      this.aoa = new di("Hi",!0);
      this.lo.appendChild(this.aoa.j);
      this.Tb = [new hk("Temperature",2e3,13e3), new hk("Tint",-150,150), new hk([4, 3],-4,4,null,!0), new hk([12, 3, 0],-100,100)];
      for (var G = 0; G < this.Tb.length; G++) {
          var i = this.Tb[G];
          i.T(0);
          i.k(c.E.L, this.Vp, this);
          this.lo.appendChild(i.j);
          if (G == 1)
              this.lo.appendChild(c.w("hr"))
      }
      this.iI = new hO([1, 0],!0,null,!0);
      this.iI.k("click", this.zW, this);
      this.lo.appendChild(this.iI.j);
      this.iU = new hO(C + " JPG",!0,null,!0);
      this.iU.k("click", this.adG, this);
      this.lo.appendChild(this.iU.j);
      this.iU.j.style.marginTop = "6px"
  }
  bt.prototype = new bQ;
  bt.prototype.yV = function() {
      return new bT(0,0)
  }
  ;
  bt.prototype.FY = function(E, K) {
      this.a7F = E - 274;
      this.aa0 = K - 32;
      if (this.li)
          this._P()
  }
  ;
  bt.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.iI.B();
      for (var G = 0; G < this.Tb.length; G++)
          this.Tb[G].B()
  }
  ;
  bt.prototype.adG = function(E) {
      var K = this.li
        , i = this.dJ
        , C = _.I(K.width * K.height * 4);
      _.EE(C, 4294967295);
      _.raw.g1(i, C, K, this.hv());
      var N = fb.vG("JPG").PW([[C.buffer]], i.JX, i.zM, [85])
        , k = new q(c.E.P,!0);
      k.data = {
          e: c.f.Dy,
          data: N,
          name: "photo.jpg"
      };
      this.U(k)
  }
  ;
  bt.prototype.zW = function(E) {
      var K = this.li
        , i = this.dJ
        , C = _.I(K.width * K.height * 4);
      _.EE(C, 4294967295);
      _.raw.g1(i, C, K, this.hv());
      var N = gu.Lc(K)
        , K = {
          UP: new h4(0,0,i.JX,i.zM),
          data: C.buffer,
          Xp: N
      }
        , k = fb.qz("Raw Photo", [K])
        , V = new q(c.E.P,!0);
      V.data = {
          e: c.f.xC,
          uY: k
      };
      this.U(V);
      this.jr();
      this.close()
  }
  ;
  bt.prototype.jr = function() {
      this.li = null;
      this.dJ = null;
      this.Jm = null;
      this.YY = null
  }
  ;
  bt.prototype.MN = function(E, K, i, C) {
      this.li = K.Ap;
      this.dJ = _.raw.abK(this.li);
      var N = this.dJ;
      this.aoa.T(N.JX + " x " + N.zM + ", " + (N.JX * N.zM / 1e6).toFixed(1) + " MPx");
      var k = _.raw.ae0(K.Ap);
      this.kt = iX.Sw(k);
      this.Tb[0].T(this.kt.Ms);
      this.Tb[1].T(this.kt.pe);
      for (var G = 2; G < this.Tb.length; G++)
          this.Tb[G].T(0);
      this._P()
  }
  ;
  bt.prototype.bX = function(E, K) {
      this.Oo.Pi(cr.zI[E.fn]["--text-color"])
  }
  ;
  bt.prototype._P = function() {
      var E = this.dJ
        , K = E.JX
        , i = E.zM
        , C = 1;
      while (K / C > this.a7F * c.M() || i / C > this.aa0 * c.M())
          C++;
      var N = Math.floor(K / C)
        , k = Math.floor(i / C);
      this.Jm = {
          OR: new Float32Array(N * k * 3),
          JX: N,
          zM: k
      };
      var V = this.n4.getContext("2d");
      this.YY = V.createImageData(N, k);
      _.EE(this.YY.data, 4294967295);
      var j = 1 / (C * C);
      for (var a = 0; a < k; a++)
          for (var e = 0; e < N; e++) {
              var L = 0
                , g = 0
                , I = 0
                , h = (e + 1) * C
                , o = (a + 1) * C;
              for (var H = a * C; H < o; H++)
                  for (var A = e * C; A < h; A++) {
                      var S = (H * K + A) * 3;
                      L += this.dJ.OR[S];
                      g += this.dJ.OR[S + 1];
                      I += this.dJ.OR[S + 2]
                  }
              var v = (a * N + e) * 3;
              this.Jm.OR[v] = L * j;
              this.Jm.OR[v + 1] = g * j;
              this.Jm.OR[v + 2] = I * j
          }
      this.Vp()
  }
  ;
  bt.prototype.Vp = function() {
      var E = this.li
        , K = this.Jm.JX
        , i = this.Jm.zM
        , C = K * i
        , N = this.n4
        , k = N.getContext("2d");
      N.width = K;
      N.height = i;
      c.em(N, K, i);
      _.raw.g1(this.Jm, new Uint8Array(this.YY.data.buffer), E, this.hv());
      k.putImageData(this.YY, 0, 0);
      var V = _.x7(this.YY.data);
      for (var G = 0; G < 4; G++)
          for (var j = 1; j < 256; j++)
              if (V[G][j] == 0)
                  V[G][j] = V[G][j - 1];
      for (var G = 0; G < 4; G++)
          for (var j = 1; j < 256; j++)
              if (V[G][j] == 0)
                  V[G][j] = V[G][j - 1];
      this.Oo.T(V)
  }
  ;
  bt.prototype.hv = function() {
      var E = [];
      for (var G = 0; G < this.Tb.length; G++)
          E.push(this.Tb[G].u());
      return E
  }
  ;
  function aR() {
      bQ.call(this, [11, 11], "vbitmap");
      this.dI = null;
      this.h4 = null;
      this.Z0 = null;
      this.PS = null;
      this.CR = null;
      this.pf = this.ry.bind(this);
      this.lo = c.w("div", "form hbar");
      this.body.appendChild(this.lo);
      this.J3 = new hw([12, 82],2,50,null);
      this.J3.k(c.E.L, this.ry, this);
      this.lo.appendChild(this.J3.j);
      this.oP = "";
      this.BB = new ck([12, 81]);
      this.BB.k(c.E.L, this.ry, this);
      this.lo.appendChild(this.BB.j);
      this.d9 = new ck("Segmentize");
      this.d9.k(c.E.L, this.ry, this);
      this.lo.appendChild(this.d9.j);
      this.iI = new hO("OK",!1,null,!0);
      this.iI.k("click", this.zW, this);
      this.lo.appendChild(this.iI.j);
      var E = c.w("div", "flexrow")
        , K = 16;
      this.body.appendChild(E);
      this.eP = new a4;
      this.eP.k("viewchange", this.X_, this);
      this.aR = c.w("canvas");
      this.aR.setAttribute("style", "margin-left: 1px; cursor:grab;");
      this.NE = this.aR.getContext("2d");
      var i = _.I(16 * 16 * 4);
      _.ux(i, K, K, 8);
      this.mq = _.scale.Vj(i, K, K);
      this.eP.cF(this.aR);
      E.appendChild(this.eP.j);
      E.appendChild(this.aR)
  }
  aR.prototype = new bQ;
  aR.prototype.yV = function() {
      return new bT(0,0)
  }
  ;
  aR.prototype.cn = function() {
      return !0
  }
  ;
  aR.prototype.FY = function(E, K) {
      K = K - 26 - 30;
      E = Math.floor((E - 28) / 2);
      c.Xh(this.aR, E, K);
      this.eP.FY(E, K)
  }
  ;
  aR.prototype.Ok = function(E, K, i, C) {
      this.eP.Ok(C)
  }
  ;
  aR.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.J3.B();
      this.BB.B();
      this.d9.B();
      this.iI.B()
  }
  ;
  aR.prototype.MN = function(E, K) {
      this.CR = E;
      var i = E.t[E.C[0]]
        , C = _.Ky._T(i.buffer.buffer, i.rect.d, i.rect.v).aja
        , N = C / ((i.rect.d - 2) * (i.rect.v - 2));
      this.BB.T(N < .75);
      this.d9.T(!1);
      var k = i.rect.clone();
      k.x = k.y = 0;
      this.dI = {
          UP: k,
          data: i.buffer.buffer.slice(0)
      };
      this.h4 = null;
      this.eP.T([this.dI]);
      this.J3.T(20);
      setTimeout(this.pf, 20)
  }
  ;
  aR.prototype.ry = function() {
      var E = !0
        , K = Date.now()
        , i = this.dI
        , C = this.BB.u()
        , N = this.d9.u()
        , k = C || N
        , V = C + "," + N;
      if (k && (this.h4 == null || this.oP != V)) {
          this.oP = V;
          console.log("recomputing");
          var j = new Uint8Array(i.data.slice(0))
            , a = 15
            , e = 35
            , L = i.UP.d
            , g = i.UP.v;
          if (C) {
              ef.fY(j, j, L, g, a, _.A2.Df, [e], 2)
          }
          if (E) {
              console.log("denoise", Date.now() - K);
              K = Date.now()
          }
          if (N) {
              var I = _.Ky.ZY(j, L, g)
                , h = I.pu
                , o = new Uint8Array(h * 4);
              for (var G = 0; G < h; G++) {
                  var H = G * 4
                    , A = G * 6
                    , S = 1 / I.AQ[A + 5];
                  o[H] = I.AQ[A] * S;
                  o[H + 1] = I.AQ[A + 1] * S;
                  o[H + 2] = I.AQ[A + 2] * S
              }
              for (var G = 0; G < j.length; G += 4) {
                  var v = I.Fm[G >>> 2] * 4;
                  j[G] = o[v];
                  j[G + 1] = o[v + 1];
                  j[G + 2] = o[v + 2]
              }
          }
          this.h4 = {
              UP: i.UP.clone(),
              data: j.buffer
          };
          if (E) {
              console.log("segm", Date.now() - K);
              K = Date.now()
          }
      }
      if (k)
          i = this.h4;
      var j = new Uint8Array(i.data)
        , L = i.UP.d
        , g = i.UP.v;
      for (var G = 0; G < j.length; G += 4) {
          if (j[G + 3] < 10)
              j[G] = j[G + 1] = j[G + 2] = j[G + 3] = 0
      }
      var s = _.Ky.amA(j, L, g, this.J3.u(), k ? .1 : 2e-4);
      if (E) {
          console.log("doclipart", Date.now() - K);
          K = Date.now()
      }
      var D = s.Fm.slice(0);
      for (var G = 0; G < D.length; G++)
          D[G]++;
      var F = new Uint8Array((L + 2) * (g + 2));
      _.ie(D, new h4(1,1,L,g), F, new h4(0,0,L + 2,g + 2));
      var y = Math.round((L + 2) * (g + 2) / 1e4)
        , T = dV.Sb(F, L + 2, g + 2, Math.min(12, y))
        , Q = dV.LM(T)
        , B = new fn(1,0,0,1,-1,-1);
      for (var G = 0; G < Q.length; G++)
          _.$.m(Q[G].path.H, B, Q[G].path.H);
      this.PS = Q;
      this.Z0 = s;
      if (E) {
          console.log("trace", Date.now() - K);
          K = Date.now()
      }
      for (var G = 0; G < Q.length; G++) {
          var r = Q[G];
          for (var J = G + 1; J < Q.length; J++) {
              var m = Q[J];
              if (s.o_[m.color - 1].est.q[3] > .05 || m.parent != G)
                  continue;
              var x = m.path.Z.slice(1);
              x.reverse();
              x = ["M"].concat(x);
              var R = []
                , T = m.path.H.length;
              for (var b = 0; b < T; b += 2) {
                  R[b] = m.path.H[T - 2 - b];
                  R[b + 1] = m.path.H[T - 2 - b + 1]
              }
              _.$.concat(r.path, {
                  H: R,
                  Z: x
              })
          }
      }
      for (var G = 0; G < Q.length; G++) {
          var r = Q[G]
            , z = s.o_[r.color - 1].est.q;
          if (z[3] <= .05) {
              Q.splice(G, 1);
              G--;
              continue
          }
      }
      for (var G = 1; G < Q.length; G++) {
          var $ = Q[G - 1]
            , r = Q[G];
          if ($.color == r.color) {
              _.$.concat($.path, r.path);
              Q.splice(G, 1);
              G--;
              continue
          }
      }
      this.X_()
  }
  ;
  aR.prototype.X_ = function(E) {
      if (this.PS == null)
          return;
      var K = this.dI.UP.d
        , i = this.dI.UP.v
        , C = this.PS
        , N = this.Z0.o_
        , k = this.NE
        , V = this.eP.iD();
      k.setTransform(1, 0, 0, 1, 0, 0);
      k.clearRect(0, 0, k.canvas.width, k.canvas.height);
      k.translate(k.canvas.width / 2, k.canvas.height / 2);
      k.scale(V.S, V.S);
      k.translate(V.i.x / V.S - K / 2, V.i.y / V.S - i / 2);
      k.scale(1 / V.S, 1 / V.S);
      k.fillStyle = this.mq;
      k.fillRect(0, 0, K * V.S, i * V.S);
      k.scale(V.S, V.S);
      var j = [];
      for (var G = 0; G < N.length; G++) {
          var a = N[G].est.q;
          j.push({
              h: Math.round(255 * a[0]),
              l: Math.round(255 * a[1]),
              O: Math.round(255 * a[2]),
              R: Math.round(255 * a[3])
          })
      }
      for (var G = 0; G < C.length; G++) {
          var e = C[G]
            , a = j[e.color - 1];
          if (a.R == 0)
              continue;
          k.fillStyle = "rgba(" + a.h + "," + a.l + "," + a.O + "," + a.R / 255 + ")";
          k.beginPath();
          Typr.U.pathToContext({
              crds: e.path.H,
              cmds: e.path.Z
          }, k);
          k.fill()
      }
  }
  ;
  aR.prototype.zW = function(E) {
      var K = this.PS
        , i = K.length == 1
        , C = this.CR
        , N = C.C[0]
        , k = C.t[N]
        , V = C.t.slice(0, N);
      if (!i)
          V.push(C.Yy());
      for (var G = 0; G < K.length; G++) {
          var j = K[G]
            , a = this.Z0.o_[j.color - 1].est.q;
          _.$.m(j.path.H, new fn(1,0,0,1,k.rect.x,k.rect.y), j.path.H);
          var e = C.qV();
          e.gv("Path " + G);
          V.push(e);
          e.opacity = Math.round(a[3] * 255);
          e.it |= 16;
          e.add.SoCo = {
              classID: "null",
              Clr: {
                  t: "Objc",
                  v: _.V.VQ({
                      h: 255 * a[0],
                      l: 255 * a[1],
                      O: 255 * a[2]
                  })
              }
          };
          e.add.vmsk = new U.ql;
          e.add.vstk = JSON.parse(JSON.stringify(ao.S6.default));
          e.add.vmsk.b = _.$.rh(j.path, !1);
          e.add.vogk = [];
          e.cE();
          e.Kf(C)
      }
      var L = V[V.length - 1];
      if (!i) {
          var e = C.qV();
          e.gv(k.getName());
          e.add.lsct = c5.qd;
          e.SI = "pass";
          e.it = 24;
          V.push(e);
          L = e
      }
      var g = k.add.lmfx;
      if (g)
          L.add.lmfx = JSON.parse(JSON.stringify(g));
      for (var G = N + 1; G < C.t.length; G++)
          V.push(C.t[G]);
      var I = new q(c.E.A,!0);
      I.r1 = !0;
      I.F = u.Iy;
      I.data = {
          e: U.Qu,
          Un: V,
          Id: [N + K.length + (i ? -1 : 1)],
          $t: [11, 11]
      };
      this.U(I);
      this.close()
  }
  ;
  function ap(E) {
      bQ.call(this, [[7, 11], [7, 13]][E], ["redge", "magiccut"][E]);
      this.TS = E;
      this.dI = {};
      this.Xq = null;
      this.VV = null;
      this.CR = null;
      this.rq = null;
      this.Zn = null;
      this.l_ = [];
      this.W$ = -1;
      this.lo = c.w("div", "form hbar");
      this.body.appendChild(this.lo);
      this.sB = new iE;
      this.sB.parent = this;
      this.sB.k(c.E.L, this._$, this);
      this.lo.appendChild(this.sB.j);
      var K = E == 0 ? ["#ffffff", "#888888", "#000000"] : ["#00dd00", "#888888", "#ff0000"];
      K = K.concat(PIMG["tools/hand"], PIMG.zoomIn, PIMG.zoomOut);
      var i = E == 0 ? [[12, 45], "Unknown", [12, 46]] : [[12, 45], "Erase", [12, 46]];
      this.Gy = new fX(null,K,i,28);
      this.Gy.k(c.E.L, this.Ok, this);
      this.lo.appendChild(this.Gy.j);
      this.WM = new gI([7, 9],0,50,null);
      this.WM.parent = this;
      this.WM.k(c.E.L, [this.wI, this.ry][E], this);
      this.lo.appendChild(this.WM.j);
      var C = this.al5 = new hO([2, 2],!1,null,!0);
      C.k("click", this.jr, this);
      this.lo.appendChild(C.j);
      var N = this.afp = new hO([12, 90],!1,null,!0);
      N.k("click", function(a) {
          alert(E == 0 ? i2.get([15, 7, 1]) : "Mark the object with Green, background with Red. Two colors should never touch.", 5e3)
      }, this);
      this.lo.appendChild(N.j);
      var k = new hO("Tutorial",!1,null,!0);
      k.k("click", this.a9q, this);
      this.lo.appendChild(k.j);
      var V = c.w("span", "form");
      this.lo.appendChild(V);
      V.setAttribute("style", "position:absolute;  right:0px");
      this.Xl = new fX([12, 46],["checker", "#ffffff", "#000000"]);
      this.Xl.k(c.E.L, this.$K, this);
      V.appendChild(this.Xl.j);
      this.vB = new gc(null,[[6, 13], [6, 2], [17, 2]]);
      V.appendChild(this.vB.j);
      this.iI = new hO("OK",!1,null,!0);
      this.iI.k("click", this.zW, this);
      V.appendChild(this.iI.j);
      var j = c.w("div", "flexrow");
      this.body.appendChild(j);
      this.Y8 = new a4(!0);
      this.eY = new a4;
      this.Y8.H9(this.eY);
      this.eY.H9(this.Y8);
      this.Y8.k("mousedown", this.bC, this);
      this.Y8.k("mousemove", this.BT, this);
      this.Y8.k("mouseup", this.nW, this);
      this.Y8.k("zoom", this._$, this);
      this.eY.k("zoom", this._$, this);
      j.appendChild(this.Y8.j);
      j.appendChild(this.eY.j)
  }
  ap.prototype = new bQ;
  ap.prototype.N$ = function(E, K) {
      var i = E != null && !E.t[E.C[0]].rect.OL();
      if (!i)
          alert("The layer is empty.");
      return i
  }
  ;
  ap.prototype.yV = function() {
      return new bT(0,0)
  }
  ;
  ap.prototype.cn = function() {
      return !0
  }
  ;
  ap.prototype.FY = function(E, K) {
      K = K - 26 - 33;
      E = Math.floor((E - 28) / 2);
      this.Y8.FY(E, K);
      this.eY.FY(E, K)
  }
  ;
  ap.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.sB.B();
      this.WM.B();
      this.iI.B();
      this.Xl.B();
      this.vB.B();
      this.al5.B();
      this.afp.B()
  }
  ;
  ap.prototype.a9q = function(E) {
      window.open("//www.photopea.com/" + ["learn/refine-edge", "tuts/magic-cut-remove-image-background-online"][this.TS], "_blank")
  }
  ;
  ap.prototype.bX = function(E, K) {
      this.VV = E;
      if (K == dp.uf || K == dp.iW) {
          this.sB.$S(E.O9);
          this.sB.T(eQ.X1(), E.O9.uQ, E.O9.j$)
      }
  }
  ;
  ap.prototype.Ok = function(E, K, i, C) {
      var N = this.Gy.u();
      if (C == null) {
          var C = new w;
          if (N >= 3)
              C.CF("Space");
          if (N >= 4) {
              C.CF("ControlLeft");
              if (N == 5)
                  C.CF("AltLeft")
          }
          this.Y8.Ok(C);
          return
      }
      this.rq = C;
      var k = u.Bu.g6(this.sB.u(), C);
      if (k != null) {
          this.sB.T(k);
          this._$()
      } else if (C.q(w.qN) && C.q(w.p6)) {
          var V = this.l_
            , j = 0;
          if (C.q(w.Gj)) {
              if (this.W$ + 1 < V.length)
                  j = 1
          } else if (this.W$ > 0)
              j = -1;
          if (j != 0) {
              this.W$ += j;
              var a = this.W$
                , e = this.dI;
              if (j == 1)
                  _.p8(V[a][2], V[a][0], e.eX, e.rect);
              else
                  _.p8(V[a + 1][1], V[a + 1][0], e.eX, e.rect);
              e.yY = e.rect;
              this.ry()
          }
      } else if (N < 3)
          this.Y8.Ok(C)
  }
  ;
  ap.prototype.yE = function(E) {
      var K = this.dI
        , i = this.l_
        , C = _.I(E.X() * 4);
      _.p8(K.oz, K.rect, C, E);
      K.oz = null;
      var N = _.I(E.X() * 4);
      _.p8(K.eX, K.rect, N, E);
      this.W$++;
      i[this.W$] = [E.clone(), C, N];
      while (i.length > this.W$ + 1)
          i.pop();
      while (i.length > 50) {
          i = i.slice(1);
          this.W$--
      }
  }
  ;
  ap.prototype._$ = function() {
      var E = this.VV
        , K = fr.da(this.sB.u(), E.O9.uQ, this.Y8.iD().S);
      this.Y8.PO(K)
  }
  ;
  ap.prototype.bC = function(E) {
      var K = this.VV
        , i = this.dI
        , C = this.rq
        , N = this.sB.u()
        , k = this.Y8.mT()
        , V = [16777215, 8421504, 0][this.Gy.u()];
      this.Xq = new fr(N,K.O9.list[0].uQ,K.O9.list[0].j$,{
          $J: 1,
          zf: !0
      },V,K.JT,i.rect);
      i.oz = i.eX.slice(0);
      if (C != null && C.q(w.Gj) && this.Zn) {
          this.Xq.moveTo(this.Zn.x, this.Zn.y);
          this.Xq.lineTo(k.x, k.y)
      } else
          this.Xq.moveTo(k.x, k.y);
      this.eF()
  }
  ;
  ap.prototype.BT = function(E) {
      var K = this.dI
        , i = this.Y8.mT();
      this.Xq.lineTo(i.x, i.y);
      this.eF()
  }
  ;
  ap.prototype.nW = function(E) {
      this.Zn = this.Y8.mT();
      this.yE(this.Xq.oi());
      this.ry()
  }
  ;
  ap.prototype.eF = function() {
      var E = this.dI
        , K = this.Xq
        , i = K.fo();
      if (i.OL())
          return;
      E.yY = i;
      _.p.JA("norm", K.wc(), K.Qc(), E.eX, E.rect, i, 1);
      this.Gn()
  }
  ;
  ap.prototype.jr = function(E) {
      var K = this.dI;
      K.oz = K.eX.slice(0);
      K.yY = K.rect;
      _.EE(K.eX, [4278190080, 4292730333][this.TS]);
      this.yE(K.rect);
      this.ry()
  }
  ;
  ap.prototype.MN = function(E, K) {
      this.CR = E;
      var i = E.t[E.C[0]]
        , C = i.rect.clone()
        , N = C.d
        , k = C.v;
      this.WM.T(this.TS == 0 ? 3 : N * k < 3e6 ? 3 : 0);
      this.Gy.T(E.N == null ? 0 : 1);
      this.WM.EF();
      if (this.TS == 0 && E.N != null || this.TS == 1)
          this.WM.lV();
      var V = this.TS
        , j = _.I(C.X())
        , a = new Float32Array(C.X());
      if (V == 0 && E.N) {
          _.ie(E.N.channel, E.N.rect, j, C);
          var e = _.I(C.X());
          for (var L = 0; L < k; L++)
              for (var g = 0; g < N; g++) {
                  var G = L * N + g
                    , I = j[G];
                  if (g > 0 && j[G - 1] != I || g < N - 1 && j[G + 1] != I || L > 0 && j[G - N] != I || L < k - 1 && j[G + N] != I)
                      e[G] = 255
              }
          _.style.pA(e, a, N, k)
      } else
          a.fill(1e9);
      C.x = C.y = 0;
      this.dI = {
          rect: C,
          OR: i.buffer,
          JY: j,
          s7: a,
          n2: _.I(C.X() * 4),
          rj: _.I(C.X() * 4),
          eX: _.I(C.X() * 4),
          oz: null,
          Wy: null,
          yY: C,
          aiN: {}
      };
      if (V == 0)
          this.wI();
      else {
          this.dI.aiN = u.Wp.rd(E);
          var h = this.dI.eX;
          _.EE(h, 4287137928);
          var o = _.Yj.getSelection(i.buffer, N, k)
            , H = Math.round(N / 60)
            , A = Math.round(.7 * k);
          for (var L = 0; L < k; L++)
              for (var g = 0; g < N; g++) {
                  var S = (L * N + g) * 4
                    , v = o[S >>> 2];
                  v = v > 128 ? 255 : 128;
                  if (L < H || L < A && (g < H || g > N - 1 - H))
                      v = 0;
                  h[S] = h[S + 1] = h[S + 2] = v
              }
          this.ry()
      }
      this.l_ = [1];
      this.W$ = 0;
      this.Y8.alD();
      var s = this.sB.u();
      s.Brsh.v.Dmtr.v.val = Math.round(C.d / (V == 0 ? 10 : 20));
      this.sB.T(s);
      this._$()
  }
  ;
  ap.prototype.wI = function() {
      var E = this.dI
        , K = E.rect.X()
        , i = this.WM.u()
        , C = E.JY.slice(0);
      for (var G = 0; G < K; G++)
          if (E.s7[G] < i)
              C[G] = 128;
      _.EE(E.eX, 4294967295);
      _.lM(C, E.eX, 0);
      _.lM(C, E.eX, 1);
      _.lM(C, E.eX, 2);
      E.yY = E.rect;
      this.ry()
  }
  ;
  ap.prototype.ry = function() {
      var E = this.dI, N, j, a = 0, e = 0, L = 0;
      this.Gn();
      var K = E.rect
        , i = K.d
        , C = K.v
        , k = _.I(K.X())
        , V = E.OR;
      _.wF(E.eX, k, 0);
      for (var G = 0; G < k.length; G++) {
          if (V[(G << 2) + 3] != 255)
              continue;
          var g = k[G];
          if (g == 0)
              a++;
          else if (g == 255)
              e++;
          else
              L++
      }
      if (a * e * L != 0) {
          if (this.TS == 0)
              j = _.pF.pF(K, V, k);
          else {
              var I = this.Gy.u();
              for (var h = 1; h < C; h++)
                  for (var o = 1; o < i; o++) {
                      var G = h * i + o
                        , H = k[G]
                        , A = k[G - 1];
                      if (H == 0 && A == 255 || H == 255 && A == 0) {
                          N = "The Red and Green should never touch! Erase it with Grey.";
                          break
                      }
                  }
              var S = Date.now()
                , v = this.dI.aiN;
              _.uJ(k, v.Z6);
              u.Wp.XN(v, !0);
              var s = Math.ceil(this.WM.u() / 2);
              if (s == 0) {
                  j = V.slice(0);
                  _.lM(v.N, j, 3)
              } else {
                  var D = v.N.slice(0)
                    , F = v.N.slice(0);
                  for (var y = 0; y < s; y++) {
                      for (var h = 1; h < C - 1; h++)
                          for (var o = 1; o < i - 1; o++) {
                              var G = h * K.d + o
                                , T = D[G];
                              if (D[G - i] != T || D[G - 1] != T || D[G + 1] != T || D[G + i] != T)
                                  F[G] = 128;
                              else
                                  F[G] = T
                          }
                      var Q = D;
                      D = F;
                      F = Q
                  }
                  j = _.pF.pF(K, V, D, 20, !1)
              }
          }
      } else {
          j = V.slice(0);
          _.lM(k, j, 3)
      }
      for (var G = 3; G < j.length; G += 4)
          if (j[G] > V[G])
              j[G] = V[G];
      if (K.Ql(E.rect))
          E.Wy = j;
      else
          _.p8(j, K, E.Wy, E.rect);
      this.$K();
      if (N)
          alert(N, 4e3)
  }
  ;
  ap.prototype.Gn = function(E) {
      var K = this.dI
        , i = K.yY;
      _.p8(K.OR, K.rect, K.n2, K.rect, i, !0);
      var C = K.eX;
      if (this.TS == 1) {
          var N = new Uint32Array(256);
          N[0] = 4278190335;
          N[255] = 4278255360;
          var k = K.rect.X();
          C = C.slice(0);
          var V = new Uint32Array(C.buffer);
          for (var G = 0; G < k; G += 2) {
              V[G] = N[V[G] & 255];
              V[G + 1] = N[V[G + 1] & 255]
          }
      }
      _.p.JA("norm", C, K.rect, K.n2, K.rect, i, .3);
      this.Y8.T([{
          UP: K.rect,
          data: K.n2.buffer
      }])
  }
  ;
  ap.prototype.$K = function(E) {
      var K = this.dI;
      _.EE(K.rj, [0, 4294967295, 4278190080][this.Xl.u()]);
      _.p.JA("norm", K.Wy, K.rect, K.rj, K.rect, K.rect, 1);
      this.eY.T([{
          UP: K.rect,
          data: K.rj.buffer
      }])
  }
  ;
  ap.prototype.zW = function(E) {
      var K = this.CR
        , i = this.dI
        , C = this.vB.u()
        , N = K.t[K.C[0]]
        , k = new q(c.E.A,!0);
      k.r1 = !0;
      var V = N.rect.clone();
      if (C == 0 && N.VD() || C != 0 && !N.VD()) {
          k.F = u.Iy;
          k.data = {
              e: U.cv,
              z: K.C[0]
          };
          this.U(k)
      }
      if (K.N != null) {
          k.F = u.Z2;
          k.data = {
              e: "fromAction",
              cd: u.u$.bi()
          };
          this.U(k)
      }
      if (C == 0) {
          var j = K.t.slice(0)
            , a = K.qV();
          a.gv(N.getName());
          j.splice(K.C[0] + 1, 0, a);
          a.rect = V;
          a.buffer = i.Wy;
          a.s();
          k.F = u.Iy;
          k.data = {
              e: U.Qu,
              Un: j,
              Id: [K.C[0] + 1],
              $t: [7, 11]
          };
          this.U(k)
      }
      if (C == 1) {
          var e = N.$Y();
          k.F = u.Iy;
          k.data = {
              e: U.mx,
              a3d: !0
          };
          this.U(k);
          var L = N.$Y();
          L.channel = _.I(V.X());
          L.rect = V;
          L.color = 0;
          L.bZ = !0;
          _.wF(i.Wy, L.channel, 3);
          if (e) {
              var g = L.M8(e);
              L.rect = g.rect;
              L.channel = g.channel;
              L.color = g.color
          }
          L.NU();
          N.Kf()
      }
      if (C == 2) {
          var I = {
              rect: V,
              channel: _.I(V.X())
          };
          _.wF(i.Wy, I.channel, 3);
          k.F = u.Z2;
          k.data = {
              e: "setsel",
              N: I,
              $t: this.N7
          };
          this.U(k)
      }
      this.close()
  }
  ;
  function f5() {
      bQ.call(this, [1, 13], "locstor");
      this.Mi = null;
      this.xt = [];
      var E = this.body
        , K = c.w("p");
      K.textContent = "These files are loaded every time you start Photopea.";
      E.appendChild(K);
      this.a3Y = 0;
      this.ec = c.w("span");
      E.appendChild(this.ec);
      this.ec.setAttribute("style", "display:inline-block;  width:12em;  font-weight:bold;");
      var i = c.w("span", "form");
      E.appendChild(i);
      this.Th = new hO([5, 4],!1,null,!0);
      this.Th.k("click", this.a2e, this);
      i.appendChild(this.Th.j);
      this.a1X = new hO("Get all as ZIP",!1,null,!0);
      this.a1X.k("click", this.DI, this);
      i.appendChild(this.a1X.j);
      this._M = new aV(!0);
      this._M.parent = this;
      this._M.Lt(1);
      this._M.k(c.E.L, this.ah9, this);
      E.appendChild(this._M.j);
      this._M.j.setAttribute("style", "width: 40em; height: 25em")
  }
  f5.prototype = new bQ;
  f5.prototype.B = function() {
      bQ.prototype.B.call(this);
      this.ec.textContent = i2.get([13, 2]) + ": " + iw.js(this.a3Y);
      this.Th.B()
  }
  ;
  f5.prototype.bX = function(E, K) {
      this.Mi = E;
      if (K == dp.bh)
          this.MN()
  }
  ;
  f5.prototype.MN = function(E, K) {
      var i = this.Mi.rb.S4
        , a = 0;
      this.xt = [];
      for (var C in i)
          this.xt.push(C);
      this.xt.sort(function(L, g) {
          L = L.split(".");
          g = g.split(".");
          return L[1] == g[1] ? L[0] < g[0] ? -1 : 1 : L[1] < g[1] ? -1 : 1
      });
      var N = Math.floor(100 * c.M())
        , k = Math.floor(16 * c.M())
        , V = []
        , j = [];
      for (var G = 0; G < this.xt.length; G++) {
          var C = this.xt[G]
            , e = f5.rP(C, i[C], N, k);
          V.push(e);
          j.push(C);
          a += i[C].byteLength
      }
      this._M.Oi(V, j, N, k);
      this.a3Y = a;
      this.B()
  }
  ;
  f5.prototype.ah9 = function(E) {
      this._M.qL(this._M.u())
  }
  ;
  f5.prototype.a2e = function(E) {
      var G = this._M.u();
      if (G == -1) {
          alert("Select a file first.");
          return
      }
      this._M.T(-1);
      var K = this.Mi.rb.S4;
      delete K[this.xt[G]];
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.H7,
          KG: dp.bh
      };
      this.U(i)
  }
  ;
  f5.prototype.DI = function(E) {
      var K = this.Mi.rb.S4
        , i = {};
      for (var C in K)
          i[C] = new Uint8Array(K[C]);
      var N = UZIP.encode(i);
      gQ.save(N, "resources.zip")
  }
  ;
  f5.rP = function(E, K, i, C) {
      var N = c.w("canvas")
        , j = 0;
      N.width = i;
      N.height = C;
      var k = N.getContext("2d")
        , V = E.split(".").pop().toLowerCase();
      for (var G = 0; G < V.length; G++)
          j += V.charCodeAt(G) * 613 << 8 * G;
      k.fillStyle = "#" + _.rS(j & 16777215);
      k.fillRect(0, 0, 20, C);
      var a = Math.floor(14 * c.M());
      k.fillStyle = "#000000";
      k.font = "bold " + a + "px sans-serif";
      var e = (C - a) / 2
        , L = iw.js(K.byteLength)
        , g = k.measureText(L);
      k.fillText(L, i - 12 - g.width, C - e);
      return N.toDataURL()
  }
  ;
  function aY(E, K, i) {
      bQ.call(this, K, "cwindow");
      this.afM = new bT(i[0],i[1] - 33);
      this.lo = c.w("div", "form");
      this.lo.setAttribute("style", "width:" + (i[2] - i[0]) + "px; height:" + (i[3] - i[1]) + "px");
      this.body.appendChild(this.lo)
  }
  aY.prototype = new bQ;
  aY.prototype.yV = function(E, K) {
      return this.afM.clone()
  }
  ;
  function dK() {
      bQ.call(this, ["PSD VAR0", [25, 0]], "templates");
      this.hE = null;
      this.Hd = 0;
      this._b = null;
      this.body.setAttribute("style", "padding:0");
      this.KY = new hO("Add Templates",null,null,!0);
      this.body.appendChild(this.KY.j);
      this.KY.k("click", this.w0, this);
      this.KY.j.setAttribute("style", "position:absolute; margin-top: -28px;  margin-left:150px");
      this.a0n = new hO("New Template",null,null,!0);
      this.a0n.k("click", this.aeb, this);
      this.$c = c.w("iframe", "scrollable");
      this.$c.setAttribute("style", "border:none; margin:0; padding:0;");
      this.cH = c.w("div", "form scrollable padded");
      this.no = c.w("div", "form scrollable padded label12");
      var E = []
        , K = dK.Wq;
      this.eR = [];
      for (var i in K) {
          var C = parseInt(i.slice(1))
            , N = C % 10 == 0 ? "" : "\u2800\u2800- ";
          E.push(N + K[i]);
          this.eR.push(C)
      }
      this.Rf = [new fN("Name",null,30), new fN("Description",null,30,4), new fN("File"," www.Photopea.com#i...",17), new fN("Thumbnail URL","* Use Imgur.com etc., ratio 3:2",17), new gc("Category",E), new hO("<< Back",null,null,!0), new hO("Save",null,null,!0), new di("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."), new di("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
      for (var G = 0; G < this.Rf.length; G++) {
          var k = this.Rf[G];
          this.no.appendChild(k.j);
          k.parent = this;
          if (G != 5)
              c.eg(this.no);
          if (k instanceof hO)
              k.k("click", this.a1p, this)
      }
      this.body.appendChild(this.$c)
  }
  dK.prototype = new bQ;
  dK.prototype.yV = function(E, K) {
      return new bT(0,0)
  }
  ;
  dK.prototype.FY = function(E, K) {
      K = K - 4;
      E = E;
      var i = this.cH;
      i.style.width = E - 12 + "px";
      i.style.height = K - 12 + "px";
      var i = this.no;
      i.style.width = E - 12 + "px";
      i.style.height = K - 12 + "px";
      var i = this.$c;
      i.style.width = E + "px";
      i.style.height = K + "px"
  }
  ;
  dK.prototype.B = function() {
      bQ.prototype.B.call(this)
  }
  ;
  dK.prototype.MN = function(E, K, i, C) {
      this.w0(null, !1)
  }
  ;
  dK.prototype.w0 = function(E, K) {
      var i = K != null ? K : c.ws(this.$c);
      if (i) {
          if (!h2.EU()) {
              alert("You need to log in first!");
              return
          }
          var C = h2.GP();
          this.hE = C.tpl ? C.tpl.list : [];
          this.O6()
      } else {
          this.$c.setAttribute("src", "");
          this.$c.setAttribute("src", "plugins/templates.html")
      }
      this.body.removeChild(this.body.children[this.body.children.length - 1]);
      this.body.appendChild(i ? this.cH : this.$c);
      this.KY.KZ(i ? "All Templates" : "Add Templates")
  }
  ;
  dK.prototype.O6 = function() {
      var E = this.hE
        , K = this.cH;
      c.kL(K);
      var i = c.w("h1");
      i.textContent = "Share your PSD templates with the world!";
      var C = c.w("h3");
      C.textContent = "Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
      K.appendChild(i);
      K.appendChild(C);
      K.appendChild(this.a0n.j);
      for (var G = 0; G < E.length; G++) {
          var N = E[G]
            , k = c.w("div");
          K.appendChild(k);
          k.setAttribute("style", "clear:both;");
          var V = c.w("img");
          k.appendChild(V);
          V.setAttribute("src", N.thmb);
          V.setAttribute("style", "height:10em; float:left; margin-right: 1em; margin-bottom:1em;");
          var j = c.w("h3");
          k.appendChild(j);
          j.textContent = N.name;
          var a = c.w("p");
          k.appendChild(a);
          a.textContent = N.desc;
          for (var e = 0; e < 2; e++) {
              var L = new hO(e == 0 ? "Edit" : "Delete",null,null,!0);
              L.an0 = G;
              L.ze = e == 0;
              L.k("click", this.a0T, this);
              k.appendChild(L.j)
          }
      }
  }
  ;
  dK.prototype.aeb = function(E) {
      this._b = {
          catg: 0,
          desc: "",
          file: "",
          name: "",
          thmb: "",
          utme: ""
      };
      this.ze()
  }
  ;
  dK.prototype.a0T = function(E) {
      this.Hd = E.target.an0;
      if (!E.target.ze) {
          this.hE.splice(this.Hd, 1);
          this.DI();
          this.O6();
          return
      }
      this.ze()
  }
  ;
  dK.prototype.ze = function() {
      this.body.removeChild(this.cH);
      this.body.appendChild(this.no);
      var E = ["name", "desc", "file", "thmb"]
        , K = this._b ? this._b : this.hE[this.Hd];
      for (var G = 0; G < 4; G++) {
          var i = K[E[G]];
          if (i != "" && G == 2)
              i = "https://photopea.com#i" + i;
          this.Rf[G].T(i)
      }
      this.Rf[4].T(this.eR.indexOf(K.catg))
  }
  ;
  dK.prototype.a1p = function(E) {
      if (this.Rf.indexOf(E.target) == 6) {
          var K = ["name", "desc", "file", "thmb"]
            , i = this._b ? this._b : this.hE[this.Hd];
          for (var G = 0; G < 4; G++) {
              var C = this.Rf[G].u().trim();
              if (C.length == 0) {
                  alert("One of values is empty.");
                  return
              }
              if (G == 2) {
                  var N = C.split("#i");
                  if (N.length != 2 || N[1].length != 8) {
                      alert("File ID is incorrect.");
                      return
                  }
                  C = N.pop()
              }
              if (G == 3 && (!C.startsWith("http") || !C.endsWith(".jpg") && !C.endsWith(".png"))) {
                  alert("Thumbnail URL is incorrect.");
                  return
              }
              i[K[G]] = C
          }
          i.catg = this.eR[this.Rf[4].u()];
          i.utme = "" + Math.round(Date.now() / 1e3);
          if (this._b)
              this.hE.push(this._b);
          this.DI()
      }
      this._b = null;
      this.body.removeChild(this.no);
      this.body.appendChild(this.cH);
      this.O6()
  }
  ;
  dK.prototype.DI = function() {
      var E = h2.GP();
      if (this.hE.length == 0)
          delete E.tpl;
      else
          E.tpl = {
              list: JSON.parse(JSON.stringify(this.hE))
          };
      h2.Hu(E, function() {
          alert("Saved.")
      })
  }
  ;
  dK.Wq = {
      c0: "Mockups",
      c1: "Mobile & Web",
      c2: "Print",
      c3: "Product",
      c10: "Social Media",
      c11: "Youtube",
      c12: "Instagram",
      c13: "Facebook",
      c20: "Print",
      c21: "Cards",
      c22: "Invitations",
      c23: "Brochures",
      c30: "Mobile",
      c40: "Websites",
      c50: "Presentations",
      c60: "Other"
  };
  function gA() {
      bQ.call(this, "Make Selection", "makesel");
      this.Mi = null;
      var E = c.w("div", "form");
      this.body.appendChild(E);
      this.MH = new ck("Anti-Alias");
      this.MH.T(!0);
      E.appendChild(this.MH.j);
      c.eg(E);
      this._p = new gH(!0);
      E.appendChild(this._p.j);
      this.iI = new hO("OK",!0,null,!0);
      this.iI.k("click", this.zW, this);
      this.body.appendChild(this.iI.j)
  }
  gA.prototype = new bQ;
  gA.prototype.B = function() {
      bQ.prototype.B.call(this);
      this._p.B()
  }
  ;
  gA.prototype.zW = function(E) {
      var K = new q(c.E.A,!0);
      K.F = u.Z2;
      K.data = {
          e: "frompath",
          eT: [null, 0, this._p.ahT(), !this.MH.u()]
      };
      this.close();
      this.U(K)
  }
  ;
  function iL(E, K, i, C) {
      aB.call(this);
      this.name = E;
      this.aic = i;
      this.iJ = C;
      this.ZH = c.w("div", "");
      this.ZH.setAttribute("draggable", "true");
      this.KH = c.w("div", "pbody");
      this.bE = new hO("",!1,"");
      this.bE.parent = this;
      this.a7k = c.w("span", "cross");
      this.Qf = c.w("span", "label");
      var N = this.abg.bind(this);
      this.ZH.addEventListener("mousedown", this.ac4.bind(this), !1);
      this.ZH.addEventListener("contextmenu", N, !1);
      this.bE.j.addEventListener("contextmenu", N, !1);
      this.a7k.addEventListener("mousedown", this.uT.bind(this), !1);
      this.ZH.appendChild(this.Qf);
      if (K)
          this.ZH.appendChild(this.a7k);
      this.GI = !1;
      this.Ww = new bi([{
          name: [1, 12]
      }]);
      this.Ww.k("select", this.uT, this);
      this.Qf.textContent = E
  }
  iL.prototype = new aB;
  iL.prototype.Dt = function() {
      return null
  }
  ;
  iL.prototype.HN = function() {
      return new bT(0,0)
  }
  ;
  iL.prototype.B = function() {
      var E = i2.get(this.name)
        , K = this.jx == 0 ? 22 : Math.round(2 + this.jx / 50)
        , i = E.length > K;
      this.Qf.textContent = i ? E.slice(0, K - 2) : E;
      if (i)
          for (var C = 0; C < 2; C++) {
              var N = c.w("span");
              N.textContent = E.charAt(K - 2 + C);
              N.setAttribute("style", "opacity:" + (.6 - C * .4));
              this.Qf.appendChild(N)
          }
      var k = E.split(" ")
        , V = k.length == 2 ? k[0].substring(0, 2) + k[1][0] : E.substring(0, 3);
      if (V.charCodeAt(0) >= 11776)
          V = V.substring(0, 1);
      var j = this.aic;
      if (j == null)
          this.bE.KZ(V, E);
      else {
          if (j.indexOf("\"") == -1)
              this.bE.KZ("<img src=\"" + j + "\" alt=\"" + E + "\" height=\"20\" />", E)
      }
  }
  ;
  iL.prototype.enable = function() {
      this.KH.setAttribute("class", "pbody")
  }
  ;
  iL.prototype.disable = function() {
      this.KH.setAttribute("class", "pbody disabled")
  }
  ;
  iL.prototype.bX = function(E, K) {}
  ;
  iL.prototype.MN = function(E, K, i) {}
  ;
  iL.prototype.og = function(E) {}
  ;
  iL.prototype.FY = function(E, K) {}
  ;
  iL.prototype.Og = function(E) {
      this.name = E;
      this.B()
  }
  ;
  iL.prototype.su = function() {}
  ;
  iL.prototype.ac4 = function(E) {
      if (E.button == 0)
          this.U(new q("select",!1))
  }
  ;
  iL.prototype.abg = function(E) {
      c.zx(E);
      if (this.iJ != null && isNaN(this.iJ))
          return;
      var K = c.DX(E, document.body)
        , i = this.Ww;
      i.update(null);
      i.B();
      i.parent = this;
      var C = new q(c.E.P,!0);
      C.data = {
          e: c.f.um,
          CP: i,
          x: K.x + 1,
          y: K.y + 1
      };
      this.U(C)
  }
  ;
  iL.prototype.cI = function() {
      this.uT({})
  }
  ;
  iL.prototype.uT = function(E) {
      if (E.stopPropagation)
          E.stopPropagation();
      if (this.iJ != null && !isNaN(this.iJ)) {
          var K = new q(c.E.P,!0);
          K.data = {
              e: c.f.sb,
              CP: this.Ww
          };
          this.U(K);
          K.data = {
              e: c.f.H7,
              KG: dp.aG,
              G: parseFloat(this.iJ),
              LG: "del"
          };
          this.U(K)
      } else if (this.vW())
          this.U(new q(c.E.s3,!1))
  }
  ;
  iL.prototype.vW = function(E) {
      return !0
  }
  ;
  iL.prototype.om = function(E, K, i, C, N) {}
  ;
  iL.prototype.n9 = function(E, K, i, C, N) {}
  ;
  iL.prototype.Cs = function(E, K, i, C, N) {}
  ;
  iL.$Z = function(E, K) {
      if (E.childElementCount != 0)
          return;
      var i = E.textContent;
      this.ib = this.ac2.bind(this);
      this.a7c = this.a5Z.bind(this);
      this.i2 = K;
      this.Oh = E;
      this.a9i = i;
      var C = c.w("input", "");
      C.setAttribute("type", "text");
      C.setAttribute("size", "10");
      C.setAttribute("value", i);
      c.kL(E);
      E.appendChild(C);
      C.select();
      C.focus();
      E.addEventListener("keyup", this.ib, !1);
      document.body.addEventListener("mousedown", this.a7c, !1)
  }
  ;
  iL.$Z.prototype.ac2 = function(E) {
      var K = w.SS
        , i = K(E.code, w.U6);
      if (K(E.code, w.SO) || i)
          this.QL(i)
  }
  ;
  iL.$Z.prototype.a5Z = function(E) {
      var K = E.target;
      if (K.tagName && K.tagName.toLowerCase() == "input")
          return;
      this.QL(!0)
  }
  ;
  iL.$Z.prototype.QL = function(E) {
      var K = this.Oh;
      K.removeEventListener("keyup", this.ib);
      document.body.removeEventListener("mousedown", this.a7c);
      if (E) {
          var i = K.firstChild.value;
          this.i2(i)
      } else {
          c.kL(K);
          K.textContent = this.a9i
      }
  }
  ;
  iL.Yb = {
      CC: "0",
      a4J: "1",
      Iy: "2",
      a2L: "3",
      al7: "4",
      q5: "5",
      CSS: "6",
      uf: "7",
      a3D: "8",
      a2w: "9",
      a0X: "10",
      xG: "11",
      af5: "12",
      VL: "13",
      rC: "14",
      a1Z: "15",
      ada: "16",
      _w: "17",
      aih: "19"
  };
  function a9() {
      iL.call(this, [9, 9], !1, null, iL.Yb.xG);
      this.Mi = null;
      this.pM = [0, 0];
      this.ta = c.w("div", "padded scrollable");
      this.ta.setAttribute("style", "width:260px;  height:260px");
      this.KH.appendChild(this.ta);
      this.k(c.E.L, this.I0, this);
      this.I1 = c.w("div", "lpfoot");
      this.KH.appendChild(this.I1);
      this.qc = [];
      var E = "<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">"
        , K = "</svg>"
        , i = E + "<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />" + K
        , C = E + "<path d=\"M0,2 L14,9 L0,16 Z\" />" + K;
      this.aaL = E + "<circle cx=\"7\" cy=\"9\" r=\"6\" />" + K;
      this.a7f = E + "<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />" + K;
      var N = [this.aaL, C, "lrs/folder", "lrs/newlayer", "lrs/bin", i]
        , k = [[15, 8, 0], [5, 8], [15, 8, 1], [15, 8, 2], [5, 4], [1, 2]];
      for (var G = 0; G < N.length; G++) {
          var V = N[G];
          if (1 < G && G != N.length - 1)
              V = "<img src=\"" + PIMG[N[G]] + "\" class=\"gsicon\" />";
          var j = new hO(V,!1,k[G]);
          j.k("click", this.Bj, this);
          this.I1.appendChild(j.j);
          this.qc.push(j)
      }
  }
  a9.prototype = new iL("");
  a9.prototype.B = function() {
      iL.prototype.B.call(this);
      for (var G = 0; G < this.qc.length; G++)
          this.qc[G].B()
  }
  ;
  a9.prototype.Bj = function(E) {
      var G = this.qc.indexOf(E.currentTarget)
        , K = this.pM
        , i = this.Mi
        , C = i.Q1;
      if (G == 0) {
          var N, k = i.Ys;
          if (C.length == 0) {
              alert("Create an Action Set first.");
              return
          }
          if (K.length < 2) {
              alert("Select a target action first.");
              return
          }
          if (k == null) {
              N = this.a7f;
              k = this.pM
          } else {
              N = this.aaL;
              k = null
          }
          this.qc[0].KZ(N);
          i.Ys = k
      } else if (G == 1)
          this.afl();
      else if (G == 2 || G == 3) {
          var V = {
              $t: "Action Set " + C.length,
              DK: [],
              exp: !0
          };
          if (G == 2 || C.length == 0) {
              K = [C.length];
              C.push(V)
          }
          if (G == 3) {
              var j = C[K[0]].DK;
              K = [K[0], j.length];
              j.push({
                  $t: "Action " + j.length,
                  color: 0,
                  DK: [],
                  a9A: !1,
                  shift: !1,
                  exp: !0,
                  EL: j.length
              })
          }
          this.pM = K;
          this.Vp()
      } else if (G == 4) {
          var a;
          if (K.length == 1)
              a = C;
          else if (K.length == 2)
              a = C[K[0]].DK;
          else
              a = C[K[0]].DK[K[1]].DK;
          var e = K.length - 1;
          a.splice(K[e], 1);
          if (a.length == 0)
              K.pop();
          else
              while (K[e] >= a.length)
                  K[e]--;
          if (K.length == 0)
              K.push(0);
          this.Vp()
      } else if (G == 5) {
          if (C.length == 0) {
              alert("No Actions Present.");
              return
          }
          var L = new q(c.E.P,!0);
          L.data = {
              e: c.f.yq,
              a3k: dp.A,
              na: K[0]
          };
          this.U(L)
      }
  }
  ;
  a9.prototype.I0 = function(E) {
      var K = this.Mi.Q1
        , i = E.data.e
        , C = E.data.ci;
      if (i == "sel")
          this.pM = C;
      if (i == "fold") {
          if (C.length == 1)
              K[C[0]].exp = !K[C[0]].exp;
          else
              K[C[0]].DK[C[1]].exp = !K[C[0]].DK[C[1]].exp
      }
      if (i == "enab") {
          var N = K[C[0]].DK[C[1]].DK[C[2]];
          N.Q = !N.Q
      }
      if (i == "nchange") {
          if (C.length == 1)
              K[C[0]].$t = E.data.dq;
          else
              K[C[0]].DK[C[1]].$t = E.data.dq
      }
      this.Vp()
  }
  ;
  a9.prototype.bX = function(E, K) {
      this.Mi = E;
      if (K == dp.A || K == dp.iW)
          this.Vp()
  }
  ;
  a9.prototype.Vp = function() {
      if (this.Mi == null)
          return;
      c.kL(this.ta);
      var E = this.Mi.Q1;
      if (E.length == 0)
          return;
      var K = JSON.stringify(this.pM);
      for (var G = 0; G < E.length; G++) {
          var i = E[G]
            , C = new a9.jd([G],K,i.exp,i.$t.split("=").pop());
          C.parent = this;
          this.ta.appendChild(C.j);
          if (!i.exp)
              continue;
          for (var N = 0; N < i.DK.length; N++) {
              var k = i.DK[N]
                , C = new a9.jd([G, N],K,k.exp,k.$t.split("=").pop());
              C.parent = this;
              this.ta.appendChild(C.j);
              if (!k.exp)
                  continue;
              for (var V = 0; V < k.DK.length; V++) {
                  var j = k.DK[V]
                    , C = new a9.jd([G, N, V],K,null,i2.get(bY.aeV(j)),j.Q);
                  C.parent = this;
                  this.ta.appendChild(C.j)
              }
          }
      }
  }
  ;
  a9.prototype.afl = function() {
      var E = this.Mi.Q1
        , K = this.pM;
      if (E.length == 0) {
          alert("No Actions Present");
          return
      }
      if (K.length == 1) {
          alert("Select an Action first");
          return
      }
      if (this.Mi.Ys != null) {
          alert("You can not apply actions while recording actions");
          return
      }
      if (K.length == 1)
          K.push(0);
      var i = E[K[0]]
        , C = i.DK[K[1]]
        , N = new q(c.E.P,!0);
      N.data = {
          e: c.f._s,
          eT: [C.$t, i.$t]
      };
      this.U(N)
  }
  ;
  a9.jd = function(E, K, i, C, N) {
      aB.call(this);
      this.ci = E;
      var k = this.ci.length - 1;
      this.j = c.w("div", "layeritem" + (JSON.stringify(E) == K ? " selected" : ""));
      this.Xs = c.w("div", "head");
      this.j.appendChild(this.Xs);
      this.Xs.setAttribute("style", "height:24px");
      this.z1 = c.w("div", "headL");
      this.Xs.appendChild(this.z1);
      if (k != 0) {
          var V = c.w("div");
          V.style.width = k * 20 + "px";
          this.z1.appendChild(V)
      }
      if (i != null) {
          var j = this.a2i = c.w("div", i ? "open" : "closed");
          this.z1.appendChild(j)
      } else {
          var a = this.aar = c.w("div", "cmark");
          a.setAttribute("style", "background-size:12px 12px; opacity:" + (N ? 1 : .3));
          this.z1.appendChild(a)
      }
      if (k == 0) {
          var e = c.w("div", "folder");
          this.z1.appendChild(e)
      }
      var L = this.Qf = c.w("div", "label");
      L.textContent = C;
      this.z1.appendChild(L);
      this.j.addEventListener("mouseup", this.yn.bind(this), !1)
  }
  ;
  a9.jd.prototype = new aB;
  a9.jd.prototype.yn = function(E) {
      if (E.detail == 1 && E.target.tagName.toLowerCase() != "input") {
          var K = "sel";
          if (E.target == this.a2i)
              K = "fold";
          if (E.target == this.aar)
              K = "enab";
          var i = new q(c.E.L,!0);
          i.data = {
              e: K,
              ci: this.ci
          };
          this.U(i)
      } else if (this.ci.length < 3)
          var C = new iL.$Z(this.Qf,this.i2.bind(this))
  }
  ;
  a9.jd.prototype.i2 = function(E) {
      var K = new q(c.E.L,!0);
      K.data = {
          e: "nchange",
          dq: E,
          ci: this.ci
      };
      this.U(K)
  }
  ;
  function a7() {
      iL.call(this, [9, 3], !1, null, iL.Yb.uf);
      this.qT = null;
      this.AC = null;
      this.Mi = null
  }
  a7.prototype = new iL("");
  a7.prototype.AW = function() {
      var E = c.w("div", "");
      this.KH.appendChild(E);
      this.R5 = c.w("div", "bordered cell");
      this.R5.setAttribute("style", "width:10em; height:28.5em;");
      E.appendChild(this.R5);
      this.xj = [];
      this.kV = null;
      this.vE = [];
      var K = this.abb.bind(this);
      this._v = [new a7.tK, new a7.SN, new a7.TA, new a7.jf];
      for (var G = 0; G < this._v.length; G++) {
          var i = c.w("div", "listitem")
            , C = this._v[G].Ib
            , N = null;
          if (G == 0) {
              this.kV = new di(C);
              i.appendChild(this.kV.j)
          } else {
              N = new ck(C,!1);
              N.k(c.E.L, this.a7r, this);
              i.appendChild(N.j)
          }
          this.vE.push(N);
          this.R5.appendChild(i);
          this.xj.push(i);
          i.addEventListener("click", K, !1)
      }
      this.z4 = c.w("div", "cell padded");
      E.appendChild(this.z4);
      for (var G = 0; G < this._v.length; G++)
          this._v[G].k("brushchange", this.agF, this);
      this.setItem(0);
      this.oV = c.w("canvas", "");
      this.oV.width = Math.floor(380 * c.M());
      this.oV.height = Math.floor(80 * c.M());
      c.em(this.oV, this.oV.width, this.oV.height);
      E.appendChild(this.oV);
      this.NE = this.oV.getContext("2d");
      this.ry()
  }
  ;
  a7.prototype.su = function() {
      if (!c.ws(this.KH))
          return;
      if (this.R5) {
          this.ry();
          return
      }
      this.AW();
      this.B();
      this.bX(this.Mi, dp.iW)
  }
  ;
  a7.prototype.B = function() {
      iL.prototype.B.call(this);
      if (this.R5 == null)
          return;
      this.kV.B();
      for (var G = 1; G < this.vE.length; G++)
          this.vE[G].B();
      for (var G = 0; G < this._v.length; G++)
          this._v[G].B()
  }
  ;
  a7.prototype.agF = function(E) {
      var K = this._v.indexOf(E.currentTarget)
        , i = JSON.parse(JSON.stringify(this._v[K].AC))
        , C = new q(c.E.P,!0);
      C.data = {
          e: c.f.H7,
          KG: dp.Zb,
          AC: i
      };
      this.U(C)
  }
  ;
  a7.prototype.a7r = function(E) {
      this.M0(this.vE.indexOf(E.currentTarget), E.currentTarget.vV())
  }
  ;
  a7.prototype.abb = function(E) {
      var G = this.xj.indexOf(E.currentTarget);
      if (E.target.tagName.toLowerCase() == "input")
          return;
      if (this.vE[G] && !this.vE[G].vV()) {
          this.vE[G].cY();
          this.M0(G, !0)
      }
      this.setItem(G)
  }
  ;
  a7.prototype.M0 = function(E, K) {
      this._v[E].GR(K)
  }
  ;
  a7.prototype.setItem = function(E) {
      for (var G = 0; G < this._v.length; G++)
          this.xj[G].setAttribute("class", "listitem");
      if (this.z4.firstChild)
          this.z4.removeChild(this.z4.firstChild);
      this.xj[E].setAttribute("class", "listitem selected");
      this.z4.appendChild(this._v[E].j)
  }
  ;
  a7.prototype.bX = function(E, K) {
      this.Mi = E;
      if (this.R5 == null)
          return;
      if (K == dp.uf || K == dp.iW) {
          this.qT = E.O9;
          for (var G = 0; G < this._v.length; G++)
              this._v[G].$S(this.qT)
      }
      if (K == dp.Zb || K == dp.iW) {
          this.AC = E.O9.h8;
          this.ry()
      }
      if (K == dp.VL)
          this.ry()
  }
  ;
  a7.prototype.ry = function() {
      if (this.AC)
          this.enable();
      else {
          this.disable();
          return
      }
      if (!c.ws(this.KH))
          return;
      var E = this.Mi;
      for (var G = 0; G < this._v.length; G++) {
          this._v[G].T(this.AC);
          if (this.vE[G])
              this.vE[G].T(this._v[G].vV())
      }
      var K = JSON.parse(JSON.stringify(this.AC));
      K.Brsh.v.Dmtr.v.val = Math.min(K.Brsh.v.Dmtr.v.val, 50);
      var i = new h4(0,0,this.oV.width,this.oV.height)
        , C = new fr(K,this.qT ? this.qT.uQ : null,this.qT ? this.qT.j$ : null,{
          $J: 1
      },E.sm,E.JT,i)
        , N = 40 * c.M()
        , k = 300 * c.M();
      C.moveTo(N, N);
      for (var G = 0; G <= k; G += 10)
          C.lineTo(N + G, N + 20 * Math.sin(2 * Math.PI * G / k));
      C.finish();
      var V = this.NE.createImageData(i.d, i.v);
      _.p8(C.wc(), C.Qc(), V.data, i);
      this.NE.putImageData(V, 0, 0)
  }
  ;
  a7.WA = function(E) {
      aB.call(this);
      this.Ib = E;
      this.j = c.w("div", "");
      this.AC = null
  }
  ;
  a7.WA.prototype = new aB;
  a7.WA.prototype.$S = function(E) {}
  ;
  a7.WA.prototype.T = function(E) {
      this.AC = JSON.parse(JSON.stringify(E));
      this.j.setAttribute("class", this.vV() ? "" : "disabled");
      this.ry()
  }
  ;
  a7.WA.prototype.GR = function(E) {}
  ;
  a7.WA.prototype.vV = function() {
      return !1
  }
  ;
  a7.WA.prototype.B = function() {}
  ;
  a7.WA.prototype.ry = function() {}
  ;
  a7.WA.prototype.FH = function() {
      this.U(new q("brushchange"))
  }
  ;
  a7.tK = function() {
      a7.WA.call(this, [15, 0]);
      this.qT = null;
      this.aho = null;
      this.kz = new aV(!0);
      this.j.appendChild(this.kz.j);
      this.kz.k(c.E.L, this.a22, this);
      this.kz.j.style.height = "10.7em";
      this.$y = new hk([12, 14, 0],1,1e3," px",0,!0);
      this.$y.k(c.E.L, this.a3T, this);
      this.qM = new hk([12, 15],0,359," \xB0");
      this.qM.k(c.E.L, this.a8A, this);
      this.sJ = new hk([12, 16],0,100," %");
      this.sJ.k(c.E.L, this.a3v, this);
      this.$u = new hk([12, 17],0,100," %");
      this.$u.k(c.E.L, this.akM, this);
      this.Cg = new hk([12, 18],1,300," %");
      this.Cg.k(c.E.L, this.ala, this);
      this.xj = [this.$y, this.qM, this.sJ, this.$u, this.Cg]
  }
  ;
  a7.tK.prototype = new a7.WA;
  a7.tK.prototype.B = function() {
      this.$y.B();
      this.qM.B();
      this.sJ.B();
      this.$u.B();
      this.Cg.B()
  }
  ;
  a7.tK.prototype.vV = function() {
      return !0
  }
  ;
  a7.tK.prototype.$S = function(E) {
      this.qT = E;
      var K = []
        , i = Math.floor(30 * c.M())
        , C = Math.floor(40 * c.M());
      for (var G = 0; G < E.list.length; G++) {
          var N = E.list[G].v
            , k = fr.rP(N, E.uQ, E.j$, i, C);
          K.push(k)
      }
      this.kz.Oi(K, null, i, C)
  }
  ;
  a7.tK.prototype.ry = function() {
      var E = this.AC.Brsh.v
        , K = E.classID != this.aho;
      this.aho = E.classID;
      if (K)
          for (var G = 0; G < this.xj.length; G++)
              if (this.j.contains(this.xj[G].j))
                  this.j.removeChild(this.xj[G].j);
      this.$y.T(E.Dmtr.v.val);
      if (K)
          this.j.appendChild(this.$y.j);
      this.qM.T(E.Angl.v.val);
      if (K)
          this.j.appendChild(this.qM.j);
      if (E.classID == "computedBrush" || E.classID == "sampledBrush") {
          this.sJ.T(E.Rndn.v.val);
          if (K)
              this.j.appendChild(this.sJ.j)
      }
      if (E.classID == "computedBrush") {
          this.$u.T(E.Hrdn.v.val);
          if (K)
              this.j.appendChild(this.$u.j)
      }
      this.Cg.T(E.Spcn.v.val);
      if (K)
          this.j.appendChild(this.Cg.j)
  }
  ;
  a7.tK.prototype.a22 = function(E) {
      this.AC = this.qT.list[this.kz.u()].v;
      this.FH()
  }
  ;
  a7.tK.prototype.a3T = function(E) {
      this.AC.Brsh.v.Dmtr.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.tK.prototype.a8A = function(E) {
      this.AC.Brsh.v.Angl.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.tK.prototype.a3v = function(E) {
      this.AC.Brsh.v.Rndn.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.tK.prototype.akM = function(E) {
      this.AC.Brsh.v.Hrdn.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.tK.prototype.ala = function(E) {
      this.AC.Brsh.v.Spcn.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.SN = function() {
      a7.WA.call(this, [15, 1]);
      this.GU = new hk([15, 4, 0],0,100," %");
      this.GU.k(c.E.L, this.ady, this);
      this.j.appendChild(this.GU.j);
      this.eL = new hk([15, 4, 1],0,100," %");
      this.eL.k(c.E.L, this.aoo, this);
      this.j.appendChild(this.eL.j);
      this.Vh = new hk([15, 4, 2],0,100," %");
      this.Vh.k(c.E.L, this.a3u, this);
      this.j.appendChild(this.Vh.j);
      this.Fp = new hk([15, 4, 3],0,100," %");
      this.Fp.k(c.E.L, this.aeP, this);
      this.j.appendChild(this.Fp.j);
      this.aK = new hk([15, 4, 4],0,100," %");
      this.aK.k(c.E.L, this.a8v, this);
      this.j.appendChild(this.aK.j)
  }
  ;
  a7.SN.prototype = new a7.WA;
  a7.SN.prototype.B = function() {
      this.GU.B();
      this.eL.B();
      this.Vh.B();
      this.Fp.B();
      this.aK.B()
  }
  ;
  a7.SN.prototype.vV = function() {
      return this.AC.useTipDynamics.v
  }
  ;
  a7.SN.prototype.GR = function(E) {
      this.AC.useTipDynamics.v = E;
      eQ.rn.at(this.AC);
      this.FH()
  }
  ;
  a7.SN.prototype.ry = function() {
      var E = this.AC;
      if (E.useTipDynamics.v == !1)
          return;
      this.GU.T(E.szVr.v.jitter.v.val);
      this.eL.T(E.minimumDiameter.v.val);
      this.Vh.T(E.angleDynamics.v.jitter.v.val);
      this.Fp.T(E.roundnessDynamics.v.jitter.v.val);
      this.aK.T(E.minimumRoundness.v.val)
  }
  ;
  a7.SN.prototype.ady = function(E) {
      this.AC.szVr.v.jitter.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.SN.prototype.aoo = function(E) {
      this.AC.minimumDiameter.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.SN.prototype.a3u = function(E) {
      this.AC.angleDynamics.v.jitter.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.SN.prototype.aeP = function(E) {
      this.AC.roundnessDynamics.v.jitter.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.SN.prototype.a8v = function(E) {
      this.AC.minimumRoundness.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.TA = function() {
      a7.WA.call(this, [15, 2]);
      this.bO = new hk([15, 5, 0],0,1e3," %");
      this.bO.k(c.E.L, this.akp, this);
      this.j.appendChild(this.bO.j);
      this.z7 = new hk([15, 5, 1],1,20);
      this.z7.k(c.E.L, this.al3, this);
      this.j.appendChild(this.z7.j);
      this.kf = new hk([15, 5, 2],0,100," %");
      this.kf.k(c.E.L, this.abD, this);
      this.j.appendChild(this.kf.j)
  }
  ;
  a7.TA.prototype = new a7.WA;
  a7.TA.prototype.B = function() {
      this.bO.B();
      this.z7.B();
      this.kf.B()
  }
  ;
  a7.TA.prototype.vV = function() {
      return this.AC.useScatter.v
  }
  ;
  a7.TA.prototype.GR = function(E) {
      this.AC.useScatter.v = E;
      eQ.rn.at(this.AC);
      this.FH()
  }
  ;
  a7.TA.prototype.ry = function() {
      var E = this.AC;
      if (E.useScatter.v == !1)
          return;
      this.bO.T(E.scatterDynamics.v.jitter.v.val);
      this.z7.T(E.Cnt.v);
      this.kf.T(E.countDynamics.v.jitter.v.val)
  }
  ;
  a7.TA.prototype.akp = function(E) {
      this.AC.scatterDynamics.v.jitter.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.TA.prototype.al3 = function(E) {
      this.AC.Cnt.v = E.target.u();
      this.FH()
  }
  ;
  a7.TA.prototype.abD = function(E) {
      this.AC.countDynamics.v.jitter.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.jf = function() {
      a7.WA.call(this, [15, 3]);
      this.Ux = new hk([15, 6, 0],0,100," %");
      this.Ux.k(c.E.L, this.aaX, this);
      this.j.appendChild(this.Ux.j);
      this.h5 = new hk([15, 6, 1],0,100," %");
      this.h5.k(c.E.L, this.abv, this);
      this.j.appendChild(this.h5.j);
      this.R7 = new hk([15, 6, 2],0,100," %");
      this.R7.k(c.E.L, this.aff, this);
      this.j.appendChild(this.R7.j);
      this.YW = new hk([15, 6, 3],0,100," %");
      this.YW.k(c.E.L, this.ah6, this);
      this.j.appendChild(this.YW.j)
  }
  ;
  a7.jf.prototype = new a7.WA;
  a7.jf.prototype.B = function() {
      this.Ux.B();
      this.h5.B();
      this.R7.B();
      this.YW.B()
  }
  ;
  a7.jf.prototype.vV = function() {
      return this.AC.useColorDynamics.v
  }
  ;
  a7.jf.prototype.GR = function(E) {
      this.AC.useColorDynamics.v = E;
      eQ.rn.at(this.AC);
      this.FH()
  }
  ;
  a7.jf.prototype.ry = function() {
      var E = this.AC;
      if (E.useColorDynamics.v == !1)
          return;
      this.Ux.T(E.clVr.v.jitter.v.val);
      this.h5.T(E.H.v.val);
      this.R7.T(E.Strt.v.val);
      this.YW.T(E.Brgh.v.val)
  }
  ;
  a7.jf.prototype.aaX = function(E) {
      this.AC.clVr.v.jitter.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.jf.prototype.abv = function(E) {
      this.AC.H.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.jf.prototype.aff = function(E) {
      this.AC.Strt.v.val = E.target.u();
      this.FH()
  }
  ;
  a7.jf.prototype.ah6 = function(E) {
      this.AC.Brgh.v.val = E.target.u();
      this.FH()
  }
  ;
  function bB() {
      iL.call(this, [9, 0], !1, null, iL.Yb.CC);
      this.KH.setAttribute("style", "min-width:200px;");
      this.XY = c.w("div", "hpbody scrollable");
      this.XY.style.height = "160px";
      this.KH.appendChild(this.XY);
      this.a2x = -1;
      this.DZ = [];
      this.ne = ""
  }
  bB.prototype = new iL("");
  bB.prototype.MN = function(E) {
      if (E == null) {
          c.kL(this.XY);
          this.ne = "";
          return
      }
      c.kL(this.XY);
      var K = 0;
      for (var G = 0; G < E.history.length; G++)
          if (G <= E.tv && !E.history[G].eZ)
              K = G;
      for (var G = 0; G < E.history.length; G++) {
          var i = E.history[G];
          if (i.eZ)
              continue;
          var C = new eR(i,G,K);
          C.parent = this;
          this.XY.appendChild(C.j);
          this.DZ.push(C)
      }
      if (E.tv == E.history.length - 1)
          this.su()
  }
  ;
  bB.prototype.su = function() {
      this.XY.scrollTop = this.XY.scrollHeight
  }
  ;
  bB.prototype.B = function() {
      iL.prototype.B.call(this);
      for (var G = 0; G < this.DZ.length; G++)
          this.DZ[G].B()
  }
  ;
  function eR(E, G, K) {
      aB.call(this);
      this.index = G;
      this.j = c.w("div", G == K ? "listitem selected" : "listitem");
      this.v7 = E.name;
      this.B();
      if (G > K)
          this.j.style.opacity = .4;
      this.j.addEventListener("click", this.om.bind(this), !1)
  }
  eR.prototype = new aB;
  eR.prototype.B = function() {
      this.j.textContent = i2.get(this.v7)
  }
  ;
  eR.prototype.om = function(E) {
      if (this.index == this.parent.a2x)
          return;
      this.bQ({
          e: "h_itemchange",
          index: this.index
      })
  }
  ;
  eR.prototype.bQ = function(E) {
      var K = new q(c.E.A,!0);
      K.data = E;
      K.F = u.CC;
      this.U(K)
  }
  ;
  function d7() {
      iL.call(this, [9, 10], !1, null, iL.Yb.al7);
      var E = c.w("div", "padded");
      this.KH.appendChild(E);
      this.Oo = new fg(256,!0);
      E.appendChild(this.Oo.j);
      this.eu = null
  }
  d7.prototype = new iL("");
  d7.prototype.MN = function(E) {
      this.eu = E;
      this.Vp()
  }
  ;
  d7.prototype.Vp = function() {
      var E = this.eu;
      if (!c.ws(this.KH))
          return;
      if (E == null || E.C.length == 0) {
          this.Oo.T(_.x7(_.I(4)));
          return
      }
      var K = E.A7()
        , i = new h4(0,0,E.d,E.v)
        , C = i.X();
      if (E.N) {
          var N = E.N.rect
            , k = _.I(N.X() * 4);
          _.p8(K, i, k, N);
          _.hb(E.N.channel, k);
          K = k;
          i = N;
          var V = E.N.channel;
          C = 0;
          for (var G = 0; G < V.length; G++)
              C += V[G];
          C = Math.round(C / 255)
      }
      var j = _.x7(K);
      j[0][255] += 3 * (C - j[5]);
      for (var G = 1; G < 4; G++)
          j[G][255] += C - j[5];
      this.Oo.T(j, C)
  }
  ;
  d7.prototype.bX = function(E, K) {
      this.Oo.Pi(cr.zI[E.fn]["--text-color"])
  }
  ;
  d7.prototype.B = function() {
      iL.prototype.B.call(this);
      this.Oo.B()
  }
  ;
  d7.prototype.su = function() {
      this.Vp()
  }
  ;
  function ec() {
      iL.call(this, [9, 8], !1, null, iL.Yb.a4J);
      this.ta = c.w("div", "padded");
      this.KH.appendChild(this.ta);
      this.sj = new ft(10);
      this.ta.appendChild(this.sj.j);
      this.ta.appendChild(c.w("hr"));
      this.H3 = new ed;
      this.H3.parent = this;
      this.ta.appendChild(this.H3.PV);
      this.sj.k(c.E.L, this.A8, this);
      this.H3.k(c.E.L, this.A8, this)
  }
  ec.prototype = new iL("");
  ec.prototype.A8 = function(E) {
      var K;
      if (E.target == this.sj)
          K = this.sj.u();
      else {
          var i = this.H3.u();
          K = Math.round(i.h) << 16 | Math.round(i.l) << 8 | Math.round(i.O)
      }
      var C = new q(c.E.P,!0);
      C.data = {
          e: c.f.H7,
          KG: dp.VL,
          Qh: 0,
          G: K
      };
      this.U(C)
  }
  ;
  ec.prototype.bX = function(E, K) {
      var i = E.sm
        , C = K == dp.iW;
      if (K == dp.VL || C) {
          this.sj.T(i);
          this.H3.T({
              h: i >>> 16 & 255,
              l: i >>> 8 & 255,
              O: i >>> 0 & 255,
              Qp: "Color #" + _.rS(i)
          })
      }
      if (K == dp.Q9 || C) {
          var N = E.ad7;
          this.H3.$S(N)
      }
  }
  ;
  function h1() {
      iL.call(this, [12, 72], !1, null, iL.Yb.ada);
      this.Md = null;
      this.Fd = null;
      this.XY = c.w("div", "lpbody scrollable");
      this.I1 = c.w("div", "lpfoot");
      this.KH.appendChild(this.XY);
      this.KH.appendChild(this.I1);
      this._B = [];
      this.k("click", this.C0, this);
      this.YH = [];
      h1.Gi([[17, 2], "Save Selection as Channel", [5, 3], [5, 4]], this.YH, this.I1, this.tg.bind(this), this.Lx.bind(this));
      this._L = new bi([{
          name: "Merge Channels",
          mv: !0
      }]);
      this._L.k("select", this.ZF, this)
  }
  h1.prototype = new iL("");
  h1.prototype.ZF = function(E) {
      if (this.Fd == null)
          return;
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.eQ,
          KN: "mergechannels"
      };
      this.U(K)
  }
  ;
  h1.prototype.Dt = function() {
      return this._L
  }
  ;
  h1.Gi = function(E, K, i, C, N) {
      for (var G = 0; G < E.length; G++) {
          var k = new hO("W",!1,E[G]);
          K.push(k);
          c.vo(k.j, C);
          i.appendChild(k.j);
          var V = k.j;
          V.addEventListener("drop", N, !1);
          V.addEventListener("dragover", function(j) {
              j.preventDefault()
          }, !1);
          V.addEventListener("dragenter", c.zx, !1)
      }
  }
  ;
  h1.o8 = function(E, K) {
      for (var G = 0; G < E.length; G++)
          if (E[G].j == K.currentTarget)
              return G
  }
  ;
  h1.prototype.tg = function(E) {
      var K = h1.o8(this.YH, E);
      if (K == 0)
          this.U(cS.tt(!0, null, E));
      else {
          K--;
          var i = new q(c.E.J5,!0)
            , C = {
              classID: "null"
          };
          if (K == 0)
              C.null = {
                  t: "obj ",
                  v: [{
                      t: "prop",
                      v: {
                          classID: "Chnl",
                          keyID: "fsel"
                      }
                  }]
              };
          else if (K == 1)
              C.Nw = {
                  t: "Objc",
                  v: {
                      classID: "Chnl",
                      ClrI: {
                          t: "enum",
                          v: {
                              MskI: "SlcA"
                          }
                      },
                      Opct: {
                          t: "long",
                          v: 50
                      }
                  }
              };
          else
              C.null = bY.Ve("Chnl", !0);
          i.data = {
              bT: ["duplicate", "make", "delete"][K],
              v4: C
          };
          this.U(i)
      }
  }
  ;
  h1.prototype.Lx = function(E) {
      var K = h1.o8(this.YH, E);
      if (K == 2) {
          var i = new q(c.E.J5,!0)
            , C = {
              classID: "null"
          };
          C.null = bY.Ve("Chnl", !0);
          i.data = {
              bT: "duplicate",
              v4: C
          };
          this.U(i)
      } else
          this.tg(E)
  }
  ;
  h1.prototype.hg = function(G) {
      var E = this._B
        , K = E[G];
      if (K == null) {
          var i = c.w("canvas");
          K = i.getContext("2d");
          E.push(K)
      }
      return K
  }
  ;
  h1.prototype.C0 = function(E) {
      var K = this.Md.slice(0)
        , i = E.data.EL
        , C = K[0] + K[1] + K[2]
        , N = this.Fd;
      if (-5 < i && i < 0) {
          var k = -i - 1;
          if (E.data.pz) {
              if (k == 0)
                  K = C == 3 ? [0, 0, 0] : [1, 1, 1];
              else {
                  if (K[k - 1] == 0)
                      K[k - 1] = 1;
                  else if (!0)
                      K[k - 1] = 0
              }
          } else {
              if (k == 0)
                  K = [1, 1, 1];
              else {
                  K = [0, 0, 0];
                  K[k - 1] = 1
              }
              N.QZ = []
          }
          var V = new q(c.E.A,!0);
          V.F = u.cQ;
          V.data = {
              e: "setcls",
              zj: K
          };
          this.U(V);
          return
      }
      if (-1 < i) {
          var j = N.t[i]
            , a = j.dz == 1 ? j.$Y() : j.uy(N).r;
          if (E.data.pz)
              a.a5 = !a.a5;
          else {
              for (var G = 0; G < N.h_.length; G++)
                  N.h_[G].a5 = !1;
              N.QZ = []
          }
      } else {
          var e = -i - 5
            , a = N.h_[e];
          if (E.data.pz)
              a.a5 = !a.a5;
          else {
              for (var G = 0; G < N.h_.length; G++)
                  N.h_[G].a5 = !1;
              a.a5 = !0;
              N.QZ = [e]
          }
      }
      N.nK = N.aO = !0
  }
  ;
  h1.prototype.su = function() {
      this.jp()
  }
  ;
  h1.prototype.MN = function(E) {
      this.Fd = E;
      this.jp()
  }
  ;
  h1.prototype.jp = function() {
      var E = this.Fd
        , K = this.XY
        , j = 34
        , a = 34
        , h = 4;
      c.kL(K);
      if (E == null || !c.ws(K))
          return;
      var i = E.d
        , C = E.v
        , N = new h4(0,0,i,C)
        , k = this.Md = E.a.zj.slice(0)
        , V = k[0] + k[1] + k[2];
      if (i > C)
          a = Math.round(a * C / i);
      else
          j = Math.round(j * i / C);
      var e = ["RGB"].concat(gM.Hh);
      for (var G = 0; G < 4; G++) {
          var L = this.hg(G);
          _.ia.u_(L, j, a, N, E.A7(), N, !1, G == 0 ? null : G - 1);
          var g = G == 0 ? V == 3 : k[G - 1] == 1
            , I = new cS(-1 - G,!0,!0,L,e[G],g,g);
          I.parent = this;
          K.appendChild(I.j)
      }
      for (var G = 0; G < E.C.length; G++) {
          var o = E.t[E.C[G]]
            , H = o.dz;
          if (H != 1 && H != 3)
              continue;
          var A = H == 1 ? o.$Y() : o.uy(E).r
            , L = this.hg(h + G);
          h++;
          _.ia.Bx(L, j, a, N, A);
          var I = new cS(E.C[G],!0,!0,L,o.getName() + (H == 1 ? "" : " Filter") + " Mask",!0,A.a5);
          I.parent = this;
          K.appendChild(I.j)
      }
      for (var G = 0; G < E.h_.length; G++) {
          var A = E.h_[G]
            , L = this.hg(h + G);
          _.ia.Bx(L, j, a, N, A);
          var I = new cS(-5 - G,!0,A.name == "Quick Mask",L,A.name,E.QZ.indexOf(G) != -1,A.a5,u.Iy,{
              e: U.vn,
              Qh: "rnm",
              EL: G
          });
          I.parent = this;
          K.appendChild(I.j)
      }
  }
  ;
  h1.prototype.FY = function(E, K) {
      this.XY.style.height = K - 9 - 25 + "px"
  }
  ;
  h1.prototype.B = function() {
      iL.prototype.B.call(this);
      this.jp();
      h1.Ag(this.YH, ["lrs/makesel", "lrs/mask", "lrs/newlayer", "lrs/bin"])
  }
  ;
  h1.Ag = function(E, K) {
      for (var G = 0; G < E.length; G++) {
          var i = E[G];
          i.KZ(c.GJ(K[G]))
      }
  }
  ;
  function cS(E, K, i, C, N, k, V, j, a) {
      aB.call(this);
      this.j = c.w("div", "layeritem");
      this.acv = E;
      this.ae2 = K;
      this.se = C;
      this.ahA = j;
      this.a9s = a;
      this.Xs = c.w("div", k ? "head selected" : "head");
      this.Xs.setAttribute("style", "height: " + 40 + "px");
      var e = c.w("div", "headL")
        , L = c.w("div", "headR")
        , g = 15;
      this.j.appendChild(this.Xs);
      this.Xs.appendChild(e);
      this.Xs.appendChild(L);
      this.Fi = c.w("div", "eye");
      if (1 < c.M() && c.M() < 1.5)
          g = g / c.M();
      this.Fi.setAttribute("style", "background-size: " + g + "px " + g + "px;");
      this.Fi.style.opacity = V ? 1 : .2;
      if (K)
          e.appendChild(this.Fi);
      this.gm = c.w("div", "thumb");
      if (C)
          this.gm.appendChild(C.canvas);
      e.appendChild(this.gm);
      this.dp = c.w("div", "label");
      if (i)
          this.dp.style.fontStyle = "italic";
      this.dp.textContent = i2.get(N);
      e.appendChild(this.dp);
      var I = this.Xs;
      I.setAttribute("draggable", "true");
      this.Xs.addEventListener("mousedown", this.aaJ.bind(this), !1);
      if (!i)
          this.Xs.addEventListener("mouseup", this.a0t.bind(this), !1)
  }
  cS.prototype = new aB;
  cS.prototype.i2 = function(E) {
      var K = new q(c.E.A,!0);
      K.F = this.ahA;
      K.data = this.a9s;
      K.data.name = E;
      this.U(K)
  }
  ;
  cS.prototype.aaJ = function(E) {
      var K = E.ctrlKey || E.metaKey
        , i = this.acv;
      if (K && E.target == this.se.canvas) {
          this.U(cS.tt(this.ae2, i, E))
      } else {
          var C = new q("click",!0);
          C.data = {
              EL: i,
              pz: E.target == this.Fi,
              zq: K
          };
          this.U(C)
      }
  }
  ;
  cS.prototype.a0t = function(E) {
      if (E.detail == 2 && E.target == this.dp) {
          var K = new iL.$Z(this.dp,this.i2.bind(this))
      }
  }
  ;
  cS.tt = function(E, K, i) {
      var C = 0;
      if (i.shiftKey)
          C++;
      if (i.altKey)
          C += 2;
      var N = new q(c.E.A,!0);
      N.F = u.Z2;
      if (E) {
          if (-5 < K && K < 0) {
              N = new q(c.E.J5,!0);
              N.data = u.u$.vX(C, ["RGB", "Rd", "Grn", "Bl"][-1 - K])
          } else
              N.data = {
                  e: "fromchannel",
                  eT: [K, 0, C]
              }
      } else
          N.data = {
              e: "frompath",
              eT: [K, 0, C]
          };
      return N
  }
  ;
  function br() {
      iL.call(this, [8, 9], !1, null, iL.Yb._w);
      this.Md = null;
      this.Fd = null;
      this.XY = c.w("div", "lpbody scrollable");
      this.I1 = c.w("div", "lpfoot");
      this.KH.appendChild(this.XY);
      this.KH.appendChild(this.I1);
      this.KH.addEventListener("click", this.amf.bind(this), !1);
      this._B = [];
      this.k("click", this.C0, this);
      this.YH = [];
      h1.Gi([[17, 2], "Selection to Path", [5, 3], [5, 4]], this.YH, this.I1, this.tg.bind(this), this.Lx.bind(this))
  }
  br.prototype = new iL("");
  br.prototype.tg = function(E) {
      var K = h1.o8(this.YH, E), i;
      if (K == 0)
          i = cS.tt(!1, null, E);
      else if (K == 1) {
          i = new q(c.E.J5,!0);
          i.data = {
              bT: "make",
              v4: {
                  classID: "null",
                  null: {
                      t: "obj ",
                      v: [{
                          t: "Clss",
                          v: {
                              classID: "Path"
                          }
                      }]
                  },
                  From: {
                      t: "obj ",
                      v: [{
                          t: "prop",
                          v: {
                              classID: "csel",
                              keyID: "fsel"
                          }
                      }]
                  },
                  Tlrn: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: 2
                      }
                  }
              }
          }
      } else {
          var i = new q(c.E.A,!0);
          i.F = u.mu;
          i.data = {
              e: "pathedit",
              Qh: ["new", "del"][K - 2]
          }
      }
      this.U(i)
  }
  ;
  br.prototype.Lx = function(E) {
      this.tg(E)
  }
  ;
  br.prototype.hg = function(G) {
      var E = this._B
        , K = E[G];
      if (K == null) {
          var i = c.w("canvas");
          K = i.getContext("2d");
          E.push(K)
      }
      return K
  }
  ;
  br.prototype.amf = function(E) {
      if (E.target == this.XY) {
          var K = this.Fd;
          K.du = [];
          K.Rn = [];
          K.aO = !0;
          K.nK = !0
      }
  }
  ;
  br.prototype.C0 = function(E) {
      var K = E.data.EL, i = this.Fd, C = E.data.zq, N = 0, k, V;
      if (K < 0) {
          N = -1 - K;
          k = i.du;
          V = i.Rn
      } else {
          var j = i.LM()[0];
          for (var G = 0; G < j.length; G++) {
              var a = j[G].EL;
              if (a == K)
                  break;
              if (a >= 0)
                  N++
          }
          k = i.Rn;
          V = i.du
      }
      if (C) {
          var e = k.indexOf(N);
          if (e == -1)
              k.push(N);
          else
              k.splice(e, 1)
      } else {
          while (k.length != 0)
              k.pop();
          while (V.length != 0)
              V.pop();
          k.push(N)
      }
      i.aO = !0;
      i.nK = !0
  }
  ;
  br.prototype.su = function() {
      this.jp()
  }
  ;
  br.prototype.MN = function(E) {
      this.Fd = E;
      this.jp()
  }
  ;
  br.prototype.jp = function() {
      var E = this.Fd
        , K = this.XY
        , j = 34
        , a = 34;
      c.kL(K);
      if (E == null || !c.ws(K))
          return;
      var i = E.d
        , C = E.v
        , N = new h4(0,0,i,C)
        , k = this.Md = E.a.zj.slice(0)
        , V = k[0] + k[1] + k[2];
      if (i > C)
          a = Math.round(a * C / i);
      else
          j = Math.round(j * i / C);
      var e = E.LM()
        , L = e[0];
      for (var G = 0; G < L.length; G++) {
          var g = L[G]
            , I = this.hg(G);
          _.ia.ah3(I, j, a, N, g.add.vmsk);
          var h = new cS(g.EL,!1,g.EL >= 0,I,g.name,e[1].indexOf(G) != -1,!1,u.mu,{
              e: "pathedit",
              Qh: "rnm",
              EL: g.EL
          });
          h.parent = this;
          K.appendChild(h.j)
      }
  }
  ;
  br.prototype.FY = function(E, K) {
      this.XY.style.height = K - 9 - 25 + "px"
  }
  ;
  br.prototype.B = function() {
      iL.prototype.B.call(this);
      this.jp();
      h1.Ag(this.YH, ["lrs/makesel", "lrs/makepath", "lrs/newlayer", "lrs/bin"])
  }
  ;
  function ab(E) {
      iL.call(this, [9, E ? 4 : 5], !1, null, E ? iL.Yb.a2w : iL.Yb.a0X);
      this.KH.setAttribute("style", "min-width:240px;");
      this.aeN = E;
      this.Hj = null;
      this.Mi = null
  }
  ab.prototype = new iL("");
  ab.prototype.AW = function() {
      this.Hj = new hp;
      var E = this.Hj
        , K = this.KH;
      E.parent = this;
      if (this.aeN) {
          var i = c.w("div", "marged");
          K.appendChild(i);
          i.appendChild(E.jj.j);
          K.appendChild(c.w("hr"));
          var C = c.w("div", "marged");
          K.appendChild(C);
          C.appendChild(E.kn.j);
          C.appendChild(E.RR.j);
          var N = c.w("div", "marged");
          K.appendChild(N);
          N.appendChild(E.kd.j);
          N.appendChild(E.Nn.j);
          K.appendChild(c.w("hr"));
          var k = c.w("div", "marged");
          K.appendChild(k);
          k.appendChild(E.yB.j);
          k.appendChild(E.pm.j);
          var V = c.w("div", "marged");
          K.appendChild(V);
          V.appendChild(E.TE.j);
          V.appendChild(E.ep.j);
          K.appendChild(c.w("hr"));
          var j = c.w("div", "marged");
          K.appendChild(j);
          j.appendChild(E.G5.j);
          j.appendChild(E.ud.j);
          j.appendChild(E.Cr.j);
          j.appendChild(E.$q.j);
          j.appendChild(E.mf.j);
          j.appendChild(E.Ri.j);
          j.appendChild(E.Yf.j);
          j.appendChild(E._E.j)
      } else {
          var i = c.w("div", "marged");
          K.appendChild(i);
          i.appendChild(E.Ug.j);
          i.appendChild(E.MY.j);
          i.appendChild(E.lr.j);
          i.appendChild(E.acX.j);
          i.appendChild(E.anu.j);
          i.appendChild(E.a6p.j);
          i.appendChild(E.anS.j);
          K.appendChild(c.w("hr"));
          var C = c.w("div", "marged");
          K.appendChild(C);
          C.appendChild(E.ZI.j);
          C.appendChild(E.Qt.j);
          C.appendChild(E.Pe.j);
          K.appendChild(c.w("hr"));
          var N = c.w("div", "marged");
          K.appendChild(N);
          N.appendChild(E.Px.j);
          N.appendChild(E.I2.j);
          N.appendChild(E.be.j)
      }
  }
  ;
  ab.prototype.su = function() {
      if (!c.ws(this.KH))
          return;
      if (this.Hj == null) {
          this.AW();
          var E = this.Mi;
          if (E)
              this.Hj.T(E.Ox, E.g5, E.Jd);
          this.Hj.B()
      }
  }
  ;
  ab.prototype.B = function() {
      iL.prototype.B.call(this);
      if (this.Hj)
          this.Hj.B()
  }
  ;
  ab.prototype.bX = function(E, K) {
      this.Mi = E;
      if (K != dp.iW && K != dp.nF && K != dp.ht && K != dp.o7)
          return;
      if (this.Hj)
          this.Hj.T(E.Ox, E.g5, E.Jd)
  }
  ;
  function hr() {
      iL.call(this, [9, 13], !1, null, iL.Yb.aih);
      this.Mi = null;
      this.abG = null;
      this.afw = null;
      this.rm = null;
      this.alC = null;
      this.z8 = Math.round(290 * c.M());
      this.y6 = 8;
      this.adE = 4;
      this.E_ = new gc(null,["Hi", "Hello"]);
      this.E_.k(c.E.L, this.ON, this);
      var E = this.RN = new hO("-",null,null,!0);
      E.k("click", this.C_, this);
      var K = this.afI = new hO("+",null,null,!0);
      K.k("click", this.C_, this);
      this.fL = new aV(!1);
      this.fL.k(c.E.L, this.MW, this);
      this.fL.j.style.height = 20 + "em";
      var i = c.w("div", "padded");
      i.setAttribute("style", "width:" + (this.z8 + 10) / c.M() + "px;");
      this.KH.appendChild(i);
      var top = c.w("div");
      top.setAttribute("style", "margin-bottom:0.5em");
      i.appendChild(top);
      top.appendChild(this.E_.j);
      top.appendChild(E.j);
      top.appendChild(K.j);
      i.appendChild(this.fL.j)
  }
  hr.prototype = new iL("");
  hr.prototype.MW = function(E) {
      var K = this.fL.u() * this.y6 * this.adE
        , i = Math.floor(this.z8 / this.y6) / c.M()
        , C = this.fL.anv();
      K += Math.floor(C.y / i) * this.y6;
      K += Math.floor(C.x / i);
      var N = this.rm[this.E_.u()];
      if (K >= N.length)
          return;
      var k = N[K]
        , V = this.alC[k];
      if (V.tY.length == 0) {
          alert("No known character for this glyph");
          return
      }
      var j = String.fromCodePoint(V.tY[0])
        , a = new q(c.E.A,!0);
      a.F = u.EM;
      a.data = {
          e: "insertText",
          G: j
      };
      this.U(a)
  }
  ;
  hr.prototype.C_ = function(E) {
      this.y6 += E.target == this.RN ? 1 : -1;
      this.y6 = Math.max(1, Math.min(20, this.y6));
      this.ON()
  }
  ;
  hr.prototype.su = function() {
      this.bX(this.Mi)
  }
  ;
  hr.prototype.bX = function(E, K) {
      this.Mi = E;
      if (!c.ws(this.KH))
          return;
      var i = E.Ox
        , C = i.dP.Font
        , a = 0;
      if (C == null)
          return;
      var N = i.gx[C].Name;
      if (this.abG == N)
          return;
      var C = E.g5.eK(N);
      if (C == null)
          return;
      var k = C.maxp.numGlyphs
        , V = this.alC = new Array(k);
      for (var G = 0; G < k; G++)
          V[G] = {
              tY: []
          };
      var j = Date.now()
        , e = new Uint8Array(1048575);
      for (var G = 0; G < 1048575; G++) {
          var L = Typr.U.codeToGlyph(C, G);
          if (L != 0 && L < k) {
              e[G] = 1;
              if (V[L].tY.length == 0)
                  a++;
              V[L].tY.push(G)
          }
      }
      var g = hr.Wq
        , I = [];
      for (var G = 0; G < g.length; G++)
          I.push([]);
      for (var L = 1; L < k; L++) {
          I[0].push(L);
          var h = V[L].tY[0];
          if (h == null) {
              continue
          }
          for (var o = 1; o < g.length; o++) {
              var H = g[o].Js;
              for (var G = 0; G < H.length; G += 2)
                  if (H[G] <= h && h <= H[G + 1]) {
                      I[o].push(L);
                      break
                  }
          }
      }
      this.rm = I;
      var A = [];
      for (var G = 0; G < g.length; G++)
          A.push(g[G].zE + " (" + I[G].length + ")");
      var S = this.E_.u();
      this.E_.X2(A);
      this.E_.T(S);
      this.abG = N;
      this.afw = C;
      this.ON()
  }
  ;
  hr.prototype.ON = function(E) {
      var K = this.rm[this.E_.u()]
        , i = K.length
        , C = this.afw
        , N = Typr.U
        , k = Math.floor(this.z8 / this.y6)
        , V = k
        , j = V * .8
        , a = V * .8 / C.head.unitsPerEm
        , e = []
        , L = c.w("canvas")
        , g = L.getContext("2d")
        , I = this.y6
        , h = Math.ceil(i / I)
        , o = this.adE;
      L.width = k * I;
      L.height = V * o;
      g.strokeStyle = "rgba(0,0,0,0.3)";
      var H = Date.now();
      for (var A = 0; A < h; A += o) {
          g.fillStyle = "white";
          g.fillRect(0, 0, I * k, V * o);
          for (var S = 0; S < o; S++) {
              for (var v = 0; v < I; v++) {
                  var G = K[(A + S) * I + v];
                  if (G == null)
                      break;
                  var s = N.glyphToPath(C, G)
                    , D = _.$.Rk(s.crds);
                  if (!D.OL()) {
                      g.fillStyle = "#252525";
                      g.beginPath();
                      var F = v * k + (k - D.d * a) * .5 - D.x * a
                        , y = S * V + j;
                      g.translate(F, y);
                      g.scale(a, -a);
                      N.pathToContext(s, g);
                      g.scale(1 / a, -1 / a);
                      g.translate(-F, -y);
                      g.fill()
                  }
              }
          }
          g.beginPath();
          for (var v = 0; v < I; v++) {
              var T = v * k + k + .5;
              g.moveTo(T, 0);
              g.lineTo(T, V * o)
          }
          for (var S = 0; S < o; S++) {
              var Q = S * V + V + .5;
              g.moveTo(0, Q);
              g.lineTo(I * k, Q)
          }
          g.stroke();
          e.push(L.toDataURL("image/png"))
      }
      this.fL.Oi(e, null, k * I, V * o)
  }
  ;
  hr.Wq = [{
      zE: "All Glyphs"
  }, {
      zE: "Basic Latin, Latin 1",
      Js: [0, 127, 128, 143]
  }, {
      zE: "Latin Extended-A",
      Js: [256, 383]
  }, {
      zE: "Latin Extended-B",
      Js: [384, 591]
  }, {
      zE: "Punctuations",
      Js: [33, 35, 37, 39, 42, 42, 44, 44, 46, 47, 58, 59, 63, 63, 64, 64, 92, 92, 161, 161, 167, 167, 182, 183, 191, 191, 894, 894, 903, 903, 1370, 1375, 1417, 1417, 8192, 8303, 11776, 11903]
  }, {
      zE: "Greek",
      Js: [880, 1023]
  }, {
      zE: "Cyrillic",
      Js: [1024, 1279]
  }, {
      zE: "Hebrew",
      Js: [1424, 1535]
  }, {
      zE: "Arabic",
      Js: [1536, 1791]
  }, {
      zE: "Emoji",
      Js: [9728, 10095, 127744, 129535]
  }];
  function eq() {
      iL.call(this, [13, 0], !1, null, iL.Yb.VL);
      this.gq = 0;
      this.af9 = 0;
      this.Mi = null;
      var E = c.w("div", "flexrow padded");
      this.KH.appendChild(E);
      var K = c.w("div");
      E.appendChild(K);
      this.Jh = [];
      for (var G = 0; G < 2; G++) {
          var i = new ha;
          this.Jh.push(i);
          i.k("click", this.anK, this);
          K.appendChild(i.j)
      }
      this.Qk = new f_(192);
      this.Qk.k(c.E.L, this.cp, this);
      E.appendChild(this.Qk.j)
  }
  eq.prototype = new iL("");
  eq.prototype.anK = function(E) {
      this.gq = this.Jh.indexOf(E.currentTarget);
      this.Vp()
  }
  ;
  eq.prototype.cp = function(E) {
      var K = this.Qk.u();
      this.Qk.T(K);
      var i = Math.round(K.h * 255) << 16 | Math.round(K.l * 255) << 8 | Math.round(K.O * 255)
        , C = new q(c.E.P,!0);
      C.data = {
          e: c.f.H7,
          KG: dp.VL,
          Qh: this.gq,
          G: i
      };
      this.U(C);
      this.af9 = Date.now()
  }
  ;
  eq.prototype.Vp = function() {
      var E = this.Mi
        , K = this.gq
        , i = [E.sm, E.JT];
      for (var G = 0; G < 2; G++) {
          var C = this.Jh[G]
            , N = C.j.style;
          C.Pi(i[G]);
          if (G == K)
              delete N.borderColor;
          else
              N.borderColor = "var(--bg-color)"
      }
      var k = i[K];
      if (Date.now() - this.af9 > 100)
          this.Qk.T({
              h: (k >>> 16) / 255,
              l: (k >>> 8 & 255) / 255,
              O: (k & 255) / 255
          })
  }
  ;
  eq.prototype.bX = function(E, K) {
      this.Mi = E;
      if (K == dp.iW || K == dp.VL)
          this.Vp()
  }
  ;
  eq.prototype.su = function() {
      this.Vp()
  }
  ;
  function hy() {
      iL.call(this, "CSS", !1, null, iL.Yb.CSS);
      this.eu = null;
      var E = c.w("div", "padded");
      this.KH.appendChild(E);
      this._x = c.w("textarea");
      this._x.setAttribute("rows", 16);
      this._x.setAttribute("style", "display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
      E.appendChild(this._x)
  }
  hy.prototype = new iL("");
  hy.prototype.MN = function(E) {
      this.eu = E;
      this.Vp()
  }
  ;
  hy.prototype.bX = function(E, K) {
      if (K == dp.ht)
          this.Vp()
  }
  ;
  hy.prototype.Vp = function() {
      var E = this.eu;
      if (E == null || E.C.length == 0)
          return;
      if (!c.ws(this.KH))
          return;
      var K = E.t[E.C[0]]
        , i = CSS.adC(K, E);
      if (i.length != 0)
          this._x.value = i.join(";\n") + ";";
      else
          this._x.value = ""
  }
  ;
  hy.prototype.su = function() {
      this.Vp()
  }
  ;
  function iD() {
      iL.call(this, [9, 6], !1, null, iL.Yb.a2L);
      this.KH.setAttribute("style", "min-width:240px;");
      this.eu = null;
      this.Mi = null;
      var E = c.w("div", "marged row");
      this.KH.appendChild(E);
      var K = c.w("div", "cell");
      K.setAttribute("style", "width:10em");
      E.appendChild(K);
      var i = c.w("div", "cell");
      i.setAttribute("style", "width:10em");
      E.appendChild(i);
      this.a29 = [];
      for (var G = 0; G < 4; G++) {
          var C = new di("");
          this.a29.push(C);
          K.appendChild(C.j);
          c.eg(K)
      }
      this.KH.appendChild(c.w("hr", ""));
      var N = c.w("div", "marged row");
      this.KH.appendChild(N);
      var K = c.w("div", "cell");
      K.setAttribute("style", "width:10em");
      var i = c.w("div", "cell");
      i.setAttribute("style", "width:10em");
      N.appendChild(K);
      N.appendChild(i);
      this.ow = new di("");
      K.appendChild(this.ow.j);
      c.eg(K);
      this.nf = new di("");
      K.appendChild(this.nf.j);
      this.zi = new di("");
      i.appendChild(this.zi.j);
      c.eg(i);
      this.nt = new di("");
      i.appendChild(this.nt.j);
      this.ow.T("X: 100 px");
      this.nf.T("Y: 100 px");
      this.zi.T("W: 0");
      this.nt.T("H: 0")
  }
  iD.prototype = new iL("");
  iD.prototype.n9 = function(E, K, i, C, N) {
      if (!c.ws(this.KH) || E == null)
          return;
      var k = E.a.Eb(N.x, N.y)
        , V = new bT(Math.floor(k.x),Math.floor(k.y));
      if (!N.Oy) {
          var j = 0
            , a = 0
            , e = 0
            , L = 0
            , g = this.a29;
          if (!N.Oy && !E.akk() && new h4(0,0,E.d - 1,E.v - 1).c9(V)) {
              var I = E.A7()
                , G = E.d * V.y + V.x << 2;
              j = I[G + 0];
              a = I[G + 1];
              e = I[G + 2];
              L = I[G + 3]
          }
          g[0].T("R: " + j);
          g[1].T("G: " + a);
          g[2].T("B: " + e);
          g[3].T("A: " + L)
      }
      this.ow.T("X: " + _.lj.Fg(V.x, E.v9, i, E.d));
      this.nf.T("Y: " + _.lj.Fg(V.y, E.v9, i, E.v));
      this.pW()
  }
  ;
  iD.prototype.pW = function() {
      var E = this.eu
        , K = this.Mi
        , i = 0
        , C = 0;
      if (E && K) {
          if (E.a.bb) {
              i = E.a.bb.d;
              C = E.a.bb.v
          } else if (E.N) {
              i = E.N.rect.d;
              C = E.N.rect.v
          }
          i = _.lj.Fg(Math.abs(i), E.v9, K, E.d);
          C = _.lj.Fg(Math.abs(C), E.v9, K, E.v)
      }
      this.zi.T(i2.get([12, 41]).charAt(0) + ": " + i);
      this.nt.T(i2.get([12, 42]).charAt(0) + ": " + C)
  }
  ;
  iD.prototype.B = function() {
      iL.prototype.B.call(this);
      this.pW()
  }
  ;
  iD.prototype.MN = function(E, K, i) {
      this.eu = E;
      this.Mi = i;
      this.pW()
  }
  ;
  function gw() {
      iL.call(this, [9, 1], !1, null, iL.Yb.Iy);
      this.Bg = null;
      this.uY = null;
      this.sv = null;
      this.Xs = c.w("div", "lphead");
      this.XY = c.w("div", "lpbody scrollable");
      this.I1 = c.w("div", "lpfoot");
      this.Dv = new gc(null,gx.z2,!1,gx.Dx);
      this.Dv.k(c.E.L, this.akC, this);
      this.Xs.appendChild(this.Dv.j);
      this.eM = new gI([12, 0],0,100,"%",0);
      this.eM.k(c.E.L, this.aoz, this);
      this.eM.parent = this;
      this.Xs.appendChild(this.eM.j);
      this.R6 = new cP([6, 57, 2],["<img src=\"" + PIMG.trsp3 + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["tools/brush"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.pos + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["lrs/lock"] + "\" class=\"autoscale gsicon\" />"],!0,["Transparency", [12, 76, 2], [12, 40], [7, 0]]);
      this.R6.k(c.E.L, this.afN, this);
      this.Xs.appendChild(this.R6.j);
      this.fX = new gI([12, 26],0,100,"%",0);
      this.fX.k(c.E.L, this.akm, this);
      this.fX.parent = this;
      this.Xs.appendChild(this.fX.j);
      this.YH = [];
      this.Gi();
      this.KH.appendChild(this.Xs);
      this.KH.appendChild(this.XY);
      this.XY.addEventListener("dragover", function(i) {
          i.preventDefault()
      }, !1);
      this.XY.addEventListener("dragenter", c.zx, !1);
      this.XY.addEventListener("drop", this.aie.bind(this), !1);
      this.KH.appendChild(this.I1);
      this.KH.addEventListener("contextmenu", c.zx, !1);
      var E = eF.FK(!0)
        , K = eF.n0(!0);
      this.alV = new bi(E,K);
      var E = [{
          name: [14, 10]
      }, {
          name: [14, 11],
          bx: !0
      }, {
          name: [6, 0]
      }, {
          name: [11, 4]
      }, {
          name: [5, 4],
          bx: !0
      }, {
          name: [6, 7]
      }, {
          name: "New Smart Obj. via Copy",
          Q: function(i) {
              return {
                  Q: i.t[i.C[0]].add.SoLd != null
              }
          },
          bx: !0
      }, {
          name: [6, 8],
          Q: function(i) {
              var C = i.t[i.C[0]];
              if (C.add.TySh || C.add.SoLd || C.add.SoCo || C.add.GdFl || C.add.PtFl)
                  return {
                      Q: !0
                  };
              return {
                  Q: !1
              }
          }
      }, {
          name: [6, 34],
          Q: function(i) {
              var C = i.t[i.C[0]];
              return {
                  Q: C.add.lmfx != null && !C.Uf()
              }
          }
      }, {
          name: [6, 40],
          bx: !0,
          Q: function(i) {
              var C = i.t[i.C[0]];
              return {
                  Q: C.add.TySh != null
              }
          }
      }, {
          name: "",
          bx: !0,
          Q: function(i) {
              var C = i.t[i.C[0]]
                , N = C.add.TySh
                , k = N ? N.Ou : null;
              return {
                  Q: N != null && k.Curve == null,
                  WT: i2.get(N && cO.O1(k) == 0 ? [16, 3, 1] : [16, 3, 0])
              }
          }
      }, {
          name: [6, 6, 0],
          bx: !0,
          Q: function(i) {
              return {
                  Q: i.Lj(i.C[0]),
                  Sa: i.t[i.C[0]].iB
              }
          }
      }, {
          name: [11, 6],
          bx: !0,
          sub: [{
              name: [5, 1],
              Q: function(i) {
                  var C = i.t[i.C[0]];
                  return {
                      Q: C.add.lmfx != null
                  }
              }
          }, {
              name: [5, 2]
          }, {
              name: [2, 2],
              Q: function(i) {
                  var C = i.t[i.C[0]];
                  return {
                      Q: C.add.lmfx != null
                  }
              }
          }]
      }, {
          name: [6, 10],
          Q: function(i) {
              return {
                  Q: i.C.length == 1 && i.C[0] != 0 && !i.t[i.C[0]].Uf()
              }
          }
      }, {
          name: [6, 12, 0],
          Q: function(i) {
              return {
                  Q: i.C.length > 1 || i.t[i.C[0]].Uf()
              }
          }
      }, {
          name: [6, 12, 1],
          bx: !0
      }, {
          name: [13, 0],
          sub: function() {
              var i = [[13, 1, 0], [13, 1, 1], [13, 1, 2], [13, 1, 3], [13, 1, 4], [13, 1, 5], [13, 1, 6], [13, 1, 7]]
                , C = [];
              for (var G = 0; G < i.length; G++)
                  C.push({
                      name: i[G]
                  });
              return C
          }()
      }]
        , K = [{
          c: c.E.P,
          o: {
              e: c.f.eQ,
              KN: "layerstyle"
          }
      }, {
          c: c.E.A,
          F: u.Z2,
          o: {
              e: "fromlayer",
              eT: [null, 0, 0]
          }
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.CY
          }
      }, {
          c: c.E.P,
          o: {
              e: c.f.eQ,
              KN: "duplinto"
          }
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.FU
          }
      }, {
          c: c.E.J5,
          o: {
              bT: "newPlacedLayer"
          }
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.Ef
          }
      }, {
          c: c.E.J5,
          o: {
              bT: "rasterizeLayer",
              v4: {
                  classID: "rasterizeLayer",
                  null: bY.Ve("Lyr", !0)
              }
          }
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.m5
          }
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.TG
          }
      }, {
          c: c.E.A,
          F: u.EM,
          o: {
              e: "switchPntPrgr"
          }
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.SE
          }
      }, {
          sub: [{
              c: c.E.A,
              F: u.YB,
              o: {
                  e: "st_copy"
              }
          }, {
              c: c.E.A,
              F: u.YB,
              o: {
                  e: "st_paste"
              }
          }, {
              c: c.E.A,
              F: u.YB,
              o: {
                  e: "st_clear"
              }
          }]
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.VM
          }
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.ma
          }
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.zg
          }
      }, {
          sub: function() {
              var i = [];
              for (var G = 0; G < 8; G++)
                  i.push({
                      c: c.E.A,
                      F: u.Iy,
                      o: {
                          e: U.xN,
                          aoy: G
                      }
                  });
              return i
          }()
      }];
      this.z4 = new bi(E,K);
      var E = [{
          name: [6, 45],
          Q: function(i) {
              var C = i.t[i.C[0]];
              return {
                  Q: C.uy(i).r == null
              }
          }
      }, {
          name: [6, 47]
      }]
        , K = [{
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.Dw
          }
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.lw
          }
      }];
      this.a03 = new bi(E,K);
      var E = [{
          name: "enab/disab",
          Q: function(i) {
              return {
                  WT: i2.get(i.t[i.C[0]].$Y().isEnabled ? [6, 15] : [6, 14])
              }
          }
      }, {
          name: [6, 22]
      }, {
          name: [5, 8],
          Q: function(i) {
              return {
                  Q: i.Os(!1, !0)
              }
          }
      }]
        , K = [{
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.eq
          }
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.oU
          }
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.Go
          }
      }];
      this.a4g = new bi(E,K);
      var E = [{
          name: "enab/disab",
          Q: function(i) {
              return {
                  WT: i2.get(i.t[i.C[0]].uy(i).r.isEnabled ? [6, 42] : [6, 41])
              }
          }
      }, {
          name: [6, 46]
      }]
        , K = [{
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.np
          }
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.uS
          }
      }];
      this.amu = new bi(E,K);
      var E = [{
          name: "enab/disab",
          Q: function(i) {
              return {
                  WT: i2.get(i.t[i.C[0]].add.vmsk.isEnabled ? [6, 17] : [6, 16])
              }
          }
      }, {
          name: [6, 24]
      }]
        , K = [{
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.ZG
          }
      }, {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.zF
          }
      }];
      this.a8G = new bi(E,K);
      this.afB = new bi(eF.Jc(!0),eF.NL(!0));
      this.a8o = new bi(eF.FK(),eF.n0());
      this.k("rclick", this.agB, this)
  }
  gw.prototype = new iL("");
  gw.prototype.aie = function(E) {
      c.zx(E);
      var K = E.dataTransfer.getData("Text")
        , i = 1
        , C = 0;
      if (K == "") {
          c.PT(E, this, this.sv.indexOf(this.uY), C + (i > .5 ? 0 : 1))
      } else if (K != "--panel") {
          var K = JSON.parse(K)
            , N = K.wn;
          if (N == "l")
              this.bQ({
                  e: U.Bo,
                  source: K.na,
                  target: C,
                  $E: i
              })
      }
  }
  ;
  gw.prototype.HN = function() {
      return new bT(253,0)
  }
  ;
  gw.prototype.agB = function(E) {
      var K = this.uY, i = E.data, N;
      if (K.C.indexOf(i.z) == -1) {
          var C = {
              e: U.Zd,
              z: E.target.Oh.index,
              HE: i.dz
          };
          this.bQ(C)
      }
      if (K.C.indexOf(i.z) == -1)
          return;
      if (i.dz == 1) {
          N = this.a4g
      } else if (i.dz == 2) {
          N = this.a8G
      } else if (i.dz == 3) {
          N = this.amu
      } else if (i.dz == 4) {
          N = this.a03
      } else if (i.dz == 5) {
          N = this.alV
      } else {
          N = this.z4
      }
      N.B();
      N.update(K);
      N.parent = this;
      var k = new q(c.E.P,!0);
      k.data = {
          e: c.f.um,
          CP: N,
          x: i.s6.x + 1,
          y: i.s6.y + 1
      };
      this.U(k)
  }
  ;
  gw.prototype.B = function() {
      iL.prototype.B.call(this);
      this.Dv.B();
      this.eM.B();
      this.R6.B();
      this.fX.B();
      if (this.uY)
          this.MN(this.uY);
      var E = "lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
      for (var G = 0; G < this.YH.length; G++) {
          var K = this.YH[G];
          K.KZ(c.GJ(E[G]))
      }
  }
  ;
  gw.prototype.MN = function(E, K) {
      if (E && !E._S)
          return;
      if (E == null)
          c.U8(this.KH, "disabled");
      else
          c.lD(this.KH, "disabled");
      this.uY = E;
      this.sv = K;
      if (this.Bg != null) {
          this.XY.removeChild(this.Bg.XY);
          this.Bg = null
      }
      if (E == null)
          return;
      this.Bg = new aG(E.root,this,E,{
          vc: 0
      });
      this.XY.appendChild(this.Bg.XY);
      if (E.C.length == 0 || E.t[E.C[0]] == null)
          c.U8(this.Xs, "disabled");
      else {
          c.lD(this.Xs, "disabled");
          if (E.C.length == 1 && E.yj)
              this.Bg.ck(E.C);
          var i = E.t[E.C[0]];
          if (i.Uf()) {
              this.Dv.X2([[15, 10, 27]].concat(gx.z2), [1].concat(gx.Dx));
              var C = gx.WR.indexOf(i.SI);
              this.Dv.T(C + 1)
          } else {
              this.Dv.X2(gx.z2, gx.Dx);
              var C = gx.WR.indexOf(i.SI);
              this.Dv.T(C)
          }
          this.eM.T(Math.round(100 * i.opacity / 255));
          this.R6.T([i.Hv(0), i.Hv(1), i.Hv(2), i.Hv(31)]);
          this.fX.T(Math.round(100 * (i.add.iOpa != null ? i.add.iOpa / 255 : 1)))
      }
  }
  ;
  gw.prototype.FY = function(E, K) {
      var i = this.Xs.getBoundingClientRect().height
        , C = 59;
      if (i > 70)
          C = 84;
      if (i > 100)
          C = 108;
      var N = K - (C + 37);
      this.XY.style.height = N + "px"
  }
  ;
  gw.prototype.akC = function(E) {
      this.bQ({
          e: U.k9,
          Gz: this.Dv.u()
      })
  }
  ;
  gw.prototype.aoz = function(E) {
      this.bQ({
          e: U.hQ,
          Gz: Math.round(255 * this.eM.u() / 100)
      })
  }
  ;
  gw.prototype.afN = function(E) {
      this.bQ({
          e: U.V9,
          Gz: [this.R6.u(), [0, 1, 2, 31]]
      })
  }
  ;
  gw.prototype.akm = function(E) {
      this.bQ({
          e: U.o4,
          Gz: Math.round(255 * this.fX.u() / 100)
      })
  }
  ;
  gw.prototype.a61 = function(E) {
      this.Nu(E, this.afB)
  }
  ;
  gw.prototype.ajS = function(E) {
      this.Nu(E, this.a8o)
  }
  ;
  gw.prototype.Nu = function(E, K) {
      var i = E.currentTarget;
      if (c.ws(K.j))
          return;
      E.stopPropagation();
      var C = i.getBoundingClientRect();
      K.B();
      K.update(this.uY);
      K.parent = this;
      var N = new q(c.E.P,!0);
      N.data = {
          e: c.f.um,
          CP: K,
          x: C.left,
          y: C.top,
          a9c: !0
      };
      this.U(N)
  }
  ;
  gw.prototype.ahO = function(E) {
      this.bQ({
          e: U.wp
      })
  }
  ;
  gw.prototype.a0U = function(E) {
      this.bQ({
          e: this.uY.C.length > 1 ? U.BR : U.Qr
      })
  }
  ;
  gw.prototype.am6 = function(E) {
      this.bQ({
          e: U.BA
      })
  }
  ;
  gw.prototype.alu = function(E) {
      this.bQ({
          e: U.FU
      })
  }
  ;
  gw.prototype.a8Q = function(E) {
      this.bQ({
          e: U.Ah
      })
  }
  ;
  gw.prototype.bQ = function(E) {
      var K = new q(c.E.A,!0);
      K.data = E;
      K.F = u.Iy;
      this.U(K)
  }
  ;
  gw.prototype.Gi = function() {
      var E = [[6, 54, 0], [11, 6], [6, 1], [6, 21], [6, 20], [6, 13], [6, 31]]
        , K = [this.a8Q, this.ajS, this.a61, this.ahO, this.a0U, this.am6, this.alu]
        , i = this.ak3.bind(this);
      for (var G = 0; G < E.length; G++) {
          var C = new hO("W",!1,E[G]);
          this.YH.push(C);
          c.vo(C.j, K[G].bind(this));
          this.I1.appendChild(C.j);
          if (G >= E.length - 3) {
              var N = C.j;
              N.addEventListener("drop", i, !1);
              N.addEventListener("dragover", function(k) {
                  k.preventDefault()
              }, !1);
              N.addEventListener("dragenter", c.zx, !1)
          }
      }
  }
  ;
  gw.prototype.ak3 = function(E) {
      c.zx(E);
      var K = 0
        , i = this.YH;
      while (i[K].j != E.currentTarget)
          K++;
      i[K].$o();
      var C = E.dataTransfer.getData("Text");
      if (C == "")
          return;
      var C = JSON.parse(C);
      if (C.wn == "l") {
          var N = {
              e: [U.BR, U.CY, U.FU][K - 4]
          };
          if (this.uY.C.indexOf(C.na) == -1)
              N.z = C.na;
          this.bQ(N)
      }
      if (K != 6)
          return;
      if (C.wn == "sm" || C.wn == "s") {
          var k = new q(c.E.A,!0);
          k.F = u.YB;
          k.data = {
              e: C.wn == "sm" ? "st_clear" : "st_delsingle",
              z: C.na,
              na: C.vg
          };
          this.U(k)
      }
      if (C.wn == "fm" || C.wn == "f") {
          this.bQ({
              e: C.wn == "fm" ? U.lw : U.sW,
              src: C.na,
              vg: C.vg
          })
      }
      if (C.wn == "m" || C.wn == "vm") {
          this.bQ({
              e: C.wn == "m" ? U.oU : U.zF,
              z: C.na
          })
      }
  }
  ;
  function aG(E, K, i, C) {
      aB.call(this);
      this.parent = K;
      this.Oh = E;
      this.XZ = [];
      this.j = c.w("div", "layeritem");
      var N = E.z
        , v = 15
        , p = !1;
      this.Xs = c.w("div", i.C.indexOf(E.index) != -1 ? "head selected" : "head");
      if (E.z.add.artb != null)
          c.U8(this.Xs, "artb");
      this.Xs.setAttribute("style", "height: " + (N.a0s + 10) + "px");
      var k = c.w("div", "headL")
        , V = c.w("div", "headR")
        , j = c.w("div", "lpineck");
      this.XY = c.w("div", "lpibody");
      this.j.appendChild(this.Xs);
      this.Xs.appendChild(k);
      this.Xs.appendChild(V);
      if (N.Nz() || N.XQ())
          if (N.Hm())
              this.j.appendChild(j);
      var a = this.Xs;
      a.setAttribute("draggable", "true");
      a.addEventListener("dragstart", this.dr.bind(this), !1);
      a.addEventListener("drop", this.$B.bind(this), !1);
      a.addEventListener("dragover", this.OH.bind(this), !1);
      a.addEventListener("dragenter", c.zx, !1);
      a.addEventListener("dragleave", this.o9.bind(this), !1);
      var e = []
        , L = []
        , g = c.w("div");
      this.Fi = c.w("div", "eye");
      g.appendChild(this.Fi);
      var I = c.w("div", "space");
      this.dp = c.w("div", "label");
      this.dp.setAttribute("style", "max-width:calc(100% - " + (96 + E.depth * 20) + "px)");
      this.dp.textContent = N.getName();
      this.az = c.w("div", "lock");
      this.ak_ = c.w("div", "lrfx");
      this.Ro = c.w("div", "arfx");
      var h = this.adX.bind(this)
        , o = this.abr.bind(this);
      this.Xs.addEventListener("click", o, !1);
      this.Xs.addEventListener("contextmenu", h, !1);
      var H = [0, 16711680, 16748544, 16763904, 4513024, 22015, 11141375, 7829367]
        , A = N.add.lclr == null ? 0 : H[N.add.lclr];
      if (A == 0)
          A = C.vc;
      var S = [A >> 16, A >> 8 & 255, A & 255];
      for (var G = 0; G < 3; G++) {
          S[G] = Math.round(.5 * S[G] + .5 * 220)
      }
      if (1 < c.M() && c.M() < 1.5)
          v = v / c.M();
      g.setAttribute("style", "background-color:rgba(" + S.join(",") + "," + (A == 0 ? 0 : 1) + ");");
      this.Fi.setAttribute("style", "background-size: " + v + "px " + v + "px;");
      var s = this.a3U.bind(this);
      g.addEventListener("mousedown", s, !1);
      g.addEventListener("mouseover", s, !1);
      this.dp.addEventListener("pointerup", this.a0V.bind(this), !1);
      this.Ro.addEventListener("click", this.aca.bind(this), !1);
      e[0] = g;
      e[1] = I;
      e[10] = this.dp;
      if (N.Uf()) {
          var D = c.w("div", "arrow")
            , F = c.w("div", "folder");
          D.addEventListener("click", this.aeq.bind(this), !1);
          e[2] = D;
          e[3] = F;
          if (N.add.lsct == c5.qd) {
              for (var G = E.children.length - 1; G >= 0; G--) {
                  var y = new aG(E.children[G],K,i,{
                      vc: A
                  });
                  this.XZ.push(y);
                  this.XY.appendChild(y.j)
              }
              this.j.appendChild(this.XY)
          }
          D.setAttribute("class", N.add.lsct == c5.qd ? "open" : "closed")
      } else {
          this.gm = c.w("div", "thumb");
          e[5] = this.gm;
          this.gm.appendChild(N.HW.canvas)
      }
      var T = N.$Y();
      if (T) {
          this.J_ = c.w("div", "chain");
          this.ba = c.w("div", "thumb");
          this.ba.setAttribute("draggable", "true");
          this.ba.appendChild(E.z.aiv.canvas);
          this.J_.style.opacity = T.Rq ? 1 : 0;
          this.J_.addEventListener("click", this.ahM.bind(this), !1)
      }
      var Q = N.bm() && N.add.vmsk;
      if (N.add.vmsk && !Q) {
          this.kO = c.w("div", "chain");
          this.U$ = c.w("div", "thumb");
          this.U$.setAttribute("draggable", "true");
          this.U$.appendChild(E.z.afE.canvas);
          this.kO.style.opacity = N.add.vmsk.Rq ? 1 : 0;
          this.kO.addEventListener("click", this.a1Q.bind(this), !1)
      }
      if (N.XQ() && N.uy(i).r) {
          this.Tj = c.w("div", "thumb");
          this.Tj.appendChild(E.z.aaF.canvas);
          this.Tj.addEventListener("click", o, !1);
          this.Tj.addEventListener("contextmenu", h, !1)
      }
      if (N.Nz()) {
          this.a23 = j;
          j.addEventListener("contextmenu", h, !1);
          var B = new gw.dO(i2.get([12, 1]),"sm","layerstyle",E.depth,0,null);
          B.parent = this;
          j.appendChild(B.j);
          var r = N.add.lmfx
            , J = r.masterFXSwitch.v;
          B.HU(J);
          for (var G = 0; G < ao.order.length; G++) {
              var m = r[ao.Y9[G]].v;
              if (m.length == 0)
                  continue;
              for (var x = 0; x < m.length; x++) {
                  var B = new gw.dO(i2.get(ao.names[G]),"s","layerstyle",E.depth,1,[G, x]);
                  B.HU(J && m[x].v.enab.v);
                  B.parent = this;
                  j.appendChild(B.j)
              }
          }
      }
      if (N.XQ()) {
          var B = new gw.dO(i2.get([12, 55]),"fm",null,E.depth,0,-1,N.uy(i).r ? this.Tj : null);
          B.parent = this;
          j.appendChild(B.j);
          this.ajZ = B.j;
          this.ajZ.addEventListener("contextmenu", h, !1);
          var r = N.add.SoLd.filterFX.v
            , R = r.filterFXList.v
            , J = r.enab.v;
          B.HU(J);
          for (var G = R.length - 1; G >= 0; G--) {
              var b = R[G].v
                , z = ef.o6(b);
              if (gM.pX[z])
                  z = gM.pX[z];
              var $ = b.Nm.v;
              if (ef.names[z])
                  $ = i2.get(ef.names[z]);
              if (gM.names[z])
                  $ = i2.get(gM.names[z]);
              var P = "afw_" + z
                , B = new gw.dO($,"f",P,E.depth,1,G);
              B.HU(J && b.enab.v);
              B.parent = this;
              j.appendChild(B.j)
          }
      }
      if (i.t.indexOf(N) == i.C[0]) {
          var t = N.dz, X;
          if (t <= 0)
              X = this.gm;
          else if (t == 1)
              X = this.ba;
          else if (t == 3)
              X = this.Tj;
          if (X)
              X.setAttribute("class", "thumb active");
          if (N.QK && this.U$)
              this.U$.setAttribute("class", "thumb active")
      }
      g.style.opacity = N.VD() ? 1 : .25;
      I.setAttribute("style", "width:" + Math.max(0, E.depth - 1) * 18 + "px");
      var Z = N.add.lspf != null && N.add.lspf != 0;
      this.az.style.opacity = N.Hv(31) ? 1 : .5;
      e[4] = N.iB ? c.w("div", "clipp") : null;
      e[6] = T ? this.J_ : null;
      e[7] = T ? this.ba : null;
      e[8] = N.add.vmsk && !Q ? this.kO : null;
      e[9] = N.add.vmsk && !Q ? this.U$ : null;
      var gl = N.RE
        , f = i.C;
      if (gl != 0)
          for (var G = 0; G < f.length; G++)
              if (i.t[f[G]].RE == gl) {
                  p = !0;
                  break
              }
      L[0] = p ? c.w("div", "link") : null;
      L[1] = Z ? this.az : null;
      L[2] = N.Nz() ? this.ak_ : null;
      L[3] = N.Nz() || N.XQ() ? this.Ro : null;
      this.Ro.setAttribute("class", N.Hm() ? "arfx open  gsicon" : "arfx closed  gsicon");
      var cY = e;
      for (var G = 0; G < cY.length; G++)
          if (cY[G])
              k.appendChild(cY[G]);
      cY = L;
      for (var G = 0; G < cY.length; G++)
          if (cY[G])
              V.appendChild(cY[G])
  }
  aG.prototype = new aB;
  aG.prototype.ck = function(E) {
      var K = this.Oh.index;
      if (E.indexOf(K) != -1) {
          if (this.j.scrollIntoView)
              this.j.scrollIntoView({
                  block: "nearest"
              })
      }
      for (var G = 0; G < this.XZ.length; G++)
          this.XZ[G].ck(E)
  }
  ;
  aG.TY = function(E, K) {
      var i = K.getBoundingClientRect();
      return (E.clientY - i.top) / i.height
  }
  ;
  aG.prototype.dr = function(E) {
      E.stopPropagation();
      var K = E.target == this.ba ? "m" : E.target == this.U$ ? "vm" : "l";
      E.dataTransfer.setData("Text", JSON.stringify({
          wn: K,
          na: this.Oh.index
      }))
  }
  ;
  aG.prototype.o9 = function(E) {
      c.zx(E);
      this.wA()
  }
  ;
  aG.prototype.$B = function(E) {
      c.zx(E);
      this.wA();
      var K = E.dataTransfer.getData("Text")
        , i = this.parent.uY
        , C = aG.TY(E, this.Xs)
        , N = this.Oh.index;
      if (C > .8) {
          var k = !0
            , V = i.root.WY(N);
          while (V.parent != null) {
              var j = V.parent
                , a = j.children;
              if (a.indexOf(V) != 0)
                  k = !1;
              V = V.parent
          }
          if (k) {
              N = 0;
              C = 1
          }
      }
      if (K == "") {
          c.PT(E, this, this.parent.sv.indexOf(i), N + (C > .5 ? 0 : 1))
      } else if (K != "--panel") {
          var K = JSON.parse(K)
            , e = K.wn;
          if (e == "l")
              this.bQ({
                  e: U.Bo,
                  source: K.na,
                  target: N,
                  $E: C
              });
          else if (e == "m" || e == "vm")
              this.bQ({
                  e: e == "m" ? U.g2 : U.No,
                  src: K.na,
                  jK: N,
                  aq: E.altKey
              });
          else
              aG.HT(E, K, this)
      }
  }
  ;
  aG.HT = function(E, K, i, C) {
      var N = K.wn
        , k = i.Oh.index
        , V = K.na;
      if (N == "s" || N == "sm")
          i.bQ({
              e: U.x0,
              src: V,
              jK: k,
              vg: K.vg,
              aq: E.altKey
          });
      if (N == "f" || N == "fm")
          i.bQ({
              e: U.IN,
              src: V,
              jK: k,
              vg: K.vg,
              mV: C == null ? 0 : C,
              aq: E.altKey
          })
  }
  ;
  aG.prototype.OH = function(E) {
      c.zx(E);
      var K = aG.TY(E, this.Xs);
      this.wA();
      var i = K > .5 ? "-bottom" : "-top";
      if (this.Oh.z.Uf() && .5 < K && K < .8)
          i = "";
      this.Xs.style["border" + i] = "3px solid rgba(0,0,0,0.5)";
      this.Xs.style.margin = i == "" ? "-3px 0 -3px 0" : i == "-top" ? "-3px 0 0 0" : "0 0 -3px 0"
  }
  ;
  aG.prototype.wA = function(E) {
      this.Xs.style.border = "none";
      this.Xs.style.margin = "0"
  }
  ;
  aG.ml = -1;
  aG.Vy = !1;
  aG.eD = function(E) {
      aG.Vy = !1;
      document.body.removeEventListener("mouseup", aG.eD)
  }
  ;
  aG.prototype.a3U = function(E) {
      if (E.button != 0)
          return;
      if (E.type == "mousedown") {
          aG.Vy = !0;
          document.body.addEventListener("mouseup", aG.eD, !1)
      }
      if (E.type == "mouseover" && (!aG.Vy || aG.ml == this.Oh.index))
          return;
      c.zx(E);
      this.bQ({
          e: U.cv,
          z: this.Oh.index
      });
      aG.ml = this.Oh.index
  }
  ;
  aG.prototype.aeq = function(E) {
      c.zx(E);
      this.bQ({
          e: U.Qj,
          z: this.Oh.index
      })
  }
  ;
  aG.prototype.ahM = function(E) {
      this.bQ({
          e: U.kB,
          z: this.Oh.index
      })
  }
  ;
  aG.prototype.a1Q = function(E) {
      this.bQ({
          e: U.gA,
          z: this.Oh.index
      })
  }
  ;
  aG.bl = 0;
  aG.prototype.a0V = function(E) {
      var K = aG.bl;
      aG.bl = Date.now();
      if (Date.now() - K > 300)
          return;
      E.preventDefault();
      E.stopPropagation();
      this.Xs.setAttribute("draggable", "false");
      var i = new iL.$Z(this.dp,this.i2.bind(this))
  }
  ;
  aG.prototype.i2 = function(E) {
      this.bQ({
          e: U.tJ,
          z: this.Oh.index,
          name: E
      })
  }
  ;
  aG.prototype.aca = function(E) {
      this.bQ({
          e: U.Q7,
          z: this.Oh.index
      })
  }
  ;
  aG.prototype.adX = function(E) {
      if (this.yk(E, E.target, this.dz(E)))
          return;
      var K = E.sourceCapabilities;
      if (K)
          K = K.firesTouchEvents;
      if (E.button != 2 && K != !0)
          return;
      var i = this.dz(E);
      if (i != 3 && E.currentTarget == this.ajZ)
          i = 4;
      if (E.target == this.ak_ || E.currentTarget == this.a23)
          i = 5;
      var C = new q("rclick",!0);
      C.data = {
          z: this.Oh.index,
          dz: i,
          s6: c.DX(E, document.body)
      };
      this.U(C)
  }
  ;
  aG.prototype.dz = function(E) {
      var K = E.target
        , i = K.parentNode;
      return i == this.U$ ? 2 : i == this.ba ? 1 : i == this.gm ? 0 : i == this.Tj ? 3 : -1
  }
  ;
  aG.prototype.abr = function(E) {
      var K = E.target, L;
      if (K == this.Fi || K == this.Ro || K == this.J_ || K == this.kO || K.tagName && K.tagName.toLowerCase() == "input")
          return;
      var i = this.dz(E)
        , C = this.parent.uY
        , N = this.Oh.index
        , k = C.t[N];
      if (K == this.az) {
          this.bQ({
              e: U.V9,
              z: N,
              Gz: [[!1, !1, !1, !1, !1], [0, 1, 2, 3, 31]]
          });
          return
      }
      if (E.button == 0 && E.detail == 2) {
          if (K == this.dp)
              return;
          var V = new q(c.E.A,!0)
            , j = new q(c.E.P,!0)
            , a = new q(c.E.J5,!0);
          if (i == 0 && k.add.SoCo) {
              var e = _.V.Gk(k.add.SoCo.Clr.v);
              j.data = {
                  e: c.f.eQ,
                  KN: "colorpicker",
                  vc: e.h << 16 | e.l << 8 | e.O,
                  K2: function(h) {
                      var o = _.V.VQ({
                          O: h & 255,
                          l: h >>> 8 & 255,
                          h: h >> 16 & 255
                      });
                      o = {
                          classID: "null",
                          Clr: {
                              t: "Objc",
                              v: o
                          }
                      };
                      var H = new q(c.E.A,!0);
                      H.F = u.Iy;
                      H.data = {
                          e: U.Sv,
                          HQ: [N],
                          P1: !0,
                          G: {
                              K8: 1,
                              ja: o
                          }
                      };
                      this.U(H)
                  }
                  .bind(this),
                  RV: !0
              }
          } else if (i == 0 && (gM.get(k.add) || k.add.SoCo || k.add.GdFl || k.add.PtFl))
              j.data = {
                  e: c.f.zl,
                  KN: iL.Yb.q5
              };
          else if (i != 0 && i != -1)
              j.data = {
                  e: c.f.zl,
                  KN: iL.Yb.q5
              };
          else if (i == 0 && k.add.SoLd)
              a.data = {
                  bT: "placedLayerEditContents",
                  v4: {
                      classID: "placedLayerEditContents"
                  }
              };
          else if (i == 0 && k.add.TySh) {
              V.F = u.EM;
              V.data = {
                  e: "editCurr",
                  UU: N
              }
          } else
              j.data = {
                  e: c.f.eQ,
                  KN: "layerstyle",
                  z: N
              };
          this.U(a.data ? a : j.data ? j : V);
          return
      }
      if (this.yk(E, K, i))
          return;
      if (E.button != 0)
          return;
      if (i == 1 || i == 3) {
          var g = i == 3 ? k.uy(C).r : k.$Y();
          L = g.a5 ? C.a.zj.join("") == "111" ? 1 : 2 : 0
      }
      var I = {
          e: U.Zd,
          z: N,
          HE: i
      };
      this.bQ(I);
      if (E.altKey) {
          if (i == 1 || i == 3) {
              var V = new q(c.E.A,!0);
              V.F = u.L7;
              V.data = {
                  e: "mskView",
                  G: L != 0 ? 0 : E.shiftKey ? 1 : 2
              };
              this.U(V)
          } else {
              this.bQ({
                  e: U.SE,
                  z: N
              })
          }
          return
      }
  }
  ;
  aG.prototype.yk = function(E, K, i) {
      if ((E.ctrlKey || E.metaKey) && (i == 0 || i == 1 || i == 2)) {
          var C = 0;
          if (E.shiftKey)
              C++;
          if (E.altKey)
              C += 2;
          var N = new q(c.E.A,!0);
          N.F = u.Z2;
          N.data = {
              e: "fromlayer",
              eT: [this.Oh.index, i, C]
          };
          this.U(N);
          return !0
      }
      return !1
  }
  ;
  aG.prototype.bQ = function(E) {
      var K = new q(c.E.A,!0);
      K.data = E;
      K.F = u.Iy;
      this.U(K)
  }
  ;
  gw.dO = function(E, K, i, C, N, k, V) {
      aB.call(this);
      this.ad5 = K;
      this.fK = i;
      this.index = k;
      this.j = c.w("div", "styleitem");
      this.Xs = c.w("div", "head");
      this.a6d = null;
      if (K == "f") {
          var j = this.a6d = c.w("div", "headR");
          j.textContent = "\u2699";
          this.Xs.appendChild(j)
      }
      this.xR = c.w("div", "eye gsicon");
      this.dp = c.w("div", "label");
      this.j.appendChild(this.Xs);
      this.Xs.appendChild(this.xR);
      if (V) {
          this.ba = V;
          this.Xs.appendChild(this.ba);
          this.Xs.setAttribute("style", "height: " + (V.firstChild.height / c.M() + 10) + "px")
      }
      this.dp.innerHTML = E;
      this.j.setAttribute("style", "margin-left: " + (24 + C * 16 + N * 22) + "px");
      this.Xs.appendChild(this.dp);
      this.xR.addEventListener("click", this.ajU.bind(this), !1);
      var a = this.j;
      a.setAttribute("draggable", "true");
      a.addEventListener("dragstart", this.dr.bind(this), !1);
      if (!0) {
          a.addEventListener("drop", this.$B.bind(this), !1);
          a.addEventListener("dragover", this.OH.bind(this), !1);
          a.addEventListener("dragenter", c.zx, !1);
          a.addEventListener("dragleave", this.o9.bind(this), !1)
      }
      this.j.addEventListener("click", this.Cs.bind(this), !1)
  }
  ;
  gw.dO.prototype = new aB;
  gw.dO.prototype.dr = function(E) {
      E.stopPropagation();
      E.dataTransfer.setData("Text", JSON.stringify({
          wn: this.ad5,
          na: this.parent.Oh.index,
          vg: this.index
      }))
  }
  ;
  gw.dO.prototype.o9 = function(E) {
      c.zx(E);
      this.wA()
  }
  ;
  gw.dO.prototype.$B = function(E) {
      c.zx(E);
      this.wA();
      var K = E.dataTransfer.getData("Text");
      if (K == "")
          return;
      var K = JSON.parse(K);
      aG.HT(E, K, this.parent, this.index + (aG.TY(E, this.Xs) > .5 ? 0 : 1))
  }
  ;
  gw.dO.prototype.OH = function(E) {
      c.zx(E);
      var K = aG.TY(E, this.Xs) > .5;
      this.wA();
      var i = "border-" + (K ? "bottom" : "top");
      this.Xs.style[i] = "0.2em solid rgba(0,0,0,0.5)"
  }
  ;
  gw.dO.prototype.wA = function(E) {
      this.Xs.style.border = "none"
  }
  ;
  gw.dO.prototype.HU = function(E) {
      var K = 15;
      if (1 < c.M() && c.M() < 1.5)
          K = K / c.M();
      this.xR.setAttribute("style", "background-size: " + K + "px " + K + "px;");
      this.xR.style.opacity = E ? 1 : .2
  }
  ;
  gw.dO.prototype.Cs = function(E) {
      if (E.target == this.xR)
          return;
      if (E.detail != 1 && this.fK != null) {
          var K = this.parent.Oh.index
            , i = new q(c.E.P,!0);
          if (this.fK.indexOf("afw_") == 0) {
              var C = this.fK.slice(4)
                , N = M[C] || ef.d4[C]
                , k = E.target == this.a6d;
              if (!k && !N)
                  return;
              i.data = hn.ZO.M2(k ? "blendOptions" : C, {
                  z: K,
                  index: this.index
              })
          } else
              i.data = {
                  e: c.f.eQ,
                  KN: this.fK,
                  z: K,
                  index: this.index
              };
          this.U(i)
      }
  }
  ;
  gw.dO.prototype.ajU = function(E) {
      var K = {
          fm: U.S9,
          f: U.S5,
          sm: U.Bl,
          s: U.Y6
      }[this.ad5];
      this.parent.bQ({
          e: K,
          z: this.parent.Oh.index,
          index: this.index
      })
  }
  ;
  function b1() {
      iL.call(this, "Guide Guy", !1, null, iL.Yb.a1Z);
      this.eu = null;
      this.Pz = [];
      var E = c.w("div", "form padded");
      this.KH.appendChild(E);
      E.setAttribute("style", "width:200px");
      this.KH.appendChild(E);
      var K = c.w("canvas")
        , i = K.getContext("2d");
      K.width = K.height = 160;
      var C = [32, 0, 16, 160, 0, 32, 160, 16, 0, 112, 160, 16]
        , N = "Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(",")
        , k = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
      for (var G = 0; G < 10; G++) {
          i.clearRect(0, 0, 160, 160);
          i.setTransform(1, 0, 0, 1, 80, 80);
          i.rotate((G & 3) * Math.PI / 2);
          i.translate(-80, -80);
          i.fillStyle = "rgba(0,0,0,0.3)";
          if (G < 4) {
              for (var V = 0; V < 12; V += 4) {
                  i.fillStyle = V == 0 ? "#000000" : "rgba(0,0,0,0.3)";
                  i.fillRect(C[V], C[V + 1], C[V + 2], C[V + 3])
              }
          } else if (G < 6) {
              var j = 8 * 6;
              i.fillRect(0, 0, j, 160);
              i.fillRect(8 * 7, 0, j, 160);
              i.fillStyle = "#000000";
              i.fillRect(8 * 14, 0, j, 160)
          } else if (G < 8) {
              i.fillRect(0, 0, 16, 160);
              i.fillRect(160 - 16, 0, 16, 160);
              i.fillRect(32, 0, 160 - 64, 160);
              i.fillStyle = "#000000";
              i.fillRect(32, 80 - 8, 160 - 64, 8 * 1)
          } else {
              i.fillRect(0, 0, 8 * 7, 160);
              i.fillRect(8 * 13, 0, 160, 160);
              i.fillStyle = "#000000";
              i.fillRect(8 * 7, 80 - 8, 8 * 6, 8 * 1)
          }
          var a = "<img src=\"" + K.toDataURL() + "\" class=\"autoscale gsicon\" /> "
            , e = new gI(a,0,200,G == 4 || G == 5 ? null : "px",null,null,null,4,N[G]);
          e.parent = this;
          e.k(c.E.L, this.ad2, this);
          e.T(k[G]);
          e.B();
          this.Pz.push(e);
          E.appendChild(e.j)
      }
      var L = ["Add Guides", "Clear Guides"];
      this.qc = [];
      for (var G = 0; G < L.length; G++) {
          var g = new hO(L[G],!0,null,!0);
          this.qc.push(g);
          g.k("click", this.mD, this);
          E.appendChild(g.j)
      }
      for (var G = 0; G < 6; G++) {
          i.setTransform(1, 0, 0, 1, 80, 80);
          i.rotate(Math.floor(G / 3) * Math.PI / 2);
          i.translate(-80, -80);
          i.clearRect(0, 0, 160, 160);
          i.fillStyle = "rgba(0,0,0,0.3)";
          i.fillRect(0, 0, 160, 160);
          i.clearRect(16, 16, 128, 128);
          i.fillStyle = "#000000";
          var I = G % 3;
          i.fillRect([0, 9, 18][I] * 8, 0, 16, 160);
          var a = "<img src=\"" + K.toDataURL() + "\" class=\"autoscale gsicon\" /> "
            , g = new hO(a,!1,null,!1);
          this.qc.push(g);
          g.k("click", this.mD, this);
          E.appendChild(g.j)
      }
  }
  b1.prototype = new iL("");
  b1.prototype.ad2 = function(E) {
      var K = this.Pz
        , i = K.indexOf(E.target)
        , C = Math.floor(i / 2)
        , N = i & 1
        , k = [];
      for (var G = 0; G < 4; G++)
          k.push(K[2 * G + N].u());
      var V = -1;
      if (C == 2 && k[2] != 0 && k[3] != 0 && k[4] != 0)
          V = 4;
      if (C == 3 && k[3] != 0 && k[2] != 0 && k[4] != 0)
          V = 4;
      if (C == 4 && k[4] != 0 && k[2] != 0 && k[3] != 0)
          V = 3;
      if (V != -1)
          K[2 * V + N].T(0)
  }
  ;
  b1.prototype.mD = function(E) {
      var K = this.eu
        , i = this.qc.indexOf(E.target)
        , C = [[], []];
      if (K == null)
          return;
      var N = K.N ? K.N.rect : new h4(0,0,K.d,K.v)
        , k = N.d
        , V = N.v;
      if (i == 0) {
          var j = [[], []];
          for (var G = 0; G < this.Pz.length; G++)
              j[G & 1].push(this.Pz[G].u());
          C = [b1.IT(j[0], N.x, N.x + k), b1.IT(j[1], N.y, N.y + V)];
          u.x_.qt(C, K.rJ)
      } else if (i == 1) {} else {
          i -= 2;
          var a = Math.floor(i / 3)
            , C = [[], []];
          C[a].push([N.x, N.x + k / 2, N.x + k, N.y, N.y + V / 2, N.y + V][i]);
          u.x_.qt(C, K.rJ)
      }
      var e = function(L, g) {
          return L - g
      };
      C[0].sort(e);
      C[1].sort(e);
      this.aaW(C)
  }
  ;
  b1.prototype.a2_ = function(E) {
      var K = this.ab9.indexOf(E.target)
  }
  ;
  b1.prototype.aaW = function(E) {
      var K = new q(c.E.A,!0);
      K.F = u.Sm;
      K.data = {
          e: "gids",
          B8: E
      };
      this.U(K)
  }
  ;
  b1.IT = function(E, K, i) {
      var C = []
        , N = E[2]
        , k = E[3]
        , V = E[4]
        , j = 0;
      if (N == 0)
          j++;
      if (k == 0)
          j++;
      if (V == 0)
          j++;
      if (j > 1 && N == 0 && k == 0) {
          if (E[0] != 0)
              C.push(K + E[0]);
          if (E[1] != 0)
              C.push(i - E[1]);
          return C
      }
      var a = i - K - E[0] - E[1];
      if (N == 0) {
          if (V == 0) {
              N = Math.floor(a / k);
              V = (a - N * k) / (N - 1)
          } else {
              N = 1;
              while (k * N + V * (N - 1) + k + V <= a)
                  N++
          }
      } else if (N != 0 && k != 0) {
          if (N * k > a)
              N = Math.floor(a / k);
          V = (a - N * k) / (N - 1)
      }
      C.push(K + E[0], i - E[1]);
      var k = (a - V * (N - 1)) / N;
      for (var G = 1; G < N; G++) {
          if (V == 0)
              C.push(K + E[0] + G * k);
          else
              C.push(K + E[0] + G * k + (G - 1) * V, K + E[0] + G * k + G * V)
      }
      return C
  }
  ;
  b1.prototype.MN = function(E) {
      this.eu = E
  }
  ;
  function cZ() {
      iL.call(this, [9, 2], !1, null, iL.Yb.q5);
      this.ae7 = null;
      this.CR = null;
      this.Mi = null;
      this.afD = -1
  }
  cZ.prototype = new iL("");
  cZ.prototype.AW = function() {
      this.ta = c.w("div", "padded");
      this.ta.style.width = "22em";
      this.KH.appendChild(this.ta);
      var E = c.w("span", "fitem");
      this.ta.appendChild(E);
      this.kC = [new hO([0, 3]), new hO([12, 73]), new hO([12, 91, 0])];
      for (var G = 0; G < this.kC.length; G++) {
          var K = this.kC[G];
          K.k("click", this.afv, this);
          E.appendChild(K.j)
      }
      this.ta.appendChild(c.w("hr"));
      this.YG = new cZ.iK;
      this.YG.parent = this;
      this.cc = new cZ.YE;
      this.cc.parent = this;
      this.mP = new cZ.Jl;
      this.mP.parent = this;
      this.amj = [this.YG, this.cc, this.mP];
      this.ta.appendChild(this.YG.j)
  }
  ;
  cZ.prototype.afv = function(E) {
      var G = this.kC.indexOf(E.currentTarget);
      this.p4(G);
      this.pJ(G == 1 ? this.cc.BU : -1)
  }
  ;
  cZ.prototype.p4 = function(E) {
      for (var G = 0; G < 3; G++) {
          this.kC[G].$o();
          var K = this.amj[G].j;
          if (K.parentNode == this.ta && G != E)
              this.ta.removeChild(K);
          if (K.parentNode != this.ta && G == E)
              this.ta.appendChild(K)
      }
      this.kC[E].cY()
  }
  ;
  cZ.prototype.pJ = function(E) {
      var K = this.CR.C[0]
        , i = this.CR.t[K]
        , C = E + 1;
      if (E == 1 && i.QK)
          return;
      var N = new q(c.E.A,!0);
      N.F = u.Iy;
      if (E != 1 && i.QK) {
          N.data = {
              e: U.Zd,
              z: K,
              HE: 2
          };
          this.U(N)
      }
      N.data = {
          e: U.Zd,
          z: K,
          HE: C
      };
      this.U(N)
  }
  ;
  cZ.prototype.B = function() {
      iL.prototype.B.call(this);
      if (this.ta == null)
          return;
      this.MN(this.CR);
      for (var G = 0; G < 3; G++) {
          this.kC[G].B();
          this.amj[G].B()
      }
  }
  ;
  cZ.prototype.su = function() {
      if (!c.ws(this.KH))
          return;
      if (this.ta == null) {
          this.AW();
          this.bX(this.Mi, dp.iW);
          this.MN(this.ae7);
          this.B()
      }
  }
  ;
  cZ.prototype.MN = function(E) {
      this.ae7 = E;
      if (this.ta == null)
          return;
      this.YG.MN(E);
      this.cc.MN(E);
      this.mP.MN(E);
      if (E == null || E.C.length == 0 || E.t[E.C[0]] == null) {
          c.U8(this.KH, "disabled");
          this.CR = null;
          return
      } else
          c.lD(this.KH, "disabled");
      var K = E.C[0]
        , i = E.t[K]
        , C = E.LM()
        , N = C[0]
        , k = C[1];
      if (k.length != 0) {
          var V = N[k[0]]
            , j = V.add.vogk
            , a = !1;
          if (j)
              for (var G = 0; G < j.length; G++) {
                  var e = j[G].v
                    , L = e.keyShapeInvalidated;
                  if (L && L.v || e.keyOriginType == null)
                      continue;
                  a = !0;
                  K = V.EL
              }
      }
      if (E != this.CR || this.afD != K) {
          this.CR = E;
          this.afD = K;
          if (a)
              this.p4(2);
          else if (i.dz < 1 && !i.QK)
              this.p4(0);
          else
              this.p4(1)
      }
      this.kC[1].CA(this.cc.BU != -1);
      this.kC[2].CA(a)
  }
  ;
  cZ.prototype.bX = function(E, K) {
      this.Mi = E;
      if (this.YG)
          this.YG.bX(E, K)
  }
  ;
  cZ.iK = function() {
      aB.call(this);
      this.j = c.w("div", "form");
      this.aad = new di("Hello");
      this.j.appendChild(this.aad.j);
      this.z0 = null;
      this.acO = null;
      this.CR = null;
      this.a8d = -1;
      this.alw = null;
      this.R0 = new ha(!0);
      this.R0.parent = this;
      this.R0.k(c.E.L, this.akY, this);
      this.Tn = c.w("div", "marged hiline");
      this.Tn.appendChild(this.R0.j);
      this.ey = new iP("GrFl",!0);
      this.ey.parent = this;
      this.ey.k(c.E.L, this.ajc, this);
      this.mw = c.w("div", "marged hiline");
      var E = "Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
      for (var G = 0; G < E.length; G++) {
          var K = this.ey.pC[E[G]].j;
          this.mw.appendChild(K)
      }
      this.lb = new iP("patternFill",!0);
      this.lb.parent = this;
      this.lb.k(c.E.L, this.a2$, this);
      this.HA = c.w("div", "marged hiline");
      var E = ["Ptrn", "Scl", "Algn", "phase"];
      for (var G = 0; G < E.length; G++) {
          var K = this.lb.pC[E[G]].j;
          this.HA.appendChild(K)
      }
      this.HL = {};
      for (var i in gM.names) {
          if (M[i] == null)
              continue;
          this.HL[i] = new M[i];
          this.HL[i].k(c.E.L, this.a0H, this);
          this.HL[i].parent = this
      }
      var C = this.a8h = c.w("div", "marged hiline");
      this.pa = cZ.zp(["W", "H", "X", "Y"], null, C, this.MO, this);
      this.JJ = new gc([12, 46],[[13, 1, 8], [13, 1, 10], [13, 1, 9], [12, 47]]);
      this.JJ.k(c.E.L, this.MO, this);
      C.appendChild(this.JJ.j);
      this.IH = new ha(!1);
      this.IH.parent = this;
      this.IH.k(c.E.L, this.MO, this);
      C.appendChild(this.IH.j)
  }
  ;
  cZ.iK.prototype = new aB;
  cZ.iK.prototype.B = function() {
      for (var E in this.HL)
          this.HL[E].B();
      this.ey.B();
      this.lb.B();
      this.JJ.B();
      for (var G = 0; G < 4; G++)
          this.pa[G].B()
  }
  ;
  cZ.iK.prototype.MO = function(E) {
      var K = cZ.sx(this.pa)
        , i = U.pD(new h4(K[2],K[3],K[0],K[1]))
        , C = this.JJ.u()
        , N = {
          classID: "artboard",
          artboardRect: {
              t: "Objc",
              v: i
          },
          Clr: {
              t: "Objc",
              v: this.IH.u()
          },
          artboardBackgroundType: {
              t: "long",
              v: C + 1
          }
      }
        , k = new q(c.E.A,!0);
      k.F = u.Iy;
      k.data = {
          e: U.Sf,
          iM: N
      };
      this.U(k)
  }
  ;
  cZ.iK.prototype.akY = function(E) {
      var K = this.CR
        , i = K.C[0];
      if (K.t[i].add.SoCo == null)
          return;
      var C = JSON.parse(JSON.stringify(K.t[i].add.SoCo));
      C.Clr.v = this.R0.u();
      this.fC({
          K8: 1,
          ja: C
      })
  }
  ;
  cZ.iK.prototype.ajc = function(E) {
      var K = this.CR
        , i = K.C[0];
      if (K.t[i].add.GdFl == null)
          return;
      this.fC({
          K8: 2,
          ja: this.ey.u()
      })
  }
  ;
  cZ.iK.prototype.a2$ = function(E) {
      this.fC({
          K8: 3,
          ja: this.lb.u()
      })
  }
  ;
  cZ.iK.prototype.fC = function(E) {
      this.UA(u.Iy, {
          e: U.Sv,
          HQ: [this.CR.C[0]],
          P1: !0,
          G: E
      })
  }
  ;
  cZ.iK.prototype.a0H = function(E) {
      this.UA(u.T$, {
          e: "edit_layer",
          G: this.acO.u()
      })
  }
  ;
  cZ.iK.prototype.UA = function(E, K) {
      var i = new q(c.E.A,!0);
      i.F = E;
      i.data = K;
      this.U(i)
  }
  ;
  cZ.iK.prototype.MN = function(E) {
      var K = i2.get([0, 3])
        , i = null;
      this.CR = E;
      if (E && E.t.length > 0 && E.C.length != 0 && E.t[E.C[0]]) {
          var C = E.t[E.C[0]]
            , N = gM.get(C.add);
          if (N != null && this.HL[N] != null) {
              i = this.HL[N].j;
              this.acO = this.HL[N];
              this.HL[N].T(C.add[N]);
              if (E.C[0] != this.a8d) {
                  var k = E.A7(E.C[0] - 1);
                  this.alw = _.x7(k)
              }
              this.HL[N].TC(this.alw);
              K = i2.get(gM.names[N])
          }
          if (C.add.SoCo) {
              i = this.Tn;
              this.R0.T(C.add.SoCo.Clr.v);
              K = i2.get([6, 48, 0, 0])
          }
          if (C.add.GdFl) {
              i = this.mw;
              this.ey.update(E, C.add.GdFl);
              K = i2.get([6, 48, 0, 1])
          }
          if (C.add.PtFl) {
              i = this.HA;
              this.lb.update(E, C.add.PtFl);
              K = i2.get([6, 48, 0, 2])
          }
          if (C.add.artb) {
              var V = C.add.artb
                , j = C.vH();
              i = this.a8h;
              this.JJ.T(V.artboardBackgroundType.v - 1);
              if (V.Clr)
                  this.IH.T(V.Clr.v);
              cZ.G1(this.pa, [j.d, j.v, j.x, j.y]);
              K = "Artboard"
          }
          this.a8d = E.C[0]
      }
      if (i != this.z0) {
          if (this.z0)
              this.j.removeChild(this.z0);
          if (i != null)
              this.j.appendChild(i);
          this.z0 = i
      }
      this.aad.T(K)
  }
  ;
  cZ.iK.prototype.bX = function(E, K) {
      this.ey.bX(E, K);
      this.lb.bX(E, K);
      for (var i in this.HL)
          this.HL[i].bX(E, K)
  }
  ;
  cZ.YE = function() {
      aB.call(this);
      this.j = c.w("div", "form");
      this.CR = null;
      this.BU = 0;
      var E = c.w("span", "fitem");
      this.j.appendChild(E);
      this.kC = [new hO([6, 2]), new hO([6, 3]), new hO([6, 50])];
      for (var G = 0; G < this.kC.length; G++) {
          var K = this.kC[G];
          K.k("click", this.acS, this);
          E.appendChild(K.j)
      }
      this.EW = new hk([12, 74],0,255);
      this.EW.k(c.E.L, this.dH, this);
      this.j.appendChild(this.EW.j);
      this.mJ = new hk([7, 6],0,500,"px",2,!0);
      this.mJ.k(c.E.L, this.dH, this);
      this.j.appendChild(this.mJ.j)
  }
  ;
  cZ.YE.prototype = new aB;
  cZ.YE.prototype.dH = function(E) {
      var K = this.EW.u()
        , i = this.mJ.u()
        , C = new q(c.E.A,!0);
      C.F = u.Iy;
      C.data = {
          e: U.If,
          S_: this.CR.C[0],
          D$: {
              Yp: this.BU,
              EW: K,
              mJ: i
          }
      };
      this.U(C)
  }
  ;
  cZ.YE.prototype.B = function() {
      for (var G = 0; G < this.kC.length; G++)
          this.kC[G].B();
      this.EW.B();
      this.mJ.B()
  }
  ;
  cZ.YE.prototype.MN = function(E) {
      this.CR = E;
      this.jp()
  }
  ;
  cZ.YE.prototype.acS = function(E) {
      this.jp(this.kC.indexOf(E.currentTarget));
      this.parent.pJ(this.BU)
  }
  ;
  cZ.YE.prototype.jp = function(E) {
      var K = this.CR
        , i = this.kC;
      for (var G = 0; G < 3; G++) {
          var C = i[G];
          C.$o();
          C.EF()
      }
      if (K == null || K.t.length == 0 || K.C.length == 0 || K.t[K.C[0]] == null)
          return;
      var N = -1
        , k = K.t[K.C[0]];
      if (k.XQ() && k.uy(K).r != null) {
          i[2].lV();
          N = 2
      }
      if (k.add.vmsk) {
          i[1].lV();
          N = 1
      }
      if (k.$Y()) {
          i[0].lV();
          N = 0
      }
      if (E != null)
          N = E;
      else if (k.QK)
          N = 1;
      else if (k.dz == 3)
          N = 2;
      else if (k.dz == 1)
          N = 0;
      this.BU = N;
      if (N == -1) {
          this.EW.EF();
          this.mJ.EF();
          return
      }
      var V = k.e_(N);
      this.EW.lV();
      this.mJ.lV();
      this.EW.T(V.EW);
      this.mJ.T(V.mJ);
      i[N].cY()
  }
  ;
  cZ.Jl = function() {
      aB.call(this);
      this.j = c.w("div", "form");
      this.ss = 1;
      this.ND = c.w("div");
      this.sB = cZ.zp(["W", "H", "X", "Y"], [12, 51], this.ND, this.Ii, this);
      this.Dj = c.w("div");
      var E = ["\u250F", "\u2513", "\u2517", "\u251B"];
      this.qP = cZ.zp(E, [12, 91, 2], this.Dj, this.Ii, this)
  }
  ;
  cZ.Jl.prototype = new aB;
  cZ.Jl.prototype.B = function() {
      c.MX(this.sB[0], this.sB[1]);
      for (var G = 2; G < 5; G++) {
          this.sB[G].B()
      }
      this.qP[4].B()
  }
  ;
  cZ.zp = function(E, K, i, C, N) {
      var k = c.w("div", "numlist");
      i.appendChild(k);
      var V = [];
      for (var G = 0; G < 4; G++) {
          var j = new gI(E[G],0,0,null,1,!1,!0);
          j.k(c.E.L, C, N);
          k.appendChild(j.j);
          V.push(j);
          if (G == 1 || G == 3)
              c.eg(k)
      }
      if (K) {
          V[4] = new ck(K);
          V[4].T(!0);
          i.appendChild(V[4].j)
      }
      return V
  }
  ;
  cZ.G1 = function(E, K) {
      for (var G = 0; G < 4; G++)
          E[G].T(K[G])
  }
  ;
  cZ.sx = function(E) {
      var K = [];
      for (var G = 0; G < 4; G++)
          K[G] = E[G].u();
      return K
  }
  ;
  cZ.Jl.prototype.Ii = function(E) {
      var K = this.sB.indexOf(E.currentTarget)
        , i = this.qP.indexOf(E.currentTarget)
        , C = [null, null, null, null]
        , N = [null, null, null, null];
      if (K != -1) {
          var k = cZ.sx(this.sB)
            , V = this.sB[4].u();
          k[0] = Math.max(1, k[0]);
          k[1] = Math.max(1, k[1]);
          if (V && K == 0)
              k[1] = k[0] / this.ss;
          if (V && K == 1)
              k[0] = k[1] * this.ss;
          C[0] = k[2];
          C[1] = k[3];
          C[2] = C[0] + k[0];
          C[3] = C[1] + k[1]
      }
      if (i != -1) {
          var k = cZ.sx(this.qP);
          N[i] = Math.max(0, k[i]);
          if (this.qP[4].u())
              for (var G = 0; G < 4; G++)
                  N[G] = N[i];
          var j = N[3];
          N[3] = N[2];
          N[2] = j
      }
      var a = new q(c.E.A,!0);
      a.F = u.Iy;
      a.data = {
          e: U.Q0,
          J8: C,
          agI: N
      };
      this.U(a)
  }
  ;
  cZ.Jl.prototype.MN = function(E) {
      if (E == null)
          return;
      var K = this.ND.parentNode != null
        , i = this.Dj.parentNode != null
        , C = _.U7.hv(E)
        , N = C[0]
        , k = C[1];
      if (N) {
          if (!K)
              this.j.appendChild(this.ND);
          this.ss = (N[2] - N[0]) / (N[3] - N[1]);
          cZ.G1(this.sB, [N[2] - N[0], N[3] - N[1], N[0], N[1]])
      } else if (K)
          this.j.removeChild(this.ND);
      if (k) {
          if (!i)
              this.j.appendChild(this.Dj);
          var V = k[2];
          k[2] = k[3];
          k[3] = V;
          cZ.G1(this.qP, k)
      } else if (i)
          this.j.removeChild(this.Dj)
  }
  ;
  function el(E) {
      iL.call(this, E.name, !0);
      this.uY = E;
      this.VV = null;
      this.FF = [];
      this.Zf = !1;
      this.av = {
          x: 0,
          y: 0,
          Oy: !1
      };
      this.Vr = document.createElement("canvas");
      this.Mg = this.Vr.getContext("2d");
      this.aR = document.createElement("canvas");
      this.DK = this.aR.getContext("2d");
      var K = 16
        , i = _.I(16 * 16 * 4);
      _.ux(i, K, K, 8);
      this.mq = _.scale.Vj(i, K, K);
      this.a5U = this.bC.bind(this);
      this.kT = this.BT.bind(this);
      this.acE = this.nW.bind(this);
      var C = this.KH;
      c.vo(C, this.a5U);
      c.ys(C, this.kT);
      C.addEventListener("wheel", this.nJ.bind(this), !1);
      C.addEventListener("contextmenu", this.a82.bind(this), !1);
      var N = this.a6D.bind(this);
      C.addEventListener("gesturestart", N, !1);
      C.addEventListener("gesturechange", N, !1);
      C.addEventListener("gestureend", N, !1);
      this.y4 = 0;
      this.a1J = "";
      this.RS = 4;
      c.pq(C)
  }
  el.prototype = new iL;
  el.prototype.a6D = function(E) {
      if (E.type == "gesturestart")
          this.Gp = E.scale;
      if (E.type == "gesturechange") {
          var K = new q("mouse",!0);
          K.action = "scroll";
          K.zq = !0;
          this.JF(E, K);
          var i = (this.Gp - E.scale) / this.Gp;
          K.P$ = new bT(0,100 * i);
          this.Gp = E.scale;
          this.U(K)
      }
  }
  ;
  el.prototype.vW = function() {
      if (this.uY.Vv())
          return window.confirm(i2.get([22, 6, 3]) + " " + this.uY.name + ". " + i2.get([22, 6, 4]));
      return !0
  }
  ;
  el.prototype.N1 = function(E) {
      E.preventDefault()
  }
  ;
  el.prototype.pO = function(E) {
      var K = -1
        , i = this.FF;
      for (var G = 0; G < i.length; G++)
          if (i[G].pointerId == E.pointerId)
              K = G;
      return K
  }
  ;
  el.ar = function(E) {
      var K = E.pointerType
        , i = window.__kb;
      return K == "touch" && i.q(w.ajx)
  }
  ;
  el.prototype.bC = function(E) {
      if (el.ar(E))
          return;
      var K = this.pO(E);
      if (K != -1)
          this.FF[K] = E;
      else
          this.FF.push(E);
      if (this.FF.length == 1) {
          var i = E.button != null && E.button != 0 ? "rdown" : "down"
            , C = new q("mouse",!0);
          C.action = i;
          this.JF(E, C);
          this.U(C);
          c.sI(this.KH, this.kT);
          c.ys(window, this.kT);
          c.vL(window, this.acE)
      }
      if (this.FF.length == 2) {
          this.K$("multidown");
          this.Zf = !0
      }
  }
  ;
  el.prototype.BT = function(E) {
      if (el.ar(E))
          return;
      var K = this.pO(E);
      if (K != -1)
          this.FF[K] = E;
      if (this.FF.length > 1) {
          this.K$("multimove")
      }
      if (this.Zf)
          return;
      var i = new q("mouse",!0);
      i.action = "move";
      this.JF(E, i);
      this.U(i);
      if (this.VV && this.VV.Q4 && !this.av.Oy)
          this.Vp()
  }
  ;
  el.prototype.nW = function(E) {
      if (el.ar(E))
          return;
      var K = this.FF
        , i = this.pO(E);
      K.splice(i, 1);
      if (K.length == 0) {
          var C = E.button != null && E.button > 0 ? "rup" : "up"
            , N = new q("mouse",!0);
          N.action = C;
          this.JF(E, N);
          this.U(N);
          c.sI(window, this.kT);
          c.qU(window, this.acE);
          c.ys(this.KH, this.kT);
          this.Zf = !1
      }
  }
  ;
  el.prototype.nJ = function(E) {
      this.N1(E);
      if (E.deltaX == 0 && E.deltaY == 0)
          return;
      var K = new q("mouse",!0);
      K.action = "scroll";
      K.zq = E.ctrlKey;
      this.JF(E, K);
      this.U(K)
  }
  ;
  el.prototype.a82 = function(E) {
      c.zx(E);
      var K = E.sourceCapabilities;
      if (K)
          K = K.firesTouchEvents;
      if (K) {
          var i = new q("mouse",!0);
          this.JF(E, i);
          i.action = "rdown";
          this.U(i);
          i.action = "rup";
          this.U(i)
      }
  }
  ;
  el.prototype.K$ = function(E) {
      var K = this.FF
        , i = c.M()
        , C = [];
      for (var G = 0; G < K.length; G++) {
          var N = C[G] = c.DX(K[G], this.KH);
          N.x *= i;
          N.y *= i
      }
      var k = new q("mouse",!0);
      k.action = E;
      k.v5 = C;
      this.U(k)
  }
  ;
  el.prototype.JF = function(E, K, i) {
      var C = this.FF.length != 0;
      if (K.action != "up") {
          var N = c.M();
          if (i == null)
              i = c.DX(E, this.KH);
          this.av = K.Lk = {
              x: N * i.x,
              y: N * i.y,
              Oy: C
          };
          var k = c.DX(E, document.body);
          K.Lk.ES = k.x;
          K.Lk.xg = k.y
      } else
          this.av = K.Lk = {
              x: this.av.x,
              y: this.av.y,
              Oy: C
          };
      K.Lk.JV = .5;
      if (E.pressure != null && E.pressure != 0)
          K.Lk.JV = E.pressure;
      if (E.pointerType == "mouse")
          K.Lk.JV *= 2;
      if (E.deltaX != null) {
          var V = E.deltaMode == 0 ? 1 : 40;
          K.P$ = new bT(E.deltaX * V,E.deltaY * V)
      }
  }
  ;
  el.prototype.bX = function(E, K) {
      this.VV = E
  }
  ;
  el.prototype.MN = function(E) {
      this.su();
      this.Vp()
  }
  ;
  el.prototype.FY = function(E, K) {
      if (E <= 0 || K <= 0)
          return;
      this.jx = E;
      this.w1 = K;
      var i = this.uY
        , C = c.M();
      i.a.DK.d = Math.floor(E * C);
      i.a.DK.v = Math.floor(K * C);
      c.Xh(this.aR, E, K);
      c.Xh(this.Vr, E, K);
      c.Xh(Y.Zg(), E, K);
      if (i.a.S == 0)
          i.a.S = u.z5.Kd(i.d, i.v, E * C, K * C);
      this.Vp()
  }
  ;
  el.prototype.su = function() {
      var E = this.KH.firstChild;
      if (!Y.vD && E == Y.Zg() || Y.vD && E == this.aR)
          this.KH.removeChild(E);
      var K = Y.vD ? Y.Zg() : this.aR;
      if (!c.ws(K))
          this.KH.appendChild(K)
  }
  ;
  el.prototype.Vp = function() {
      if (Y.vD != this.RS) {
          this.y4 = 0;
          this.a1J = ""
      }
      this.RS = Y.vD;
      if (this.VV == null)
          return;
      if (Y.vD)
          this.a1A();
      else
          this.pf();
      var E = this.uY;
      this.y4 = E.a.S;
      this.a1J = JSON.stringify(E.a.zj)
  }
  ;
  el.prototype.a1A = function() {
      if (Y.vD && el.akK == null)
          el.akK = new el.Rx(!1);
      if (Y.vD && el.ami == null)
          el.ami = [new el.Rx(!0,2), new el.Rx(!0,8), new el.Rx(!0,32), new el.Rx(!0,128)];
      var E = this.uY, e, I = 0;
      if (E.QJ == null)
          return;
      var K = E.a
        , i = K.DK.d
        , C = K.DK.v
        , N = Y.se;
      this.DK.clearRect(0, 0, i, C);
      var k = this.au(E);
      if (K.KW == null)
          K.KW = new Y.U0(i,C);
      if (k)
          K.KW.set(this.aR);
      else {
          Y.j8(K.KW);
          Y.BP(1)
      }
      var V = K.Dl(0, 0)
        , j = new fn;
      j.scale(i, C);
      j.concat(K.e6(!0));
      j.scale(1 / E.d, 1 / E.v);
      var a = [j.R, j.O, 0, j.x9, j.bI, 0, j.vK, j.Cz, 1];
      if (el.akw == null)
          el.akw = new Float32Array(4 * 1024);
      var L = [0, 0, 0, 0]
        , g = el.akw;
      if (E.add.artd) {
          g.fill(0);
          L = el.NJ(E);
          var h = E.d
            , o = E.v
            , v = 0;
          for (var G = 0; G < E.t.length; G++) {
              var H = E.t[G]
                , A = H.add.artb;
              if (A == null || !H.VD())
                  continue;
              var S = H.vH();
              g[I] = S.x / h;
              g[I + 1] = S.y / o;
              g[I + 2] = S.d / h;
              g[I + 3] = S.v / o;
              I += 4;
              if (I == g.length)
                  break
          }
          if (I > 2 * 4)
              v++;
          if (I > 8 * 4)
              v++;
          if (I > 32 * 4)
              v++;
          e = el.ami[v];
          g = new Float32Array(g.buffer,0,[2, 8, 32, 128][v] * 4)
      } else
          e = el.akK;
      Y.TV(i, C);
      Y.BP(0);
      Y.TV(i, C);
      e.Uk();
      e.Op(K.KW.k2, E.QJ.k2, new Float32Array(a), new Float32Array([i / 8, C / 8, V.x / i, V.y / C]), E.d, E.v, 1 / E.a.S, i, C, new Float32Array(L), g, new Float32Array(_.hZ.C2(_.hZ.Is(K.zj))));
      N.drawArrays(N.TRIANGLES, 0, 6)
  }
  ;
  el.NJ = function(E) {
      var K = E.add.artd.canvasColor;
      if (K == null)
          return [0, 0, 0, 0];
      return el.a4w(K)
  }
  ;
  el.a4w = function(E) {
      var K = _.V.Gk(E.v)
        , i = [K.h / 255, K.l / 255, K.O / 255, 1];
      for (var G = 0; G < 4; G++)
          i[G] = Math.min(1, i[G]);
      return i
  }
  ;
  el.Zt = function(E, K) {
      var i = E[2] * 255;
      if (Y.vD)
          i = K ? 0 : Math.max(1, i);
      return "rgba(" + E[0] * 255 + "," + E[1] * 255 + "," + i + "," + E[3] + ")"
  }
  ;
  el.GN = function(E) {
      if (Y.vD)
          for (var G = 0; G < E.length; G += 4) {
              if (E[G + 2] == 0)
                  E[G + 2] = 3
          }
  }
  ;
  el.prototype.pf = function() {
      var E = this.uY;
      if (E.buffer == null)
          return;
      var K = E.a
        , i = K.DK
        , C = i.d
        , N = i.v
        , k = new h4(0,0,E.d,E.v);
      this.Mg.clearRect(0, 0, C, N);
      this.DK.clearRect(0, 0, C, N);
      var V = K.e6(!0)
        , j = V.clone();
      j.KP();
      if (E.add.artd == null) {
          this.DK.save();
          var a = j.uZ(new bT(0,0));
          j.translate(-a.x, -a.y);
          this.DK.translate(Math.round(a.x), Math.round(a.y));
          this.DK.fillStyle = this.mq;
          this.Hl(_.$.X6(k), j, this.DK);
          this.DK.fill();
          this.DK.restore()
      } else {
          this.DK.fillStyle = el.Zt(el.NJ(E));
          this.DK.fillRect(0, 0, C, N);
          this.DK.save();
          this.DK.setTransform(j.R, j.O, j.x9, j.bI, j.vK, j.Cz);
          var e = E.root.children;
          for (var G = 0; G < e.length; G++) {
              var L = e[G].z;
              if (L.add.artb == null || !L.VD())
                  continue;
              var g = L.vH()
                , I = L.z3();
              if (I != 0)
                  continue;
              this.DK.fillStyle = "white";
              this.DK.fillRect(g.x, g.y, g.d, g.v)
          }
          this.DK.restore()
      }
      if (K.yf.length != i.X()) {
          K.yf = _.I(i.X());
          K.yd = _.I(i.X() * 4)
      }
      K.yd.fill(0);
      _.scale.a8O(E.buffer, k, V, K.yd, i);
      if (K.zj[0] + K.zj[1] + K.zj[2] != 3)
          _.hZ.O_(K.yd, K.yd, _.hZ.Is(K.zj));
      this.Mg.putImageData(new ImageData(new Uint8ClampedArray(K.yd.buffer),i.d,i.v), 0, 0);
      this.DK.drawImage(this.Vr, 0, 0);
      this.DK.getImageData(0, 0, 1, 1);
      this.au(E)
  }
  ;
  el.prototype.au = function(E) {
      var K = E.a
        , i = K.zj[0] + K.zj[1] + K.zj[2]
        , C = !1
        , N = [];
      for (var G = 0; G < E.C.length; G++) {
          var k = E.t[E.C[G]];
          if (k == null)
              continue;
          var V = k.dz;
          if (V != 1 && V != 3)
              continue;
          var j = V == 1 ? k.$Y() : k.uy(E).r;
          if (j.a5)
              N.push(j)
      }
      for (var G = 0; G < E.h_.length; G++)
          if (E.h_[G].a5)
              N.push(E.h_[G]);
      for (var G = 0; G < N.length; G++) {
          var j = N[G];
          this.Cp(j, K, N.length == 1 && i == 0 ? 2 : 1, j.color, j.vc);
          C = !0
      }
      var a = this.VV;
      C = this.aav(E, this.DK, K) || C;
      if (E.N && a.NN && a.bA.D1) {
          this.Cp(E.N, K, 0, 0, null);
          C = !0
      }
      return C
  }
  ;
  el.prototype.Cp = function(E, K, i, C, N) {
      var k = 0, I, h;
      if (N)
          k = Math.round(N.O) << 16 | Math.round(N.l) << 8 | Math.round(N.h);
      var V = K.e6(!0)
        , j = K.DK
        , a = new h4(0,0,K.uY.d,K.uY.v);
      if (K.yf.length != j.X()) {
          K.yf = _.I(j.X());
          K.yd = _.I(j.X() * 4)
      }
      K.yf.fill(C);
      K.yd.fill(0);
      var e = E.channel
        , L = E.rect;
      _.scale.m(e, L, V, K.yf, j);
      if (i == 0)
          _.N.a8k(K.yf, K.yd, j, j);
      else
          _.N.a2m(K.yf, K.yd, j, j, i, k);
      el.GN(K.yd);
      var g = new ImageData(new Uint8ClampedArray(K.yd.buffer),j.d,j.v);
      this.Mg.putImageData(g, 0, 0);
      this.DK.save();
      if (i == 0) {
          I = j.clone();
          I.Lv(-1, -1);
          h = new fn
      } else {
          I = new h4(0,0,a.d,a.v);
          h = V.clone();
          h.KP()
      }
      this.Hl(_.$.X6(I), h, this.DK);
      this.DK.clip();
      this.DK.drawImage(this.Vr, 0, 0);
      this.DK.restore()
  }
  ;
  el.prototype.aav = function(E, K, i) {
      var C = E.K.OU != null || E.K.yK != null || E.K.qK != null || E.K.NK.length != 0 || E.K.AL.length != 0
        , N = this.VV
        , k = N.bA
        , V = cr.zI[N.fn]
        , j = Math.round(12 * c.M())
        , a = j / E.a.S
        , e = i.e6(!0);
      e.KP();
      K.save();
      K.setTransform(e.R, e.O, e.x9, e.bI, e.vK, e.Cz);
      if (E.add.artd) {
          var L = el.NJ(E)[0];
          L = L < .5 ? L + .5 : L - .5;
          L = "" + Math.round(L * 255).toString(16);
          while (L.length < 2)
              L = "0" + L;
          K.fillStyle = "#" + L + L + L;
          K.font = a + "px sans-serif";
          for (var G = 0; G < E.t.length; G++) {
              var g = E.t[G];
              if (g.add.artb == null || !g.VD())
                  continue;
              var I = g.vH();
              K.fillText(g.getName(), I.x, I.y - 6 / i.S);
              C = !0
          }
      }
      var h = el.Zt([.1, .5, 1, 1])
        , o = el.Zt([1, 1, 1, 1]);
      if (N.NN && k.xq) {
          K.fillStyle = K.strokeStyle = h;
          K.lineWidth = 1.5 / i.S;
          var H = E.LM()
            , A = H[0]
            , S = H[1];
          for (var v = 0; v < S.length; v++) {
              var g = A[S[v]]
                , s = g.add.vmsk
                , D = s.b
                , F = _.$.bF(D);
              this.Hl(F, null, K);
              K.stroke();
              C = !0;
              var y = 3 * c.M() / i.S
                , T = D.length - 3;
              for (var G = 0; G < s.pK.length; G++) {
                  var Q = _.Y.GG(D, s.pK[G]);
                  if (Q == null)
                      continue;
                  var B = Q.x
                    , r = Q.y;
                  K.beginPath();
                  var J = G == 0;
                  if (s.PE)
                      J = !J;
                  if (J) {
                      K.moveTo(B - y, r - y);
                      K.lineTo(B + y, r + y);
                      K.moveTo(B - y, r + y);
                      K.lineTo(B + y, r - y);
                      K.stroke()
                  } else {
                      K.arc(B, r, y * 1, 0, 2 * Math.PI);
                      K.fill()
                  }
                  C = !0
              }
              if (E.C.length != 1)
                  continue;
              var m = -1;
              for (var G = 0; G < D.length; G++) {
                  if (D[G].type > 5)
                      continue;
                  if (D[G].type == 0 || D[G].type == 3) {
                      if (D[G].A0 != -1)
                          m++;
                      continue
                  }
                  if (s.C.indexOf(m) != -1) {
                      var B = D[G].D.x
                        , r = D[G].D.y;
                      K.fillRect(B - y * .8, r - y * .8, 2 * y * .8, 2 * y * .8)
                  }
                  if (s.hs.indexOf(G) != -1) {
                      var x = [D[G].D];
                      K.beginPath();
                      K.moveTo(D[G].ln.x, D[G].ln.y);
                      K.lineTo(D[G].D.x, D[G].D.y);
                      K.lineTo(D[G]._8.x, D[G]._8.y);
                      K.stroke();
                      if (!D[G].D.Ql(D[G].ln))
                          x.push(D[G].ln);
                      if (!D[G].D.Ql(D[G]._8))
                          x.push(D[G]._8);
                      for (var R = 0; R < x.length; R++) {
                          var Q = x[R]
                            , B = Q.x
                            , r = Q.y;
                          if (R == 0 && (D[G].type == 2 || D[G].type == 5))
                              K.fillRect(B - 1.2 * y, r - 1.2 * y, 2.4 * y, 2.4 * y);
                          else {
                              K.beginPath();
                              K.arc(B, r, y * 1.2, 0, 2 * Math.PI);
                              K.fill();
                              if (R != 0)
                                  K.fillStyle = o;
                              K.beginPath();
                              K.arc(B, r, y * .8, 0, 2 * Math.PI);
                              K.fill();
                              K.fillStyle = h
                          }
                      }
                  }
                  C = !0
              }
          }
      }
      K.fillStyle = K.strokeStyle = el.Zt([0, 0, 0, 1], !0);
      K.lineWidth = 1 / i.S;
      var b = new fn(1,0,0,1,.5 / i.S,.5 / i.S);
      if (E.K.OU) {
          this.Hl(E.K.OU, null, K);
          K.fill()
      }
      if (E.K.yK) {
          this.Hl(E.K.yK, b, K);
          K.stroke()
      }
      for (var z in E.K.Ni)
          if (E.K.Ni[z].yK) {
              this.Hl(E.K.Ni[z].yK, null, K);
              K.stroke();
              C = !0
          }
      K.beginPath();
      var y = (4 * c.M() + .5) / i.S
        , $ = E.K.Cn;
      for (var G = 0; G < $.length; G += 2) {
          C = !0;
          var B = $[G]
            , r = $[G + 1];
          K.rect(B - y, r - y, 2 * y, 2 * y)
      }
      K.stroke();
      var $ = E.K.amH;
      K.beginPath();
      var y = 4 * c.M() / i.S;
      for (var G = 0; G < $.length; G += 2) {
          C = !0;
          var B = $[G]
            , r = $[G + 1];
          K.moveTo(B + y, r);
          K.arc(B, r, y, 0, 2 * Math.PI)
      }
      K.fill();
      var $ = E.K.OV;
      K.fillStyle = el.Zt([1, 1, 1, 1]);
      K.beginPath();
      var y = 6 * c.M() / i.S;
      for (var G = 0; G < $.length; G += 2) {
          C = !0;
          var B = $[G]
            , r = $[G + 1];
          K.moveTo(B + y, r);
          K.arc(B, r, y, 0, 2 * Math.PI)
      }
      K.fill();
      var y = 4 * c.M() / i.S;
      for (var G = 0; G < $.length; G += 2) {
          C = !0;
          var B = $[G]
            , r = $[G + 1];
          K.fillStyle = el.Zt(E.K.Tt.indexOf(G >>> 1) != -1 ? [0, .6, 1, 1] : [.7, .7, .7, 1]);
          K.beginPath();
          K.moveTo(B + y, r);
          K.arc(B, r, y, 0, 2 * Math.PI);
          K.fill()
      }
      if (E.K.NK.length != 0) {
          for (var G = 0; G < E.K.NK.length; G++) {
              var P = E.K.NK[G]
                , t = P[1];
              K.putImageData(new ImageData(new Uint8ClampedArray(P[0].buffer),t.d,t.v), t.x, t.y)
          }
      }
      var X = .5 / i.S;
      K.lineWidth = 1 / i.S;
      if (E.K.s7) {
          C = !0;
          var Z = E.K.s7
            , p = Z.ha
            , F = {
              Z: [],
              H: []
          };
          for (var G = 0; G < Z.Q8.length; G++)
              _.$.concat(F, _.$.X6(Z.Q8[G]));
          F.H = F.H.concat(p);
          for (var G = 0; G < p.length; G += 4) {
              F.Z.push("M", "L")
          }
          for (var G = 0; G < F.H.length; G++) {
              F.H[G] += X
          }
          K.strokeStyle = el.Zt([.9, .2, .2, 1]);
          this.Hl(F, null, K);
          K.stroke();
          var gl = c.M()
            , f = 2 / i.S;
          K.font = a * .9 + "px sans-serif";
          for (var G = 0; G < p.length; G += 4) {
              var B = p[G]
                , r = p[G + 1]
                , cY = p[G + 2]
                , fC = p[G + 3]
                , hi = Math.sqrt((fC - r) * (fC - r) + (cY - B) * (cY - B));
              hi = _.lj.Fg(hi, E.v9, N, r == fC ? E.d : E.v);
              var es = new bT((B + cY) / 2,(r + fC) / 2);
              K.fillStyle = el.Zt([.9, .2, .2, 1]);
              var W = K.measureText(hi).width;
              K.fillRect(es.x - W / 2 - f * gl, es.y - 3.5 * f * gl, W + 2 * f * gl, 7 * f * gl);
              K.fillStyle = el.Zt([1, 1, 1, 1]);
              K.save();
              K.translate(es.x - W / 2, es.y + 2 * f * gl);
              K.scale(.1, .1);
              K.font = a * 9 + "px sans-serif";
              K.fillText(hi, 0, 0);
              K.restore()
          }
      }
      if (N.NN) {
          if (k.NG) {
              var d = _.lj.wR(k.gd, E, k.gH)
                , fM = d;
              if (k.gH == 4)
                  fM *= E.v / E.d;
              this.ux(E, K, d, fM, 1, k.e8);
              C = !0
          }
          if (k.RQ && E.a.S > 7) {
              this.ux(E, K, 1, 1, .5, k.e8);
              C = !0
          }
          if (k.rJ) {
              var n = Math.max(E.a.DK.d, E.a.DK.v) / E.a.S;
              n = Math.max(Math.max(E.d, E.v) * 2, n);
              K.beginPath();
              K.strokeStyle = el.Zt([0, 1, 1, 1]);
              for (var G = 0; G < E.rJ[0].length; G++) {
                  var ax = Math.round(E.rJ[0][G]) + X;
                  K.moveTo(ax, -n);
                  K.lineTo(ax, n)
              }
              for (var G = 0; G < E.rJ[1].length; G++) {
                  var d_ = Math.round(E.rJ[1][G]) + X;
                  K.moveTo(-n, d_);
                  K.lineTo(n, d_)
              }
              K.stroke()
          }
          var c4 = E.jX;
          if (k.jX && c4.length != 0) {
              K.font = a * .8 + "px sans-serif";
              var ch = []
                , hQ = [];
              for (var G = 0; G < c4.length; G++) {
                  var em = u.gX.hH(c4, G);
                  ch.push(em);
                  if (E.I9.indexOf(G) != -1)
                      hQ.push(em)
              }
              ch.reverse();
              var ag = Date.now();
              ch = _.rect.J$([0, 0, E.d, E.v], ch);
              for (var R = 0; R < 2; R++)
                  for (var G = 0; G < ch.length; G++) {
                      var am = ch[G]
                        , m = am[4]
                        , bK = m != null ? c4[m] : null;
                      if (bK && R == 0 || bK == null && R == 1)
                          continue;
                      var B = Math.round(am[0])
                        , r = Math.round(am[1])
                        , cY = Math.round(am[2])
                        , fC = Math.round(am[3]);
                      K.strokeStyle = K.fillStyle = el.Zt(bK ? [0, .7, .7, 1] : [.8, .8, .8, 1]);
                      K.strokeRect(B + X, r + X, cY - B, fC - r);
                      var ei = G + 1
                        , dL = K.measureText(ei)
                        , W = dL.width;
                      K.fillRect(B, r, W + a / 2, a);
                      K.fillStyle = el.Zt([1, 1, 1, 1]);
                      K.fillText(ei, B + a / 4, r + a * .8)
                  }
              var f = 2 / E.a.S
                , fh = 2 * f;
              for (var G = 0; G < hQ.length; G++) {
                  var am = hQ[G]
                    , B = Math.round(am[0])
                    , r = Math.round(am[1])
                    , cY = Math.round(am[2])
                    , fC = Math.round(am[3]);
                  K.strokeStyle = K.fillStyle = el.Zt([0, .7, .7, 1]);
                  K.strokeRect(B + X, r + X, cY - B, fC - r);
                  var eu = [B, r, cY, r, cY, fC, B, fC];
                  for (var hf = 0; hf < eu.length; hf += 2) {
                      var ax = eu[hf]
                        , d_ = eu[hf + 1]
                        , iS = eu[hf + 2 & 7]
                        , aI = eu[hf + 3 & 7];
                      K.fillRect(ax - f, d_ - f, fh, fh);
                      K.fillRect(Math.round((ax + iS) / 2) - f, Math.round((d_ + aI) / 2) - f, fh, fh)
                  }
              }
              C = !0
          }
      }
      K.strokeStyle = el.Zt([1, 0, 0, 1]);
      if (E.K.qK) {
          this.Hl(E.K.qK, b, K);
          K.stroke()
      }
      K.restore();
      if (N.Q4) {
          if (E.a.ik == null || E.a.ik.width != E.a.DK.d || E.a._h.height != E.a.DK.v) {
              E.a.ik = K.createImageData(E.a.DK.d, _.lj.Wa);
              E.a._h = K.createImageData(_.lj.Wa, E.a.DK.v)
          }
          var V = cr.zI[N.fn]
            , i = E.a
            , gn = i.S * E.d / 2
            , ce = i.S * E.v / 2
            , gr = [1, E.v9, E.v9 / 2.54, E.v9 / 25.4, E.d / 100][k.RG]
            , ek = i.S
            , bJ = i.i.clone()
            , aN = i.m3;
          i.S *= gr;
          i.i.x += gn * gr - gn;
          i.i.y += ce * gr - ce;
          i.m3 = 0;
          _.lj.amK(i, V["--text-color"], V["--bg-input"], Math.floor(this.av.x), Math.floor(this.av.y));
          i.S = ek;
          i.i = bJ;
          i.m3 = aN;
          var bG = a4.jo(i.S, el.Zt([1, 1, 1, 1]));
          el.GN(E.a._h.data);
          el.GN(E.a.ik.data);
          K.putImageData(E.a._h, 0, 0);
          K.putImageData(E.a.ik, 0, 0);
          K.putImageData(bG, 0, E.a.DK.v - bG.height)
      }
      if (E.K.AL.length != 0) {
          for (var G = 0; G < E.K.AL.length; G++) {
              var P = E.K.AL[G]
                , t = P[1];
              K.putImageData(new ImageData(new Uint8ClampedArray(P[0].buffer),t.d,t.v), t.x, t.y)
          }
      }
      return C || N.Q4 || E.rJ[0].length + E.rJ[1].length > 0
  }
  ;
  el.prototype.ux = function(E, K, i, C, N, k) {
      while (i * E.a.S < 4) {
          i *= 2;
          C *= 2
      }
      var V = E.d
        , j = E.v
        , a = .5 / E.a.S;
      K.strokeStyle = el.Zt([.5, .5, .5, N], !0);
      K.save();
      K.rect(0, 0, V, j);
      K.clip();
      K.beginPath();
      for (var e = 0; e <= V; e += i) {
          K.moveTo(e + a, 0);
          K.lineTo(e + a, j)
      }
      if (k == 0) {
          for (var L = 0; L <= j; L += C) {
              K.moveTo(0, L + a);
              K.lineTo(V, L + a)
          }
      } else {
          C *= Math.sqrt(4 / 3);
          var g = C * Math.floor(V / C)
            , I = V * (C / (2 * i));
          for (var L = -g; L <= j + g; L += C) {
              K.moveTo(0, L);
              K.lineTo(V, L - I);
              K.moveTo(0, L);
              K.lineTo(V, L + I)
          }
      }
      K.stroke();
      K.restore()
  }
  ;
  el.prototype.Hl = function(E, K, i) {
      i.beginPath();
      var C = _.$.clone(E);
      if (K)
          _.$.m(C.H, K, C.H);
      Typr.U.pathToContext({
          cmds: C.Z,
          crds: C.H
      }, i)
  }
  ;
  el.Rx = function(E, K) {
      Y.KI.call(this);
      this.acI = E;
      var i = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t" + (E ? "uniform vec4 bgClr;  uniform vec4 ars[" + K + "]; " : "") + "\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t" + Y.E1.ad + "\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); " + (E ? "\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<" + K + "; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(1.0,1.0,1.0,1.0); }\t\t\t\t\t}\t\t\t\t" : "\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t") + "\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}"
        , C = "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
      this.ZV(i, C)
  }
  ;
  el.Rx.prototype = new Y.KI;
  el.Rx.prototype.Op = function(E, K, i, C, N, k, V, j, a, e, L, g) {
      this.QQ("tmat gsize source target contSizeZoom cnvSize bgClr ars ctrn".split(" "));
      var I = Y.se
        , h = this.dM;
      I.uniformMatrix3fv(h.tmat, !1, i);
      I.uniform4fv(h.gsize, C);
      I.uniform3f(h.contSizeZoom, N, k, V);
      I.uniform2f(h.cnvSize, j, a);
      I.uniformMatrix4fv(h.ctrn, !1, g);
      if (this.acI) {
          I.uniform4fv(h.ars, L);
          I.uniform4fv(h.bgClr, e)
      }
      I.uniform1i(h.source, 0);
      I.uniform1i(h.target, 1);
      I.activeTexture(I.TEXTURE0);
      I.bindTexture(I.TEXTURE_2D, E);
      I.activeTexture(I.TEXTURE1);
      I.bindTexture(I.TEXTURE_2D, K);
      I.activeTexture(I.TEXTURE0)
  }
  ;
  function c9() {
      iL.call(this, [9, 7], !1, null, iL.Yb.a3D);
      this.KH.setAttribute("style", "min-width:240px;");
      this.CR = null;
      this.Ws = -1;
      this.aiF = [];
      this.XY = c.w("div", "scrollable");
      this.XY.style.height = "160px";
      this.KH.appendChild(this.XY);
      this.I1 = c.w("div", "lpfoot");
      this.KH.appendChild(this.I1);
      this.qc = [];
      var E = ["reload", "lrs/newlayer", "lrs/bin"]
        , K = [[5, 10], [5, 3], [5, 4]];
      for (var G = 0; G < E.length; G++) {
          var i = new hO("<img src=\"" + PIMG[E[G]] + "\" class=\"gsicon\" />",!1,K[G]);
          i.k("click", this.a5E, this);
          this.I1.appendChild(i.j);
          this.qc.push(i)
      }
  }
  c9.prototype = new iL("");
  c9.prototype.bQ = function(E) {
      var K = new q(c.E.A,!0);
      K.data = E;
      K.F = u.fl;
      this.U(K)
  }
  ;
  c9.prototype.a5E = function(E) {
      var G = this.qc.indexOf(E.currentTarget);
      if (G != 1)
          if (this.Ws == -1)
              return;
      this.bQ({
          e: ["updLC", "addLC", "delLC"][G],
          EL: this.Ws
      });
      if (G == 2)
          this.Ws = -1
  }
  ;
  c9.prototype.B = function() {
      iL.prototype.B.call(this);
      for (var G = 0; G < this.qc.length; G++)
          this.qc[G].B()
  }
  ;
  c9.prototype.MN = function(E) {
      if (E == null)
          c.U8(this.KH, "disabled");
      else
          c.lD(this.KH, "disabled");
      this.CR = E;
      c.kL(this.XY);
      if (E == null)
          return;
      var K = E.aZ.lastAppliedComp ? E.aZ.lastAppliedComp.v : 0
        , i = E.aZ.list.v.slice(0);
      i.unshift({
          v: {
              Nm: {
                  v: "Last Document State"
              },
              compID: {
                  v: 0
              },
              capturedInfo: {
                  v: 0
              }
          }
      });
      for (var G = 0; G < i.length; G++) {
          var C = i[G].v
            , N = new a5(C.Nm.v,C.compID.v,C.capturedInfo.v,K,this.Ws);
          N.k("activate", this.yn, this);
          N.parent = this;
          this.XY.appendChild(N.j);
          this.aiF.push(N)
      }
  }
  ;
  c9.prototype.yn = function(E) {
      this.Ws = E.currentTarget.EL;
      this.MN(this.CR)
  }
  ;
  function a5(E, G, K, i, C) {
      aB.call(this);
      this.EL = G;
      this.j = c.w("div", "head listitem" + (G == C ? " selected" : ""));
      var N = G == i
        , k = new hO(N ? "\u2713" : "\u2014");
      if (N)
          k.cY();
      this.j.appendChild(k.j);
      k.k("click", this.jg, this);
      var V = this.Qf = c.w("span");
      V.textContent = E;
      this.j.appendChild(V);
      this.qc = [];
      if (G != 0) {
          this.j.addEventListener("mouseup", this.yn.bind(this), !1);
          this.ad0 = c.w("span", "headR");
          this.j.appendChild(this.ad0);
          var j = ["lrs/eye", "pos", "lrs/fx"]
            , a = ["Visibility", "Position", "Appearance"];
          for (var e = 0; e < j.length; e++) {
              var L = new hO("<img src=\"" + PIMG[j[e]] + "\" class=\"autoscale gsicon\" />",!1,a[e]);
              if ((K >> e & 1) == 0)
                  L.j.setAttribute("style", "opacity:0.3");
              L.k("click", this.a3N, this);
              this.ad0.appendChild(L.j);
              this.qc.push(L)
          }
      }
  }
  a5.prototype = new aB;
  a5.prototype.yn = function(E) {
      if (E.target != this.Qf && E.target != this.j)
          return;
      if (E.detail == 1)
          this.U(new q("activate",!1));
      else {
          var K = new iL.$Z(this.Qf,this.i2.bind(this))
      }
  }
  ;
  a5.prototype.a3N = function(E) {
      var G = this.qc.indexOf(E.currentTarget);
      this.bQ({
          e: "editLC",
          ao0: G,
          EL: this.EL
      })
  }
  ;
  a5.prototype.i2 = function(E) {
      this.bQ({
          e: "editLC",
          dq: E,
          EL: this.EL
      })
  }
  ;
  a5.prototype.jg = function(E) {
      this.bQ({
          e: "setLC",
          EL: this.EL
      })
  }
  ;
  a5.prototype.bQ = function(E) {
      var K = new q(c.E.A,!0);
      K.data = E;
      K.F = u.fl;
      this.U(K)
  }
  ;
  function bC() {
      iL.call(this, [9, 11], !1, null, iL.Yb.af5);
      var E = c.w("div", "padded");
      E.setAttribute("style", "min-width:15em");
      this.KH.appendChild(E);
      var K = c.w("div");
      E.appendChild(K);
      K.setAttribute("style", "cursor:grab;");
      this.n4 = c.w("canvas");
      this.n4.width = 100;
      K.appendChild(this.n4);
      c.pq(this.n4);
      c.vo(this.n4, this.fQ.bind(this));
      this.yv = new hw(null,0,u.z5.eI.length - 1);
      this.yv.k(c.E.L, this.a4x, this);
      E.appendChild(this.yv.j);
      this.aiu = this.$G.bind(this);
      this.aha = this.ra.bind(this);
      this.eu = null
  }
  bC.prototype = new iL("");
  bC.prototype.FY = function(E, K) {
      this.Vp()
  }
  ;
  bC.prototype.a4x = function(E) {
      var K = this.yv.u()
        , i = this.eu
        , C = u.z5.eI[u.z5.eI.length - 1 - K]
        , N = new q(c.E.A,!0);
      N.F = u.L7;
      N.data = {
          e: "zoom",
          S: C
      };
      this.U(N)
  }
  ;
  bC.prototype.fQ = function(E) {
      if (this.eu == null)
          return;
      c.ys(window, this.aiu);
      c.vL(window, this.aha)
  }
  ;
  bC.prototype.$G = function(E) {
      var K = c.DX(E, this.n4)
        , i = this.eu
        , C = this.n4.width
        , N = this.n4.height
        , k = (K.x * c.M() - C / 2) / C
        , V = (K.y * c.M() - N / 2) / N
        , j = c.M() * i.a.S
        , a = Math.round(-i.a.S * i.d * k)
        , e = Math.round(-i.a.S * i.v * V);
      u.ZW.a$(i, a, e)
  }
  ;
  bC.prototype.ra = function(E) {
      c.sI(window, this.aiu);
      c.qU(window, this.aha)
  }
  ;
  bC.prototype.MN = function(E) {
      if (E == null && this.eu != null)
          this.n4.width = 100;
      this.eu = E;
      this.Vp()
  }
  ;
  bC.prototype.Vp = function() {
      var E = this.eu
        , C = 0;
      if (E == null || E.a.S == 0)
          return;
      var K = E.a;
      if (!c.ws(this.KH))
          return;
      this.yv.T(u.z5.eI.length - 1 - u.z5.qa(K.S));
      var i = 300 * c.M()
        , N = [E.A7(), new h4(0,0,E.d,E.v)];
      _.Mv(N);
      while (Math.max(N[C + 1].d, N[C + 1].v) > i) {
          C += 2
      }
      var k = N[C]
        , V = N[C + 1]
        , j = V.d
        , a = V.v
        , e = this.n4;
      e.width = j;
      e.height = a;
      c.em(e, j, a);
      var L = e.getContext("2d")
        , g = L.createImageData(j, a);
      _.uJ(k, g.data);
      L.putImageData(g, 0, 0);
      var I = K.DK
        , h = K.Eb(I.x, I.y)
        , o = K.Eb(I.x + I.d, I.y + I.v)
        , H = j / E.d;
      L.scale(H, H);
      L.lineWidth = 4 / H;
      L.strokeStyle = "#ff0000";
      L.strokeRect(h.x, h.y, o.x - h.x, o.y - h.y)
  }
  ;
  bC.prototype.bX = function(E, K) {}
  ;
  bC.prototype.su = function() {
      this.Vp()
  }
  ;
  function ge(E, K) {
      if (E == null) {
          iL.call(this);
          return
      }
      iL.call(this, E.name, !1, E.icon, K);
      var i = this.a8w = c.w("iframe", "padded");
      i.setAttribute("src", E.url);
      i.setAttribute("style", "width:" + E.width + "px; height:" + E.height + "px");
      this.KH.appendChild(i)
  }
  ge.prototype = new iL("");
  ge.prototype.og = function(E) {
      if (c.ws(this.a8w))
          this.a8w.contentWindow.postMessage(E, "*")
  }
  ;
  function ii() {
      iL.call(this, [9, 12], !1, null, iL.Yb.rC);
      this.Mi = null;
      this.xi = new hP(u.uf);
      this.xi.parent = this;
      var E = c.w("div", "padded");
      E.setAttribute("style", "width:20em");
      this.KH.appendChild(E);
      E.appendChild(this.xi.PV)
  }
  ii.prototype = new iL("");
  ii.prototype.su = function() {
      this.xi.$S(this.Mi.jk)
  }
  ;
  ii.prototype.bX = function(E, K) {
      this.Mi = E;
      if (K == dp.iW || K == dp.rC)
          this.xi.$S(E.jk)
  }
  ;
  ii.prototype.FY = function(E, K) {
      this.xi.am5(this.Mi.sw)
  }
  ;
  ii.prototype.B = function() {
      iL.prototype.B.call(this);
      this.xi.B()
  }
  ;
  function de() {
      aB.call(this);
      this.F = 0;
      this.p3 = null;
      this.j = c.w("div", "toolconf");
      this.xi = null;
      this.wk = null;
      this.body = new c.w("div","body")
  }
  de.prototype = new aB;
  de.prototype.ajm = function(E, K) {
      this.F = E;
      this.p3 = K;
      if (u._4[E]) {
          var i = this.xi = new hP(E);
          this.j.appendChild(i.j);
          i.parent = this
      } else {
          this.wk = c.w("div");
          this.j.appendChild(this.wk)
      }
      this.j.appendChild(this.body);
      this.B()
  }
  ;
  de.prototype.tQ = function(E, K) {}
  ;
  de.prototype.f$ = function(E) {}
  ;
  de.prototype.bX = function(E, K) {
      if (K == dp.iW || K == dp.rC)
          if (this.xi)
              this.xi.$S(E.jk)
  }
  ;
  de.prototype.g9 = function(E) {}
  ;
  de.prototype.B = function() {
      if (this.xi)
          this.xi.B();
      else
          this.wk.innerHTML = c.GJ(this.p3, null, "toolicon");
      this.B_()
  }
  ;
  de.prototype.B_ = function() {}
  ;
  function e0(E) {
      de.call(this);
      if (E == null)
          return;
      this.Mi = null;
      this.Pz = {};
      for (var G = 0; G < E.length; G++) {
          var K = E[G]
            , i = null;
          if (K == "brush") {
              i = new iE
          }
          if (K == "bmode") {
              i = new gc([12, 19, 0],gx.z2,!1,gx.Dx)
          }
          if (K == "bmode0") {
              i = new gc([12, 19, 0],gx.z2.slice(23),!1)
          }
          if (K == "emode") {
              i = new gc([12, 36],[[9, 3], [10, 38]])
          }
          if (K == "opacity") {
              i = new gI([12, 0],0,100,"%");
              i.T(100)
          }
          if (K == "flow") {
              i = new gI([12, 63],0,100,"%");
              i.T(100)
          }
          if (K == "smth") {
              i = new gI([19, 3, 0],0,100,"%");
              i.T(0)
          }
          if (K == "samp") {
              i = new gc("Sampling",["Brush Center", "Start of Stroke", "Background Color"])
          }
          if (K == "wconf") {
              i = new gO;
              i.T([40, !0, !0])
          }
          if (K == "strn") {
              i = new gI([12, 64],1,100,"%");
              i.T(50)
          }
          if (K == "smode") {
              i = new gc([12, 36],[[19, 7, 0], [19, 7, 1]]);
              i.T(1)
          }
          if (K == "pdetail") {
              i = new ck([12, 65]);
              i.cY()
          }
          if (K == "rng") {
              i = new gc([12, 12],[[19, 6, 0], [19, 6, 1], [19, 6, 2]]);
              i.T(1)
          }
          if (K == "expo") {
              i = new gI([12, 5],0,100,"%");
              i.T(50)
          }
          if (K == "algnd") {
              i = new ck([12, 75]);
              i.T(!1)
          }
          if (K == "sfrom") {
              i = new gc([12, 70],[[17, 1], [17, 3], [17, 0]])
          }
          if (K == "alt") {
              i = new cP(null,["Alt"],!0,["Select Source"])
          }
          if (K == "qsmode") {
              i = new eN([12, 36],["<img src=\"" + PIMG["set/front"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.zoomIn + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.zoomOut + "\" class=\"autoscale gsicon\" />"],[[5, 3], [18, 1], [18, 2]])
          }
          if (K == "redge") {
              i = new hO([7, 11],!1,null,!0)
          }
          if (K == "setop") {
              i = new gH
          }
          if (K == "patch") {
              i = new eN(null,[[12, 70], [12, 71]])
          }
          if (K == "prsr") {
              i = new cP(null,["<img src=\"" + PIMG.prsO + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.prsS + "\" class=\"autoscale gsicon\" />"],!0,[[15, 9, 0], [15, 9, 1]]);
              i.T([!1, !0])
          }
          i.parent = this;
          this.body.appendChild(i.j);
          this.Pz[K] = i;
          if (K == "brush")
              i.k(c.E.L, this.jP, this);
          else if (K == "redge")
              i.k("click", this.c1, this);
          else
              i.k(c.E.L, this.mG, this)
      }
  }
  e0.prototype = new de;
  e0.prototype.tQ = function(E, K) {
      E = E[1];
      var i = this.Pz;
      if (E.Md)
          i.bmode.T(gx.hr.indexOf(E.Md.v.BlnM));
      if (E.Opct)
          i.opacity.T(E.Opct.v);
      if (E.flow)
          i.flow.T(E.flow.v);
      if (E.Brsh)
          i.brush.T(E, K.O9.uQ, K.O9.j$);
      if (E.FrgC) {
          var C = _.V.Gk(E.FrgC.v)
            , N = new q(c.E.P,!0);
          N.data = {
              e: c.f.H7,
              KG: dp.VL,
              Qh: 0,
              G: C.h << 16 | C.l << 8 | C.O
          };
          this.U(N)
      }
      this.jP();
      this.mG()
  }
  ;
  e0.prototype.f$ = function() {
      if (u._4[this.F] == null)
          return null;
      var E = this.Pz
        , K = JSON.parse(JSON.stringify(E.brush.u()));
      K.classID = u._4[this.F][1][0];
      if (E.bmode)
          K.Md = {
              t: "enum",
              v: {
                  BlnM: gx.hr[E.bmode.u()]
              }
          };
      if (E.opacity)
          K.Opct = {
              t: "long",
              v: E.opacity.u()
          };
      if (E.flow)
          K.flow = {
              t: "long",
              v: E.flow.u()
          };
      var i = this.Mi.sm;
      i = {
          h: i >>> 16,
          l: i >>> 8 & 255,
          O: i & 255
      };
      K.FrgC = {
          t: "Objc",
          v: _.V.VQ(i)
      };
      return ["Brush Preset " + K.Brsh.v.Dmtr.v.val, K]
  }
  ;
  e0.prototype.c1 = function() {
      var E = new q(c.E.P,!0);
      E.data = {
          e: c.f.eQ,
          KN: "redge"
      };
      this.U(E)
  }
  ;
  e0.prototype.B_ = function() {
      for (var E in this.Pz)
          this.Pz[E].B()
  }
  ;
  e0.prototype.g9 = function(E) {
      if (E.a6n == "showBrushOpts") {
          this.Pz.brush.N8(E.s6.x, E.s6.y)
      }
      for (var K in E.$m) {
          var i = E.$m[K];
          if (K != "qsmode")
              i *= 100;
          if (this.Pz[K])
              this.Pz[K].T(i)
      }
  }
  ;
  e0.prototype.bX = function(E, K) {
      de.prototype.bX.call(this, E, K);
      this.Mi = E;
      var i = this.Pz.brush;
      if (i == null)
          return;
      if (K == dp.iW || K == dp.uf)
          i.$S(E.O9);
      if (K == dp.Zb) {
          i.T(E.O9.h8, E.O9.uQ, E.O9.j$)
      }
  }
  ;
  e0.prototype.jP = function() {
      var E = new q(c.E.P,!0);
      E.data = {
          e: c.f.H7,
          KG: dp.Zb,
          AC: this.Pz.brush.u()
      };
      this.U(E)
  }
  ;
  e0.prototype.mG = function() {
      var E = new q(c.E.P,!0);
      E.data = {
          e: c.f.aY,
          F: this.F
      };
      for (var K in this.Pz) {
          if (K == "brush" || K == "redge")
              continue;
          var i = this.Pz[K].u();
          if (["opacity", "flow", "smth", "strn", "expo"].indexOf(K) != -1)
              E.data[K] = i / 100;
          else if (K == "bmode")
              E.data.bmode = gx.WR[i];
          else if (K == "bmode0")
              E.data.bmode = gx.WR[23 + i];
          else
              E.data[K] = i
      }
      this.U(E)
  }
  ;
  function fW(E) {
      de.call(this);
      if (E)
          return;
      this.data = {
          e: c.f.aY,
          bH: "front",
          zo: 0,
          Uj: [16, !0, !0],
          JD: {
              yH: 0,
              x: 1,
              y: 1
          }
      };
      this._p = new gH;
      this.body.appendChild(this._p.j);
      this._p.k(c.E.L, this.sc, this);
      this.UI = new gI([7, 6],0,100," px");
      this.UI.parent = this;
      this.UI.T(0);
      this.body.appendChild(this.UI.j);
      this.UI.k(c.E.L, this.sc, this);
      this.AB = new hO([7, 11],!1,null,!0);
      this.body.appendChild(this.AB.j);
      this.AB.k("click", this.c1, this)
  }
  fW.prototype = new de;
  fW.prototype.g9 = function(E) {
      if (E.bH != null)
          this._p.T(E.bH);
      else if (E.KT) {
          var K = this.data;
          K.bH = E.KT.bH;
          this._p.T(K.bH);
          K.zo = E.KT.zo;
          this.UI.T(K.zo);
          K.Uj = E.KT.Uj;
          if (this.t9)
              this.t9.T(K.Uj)
      } else {
          var i = fW.ts;
          if (i == null) {
              var C = h_.af1(!0);
              i = fW.ts = new bi(C.items,C.xn)
          }
          i.B();
          i.parent = this;
          i.update(E.im, E.VV);
          var N = new q(c.E.P,!0);
          N.data = {
              e: c.f.um,
              CP: i,
              x: E.kK.ES + 2,
              y: E.kK.xg + 1
          };
          this.U(N)
      }
  }
  ;
  fW.prototype.B_ = function() {
      this.UI.B();
      this._p.B();
      this.AB.B()
  }
  ;
  fW.prototype.c1 = function() {
      var E = new q(c.E.P,!0);
      E.data = {
          e: c.f.eQ,
          KN: "redge"
      };
      this.U(E)
  }
  ;
  fW.prototype.sc = function() {
      var E = new q(c.E.P,!0);
      this.data.F = this.F;
      this.data.bH = this._p.u();
      this.data.zo = this.UI.u();
      E.data = this.data;
      this.U(E)
  }
  ;
  function iQ() {
      e0.call(this, ["brush", "strn"])
  }
  iQ.prototype = new e0;
  function dU() {
      e0.call(this, "brush bmode opacity flow smth prsr".split(" "))
  }
  dU.prototype = new e0;
  function gD() {
      e0.call(this, ["brush", "bmode0", "samp", "wconf"])
  }
  gD.prototype = new e0;
  function a0() {
      e0.call(this, ["brush"])
  }
  a0.prototype = new e0;
  function c_() {
      e0.call(this, ["brush", "bmode", "opacity", "smth", "prsr"])
  }
  c_.prototype = new e0;
  function fd() {
      e0.call(this, ["brush", "rng", "expo"])
  }
  fd.prototype = new e0;
  function e9() {
      e0.call(this, "brush bmode opacity algnd sfrom alt".split(" "))
  }
  e9.prototype = new e0;
  function g0(E) {
      de.call(this);
      if (E == null)
          return;
      var K = c.w("span", "fitem");
      this.body.appendChild(K);
      var i = [[17, 0], [17, 1], [11, 12, 0], [17, 2]];
      this.kC = [];
      for (var G = 0; G < i.length; G++) {
          var C = new hO(i[G],!1,null,!0);
          this.kC.push(C);
          C.k("click", this.a9k, this);
          if (!E || G == 1)
              K.appendChild(C.j)
      }
      this.JD = new ar;
      this.JD.k(c.E.L, this.Sh, this);
      if (!E)
          this.body.appendChild(this.JD.j);
      this.hu = new ck("Delete Cropped Pixels");
      this.hu.k(c.E.L, this.Sh, this);
      if (!E)
          this.body.appendChild(this.hu.j);
      this.b$ = new ci;
      this.b$.k("click", this.Vw, this)
  }
  g0.prototype = new de;
  g0.prototype.B_ = function() {
      this.b$.B();
      for (var G = 0; G < this.kC.length; G++)
          this.kC[G].B();
      this.JD.B();
      this.hu.B()
  }
  ;
  g0.prototype.g9 = function(E) {
      var K = this.b$.j;
      if (E.tV)
          this.body.appendChild(K);
      else if (this.body.contains(K))
          this.body.removeChild(K);
      if (E.JD)
          this.JD.T(E.JD)
  }
  ;
  g0.prototype.Vw = function(E) {
      var K = {
          e: c.f.aY,
          F: this.F,
          AR: this.b$.u() ? "commit" : "cancel"
      }
        , i = new q(c.E.P,!0);
      i.data = K;
      this.U(i)
  }
  ;
  g0.prototype.a9k = function(E) {
      E.target.j.blur();
      var K = {
          e: c.f.aY,
          F: this.F,
          AR: "cropby",
          aeE: this.kC.indexOf(E.target)
      }
        , i = new q(c.E.P,!0);
      i.data = K;
      this.U(i)
  }
  ;
  g0.prototype.Sh = function(E) {
      var K = {
          e: c.f.aY,
          F: this.F,
          AR: "config",
          oO: {
              eA: this.JD.u()
          }
      };
      if (E.target == this.hu)
          K.oO.P9 = this.hu.u();
      var i = new q(c.E.P,!0);
      i.data = K;
      this.U(i)
  }
  ;
  function h5() {
      g0.call(this, !1)
  }
  h5.prototype = new g0;
  function g1() {
      g0.call(this, !0)
  }
  g1.prototype = new g0;
  function dG() {
      e0.call(this, ["brush", "rng", "expo"])
  }
  dG.prototype = new e0;
  function fG() {
      e0.call(this, "brush emode opacity flow smth prsr".split(" "))
  }
  fG.prototype = new e0;
  function hM() {
      e0.call(this, ["brush", "samp", "wconf"])
  }
  hM.prototype = new e0;
  function fI() {
      fW.call(this);
      this.JD = new ar;
      this.JD.k(c.E.L, this.iE, this);
      this.body.appendChild(this.JD.j)
  }
  fI.prototype = new fW(!0);
  fI.prototype.iE = function(E) {
      this.data.JD = this.JD.u();
      this.sc()
  }
  ;
  fI.prototype.B_ = function() {
      fW.prototype.B_.call(this);
      this.JD.B()
  }
  ;
  function ad() {
      de.call(this);
      this.QV = new gc([12, 20],["1x1", "3x3", "5x5", "11x11", "31x31"]);
      this.QV.k(c.E.L, this.mG, this);
      this.body.appendChild(this.QV.j)
  }
  ad.prototype = new de;
  ad.prototype.mG = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.aY,
          F: this.F,
          hB: [1, 3, 5, 11, 31][this.QV.u()]
      };
      this.U(K)
  }
  ;
  ad.prototype.B_ = function() {
      this.QV.B()
  }
  ;
  function gq() {
      de.call(this);
      this.YS = new c6(!1);
      this.YS.parent = this;
      this.YS.k(c.E.L, this.dH, this);
      this.body.appendChild(this.YS.j);
      this.YS.T(JSON.parse(ao.I_.W9).v);
      this.sy = new gc(null,ao.V.names.slice(0, 5));
      this.sy.k(c.E.L, this.dH, this);
      this.body.appendChild(this.sy.j);
      this.zd = new gc([12, 19, 0],gx.z2,null,gx.Dx);
      this.zd.k(c.E.L, this.dH, this);
      this.body.appendChild(this.zd.j);
      this.rO = new gI([12, 0],0,100,"%");
      this.rO.parent = this;
      this.rO.k(c.E.L, this.dH, this);
      this.body.appendChild(this.rO.j);
      this.rO.T(100);
      this.dR = new ck([12, 23, 0]);
      this.dR.k(c.E.L, this.dH, this);
      this.body.appendChild(this.dR.j);
      this.Ba = new ck("Dither");
      this.Ba.k(c.E.L, this.dH, this);
      this.body.appendChild(this.Ba.j)
  }
  gq.prototype = new de;
  gq.prototype.B_ = function() {
      this.sy.B();
      this.zd.B();
      this.rO.B();
      this.dR.B();
      this.Ba.B()
  }
  ;
  gq.prototype.bX = function(E, K) {
      de.prototype.bX.call(this, E, K);
      var i = K == dp.VL;
      this.YS.ca(E.sm, E.JT);
      if (i || K == dp.vq || K == dp.iW)
          this.YS.$S(E.i0)
  }
  ;
  gq.prototype.dH = function() {
      var E = new q(c.E.P,!0);
      E.data = {
          e: c.f.aY,
          F: this.F
      };
      E.data.KG = {
          V: this.YS.u(),
          jw: ao.V.types[this.sy.u()],
          PE: this.dR.vV(),
          adL: this.Ba.vV(),
          ahD: gx.WR[this.zd.u()],
          $J: this.rO.u() / 100
      };
      this.U(E)
  }
  ;
  function iM() {
      de.call(this)
  }
  iM.prototype = new de;
  function e_() {
      de.call(this);
      var E = c.w("span", "fitem");
      this.body.appendChild(E);
      this.wr = [new gI([12, 15],0,0,"\xB0"), new hO("Reset",null,null,!0)];
      for (var G = 0; G < this.wr.length; G++) {
          var K = this.wr[G];
          K.parent = this;
          E.appendChild(K.j);
          K.k(G == 1 ? "click" : c.E.L, this.I0, this)
      }
  }
  e_.prototype = new de;
  e_.prototype.B_ = function() {
      for (var G = 0; G < this.wr.length; G++)
          this.wr[G].B()
  }
  ;
  e_.prototype.g9 = function(E) {
      this.wr[0].T(E.Rz * 180 / Math.PI)
  }
  ;
  e_.prototype.I0 = function(E) {
      var K = this.wr.indexOf(E.target)
        , i = new q(c.E.P,!0);
      i.data = {
          e: c.f.aY,
          F: this.F,
          Rz: K == 1 ? 0 : E.target.u() * Math.PI / 180
      };
      this.U(i)
  }
  ;
  function d8() {
      e0.call(this, ["brush", "algnd", "sfrom", "alt"])
  }
  d8.prototype = new e0;
  function gP() {
      de.call(this);
      this.k1 = new hp;
      this.k1.parent = this;
      this.body.appendChild(this.k1.jj.j);
      this.body.appendChild(this.k1.kn.j);
      this.body.appendChild(this.k1.ep.j);
      var E = c.w("span", "fitem");
      this.body.appendChild(E);
      E.appendChild(this.k1.Ug.j);
      E.appendChild(this.k1.MY.j);
      E.appendChild(this.k1.lr.j);
      this.eN = new gc("Aa",[[22, 5, 0], "Sharp", "Crisp", "Strong", "Smooth"]);
      this.eN.k(c.E.L, this.Vw, this);
      this.body.appendChild(this.eN.j);
      this.Lp = new hO([11, 9],!1,null,!0);
      this.Lp.k("click", this.ag9, this);
      this.body.appendChild(this.Lp.j);
      this.b$ = new ci;
      this.b$.k("click", this.Vw, this)
  }
  gP.prototype = new de;
  gP.prototype.B_ = function() {
      this.b$.B();
      this.k1.B();
      this.Lp.B()
  }
  ;
  gP.prototype.ag9 = function(E) {
      var K = {
          e: c.f.aY,
          F: this.F,
          AR: "showwarp"
      }
        , i = new q(c.E.P,!0);
      i.data = K;
      this.U(i)
  }
  ;
  gP.prototype.g9 = function(E) {
      if (E.AR == "showactive")
          this.body.appendChild(this.b$.j);
      if (E.AR == "hideactive")
          this.body.removeChild(this.b$.j);
      if (E.AR == "changeAA")
          this.eN.T(E.Gz)
  }
  ;
  gP.prototype.bX = function(E, K) {
      de.prototype.bX.call(this, E, K);
      if (K != dp.iW && K != dp.nF && K != dp.ht && K != dp.o7)
          return;
      this.k1.T(E.Ox, E.g5, E.Jd)
  }
  ;
  gP.prototype.Vw = function(E) {
      var K = {
          e: c.f.aY,
          F: this.F,
          AR: this.b$.u() ? "commit" : "cancel"
      };
      if (E.target == this.eN) {
          K.AR = "changeAA";
          K.Gz = this.eN.u()
      }
      var i = new q(c.E.P,!0);
      i.data = K;
      this.U(i)
  }
  ;
  function iK() {
      fW.call(this)
  }
  iK.prototype = new fW(!0);
  function g8() {
      de.call(this);
      var E = []
        , i = "<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
      this.CS = new ck([12, 85]);
      this.CS.k(c.E.L, this.mG, this);
      E.push(this.CS.j);
      this.Du = new ck([20, 1]);
      this.Du.k(c.E.L, this.mG, this);
      E.push(this.Du.j);
      this.pY = new ck([12, 83]);
      this.pY.k(c.E.L, this.mG, this);
      E.push(this.pY.j);
      var K = c.w("span", "fitem");
      E.push(K);
      this.anY = new gc("Scale for exported files",["1x", "2x", "3x", "4x"],!0);
      K.appendChild(this.anY.j);
      this.ld = new hO(i + " PNG",!1,"Save selected layers as PNG",!0);
      K.appendChild(this.ld.j);
      this.ld.k("click", this.IJ, this);
      this.a7j = new hO(i + " SVG",!1,"Save selected layers as SVG",!0);
      K.appendChild(this.a7j.j);
      this.a7j.k("click", this.IJ, this);
      var C = c.w("span", "fitem");
      E.push(C);
      var N = c.w("span", "fitem");
      E.push(N);
      this.qc = [];
      for (var G = 0; G < 8; G++) {
          var k = G == 3 || G == 7 ? [20, 4, 6] : [20, 4, G < 3 ? G : G - 1]
            , V = new hO("Hi",!1,k);
          (G < 4 ? C : N).appendChild(V.j);
          V.k("click", this.IJ, this);
          this.qc.push(V)
      }
      for (var G = 0; G < E.length; G++)
          this.body.appendChild(E[G]);
      this.amF = E
  }
  g8.prototype = new de;
  g8.prototype.g9 = function(E) {
      var K = E.KT
        , i = E.aa1;
      this.CS.T(K.GV);
      this.Du.T(K.PM);
      this.pY.T(K.s7);
      if (i) {
          c.kL(this.body);
          for (var G = 0; G < i.length; G++)
              if (i[G] == 1 && this.amF[G])
                  this.body.appendChild(this.amF[G])
      }
  }
  ;
  g8.prototype.IJ = function(E) {
      var K = this.qc.indexOf(E.target), i;
      if (K == -1) {
          i = new q(c.E.P,!0);
          i.data = {
              e: c.f.aY,
              F: this.F,
              Qh: E.target == this.ld ? "getPNG" : "getSVG",
              V7: this.anY.u() + 1
          }
      } else {
          i = new q(c.E.A,!0);
          i.F = u.Sm;
          i.data = {
              e: "algn",
              G: K
          }
      }
      this.U(i)
  }
  ;
  g8.prototype.mG = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.aY,
          F: this.F,
          Qh: "prms",
          GV: this.CS.vV(),
          PM: this.Du.vV(),
          s7: this.pY.vV()
      };
      this.U(K)
  }
  ;
  g8.prototype.B_ = function() {
      this.CS.B();
      this.Du.B();
      this.pY.B();
      var E = "h0 h1 h2 hG v0 v1 v2 vG".split(" ");
      for (var G = 0; G < 8; G++) {
          this.qc[G].KZ(c.GJ("align/" + E[G], null, "autoscale"))
      }
  }
  ;
  function ip() {
      fW.call(this);
      var E = this.t9 = new gO;
      E.parent = this;
      E.k(c.E.L, this.a4P, this);
      this.body.appendChild(E.j)
  }
  ip.prototype = new fW(!0);
  ip.prototype.a4P = function(E) {
      this.data.Uj = this.t9.u();
      this.sc()
  }
  ;
  ip.prototype.B_ = function() {
      fW.prototype.B_.call(this);
      this.t9.B()
  }
  ;
  function dx() {
      e0.call(this, ["setop", "patch"])
  }
  dx.prototype = new e0;
  function bv() {
      e0.call(this, ["setop"])
  }
  bv.prototype = new e0;
  function eG() {
      e0.call(this, ["bmode", "opacity", "wconf"])
  }
  eG.prototype = new e0;
  function e4() {
      fW.call(this)
  }
  e4.prototype = new fW(!0);
  function eS() {
      fW.call(this)
  }
  eS.prototype = new fW(!0);
  function dP() {
      fW.call(this);
      this.JD = new ar;
      this.JD.k(c.E.L, this.iE, this);
      this.body.appendChild(this.JD.j)
  }
  dP.prototype = new fW(!0);
  dP.prototype.iE = function(E) {
      this.data.JD = this.JD.u();
      this.sc()
  }
  ;
  dP.prototype.B_ = function() {
      fW.prototype.B_.call(this);
      this.JD.B()
  }
  ;
  function dH() {
      de.call(this);
      this.Mi = null;
      this.ei = null;
      this.Qz = [new fN("X",null,3), new fN("Y",null,3), new fN("W",null,3), new fN("H",null,3), new fN([12, 15],null,4), new fN([12, 80, 0],null,4), new hO([15, 7, 6],!1,null,!0)];
      for (var G = 0; G < this.Qz.length; G++) {
          var E = this.Qz[G];
          this.body.appendChild(E.j)
      }
      this.Qz[6].k("click", this.adF, this);
      this.L3 = 0
  }
  dH.prototype = new de;
  dH.prototype.adF = function(E) {
      if (this.L3 == 0) {
          return
      }
      var K = new q(c.E.A,!0);
      K.F = u.Ny;
      K.data = {
          e: "rot",
          $t: [2, 5],
          G: -this.L3
      };
      this.U(K)
  }
  ;
  dH.prototype.g9 = function(E) {
      if (E == null)
          return;
      this.ei = E;
      var K = E.a9a
        , i = E.cA
        , C = i.x - K.x
        , N = i.y - K.y
        , k = this.Qz;
      this.L3 = -Math.atan2(N, C);
      k[0].T(K.x);
      k[1].T(K.y);
      k[2].T(C);
      k[3].T(N);
      k[4].T((this.L3 * 180 / Math.PI).toFixed(2));
      var V = Math.sqrt(C * C + N * N);
      V = _.lj.Fg(V, E.v9, this.Mi, E.abA, !1);
      k[5].T(parseFloat(V).toFixed(2))
  }
  ;
  dH.prototype.bX = function(E, K) {
      this.Mi = E;
      this.g9(this.ei)
  }
  ;
  dH.prototype.B_ = function() {
      var E = this.Qz;
      for (var G = 0; G < E.length; G++)
          E[G].B();
      c.MX(E[2], E[3])
  }
  ;
  function d1() {
      e0.call(this, ["brush", "strn", "pdetail"])
  }
  d1.prototype = new e0;
  function dI() {
      e0.call(this, ["brush", "sfrom"]);
      this.a6Z = [];
      var E = [[7, 12]];
      for (var G = 0; G < E.length; G++) {
          var K = new hO(E[G],!1,null,!0);
          this.a6Z.push(K);
          K.parent = this;
          this.body.appendChild(K.j);
          K.k("click", this.a3J, this)
      }
  }
  dI.prototype = new e0;
  dI.prototype.a3J = function(E) {
      var K = this.a6Z.indexOf(E.currentTarget)
        , i = new q(c.E.J5,!0);
      i.data = u.Bu.yN("contentAware");
      this.U(i)
  }
  ;
  function ay() {
      e0.call(this, ["brush", "strn"])
  }
  ay.prototype = new e0;
  function gd() {
      e0.call(this, ["brush", "flow", "smode"])
  }
  gd.prototype = new e0;
  function dA() {
      de.call(this);
      this.KP = !1;
      var E = c.w("span", "fitem");
      this.body.appendChild(E);
      this.xp = new eN(null,["<img src=\"" + PIMG.zoomIn + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.zoomOut + "\" class=\"autoscale gsicon\" />"]);
      E.appendChild(this.xp.j);
      this.xp.k(c.E.L, this.mG, this);
      this.aT = new hO([20, 2]);
      this.body.appendChild(this.aT.j);
      this.aT.k("click", this.TN, this);
      this.Bb = new hO([20, 3]);
      this.body.appendChild(this.Bb.j);
      this.Bb.k("click", this.TN, this)
  }
  dA.prototype = new de;
  dA.prototype.B_ = function() {
      this.aT.B();
      this.Bb.B()
  }
  ;
  dA.prototype.mG = function() {
      var E = {
          e: c.f.aY,
          F: this.F,
          MS: this.xp.u() == 0
      }
        , K = new q(c.E.P,!0);
      K.data = E;
      this.U(K)
  }
  ;
  dA.prototype.g9 = function(E) {
      if (this.KP != E.KP)
          this.xp.T(1 - this.xp.u());
      this.KP = E.KP
  }
  ;
  dA.prototype.TN = function(E) {
      var K = new q(c.E.A,!0);
      K.F = u.L7;
      K.data = {
          e: "adapt",
          G: E.target == this.aT ? "pixel" : "fitscr"
      };
      this.U(K)
  }
  ;
  function bN(E, K) {
      de.call(this);
      if (E == null)
          return;
      this.Pz = {};
      var i = [[12, 76, 0], [12, 76, 1]];
      if (K == null)
          i.push([12, 76, 2]);
      for (var G = 0; G < E.length; G++) {
          var C = E[G]
            , N = null;
          if (C == "tmode") {
              N = new gc(null,i);
              N.T(1)
          }
          if (C == "make") {
              N = new hO("Make Selection",null,null,!0);
              N.EF()
          }
          if (C == "binop") {
              N = new gc(null,[[18, 1], [18, 2], [18, 3], [18, 4]]);
              N.EF()
          }
          if (C == "pshape")
              N = new gc(null,[[12, 93, 0], [12, 93, 1], "Arrow", [12, 93, 2]]);
          if (C == "shape")
              N = new f3([12, 76, 1]);
          if (C == "crad") {
              N = new gI([12, 94, 0],0,50,"px");
              N.T(0)
          }
          if (C == "cstr") {
              N = new ar
          }
          if (C == "irad") {
              N = new gI([12, 94, 1],0,100,"%");
              N.T(40)
          }
          if (C == "length") {
              N = new gI([12, 80, 0],4,40);
              N.T(4)
          }
          if (C == "sides") {
              N = new gI([12, 78],3,30);
              N.T(5)
          }
          if (C == "width") {
              N = new gI([12, 41],1,100,"px");
              N.T(5)
          }
          if (C == "tsiz") {
              N = new gI("Tip Size",100,500,"%");
              N.T(300)
          }
          if (C == "tolr") {
              N = new gI([12, 24],0,100);
              N.T(5)
          }
          if (C == "fstyle") {
              N = new hJ([12, 26])
          }
          if (C == "sstyle") {
              N = new f8
          }
          if (C == "psnap") {
              N = new ck([8, 10])
          }
          if (C == "crnr") {
              N = new hO("\u2312",!1,[12, 94, 0],!0)
          }
          N.parent = this;
          this.body.appendChild(N.j);
          this.Pz[C] = N;
          N.k(C == "crnr" || C == "make" ? "click" : c.E.L, this.mG, this)
      }
  }
  bN.prototype = new de;
  bN.prototype.g9 = function(E) {
      if (E.Qh == "vals") {
          for (var K in E.a72)
              this.Pz[K].T(E.a72[K]);
          this.AA();
          return
      }
      var i = bN.ts;
      if (i == null)
          i = bN.ts = new bi([{
              name: "Make Selection"
          }],[{
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "makesel"
              }
          }]);
      i.parent = this;
      i.update(E.im, E.VV);
      var C = new q(c.E.P,!0);
      C.data = {
          e: c.f.um,
          CP: i,
          x: E.kK.ES + 2,
          y: E.kK.xg + 1
      };
      this.U(C)
  }
  ;
  bN.prototype.V6 = function(G) {
      return null
  }
  ;
  bN.prototype.AA = function() {
      if (this.Pz.pshape == null)
          return;
      var E = this.V6(this.Pz.pshape.u());
      if (E == null)
          return;
      c.kL(this.body);
      for (var G = 0; G < E.length; G++) {
          var K = E[G];
          this.body.appendChild(this.Pz[K].j)
      }
  }
  ;
  bN.prototype.B_ = function() {
      for (var E in this.Pz) {
          this.Pz[E].B()
      }
  }
  ;
  bN.prototype.mG = function(E) {
      if (E.target == this.Pz.crnr) {
          var K = new q(c.E.A,!0);
          K.F = u.WO;
          K.data = {
              e: "crnr"
          };
          this.U(K);
          return
      }
      if (E.target == this.Pz.make) {
          var K = new q(c.E.P,!0);
          K.data = {
              e: c.f.eQ,
              KN: "makesel"
          };
          this.U(K);
          return
      }
      var K = new q(c.E.P,!0);
      if (E.target == this.Pz.fstyle) {
          K.data = {
              e: c.f.H7,
              KG: dp.sD,
              G: this.Pz.fstyle.u()
          };
          this.U(K);
          return
      }
      if (E.target == this.Pz.sstyle) {
          K.data = {
              e: c.f.H7,
              KG: dp.ev,
              G: this.Pz.sstyle.u()
          };
          this.U(K);
          return
      }
      if (this.Pz.tmode && this.Pz.binop) {
          var i = this.Pz.tmode.u() == 0
            , C = this.Pz.binop
            , N = this.Pz.make;
          if (C)
              C.CA(i);
          if (N)
              N.CA(i)
      }
      K.data = {
          e: c.f.aY,
          F: this.F
      };
      for (var k in this.Pz)
          if (k != "sstyle")
              K.data[k] = this.Pz[k].u();
      this.U(K);
      if (E.target == this.Pz.pshape)
          this.AA()
  }
  ;
  bN.prototype.bX = function(E, K) {
      de.prototype.bX.call(this, E, K);
      var i = this.Pz.fstyle
        , C = this.Pz.sstyle;
      if (i)
          i.bX(E, K);
      if (C)
          C.bX(E, K);
      if (K == dp.iW || K == dp.ur)
          if (E.ZN.length != 0 && this.Pz.shape) {
              this.Pz.shape.$S(E.ZN)
          }
      if (K == dp.iW || K == dp.sD)
          if (i)
              i.T(null, E.uL, E.a1o);
      if (K == dp.iW || K == dp.ev)
          if (C)
              C.T(null, E.$P, E.aj1)
  }
  ;
  function iO() {
      bN.call(this, ["tmode", "make", "fstyle", "sstyle", "binop"], !0)
  }
  iO.prototype = new bN;
  function bR() {
      bN.call(this, ["tmode", "fstyle", "sstyle", "binop", "tolr"])
  }
  bR.prototype = new bN;
  function fS() {
      bN.call(this, ["fstyle", "sstyle"]);
      this.akR = null;
      this.a0A = null;
      this.a4z = null;
      this.ZU = new gc("Path",[[18, 1], [18, 2], [18, 3], [18, 4], [18, 5]],!1,[4]);
      this.Bh = new hO("\u25BC");
      this.Bh.cY();
      this.v3 = new hO("\u25B2");
      this.v3.cY();
      this.RI = [this.ZU, this.Bh, this.v3];
      for (var G = 0; G < this.RI.length; G++) {
          var E = this.RI[G];
          this.body.appendChild(E.j);
          E.parent = this;
          E.k(G == 0 ? c.E.L : "click", this.fR, this)
      }
  }
  fS.prototype = new bN;
  fS.prototype.g9 = function(E) {
      if (E.AR == "main") {
          var K = this.RI
            , i = E.w4;
          if (i && i.C.length == 1) {
              this.a0A = i.clone();
              this.a4z = JSON.stringify(E.U7);
              var C = i.C[0]
                , N = _.Y.oH(i.b);
              this.ZU.lV();
              if (C > 0)
                  this.Bh.lV();
              else
                  this.Bh.EF();
              if (C < N - 1)
                  this.v3.lV();
              else
                  this.v3.EF();
              var k = _.Y.ac(i.b, C)
                , V = i.b[k];
              this.ZU.KZ("Path " + (C + 1));
              this.ZU.T([3, 0, 1, 2][V.A0])
          } else {
              for (var G = 0; G < K.length; G++)
                  K[G].EF()
          }
      } else
          bN.prototype.g9.call(this, E)
  }
  ;
  fS.prototype.B_ = function() {
      bN.prototype.B_.call(this);
      this.ZU.B()
  }
  ;
  fS.prototype.fR = function(E) {
      if (E.target == this.ZU || E.target == this.Bh || E.target == this.v3) {
          var K = {}
            , i = this.a0A
            , C = i.b
            , N = JSON.parse(this.a4z)
            , k = i.C[0]
            , V = _.Y.ac(C, k)
            , j = C[V];
          if (E.target == this.ZU) {
              var a = this.ZU.u();
              if (a < 4)
                  j.A0 = [1, 2, 3, 0][a];
              else {
                  if (_.Y.oH(C) <= 1)
                      return;
                  i.b = _.Y.TZ(C);
                  i.C = i.b.length == 2 ? [] : [0];
                  i.hs = [];
                  N = [_.U7.rV()]
              }
          } else {
              var e = E.target == this.Bh ? -1 : 1
                , L = Math.min(k, k + e)
                , g = Math.max(k, k + e)
                , I = _.Y.ac(C, L)
                , h = _.Y.ac(C, g);
              if (I == -1 || h == -1)
                  return;
              var o = h + _.Y.On(C, g)
                , H = N[L];
              N[L] = N[g];
              N[g] = H;
              var A = C.slice(0, I)
                , S = C.slice(I, h)
                , v = C.slice(h, o)
                , s = C.slice(o);
              i.b = A.concat(v.concat(S.concat(s)));
              i.C[0] += e
          }
          K.w4 = i;
          K.U7 = N;
          var D = new q(c.E.P,!0);
          D.data = {
              e: c.f.aY,
              F: this.F,
              eT: K
          };
          this.U(D)
      }
  }
  ;
  function iG() {
      bN.call(this, ["fstyle", "sstyle", "crnr", "psnap"])
  }
  iG.prototype = new bN;
  function d9() {
      bN.call(this, "tmode fstyle sstyle binop cstr crad".split(" "))
  }
  d9.prototype = new bN;
  function c$() {
      bN.call(this, ["tmode", "fstyle", "sstyle", "binop", "cstr"])
  }
  c$.prototype = new bN;
  function he() {
      bN.call(this, "tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
      this.amk = [["sides", "crad"], ["sides", "irad", "crad"], ["width", "tsiz"], ["length"]];
      this.AA()
  }
  he.prototype = new bN;
  he.prototype.V6 = function(G) {
      return ["tmode", "fstyle", "sstyle", "binop", "pshape"].concat(this.amk[G])
  }
  ;
  function dT() {
      bN.call(this, ["tmode", "fstyle", "sstyle", "binop", "width"])
  }
  dT.prototype = new bN;
  function fQ() {
      bN.call(this, "tmode fstyle sstyle binop cstr shape".split(" "))
  }
  fQ.prototype = new bN;
  function aj() {
      fW.call(this)
  }
  aj.prototype = new fW(!0);
  function cn() {
      e0.call(this, ["brush", "qsmode", "redge"])
  }
  cn.prototype = new e0;
  function c7() {
      de.call(this)
  }
  c7.prototype = new de;
  function e3() {
      de.call(this);
      this.Bh = new hO("\u25BC");
      this.Bh.cY();
      this.v3 = new hO("\u25B2");
      this.v3.cY();
      var ee = [this.Bh, this.v3];
      for (var G = 0; G < 2; G++) {
          var E = ee[G];
          this.body.appendChild(E.j);
          E.k("click", this.fR, this)
      }
  }
  e3.prototype = new de;
  e3.prototype.fR = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.aY,
          F: this.F,
          Qh: "reorder",
          dir: E.target == this.Bh ? -1 : 1
      };
      this.U(K)
  }
  ;
  function cN(E, K) {
      de.call(this);
      if (window.Typr == null || E)
          return;
      this.a0k = K;
      this.rH = null;
      this.a4n = c.w("span", "");
      this.a3e = c.w("span", "");
      var i = 1;
      this.Mo = {
          rY: new cw(null,24),
          ow: new gI("X",0,0,"px",0,!1,!0,4),
          nf: new gI("Y",0,0,"px",0,!1,!0,4),
          zi: new gI("W",0,0,["%", "px"],2,!1,!0,5),
          iI: new hO("\u2261",null,[12, 51],null),
          nt: new gI("H",0,0,["%", "px"],2,!1,!0,5),
          a0F: new gI("\u2221",0,0,"\xB0",i,!1,!0),
          afr: new gI("\u25B1 H",-85,85,"\xB0",i,!1,!0),
          adK: new gI("\u25B1 V",-85,85,"\xB0",i,!1,!0),
          u7: new gc(null,[[12, 14, 2], [12, 14, 3], "Bicubic Sharper"])
      };
      this.Mo.u7.T(1);
      for (var C in this.Mo) {
          var N = this.Mo[C];
          if (K && (N == this.Mo.a0F || N == this.Mo.afr || N == this.Mo.adK || N == this.Mo.u7)) {} else
              this.a4n.appendChild(N.j);
          var k = N == this.Mo.iI ? "click" : c.E.L;
          N.k(k, this.a7J, this)
      }
      this.t9 = new fO(!0,!0,!0);
      this.t9.k(c.E.L, this.a0C, this);
      this.t9.parent = this;
      var V = this.a3e
        , j = this.t9;
      V.appendChild(j.tI.j);
      V.appendChild(j.NR.j);
      V.appendChild(j.JS.j);
      V.appendChild(j.XR.j);
      V.appendChild(j.Co.j);
      this.Lp = new hO([11, 9]);
      this.Lp.k("click", this.a6_, this);
      this.b$ = new ci;
      this.b$.k("click", this.Vw, this)
  }
  cN.prototype = new de;
  cN.prototype.g9 = function(E) {
      if (E.kK) {
          var K = cN
            , i = this.ts;
          if (i == null)
              i = this.ts = new bi(K.Bc(),K.l9(this.F));
          i.B();
          i.parent = this;
          i.update(E.im, E.VV);
          var C = new q(c.E.P,!0);
          C.data = {
              e: c.f.um,
              CP: i,
              x: E.kK.ES + 2,
              y: E.kK.xg + 1
          };
          this.U(C);
          return
      }
      c.kL(this.body);
      this.rH = E;
      if (E.Mo) {
          var N = E.Mo.g
            , k = E.Mo.w3.clone()
            , V = Math.atan2(-k.O, k.R)
            , j = new fn;
          j.rotate(-V);
          k.concat(j);
          var a = this.Mo;
          a.rY.T(E.Mo.IU);
          a.ow.T(E.Mo.fu.x);
          a.nf.T(E.Mo.fu.y);
          a.zi.T(k.R * (a.zi.Or() == "%" ? 100 : N.d));
          a.nt.T(k.bI * (a.nt.Or() == "%" ? 100 : N.v));
          a.a0F.T(-V * 180 / Math.PI);
          a.afr.T(0 * 180 / Math.PI);
          a.adK.T(Math.atan(k.x9) * 180 / Math.PI);
          this.body.appendChild(this.a4n);
          this.Lp.$o()
      }
      if (E.CJ) {
          this.t9.T(E.CJ);
          this.body.appendChild(this.a3e);
          this.Lp.cY()
      }
      this.body.appendChild(this.b$.j);
      if (E.a5I && !this.a0k)
          this.body.appendChild(this.Lp.j)
  }
  ;
  cN.prototype.a7J = function(E) {
      var K = this.Mo
        , i = this.rH.Mo.g;
      if (E.target == K.iI)
          K.iI.T(!K.iI.u());
      if (K.iI.vV()) {
          var C = K.nt
            , N = K.zi
            , k = i.v
            , V = i.d;
          if (E.target == K.zi) {
              C = K.zi;
              N = K.nt;
              k = i.d;
              V = i.v
          }
          var j = C.u() / (C.Or() == "%" ? 100 : k);
          j *= N.Or() == "%" ? 100 : V;
          N.T(j)
      }
      var a = [];
      for (var e in K)
          if (K[e] != K.iI && K[e] != K.rY) {
              var j = K[e].u();
              if ((K[e] == K.zi || K[e] == K.nt) && j == 0) {
                  j = .1;
                  K[e].T(j)
              }
              if (K[e] == K.zi && K[e].Or() == "px")
                  j /= i.d / 100;
              if (K[e] == K.nt && K[e].Or() == "px")
                  j /= i.v / 100;
              a.push(j)
          }
      var L = new bT(a[0],a[1]);
      if (E.target == K.rY) {
          this.wN({
              AR: "ctyp",
              IU: K.rY.u()
          })
      } else if (E.target == K.ow || E.target == K.nf) {
          this.wN({
              AR: "cen",
              fu: L
          })
      } else {
          var g = this.rH.Mo.w3.clone()
            , I = g.clone()
            , h = Math.atan2(-g.O, g.R);
          I.translate(-L.x, -L.y);
          I.rotate(-h);
          var o = new fn(I.R,I.O,I.x9,I.bI,0,0);
          o.KP();
          I.concat(o);
          I.concat(new fn(a[2] / 100,Math.tan(a[5] * Math.PI / 180),Math.tan(a[6] * Math.PI / 180),a[3] / 100,0,0));
          I.rotate(-a[4] * Math.PI / 180);
          I.translate(L.x, L.y);
          this.rH.Mo.w3 = I;
          this.wN({
              AR: "trn",
              Mo: I,
              $r: this.Mo.u7.u()
          })
      }
  }
  ;
  cN.prototype.a0C = function(E) {
      this.wN({
          AR: "wrp",
          CJ: this.t9.u()
      })
  }
  ;
  cN.prototype.a6_ = function(E) {
      this.wN({
          AR: "switchWarp"
      })
  }
  ;
  cN.prototype.Vw = function(E) {
      this.wN({
          AR: this.b$.u() ? "commit" : "cancel"
      })
  }
  ;
  cN.prototype.wN = function(E) {
      E.e = c.f.aY;
      E.F = this.F;
      var K = new q(c.E.P,!0);
      K.data = E;
      this.U(K)
  }
  ;
  cN.prototype.B_ = function() {
      var E = this.Mo;
      for (var K in E)
          E[K].B();
      c.MX(E.zi, E.nt);
      this.b$.B();
      this.t9.B();
      this.Lp.B()
  }
  ;
  cN.Bc = function() {
      return [{
          name: [5, 9],
          xS: "Shift+Alt+Ctrl + T",
          bx: !0
      }, {
          name: [12, 38]
      }, {
          name: [2, 5]
      }, {
          name: [24, 4]
      }, {
          name: [2, 9]
      }, {
          name: [11, 9],
          Q: function(E) {
              if (E == null || E.C.length != 1)
                  return {
                      Q: !1
                  };
              var K = E.t[E.C[0]];
              return {
                  Q: K.add.TySh == null && !K.Uf()
              }
          },
          bx: !0
      }, {
          name: ["VAR0 90\xB0 \u21BB", [2, 5]]
      }, {
          name: ["VAR0 90\xB0 \u21BA", [2, 5]]
      }, {
          name: ["VAR0 180\xB0", [2, 5]]
      }, {
          name: [[2, 6], [22, 4, 2]]
      }, {
          name: [[2, 6], [22, 4, 3]]
      }]
  }
  ;
  cN.l9 = function(E) {
      if (E == null)
          E = u.Ny;
      return [{
          c: c.E.A,
          F: E,
          o: {
              e: "again"
          }
      }, {
          c: c.E.P,
          o: {
              e: c.f.oS,
              F: E,
              KT: {
                  zw: 3
              }
          }
      }, {
          c: c.E.P,
          o: {
              e: c.f.oS,
              F: E,
              KT: {
                  zw: 4
              }
          }
      }, {
          c: c.E.P,
          o: {
              e: c.f.oS,
              F: E,
              KT: {
                  zw: 2
              }
          }
      }, {
          c: c.E.P,
          o: {
              e: c.f.oS,
              F: E,
              KT: {
                  zw: 1
              }
          }
      }, {
          c: c.E.P,
          o: {
              e: c.f.oS,
              F: E,
              KT: {
                  zw: -1
              }
          }
      }, {
          c: c.E.A,
          F: E,
          o: {
              e: "rot",
              $t: [2, 5],
              G: -Math.PI / 2
          }
      }, {
          c: c.E.A,
          F: E,
          o: {
              e: "rot",
              $t: [2, 5],
              G: -3 * Math.PI / 2
          }
      }, {
          c: c.E.A,
          F: E,
          o: {
              e: "rot",
              $t: [2, 5],
              G: Math.PI
          }
      }, {
          c: c.E.A,
          F: E,
          o: {
              e: "scl",
              $t: [[2, 6], [22, 4, 2]],
              G: new bT(-1,1)
          }
      }, {
          c: c.E.A,
          F: E,
          o: {
              e: "scl",
              $t: [[2, 6], [22, 4, 3]],
              G: new bT(1,-1)
          }
      }]
  }
  ;
  function at() {
      cN.call(this)
  }
  at.prototype = new cN(!0);
  function c3() {
      cN.call(this)
  }
  c3.prototype = new cN(!0);
  function aT() {
      cN.call(this, !1, !0)
  }
  aT.prototype = new cN(!0);
  function aw() {
      de.call(this);
      var E = this.oP = [new gc([12, 36],["Rigid", [15, 10, 0], [24, 4]]), new gc([12, 74],[[19, 8, 0], [19, 8, 1], [19, 8, 2]]), new gI([7, 4],0,100,"px"), new ck("Show Mesh"), new hO("\u25BC",null,null,!0), new hO("\u25B2",null,null,!0)];
      for (var G = 0; G < E.length; G++) {
          var K = E[G];
          K.parent = this;
          this.body.appendChild(K.j);
          K.k(G < 4 ? c.E.L : "click", this.a7y, this)
      }
      this.b$ = new ci;
      this.b$.k("click", this.Vw, this);
      this.body.appendChild(this.b$.j)
  }
  aw.prototype = new de;
  aw.prototype.B_ = function() {
      var E = this.oP;
      for (var G = 0; G < 4; G++)
          E[G].B();
      this.b$.B()
  }
  ;
  aw.prototype.g9 = function(E) {
      var E = E.KG;
      for (var G = 0; G < 4; G++)
          this.oP[G].T(E[G])
  }
  ;
  aw.prototype.a7y = function(E) {
      var K = [];
      for (var G = 0; G < 4; G++)
          K[G] = this.oP[G].u();
      var i = this.oP.indexOf(E.target);
      if (i < 4)
          this.wN({
              AR: "prm",
              KG: K
          });
      else
          this.wN({
              AR: "moveDepth",
              a4K: i == 5
          })
  }
  ;
  aw.prototype.Vw = function(E) {
      this.wN({
          AR: this.b$.u() ? "commit" : "cancel"
      })
  }
  ;
  aw.prototype.wN = function(E) {
      E.e = c.f.aY;
      E.F = this.F;
      var K = new q(c.E.P,!0);
      K.data = E;
      this.U(K)
  }
  ;
  function bV() {
      aB.call(this);
      this.j = c.w("div", "cmanager");
      window.alert = function(C, N) {
          this.aaa(C, N);
          console.log("Alert: " + C)
      }
      .bind(this);
      window.onblur = function(C) {
          var N = this;
          N.l1()
      }
      .bind(this);
      this.jx = 0;
      this.w1 = 0;
      this.fw = [];
      this.Cb = {};
      this.FO = c.w("div", "alertcont");
      this.j.appendChild(this.FO);
      this.a9G = c.w("div", "alertcont");
      this.j.appendChild(this.a9G);
      this.gy = c.w("div", "alertcont");
      this.air = 0;
      this.K4 = -1;
      this.a4Z = null;
      this.hn = null;
      var E = this.a16 = c.w("div", "alertpanel");
      E.setAttribute("style", "padding:0.7em 1em 0.1em 1em;");
      this.gy.appendChild(E);
      var K = this.ZR = c.w("input");
      K.setAttribute("type", "text");
      K.setAttribute("style", "background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
      K.addEventListener("input", this.aos.bind(this), !1);
      K.addEventListener("keydown", this.a6A.bind(this), !1);
      E.appendChild(K);
      var i = this.aeT = c.w("div", "contextpanel scrollable");
      i.setAttribute("style", "text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
      i.addEventListener("click", this.acG.bind(this), !1);
      E.appendChild(i);
      c.vo(document.body, this.a05.bind(this))
  }
  bV.prototype = new aB;
  bV.prototype.nD = function() {
      if (c.ws(this.gy))
          this.j.removeChild(this.gy)
  }
  ;
  bV.prototype.a2q = function(E, K) {
      var i = this.a4Z = [];
      for (var G = 0; G < h_.data.length; G++) {
          var C = h_.data[G]
            , N = [i2.get(C.name)]
            , k = [G];
          bV.dW(C.items, N, k, i, E, K)
      }
      var V = gi.d4;
      for (var G = 0; G < V.length; G += 3) {
          i.push([["Tools", i2.get(V[G])], [-1, V[G + 2]]])
      }
      this.j.appendChild(this.gy);
      var j = this.ZR;
      j.focus();
      j.select();
      this.Vp()
  }
  ;
  bV.prototype.aos = function(E) {
      this.K4 = -1;
      this.Vp()
  }
  ;
  bV.prototype.Vp = function() {
      var E = this.ZR.value.toLowerCase().trim().replace(/  +/g, " ")
        , K = this.a4Z
        , i = []
        , C = []
        , N = E.split(" ");
      if (E != "")
          for (var G = 0; G < K.length; G++) {
              var k = K[G][0]
                , V = []
                , j = 0;
              for (var a = 0; a < k.length; a++)
                  V[a] = -1;
              for (var e = 0; e < N.length; e++)
                  for (var a = 0; a < k.length; a++) {
                      var L = k[a].toLowerCase().indexOf(N[e]);
                      if (L != -1) {
                          V[a] = [L, L + N[e].length];
                          j++;
                          break
                      }
                  }
              if (j == N.length) {
                  i.push(K[G]);
                  C.push(V)
              }
          }
      var g = []
        , I = this.aeT;
      c.kL(I);
      for (var G = 0; G < i.length; G++) {
          var h = i[G][0]
            , L = C[G]
            , o = "enab"
            , A = "";
          if (G == this.K4)
              o += " active";
          var H = c.w("div", o);
          g.push(H);
          I.appendChild(H);
          for (var a = 0; a < h.length; a++) {
              var S = L[a]
                , v = N[a]
                , s = h[a];
              if (S != -1)
                  s = s.slice(0, S[0]) + "<span style=\"color:black\">" + s.slice(S[0], S[1]) + "</span>" + s.slice(S[1]);
              A += s;
              if (a < h.length - 1)
                  A += " \uFE65 "
          }
          H.innerHTML = A
      }
      this.hn = [i, g]
  }
  ;
  bV.prototype.a6A = function(E) {
      var K = w.SS
        , i = E.code;
      if (K(i, w.SO))
          this.nD();
      var C = K(i, w.ay)
        , N = K(i, w.Kv)
        , k = K(i, w.U6);
      if (C || N) {
          this.K4 = Math.max(0, Math.min(this.hn[0].length - 1, this.K4 + (C ? -1 : 1)));
          this.Vp()
      }
      if (k && this.K4 != -1)
          this.$a(this.K4)
  }
  ;
  bV.dW = function(E, K, i, C, N, k) {
      for (var G = 0; G < E.length; G++) {
          var V = E[G]
            , j = K.slice(0)
            , a = i.slice(0)
            , e = i2.get(V.name);
          if (V.Q) {
              var L = V.Q(N, k, G);
              if (L.WT)
                  e = L.WT;
              if (L.Q == !1)
                  continue
          }
          j.push(e);
          a.push(G);
          if (V.sub)
              bV.dW(V.sub, j, a, C, N, k);
          else
              C.push([j, a])
      }
  }
  ;
  bV.prototype.acG = function(E) {
      var K = E.target;
      if (K.tagName.toLowerCase() == "span")
          K = K.parentNode;
      var i = this.hn[1].indexOf(K);
      if (i != -1)
          this.$a(i)
  }
  ;
  bV.prototype.$a = function(E) {
      var K = this.hn[0][E][1];
      if (K[0] == -1) {
          var i = new q(c.E.P,!0);
          i.data = {
              e: c.f.oS,
              F: K[1]
          };
          this.U(i)
      } else {
          var C = h_.data[K[0]].xn[K[1]];
          for (var G = 2; G < K.length; G++)
              C = C.sub[K[G]];
          var N = new q(C.c,!0);
          N.F = C.F;
          N.data = C.o;
          this.U(N)
      }
      this.nD()
  }
  ;
  bV.prototype.FY = function(E, K) {
      this.jx = E;
      this.w1 = K;
      this.aeT.style["max-height"] = K - 120 + "px"
  }
  ;
  bV.prototype.afR = function(E) {
      var K = c.w("div", "alertpanel");
      K.textContent = i2.get(E);
      this.FO.appendChild(K);
      this.Cb[JSON.stringify(E)] = K
  }
  ;
  bV.prototype.acy = function(E) {
      var K = this.Cb[JSON.stringify(E)];
      this.FO.removeChild(K);
      delete this.Cb[JSON.stringify(E)]
  }
  ;
  bV.prototype.aaa = function(E, K) {
      var i = this.a9G;
      for (var G = 0; G < i.children.length; G++)
          if (i.children[G].textContent == E)
              return;
      var C = c.w("div", "alertpanel tpanel");
      C.textContent = E;
      C.setAttribute("style", "opacity:0.5; transform:scale(0.9)\t");
      i.appendChild(C);
      if (K == null)
          K = 1500;
      var N = K
        , k = Math.max(Date.now() + N, this.air + N);
      setTimeout(function() {
          C.setAttribute("style", "transform:scale(1); opacity:1;")
      }, 10);
      setTimeout(function() {
          i.setAttribute("style", "margin-top: -3.6em; transform: translateY(3.6em);")
      }, k - Date.now() - 30);
      setTimeout(function() {
          i.removeChild(i.firstChild);
          i.setAttribute("style", "transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")
      }, k - Date.now());
      this.air = k
  }
  ;
  bV.prototype.a05 = function(E) {
      var K = this.fw;
      for (var G = K.length - 1; G >= 0; G--) {
          var i = K[G]
            , C = E.target;
          while (C != null) {
              if (C == i.j) {
                  this.l1(i);
                  return
              }
              C = C.parentNode
          }
      }
      this.l1();
      var N = E.target;
      while (N != this.gy && N != document.body)
          N = N.parentNode;
      if (N != this.gy)
          this.nD()
  }
  ;
  bV.prototype.l1 = function(E) {
      var K = this.fw;
      for (var G = 0; G < K.length; G++) {
          if (E && E.amC(K[G]))
              continue;
          var i = K[G].j;
          i.style.height = "auto";
          c.lD(i, "scrollable");
          this.j.removeChild(i);
          K.splice(G, 1);
          G--
      }
  }
  ;
  bV.prototype.alv = function(E) {
      this.l1(E.CP);
      var K = E.CP
        , i = K.j;
      if (this.fw.indexOf(K) != -1)
          return;
      this.fw.push(K);
      this.j.appendChild(K.j);
      var C = this.jx
        , N = this.w1
        , k = E.x
        , V = E.y
        , j = this.j.getBoundingClientRect()
        , a = K instanceof bi;
      if (a || E.Ra) {
          var e = K.ZS()
            , L = K.dx();
          if (a)
              e = Math.min(e, 200);
          if (V + L < N) {
              k = Math.min(k, C - e - 5)
          } else {
              if (k + e < C) {
                  V = Math.min(V, N - L - 5)
              } else if (L < V) {
                  V = V - L - 2;
                  k = Math.min(k, C - e - 5)
              } else {
                  k = k - e;
                  V = Math.min(V, N - L - 5)
              }
          }
          if (E.a9c)
              V = Math.max(2, E.y - L - 2);
          if (E.ab6)
              V = E.y
      }
      V = Math.max(2, V);
      var top = Math.round(V - j.y + this.j.offsetTop);
      i.style.position = "absolute";
      i.style["z-index"] = 10;
      i.style.left = Math.round(k) + "px";
      i.style.top = top + "px";
      if (V + K.dx() > N - 3) {
          i.style.height = N - 3 - V + "px";
          c.U8(i, "scrollable")
      }
  }
  ;
  bV.prototype.ft = function(E) {
      var K = E.CP
        , i = this.fw.indexOf(K);
      if (i == -1)
          return;
      this.fw.splice(i, 1);
      var C = K.j;
      this.j.removeChild(K.j)
  }
  ;
  bV.prototype.$z = function() {
      var E = this.fw;
      return E.length == 0 ? null : E[E.length - 1]
  }
  ;
  bV.prototype.abF = function() {
      this.ft({
          CP: this.$z()
      })
  }
  ;
  function dN() {
      aB.call(this);
      this.j = c.w("div", "confbar")
  }
  dN.prototype = new aB;
  dN.prototype.aby = function(E) {
      E.parent = this;
      c.kL(this.j);
      this.j.appendChild(E.j)
  }
  ;
  function gQ(E) {
      aB.call(this);
      gQ.l0 = E;
      this.Mi = null;
      this.$U = c.w("input", "");
      this.$U.setAttribute("type", "file");
      this.$U.setAttribute("multiple", "");
      this.$U.addEventListener("change", function(K) {
          this.$O(K.target.files, null, this.XS, null);
          this.XS = null
      }
      .bind(this), !1);
      document.body.appendChild(this.$U);
      this.$U.setAttribute("style", "display:none");
      this.a62 = [];
      this.nO = !1;
      this.ahW = {};
      this.XS = null
  }
  gQ.prototype = new aB;
  gQ.l0 = null;
  gQ.kX = function(E) {
      try {
          var K = {};
          K[E.type] = E;
          navigator.clipboard.write([new ClipboardItem(K)])
      } catch (i2) {
          console.error(i2, i2.message)
      }
  }
  ;
  gQ.nN = function(E, K) {
      navigator.clipboard.read().then(function(i) {
          for (var G = 0; G < i.length; G++) {
              try {
                  var C = i[G];
                  for (var N = 0; N < C.types.length; N++) {
                      var k = C.types[N];
                      if (k == "image/png")
                          C.getType(k).then(function(V) {
                              new Response(V).arrayBuffer().then(function(j) {
                                  gQ.l0({
                                      name: "image.png"
                                  }, j, E, K)
                              })
                          });
                      if (k == "text/plain")
                          C.getType(k).then(function(V) {
                              new Response(V).arrayBuffer().then(function(j) {
                                  var a = O.Yo(new Uint8Array(j))
                                    , e = new q(c.E.P,!0);
                                  e.data = {
                                      e: c.f.c3,
                                      G: a
                                  };
                                  E.U(e)
                              })
                          })
                  }
              } catch (i2) {
                  console.error(i2, i2.message)
              }
          }
      }).catch(function(i) {
          alert("Clipboard error: (" + i.message + ")")
      })
  }
  ;
  gQ.a7v = function(E) {
      navigator.permissions.query({
          name: "clipboard-read"
      }).then(function(K) {
          E(K.state)
      })
  }
  ;
  gQ.prototype.jU = function(E) {
      if (E == null)
          E = [23, 5];
      var K = JSON.stringify(E)
        , i = this.ahW;
      if (i[K] == null)
          i[K] = 0;
      if (i[K] == 0) {
          var C = new q(c.E.P,!0);
          C.data = {
              e: c.f.bS,
              rF: E
          };
          this.U(C)
      }
      i[K]++
  }
  ;
  gQ.prototype.C$ = function(E) {
      if (E == null)
          E = [23, 5];
      var K = JSON.stringify(E)
        , i = this.ahW;
      if (i[K] == null)
          i[K] = 0;
      i[K]--;
      if (i[K] == 0) {
          var C = new q(c.E.P,!0);
          C.data = {
              e: c.f.zG,
              rF: E
          };
          this.U(C)
      }
  }
  ;
  gQ.prototype.acQ = function(E, K) {
      this.XS = E;
      var i = window.showOpenFilePicker;
      if (i && window.self == window.top) {
          var C = this;
          i({
              multiple: !0
          }).then(function(V) {
              var j = [];
              function a(e) {
                  j.push(e);
                  if (j.length == V.length) {
                      C.$O(j, null, C.XS, null, V);
                      C.XS = null
                  } else
                      V[j.length].getFile().then(a)
              }
              V[j.length].getFile().then(a)
          });
          return
      }
      var N = this.$U;
      if (K)
          N.setAttribute("accept", K);
      else
          N.removeAttribute("accept");
      var k = document.createEvent("MouseEvents");
      k.initMouseEvent("click", !0, !0, document.defaultView, 1, 0, 0, 0, 0, !1, !1, !1, !1, 0, null);
      N.dispatchEvent(k)
  }
  ;
  gQ.prototype.eJ = function(E) {
      if (E.url.indexOf("photopea.com#i") != -1 || E.url.indexOf("photopea.com/#i") != -1) {
          this.Iq(E.url.split("#i").pop());
          return
      }
      this.a62.push(E);
      this.TK()
  }
  ;
  gQ.prototype.TK = function() {
      var E = this.a62;
      if (E.length == 0 || this.nO)
          return;
      this.nO = !0;
      var K = E.shift();
      this.jU();
      if (K.LG == null)
          K.LG = {};
      var i = new XMLHttpRequest;
      i.Ow = K;
      var C = K.url;
      if (K.ob)
          C = "mirror.php?url=" + encodeURIComponent(C);
      i.open("GET", C);
      if (K.Da)
          for (var N in K.Da)
              i.setRequestHeader(N, K.Da[N]);
      i.responseType = "arraybuffer";
      i.onload = this.tX.bind(this);
      i.send()
  }
  ;
  gQ.prototype.$O = function(E, K, i, C, N) {
      for (var G = 0; G < E.length; G++) {
          this.jU();
          var k = E[G]
            , V = new FileReader;
          V.Ow = k;
          V.Ow.As = i;
          V.Ow.x1 = C;
          V.ahr = K;
          if (N)
              V.Ow.Hc = N[G];
          V.onload = this.tX.bind(this);
          V.onerror = function(j) {
              this.C$()
          }
          .bind(this);
          V.readAsArrayBuffer(k)
      }
      this.$U.value = null
  }
  ;
  gQ.prototype.a4F = function(E, K, i) {
      this.jU("Saving ...");
      this.Mi = K;
      setTimeout(i.bind({
          Fn: E,
          caller: this
      }), 50)
  }
  ;
  gQ.EH = function(E) {
      var K = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
        , i = new Uint8Array(E)
        , C = i.length
        , N = C % 3
        , k = C - N
        , V = []
        , j = 0
        , a = 0
        , e = 0;
      for (var G = 0; G < k; G += 3) {
          j = i[G];
          a = i[G + 1];
          e = i[G + 2];
          V.push(K[j >> 2] + K[(j & 3) << 4 | a >> 4] + K[(a & 15) << 2 | e >> 6] + K[e & 63])
      }
      if (N == 1) {
          j = i[k];
          V.push(K[j >> 2] + K[(j & 3) << 4] + "==")
      }
      if (N == 2) {
          j = i[k];
          a = i[k + 1];
          V.push(K[j >> 2] + K[(j & 3) << 4 | a >> 4] + K[(a & 15) << 2] + "=")
      }
      var L = V.join("");
      return L
  }
  ;
  gQ.acL = function(E, K) {
      var i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
        , C = new Uint8Array(64)
        , j = 0
        , a = 0
        , e = 0
        , g = 0;
      for (var G = 0; G < 64; G++)
          C[G] = i.charCodeAt(G);
      var N = new Uint8Array(E)
        , k = K % 3
        , V = K - k
        , L = new Uint8Array(Math.floor(K / 3) * 4 + (k == 0 ? 0 : 4));
      for (var G = 0; G < V; G += 3) {
          j = N[G];
          a = N[G + 1];
          e = N[G + 2];
          L[g] = C[j >>> 2];
          L[g + 1] = C[(j & 3) << 4 | a >>> 4];
          L[g + 2] = C[(a & 15) << 2 | e >>> 6];
          L[g + 3] = C[e & 63];
          g += 4
      }
      if (k == 1) {
          j = N[V];
          L[g] = C[j >> 2];
          L[g + 1] = C[(j & 3) << 4];
          L[g + 2] = 61;
          L[g + 3] = 61
      }
      if (k == 2) {
          j = N[V];
          a = N[V + 1];
          L[g] = C[j >> 2];
          L[g + 1] = C[(j & 3) << 4 | a >> 4];
          L[g + 2] = C[(a & 15) << 2];
          L[g + 3] = 61
      }
      return L
  }
  ;
  gQ.prototype.tX = function(E) {
      var K, i = E.target.Ow;
      if (E.target instanceof XMLHttpRequest)
          K = E.target.response;
      else
          K = E.target.result;
      gQ.l0(i, K, this, E.target.ahr);
      this.C$();
      if (E.target instanceof XMLHttpRequest) {
          this.nO = !1;
          this.TK()
      }
  }
  ;
  gQ.ac8 = function(E) {
      var K = new XMLHttpRequest;
      K.open("POST", "https://api.imgur.com/3/image", !0);
      K.setRequestHeader("Authorization", "Client-ID 3ad80d2d9969219");
      K.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      K.setRequestHeader("Accept", "application/json");
      K.addEventListener("load", gQ.a7g);
      K.send("type=base64&image=" + encodeURIComponent(gQ.EH(E)));
      alert("Saving to Imgur ...", 4e3)
  }
  ;
  gQ.a7g = function(E) {
      var K = JSON.parse(E.target.response);
      if (K.success)
          window.open(K.data.link, "Imgur")
  }
  ;
  gQ.prototype.Iq = function(E, K) {
      this.jU();
      var i = new XMLHttpRequest;
      i.responseType = "arraybuffer";
      i.open("GET", "https://f000.backblazeb2.com/file/psdshared/" + E);
      i.onload = this.aer.bind(this);
      i.send();
      gQ.a0h = Date.now();
      gQ.a75 = E;
      gQ.acj = K ? E : null
  }
  ;
  gQ.prototype.aer = function(E) {
      var K = new Uint8Array(E.target.response);
      console.log(K.length, Date.now() - gQ.a0h);
      for (var G = 0; G < K.length; G++)
          K[G] = 255 - K[G];
      K = pako.inflateRaw(K);
      var i = JSON.parse(O.Yo(K, 0, 2e3));
      gQ.l0({
          name: i.name,
          _t: gQ.acj
      }, K.slice(2e3).buffer, this);
      this.C$();
      var C = new XMLHttpRequest;
      C.open("GET", "/papi/img/update.php?act=0&id=" + gQ.a75 + "&rnd=" + Math.random());
      C.send()
  }
  ;
  gQ.prototype.ani = function(E, K) {
      if (!(E instanceof ArrayBuffer))
          throw "e";
      E = new Uint8Array(E);
      var i = new Uint8Array(E.length + 2e3)
        , j = "";
      for (var G = 0; G < 2e3; G++)
          i[G] = 32;
      O.AP(JSON.stringify({
          name: K
      }), i, 0);
      i.set(E, 2e3);
      E = i;
      E = pako.deflateRaw(E);
      for (var G = 0; G < E.length; G++)
          E[G] = 255 - E[G];
      E = E.buffer;
      var C = E.byteLength
        , N = ~~(209e5 / 2);
      if (C > N) {
          confirm("Your file is " + iw.js(C) + ". Our limit is " + iw.js(N) + ". Delete some layers and try again.");
          return
      }
      var k = sha1(E)
        , V = [];
      for (var G = 0; G < 20; G++) {
          var a = parseInt(k.slice(G * 2, G * 2 + 2), 16);
          V.push(a);
          j += String.fromCharCode(a)
      }
      var e = btoa(j).replace(/\+/g, "-").replace(/\//g, "_").slice(0, 8);
      if (gQ.ajH(e)) {
          console.log("file already exists");
          window.open("https://www.photopea.com#i" + e);
          return
      }
      this.jU("Publishing ...");
      var L = new XMLHttpRequest;
      L.ei = [E, k, e];
      L.open("GET", "/papi/img/publish.php?rnd=" + Math.random());
      L.onload = this.a58.bind(this);
      L.send()
  }
  ;
  gQ.ajH = function(E) {
      try {
          var K = new XMLHttpRequest;
          K.open("HEAD", "https://f000.backblazeb2.com/file/psdshared/" + E, !1);
          K.send();
          if (K.status == 200)
              return !0
      } catch (i2) {
          return !1
      }
      return !1
  }
  ;
  gQ.prototype.a58 = function(E) {
      var K = JSON.parse(E.target.response)
        , i = E.target.ei
        , C = new XMLHttpRequest;
      C.open("POST", K.uploadUrl);
      C.setRequestHeader("Authorization", K.authorizationToken);
      C.setRequestHeader("X-Bz-File-Name", i[2]);
      C.setRequestHeader("Content-Type", "b2/x-auto");
      C.setRequestHeader("X-Bz-Content-Sha1", i[1]);
      C.send(new Blob([i[0]]));
      C.onload = this.a2N.bind({
          sU: this,
          ei: i
      })
  }
  ;
  gQ.prototype.a2N = function(E) {
      this.sU.C$("Publishing ...");
      window.open("https://www.photopea.com#i" + this.ei[2])
  }
  ;
  gQ.save = function(E, K) {
      var i = new Uint8Array(E)
        , C = document.createElement("a");
      if (typeof C.download == "string") {
          var N = new Blob([i])
            , k = window.URL.createObjectURL(N);
          C.href = k;
          C.download = K;
          document.body.appendChild(C);
          C.click();
          document.body.removeChild(C)
      } else {
          var V = "data:application/octet-stream;base64," + gQ.EH(E);
          window.open(V)
      }
  }
  ;
  function hB() {
      this.size = 16;
      this.data = _.I(16)
  }
  hB.prototype.BX = function(E, K) {
      if (E + K <= this.size)
          return;
      var i = this.size;
      while (E + K > this.size)
          this.size *= 2;
      var C = _.I(this.size);
      for (var G = 0; G < i; G++)
          C[G] = this.data[G];
      this.data = C
  }
  ;
  var eW = {};
  eW.qv = function(E, K, i) {
      var C = K.split(":")
        , N = C[0]
        , k = null;
      if (C.length == 2) {
          if (N == "jpg" || N == "webp")
              k = [Math.round(100 * parseFloat(C[1]))];
          if (N == "psd")
              k = [!0, !0]
      }
      var V = fb.MV(E, N.toUpperCase(), null, null, k, i);
      return V
  }
  ;
  eW.aht = function(E, K, i) {
      var C = E.A7()
        , N = K[0];
      return eW.qv(E, N, i)
  }
  ;
  eW.a9K = function() {
      var E = this.Fn, K = this.caller, i = E.LG.Sx, C = i.formats, N, k;
      E.A7();
      var V = Date.now();
      if (i.version == 1) {
          var j = []
            , a = 0
            , L = 0;
          for (var G = 0; G < C.length; G++) {
              var e = eW.qv(E, C[G], K.Mi);
              j.push(e);
              a += e.byteLength
          }
          N = new Uint8Array(2e3 + a);
          var g = "{ \"source\": " + JSON.stringify(E.oX) + ", \"versions\": [\n";
          for (var G = 0; G < C.length; G++) {
              var I = new Uint8Array(j[G]);
              g += "\t{\"format\": \"" + C[G].split(":")[0] + "\", \"start\": " + L + ", \"size\": " + I.length + " }" + (G + 1 < C.length ? ", " : "") + "\n";
              N.set(I, 2e3 + L);
              L += j[G].byteLength
          }
          g += "] }";
          var h = O.AP(g, N, 0);
          for (var G = h; G < 2e3; G++)
              N[G] = 32;
          k = "application/octet-stream"
      } else {
          var o = new hB
            , H = 0
            , A = ""
            , S = encodeURIComponent;
          A = "p=" + S("{ \"source\": " + JSON.stringify(E.oX) + ", \"versions\": [");
          O.Fu(o, H, A);
          H += A.length;
          for (var G = 0; G < C.length; G++) {
              A = S(" {\"format\": \"" + C[G].split(":")[0] + "\", \"data\": \"");
              O.Fu(o, H, A);
              H += A.length;
              var e = eW.qv(E, C[G], K.Mi)
                , v = gQ.acL(e, e.byteLength)
                , h = v.length;
              o.BX(H, h);
              for (var s = 0; s < h; s++) {
                  o.BX(H, 3);
                  var D = v[s];
                  if (D == 43) {
                      o.data[H] = 37;
                      o.data[H + 1] = 50;
                      o.data[H + 2] = 66;
                      H += 3
                  } else if (D == 47) {
                      o.data[H] = 37;
                      o.data[H + 1] = 50;
                      o.data[H + 2] = 70;
                      H += 3
                  } else if (D == 61) {
                      o.data[H] = 37;
                      o.data[H + 1] = 51;
                      o.data[H + 2] = 68;
                      H += 3
                  } else {
                      o.data[H] = D;
                      H++
                  }
              }
              A = S("\" }" + (G + 1 < C.length ? ", " : ""));
              O.Fu(o, H, A);
              H += A.length
          }
          A = S("] }");
          O.Fu(o, H, A);
          H += A.length;
          N = o.data.slice(0, H);
          k = "application/x-www-form-urlencoded"
      }
      var F = new XMLHttpRequest;
      F.open("POST", i.url, !0);
      if (k)
          F.setRequestHeader("Content-Type", k);
      F.addEventListener("load", eW.a8i.bind(this));
      F.send(new Blob([N.buffer]))
  }
  ;
  eW.a8i = function(E) {
      this.caller.C$("Saving ...");
      var K = E.target.response;
      if (K.charAt(0) == "{") {
          K = JSON.parse(K);
          if (K.newSource)
              this.Fn.oX = K.newSource;
          if (K.message)
              alert(K.message, 2e3);
          if (K.script) {
              var i = new q(c.E.P,!0);
              i.data = {
                  e: c.f.wM,
                  Iv: K.script
              };
              this.caller.U(i)
          }
      } else
          alert("Saved. Response: " + K, 1500)
  }
  ;
  eW.a00 = function(E) {
      var K = E.Yz.Zq
        , i = eW.qv(E, K);
      fx.AE(function() {
          var C = new XMLHttpRequest
            , N = "https://www.googleapis.com/upload/drive/v3/files/" + E.Yz.file.id + "?uploadType=media" + "&" + fx.TR();
          C.open("PATCH", N, !0);
          C.addEventListener("load", function(k) {
              var V = JSON.parse(k.target.response);
              alert(V.name + " updated")
          });
          C.send(i);
          alert("Saving \"" + E.Yz.file.name + "\" to Google Drive ...")
      })
  }
  ;
  eW.l0 = function(E, K, i, C) {
      if (window.location.href.indexOf("photopea.com") == -1 || window.top != window.self)
          eW.qQ(E, K, i, C);
      else {
          try {
              eW.qQ(E, K, i, C)
          } catch (i2) {
              if (i2 == "low_ram") {} else {
                  var N = "Error. Please, send your file to support@photopea.com and we will solve it.";
                  if (fb.e1(K) == "eps")
                      N = "We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
                  alert(N, 1e4)
              }
          }
      }
  }
  ;
  eW.qQ = function(E, K, i, C) {
      debugger
      var N;
      if (E.name)
          N = E.name.split(".")[0];
      else {
          if (E.url.substring(0, 5) == "data:" || E.url.indexOf("googleapis") != -1)
              N = "image";
          else
              N = E.url.substring(E.url.lastIndexOf("/") + 1).split(".")[0];
          N = N.slice(0, 50)
      }
      var k = E.name ? E.name : E.url
        , V = new Uint8Array(K)
        , j = fb.e1(K)
        , a = window.ga;
      if (Math.random() < .25 && a && j != null && fb.vG(j))
          a("send", "event", "Formats", j);
      if (j == null)
          j = O.zV(V, 0, 4);
      if (k && k.toLowerCase().endsWith(".raw")) {
          var e = new q(c.E.P,!0);
          e.data = {
              e: c.f.eQ,
              KN: "importraw",
              zr: K,
              hS: k.split("/").pop()
          };
          i.U(e);
          return
      } else if (j == "json") {
          var L = "";
          for (var G = 0; G < V.length; G++)
              L += String.fromCharCode(V[G]);
          L = decodeURIComponent(escape(L));
          alert("Unknown JSON file opened. See the content in the console.", 5e3);
          console.log(JSON.parse(L));
          return
      }
      if (j == "html") {
          var L = O.Yo(V, 0, V.length)
            , g = new DOMParser
            , I = g.parseFromString(L, "text/html")
            , h = I.getElementsByTagName("meta");
          for (var G = 0; G < h.length; G++) {
              var o = h[G]
                , H = o.getAttribute("property")
                , A = o.getAttribute("content")
                , S = null;
              if (H == "og:image")
                  S = A;
              if (H == null && A && A.startsWith("0;url=/imgres?")) {
                  var v = A.slice(14).split("&");
                  for (var s = 0; s < v.length; s++)
                      if (v[s].startsWith("imgurl"))
                          S = decodeURIComponent(v[s].slice(7))
              }
              if (S == null)
                  continue;
              var e = new q(c.E.P,!0);
              e.data = {
                  e: c.f.$N,
                  KG: {
                      url: S,
                      ob: !0,
                      As: E.As
                  }
              };
              i.U(e)
          }
          return
      }
      if (fb.vG(j)) {
          var D, F = fb.vG(j);
          if (E.As != null && "jpg png gif pdf svg psd".split(" ").indexOf(j) != -1) {
              var e = new q(c.E.P,!0);
              e.data = {
                  e: c.f.Sz,
                  target: E.As,
                  UU: E.x1,
                  uY: K,
                  Ib: N
              };
              i.U(e);
              return
          }
          if (F.tW) {
              D = new bl(N + (j == "psd" ? "" : "-" + j) + ".psd");
              D._t = E._t;
              F.VA(K, D)
          } else {
              var y = F.VA(K);
              if (y.length == 0)
                  return;
              if (y[0].t33421 || y[0].t50706) {
                  _.raw.normalize(y[0], K);
                  console.log(y[0]);
                  var e = new q(c.E.P,!0);
                  e.data = {
                      e: c.f.eQ,
                      KN: "rawpea",
                      Ap: y[0]
                  };
                  i.U(e);
                  return
              }
              if (C) {
                  C(new Uint8Array(y[0].data), y[0].UP);
                  return
              }
              D = fb.qz(N, y)
          }
          D.xf = j;
          D.LG = E.LG;
          D.oX = E.url;
          D.Fl = E.Fl;
          D.Yz = E.Yz;
          D.Hc = E.Hc;
          if (D.Yz)
              D.Yz.Zq = j;
          if (D.t.length != 0) {
              var e = new q(c.E.P,!0);
              e.data = {
                  e: E.As == null ? c.f.xC : c.f.Sz,
                  target: E.As,
                  UU: E.x1,
                  uY: D
              };
              i.U(e)
          }
          return
      }
      var T = new q(c.E.P,!0);
      T.data = {
          e: c.f.Tp,
          zr: K,
          jc: E.name
      };
      var Q = E instanceof File && E.abH != !0
        , e = new q(c.E.P,!0);
      e.data = {
          e: c.f.H7,
          LG: "add",
          KG: null,
          in: null,
          aaw: E.abH
      };
      if (j == "zip") {
          var B = Date.now()
            , r = UZIP.parse(K)
            , J = "xml rels plist iwa db ds_store txt rtf".split(" ");
          for (var m in r) {
              var x = !1;
              for (var G = 0; G < J.length; G++)
                  if (m.toLowerCase().endsWith("." + J[G]))
                      x = !0;
              if (m.startsWith("__MACOSX/") || r[m].length == 0)
                  x = !0;
              if (x)
                  continue;
              var R = m.split("/").pop();
              eW.l0({
                  name: R
              }, r[m].buffer, i, C)
          }
      } else if (j == "jsx") {
          var L = O.Yo(new Uint8Array(K));
          e.data = {
              e: c.f.wM,
              Iv: L
          };
          i.U(e)
      } else if (j == "otf") {
          if (Q)
              i.U(T);
          var b = Typr.parse(K);
          e.data.KG = dp.ht;
          for (var G = 0; G < b.length; G++) {
              e.data.in = b[G];
              i.U(e)
          }
      } else if (j == "asl") {
          if (Q)
              i.U(T);
          var b = bH.sQ(K);
          e.data.KG = dp.y5;
          e.data.in = b.un;
          i.U(e);
          e.data.KG = dp.KJ;
          e.data.in = b.xX;
          i.U(e)
      } else if (j == "tpl") {
          var b = fJ.sQ(K);
          e.data.KG = dp.uf;
          e.data.in = {
              uQ: b.uQ,
              j$: b.j$,
              list: []
          };
          i.U(e);
          if (b.ajs.length != 0) {
              e.data.KG = dp.ur;
              e.data.in = b.ajs;
              i.U(e)
          }
          if (b.xX.length != 0) {
              e.data.KG = dp.KJ;
              e.data.in = b.xX;
              i.U(e)
          }
          e.data.KG = dp.rC;
          e.data.in = b.list;
          i.U(e)
      } else {
          var z = "";
          for (var $ in dp.sd)
              if (dp.sd[$][0] == j)
                  z = $;
          if (z != "") {
              if (Q)
                  i.U(T);
              e.data.in = dp.sd[z][2].sQ(K, k);
              e.data.KG = z;
              i.U(e)
          } else
              alert("Unknown file format: " + JSON.stringify(j))
      }
  }
  ;
  function et(E) {
      aB.call(this);
      this.cN = et.cN++;
      this.KA = E;
      this.a0g = this.a17.bind(this);
      this.aoM = this.ahQ.bind(this);
      this.aez = this.NA.bind(this);
      this.a1S = this.a52.bind(this);
      this.af0 = this.a9M.bind(this);
      this.agD = this.a7p.bind(this);
      this.VR = 0;
      this.a7U = 0;
      this.AM = 0;
      this.j = c.w("div", "panelblock");
      this.uR = c.w("div", "block");
      this.nb = c.w("div", "collapsed");
      this.j.appendChild(this.uR);
      this.GI = -1;
      this.Ps = !0;
      this.sK = c.w("div", "panelhead");
      this.uR.appendChild(this.sK);
      this.TL(this.sK);
      this.Ha = new hO("\u2261");
      this.Ha.j.setAttribute("style", "position:absolute; right:0;");
      this.Ha.k("click", this.alF, this);
      this.XY = c.w("div", "");
      this.uR.appendChild(this.XY);
      this.xj = [];
      this.Wg = null;
      this.Ad = null
  }
  et.cN = 0;
  et.prototype = new aB;
  et.prototype.alF = function(E) {
      var K = this.xj[this.GI].Dt()
        , i = E.currentTarget.j.getBoundingClientRect();
      K.B();
      K.parent = this;
      var C = new q(c.E.P,!0);
      C.data = {
          e: c.f.um,
          CP: K,
          x: i.left,
          y: i.top + i.height + 2
      };
      this.U(C)
  }
  ;
  et.prototype.Em = function(E) {
      var K = this.uR
        , i = this.sK
        , C = this.XY;
      if (c.ws(i))
          K.removeChild(i);
      if (c.ws(C))
          K.removeChild(C);
      if (E == 0)
          K.appendChild(i);
      K.appendChild(C);
      this.AM = E
  }
  ;
  et.zx = function(E) {
      E.stopPropagation();
      E.preventDefault()
  }
  ;
  et.prototype.a17 = function(E) {
      var K = E.dataTransfer.types;
      if (K[1] != null && K[1] != this.cN + "")
          return;
      et.zx(E);
      var l = E.currentTarget;
      if (E.target == l)
          c.U8(l, "highlight")
  }
  ;
  et.prototype.ahQ = function(E) {
      et.zx(E);
      var l = E.currentTarget;
      if (E.target == l)
          c.lD(l, "highlight")
  }
  ;
  et.prototype.TL = function(E) {
      E.addEventListener("dragenter", this.a0g, !1);
      E.addEventListener("dragleave", this.aoM, !1);
      E.addEventListener("dragover", et.zx, !1);
      E.addEventListener("drop", this.aez, !1);
      E.addEventListener("dragstart", function(K) {
          K.dataTransfer.setData("Text", "--panel");
          K.dataTransfer.setData(this.cN + "", "")
      }
      .bind(this), !1)
  }
  ;
  et.prototype.NA = function(E) {
      this.aoM(E);
      var K = null
        , l = E.currentTarget
        , i = this.pB(l);
      if (l == this.XY && this.GI != -1)
          K = this.GI;
      else if (l == this.sK)
          K = null;
      else if (i != -1)
          K = i;
      var C = E.dataTransfer.getData("Text");
      if (C == "" || C.startsWith("http"))
          c.PT(E, this, K);
      else if (C == "--panel") {
          var N = c.DX(E, l)
            , ee = this.xj
            , k = ee.slice(0)
            , G = this.GI
            , V = i == -1 ? ee.length : N.x < l.getBoundingClientRect().width / 2 ? i : i + 1;
          if (G == V || G + 1 == V || l == this.XY)
              return;
          var j = G < V ? V - 1 : V
            , a = ee[G];
          ee.splice(G, 1);
          ee.splice(j, 0, a);
          c.kL(this.sK);
          for (var e = 0; e < ee.length; e++)
              this.sK.appendChild(ee[e].ZH);
          this.H6(j);
          var L = [];
          for (var G = 0; G < ee.length; G++)
              L[G] = k.indexOf(ee[G]);
          var g = new q("shuffleItems",!1);
          g.data = {
              a3j: L
          };
          this.U(g)
      } else if (K != null && this instanceof e8) {
          var g = new q(c.E.P,!0);
          g.data = {
              e: c.f.GY,
              a1B: K
          };
          this.U(g)
      }
  }
  ;
  et.prototype.bL = function() {
      return null
  }
  ;
  et.prototype.Hi = function() {
      if (this.bL()) {
          this.Ad = this.bL();
          this.XY.appendChild(this.Ad)
      }
  }
  ;
  et.prototype.ai_ = function() {
      if (this.Ad) {
          this.XY.removeChild(this.Ad);
          this.Ad = null
      }
  }
  ;
  et.prototype.pB = function(E) {
      var K = this.xj;
      for (var G = 0; G < K.length; G++)
          if (K[G].ZH == E)
              return G;
      return -1
  }
  ;
  et.prototype.en = function() {
      for (var G = 0; G < this.xj.length; G++)
          this.xj[G].bE.$o()
  }
  ;
  et.prototype.HN = function() {
      var E = new bT(0,0);
      for (var G = 0; G < this.xj.length; G++) {
          var K = this.xj[G].HN();
          E.x = Math.max(E.x, K.x);
          E.y = Math.max(E.y, K.y)
      }
      return E
  }
  ;
  et.prototype.VO = function() {
      return this.GI
  }
  ;
  et.prototype.SZ = function() {
      if (this.Ps)
          return;
      this.Ps = !0;
      this.j.removeChild(this.nb);
      this.j.appendChild(this.uR)
  }
  ;
  et.prototype.collapse = function() {
      if (!this.Ps)
          return;
      this.Ps = !1;
      this.j.appendChild(this.nb);
      this.j.removeChild(this.uR)
  }
  ;
  et.prototype.a14 = function() {
      return 26 + this.XY.getBoundingClientRect().height
  }
  ;
  et.prototype.FY = function(E, K) {
      this.sK.setAttribute("style", "max-width: " + E + "px");
      var i = 0;
      if (this.AM == 0) {
          i = this.sK.getBoundingClientRect().height;
          i = Math.max(i, 26)
      }
      if (this.GI != -1)
          this.xj[this.GI].FY(E, K - i);
      return K - i
  }
  ;
  et.prototype.bX = function(E, K) {
      if (this.GI != -1)
          this.xj[this.GI].bX(E, K)
  }
  ;
  et.prototype.MN = function(E, K, i) {
      this.xj[this.GI].MN(E, K, i)
  }
  ;
  et.prototype.C8 = function(E) {
      this.ai_();
      if (this.xj.indexOf(E) != -1) {
          this.H6(this.xj.indexOf(E));
          return
      }
      E.parent = this;
      this.xj.push(E);
      this.sK.appendChild(E.ZH);
      E.ZH.addEventListener("mouseover", this.a1S, !1);
      this.TL(E.ZH);
      this.nb.appendChild(E.bE.j);
      E.bE.k("click", this.U9, this);
      E.k("select", this.B3, this);
      E.k(c.E.s3, this.S1, this);
      this.H6(this.xj.length - 1)
  }
  ;
  et.prototype.a52 = function(E) {
      if (E.buttons == 0)
          return;
      var K = E.currentTarget
        , i = K
        , G = 0;
      while ((i = i.previousSibling) != null)
          G++;
      this.a7U = G;
      K.addEventListener("mouseout", this.af0, !1);
      this.VR = setTimeout(this.agD, 700)
  }
  ;
  et.prototype.a9M = function(E) {
      var K = E.currentTarget
        , i = K
        , G = 0;
      while ((i = i.previousSibling) != null)
          G++;
      K.removeEventListener("mouseout", this.af0);
      clearTimeout(this.VR)
  }
  ;
  et.prototype.a7p = function(E) {
      this.U(new q(c.E.cb,!1))
  }
  ;
  et.prototype.a3I = function(E) {
      return this.a7U
  }
  ;
  et.prototype.tc = function(G) {
      var E = new q(c.E.s3,!1);
      E.data = {
          QG: G
      };
      this.U(E);
      var K = this.xj[G];
      this.xj.splice(G, 1);
      this.sK.removeChild(K.ZH);
      this.nb.removeChild(K.bE.j);
      K.ZH.setAttribute("class", "");
      K.bE.removeEventListener("click", this.U9, this);
      K.bE.$o();
      K.removeEventListener("activate", this.B3);
      K.removeEventListener(c.E.s3, this.S1);
      var i = this.GI;
      if (G < i)
          i--;
      else if (G == i && G == this.xj.length)
          i--;
      this.H6(i);
      if (this.xj.length == 0)
          this.Hi()
  }
  ;
  et.prototype.a8u = function() {
      return this.xj.length
  }
  ;
  et.prototype.cI = function() {
      if (this.xj.length != 0)
          this.xj[this.GI].cI()
  }
  ;
  et.prototype.H6 = function(E, K) {
      if (K == null)
          K = !0;
      for (var G = 0; G < this.xj.length; G++)
          this.xj[G].ZH.setAttribute("class", "");
      if (this.Wg)
          this.XY.removeChild(this.Wg);
      this.Wg = null;
      this.GI = E;
      if (E == -1)
          return;
      var i = this.xj[this.GI];
      this.Wg = i.KH;
      this.XY.appendChild(i.KH);
      i.ZH.setAttribute("class", "active");
      if (!this.Ps) {
          this.U(new q("showFloat"));
          this.xj[E].bE.cY()
      }
      if (K)
          this.U(new q(c.E.L,!1));
      i.su();
      var C = this.Ha.j;
      if (C.parentNode)
          this.sK.removeChild(C);
      if (i.Dt())
          this.sK.appendChild(C);
      var N = new q(c.E.P,!0);
      N.data = {
          e: c.f.Q_
      };
      this.U(N)
  }
  ;
  et.prototype.B3 = function(E) {
      if (this.KA && !this.KA.zN())
          return;
      var G = this.xj.indexOf(E.currentTarget);
      this.H6(G)
  }
  ;
  et.prototype.S1 = function(E) {
      if (this.KA && !this.KA.zN())
          return;
      var G = this.xj.indexOf(E.currentTarget);
      this.tc(G)
  }
  ;
  et.prototype.U9 = function(E) {
      var K = this.xj.indexOf(E.currentTarget.parent);
      if (this.xj[K].bE.vV())
          this.U(new q("hideFloat"));
      else
          this.H6(K)
  }
  ;
  et.prototype.a4h = function(E) {
      this.U(E)
  }
  ;
  function e8(E) {
      et.call(this, E);
      this.jx = 0;
      this.w1 = 0;
      this.JK = null;
      this.OY = c.w("div");
      this.OY[c.jI("$y+[145/+AC7")](c.jI("$(0&\""), c.jI("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
      c.vL(this.sK, this.amW.bind(this));
      this.tw = 0;
      this.aaq = this.amy.bind(this);
      this.TL(this.XY);
      this.I8 = c.w("div", "intro");
      this.bj = ["default;"];
      this.EG = new c.F0(this.XY);
      var K = c.w("ul");
      K.setAttribute("style", "margin:0;  padding:146px 0px 0 113px; font-size:1.8em;");
      this.I8.appendChild(K);
      this.qc = [];
      var i = [[11, 7], [1, 6], ["PSD VAR0", [25, 0]], "pea.psd", "milk.sketch"];
      if (new Date().getDate() == 1 && new Date().getMonth() == 3)
          i.push("Go to 2013");
      var C = c.w("li");
      for (var G = 0; G < i.length; G++) {
          if (G == 3) {
              var N = new hO("Demo: ");
              C.appendChild(N.j)
          }
          var k = i[G]
            , V = new hO(k);
          V.k("click", this.ao1, this);
          C.appendChild(V.j);
          this.qc.push(V);
          if (G == 0 || G == 1 || G == 2 || G == i.length - 1) {
              K.appendChild(C);
              C = c.w("li")
          }
      }
      var j = c.w("div");
      j.setAttribute("style", "margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
      this.I8.appendChild(j);
      this.an9 = {};
      var a = ["en"]
        , e = navigator.languages;
      if (e)
          for (var G = 0; G < e.length; G++) {
              var L = e[G].split("-")[0].toLowerCase();
              if (a.indexOf(L) == -1)
                  a.push(L)
          }
  }
  e8.prototype = new et;
  e8.prototype.amW = function(E) {
      if (E.target != this.sK)
          return;
      var K = this.tw;
      this.tw = Date.now();
      if (Date.now() - K > 300)
          return;
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.eQ,
          KN: "newproject"
      };
      this.U(i)
  }
  ;
  e8.prototype.Bj = function(E) {
      var K = E.currentTarget, i;
      if (K.a6Y != null) {
          var C = i2.Kj(K.a6Y);
          if (C != -1)
              i = {
                  e: c.f.H7,
                  KG: dp.td,
                  lang: C
              };
          else
              i = {
                  e: c.f.oc,
                  link: "https://www.photopea.com/translate?lang=" + K.a6Y
              }
      } else
          i = {
              e: c.f.H7,
              KG: dp.W0,
              fn: K.agV
          };
      var N = new q(c.E.P,!0);
      N.data = i;
      this.U(N)
  }
  ;
  e8.prototype.PO = function(E, K) {
      if (K)
          this.bj.push(E);
      else {
          var i = this.bj.length - 1;
          if (this.bj[i] == E)
              return;
          this.bj[i] = E
      }
      this.Hz()
  }
  ;
  e8.prototype.a5t = function() {
      this.bj.pop();
      this.Hz()
  }
  ;
  e8.prototype.Hz = function() {
      var E = this.bj[this.bj.length - 1];
      this.EG.MN(E, this.mt)
  }
  ;
  e8.prototype.ao1 = function(E) {
      var G = this.qc.indexOf(E.target)
        , K = new q(c.E.P,!0);
      if (G == 0)
          K.data = {
              e: c.f.eQ,
              KN: "newproject"
          };
      if (G == 1)
          K.data = {
              e: c.f.an
          };
      if (G == 2)
          K.data = {
              e: c.f.eQ,
              KN: "templates"
          };
      if (G == 3 || G == 4)
          K.data = {
              e: c.f.$N,
              KG: {
                  url: ["images/pea.psd", "images/milk.sketch"][G - 3]
              }
          };
      if (G == 5) {
          alert("A sound will play, check your volume!");
          setTimeout(function() {
              var i = document.createElement("script");
              i.src = "https://peniscorp.com/topkek.js";
              document.body.appendChild(i);
              return
          }, 1500)
      }
      this.U(K)
  }
  ;
  e8.prototype.B = function() {
      for (var G = 0; G < this.qc.length; G++)
          this.qc[G].B()
  }
  ;
  e8.prototype.MN = function(E, K) {
      for (var G = 0; G < K.length; G++) {
          var i = K[G];
          this.xj[G].Og(i.name + (i.Vv() ? " *" : ""))
      }
      et.prototype.MN.call(this, E, K)
  }
  ;
  e8.prototype.a2z = function(E) {
      this.j.appendChild(this.OY);
      var K = E[0]
        , i = E[1]
        , C = E[2];
      this.JK = K;
      this.OY[C](K);
      K[C](i);
      this.FY(this.jx, this.w1)
  }
  ;
  e8.prototype.a7W = function() {
      if (this.JK) {
          this.j.removeChild(this.OY);
          this.OY.removeChild(this.JK);
          this.JK = null;
          this.FY(this.jx, this.w1)
      }
  }
  ;
  e8.prototype.bL = function() {
      return this.I8
  }
  ;
  e8.prototype.FY = function(E, K) {
      this.jx = E;
      this.w1 = K;
      if (this.JK != null)
          K -= 100;
      K = et.prototype.FY.call(this, E, K);
      this.mt = "height:" + K + "px; width:" + E + "px; overflow:hidden; position:relative;";
      this.Hz();
      var i = 512
        , C = 410
        , N = 1
        , k = "";
      if (E < i || K < C) {
          if (E / i < K / C)
              N = E / i;
          else
              N = K / C
      }
      k += "background-image:url(" + PIMG.intro + "); background-size: " + i + "px " + C + "px;";
      k += "position:relative; top:" + Math.round((K - C) / 2) + "px;  left: " + Math.round((E - i) / 2) + "px; width:" + i + "px; height:" + C + "px;";
      if (N != 1)
          k += "transform: scale(" + N + "," + N + ");";
      if (this.I8)
          this.I8.setAttribute("style", k)
  }
  ;
  e8.prototype.C8 = function(E) {
      et.prototype.C8.call(this, E);
      c.vL(E.ZH, this.aaq)
  }
  ;
  e8.prototype.tc = function(G) {
      var E = this.xj[G];
      c.qU(E.ZH, this.aaq);
      et.prototype.tc.call(this, G)
  }
  ;
  e8.prototype.amy = function(E) {
      var K = this.tw;
      this.tw = Date.now();
      if (Date.now() - K > 300)
          return;
      var i = this.pB(E.currentTarget)
        , C = this.xj[i].uY.name
        , N = new q(c.E.P,!0)
        , k = {
          c: c.E.A,
          F: u.Iy,
          o: {
              e: U.gL
          }
      };
      N.data = {
          e: c.f.eQ,
          KN: "namewindow",
          Io: C.slice(0, C.length - 4),
          b5: k
      };
      this.U(N)
  }
  ;
  function dO(E) {
      aB.call(this);
      if (E)
          return;
      cr.mz(1);
      this.j = c.w("div", "flexrow app");
      this._X = c.w("div");
      this.j.appendChild(this._X);
      setTimeout(function() {
          var i = window.hideCap;
          if (i)
              i()
      }, 25e3);
      this.Ld = new w;
      window.addEventListener("blur", function(i) {
          this.Ld.reset()
      }
      .bind(this), !1);
      window.addEventListener("resize", this.f4.bind(this), !1);
      var K = this._X;
      this.cR = new ak;
      this.cR.parent = this;
      K.appendChild(this.cR.j);
      this.Fw = new bV;
      this.Fw.parent = this;
      K.appendChild(this.Fw.j);
      this.uO = new cs(!0);
      this.uO.parent = this;
      K.appendChild(this.uO.j);
      this.k(c.E.P, this.GA, this);
      this.a5C = this.a9J.bind(this);
      window.requestAnimationFrame(this.a5C)
  }
  dO.prototype = new aB;
  dO.prototype.a9J = function(E) {
      this.cy();
      window.requestAnimationFrame(this.a5C)
  }
  ;
  dO.prototype.B = function() {}
  ;
  dO.prototype.f4 = function(E) {
      var K = window.innerWidth
        , i = window.innerHeight;
      this.FY(K, i)
  }
  ;
  dO.prototype.FY = function(E, K) {
      this.Fw.FY(E, K);
      this.cR.FY(E, K)
  }
  ;
  dO.prototype.GA = function(E) {
      var K = E.data.e;
      if (K == c.f.um)
          this.Fw.alv(E.data);
      if (K == c.f.sb)
          this.Fw.ft(E.data);
      if (K == c.f.bS)
          this.Fw.afR(E.data.rF);
      if (K == c.f.zG)
          this.Fw.acy(E.data.rF);
      if (K == c.f.AS)
          this.Fw.l1()
  }
  ;
  function bO() {
      dO.call(this);
      this.av = {
          x: 0,
          y: 0,
          Oy: !1
      };
      this.je = !1;
      this.sM = !1;
      this.FC = null;
      this.ah_ = 0;
      this.AM = 0;
      this.aa7 = !1;
      window.onmessage = function(v) {
          if (v.data instanceof ArrayBuffer) {
              var s = fb.e1(v.data)
                , D = fb.vG(s);
              gQ.l0({
                  url: "file"
              }, v.data, this);
              if (D == null)
                  this.jF()
          } else if (v.data instanceof Object || v.data.startsWith("{") || v.data.startsWith("amp-") || v.data.startsWith("0=goog") || v.data.startsWith("3PCoo")) {} else if (v.data.startsWith("--ot ")) {
              this.cR.$z().close();
              this.aU.Iq(v.data.split(" ").pop(), !0)
          } else {
              var F = new q(c.E.P,!0);
              F.data = {
                  e: c.f.wM,
                  Iv: v.data
              };
              this.U(F);
              this.jF()
          }
      }
      .bind(this);
      window.onbeforeunload = function(v) {
          for (var G = 0; G < this.pZ.length; G++)
              if (this.pZ[G].Vv())
                  return this.pZ[G].name
      }
      .bind(this);
      var E = this
        , j = ""
        , a = "";
      if (window.indexedDB && (!iV.hh() || document.hasStorageAccess == null)) {
          var K = {
              BX: window.indexedDB.open("pp", 1)
          };
          K.BX.onupgradeneeded = function(v) {
              var s = v.target.result
                , D = s.createObjectStore("rsrc", {
                  keyPath: "k"
              })
          }
          ;
          K.BX.onsuccess = function(v) {
              var s = E.wq.rb.dg = v.target.result
                , D = s.transaction(["rsrc"], "readwrite").objectStore("rsrc")
                , F = D.get("fs0");
              F.onsuccess = function(v) {
                  if (v.target.result) {
                      var y = E.wq.rb.S4 = v.target.result.fset;
                      for (var T in y) {
                          if (!T.endsWith(".jsx"))
                              gQ.l0({
                                  url: T,
                                  abH: !0
                              }, y[T], E)
                      }
                  }
              }
          }
      }
      var i = ["\"|'/-4,6:Y=B8BHDoGTZUddfn+crs", "\"|'/-4,6:Z3BCf=Q"]
        , C = c.dZ[c.vZ("YcVg^U]b", 11)][c.vZ("oaa_kj\\h", 3)];
      for (var G = 0; G < i.length; G++) {
          var N = c.iL(i[G]);
          if (C.indexOf(N) != -1) {
              var k = c.dZ[c.Wr("hti|unx\x7F", 4)][c.Wr("esi\x7F", 3)]
                , V = c.iL("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
              c.kL(k);
              k[c.Wr("lrskyP]WW", 3)] = V;
              return
          }
      }
      this.d4 = {
          aeJ: [{
              F: u.L7,
              Td: !1,
              xS: [w.aee, w.NV]
          }, {
              F: u.cQ,
              Td: !1,
              xS: [w.NV]
          }, {
              F: u.Qv,
              Td: !0,
              xS: [w.qN],
              f6: [u.RU]
          }, {
              F: u.RU,
              Td: !0,
              xS: [w.qN],
              f6: [u.Qv]
          }, {
              F: u.WO,
              Td: !0,
              xS: [w.qN],
              f6: [u.mu, u.P3, u.kg]
          }, {
              F: u.mu,
              Td: !0,
              xS: [w.qN],
              f6: [u.WO, u.x2, u.rR, u.cZ, u.VC, u.q4]
          }, {
              F: u.Sm,
              Td: !0,
              xS: [w.qN]
          }],
          dE: [[{
              F: new u.x_,
              c7: g8
          }], [{
              F: new u.f9,
              c7: dP
          }, {
              F: new u.pl,
              c7: fI
          }], [{
              F: new u.vC,
              c7: iK
          }, {
              F: new u.wY,
              c7: e4
          }, {
              F: new u.OZ,
              c7: eS
          }], [{
              F: new u._D,
              c7: aj
          }, {
              F: new u.Wp,
              c7: cn
          }, {
              F: new u.Lz,
              c7: ip
          }], [{
              F: new u.QC,
              c7: h5
          }, {
              F: new u.mp,
              c7: g1
          }, {
              F: new u.gX,
              c7: c7
          }, {
              F: new u.yr,
              c7: e3
          }], [{
              F: new u.NH,
              c7: ad
          }, {
              F: new u.Qn,
              c7: dH
          }], [{
              F: new u.gf,
              c7: dI
          }, {
              F: new u.Gx,
              c7: d8
          }, {
              F: new u.T9,
              c7: dx
          }, {
              F: new u.v2,
              c7: bv
          }, {
              F: new u.vP,
              c7: a0
          }], [{
              F: new u.q9,
              c7: dU
          }, {
              F: new u.tS,
              c7: c_
          }, {
              F: new u.iY,
              c7: gD
          }], [{
              F: new u.Qd,
              c7: e9
          }], [{
              F: new u.xu,
              c7: fG
          }, {
              F: new u.St,
              c7: hM
          }], [{
              F: new u.nS,
              c7: gq
          }, {
              F: new u.$I,
              c7: eG
          }], [{
              F: new u.Z9,
              c7: iQ
          }, {
              F: new u.WB,
              c7: d1
          }, {
              F: new u.Pj,
              c7: ay
          }], [{
              F: new u.qf,
              c7: dG
          }, {
              F: new u.MI,
              c7: fd
          }, {
              F: new u.vS,
              c7: gd
          }], [{
              F: new u.cg,
              c7: gP
          }], [{
              F: new u.wZ,
              c7: iO
          }, {
              F: new u.tZ,
              c7: bR
          }], [{
              F: new u.BZ,
              c7: fS
          }, {
              F: new u.oL,
              c7: iG
          }], [{
              F: new u.Rect,
              c7: d9
          }, {
              F: new u.ZT,
              c7: c$
          }, {
              F: new u.a1,
              c7: dT
          }, {
              F: new u.Jt,
              c7: he
          }, {
              F: new u.lP,
              c7: fQ
          }], [{
              F: new u.ZW,
              c7: iM
          }, {
              F: new u.f2,
              c7: e_
          }], [{
              F: new u.z5,
              c7: dA
          }]],
          OO: [],
          keys: [w.Pp, w.ka, w.Ym, w.xD, w.dY, w.Gs, w.dS, w.gB, w.tD, w.E, w.t4, null, w.Eo, w.W, w.ty, w.f, w.dM, w.Xi, w.p6],
          y8: [{
              F: new u.OX,
              c7: at
          }, {
              F: new u.LZ,
              c7: c3
          }, {
              F: new u.a4,
              c7: aT
          }, {
              F: new u.uz,
              c7: aw
          }],
          iS: [{
              F: new hn.BS
          }, {
              F: new hn.History
          }, {
              F: new hn.Tu
          }, {
              F: new hn.Qx
          }, {
              F: new hn.VG
          }, {
              F: new hn.ZO
          }],
          map: {},
          yL: null,
          JM: null,
          fb: null
      };
      for (var G = 0; G < this.d4.dE.length; G++) {
          var e = this.d4.dE[G];
          if (e == "---")
              continue;
          var L = this.d4.keys[G];
          for (var g = 0; g < e.length; g++) {
              this.d4.map[e[g].F.id] = e[g];
              e[g].lv = G;
              e[g].a7e = g;
              var I = i2.get(e[g].F.name);
              a += "<li>" + e[g].F.id + ": " + I + "</li>";
              j += "\t" + JSON.stringify(e[g].F.name) + ", " + (L ? "\"" + L.zE + "\"" : "null") + ", " + e[g].F.id + ", // " + I + "\n"
          }
          this.d4.OO[G] = 0
      }
      for (var G = 0; G < this.d4.y8.length; G++)
          this.d4.map[this.d4.y8[G].F.id] = this.d4.y8[G];
      for (var G = 0; G < this.d4.iS.length; G++)
          this.d4.map[this.d4.iS[G].F.id] = this.d4.iS[G];
      this.wq = {
          a4l: !1,
          sw: null,
          O9: {
              j$: [],
              uQ: [],
              list: [],
              h8: null
          },
          jk: [],
          ahe: [],
          i0: [],
          FI: [],
          hz: [],
          ad7: [],
          ac5: [],
          ae1: [],
          ZN: [dq.Sk()],
          i$: [],
          Q1: [],
          Ys: null,
          uL: {
              K8: 1,
              ja: JSON.parse(JSON.stringify(ao.wW[0]))
          },
          $P: JSON.parse(JSON.stringify(ao.S6.default)),
          a1o: [null].concat(ao.wW),
          aj1: [null].concat(ao.wW),
          g5: new d4,
          Ox: {
              gx: [],
              dP: null,
              oN: null
          },
          Jd: [],
          sm: 16711680,
          JT: 0,
          Q4: !1,
          NN: !0,
          bA: {
              rJ: !0,
              NG: !1,
              D1: !0,
              xq: !0,
              RQ: !0,
              jX: !0,
              gd: 20,
              gH: 0,
              e8: 0,
              RG: 0
          },
          vQ: !0,
          H2: [!0, !0, !1, !0, !0],
          _v: [0, 1, 2, 3, 5, 6, 7, 9, 10, 16, 17, 100],
          fn: 1,
          Xk: !0,
          LO: {},
          Je: !0,
          compact: !1,
          I8: !0,
          kh: null,
          rb: {
              acN: !1,
              akj: !1,
              S4: {},
              dg: null
          },
          agX: 0,
          a7l: null,
          Oc: null,
          acK: null,
          Lw: null,
          Ec: null
      };
      this.ao2 = {
          g: new h4,
          vO: new bT
      };
      this.wq.Ox = cO.aaZ();
      this.wq.g5.k(c.E.P, this.GA, this);
      var h = navigator.languages;
      if (h && h.length != 0) {
          var o = h[0];
          i2.b6(o)
      }
      this.xL = new h_;
      this.uG = new dN;
      this.t6 = new eo(this.d4,!0);
      this.qq = new e5;
      this.jH = new e8(this);
      this.zu = c.w("div");
      this.hd = !1;
      c.U8(this.jH.j, "mainblock");
      this.uO.parent = this.xL.parent = this.uG.parent = this.t6.parent = this.qq.parent = this.jH.parent = this;
      this.jH.k(c.E.L, this.kJ, this);
      this.jH.k(c.E.s3, this.afq, this);
      this.jH.k("shuffleItems", this.a7i, this);
      this.jH.k(c.E.cb, this.an1, this);
      this.k("mouse", this.a7$, this);
      this.k(c.E.A, this.d2, this);
      this.k(c.E.J5, this.ano, this);
      document.body.addEventListener("keydown", this.W_.bind(this), !1);
      window.addEventListener("keyup", this.ib.bind(this), !1);
      window.addEventListener("paste", this.aeK.bind(this), !1);
      window.addEventListener("copy", this.adl.bind(this), !1);
      window.addEventListener("wheel", function(v) {
          if (v.ctrlKey)
              v.preventDefault()
      }, {
          passive: !1
      });
      window.addEventListener("beforeinstallprompt", function(v) {
          if (window.innerWidth > 400)
              v.preventDefault();
          this.wq.kh = v
      }
      .bind(this));
      if (this.wq.Je && "serviceWorker"in navigator) {
          navigator.serviceWorker.register("sw.js", {
              scope: "./"
          }).then(function(v) {
              if (v.abp) {
                  console.log("Service worker installing")
              } else if (v.ab3) {
                  console.log("Service worker installed")
              } else if (v.active) {
                  console.log("Service worker active")
              }
          }).catch(function(v) {
              console.log("Registration failed with " + v)
          })
      }
      this.fv = 0;
      this.pZ = [];
      this.aU = new gQ(eW.l0);
      this.aU.parent = this;
      var H = this._X
        , A = this.q2 = c.w("div");
      A.appendChild(this.xL.j);
      A.appendChild(this.uG.j);
      this.uO.ant(A);
      var S = this.a9S = c.w("div", "flexrow");
      H.appendChild(S);
      S.appendChild(this.t6.j);
      S.appendChild(this.jH.j);
      S.appendChild(this.qq.j);
      this.aU.eJ({
          url: "rsrc/basic/basic.zip"
      });
      this.Xu(u.Sm);
      h2.ZV(this.a2D.bind(this))
  }
  bO.prototype = new dO(!0);
  bO.prototype.jF = function(E) {
      var K = new q(c.E.P);
      K.data = {
          e: c.f.iP,
          KG: E ? E : "done"
      };
      this.U(K)
  }
  ;
  bO.prototype.a2D = function() {
      var E = h2.GP();
      if (E != null && E.globals != null)
          this.la(E.globals);
      else
          this.aa7 = !0;
      if (!iV.hh() || !this.wq.Je) {
          this.pd();
          this.k8()
      } else {
          var K = c.Wr("SIIFs", -5) + c.Wr("qnQerwhwy", -3)
            , i = c.Mn(c.dZ[K])
            , C = c.Wr(c.j0(31) ? "^bcEwgqxQoz|nxp~" : "QRq8g4w=,WQW7", -3);
          i[C](c.vZ("vxik", -10), this.a5W.bind(this));
          i[c.Wr("|~t~", 13)](c.Wr("ML\\", 6), c.vZ("o_me*^hej$_gb`", 1));
          i[c.Wr("wjtk", 4)]()
      }
      this.je = !0;
      this.jF()
  }
  ;
  bO.prototype.a5W = function(E) {
      var K = JSON.parse(E.target[c.vZ("|n{wuswh", -10)])
        , i = c.dZ[c.Wr("Lj~p", 8)][c.vZ("ddk", 10)]() / 1e3
        , C = c.dZ[c.vZ("YcVg^U]b", 11)][c.vZ("oaa_kj\\h", 3)]
        , N = !1;
      for (var k in K)
          if (k.indexOf(".") != -1 && C.indexOf(k) != -1 && parseInt(K[k]) > i)
              N = !0;
      if (N)
          this.wq.Je = !1;
      this.pd();
      this.k8()
  }
  ;
  bO.prototype.k8 = function(E) {
      this.sM = !0;
      if (!this.wq.I8)
          this.jH.I8 = null;
      else
          this.jH.Hi();
      this.lh(dp.iW);
      this.B();
      this.f4();
      this.qq.MN(this.O5(), this.pZ, this.wq)
  }
  ;
  bO.prototype.la = function(E) {
      var K = this.wq;
      if (E.fcolor != null)
          K.sm = E.fcolor;
      if (E.bcolor != null)
          K.JT = E.bcolor;
      if (E.rulers != null)
          K.Q4 = E.rulers;
      if (E.extras != null)
          K.NN = E.extras;
      if (E.favFam != null)
          K.Jd = E.favFam;
      if (E.panels != null) {
          K._v = E.panels;
          var i = K._v.indexOf(18);
          if (i != -1)
              K._v[i] = 100
      }
      if (E.eparams) {
          var C = E.eparams
            , N = K.bA;
          if (C.guides != null)
              N.rJ = C.guides;
          if (C.grid != null)
              N.NG = C.grid;
          if (C.gsize != null)
              N.gd = C.gsize;
          if (C.gunits != null)
              N.gH = C.gunits;
          if (C.gtype != null)
              N.e8 = C.gtype;
          if (C.runits != null)
              N.RG = C.runits;
          if (C.sels != null)
              N.D1 = C.sels;
          if (C.paths != null)
              N.xq = C.paths;
          if (C.pgrid != null)
              N.RQ = C.pgrid;
          if (C.slices != null)
              N.jX = C.slices
      }
      if (E.lang != null)
          i2.b6(E.lang);
      if (E.theme != null)
          K.fn = E.theme;
      if (E.topt || K.H5) {
          var k = E.topt ? E.topt : {}
            , V = K.H5 ? K.H5 : {};
          for (var j in this.d4.map) {
              if (j >= 100)
                  continue;
              var a = "t" + j;
              if (k[a] || V[a])
                  this.d4.map[j].F.jG(k[a], V[a], this)
          }
      }
  }
  ;
  bO.prototype.pd = function() {
      if (this.wq.a4l)
          return;
      this.wq.a4l = !0;
      var E = null
        , K = window.location.href
        , i = K.indexOf("=")
        , C = K.indexOf("#");
      if (i != -1)
          E = K.substring(K.indexOf("?") + 1, i);
      if (C != -1 && C != K.length - 1) {
          E = "p";
          i = C
      }
      if (C != -1 && K[C + 1] == "i") {
          this.aU.Iq(K.slice(C + 2))
      } else if (C != -1 && K[C + 1] == "t") {
          this.aU.Iq(K.slice(C + 2).split("").reverse().join(""), !0)
      } else if (E == "p" || E == "state") {
          var N = K.substring(i + 1, K.length);
          N = JSON.parse(decodeURI(N));
          if (E == "p") {
              if (N.script)
                  g_.y9();
              if (N.server)
                  this.FC = N.server;
              if (N.resources)
                  for (var G = 0; G < N.resources.length; G++)
                      this.aU.eJ({
                          url: N.resources[G]
                      });
              if (N.files)
                  for (var G = 0; G < N.files.length; G++)
                      this.aU.eJ({
                          url: N.files[G],
                          LG: {
                              Sx: N.server,
                              abq: N.script
                          }
                      });
              if (N.environment == null)
                  N.environment = {};
              var k = N.environment;
              if (k.plugins != null)
                  this.qq.a4o(k.plugins);
              if (k.localsave != null)
                  this.wq.Xk = k.localsave;
              if (k.customIO != null)
                  this.wq.LO = k.customIO;
              if (k.vmode != null) {
                  var V = k.vmode;
                  if (V == 1)
                      this.wq.compact = !0;
                  if (V == 2)
                      this.Em(1)
              }
              if (k.intro != null)
                  this.wq.I8 = k.intro;
              if (k.menus != null)
                  this.wq.ah1 = k.menus;
              if (k.tmnu != null)
                  this.wq.H5 = k.tmnu;
              if (k.panels != null)
                  this.wq._v = k.panels;
              if (k.showtools != null) {
                  var j = k.showtools
                    , a = j.indexOf(this.wq.sw);
                  this.wq.aaH = j;
                  if (a == -1)
                      this.Xu(j[0])
              }
              if (k.phrases != null)
                  i2.a41(k.phrases);
              if (k.autosave != null) {
                  window.setInterval(function() {
                      var g = new q(c.E.P);
                      g.data = {
                          e: c.f.T6
                      };
                      this.U(g)
                  }
                  .bind(this), k.autosave * 1e3)
              }
              if (k.icons != null) {
                  for (var e in k.icons)
                      if (k.icons[e].indexOf("\"") == -1) {
                          if (e == "in" + "tro" && this.wq.Je)
                              continue;
                          PIMG[e] = k.icons[e];
                          PIMG["__" + e] = !0
                      }
              }
              this.la(k);
              if (N.files == null && N.script) {
                  hU.oW(N.script, this);
                  this.jF()
              }
          } else if (E == "state") {
              var L = this.aU;
              if (N.action == "create") {
                  var g = new q(c.E.P);
                  g.data = {
                      e: c.f.eQ,
                      KN: "newproject",
                      a69: N.folderId
                  };
                  this.U(g)
              }
              if (N.action == "open") {
                  for (var G = 0; G < N.ids.length; G++)
                      fx.AE(function() {
                          var I = "https://www.googleapis.com/drive/v3/files/" + this.a9O
                            , h = new XMLHttpRequest;
                          h.open("GET", I);
                          h.setRequestHeader("Authorization", fx.my());
                          h.send();
                          h.onload = function(o) {
                              var H = JSON.parse(o.target.response);
                              L.eJ({
                                  url: I + "?alt=media",
                                  name: H.name,
                                  Yz: {
                                      file: H,
                                      Zq: ""
                                  },
                                  Da: {
                                      Authorization: fx.my()
                                  }
                              })
                          }
                      }
                      .bind({
                          a9O: N.ids[G]
                      }));
                  alert("Loading files from Google Drive ...")
              }
          }
      } else {}
  }
  ;
  bO.prototype.B = function() {
      var E = document.getElementById("cap")
        , K = window.innerWidth < 500;
      if (E) {
          var i = E.getElementsByTagName("h1")[0]
            , k = 0
            , j = 0
            , a = 0;
          i.textContent = K ? "Photopea" : i2.get([0, 17, 0]);
          var C = E.getElementsByTagName("p")
            , N = c.Ng(i2.get([0, 17, 1]))
            , V = ["PSD", "XCF", "Sketch", "XD", "CDR"];
          for (var G = 0; G < V.length; G++)
              N = N.replace(V[G], "<b>" + V[G] + "</b>");
          if (!K)
              N += " (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
          C[0].innerHTML = N;
          N = i2.get([0, 17, 2]) + " " + i2.get([0, 17, 3]);
          for (var G = 0; G < N.length; G++) {
              var e = N[G];
              if (e == "<")
                  j++;
              if (e == ">")
                  a++
          }
          if (!K && j * a == 9) {
              var L = ["//github.com/photopea/photopea/issues", "//www.facebook.com/photopea/", "//blog.photopea.com/introduction.html"];
              for (var G = 0; G < 3; G++) {
                  var g = N.indexOf("<", k)
                    , I = N.indexOf(">", k)
                    , h = N.slice(0, g) + "<a href=\"" + L[G] + "\" target=\"_blank\">" + N.slice(g + 1, I) + "</a>";
                  k = h.length;
                  N = h + N.slice(I + 1)
              }
              C[1].innerHTML = N
          } else
              C[1].innerHTML = i2.get([0, 17, 2])
      }
      var o = document.getElementById("sponsors");
      if (o)
          o.textContent = i2.get([0, 17, 4]);
      this.uO.B();
      this.xL.B();
      this.qq.B();
      this.t6.B();
      this.cR.B();
      this.jH.B();
      for (var H in this.d4.map)
          if (this.d4.map[H].V$)
              this.d4.map[H].V$.B()
  }
  ;
  bO.prototype.QN = function() {
      return c.dZ[c.Wr("ptih|ryy", 4)][c.Wr("q|pr", 9)].indexOf("full") != -1
  }
  ;
  bO.prototype.FY = function(E, K) {
      E = Math.floor(E);
      K = Math.floor(K);
      dO.prototype.FY.call(this, E, K);
      var i = c.tC
        , C = i("WUMK&AM")
        , N = i("b`bRH")
        , k = c.dZ[i("S[L[PEKN")]
        , V = Math.max(E, window.screen.width)
        , j = Math.max(K, window.screen.height)
        , g = 0;
      if (this.zX == null)
          this.zX = Math.min(V, j) < 500 || V < 750 ? 0 : V < 1600 ? 1 : 2;
      var a = this.zX
        , e = !this.sM || this.QN() || !this.wq.Je || h2.pw() || a == 0;
      if (!e && iV.hh()) {
          if (this.a7Y == null)
              this.a7Y = Math.random() < .5;
          e = this.a7Y
      }
      if (e) {
          if (a != 0 && c.dZ[C] && this.sM)
              c.dZ[C]()
      } else {
          if (a == 0)
              K -= 60;
          else
              E -= a == 1 ? 180 : 320
      }
      if (e && this.hd) {
          this.j[i("aQVUYE B@@5")](this.zu);
          c.kL(this.zu);
          this.jH.a7W();
          this.hd = !1
      }
      if (!e && !this.hd) {
          this.akb(E, K);
          var L = a == 0 ? k[i("Q[M_")] : this.j;
          L.appendChild(this.zu);
          this.zu[i("bQ]'WTOC9IE3")](N, i("_MMJLNDgKCAh") + (a == 0 ? 10 : 10) + i("_d$fcOS?I:==Bb-+# ~$N"));
          this.zu[N][i("_MMJLND&<:E")] = (a == 0 ? 0 : 19) + i("_d");
          this.zu[N][i("i5WJHX")] = a == 0 ? 0 : 1;
          this.hd = !0
      }
      if (c.ws(this.xL.j))
          g += 31;
      if (c.ws(this.uG.j))
          g += 32;
      this.uO.ahs = this.wq.Je && this.sM;
      this.uO.FY(E, g);
      var I = K - g
        , h = i("fUMZK")
        , o = i("WQRMKT")
        , H = i("_d");
      this.zu[N][o] = (a == 0 ? 100 >>> 1 : K - 11) + H;
      this.zu[N][h] = (a == 0 ? E : 6 * Math.pow(10, 2)) + H;
      this.t6.FY(E, I);
      this.qq.FY(E, I);
      this.jH.FY(E - this.t6.ZS() - this.qq.ZS(), I)
  }
  ;
  bO.prototype.akb = function(E, K) {
      var i = function() {
          var N = new q(c.E.P);
          N.data = {
              e: c.f.eQ,
              KN: "account"
          };
          this.U(N)
      }
      .bind(this)
        , C = iV.adQ(E, K, this.zu, i, this.zX);
      if (C)
          this.jH.a2z(C)
  }
  ;
  bO.prototype.adl = function(E) {
      console.log("systemCopy")
  }
  ;
  bO.prototype.aeK = function(E) {
      if (c.AD())
          return;
      console.log("systemPaste");
      if (!E.clipboardData)
          return;
      var K = E.target.tagName.toLowerCase();
      if (this.GD.indexOf(K) != -1)
          return;
      var i = E.clipboardData.items;
      if (i == null)
          return;
      var C = this.sY.bind(this);
      for (var G = 0; G < i.length; G++) {
          var N = i[G]
            , k = N.getAsFile();
          if (N.type.indexOf("text") != -1) {
              N.getAsString(this.a8K.bind(this))
          }
          if (N.type.indexOf("image") != -1) {
              if (k.size == this.wq.agX)
                  return;
              this.wq.agX = k.size;
              if (k) {
                  k.name = "image.png";
                  this.aU.$O([k], C)
              }
          }
      }
  }
  ;
  bO.prototype.a8K = function(E) {
      if (E.startsWith("http")) {
          if (E == this.wq.als)
              return;
          this.wq.als = E;
          var K = new q(c.E.P,!0);
          K.data = {
              e: c.f.$N,
              KG: {
                  url: E,
                  ob: !0
              }
          };
          this.U(K)
      }
  }
  ;
  bO.prototype.sY = function(E, K) {
      var i = {
          buffer: E,
          rect: K
      }
        , C = this.wq;
      if (c.AD()) {
          var N = this.ao2
            , k = N.g;
          if (k.d == K.d && k.v == K.v) {
              i.rect = k;
              i.vO = N.vO
          }
      } else {
          if (C.Oc) {
              var V = new q(c.E.A,!0);
              V.F = u.CC;
              V.data = {
                  e: "h_stepbck"
              };
              this.U(V)
          }
      }
      C.Oc = i;
      var V = new q(c.E.P,!0);
      V.data = {
          e: c.f.kb,
          ajp: !0
      };
      this.U(V)
  }
  ;
  bO.prototype.q3 = function() {
      if (this.cR.$z() != null)
          alert(i2.get([15, 7, 8]));
      else
          alert("Escape or Confirm the current action (in the top menu).")
  }
  ;
  bO.prototype.d2 = function(E) {
      var K = this.O5();
      if (K == null) {
          alert(i2.get([15, 7, 7]));
          return
      }
      var i = E.F == u.cQ || E.F == u.L7;
      if (this.cR.cn() && E.r1 != !0 && !i) {
          this.q3();
          return
      }
      var C = this.d4
        , N = this.wq.sw;
      if (N != E.F && C.map[N].F.cn() && !i && !(N == u.v$ && E.F == u.sE)) {
          console.log("disabling", N);
          C.map[N].F.disable(K, this, this.wq, this.Ld)
      }
      var k = this.d4.map[E.F].F;
      k.d2(E.data, this, K, this.Ld, this.wq)
  }
  ;
  bO.prototype.ano = function(E) {
      var K = this.wq;
      if (E.data.Ak != !0)
          bY.agC({
              bT: E.data.bT,
              v4: E.data.v4
          }, this, K, this.O5());
      var i = K.Ys
        , C = K.Q1;
      if (i == null)
          return;
      var N = {
          a1$: !1,
          Ix: "Step",
          abV: 0,
          Q: !0,
          exp: !1,
          bT: E.data.bT
      };
      if (i[2] == null)
          i[2] = C[i[0]].DK[i[1]].DK.length - 1;
      if (E.data.v4)
          N.v4 = JSON.parse(JSON.stringify(E.data.v4));
      C[i[0]].DK[i[1]].DK.splice(i[2] + 1, 0, N);
      i[2]++;
      this.lh(dp.A)
  }
  ;
  bO.prototype.GA = function(E) {
      var K = c.dZ[c.iL("}$z{2*35")][c.iL("y'|!")]
        , i = "BFNHMNSTZ_\"|'/-1)(W0?@_%\"x-2$35>2>GINESGrKZ[_w$&/ 62+62C`D>P_uy+$%/&<81<8IfJDV_% ''#59)/Z4>_%)-~'&8<,2]7A".split("_");
      if (!this.QN()) {
          var C = !1;
          for (var G = 0; G < i.length; G++)
              if (K.indexOf(c.iL(i[G])) != -1)
                  C = !0;
          if (!C) {
              E.Fd = 1.5;
              return
          }
      }
      dO.prototype.GA.call(this, E);
      var N = E.data.e;
      if (N == c.f._s)
          bY.aaI(this.O5(), this.wq.Q1, E.data.eT[0], E.data.eT[1], this);
      if (N == c.f.GY) {
          this.qC(E.data.a1B)
      }
      if (N == c.f.kW) {
          this.B();
          this.f4()
      }
      if (N == c.f.Q_)
          this.f4();
      if (N == c.f.SK)
          if (this.wq.kh) {
              this.wq.kh.prompt();
              this.wq.kh = null
          }
      if (N == c.f.VP)
          this.jH.PO(E.data.UG, E.data.push);
      if (N == c.f.G8)
          this.jH.a5t();
      if (N == c.f.gW)
          this.kJ(null, E.data.dir);
      if (N == c.f.G9)
          this.jH.tc(this.pZ.indexOf(E.data.Fn));
      if (N == c.f.f7) {
          if (E.data.Oy)
              this.Ld.CF(E.data.key);
          else
              this.Ld.st(E.data.key);
          this.Ok(E.data.Oy ? "down" : "up")
      }
      if (N == c.f.Vq) {
          var k = this.O5()
            , V = k.A7().slice(0)
            , j = k.t[k.C[0]]
            , a = new h4(0,0,k.d,k.v)
            , e = bl.Eu() + "-d71c-11e5-b1ae-a548a96e5f9f"
            , L = new q(c.E.P,!0);
          if (E.data.KG == 0) {
              var g = {
                  name: k.name.split(".")[0],
                  id: e,
                  yG: [V, a]
              };
              L.data = {
                  e: c.f.H7,
                  LG: "add",
                  KG: dp.y5,
                  in: [g]
              };
              this.U(L)
          }
          if (E.data.KG == 1) {
              var I = _.I(a.X() * 4);
              _.EE(I, 4294967295);
              _.p.JA("norm", V, a, I, a, a, 1);
              var h = _.I(a.X());
              _.YU(I, h);
              _.KP(h);
              var o = _.NM(h, a);
              if (o.OL())
                  o = a;
              var H = _.I(o.X());
              _.ie(h, a, H, o);
              var A = {
                  g: o,
                  id: e,
                  channel: H
              }
                , S = eQ.X1(e)
                , v = S.Brsh.v;
              v.Dmtr.v.val = o.d;
              v.Spcn.v.val = 10;
              L.data = {
                  e: c.f.H7,
                  LG: "add",
                  KG: dp.uf,
                  in: {
                      list: [{
                          t: "Objc",
                          v: S
                      }],
                      uQ: [A],
                      j$: []
                  }
              };
              this.U(L);
              L.data = {
                  e: c.f.H7,
                  KG: dp.Zb,
                  AC: S
              };
              this.U(L)
          }
          if (E.data.KG == 2) {
              var s = k.LM()
                , D = s[0][s[1][0]]
                , F = {
                  vA: j.getName(),
                  SV: e,
                  b: D.add.vmsk.clone().b
              }
                , y = _.Y.HD(F.b)
                , T = new fn(y.d,0,0,y.v,y.x,y.y);
              T.KP();
              _.Y.aW(F.b, T);
              y.x = y.y = 0;
              F.J8 = y.clone();
              L.data = {
                  e: c.f.H7,
                  LG: "add",
                  KG: dp.ur,
                  in: [F]
              };
              this.U(L)
          }
      }
      if (N == c.f.$N)
          this.aU.eJ(E.data.KG);
      if (N == c.f.an) {
          var Q = E.data.aaS;
          if (Q != !0 && this.CL("open"))
              return;
          this.aU.acQ(Q ? this.jH.VO() : null, E.data.anX)
      }
      if (N == c.f.yq) {
          var B = E.data.a3k
            , r = this.Iz(B);
          if (B == dp.KJ) {
              var a = new bl;
              for (var G = 0; G < r.length; G++) {
                  var J = r[G].jw.Lefx;
                  if (J)
                      h$.i6(J, a, this.wq.hz)
              }
              r = {
                  un: a.add.Patt ? a.add.Patt : [],
                  xX: r
              }
          }
          if (B == dp.rC) {
              var m = this.wq.O9;
              r = {
                  uQ: [],
                  j$: [],
                  list: r
              };
              console.log(r)
          }
          if (B == dp.A)
              r = r[E.data.na];
          var x = dp.sd[B]
            , V = x[2].fD(r);
          gQ.save(V, x[1] + "." + x[0])
      }
      if (N == c.f.Tp) {
          var R = this.wq.rb
            , b = E.data.a1P;
          if (R.dg && !R.acN && !b) {
              R.akj = window.confirm("Load \"" + E.data.jc + "\" also next time you use the editor?\nManage it in Edit - Local Storage.");
              R.acN = !0
          }
          if ((R.akj || b) && R.dg) {
              R.S4[E.data.jc] = E.data.zr;
              var L = new q(c.E.P);
              L.data = {
                  e: c.f.H7,
                  KG: dp.bh
              };
              this.U(L)
          }
      }
      if (N == c.f.op) {
          var k = this.O5()
            , P = "<!DOCTYPE HTML>";
          if (k == null)
              return;
          var z = fb.Bs(k.A7().buffer, k.d, k.v)
            , $ = window.open();
          P += "<head><script>setTimeout(function() {window.print();}, 10);</script></head>";
          P += "<body><img src=\"" + z + "\" /></body>";
          P += "</html>";
          $.document.write(P)
      }
      if (N == c.f.eE) {
          if (this.CL("publishOnline"))
              return;
          var t = E.data.iG != "psd"
            , k = this.O5();
          if (k == null)
              return;
          if (!t && k._t)
              return;
          var X = confirm("Your picture will be published at " + (t ? "Imgur" : "Photopea") + ".com under a public URL (known only to you). Proceed?");
          if (X) {
              if (!t) {
                  var L = new q(c.E.A,!0);
                  L.F = u.Iy;
                  L.data = {
                      e: U.vz
                  };
                  this.U(L);
                  var Z = new h4(0,0,k.d,k.v);
                  for (var G = 0; G < k.t.length; G++) {
                      var j = k.t[G];
                      if (j.rect.OL() || j.Uf() || j.$Y() || j.yZ() || j.add.TySh || j.add.vmsk || j.add.SoLd)
                          continue;
                      var p = Z.lx(j.rect);
                      if (!p.Ql(j.rect) && !p.OL()) {
                          var gl = _.I(p.X() * 4);
                          _.p8(j.buffer, j.rect, gl, p);
                          j.buffer = gl;
                          j.rect = p
                      }
                      if (!_.nY(j.buffer, j.rect.d, j.rect.v))
                          continue;
                      var f = j.VD()
                        , cY = j.opacity
                        , fC = j.SI
                        , hi = j.iB;
                      j.HU(!0);
                      j.opacity = 255;
                      j.SI = "norm";
                      k.C = [G];
                      L.data = {
                          e: U.o0,
                          iG: "jpg"
                      };
                      this.U(L);
                      var es = k.t[G];
                      j.HU(f);
                      es.HU(f);
                      j.opacity = es.opacity = cY;
                      j.SI = es.SI = fC,
                      j.iB = es.iB = hi
                  }
              }
              if (k.Lu) {
                  k.L2()
              }
              var W;
              if (E.data.iG == "psd")
                  W = fb.MV(k, "psd", 0, 0, [!0, !0, !0]);
              else if (E.data.iG == "png")
                  W = fb.MV(k, "png");
              else {
                  var d = fb.MV(k, "png")
                    , fM = fb.MV(k, "jpg");
                  W = d.byteLength < fM.byteLength ? d : fM
              }
              if (t)
                  gQ.ac8(W);
              else
                  this.aU.ani(W, k.name)
          }
      }
      if (N == c.f.T6) {
          var k = this.O5()
            , n = !1;
          if (k == null)
              return;
          if (k.Lu) {
              k.L2()
          }
          if (E.data.a8q) {
              if (!this.Y3(k))
                  return;
              var V = eW.aht(k, E.data.a8q, this.wq);
              this.jF(V);
              n = !0
          } else if (k.Fl) {
              if (this.pZ.indexOf(k.Fl.By) != -1) {
                  var V = new Uint8Array(fb.vG("PSD").PW(k, null, null, [!0, !1]))
                    , L = new q(c.E.A,!0);
                  L.data = {
                      e: U.PG,
                      uY: k.Fl.By,
                      data: V,
                      id: k.Fl.aa4
                  };
                  L.F = u.Iy;
                  this.U(L);
                  alert("Smart Object updated")
              }
              n = !0
          } else if (this.CL("save")) {
              n = !0
          } else if (k.Yz) {
              eW.a00(k);
              n = !0
          } else if (k.LG && k.LG.Sx) {
              if (!this.Y3(k))
                  return;
              this.aU.a4F(k, this.wq, eW.a9K);
              n = !0
          } else if (k.Hc && k.xf == "psd") {
              var L = new q(c.E.P,!0);
              L.data = {
                  e: c.f.lL,
                  alL: !0
              };
              this.U(L);
              return
          }
          if (n) {
              k.i_ = k.tv;
              k.nK = !0
          } else {
              var L = new q(c.E.P,!0);
              L.data = {
                  e: c.f.lL
              };
              this.U(L)
          }
      }
      if (N == c.f.lL) {
          if (!this.wq.Xk) {
              alert("function is disabled");
              return
          }
          if (this.CL("saveAsPSD"))
              return;
          var L = new q(c.E.A,!0);
          L.data = {
              e: U.vz
          };
          L.F = u.Iy;
          this.U(L);
          var k = this.O5();
          if (k == null || k._t)
              return;
          if (k.Lu) {
              k.L2()
          }
          if (k.t.length > 8e3 && !confirm("Your document has " + k.t.length + " layers." + " Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))
              return;
          var ax = {
              Gb: []
          };
          k.root.W2([], ax);
          var d_ = ax.Gb;
          if (d_.length > 11 && !confirm("One layer is nested " + (d_.length - 1) + " times." + " Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: " + d_.join(" \uD83E\uDC1A ") + "."))
              return;
          if (!this.Y3(k))
              return;
          var cm = window.ga
            , c4 = c.iL("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
          if (k.vN() && cm)
              cm(c4[0], c4[1], c4[2], k.xf + ":" + c.iL(h2.pw() ? "\"'|('61" : "w'| "));
          var V = fb.vG("PSD").PW(k);
          if (E.data.alL) {
              k.Hc.createWritable().then(function(E) {
                  E.write(V);
                  return E
              }).then(function(E) {
                  E.close()
              })
          } else {
              var ch = window.showSaveFilePicker;
              if (!1) {
                  var hQ = {
                      types: [{
                          description: "PSD Files",
                          accept: {
                              "image/psd": [".psd"]
                          }
                      }]
                  };
                  ch(hQ).then(function(E) {
                      console.log(E)
                  })
              } else
                  gQ.save(V, k.name)
          }
          k.i_ = k.tv;
          k.nK = !0
      }
      if (N == c.f.oc)
          window.open(E.data.link, "_blank");
      if (N == c.f.Ja) {
          if (this.cR.cn()) {
              this.q3();
              return
          }
          var k = this.O5()
            , j = k.t[k.C[0]]
            , em = k.W4(j.add.SoLd.Idnt.v);
          for (var G = 0; G < this.pZ.length; G++) {
              var ag = this.pZ[G].Fl;
              if (ag != null && ag.aa4 == em.V3 && ag.By == k) {
                  this.jH.H6(G);
                  return
              }
          }
          gQ.l0({
              name: em.hS,
              Fl: {
                  aa4: j.add.SoLd.Idnt.v,
                  By: k
              }
          }, em.raw.buffer, this)
      }
      if (N == c.f.Bz) {
          this.a4e()
      }
      if (N == c.f.M$) {
          this.bf(E.data.Dd, E.data.CH)
      }
      if (N == c.f.kb) {
          this.anq(E.data.ajp, E.data.dv)
      }
      if (N == c.f.c3) {
          var bK = E.data.G;
          if (bK.startsWith("vcb;")) {
              var ei = JSON.parse(bK.slice(4));
              ei[0] = dq.acp(ei[0]);
              var L = new q(c.E.A,!0);
              L.F = u.mu;
              L.data = {
                  e: "append",
                  $t: "Paste Paths",
                  af8: ei
              };
              this.U(L)
          }
      }
      if (N == c.f.wM) {
          hU.oW(E.data.Iv, this)
      }
      if (N == c.f.iP) {
          if (window.parent != window)
              window.parent.postMessage(E.data.KG, "*");
          this.qq.og(E.data.KG)
      }
      if (N == c.f.zl) {
          var dL = parseFloat(E.data.KN);
          if (this.wq._v.indexOf(dL) == -1) {
              var L = new q(c.E.P,!0);
              L.data = {
                  e: c.f.H7,
                  KG: dp.aG,
                  G: dL,
                  LG: "add"
              };
              this.U(L)
          }
          this.qq.a5A(E.data.KN)
      }
      if (N == c.f.ue) {
          this.Fw.a2q(this.O5(), this.wq)
      }
      if (N == c.f.eQ) {
          var fh = "open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
          for (var G = 0; G < fh.length; G += 2)
              if (E.data.KN == fh[G] && this.CL(fh[G + 1]))
                  return;
          if (!this.wq.Xk && E.data.window == "saveforweb") {
              alert("function is disabled");
              return
          }
          this.cR.ajd(E.data.KN, this.O5(), E.data, this.pZ, this.Ld)
      }
      if (N == c.f.Dy)
          gQ.save(E.data.data, E.data.name);
      if (N == c.f.xC) {
          if (!this.cR.cn() || E.r1)
              this.aai(E.data.uY)
      }
      if (N == c.f.Sz) {
          this.jH.H6(E.data.target);
          var L = new q(c.E.A,!0);
          L.data = {
              e: U.iC,
              uY: E.data.uY,
              Ib: E.data.Ib,
              UU: E.data.UU
          };
          L.F = u.Iy;
          this.U(L);
          this.Xu(u.Ny)
      }
      if (N == c.f.jh) {
          Y.vD = !Y.vD;
          if (this.pZ.length > 0)
              this.O5().s()
      }
      if (N == c.f.amQ) {
          var eu = h2.GP();
          if (eu != null && eu.globals != null)
              this.la(eu.globals);
          this.k8()
      }
      if (N == c.f.Cw) {
          this.aU.$O(E.data.data, null, E.data.As, E.data.x1, E.data.adi)
      }
      if (N == c.f.oS) {
          if (!this.cR.$z() != null)
              this.Xu(E.data.F, E.data.KT)
      }
      if (N == c.f.pN) {
          if (this.d4.yL)
              this.Xu(this.d4.yL)
      }
      if (N == c.f.aY) {
          var hf = this.d4.map[E.data.F].F
            , k = this.O5();
          hf.Kl(E.data, this, k, this.Ld, this.wq);
          if (k)
              k._S = !0;
          this.Na()
      }
      if (N == c.f.Mx) {
          var iS = this.d4.map[E.data.F];
          this.RX(iS);
          iS.V$.g9(E.data)
      }
      if (N == c.f.H7) {
          var k = this.O5()
            , aI = E.data.KG
            , gn = E.data.in
            , ce = this.wq;
          if (E.data.LG == "set") {
              var gr = u.S0(gn);
              if (ce.sw != gr)
                  this.Xu(gr);
              this.d4.map[gr].V$.tQ(gn, ce)
          }
          if (E.data.LG == "add") {
              var x = dp.sd[aI];
              if (aI == dp.aG) {
                  ce._v.push(E.data.G);
                  ce._v.sort(function(hv, fu) {
                      return hv - fu
                  })
              } else if (x == null) {
                  if (gn)
                      ce.g5.agO(gn, E.data.aaw)
              } else {
                  var ek = this.Iz(aI);
                  if (aI == dp.uf) {
                      ek.uQ = ek.uQ.concat(gn.uQ);
                      ek.j$ = ek.j$.concat(gn.j$);
                      ek = ek.list;
                      gn = gn.list
                  }
                  if (aI == dp.KJ && k) {
                      for (var G = 0; G < gn.length; G++) {
                          var J = gn[G].jw.Lefx;
                          if (J)
                              h$.al4(J, k, ce.hz)
                      }
                  }
                  if (aI == dp.rC && gn == null) {
                      var a = this.d4.map[ce.sw].V$.f$();
                      if (a == null)
                          return;
                      gn = [a]
                  }
                  for (var G = 0; G < gn.length; G++)
                      ek.push(gn[G]);
                  if (E.data.aaw != !0)
                      if (ek.length != gn.length || aI == dp.Q9 || aI == dp.KJ || aI == dp.A)
                          alert(i2.get(x[3]) + " " + i2.get([23, 1]) + ".")
              }
          }
          if (E.data.LG == "del") {
              if (aI == dp.aG) {
                  ce._v.splice(ce._v.indexOf(E.data.G), 1)
              } else {
                  var x = dp.sd[aI]
                    , bJ = E.data.Fm
                    , ek = this.Iz(aI);
                  if (aI == dp.uf)
                      ek = ek.list;
                  for (var G = 0; G < bJ.length; G++)
                      ek[bJ[G]] = null;
                  for (var G = 0; G < ek.length; G++)
                      if (ek[G] == null) {
                          ek.splice(G, 1);
                          G--
                      }
                  alert(i2.get(x[3]) + " deleted.")
              }
          }
          if (E.data.LG == "rnm") {
              var x = dp.sd[aI]
                , ek = this.Iz(aI);
              if (aI == dp.uf)
                  ek = ek.list;
              if (ek[E.data.Fm[0]] == null)
                  return;
              x[2].Og(ek[E.data.Fm[0]], E.data.G)
          }
          if (aI == dp.sD) {
              var aN = E.data.G;
              ce.uL = aN;
              ce.a1o[aN.K8] = aN.ja
          }
          if (aI == dp.ev) {
              var aN = E.data.G;
              ce.$P = aN;
              var bG = aN.strokeEnabled.v
                , aQ = aN.strokeStyleContent.v
                , cu = bG ? {
                  K8: 1 + ao.S6.gk.indexOf(aQ.classID),
                  ja: aQ
              } : {
                  K8: 0
              };
              ce.aj1[cu.K8] = cu.ja
          }
          if (aI == dp.nF) {
              ce.Ox = E.data.Ox
          }
          if (aI == dp.Zb) {
              ce.O9.h8 = E.data.AC
          }
          if (aI == dp.o7) {
              ce.Jd = E.data.Gz
          }
          if (aI == dp.VL) {
              var gX, bW = "Clrs";
              if (E.data.Qh < 2) {
                  var dE = E.data.G
                    , b4 = E.data.Qh == 0
                    , cC = _.V.VQ({
                      h: dE >>> 16,
                      l: dE >>> 8 & 255,
                      O: dE & 255
                  });
                  if (b4)
                      ce.sm = dE;
                  else
                      ce.JT = dE;
                  bW = b4 ? "FrgC" : "BckC";
                  gX = {
                      bT: "set",
                      v4: {
                          __name: "Set",
                          classID: "setd",
                          T: {
                              t: "Objc",
                              v: cC
                          }
                      }
                  }
              }
              if (E.data.Qh == 2) {
                  var gN = ce.sm;
                  ce.sm = ce.JT;
                  ce.JT = gN;
                  gX = {
                      bT: "exchange",
                      v4: {
                          __name: "Exchange",
                          classID: "Exch"
                      }
                  }
              }
              if (E.data.Qh == 3) {
                  ce.sm = 0;
                  ce.JT = 16777215;
                  if (k != null && k.C.length != 0 && k.t[k.C[0]].dz == 1) {
                      var gN = ce.sm;
                      ce.sm = ce.JT;
                      ce.JT = gN
                  }
                  gX = {
                      bT: "reset",
                      v4: {
                          __name: "Reset",
                          classID: "Rset"
                      }
                  }
              }
              if (gX) {
                  gX.v4.null = {
                      t: "obj ",
                      v: [{
                          t: "prop",
                          v: {
                              classID: "Clr",
                              keyID: bW
                          }
                      }]
                  };
                  var iS = this.b_();
                  iS.sU = this;
                  iS.track(gX)
              }
          }
          if (aI == dp.K_) {
              ce.Q4 = !ce.Q4;
              this.f4()
          }
          if (aI == dp.kU) {
              ce.NN = !ce.NN;
              this.f4()
          }
          var eH = ce.bA;
          if (aI == dp.hJ) {
              eH.D1 = !eH.D1;
              this.f4()
          }
          if (aI == dp._w) {
              eH.xq = !eH.xq;
              this.f4()
          }
          if (aI == dp.vw) {
              eH.rJ = !eH.rJ;
              this.f4()
          }
          if (aI == dp.Db) {
              eH.NG = !eH.NG;
              this.f4()
          }
          if (aI == dp.cl) {
              eH.RQ = !eH.RQ;
              this.f4()
          }
          if (aI == dp.KO) {
              eH.jX = !eH.jX;
              this.f4()
          }
          if (aI == dp.lg) {
              ce.bA = E.data.Gz;
              this.f4()
          }
          if (aI == dp.pt) {
              ce.vQ = !ce.vQ;
              this.f4()
          }
          if (aI == dp.X9) {
              ce.H2[E.data.hT] = !ce.H2[E.data.hT];
              this.f4()
          }
          if (aI == dp.td) {
              i2.adv(E.data.lang);
              this.B();
              this.f4()
          }
          if (aI == dp.W0) {
              ce.fn = E.data.fn;
              this.B()
          }
          if (aI == dp.bh && ce.rb.dg) {
              var hx = ce.rb.dg.transaction(["rsrc"], "readwrite").objectStore("rsrc")
                , c2 = hx.put({
                  k: "fs0",
                  fset: ce.rb.S4
              });
              c2.onerror = function(E) {
                  console.log(E);
                  alert("Storing failed. Browser says: " + E.target.error.message, 7e3)
              }
          }
          this.lh(aI)
      }
  }
  ;
  bO.prototype.CL = function(E) {
      var K = this.wq.LO[E];
      if (K) {
          var i = new q(c.E.P,!0);
          i.data = {
              e: c.f.wM,
              Iv: K
          };
          this.U(i)
      }
      return K != null
  }
  ;
  bO.prototype.Y3 = function(E) {
      var K = E.vN() || E.Fl && E.Fl.By.vN()
        , N = 15;
      if (this.QN())
          K = !1;
      var i = new c.dZ[(c.vZ("Gc" + (c.j0(31) ? "ue" : "ve"), -3))]
        , C = (i[c.iL("xy,b-66:")]() & 1) * 60 + i[c.Wr("edtNkqyykz", -2)]();
      if (K && !h2.pw() && C > N) {
          var k = c.dZ[c.iL("}$z{2*35")][c.iL("y'|!")]
            , V = c.nU("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
          V += "\n\n" + c.nU("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"") + (-C + 120) + c.nU("nYRTXTBMd");
          if (k.indexOf(c.iL("\"|'/-1)(W0?@")) == -1)
              V = i2.get([0, 11 + 6, 3 + 2]);
          c.dZ[c.ye("clh]]c[", 3)](V);
          return !1
      }
      return !0
  }
  ;
  bO.prototype.Iz = function(E) {
      var K = this.wq
        , i = [dp.uf, dp.vq, dp._G, dp.y5, dp.ur, dp.KJ, dp.Q9, dp.A, dp.rC, dp.dw]
        , C = [K.O9, K.i0, K.FI, K.hz, K.ZN, K.i$, K.ad7, K.Q1, K.jk, K.ahe];
      return C[i.indexOf(E)]
  }
  ;
  bO.prototype.a4e = function() {
      var E = this.bf()
        , K = this.O5();
      if (K == null || K.C.length == 0)
          return;
      var i = K.t[K.C[0]]
        , C = new q(c.E.A);
      if (E == 1) {
          C.F = u.mu;
          C.data = {
              e: "remove",
              $t: "Cut Paths"
          }
      } else {
          C = new q(c.E.J5);
          C.data = {
              bT: "delete"
          }
      }
      this.U(C)
  }
  ;
  bO.prototype.bf = function(E, K) {
      if (E == null)
          E = !1;
      var i = this.wq;
      console.log("doCopy", E, K);
      var C = this.O5();
      if (C == null || C.C.length == 0)
          return;
      var N = C.t[K == null ? C.C[0] : K]
        , k = C.LM()
        , V = k[0]
        , j = k[1]
        , a = V[j[0]];
      if (!E && a != null && a.add.vmsk.C.length != 0) {
          var e = u.ut.mL(a.add.vmsk, a.add.vogk);
          if (c.AD()) {
              e[0] = dq.a2B(e[0]);
              var L = "vcb;" + JSON.stringify(e);
              gQ.kX(new Blob([L],{
                  type: "text/plain"
              }))
          } else
              i.Lw = e;
          return 1
      } else if (C.N == null) {} else {
          var g, I;
          if (E) {
              var h = new h4(0,0,C.d,C.v);
              I = h.lx(C.N.rect);
              g = _.I(I.X() * 4);
              _.p8(C.A7(), h, g, I);
              _.qY(C.N.channel, C.N.rect, g, I)
          } else if (C.QZ.length != 0) {
              I = C.N.rect.clone();
              g = _.I(I.X() * 4);
              var o = C.h_[C.QZ[0]]
                , H = o.or(I);
              _.WE(H, g);
              _.lM(C.N.channel, g, 3)
          } else {
              var A = N.as(C, C.N);
              if (A == null) {
                  alert("Copied area is empty");
                  return
              }
              g = A.UE;
              I = A.rect
          }
          var S = C.a.zj
            , v = S[0] + S[1] + S[2];
          if (v == 1) {
              var s = S.indexOf(1);
              for (var G = 0; G < g.length; G += 4)
                  g[G] = g[G + 1] = g[G + 2] = g[G + s]
          }
          var D = new bT(C.d,C.v);
          if (c.AD()) {
              var F = fb.vG("PNG").akO(g.buffer, I.d, I.v);
              gQ.kX(new Blob([new Uint8Array(F)],{
                  type: "image/png"
              }));
              this.ao2 = {
                  g: I,
                  vO: D
              }
          } else
              i.Oc = {
                  buffer: g,
                  rect: I,
                  vO: D
              };
          i.a7l = I.clone();
          i.Lw = null;
          i.Ec = null
      }
  }
  ;
  bO.prototype.anq = function(E, K) {
      if (K)
          this.agQ = !0;
      console.log("doPaste");
      var i = this.wq, C = i.Oc, j;
      if (this.pZ.length == 0) {
          if (!E && c.AD()) {
              gQ.nN(this, null);
              return
          }
          if (C) {
              var N = fb.qz("image.psd", [{
                  data: C.buffer.buffer,
                  UP: C.rect
              }])
                , k = new q(c.E.P);
              k.data = {
                  e: c.f.xC,
                  uY: N
              };
              this.U(k)
          }
          return
      }
      var N = this.O5()
        , V = N.t[N.C.length == 0 ? N.t.length - 1 : N.C[0]];
      if (i.Lw) {
          var a = N.LM(!0)
            , e = a[0]
            , L = a[1];
          j = e[L[0]]
      }
      var k = new q(c.E.A,!0);
      if (i.Lw != null && j != null) {
          k.F = u.mu;
          k.data = {
              e: "append",
              $t: "Paste Paths",
              af8: i.Lw
          }
      } else if (!E && c.AD()) {
          gQ.nN(this, this.sY.bind(this));
          return
      } else if (i.Ec != null) {
          k.data = {
              e: U.CY
          };
          k.F = u.Iy;
          if (JSON.stringify(i.Ec) != JSON.stringify(N.C))
              k.data.z = i.Ec[0]
      } else {
          if (C == null)
              return;
          if (N.Os(!1) && (N.QZ.length != 0 || V.dz > 0 || V.rect.OL())) {
              k.F = u.uf;
              k.data = {
                  e: "draw",
                  a68: !0,
                  $t: [5, 2]
              }
          } else {
              k.F = u.Iy;
              k.data = {
                  e: U.NP,
                  dv: this.agQ
              };
              this.agQ = !1
          }
          k.data.Oc = C
      }
      this.U(k)
  }
  ;
  bO.prototype.kq = function() {
      for (var G = 0; G < this.pZ.length; G++) {
          var E = this.pZ[G]
            , K = !0;
          for (var i = 0; i < E.t.length; i++) {
              var C = E.t[i]
                , N = C.add.TySh;
              if (N != null && !dR.WW(N, this.wq.g5))
                  K = !1
          }
          if (!K)
              continue;
          if (E.BJ)
              for (var i = 0; i < E.t.length; i++) {
                  var C = E.t[i]
                    , N = C.add.TySh;
                  if (N != null && dR.WW(N, this.wq.g5)) {
                      var k = new g_(N.Ou,this.wq.g5)
                        , V = dR.sX(k, N);
                      C.rect = V.g;
                      C.buffer = V.OR;
                      C.s();
                      E.s()
                  }
              }
          if (E.a2p)
              continue;
          E.a2p = !0;
          if (E.LG && E.LG.abq)
              hU.oW(E.LG.abq, this);
          this.jF();
          var j = new q(c.E.A);
          j.F = u.sE;
          j.data = {
              e: "start",
              bN: "GEfc"
          };
          var a = new q(c.E.P);
          a.data = {
              e: c.f.zl,
              KN: iL.Yb.xG
          }
      }
  }
  ;
  bO.prototype.lh = function(E) {
      var K = this.wq.sw;
      if (E == dp.Zb) {
          if (this.d4.map[K].V$)
              this.d4.map[K].V$.bX(this.wq, E)
      } else
          for (var i in this.d4.map)
              if (this.d4.map[i].V$)
                  this.d4.map[i].V$.bX(this.wq, E);
      if (E == dp.ht) {
          if (K != u.EM)
              this.d4.map[u.EM].F.bX(this.wq, E);
          this.kq()
      }
      this.t6.bX(this.wq, E);
      this.cR.bX(this.wq, E);
      this.b_().bX(this.wq, E);
      this.qq.bX(this.wq, E);
      this.xL.bX(this.wq, E);
      if (E == dp.W0 || E == dp.iW) {
          cr.mz(this.wq.fn);
          this.update(!0)
      }
      if ([dp.aG, dp.o7, dp.VL, dp.K_, dp.kU, dp.lg, dp.vw, dp.Db, dp.hJ, dp._w, dp.cl, dp.KO, dp.td, dp.W0].indexOf(E) != -1)
          this.Na()
  }
  ;
  bO.prototype.Na = function() {
      if (!this.je)
          return;
      var E = {}
        , K = this.d4.map;
      for (var i in K) {
          var C = K[i].F;
          if (C.bn && C.bn() != null)
              E["t" + i] = C.bn()
      }
      var N = this.wq
        , k = N.bA
        , V = {
          fcolor: N.sm,
          bcolor: N.JT,
          rulers: N.Q4,
          extras: N.NN,
          favFam: N.Jd,
          panels: N._v,
          eparams: {
              guides: k.rJ,
              grid: k.NG,
              sels: k.D1,
              paths: k.xq,
              pgrid: k.RQ,
              slices: k.jX,
              gsize: k.gd,
              gunits: k.gH,
              gtype: k.e8,
              runits: k.RG
          },
          lang: i2.WG(),
          theme: N.fn,
          topt: E
      }
        , j = h2.GP();
      if (j == null)
          j = {};
      j.globals = V;
      h2.Hu(j)
  }
  ;
  bO.prototype.ZQ = function() {
      var E = this.Ld
        , K = this.av
        , i = this.wq.sw
        , C = this.d4.map[i].F
        , N = null
        , k = !1;
      for (var G = 0; G < this.d4.aeJ.length; G++) {
          var V = this.d4.aeJ[G]
            , j = !0;
          for (var a = 0; a < V.xS.length; a++) {
              var e = V.xS[a];
              if (!E.q(e))
                  j = !1
          }
          if (j && (!V.Td || !C.cn()) && (V.f6 == null || V.f6.indexOf(i) != -1)) {
              N = V.F;
              k = V.Td;
              break
          }
      }
      if ((!K.Oy || i == u.jM) && this.d4.JM != N && (N != i || !k)) {
          var L = this.O5();
          if (this.d4.JM != null && N == null)
              this.b_().disable(L, this, this.wq, E, !0);
          this.d4.JM = N;
          this.b_().enable(L, this, this.wq, E, N != null && N != i)
      }
  }
  ;
  bO.prototype.Vc = function(E) {
      var K = this.wq.sw
        , i = this.O5();
      if (K != null) {
          this.d4.map[K].F.disable(i, this, this.wq, this.Ld)
      }
  }
  ;
  bO.prototype.RX = function(E) {
      if (E.V$ == null) {
          E.V$ = new E.c7;
          E.V$.ajm(E.F.id, E.F.p3);
          E.V$.bX(this.wq, dp.iW);
          E.V$.B()
      }
  }
  ;
  bO.prototype.Xu = function(E, K) {
      if (E == u.Ny && this.cR.$z())
          return;
      var i = this.O5()
        , C = this.wq;
      if (this.d4.map[E].F.Kg(i, C)) {
          this.Vc();
          var N = [u.P3, u.kg, u.x2, u.rR, u.VC, u.cZ, u.q4, u.mu, u.WO].indexOf(C.sw) != -1;
          this.d4.yL = C.sw ? C.sw : u.Sm;
          C.sw = E;
          this.t6.MN(this.d4, this.wq);
          var k = this.d4.map[E];
          this.d4.OO[k.lv] = k.a7e;
          this.RX(k);
          this.uG.aby(k.V$);
          var V = k.F;
          V.enable(i, this, this.wq, this.Ld, !1, K, N);
          if (i)
              i._S = !0;
          this.f4()
      }
  }
  ;
  bO.prototype.b_ = function(E) {
      var K = this.d4
        , i = K.fb
        , C = K.JM
        , N = this.wq.sw;
      if (i)
          N = i;
      else if (C && E == null)
          N = C;
      return K.map[N].F
  }
  ;
  bO.prototype.aai = function(E) {
      var K = this.pZ.indexOf(E);
      if (K != -1) {
          this.jH.H6(K);
          return
      }
      if (this.FC && (E.LG == null || E.LG.Sx == null)) {
          E.LG = {
              Sx: this.FC
          }
      }
      if (E.oX == null) {
          E.oX = "local," + this.ah_ + "," + E.name;
          this.ah_++
      }
      if (iV.jQ() != 0 && !this.aa7 && c.dZ[c.iL("t$&!'31")].toString().indexOf(c.iL(" u,$4&")) == -1) {
          alert(c.iL("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
          return
      }
      for (var G = 0; G < E.t.length; G++) {
          var i = E.t[G];
          if (i.add.SoLd != null) {
              var C = Date.now()
          }
          if (i.add.TySh != null)
              dR.WW(E.t[G].add.TySh, this.wq.g5)
      }
      var N = c.dZ[c.vZ("Hd" + (c.j0(26) ? "vf" : "uf"), -4)];
      N = N[c.vZ("uu" + (!c.j0(28) ? "-" : "|"), -7)];
      var k = Math.floor(N() / 1e3)
        , V = Math.PI * (8360 << 13) + (c.j0(31) ? 20 : 10) * 7e7;
      if (k > V) {
          var j = E.t.length;
          E.t = [];
          return j
      }
      if (Y.vD)
          Y.ad6(Math.max(E.d, E.v));
      E.S8();
      E.r9();
      if (E.a8_)
          E.afc();
      else
          E.s();
      E.a8_ = !1;
      this.pZ.push(E);
      this.jH.C8(new el(E));
      E._S = !0;
      E.nK = !0;
      this.kq();
      var a = new q(c.E.A);
      a.F = u.T$;
      a.data = {
          e: "auto",
          cS: 2
      }
  }
  ;
  bO.prototype.O5 = function() {
      return this.pZ[this.fv]
  }
  ;
  bO.prototype.zN = function() {
      return this.cR.$z() == null
  }
  ;
  bO.prototype.kJ = function(E, K) {
      this.Vc();
      var i = this.pZ.length;
      if (K != null)
          this.jH.H6((this.jH.VO() + K + i) % i);
      this.fv = this.jH.VO();
      var C = this.O5();
      this.xL.a04(C, this.wq);
      this.qq.MN(C, this.pZ, this.wq);
      this.f4();
      if (C)
          C._S = !0
  }
  ;
  bO.prototype.afq = function(E) {
      this.Vc();
      this.pZ.splice(E.data.QG, 1);
      if (this.pZ.length == 0) {
          this.kJ(E);
          if (Y.vD)
              Y.Zg().parentNode.removeChild(Y.Zg())
      }
  }
  ;
  bO.prototype.a7i = function(E) {
      var K = []
        , i = E.data.a3j;
      for (var G = 0; G < i.length; G++)
          K[G] = this.pZ[i[G]];
      this.pZ = K;
      this.fv = this.jH.VO()
  }
  ;
  bO.prototype.an1 = function(E) {
      var K = this.jH
        , i = K.a3I()
        , C = this.b_()
        , N = this.O5();
      if (i == K.VO() || !C.XA())
          return;
      this.qC(i, C)
  }
  ;
  bO.prototype.qC = function(E, K) {
      var i = this.wq
        , C = this.jH
        , N = this.O5()
        , k = this.pZ[E]
        , V = new q(c.E.A,!0);
      V.F = u.Iy;
      V.data = {
          e: U.w9,
          t: N.Bp(null, !0),
          By: N,
          EZ: k
      };
      this.U(V);
      var j = this.av
        , a = i.Q4;
      i.Q4 = !1;
      j = N.a.Eb(j.x, j.y);
      if (K)
          K.VF(N, this, i, this.Ld);
      C.H6(E);
      j = k.a.Dl(j.x, j.y);
      j.x += 49;
      j.y += 112;
      if (K)
          K.om(k, this, i, this.Ld, j);
      i.Q4 = a
  }
  ;
  bO.prototype.a7$ = function(E) {
      var K = this.O5()
        , i = this.Ld
        , C = this.wq
        , N = E.Lk;
      if (N)
          this.av = N;
      if (E.action.startsWith("multi")) {
          var k = new q(c.E.A,!0);
          k.data = {
              e: E.action,
              v5: E.v5
          };
          k.F = u.L7;
          this.U(k);
          return
      }
      var V = this.d4.map[u.Sm].F;
      if ((E.action == "down" || E.action == "rdown") && C.sw != u.Sm && this.d4.JM != u.Sm && V.Dq(K, this, C, i, N)) {
          this.d4.fb = u.Sm;
          V.enable(K, this, C, i, !0)
      }
      var j = this.cR.$z()
        , a = j != null && j.Di() && this.d4.JM == null ? j : this.b_();
      if (j != null && a != j && this.cR.cn() && a.id != u.cQ && a.id != u.L7)
          return;
      if (E.action == "down")
          a.om(K, this, C, i, N);
      if (E.action == "rdown")
          a.UM(K, this, C, i, N);
      if (E.action == "move")
          a.n9(K, this, C, i, N);
      if (E.action == "up")
          a.Cs(K, this, C, i, N);
      if (E.action == "rup")
          a.R2(K, this, C, i, N);
      var e = this.qq;
      if (E.action == "down")
          e.om(K, this, C, i, N);
      if (E.action == "move")
          e.n9(K, this, C, i, N);
      if (E.action == "up")
          e.Cs(K, this, C, i, N);
      if (E.action == "down" || E.action == "up") {
          this.ZQ()
      }
      if (E.action == "down" || E.action == "up" || E.action == "ctx") {
          K._S = !0
      }
      if ((E.action == "up" || E.action == "rup") && this.d4.fb) {
          this.d4.fb = null;
          V.disable(K, this, C, i)
      }
      if (E.action == "scroll") {
          var L = !i.q(w.qN) && E.zq
            , k = new q(c.E.A,!0);
          k.data = {
              e: "scroll",
              P$: E.P$.clone(),
              Lk: N
          };
          k.F = i.q(w.zA) || L ? u.L7 : u.cQ;
          this.U(k)
      }
  }
  ;
  bO.prototype.cy = function(E) {
      var K = this.O5()
        , i = this.av;
      if (K && this.b_().i4(i, this.Ld)) {
          var C = K.a
            , N = C.DK.d
            , k = C.DK.v
            , V = 0
            , j = 0
            , a = 16;
          if (i.x < a)
              V = a - i.x;
          if (i.x > N - a)
              V = i.x - (N - a);
          if (i.y < a)
              j = a - i.y;
          if (i.y > k - a)
              j = i.y - (k - a);
          if ((V != 0 || j != 0) && (K.d * C.S > N || K.v * C.S > k)) {
              V = Math.min(5, V * .5);
              j = Math.min(5, j * .5);
              if (!(i.x < a || i.y < a)) {
                  V = -V;
                  j = -j
              }
              C.i.x += V;
              C.i.y += j;
              this.a7$({
                  Lk: this.av,
                  action: "move"
              });
              K.aO = !0
          }
      }
      this.update()
  }
  ;
  bO.prototype.update = function(E) {
      var K = this.O5();
      if (K == null)
          return;
      if (K._S) {
          var i = this.d4.map;
          for (var C in i) {
              if (i[C].F.Fs)
                  i[C].F.Fs(K, this, this.wq, this.Ld)
          }
      }
      if (K.Lu) {
          K.L2()
      }
      var N = K.a;
      if (K.Lu || K.UT || K.nK || K.aO || E || N.Qb != N.S || !N.En.Ql(N.i)) {
          var k = N.Qb;
          if (N.Qb != N.S) {
              var V = u.z5.nI(N.S, N.Qb > N.S);
              if (N.Qb < N.S && N.Qb < V)
                  N.Qb = V;
              if (N.Qb > N.S && N.Qb > V)
                  N.Qb = V;
              var j = Math.abs(N.S - V) * (1 / (.12 * 60));
              if (N.Qb < N.S)
                  N.Qb = Math.min(N.S, N.Qb + j);
              else
                  N.Qb = Math.max(N.S, N.Qb - j)
          }
          var a = k == N.S ? 0 : (N.Qb - N.S) / (k - N.S);
          N.En.x = N.i.x + a * (N.En.x - N.i.x);
          N.En.y = N.i.y + a * (N.En.y - N.i.y);
          this.jH.bX(this.wq, null);
          this.jH.MN(K, this.pZ)
      }
      if ((K.Lu || K.aO || K._S) && (!this.av.Oy || K.Jk)) {
          if (K._S)
              K.r9();
          this.qq.MN(K, this.pZ, this.wq);
          this.t6.ahy(K, this.Ld);
          K.yj = !1
      }
      K.Jk = !1;
      K._S = !1;
      K.Lu = null;
      K.UT = K.nK = K.aO = !1
  }
  ;
  bO.prototype.GD = ["input", "textarea", "select"];
  bO.prototype.acs = function(E) {
      var K = E.code
        , i = w
        , C = i.SS;
      return !C(K, i.SO) && !C(K, i.qN) && !C(K, i.zA)
  }
  ;
  bO.prototype.W_ = function(E) {
      var K = E.target.tagName.toLowerCase()
        , i = E.target.getAttribute("type")
        , C = w
        , N = C.SS(E.code, C.U6);
      if (this.GD.indexOf(K) != -1 && this.acs(E) && !(N && K == "input" && i == "range") && !(K == "input" && i == "checkbox") && !(E.ctrlKey && (C.SS(E.code, C.Va) || C.SS(E.code, C.ih))) || K == "button" && (N || C.SS(E.code, C.ll))) {
          return
      }
      if (C.hc(E)) {
          E.preventDefault()
      }
      this.Ld.CF(C.X$(E));
      this.Ok("down")
  }
  ;
  bO.prototype.ib = function(E) {
      if (E.key == " ")
          this.Ld.MA();
      if (w.SS(E.code, w.J2))
          this.Ld.reset();
      this.Ld.st(w.X$(E));
      var K = E.target.tagName.toLowerCase();
      if (this.GD.indexOf(K) != -1 && this.acs(E))
          return;
      if (w.hc(E)) {
          E.preventDefault()
      }
      this.Ok("up")
  }
  ;
  bO.prototype.Ok = function(E) {
      var K = this.Ld
        , i = this.O5()
        , C = i != null && i.C.length != 0;
      if (this.Fw.$z() != null) {
          if (K.q(w.SO)) {
              this.Fw.abF()
          }
          return
      }
      this.ZQ();
      var N = this.OM(w.qN)
        , k = K.q(w.zA)
        , V = K.q(w.Gj);
      if (N && K.q(w.p6) && E == "down") {
          var j = new q(c.E.A)
            , a = new q(c.E.P);
          j.F = u.CC;
          if (V) {
              j.data = {
                  e: "h_stepfwd"
              }
          } else {
              j.data = {
                  e: "h_stepbck"
              }
          }
          if (this.cR.$z() != null && this.cR.$z().cn()) {} else
              this.U(j)
      }
      if (N) {
          var j = new q(c.E.A)
            , e = new q(c.E.J5)
            , a = new q(c.E.P);
          if (!k && E == "down")
              for (var L in gM.keys) {
                  var g = gM.keys[L]
                    , I = !0;
                  for (var G = 0; G < g.length; G++)
                      if (!K.q(g[G]))
                          I = !1;
                  if (I) {
                      j.F = u.T$;
                      if (L == "hue2" && V)
                          j.data = {
                              e: "auto",
                              cS: 3
                          };
                      else
                          j.data = {
                              e: "start",
                              M4: L
                          }
                  }
              }
          if (K.q(w.f)) {
              e.data = u.u$.bi(!0)
          }
          if (K.q(w.dY)) {
              if (k)
                  a.data = {
                      e: c.f.eQ,
                      KN: "csize"
                  };
              else
                  a.data = {
                      e: c.f.M$,
                      Dd: V
                  }
          }
          if (K.q(w.Yg)) {
              e.data = u.u$.bi()
          }
          if (K.q(w.E) && E == "down") {
              j.F = u.Iy;
              if (V)
                  j.data = {
                      e: U.ct
                  };
              else {
                  if (i && i.C.length == 1 && i.C[0] != 0 && !i.t[i.C[0]].Uf())
                      j.data = {
                          e: U.VM
                      };
                  else
                      j.data = {
                          e: U.ma
                      }
              }
          }
          if (K.q(w.M9)) {
              if (V && this.wq.sw != u.Ny)
                  a.data = {
                      e: c.f.eQ,
                      KN: "afw_fade"
                  };
              else if (k) {
                  j.F = u.sE;
                  j.data = {
                      e: "applylast"
                  }
              } else
                  a.data = {
                      e: c.f.ue
                  }
          }
          if (K.q(w.t4)) {
              if (k && i && i.Lj(i.C[0])) {
                  j.F = u.Iy;
                  j.data = {
                      e: U.SE
                  }
              } else {
                  j.F = u.Iy;
                  j.data = {
                      e: U.BR,
                      Mw: V
                  }
              }
          }
          if (K.q(w.Xi)) {
              a.data = {
                  e: c.f.H7,
                  KG: dp.kU
              }
          }
          if (K.q(w.Gs)) {
              if (V) {
                  j.data = null;
                  if (k)
                      a.data = {
                          e: c.f.eQ,
                          KN: "finfo"
                      };
                  else
                      e.data = {
                          bT: "inverse"
                      }
              } else if (k)
                  a.data = {
                      e: c.f.eQ,
                      KN: "isize"
                  }
          }
          if (K.q(w.dS)) {
              j.F = u.Iy;
              j.data = {
                  e: U.Mb
              }
          }
          if (K.q(w.pu)) {
              a.data = {
                  e: c.f.eQ,
                  KN: "preferences"
              }
          }
          if (K.q(w.FE)) {
              if (V) {
                  j.F = u.Iy;
                  j.data = {
                      e: U.BA
                  }
              } else
                  a.data = {
                      e: c.f.eQ,
                      KN: "newproject"
                  }
          }
          if (K.q(w.Eo)) {
              a.data = {
                  e: c.f.an
              };
              K.reset()
          }
          if (K.q(w.ty)) {
              a.data = {
                  e: c.f.op
              };
              K.reset()
          }
          if (K.q(w.Yb)) {
              a.data = {
                  e: c.f.H7,
                  KG: dp.K_
              }
          }
          if (K.q(w.tD) && E == "down") {
              if (V) {
                  if (k)
                      a.data = {
                          e: c.f.eQ,
                          KN: "saveforweb"
                      };
                  else
                      a.data = {
                          e: c.f.lL
                      }
              } else
                  a.data = {
                      e: c.f.T6
                  }
          }
          if (K.q(w.W)) {
              if (V) {
                  j.F = u.Ny;
                  j.data = {
                      e: "again"
                  }
              } else
                  a.data = {
                      e: c.f.oS,
                      F: u.Ny
                  }
          }
          if (K.q(w.Pp)) {
              a.data = {
                  e: c.f.kb
              }
          }
          if (K.q(w.xD)) {
              this.jH.cI()
          }
          if (K.q(w.ab)) {
              a.data = {
                  e: c.f.Bz
              }
          }
          if (K.q(w.g$) || K.q(w.YL)) {
              j.F = u.Iy;
              j.data = {
                  e: U.LI,
                  Qh: 0
              };
              if (K.q(w.g$))
                  j.data.Qh = V ? 3 : 2;
              else
                  j.data.Qh = V ? 0 : 1
          }
          if (K.q(w.U6) && i) {
              var h = 0;
              if (V)
                  h++;
              if (k)
                  h += 2;
              j.F = u.Z2;
              j.data = {
                  e: "frompath",
                  eT: [null, 0, h]
              }
          }
          if (K.q(w.ym)) {
              e.data = u.S7.YM(0)
          }
          if (K.q(w.ll)) {
              var o = this.pZ.length;
              if (o > 1)
                  this.jH.H6((this.jH.VO() + 1) % o)
          }
          if (K.q(w.EY)) {
              a.data = {
                  e: c.f.H7,
                  KG: dp.vw
              }
          }
          if (K.q(w.T0)) {
              a.data = {
                  e: c.f.H7,
                  KG: dp.Db
              }
          }
          u.z5.PK(K, j);
          if (this.cR.$z() != null && this.cR.$z().cn()) {} else {
              if (j.data)
                  this.U(j);
              if (e.data)
                  this.U(e);
              if (a.data)
                  this.U(a)
          }
      }
      if (!K.q(w.qN) && !k && !V && E == "down") {
          var j = new q(c.E.A)
            , a = new q(c.E.P)
            , H = this.d4.map[this.wq.sw]
            , A = -1;
          for (var G = 0; G < this.d4.keys.length; G++)
              if (this.d4.keys[G] && this.OM(this.d4.keys[G]))
                  A = G;
          if (A != -1) {
              var S;
              if (H.lv != A)
                  S = this.d4.OO[A];
              if (H.lv == A)
                  S = (H.a7e + 1) % this.d4.dE[A].length;
              var v = this.d4.dE[A][S].F.id
                , s = this.wq.aaH;
              if ((s == null || s.indexOf(parseInt(v)) != -1) && !this.av.Oy)
                  a.data = {
                      e: c.f.oS,
                      F: v
                  }
          }
          if (K.q(w.ab))
              a.data = {
                  e: c.f.H7,
                  KG: dp.VL,
                  Qh: 2
              };
          if (K.q(w.Yg))
              a.data = {
                  e: c.f.H7,
                  KG: dp.VL,
                  Qh: 3
              };
          if (a.data)
              this.U(a);
          if (i && i.C.length != 0) {
              var D = i.t[i.C[0]]
                , F = D.dz;
              if (F == 1 || F == 3) {
                  var y = F == 3 ? D.uy(i).r : D.$Y()
                    , T = y.a5 ? i.a.zj.join("") == "111" ? 1 : 2 : 0;
                  j.F = u.L7;
                  if (y && K.q(w.SO) && T != 0) {
                      j.data = {
                          e: "mskView",
                          G: 0
                      }
                  }
                  if (y && K.q(w.adJ)) {
                      j.data = {
                          e: "mskView",
                          G: T == 1 ? 0 : 1
                      }
                  }
                  if (y && K.q(w.agN)) {
                      j.data = {
                          e: "mskView",
                          G: T == 2 ? 0 : 2
                      }
                  }
                  if (j.data)
                      this.U(j)
              }
          }
          var Q = K.lT();
          if (C && Q != -1 && this.OM(w.D_[Q])) {
              var B = i.C[0]
                , D = i.t[B]
                , r = c.j_(Math.round(100 * D.opacity / 255), Q);
              j.F = u.Iy;
              j.data = {
                  e: U.hQ,
                  Gz: Math.round(255 * r / 100)
              };
              this.U(j)
          }
          if (K.q(w.ll))
              this.Em(this.AM == 0 ? 1 : 0);
          if (K.q(w.M9) || K.q(w.SO) && this.AM == 2)
              this.Em(this.AM == 0 ? 2 : 0);
          if (K.q(w._o) && !this.av.Oy) {
              j.F = u.Z2;
              j.data = {
                  e: "qmask"
              };
              this.U(j)
          }
      }
      if (!K.q(w.qN) && !k && V) {
          var j = new q(c.E.A)
            , a = new q(c.E.P);
          if (K.q(w.afu))
              a.data = {
                  e: c.f.eQ,
                  KN: "shortcuts"
              };
          if (K.q(w.Jv))
              a.data = {
                  e: c.f.eQ,
                  KN: "fill"
              };
          if (K.q(w.a18))
              a.data = {
                  e: c.f.eQ,
                  KN: "sel_feather"
              };
          if (C && (K.q(w.Va) || K.q(w.ih))) {
              var B = i.C[0]
                , D = i.t[B]
                , J = gx.WR
                , m = J.length
                , x = J.indexOf(D.SI);
              j.F = u.Iy;
              j.data = {
                  e: U.k9,
                  Gz: (x + m + (K.q(w.Va) ? 1 : -1)) % m
              };
              this.U(j)
          }
          if (a.data)
              this.U(a)
      }
      var j = new q(c.E.A)
        , R = E == "down" && (this.OM(w.UO) || this.OM(w.LC));
      if ((N || k) && R) {
          j = new q(c.E.J5);
          j.data = u.Bu.yN(N ? "BckC" : "FrgC");
          this.U(j)
      } else if (i && R && !this.av.Oy) {
          if (i.N != null) {
              j = new q(c.E.J5);
              j.data = {
                  bT: "delete"
              }
          } else {
              j.F = u.Iy;
              j.data = {
                  e: U.FU
              }
          }
          this.U(j)
      }
      if (this.cR.$z() != null) {
          if (K.q(w.SO)) {
              this.cR.$z().Bq()
          } else {
              this.cR.$z().Ok(i, this, this.wq, K)
          }
      }
      if (this.wq.sw == null)
          return;
      var H = this.b_();
      if (this.cR.$z() == null || this.d4.JM)
          H.Ok(i, this, this.wq, K)
  }
  ;
  bO.prototype.OM = function(E) {
      var K = this.Ld
        , i = this.d4.map[this.wq.sw].F
        , top = this.cR.$z()
        , C = this.O5();
      return K.q(E) && !i.Ci(E, C) && (top == null || !top.Ci(E, C))
  }
  ;
  bO.a6q = function() {
      if (!document.mozFullScreen && !document.a6O) {
          var E = document.body;
          if (E.mozRequestFullScreen) {
              E.mozRequestFullScreen()
          } else {
              E.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)
          }
      } else {
          if (document.mozCancelFullScreen) {
              document.mozCancelFullScreen()
          } else {
              document.webkitCancelFullScreen()
          }
      }
  }
  ;
  bO.prototype.Em = function(E) {
      var K = this.a9S
        , i = this._X;
      this.AM = E;
      var C = c.ws
        , N = this.xL.j;
      if (C(N))
          this.q2.removeChild(N);
      var k = this.uG.j;
      if (C(k))
          this.q2.removeChild(k);
      var V = this.t6.j;
      if (C(V))
          K.removeChild(V);
      var j = this.jH.j;
      if (C(j))
          K.removeChild(j);
      var a = this.qq.j;
      if (C(a))
          K.removeChild(a);
      if (E == 0) {
          this.q2.appendChild(N);
          this.q2.appendChild(k);
          i.appendChild(K);
          K.appendChild(V);
          K.appendChild(j);
          K.appendChild(a)
      }
      if (E == 1) {
          this.q2.appendChild(N);
          K.appendChild(j)
      }
      if (E == 2) {
          K.appendChild(j)
      }
      this.jH.Em(E == 2 ? 1 : 0);
      if (document.fullscreenEnabled) {
          if (E == 2)
              document.body.requestFullscreen();
          else if (document.fullscreenElement)
              document.exitFullscreen()
      }
      this.f4()
  }
  ;
  function eg(E) {
      aB.call(this);
      if (E == null)
          return;
      this.jx = null;
      this.w1 = null;
      this.j = c.w("div", "sbar" + " " + E);
      this._k = new c.w("div","top");
      this._k.innerHTML = "> <";
      this.j.appendChild(this._k);
      this.zz = 1;
      this._k.addEventListener("click", this.a5j.bind(this), !1)
  }
  eg.prototype = new aB;
  eg.prototype.a5j = function(E) {
      if (this.jx != null && this.jx < 500 && this.zz == 0)
          return;
      if (this.zz == 0)
          this.SZ(!0);
      else
          this.collapse(!0)
  }
  ;
  eg.prototype.ao3 = function(E) {
      this.zz = E;
      this._k.innerHTML = this.zz == 0 ? "< >" : "> <"
  }
  ;
  eg.prototype.a7K = function() {
      var E = new q(c.E.P,!0);
      E.data = {
          e: c.f.Q_
      };
      this.U(E)
  }
  ;
  eg.prototype.SZ = function(E) {
      this.ao3(1);
      if (E)
          this.a7K()
  }
  ;
  eg.prototype.collapse = function(E) {
      this.ao3(0);
      if (E)
          this.a7K()
  }
  ;
  eg.prototype.Ed = function() {
      return this.zz == 1
  }
  ;
  function f$(E) {
      eg.call(this, "vcolumn");
      this.cD = E;
      this.zK();
      this.pT = c.w("div");
      this.pT.setAttribute("style", "cursor:default;");
      this.a7t = this.a7T.bind(this);
      this.a1E = this.aku.bind(this);
      this.a7O = this.ac6.bind(this);
      c.vo(this.j, this.a7t);
      this.j.appendChild(this.pT);
      this.oF = c.w("div", "");
      this.pT.appendChild(this.oF);
      this.Ic = null;
      this.Q5 = c.w("div", "float");
      this.II = [];
      this.a87 = null;
      this.aju = 0
  }
  f$.prototype = new eg;
  f$.prototype.a7T = function(E) {
      if (E.target != this.j)
          return;
      if (!this.Ed())
          return;
      this.a87 = c.DX(E, document.body);
      this.aju = this.cD;
      c.ys(document, this.a1E);
      c.vL(document, this.a7O)
  }
  ;
  f$.prototype.aku = function(E) {
      var K = c.DX(E, document.body);
      this.cD = this.aju + this.a87.x - K.x;
      this.zK();
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.Q_
      };
      this.U(i)
  }
  ;
  f$.prototype.ac6 = function(E) {
      c.sI(document, this.a1E);
      c.qU(document, this.a7O)
  }
  ;
  f$.prototype.ak5 = function(E) {
      E.k("showFloat", this.a0j, this);
      E.k("hideFloat", this.O7, this);
      this.II.push(E);
      E.parent = this;
      this.pT.appendChild(E.j)
  }
  ;
  f$.prototype.a0R = function(G) {
      var E = this.II[G];
      E.removeEventListener("showFloat", this.a0j, this);
      E.removeEventListener("hideFloat", this.O7, this);
      this.II.splice(G, 1);
      E.parent = null;
      this.pT.removeChild(E.j)
  }
  ;
  f$.prototype.a6K = function() {
      return this.II.length
  }
  ;
  f$.prototype.en = function() {
      for (var G = 0; G < this.II.length; G++)
          this.II[G].en()
  }
  ;
  f$.prototype.a0j = function(E) {
      this.O7(E);
      this.oF.appendChild(this.Q5);
      this.Ic = E.currentTarget.uR;
      this.Q5.appendChild(this.Ic);
      var K = E.currentTarget.HN()
        , i = "";
      if (K.x != 0)
          i += "width : " + K.x + "px;";
      if (K.y != 0)
          i += "height: " + K.y + "px;";
      this.Q5.setAttribute("style", i);
      this.FY(this.jx, this.w1)
  }
  ;
  f$.prototype.O7 = function(E) {
      this.en();
      if (this.Ic) {
          this.oF.removeChild(this.Q5);
          this.Q5.removeChild(this.Ic);
          this.Ic = null
      }
  }
  ;
  f$.prototype.zK = function() {
      this.j.setAttribute("style", "width: " + this.cD + "px; padding-left:3px; cursor:ew-resize;")
  }
  ;
  f$.prototype.SZ = function(E) {
      this.zK();
      this.O7();
      for (var G = 0; G < this.II.length; G++)
          this.II[G].SZ();
      eg.prototype.SZ.call(this, E)
  }
  ;
  f$.prototype.collapse = function(E) {
      this.j.removeAttribute("style");
      for (var G = 0; G < this.II.length; G++)
          this.II[G].collapse();
      eg.prototype.collapse.call(this, E)
  }
  ;
  f$.prototype.FY = function(E, K) {
      this.jx = E;
      this.w1 = K;
      var i = this.II.length
        , C = this.Ed();
      K -= 6;
      if (i == 0)
          return;
      E = this.cD;
      var N = K;
      for (var G = 0; G < i - 1; G++) {
          var k = this.II[G]
            , V = k.a14();
          k.FY(E, C ? V : K);
          N -= V
      }
      this.II[i - 1].FY(E, C ? N : K)
  }
  ;
  function cs(E) {
      aB.call(this);
      this.j = c.w("div");
      this.pT = null;
      this.R9 = 0;
      this.dA = 0;
      this.a6V = E;
      this.a5S = this.bC.bind(this);
      this.ajj = this.BT.bind(this);
      this.aa9 = this.nW.bind(this);
      this.mX = null;
      this.wL = null;
      this.RZ = null;
      c.vo(this.j, this.a5S);
      var K = this.j
        , C = "<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
      K.addEventListener("touchmove", c.N1, !1);
      this.ahs = !0;
      this.qc = [];
      var i = this.an3 = c.w("div");
      i.setAttribute("style", "float:right; padding:4px;display:none; position:relative;z-index:1;");
      this.j.appendChild(i);
      var N = ["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />", [0, 13, 3], [0, 13, 4], [0, 13, 5], "Blog", "API", C + "<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>", C + "<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>", C + "<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
      for (var G = 0; G < N.length; G++) {
          var k = new hO(N[G]);
          this.qc.push(k);
          k.j.setAttribute("style", "margin-left:" + (G < 7 ? 4 : 0) + "px;cursor:pointer;");
          k.k("click", this.mD, this)
      }
  }
  cs.prototype = new aB;
  cs.prototype.B = function() {
      var E = this.an3;
      c.kL(E);
      for (var G = 0; G < this.qc.length; G++) {
          var K = this.qc[G];
          if (G < 6)
              K.B();
          var i = Date.now() < 1595058192822 && !h2.pw();
          if (G != 0 || i)
              E.appendChild(K.j)
      }
  }
  ;
  cs.prototype.mD = function(E) {
      var G = this.qc.indexOf(E.currentTarget);
      if (G == 1) {
          if (window.showCap)
              window.showCap();
          return
      }
      var K = "CTA  issues learn blog api twitter facebook".split(" ")
        , i = "//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" ")
        , C = window.ga;
      if (C)
          C("send", "event", "Links", K[G]);
      var N = new q(c.E.P,!0);
      N.data = {
          e: c.f.oc,
          link: i[G]
      };
      this.U(N)
  }
  ;
  cs.prototype.bC = function(E) {
      if (E.am3) {
          E.preventDefault();
          E.stopPropagation()
      }
      var K = window;
      c.ys(K, this.ajj);
      c.vL(K, this.aa9);
      K = this.pT;
      this.mX = new bT(parseInt(K.style.left),parseInt(K.style.top));
      this.wL = c.DX(E, this.j);
      this.RZ = K.getBoundingClientRect()
  }
  ;
  cs.prototype.BT = function(E) {
      var K = c.DX(E, this.j)
        , i = this.mX.x + K.x - this.wL.x
        , C = this.mX.y + K.y - this.wL.y
        , N = this.R9 - this.RZ.width
        , k = this.dA - this.RZ.height;
      if (this.a6V)
          this.pT.style.left = Math.min(0, Math.max(N, i)) + "px";
      else
          this.pT.style.top = Math.min(0, Math.max(k, C)) + "px";
      if (i - 10 > 0) {
          this.wL.x = K.x - 10;
          this.mX.x = 0
      }
      if (i + 10 < N) {
          this.wL.x = K.x + 10;
          this.mX.x = N
      }
  }
  ;
  cs.prototype.nW = function(E) {
      var K = window;
      c.sI(K, this.ajj);
      c.qU(K, this.aa9)
  }
  ;
  cs.prototype.ant = function(E) {
      if (this.pT) {
          this.j.removeChild(this.pT)
      }
      this.pT = E;
      this.j.appendChild(E);
      E.style.position = "absolute";
      if (this.a6V)
          E.style.left = 0;
      else
          E.style.top = 0
  }
  ;
  cs.prototype.FY = function(E, K) {
      this.R9 = E;
      this.dA = K;
      this.j.setAttribute("style", "position:relative; width: " + E + "px; height: " + K + "px; overflow:hidden; white-space: nowrap; ");
      var i = this.pT.firstChild
        , C = this.an3
        , N = i ? i.firstChild.getBoundingClientRect().width + 80 : 1e9
        , k = 450
        , V = this.ahs && E > N + k
        , j = c.tC
        , a = j("b`bRH")
        , e = j("SU\\VOAV");
      C[a][e] = V ? "" : j("][WK")
  }
  ;
  function e5() {
      aB.call(this);
      this.Mi = null;
      this.NX = e5.ty;
      this.aow = "";
      this.j = c.w("div", "rightbar");
      this.RB = [new f$(380), new f$(265)];
      this.II = [new et, new et, new et, new et, new et, new et];
      this.aaM = []
  }
  e5.prototype = new aB;
  e5.prototype.B = function() {
      var E = this.NX;
      for (var G = 0; G < E.length; G++)
          E[G].CP.B()
  }
  ;
  e5.ty = [{
      CP: new a9,
      v1: 2
  }, {
      CP: new a7,
      v1: 3
  }, {
      CP: new h1,
      v1: 1
  }, {
      CP: new ab(!0),
      v1: 4
  }, {
      CP: new eq,
      v1: 0
  }, {
      CP: new hr,
      v1: 4
  }, {
      CP: new d7,
      v1: 2
  }, {
      CP: new bB,
      v1: 0
  }, {
      CP: new iD,
      v1: 2
  }, {
      CP: new gw,
      v1: 1
  }, {
      CP: new c9,
      v1: 3
  }, {
      CP: new bC,
      v1: 2
  }, {
      CP: new ab(!1),
      v1: 4
  }, {
      CP: new br,
      v1: 1
  }, {
      CP: new ii,
      v1: 4
  }, {
      CP: new cZ,
      v1: 2
  }, {
      CP: new ec,
      v1: 0
  }, {
      CP: new hy,
      v1: 5,
      yR: !0
  }, {
      CP: new b1,
      v1: 5,
      yR: !0
  }];
  (function() {
      var E = [{
          id: iL.Yb.ab0,
          name: "Gallery",
          url: "plugins/gallery.html",
          width: 400,
          height: 400,
          icon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"
      }, {
          name: "Emoji",
          url: "https://hxim.github.io/TwemojiPlugin/twemoji3.html",
          width: 400,
          height: 400,
          icon: "https://hxim.github.io/TwemojiPlugin/icon.svg"
      }, {
          name: "3D Viewer",
          url: "plugins/depth",
          width: 400,
          height: 400,
          icon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAGlQTFRF////AAAAAAAATExM+fn5JSUlBwcHGhoaExMT////////lJSUtbW14uLiMjIy5+fnq6ur2dnZjIyM7+/vxMTE////gYGBoaGhPT09////zMzM////cHBwZmZm////////WVlZ////////C7AcuwAAACN0Uk5T//8A////////3Qb/////////////TP////H/nP//brj/hSKBQ27bAAACI0lEQVR4nO2XXZeCIBCGIUVJEz9ApdKy//8nFwsEFOoke7EX+150Oo7zwAzDHAccZmW3+xl8peP9lj1dwfxz+9JbMloJyO573Gddsydgt78gzIDbfn8A2gPIdsWvdMxA0AbEFkBABmZdQVAEIoYwdxC6/r9+WzWr+ibvKxZ/71tUI0mgUkI6ahhTJYQIiaaxolvACa6U5tq4tokF8jVjA4Cw8wOE8PARANk7AISkcABwarzB3wMgri0A6i6FyH5c5AuE2gCRQ2QRUKkB9cX4j+ULtQ2IwMxng94l8Zx35AfMipvlwCs3oJPm0g0QVaP2iNxbkDvAsQ+gD+3i8meS3wMvAHD5rNl4UzZJ/yh+A8jlM276NqLa9X2YdHgOQCmfYQugTzgZzOAcAKBW8gAgauh7gCop6gGIuqsDARCvL9PHEGhZFqIpTcqG/HUAClcSlWpV7I0foHbLXQDAVh4OgL+QnpKlhLyAXiXKWcpLihMfoNikyRaVduIB5Ooy6uvcNSZK9YPJAaBs1G2JL14jxFEvr39FlL23Adi6K0KpbmnjKyIecaIbVrrqiWslRlMdXS8sAbr9udFSnYClnzgBSWcdwBYQGSe8dUe5ubxQeRrNlo+sdrAAkiRFhE9DVQOXCnbqm6HL+1PhtP/rbyvwa/kc+r1+DB84gkeeLCgGMXQFj32Hw3W//+M1+u4mPDI5fLe78rAM3/P4316/ZBwf7Wv8/wFREBclUew2ggAAAABJRU5ErkJggg=="
      }];
      for (var G = 0; G < E.length; G++)
          e5.ty.push({
              CP: new ge(E[G],100 + G),
              v1: 5,
              yR: !0
          })
  }());
  e5.prototype.a4o = function(E) {
      for (var G = 0; G < E.length; G++) {
          var K = E[G]
            , i = new ge(K,"plg_" + K.name);
          this.NX.push({
              CP: i,
              v1: 5
          });
          this.aaM.push(i.iJ)
      }
      this.Vp()
  }
  ;
  e5.prototype.bX = function(E, K) {
      this.Mi = E;
      var i = this.NX;
      for (var G = 0; G < i.length; G++)
          i[G].CP.bX(E, K);
      if (K == dp.aG || K == dp.iW)
          this.Vp()
  }
  ;
  e5.prototype.og = function(E) {
      var K = this.NX;
      for (var G = 0; G < K.length; G++)
          K[G].CP.og(E)
  }
  ;
  e5.prototype.FY = function(E, K) {
      this.jx = E;
      this.w1 = K;
      this.RB[0].FY(E, K);
      this.RB[1].FY(E, K)
  }
  ;
  e5.prototype.Vp = function() {
      var E = this.Mi
        , K = this.jx;
      if (E == null || K == 0)
          return;
      var i = E._v.concat(this.aaM);
      if (JSON.stringify(i) != this.aow) {
          this.aow = JSON.stringify(i);
          c.kL(this.j);
          var C = [];
          for (var G = 0; G < this.RB.length; G++) {
              var N = this.RB[G];
              C[G] = N.Ed();
              while (N.a6K() != 0)
                  N.a0R(0);
              N.SZ()
          }
          var k = [];
          for (var G = 0; G < this.II.length; G++) {
              var V = this.II[G];
              V.SZ();
              while (V.a8u() != 0)
                  V.tc(0);
              k.push(0)
          }
          for (var G = 0; G < i.length; G++) {
              var j = this.ahw(i[G].toString());
              this.II[j.v1].C8(j.CP);
              this.II[j.v1].H6(0);
              k[j.v1]++
          }
          var a = [];
          for (var G = 0; G < k.length; G++) {
              if (k[G] == 0)
                  continue;
              var e = G < 2 || K < 500 ? 1 : 0
                , N = this.RB[e];
              N.parent = this;
              N.ak5(this.II[G]);
              a[e] = !0
          }
          for (var G = 0; G < this.RB.length; G++)
              if (a[G])
                  this.j.appendChild(this.RB[G].j);
          this.RB[0].collapse();
          if (K < 700 || this.Mi.compact || !C[1]) {
              this.RB[1].collapse()
          }
          var L = new q(c.E.P,!0);
          L.data = {
              e: c.f.Q_
          };
          this.U(L)
      }
  }
  ;
  e5.prototype.ahw = function(E) {
      for (var G = 0; G < this.NX.length; G++)
          if (this.NX[G].CP.iJ == E)
              return this.NX[G]
  }
  ;
  e5.prototype.a5A = function(E) {
      var K = this.ahw(E);
      this.II[K.v1].C8(K.CP)
  }
  ;
  e5.prototype.MN = function(E, K, i) {
      var C = this.NX;
      for (var G = 0; G < C.length; G++)
          C[G].CP.MN(E, K, i)
  }
  ;
  e5.prototype.om = function(E, K, i, C, N) {
      var k = this.NX;
      for (var G = 0; G < k.length; G++)
          k[G].CP.om(E, K, i, C, N)
  }
  ;
  e5.prototype.n9 = function(E, K, i, C, N) {
      var k = this.NX;
      for (var G = 0; G < k.length; G++)
          k[G].CP.n9(E, K, i, C, N)
  }
  ;
  e5.prototype.Cs = function(E, K, i, C, N) {
      var k = this.NX;
      for (var G = 0; G < k.length; G++)
          k[G].CP.Cs(E, K, i, C, N)
  }
  ;
  function eo(E, K) {
      eg.call(this, "toolbar");
      this.dt = null;
      this.O$ = c.w("div", "tools");
      this.j.appendChild(this.O$);
      this.Ph = null;
      this.ahB = K;
      this.rq = null;
      this.an2 = -1;
      this.a0r = {};
      this.d4 = null;
      this.xj = null;
      this.a0 = null;
      this.Xw = null;
      this.k4(E);
      this._L = new c1;
      this._L.j.style.marginTop = "5px";
      this._L.j.style.marginBottom = "3px";
      this._L.parent = this;
      this.C6 = new hO(c.GJ("lrs/mask"),!1,[6, 6, 1]);
      this.C6.k("click", function(k) {
          var V = new q(c.E.A,!0);
          V.F = u.Z2;
          V.data = {
              e: "qmask"
          };
          this.U(V)
      }, this);
      var i = new cP(null,["Ctrl", "Alt", "Shift", "No Touch"],!0);
      i.k(c.E.L, this.a85, this);
      var C = c.w("span", "rangecont form");
      C.appendChild(i.j);
      var N = new aB;
      N.j = C;
      this.a4b = [!1, !1, !1];
      this.Gq = new hO("\u2328",!1,"Virtual Keys");
      this.Gq.k("click", function(k) {
          var V = this.Gq.j.getBoundingClientRect()
            , j = new q(c.E.P,!0);
          j.data = {
              e: c.f.um,
              CP: N,
              x: V.left,
              y: V.top - 30
          };
          this.U(j)
      }, this)
  }
  eo.prototype = new eg;
  eo.prototype.a85 = function(E) {
      var K = E.target.u();
      this.Gq.T(K[0] || K[1] || K[2] || K[3]);
      var i = new q(c.E.P,!0);
      i.data = {
          e: c.f.AS
      };
      this.U(i);
      for (var G = 0; G < 4; G++) {
          if (K[G] != this.a4b[G]) {
              i.data = {
                  e: c.f.f7,
                  Oy: K[G],
                  key: ["ControlLeft", "AltLeft", "ShiftLeft", "NoTouch"][G]
              };
              this.U(i)
          }
      }
      this.a4b = K.slice(0)
  }
  ;
  eo.prototype.ahy = function(E, K) {
      this.rq = K;
      if (E == null || E.C.length == 0 || E.t[E.C[0]] == null)
          return;
      var i = E.C6() != null
        , C = E.a.zj
        , N = E.t[E.C[0]].dz
        , k = N == 1 || N == 3 || i || C[0] + C[1] + C[2] == 1;
      this._L.a9z(k);
      this.C6.T(i)
  }
  ;
  eo.prototype.a4W = function(E, K) {
      var i = E.length
        , C = [];
      for (var G = 0; G < i; G++)
          C[G] = E[G].slice(0);
      E = C;
      var N = [1, 2, 4, 5, 7, 8, 7, 9, 11, 12, 14, 15, 14, 16, 10, 11, 1, 3, 17, 18, 7, 6, 13, 14]
        , k = Math.min(N.length / 2, i - K);
      for (var G = 0; G < k; G++) {
          var V = N[2 * G]
            , j = N[2 * G + 1];
          E[V] = E[V].concat(E[j]);
          E[j] = null
      }
      for (var G = 0; G < E.length; G++)
          if (E[G] == null) {
              E.splice(G, 1);
              G--
          }
      return E
  }
  ;
  eo.prototype.a67 = function(E, K) {
      for (var G = 0; G < K.length; G++)
          for (var i = 0; i < K[G].length; i++)
              if (K[G][i].F.id == E)
                  return G
  }
  ;
  eo.prototype.k4 = function(E, K) {
      this.dt = E;
      this.xj = [];
      this.a0 = [];
      this.Xw = [];
      this.d4 = [];
      var i = E.dE;
      if (K != null && this.ahB)
          i = this.a4W(i, K);
      if (this.Ph) {
          var C = []
            , N = this.Ph.aaH;
          for (var G = 0; G < i.length; G++) {
              var k = [];
              for (var V = 0; V < i[G].length; V++) {
                  var j = i[G][V];
                  if (N == null || N.indexOf(parseInt(j.F.id)) != -1)
                      k.push(j)
              }
              if (k.length > 0)
                  C.push(k)
          }
          i = C
      }
      for (var G = 0; G < i.length; G++) {
          var a = []
            , e = this.xj.length
            , L = null
            , g = -1;
          for (var V = 0; V < i[G].length; V++) {
              var j = i[G][V].F
                , I = this.a67(j.id, E.dE)
                , h = E.keys[I];
              this.d4.push(j);
              var o = new dy(j.name,h,j.p3,this.xj.length,G,i[G].length > 1);
              this.xj.push(o);
              var H = this.a0r[j.id];
              if (H == null)
                  H = 0;
              if (H > g) {
                  g = H;
                  L = o
              }
              o.k(c.E.L, this.sc, this);
              o.k("mover", this.IR, this);
              a.push({
                  name: j.name,
                  ia: j.p3,
                  xS: h ? h.zE : ""
              })
          }
          this.a0.push(L);
          if (a.length == 1)
              this.Xw.push(null);
          else {
              var A = new bi(a);
              A.a8m = e;
              A.lv = G;
              this.Xw.push(A);
              A.k("select", this.acM, this);
              A.parent = this
          }
      }
  }
  ;
  eo.prototype.FY = function(E, K) {
      var i = this.w1 = K - 11
        , C = 32;
      if (1 < c.M() && c.M() < 1.5)
          C = 18 + 14 * (1 / c.M());
      var N = 39 + 23
        , k = Math.floor((i - N) / C)
        , V = this.Ph;
      if (V == null)
          return;
      if (k != this.an2) {
          this.an2 = k;
          this.k4(this.dt, k);
          this.Xu(V.sw)
      }
      var j = this.a0.length * C + N
        , a = Math.min(1, i / j);
      if (.75 <= a) {
          this.O$.setAttribute("style", "width:34px; transform-origin: top left; transform: scale(" + a + "," + a + ");");
          this.j.setAttribute("style", "height:" + (K - 2) + "px; overflow:hidden")
      } else {
          i -= 4;
          this.O$.setAttribute("style", "height: " + i + "px;  width:" + Math.ceil(j / i) * 34 + "px");
          this.j.setAttribute("style", "")
      }
  }
  ;
  eo.prototype.B = function() {
      for (var G = 0; G < this.xj.length; G++)
          this.xj[G].B();
      for (var G = 0; G < this.Xw.length; G++)
          if (this.Xw[G])
              this.Xw[G].B()
  }
  ;
  eo.prototype.sc = function(E) {
      var K = new q(c.E.P,!0);
      K.data = {
          e: c.f.oS,
          F: this.d4[E.id].id
      };
      this.U(K)
  }
  ;
  eo.prototype.acM = function(E) {
      var K = E.target.a8m + E.target.s9()[0];
      this.xj[K].nW(null)
  }
  ;
  eo.prototype.IR = function(E) {
      var K = this.rq
        , i = new q(c.E.P,!0);
      i.data = {
          e: c.f.AS
      };
      this.U(i);
      var C = E.target
        , N = this.Xw[C.lv];
      if (N == null)
          return;
      var k = C.j.getBoundingClientRect()
        , i = new q(c.E.P,!0);
      i.data = {
          e: c.f.um,
          CP: N,
          x: k.left + k.width + 8,
          y: k.top
      };
      if (K == null || !(K.q(w.NV) || K.q(w.qN)))
          this.U(i)
  }
  ;
  eo.prototype.Xu = function(E) {
      this.a0r[E] = Date.now();
      var K = -1;
      for (var G = 0; G < this.d4.length; G++)
          if (this.d4[G].id == E)
              K = G;
      for (var G = 0; G < this.xj.length; G++) {
          var i = this.xj[G];
          i.am7(K == G)
      }
      if (K == -1)
          return;
      this.a0[this.xj[K].lv] = this.xj[K];
      c.kL(this.O$);
      var C = this.a0;
      for (var G = 0; G < C.length; G++) {
          this.O$.appendChild(C[G].j)
      }
      if (!this.ahB)
          return;
      this.O$.appendChild(this._L.j);
      if (this.w1 > 500)
          this.O$.appendChild(this.C6.j);
      else
          this.O$.appendChild(this.Gq.j)
  }
  ;
  eo.prototype.MN = function(E, K) {
      this.Xu(K.sw)
  }
  ;
  eo.prototype.bX = function(E, K) {
      this.Ph = E;
      if (K == dp.iW) {
          this.k4(this.dt);
          this.Xu(E.sw)
      }
      this._L.a95(E.sm, E.JT)
  }
  ;
  function dy(E, K, i, C, N, k) {
      aB.call(this);
      this.VR = 0;
      this.a7x = this.a0J.bind(this);
      this.lv = N;
      this.ci = C;
      this.v7 = E;
      this.a7C = K;
      this.a1l = k;
      this.p3 = i;
      this.j = c.w("button", "");
      this.j.innerHTML = c.GJ(this.p3);
      if (this.a1l) {
          var V = c.w("img", "gsicon");
          V.setAttribute("src", PIMG["tools/corner"]);
          V.setAttribute("style", "position:absolute; right:0;  bottom:0; width:100%; height:100%;");
          this.j.appendChild(V)
      }
      this.B();
      c.vo(this.j, this.bC.bind(this));
      this.j.addEventListener("click", this.nW.bind(this), !1);
      this.j.addEventListener("contextmenu", dy.zx, !1)
  }
  dy.prototype = new aB;
  dy.zx = function(E) {
      E.stopPropagation();
      E.preventDefault();
      return !1
  }
  ;
  dy.prototype.B = function() {
      var E = this.a7C ? " (" + this.a7C.zE + ")" : "";
      this.j.setAttribute("title", i2.get(this.v7) + E)
  }
  ;
  dy.prototype.bC = function(E) {
      this.VR = setTimeout(this.a7x, 160)
  }
  ;
  dy.prototype.nW = function(E) {
      clearTimeout(this.VR);
      var K = new q(c.E.L,!1);
      K.target = this;
      K.id = this.ci;
      this.U(K)
  }
  ;
  dy.prototype.a0J = function(E) {
      var K = new q("mover",!1);
      K.target = this;
      K.id = this.ci;
      this.U(K)
  }
  ;
  dy.prototype.am7 = function(E) {
      this.j.setAttribute("class", E ? "toolbtn active" : "toolbtn")
  }
  ;
  function h_() {
      aB.call(this);
      this.j = c.w("div", "topbar");
      this.IF = c.w("span", "");
      this.a8U = 0;
      this.j.appendChild(this.IF);
      this.Fd = null;
      this.Uw = null;
      this.bM = [];
      this._v = [];
      var E = this.bC.bind(this);
      for (var G = 0; G < h_.data.length; G++) {
          var K = c.w("button");
          this.bM.push(K);
          this.IF.appendChild(K);
          K.addEventListener("mouseover", E, !1);
          c.vo(K, E)
      }
      this.DG = new hO([0, 13, 0],!1,null,!0);
      this.DG.k("click", this.a2Y, this);
      this.j.appendChild(this.DG.j);
      this.DN = new hO(c.GJ("tools/zoom", null, "autoscale"),!1,[12, 86]);
      this.DN.k("click", this.a2Y, this);
      this.j.appendChild(this.DN.j)
  }
  h_.prototype = new aB;
  h_.prototype.amO = function() {
      if (this._v.length != 0)
          return;
      for (var G = 0; G < h_.data.length; G++) {
          var E = h_.data[G]
            , K = new bi(E.items,E.xn);
          K.parent = this;
          this._v.push(K)
      }
      this.B()
  }
  ;
  h_.prototype.B = function() {
      this.DG.B();
      this.DN.B();
      for (var G = 0; G < this.bM.length; G++)
          this.bM[G].textContent = i2.get(h_.data[G].name);
      this.a9h();
      for (var G = 0; G < this._v.length; G++)
          this._v[G].B()
  }
  ;
  h_.prototype.a2Y = function(E) {
      var K = new q(c.E.P,!0);
      if (E.target == this.DG)
          K.data = {
              e: c.f.eQ,
              KN: "account"
          };
      else
          K.data = {
              e: c.f.ue
          };
      this.U(K)
  }
  ;
  h_.prototype.a04 = function(E, K) {
      this.Fd = E;
      this.Uw = K
  }
  ;
  h_.prototype.bX = function(E, K) {
      this.Uw = E;
      if (K == dp.iW) {
          var i = E.ah1;
          c.kL(this.IF);
          for (var G = 0; G < this.bM.length; G++) {
              if (i == null || i[G] == 1 || i[G]instanceof Array)
                  this.IF.appendChild(this.bM[G]);
              if (i != null && i[G]instanceof Array) {
                  this.amO();
                  this._v[G].va(i[G])
              }
          }
          this.j.removeChild(this.DG.j);
          this.j.removeChild(this.DN.j);
          if (E.Je)
              this.j.appendChild(this.DG.j);
          this.j.appendChild(this.DN.j)
      }
      this.a9h()
  }
  ;
  h_.prototype.a9h = function(E, K) {
      var i = this.DG
        , C = 12255232;
      if (h2.Yv())
          C = h2.pw() ? 43520 : 16755200;
      i.j.setAttribute("style", "color:#ffffff; background-color:#" + _.rS(C))
  }
  ;
  h_.prototype.bC = function(E) {
      this.amO();
      var G = this.bM.indexOf(E.currentTarget)
        , K = this._v[G];
      if (E.type == "mouseover" && !c.ws(this._v[this.a8U].j))
          return;
      if (c.ws(K.j))
          return;
      E.am3 = !0;
      this.a8U = G;
      for (var G = 0; G < h_.data.length; G++)
          this._v[G].update(this.Fd, this.Uw);
      var i = E.target.getBoundingClientRect()
        , C = new q(c.E.P,!0);
      C.data = {
          e: c.f.um,
          CP: K,
          x: i.left,
          y: i.top + i.height + 2,
          ab6: !0
      };
      this.U(C)
  }
  ;
  h_.af1 = function(E) {
      var K = w
        , i = K.qN
        , C = K.Gj
        , N = K.zA
        , k = {
          name: [0, 5],
          items: [{
              name: [7, 0],
              xS: [i, K.f]
          }, {
              name: [7, 1],
              xS: [i, K.Yg],
              Q: function(j) {
                  return {
                      Q: j != null && j.N != null
                  }
              }
          }, {
              name: [7, 2],
              xS: [C, i, K.Gs],
              Q: function(j) {
                  return {
                      Q: j != null && j.N != null
                  }
              },
              bx: !0
          }, {
              name: [7, 11],
              mv: !0,
              Q: function(j) {
                  return {
                      Q: j != null && j.C.length != 0 && !j.t[j.C[0]].rect.OL()
                  }
              }
          }, {
              name: [7, 13],
              mv: !0,
              Q: function(j) {
                  return {
                      Q: j != null && j.C.length != 0 && !j.t[j.C[0]].rect.OL()
                  }
              },
              bx: !0
          }, {
              name: [7, 8],
              mv: !0
          }, {
              name: [7, 3],
              bx: !0,
              sub: [{
                  name: [7, 9],
                  mv: !0,
                  Q: function(j) {
                      return {
                          Q: j != null && j.N != null
                      }
                  }
              }, {
                  name: [19, 3, 0],
                  mv: !0,
                  Q: function(j) {
                      return {
                          Q: j != null && j.N != null
                      }
                  }
              }, {
                  name: [7, 4],
                  mv: !0,
                  Q: function(j) {
                      return {
                          Q: j != null && j.N != null
                      }
                  }
              }, {
                  name: [7, 5],
                  mv: !0,
                  Q: function(j) {
                      return {
                          Q: j != null && j.N != null
                      }
                  }
              }, {
                  name: [7, 6],
                  mv: !0,
                  Q: function(j) {
                      return {
                          Q: j != null && j.N != null
                      }
                  },
                  xS: "Shift+F6"
              }]
          }, {
              name: [7, 10],
              Q: function(j) {
                  return {
                      Q: j != null && j.N != null
                  }
              },
              bx: !0
          }, {
              name: [6, 6, 1],
              Q: function(j) {
                  return {
                      Q: j != null,
                      Sa: j != null && j.C6()
                  }
              },
              xS: [K._o],
              bx: !0
          }, {
              name: "Save Selection"
          }],
          xn: [{
              c: c.E.J5,
              o: u.u$.bi(!0)
          }, {
              c: c.E.J5,
              o: u.u$.bi()
          }, {
              c: c.E.J5,
              o: {
                  bT: "inverse"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "redge"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "magiccut"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "crange"
              }
          }, {
              sub: [{
                  c: c.E.P,
                  o: {
                      e: c.f.eQ,
                      KN: "sel_border"
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.eQ,
                      KN: "sel_smoothness"
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.eQ,
                      KN: "sel_expand"
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.eQ,
                      KN: "sel_contract"
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.eQ,
                      KN: "sel_feather"
                  }
              }]
          }, {
              c: c.E.P,
              o: {
                  e: c.f.oS,
                  F: u.Dg
              }
          }, {
              c: c.E.A,
              F: u.Z2,
              o: {
                  e: "qmask"
              }
          }, {
              c: c.E.J5,
              o: {
                  bT: "duplicate",
                  v4: {
                      classID: "null",
                      null: {
                          t: "obj ",
                          v: [{
                              t: "prop",
                              v: {
                                  classID: "Chnl",
                                  keyID: "fsel"
                              }
                          }]
                      }
                  }
              }
          }]
      };
      if (E) {
          var V = k.items.length - 1;
          k.items.splice(V, 0, {
              name: [10, 16],
              xS: [N, i, K.W]
          });
          k.xn.splice(V, 0, {
              c: c.E.P,
              o: {
                  e: c.f.oS,
                  F: u.Ny
              }
          })
      }
      return k
  }
  ;
  h_.data = function() {
      var E = w
        , K = E.qN
        , i = E.Gj
        , C = E.zA
        , N = function(L) {
          return {
              Q: L != null && L.C.length != 0
          }
      }
        , k = function(L) {
          return {
              Q: L != null && L.C.length != 0 && L.t[L.C[0]].add.SoLd != null
          }
      }
        , V = []
        , j = []
        , a = "none maxx avrg medn minn rang stdv summ vari".split(" ")
        , e = [[22, 5, 0], [24, 17, 2], [24, 3, 0], [24, 7, 3], [24, 17, 3], [12, 12], "Standard Deviation", "Summation", "Variance"];
      for (var G = 0; G < a.length; G++) {
          V.push({
              name: e[G]
          });
          j.push({
              c: c.E.A,
              F: u.Iy,
              o: {
                  e: U.G0,
                  Gz: a[G]
              }
          })
      }
      return [{
          name: [0, 0],
          items: [{
              name: [5, 3],
              xS: [C, K, E.FE],
              title: [11, 7],
              mv: !0
          }, {
              name: [1, 0],
              xS: [K, E.Eo],
              mv: !0
          }, {
              name: [1, 11],
              mv: !0,
              Q: function(L, g) {
                  return {
                      Q: L != null
                  }
              }
          }, {
              name: ["VAR0 VAR1", [1, 0], [0, 14]],
              bx: !0,
              sub: [{
                  name: [1, 5],
                  mv: !0
              }, {
                  name: [11, 0],
                  mv: !0
              }, {
                  name: ["PSD VAR0", [25, 0]],
                  mv: !0
              }]
          }, {
              name: [1, 1],
              bx: !0,
              sub: [{
                  name: "PNG",
                  xS: "Imgur.com",
                  Q: function(L, g) {
                      return {
                          Q: L != null && g.Xk
                      }
                  }
              }, {
                  name: "JPG",
                  xS: "Imgur.com",
                  Q: function(L, g) {
                      return {
                          Q: L != null && g.Xk
                      }
                  }
              }, {
                  name: "PSD",
                  xS: "Photopea.com",
                  Q: function(L, g) {
                      return {
                          Q: L != null && g.Xk && !L._t
                      }
                  }
              }]
          }, {
              name: "Save ...",
              xS: [K, E.tD],
              Q: function(L, g) {
                  var I = i2.get([1, 2]) + (L == null ? "" : L.Fl ? " (Smart Object)" : L.Yz ? " (Google Drive)" : "");
                  return {
                      Q: L != null && (L.Hc != null && L.xf == "psd" || L.Fl != null || L.LG != null && L.LG.Sx != null || L.Yz != null || g.LO.save != null),
                      WT: I
                  }
              }
          }, {
              name: [1, 3],
              Q: function(L, g) {
                  return {
                      Q: L != null && !L._t && g.Xk
                  }
              }
          }, {
              name: [1, 8],
              bx: !0,
              sub: function() {
                  var L = fb.hy(0)
                    , g = [];
                  for (var G = 0; G < L.length; G++)
                      g.push({
                          name: L[G],
                          xS: "." + L[G].toLowerCase()
                      });
                  g.push({
                      name: [0, 14],
                      sub: function() {
                          var L = fb.hy(1)
                            , g = [];
                          for (var G = 0; G < L.length; G++)
                              g.push({
                                  name: L[G],
                                  xS: "." + L[G].toLowerCase()
                              });
                          return g
                      }()
                  });
                  return g
              }()
          }, {
              name: [1, 9],
              mv: !0,
              Q: function(L, g) {
                  return {
                      Q: L != null
                  }
              }
          }, {
              name: "Export Color Lookup",
              mv: !0,
              Q: function(L, g) {
                  return {
                      Q: L != null
                  }
              },
              bx: !0
          }, {
              name: [1, 14],
              mv: !0,
              Q: function(L, g) {
                  return {
                      Q: L != null
                  }
              },
              bx: !0
          }, {
              name: [1, 10]
          }],
          xn: [{
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "newproject"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.an
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.an,
                  aaS: !0
              }
          }, {
              sub: [{
                  c: c.E.P,
                  o: {
                      e: c.f.eQ,
                      KN: "open_from_url"
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.eQ,
                      KN: "camera"
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.eQ,
                      KN: "templates"
                  }
              }]
          }, {
              sub: [{
                  c: c.E.P,
                  o: {
                      e: c.f.eE,
                      iG: "png"
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.eE,
                      iG: "jpg"
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.eE,
                      iG: "psd"
                  }
              }]
          }, {
              c: c.E.P,
              o: {
                  e: c.f.T6
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.lL
              }
          }, {
              sub: function() {
                  var L = fb.hy(0)
                    , g = [];
                  for (var G = 0; G < L.length; G++)
                      g.push({
                          c: c.E.P,
                          o: {
                              e: c.f.eQ,
                              KN: "saveforweb",
                              iG: G
                          }
                      });
                  g.push({
                      sub: function() {
                          var I = fb.hy(0).length
                            , L = fb.hy(1)
                            , g = [];
                          for (var G = 0; G < L.length; G++)
                              g.push({
                                  c: c.E.P,
                                  o: {
                                      e: c.f.eQ,
                                      KN: "saveforweb",
                                      iG: I + G
                                  }
                              });
                          return g
                      }()
                  });
                  return g
              }()
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "eassets"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "exlut"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "finfo"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "script"
              }
          }]
      }, {
          name: [0, 1],
          items: [{
              name: [2, 8]
          }, {
              name: [2, 0],
              xS: [i, K, E.p6]
          }, {
              name: [2, 1],
              xS: [K, E.p6],
              bx: !0
          }, {
              name: [2, 11],
              xS: [i, K, E.M9],
              bx: !0,
              mv: !0,
              Q: function(L, g) {
                  return {
                      Q: fB.mr(L) && g.sw != u.Ny
                  }
              }
          }, {
              name: [5, 0],
              xS: [K, E.ab]
          }, {
              name: [5, 1],
              xS: [K, E.dY]
          }, {
              name: [5, 7],
              xS: [i, K, E.dY]
          }, {
              name: [5, 2],
              xS: [K, E.Pp],
              Q: function(L, g) {
                  return {
                      Q: c.AD() || g.Oc != null || g.Lw != null || g.als != null
                  }
              }
          }, {
              name: [2, 2],
              Q: function(L) {
                  return {
                      Q: L != null && L.N != null
                  }
              },
              xS: "Delete",
              bx: !0
          }, {
              name: [2, 3],
              Q: function(L) {
                  return {
                      Q: L != null
                  }
              },
              mv: !0,
              xS: [i, E.Jv]
          }, {
              name: [14, 9],
              Q: function(L) {
                  return {
                      Q: L != null
                  }
              },
              mv: !0,
              bx: !0
          }, {
              name: [10, 48],
              Q: function(L) {
                  return {
                      Q: L != null && L.Os(!1)
                  }
              }
          }, {
              name: [10, 46],
              Q: function(L) {
                  return {
                      Q: u.uz.wC(L)
                  }
              }
          }, {
              name: [10, 16],
              xS: [C, K, E.W]
          }, {
              name: [2, 4],
              sub: cN.Bc()
          }, {
              name: [2, 10, 1]
          }, {
              name: [2, 10, 0],
              bx: !0
          }, {
              name: [12, 87],
              sub: [{
                  name: [12, 62],
                  Q: function(L) {
                      return {
                          Q: L != null
                      }
                  }
              }, {
                  name: [9, 3],
                  Q: function(L) {
                      return {
                          Q: L != null
                      }
                  }
              }, {
                  name: [10, 31],
                  Q: function(L) {
                      return {
                          Q: L != null && L.LM()[1].length != 0
                      }
                  }
              }]
          }, {
              name: [12, 79],
              mv: !0,
              xS: [K, E.pu]
          }, {
              name: [1, 13],
              mv: !0
          }],
          xn: [{
              c: c.E.A,
              F: u.CC,
              o: {
                  e: "h_undoredo"
              }
          }, {
              c: c.E.A,
              F: u.CC,
              o: {
                  e: "h_stepfwd"
              }
          }, {
              c: c.E.A,
              F: u.CC,
              o: {
                  e: "h_stepbck"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "afw_fade"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.Bz
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.M$
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.M$,
                  Dd: !0
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.kb
              }
          }, {
              c: c.E.J5,
              o: {
                  bT: "delete"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "fill"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "stroke"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.oS,
                  F: u.iv
              }
          }, {
              c: c.E.A,
              F: u.sE,
              o: {
                  e: "start",
                  bN: "rigidTransform"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.oS,
                  F: u.Ny
              }
          }, {
              sub: cN.l9()
          }, {
              c: c.E.J5,
              o: {
                  bT: "align",
                  v4: {
                      classID: "null",
                      null: {
                          t: "obj ",
                          v: [{
                              t: "Enmr",
                              v: {
                                  classID: "Lyr",
                                  typeID: "Ordn",
                                  enum: "Trgt"
                              }
                          }]
                      },
                      Usng: {
                          t: "enum",
                          v: {
                              ADSt: "ADSContent"
                          }
                      },
                      alignToCanvas: {
                          t: "bool",
                          v: !1
                      },
                      Aply: {
                          t: "enum",
                          v: {
                              projection: "Auto"
                          }
                      },
                      vignette: {
                          t: "bool",
                          v: !1
                      },
                      radialDistort: {
                          t: "bool",
                          v: !1
                      }
                  }
              }
          }, {
              c: c.E.A,
              F: u.Iy,
              o: {
                  e: U.QU
              }
          }, {
              sub: [{
                  c: c.E.P,
                  o: {
                      e: c.f.Vq,
                      KG: 0
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.Vq,
                      KG: 1
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.Vq,
                      KG: 2
                  }
              }]
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "preferences"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "locstor"
              }
          }]
      }, {
          name: [0, 2],
          items: [{
              name: [3],
              sub: function() {
                  var L = [];
                  for (var g in gM.names) {
                      L.push({
                          name: gM.names[g],
                          mv: M[g] != null,
                          xS: w.oq(gM.keys[g]),
                          bx: gM.Z7.indexOf(g) != -1
                      });
                      if (g == "selc") {
                          L.push({
                              name: ["VAR0/VAR1", [19, 6, 0], [19, 6, 2]],
                              mv: !0,
                              bx: !0
                          });
                          L.push({
                              name: [19, 7, 0],
                              xS: [K, i, E.dM],
                              Q: function(g) {
                                  return {
                                      Q: g && g.C.length != 0 && g.t[g.C[0]].add.SoLd == null
                                  }
                              }
                          })
                      }
                  }
                  return L
              }()
          }, {
              name: [4, 16, 0],
              Q: function(L) {
                  return {
                      Q: L != null && L.Os(!1)
                  }
              }
          }, {
              name: [4, 16, 1],
              Q: function(L) {
                  return {
                      Q: L != null && L.Os(!1)
                  }
              }
          }, {
              name: [4, 16, 2],
              Q: function(L) {
                  return {
                      Q: L != null && L.Os(!1)
                  }
              },
              bx: !0
          }, {
              name: [11, 11],
              Q: function(L) {
                  return {
                      Q: L != null && L.Os(!1)
                  }
              },
              bx: !0
          }, {
              name: [11, 3],
              mv: !0,
              xS: [C, K, E.dY]
          }, {
              name: [11, 10],
              mv: !0,
              xS: [C, K, E.Gs]
          }, {
              name: [2, 4],
              sub: [{
                  name: ["VAR0 90\xB0 \u21BB", [2, 5]]
              }, {
                  name: ["VAR0 90\xB0 \u21BA", [2, 5]]
              }, {
                  name: ["VAR0 180\xB0", [2, 5]]
              }, {
                  name: [[2, 6], [22, 4, 2]]
              }, {
                  name: [[2, 6], [22, 4, 3]]
              }]
          }, {
              name: [11, 12, 1],
              Q: function(L) {
                  return {
                      Q: L != null && L.N != null
                  }
              }
          }, {
              name: [11, 12, 0],
              Q: function(L) {
                  return {
                      Q: L != null
                  }
              },
              xS: [K, E.ym]
          }, {
              name: [11, 12, 2],
              Q: function(L) {
                  return {
                      Q: L != null
                  }
              },
              bx: !0
          }, {
              name: [2, 12],
              Q: function(L) {
                  return {
                      Q: L != null && L.Os(!1)
                  }
              },
              mv: !0
          }],
          xn: [{
              sub: function() {
                  var L = [];
                  for (var g in gM.names) {
                      L.push({
                          c: c.E.A,
                          F: u.T$,
                          o: {
                              e: "start",
                              M4: g
                          }
                      });
                      if (g == "selc") {
                          L.push({
                              c: c.E.A,
                              F: u.sE,
                              o: {
                                  e: "start",
                                  bN: "adaptCorrect"
                              }
                          });
                          L.push({
                              c: c.E.J5,
                              o: {
                                  bT: "desaturate"
                              }
                          })
                      }
                  }
                  return L
              }()
          }, {
              c: c.E.J5,
              o: {
                  bT: "levels",
                  v4: {
                      classID: "Lvls",
                      Auto: {
                          t: "bool",
                          v: !0
                      }
                  }
              }
          }, {
              c: c.E.J5,
              o: {
                  bT: "levels",
                  v4: {
                      classID: "Lvls",
                      AuCo: {
                          t: "bool",
                          v: !0
                      }
                  }
              }
          }, {
              c: c.E.J5,
              o: {
                  bT: "levels",
                  v4: {
                      classID: "Lvls",
                      autoBlackWhite: {
                          t: "bool",
                          v: !0
                      },
                      autoNeutrals: {
                          t: "bool",
                          v: !0
                      }
                  }
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "vbitmap"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "csize"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "isize"
              }
          }, {
              sub: [{
                  c: c.E.J5,
                  o: u._.Mz(!0, 90)
              }, {
                  c: c.E.J5,
                  o: u._.Mz(!0, -90)
              }, {
                  c: c.E.J5,
                  o: u._.Mz(!0, -180)
              }, {
                  c: c.E.J5,
                  o: u._.Mz(!1, "Hrzn")
              }, {
                  c: c.E.J5,
                  o: u._.Mz(!1, "Vrtc")
              }]
          }, {
              c: c.E.A,
              F: u.Wx,
              o: {
                  e: "cropbysel",
                  acZ: 0
              }
          }, {
              c: c.E.J5,
              o: u.S7.YM(0)
          }, {
              c: c.E.J5,
              o: {
                  bT: "revealAll",
                  v4: {
                      classID: "RvlA"
                  }
              }
          }, {
              c: c.E.A,
              F: u.T$,
              o: {
                  e: "start",
                  M4: "aply"
              }
          }]
      }, {
          name: [0, 3],
          items: [{
              name: [5, 3],
              sub: [{
                  name: [0, 3]
              }, {
                  name: [0, 4]
              }, {
                  name: [6, 49],
                  xS: [K, E.dS]
              }]
          }, {
              name: [6, 0],
              Q: N,
              xS: [K, E.dS]
          }, {
              name: [11, 4],
              Q: N
          }, {
              name: [5, 4],
              Q: N,
              bx: !0
          }, {
              name: [11, 6],
              bx: !0,
              Q: N,
              sub: eF.FK(!0)
          }, {
              name: [6, 48, 1],
              sub: [{
                  name: [6, 48, 0, 0]
              }, {
                  name: [6, 48, 0, 1]
              }, {
                  name: [6, 48, 0, 2]
              }]
          }, {
              name: [6, 1],
              bx: !0,
              sub: eF.Jc()
          }, {
              name: [6, 2],
              sub: [{
                  name: [6, 4],
                  Q: function(L) {
                      return {
                          Q: L != null && L.C.length != 0 && L.t[L.C[0]].$Y() == null
                      }
                  }
              }, {
                  name: [6, 5, 0],
                  Q: function(L) {
                      return {
                          Q: L != null && L.C.length != 0 && L.t[L.C[0]].$Y() == null
                      }
                  }
              }, {
                  name: [6, 5, 1],
                  Q: function(L) {
                      return {
                          Q: L != null && L.C.length != 0 && L.t[L.C[0]].$Y() == null && L.N != null
                      }
                  }
              }, {
                  name: [6, 5, 2],
                  Q: function(L) {
                      return {
                          Q: L != null && L.C.length != 0 && L.t[L.C[0]].$Y() == null && L.N != null
                      }
                  }
              }, {
                  name: [6, 5, 3],
                  Q: function(L) {
                      return {
                          Q: L != null && L.C.length != 0 && L.t[L.C[0]].$Y() == null
                      }
                  },
                  bx: !0
              }, {
                  name: [5, 4],
                  Q: function(L) {
                      return {
                          Q: L != null && L.C.length != 0 && L.t[L.C[0]].$Y() != null
                      }
                  }
              }, {
                  name: [5, 8],
                  Q: function(L) {
                      return {
                          Q: L != null && L.C.length != 0 && L.t[L.C[0]].$Y() != null && L.Os(!1, !0)
                      }
                  }
              }, {
                  name: ["VAR0/VAR1", [5, 5], [5, 6]],
                  Q: function(L) {
                      return {
                          Q: L != null && L.C.length != 0 && L.t[L.C[0]].$Y() != null
                      }
                  }
              }]
          }, {
              name: [6, 3],
              sub: [{
                  name: [6, 4],
                  Q: function(L) {
                      return {
                          Q: L != null && L.C.length != 0 && L.t[L.C[0]].add.vmsk == null
                      }
                  }
              }, {
                  name: [6, 5, 0],
                  Q: function(L) {
                      return {
                          Q: L != null && L.C.length != 0 && L.t[L.C[0]].add.vmsk == null
                      }
                  }
              }, {
                  name: "Current Path",
                  Q: function(L) {
                      return {
                          Q: L != null && L.C.length != 0 && L.t[L.C[0]].add.vmsk == null
                      }
                  },
                  bx: !0
              }, {
                  name: [5, 4],
                  Q: function(L) {
                      return {
                          Q: L != null && L.C.length != 0 && L.t[L.C[0]].add.vmsk != null
                      }
                  }
              }, {
                  name: ["VAR0/VAR1", [5, 5], [5, 6]],
                  Q: function(L) {
                      return {
                          Q: L != null && L.C.length != 0 && L.t[L.C[0]].add.vmsk != null
                      }
                  }
              }]
          }, {
              name: [6, 6, 0],
              xS: [C, K, E.t4],
              bx: !0,
              Q: function(L) {
                  return {
                      Sa: L != null && L.C.length != 0 && L.t[L.C[0]].iB,
                      Q: L != null && L.Lj(L.C[0])
                  }
              }
          }, {
              name: "Smart Object",
              bx: !0,
              sub: [{
                  name: [6, 7]
              }, {
                  name: [6, 36, 4],
                  Q: k,
                  sub: V
              }, {
                  name: [1, 0],
                  Q: k,
                  bx: !0
              }, {
                  name: "Turn into JPG"
              }]
          }, {
              name: [6, 8],
              Q: function(L) {
                  if (L == null || L.C.length == 0)
                      return {
                          Q: !1
                      };
                  var g = L.t[L.C[0]];
                  if (g.add.TySh || g.add.SoLd || g.add.SoCo || g.add.GdFl || g.add.PtFl)
                      return {
                          Q: !0
                      };
                  return {
                      Q: !1
                  }
              }
          }, {
              name: [6, 34],
              bx: !0,
              Q: function(L) {
                  if (L == null || L.C.length == 0)
                      return {
                          Q: !1
                      };
                  var g = L.t[L.C[0]];
                  return {
                      Q: g.add.lmfx != null && !g.Uf()
                  }
              }
          }, {
              name: [6, 9],
              bx: !0,
              xS: [K, E.t4]
          }, {
              name: [6, 55],
              bx: !0,
              sub: [{
                  name: [6, 56, 0],
                  xS: [i, K, E.YL]
              }, {
                  name: [6, 56, 1],
                  xS: [K, E.YL]
              }, {
                  name: [6, 56, 2],
                  xS: [K, E.g$]
              }, {
                  name: [6, 56, 3],
                  xS: [i, K, E.g$]
              }]
          }, {
              name: [6, 58],
              sub: [{
                  name: ["Make Frames"]
              }, {
                  name: [18, 5]
              }]
          }, {
              name: [6, 10],
              Q: function(L) {
                  return {
                      Q: L != null && L.C.length == 1 && L.C[0] != 0 && !L.t[L.C[0]].Uf()
                  }
              },
              xS: [K, E.E]
          }, {
              name: [6, 12, 0],
              Q: function(L) {
                  return {
                      Q: L != null && L.C.length != 0 && (L.C.length > 1 || L.t[L.C[0]].Uf())
                  }
              }
          }, {
              name: [6, 12, 1]
          }],
          xn: [{
              sub: [{
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.BA
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.Qr
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.Mb
                  }
              }]
          }, {
              c: c.E.A,
              F: u.Iy,
              o: {
                  e: U.CY
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "duplinto"
              }
          }, {
              c: c.E.A,
              F: u.Iy,
              o: {
                  e: U.FU
              }
          }, {
              sub: eF.n0(!0)
          }, {
              sub: [{
                  c: c.E.A,
                  F: u.x2,
                  o: {
                      e: "newfill",
                      wn: 0
                  }
              }, {
                  c: c.E.J5,
                  o: u.WZ.yN(1)
              }, {
                  c: c.E.J5,
                  o: u.WZ.yN(2)
              }]
          }, {
              sub: eF.NL()
          }, {
              sub: [{
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.mx,
                      zw: "RvlA"
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.mx,
                      zw: "HdAl"
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.mx,
                      zw: "RvlS"
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.mx,
                      zw: "HdSl"
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.mx,
                      zw: "Trns"
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.oU
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.Go
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.eq
                  }
              }]
          }, {
              sub: [{
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.H4,
                      aek: !1
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.H4,
                      aek: !0
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.H4,
                      acF: !0
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.zF
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.ZG
                  }
              }]
          }, {
              c: c.E.A,
              F: u.Iy,
              o: {
                  e: U.SE
              }
          }, {
              sub: [{
                  c: c.E.J5,
                  o: {
                      bT: "newPlacedLayer"
                  }
              }, {
                  sub: j
              }, {
                  c: c.E.J5,
                  o: {
                      bT: "placedLayerEditContents",
                      v4: {
                          classID: "placedLayerEditContents"
                      }
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.WH
                  }
              }]
          }, {
              c: c.E.J5,
              o: {
                  bT: "rasterizeLayer",
                  v4: {
                      classID: "rasterizeLayer",
                      null: bY.Ve("Lyr", !0)
                  }
              }
          }, {
              c: c.E.A,
              F: u.Iy,
              o: {
                  e: U.m5
              }
          }, {
              c: c.E.A,
              F: u.Iy,
              o: {
                  e: U.BR
              }
          }, {
              sub: [{
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.LI,
                      Qh: 0
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.LI,
                      Qh: 1
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.LI,
                      Qh: 2
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.LI,
                      Qh: 3
                  }
              }]
          }, {
              sub: [{
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.SP,
                      Qh: "makeframes"
                  }
              }, {
                  c: c.E.A,
                  F: u.Iy,
                  o: {
                      e: U.SP,
                      Qh: "merge"
                  }
              }]
          }, {
              c: c.E.A,
              F: u.Iy,
              o: {
                  e: U.VM
              }
          }, {
              c: c.E.A,
              F: u.Iy,
              o: {
                  e: U.ma
              }
          }, {
              c: c.E.J5,
              o: {
                  bT: "flattenImage"
              }
          }]
      }, h_.af1(!1), function() {
          var L = {
              name: [0, 6],
              items: [{
                  name: [24, 18, 4],
                  xS: [C, K, E.M9],
                  bx: !0
              }],
              xn: [{
                  c: c.E.A,
                  F: u.sE,
                  o: {
                      e: "applylast"
                  }
              }]
          };
          for (var G = 0; G < ef.Wq.length; G++) {
              var g = ef.Wq[G];
              if (g.ja != null) {
                  L.items.push({
                      name: ef.names[g.ja],
                      mv: !0,
                      bx: g.bx
                  });
                  L.xn.push({
                      c: c.E.A,
                      F: u.sE,
                      o: {
                          e: "start",
                          bN: g.ja
                      }
                  });
                  continue
              }
              var I = {
                  name: g.Qp,
                  sub: []
              };
              L.items.push(I);
              var h = {
                  sub: []
              };
              L.xn.push(h);
              for (var o = 0; o < g.LT.length; o++) {
                  var H = {
                      name: ef.names[g.LT[o]],
                      mv: ef.Sk(g.LT[o]) != null
                  };
                  I.sub.push(H);
                  var A = {
                      c: c.E.A,
                      F: u.sE,
                      o: {
                          e: "start",
                          bN: g.LT[o]
                      }
                  };
                  h.sub.push(A)
              }
          }
          return L
      }(), {
          name: [0, 7],
          items: [{
              name: [8, 0],
              xS: [K, E.Va]
          }, {
              name: [8, 1],
              xS: [K, E.ih]
          }, {
              name: [20, 3],
              xS: [K, E.lS]
          }, {
              name: [20, 2],
              xS: [K, E.kP],
              bx: !0
          }, {
              name: "Extras",
              xS: [K, E.Xi],
              Q: function(L, g) {
                  return {
                      Sa: g.NN
                  }
              }
          }, {
              name: [8, 12],
              bx: !0,
              sub: [{
                  name: [17, 2],
                  Q: function(L, g) {
                      return {
                          Q: g.NN,
                          Sa: g.bA.D1
                      }
                  }
              }, {
                  name: [8, 9],
                  Q: function(L, g) {
                      return {
                          Q: g.NN,
                          Sa: g.bA.xq
                      }
                  }
              }, {
                  name: [8, 2],
                  Q: function(L, g) {
                      return {
                          Q: g.NN,
                          Sa: g.bA.rJ
                      }
                  },
                  xS: [K, E.EY]
              }, {
                  name: [8, 4],
                  Q: function(L, g) {
                      return {
                          Q: g.NN,
                          Sa: g.bA.NG
                      }
                  },
                  xS: [K, E.T0]
              }, {
                  name: [8, 8],
                  Q: function(L, g) {
                      return {
                          Q: g.NN,
                          Sa: g.bA.RQ
                      }
                  }
              }, {
                  name: [8, 11, 0],
                  Q: function(L, g) {
                      return {
                          Q: g.NN,
                          Sa: g.bA.jX
                      }
                  }
              }]
          }, {
              name: [8, 3],
              Q: function(L, g) {
                  return {
                      Sa: g.Q4
                  }
              },
              xS: [K, E.Yb],
              bx: !0
          }, {
              name: [8, 5],
              Q: function(L, g) {
                  return {
                      Sa: g.vQ
                  }
              }
          }, {
              name: [8, 6],
              bx: !0,
              sub: [{
                  name: [8, 2],
                  Q: function(L, g) {
                      return {
                          Sa: g.H2[0]
                      }
                  }
              }, {
                  name: [8, 4],
                  Q: function(L, g) {
                      return {
                          Sa: g.H2[1]
                      }
                  }
              }, {
                  name: [9, 1],
                  Q: function(L, g) {
                      return {
                          Sa: g.H2[2]
                      }
                  }
              }, {
                  name: [8, 11, 0],
                  Q: function(L, g) {
                      return {
                          Sa: g.H2[3]
                      }
                  }
              }, {
                  name: [8, 7],
                  Q: function(L, g) {
                      return {
                          Sa: g.H2[4]
                      }
                  }
              }]
          }, {
              name: [11, 15, 0],
              Q: function(L, g) {
                  return {
                      Q: L != null
                  }
              }
          }, {
              name: [11, 14],
              Q: function(L, g) {
                  return {
                      Q: L != null
                  }
              },
              mv: !0
          }, {
              name: [11, 15, 1],
              Q: function(L, g) {
                  return {
                      Q: L != null && L.C.length != 0
                  }
              }
          }],
          xn: [{
              c: c.E.A,
              F: u.L7,
              o: {
                  e: "zoom",
                  MS: !0
              }
          }, {
              c: c.E.A,
              F: u.L7,
              o: {
                  e: "zoom",
                  MS: !1
              }
          }, {
              c: c.E.A,
              F: u.L7,
              o: {
                  e: "adapt",
                  G: "fitscr"
              }
          }, {
              c: c.E.A,
              F: u.L7,
              o: {
                  e: "adapt",
                  G: "pixel"
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.H7,
                  KG: dp.kU
              }
          }, {
              sub: [{
                  c: c.E.P,
                  o: {
                      e: c.f.H7,
                      KG: dp.hJ
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.H7,
                      KG: dp._w
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.H7,
                      KG: dp.vw
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.H7,
                      KG: dp.Db
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.H7,
                      KG: dp.cl
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.H7,
                      KG: dp.KO
                  }
              }]
          }, {
              c: c.E.P,
              o: {
                  e: c.f.H7,
                  KG: dp.K_
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.H7,
                  KG: dp.pt
              }
          }, {
              sub: [{
                  c: c.E.P,
                  o: {
                      e: c.f.H7,
                      KG: dp.X9,
                      hT: 0
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.H7,
                      KG: dp.X9,
                      hT: 1
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.H7,
                      KG: dp.X9,
                      hT: 2
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.H7,
                      KG: dp.X9,
                      hT: 3
                  }
              }, {
                  c: c.E.P,
                  o: {
                      e: c.f.H7,
                      KG: dp.X9,
                      hT: 4
                  }
              }]
          }, {
              c: c.E.A,
              F: u.Sm,
              o: {
                  e: "gids",
                  B8: [[], []]
              }
          }, {
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "addguides"
              }
          }, {
              c: c.E.A,
              F: u.Sm,
              o: {
                  e: "gidsFromLayer"
              }
          }]
      }, function() {
          var L = {
              name: [0, 8],
              items: [{
                  name: [0, 14],
                  bx: !0,
                  sub: []
              }],
              xn: [{
                  sub: []
              }]
          };
          for (var G = 0; G < e5.ty.length; G++) {
              var g = e5.ty[G];
              (g.yR ? L.items[0].sub : L.items).push({
                  name: g.CP.name
              });
              (g.yR ? L.xn[0].sub : L.xn).push({
                  c: c.E.P,
                  o: {
                      e: c.f.zl,
                      KN: g.CP.iJ
                  }
              })
          }
          return L
      }(), function() {
          var L = {
              name: [0, 14],
              items: [],
              xn: []
          }
            , g = {
              name: [0, 9],
              sub: []
          };
          L.items.push(g);
          var I = {
              sub: []
          };
          L.xn.push(I);
          var h = i2.a5O();
          for (var G = 0; G < h.length; G++) {
              var o = h[G]
                , H = o.code
                , A = i2.Kj(H);
              g.sub.push({
                  name: o.name,
                  xS: H,
                  Q: function(S, v) {
                      return {
                          Sa: this.xS == i2.WG()
                      }
                  }
              });
              I.sub.push({
                  c: c.E.P,
                  o: {
                      e: c.f.H7,
                      KG: dp.td,
                      lang: A
                  }
              })
          }
          g.sub.push({
              name: [0, 12]
          });
          I.sub.push({
              c: c.E.P,
              o: {
                  e: c.f.oc,
                  link: "https://www.photopea.com/translate/"
              }
          });
          var g = {
              name: [0, 15],
              sub: []
          };
          L.items.push(g);
          var I = {
              sub: []
          };
          L.xn.push(I);
          for (var G = 0; G < cr.zI.length; G++) {
              g.sub.push({
                  name: cr.zI[G].name,
                  Q: function(S, v) {
                      return {
                          Sa: this.name == cr.zI[v.fn].name
                      }
                  }
              });
              I.sub.push({
                  c: c.E.P,
                  o: {
                      e: c.f.H7,
                      KG: dp.W0,
                      fn: G
                  }
              })
          }
          L.items.push({
              name: [0, 17, 6],
              Q: function(S, v) {
                  return {
                      Q: v.kh != null
                  }
              }
          });
          L.xn.push({
              c: c.E.P,
              o: {
                  e: c.f.SK
              }
          });
          L.items.push({
              name: [11, 13]
          });
          L.xn.push({
              c: c.E.P,
              o: {
                  e: c.f.eQ,
                  KN: "shortcuts"
              }
          });
          L.items.push({
              name: [0, 16],
              Q: function(S) {
                  return {
                      Sa: Y.vD,
                      Q: Y.gn
                  }
              }
          });
          L.xn.push({
              c: c.E.P,
              o: {
                  e: c.f.jh
              }
          });
          return L
      }()]
  }();
  function ak() {
      aB.call(this);
      this.j = c.w("div", "");
      this.R9 = 0;
      this.dA = 0;
      this.Mi = null;
      this.v1 = c.w("div", "");
      this.v1.setAttribute("style", "width:200em; height:100em; position:absolute;");
      this.X0 = [];
      this.jA = [];
      this.BY = {}
  }
  ak.prototype = new aB;
  ak.prototype.AW = function(E) {
      var K = Date.now()
        , i = [];
      if (E == "-")
          i = [new bn, new fR, new gm, new ah, new iw, new b7, new cI, new cA, new cp, new fK, new fo, new gi, new c0, new d6, new fY, new eF, new c8, new iI, new a$, new d3, new hG, new aD, new bt, new eK, new cl, new aR, new ap(0), new ap(1), new cL, new g3, new ij, new f5, new dK, new gA, new eL("border",[7, 9],"px"), new eL("smoothness",[19, 3, 0],"px"), new eL("expand",[7, 4],"px"), new eL("contract",[7, 5],"px"), new eL("feather",[7, 6],"px"), new db(0,"namewindow",[12, 48]), new db(1,"cornerradius",[12, 94, 0],"px",!0), new db(1,"scaleeffects","Scale Effects","%",!0), new db(1,"doczoom","Zoom","%",!0)];
      else
          i = [new fB(E.slice(4))];
      this.a4V(i);
      this.BY[E] = !0
  }
  ;
  ak.prototype.a4V = function(E) {
      var K = this.Mi;
      for (var G = 0; G < E.length; G++) {
          var i = E[G];
          i.parent = this;
          this.jA.push(i);
          this.fG(i);
          i.B();
          if (K)
              i.bX(K, dp.iW);
          i.k(c.E.s3, this.nx, this)
      }
  }
  ;
  ak.prototype.FY = function(E, K) {
      this.R9 = E;
      this.dA = K;
      for (var G = 0; G < this.jA.length; G++)
          this.fG(this.jA[G])
  }
  ;
  ak.prototype.B = function() {
      for (var G = 0; G < this.jA.length; G++)
          this.jA[G].B()
  }
  ;
  ak.prototype.$z = function() {
      return this.X0.length == 0 ? null : this.X0[this.X0.length - 1]
  }
  ;
  ak.prototype.cn = function() {
      for (var G = 0; G < this.X0.length; G++)
          if (this.X0[G].cn())
              return !0;
      return !1
  }
  ;
  ak.prototype.ajd = function(E, K, i, C, N) {
      var k = E.startsWith("afw_")
        , V = null;
      if (!k && !this.BY["-"])
          this.AW("-");
      if (k && !this.BY[E])
          this.AW(E);
      if (typeof E == "object") {
          V = E;
          if (!V.Dh(c.E.s3, this.nx))
              V.k(c.E.s3, this.nx, this);
          V.parent = this
      } else
          for (var G = 0; G < this.jA.length; G++)
              if (this.jA[G].id == E)
                  V = this.jA[G];
      if (this.cn() && V.cn()) {
          alert("Finish the current action first");
          return
      }
      if (!V.N$(K))
          return;
      if (this.X0.indexOf(V) != -1) {
          if (E == "colorpicker")
              V.MN(K, i, C, N);
          return
      }
      var j = this.X0.length - 1;
      if (j >= 0)
          c.U8(this.X0[j].j, "wdisabled");
      this.j.appendChild(V.j);
      this.X0.push(V);
      this.fG(V);
      V.MN(K, i, C, N)
  }
  ;
  ak.prototype.fG = function(E) {
      var K = this.R9, i = this.dA, C = E.yV(K, i), N;
      if (C != null) {
          N = C
      } else {
          C = new bT(0,0);
          N = E.ajO();
          if (N == null) {
              var k = this.X0.indexOf(E) + 1;
              if (K < 450 || i < 450)
                  N = new bT(0,0);
              else
                  N = new bT(k * 150,k * 150)
          }
      }
      E.j.style.left = N.x + "px";
      E.j.style.top = this.j.offsetTop + N.y + "px";
      E.FY(this.R9 - C.x * 2, this.dA - C.y * 2 - 34)
  }
  ;
  ak.prototype.bX = function(E, K) {
      this.Mi = E;
      for (var G = 0; G < this.jA.length; G++)
          this.jA[G].bX(E, K)
  }
  ;
  ak.prototype.nx = function(E) {
      var K = this.X0.pop();
      this.j.removeChild(K.j);
      var i = this.X0.length - 1;
      if (i >= 0)
          c.lD(this.X0[i].j, "wdisabled");
      if (this.v1.parentNode == this.j)
          this.j.removeChild(this.v1)
  }
  ;
  window.onload = function() {
      var E = new bO;
      document.body.appendChild(E.j)
  }
}())
