(function() {
  function ie() {
      this.m2 = {};
      this.Rq = {}
  }
  ie.BI = [];
  ie.Z2 = function(n) {
      var z = ie.BI;
      if (z.length != 0) {
          var C = new u(l.E.n6);
          for (var M = 0; M < z.length; M++)
              z[M].f(C)
      }
      window.requestAnimationFrame(ie.Z2)
  }
  ;
  window.requestAnimationFrame(ie.Z2);
  ie.prototype.Gz = function(n) {
      var z = this.m2[n];
      if (z == null)
          return !1;
      return z.length > 0
  }
  ;
  ie.prototype.addEventListener = function(n, z) {
      this.s(n, z, null)
  }
  ;
  ie.prototype.s = function(n, z, C) {
      if (this.m2[n] == null) {
          this.m2[n] = [];
          this.Rq[n] = []
      }
      this.m2[n].push(z);
      this.Rq[n].push(C);
      if (n == l.E.n6) {
          var D = ie.BI;
          if (D.indexOf(this) == -1)
              D.push(this)
      }
  }
  ;
  ie.prototype.removeEventListener = function(n, z) {
      var C = this.m2[n];
      if (C == null)
          return;
      var D = C.indexOf(z);
      if (D < 0)
          return;
      var F = this.Rq[n];
      C.splice(D, 1);
      F.splice(D, 1);
      if (n == l.E.n6 && C.length == 0) {
          var X = ie.BI;
          X.splice(X.indexOf(this), 1)
      }
  }
  ;
  ie.prototype.f = function(n) {
      n.currentTarget = this;
      if (n.target == null)
          n.target = this;
      var z = this.m2[n.type];
      if (z == null)
          return;
      var C = this.Rq[n.type];
      for (var M = 0; M < z.length; M++) {
          if (C[M] == null)
              z[M](n);
          else
              z[M].call(C[M], n)
      }
  }
  ;
  function dM() {
      this.Mr = {};
      this.fH = 0;
      this.qN();
      window.__kb = this
  }
  dM.ue = null;
  dM.prototype.qN = function() {
      var n = navigator.keyboard;
      if (n && window.top == window.self)
          n.getLayoutMap().then(function(z) {
              dM.ue = z
          })
  }
  ;
  dM.prototype.reset = function() {
      this.Mr = {};
      this.fH = 0
  }
  ;
  dM.prototype.St = function(n) {
      this.fH++;
      this.Mr[n] = !0
  }
  ;
  dM.prototype.pi = function(n) {
      this.fH--;
      delete this.Mr[n];
      if (this.fH <= 0 || dM.vA(n, dM.GC))
          this.reset()
  }
  ;
  dM.prototype.r = function(n) {
      for (var M = 0; M < n.D8.length; M++)
          if (this.Mr[n.D8[M]])
              return !0;
      return !1
  }
  ;
  dM.prototype.Sk = function() {
      var n = this
        , z = n.r(dM.Ms) ? 10 : 1
        , C = 0
        , D = 0;
      if (n.r(dM.Mv))
          C = -z;
      if (n.r(dM.UZ))
          C = z;
      if (n.r(dM.G4))
          D = -z;
      if (n.r(dM.L4))
          D = z;
      return new ir(C,D)
  }
  ;
  dM.prototype.HF = function() {
      var n = this
        , z = dM.s8;
      for (var M = 0; M < 10; M++)
          if (n.r(z[M]))
              return M;
      return -1
  }
  ;
  dM.vA = function(n, z) {
      return z.D8.indexOf(n) != -1
  }
  ;
  dM.Sy = function(n) {
      var z = n.code
        , F = !1;
      if (z == "")
          return !1;
      var C = dM.vA
        , D = dM.s8.concat([dM.Dm, dM.wj, dM.HA, dM.oj]);
      for (var M = 0; M < D.length; M++)
          if (C(z, D[M]))
              F = !0;
      if (n.altKey && !n.shiftKey && !n.ctrlKey && F)
          return !1;
      return dM.Ep.indexOf(z) == -1 || n.shiftKey && (z == "F5" || z == "F6")
  }
  ;
  dM.aas = function(n) {
      var z = n.code;
      return z != "" && (dM.Ep.indexOf(z) == -1 || n.shiftKey && (z == "F5" || z == "F6"))
  }
  ;
  dM.I3 = function(n) {
      if (typeof n == "string")
          return n;
      var z = navigator.platform.toUpperCase().indexOf("MAC") >= 0;
      if (n == null)
          return "";
      var C = [];
      for (var M = 0; M < n.length; M++) {
          var D = n[M].sO ? n[M].sO : n[M];
          if (z && n[M].FQ)
              D = n[M].FQ;
          C.push(D)
      }
      if (z || C.length == 1)
          return C.join(" + ");
      else {
          var F = C.pop();
          return C.join("+") + " + " + F
      }
  }
  ;
  dM.Ep = "ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
  dM.UT = function(n) {
      var z = n.code
        , C = dM.ue;
      if (C && C.get(z)) {
          var D = {
              "+": "NumpadAdd",
              "-": "NumpadSubtract",
              ".": "Period"
          }
            , F = C.get(z).toLowerCase()
            , X = F.charCodeAt(0);
          if (97 <= X && X <= 122) {
              var E = "Key" + F.toUpperCase();
              z = E
          } else if (D[F])
              z = D[F];
          return z
      }
      var D = {
          "+": "NumpadAdd",
          "-": "NumpadSubtract",
          ".": "Period"
      }
        , F = n.key.toLowerCase()
        , X = F.charCodeAt(0);
      if (F.length == 1) {
          if (97 <= X && X <= 122) {
              var E = "Key" + F.toUpperCase();
              z = E
          } else if (D[F])
              z = D[F]
      }
      if (F == "control" && z != "")
          z = "ControlLeft";
      return z
  }
  ;
  dM.a8q = {
      nm: "No Touch",
      D8: ["NoTouch"]
  };
  dM.BK = {
      sO: "Enter",
      D8: ["Enter", "NumpadEnter"]
  };
  dM.Ms = {
      sO: "Shift",
      FQ: "\u21E7",
      D8: ["ShiftLeft", "ShiftRight"]
  };
  dM.GC = {
      sO: "Meta",
      D8: ["MetaLeft", "MetaRight", "OSLeft", "OSRight"]
  };
  dM.BO = {
      sO: "Ctrl",
      FQ: "\u2318",
      D8: "ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")
  };
  dM.M2 = {
      sO: "Alt",
      FQ: "\u2325",
      D8: ["AltLeft", "AltRight"]
  };
  dM.a0S = {
      sO: "CtrlOrAlt",
      D8: dM.BO.D8.concat(dM.M2.D8)
  };
  dM.dM = {
      sO: "Escape",
      D8: ["Escape"]
  };
  dM.ye = {
      sO: "Space",
      D8: ["Space"]
  };
  dM.q5 = {
      sO: "Tab",
      D8: ["Tab"]
  };
  dM.aa1 = {
      sO: "Home",
      D8: ["Home"]
  };
  dM.an5 = {
      sO: "End",
      D8: ["End"]
  };
  dM.Mv = {
      sO: "Left",
      D8: ["ArrowLeft"]
  };
  dM.G4 = {
      sO: "Up",
      D8: ["ArrowUp"]
  };
  dM.UZ = {
      sO: "Right",
      D8: ["ArrowRight"]
  };
  dM.L4 = {
      sO: "Down",
      D8: ["ArrowDown"]
  };
  dM.Dm = {
      sO: "+",
      D8: ["NumpadAdd", "Equal"]
  };
  dM.wj = {
      sO: "-",
      D8: ["NumpadSubtract", "Minus", "Slash"]
  };
  dM.bM = {
      sO: ";",
      D8: ["Semicolon"]
  };
  dM.a5Q = {
      sO: "Dead",
      D8: ["Dead"]
  };
  dM.a6B = {
      sO: "=",
      D8: ["Equal"]
  };
  dM.fs = {
      sO: "Backspace",
      D8: ["Backspace"]
  };
  dM.as = {
      sO: "Delete",
      D8: ["Delete"]
  };
  dM.a9Z = {
      sO: "Backslash",
      D8: ["Backslash", "IntlBackslash"]
  };
  dM.akU = {
      sO: "Backquote",
      D8: ["Backquote"]
  };
  dM.HA = {
      sO: "[",
      D8: ["BracketLeft"]
  };
  dM.oj = {
      sO: "]",
      D8: ["BracketRight"]
  };
  dM.IA = {
      sO: ".",
      D8: ["Period"]
  };
  dM.a0w = {
      sO: ",",
      D8: ["Comma"]
  };
  dM.FP = {
      sO: "'",
      D8: ["Quote"]
  };
  dM.H = {
      sO: "A",
      D8: ["KeyA"]
  };
  dM.Gb = {
      sO: "B",
      D8: ["KeyB"]
  };
  dM.ph = {
      sO: "C",
      D8: ["KeyC"]
  };
  dM.kt = {
      sO: "D",
      D8: ["KeyD"]
  };
  dM.E = {
      sO: "E",
      D8: ["KeyE"]
  };
  dM.N4 = {
      sO: "F",
      D8: ["KeyF"]
  };
  dM.dh = {
      sO: "G",
      D8: ["KeyG"]
  };
  dM.cI = {
      sO: "H",
      D8: ["KeyH"]
  };
  dM.oW = {
      sO: "I",
      D8: ["KeyI"]
  };
  dM.LZ = {
      sO: "J",
      D8: ["KeyJ"]
  };
  dM.tA = {
      sO: "K",
      D8: ["KeyK"]
  };
  dM.u4 = {
      sO: "L",
      D8: ["KeyL"]
  };
  dM.nN = {
      sO: "M",
      D8: ["KeyM"]
  };
  dM.Mc = {
      sO: "N",
      D8: ["KeyN"]
  };
  dM.LK = {
      sO: "O",
      D8: ["KeyO"]
  };
  dM.N0 = {
      sO: "P",
      D8: ["KeyP"]
  };
  dM.JA = {
      sO: "Q",
      D8: ["KeyQ"]
  };
  dM.Mq = {
      sO: "R",
      D8: ["KeyR"]
  };
  dM.a$ = {
      sO: "S",
      D8: ["KeyS"]
  };
  dM.XB = {
      sO: "T",
      D8: ["KeyT"]
  };
  dM.sy = {
      sO: "U",
      D8: ["KeyU"]
  };
  dM.NH = {
      sO: "V",
      D8: ["KeyV"]
  };
  dM.aln = {
      sO: "W",
      D8: ["KeyW"]
  };
  dM.ft = {
      sO: "X",
      D8: ["KeyX"]
  };
  dM.a5W = {
      sO: "Y",
      D8: ["KeyY"]
  };
  dM.cf = {
      sO: "Z",
      D8: ["KeyZ"]
  };
  dM.yD = {
      sO: "0",
      D8: ["Numpad0", "Digit0"]
  };
  dM.Bv = {
      sO: "1",
      D8: ["Numpad1", "Digit1"]
  };
  dM.a4k = {
      sO: "2",
      D8: ["Numpad2", "Digit2"]
  };
  dM.aa7 = {
      sO: "3",
      D8: ["Numpad3", "Digit3"]
  };
  dM.a0y = {
      sO: "4",
      D8: ["Numpad4", "Digit4"]
  };
  dM.ahG = {
      sO: "5",
      D8: ["Numpad5", "Digit5"]
  };
  dM.a5s = {
      sO: "6",
      D8: ["Numpad6", "Digit6"]
  };
  dM.a6X = {
      sO: "7",
      D8: ["Numpad7", "Digit7"]
  };
  dM.acJ = {
      sO: "8",
      D8: ["Numpad8", "Digit8"]
  };
  dM.aeb = {
      sO: "9",
      D8: ["Numpad9", "Digit9"]
  };
  dM.s8 = [dM.yD, dM.Bv, dM.a4k, dM.aa7, dM.a0y, dM.ahG, dM.a5s, dM.a6X, dM.acJ, dM.aeb];
  dM.alR = {
      sO: "F1",
      D8: ["F1"]
  };
  dM.adx = {
      sO: "F2",
      D8: ["F2"]
  };
  dM.a82 = {
      sO: "F3",
      D8: ["F3"]
  };
  dM.a8P = {
      sO: "FF",
      D8: ["F4"]
  };
  dM.R5 = {
      sO: "F5",
      D8: ["F5"]
  };
  dM.ah5 = {
      sO: "F6",
      D8: ["F6"]
  };
  dM.aiS = {
      sO: "F7",
      D8: ["F7"]
  };
  dM.a6q = {
      sO: "F8",
      D8: ["F8"]
  };
  dM.a9Y = {
      sO: "F9",
      D8: ["F9"]
  };
  dM.a9R = {
      sO: "F10",
      D8: ["F10"]
  };
  dM.aa0 = {
      sO: "F11",
      D8: ["F11"]
  };
  dM.ajq = {
      sO: "F12",
      D8: ["F12"]
  };
  function ht() {
      ie.call(this);
      this.gJ = {};
      this.mM = {};
      this.a7D = 0;
      this.aha = {};
      this.J5 = [];
      this.amr = 0;
      ht.sM = this
  }
  ht.prototype = new ie;
  ht.afJ = function(n, z) {
      var M = 0
        , C = ht.pG;
      while (M < C.length) {
          if ((z >>> M & 1) == 1)
              break;
          M++
      }
      if (z == 0 || C[M][1] == "") {
          if ((z & 15) != 0 && ht.ZG(n, [33, 126]) > .7)
              M = 0;
          else if (z == 0)
              M = 0;
          else {
              M = 0
          }
      }
      return C[M][1]
  }
  ;
  ht.Z6 = 120;
  ht.Sf = 20;
  ht.cols = 16;
  ht.N9 = function(n) {
      var z = n.name.postScriptName;
      if (z == null)
          return null;
      return z.replace(/ /g, "-")
  }
  ;
  ht.tC = function(n) {
      var z = n.name
        , C = z.typoFamilyName ? z.typoFamilyName : z.fontFamily
        , D = z.typoSubfamilyName ? z.typoSubfamilyName : z.fontSubfamily
        , F = ht.ajY
        , X = C.toLowerCase();
      for (var M = 0; M < F.length; M++) {
          if (F[M] == "roman")
              continue;
          if (X.endsWith(" " + F[M]) || X.endsWith("-" + F[M])) {
              var E = C.length - F[M].length
                , f = C.slice(E);
              C = C.slice(0, E - 1);
              if (f != "") {
                  if (D == "Regular" || D == C + " Regular")
                      D = f;
                  else
                      D = f + " " + D
              }
              break
          }
      }
      var a = "BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
      for (var M = 0; M < a.length; M++)
          if (C.startsWith(a[M])) {
              var f = C.slice(a[M].length);
              C = a[M];
              if (f.startsWith(" ") || f.startsWith("-"))
                  f = f.slice(1);
              if (f != "") {
                  if (D == "Regular")
                      D = f;
                  else
                      D = f + " " + D
              }
              break
          }
      var q = {
          "Caudex-BoldItalic": "Bold Italic",
          "Comfortaa-Light": "Light",
          "Comfortaa-Medium": "Medium",
          "Comfortaa-SemiBold": "SemiBold",
          DevroyeSCOSF: "Regular SCOSF",
          DevroyeUnicode: "Regular Unicode",
          "LeagueScriptThin-Regular": "Regular",
          "Monda-Bold": "Bold",
          "Nobile-Bold": "Bold",
          "Oswald-BoldItalic": "Bold Italic",
          "Oswald-HeavyItalic": "Heavy Italic",
          "Oswald-LightItalic": "Light Italic",
          "Oswald-MediumItalic": "Medium Italic",
          "Oswald-RegularItalic": "Regular Italic",
          "PaloAlto-Italic": "Heavy Italic"
      }
        , c = q[ht.N9(n)];
      if (c)
          D = c;
      return [C, D]
  }
  ;
  ht.prototype.ajF = function(n) {
      var z = this.Z3();
      for (var C in z)
          if (z[C][0] == n)
              this.V4(C)
  }
  ;
  ht.prototype.V4 = function(n, z) {
      if (this.gJ[n])
          return this.gJ[n];
      if (this.mM[n])
          return null;
      var C = null
        , D = this.Z3();
      if (D[n] != null)
          C = D[n][5];
      if (C == null) {
          var F = ht.acr[n];
          if (F == null) {
              var X = "DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" ")
                , E = n.toLowerCase()
                , f = 0;
              if (E.indexOf("sans") != -1)
                  f = 0;
              else if (E.indexOf("serif") != -1)
                  f = 4;
              var a = E.indexOf("bold") != -1 || E.indexOf("-black") != -1
                , q = E.indexOf("italic") != -1 || E.indexOf("oblique") != -1 || E.endsWith("-it");
              if (a && q)
                  f += 3;
              else if (q)
                  f += 2;
              else if (a)
                  f += 1;
              F = X[f]
          }
          if (z != null && z > 128)
              F = this.Y8(z, F);
          if (this.aha[n] == null) {
              this.aha[n] = 1;
              var c = Date.now() - this.a7D > 2e3 ? 2e3 : 0;
              this.a7D = Date.now();
              alert(n + " \u27A1 " + F, c)
          }
          return this.V4(F, z)
      }
      this.mM[n] = "a";
      var K = new u(l.E.P,!0);
      K.data = {
          e: l.H.Om,
          G6: {
              url: "rsrc/fonts/" + C
          }
      };
      this.f(K)
  }
  ;
  ht.prototype.Y8 = function(n, z, C) {
      var D = this.gJ[z];
      if (D && Typr.U.codeToGlyph(D, n) != 0)
          return z;
      var F = this.Z3()
        , X = ht.amF(n)
        , E = X[0];
      if (F[z] && (F[z][3] & E) == 0) {
          if (C)
              for (var M = 0; M < C.length; M++) {
                  var f = C[M].Name
                    , a = F[f];
                  if (a && (a[3] & E) != 0)
                      return f
              }
          var f = ht.pG[X[1]][4];
          if (F[f])
              return f
      }
      return z
  }
  ;
  ht.amF = function(n) {
      var z = ht.pG
        , C = [0];
      for (var M = 0; M < z.length; M++) {
          var D = z[M][2];
          for (var F = 0; F < D.length; F += 2)
              if (D[F] <= n && n <= D[F + 1]) {
                  C[0] += 1 << M;
                  C.push(M)
              }
      }
      if (C.length == 1)
          C.push(0);
      return C
  }
  ;
  ht.prototype.a8v = function() {
      var n = this.J5
        , z = n[0]
        , C = n.length - 1;
      alert(aC.get([22, 6, 0]) + " " + z + (C == 0 ? "" : ", ... (" + C + ")") + " " + aC.get([23, 0]) + ".", 1500);
      this.J5 = []
  }
  ;
  ht.prototype.anM = function(n, z) {
      if (z != !0) {
          this.J5.push(n.name.fullName);
          clearTimeout(this.amr);
          this.amr = setTimeout(this.a8v.bind(this), 300)
      }
      var C = ht.N9(n)
        , D = this.Z3()
        , F = D[C]
        , X = ht.alA(n);
      if (F == null) {
          var E = document.createElement("canvas")
            , f = E.getContext("2d");
          E.width = ht.Z6;
          E.height = ht.Sf;
          var a = ht.Sf * 1.2 / n.head.unitsPerEm;
          f.translate(4, ht.Sf * .9);
          f.scale(a, -a);
          f.fillStyle = "#000000";
          var q = Typr.U.shape(n, ht.afJ(n, X[3]), !0);
          Typr.U.pathToContext(Typr.U.shapeToPath(n, q), f);
          f.fill();
          X.a7I = E.toDataURL();
          this.NF(X)
      }
      delete this.mM[C];
      this.gJ[C] = n
  }
  ;
  ht.apd = function() {
      var n = ht.pG
        , z = [];
      for (var M = 0; M < n.length; M++)
          z.push(n[M][0]);
      return z
  }
  ;
  ht.pG = [["Latin-1", "Preview", [161, 169, 192, 246, 248, 255], .7, "DejaVuSans"], ["Latin Ext. A", "", [256, 383], .7, "DejaVuSans"], ["Greek", "", [913, 929, 931, 969], .7, "DejaVuSans"], ["Cyrillic", "", [1040, 1119], .7, "DejaVuSans"], ["Hebrew", "", [1473, 1479, 1488, 1514, 1520, 1524], .7, "DejaVuSans"], ["Arabic", "", [1569, 1594, 1600, 1749], .4, "DejaVuSans"], ["Hangul", "\uC608\uACE0\uD3B8", [4352, 4607, 44032, 55203], .7, "NotoSansKR-Regular"], ["Chi-Jap-Kor", "\u9810\u7FD2", [12288, 12351, 12352, 12447, 12448, 12543, 19968, 40895], .05, "DroidSansFallback"], ["Tibetan", "\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D", [3840, 3948, 3953, 4044], .7, "NotoSansTibetan"], ["Devanagari", "\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928", [2304, 2431], .7, "Hind-Regular"], ["Thai", "\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07", [3585, 3642, 3647, 3675], .7, "K2D-Regular"], ["Khmer", "\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793", [6016, 6109, 6112, 6121, 6128, 6137], .7, "Battambang-Regular"], ["Vietnamese", "Xem tr\u01B0\u1EDBc", [192, 195, 200, 202, 204, 205, 210, 213, 217, 218, 221, 221, 224, 227, 232, 234, 236, 237, 242, 245, 249, 250, 253, 253, 258, 259, 272, 273, 296, 297, 360, 361, 416, 417, 431, 432, 7840, 7929], .95, "DejaVuSans"], ["Emoji", "", [9728, 10095, 127744, 129535], .01, "DejaVuSans"]];
  ht.alA = function(n, z, C) {
      var D = n.name
        , a = 0;
      if (ht.N9(n) == null) {
          console.log(n);
          throw "No postScriptName!"
      }
      var F = ht.pG
        , X = [];
      for (var M = 0; M < F.length; M++) {
          var E = F[M][2]
            , f = F[M][3];
          X[M] = ht.ZG(n, E) > f ? 1 : 0
      }
      for (var M = 0; M < X.length; M++)
          a += X[M] << M;
      var q = ht.tC(n);
      return [q[0], q[1], ht.N9(n), a, C, z]
  }
  ;
  ht.ZG = function(n, z) {
      var C = 0
        , D = 0;
      for (var F = 0; F < z.length; F += 2) {
          for (var X = z[F]; X <= z[F + 1]; X++) {
              var E = Typr.U.codeToGlyph(n, X);
              if (E == 0)
                  D++;
              else
                  C++
          }
      }
      return C / (C + D)
  }
  ;
  ht.ap8 = function(n, z) {
      if (n[2] < z[2])
          return -1;
      if (n[2] > z[2])
          return 1;
      return 0
  }
  ;
  ht.a4_ = function(n, z) {
      if (n[5] == "fs/" + n[2] + ".otf")
          n[5] = "";
      else if (n[5] == "gf/" + n[2] + ".otf")
          n[5] = "a";
      if (n[2] == (n[0] + "-" + n[1]).replace(/\s/g, "")) {
          n[2] = ""
      } else if (n[2] == n[0].replace(/\s/g, "")) {
          n[2] = "a"
      }
      if (z) {
          if (n[0] == z[0])
              n[0] = "";
          if (n[1] == z[1])
              n[1] = "";
          if (n[3] == z[3])
              n[3] = "";
          if (n[4] == z[4])
              n[4] = ""
      }
      return n.join(",")
  }
  ;
  ht.a6S = function(n, z) {
      n = n.split(",");
      if (n[0] == "")
          n[0] = z[0];
      if (n[1] == "")
          n[1] = z[1];
      if (n[3] == "")
          n[3] = z[3];
      else
          n[3] = parseInt(n[3]);
      if (n[4] == "")
          n[4] = z[4];
      else
          n[4] = parseInt(n[4]);
      if (n[2] == "")
          n[2] = (n[0] + "-" + n[1]).replace(/\s/g, "");
      else if (n[2] == "a")
          n[2] = n[0].replace(/\s/g, "");
      if (n[5] == "")
          n[5] = "fs/" + n[2] + ".otf";
      else if (n[5] == "a")
          n[5] = "gf/" + n[2] + ".otf";
      return n
  }
  ;
  ht.acr = {
      ArialMT: "LiberationSans",
      "Arial-BoldMT": "LiberationSans-Bold",
      "Arial-ItalicMT": "LiberationSans-Italic",
      "Arial-BoldItalicMT": "LiberationSans-BoldItalic",
      TimesNewRomanPSMT: "LiberationSerif",
      "TimesNewRomanPS-BoldMT": "LiberationSerif-Bold",
      "TimesNewRomanPS-ItalicMT": "LiberationSerif-Italic",
      "TimesNewRomanPS-BoldItalicMT": "LiberationSerif-BoldItalic",
      CourierNewPSMT: "LiberationMono",
      "CourierNewPS-BoldMT": "LiberationMono-Bold",
      "CourierNewPS-ItalicMT": "LiberationMono-Italic",
      "CourierNewPS-BoldItalicMT": "LiberationMono-BoldItalic",
      Courier: "CourierPrime",
      TrebuchetMS: "SourceSansPro-Regular",
      "TrebuchetMS-Bold": "SourceSansPro-Semibold",
      "TrebuchetMS-Italic": "SourceSansPro-It",
      "TrebuchetMS-BoldItalic": "SourceSansPro-SemiboldIt",
      "Times-Roman": "LiberationSerif",
      Impact: "Anton-Regular",
      Calibri: "SourceSansPro-Regular",
      "Calibri-Italic": "SourceSansPro-It",
      "Calibri-Bold": "SourceSansPro-Bold",
      CalibriBold: "SourceSansPro-Bold",
      "Times-Roman": "LiberationSerif",
      "Times-Italic": "LiberationSerif-Italic",
      "Times-Bold": "LiberationSerif-Bold",
      "Helvetica-Bold": "LiberationSans-Bold",
      "HelveticaNeue-Thin": "Roboto-Thin",
      "HelveticaNeue-Light": "Roboto-Light",
      HelveticaNeue: "Roboto-Regular",
      "HelveticaNeue-Roman": "Roboto-Regular",
      "HelveticaNeue-Medium": "Roboto-Medium",
      "HelveticaNeue-Bold": "Roboto-Bold",
      "HelveticaNeue-BoldItalic": "Roboto-BoldItalic",
      "HelveticaNeue-Black": "Roboto-Black",
      "HelveticaNeue-Heavy": "Roboto-Black",
      "SFProText-Light": "Roboto-Light",
      "SFProText-Regular": "Roboto-Regular",
      "SFProText-Roman": "Roboto-Regular",
      "SFProText-Medium": "Roboto-Medium",
      "SFProText-Semibold": "Roboto-Medium",
      "SFProText-Bold": "Roboto-Bold",
      "SFProText-BoldItalic": "SFProText-BoldItalic",
      "SFProText-Black": "Roboto-Black",
      "SFProText-Heavy": "Roboto-Black",
      "SFProDisplay-Light": "Roboto-Light",
      "SFProDisplay-Regular": "Roboto-Regular",
      "SFProDisplay-Roman": "Roboto-Regular",
      "SFProDisplay-Medium": "Roboto-Medium",
      "SFProDisplay-Semibold": "Roboto-Medium",
      "SFProDisplay-Bold": "Roboto-Bold",
      "SFProDisplay-BoldItalic": "SFProDisplay-BoldItalic",
      "SFProDisplay-Black": "Roboto-Black",
      "SFProDisplay-Heavy": "Roboto-Black",
      "SFUIText-Light": "Roboto-Light",
      "SFUIText-Regular": "Roboto-Regular",
      "SFUIText-Roman": "Roboto-Regular",
      "SFUIText-Medium": "Roboto-Medium",
      "SFUIText-Semibold": "Roboto-Medium",
      "SFUIText-Bold": "Roboto-Bold",
      "SFUIText-BoldItalic": "SFUIText-BoldItalic",
      "SFUIText-Black": "Roboto-Black",
      "SFUIText-Heavy": "Roboto-Black",
      Verdana: "DejaVuSans",
      "Verdana-Bold": "DejaVuSans-Bold",
      "Verdana-Italic": "DejaVuSans-Oblique",
      "Verdana-BoldItalic": "DejaVuSans-BoldOblique",
      "MyriadPro-Regular": "PTSans-Regular",
      "MyriadPro-Bold": "PTSans-Bold",
      "MyriadPro-LightIt": "PTSans-Italic",
      "MyriadPro-Semibold": "PTSans-Bold",
      "MyriadPro-BlackCond": "PTSans-NarrowBold",
      Cambria: "Oranienbaum-Regular",
      Georgia: "CharisSIL",
      "Georgia-Bold": "CharisSIL-Bold",
      "Georgia-Italic": "CharisSIL-Italic",
      "Georgia-BoldItalic": "CharisSIL-BoldItalic",
      "AGaramondPro-Regular": "EBGaramond08-Regular",
      "AGaramondPro-Bold": "EBGaramond08-Bold",
      "AGaramondPro-Italic": "EBGaramond08-Italic",
      Garamond: "EBGaramond08-Regular",
      FontAwesome: "FontAwesome5FreeSolid",
      "ProximaNova-Regular": "Metropolis-Regular",
      "ProximaNova-Semibold": "Metropolis-SemiBold",
      "ProximaNova-Light": "Metropolis-Light",
      BellMT: "GalatiaSIL",
      PalatinoLinotype: "TeXGyrePagella-Regular",
      "PalatinoLinotype-Bold": "TeXGyrePagella-Bold",
      "PalatinoLinotype-Italic": "TeXGyrePagella-Italic",
      "PalatinoLinotype-BoldItalic": "TeXGyrePagella-BoldItalic"
  };
  ht.prototype.Z3 = function() {
      if (FNTS.map == null) {
          var n = FNTS.list
            , z = [];
          for (var M = 0; M < n.length; M++) {
              z[M] = ht.a6S(n[M], z[M - 1]);
              z[M].kB = M;
              this.NF(z[M])
          }
      }
      return FNTS.map
  }
  ;
  ht.prototype.NF = function(n) {
      var z = n[0]
        , C = n[1]
        , D = n[5];
      if (FNTS.map == null)
          FNTS.map = {};
      FNTS.map[n[2]] = n;
      if (FNTS.mapFS == null)
          FNTS.mapFS = {};
      var F = FNTS.mapFS[z + "---" + C];
      FNTS.mapFS[z + "---" + C] = n;
      if (FNTS.mapSub == null)
          FNTS.mapSub = {};
      var X = FNTS.mapSub[z];
      if (X == null)
          X = FNTS.mapSub[z] = [];
      var E = X.indexOf(C);
      if (E == -1)
          X.push(C);
      else
          X[E] = C
  }
  ;
  ht.aiy = function(n, z) {
      return ht.Ye(n) - ht.Ye(z)
  }
  ;
  ht.Ye = function(n) {
      n = n.toLowerCase();
      var z = ht.a0Q(n) + (ht.afn(n) << 1);
      if (n.indexOf("cond") == -1)
          z += 1 << 25;
      return z
  }
  ;
  ht.a0Q = function(n) {
      return n.indexOf("italic") != -1 || n.indexOf("oblique") != -1 ? 1 : 0
  }
  ;
  ht.ajY = "two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
  ht.apt = ["two", "four", "eight", "hair", "thin", "ultralight", "extralight", "light", ["regular", "roman", "book"], "medium", ["semibold", "demibold"], "bold", "extrabold", "heavy", "ultra", "black", "x black"];
  ht.afn = function(n) {
      var z = ht.apt
        , C = -1
        , D = -1;
      for (var M = 0; M < z.length; M++) {
          var F = z[M];
          if (F instanceof Array)
              for (var X = 0; X < F.length; X++) {
                  var E = F[X];
                  if (n.indexOf(E) != -1 && (C == -1 || D < E.length)) {
                      C = M;
                      D = E.length
                  }
              }
          else if (n.indexOf(F) != -1 && (C == -1 || D < F.length)) {
              C = M;
              D = F.length
          }
      }
      if (C == -1)
          C = 8;
      return C
  }
  ;
  ht.Np = function(n, z) {
      var C = 1e9
        , D = null
        , F = ht.Ye(z);
      for (var M = 0; M < n.length; M++) {
          var X = Math.abs(ht.Ye(n[M]) - F);
          if (X < C) {
              C = X;
              D = n[M]
          }
      }
      return D
  }
  ;
  ht.prototype.aa = function(n, z) {
      this.Z3();
      return FNTS.mapFS[n + "---" + z]
  }
  ;
  ht.prototype.wy = function(n) {
      this.Z3();
      return FNTS.mapSub[n]
  }
  ;
  ht.prototype.apQ = function() {
      this.Z3();
      return FNTS.mapSub
  }
  ;
  var a5 = {
      b6: 0,
      NW: null,
      PT: null,
      dN: null,
      z9: null,
      aL: null,
      yw: !0,
      O9: 0,
      a5: !1
  };
  a5.Mx = function() {
      var n = l.wK(24) ? " " : ""
        , z = l.ZJ[l.jb("Uu," + n)];
      z = z[l.jb(n + "$/")];
      return a5.Ko() != null && a5.Ko()[l.WM("!&|'&50")] * 50 > z() / 20
  }
  ;
  a5.Zj = function() {
      return a5.a6$() != null
  }
  ;
  a5.Ko = function() {
      return a5.aL
  }
  ;
  a5.Yw = function(n) {
      window.addEventListener("message", a5.a5K, !1);
      setInterval(a5.Fh, 5e3);
      if (a5.Zj()) {
          a5.NW = n;
          a5.VD()
      } else
          setTimeout(n, 1)
  }
  ;
  a5.Fh = function() {
      if (a5.Zj() && a5.a5) {
          a5.D4(a5.lW());
          a5.a5 = !1
      }
  }
  ;
  a5.KS = function(n) {
      a5.NW = n;
      var z = "https://www.photopea.com/papi/login.php?redirect=" + encodeURIComponent(window.location.href);
      a5.dN = window.open(z, "_blank")
  }
  ;
  a5.acW = function() {
      localStorage.removeItem(a5.b6 + "_uid");
      localStorage.removeItem(a5.b6 + "_provider");
      localStorage.removeItem(a5.b6 + "_token");
      a5.aL = null
  }
  ;
  a5.a5K = function(n) {
      if (n.data instanceof ArrayBuffer || n.data instanceof Object)
          return;
      if (n.data.charAt(0) != "{")
          return;
      var z = JSON.parse(n.data);
      if (z.prms == null)
          return;
      var C = z.prms.split(",");
      if (C[0] == "papi_logged_in") {
          localStorage[a5.b6 + "_uid"] = C[1];
          a5.Kf(C[2]);
          localStorage[a5.b6 + "_provider"] = C[3];
          a5.dN.close();
          a5.VD()
      }
      if (C[0] == "payment_complete") {
          a5.z9.close();
          a5.VD()
      }
  }
  ;
  a5.a6$ = function() {
      var n = localStorage[a5.b6 + "_token"];
      if (n != null && Date.now() * .001 + 10 < parseInt(n.split("-")[0]))
          return n;
      return null
  }
  ;
  a5.Kf = function(n) {
      var z = localStorage[a5.b6 + "_token"];
      if (z != null && parseInt(n.split("-")[0]) < parseInt(z.split("-")[0]))
          return;
      localStorage[a5.b6 + "_token"] = n;
      clearTimeout(a5.O9);
      a5.O9 = setTimeout(a5.acc, Math.min(1e9, parseInt(n.split("-")[0]) * 1e3 - Date.now() - 20 * 1e3))
  }
  ;
  a5.acc = function() {
      var n = new XMLHttpRequest;
      n.open("POST", "https://www.photopea.com/papi/record_new.php", !0);
      n.onload = a5.a5G;
      var z = a5.gt(0) + "&read=2";
      n.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      n.send(z)
  }
  ;
  a5.VD = function() {
      var n = new XMLHttpRequest;
      n.open("POST", "https://www.photopea.com/papi/record_new.php", !0);
      n.onload = a5.aeI;
      var z = a5.gt(0) + "&read=1";
      n.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      n.send(z)
  }
  ;
  a5.D4 = function(n) {
      var z = new XMLHttpRequest;
      z.open("POST", "https://www.photopea.com/papi/record_new.php", !0);
      z.onload = a5.aix;
      var C = a5.gt(0) + "&read=0&score=" + (n.tpl ? 1 : 0) + "&spublic=" + a5.yw + "&record=" + encodeURIComponent(JSON.stringify(n));
      z.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      z.send(C)
  }
  ;
  a5.aeI = function(n) {
      var z = JSON.parse(n.target.response);
      if (z.error) {} else {
          a5.aL = z.user;
          var C = a5.lW()
            , D = z.record;
          if (z.record) {
              a5.yw = z.spublic;
              a5.f9(D)
          } else if (C)
              a5.D4(C)
      }
      a5.Kf(z.token);
      if (a5.NW) {
          a5.NW();
          a5.NW = null
      }
      if (a5.PT) {
          a5.PT();
          a5.PT = null
      }
  }
  ;
  a5.a5G = function(n) {
      var z = JSON.parse(n.target.response);
      a5.Kf(z.token)
  }
  ;
  a5.aix = function(n) {
      var z = JSON.parse(n.target.response);
      a5.Kf(z.token);
      if (a5.PT)
          a5.VD()
  }
  ;
  a5.gt = function(n) {
      return "app=" + n + "&uid=" + localStorage[a5.b6 + "_uid"] + "&token=" + localStorage[a5.b6 + "_token"]
  }
  ;
  a5.fO = function() {
      return a5.lW()
  }
  ;
  a5.dZ = function(n, z) {
      a5.f9(n);
      a5.a5 = !0;
      if (z) {
          a5.PT = z;
          a5.Fh()
      }
  }
  ;
  a5.lW = function() {
      var n = localStorage[a5.b6 + "_stateLocal"], z;
      if (n == null)
          return null;
      try {
          z = JSON.parse(n)
      } catch (aC) {
          return null
      }
      return z
  }
  ;
  a5.f9 = function(n) {
      var z = JSON.stringify(n);
      localStorage[a5.b6 + "_stateLocal"] = z
  }
  ;
  a5.order = function(n, z, C) {
      a5.NW = C;
      var D = "https://www.photopea.com/papi/order.php?ptype=" + z + "&param=" + n + "&uid=" + localStorage[a5.b6 + "_uid"] + "&token=" + localStorage[a5.b6 + "_token"];
      a5.z9 = window.open(D, "_blank")
  }
  ;
  a5.a0j = function(n, z) {
      a5.NW = z;
      var C = "https://www.photopea.com/papi/insertKey.php?key=" + n + "&uid=" + localStorage[a5.b6 + "_uid"] + "&token=" + localStorage[a5.b6 + "_token"];
      a5.z9 = window.open(C, "_blank")
  }
  ;
  var aC = {};
  aC.zr = 0;
  aC.ZD = {};
  aC.$T = function(n) {
      var z = LNG.tables
        , C = z[n];
      if (typeof C == "string") {
          C = z[n] = aC.g3(C)
      }
      return C
  }
  ;
  aC.g3 = function(n) {
      var z = []
        , C = 0
        , D = 0
        , F = []
        , X = n.length;
      while (D != X) {
          var E = n[D];
          if (E == "[") {
              z.push(F);
              F = [];
              D = C = D + 1
          } else if (E == "]") {
              F.push(C == D ? null : n.substring(C, D));
              var f = F;
              F = z.pop();
              F.push(f);
              D = C = D + 1
          } else if (E == ";") {
              if (n[D - 1] != "]")
                  F.push(C == D ? null : n.substring(C, D));
              D = C = D + 1
          } else
              D++
      }
      return F
  }
  ;
  aC.get = function(n) {
      if (typeof n == "string")
          return n;
      var z = typeof n[0];
      if (z == "number") {
          for (var M = 1; M < n.length; M++)
              if (typeof n[M] != "number") {
                  console.log(n);
                  throw "e"
              }
          return aC.aoF(n)
      }
      var C = aC.get(n[0]);
      for (var M = 1; M < n.length; M++) {
          var D = aC.get(n[M])
            , F = C.indexOf("VAR" + (M - 1));
          C = C.slice(0, F) + D + C.slice(F + 4)
      }
      return C
  }
  ;
  aC.aoF = function(n) {
      var z = JSON.stringify(n);
      if (aC.ZD[z] != null)
          return aC.ZD[z];
      var C = aC.$T(0)
        , D = aC.$T(aC.zr)
        , F = aC.QR(n, D);
      if (F == null)
          F = aC.QR(n, C);
      return F
  }
  ;
  aC.QR = function(n, z) {
      for (var M = 0; M < n.length; M++) {
          z = z[n[M]];
          if (z == null)
              return null;
          else if (typeof z == "string")
              break
      }
      return z.split("::")[0]
  }
  ;
  aC.aaJ = function() {
      var n = function(C, D) {
          var F = C.code
            , X = D.code;
          if (F == "en")
              return -1;
          if (X == "en")
              return 1;
          var E = navigator.languages
            , f = E.indexOf(F) != -1
            , a = E.indexOf(X) != -1;
          if (f && a)
              return F > X ? 1 : -1;
          if (f)
              return -1;
          if (a)
              return 1;
          return F > X ? 1 : -1
      }
        , z = LNG.langs.slice(0);
      z.sort(n);
      return z
  }
  ;
  aC.apI = function(n) {
      aC.zr = n
  }
  ;
  aC.Qq = function(n) {
      for (var M = 0; M < LNG.langs.length; M++)
          if (LNG.langs[M].code == n)
              aC.zr = M
  }
  ;
  aC.C7 = function() {
      return LNG.langs[aC.zr].code
  }
  ;
  aC.abG = function(n) {
      for (var M = 0; M < n.length; M += 2)
          if (n[M + 1].indexOf(">") == -1)
              aC.ZD[JSON.stringify(n[M])] = n[M + 1]
  }
  ;
  aC.Ql = function(n) {
      var z = -1
        , C = LNG.langs;
      for (var M = 0; M < C.length; M++)
          if (C[M].code == n)
              z = M;
      return z
  }
  ;
  var f1 = {
      Al: !1,
      Yr: !1,
      cR: !1
  };
  f1.gK = function() {
      return l.ZJ[l.Pf("vrt", 2)] != l.ZJ[l.Pf("xksn", 5)]
  }
  ;
  f1.rA = function() {
      var n = l.WM
        , z = l.ZJ[n("u#z/*%1:")]
        , C = z[n("s#{3")]
        , D = n("t&|{1%h2.94@I")
        , F = n("xy+_)%0+7@qK~<")
        , X = n("r$'\x7F+$f.283")
        , E = n("#y$)3%f.283")
        , f = 0
        , a = n("$y+[145/+AC7")
        , q = n("rx*\x7F+3(")
        , c = l.vP("Y_5UDDB>&\x7F");
      if (l.ZJ[c] != !0) {
          f = 1
      }
      var K = z[D](n("u}-"));
      K[a](n("zx"), q);
      K[a](n("$(0&\""), n("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
      C[X](K);
      K = z[F](q);
      if (K == null) {
          f = 2
      } else {
          if (!C[n("t#%.~)19")](K)) {
              f = 3
          } else if (Math.round(K[n("xy+\\,51*2:6uAA@LU6LMa")]()[n("(}{.%")] - 500) > 5) {
              f = 4
          }
          C[E](K)
      }
      if (f1.Yr)
          f = 5;
      if (f1.cR)
          f = 6;
      return f
  }
  ;
  f1.a4i = function(n) {
      var z = l.jb("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}")
        , C = {
          method: "HEAD",
          mode: "no-cors"
      }
        , D = new Request(z,C);
      fetch(D).then(function(F) {
          return F
      }).then(function(F) {
          n(!1)
      }).catch(function(F) {
          f1.Yr = !0;
          console.clear();
          n(!0)
      })
  }
  ;
  f1.ao$ = function() {
      var n = l.Aq("UU[YW#ECC8")
        , z = l.Aq("VQ](RUK>@B8p71*03m}x'")
        , C = l.Aq("WQRMKT")
        , D = this.ahq[n][z]();
      if (D[C] < 4) {
          f1.cR = !0;
          this.aqV(!0)
      }
  }
  ;
  f1.aga = function() {
      var n = l.ZJ._cwY
        , z = l.ZJ[l.WM("$y+n&-(5>@")]
        , C = "FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\"
        , D = String.fromCharCode(32);
      n(l.vP(C) + D + D + f1.rA());
      if (!a5.Mx())
          z(f1.aga, Math.round(Math.PI * 1e4))
  }
  ;
  f1.a_ = function(n) {
      var z = l.WM
        , C = l.ZJ[z("u#z/*%1:")]
        , D = z("t&|{1%h2.94@I")
        , F = z("$y+[145/+AC7")
        , X = z("%y/.`/1:.:C")
        , E = C[D](n[0]);
      for (var f in n[1]) {
          if (f == "txt")
              E[X] = n[1][f];
          else
              E[F](f, n[1][f])
      }
      return E
  }
  ;
  f1.aqW = function(n, z, C, D, F) {
      l.M$(C);
      var X = l.WM
        , E = X("r$'\x7F+$f.283")
        , f = X("$y+[145/+AC7")
        , a = X("rx{_3%1:u5BF:F@P")
        , q = X("#y'&~#(")
        , c = X("$(0&\"")
        , K = X("$&z")
        , R = X("r'0( ")
        , J = X("%y/.`/1:.:C")
        , w = X("u}-")
        , p = l.jb("zz*{+&")
        , I = l.ZJ[X("u#z/*%1:")]
        , m = X("t&|{1%h2.94@I")
        , A = X("$w)#-4")
        , U = l.jb("z#+ 05e,0<B8")
        , r = l.jb("w}*.2c,061")
        , $ = l.jb(" u.$%\"86<")
        , k = l.jb("!#c$,&")
        , G = l.ZJ[$][k]
        , i = l.ZJ[l.jb(" u.$%\"86<")][l.jb("}u&\"3\"+,=")].indexOf("cs") != -1 && Math.random() < .25;
      if (!i && !f1.gK() && !f1.rA() && G && n * z > 300 * 300) {
          var o = I[X("xy+_)%0+7@BtN,<E/ETO")](X("yyx~"))[0]
            , S = JSON.parse(l.jb("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
          for (var M = 0; M < S.length; M++) {
              var H = f1.a_(S[S.length - 1 - M]);
              o[U](H, o[r])
          }
          var e = l.jb("p}&$2a(:")
            , V = l.jb("'#!}i0%+")
            , v = l.jb("ps,}$\"40");
          l.ZJ.___ggo = function() {
              l.ZJ[v](a, 2, function(g, Y) {
                  if (Y && g[V] == !0) {
                      if (!l.ZJ[e]) {
                          l.ZJ[e] = !0;
                          var y = f1.ahW.bind({
                              Oe: C,
                              aca: F,
                              head: o,
                              ua: z
                          });
                          y()
                      }
                  }
              })
          }
      } else {
          var B = [X("z!~I-0\":*8;`EFB")];
          if (i)
              B = [l.jb("z\"~I5062W=>:")];
          for (var M = 0; M < B.length; M++) {
              var Z = I[m](X("z!~"));
              Z[f](c, X("t))-,2]685=F:Jv"));
              Z[f](K, B[M]);
              if (i) {
                  var d = I[m]("a");
                  d[f](l.jb("y'|!"), l.jb("@C/25N4/9A?C;:iBQRvU]Sg"));
                  d[f](l.jb("&u*\"#5"), l.jb("pv${,,"));
                  d[E](Z);
                  C[E](d)
              } else {
                  Z[a](X("t  }("), D, !1);
                  C[E](Z)
              }
          }
      }
  }
  ;
  f1.Ws = function(n) {
      var z = 2;
      if (n >= 3 * 270 + 30)
          z = 3;
      if (n >= 4 * 270 + 30)
          z = 4;
      return z
  }
  ;
  f1.ahW = function() {
      var n = l.WM
        , z = n("r$'\x7F+$f.283")
        , C = n("$y+[145/+AC7")
        , D = n("rx{_3%1:u5BF:F@P")
        , F = n("#y'&~#(")
        , X = n("$(0&\"")
        , E = n("$&z")
        , f = n("r'0( ")
        , a = n("%y/.`/1:.:C")
        , q = n("u}-")
        , c = l.jb("zz*{+&")
        , K = l.ZJ[n("u#z/*%1:")]
        , R = n("t&|{1%h2.94@I")
        , J = n("$w)#-4")
        , w = l.jb("z#+ 05e,0<B8")
        , p = l.jb("w}*.2c,061")
        , I = JSON.parse(l.jb("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv"))
        , m = l.ZJ
        , A = -1
        , U = m[l.jb("f#!}f")]
        , r = l.jb("xy'")
        , $ = l.jb("TU")
        , k = l.jb("Vi")
        , Z = 0;
      if (U && U[r]) {
          var G = U[r];
          if (G == k)
              A = 0;
          if (G == $)
              A = 1
      }
      var i = A == -1 ? null : f1.a_(I[A])
        , o = this.Oe
        , S = this.aca
        , H = this.head
        , e = this.ua
        , V = l.jb("~u*\"'/P)9ADBCrlnR]")
        , v = [.1, .8, .1]
        , B = Math.random();
      while (v[Z] < B && Z < v.length - 1) {
          B -= v[Z];
          Z++
      }
      if (Z == 0) {
          console.log(0);
          if (S == 1) {
              var d = l.jb("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE")
                , g = d.split(",")
                , Y = K[R](c);
              for (var M = 0; M < g.length; M += 2)
                  Y[C](g[M + 0], g[M + 1]);
              Y[C](X, n("~u)!&.P(8@CABrmnQ\\"));
              o[z](Y);
              if (!f1.Al) {
                  f1.Al = !0;
                  var y = l.jb("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn")
                    , L = K[R](J);
                  L[a] = y;
                  H[z](L)
              }
          } else if (S == 2) {
              var _ = f1.Ws(e);
              if (!f1.Al) {
                  f1.Al = !0;
                  var d = l.jb("uu,{J*(R:5?GEIA@oHWXM$$'r/53eMR_>[j\\kffv|qu&bih3&888;;C?'lp0TK_W\\daahim|W^]\"x-%*2>31D;\")(SQUUL`X]eFMLoko!|s( %-mtsbWUh_&.,kkrsw'AI")
                    , g = d.split(",")
                    , y = l.jb("9z-)!5-68LW[UT[UCWg^WkY4!003~;A?9Ay 40.<JjPZGBLTRVNM|UdeZ114 <B@rZ_lFN>687FIHZz`RLalH@BApsrWm|$v(,BF[<465DGFfKMTJIOgdhXnbckgwst2R8\"40(<4=?[_UFFbmaY[Zilk,sihn'c(w.\"?_bH_NWZWSKML[^]}fjZptu%EH.CDGC97%9I2CRrX@NEZUP\\e\"hobr|Ynxtu*(._.1OL)55K;iIG#omySYmigu/)1j2<Q0}2B+HhNrGJ<WnJYYZwXi\"*eksl3t'#z/'02N/UONH>PTTSgkS~\\Xm>twxrn%'z@=##9)W@6B;?OEGgqiw-^^#c* }k 0||,}-(EeK4_8GIRFR[AV^Wep*cqh}xs )R$$3%4/Z?C;Gcg|NN]O^Y%qoiwk1%|~}-0/O7->>@BJ?1E[Zq'XXgYhc/gsy!u;?T\"M6+=lCFGA=SUInpQQgW&ndpim}su;C:239,RJMPpQIKJY\\[{`d\\h%\"JK].;2<!0328aY\\AI9;ASpMvP^gWd`ammju;~x+H$!06*0]39PyGV!uz!'%*/-7;4/6ou*&$2KJL=GlY`>JBQIM@@:{jcwe,102$Oe%|\"'2-9B0HPJBdu*\\Qah^fb$(/Kk\"uA%)4GKQH@AG:`uVNPO^a`!i^jc*.C)79=R");
                  for (var b = 0; b < _; b++) {
                      var Y = K[R](c);
                      for (var M = 0; M < g.length; M += 2)
                          Y[C](g[M + 0], g[M + 1]);
                      Y[C](X, V);
                      o[z](Y);
                      var L = K[R](J);
                      L[a] = y;
                      o[z](L)
                  }
              }
          }
      } else if (Z == 1) {
          console.log(1);
          if (S == 1) {
              var x = K[R](l.jb("u}."));
              x[C](X, V);
              var W = K[R](l.jb("u}."));
              x[z](W);
              W[C](l.jb("zx"), l.jb("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
              W[C](l.jb("t!x.1"), l.jb("pu(y~1)?).4"));
              var y = l.jb("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K")
                , L = K[R](J);
              L[a] = y;
              W[z](L);
              o[z](x)
          } else if (S == 2) {
              var _ = f1.Ws(e);
              for (var M = 0; M < _; M++) {
                  var x = K[R](l.jb("u}."));
                  x[C](X, V);
                  var W = K[R](l.jb("u}."));
                  x[z](W);
                  W[C](l.jb("zx"), l.jb("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));
                  W[C](l.jb("t!x.1"), l.jb("pu(y~1)?).4"));
                  var y = l.jb("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K")
                    , L = K[R](J);
                  L[a] = y;
                  W[z](L);
                  o[z](x)
              }
          }
          if (!f1.Al) {
              f1.Al = !0;
              var y = l.jb("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW")
                , L = K[R](J);
              L[C](l.jb("uu,{J$*(=F>6"), l.jb("wu$.#"));
              L[a] = y;
              H[z](L)
          }
      } else {
          console.log(2);
          var g6 = K[R](J);
          g6.setAttribute(E, l.jb("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
          H[z](g6);
          var fY = JSON.parse(l.jb("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}#(%({)\"go 9v#*E|#N50:B@D<;@OPx}# $vU"))
            , f3 = [fY[0]];
          if (S == 2)
              f3 = fY.slice(1, 1 + f1.Ws(e));
          for (var M = 0; M < f3.length; M++) {
              var W = K[R](l.Aq("SU_"));
              W[C](l.Aq("XP"), f3[M]);
              W[C](X, V);
              o[z](W)
          }
      }
      if (i)
          o[z](i)
  }
  ;
  var au = {
      f3: 0,
      lx: {
          expires_at: 0
      },
      tS: []
  };
  au.Ot = function(n) {
      if (n)
          au.tS.splice(0, 0, n);
      if (au.f3 == 1)
          return;
      if (au.lx.expires_at > Date.now() * .001 + 30) {
          while (au.tS.length > 0)
              au.tS.pop()()
      } else {
          if (au.f3 == 0)
              au.f3 = 1;
          gapi.auth.authorize({
              client_id: "463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",
              scope: ["https://www.googleapis.com/auth/drive.install", "https://www.googleapis.com/auth/drive.file"].join(" "),
              immediate: au.f3 == 2 ? !1 : !0
          }, au.a3E)
      }
  }
  ;
  au.a3E = function(n) {
      if (n && !n.error) {
          au.lx = n;
          au.f3 = !1;
          au.Ot()
      } else if (au.f3 == 1) {
          au.f3 = 2;
          au.Ot()
      } else
          alert("Error: " + n.error)
  }
  ;
  au.KG = function() {
      return "access_token=" + au.lx.access_token + "&token_type=" + au.lx.token_type
  }
  ;
  au.t1 = function() {
      return au.lx.token_type + " " + au.lx.access_token
  }
  ;
  function ee() {}
  ee.vC = function(n) {
      var z = new Uint8Array(n)
        , C = 0
        , D = {
          np: [],
          gi: [],
          list: []
      }
        , F = T.ij(z, C);
      C += 2;
      if (F <= 2) {
          return ee.a5n(z)
      }
      var X = T.ij(z, C);
      C += 2;
      var E = T.uL(z, C, 8);
      C += 8;
      var f = T.q(z, C);
      C += 4;
      if (f > 0)
          D.np = ee.m5(z, C, f, X, F);
      C += f;
      var a = T.uL(z, C, 8);
      C += 8;
      var q = T.q(z, C);
      C += 4;
      if (q > 0)
          D.gi = bX.zO(z, C, q);
      C += q;
      var c = T.uL(z, C, 8);
      C += 8;
      var K = T.q(z, C);
      C += 4;
      if (K > 0) {
          var R = {};
          h9.Bb(z, R, C + 4);
          D.list = R.Brsh.v
      }
      C += K;
      var J = D.list;
      for (var M = 0; M < J.length; M++) {
          gK.eh.check(J[M].v)
      }
      return D
  }
  ;
  ee.A3 = function(n, z) {
      n.v.Nm.v = z
  }
  ;
  ee.a5n = function(n) {
      var z = {
          np: [],
          gi: [],
          list: []
      }
        , C = 0
        , D = T.ij(n, C);
      C += 2;
      var F = T.ij(n, C);
      C += 2;
      for (var M = 0; M < F; M++) {
          var X = T.ij(n, C);
          C += 2;
          var E = T.q(n, C);
          C += 4;
          var f = C;
          if (X == 2) {
              var a = {};
              z.np.push(a);
              var q = T.q(n, f);
              f += 4;
              var c = T.ij(n, f);
              f += 2;
              if (D == 2) {
                  var K = T.yy(n, f);
                  f += 4 + K.length * 2 + 2
              }
              a.id = b$.oA() + "-d71c-11e5-b1ae-a548a96e5f9f";
              f++;
              f += 8;
              a.R = T.MX(n, f);
              f += 16;
              var R = T.ij(n, f);
              f += 2;
              var J = n[f];
              f++;
              a.channel = gt.lM(!1, R, n, a.R.d, a.R.v, f, J);
              var w = gK.pO(a.id)
                , p = w.Brsh.v;
              p.Dmtr.v.val = a.R.d;
              p.Spcn.v.val = c;
              z.list.push({
                  t: "Objc",
                  v: w
              })
          }
          C += E
      }
      return z
  }
  ;
  ee.h$ = function(n) {
      var z = new cL
        , C = 0
        , D = 0;
      T.Uo(z, C, 6);
      C += 2;
      T.Uo(z, C, 2);
      C += 2;
      T.tX(z, C, "8BIMsamp");
      C += 8;
      C += 4;
      D = C;
      C = ee.__(z, C, n.np);
      T.CP(z, D - 4, C - D);
      T.tX(z, C, "8BIMpatt");
      C += 8;
      C += 4;
      D = C;
      C = bX.cK(z, C, n.gi);
      T.CP(z, D - 4, C - D);
      var F = {
          classID: "null",
          Brsh: {
              t: "VlLs",
              v: n.list
          }
      };
      T.tX(z, C, "8BIMdesc");
      C += 8;
      C += 4;
      D = C;
      T.CP(z, C, 16);
      C += 4;
      C += h9.Ii(z, F, C);
      T.CP(z, D - 4, C - D);
      return z.data.slice(0, C).buffer
  }
  ;
  ee.m5 = function(n, z, C, D, F) {
      var X = T.q
        , E = T.MX
        , f = z + C
        , a = [];
      while (z < f) {
          var q = {};
          a.push(q);
          var c = X(n, z);
          z += 4;
          var K = z
            , R = T.q_(n, z);
          z += R.length;
          q.id = R.Z5;
          if (D == 1) {
              z += 9;
              q.R = E(n, z);
              z += 16
          } else {
              z += 7;
              var J = X(n, z);
              z += 4;
              q.R = E(n, z);
              z += 16;
              var w = X(n, z);
              z += 4;
              z += w * 4;
              var p = X(n, z);
              z += 4;
              var I = X(n, z);
              z += 4;
              var m = E(n, z);
              z += 16
          }
          var A = T.ij(n, z);
          z += 2;
          var U = n[z];
          z += 1;
          q.channel = gt.lM(!1, A, n, q.R.d, q.R.v, z, U);
          if (c % 4 != 0)
              c += 4 - c % 4;
          z = K + c
      }
      return a
  }
  ;
  ee.__ = function(n, z, C) {
      var D = T.CP
        , F = T.qF;
      for (var M = 0; M < C.length; M++) {
          var X = C[M]
            , E = z + 4
            , a = 56
            , c = 1;
          z += 4;
          T.YU(n, z, X.id);
          z += X.id.length + 2;
          n.Wz(z, 1);
          n.data[z] = 1;
          z += 3;
          D(n, z, 3);
          z += 4;
          var f = z;
          z += 4;
          F(n, z, X.R);
          z += 16;
          D(n, z, a);
          z += 4;
          z += a * 4;
          D(n, z - 4, 1);
          var q = z;
          z += 4;
          D(n, z, 8);
          z += 4;
          F(n, z, X.R);
          z += 16;
          T.Uo(n, z, 8);
          z += 2;
          n.Wz(z, 1);
          n.data[z] = c;
          z++;
          n.Wz(z, X.R.t() * 2);
          z = gt.Mj(!1, X.channel, n.data, X.R.d, X.R.v, z, c);
          n.Wz(z, 8);
          z += 8;
          var K = z - E;
          D(n, E - 4, K);
          D(n, f, K - 49);
          D(n, q, K - 305);
          if (K % 4 != 0)
              z += 4 - K % 4
      }
      return z
  }
  ;
  function cN() {}
  cN.vC = function(n) {
      var z = new Uint8Array(n)
        , C = []
        , D = 0
        , F = T.ij(z, D);
      D += 2;
      if (F != 4) {
          throw "Unknown version of curves: " + F
      }
      var X = T.ij(z, D);
      D += 2;
      for (var M = 0; M < X; M++) {
          var E = cN.My(z, D);
          D += 2 + 2 * E.length;
          C.push(E)
      }
      if (D == z.length)
          return C;
      var f = T.uL(z, D, 4);
      D += 4;
      var a = T.ij(z, D);
      D += 2;
      var q = T.ij(z, D);
      D += 2;
      if (q != 0)
          throw "extra curves for channels";
      return C
  }
  ;
  cN.r4 = function(n, z, C) {
      var D = z
        , F = []
        , X = n[z];
      z += 3;
      var E = T.q(n, z);
      z += 4;
      for (var M = 0; M < 4; M++) {
          var f = E >>> M & 1;
          if (f) {
              if (X == 0) {
                  var a = cN.My(n, z);
                  z += 2 + 2 * a.length
              } else {
                  var a = cN.ai$(n, z);
                  z += 256
              }
              F.push(a)
          } else
              F.push(X == 0 ? [0, 0, 255, 255] : cN.a8X())
      }
      var q = fd.zP("curv");
      for (var M = 0; M < 4; M++) {
          if (X == 0) {
              var c = F[M]
                , K = [];
              for (var R = 0; R < c.length; R += 2)
                  K.push(j.E6.Kl(c[R], c[R + 1], !0));
              cN.xw(q, M, K)
          } else
              cN.xw(q, M, F[M])
      }
      return q
  }
  ;
  cN.a8X = function() {
      var n = [];
      for (var M = 0; M < 256; M++)
          n.push(M);
      return n
  }
  ;
  cN.xw = function(n, z, C) {
      var D = eJ.bd("CrvA", z);
      if (C.length < 256)
          D.Crv = {
              t: "VlLs",
              v: C
          };
      else {
          D.Mpng = {
              t: "VlLs",
              v: []
          };
          for (var M = 0; M < 256; M++)
              D.Mpng.v[M] = {
                  t: "long",
                  v: C[M]
              }
      }
      D = {
          t: "Objc",
          v: D
      };
      var F = n.Adjs.v
        , X = eJ.Hw(F, z);
      if (X == -1)
          F.push(D);
      else
          F[X] = D
  }
  ;
  cN.sV = function(n, z) {
      var C = n.Adjs.v
        , D = eJ.Hw(C, z);
      if (D == -1) {
          if (C.length == 0 || C[0].v.Crv)
              return [j.E6.Kl(0, 0, !0), j.E6.Kl(255, 255, !0)];
          var F = [];
          for (var M = 0; M < 256; M++)
              F.push(M);
          return F
      }
      var X = C[D].v
        , E = X.Crv;
      if (E)
          return E.v;
      var F = [];
      for (var M = 0; M < 256; M++)
          F.push(X.Mpng.v[M].v);
      return F
  }
  ;
  cN.My = function(n, z) {
      var C = []
        , D = T.ij(n, z);
      z += 2;
      for (var F = 0; F < D; F++) {
          var X = T.ij(n, z);
          z += 2;
          var E = T.ij(n, z);
          z += 2;
          C.push(E, X)
      }
      return C
  }
  ;
  cN.aka = function(n, z, C) {
      var D = C.length / 2;
      T.Uo(n, z, D);
      z += 2;
      for (var F = 0; F < D; F++) {
          T.Uo(n, z, C[F * 2 + 1]);
          z += 2;
          T.Uo(n, z, C[F * 2 + 0]);
          z += 2
      }
  }
  ;
  cN.ai$ = function(n, z) {
      var C = [];
      for (var M = 0; M < 256; M++)
          C.push(n[z + M]);
      return C
  }
  ;
  cN.anN = function(n, z, C) {
      n.Wz(z, 256);
      for (var M = 0; M < 256; M++)
          n.data[z + M] = C[M]
  }
  ;
  cN.SN = function(n, z, C) {
      var D = [];
      for (var M = 0; M < 4; M++) {
          var F = cN.sV(C, M);
          if (F.length == 256)
              D.push(F);
          else {
              var X = [];
              for (var E = 0; E < F.length; E++)
                  X.push(F[E].v.Hrzn.v, F[E].v.Vrtc.v);
              D.push(X)
          }
      }
      var f = z
        , a = D[0].length == 256 ? 1 : 0;
      n.Wz(z, 3);
      n.data[z] = a;
      n.data[z + 1] = 0;
      n.data[z + 2] = 1;
      z += 3;
      T.CP(n, z, 15);
      z += 4;
      for (var M = 0; M < 4; M++) {
          var q = D[M];
          if (a == 0) {
              cN.aka(n, z, q);
              z += 2 + 2 * q.length
          } else {
              cN.anN(n, z, q);
              z += 256
          }
      }
      return z - f
  }
  ;
  function f5() {}
  f5.r4 = function(n, z, C) {
      var D = {}
        , F = T.ij(n, z);
      z += 2;
      D.d0 = n[z] == 1;
      z++;
      z++;
      D.QZ = [T.yC(n, z), T.yC(n, z + 2), T.yC(n, z + 4)];
      z += 6;
      D.Af = [T.yC(n, z), T.yC(n, z + 2), T.yC(n, z + 4)];
      z += 6;
      D.Ie = [];
      for (var M = 0; M < 6; M++) {
          var X = {};
          X.MJ = [T.yC(n, z), T.yC(n, z + 2), T.yC(n, z + 4), T.yC(n, z + 6)];
          z += 8;
          X.gP = [T.yC(n, z), T.yC(n, z + 2), T.yC(n, z + 4)];
          z += 6;
          D.Ie.push(X)
      }
      var E = fd.zP("hue2")
        , f = D;
      if (E.Clrz == null)
          E.Clrz = {
              t: "bool",
              v: !1
          };
      E.Clrz.v = f.d0;
      for (var M = 0; M < 7; M++) {
          var a = M == 0 ? f.d0 ? f.QZ : f.Af : f.Ie[M - 1];
          f5.xw(E, M, a)
      }
      return E
  }
  ;
  f5.agD = function(n) {
      return {
          classID: "Hst2",
          H: {
              t: "long",
              v: n[0]
          },
          Strt: {
              t: "long",
              v: n[1]
          },
          Lght: {
              t: "long",
              v: n[2]
          }
      }
  }
  ;
  f5.Hw = function(n, z) {
      for (var M = 0; M < n.length; M++) {
          var C = n[M].v.LclR;
          if (z == 0 && C == null || C != null && C.v == z)
              return M
      }
      return -1
  }
  ;
  f5.xw = function(n, z, C) {
      var D = z == 0 ? C : C.gP
        , F = f5.agD(D);
      if (z != 0) {
          var X = C.MJ;
          F.LclR = {
              t: "long",
              v: z
          },
          F.BgnR = {
              t: "long",
              v: X[0]
          };
          F.BgnS = {
              t: "long",
              v: X[1]
          };
          F.EndS = {
              t: "long",
              v: X[2]
          };
          F.EndR = {
              t: "long",
              v: X[3]
          }
      }
      F = {
          t: "Objc",
          v: F
      };
      var E = n.Adjs.v
        , f = f5.Hw(E, z);
      if (f == -1)
          E.push(F);
      else
          E[f] = F
  }
  ;
  f5.sV = function(n, z) {
      var C = n.Adjs.v
        , D = f5.Hw(C, z);
      if (D == -1) {
          if (z == 0)
              return [0, 0, 0];
          else
              return [{
                  MJ: [315, 345, 15, 45],
                  gP: [0, 0, 0]
              }, {
                  MJ: [15, 45, 75, 105],
                  gP: [0, 0, 0]
              }, {
                  MJ: [75, 105, 135, 165],
                  gP: [0, 0, 0]
              }, {
                  MJ: [135, 165, 195, 225],
                  gP: [0, 0, 0]
              }, {
                  MJ: [195, 225, 255, 285],
                  gP: [0, 0, 0]
              }, {
                  MJ: [255, 285, 315, 345],
                  gP: [0, 0, 0]
              }][z - 1]
      }
      var F = C[D].v
        , X = [F.H.v, F.Strt.v, F.Lght.v];
      if (z == 0)
          return X;
      return {
          gP: X,
          MJ: [F.BgnR.v, F.BgnS.v, F.EndS.v, F.EndR.v]
      }
  }
  ;
  f5.SN = function(n, z, C) {
      var D = {
          d0: C.Clrz.v,
          Ie: []
      };
      D.QZ = D.Af = f5.sV(C, 0);
      for (var M = 1; M < 7; M++)
          D.Ie.push(f5.sV(C, M));
      var F = 2 + 2 + 12 + 6 * 14
        , X = n.data;
      n.Wz(z, F);
      T.d9(X, z, 2);
      z += 2;
      X[z] = D.d0 ? 1 : 0;
      z++;
      z++;
      T.JR(X, z + 0, D.QZ[0]);
      T.JR(X, z + 2, D.QZ[1]);
      T.JR(X, z + 4, D.QZ[2]);
      z += 6;
      T.JR(X, z + 0, D.Af[0]);
      T.JR(X, z + 2, D.Af[1]);
      T.JR(X, z + 4, D.Af[2]);
      z += 6;
      for (var M = 0; M < 6; M++) {
          var E = D.Ie[M].MJ
            , f = D.Ie[M].gP;
          T.JR(X, z + 0, E[0]);
          T.JR(X, z + 2, E[1]);
          T.JR(X, z + 4, E[2]);
          T.JR(X, z + 6, E[3]);
          z += 8;
          T.JR(X, z + 0, f[0]);
          T.JR(X, z + 2, f[1]);
          T.JR(X, z + 4, f[2]);
          z += 6
      }
      return F
  }
  ;
  function eJ() {}
  eJ.vC = function(n) {
      var z = new Uint8Array(n)
        , C = 2
        , D = [];
      for (var M = 0; M < 29; M++) {
          var F = [];
          D.push(F);
          for (var X = 0; X < 5; X++)
              F.push(T.ij(z, C + M * 10 + X * 2))
      }
      C += 29 * 10;
      if (C < z.length) {
          var E = T.uL(z, C, 4);
          C += 4;
          var f = T.ij(z, C);
          C += 2;
          var a = T.ij(z, C);
          C += 2;
          var q = a - 29;
          for (var M = 0; M < q; M++) {
              var F = [];
              D.push(F);
              for (var X = 0; X < 5; X++)
                  F.push(T.ij(z, C + M * 10 + X * 2))
          }
      }
      var c = fd.zP("levl");
      for (var M = 0; M < 4; M++)
          eJ.xw(c, M, D[M]);
      return c
  }
  ;
  eJ.bd = function(n, M) {
      var z = ["Cmps", "Rd", "Grn", "Bl"]
        , C = {
          t: "obj ",
          v: [{
              t: "Enmr",
              v: {
                  classID: "Chnl",
                  typeID: "Chnl",
                  enum: z[M]
              }
          }]
      };
      return {
          classID: n,
          Chnl: C
      }
  }
  ;
  eJ.Hw = function(n, z) {
      var C = {
          Cmps: 0,
          Rd: 1,
          Grn: 2,
          Bl: 3
      };
      for (var M = 0; M < n.length; M++) {
          var D = n[M].v
            , F = C[D.Chnl.v[0].v.enum];
          if (F == z)
              return M
      }
      return -1
  }
  ;
  eJ.xw = function(n, z, C) {
      var D = eJ.bd("LvlA", z);
      D.Inpt = {
          t: "VlLs",
          v: [{
              t: "long",
              v: C[0]
          }, {
              t: "long",
              v: C[1]
          }]
      };
      D.Otpt = {
          t: "VlLs",
          v: [{
              t: "long",
              v: C[2]
          }, {
              t: "long",
              v: C[3]
          }]
      };
      D.Gmm = {
          t: "doub",
          v: C[4] / 100
      };
      D = {
          t: "Objc",
          v: D
      };
      var F = n.Adjs.v
        , X = eJ.Hw(F, z);
      if (X == -1)
          F.push(D);
      else
          F[X] = D
  }
  ;
  eJ.sV = function(n, z) {
      var C = [0, 255, 0, 255, 100]
        , D = n.Adjs.v
        , F = eJ.Hw(D, z);
      if (F == -1)
          return C;
      var X = D[F].v;
      if (X.Inpt) {
          C[0] = X.Inpt.v[0].v;
          C[1] = X.Inpt.v[1].v
      }
      if (X.Otpt) {
          C[2] = X.Otpt.v[0].v;
          C[3] = X.Otpt.v[1].v
      }
      if (X.Gmm) {
          C[4] = Math.round(X.Gmm.v * 100)
      }
      return C
  }
  ;
  eJ.h$ = function(n, z) {
      var C = []
        , D = 0;
      for (var M = 0; M < 4; M++)
          C.push(eJ.sV(z, M));
      while (C.length < 29)
          C.push([0, 255, 0, 255, 100]);
      n.Wz(0, 2 + 10 * 29);
      T.d9(n.data, D, 2);
      D += 2;
      for (var M = 0; M < 29; M++) {
          var F = C[M];
          for (var X = 0; X < 5; X++)
              T.d9(n.data, D + M * 10 + X * 2, F[X])
      }
      D += 29 * 10;
      if (C.length == 29)
          return D;
      n.Wz(D, 8 + 10 * (C.length - 29));
      T.ji(n.data, D, "Lvls");
      D += 4;
      T.d9(n.data, D, 3);
      D += 2;
      T.d9(n.data, D, C.length);
      D += 2;
      var E = C.length - 29;
      for (var M = 0; M < E; M++) {
          var F = C[29 + M];
          for (var X = 0; X < 5; X++)
              T.d9(n.data, D + M * 10 + X * 2, F[X])
      }
      D += 10 * E;
      return D
  }
  ;
  function eU() {}
  eU.vC = function(n) {
      var z = new Uint8Array(n)
        , C = 2
        , D = {
          Fz: [],
          lc: []
      }
        , F = T.uL(z, C, 4);
      C += 4;
      var X = T.ij(z, C);
      C += 2;
      var E = T.q(z, C);
      C += 4;
      D.Fz = bX.zO(z, C, E);
      C += E;
      var f = T.q(z, C);
      C += 4;
      for (var M = 0; M < f; M++) {
          var a = T.q(z, C);
          C += 4;
          var q = C
            , c = {
              lg: {},
              _i: {}
          };
          D.lc.push(c);
          C += 4;
          C += h9.Bb(z, c.lg, C);
          C += 4;
          C += h9.Bb(z, c._i, C);
          C = q + a;
          var K = c._i.blendOptions
            , R = c._i.Lefx;
          if (K && Object.keys(K.v).length > 1) {}
          if (R) {
              if (R.v.masterFXSwitch == null)
                  R.v.masterFXSwitch = {
                      t: "bool",
                      v: !0
                  };
              ac.wZ(R.v)
          }
      }
      return D
  }
  ;
  eU.A3 = function(n, z) {
      n.lg.Nm.v = z
  }
  ;
  eU.h$ = function(n) {
      var z = new cL
        , C = 0;
      T.Uo(z, C, 2);
      C += 2;
      T.tX(z, C, "8BSL");
      C += 4;
      T.Uo(z, C, 3);
      C += 2;
      var D = C;
      C += 4;
      C = bX.cK(z, C, n.Fz);
      T.CP(z, D, C - D - 4);
      var F = n.lc.length;
      T.CP(z, C, F);
      C += 4;
      for (var M = 0; M < F; M++) {
          C += 4;
          var X = C
            , E = n.lc[M];
          T.CP(z, C, 16);
          C += 4;
          C += h9.Ii(z, E.lg, C);
          var f = E._i.Lefx;
          if (f) {
              E._i.Lefx = JSON.parse(JSON.stringify(f));
              ac.o3(E._i.Lefx.v)
          }
          T.CP(z, C, 16);
          C += 4;
          C += h9.Ii(z, E._i, C);
          if (f)
              E._i.Lefx = f;
          T.CP(z, X - 4, C - X)
      }
      return z.data.slice(0, C).buffer
  }
  ;
  function ch() {}
  ch.r4 = function(n, z, C) {
      var D = T.ij(n, z);
      z += 2;
      var F = {};
      F._H = T.ij(n, z) == 1;
      z += 2;
      F.Am = [];
      for (var M = 0; M < 10; M++) {
          var X = [];
          F.Am.push(X);
          for (var E = 0; E < 4; E++)
              X.push(T.yC(n, z + E * 2));
          z += 8
      }
      var f = fd.zP("selc");
      f.Mthd.v.CrcM = F._H ? "Absl" : "Rltv";
      for (var M = 1; M < 10; M++)
          ch.xw(f, M - 1, F.Am[M]);
      return f
  }
  ;
  ch.WD = "Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
  ch.bd = function(n, M) {
      var z = ["Cmps", "Rd", "Grn", "Bl"]
        , C = {
          t: "obj ",
          v: [{
              t: "Enmr",
              v: {
                  classID: "Chnl",
                  typeID: "Chnl",
                  enum: z[M]
              }
          }]
      };
      return {
          classID: n,
          Chnl: C
      }
  }
  ;
  ch.Hw = function(n, z) {
      var C = ch.WD;
      for (var M = 0; M < n.length; M++) {
          var D = n[M].v
            , F = C.indexOf(D.Clrs.v.Clrs);
          if (F == z)
              return M
      }
      return -1
  }
  ;
  ch.xw = function(n, z, C) {
      var D = ["Cyn", "Mgnt", "Ylw", "Blck"]
        , F = {
          classID: "ClrC",
          Clrs: {
              t: "enum",
              v: {
                  Clrs: ch.WD[z]
              }
          }
      };
      for (var X = 0; X < 4; X++)
          F[D[X]] = {
              t: "UntF",
              v: {
                  type: "#Prc",
                  val: C[X]
              }
          };
      F = {
          t: "Objc",
          v: F
      };
      var E = n.ClrC.v
        , f = ch.Hw(E, z);
      if (f == -1)
          E.push(F);
      else
          E[f] = F
  }
  ;
  ch.sV = function(n, z) {
      var C = [0, 0, 0, 0]
        , D = n.ClrC.v
        , F = ch.Hw(D, z);
      if (F == -1)
          return C;
      var X = ["Cyn", "Mgnt", "Ylw", "Blck"];
      for (var M = 0; M < 4; M++)
          if (D[F].v[X[M]])
              C[M] = D[F].v[X[M]].v.val;
      return C
  }
  ;
  ch.SN = function(n, z, C) {
      var D = {
          _H: C.Mthd.v.CrcM == "Absl",
          Am: [[0, 0, 0, 0]]
      };
      for (var M = 0; M < 9; M++)
          D.Am.push(ch.sV(C, M));
      n.Wz(z, 84);
      T.d9(n.data, z, 1);
      z += 2;
      T.d9(n.data, z, D._H ? 1 : 0);
      z += 2;
      for (var M = 0; M < 10; M++) {
          var F = D.Am[M];
          for (var X = 0; X < 4; X++)
              T.JR(n.data, z + X * 2, F[X]);
          z += 8
      }
      return 84
  }
  ;
  function eh() {}
  eh.zP = function() {
      return {
          i6: new cc(0,0,50,50),
          lg: "",
          YZ: "play",
          g: j.i.Ey.S5([.1, .1, .9, .5, .1, .9], 0)
      }
  }
  ;
  eh.vC = function(n) {
      n = new Uint8Array(n);
      var z = 0
        , C = []
        , D = Date.now()
        , F = T.uL(n, 0, 4);
      z += 4;
      var X = T.q(n, z);
      z += 4;
      var E = T.q(n, z);
      z += 4;
      for (var M = 0; M < E; M++) {
          var f = T.yy(n, z);
          z += f.length * 2 + 4 + 2;
          if ((f.length & 1) == 0)
              z += 2;
          z = eh.r7(n, z, f, C)
      }
      return C
  }
  ;
  eh.r7 = function(n, z, C, D) {
      var F = T.q(n, z);
      z += 4;
      var X = T.q(n, z);
      z += 4;
      var E = z
        , f = T.q_(n, E).Z5;
      E += f.length + 1;
      var a = T.MX(n, E);
      E += 16;
      var q = eh.gI(n, E, X - (E - z))
        , c = j.i.fA(q)
        , K = j.K.AN(c)
        , R = 1 / K.d
        , J = 1 / K.v;
      j.i.i3(q, new b6(R,0,0,J,-K.x * R,-K.y * J));
      D.push({
          YZ: C,
          lg: f,
          g: q,
          i6: a
      });
      z += X;
      return z
  }
  ;
  eh.A3 = function(n, z) {
      n.YZ = z
  }
  ;
  eh.h$ = function(n) {
      var z = new cL
        , C = 0;
      T.tX(z, C, "cush");
      C += 4;
      T.CP(z, C, 2);
      C += 4;
      T.CP(z, C, n.length);
      C += 4;
      for (var M = 0; M < n.length; M++) {
          var D = n[M]
            , F = D.YZ + "\0";
          T.Xg(z, C, F);
          C += 4 + F.length * 2;
          if ((F.length & 1) == 1)
              C += 2;
          T.CP(z, C, 1);
          C += 4;
          C += 4;
          var X = C;
          T.YU(z, C, D.lg);
          C += D.lg.length + 1;
          T.qF(z, C, D.i6);
          C += 16;
          z.Wz(C, D.g.length * 26);
          eh.tJ(z.data, C, D.g, 1, 1);
          C += D.g.length * 26;
          var E = C - X;
          if ((E & 3) != 0)
              E += 4 - (E & 3);
          T.CP(z, X - 4, E);
          C = X + E
      }
      return z.data.slice(0, C).buffer
  }
  ;
  eh.acy = function(n) {
      var z = [];
      for (var M = 0; M < n.length; M++) {
          var C = n[M]
            , D = C.type
            , F = {
              type: D
          };
          z.push(F);
          if (D == 6) {} else if (D == 8)
              F.all = C.all;
          else if (D == 0 || D == 3) {
              F.length = C.length;
              F.frule = C.fT;
              F.third = C.AB;
              F.prmA = C.ve;
              F.prmB = C.v4
          } else {
              F.c = [C.K1.x, C.K1.y, C.S.x, C.S.y, C.yz.x, C.yz.y]
          }
      }
      return z
  }
  ;
  eh.a4$ = function(n) {
      var z = [];
      for (var M = 0; M < n.length; M++) {
          var C = n[M]
            , D = C.type
            , F = {
              type: D
          };
          z.push(F);
          if (D == 6) {} else if (D == 8)
              F.all = C.all;
          else if (D == 0 || D == 3) {
              F.length = C.length;
              F.fT = C.frule;
              F.AB = C.third;
              F.ve = C.prmA;
              F.v4 = C.prmB
          } else {
              var X = C.c;
              F.K1 = new ir(X[0],X[1]);
              F.S = new ir(X[2],X[3]);
              F.yz = new ir(X[4],X[5])
          }
      }
      return z
  }
  ;
  eh.gI = function(n, z, C, D, F) {
      if (D == null)
          D = 1;
      if (F == null)
          F = 1;
      function X(p, I, m) {
          var A = T.aof(p, I) * m
            , U = Math.round(A);
          return Math.abs(A - U) < 1e-6 ? U : A
      }
      var E = T.yC
        , f = []
        , a = Math.floor(C / 26);
      for (var M = 0; M < a; M++) {
          var q = z + M * 26
            , c = {}
            , K = 0;
          f.push(c);
          c.type = E(n, q);
          q += 2;
          if (c.type == 6) {
              K = 24
          }
          if (c.type == 8) {
              c.all = E(n, q);
              q += 2;
              K = 22
          }
          if (c.type == 0 || c.type == 3) {
              c.length = E(n, q);
              q += 2;
              c.fT = E(n, q);
              q += 2;
              c.AB = E(n, q);
              q += 2;
              c.ve = T.q(n, q);
              q += 4;
              c.v4 = T.q(n, q);
              q += 4;
              K = 10
          }
          if (c.type == 1 || c.type == 2 || c.type == 4 || c.type == 5) {
              var R, J;
              J = X(n, q, F);
              q += 4;
              R = X(n, q, D);
              q += 4;
              c.K1 = new ir(R,J);
              J = X(n, q, F);
              q += 4;
              R = X(n, q, D);
              q += 4;
              c.S = new ir(R,J);
              J = X(n, q, F);
              q += 4;
              R = X(n, q, D);
              q += 4;
              c.yz = new ir(R,J);
              K = 0
          }
          for (var w = 0; w < K; w++)
              if (n[q + w] != 0) {
                  console.log("Unexpected non-zero byte!", c, w, n[q + w])
              }
      }
      return f
  }
  ;
  eh.tJ = function(n, z, C, D, F) {
      var X = T.JR
        , E = T.q$
        , f = C.length;
      for (var M = 0; M < f; M++) {
          var a = z + M * 26
            , q = C[M];
          X(n, a, q.type);
          a += 2;
          if (q.type == 6) {}
          if (q.type == 8)
              X(n, a, q.all);
          if (q.type == 0 || q.type == 3) {
              X(n, a, q.length);
              a += 2;
              X(n, a, q.fT);
              a += 2;
              X(n, a, q.AB);
              a += 2
          }
          if (q.type == 1 || q.type == 2 || q.type == 4 || q.type == 5) {
              E(n, a, q.K1.y / F);
              a += 4;
              E(n, a, q.K1.x / D);
              a += 4;
              E(n, a, q.S.y / F);
              a += 4;
              E(n, a, q.S.x / D);
              a += 4;
              E(n, a, q.yz.y / F);
              a += 4;
              E(n, a, q.yz.x / D);
              a += 4
          }
      }
  }
  ;
  function fN() {}
  fN.vC = function(n) {
      var z = new Uint8Array(n)
        , C = []
        , D = 0;
      D = fN.ii(z, D, C);
      if (D + 3 < z.length) {
          C = [];
          D = fN.ii(z, D, C)
      }
      return C
  }
  ;
  fN.ii = function(n, z, C) {
      var D = T.ij
        , F = T.yC
        , X = D(n, z);
      z += 2;
      var E = D(n, z);
      z += 2;
      for (var M = 0; M < E; M++) {
          var f = fN.yP(n, z);
          z += 10;
          if (X == 2) {
              f.UP = T.yy(n, z);
              z += 4 + f.UP.length * 2 + 2
          }
          C.push(f)
      }
      return z
  }
  ;
  fN.yP = function(n, z) {
      var C = T.ij
        , D = T.yC
        , F = C(n, z)
        , J = null;
      z += 2;
      var X = C(n, z);
      z += 2;
      var E = C(n, z);
      z += 2;
      var f = C(n, z);
      z += 2;
      var a = C(n, z);
      z += 2;
      var q = 1 / 65535
        , c = 255 / 65535
        , K = 100 / 65535
        , R = 255 / 1e4;
      if (F == 0)
          J = {
              h: X * c,
              Q: E * c,
              O: f * c
          };
      else if (F == 1) {
          J = j.X9(X * q, E * q, f * q);
          J.h *= 255;
          J.Q *= 255;
          J.O *= 255
      } else if (F == 2)
          J = j._.Jo({
              classID: "CMYC",
              Cyn: {
                  t: "doub",
                  v: 100 - X * K
              },
              Mgnt: {
                  t: "doub",
                  v: 100 - E * K
              },
              Ylw: {
                  t: "doub",
                  v: 100 - f * K
              },
              Blck: {
                  t: "doub",
                  v: 100 - a * K
              }
          });
      else if (F == 7) {
          var w = j.sp(X / 100, D(n, z - 6) / 100, D(n, z - 4) / 100);
          J = w
      } else if (F == 8) {
          J = {
              h: 255 - X * R,
              Q: 255 - E * R,
              O: 255 - f * R
          }
      } else
          throw "e " + F + ", ";
      return J
  }
  ;
  fN.h$ = function(n) {
      var z = new cL
        , C = 0
        , D = T.Uo;
      D(z, C, 2);
      C += 2;
      D(z, C, n.length);
      C += 2;
      for (var M = 0; M < n.length; M++) {
          var F = n[M];
          z.Wz(C, 10);
          fN.mk(z.data, C, F);
          C += 10;
          var X = (F.UP ? F.UP : "") + "\0";
          T.Xg(z, C, X);
          C += 4 + X.length * 2
      }
      return z.data.slice(0, C).buffer
  }
  ;
  fN.A3 = function(n, z) {
      n.UP = z
  }
  ;
  fN.mk = function(n, z, C) {
      var D = 65535 / 255
        , F = T.d9;
      F(n, z, 0);
      F(n, z + 2, Math.round(C.h * D));
      F(n, z + 4, Math.round(C.Q * D));
      F(n, z + 6, Math.round(C.O * D));
      F(n, z + 8, 0)
  }
  ;
  function hY() {}
  hY.vC = function(n) {
      var z = new Uint8Array(n)
        , C = 4
        , D = {};
      D.$_ = T.yy(z, C);
      C += 4 + D.$_.length * 2 + 2;
      D.exp = z[C++] == 1;
      D.Fe = [];
      var F = T.q(z, C);
      C += 4;
      for (var M = 0; M < F; M++) {
          var X = {};
          D.Fe.push(X);
          X.kB = T.ij(z, C);
          C += 2;
          X.shift = z[C++] == 1;
          X.aqt = z[C++] == 1;
          X.color = T.ij(z, C);
          C += 2;
          X.$_ = T.yy(z, C);
          C += 4 + X.$_.length * 2 + 2;
          X.exp = z[C++] == 1;
          X.Fe = [];
          var E = T.q(z, C);
          C += 4;
          for (var f = 0; f < E; f++) {
              var a = {};
              X.Fe.push(a);
              a.exp = z[C++] == 1;
              a.c = z[C++] == 1;
              a.aeM = z[C++] == 1;
              a.ad6 = z[C++];
              var q = T.uL(z, C, 4);
              C += 4;
              if (q == "TEXT") {
                  a.KY = hY.mp(z, C);
                  C += 4 + a.KY.length
              } else if (q == "long") {
                  a.KY = T.uL(z, C, 4);
                  C += 4
              } else
                  throw "e";
              a.Dy = hY.mp(z, C);
              C += 4 + a.Dy.length;
              var c = T.Rt(z, C);
              C += 4;
              if (c == -1) {
                  a.cw = {};
                  var K = h9.Bb(z, a.cw, C);
                  C += K
              }
          }
      }
      console.log(D);
      var R = new Uint8Array(hY.h$(D));
      for (var M = 0; M < R.length; M++)
          if (R[M] != z[M]) {
              console.log(z.length, R.length);
              var J = 4 * (M >>> 2) - 16;
              console.log(T.ol(z, J, 64));
              console.log(T.ol(R, J, 64));
              console.log(z.slice(J, J + 64));
              console.log(R.slice(J, J + 64));
              throw M
          }
      return [D]
  }
  ;
  hY.mp = function(n, z) {
      var C = T.q(n, z);
      return T.uL(n, z + 4, C)
  }
  ;
  hY.Ud = function(n, z, C) {
      T.CP(n, z, C.length);
      T.tX(n, z + 4, C)
  }
  ;
  hY.h$ = function(n) {
      var z = new cL
        , C = 0;
      T.CP(z, C, 16);
      C += 4;
      T.Xg(z, C, n.$_ + "\0");
      C += 4 + n.$_.length * 2 + 2;
      z.Wz(C, 1);
      z.data[C++] = n.exp ? 1 : 0;
      var D = n.Fe.length;
      T.CP(z, C, D);
      C += 4;
      for (var M = 0; M < D; M++) {
          var F = n.Fe[M];
          T.Uo(z, C, F.kB);
          C += 2;
          z.Wz(C, 2);
          z.data[C++] = F.shift ? 1 : 0;
          z.data[C++] = F.aqt ? 1 : 0;
          T.Uo(z, C, F.color);
          C += 2;
          T.Xg(z, C, F.$_ + "\0");
          C += 4 + F.$_.length * 2 + 2;
          z.Wz(C, 1);
          z.data[C++] = F.exp ? 1 : 0;
          var X = F.Fe.length;
          T.CP(z, C, X);
          C += 4;
          for (var E = 0; E < X; E++) {
              var f = F.Fe[E];
              z.Wz(C, 4);
              z.data[C++] = f.exp ? 1 : 0;
              z.data[C++] = f.c ? 1 : 0;
              z.data[C++] = f.aeM ? 1 : 0;
              z.data[C++] = f.ad6;
              var a = "LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(f.KY) != -1;
              T.tX(z, C, a ? "long" : "TEXT");
              C += 4;
              if (!a) {
                  hY.Ud(z, C, f.KY);
                  C += 4 + f.KY.length
              } else {
                  T.tX(z, C, f.KY);
                  C += 4
              }
              hY.Ud(z, C, f.Dy);
              C += 4 + f.Dy.length;
              T.X6(z, C, f.cw ? -1 : 0);
              C += 4;
              if (f.cw) {
                  var q = h9.Ii(z, f.cw, C);
                  C += q
              }
          }
      }
      return z.data.slice(0, C).buffer
  }
  ;
  function gE() {}
  gE.vC = function(n) {
      var z = new Uint8Array(n), C = 0, D = T.q(z, C), a;
      C += 4;
      var F = T.uL(z, C, 8);
      C += 8;
      var X = T.YR(z, C);
      C += 4;
      var E = T.YR(z, C);
      C += 4;
      var f = T.YR(z, C);
      C += 4;
      if (D == 2) {
          a = new Float32Array(n,32,n.byteLength - 32 >>> 2)
      } else if (D == 3 || D == 4) {
          a = new Float32Array(E * f * 2);
          var q = 0
            , c = 0
            , K = !0;
          C = D == 3 ? 32 : 16 + 8 + 40;
          while (C < z.length) {
              var R = T.YR(z, C);
              C += 4;
              if (K)
                  c += R;
              else {
                  for (var M = 0; M < R; M++) {
                      a[q + c + M << 1] = T.J3(z, C);
                      a[(q + c + M << 1) + 1] = T.J3(z, C + 4);
                      C += 8
                  }
                  c += R
              }
              K = !K;
              if (R != 0 && c == E) {
                  q += E;
                  c = 0;
                  K = !0;
                  if (q == E * f)
                      break
              }
          }
      } else
          throw "unknown Mesh version: " + D;
      return {
          ob: E,
          ua: f,
          map: a
      }
  }
  ;
  gE.OK = function(n) {
      var z = n.ob
        , C = n.ua
        , D = n.map
        , F = new Uint8Array(32 + C * z * 8 + C * 8)
        , X = 0
        , E = 0;
      T._g(F, X, 3);
      X += 4;
      T.ji(F, X, "yfqLhseM");
      X += 8;
      T.Y_(F, X, 2);
      X += 4;
      T.Y_(F, X, z);
      X += 4;
      T.Y_(F, X, C);
      X += 4;
      T.Y_(F, X, 0);
      X += 4;
      T.Y_(F, X, 1);
      X += 4;
      for (var f = 0; f < C; f++) {
          T.Y_(F, X, 0);
          X += 4;
          T.Y_(F, X, z);
          X += 4;
          for (var a = 0; a < z; a++) {
              T.LB(F, X, D[E]);
              T.LB(F, X + 4, D[E + 1]);
              E += 2;
              X += 8
          }
      }
      return F.buffer
  }
  ;
  function bj() {}
  bj.vC = function(n) {
      var z = new Uint8Array(n)
        , C = 0
        , D = T.uL(z, C, 4);
      C += 4;
      var F = T.ij(z, C);
      C += 2;
      var X = T.q(z, C);
      C += 4;
      var E = [];
      for (var M = 0; M < X; M++) {
          var f = T.q(z, C);
          C += 4;
          var a = {
              classID: "ShpC",
              Nm: {
                  t: "TEXT",
                  v: ""
              },
              Crv: {
                  t: "VlLs",
                  v: []
              }
          };
          E.push(a);
          var q = T.yy(z, C);
          a.Nm.v = q;
          C += 4 + q.length * 2 + 2;
          var c = T.ij(z, C);
          C += 2;
          var K = T.ij(z, C);
          C += 2;
          for (var R = 0; R < K; R++) {
              var J = j.E6.Kl(0, 0, !0);
              J.v.Vrtc.v = T.ij(z, C);
              C += 2;
              J.v.Hrzn.v = T.ij(z, C);
              C += 2;
              a.Crv.v.push(J)
          }
          if (f == 1) {} else if (f == 2) {
              for (var R = 0; R < K; R++) {
                  a.Crv.v[R].v.Cnty.v = z[C] == 1;
                  C += 1
              }
          } else
              throw "error";
          var w = T.q(z, C);
          C += 4;
          var p = T.q(z, C);
          C += 4
      }
      return E
  }
  ;
  bj.A3 = function(n, z) {
      n.Nm.v = z
  }
  ;
  bj.h$ = function(n) {
      var z = new cL
        , C = 0;
      T.tX(z, C, "8BFS");
      C += 4;
      T.Uo(z, C, 1);
      C += 2;
      T.CP(z, C, n.length);
      C += 4;
      for (var M = 0; M < n.length; M++) {
          T.CP(z, C, 2);
          C += 4;
          var D = n[M];
          T.Xg(z, C, D.Nm.v + "\0");
          C += 4 + D.Nm.v.length * 2 + 2;
          T.Uo(z, C, 2);
          C += 2;
          var F = D.Crv.v.length;
          T.Uo(z, C, F);
          C += 2;
          for (var X = 0; X < F; X++) {
              var E = D.Crv.v[X];
              T.Uo(z, C, E.v.Vrtc.v);
              C += 2;
              T.Uo(z, C, E.v.Hrzn.v);
              C += 2
          }
          z.Wz(C, F);
          for (var X = 0; X < F; X++) {
              z.data[C] = D.Crv.v[X].v.Cnty.v;
              C++
          }
          T.CP(z, C, 0);
          C += 4;
          T.CP(z, C, 0);
          C += 4
      }
      return z.data.slice(0, C).buffer
  }
  ;
  function bX() {}
  bX.vC = function(n) {
      var z = new Uint8Array(n)
        , C = 4
        , D = T.ij(z, C);
      C += 2;
      var F = T.q(z, C);
      C += 4;
      var X = [];
      for (var M = 0; M < F; M++) {
          var E = {};
          X.push(E);
          C = bX.R0(z, C, E)
      }
      return X
  }
  ;
  bX.A3 = function(n, z) {
      n.name = z
  }
  ;
  bX.h$ = function(n) {
      var z = new cL
        , C = 0;
      T.tX(z, C, "8BPT");
      C += 4;
      T.Uo(z, C, 1);
      C += 2;
      T.CP(z, C, n.length);
      C += 4;
      for (var M = 0; M < n.length; M++) {
          C = bX.T7(z, C, n[M])
      }
      return z.data.slice(0, C).buffer
  }
  ;
  bX.zO = function(n, z, C) {
      var D = z + C
        , F = [];
      while (z < D) {
          var X = {}
            , E = T.q(n, z);
          z += 4;
          var f = z;
          z = bX.R0(n, z, X);
          if (!X.Tc[1].kX())
              F.push(X);
          if (E % 4 != 0)
              E += 4 - E % 4;
          z = f + E
      }
      return F
  }
  ;
  bX.cK = function(n, z, C) {
      for (var M = 0; M < C.length; M++) {
          var D = C[M];
          z += 4;
          var F = z;
          z = bX.T7(n, z, D);
          var X = z - F;
          T.CP(n, F - 4, X);
          if (X % 4 != 0)
              F += 4 - X % 4;
          z = F + X
      }
      return z
  }
  ;
  bX.R0 = function(n, z, C) {
      var D = T.q(n, z);
      z += 4;
      if (D != 1)
          alert("Unknown version of pattern");
      var F = T.q(n, z);
      z += 4;
      if (F != 1 && F != 2 && F != 3)
          console.log("Unsupported mode of pattern: " + F);
      var X = T.ij(n, z);
      z += 2;
      var E = T.ij(n, z);
      z += 2;
      var f = new cc(0,0,E,X);
      C.name = T.yy(n, z);
      z += 4 + 2 * C.name.length + 2;
      var a = n[z];
      z++;
      C.id = T.uL(n, z, a);
      z += C.id.length;
      var q = -1;
      if (F == 2) {
          q = z;
          z += 3 * 256 + 4
      }
      var c = new j.Dv(E * X);
      z = bX.ahe(n, z, c);
      if (F == 2) {
          for (var M = 0; M < c.h.length; M++) {
              var K = 3 * c.h[M];
              c.h[M] = n[q + K + 0];
              c.Q[M] = n[q + K + 1];
              c.O[M] = n[q + K + 2]
          }
      }
      var R = j.T(f.t() * 4);
      j.JD(c, R);
      C.Tc = [R, f];
      return z
  }
  ;
  bX.T7 = function(n, z, C) {
      var D = C.Tc[0]
        , F = C.Tc[1];
      T.CP(n, z, 1);
      z += 4;
      T.CP(n, z, 3);
      z += 4;
      T.Uo(n, z, F.v);
      z += 2;
      T.Uo(n, z, F.d);
      z += 2;
      T.Xg(n, z, C.name + "\0");
      z += 4 + 2 * C.name.length + 2;
      T.zc(n, z, C.id.length);
      z++;
      T.tX(n, z, C.id);
      z += C.id.length;
      var X = new j.Dv(F.t());
      j.I6(D, X);
      z = bX.a9s(n, z, X, F);
      return z
  }
  ;
  bX.ahe = function(n, z, C) {
      var D = z
        , F = {
          R: null,
          Hg: [],
          a0G: null,
          Kj: null
      }
        , X = T.q(n, z);
      z += 4;
      var E = T.q(n, z);
      z += 4;
      F.R = T.MX(n, z);
      z += 16;
      var f = T.q(n, z);
      z += 4;
      for (var M = 0; M < f + 2; M++) {
          var a = T.q(n, z);
          z += 4;
          if (a == 0)
              continue;
          var q = T.q(n, z);
          z += 4;
          if (q == 0)
              continue;
          var c = T.q(n, z);
          z += 4;
          var K = T.MX(n, z);
          z += 16;
          var R = T.ij(n, z);
          z += 2;
          var J = n[z];
          z++;
          var w = gt.lM(!1, c, n, K.d, K.v, z, J);
          if (M < f)
              F.Hg.push(w);
          if (M == f)
              F.a0G = w;
          if (M == f + 1)
              F.Kj = w;
          z += q - 23
      }
      if (!F.R.kX()) {
          if (F.Hg[0])
              C.h = F.Hg[0];
          if (F.Hg[1])
              C.Q = F.Hg[1];
          else
              C.Q = F.Hg[0].slice(0);
          if (F.Hg[2])
              C.O = F.Hg[2];
          else
              C.O = F.Hg[0].slice(0);
          if (F.Kj)
              C.nb = F.Kj;
          else
              C.nb.fill(255)
      }
      return z
  }
  ;
  bX.a9s = function(n, z, C, D) {
      var F = z
        , X = {
          R: D,
          Hg: [C.h, C.Q, C.O],
          a0G: null,
          Kj: C.nb
      };
      T.CP(n, z, 3);
      z += 4;
      T.CP(n, z, 0);
      z += 4;
      T.qF(n, z, D);
      z += 16;
      T.CP(n, z, 24);
      z += 4;
      for (var M = 0; M < 24 + 2; M++) {
          var E = z
            , f = M < 3 || M == 25 ? 1 : 0;
          T.CP(n, z, f);
          z += 4;
          if (f == 0)
              continue;
          T.CP(n, z, 0);
          z += 4;
          T.CP(n, z, 8);
          z += 4;
          T.qF(n, z, D);
          z += 16;
          T.Uo(n, z, 8);
          z += 2;
          T.zc(n, z, 1, 1);
          z++;
          var a = M < 3 ? X.Hg[M] : X.Kj;
          n.Wz(z, D.t() + 2);
          z = gt.Mj(!1, a, n.data, D.d, D.v, z, 1);
          T.CP(n, E + 4, z - E - 8)
      }
      T.CP(n, F + 4, z - F - 8);
      return z
  }
  ;
  function a0() {}
  a0.vC = function(n) {
      var z = new Uint8Array(n)
        , C = 0
        , D = T.uL(z, C, 4);
      C += 4;
      var F = T.ij(z, C);
      C += 2;
      var X = [];
      if (F <= 3) {
          var E = T.ij(z, C);
          C += 2;
          for (var M = 0; M < E; M++) {
              var f = z[C++]
                , a = T.uL(z, C, f);
              C += f;
              var q = a0.Uf(z, C, a)
                , c = q[0];
              C = q[1];
              X.push(c);
              C += 6
          }
      } else {
          var q = {}
            , K = h9.Bb(z, q, C + 4)
            , R = q.GrdL.v;
          for (var M = 0; M < R.length; M++)
              X[M] = R[M].v.Grad.v
      }
      return X
  }
  ;
  a0.A3 = function(n, z) {
      n.Nm.v = z
  }
  ;
  a0.h$ = function(n) {
      var z = new cL
        , C = 0;
      T.tX(z, C, "8BGR");
      C += 4;
      T.Uo(z, C, 5);
      C += 2;
      T.CP(z, C, 16);
      C += 4;
      var D = {
          classID: "null",
          GrdL: {
              t: "VlLs",
              v: []
          }
      }
        , F = D.GrdL.v;
      for (var M = 0; M < n.length; M++)
          F[M] = {
              t: "Objc",
              v: {
                  classID: "Grdn",
                  __name: "Gradient ",
                  Grad: {
                      t: "Objc",
                      v: n[M]
                  }
              }
          };
      C += h9.Ii(z, D, C);
      return z.data.slice(0, C).buffer
  }
  ;
  a0.Uf = function(n, z, C) {
      var D = {
          classID: "Grdn",
          Clrs: {
              t: "VlLs",
              v: []
          },
          GrdF: {
              t: "enum",
              v: {
                  GrdF: "CstS"
              }
          },
          Intr: {
              t: "doub",
              v: 4096
          },
          Nm: {
              t: "TEXT",
              v: C
          },
          Trns: {
              t: "VlLs",
              v: []
          }
      }
        , F = T.ij(n, z);
      z += 2;
      if (F == 0)
          throw "e";
      for (var M = 0; M < F; M++) {
          var X = T.q(n, z)
            , E = T.q(n, z + 4)
            , f = fN.yP(n, z + 8)
            , a = {
              t: "Objc",
              v: {
                  classID: "Clrt",
                  Clr: {
                      t: "Objc",
                      v: {
                          classID: "RGBC",
                          Rd: {
                              t: "doub",
                              v: f.h
                          },
                          Grn: {
                              t: "doub",
                              v: f.Q
                          },
                          Bl: {
                              t: "doub",
                              v: f.O
                          }
                      }
                  },
                  Type: {
                      t: "enum",
                      v: {
                          Clry: "UsrS"
                      }
                  },
                  Lctn: {
                      t: "long",
                      v: X
                  },
                  Mdpn: {
                      t: "long",
                      v: E
                  }
              }
          };
          D.Clrs.v.push(a);
          z += 20
      }
      var q = T.ij(n, z);
      z += 2;
      for (var M = 0; M < q; M++) {
          var X = T.q(n, z)
            , E = T.q(n, z + 4)
            , c = T.ij(n, z + 8)
            , a = {
              t: "Objc",
              v: {
                  classID: "TrnS",
                  Opct: {
                      t: "UntF",
                      v: {
                          type: "#Prc",
                          val: Math.round(100 * c / 255)
                      }
                  },
                  Lctn: {
                      t: "long",
                      v: X
                  },
                  Mdpn: {
                      t: "long",
                      v: E
                  }
              }
          };
          D.Trns.v.push(a);
          z += 10
      }
      return [D, z]
  }
  ;
  a0.acp = function(n, z, C) {
      var D = C.Clrs.v.length;
      T.Uo(n, z, D);
      z += 2;
      for (var M = 0; M < D; M++) {
          var F = C.Clrs.v[M];
          T.CP(n, z, F.v.Lctn.v);
          T.CP(n, z + 4, F.v.Mdpn.v);
          T.Uo(n, z + 8, 0);
          var X = j._.w9(j._.Jo(F.v.Clr.v))
            , E = [X.Rd.v, X.Grn.v, X.Bl.v, 0];
          for (var f = 0; f < 4; f++)
              T.Uo(n, z + 10 + f * 2, Math.round(65535 * (E[f] / 255)));
          z += 20
      }
      var a = C.Trns.v.length;
      T.Uo(n, z, a);
      z += 2;
      for (var M = 0; M < a; M++) {
          var F = C.Trns.v[M];
          T.CP(n, z, F.v.Lctn.v);
          T.CP(n, z + 4, F.v.Mdpn.v);
          T.Uo(n, z + 8, Math.round(255 * F.v.Opct.v.val / 100));
          z += 10
      }
      return z
  }
  ;
  function eV() {}
  eV.vC = function(n) {
      var z = new Uint8Array(n)
        , C = []
        , D = []
        , F = []
        , X = []
        , E = []
        , f = 0
        , a = T.uL(z, f, 4);
      f += 4;
      var q = T.q(z, f);
      f += 4;
      var c = T.q(z, f);
      f += 4;
      while (f < z.length) {
          var K = T.uL(z, f, 4);
          f += 4;
          var R = T.uL(z, f, 4);
          f += 4;
          var J = T.q(z, f);
          f += 4;
          if (R == "tppa") {
              D = bX.zO(z, f, J);
              f += J
          } else if (R == "tpbd") {
              F = ee.m5(z, f, J, 1, 1);
              f += J
          } else if (R == "tptp") {
              var w = T.q(z, f);
              f += 4;
              for (var M = 0; M < w; M++) {
                  var p = T.yy(z, f);
                  f += 6 + p.length * 2;
                  f += 4;
                  var I = {};
                  f += h9.Bb(z, I, f);
                  C.push([p, I])
              }
              while ((f & 3) != 0)
                  f++
          } else if (R == "tpsh") {
              var m = f
                , A = z.slice(f, f + J);
              while (f < m + J) {
                  var U = T.q(z, f);
                  f += 4;
                  f = eh.r7(z, f, "Shape", X)
              }
              f = m + J
          } else if (R == "tpst") {
              var m = f;
              f += 4;
              while (f < m + J) {
                  var r = T.q(z, f);
                  f += 4;
                  var $ = f
                    , k = T.q(z, f);
                  f += 4;
                  var I = {
                      lg: {},
                      _i: {}
                  };
                  E.push(I);
                  f += 4;
                  f += h9.Bb(z, I.lg, f);
                  f += 4;
                  f += h9.Bb(z, I._i, f);
                  f = $ + r;
                  var G = I._i.Lefx;
                  if (G) {
                      if (G.v.masterFXSwitch == null)
                          G.v.masterFXSwitch = {
                              t: "bool",
                              v: !0
                          };
                      ac.wZ(G.v)
                  }
              }
              f = m + J
          } else {
              console.log(z.slice(f - 8, f + 64));
              console.log(T.uL(z, f - 8, 64));
              throw R
          }
      }
      return {
          np: F,
          gi: D,
          list: C,
          ajV: X,
          lc: E
      }
  }
  ;
  eV.A3 = function(n, z) {
      n[0] = z
  }
  ;
  eV.h$ = function(n) {
      var z = new cL
        , C = 0;
      T.tX(z, C, "8BTP");
      C += 4;
      T.CP(z, C, 3);
      C += 4;
      T.CP(z, C, 1);
      C += 4;
      var D = [n.gi, n.np, n.list];
      for (var M = 0; M < 3; M++) {
          if (D[M].length == 0)
              continue;
          T.tX(z, C, "8BIM");
          C += 4;
          var F = ["tppa", "tpbd", "tptp"][M];
          T.tX(z, C, F);
          C += 4;
          var X = C;
          C += 4;
          if (F == "tppa") {
              C = bX.cK(z, C, n.gi)
          } else if (F == "tpbd") {
              C = ee.__(z, C, n.np)
          } else if (F == "tptp") {
              T.CP(z, C, n.list.length);
              C += 4;
              for (var E = 0; E < n.list.length; E++) {
                  var f = n.list[E];
                  T.Xg(z, C, f[0] + "\0");
                  C += 6 + f[0].length * 2;
                  T.CP(z, C, 16);
                  C += 4;
                  C += h9.Ii(z, f[1], C)
              }
          }
          T.CP(z, X, C - X - 4);
          while ((C & 3) != 0)
              C++;
          z.Wz(C, 0)
      }
      return z.data.slice(0, C).buffer
  }
  ;
  function e_() {}
  e_.vC = function(n, z) {
      var C = new Uint8Array(n), D;
      if (T.q(C, 0) == C.length)
          D = "icc";
      else if (C[0] == "<".charCodeAt(0))
          D = "look";
      else if (T.Wf(C, "LUT_3D_SIZE") != -1)
          D = "cube";
      else
          D = "3DL";
      if (D != "icc") {
          var F = e_.am0(C, D)
            , X = e_.aqc(F[0], F[1]);
          C = X
      }
      var E = [];
      for (var M = 0; M < C.length; M++)
          E.push(C[M]);
      return [{
          classID: "null",
          Dthr: {
              t: "bool",
              v: !0
          },
          Nm: {
              t: "TEXT",
              v: z ? z : "file.icc"
          },
          lookupType: {
              t: "enum",
              v: {
                  colorLookupType: "abstractProfile"
              }
          },
          profile: {
              t: "tdta",
              v: E
          }
      }]
  }
  ;
  e_.h$ = function(n) {
      var z = n[0]
        , C = new Uint8Array(z.profile.v);
      return C.buffer
  }
  ;
  e_.A3 = function(n, z) {
      n.Nm.v = z
  }
  ;
  e_.aqc = function(n, z) {
      var C = new cL
        , D = 128;
      C.Wz(0, 128);
      var F = [0, 0, 14, 204, 65, 68, 66, 69, 4, 0, 0, 0, 108, 105, 110, 107, 82, 71, 66, 32, 82, 71, 66, 32, 7, 227, 0, 7, 0, 27, 0, 8, 0, 6, 0, 49, 97, 99, 115, 112, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 246, 214, 0, 1, 0, 0, 0, 0, 211, 45, 65, 68, 66, 69, 219, 126, 245, 21, 206, 223, 186, 23, 165, 212, 201, 219, 250, 10, 33, 62];
      for (var M = 0; M < F.length; M++)
          C.data[M] = F[M];
      var X = ["desc", "A2B0"]
        , E = X.length
        , f = 128 + 4 + E * 12;
      T.CP(C, D, E);
      D += 4;
      for (var a = 0; a < E; a++) {
          var q = X[a];
          T.tX(C, D, q);
          D += 4;
          T.CP(C, D, f);
          D += 4;
          var c = f;
          if (q == "desc") {
              T.tX(C, c, "mluc");
              c += 4;
              c += 4;
              T.CP(C, c, 1);
              c += 4;
              T.CP(C, c, 12);
              c += 4;
              T.tX(C, c, "enUS");
              c += 4;
              var K = "ICC by Photopea\0"
                , R = K.length * 2 + 2;
              T.CP(C, c, R);
              c += 4;
              T.CP(C, c, 28);
              c += 4;
              C.Wz(c, R);
              for (var M = 0; M < K.length; M++)
                  C.data[c + M * 2 + 1] = K.charCodeAt(M);
              c += R
          }
          if (q == "A2B0") {
              T.tX(C, c, "mAB ");
              c += 4;
              c += 4;
              C.Wz(c, 4);
              C.data[c] = 3;
              C.data[c + 1] = 3;
              c += 4;
              C.Wz(c, 4 * 5);
              c += 4 * 3;
              T.CP(C, c, c + 8 - f);
              c += 4;
              c += 4;
              C.Wz(c, 20);
              C.data[c] = n;
              C.data[c + 1] = n;
              C.data[c + 2] = n;
              c += 16;
              C.data[c] = 2;
              c += 4;
              var J = n * n * n * 3;
              C.Wz(c, J * 2);
              for (var M = 0; M < J; M++)
                  T.d9(C.data, c + M * 2, Math.max(0, Math.min(65535, Math.round(z[M] * 65535))));
              c += J * 2
          }
          var w = c - f;
          while ((w & 3) != 0)
              w++;
          T.CP(C, D, w);
          D += 4;
          f += w
      }
      T.CP(C, 0, f);
      return C.data.slice(0, f)
  }
  ;
  e_.am0 = function(n, z) {
      z = "LUTFormat" + z.toUpperCase();
      var C = []
        , D = 0
        , F = T.iS(n, 0, n.length)
        , X = "";
      for (var M = 0; M < n.length && X == ""; M++) {
          if (n[M] == 10)
              X = "\n";
          else if (n[M] == 13) {
              X = "\r";
              if (n[M + 1] == 10)
                  X += "\n"
          }
      }
      if (z == "LUTFormatCUBE") {
          var E = F.split(X);
          for (var M = 0; M < E.length; M++) {
              if (E[M] == "" || E[M][0] == "#")
                  continue;
              var f = E[M].split(" ")
                , a = f[0];
              if (a == "LUT_3D_SIZE") {
                  D = parseInt(f[1]);
                  continue
              }
              if (["TITLE", "DOMAIN_MIN", "DOMAIN_MAX"].indexOf(a) != -1)
                  continue;
              C.push(parseFloat(f[0]), parseFloat(f[1]), parseFloat(f[2]))
          }
          C = e_.jB(D, C)
      } else if (z == "LUTFormat3DL") {
          var E = F.split(X)
            , q = 1 / 4095;
          for (var M = 0; M < E.length; M++) {
              var c = E[M];
              if (c == "" || c == "3DMESH" || c.startsWith("Mesh") || c[0] == "#")
                  continue;
              var f = c.split(" ")
                , a = f[0];
              if (D == 0) {
                  D = f.length;
                  continue
              }
              C.push(parseFloat(f[0]) * q, parseFloat(f[1]) * q, parseFloat(f[2]) * q)
          }
      } else if (z == "LUTFormatLOOK") {
          var K = new DOMParser
            , R = K.parseFromString(F, "text/xml")
            , J = R.getElementsByTagName("LUT")[0]
            , w = J.children[0].textContent;
          D = parseInt(JSON.parse(w));
          var p = J.children[1].textContent;
          p = p.replace(/"/g, "").replace(/\s/g, "");
          var I = 3 * D * D * D
            , m = I * 4
            , A = new Uint8Array(m);
          for (var M = 0; M < m; M++) {
              var U = p.charCodeAt(M * 2)
                , r = p.charCodeAt(M * 2 + 1)
                , $ = U < 58 ? U - 48 : U - 55
                , k = r < 58 ? r - 48 : r - 55;
              A[M] = ($ << 4) + k
          }
          for (var M = 0; M < I; M++)
              C.push(T.J3(A, M << 2));
          C = e_.jB(D, C)
      } else
          throw z;
      return [D, C]
  }
  ;
  e_.a1a = function(n, z, C) {
      var D = ["#Created by www.Photopea.com", "TITLE \"" + C + "\"", "", "#LUT size", "LUT_3D_SIZE " + z, "", "#data domain", "DOMAIN_MIN 0.0 0.0 0.0", "DOMAIN_MAX 1.0 1.0 1.0", "", "#LUT data points"]
        , F = 6;
      for (var M = 0; M < n.length; M += 3) {
          D.push(n[M].toFixed(F) + " " + n[M + 1].toFixed(F) + " " + n[M + 2].toFixed(F))
      }
      D.push("");
      return T.Ns(D.join("\n")).buffer
  }
  ;
  e_.jB = function(n, z) {
      var C = []
        , D = n * n * n;
      for (var M = 0; M < D; M++)
          C.push(0, 0, 0);
      for (var F = 0; F < n; F++)
          for (var X = 0; X < n; X++)
              for (var E = 0; E < n; E++) {
                  var M = 3 * (E + X * n + F * n * n)
                    , f = 3 * (F + X * n + E * n * n);
                  C[f] = z[M];
                  C[f + 1] = z[M + 1];
                  C[f + 2] = z[M + 2]
              }
      return C
  }
  ;
  function h9() {}
  h9.Bb = function(n, z, C, D, F) {
      var X = C, E;
      if (F == null)
          F = 0;
      var f = T.q(n, C);
      if (f == 0) {
          E = "";
          C += 4
      } else {
          E = T.yy(n, C);
          C += 4 + 2 * E.length + 2
      }
      if (E != "")
          z.__name = E;
      z.classID = h9.ni(n, C);
      if (D)
          console.log("\t".repeat(F), "- reading descriptor", z.classID, C);
      C += h9.LM(n, C);
      var a = T.Rt(n, C);
      C += 4;
      for (var M = 0; M < a; M++) {
          var q = h9.ni(n, C);
          C += h9.LM(n, C);
          var c = h9.fp(n, C, D, F);
          z[q] = c;
          C += c.size;
          delete c.size
      }
      return C - X
  }
  ;
  h9.Ii = function(n, z, C, D) {
      var F = C
        , X = z.__name;
      if (X == null)
          X = "";
      X += "\0";
      T.Xg(n, C, X);
      C += 4 + 2 * X.length;
      h9.ow(n, C, z.classID);
      C += h9.LM(n.data, C);
      T.X6(n, C, Object.keys(z).length - 1 - (z.__name == null ? 0 : 1));
      C += 4;
      for (var E in z) {
          if (E == "classID")
              continue;
          if (E == "__name")
              continue;
          h9.ow(n, C, E);
          C += h9.LM(n.data, C);
          C += h9.bV(n, C, z[E])
      }
      return C - F
  }
  ;
  h9.fp = function(n, z, C, D) {
      var F = z
        , X = T.uL(n, z, 4);
      z += 4;
      var E = {
          size: 0,
          t: X,
          v: null
      };
      if (C)
          console.log("\t".repeat(D), "reading key", X, F);
      switch (X) {
      case "obj ":
      case "VlLs":
          E.v = [];
          var f = T.q(n, z);
          z += 4;
          for (var M = 0; M < f; M++) {
              var a = h9.fp(n, z, C, D + 1);
              z += a.size;
              delete a.size;
              E.v.push(a)
          }
          break;
      case "UntF":
          E.v = {
              type: T.uL(n, z, 4),
              val: T.C9(n, z + 4)
          };
          z += 12;
          break;
      case "doub":
          E.v = T.C9(n, z);
          z += 8;
          break;
      case "bool":
          E.v = n[z] == 1;
          z += 1;
          break;
      case "long":
          E.v = T.Rt(n, z);
          z += 4;
          break;
      case "comp":
          E.v = T.Rt(n, z + 4);
          z += 8;
          break;
      case "Objc":
          E.v = {};
          var q = h9.Bb(n, E.v, z, C, D + 1);
          z += q;
          break;
      case "TEXT":
          var c = T.q(n, z);
          if (c == 0) {
              E.v = "";
              z += 4
          } else {
              E.v = T.yy(n, z);
              z += 4 + E.v.length * 2 + 2
          }
          break;
      case "enum":
          var K = h9.ni(n, z);
          z += h9.LM(n, z);
          var R = h9.ni(n, z);
          z += h9.LM(n, z);
          E.v = {};
          E.v[K] = R;
          break;
      case "tdta":
          var J = T.Rt(n, z);
          z += 4;
          E.v = [];
          for (var M = 0; M < J; M++)
              E.v.push(n[z + M]);
          z += J;
          break;
      case "ObAr":
          var w = T.q(n, z);
          z += 4;
          var p = T.yy(n, z);
          z += 4 + 2 * p.length + 2;
          if (p != "")
              throw p;
          var I = h9.ni(n, z);
          z += 4 + Math.max(4, I.length);
          E.v = {
              classID: I,
              arr: []
          };
          var m = T.q(n, z);
          z += 4;
          for (var M = 0; M < m; M++) {
              var I = h9.ni(n, z);
              z += 4 + Math.max(4, I.length);
              var K = T.uL(n, z, 4);
              z += 4;
              var A = T.uL(n, z, 4);
              z += 4;
              var U = {
                  id: I,
                  type: K,
                  uID: A,
                  arr: []
              };
              E.v.arr.push(U);
              var r = T.q(n, z, 4);
              z += 4;
              for (var $ = 0; $ < r; $++) {
                  var k = T.C9(n, z);
                  z += 8;
                  U.arr.push(k)
              }
          }
          break;
      case "Pth ":
          var G = z
            , J = T.q(n, z);
          z += 4;
          var i = T.uL(n, z, 4);
          z += 4;
          var o = T.YR(n, z);
          z += 4;
          var S = T.amC(n, z);
          z += 4 + S.length * 2;
          E.v = {
              sig: i,
              pth: S
          };
          break;
      case "Clss":
      case "type":
      case "rele":
          var S = T.yy(n, z);
          z += 4 + S.length * 2 + 2;
          var H = h9.ni(n, z);
          z += 4 + Math.max(4, H.length);
          E.v = {
              classID: H
          };
          if (S != "")
              E.v.__name = S;
          if (X == "rele") {
              E.v.val = T.Rt(n, z);
              z += 4
          }
          break;
      case "prop":
      case "Enmr":
      case "indx":
      case "name":
          var e = h9.QD[X]
            , S = T.yy(n, z);
          z += 4 + S.length * 2 + 2;
          if (S.length != 0) {
              console.log(X, S);
              throw "e"
          }
          E.v = {};
          for (var M = 0; M < e.length; M++) {
              var H = h9.ni(n, z);
              z += 4 + Math.max(4, H.length);
              E.v[e[M]] = H
          }
          if (X == "name") {
              var S = T.yy(n, z);
              z += 4 + S.length * 2 + 2;
              E.v.val = S
          }
          if (X == "indx") {
              E.v.val = T.q(n, z);
              z += 4
          }
          break;
      case "alis":
          var J = T.q(n, z);
          z += 4;
          E.v = T.uL(n, z, J);
          z += J;
          break;
      default:
          {
              console.log("unknown oskey: " + X + ", " + F);
              throw "e";
              return E
          }
      }
      if (C) {
          console.log("\t".repeat(D), E.v);
          console.log("\t".repeat(D), "======", z)
      }
      E.size = z - F;
      return E
  }
  ;
  h9.QD = {
      name: ["classID"],
      prop: ["classID", "keyID"],
      Enmr: ["classID", "typeID", "enum"],
      indx: ["classID"]
  };
  h9.bV = function(n, z, C) {
      var D = z
        , F = C.t;
      C = C.v;
      T.tX(n, z, F);
      z += 4;
      switch (F) {
      case "obj ":
      case "VlLs":
          T.X6(n, z, C.length);
          z += 4;
          for (var X = 0; X < C.length; X++) {
              var E = h9.bV(n, z, C[X]);
              z += E
          }
          break;
      case "UntF":
          T.tX(n, z, C.type);
          T.iM(n, z + 4, C.val);
          z += 12;
          break;
      case "doub":
          T.iM(n, z, C);
          z += 8;
          break;
      case "bool":
          T.zc(n, z, C ? 1 : 0, 1);
          z += 1;
          break;
      case "long":
          T.X6(n, z, C);
          z += 4;
          break;
      case "comp":
          T.X6(n, z + 4, C);
          z += 8;
          break;
      case "Objc":
          var E = h9.Ii(n, C, z);
          z += E;
          break;
      case "TEXT":
          T.Xg(n, z, C + "\0");
          z += 4 + C.length * 2 + 2;
          break;
      case "enum":
          var f = Object.keys(C)[0]
            , a = C[f];
          h9.ow(n, z, f);
          z += h9.LM(n.data, z);
          h9.ow(n, z, a);
          z += h9.LM(n.data, z);
          break;
      case "tdta":
          T.CP(n, z, C.length);
          z += 4;
          T.K_(n, z, C);
          z += C.length;
          break;
      case "ObAr":
          T.CP(n, z, C.arr[0].arr.length);
          z += 4;
          T.Xg(n, z, "\0");
          z += 6;
          h9.ow(n, z, C.classID);
          z += 4 + Math.max(4, C.classID.length);
          T.CP(n, z, C.arr.length);
          z += 4;
          for (var M = 0; M < C.arr.length; M++) {
              var q = C.arr[M];
              h9.ow(n, z, q.id);
              z += 4 + Math.max(4, q.id.length);
              T.tX(n, z, q.type);
              z += 4;
              T.tX(n, z, q.uID);
              z += 4;
              T.CP(n, z, q.arr.length);
              z += 4;
              for (var X = 0; X < q.arr.length; X++) {
                  T.iM(n, z, q.arr[X]);
                  z += 8
              }
          }
          break;
      case "Pth ":
          var c = C.pth.length * 2 + 4 + 8;
          T.CP(n, z, c);
          z += 4;
          T.tX(n, z, C.sig);
          z += 4;
          T.eB(n, z, c);
          z += 4;
          T.adT(n, z, C.pth);
          z += C.pth.length * 2 + 4;
          break;
      case "Clss":
      case "type":
      case "rele":
          var K = C.__name;
          if (K == null)
              K = "";
          T.Xg(n, z, K + "\0");
          z += 4 + K.length * 2 + 2;
          var R = C.classID;
          h9.ow(n, z, R);
          z += 4 + Math.max(4, R.length);
          if (F == "rele") {
              T.X6(n, z, C.val);
              z += 4
          }
          break;
      case "prop":
      case "Enmr":
      case "indx":
      case "name":
          var J = h9.QD[F];
          T.CP(n, z, 1);
          z += 6;
          for (var M = 0; M < J.length; M++) {
              var R = C[J[M]];
              h9.ow(n, z, R);
              z += 4 + Math.max(4, R.length)
          }
          if (F == "name") {
              T.Xg(n, z, C.val + "\0");
              z += 4 + C.val.length * 2 + 2
          }
          if (F == "indx") {
              T.CP(n, z, C.val);
              z += 4
          }
          break;
      case "alis":
          var c = C.length;
          T.CP(n, z, c);
          z += 4;
          T.tX(n, z, C);
          z += c;
          break;
      default:
          console.log("unknown oskey: " + F);
          z = D;
          break
      }
      return z - D
  }
  ;
  h9.ni = function(n, z) {
      var C = T.Rt(n, z);
      if (C > 1e3)
          throw "e";
      if (C == 0)
          C = 4;
      return T.uL(n, z + 4, C).trim()
  }
  ;
  h9.LM = function(n, z) {
      var C = T.Rt(n, z);
      return C == 0 ? 8 : 4 + C
  }
  ;
  h9.ow = function(n, z, C) {
      var D = "warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow trim then else".split(" ")
        , F = 4 < C.length || D.indexOf(C) != -1;
      T.X6(n, z, F ? C.length : 0);
      T.tX(n, z + 4, C);
      if (C.length < 4 && !F) {
          var X = "";
          for (var M = C.length; M < 4; M++)
              X += " ";
          T.tX(n, z + 4 + C.length, X)
      }
  }
  ;
  h9.a7Y = function(n) {
      var z = {};
      for (var C in n) {
          if (C == "classID")
              z[C] = n[C];
          else if (C == "__name")
              z[C] = n[C];
          else
              z[C] = h9.Xs(n[C])
      }
      return z
  }
  ;
  h9.Xs = function(n) {
      if (n.x2 == "Objc")
          return h9.a7Y(n.v);
      else if (n.x2 == "VlLs") {
          var z = [];
          for (var M = 0; M < n.v.length; M++)
              z.push(h9.Xs(n.v[M]));
          return z
      } else if (n.x2 == "UntF")
          return n.v.val;
      else
          return n.v
  }
  ;
  function ac() {}
  ac.zD = function(n, z, C, D, F, X) {
      while (z < C) {
          var E = T.uL(n, z, 4);
          z += 4;
          if (E != "8BIM" && E != "8B64") {
              console.log("layer information signature error! " + E, "PSB = " + F);
              alert("Error in PSD file: wrong signature.");
              return C
          }
          var f = T.uL(n, z, 4);
          z += 4;
          var a = T.q(n, z);
          z += 4;
          var q = F && "LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(f) != -1;
          if (q) {
              a = a << 32 | T.Rt(n, z);
              z += 4
          }
          var c = ["lrFX", "PlLd"];
          if (c.indexOf(f) != -1) {
              if (a % 4 != 0)
                  a += 4 - a % 4;
              z += a;
              continue
          }
          switch (f) {
          case "iOpa":
              D[f] = n[z];
              break;
          case "brst":
              D[f] = [1, 1, 1];
              for (var M = 0; M < a; M += 4)
                  D[f][T.q(n, z + M)] = 0;
              break;
          case "knko":
              D[f] = n[z];
              break;
          case "infx":
              D[f] = n[z];
              break;
          case "clbl":
              D[f] = n[z];
              break;
          case "lmgm":
              D[f] = n[z];
              break;
          case "vmgm":
              D[f] = n[z];
              break;
          case "lyid":
              D[f] = T.q(n, z);
              break;
          case "lsct":
              D[f] = {
                  type: T.q(n, z)
              };
              if (a >= 12)
                  D[f].Gx = T.uL(n, z + 8, 4);
              break;
          case "lsdk":
              D.lsct = {
                  type: T.q(n, z)
              };
              break;
          case "lyvr":
              D[f] = T.q(n, z);
              break;
          case "lnsr":
              var K = {
                  artb: 1,
                  bgnd: 1,
                  cont: 1,
                  layr: 1,
                  lset: 1,
                  rend: 1,
                  shap: 1,
                  user: 1,
                  ____: null
              };
              D[f] = T.uL(n, z, 4);
              break;
          case "lspf":
              D[f] = T.q(n, z);
              break;
          case "lclr":
              D[f] = T.ij(n, z);
              break;
          case "luni":
              D[f] = T.$S(n, z);
              break;
          case "fxrp":
              D[f] = new ir(T.C9(n, z),T.C9(n, z + 8));
              break;
          case "artb":
          case "artd":
              D[f] = {};
              h9.Bb(n, D[f], z + 4);
              break;
          case "SoCo":
              D[f] = {};
              h9.Bb(n, D[f], z + 4);
              break;
          case "GdFl":
              D[f] = {};
              h9.Bb(n, D[f], z + 4);
              ac.So(D[f], f);
              break;
          case "PtFl":
              D[f] = {};
              h9.Bb(n, D[f], z + 4);
              ac.So(D[f], f);
              break;
          case "CgEd":
              var R = D.brit = fd.zP("brit")
                , J = {};
              h9.Bb(n, J, z + 4);
              R.Brgh.v = J.Brgh ? J.Brgh.v : 0;
              R.Cntr.v = J.Cntr ? J.Cntr.v : 0;
              R.useLegacy.v = J.useLegacy ? J.useLegacy.v : 0;
              break;
          case "brit":
              if (D.brit == null) {
                  var R = D.brit = fd.zP("brit")
                    , J = {};
                  R.Brgh.v = T.yC(n, z);
                  R.Cntr.v = T.yC(n, z + 2);
                  R.useLegacy.v = !1
              }
              break;
          case "levl":
              var w = n.buffer.slice(z, z + a);
              D[f] = eJ.vC(w);
              break;
          case "curv":
              D[f] = cN.r4(n, z, a);
              break;
          case "expA":
              var p = T.ij(n, z)
                , I = D[f] = fd.zP("expA");
              I.Exps.v = T.$g(n, z + 2);
              I.Ofst.v = T.$g(n, z + 6);
              I.gammaCorrection.v = T.$g(n, z + 10);
              break;
          case "vibA":
              D[f] = {};
              h9.Bb(n, D[f], z + 4);
              break;
          case "hue2":
              D[f] = f5.r4(n, z, a);
              break;
          case "blnc":
              var I = D[f] = fd.zP(f);
              I.PrsL.v = n[z + 18] == 1;
              var m = ["ShdL", "MdtL", "HghL"];
              for (var M = 0; M < 3; M++)
                  for (var A = 0; A < 3; A++)
                      I[m[M]].v[A].v = T.yC(n, z + M * 6 + A * 2);
              break;
          case "blwh":
              var U = {};
              h9.Bb(n, U, z + 4);
              var I = fd.zP(f)
                , r = "Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
              for (var M = 0; M < r.length; M++) {
                  I[r[M]] = U[r[M]];
                  delete U[r[M]]
              }
              D[f] = I;
              break;
          case "phfl":
              var I = D[f] = fd.zP(f)
                , $ = I.Clr.v
                , p = T.ij(n, z);
              if (p == 3) {
                  var k = [T.q(n, z + 2), T.q(n, z + 6), T.q(n, z + 10)]
                    , G = 32768
                    , i = j.$Y(k[0] / G, k[1] / G, k[2] / G);
                  $.Lmnc.v = i.u4;
                  $.A.v = i.nb;
                  $.B.v = i.O
              }
              if (p == 2) {
                  var o = T.ij(n, z + 2);
                  if (o != 7)
                      throw "e";
                  $.Lmnc.v = T.yC(n, z + 4) / 100;
                  $.A.v = T.yC(n, z + 6) / 100;
                  $.B.v = T.yC(n, z + 8) / 100
              }
              var S = z + 2 + (p == 3 ? 12 : 10);
              I.Dnst.v = T.q(n, S);
              S += 4;
              I.PrsL.v = n[S] == 1;
              break;
          case "mixr":
              var H = {
                  sv: T.ij(n, z + 2) == 1,
                  G: []
              };
              for (var M = 0; M < 20; M++)
                  H.G.push(T.yC(n, z + 4 + M * 2));
              D[f] = ad.sD(H);
              break;
          case "clrL":
          case "rplc":
              D[f] = {};
              h9.Bb(n, D[f], z + 6);
              break;
          case "nvrt":
              D[f] = {};
              break;
          case "post":
              D[f] = fd.zP("post");
              D[f].Lvls.v = T.ij(n, z);
              break;
          case "thrs":
              D[f] = fd.zP("thrs");
              D[f].Lvl.v = T.ij(n, z);
              break;
          case "grdm":
              var e = {
                  rev: n[z + 2] == 1,
                  am5: n[z + 3] == 1
              }
                , V = z + 4
                , v = T.$S(n, V);
              V += 4 + v.length * 2;
              var B = a0.Uf(n, V, v)
                , Z = B[0];
              V = B[1];
              var d = T.ij(n, V);
              V += 2;
              Z.Intr.v = T.ij(n, V);
              V += 2;
              var g = T.ij(n, V);
              V += 2;
              e.mode = T.ij(n, V);
              V += 2;
              e.Kd = T.q(n, V);
              V += 4;
              e.a7C = T.ij(n, V) == 1;
              V += 2;
              e.a5R = T.ij(n, V) == 1;
              V += 2;
              e.a6u = T.q(n, V);
              V += 4;
              e.a35 = T.ij(n, V);
              V += 2;
              e.o7 = [];
              for (var M = 0; M < 4; M++)
                  e.o7.push(T.ij(n, V + M * 2));
              V += 8;
              e.AJ = [];
              for (var M = 0; M < 4; M++)
                  e.AJ.push(T.ij(n, V + M * 2));
              V += 8;
              var y = T.ij(n, V);
              V += 2;
              var L = fd.zP("grdm");
              L.Rvrs.v = e.rev;
              L.Grad.v = Z;
              D[f] = L;
              break;
          case "selc":
              D[f] = ch.r4(n, z, a);
              break;
          case "vmsk":
          case "vsms":
              var _ = D.vmsk = new Q.qP
                , b = T.Rt(n, z + 4)
                , x = (b >> 0 & 1) == 1;
              _.Ze = (b >> 1 & 1) == 0;
              _.isEnabled = (b >> 2 & 1) == 0;
              _.g = eh.gI(n, z + 8, a - 8, X.d, X.v);
              break;
          case "shmd":
              D[f] = {};
              var W = T.q(n, z)
                , S = z + 4;
              for (var M = 0; M < W; M++) {
                  var E = T.uL(n, S, 4);
                  S += 4;
                  var g6 = T.uL(n, S, 4);
                  S += 4;
                  var fY = n[S];
                  S++;
                  if (Math.max(n[S], n[S + 1], n[S + 2]) != 0)
                      throw "e";
                  S += 3;
                  var f3 = T.q(n, S);
                  S += 4;
                  if (g6 == "cust" || g6 == "cmls" || g6 == "extn" || g6 == "mlst") {
                      var hK = T.q(n, S);
                      if (hK != 16)
                          S += 4;
                      if (T.q(n, S) == 16) {
                          var U = {};
                          h9.Bb(n, U, S + 4, !1);
                          D[f][g6] = U;
                          if (g6 == "cmls")
                              e3.Bd.abi(D[f][g6])
                      }
                  } else {
                      console.log("unknown shmd key: " + g6 + ", size: " + f3)
                  }
                  S += f3
              }
              break;
          case "shpa":
              var p = T.q(n, z)
                , s = T.q(n, z + 4);
              if (s != 0)
                  console.log("some patterns present!");
              break;
          case "TySh":
              var P = D[f] = {}
                , p = T.ij(n, z);
              P.Z = T._h(n, z + 2);
              var aF = T.ij(n, z + 2 + 48);
              P.aK = {};
              var fM = h9.Bb(n, P.aK, z + 56)
                , eA = bZ.BF();
              for (var e8 in eA)
                  if (P.aK[e8] == null)
                      P.aK[e8] = eA[e8];
              P.iK = {};
              var eC = h9.Bb(n, P.iK, z + 56 + fM + 6);
              P.jk = T.a7r(n, z + 56 + fM + 6 + eC);
              P.uR = fw.vC(P.aK.EngineData.v);
              bZ.a0W(P.uR.EngineDict.StyleRun.RunArray);
              if (P.uR.ResourceDict == null)
                  P.uR.ResourceDict = JSON.parse(JSON.stringify(P.uR.DocumentResources));
              delete P.aK.EngineData;
              break;
          case "lfx2":
          case "lmfx":
          case "lfxs":
              var cy = T.q(n, z)
                , aX = T.q(n, z + 4);
              D.lmfx = {};
              var fM = h9.Bb(n, D.lmfx, z + 8);
              ac.wZ(D.lmfx);
              break;
          case "FMsk":
              D[f] = T.tY(n, z, a);
              break;
          case "Txt2":
              D[f] = {};
              D[f].raw = T.tY(n, z, a);
              D[f].DN = iX.vC(D[f].raw);
              break;
          case "Patt":
              D[f] = bX.zO(n, z, a);
              break;
          case "SoLd":
              var j0 = T.uL(n, z, 4)
                , aT = T.q(n, z + 4)
                , a4 = T.q(n, z + 8);
              D[f] = {};
              var f8 = h9.Bb(n, D[f], z + 12);
              if (D[f].nonAffineTransform == null)
                  D[f].nonAffineTransform = JSON.parse(JSON.stringify(D[f].Trnf));
              if (D[f].Impr == null)
                  D[f].Impr = {
                      t: "Objc",
                      v: {
                          __name: "None",
                          classID: "none"
                      }
                  };
              break;
          case "vstk":
          case "pths":
              var aT = T.q(n, z);
              D[f] = {};
              var f8 = h9.Bb(n, D[f], z + 4);
              break;
          case "vscg":
              var g6 = T.uL(n, z, 4)
                , aT = T.q(n, z + 4);
              D[g6] = {};
              var f8 = h9.Bb(n, D[g6], z + 8);
              ac.So(D[g6], g6);
              break;
          case "vogk":
              var b3 = T.q(n, z)
                , aT = T.q(n, z + 4);
              D[f] = {};
              var f8 = h9.Bb(n, D[f], z + 8);
              D[f] = D[f].keyDescriptorList.v;
              for (var M = 0; M < D[f].length; M++) {}
              break;
          case "lnk2":
          case "lnkD__":
          case "lnk3__":
              D[f] = [];
              var V = z;
              while (V < z + a) {
                  var gh = new Q.dR;
                  D[f].push(gh);
                  var g = T.Ky(n, V);
                  V += 8;
                  var cZ = V;
                  gh.type = T.uL(n, V, 4);
                  V += 4;
                  if (gh.type != "liFD") {
                      alert("Unknown Linked Layer type: " + gh.type);
                      break;
                      throw gh.type
                  }
                  gh.DY = T.q(n, V);
                  V += 4;
                  var h3 = T.q_(n, V);
                  V += 1 + h3.Z5.length;
                  gh.LH = h3.Z5;
                  gh._8 = T.yy(n, V);
                  V += 4 + gh._8.length * 2 + 2;
                  gh.p2 = T.uL(n, V, 4);
                  V += 4;
                  gh.m0 = T.uL(n, V, 4);
                  V += 4;
                  var ew = T.Ky(n, V);
                  V += 8;
                  gh.open = n[V];
                  V += 1;
                  if (gh.open != 0) {
                      var dy = {}
                        , fM = h9.Bb(n, dy, V + 4);
                      if (fM % 4 != 0)
                          fM += 4 - fM % 4;
                      console.log(dy);
                      V += fM + 4
                  }
                  gh.open = 0;
                  gh.raw = T.tY(n, V, ew);
                  V = cZ + g;
                  if (g % 4 != 0)
                      V += 4 - g % 4
              }
              break;
          case "FEid":
              var V = z;
              D[f] = [];
              var fx = V + a
                , p = T.q(n, V);
              V += 4;
              while (V < fx) {
                  V += 4;
                  var g = T.q(n, V);
                  V += 4;
                  var B = {};
                  D[f].push(B);
                  B.id = T.q_(n, V).Z5;
                  V += B.id.length + 1;
                  var p = T.q(n, V);
                  V += 4;
                  V += 4;
                  var bo = T.q(n, V);
                  V += 4;
                  B.rect = T.MX(n, V);
                  V += 16;
                  var hd = T.q(n, V);
                  V += 4;
                  var gT = T.q(n, V);
                  V += 4;
                  var du = new j.Dv(0);
                  for (var M = 0; M < gT + 2; M++) {
                      var bk = T.q(n, V);
                      V += 4;
                      if (bk != 0) {
                          V += 4;
                          var i8 = T.q(n, V)
                            , en = null;
                          V += 4;
                          if (M < 3 || M == 25)
                              en = gt.q7(!0, hd, n, B.rect.d, B.rect.v, V, i8);
                          if (M == 0)
                              du.h = en;
                          if (M == 1)
                              du.Q = en;
                          if (M == 2)
                              du.O = en;
                          if (M == 25)
                              du.nb = en;
                          V += i8
                      }
                  }
                  B.buffer = j.T(B.rect.t() * 4);
                  j.JD(du, B.buffer);
                  j.iw(B);
                  var dW = n[V];
                  V++;
                  if (dW != 0) {
                      B.z = new Q.im;
                      B.z.rect = T.MX(n, V);
                      V += 16;
                      V += 4;
                      var ix = T.q(n, V);
                      V += 4;
                      B.z.channel = gt.q7(!0, hd, n, B.z.rect.d, B.z.rect.v, V, ix);
                      B.z.color = 255;
                      B.z.BL();
                      V += ix
                  }
                  if (g % 4 != 0)
                      V += 4 - g % 4
              }
              break;
          case "Lr16":
              bY.r$(X, n, z);
              break;
          default:
              break
          }
          var dU = "Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf".split(" ");
          if (dU.indexOf(f) == -1)
              if (a % 4 != 0)
                  console.log("size not multiple of 4!!!", f);
          if (f != "luni" && f != "TySh" && f != "tySh" && f != "lfx2")
              if (a % 4 != 0)
                  a += 4 - a % 4;
          z += a
      }
      var hN = [];
      for (var M = 0; M < hN.length; M++)
          delete D[hN[M]];
      return z
  }
  ;
  ac.Zc = function(n, z, C, D, F) {
      for (var X in C)
          if (C[X] == null) {
              alert("A bug occured (see console).");
              console.log("Please, report a bug, that \"" + X + "\" tag was present with a null value.");
              delete C[X]
          }
      for (var X in C) {
          var E = D && "LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(X) != -1
            , a = 0;
          T.tX(n, z, E ? "8B64" : "8BIM");
          z += 4;
          var f = z;
          T.tX(n, z, X);
          z += 4;
          T.X6(n, z, 0);
          z += E ? 8 : 4;
          switch (X) {
          case "iOpa":
              T.zc(n, z, C[X], 1);
              a = 4;
              break;
          case "brst":
              a = 0;
              for (var M = 0; M < 3; M++)
                  if (C[X][M] == 0) {
                      T.CP(n, z + a, M);
                      a += 4
                  }
              break;
          case "knko":
              T.zc(n, z, C[X], 1);
              a = 4;
              break;
          case "infx":
              T.zc(n, z, C[X], 1);
              a = 4;
              break;
          case "clbl":
              T.zc(n, z, C[X], 1);
              a = 4;
              break;
          case "lmgm":
              T.zc(n, z, C[X], 1);
              a = 4;
              break;
          case "vmgm":
              T.zc(n, z, C[X], 1);
              a = 4;
              break;
          case "lyid":
              T.CP(n, z, C[X]);
              a = 4;
              break;
          case "lsct":
              T.CP(n, z, C[X].type);
              a = 4;
              if (C[X].Gx) {
                  T.tX(n, z + 4, "8BIM");
                  T.tX(n, z + 8, C[X].Gx);
                  a = 12
              }
              break;
          case "lyvr":
              T.CP(n, z, C[X]);
              a = 4;
              break;
          case "lnsr":
              T.tX(n, z, C[X]);
              a = 4;
              break;
          case "lspf":
              T.CP(n, z, C[X]);
              a = 4;
              break;
          case "lclr":
              T.Uo(n, z, C[X]);
              a = 8;
              break;
          case "luni":
              T.Xg(n, z, C[X]);
              a = 4 + 2 * C[X].length;
              break;
          case "fxrp":
              T.iM(n, z, C[X].x);
              T.iM(n, z + 8, C[X].y);
              a = 16;
              break;
          case "artb":
          case "artd":
              T.CP(n, z, 16);
              a = h9.Ii(n, C[X], z + 4) + 4;
              break;
          case "SoCo":
              T.CP(n, z, 16);
              a = h9.Ii(n, C[X], z + 4) + 4;
              break;
          case "GdFl":
              T.CP(n, z, 16);
              a = h9.Ii(n, C[X], z + 4) + 4;
              break;
          case "PtFl":
              T.CP(n, z, 16);
              a = h9.Ii(n, C[X], z + 4) + 4;
              break;
          case "CgEd":
              var q = {
                  classID: "null",
                  Vrsn: {
                      t: "long",
                      v: 1
                  },
                  Brgh: {
                      t: "long",
                      v: 24
                  },
                  Cntr: {
                      t: "long",
                      v: 54
                  },
                  means: {
                      t: "long",
                      v: 127
                  },
                  Lab: {
                      t: "bool",
                      v: !1
                  },
                  useLegacy: {
                      t: "bool",
                      v: !1
                  },
                  Auto: {
                      t: "bool",
                      v: !0
                  }
              }
                , c = q
                , K = C[X];
              c.Brgh.v = K.Brgh.v;
              c.Cntr.v = K.Cntr.v;
              c.useLegacy.v = K.useLegacy.v;
              T.CP(n, z, 16);
              a = h9.Ii(n, q, z + 4) + 4;
              break;
          case "brit":
              n.Wz(z, 8);
              a = 8;
              break;
          case "levl":
              var R = new cL;
              a = eJ.h$(R, C[X]);
              T.K_(n, z, R.data);
              break;
          case "curv":
              a = cN.SN(n, z, C[X]);
              break;
          case "expA":
              a = 14;
              n.Wz(z, 14);
              T.d9(n.data, z, 1);
              T.Gg(n.data, z + 2, C[X].Exps.v);
              T.Gg(n.data, z + 6, C[X].Ofst.v);
              T.Gg(n.data, z + 10, C[X].gammaCorrection.v);
              break;
          case "vibA":
              T.CP(n, z, 16);
              a = h9.Ii(n, C[X], z + 4) + 4;
              break;
          case "hue2":
              a = f5.SN(n, z, C[X]);
              break;
          case "blnc":
              a = 19;
              n.Wz(z, a);
              var J = ["ShdL", "MdtL", "HghL"];
              for (var M = 0; M < 3; M++) {
                  var w = C[X][J[M]].v;
                  for (var p = 0; p < 3; p++)
                      w.push(T.JR(n.data, z + M * 6 + p * 2, w[p].v))
              }
              n.data[z + 18] = C[X].PrsL.v ? 1 : 0;
              break;
          case "blwh":
              var q = {
                  classID: "null",
                  bwPresetKind: {
                      t: "long",
                      v: 1
                  },
                  blackAndWhitePresetFileName: {
                      t: "TEXT",
                      v: ""
                  }
              }
                , I = "Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
              for (var M = 0; M < I.length; M++) {
                  q[I[M]] = C[X][I[M]]
              }
              T.CP(n, z, 16);
              a = h9.Ii(n, q, z + 4) + 4;
              break;
          case "phfl":
              T.Uo(n, z, 2);
              var m = C[X].Clr.v;
              T.Uo(n, z + 2, 7);
              T.Uo(n, z + 4, Math.round(m.Lmnc.v * 100));
              T.Uo(n, z + 6, Math.round(m.A.v * 100));
              T.Uo(n, z + 8, Math.round(m.B.v * 100));
              T.Uo(n, z + 10, 0);
              var A = z + 2 + 10;
              n.Wz(A, 5);
              T._g(n.data, A, C[X].Dnst.v);
              A += 4;
              n.data[A] = C[X].PrsL.v ? 1 : 0;
              A++;
              a = A - z;
              break;
          case "mixr":
              a = 44;
              n.Wz(z, a);
              var U = ad.DL(C[X]);
              T.d9(n.data, z, 1);
              T.d9(n.data, z + 2, U.sv ? 1 : 0);
              for (var M = 0; M < 20; M++)
                  T.JR(n.data, z + 4 + M * 2, U.G[M]);
              break;
          case "clrL":
          case "rplc":
              T.Uo(n, z, 1);
              T.CP(n, z + 2, 16);
              a = h9.Ii(n, C[X], z + 6) + 6;
              break;
          case "nvrt":
              a = 0;
              break;
          case "post":
              T.Uo(n, z, C[X].Lvls.v);
              a = 2;
              break;
          case "thrs":
              T.Uo(n, z, C[X].Lvl.v);
              a = 2;
              break;
          case "grdm":
              var r = {
                  rev: C[X].Rvrs.v,
                  am5: !1,
                  mode: 0,
                  Kd: 867527939,
                  a7C: !1,
                  a5R: !0,
                  a6u: 2048,
                  a35: 3,
                  o7: [0, 0, 0, 0],
                  AJ: [32768, 32768, 32768, 32768]
              }
                , $ = C[X].Grad.v;
              n.Wz(z, 4);
              T.d9(n.data, z, 1);
              n.data[z + 2] = r.rev ? 1 : 0;
              n.data[z + 3] = r.am5 ? 1 : 0;
              var k = z + 4;
              T.Xg(n, k, $.Nm.v);
              k += 4 + $.Nm.v.length * 2;
              k = a0.acp(n, k, $);
              T.Uo(n, k, 2);
              k += 2;
              T.Uo(n, k, $.Intr.v);
              k += 2;
              T.Uo(n, k, 32);
              k += 2;
              T.Uo(n, k, r.mode);
              k += 2;
              T.CP(n, k, r.Kd);
              k += 4;
              T.Uo(n, k, r.a7C ? 1 : 0);
              k += 2;
              T.Uo(n, k, r.a5R ? 1 : 0);
              k += 2;
              T.CP(n, k, r.a6u);
              k += 4;
              T.Uo(n, k, r.a35);
              k += 2;
              for (var M = 0; M < 4; M++)
                  T.Uo(n, k + M * 2, r.o7[M]);
              k += 8;
              for (var M = 0; M < 4; M++)
                  T.Uo(n, k + M * 2, r.AJ[M]);
              k += 8;
              k += 2;
              a = k - z;
              break;
          case "selc":
              a = ch.SN(n, z, C[X]);
              break;
          case "FMsk":
              T.K_(n, z, C[X]);
              a = C[X].length;
              break;
          case "Txt2":
              var G = new cL
                , i = iX.OK(C[X].DN, G)
                , o = j.T(i, !0);
              for (var M = 0; M < i; M++)
                  o[M] = G.data[M];
              T.K_(n, z, o);
              a = o.length;
              break;
          case "vmsk":
              var S = C[X]
                , H = 0;
              T.CP(n, z, 3);
              if (!S.Ze)
                  H += 1 << 1;
              if (!S.isEnabled)
                  H += 1 << 2;
              T.CP(n, z + 4, H);
              a = 8;
              var e = S.g.length;
              n.Wz(z + 8, e * 26);
              eh.tJ(n.data, z + 8, S.g, F.d, F.v);
              a += e * 26;
              break;
          case "shmd":
              T.CP(n, z, Object.keys(C[X]).length);
              var A = z + 4;
              for (var V in C[X]) {
                  T.tX(n, A, "8BIM");
                  A += 4;
                  T.tX(n, A, V);
                  A += 4;
                  T.CP(n, A, 0);
                  A += 4;
                  T.CP(n, A, 0);
                  A += 4;
                  T.CP(n, A, 16);
                  A += 4;
                  var v = h9.Ii(n, C[X][V], A);
                  if (v % 4 != 0)
                      v += 4 - v % 4;
                  T.CP(n, A - 8, v + 4);
                  A += v
              }
              a = A - z;
              break;
          case "TySh":
              var A = z;
              T.Cz(n, A, 1);
              A += 2;
              var B = C[X]
                , G = new cL;
              B.uR.DocumentResources = JSON.parse(JSON.stringify(B.uR.ResourceDict));
              var i = fw.OK(B.uR, G)
                , o = j.T(i, !0);
              for (var M = 0; M < i; M++)
                  o[M] = G.data[M];
              B.aK.EngineData = {
                  t: "tdta",
                  v: o
              };
              var Z = B.uR.EngineDict.Editor.Text;
              B.aK.Txt.v = Z.substring(0, Z.length - 1);
              T.a6K(n, A, B.Z);
              A += 48;
              T.Cz(n, A, 50);
              A += 2;
              T.CP(n, A, 16);
              A += 4;
              A += h9.Ii(n, B.aK, A);
              T.Cz(n, A, 1);
              A += 2;
              T.CP(n, A, 16);
              A += 4;
              A += h9.Ii(n, B.iK, A);
              T.a4T(n, A, B.jk);
              A += 16;
              a = A - z;
              break;
          case "lmfx":
              T.CP(n, z, 0);
              T.CP(n, z + 4, 16);
              var q = JSON.parse(JSON.stringify(C[X]))
                , d = !1;
              ac.o3(q);
              for (var M = 0; M < g$.IT.length; M++)
                  if (q[g$.IT[M]] != null)
                      d = !0;
              T.tX(n, f, d ? "lmfx" : "lfx2");
              a = h9.Ii(n, q, z + 8) + 8;
              break;
          case "Patt":
              var A = bX.cK(n, z, C[X]);
              a = A - z;
              break;
          case "SoLd":
              T.tX(n, z, "soLD");
              T.CP(n, z + 4, 4);
              T.CP(n, z + 8, 16);
              a = h9.Ii(n, C[X], z + 12) + 12;
              break;
          case "vstk":
          case "pths":
              T.CP(n, z, 16);
              a = h9.Ii(n, C[X], z + 4) + 4;
              break;
          case "vscg__":
              T.tX(n, z, C[X].key);
              T.CP(n, z + 4, 16);
              a = h9.Ii(n, C[X].G, z + 8) + 8;
              break;
          case "vogk":
              T.CP(n, z, 1);
              T.CP(n, z + 4, 16);
              j.hL.akB(C[X]);
              for (var M = 0; M < C[X].length; M++) {
                  var g = C[X][M].v.keyOriginResolution;
                  if (g)
                      g.v = F.$M
              }
              var Y = {
                  classID: "null",
                  keyDescriptorList: {
                      t: "VlLs",
                      v: C[X]
                  }
              };
              a = h9.Ii(n, Y, z + 8) + 8;
              break;
          case "lnkD":
          case "lnk2":
          case "lnk3":
              var k = z;
              for (var M = 0; M < C[X].length; M++) {
                  var y = C[X][M]
                    , L = k;
                  T.w2(n, k, 0);
                  k += 8;
                  T.tX(n, k, y.type);
                  k += 4;
                  T.CP(n, k, y.DY);
                  k += 4;
                  n.Wz(k, 1);
                  n.data[k] = y.LH.length;
                  k++;
                  T.tX(n, k, y.LH);
                  k += y.LH.length;
                  T.Xg(n, k, y._8 + "\0");
                  k += 4 + y._8.length * 2 + 2;
                  T.tX(n, k, y.p2);
                  k += 4;
                  T.tX(n, k, y.m0);
                  k += 4;
                  T.w2(n, k, y.raw.length);
                  k += 8;
                  n.Wz(k, 1);
                  n.data[k] = y.open;
                  k++;
                  T.K_(n, k, y.raw);
                  k += y.raw.length;
                  T.CP(n, k, 1);
                  k += 4;
                  k += 11;
                  var _ = k - L - 8;
                  T.w2(n, L, _);
                  if (_ % 4 != 0) {
                      n.Wz(k, 4 - _ % 4);
                      k += 4 - _ % 4
                  }
              }
              a = k - z;
              break;
          case "FEid":
              var k = z;
              T.CP(n, k, 3);
              k += 4;
              for (var b = 0; b < C[X].length; b++) {
                  var x = C[X][b];
                  k += 4;
                  var W = k;
                  k += 4;
                  T.YU(n, k, x.id);
                  k += x.id.length + 1;
                  T.CP(n, k, 1);
                  k += 4;
                  k += 4;
                  var g6 = k;
                  k += 4;
                  T.qF(n, k, x.rect);
                  k += 16;
                  T.CP(n, k, 8);
                  k += 4;
                  T.CP(n, k, 24);
                  k += 4;
                  var fY = new j.Dv(x.rect.t());
                  j.I6(x.buffer, fY);
                  for (var M = 0; M < 24 + 2; M++) {
                      var f3 = null;
                      if (M == 0)
                          f3 = fY.h;
                      if (M == 1)
                          f3 = fY.Q;
                      if (M == 2)
                          f3 = fY.O;
                      if (M == 25)
                          f3 = fY.nb;
                      T.CP(n, k, f3 != null ? 1 : 0);
                      k += 4;
                      if (f3 != null) {
                          k += 4;
                          var hK = k;
                          k += 4;
                          n.Wz(k, x.rect.t() + 2);
                          k = gt.l6(!0, f3, n.data, x.rect.d, x.rect.v, k, 3);
                          T.CP(n, hK, k - (hK + 4))
                      }
                  }
                  T.CP(n, g6, k - (g6 + 4));
                  n.Wz(k, 1);
                  n.data[k] = x.z ? 1 : 0;
                  k++;
                  if (x.z != null) {
                      var s = x.z.rect
                        , P = x.z.channel;
                      s = x.rect;
                      P = j.T(s.t());
                      P.fill(x.z.color);
                      j.v8(x.z.channel, x.z.rect, P, s);
                      T.qF(n, k, s);
                      k += 16;
                      k += 4;
                      var aF = k;
                      k += 4;
                      n.Wz(k, s.t() + 2);
                      k = gt.l6(!0, P, n.data, s.d, s.v, k, 3);
                      T.CP(n, aF, k - (aF + 4))
                  }
                  var _ = k - (W + 4);
                  T.CP(n, W, _);
                  if (_ % 4 != 0)
                      k += 4 - _ % 4
              }
              a = k - z;
              break;
          default:
              console.log("unknown layer tag: " + X + ", size: " + a);
              z -= 12;
              continue
          }
          var fM = ["Txt2", "artd", "extd", "pths"];
          if (fM.indexOf(X) == -1)
              if (a % 4 != 0)
                  a += 4 - a % 4;
          if (E)
              T.w2(n, z - 8, a);
          else
              T.CP(n, z - 4, a);
          if (X != "luni" && X != "TySh")
              if (a % 4 != 0)
                  a += 4 - a % 4;
          z += a
      }
      return z
  }
  ;
  ac.wZ = function(n) {
      for (var M = 0; M < g$.order.length; M++) {
          var z = g$.order[M]
            , C = g$.IT[M];
          if (n[C] == null)
              n[C] = {
                  t: "VlLs",
                  v: []
              };
          if (n[z] != null) {
              n[C].v.push(n[z]);
              delete n[z]
          }
          var D = [];
          for (var F = 0; F < n[C].v.length; F++) {
              var X = n[C].v[F];
              if (X.v.present == null || X.v.present.v == !0)
                  D.push(X)
          }
          n[C].v = D
      }
  }
  ;
  ac.o3 = function(n) {
      for (var M = 0; M < g$.order.length; M++) {
          var z = g$.order[M]
            , C = g$.IT[M]
            , D = n[C].v.length;
          if (D == 0) {
              delete n[C];
              continue
          }
          if (D == 1) {
              n[z] = n[C].v[0];
              delete n[C];
              continue
          }
      }
  }
  ;
  ac.So = function(n, z) {
      if (z == "GdFl") {
          if (n.Angl == null)
              n.Angl = {
                  v: {
                      type: "#Ang",
                      val: 0
                  },
                  t: "UntF"
              };
          if (n.Algn == null)
              n.Algn = {
                  v: !0,
                  t: "bool"
              };
          if (n.Scl == null)
              n.Scl = {
                  v: {
                      type: "#Prc",
                      val: 100
                  },
                  t: "UntF"
              };
          if (n.Ofst == null)
              n.Ofst = {
                  v: {
                      classID: "Pnt",
                      Hrzn: {
                          v: {
                              type: "#Prc",
                              val: 0
                          },
                          t: "UntF"
                      },
                      Vrtc: {
                          v: {
                              type: "#Prc",
                              val: 0
                          },
                          t: "UntF"
                      }
                  },
                  t: "Objc"
              };
          if (n.Rvrs == null)
              n.Rvrs = {
                  v: !1,
                  t: "bool"
              };
          if (n.Dthr == null)
              n.Dthr = {
                  v: !1,
                  t: "bool"
              }
      }
      if (z == "PtFl") {
          if (n.Algn == null)
              n.Algn = {
                  v: !0,
                  t: "bool"
              };
          if (n.Scl == null)
              n.Scl = {
                  v: {
                      type: "#Prc",
                      val: 100
                  },
                  t: "UntF"
              };
          if (n.phase == null)
              n.phase = {
                  v: {
                      classID: "Pnt",
                      Hrzn: {
                          v: 0,
                          t: "doub"
                      },
                      Vrtc: {
                          v: 0,
                          t: "doub"
                      }
                  },
                  t: "Objc"
              }
      }
  }
  ;
  ac.clone = function(n, z) {
      var C = {};
      if (n == "TySh") {
          C.Z = z.Z.clone();
          C.aK = JSON.parse(JSON.stringify(z.aK));
          C.iK = JSON.parse(JSON.stringify(z.iK));
          C.jk = z.jk.clone();
          C.uR = JSON.parse(JSON.stringify(z.uR));
          if (z.add)
              C.add = {
                  vmsk: z.add.vmsk.clone(),
                  vogk: JSON.parse(JSON.stringify(z.add.vogk))
              };
          return C
      } else if (n == "fxrp")
          return z.clone();
      else if (n == "vmsk")
          return z.clone();
      else
          return JSON.parse(JSON.stringify(z))
  }
  ;
  function eO(n, z) {}
  eO.vC = function(n, z, C, D) {
      D = eO.a61(n, z, C, D);
      return D
  }
  ;
  eO.OK = function(n, z, C, D, F) {
      D = eO.aim(n, z, C, D, F);
      return D
  }
  ;
  eO.a61 = function(n, z, C, D) {
      var F = D;
      n.rect = T.MX(C, D);
      D += 16;
      var X = T.ij(C, D);
      D += 2;
      n.iz = [];
      var E = z.W4;
      for (var M = 0; M < X; M++) {
          n.iz[M] = {
              id: T.yC(C, D),
              length: (E ? T.Ky : T.q)(C, D + 2)
          };
          D += E ? 10 : 6
      }
      var f = T.uL(C, D, 4);
      D += 4;
      if (f != "8BIM") {
          console.log("Invalid Blend mode signature: " + f);
          alert("Error in Photoshop file: wrong signature.");
          throw "e"
      }
      n.Gx = T.uL(C, D, 4);
      D += 4;
      n.opacity = C[D];
      D += 1;
      n.$I = C[D] == 1;
      D += 1;
      n.j1 = C[D];
      D += 1;
      if (C[D] != 0)
          console.log("error in filler!");
      D += 1;
      var a = T.q(C, D);
      D += 4;
      var q = D;
      D = eO.aj$(n, C, D);
      D = eO.a5v(n, C, D);
      var c = T.q_(C, D);
      n.name = c.Z5;
      D += c.length;
      if (c.length % 4 != 0)
          D += 4 - c.length % 4;
      D = ac.zD(C, D, q + a, n.add, E, z);
      if (n.add.lsct) {
          if (n.add.lsct.Gx)
              n.Gx = n.add.lsct.Gx;
          n.add.lsct = n.add.lsct.type
      }
      return D
  }
  ;
  eO.aim = function(n, z, C, D, F) {
      var X = D;
      T.qF(C, D, n.rect);
      D += 16;
      var E = n.dj();
      T.Uo(C, D, E.length);
      D += 2;
      var f = z.W4;
      F.push(D);
      for (var M = 0; M < E.length; M++) {
          T.Cz(C, D, E[M]);
          if (f)
              T.w2(C, D + 2, 0);
          else
              T.CP(C, D + 2, 0);
          D += f ? 10 : 6
      }
      T.tX(C, D, "8BIM");
      D += 4;
      T.tX(C, D, n.Gx);
      D += 4;
      T.zc(C, D, n.opacity, 1);
      D += 1;
      T.zc(C, D, n.$I ? 1 : 0, 1);
      D += 1;
      T.zc(C, D, n.j1, 1);
      D += 1;
      T.zc(C, D, 0, 1);
      D += 1;
      var a = D;
      T.CP(C, D, 0);
      D += 4;
      var q = D;
      D = eO.afm(n, C, D);
      D = eO.aeA(n, C, D);
      var c = T.YU(C, D, n.name.slice(0, 255));
      D += c;
      if (c % 4 != 0)
          D += 4 - c % 4;
      if (n.add.lsct) {
          n.add.lsct = {
              type: n.add.lsct
          };
          if (n.Gx == "pass") {
              n.add.lsct.Gx = "pass";
              n.Gx = "norm"
          }
      }
      if (n.Gx == "pass")
          n.add.lsct = {
              type: n.add.lsct,
              Gx: "pass"
          };
      if (n.add.brit)
          n.add.CgEd = n.add.brit;
      D = ac.Zc(C, D, n.add, f, z);
      delete n.add.CgEd;
      if (n.add.lsct) {
          if (n.add.lsct.Gx)
              n.Gx = n.add.lsct.Gx;
          n.add.lsct = n.add.lsct.type
      }
      var K = D - q;
      T.CP(C, a, K);
      return D
  }
  ;
  eO.aj$ = function(n, z, C) {
      var D = T.q(z, C);
      C += 4;
      if (D == 0)
          return C;
      var F = C;
      n.z = new Q.im;
      n.z.rect = T.MX(z, C);
      C += 16;
      n.z.color = z[C];
      C += 1;
      var X = eO.Wk(n.z, z, C);
      C += 1;
      if (X) {
          var E = !1
            , f = 255
            , a = 0
            , q = 255
            , c = 0;
          for (var M = 0; M < n.iz.length; M++)
              if (n.iz[M].id == -3)
                  E = !0;
          if (E) {
              n.Cu = eO.Z4(z, C);
              C += 18
          }
          var K = C
            , R = z[C];
          C++;
          if (R >> 0 & 1) {
              f = z[C];
              C++
          }
          if (R >> 1 & 1) {
              a = T.C9(z, C);
              C += 8
          }
          if (R >> 2 & 1) {
              q = z[C];
              C++
          }
          if (R >> 3 & 1) {
              c = T.C9(z, C);
              C += 8
          }
          if ((C - K & 1) == 1)
              C++;
          n.uq = [f, a, q, c]
      } else {
          if (D == 20)
              C += 2;
          else {
              n.Cu = eO.Z4(z, C);
              C += 18
          }
      }
      return F + D
  }
  ;
  eO.afm = function(n, z, C) {
      T.CP(z, C, 0);
      C += 4;
      if (n.z == null)
          return C;
      var D = n.sN()
        , F = n.add.vmsk
        , X = C
        , E = !0;
      T.CP(z, C, 0);
      T.qF(z, C, n.z.rect);
      C += 16;
      T.zc(z, C, n.z.color);
      C += 1;
      eO.eF(n.z, z, C, E);
      C += 1;
      if (E) {
          if (n.Cu) {
              eO.a1t(z, C, n.Cu);
              C += 18
          }
          T.zc(z, C, 15);
          C += 1;
          T.zc(z, C, D ? D.Eo : 255);
          C += 1;
          T.iM(z, C, D ? D.PJ : 0);
          C += 8;
          T.zc(z, C, F ? F.Eo : 255);
          C += 1;
          T.iM(z, C, F ? F.PJ : 0);
          C += 8;
          C++
      }
      T.CP(z, X - 4, C - X);
      return C
  }
  ;
  eO.Z4 = function(n, z) {
      var C = new Q.im;
      eO.Wk(C, n, z);
      z += 1;
      C.color = n[z];
      z += 1;
      C.rect = T.MX(n, z);
      z += 16;
      return C
  }
  ;
  eO.a1t = function(n, z, C) {
      eO.eF(C, n, z, !1);
      z += 1;
      T.zc(n, z, C.color);
      z += 1;
      T.qF(n, z, C.rect);
      z += 16
  }
  ;
  eO.Wk = function(n, z, C) {
      var D = z[C];
      n.Ze = (D >> 0 & 1) == 0;
      n.isEnabled = (D >> 1 & 1) == 0;
      n.CC = (D >> 3 & 1) == 1;
      return D >> 4 & 1
  }
  ;
  eO.eF = function(n, z, C, D) {
      var F = 0;
      if (!n.Ze)
          F += 1 << 0;
      if (!n.isEnabled)
          F += 1 << 1;
      if (n.CC)
          F += 1 << 3;
      if (D)
          F += 1 << 4;
      T.zc(z, C, F)
  }
  ;
  eO.a5v = function(n, z, C) {
      var D = T.q(z, C);
      C += 4;
      if (D == 0)
          return C;
      if (D != 5 * 8)
          console.log("unexpected Layer Blending Ranges content, size:", D);
      for (var M = 0; M < D; M++)
          n.s5[M] = z[C + M];
      return C + 40
  }
  ;
  eO.aeA = function(n, z, C) {
      T.CP(z, C, n.s5.length);
      C += 4;
      z.Wz(C, 40);
      for (var M = 0; M < 40; M++) {
          z.data[C + M] = n.s5[M]
      }
      return C + 40
  }
  ;
  function gt() {}
  gt.vC = function(n, z, C, D) {
      D = gt.a09(z.W4, z.DS, z.t5, n, C, D);
      return D
  }
  ;
  gt.h$ = function(n, z, C, D, F, X) {
      D = gt.aai(n, z, C, D, F, X);
      return D
  }
  ;
  gt.a09 = function(n, z, C, D, F, X) {
      var E = D.iz
        , f = {}
        , a = X;
      for (var M = 0; M < E.length; M++) {
          var q = E[M], c = q.id, K = q.length, R;
          if (c == -3)
              R = D.Cu.rect;
          else if (c == -2)
              R = D.z.rect;
          else
              R = D.rect;
          var J = gt.q7(n, z, F, R.d, R.v, X, K);
          X += K;
          if (c == -3)
              D.Cu.channel = J;
          else if (c == -2)
              D.z.channel = J;
          else
              f["c" + c] = J
      }
      var w = new j.Dv(0);
      w.nb = null;
      if (C == 3) {
          w.h = f.c0;
          w.Q = f.c1;
          w.O = f.c2;
          w.nb = f["c-1"]
      } else if (C == 1) {
          w.h = f.c0;
          w.Q = f.c0;
          w.O = f.c0;
          w.nb = f["c-1"]
      } else if (C == 4) {
          var p = f.c0
            , I = f.c1
            , m = f.c2
            , A = f.c3
            , U = p.length
            , r = 1 / 255;
          for (var M = 0; M < U; M++) {
              var $ = p[M]
                , k = I[M]
                , G = m[M]
                , i = A[M] * r;
              p[M] = Math.round($ * i);
              I[M] = Math.round((.2 * $ + .8 * k) * i);
              m[M] = Math.round((.2 * k + .8 * G) * i)
          }
          w.h = p;
          w.Q = I;
          w.O = m;
          w.nb = f["c-1"];
          console.log("converting from CMYK to RGB")
      }
      if (w.h == null)
          w.h = j.T(0);
      if (w.nb == null && w.h != null) {
          w.nb = w.h.slice(0);
          w.nb.fill(255)
      }
      if (w.Q == null)
          w.Q = w.h.slice(0);
      if (w.O == null)
          w.O = w.h.slice(0);
      D.buffer = j.T(Math.max(0, D.rect.t() * 4));
      j.JD(w, D.buffer);
      return X
  }
  ;
  gt.aai = function(n, z, C, D, F, X) {
      var E = z.dj()
        , f = new j.Dv(z.rect.t());
      j.I6(z.buffer, f);
      for (var M = 0; M < E.length; M++) {
          var a = E[M], q, c;
          if (a == -3)
              q = z.Cu.rect;
          else if (a == -2)
              q = z.z.rect;
          else
              q = z.rect;
          if (a == -3)
              c = z.Cu.channel;
          if (a == -2)
              c = z.z.channel;
          if (a == -1)
              c = f.nb;
          if (a == 0)
              c = f.h;
          if (a == 1)
              c = f.Q;
          if (a == 2)
              c = f.O;
          C.Wz(D, q.t() * 3 + 4);
          var K = D;
          D = gt.l6(n, c, C.data, q.d, q.v, D, X[1] ? 3 : 1);
          var R = D - K;
          if (n)
              T.Gk(C.data, F + M * 10 + 2, R);
          else
              T._g(C.data, F + M * 6 + 2, R)
      }
      return D
  }
  ;
  gt.q7 = function(n, z, C, D, F, X, E) {
      var f = T.ij(C, X);
      X += 2;
      return gt.lM(n, z, C, D, F, X, f, E - 2)
  }
  ;
  gt.l6 = function(n, z, C, D, F, X, E) {
      T.JR(C, X, E);
      X += 2;
      X = gt.Mj(n, z, C, D, F, X, E);
      return X
  }
  ;
  gt.lM = function(n, z, C, D, F, X, E, f) {
      var a, q = D * F * (z >>> 3), c = q & 3, K = q + (c == 0 ? 0 : 4 - c);
      if (f <= 0) {
          return j.T(K)
      }
      if (E > 3) {
          console.log("unknown compression: " + E, D, F, D * F, f);
          E = 0
      }
      if (E == 0) {
          if (X + K <= C.length)
              a = C.slice(X, X + K);
          else {
              a = j.T(q);
              for (var M = 0; M < q; M++)
                  a[M] = C[X + M]
          }
          X += q
      } else if (E == 1) {
          a = j.T(q);
          var R = n ? 4 : 2
            , J = gt._3(C, a, D, F, X, X + R * F, R);
          X += R * F + J
      } else if (E == 2 || E == 3) {
          var w = new Uint8Array(C.buffer,X + 2,f - 6)
            , p = pako.inflateRaw(w);
          if (E == 3) {
              if (z == 8)
                  for (var I = 0; I < F; I++) {
                      var m = I * D + 1
                        , A = m + D - 1
                        , U = p[m - 1];
                      for (var r = m; r < A; r++) {
                          U += p[r];
                          p[r] = U & 255
                      }
                  }
              else
                  for (var I = 0; I < F; I++) {
                      var m = I * D + 1
                        , A = m + D - 1
                        , U = p[2 * m - 2] << 8 | p[2 * m - 1];
                      for (var r = m; r < A; r++) {
                          var $ = r << 1;
                          U += p[$] << 8 | p[$ + 1];
                          p[$] = U >>> 8;
                          p[$ + 1] = U & 255
                      }
                  }
          }
          if (p.length == K)
              a = p;
          else {
              a = j.T(K);
              for (var M = 0; M < p.length; M++)
                  a[M] = p[M]
          }
      }
      if (z == 16) {
          var k = j.T(D * F);
          for (var M = 0; M < q; M += 2)
              k[M >>> 1] = a[M];
          a = k
      }
      return a
  }
  ;
  gt.Mj = function(n, z, C, D, F, X, E) {
      var f = D * F;
      if (E == 0)
          for (var M = 0; M < f; M++)
              C[X++] = z[M];
      else if (E == 1) {
          var a = n ? 4 : 2
            , q = gt.X8(z, C, D, F, X, X + a * F, a);
          X += a * F + q
      } else if (E == 2 || E == 3) {
          if (E == 3) {
              var c = new Uint8Array(z.length);
              for (var K = 0; K < F; K++) {
                  var R = K * D + 1
                    , J = R + D - 1
                    , w = z[R - 1];
                  c[R - 1] = w;
                  for (var p = R; p < J; p++) {
                      c[p] = z[p] + (256 - w) & 255;
                      w = z[p]
                  }
              }
              z = c
          }
          C[X] = 120;
          C[X + 1] = 156;
          X += 2;
          var I = pako.deflateRaw(z, {
              adh: 4
          });
          T.pf(C, X, I);
          X += I.length + 4
      } else
          console.log("Unknown compression: " + E);
      return X
  }
  ;
  gt._3 = function(n, z, C, D, F, X, E) {
      var f = X
        , a = D | 0;
      if (E == 2)
          for (var M = 0; M < a; M++) {
              var q = T.ij(n, F + (M << 1));
              gt.rE(n, X, q, z, M * C, C);
              X += q
          }
      else
          for (var M = 0; M < a; M++) {
              var q = T.q(n, F + (M << 2));
              gt.rE(n, X, q, z, M * C, C);
              X += q
          }
      return X - f
  }
  ;
  gt.X8 = function(n, z, C, D, F, X, E) {
      var f = X;
      if (E == 2)
          for (var M = 0; M < D; M++) {
              var a = gt.Y4(n, M * C, C, z, X);
              T.d9(z, F + M * 2, a);
              X += a
          }
      else
          for (var M = 0; M < D; M++) {
              var a = gt.Y4(n, M * C, C, z, X);
              T._g(z, F + M * 4, a);
              X += a
          }
      return X - f
  }
  ;
  gt.Y4 = function(n, z, h, C, D) {
      var F, X, E, f, a, gS, q;
      f = z + h;
      for (E = z,
      X = D; h > 0; E = F,
      h -= gS) {
          q = h < 128 ? h : 128;
          if (E <= f - 3 && n[E + 1] == n[E + 0] && n[E + 2] == n[E + 0]) {
              for (F = E + 3; F < E + q && n[F] == n[E + 0]; )
                  ++F;
              gS = F - E;
              C[X++] = 1 + 256 - gS;
              C[X++] = n[E + 0]
          } else {
              for (F = E; F < E + q; )
                  if (F <= f - 3 && n[F + 1] == n[F + 0] && n[F + 2] == n[F + 0])
                      break;
                  else
                      ++F;
              gS = F - E;
              C[X++] = gS - 1;
              for (var M = 0; M < gS; M++)
                  C[X + M] = n[E + M];
              X += gS
          }
      }
      return X - D
  }
  ;
  gt.rE = function(n, z, C, D, F, X) {
      for (var E = 0; E < C; ) {
          var h = n[z++];
          if (h >= 128) {
              var f = n[z++]
                , a = F + (257 - h);
              while (F + 1 < a) {
                  D[F++] = D[F++] = f
              }
              if (F < a)
                  D[F++] = f;
              E += 2
          } else {
              for (var M = 0; M <= h; M++)
                  D[F + M] = n[z + M];
              z += h + 1;
              F += h + 1;
              E += 1 + 1 + h
          }
      }
  }
  ;
  function bY() {}
  bY.GD = function(n, z, C) {
      return;
      var D = ""
        , F = z;
      while (F != 0) {
          var X = F % 1e3 + "";
          while (X.length < 3)
              X = "0" + X;
          D = (D == "" ? X : X + " ") + D;
          F = Math.floor(F / 1e3)
      }
      while (D.startsWith("0") && D != "0")
          D = D.slice(1);
      while (D.length < 11)
          D = " " + D;
      console.log("===", D, "\t".repeat(n), ": " + C)
  }
  ;
  bY.vC = function(n, z) {
      z.W4 = !1;
      z.DS = 8;
      var C = new Uint8Array(n), D = 0, F = 0, x, e8 = !1, eC = !0, cy = !1, aX = 0;
      F = bY.Uh(z, C, D);
      bY.GD(0, F - D, "PSD Header");
      D = F;
      F = bY.a02(z, C, D);
      bY.GD(0, F - D, "Color Mode Data");
      D = F;
      F = bY.ah9(z, C, D);
      bY.GD(0, F - D, "Image Resources");
      D = F;
      F = bY.ah4(z, C, D);
      bY.GD(0, F - D, "Layer And Mask Info");
      D = F;
      F = bY.a3h(z, C, D);
      bY.GD(0, F - D, "End Image");
      D = F;
      if (z.W.length == 0) {
          var X = z.gl();
          X.CZ("Background");
          z.W.push(X);
          X.buffer = z.buffer.slice(0);
          X.rect = new cc(0,0,z.d,z.v)
      }
      if (z.hJ.r1005) {
          z.$M = T.a6z(z.hJ.r1005, 0)
      }
      if (z.hJ.r1026) {
          var C = z.hJ.r1026;
          for (var M = 0; M < C.length; M += 2) {
              var F = z.W[M >>> 1];
              if (F)
                  F.nq = T.ij(C, M)
          }
      }
      if (z.hJ.r1072) {
          var C = z.hJ.r1072;
          for (var M = 0; M < C.length; M++) {
              var F = z.W[M];
              if (F)
                  F.Uq = C[M] == 1
          }
      }
      if (z.hJ.r1032) {
          var C = z.hJ.r1032
            , E = T.q(C, 12);
          for (var M = 0; M < E; M++) {
              var f = C[16 + M * 5 + 4]
                , a = T.Rt(C, 16 + M * 5) / 32;
              z.Ea.push([f, a])
          }
      }
      delete z.hJ.r1036;
      delete z.hJ.r1039;
      if (z.hJ.r1050) {
          var q = T.q
            , c = z.hJ.r1050
            , K = T.q(c, 0);
          if (K == 6) {
              var R = 4
                , J = T.MX(c, R);
              R += 16;
              var w = T.$S(c, R);
              R += 4 + w.length * 2;
              var p = q(c, R);
              R += 4;
              var I = z.CB;
              for (var M = 0; M < p; M++) {
                  var m = O.NB.IS(), U;
                  I.push(m);
                  m = m.v;
                  m.sliceID.v = q(c, R);
                  R += 4;
                  m.groupID.v = q(c, R);
                  R += 4;
                  var A = q(c, R);
                  R += 4;
                  if (A == 1) {
                      U = q(c, R);
                      R += 4
                  }
                  var w = T.$S(c, R);
                  R += 4 + w.length * 2;
                  var r = q(c, R);
                  R += 4;
                  var $ = [q(c, R), q(c, R + 4), q(c, R + 8), q(c, R + 12)];
                  R += 16;
                  O.NB.GB(I, I.length - 1, $);
                  var k = m.url.v = T.$S(c, R);
                  R += 4 + k.length * 2;
                  var G = m.null.v = T.$S(c, R);
                  R += 4 + G.length * 2;
                  var i = m.Msge.v = T.$S(c, R);
                  R += 4 + i.length * 2;
                  var o = m.altTag.v = T.$S(c, R);
                  R += 4 + o.length * 2;
                  m.cellTextIsHTML.v = c[R] == 1;
                  R++;
                  var S = m.cellText.v = T.$S(c, R);
                  R += 4 + S.length * 2;
                  var H = q(c, R);
                  R += 4;
                  var e = q(c, R);
                  R += 4;
                  var V = c.slice(R, R + 4);
                  R += 4;
                  if (A != 2)
                      I.pop()
              }
          } else if (K == 8) {
              var v = {};
              h9.Bb(c, v, 8, !1);
              var c = z.CB = v.slices.v;
              for (var M = 0; M < c.length; M++) {
                  if (c[M].v.origin.v.ESliceOrigin != "userGenerated") {
                      c.splice(M, 1);
                      M--
                  }
              }
          }
      }
      if (z.hJ.r1058) {
          var B = z.hJ.r1058
            , Z = UTIF.decode(B.buffer, {
              parseMN: !1,
              debug: !1
          });
          hb.iD(Z[0], z._q);
          delete z.hJ.r1058
      }
      if (z.hJ.r1060) {
          var d = T.iS(z.hJ.r1060);
          hb.td(d, z._q);
          delete z.hJ.r1060
      }
      if (z.hJ.r1065) {
          var C = z.hJ.r1065;
          z.V2 = {};
          h9.Bb(C, z.V2, 4, !1)
      }
      if (z.hJ.r1069) {
          var C = z.hJ.r1069
            , g = [];
          for (var M = 2; M < C.length; M += 4) {
              var U = T.q(C, M);
              for (var Y = 0; Y < z.W.length; Y++) {
                  var F = z.W[Y];
                  if (F.add.lyid == U && F.add.lsct != 3)
                      g.push(Y)
              }
          }
          z.C = g
      }
      if (z.hJ.r1025) {
          var y = z.hJ.r1025;
          delete z.hJ.r1025;
          var L = eh.gI(y, 0, y.length, z.d, z.v)
            , _ = new Q.qP;
          _.g = L;
          z.E1[0] = b$.j4("Working Path", {
              vmsk: _
          })
      }
      var b = z.add.pths;
      delete z.add.pths;
      var W = z.hJ.r3000;
      if (W) {
          x = {};
          h9.Bb(W, x, 4, !1);
          delete z.hJ.r3000
      }
      for (var g6 = 0; g6 <= 997; g6++) {
          var fY = "r" + (2e3 + g6)
            , y = z.hJ[fY];
          if (y == null)
              break;
          var L = eh.gI(y, 0, y.length, z.d, z.v)
            , f3 = b ? b.pathList.v[g6].v.pathUnicodeName.v : "Path " + g6
            , hK = x ? x.keyRootDescriptorList.v[g6].v.keyDescriptorList.v : Q.CD(L)
            , _ = new Q.qP;
          _.g = L;
          z.E1[g6 + 1] = b$.j4(f3, {
              vmsk: _,
              vogk: hK
          });
          delete z.hJ[fY]
      }
      delete z.W4;
      var s = new cc(0,0,z.d,z.v)
        , P = z.add.Txt2
        , aF = P;
      if (aF) {
          aF = aF.DN;
          if (aF._DocumentResources == null)
              aF = a3.Dg(aF)
      }
      if (P && P.DN._DocumentResources != null) {
          var fM = "_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" ")
            , eA = P.DN._DocumentResources._TextFrameSet._Resources;
          for (var M = 0; M < eA.length; M++) {}
      }
      for (var M = 0; M < z.W.length; M++) {
          var F = z.W[M]
            , j0 = F.add.lsct
            , aT = F.add.vmsk
            , a4 = F.sN();
          if (j0 == g9.Jg) {
              aX++;
              F.add.lspf = 0
          } else if (j0 == g9.WQ || j0 == g9.cP)
              aX--;
          if (F.name == "") {
              F.name = "Layer " + (M + 1);
              cy = !0
          }
          if (cy && F.d4() && F.Gx == "norm")
              F.Gx = "pass";
          if (F.ei() && F.yM(z).z) {
              var f8 = F.yM(z);
              f8.z.isEnabled = F.add.SoLd.filterFX.v.filterMaskEnable.v
          }
          if (aT && F.Ct()) {
              var b3 = g$.Bt.default;
              if (F.add.vstk == null)
                  F.add.vstk = JSON.parse(JSON.stringify(b3));
              else {
                  var gh = "strokeStyleLineDashSet";
                  if (F.add.vstk[gh] == null)
                      F.add.vstk[gh] = JSON.parse(JSON.stringify(b3[gh]))
              }
              F.add.vstk.strokeStyleResolution.v = z.$M
          }
          if (aT && (F.add.vogk == null || j.i.AL(aT.g) != F.add.vogk.length))
              F.CD();
          if (F.add.SoLd && F.rect.kX()) {
              console.log("redrawing smart instance");
              F.V_(z)
          }
          if (a4 == null && F.z != null) {
              if (F.z.CC == !1) {
                  F.z.CC = !0;
                  F.Cu = F.z.clone()
              }
          }
          a4 = F.sN();
          if (F.uq) {
              var b3 = F.uq
                , _ = aT;
              if (a4) {
                  a4.Eo = b3[0];
                  a4.PJ = b3[1]
              }
              if (_) {
                  _.Eo = b3[2];
                  _.PJ = b3[3]
              }
              F.uq = null
          }
          if (a4 != null && aT != null && (a4.PJ + aT.PJ != 0 || a4.Eo + aT.Eo != 2 * 255))
              F.z4(z);
          else if (aT != null && !F.Ct())
              F.z4();
          var cZ = F.add.artb;
          if (cZ && cZ.artboardBackgroundType == null)
              cZ.artboardBackgroundType = {
                  t: "long",
                  v: 1
              };
          if (cZ && aX != 0)
              delete F.add.artb;
          var h3 = F.add.vstk;
          if (F.Ct() && (F.rect.kX() || aT && aT.PJ != 0 || h3 && !h3.fillEnabled.v && (!h3.strokeEnabled.v || h3.strokeStyleLineWidth.v.val == 0)))
              F.rF(z);
          if (F.add.TySh) {
              e8 = !0;
              if (!F.rect.kX())
                  eC = !1
          }
          if (F.add.TySh && aF) {
              var ew = F.add.TySh.aK.TextIndex.v;
              if (ew == -1)
                  continue;
              var dy = F.add.TySh.uR
                , fx = bZ.w$(dy)
                , bo = aF._DocumentObjects._TextObjects;
              if (bo.length <= ew) {
                  console.log("Txt2 incomplete");
                  continue
              }
              var hd = bo[ew]._Model
                , gT = hd._StyleRun._RunArray
                , du = dy.ResourceDict.StyleSheetSet[0].StyleSheetData.FontSize;
              if (du == null)
                  du = 12;
              var bk = dy.EngineDict.StyleRun.RunArray;
              for (var i8 = 0; i8 < bk.length; i8++) {
                  var en = bk[i8].StyleSheet.StyleSheetData;
                  if (gT[i8] == null)
                      continue;
                  var dW = gT[i8]._RunData._StyleSheet._Features;
                  if (dW._BaselineDirection)
                      en.BaselineDirection = parseInt(dW._BaselineDirection.slice(1))
              }
              var ix = dy.EngineDict.ParagraphRun.RunArray
                , dU = hd._ParagraphRun._RunArray;
              if (dU == null)
                  dU = [];
              var hN = Math.min(dU.length, ix.length);
              for (var Y = 0; Y < hN; Y++) {
                  var a1 = ix[Y].ParagraphSheet.Properties
                    , hk = aF._DocumentResources._ParagraphSheetSet._Resources
                    , ax = dU[Y]._RunData._ParagraphSheet;
                  if (typeof ax == "string")
                      ax = hk[parseInt(ax.slice(1))]._Resource;
                  var ej = ax._Parent == null ? ax : hk[parseInt(ax._Parent.slice(1))]._Resource;
                  ax = ax._Features;
                  ej = ej._Features;
                  var bz = ax._ParagraphDirection;
                  if (bz == null)
                      bz = ej._ParagraphDirection;
                  if (bz)
                      a1._Direction = parseInt(bz.slice(1));
                  if (ax._ComposerEngine)
                      a1._ComposerEngine = parseInt(ax._ComposerEngine.slice(1))
              }
              var fq = aF._DocumentResources
                , cg = fq._TextFrameSet._Resources
                , iw = cg[ew]._Resource
                , fD = iw._Data
                , g8 = new b6(1,0,0,1,0,0);
              if (iw._0) {
                  var ap = parseFloat(iw._0[0].slice(1))
                    , c8 = parseFloat(iw._0[1].slice(1));
                  g8.translate(ap, c8)
              }
              if (fx) {
                  g8.translate(fx[0], fx[1]);
                  bZ.u6(dy, [0, 0, fx[2] - fx[0], fx[3] - fx[1]])
              } else {
                  if (iw._Bezier && iw._Bezier._Points) {
                      var L = iw._Bezier._Points
                        , ap = parseFloat(L[0].slice(1))
                        , c8 = parseFloat(L[1].slice(1));
                      if (ap != 0 || c8 != 0) {
                          g8.translate(ap, c8)
                      }
                  }
              }
              if (iw._Data && iw._Data._FrameMatrix) {
                  var dS = iw._Data._FrameMatrix;
                  dS = dS.map(function(c$) {
                      return parseFloat(c$.slice(1))
                  });
                  g8.concat(new b6(dS[0],dS[1],dS[2],dS[3],dS[4],dS[5]))
              }
              g8.concat(F.add.TySh.Z);
              F.add.TySh.Z = g8;
              var r = fD._Type ? parseInt(fD._Type.slice(1)) : 0;
              if (r == 2 || r == 1 && fD._PathData._Spacing == "i-3") {
                  var iK = function(c$) {
                      return parseFloat(c$.slice(1))
                  }
                    , L = iw._Bezier._Points.map(iK);
                  if (fx)
                      j.K.Z(L, new b6(1,0,0,1,-fx[0],-fx[1]), L);
                  var ay = fD._PathData ? fD._PathData._Reversed : !1;
                  dy.Curve = {
                      Points: L,
                      TextOnPathTRange: fD._TextOnPathTRange.map(iK),
                      Reversed: ay == null ? !1 : ay
                  };
                  F.add.TySh.add = {
                      vmsk: new Q.qP,
                      vogk: null
                  };
                  bZ.O4(F.add.TySh)
              }
              if (fD._LineOrientation == "i2")
                  dy._LineOrientation = 2
          }
      }
      e3.Bd.Io(z, !0)
  }
  ;
  bY.OK = function(n, z, C) {
      e3.Bd.nd(n);
      e3.Bd.Io(n, !1);
      n.W4 = C[3] == !0;
      var D = []
        , F = []
        , J = 0
        , p = 1
        , $ = 16
        , W = 0;
      for (var M = 0; M < n.W.length; M++) {
          var X = n.W[M];
          if (X.ei() && X.yM(n).z) {
              X.add.SoLd.filterFX.v.filterMaskEnable.v = X.yM(n).z.isEnabled
          }
          if (X.add.TySh) {
              var E = X.add.TySh.uR
                , f = bZ.wT(E);
              X.add.TySh.aK.TextIndex = {
                  t: "long",
                  v: D.length
              };
              D.push(E);
              if (f == 2)
                  bZ.FC(X.add.TySh)
          }
          var a = X.add.vstk;
          if (a)
              a.strokeStyleResolution.v = n.$M;
          if (X.Ct() || C[2] && X.add.SoLd) {
              F[M] = [X.rect, X.buffer];
              X.rect = new cc;
              X.buffer = j.T(0)
          }
      }
      if (D.length > 0) {
          var q = n.add.Txt2 ? n.add.Txt2.DN : null;
          n.add.Txt2 = {};
          n.add.Txt2.DN = cH.aaB(D, null, q)
      }
      var c = [n.add.lnk2, n.add.FEid, n.add.Patt]
        , K = n.agB(n.W);
      n.vK(K);
      n.hJ.r1005 = new Uint8Array([0, 0, 0, 0, 0, 1, 0, 2, 0, 0, 0, 0, 0, 1, 0, 2]);
      T.v_(n.hJ.r1005, 0, n.$M);
      T.v_(n.hJ.r1005, 8, n.$M);
      if (n.XA()) {
          n.hJ.r1022 = new Uint8Array([0, 3 + n.fD.length - 1, 0])
      } else
          delete n.hJ.r1022;
      var R = new Uint8Array(n.W.length * 2)
        , w = new Uint8Array(n.W.length);
      for (var M = 0; M < n.W.length; M++) {
          var X = n.W[M]
            , I = X.nq
            , m = X.Uq ? 1 : 0;
          T.d9(R, M * 2, I);
          w[M] = m;
          if (I > J)
              J = I;
          if (m == 0)
              p = 0
      }
      if (J > 0)
          n.hJ.r1026 = R;
      if (p < 1)
          n.hJ.r1072 = w;
      var A = n.Ea
        , U = A.length
        , r = n.hJ.r1032 = j.T(16 + 5 * U, !0);
      T._g(r, 0, 1);
      T._g(r, 4, 576);
      T._g(r, 8, 576);
      T._g(r, 12, U);
      for (var M = 0; M < U; M++) {
          T.ta(r, $, Math.round(A[M][1] * 32));
          r[$ + 4] = A[M][0];
          $ += 5
      }
      var k = j.VC(n.buffer)
        , G = [];
      if (k)
          G.push({
              name: "Transparency",
              Ym: {
                  h: 255,
                  Q: 0,
                  O: 0
              },
              gy: 100,
              Gj: 1
          });
      G = G.concat(n.fD);
      delete n.hJ.r1045;
      delete n.hJ.r1006;
      delete n.hJ.r1077;
      var i = new cL;
      $ = 0;
      var o = new Uint8Array(4 + G.length * 13);
      o[3] = 1;
      for (var M = 0; M < G.length; M++) {
          var S = G[M]
            , H = S.name + "\0";
          T.Xg(i, $, H);
          $ += 4 + H.length * 2;
          var e = 4 + M * 13;
          fN.mk(o, e, S.Ym);
          o[e + 11] = S.gy;
          o[e + 12] = S.Gj
      }
      n.hJ.r1045 = i.data.slice(0, $);
      n.hJ.r1077 = o;
      for (var M = 0; M < n.CB.length; M++)
          n.CB[n.CB.length - M - 1].v.sliceID.v = 2 + M * 3;
      var V = {
          classID: "null",
          baseName: {
              t: "TEXT",
              v: "User"
          },
          bounds: {
              t: "Objc",
              v: {
                  classID: "Rct1",
                  Top: {
                      t: "long",
                      v: 0
                  },
                  Left: {
                      t: "long",
                      v: 0
                  },
                  Btom: {
                      t: "long",
                      v: 0
                  },
                  Rght: {
                      t: "long",
                      v: 0
                  }
              }
          },
          slices: {
              t: "VlLs",
              v: n.CB
          }
      }
        , i = new cL;
      T.CP(i, 0, 8);
      T.CP(i, 4, 16);
      var v = h9.Ii(i, V, 8);
      n.hJ.r1050 = i.data.slice(0, v + 8);
      var i = new cL;
      T.CP(i, 0, 16);
      var v = h9.Ii(i, n.V2, 4);
      n.hJ.r1065 = i.data.slice(0, v + 4);
      var B = n.C;
      r = n.hJ.r1069 = j.T(2 + B.length * 4, !0);
      T.d9(r, 0, B.length);
      for (var M = 0; M < B.length; M++)
          T._g(r, 2 + 4 * M, n.W[B[M]].add.lyid);
      delete n.hJ.r1058;
      delete n.hJ.r1060;
      if (Object.keys(n._q).length != 0) {
          var Z = [{
              t274: [1],
              t282: [[72, 1]],
              t283: [[72, 1]],
              t296: [2]
          }, {
              t259: [6],
              t282: [[72, 1]],
              t283: [[72, 1]],
              t296: [2],
              t513: [302],
              t514: [0]
          }];
          hb.t3(n._q, Z[0], C[0] && C[1]);
          n.hJ.r1058 = new Uint8Array(UTIF.encode(Z));
          var d = hb.qV(n._q);
          n.hJ.r1060 = T.Ns(d)
      }
      var g = []
        , Y = [];
      for (var M = 0; M < n.E1.length; M++) {
          var L = n.E1[M]
            , _ = L.add.vmsk.g;
          if (M == 0 && _.length == 2)
              continue;
          var b = j.T(_.length * 26);
          eh.tJ(b, 0, _, n.d, n.v);
          var x = M == 0 ? 1025 : 2e3 + M - 1;
          n.hJ["r" + x] = b;
          if (M != 0) {
              g.push({
                  t: "Objc",
                  v: {
                      classID: "pathInfoClass",
                      pathUnicodeName: {
                          t: "TEXT",
                          v: L.name
                      }
                  }
              });
              Y.push({
                  t: "Objc",
                  v: {
                      classID: "null",
                      keyDescriptorList: {
                          t: "VlLs",
                          v: L.add.vogk
                      }
                  }
              })
          }
      }
      if (g.length != 0) {
          n.add.pths = {
              classID: "pathsDataClass",
              pathList: {
                  t: "VlLs",
                  v: g
              }
          };
          Y = {
              classID: "null",
              keyRootDescriptorList: {
                  t: "VlLs",
                  v: Y
              }
          };
          var i = new cL;
          T.CP(i, 0, 16);
          var v = h9.Ii(i, Y, 4);
          n.hJ.r3000 = i.data.slice(0, v + 4)
      } else {
          delete n.add.pths;
          delete n.hJ.r3000
      }
      W = bY.af2(n, z, W, 3 + G.length);
      W = bY.afI(n, z, W);
      W = bY.aja(n, z, W);
      W = bY.a8Z(n, z, W, C, k);
      W = bY.a6h(n, z, W, C[0], k);
      var g6 = [1025, 2e3, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016];
      for (var M = 0; M < g6.length; M++)
          delete n.hJ["r" + g6[M]];
      for (var M = 0; M < n.W.length; M++) {
          var X = n.W[M];
          if (X.Ct() || C[2] && X.add.SoLd) {
              X.rect = F[M][0];
              X.buffer = F[M][1]
          }
      }
      n.vK(c);
      e3.Bd.Io(n, !0);
      delete n.W4;
      return W
  }
  ;
  bY.Uh = function(n, z, C) {
      var D = T.uL(z, C, 4);
      C += 4;
      if (D != "8BPS")
          alert("invalid header signature: " + D);
      var F = T.ij(z, C);
      C += 2;
      n.W4 = F == 2;
      if (F != 1 && F != 2)
          alert("invalid version: " + F);
      C += 6;
      n.hC = T.ij(z, C);
      C += 2;
      n.v = T.Rt(z, C);
      C += 4;
      n.d = T.Rt(z, C);
      C += 4;
      n.DS = T.ij(z, C);
      C += 2;
      n.t5 = T.ij(z, C);
      C += 2;
      return C
  }
  ;
  bY.af2 = function(n, z, C, D) {
      z.Wz(0, 64);
      T.ji(z.data, C, "8BPS");
      C += 4;
      T.d9(z.data, C, n.W4 ? 2 : 1);
      C += 2;
      T._g(z.data, C, 0);
      C += 4;
      T.d9(z.data, C, 0);
      C += 2;
      T.d9(z.data, C, D);
      C += 2;
      T.ta(z.data, C, n.v);
      C += 4;
      T.ta(z.data, C, n.d);
      C += 4;
      T.d9(z.data, C, 8);
      C += 2;
      T.d9(z.data, C, 3);
      C += 2;
      return C
  }
  ;
  bY.a02 = function(n, z, C) {
      var D = T.Rt(z, C);
      C += 4;
      if (D != 0)
          n.tf = z.slice(C, C + D);
      C += D;
      return C
  }
  ;
  bY.afI = function(n, z, C) {
      T.X6(z, C, 0);
      C += 4;
      return C
  }
  ;
  bY.ah9 = function(n, z, C) {
      var D = T.q(z, C)
        , F = 0;
      C += 4;
      var X = [];
      while (F < D) {
          var E = T.uL(z, C + F, 4);
          F += 4;
          var f = T.ij(z, C + F);
          F += 2;
          var a = T.q_(z, C + F);
          F += a.length;
          if (E != "8BIM") {
              X.push(f);
              console.log("Unknown Image Resources signature: " + E + ", ID: " + f)
          }
          var q = T.q(z, C + F);
          F += 4;
          if (n.hJ["r" + f] != null)
              console.log("--- two resources with same ID");
          n.hJ["r" + f] = T.tY(z, C + F, q);
          F += q + (q & 1)
      }
      for (var M = 0; M < X.length; M++)
          delete n.hJ["r" + X[M]];
      return C + D
  }
  ;
  bY.aja = function(n, z, C) {
      var D = C
        , E = 0;
      C += 4;
      var F = [];
      for (var X in n.hJ) {
          F.push(parseInt(X.slice(1)))
      }
      F.sort(function(K, R) {
          return K - R
      });
      for (var M = 0; M < F.length; M++) {
          T.tX(z, C + E, "8BIM");
          E += 4;
          var f = F[M];
          T.Uo(z, C + E, f);
          E += 2;
          var a = T.YU(z, C + E, "");
          E += a;
          var q = n.hJ["r" + f]
            , c = q.length;
          T.CP(z, C + E, c);
          E += 4;
          T.K_(z, C + E, q);
          E += c;
          if (c % 2 == 1)
              E++
      }
      T.CP(z, D, E);
      return C + E
  }
  ;
  bY.ah4 = function(n, z, C) {
      var D = C, F, X, E = n.W4 ? 8 : 4;
      if (n.W4)
          F = T.Ky(z, C);
      else
          F = T.q(z, C);
      C += E;
      if (F == 0)
          return D + E;
      X = bY.a4R(n, z, C);
      bY.GD(1, X - C, "Layer Info");
      C = X;
      X = bY.a9M(n, z, C);
      bY.GD(1, X - C, "Global Layer Mask Info");
      C = X;
      X = ac.zD(z, C, D + E + F, n.add, n.W4, n);
      bY.GD(1, X - C, "Project Add Info");
      C = X;
      return D + E + F
  }
  ;
  bY.a8Z = function(n, z, C, D, F) {
      var X = C;
      T.CP(z, C, 0);
      C += 4;
      if (n.W4) {
          T.CP(z, C, 0);
          C += 4
      }
      C = bY.anv(n, z, C, D, F);
      C = bY.anH(n, z, C);
      C = ac.Zc(z, C, n.add, n.W4, n);
      if (n.W4)
          T.w2(z, X, C - X - 8);
      else
          T.CP(z, X, C - X - 4);
      return C
  }
  ;
  bY.a4R = function(n, z, C) {
      var D, F = n.W4 ? 8 : 4;
      if (n.W4)
          D = T.Ky(z, C);
      else
          D = T.q(z, C);
      C += F;
      if (D != 0)
          bY.r$(n, z, C);
      return C + D
  }
  ;
  bY.r$ = function(n, z, C) {
      var D = T.yC(z, C);
      C += 2;
      var F = Math.abs(D);
      for (var M = 0; M < F; M++) {
          var X = new Q;
          C = eO.vC(X, n, z, C);
          n.W[M] = X
      }
      var E = new cc(0,0,n.d,n.v);
      for (var M = 0; M < F; M++) {
          var f = n.W[M]
            , a = f.sN()
            , q = gt.vC(f, n, z, C);
          if (q - C > 8)
              bY.GD(2, q - C, "Lay: " + f.getName());
          C = q;
          bY.EX(f, E);
          if (a)
              bY.EX(a, E)
      }
  }
  ;
  bY.EX = function(n, z) {
      var C = n.rect.t()
        , D = n.rect.Yi(z)
        , F = D.t() / C;
      if (C > 2e3 * 3e3 && F < .5) {
          if (n.buffer) {
              var X = j.T(D.t() * 4);
              j.X3(n.buffer, n.rect, X, D);
              n.buffer = X;
              n.rect = D
          } else {
              var X = j.T(D.t());
              j.v8(n.channel, n.rect, X, D);
              n.channel = X;
              n.rect = D
          }
          alert("Removing hidden parts of layers")
      }
  }
  ;
  bY.anv = function(n, z, C, D, F) {
      var X = C
        , E = n.W4;
      C += E ? 8 : 4;
      C = bY.v0(n, z, C, D, F);
      var f = C - X - (E ? 8 : 4);
      if (f % 2 != 0)
          f++;
      if (E)
          T.w2(z, X, f);
      else
          T.CP(z, X, f);
      return X + f + (E ? 8 : 4)
  }
  ;
  bY.v0 = function(n, z, C, D, F) {
      var X = n.W.length;
      T.Cz(z, C, F ? -X : X);
      C += 2;
      var E = [];
      for (var M = 0; M < X; M++)
          C = eO.OK(n.W[M], n, z, C, E);
      for (var M = 0; M < X; M++)
          C = gt.h$(n.W4, n.W[M], z, C, E[M], D);
      return C
  }
  ;
  bY.a9M = function(n, z, C) {
      var D = T.q(z, C);
      C += 4;
      C += D;
      return C
  }
  ;
  bY.anH = function(n, z, C) {
      var D = T.CP(z, C, 0);
      C += 4;
      return C
  }
  ;
  bY.a3h = function(n, z, C) {
      var D = n.t5, F = "Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "), X = [1, 1, 1, 3, 4, 1, 1, 3], E, p;
      if (D != 3) {
          if (D == 1 || D == 2 || D == 4)
              alert("Project will be converted from " + F[D] + " to " + F[3] + " mode.");
          else {
              alert("Color mode " + F[D] + " is not supported yet :(")
          }
      }
      if (n.hJ.r1045) {
          E = [];
          var f = n.hJ.r1045
            , a = 0;
          while (a < f.length) {
              var q = T.yy(f, a);
              E.push(q);
              a += 4 + 2 + q.length * 2
          }
      }
      var c = X[D] + (E == null || E[0] == "Transparency" ? 1 : 0)
        , K = n.d
        , R = n.v
        , J = K * R
        , w = T.ij(z, C);
      C += 2;
      n.buffer = j.T(J * 4);
      j.xM(n.buffer, 4278190080);
      var I = C;
      for (var m = 0; m < n.hC; m++) {
          if (w == 0) {
              p = gt.lM(n.W4, n.DS, z, K, R, C, w);
              C += J * (n.DS >>> 3)
          } else if (w == 1) {
              p = j.T(J);
              var A = n.W4 ? 4 : 2;
              if (m == 0)
                  C += n.hC * R * A;
              C += gt._3(z, p, K, R, I + m * R * A, C, A)
          } else {
              console.log("unknown compression of image data: ", w);
              return
          }
          if (m < c) {
              j.bl(p, n.buffer, m);
              if (n.hC == 1 && m == 0) {
                  j.bl(p, n.buffer, 1);
                  j.bl(p, n.buffer, 2)
              }
          } else {
              var U = new Q.im
                , r = m - c
                , $ = m - X[n.t5];
              U.name = E ? E[$] : "Alpha";
              if (U.name == "Quick Mask") {
                  U.ip = !0;
                  n.Rj.push(r)
              }
              U.rect = new cc(0,0,K,R);
              U.channel = p;
              U.color = 0;
              U.BL();
              n.fD[r] = U;
              if (n.hJ.r1077) {
                  var f = n.hJ.r1077.slice(4 + $ * 13);
                  U.Ym = fN.yP(f, 0);
                  U.gy = f[11];
                  U.Gj = f[12];
                  if (U.Gj == 2)
                      U.ip = !0
              }
          }
      }
      n.hC = 4;
      if (n.t5 == 2)
          for (var M = 0; M < J; M++) {
              var k = M * 4
                , G = n.buffer[k];
              n.buffer[k] = n.tf[0 + G];
              n.buffer[k + 1] = n.tf[256 + G];
              n.buffer[k + 2] = n.tf[512 + G]
          }
      return C
  }
  ;
  bY.a6h = function(n, z, C, D, F) {
      var X = 1, E = 16, f = n.d, a = n.v, c, K;
      T.Uo(z, C, X);
      C += 2;
      var q = f * a;
      if (!D) {
          K = new j.Dv(f * a);
          j.I6(n.buffer, K);
          var R = K.h
            , J = K.Q
            , w = K.O
            , p = K.nb;
          for (var M = 0; M < q; M++) {
              var I = p[M] * (1 / 255);
              R[M] = ~~(R[M] * I + 255 * (1 - I));
              J[M] = ~~(J[M] * I + 255 * (1 - I));
              w[M] = ~~(w[M] * I + 255 * (1 - I))
          }
      } else
          c = j.T(q);
      var m = [c, c, c];
      if (!D)
          m = [K.h, K.Q, K.O];
      if (F)
          m.push(D ? c : K.nb);
      for (var M = 0; M < n.fD.length; M++) {
          m.push(n.fD[M].CK(new cc(0,0,n.d,n.v)))
      }
      var A = C;
      for (var U = 0; U < m.length; U++) {
          z.Wz(C, f * a + 4);
          c = m[U];
          if (X == 0 || X == 2 || X == 3)
              C = gt.Mj(n.W4, c, z.data, f, a, C, X);
          else {
              var r = n.W4 ? 4 : 2;
              if (U == 0)
                  C += m.length * a * r;
              var $ = C;
              C += gt.X8(c, z.data, f, a, A + U * a * r, C, r)
          }
      }
      return C
  }
  ;
  function fw() {}
  fw.vC = function(n) {
      var z = {};
      fw.JZ(n, z, 0, 0);
      return z
  }
  ;
  fw.OK = function(n, z) {
      var C = 0;
      C = fw.wG(n, z, C, 0);
      return C
  }
  ;
  fw.JZ = function(n, z, C, D) {
      while (n[C] != "<".charCodeAt(0))
          C++;
      C += 2;
      while (!0) {
          if (n[C] == "/".charCodeAt(0)) {
              C++;
              var F = T.indexOf(n, " ".charCodeAt(0), C, C + 50)
                , X = T.indexOf(n, "\n".charCodeAt(0), C, C + 50);
              if (X == -1)
                  X = Infinity;
              if (F == -1)
                  F = Infinity;
              var E = Math.min(X, F)
                , f = T.uL(n, C, E - C)
                , a = fw.Pe(n, E + 1, D + 1, f);
              z[f] = a.G;
              C = E + 1;
              C += a.size
          } else if (n[C] == ">".charCodeAt(0)) {
              C += 2;
              break
          } else {
              var q = n[C];
              if (q == 10 || q == 9 || q == 32)
                  C++;
              else {
                  console.log("unknown byte: " + q + ", char: " + String.fromCharCode(q), C);
                  C++
              }
          }
      }
      return C
  }
  ;
  fw.wG = function(n, z, C, D) {
      T.tX(z, C, "<<\n");
      C += 3;
      var F = fw.afp;
      for (var X in n) {
          T.zc(z, C, "\t".charCodeAt(0), D + 1);
          C += D + 1;
          T.tX(z, C, "/" + X);
          C += 1 + X.length;
          if (F(n[X]) || n[X]instanceof Array) {
              T.tX(z, C, " ");
              C++
          } else {
              T.tX(z, C, "\n");
              C++;
              T.zc(z, C, "\t".charCodeAt(0), D + 1);
              C += D + 1
          }
          C = fw.nl(n[X], z, C, D + 1);
          T.tX(z, C, "\n");
          C++
      }
      T.zc(z, C, "\t".charCodeAt(0), D);
      C += D;
      T.tX(z, C, ">>");
      C += 2;
      return C
  }
  ;
  fw.Pe = function(n, z, C, D) {
      var F = z
        , X = {
          size: 0,
          G: 0
      };
      while (!0) {
          while (n[z] == " ".charCodeAt(0) || n[z] == "\t".charCodeAt(0) || n[z] == "\n".charCodeAt(0))
              z++;
          if (n[z] == "<".charCodeAt(0)) {
              X.G = {};
              z = fw.JZ(n, X.G, z, C + 1);
              break
          } else if (n[z] == "(".charCodeAt(0)) {
              z += 3;
              var E = z;
              while (!0) {
                  if (n[E - 1] != "\\".charCodeAt(0) && n[E] == ")".charCodeAt(0) && (n[E + 1] == "\n".charCodeAt(0) || n[E + 1] == " ".charCodeAt(0)))
                      break;
                  else
                      E++
              }
              X.G = T.sc(n, z, E);
              z = E + 2;
              break
          } else if (n[z] == "[".charCodeAt(0)) {
              z++;
              X.G = [];
              while (n[z] == " ".charCodeAt(0) || n[z] == "\t".charCodeAt(0) || n[z] == "\n".charCodeAt(0))
                  z++;
              while (n[z] != "]".charCodeAt(0)) {
                  var f = fw.Pe(n, z, C + 1, D);
                  X.G.push(f.G);
                  z += f.size;
                  while (n[z] == " ".charCodeAt(0) || n[z] == "\t".charCodeAt(0) || n[z] == "\n".charCodeAt(0))
                      z++
              }
              z++;
              break
          } else {
              var a = T.indexOf(n, " ".charCodeAt(0), z, z + 50)
                , q = T.indexOf(n, "\n".charCodeAt(0), z, z + 50);
              if (q == -1)
                  q = Infinity;
              if (a == -1)
                  a = Infinity;
              var c = T.uL(n, z, Math.min(a, q) - z).trim()
                , K = parseFloat(c);
              if (!isNaN(K)) {
                  X.G = parseFloat(c);
                  z = Math.min(a, q) + 1;
                  break
              } else if (c == "true" || c == "false") {
                  X.G = c == "true";
                  z = Math.min(a, q) + 1;
                  break
              } else if (c == "null" || c == "NaN" || c == "undefined") {
                  X.G = 0;
                  z = Math.min(a, q) + 1;
                  break
              } else {
                  console.log("unknown identifier: " + c);
                  throw "e"
              }
              z = Math.min(a, q) + 1
          }
      }
      X.size = z - F;
      return X
  }
  ;
  fw.nl = function(n, z, C, D) {
      if (n instanceof Array) {
          var F = n.length == 0 || typeof n[0] == "number";
          if (F) {
              T.tX(z, C, "[ ");
              C += 2;
              for (var M = 0; M < n.length; M++) {
                  var X = n[M] + " ";
                  T.tX(z, C, X);
                  C += X.length
              }
              T.tX(z, C, "]");
              C += 1
          } else {
              T.tX(z, C, "[\n");
              C += 2;
              for (var M = 0; M < n.length; M++) {
                  T.zc(z, C, "\t".charCodeAt(0), D);
                  C += D;
                  C = fw.nl(n[M], z, C, D);
                  T.tX(z, C, "\n");
                  C++
              }
              T.zc(z, C, "\t".charCodeAt(0), D);
              C += D;
              T.tX(z, C, "]");
              C += 1
          }
      } else if (n instanceof Object) {
          C = fw.wG(n, z, C, D)
      } else if (typeof n == "string") {
          T.tX(z, C, "(");
          C++;
          T.zc(z, C, 254);
          C++;
          T.zc(z, C, 255);
          C++;
          C = T.qo(z, C, n);
          T.tX(z, C, ")");
          C += 1
      } else {
          var X = n + "";
          T.tX(z, C, X);
          C += X.length
      }
      return C
  }
  ;
  fw.afp = function(n) {
      var z = typeof n;
      return z == "string" || z == "number" || z == "boolean"
  }
  ;
  function iX() {}
  iX.vC = function(n) {
      var z = {};
      iX.$Q(n, z, 0, 0);
      return z
  }
  ;
  iX.OK = function(n, z) {
      var C = 0;
      T.tX(z, C, " ");
      C++;
      C = iX.yr(n, z, C, 0);
      C--;
      z.Wz(C, 2);
      z.data[C] = z.data[C + 1] = 0;
      C += 2;
      return C
  }
  ;
  iX.JZ = function(n, z, C, D) {
      while (n[C] != "<".charCodeAt(0)) {
          C++;
          console.log("\u0161ipka")
      }
      C += 2;
      C = iX.$Q(n, z, C, D);
      return C
  }
  ;
  iX.wG = function(n, z, C, D) {
      T.tX(z, C, "<< ");
      C += 3;
      C = iX.yr(n, z, C, D);
      T.tX(z, C, ">>");
      C += 2;
      return C
  }
  ;
  iX.S0 = function(n) {
      return n == 9 || n == 10 || n == 32
  }
  ;
  iX.$Q = function(n, z, C, D) {
      while (!0) {
          while (iX.S0(n[C]) || n[C] == 0)
              C++;
          if (C >= n.length)
              break;
          if (n[C] == "/".charCodeAt(0)) {
              C++;
              var F = C;
              while (!iX.S0(n[F]))
                  F++;
              var X = T.uL(n, C, F - C);
              C = F + 1;
              var E = iX.Pe(n, C, D, X);
              z["_" + X] = E.G;
              C += E.size
          } else if (n[C] == ">".charCodeAt(0)) {
              C += 2;
              break
          } else {
              var f = n[C];
              console.log(T.uL(n, C, C + 100));
              console.log("unknown byte: " + f + ", char: " + String.fromCharCode(f) + ", offset: " + C);
              C++;
              throw "e";
              return -1
          }
      }
      return C
  }
  ;
  iX.yr = function(n, z, C, D) {
      for (var F in n) {
          var X = F.substring(1, F.length);
          T.tX(z, C, "/" + X);
          C += 1 + X.length;
          T.tX(z, C, " ");
          C++;
          C = iX.nl(n[F], z, C, D + 1);
          T.tX(z, C, " ");
          C++
      }
      return C
  }
  ;
  iX.Pe = function(n, z, C, D) {
      var F = z
        , X = {
          type: "",
          size: 0,
          G: 0
      };
      while (iX.S0(n[z]))
          z++;
      if (n[z] == "<".charCodeAt(0)) {
          X.type = "Object";
          X.G = {};
          z = iX.JZ(n, X.G, z, C + 1)
      } else if (n[z] == "(".charCodeAt(0)) {
          X.type = "String";
          z++;
          if (n[z] == ")".charCodeAt(0)) {
              X.G = "s";
              z++
          } else {
              z += 2;
              var E = z
                , f = 0;
              while (!0) {
                  if (n[E] == ")".charCodeAt(0) && n[E - 1] != "\\".charCodeAt(0))
                      break;
                  else
                      E += 1
              }
              X.G = "s" + T.sc(n, z, E);
              z = E + 2
          }
      } else if (n[z] == "[".charCodeAt(0)) {
          z++;
          X.G = [];
          X.type = "Array";
          while (iX.S0(n[z]))
              z++;
          while (n[z] != "]".charCodeAt(0)) {
              var a = iX.Pe(n, z, C + 1, D);
              if (a == -1)
                  return -1;
              X.G.push(a.G);
              z += a.size;
              delete a.size;
              while (iX.S0(n[z]))
                  z++
          }
          z++
      } else {
          var q = z;
          while (!iX.S0(n[q]))
              q++;
          var c = T.uL(n, z, q - z)
            , K = parseFloat(c);
          if (!isNaN(K) && c.indexOf(".") != -1) {
              X.type = "Float";
              var R = parseFloat(c);
              X.G = "f" + R
          } else if (!isNaN(K) && c.indexOf(".") == -1) {
              X.type = "Integer";
              X.G = "i" + parseInt(c)
          } else if (c == "true" || c == "false") {
              X.type = "Boolean";
              X.G = c == "true"
          } else if (c.charAt(0) == "/") {
              X.type = "BString";
              X.G = c
          } else if (c == "NaN") {
              X.type = "Float";
              X.G = "f0"
          } else {
              console.log("unknown value", JSON.stringify(c));
              throw "e"
          }
          z = q + 1
      }
      X.size = z - F;
      return X
  }
  ;
  iX.abN = function(n) {
      if (n == Math.round(n))
          return n + ".0";
      var z = n.toFixed(5);
      if (0 < n && n < 1)
          z = z.substring(1, z.length);
      if (-1 < n && n < 0)
          z = "-" + z.substring(2, z.length);
      return z
  }
  ;
  iX.nl = function(n, z, C, D) {
      var F = typeof n == "string" ? n.charAt(0) : "";
      if (n instanceof Array) {
          T.tX(z, C, "[ ");
          C += 2;
          for (var M = 0; M < n.length; M++) {
              C = iX.nl(n[M], z, C, D);
              T.tX(z, C, " ");
              C++
          }
          T.tX(z, C, "]");
          C += 1
      } else if (n instanceof Object) {
          C = iX.wG(n, z, C, D)
      } else if (F == "s") {
          T.tX(z, C, "(");
          C++;
          T.zc(z, C, 254);
          C++;
          T.zc(z, C, 255);
          C++;
          C = T.qo(z, C, n.substring(1));
          T.tX(z, C, ")");
          C++
      } else if (F == "/") {
          T.tX(z, C, n);
          C += n.length
      } else if (F == "f") {
          var X = parseFloat(n.substring(1))
            , E = iX.abN(X);
          T.tX(z, C, E);
          C += E.length
      } else if (F == "i") {
          T.tX(z, C, n.substring(1));
          C += n.length - 1
      } else {
          var E = n + "";
          T.tX(z, C, E);
          C += E.length
      }
      return C
  }
  ;
  function ir(n, z) {
      if (!n)
          n = 0;
      if (!z)
          z = 0;
      this.x = n;
      this.y = z
  }
  ir.prototype.add = function(n) {
      return new ir(this.x + n.x,this.y + n.y)
  }
  ;
  ir.prototype.clone = function() {
      return new ir(this.x,this.y)
  }
  ;
  ir.prototype.LP = function(n) {
      this.x = n.x;
      this.y = n.y
  }
  ;
  ir.prototype.jm = function(n) {
      return this.x == n.x && this.y == n.y
  }
  ;
  ir.prototype.normalize = function(n) {
      var z = Math.sqrt(this.x * this.x + this.y * this.y);
      this.x *= n / z;
      this.y *= n / z
  }
  ;
  ir.prototype.offset = function(n, z) {
      this.x += n;
      this.y += z
  }
  ;
  ir.prototype.oS = function(n, z) {
      this.x = n;
      this.y = z
  }
  ;
  ir.prototype.s6 = function(n) {
      return new ir(this.x - n.x,this.y - n.y)
  }
  ;
  ir.gn = function(n, z) {
      return ir.a11(n.x, n.y, z.x, z.y)
  }
  ;
  ir.E2 = function(n, z, C) {
      return new ir(n.x + C * (z.x - n.x),n.y + C * (z.y - n.y))
  }
  ;
  ir.a1S = function(n, z) {
      return new ir(n * Math.cos(z),n * Math.sin(z))
  }
  ;
  ir.a11 = function(n, z, C, D) {
      return Math.sqrt((C - n) * (C - n) + (D - z) * (D - z))
  }
  ;
  ir.v9 = {};
  ir.pP = {};
  ir.v9.create = function() {
      var n = new Float32Array(4);
      return n
  }
  ;
  ir.pP.create = function(n) {
      var z = new Float32Array(16);
      z[0] = z[5] = z[10] = z[15] = 1;
      if (n)
          ir.pP.set(n, z);
      return z
  }
  ;
  ir.v9.add = function(n, z, C) {
      C[0] = n[0] + z[0];
      C[1] = n[1] + z[1];
      C[2] = n[2] + z[2];
      C[3] = n[3] + z[3]
  }
  ;
  ir.v9.set = function(n, z) {
      z[0] = n[0];
      z[1] = n[1];
      z[2] = n[2];
      z[3] = n[3]
  }
  ;
  ir.pP.set = function(n, z) {
      z[0] = n[0];
      z[1] = n[1];
      z[2] = n[2];
      z[3] = n[3];
      z[4] = n[4];
      z[5] = n[5];
      z[6] = n[6];
      z[7] = n[7];
      z[8] = n[8];
      z[9] = n[9];
      z[10] = n[10];
      z[11] = n[11];
      z[12] = n[12];
      z[13] = n[13];
      z[14] = n[14];
      z[15] = n[15]
  }
  ;
  ir.pP.multiply = function(n, z, C) {
      var D = n[0]
        , F = n[1]
        , X = n[2]
        , E = n[3]
        , f = n[4]
        , a = n[5]
        , q = n[6]
        , c = n[7]
        , K = n[8]
        , R = n[9]
        , J = n[10]
        , w = n[11]
        , p = n[12]
        , I = n[13]
        , m = n[14]
        , A = n[15]
        , U = z[0]
        , r = z[1]
        , $ = z[2]
        , k = z[3];
      C[0] = U * D + r * f + $ * K + k * p;
      C[1] = U * F + r * a + $ * R + k * I;
      C[2] = U * X + r * q + $ * J + k * m;
      C[3] = U * E + r * c + $ * w + k * A;
      U = z[4];
      r = z[5];
      $ = z[6];
      k = z[7];
      C[4] = U * D + r * f + $ * K + k * p;
      C[5] = U * F + r * a + $ * R + k * I;
      C[6] = U * X + r * q + $ * J + k * m;
      C[7] = U * E + r * c + $ * w + k * A;
      U = z[8];
      r = z[9];
      $ = z[10];
      k = z[11];
      C[8] = U * D + r * f + $ * K + k * p;
      C[9] = U * F + r * a + $ * R + k * I;
      C[10] = U * X + r * q + $ * J + k * m;
      C[11] = U * E + r * c + $ * w + k * A;
      U = z[12];
      r = z[13];
      $ = z[14];
      k = z[15];
      C[12] = U * D + r * f + $ * K + k * p;
      C[13] = U * F + r * a + $ * R + k * I;
      C[14] = U * X + r * q + $ * J + k * m;
      C[15] = U * E + r * c + $ * w + k * A;
      return C
  }
  ;
  ir.pP.inverse = function(n, z) {
      var C = n[0]
        , D = n[1]
        , F = n[2]
        , X = n[3]
        , E = n[4]
        , f = n[5]
        , a = n[6]
        , q = n[7]
        , c = n[8]
        , K = n[9]
        , R = n[10]
        , J = n[11]
        , w = n[12]
        , p = n[13]
        , I = n[14]
        , m = n[15]
        , A = C * f - D * E
        , U = C * a - F * E
        , r = C * q - X * E
        , $ = D * a - F * f
        , k = D * q - X * f
        , G = F * q - X * a
        , i = c * p - K * w
        , o = c * I - R * w
        , S = c * m - J * w
        , H = K * I - R * p
        , e = K * m - J * p
        , V = R * m - J * I
        , v = A * V - U * e + r * H + $ * S - k * o + G * i;
      if (!v) {
          return null
      }
      v = 1 / v;
      z[0] = (f * V - a * e + q * H) * v;
      z[1] = (F * e - D * V - X * H) * v;
      z[2] = (p * G - I * k + m * $) * v;
      z[3] = (R * k - K * G - J * $) * v;
      z[4] = (a * S - E * V - q * o) * v;
      z[5] = (C * V - F * S + X * o) * v;
      z[6] = (I * r - w * G - m * U) * v;
      z[7] = (c * G - R * r + J * U) * v;
      z[8] = (E * e - f * S + q * i) * v;
      z[9] = (D * S - C * e - X * i) * v;
      z[10] = (w * k - p * r + m * A) * v;
      z[11] = (K * r - c * k - J * A) * v;
      z[12] = (f * o - E * H - a * i) * v;
      z[13] = (C * H - D * o + F * i) * v;
      z[14] = (p * U - w * $ - I * A) * v;
      z[15] = (c * $ - K * U + R * A) * v;
      return z
  }
  ;
  ir.pP.ahI = function(n, z, C) {
      var D = z[0]
        , F = z[1];
      C[0] = D * n[0] + F * n[4] + n[12];
      C[1] = D * n[1] + F * n[5] + n[13]
  }
  ;
  ir.pP.adf = function(n, z, C) {
      var D = z[0]
        , F = z[1]
        , X = z[2]
        , E = z[3];
      C[0] = n[0] * D + n[4] * F + n[8] * X + n[12] * E;
      C[1] = n[1] * D + n[5] * F + n[9] * X + n[13] * E;
      C[2] = n[2] * D + n[6] * F + n[10] * X + n[14] * E;
      C[3] = n[3] * D + n[7] * F + n[11] * X + n[15] * E
  }
  ;
  function b6(n, z, C, D, F, X) {
      if (typeof n === "undefined") {
          n = 1;
          z = 0;
          C = 0;
          D = 1;
          F = 0;
          X = 0
      }
      this.nb = n;
      this.O = z;
      this.KV = C;
      this.qc = D;
      this.H1 = F;
      this.Wv = X
  }
  b6.prototype.Jr = function() {
      return Math.sqrt(Math.abs(this.nb * this.qc - this.O * this.KV))
  }
  ;
  b6.prototype.Iq = function() {
      var n = this
        , z = function(C) {
          return Math.abs(C) < 1e-9 ? 0 : C
      };
      n.nb = z(n.nb);
      n.O = z(n.O);
      n.KV = z(n.KV);
      n.qc = z(n.qc);
      n.H1 = z(n.H1);
      n.Wv = z(n.Wv)
  }
  ;
  b6.prototype.JT = function(n) {
      return new ir(n.x * this.nb + n.y * this.KV + this.H1,n.x * this.O + n.y * this.qc + this.Wv)
  }
  ;
  b6.prototype.translate = function(n, z) {
      this.H1 += n;
      this.Wv += z
  }
  ;
  b6.prototype.rotate = function(n) {
      var z = new b6(Math.cos(n),-Math.sin(n),Math.sin(n),Math.cos(n),0,0);
      this.concat(z)
  }
  ;
  b6.prototype.scale = function(n, z) {
      var C = new b6(n,0,0,z,0,0);
      this.concat(C)
  }
  ;
  b6.prototype.concat = function(n) {
      this.LP(new b6(this.nb * n.nb + this.O * n.KV,this.nb * n.O + this.O * n.qc,this.KV * n.nb + this.qc * n.KV,this.KV * n.O + this.qc * n.qc,this.H1 * n.nb + this.Wv * n.KV + n.H1,this.H1 * n.O + this.Wv * n.qc + n.Wv))
  }
  ;
  b6.prototype.eL = function() {
      var n = this.nb * this.qc - this.O * this.KV;
      this.LP(new b6(this.qc / n,-this.O / n,-this.KV / n,this.nb / n,(this.KV * this.Wv - this.qc * this.H1) / n,(this.O * this.H1 - this.nb * this.Wv) / n))
  }
  ;
  b6.prototype.clone = function() {
      return new b6(this.nb,this.O,this.KV,this.qc,this.H1,this.Wv)
  }
  ;
  b6.prototype.LP = function(n) {
      this.nb = n.nb;
      this.O = n.O;
      this.KV = n.KV;
      this.qc = n.qc;
      this.H1 = n.H1;
      this.Wv = n.Wv
  }
  ;
  function T() {}
  T.aq0 = function(h) {
      var n = "";
      for (var M = 3; M >= 0; M--)
          n += String.fromCharCode(h >> M * 8 & 255);
      return n
  }
  ;
  T.ane = function(n) {
      var h = 0;
      for (var M = n.length - 1; M >= 0; M--)
          h |= n.charCodeAt(M) << (3 - M) * 8;
      return h
  }
  ;
  T.indexOf = function(n, z, C, D) {
      if (C == null)
          C = 0;
      if (D == null)
          D = n.length;
      D = Math.min(D, n.length);
      for (var M = C; M < D; M++)
          if (n[M] == z)
              return M;
      return -1
  }
  ;
  T.Wf = function(n, z, C) {
      if (C == null)
          C = 0;
      var D = z.length
        , F = n.length - D;
      if (typeof z == "string") {
          var X = [];
          for (var M = 0; M < D; M++)
              X.push(z.charCodeAt(M));
          z = X
      }
      if (z.length > 0) {
          var E = z[0];
          for (var M = C; M < F; M++)
              if (n[M] == E) {
                  var f = !0;
                  for (var a = 1; a < D; a++)
                      if (z[a] != n[M + a]) {
                          f = !1;
                          break
                      }
                  if (f)
                      return M
              }
      }
      return -1
  }
  ;
  T.sc = function(n, z, C) {
      var D = []
        , X = "";
      while (z < C) {
          var F = n[z++];
          if (F == "\\".charCodeAt(0))
              D.push(n[z++]);
          else
              D.push(F)
      }
      for (var M = 0; M < D.length; M += 2)
          X += String.fromCharCode(D[M] << 8 | D[M + 1]);
      return X
  }
  ;
  T.a8S = function(n, z, C) {
      var D = new Uint8Array(2);
      for (var M = 0; M < C.length; M++) {
          T.d9(D, 0, C.charCodeAt(M));
          if (D[0] == ")".charCodeAt(0) || D[0] == "(".charCodeAt(0) || D[0] == "\\".charCodeAt(0)) {
              n[z] = "\\".charCodeAt(0);
              z++
          }
          n[z] = D[0];
          z++;
          if (D[1] == ")".charCodeAt(0) || D[1] == "(".charCodeAt(0) || D[1] == "\\".charCodeAt(0)) {
              n[z] = "\\".charCodeAt(0);
              z++
          }
          n[z] = D[1];
          z++
      }
      return z
  }
  ;
  T.qo = function(n, z, C) {
      n.Wz(z, 4 * C.length);
      return T.a8S(n.data, z, C)
  }
  ;
  T.Km = function(n, z, C) {
      var D = "";
      for (var M = 0; M < C; M++) {
          var F = n[z++] | n[z++] << 8;
          D += String.fromCharCode(F)
      }
      return D
  }
  ;
  T.tE = function(n, z, C) {
      var D = "";
      for (var M = 0; M < C; M++) {
          var F = n[z++] << 8 | n[z++];
          D += String.fromCharCode(F)
      }
      return D
  }
  ;
  T.ak7 = function(n, z, C) {
      for (var M = 0; M < C.length; M++) {
          var D = C.charCodeAt(M);
          T.Se(n, z + 2 * M, D)
      }
  }
  ;
  T.HH = function(n, z, C) {
      for (var M = 0; M < C.length; M++) {
          var D = C.charCodeAt(M);
          T.d9(n, z + 2 * M, D)
      }
  }
  ;
  T.aib = function(n, z, C) {
      n.Wz(z, 2 * C.length);
      T.HH(n.data, z, C)
  }
  ;
  T.a00 = function(n, M, z) {
      var C = []
        , D = 0
        , F = 0;
      z += M;
      while (M < z) {
          D = n[M++];
          if ((D & 128) == 0)
              F = D;
          else if ((D & 224) == 192) {
              F = (D & 31) << 6;
              D = n[M++];
              F |= D & 63
          } else if ((D & 240) == 224) {
              F = (D & 15) << 12;
              D = n[M++];
              F |= (D & 63) << 6;
              D = n[M++];
              F |= D & 63
          } else if ((D & 248) == 240) {
              F = (D & 7) << 18;
              D = n[M++];
              F |= (D & 63) << 12;
              D = n[M++];
              F |= (D & 63) << 6;
              D = n[M++];
              F |= D & 63
          } else
              throw "e";
          C.push(F)
      }
      return C
  }
  ;
  T.a3 = window.TextDecoder ? new window.TextDecoder("utf8") : null;
  T.iS = function(n, z, C) {
      if (z == null)
          z = 0;
      if (C == null)
          C = n.length;
      if (T.a3 && z == 0 && C == n.length)
          return T.a3.decode(n);
      var D = T.a00(n, z, C)
        , F = D.length;
      for (var M = 0; M < F; M++)
          D[M] = String.fromCharCode(D[M]);
      return D.join("")
  }
  ;
  T.L3 = window.TextEncoder ? new window.TextEncoder("utf8") : null;
  T.Ns = function(n) {
      if (T.L3)
          return T.L3.encode(n);
      var z = new Uint8Array(n.length * 4)
        , C = T.w4(n, z, 0);
      return z.slice(0, C)
  }
  ;
  T.w4 = function(n, z, C) {
      var D = n.length
        , M = 0;
      for (var F = 0; F < D; F++) {
          var X = n.charCodeAt(F);
          if ((X & 4294967295 - (1 << 7) + 1) == 0) {
              z[C + M] = X;
              M++
          } else if ((X & 4294967295 - (1 << 11) + 1) == 0) {
              z[C + M] = 192 | X >> 6;
              z[C + M + 1] = 128 | X >> 0 & 63;
              M += 2
          } else if ((X & 4294967295 - (1 << 16) + 1) == 0) {
              z[C + M] = 224 | X >> 12;
              z[C + M + 1] = 128 | X >> 6 & 63;
              z[C + M + 2] = 128 | X >> 0 & 63;
              M += 3
          } else if ((X & 4294967295 - (1 << 21) + 1) == 0) {
              z[C + M] = 240 | X >> 18;
              z[C + M + 1] = 128 | X >> 12 & 63;
              z[C + M + 2] = 128 | X >> 6 & 63;
              z[C + M + 3] = 128 | X >> 0 & 63;
              M += 4
          } else
              throw "e"
      }
      return M
  }
  ;
  T.iq = function(n, z) {
      var C = T.q(n, z)
        , D = T.iS(n, z + 4, C - 1);
      return {
          ZP: D,
          rN: 4 + C
      }
  }
  ;
  T.amC = function(n, z) {
      var C = T.YR(n, z)
        , D = T.Km(n, z + 4, C);
      return D
  }
  ;
  T.$S = function(n, z) {
      var C = T.q(n, z)
        , D = T.tE(n, z + 4, C);
      return D
  }
  ;
  T.yy = function(n, z) {
      var C = T.q(n, z)
        , D = T.tE(n, z + 4, C - 1);
      return D
  }
  ;
  T.a5q = function(n, z, C) {
      T.Y_(n, z, C.length);
      z += 4;
      T.ak7(n, z, C)
  }
  ;
  T.anG = function(n, z, C) {
      T._g(n, z, C.length);
      z += 4;
      T.HH(n, z, C)
  }
  ;
  T.Xg = function(n, z, C) {
      n.Wz(z, 4 + 2 * C.length);
      T.anG(n.data, z, C)
  }
  ;
  T.adT = function(n, z, C) {
      n.Wz(z, 4 + 2 * C.length);
      T.a5q(n.data, z, C)
  }
  ;
  T.ol = function(n, z, C) {
      var D = [];
      for (var M = 0; M < C; M++)
          D.push(String.fromCharCode(n[z + M]));
      return D
  }
  ;
  T.a86 = function(n, z, C) {
      var D = !1
        , F = n.length - C.length;
      for (var M = z; M < F; M++) {
          for (var X = 0; X < C.length; X++) {
              if (n[M + X] != C.charCodeAt(X))
                  break;
              if (X == C.length - 1)
                  return M
          }
      }
  }
  ;
  T.uL = function(n, z, C) {
      var D = "";
      for (var M = 0; M < C; M++)
          D += String.fromCharCode(n[z + M]);
      return D
  }
  ;
  T.ji = function(n, z, C) {
      for (var M = 0; M < C.length; M++)
          n[z + M] = C.charCodeAt(M)
  }
  ;
  T.tX = function(n, z, C) {
      n.Wz(z, C.length);
      T.ji(n.data, z, C)
  }
  ;
  T.a1w = function(n, z, C) {
      var D = "";
      for (var M = 0; M < C; M++) {
          var F = n[z + M];
          if (F < 10)
              D += "  ";
          else if (F < 100)
              D += " ";
          D += F + ", "
      }
      return D
  }
  ;
  T.ij = function(n, z) {
      return n[z] << 8 | n[z + 1]
  }
  ;
  T.d9 = function(n, z, h) {
      n[z] = h >> 8 & 255;
      n[z + 1] = h & 255
  }
  ;
  T.Uo = function(n, z, h) {
      n.Wz(z, 4);
      T.d9(n.data, z, h)
  }
  ;
  T.a6z = function(n, z) {
      var C = T.ij(n, z)
        , D = T.ij(n, z + 2);
      return C + D * (1 / 65536)
  }
  ;
  T.v_ = function(n, z, h) {
      var C = Math.floor(h)
        , D = Math.floor((h - C) * 65536);
      T.d9(n, z, C);
      T.d9(n, z + 2, D)
  }
  ;
  T.Dn = function(n, z) {
      return n[z + 1] << 8 | n[z]
  }
  ;
  T.Se = function(n, z, h) {
      n[z + 1] = h >> 8 & 255;
      n[z] = h & 255
  }
  ;
  T.ll = function(n, z, h) {
      n.Wz(z, 4);
      T.Se(n.data, z, h)
  }
  ;
  T.yC = function(n, z) {
      T.uE[0] = n[z + 1];
      T.uE[1] = n[z];
      return T.S$[0]
  }
  ;
  T.$R = function(n, z) {
      T.uE[0] = n[z];
      T.uE[1] = n[z + 1];
      return T.S$[0]
  }
  ;
  T.JR = T.d9;
  T.Cz = T.Uo;
  T.Rt = function(n, z) {
      T.CA[0] = n[z + 3];
      T.CA[1] = n[z + 2];
      T.CA[2] = n[z + 1];
      T.CA[3] = n[z];
      return T.cZ[0]
  }
  ;
  T.ta = function(n, z, h) {
      T.cZ[0] = h;
      n[z + 3] = T.CA[0];
      n[z + 2] = T.CA[1];
      n[z + 1] = T.CA[2];
      n[z + 0] = T.CA[3]
  }
  ;
  T.X6 = function(n, z, h) {
      n.Wz(z, 4);
      T.ta(n.data, z, h)
  }
  ;
  T.hR = function(n, z, C, D) {
      C[D + 0] = n[z + 0];
      C[D + 1] = n[z + 1];
      C[D + 2] = n[z + 2];
      C[D + 3] = n[z + 3]
  }
  ;
  T.YR = function(n, z) {
      T.hR(n, z, T.CA, 0);
      return T.N7[0]
  }
  ;
  T.Y_ = function(n, z, h) {
      T.N7[0] = h;
      T.hR(T.CA, 0, n, z)
  }
  ;
  T.eB = function(n, z, h) {
      n.Wz(z, 4);
      T.Y_(n.data, z, h)
  }
  ;
  T.rK = function(n, z) {
      T.hR(n, z, T.CA, 0);
      return T.cZ[0]
  }
  ;
  T.ag9 = function(n, z, h) {
      T.cZ[0] = h;
      T.hR(T.CA, 0, n, z)
  }
  ;
  T.a7K = function(n, z, h) {
      n.Wz(z, 4);
      T.ag9(n.data, z, h)
  }
  ;
  T.q = function(n, z) {
      var C = n[z] * (256 * 256 * 256) + (n[z + 1] << 16 | n[z + 2] << 8 | n[z + 3]);
      return C
  }
  ;
  T._g = function(n, z, h) {
      n[z] = h >> 24 & 255;
      n[z + 1] = h >> 16 & 255;
      n[z + 2] = h >> 8 & 255;
      n[z + 3] = h >> 0 & 255
  }
  ;
  T.CP = function(n, z, h) {
      n.Wz(z, 4);
      T._g(n.data, z, h)
  }
  ;
  T.Ky = function(n, z) {
      return T.q(n, z) << 32 | T.q(n, z + 4)
  }
  ;
  T.Gk = function(n, z, h) {
      T._g(n, z, h >> 16 >> 16);
      T._g(n, z + 4, h & 4294967295)
  }
  ;
  T.w2 = function(n, z, h) {
      n.Wz(z, 8);
      T.Gk(n.data, z, h)
  }
  ;
  T.C9 = function(n, z) {
      var C = new Uint8Array(8);
      for (var M = 0; M < 8; M++)
          C[M] = n[z + 7 - M];
      var D = new Float64Array(C.buffer);
      return D[0]
  }
  ;
  T.a62 = function(n, z) {
      var C = new Uint8Array(8);
      for (var M = 0; M < 8; M++)
          C[M] = n[z + M];
      var D = new Float64Array(C.buffer);
      return D[0]
  }
  ;
  T.Cf = function(n, z, h) {
      var C = new Float64Array(1);
      C[0] = h;
      var D = new Uint8Array(C.buffer);
      for (var M = 0; M < 4; M++) {
          var F = D[M];
          D[M] = D[7 - M];
          D[7 - M] = F
      }
      for (var M = 0; M < 8; M++)
          n[z + M] = D[M]
  }
  ;
  T.iM = function(n, z, h) {
      n.Wz(z, 8);
      T.Cf(n.data, z, h)
  }
  ;
  T.$g = function(n, z) {
      T.CA[0] = n[z + 3];
      T.CA[1] = n[z + 2];
      T.CA[2] = n[z + 1];
      T.CA[3] = n[z + 0];
      return T.Jb[0]
  }
  ;
  T.J3 = function(n, z) {
      T.CA[0] = n[z + 0];
      T.CA[1] = n[z + 1];
      T.CA[2] = n[z + 2];
      T.CA[3] = n[z + 3];
      return T.Jb[0]
  }
  ;
  T.Gg = function(n, z, h) {
      T.Jb[0] = h;
      n[z + 0] = T.CA[3];
      n[z + 1] = T.CA[2];
      n[z + 2] = T.CA[1];
      n[z + 3] = T.CA[0]
  }
  ;
  T.a6Y = function(n, z, h) {
      n.Wz(z, 4);
      T.Gg(n.data, z, h)
  }
  ;
  T.LB = function(n, z, h) {
      T.Jb[0] = h;
      n[z + 0] = T.CA[0];
      n[z + 1] = T.CA[1];
      n[z + 2] = T.CA[2];
      n[z + 3] = T.CA[3]
  }
  ;
  T.ank = function(n, z, h) {
      n.Wz(z, 4);
      T.LB(n.data, z, h)
  }
  ;
  T.aof = function(n, z) {
      var C = T.Rt(n, z)
        , D = C * (1 / (1 << 24));
      return D
  }
  ;
  T.q$ = function(n, z, C) {
      var D = Math.floor(C * (1 << 24));
      T.ta(n, z, D)
  }
  ;
  T.akk = function(n, z, C) {
      n.Wz(z, 4);
      T.q$(n.data, z, C)
  }
  ;
  T.q_ = function(n, z) {
      var C = n[z]
        , D = T.uL(n, z + 1, C);
      C += 1 - C % 2;
      return {
          Z5: D,
          length: C + 1
      }
  }
  ;
  T.a3S = function(n, z, C) {
      var D = C.length;
      n[z] = D;
      T.ji(n, z + 1, C);
      if (D % 2 == 0) {
          n[z + 1 + D] = 0;
          ++D
      }
      return D + 1
  }
  ;
  T.YU = function(n, z, C) {
      n.Wz(z, C.length + 2);
      return T.a3S(n.data, z, C)
  }
  ;
  T._h = function(n, z) {
      var C = new b6;
      C.nb = T.C9(n, z + 0 * 8);
      C.O = T.C9(n, z + 1 * 8);
      C.KV = T.C9(n, z + 2 * 8);
      C.qc = T.C9(n, z + 3 * 8);
      C.H1 = T.C9(n, z + 4 * 8);
      C.Wv = T.C9(n, z + 5 * 8);
      return C
  }
  ;
  T.wp = function(n, z, C) {
      T.Cf(n, z + 0 * 8, C.nb);
      T.Cf(n, z + 1 * 8, C.O);
      T.Cf(n, z + 2 * 8, C.KV);
      T.Cf(n, z + 3 * 8, C.qc);
      T.Cf(n, z + 4 * 8, C.H1);
      T.Cf(n, z + 5 * 8, C.Wv)
  }
  ;
  T.a6K = function(n, z, C) {
      n.Wz(z, 48);
      T.wp(n.data, z, C)
  }
  ;
  T.a7r = function(n, z) {
      var C = T.$g(n, z)
        , D = T.$g(n, z + 4)
        , F = T.$g(n, z + 8)
        , X = T.$g(n, z + 12);
      return new cc(C,D,F - C,X - D)
  }
  ;
  T.a23 = function(n, z, C) {
      T.Gg(n, z, C.x);
      T.Gg(n, z + 4, C.y);
      T.Gg(n, z + 8, C.x + C.d);
      T.Gg(n, z + 12, C.y + C.v)
  }
  ;
  T.a4T = function(n, z, C) {
      n.Wz(z, 16);
      T.a23(n.data, z, C)
  }
  ;
  T.MX = function(n, z) {
      var C = T.Rt(n, z)
        , D = T.Rt(n, z + 4)
        , F = T.Rt(n, z + 8)
        , X = T.Rt(n, z + 12);
      return new cc(D,C,X - D,F - C)
  }
  ;
  T.wn = function(n, z, C) {
      T.ta(n, z, C.y);
      T.ta(n, z + 4, C.x);
      T.ta(n, z + 8, C.y + C.v);
      T.ta(n, z + 12, C.x + C.d)
  }
  ;
  T.qF = function(n, z, C) {
      n.Wz(z, 16);
      T.wn(n.data, z, C)
  }
  ;
  T.tY = function(n, z, C) {
      var D = new Uint8Array(C);
      for (var M = 0; M < C; M++)
          D[M] = n[z + M];
      return D
  }
  ;
  T.pf = function(n, z, C) {
      n.set(C, z)
  }
  ;
  T.K_ = function(n, z, C) {
      n.Wz(z, C.length);
      T.pf(n.data, z, C)
  }
  ;
  T.afY = function(n, z, C, h) {
      if (!h)
          h = 1;
      for (var M = 0; M < h; M++)
          n[z + M] = C
  }
  ;
  T.zc = function(n, z, C, h) {
      if (!h)
          h = 1;
      n.Wz(z, h);
      T.afY(n.data, z, C, h)
  }
  ;
  T.S$ = new Int16Array(1);
  T.uE = new Uint8Array(T.S$.buffer);
  T.cZ = new Int32Array(1);
  T.N7 = new Uint32Array(T.cZ.buffer);
  T.CA = new Uint8Array(T.cZ.buffer);
  T.Jb = new Float32Array(T.cZ.buffer);
  function cc(n, z, C, D) {
      if (!n)
          n = 0;
      if (!z)
          z = 0;
      if (!C)
          C = 0;
      if (!D)
          D = 0;
      this.x = n;
      this.y = z;
      this.d = C;
      this.v = D
  }
  cc.prototype.t = function() {
      return this.d * this.v
  }
  ;
  cc.prototype.clone = function() {
      return new cc(this.x,this.y,this.d,this.v)
  }
  ;
  cc.prototype.contains = function(n, z) {
      return n >= this.x && n <= this.x + this.d && (z >= this.y && z <= this.y + this.v)
  }
  ;
  cc.prototype.P5 = function(n) {
      return this.contains(n.x, n.y)
  }
  ;
  cc.prototype._6 = function(n) {
      return this.x <= n.x && this.y <= n.y && n.x + n.d <= this.x + this.d && n.y + n.v <= this.y + this.v
  }
  ;
  cc.prototype.LP = function(n) {
      this.x = n.x;
      this.y = n.y;
      this.d = n.d;
      this.v = n.v
  }
  ;
  cc.prototype.jm = function(n) {
      return this.x == n.x && this.y == n.y && this.d == n.d && this.v == n.v
  }
  ;
  cc.prototype.TR = function(n, z) {
      this.x -= n;
      this.y -= z;
      this.d += 2 * n;
      this.v += 2 * z
  }
  ;
  cc.prototype.a3F = function(n) {
      this.TR(n.x, n.y)
  }
  ;
  cc.prototype.Yi = function(n) {
      var z = Math.max(this.x, n.x)
        , C = Math.max(this.y, n.y)
        , D = Math.min(this.x + this.d, n.x + n.d)
        , F = Math.min(this.y + this.v, n.y + n.v);
      if (D < z || F < C)
          return new cc;
      else
          return new cc(z,C,D - z,F - C)
  }
  ;
  cc.prototype.vE = function(n) {
      if (n.y + n.v < this.y || n.x > this.x + this.d || n.y > this.y + this.v || n.x + n.d < this.x)
          return !1;
      return !0
  }
  ;
  cc.prototype.kX = function() {
      return this.d <= 0 || this.v <= 0
  }
  ;
  cc.prototype.offset = function(n, z) {
      this.x += n;
      this.y += z
  }
  ;
  cc.prototype.cj = function(n) {
      this.offset(n.x, n.y)
  }
  ;
  cc.prototype.amE = function() {
      this.x = this.y = this.d = this.v = 0
  }
  ;
  cc.prototype.oS = function(n, z, C, D) {
      this.x = n;
      this.y = z;
      this.d = C;
      this.v = D
  }
  ;
  cc.prototype.QH = function(n) {
      if (this.kX())
          return n.clone();
      if (n.kX())
          return this.clone();
      var z = this.clone();
      z.akE(n);
      return z
  }
  ;
  cc.Ph = new Float32Array(2);
  cc.prototype.akE = function(n) {
      if (n.kX())
          return;
      if (this.kX()) {
          this.LP(n);
          return
      }
      this.gO(n.x, n.y);
      this.gO(n.x + n.d, n.y + n.v)
  }
  ;
  cc.prototype.gO = function(n, z) {
      var C = Math.min(this.x, n)
        , D = Math.min(this.y, z);
      this.d = Math.max(this.x + this.d, n) - C;
      this.v = Math.max(this.y + this.v, z) - D;
      this.x = C;
      this.y = D
  }
  ;
  cc.prototype.apo = function(n, z) {
      this.x = n;
      this.y = z;
      this.d = this.v = 0
  }
  ;
  function ga() {}
  ga.vC = function(n, z) {
      var C = new Uint8Array(n)
        , D = 0
        , F = T.uL(C, D, 9)
        , f = 4
        , a = 100;
      D += 9;
      var X = T.uL(C, D, 4);
      D += 4;
      D++;
      z.d = T.q(C, D);
      D += 4;
      z.v = T.q(C, D);
      D += 4;
      var E = T.q(C, D);
      D += 4;
      if (E != 0)
          alert("Unsupported image format, not RGB!");
      if (["file", "v001", "v002", "v003"].indexOf(X) == -1) {
          a = T.q(C, D);
          D += 4;
          if (parseInt(X.slice(1)) >= 7) {
              a = a
          } else
              alert("Unknown XCF version: " + X);
          f = 8
      }
      var q = {};
      D = ga.jR(C, D, q);
      var c = [];
      D = ga.VX(C, D, c, f);
      var K = [];
      D = ga.VX(C, D, K, f);
      z.l9 = 0;
      for (var M = 0; M < c.length; M++)
          ga.abO(C, c[M], z, q, f, a);
      while (z.l9 > 0) {
          z.W.push(z.iE());
          z.l9--
      }
      z.W.reverse();
      delete z.l9;
      z.buffer = j.T(z.d * z.v * 4);
      if (z.W.length == 0)
          console.log("No layers!!!");
      for (var M = 0; M < K.length; M++) {
          var R = ga.tp(C, K[M], q, f, a);
          if (R.R1[f$.a4F])
              z.N = {
                  channel: R.DO,
                  rect: new cc(0,0,z.d,z.v)
              }
      }
  }
  ;
  ga.abO = function(n, z, C, D, F, X) {
      var E = C.gl()
        , f = T.q(n, z)
        , K = 0;
      z += 4;
      var a = T.q(n, z);
      z += 4;
      E.rect = new cc(0,0,f,a);
      var q = T.q(n, z);
      z += 4;
      var c = T.iq(n, z);
      z += c.rN;
      E.CZ(c.ZP);
      var R = {};
      z = ga.jR(n, z, R);
      if (R[f$._Q]) {
          var J = R[f$._Q];
          K = J.length / 4 - 1
      }
      if (R[f$.Nf]) {
          E.rect.x = T.Rt(R[f$.Nf], 0);
          E.rect.y = T.Rt(R[f$.Nf], 4)
      }
      if (R[f$.bo]) {
          E.opacity = T.q(R[f$.bo], 0)
      }
      if (R[f$.aqF]) {
          E.add.lsct = g9.WQ;
          E.rect = new cc(0,0,0,0);
          E.buffer = j.T(0);
          E.j1 = 24
      }
      if (R[f$.Pl]) {
          var w = T.q(R[f$.Pl], 0);
          E.Gx = f$.a7z[w];
          if (E.d4() && E.Gx == "norm")
              E.Gx = "pass"
      }
      if (R[f$.EW]) {
          if (T.q(R[f$.EW], 0) == 0)
              E.j1 += 2
      }
      if (R[f$.ut]) {
          var p = T.q(R[f$.ut], 0);
          E.add.lsct = p & 1 == 1 ? g9.WQ : g9.cP
      }
      if (R[f$.hx]) {
          var I = R[f$.hx];
          for (var m in I) {
              var A = I[m];
              if (m == "gimp-text-layer") {
                  var U = ga.adS(A)
                    , r = U.text
                    , $ = U.font
                    , k = U.color
                    , G = U["font-size"];
                  if (r == null && U.markup) {
                      var i = new DOMParser
                        , o = i.parseFromString(U.markup, "image/svg+xml");
                      while (o.firstChild != null && o.firstChild.tagName != null) {
                          o = o.firstChild;
                          var S = o.getAttribute("font")
                            , H = o.getAttribute("foreground")
                            , e = o.getAttribute("size");
                          if (S != null)
                              $ = S;
                          if (H != null) {
                              H = CSS.yP(H);
                              k = [1, H.h / 255, H.Q / 255, H.O / 255]
                          }
                          if (e != null) {
                              G = "" + parseFloat(e) / 245
                          }
                      }
                      r = o.textContent
                  }
                  E.add.lnsr = "rend";
                  E.add.TySh = bZ.uZ(0, 0);
                  E.add.TySh.jk = new cc(0,0,100,100);
                  E.add.TySh.Z = new b6(1,0,0,1,E.rect.x,E.rect.y);
                  var V = E.add.TySh.uR;
                  bZ.rZ(V, 0, r);
                  var v = bZ.jj(V, 0, 0)
                    , B = U.justify
                    , Z = U["line-spacing"];
                  if (k)
                      v.I$.FillColor = {
                          Type: 1,
                          Values: [1, parseFloat(k[1]), parseFloat(k[2]), parseFloat(k[3])]
                      };
                  if (G) {
                      G = Math.round(parseFloat(G));
                      v.I$.FontSize = G;
                      E.add.TySh.Z.Wv += Math.min(17, G * .17)
                  }
                  if (Z) {
                      Z = Math.round(parseFloat(Z) + v.I$.FontSize * 1.2);
                      v.I$.Leading = Z;
                      v.I$.AutoLeading = !1
                  }
                  if (B)
                      v.t_.Justification = ["left", "right", "center", "fill"].indexOf(B);
                  if ($ && $ != "Sans-serif") {
                      var d = $.toLowerCase()
                        , g = "bold italic semi extra regular condensed light".split(" ")
                        , Y = d.length;
                      for (var M = 0; M < g.length; M++) {
                          var L = d.indexOf(g[M]);
                          if (L != -1 && L < Y && d[L - 1] == " ")
                              Y = L
                      }
                      if (Y != d.length)
                          $ = $.slice(0, Y - 1).split(" ").join("") + "-" + $.slice(Y).split(" ").join("");
                      bZ.I9(v, $)
                  }
                  bZ.YI(V, 0, r.length, v);
                  var _ = U["box-width"]
                    , b = U["box-height"]
                    , x = _ ? parseFloat(_) : E.rect.d
                    , W = b ? parseFloat(b) : E.rect.v;
                  bZ.qf(V, 1);
                  bZ.u6(V, [0, 0, Math.ceil(x), Math.ceil(W)])
              } else
                  console.log("Unknown property " + m)
          }
      }
      while (C.l9 > K) {
          C.W.push(C.iE());
          C.l9--
      }
      C.l9 = K;
      if (E.add.lsct == g9.WQ || E.add.lsct == g9.cP)
          C.l9++;
      var g6 = F == 4 ? T.q : T.Ky;
      if (E.I8()) {
          E.buffer = j.T(E.rect.t() * 4);
          var fY = new j.Dv(E.rect.t())
            , f3 = g6(n, z);
          z += F;
          var hK = g6(n, z);
          z += F;
          ga.SB(n, f3, fY, D, F, X);
          j.JD(fY, E.buffer);
          if (hK != 0) {
              E.z = new Q.im;
              E.z.color = 0;
              E.z.rect = E.rect.clone();
              E.z.channel = ga.tp(n, hK, D, F, X).DO;
              if (R[f$.xy])
                  E.z.isEnabled = T.q(R[f$.xy], 0) == 1
          }
      }
      C.W.push(E)
  }
  ;
  ga.adS = function(n) {
      var z = "(" + T.iS(n, 0, n.length - 1) + ")"
        , C = []
        , D = {};
      ga.gL(z, 1, C);
      ga.a8h(C, D);
      return D
  }
  ;
  ga.a8h = function(n, z) {
      for (var M = 0; M < n.length; M++) {
          var C = n[M]
            , D = C[0];
          if (C.length == 2)
              z[D] = C[1];
          else
              z[D] = C.slice(1)
      }
  }
  ;
  ga.gL = function(n, z, C) {
      while (!0) {
          if (z >= n.length)
              throw "e";
          var D = n.charAt(z);
          z++;
          if (D == "(") {
              var F = [];
              z = ga.gL(n, z, F);
              C.push(F)
          } else if (D == " " || D == "\n" || D == "\r") {} else if (D == ")")
              return z;
          else if (D == "\"") {
              var X = z;
              while (!0) {
                  var E = n[z];
                  z++;
                  if (E == "\"")
                      break;
                  if (E == "\\")
                      z++
              }
              C.push(JSON.parse(n.slice(X - 1, z)))
          } else {
              var X = z - 1;
              while (n[z] != " " && n[z] != ")")
                  z++;
              C.push(n.slice(X, z))
          }
      }
  }
  ;
  ga.tp = function(n, z, C, D, F) {
      var X = T.q(n, z);
      z += 4;
      var E = T.q(n, z);
      z += 4;
      var f = T.iq(n, z);
      z += f.rN;
      var a = {};
      z = ga.jR(n, z, a);
      var q = new j.Dv(X * E)
        , c = D == 4 ? T.q : T.Ky
        , K = c(n, z);
      z += D;
      ga.SB(n, K, q, C, D, F);
      return {
          DO: q.h,
          R1: a
      }
  }
  ;
  ga.SB = function(n, z, C, D, F, X) {
      var E = T.q(n, z);
      z += 4;
      var f = T.q(n, z);
      z += 4;
      var a = T.q(n, z);
      z += 4;
      var q = F == 4 ? T.q : T.Ky
        , c = q(n, z);
      z += F;
      ga.aia(n, c, C, D, a, F, X)
  }
  ;
  ga.aia = function(n, z, C, D, F, X, E) {
      var f = T.q(n, z)
        , c = 0
        , M = 0;
      z += 4;
      var a = T.q(n, z);
      z += 4;
      var q = new cc(0,0,f,a);
      if (E == 100 || E == 150)
          c = 1;
      else if (E == 200 || E == 250)
          c = 2;
      else if (E == 300 || E == 350)
          c = 4;
      else if (E == 500 || E == 550)
          c = 2;
      else if (E == 600 || E == 650)
          c = 4;
      else if (E == 700 || E == 750)
          c = 8;
      else {
          alert("unsupported bit depth " + E);
          throw "e"
      }
      var K = F / c
        , c = Math.round(F / K)
        , R = [];
      z = ga.VX(n, z, R, X);
      var J = new j.Dv(64 * 64 * c)
        , w = new cc
        , p = D[f$.ad7][0]
        , I = [J.h, J.Q, J.O, J.nb];
      if (K == 3)
          J.nb.fill(255);
      var m = Date.now();
      for (var A = 0; A < a; A += 64)
          for (var U = 0; U < f; U += 64) {
              var r = Math.min(f - U, 64)
                , $ = Math.min(a - A, 64)
                , k = r * $;
              w.oS(U, A, r, $);
              ga.a6Q(n, R[M++], k * c, p, K, I);
              if (E == 100 || E == 150) {} else if (E == 250) {
                  for (var G = 0; G < K; G++) {
                      var i = I[G];
                      for (var o = 0; o < k; o++) {
                          var S = i[o] << 8 | i[k + o];
                          i[o] = Math.min(S >>> 8, 255)
                      }
                  }
              } else if (E == 600) {
                  var H = ga.agH()
                    , e = new Uint32Array(1)
                    , V = new Float32Array(e.buffer);
                  for (var G = 0; G < K; G++) {
                      var i = I[G];
                      for (var o = 0; o < k; o++) {
                          e[0] = i[o] << 24 | i[k + o] << 16 | i[(k << 1) + o] << 8 | i[(k << 1) + k + o] << 0;
                          var v = V[0];
                          if (v < 0)
                              v = 0;
                          else if (v > 1)
                              v = 1;
                          i[o] = H[~~(.5 + v * 1e3)]
                      }
                  }
              } else
                  console.log("unknown data format", E);
              j.i9(J, w, C, q)
          }
  }
  ;
  ga.agH = function() {
      var n = ga.a0v;
      if (n != null)
          return n;
      n = ga.a0v = new Uint8Array(1001);
      for (var M = 0; M < 1001; M++)
          n[M] = ~~(.49 + 255 * j.z0(M * .001));
      return n
  }
  ;
  ga.a6Q = function(n, z, C, D, F, X) {
      if (D == 1) {
          for (var E = 0; E < F; E++) {
              var f = X[E]
                , a = 0;
              while (a < C) {
                  var h = n[z];
                  z++;
                  if (h < 127) {
                      var q = n[z];
                      z++;
                      h++;
                      for (var M = 0; M < h; M++)
                          f[a + M] = q
                  } else if (h == 127) {
                      var c = n[z];
                      z++;
                      var K = n[z];
                      z++;
                      var q = n[z];
                      z++;
                      h = c << 8 | K;
                      for (var M = 0; M < h; M++)
                          f[a + M] = q
                  } else if (h == 128) {
                      var c = n[z];
                      z++;
                      var K = n[z];
                      z++;
                      h = c << 8 | K;
                      for (var M = 0; M < h; M++)
                          f[a + M] = n[z + M];
                      z += h
                  } else {
                      h = 256 - h;
                      for (var M = 0; M < h; M++)
                          f[a + M] = n[z + M];
                      z += h
                  }
                  a += h
              }
          }
      } else if (D == 2) {
          var R = pako.inflate(n.slice(z))
            , J = Math.round(R.length / C);
          for (var M = 0; M < C; M++) {
              var w = M * J;
              X[0][M] = R[w];
              X[1][M] = R[w + 1];
              X[2][M] = R[w + 2];
              X[3][M] = J == 3 ? 255 : R[w + 3]
          }
      } else
          alert("Unknown compression " + D)
  }
  ;
  ga.VX = function(n, z, C, D) {
      var F = D == 4 ? T.q : T.Ky;
      while (!0) {
          var X = F(n, z);
          z += D;
          if (X == 0)
              break;
          else
              C.push(X)
      }
      return z
  }
  ;
  ga.jR = function(n, z, C) {
      while (!0) {
          var D = T.q(n, z);
          z += 4;
          var F = T.q(n, z);
          z += 4;
          if (D == f$.aqK)
              break;
          else if (D == f$.hx)
              C[D] = ga.a94(n, z, z + F);
          else
              C[D] = T.tY(n, z, F);
          z += F
      }
      return z
  }
  ;
  ga.a94 = function(n, z, C) {
      var D = {};
      while (z < C) {
          var F = T.iq(n, z);
          z += F.rN;
          var X = T.q(n, z);
          z += 4;
          if (X != 1)
              console.log("unknown flags", X);
          var E = T.q(n, z);
          z += 4;
          D[F.ZP] = T.tY(n, z, E);
          z += E
      }
      return D
  }
  ;
  var f$ = {
      aqK: 0,
      a01: 1,
      afN: 2,
      a6I: 3,
      a4F: 4,
      aaG: 5,
      bo: 6,
      Pl: 7,
      EW: 8,
      apN: 9,
      aiA: 10,
      xy: 11,
      aem: 12,
      a2K: 13,
      a1N: 14,
      Nf: 15,
      a8J: 16,
      ad7: 17,
      a9V: 18,
      apq: 19,
      ahY: 20,
      hx: 21,
      aov: 22,
      aaT: 23,
      adn: 24,
      a7b: 25,
      ahp: 26,
      a0t: 27,
      ahX: 28,
      aqF: 29,
      _Q: 30,
      ut: 31,
      aiI: 32,
      aqU: 33,
      aiO: 34,
      apT: 35,
      a0a: 36,
      aqX: 37,
      aew: 38,
      ad3: 0,
      ado: 1,
      a7$: 2,
      ahP: 3,
      anr: 1,
      a2l: 2,
      aaF: 0,
      aa2: 1,
      amg: 1
  };
  f$.a7z = "norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
  function gn() {}
  gn.vC = function(n, z) {
      var C = gn
        , D = bR.parse(n)
        , X = 0;
      if (D.pages.length > 1)
          console.log(D.pages.length, "pages");
      var F = []
        , E = new cc;
      for (var f = 0; f < D.pages.length; f++) {
          var a = D.pages[f]
            , q = a.layers
            , c = C.AN(q, f)
            , R = !1;
          if (c.t() > 8e3 * 8e3 || c.d > 3e4 || c.v > 3e4) {
              C.RS(q, !0);
              var K = C.AN(q, f);
              if (K.t() >= c.t())
                  C.RS(q, !1)
          }
          c = C.AN(q, f);
          for (var J = 0; J < q.length; J++) {
              var w = q[J];
              if (C.re(w) == "artboard")
                  R = !0
          }
          if (!R) {
              console.log("no artboard");
              var p = {};
              for (var I in a)
                  p[I] = a[I];
              p._class = "group";
              a.layers = [p]
          }
          F.push(c.clone());
          if (c.kX())
              continue;
          c.x = 0;
          c.y = X;
          X += c.v + 200;
          E = E.QH(c)
      }
      var m = {};
      if (D.foreignSymbols)
          for (var M = 0; M < D.foreignSymbols.length; M++) {
              var A = D.foreignSymbols[M].symbolMaster;
              m[A.symbolID] = {
                  Qz: A
              }
          }
      C.p5(D.pages, m, z);
      for (var U in m) {
          var w = m[U].Qz
            , r = C.xR(w.layers)
      }
      var $ = gn.Dr(E, 8192 * 8192);
      z.Jf = !0;
      z.d = Math.round(E.d / $);
      z.v = Math.round(E.v / $);
      z.buffer = j.T(z.d * z.v * 4);
      z.Jy(D.pages[0].layers.length);
      z.Kp = {};
      z.hc = [];
      X = 0;
      for (var f = 0; f < D.pages.length; f++) {
          var k = D.pages[f]
            , c = F[f]
            , G = new b6($,0,0,$,c.x,c.y - X);
          C.wc(k.layers, z, G, D, m, {}, []);
          X += c.v + 200
      }
      delete z.Kp;
      delete z.hc;
      if ($ != 1)
          alert("File scaled down " + $ + "x");
      z.aeD()
  }
  ;
  gn.akJ = 0;
  gn.re = function(n) {
      return n._class ? n._class : n.$class
  }
  ;
  gn.Dr = function(n, z) {
      var C = 1;
      while (Math.round(n.d / C) * Math.round(n.v / C) > z || Math.max(Math.round(n.d / C), Math.round(n.v / C)) > 3e4)
          C++;
      if (C != 1 && !window.confirm("Your image is quite large (" + n.d + " x " + n.v + " px).\n" + "Press OK to scale it down " + C + "x, or Cancel to keep the size."))
          C = 1;
      return C
  }
  ;
  gn.AN = function(n, z) {
      var C = []
        , D = gn;
      for (var F = 0; F < n.length; F++) {
          var X = n[F]
            , E = D.MX(X.frame);
          if (z == 0 || D.re(X) == "artboard")
              C.push(E)
      }
      return j.rect.vv(C)
  }
  ;
  gn.RS = function(n, z) {
      var C = []
        , D = gn;
      for (var F = 0; F < n.length; F++) {
          var X = n[F]
            , E = D.MX(X.frame);
          E.d += 150;
          E.v += 150;
          C.push(E)
      }
      var f = j.rect.vv(C);
      j.rect.a6C(C, z);
      var a = j.rect.vv(C);
      if (a.t() * 1.5 < f.t() || f.d > 3e4 && a.d <= 3e4 || f.v > 3e4 && a.v <= 3e4) {
          alert("Re-arranging artboards");
          for (var F = 0; F < n.length; F++) {
              var q = C[F]
                , X = n[F]
                , c = X.frame;
              c.x = q.x;
              c.y = q.y
          }
      }
  }
  ;
  gn.p5 = function(n, z, C) {
      var D = gn;
      for (var F = 0; F < n.length; F++) {
          var X = n[F]
            , E = D.re(X);
          if (["page", "artboard", "group"].indexOf(E) != -1)
              D.p5(X.layers, z, C);
          else if (E == "symbolMaster")
              z[X.symbolID] = {
                  Qz: X
              }
      }
  }
  ;
  gn.xR = function(n) {
      var z = gn;
      for (var C = 0; C < n.length; C++) {
          var D = n[C]
            , F = z.re(D)
            , X = null;
          if (["page", "artboard", "group"].indexOf(F) != -1)
              X = z.xR(D.layers);
          if (F == "symbolMaster" || F == "symbolInstance")
              X = D;
          if (X != null)
              return X
      }
      return null
  }
  ;
  gn.wc = function(n, z, C, D, F, X, E) {
      var f = gn
        , a = [];
      for (var q = 0; q < n.length; q++) {
          var c = n[q]
            , K = c.frame ? f.MX(c.frame) : null
            , R = c.style
            , m = ""
            , G = null
            , i = !1;
          if (R == null) {
              console.log("no styles")
          }
          var J = f.kb(c, C)
            , w = f.re(c)
            , p = w == "shapeGroup" || w == "shapePath" || w == "rectangle" || w == "oval" || w == "triangle" || w == "polygon"
            , I = ["page", "artboard", "group"].indexOf(w) != -1;
          if (w == "shapeGroup") {
              for (var M = 0; M < c.layers.length; M++)
                  if (f.re(c.layers[M]) == "shapeGroup")
                      I = !0
          }
          var A = c.exportOptions;
          if (A) {
              var U = A.exportFormats;
              if (U == null)
                  U = A.sizes;
              if (w != "artboard" && (U && U.length != 0)) {
                  var r = U[0].scale
              }
          }
          var $ = z.gl();
          $.Hu(c.isVisible);
          var k = c.name;
          if (!(typeof k == "string"))
              k = w;
          $.CZ(m + k.slice(0, 250));
          if (R != null)
              G = f.aj9(D, z, R, K, J, $.getName(), p || w == "artboard" || I);
          if (w == "rectangle" && R && R.fills && R.fills[0]) {
              var o = R.fills[0];
              if (o.fillType == 4 && o.patternFillType > 1 && o.image != null)
                  i = !0
          }
          if (c.shouldBreakMaskChain) {
              while (a.length != 0)
                  f.xV(a.pop(), z)
          }
          if (I) {
              $.add.lsct = c.layerListExpandedType == 2 ? g9.WQ : g9.cP;
              $.Gx = "pass";
              $.j1 = 24;
              $.Hu(c.isVisible);
              z.W.push(z.iE());
              if (w == "artboard") {
                  var S = K.clone()
                    , H = J.Jr();
                  S.x = -Math.floor(J.H1 / H);
                  S.y = -Math.floor(J.Wv / H);
                  S.d = Math.floor(S.d / H);
                  S.v = Math.floor(S.v / H);
                  $.zk(S);
                  var e = c.backgroundColor
                    , V = e ? {
                      h: 255 * e.red,
                      Q: 255 * e.green,
                      O: 255 * e.blue
                  } : {
                      h: 255,
                      Q: 255,
                      O: 255
                  };
                  $.add.artb.Clr = {
                      t: "Objc",
                      v: j._.w9(V)
                  };
                  $.add.artb.artboardBackgroundType = {
                      t: "long",
                      v: 4
                  }
              }
              f.wc(c.layers, z, J, D, F, X, E)
          } else if (p && !i) {
              $.add.vmsk = new Q.qP;
              $.add.vstk = JSON.parse(JSON.stringify(g$.Bt.default));
              $.add.vstk.strokeEnabled.v = !1;
              $.add.vogk = [];
              var v = G != null && G.frameFXMulti.v.length == 1
                , B = R ? R.fills : null
                , Z = R ? f.gB(D, B, K, J, $.getName(), z, f.rf(E, c.do_objectID + "_image")) : [];
              if (Z.length == 0) {
                  if (v)
                      $.add.vstk.fillEnabled.v = !1;
                  else
                      $.add.iOpa = 0;
                  $.add.SoCo = {
                      classID: "null",
                      Clr: {
                          t: "Objc",
                          v: j._.w9({
                              h: 0,
                              Q: 0,
                              O: 0
                          })
                      }
                  }
              } else {
                  var d = Z[0]
                    , g = null
                    , Y = null;
                  if (d.type == "SoFi") {
                      g = "SoCo";
                      Y = g$.oQ
                  }
                  if (d.type == "GrFl") {
                      g = "GdFl";
                      Y = g$.p_
                  }
                  if (d.type == "patternFill") {
                      g = "PtFl";
                      Y = g$.XK
                  }
                  if (g != null) {
                      $.add[g] = {
                          classID: "null"
                      };
                      for (var M = 0; M < Y.length; M++) {
                          var y = Y[M];
                          $.add[g][y] = d.G.v[y]
                      }
                      var L = d.G.v.Opct.v.val;
                      if (v && L == 0)
                          $.add.vstk.fillEnabled.v = !1;
                      else
                          $.add.iOpa = Math.round(255 * L / 100)
                  }
              }
              $.j1 |= 16;
              $.add.vmsk.g = f.D2(c.layers ? c.layers : [c], c.layers ? J : C, $.add.vogk);
              var _ = R ? R.blur : null;
              if (_ && _.isEnabled && _.type <= 1)
                  $.add.vmsk.PJ = _.radius;
              if ($.add.vmsk.g.length == 2) {
                  console.log("shape with no content:", $.getName())
              }
              if (v) {
                  var b = G.frameFXMulti.v[0].v
                    , x = $.add.vstk
                    , W = R.borders[0];
                  G.frameFXMulti.v = [];
                  fg.Zz(b, x);
                  var g6 = R.borderOptions
                    , fY = R.miterLimit;
                  if (g6) {
                      var f3 = g6.dashPattern;
                      x.strokeStyleLineCapType.v.strokeStyleLineCapType = g$.Bt.BB[g6.lineCapStyle];
                      x.strokeStyleLineJoinType.v.strokeStyleLineJoinType = g$.Bt.join[g6.lineJoinStyle];
                      if (f3)
                          x.strokeStyleLineDashSet.v = fg.br(f3, 1 / b.Sz.v.val);
                      if (fY != null)
                          x.strokeStyleMiterLimit.v = fY
                  }
              }
              $.z4(z)
          } else if (w == "bitmap" || i) {
              var hK = i ? R.fills[0] : null
                , s = i ? hK.image.bdata : c.image.bdata
                , P = z.AM(s, $.getName(), 0, 0);
              P.j1 = $.j1;
              $ = P;
              var _ = R ? R.blur : null
                , aF = R ? R.colorControls : null;
              if (_ || aF) {
                  $.add.SoLd.filterFX = fd._z();
                  z.$n({
                      id: $.add.SoLd.placed.v,
                      rect: new cc,
                      buffer: j.T(1),
                      z: new Q.im
                  });
                  var B = $.add.SoLd.filterFX.v.filterFXList.v;
                  if (_) {
                      var fM = fd.HB("GsnB", {});
                      fM.v.enab.v = _.isEnabled;
                      fM.v.Fltr.v.Rds.v.val = _.radius;
                      B.push(fM)
                  }
                  if (aF) {
                      var eA = aF.brightness
                        , e8 = aF.contrast
                        , eC = aF.hue
                        , cy = aF.saturation;
                      if (eC != 0 || cy != 1) {
                          var fM = fd.HB("hue2", {});
                          fM.v.enab.v = aF.isEnabled;
                          f5.xw(fM.v.Fltr.v, 0, [Math.round(eC * 180 / Math.PI), Math.round((cy - 1) * 100), 0]);
                          B.push(fM)
                      }
                      if (eA != 0 || e8 != 1) {
                          var fM = fd.HB("brit", {});
                          fM.v.enab.v = aF.isEnabled;
                          e8 = e8 - 1;
                          if (e8 > 0)
                              e8 /= 2;
                          var aX = fM.v.Fltr.v;
                          aX.Brgh.v = Math.round(eA * 255);
                          aX.Cntr.v = Math.round(e8 * 255);
                          aX.useLegacy.v = !0;
                          B.push(fM)
                      }
                  }
              }
              if (i) {
                  var j0 = hK.patternFillType;
                  if (j0 == 3) {
                      var aT = $.rect.d / $.rect.v
                        , a4 = K.d / K.v;
                      if (aT < a4) {
                          J.translate(-(K.d * (1 - aT / a4)) / 2, 0);
                          J.scale(a4 / aT, 1)
                      } else {
                          J.translate(0, -(K.v * (1 - a4 / aT)) / 2);
                          J.scale(1, aT / a4)
                      }
                  }
              }
              K.x = K.y = 0;
              var f8 = j.K.YQ(K).U;
              J.eL();
              j.K.Z(f8, J, f8);
              $.add.SoLd.Trnf = O.o.IO(f8);
              $.add.SoLd.nonAffineTransform = O.o.IO(f8);
              $.V_(z, !1)
          } else if (w == "text") {
              if (c.attributedString == null)
                  continue;
              var b3 = J.clone(), gh, cZ, bo = 0;
              b3.eL();
              b3.nb = b3.qc = Math.min(b3.nb, b3.qc);
              $.add.lnsr = "rend";
              $.add.TySh = bZ.uZ(0, 0);
              $.add.TySh.jk = new cc(0,0,K.d,K.v);
              $.add.TySh.Z = b3;
              var h3 = c.attributedString;
              if (h3.archivedAttributedString)
                  h3 = h3.archivedAttributedString;
              var ew = h3.NSString;
              if (ew == null)
                  ew = h3.string;
              if (ew == null)
                  ew = "";
              if (ew["NS.string"])
                  ew = ew["NS.string"];
              if (X[c.do_objectID] != null)
                  ew = X[c.do_objectID];
              var dy = f.rf(E, c.do_objectID + "_stringValue");
              if (dy)
                  ew = dy.value;
              if (h3.attributes != null) {
                  gh = [];
                  cZ = [];
                  var fx = h3.attributes;
                  for (var M = 0; M < fx.length; M++) {
                      gh.push(fx[M].length, M);
                      cZ.push(fx[M].attributes)
                  }
              } else if (h3.NSAttributeInfo == null) {
                  gh = [ew.length, 0];
                  cZ = [h3.NSAttributes]
              } else {
                  gh = h3.NSAttributeInfo["NS.data"];
                  cZ = h3.NSAttributes;
                  gh = gn.a8W(gh, cZ)
              }
              for (var M = 0; M < gh.length; M += 2)
                  bo += gh[M];
              if (bo != ew.length) {
                  while (bo > ew.length) {
                      gh[gh.length - 2]--;
                      bo--;
                      if (gh[gh.length - 2] == 0) {
                          gh.pop();
                          gh.pop()
                      }
                  }
                  gh[gh.length - 2] += ew.length - bo
              }
              ew = ew.replace(/\u2028/g, "\n");
              ew = ew.replace(/\u2029/g, "\n");
              ew = ew.replace(/\r/g, "\n");
              var hd = $.add.TySh.uR;
              bZ.rZ(hd, 0, ew);
              if (ew != "") {
                  var gT = c.textBehaviour
                    , du = R.textStyle
                    , bk = du ? du.verticalAlignment : 0
                    , i8 = f.apL(hd, gh, cZ, ew)
                    , H = b3.Jr()
                    , en = bZ.jj(hd, 0, 1)
                    , dU = 0;
                  if (en.I$.Font) {
                      var dW = en.qR[en.I$.Font].Name;
                      if (dW == "FontAwesome" || dW == "Ionicons")
                          i8 *= .87
                  }
                  var ix = en.I$.AutoLeading ? 0 : en.I$.Leading * .6
                    , hN = Math.max(i8, ix) * H
                    , a1 = K.d
                    , hk = K.v;
                  if (gT == 0) {
                      bZ.qf(hd, 0);
                      var ax = bZ.Ez(en.t_);
                      if (ax == 1)
                          dU = a1 * H;
                      if (ax == 2)
                          dU = a1 * H * .5;
                      if (bk == 0)
                          hN *= 1;
                      else
                          hN *= .9
                  } else {
                      bZ.qf(hd, 1);
                      bZ.u6(hd, [0, 0, Math.round(a1), Math.round(hk)]);
                      if (gT == 2 && bk == 0)
                          hN = hN * .2;
                      else if (gT == 2 && bk == 1) {
                          hN = H * .5 * (hk - en.I$.FontSize)
                      } else if (gT == 1 && bk == 0)
                          hN = hN * .2;
                      else
                          hN = hN * .35
                  }
                  $.add.TySh.Z.translate(dU, hN)
              }
          } else if (w == "symbolInstance" || w == "symbolMaster") {
              var ej = c.symbolID;
              if (X[c.do_objectID])
                  ej = X[c.do_objectID].symbolID;
              var bz = f.rf(E, c.do_objectID + "_symbolID");
              if (bz)
                  ej = bz.value;
              if (ej == "")
                  continue;
              var fq = {};
              for (var y in X)
                  fq[y] = X[y];
              if (c.overrides)
                  for (var y in c.overrides)
                      fq[y] = c.overrides[y];
              var cg = E.slice(0);
              if (c.overrideValues)
                  cg = cg.concat(c.overrideValues);
              var iw = F[ej];
              if (iw == null) {
                  console.log("Unknown master master", c.symbolID);
                  continue
              }
              var fD = gn.MX(iw.Qz.frame)
                , g8 = fD.d / K.d
                , ap = fD.v / K.v
                , c8 = J.clone();
              c8.scale(g8, ap);
              $.add.lsct = g9.cP;
              $.Gx = "pass";
              $.j1 = 24;
              $.Hu(c.isVisible);
              z.W.push(z.iE());
              var dS = iw.Qz;
              if (z.hc.indexOf(dS) == -1) {
                  z.hc.push(dS);
                  f.wc(dS.layers, z, c8, D, F, fq, cg);
                  z.hc.pop()
              }
          } else if (w == "slice") {
              console.log("slice layers are ignored by now");
              continue
          } else {
              console.log("unknown layer type: " + w, c);
              continue
          }
          if (R && R.contextSettings) {
              var iK = R.contextSettings
                , ay = iK.blendMode;
              if (ay < f.eb.length) {
                  $.Gx = hr.Un[hr.SV.indexOf(f.eb[ay])];
                  if (I && $.Gx == "norm")
                      $.Gx = "pass"
              }
              $.opacity = Math.round($.opacity * iK.opacity)
          }
          if (G != null) {
              $.add.lmfx = G
          }
          z.W.push($);
          if (c.hasClippingMask && n.length > 1) {
              a.push($);
              z.W.push(z.iE())
          }
      }
      while (a.length != 0)
          f.xV(a.pop(), z)
  }
  ;
  gn.rf = function(n, z) {
      for (var M = 0; M < n.length; M++)
          if (n[M].overrideName.startsWith(z))
              return n[M]
  }
  ;
  gn.a8W = function(n, z) {
      var C = 0
        , D = [];
      while (C + 1 < n.length) {
          var F = n[C];
          C++;
          if (F > 127) {
              F += 128 * (n[C] - 1);
              C++;
              if (n[C - 1] > 127) {
                  F += 128 * (n[C] - 1);
                  C++
              }
          }
          var X = n[C];
          C++;
          D.push(F, X)
      }
      return D
  }
  ;
  gn.apL = function(n, z, C, D) {
      var F = gn
        , X = 0
        , c = 0
        , K = 0;
      for (var M = 0; M < D.length; M++) {
          var E = D.charCodeAt(M)
            , f = 1473 <= E && E <= 1479 || 1488 <= E && E <= 1514 || 1520 <= E && E <= 1524
            , a = 1569 <= E && E <= 1594 || 1600 <= E && E <= 1749;
          if (f || a)
              X++
      }
      var q = X > D.length / 2;
      for (var M = 0; M < z.length; M += 2) {
          var R = z[M]
            , $ = 14
            , k = "DejaVuSans";
          if (R == 0)
              continue;
          var J = z[M + 1]
            , w = C[J]
            , p = bZ.jj(n, c, c + R - 1)
            , I = w.NSColor;
          if (I == null) {
              var I = w.MSAttributedStringColorDictionaryAttribute;
              if (I == null)
                  I = w.MSAttributedStringColorAttribute;
              if (I == null)
                  I = "0 0 0";
              else
                  I = [I.red, I.green, I.blue].join(" ")
          } else if (F.re(I) == "MSArchivedColor")
              I = I.dr + " " + I.dg + " " + I.db;
          else if (I.NSRGB) {
              I = I.NSRGB;
              I = T.uL(I, 0, I.length - 1)
          } else if (I.NSCMYK) {
              I = I.NSCMYK;
              I = T.uL(I, 0, I.length - 1);
              I = I.split(" ").map(parseFloat);
              var m = 1 - I[0]
                , A = 1 - I[1]
                , U = 1 - I[2]
                , r = 1 - I[3];
              I = m * r + " " + A * r + " " + U * r
          } else if (I.NSWhite) {
              I = "1 1 1"
          }
          I = I.split(" ");
          p.I$.FillColor = {
              Type: 1,
              Values: [1, parseFloat(I[0]), parseFloat(I[1]), parseFloat(I[2])]
          };
          var G = w.MSAttributedStringFontAttribute;
          if (w.NSFont) {
              $ = w.NSFont.NSSize;
              k = w.NSFont.NSName
          } else if (G) {
              if (G.attributes) {
                  G = G.attributes;
                  $ = G.size;
                  k = G.name
              } else {
                  var i = G.NSFontDescriptorAttributes;
                  if (i == null)
                      i = G.UIFontDescriptorAttributes;
                  G = i;
                  $ = G.NSFontSizeAttribute;
                  k = G.NSFontNameAttribute
              }
              if (k == null)
                  k = "DejaVuSans"
          }
          var K = Math.max(K, $);
          p.I$.FontSize = Math.round($);
          bZ.I9(p, k);
          var o = w.NSKern;
          if (o == null)
              o = w.kerning;
          if (o != null)
              p.I$.Tracking = Math.round(1e3 * o / $);
          if (w.NSUnderline != null)
              p.I$.Underline = w.NSUnderline > 0;
          var S = w.NSStrikethrough;
          if (S == null)
              S = w.strikethroughStyle;
          if (S != null)
              p.I$.Strikethrough = S > 0;
          if (w.MSAttributedStringTextTransformAttribute == 1)
              p.I$.FontCaps = 2;
          var H = w.NSParagraphStyle;
          if (H == null)
              H = w.paragraphStyle;
          if (H) {
              var e = H.paragraphSpacing;
              if (e != null) {
                  p.t_.SpaceAfter = e
              }
              var V = H.NSAlignment;
              if (V == null)
                  V = H.alignment;
              if (V != null) {
                  var v = 0;
                  if (!1) {} else if (V == 1)
                      v = 1;
                  else if (V == 2)
                      v = 2;
                  else if (V == 4)
                      v = 0;
                  else {
                      v = V;
                      console.log("unknown align", V)
                  }
                  if (q && v < 2)
                      v = 1 - v;
                  p.t_.Justification = v
              }
              var B = H.NSMinLineHeight;
              if (B == null)
                  B = H.minimumLineHeight;
              if (B != null) {
                  p.I$.AutoLeading = !1;
                  p.I$.Leading = B
              }
          }
          p.t_._Direction = q ? 1 : 0;
          bZ.YI(n, c, c + R, p);
          c += R
      }
      return K
  }
  ;
  gn.aj9 = function(n, z, C, D, F, X, E) {
      var f = gn
        , a = JSON.parse(g$.default)
        , q = !1;
      for (var M = 0; M < g$.order.length; M++)
          a[g$.IT[M]] = {
              t: "VlLs",
              v: []
          };
      var c = C.fills
        , K = f.gB(n, c, D, F, X, z);
      for (var R = 0; R < 2; R++) {
          var J = C[["shadows", "innerShadows"][R]];
          if (J == null)
              continue;
          var w = ["DrSh", "IrSh"][R]
            , p = g$.IT[g$.order.indexOf(w)];
          for (var M = 0; M < J.length; M++) {
              var I = J[M];
              if (!I.isEnabled)
                  continue;
              if (I.contextSettings.opacity == 0 || I.color.alpha == 0)
                  continue;
              var m = JSON.parse(g$.g$[g$.order.indexOf(w)]);
              a[p].v.unshift({
                  t: "Objc",
                  v: m
              });
              q = !0;
              m.Clr.v = f.yP(I.color);
              m.blur.v.val = Math.round(I.blurRadius / F.Jr());
              var A = F.clone();
              A.H1 = A.Wv = 0;
              A.eL();
              var U = A.JT(new ir(I.offsetX,I.offsetY))
                , r = Math.sqrt(U.x * U.x + U.y * U.y);
              m.Dstn.v.val = Math.round(r);
              m.lagl.v.val = Math.round(Math.atan2(U.y, -U.x) * (180 / Math.PI));
              if (m.layerConceals)
                  m.layerConceals.v = K.length != 0;
              f.DX(I, m)
          }
      }
      var $ = C.borders;
      if ($ != null && (K.length == 0 || C.blur == null || !C.blur.isEnabled))
          for (var M = 0; M < $.length; M++) {
              var k = $[M];
              if (!k.isEnabled)
                  continue;
              var m = JSON.parse(g$.g$[g$.order.indexOf("FrFX")])
                , p = g$.IT[g$.order.indexOf("FrFX")];
              a[p].v.unshift({
                  t: "Objc",
                  v: m
              });
              q = !0;
              m.Clr.v = f.yP(k.color);
              if (k.fillType != 0 && k.gradient) {
                  var G = f.zn(k.gradient, D, F, X)
                    , i = ["Type", "Angl", "Ofst", "Scl"];
                  for (var M = 0; M < i.length; M++)
                      m[i[M]] = G[i[M]];
                  m.Grad.v = G.Grad.v;
                  m.PntT.v.FrFl = "GrFl"
              }
              m.Sz.v.val = k.thickness / F.Jr();
              m.Styl.v.FStl = ["CtrF", "InsF", "OutF"][k.position];
              f.DX(k, m)
          }
      for (var M = E ? 1 : 0; M < K.length; M++) {
          var o = K[M]
            , p = g$.IT[g$.order.indexOf(o.type)];
          a[p].v.unshift(o.G);
          q = !0
      }
      return q ? a : null
  }
  ;
  gn.gB = function(n, z, C, D, F, X, E) {
      if (z == null)
          return [];
      var f = gn
        , a = [];
      for (var M = 0; M < z.length; M++)
          if (z[M].isEnabled)
              a.push(z[M]);
      z = a;
      var q = [];
      for (var M = 0; M < z.length; M++) {
          var c = z[M]
            , K = null
            , R = null;
          if (c.fillType == 0) {
              K = "SoFi";
              var J = JSON.parse(g$.g$[g$.order.indexOf("SoFi")]);
              R = {
                  t: "Objc",
                  v: J
              };
              R.v.Clr.v = f.yP(c.color)
          } else if (c.fillType == 1) {
              K = "GrFl";
              R = {
                  t: "Objc",
                  v: f.zn(c.gradient, C, D, F)
              }
          } else if (c.fillType == 4 && c.image != null) {
              var w = c.image;
              if (E)
                  w = E.value;
              var p = fC.Nj(w.bdata.buffer);
              if (p != null && p != "pdf" && p != "eps") {
                  var I, k = 0, G = 0, i = 0;
                  if (X.Kp[w.key])
                      I = X.Kp[w.key];
                  else {
                      var m = fC.ET(p).c3(w.bdata)[0]
                        , A = m.Pi.clone();
                      I = {};
                      I.id = b$.oA() + "-d71c-11e5-b1ae-a548a96e5f9f";
                      I.name = "someImage";
                      I.Tc = [new Uint8Array(m.data), A];
                      X.P2(I);
                      X.Kp[w.key] = I
                  }
                  var U = I.Tc[1]
                    , J = JSON.parse(g$.g$[g$.order.indexOf("patternFill")]);
                  K = "patternFill";
                  R = {
                      t: "Objc",
                      v: J
                  };
                  var r = c.patternFillType
                    , $ = c.patternTileScale;
                  J.Algn.v = !0;
                  J.Ptrn.v.Idnt.v = I.id;
                  if (r == 0) {
                      k = $ * U.d / Math.min(U.d, U.v);
                      G = -D.H1;
                      i = -D.Wv
                  } else {
                      k = Math.max(C.d / U.d, C.v / U.v);
                      G = -D.H1 - (U.d * k - C.d) / 2;
                      i = -D.Wv - (U.v * k - C.v) / 2
                  }
                  J.Scl.v.val = 100 * k * (1 / D.Jr());
                  J.phase.v.Hrzn.v = Math.round(G / D.Jr());
                  J.phase.v.Vrtc.v = Math.round(i / D.Jr())
              }
          } else if (c.fillType == 5) {
              console.log("fill type Noise not supported yet")
          } else
              console.log("unknown fill type", c.fillType);
          if (K != null) {
              f.DX(c, R.v);
              q.push({
                  type: K,
                  G: R
              })
          }
      }
      return q
  }
  ;
  gn.ak9 = function(n) {
      var z = gn
        , C = new cc(0,0,1,1);
      n = n.slice(0);
      while (!0) {
          var D = !1;
          for (var M = 0; M < n.length - 1; M++) {
              var F = n[M]
                , X = n[M + 1]
                , E = null
                , f = F.contextSettings;
              if (F.fillType == 0 && (f == null || f.opacity == 1 && f.blendMode == 0) && F.color.alpha == 1) {
                  var a = "norm"
                    , q = 1
                    , f = X.contextSettings;
                  if (f) {
                      q = f.opacity;
                      a = hr.eS(z.eb[f.blendMode])
                  }
                  if (X.fillType == 0) {
                      E = JSON.parse(JSON.stringify(X));
                      z.xe(E.color, F.color, E.color, C, a, q)
                  }
                  if (X.fillType == 1) {
                      E = JSON.parse(JSON.stringify(X));
                      var c = E.gradient.stops;
                      for (var K = 0; K < c.length; K++)
                          z.xe(c[K].color, F.color, c[K].color, C, a, q)
                  }
                  if (E != null && E.contextSettings) {
                      var f = E.contextSettings;
                      f.opacity = 1;
                      f.blendMode = 0
                  }
              }
              if (E != null) {
                  n.splice(M, 0, E);
                  D = !0;
                  break
              }
          }
          if (!D || n.length < 2)
              break
      }
      return n
  }
  ;
  gn.xe = function(n, z, C, D, F, X) {
      var E = gn
        , f = j.T(4);
      E.Je(n, f);
      var a = j.T(4);
      E.Je(z, a);
      j.$.xN(F, f, D, a, D, D, X);
      E.ajg(a, C)
  }
  ;
  gn.Je = function(n, z) {
      z[0] = 255 * n.red;
      z[1] = 255 * n.green;
      z[2] = 255 * n.blue;
      z[3] = 255 * n.alpha
  }
  ;
  gn.ajg = function(n, z) {
      z.red = n[0] / 255;
      z.green = n[1] / 255;
      z.blue = n[2] / 255;
      z.alpha = n[3] / 255
  }
  ;
  gn.xV = function(n, z) {
      n = n.clone();
      n.j1 = 24;
      n.CZ("Mask by " + n.getName());
      z.W.push(n);
      n.add.lsct = g9.WQ;
      n.add.lyid = z.u8();
      delete n.add.lmfx;
      delete n.add.SoCo;
      delete n.add.GdFl;
      delete n.add.PtFl;
      delete n.add.iOpa;
      if (n.add.vmsk)
          n.add.vmsk.fe = !0;
      n.z4(z);
      if ((n.j1 & 16) == 16)
          n.j1 -= 16;
      if ((n.j1 & 2) == 2)
          n.j1 -= 2;
      n.Gx = "pass";
      n.opacity = 255
  }
  ;
  gn.eb = "Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
  gn.zn = function(n, z, C, D) {
    debugger
      C = C.clone();
      C.eL();
      C.H1 = C.Wv = 0;
      var F = C.Jr()
        , R = 0
        , J = 0;
      C.scale(1 / F, 1 / F);
      var X = gn
        , E = JSON.parse(g$.g$[g$.order.indexOf("GrFl")])
        , f = E.Grad.v;
      f.Intr.v = 0;
      if (n == null)
          return E;
      var a = n.gradientType
        , q = X.SO(n.from)
        , c = X.SO(n.to);
      q.offset(-.5, -.5);
      c.offset(-.5, -.5);
      q = C.JT(q);
      c = C.JT(c);
      var K = Math.atan2(-(c.y - q.y), c.x - q.x);
      E.Type.v.GrdT = ["Lnr", "Rdl", "Angl"][a];
      E.Scl.v.val = 100 * ir.gn(q, c);
      if (a == 0) {
          E.Angl.v.val = 180 / Math.PI * K;
          E.Scl.v.val = 100 * ir.gn(q, c);
          R = (q.x + c.x) / 2;
          J = (q.y + c.y) / 2
      }
      if (a == 1) {
          E.Scl.v.val = 200 * ir.gn(q, c);
          R = q.x;
          J = q.y
      }
      if (a == 2) {
          E.Angl.v.val = 180 / Math.PI * (K - Math.PI / 2)
      }
      var w = E.Ofst.v;
      w.Hrzn.v.val = R * 100;
      w.Vrtc.v.val = J * 100;
      var p = [];
      for (var M = 0; M < n.stops.length; M++) {
          var I = n.stops[M]
            , m = I.color;
          p.push([I.position, m ? [m.red, m.green, m.blue] : [0, 0, 0], m.alpha])
      }
      j._.sb(p, f);
      return E
  }
  ;
  gn.DX = function(n, z) {
      var C = gn
        , D = 1
        , F = n.contextSettings;
      if (F != null) {
          z.Md.v.BlnM = C.eb[F.blendMode];
          D *= F.opacity
      } else
          z.Md.v.BlnM = C.eb[0];
      z.enab.v = n.isEnabled;
      if (z.uglg != null)
          z.uglg.v = !1;
      if (n.color != null)
          D *= n.color.alpha;
      z.Opct.v.val = Math.round(D * 100)
  }
  ;
  gn.yP = function(n) {
      return j._.w9(n ? {
          h: n.red * 255,
          Q: n.green * 255,
          O: n.blue * 255
      } : {
          h: 0,
          Q: 0,
          O: 0
      })
  }
  ;
  gn.D2 = function(n, z, C) {
      var D = gn
        , F = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      for (var X = 0; X < n.length; X++) {
          var E = n[X]
            , f = E.booleanOperation
            , a = 0
            , q = E._class
            , p = !1;
          if (q == "group" || q == "text" || q == "symbolInstance" || q == "slice") {
              console.log(q + " inside ShapeGroup");
              continue
          }
          if (f == -1)
              a = 0;
          else if (f == 0)
              a = 1;
          else if (f == 1)
              a = 2;
          else if (f == 2)
              a = 3;
          else if (f == 3)
              a = 0;
          if (X == 0)
              a = 1;
          var c = gn.MX(E.frame)
            , K = D.kb(E, z)
            , R = E.path ? E.path : E
            , J = [{
              type: 0,
              length: 0,
              fT: a,
              AB: 2,
              ve: 0,
              v4: 0
          }]
            , w = R.points;
          for (var M = 0; M < w.length; M++) {
              var I = w[M]
                , m = D.SO(I.curveTo)
                , A = D.SO(I.point)
                , U = D.SO(I.curveFrom);
              p = p || I.hasCurveFrom && !U.jm(A) || I.hasCurveTo && !m.jm(A)
          }
          var r = [];
          if (!p) {
              var $ = []
                , h = w.length;
              if (h == 0)
                  continue;
              for (var M = 0; M < h; M++) {
                  r[M] = w[M].cornerRadius;
                  var I = D.SO(w[M].point);
                  $.push(I.x, I.y)
              }
              K.scale(1 / c.d, 1 / c.v);
              K.eL();
              j.K.Z($, K, $);
              var k = j.i.G0($, r);
              J = J.concat(k);
              J[0].length = J.length - 1
          } else {
              var G = w.length;
              J[0].length = G;
              for (var M = 0; M < G; M++) {
                  var I = w[M]
                    , i = I.curveMode
                    , o = D.SO(I.point);
                  J[1 + M] = {
                      type: i == 2 || i == 4 ? 1 : 2,
                      K1: I.hasCurveTo ? D.SO(I.curveTo) : o.clone(),
                      S: o,
                      yz: I.hasCurveFrom ? D.SO(I.curveFrom) : o.clone()
                  }
              }
              K.scale(1 / c.d, 1 / c.v);
              K.eL();
              j.i.i3(J, K);
              var r = [];
              for (var M = 0; M < G; M++) {
                  var I = w[M]
                    , i = I.curveMode
                    , S = I.cornerRadius;
                  if (i == 1 && S != 0)
                      r.push(S);
                  else
                      r.push(0)
              }
          }
          if (!R.isClosed)
              for (var M = 0; M < J.length; M++)
                  J[M].type += 3;
          F = F.concat(J);
          var H = j.hL.mo()
            , e = D.re(E);
          if (K.O == 0 && K.KV == 0) {
              var V = K.H1
                , v = K.Wv
                , B = V + K.nb
                , Z = v + K.qc
                , d = [V, v, B, Z];
              if (e == "rectangle" && r.length == 4)
                  H = j.hL.Qt(2, d, r);
              if (e == "oval")
                  H = j.hL.Qt(5, d)
          }
          C.push(H)
      }
      return F
  }
  ;
  gn.kb = function(n, z) {
      var C = z.clone()
        , D = n.frame ? gn.MX(n.frame) : null;
      if (D)
          C.translate(-D.x - D.d / 2, -D.y - D.v / 2);
      if (n.isFlippedHorizontal)
          C.scale(-1, 1);
      if (n.isFlippedVertical)
          C.scale(1, -1);
      C.rotate(-n.rotation * (Math.PI / 180));
      if (D)
          C.translate(D.d / 2, D.v / 2);
      return C
  }
  ;
  gn.SO = function(n) {
      n = n.slice(1, n.length - 1).split(",");
      return new ir(parseFloat(n[0]),parseFloat(n[1]))
  }
  ;
  gn.MX = function(n) {
      return new cc(n.x,n.y,n.width,n.height)
  }
  ;
  gn.wn = function(n) {
      return {
          _class: "rect",
          constrainProportions: !1,
          x: n.x,
          y: n.y,
          width: n.d,
          height: n.v
      }
  }
  ;
  function gM() {}
  gM.vC = function(n, z) {
      var C = Date.now()
        , D = gM
        , F = UZIP.parse(n)
        , X = JSON.parse(T.iS(F.manifest))
        , E = JSON.parse(T.iS(F["resources/graphics/graphicContent.agc"])).resources
        , f = []
        , a = X.children;
      for (var M = 0; M < a.length; M++) {
          var q = a[M];
          if (q.name == "artwork") {
              var c = q.children;
              for (var K = 0; K < c.length; K++)
                  if (c[K]["uxdesign#bounds"]) {
                      var R = c[K]
                        , J = JSON.parse(T.iS(F["artwork/" + R.path + "/graphics/graphicContent.agc"]));
                      if (J.children.length != 1)
                          throw "e";
                      R._node = J.children[0];
                      f.push(R)
                  }
          }
      }
      var w = []
        , p = new cc;
      for (var M = 0; M < f.length; M++) {
          var R = f[M]
            , I = gn.MX(R["uxdesign#bounds"]);
          w.push(I);
          p = p.QH(I)
      }
      var m = gn.Dr(p, 8192 * 8192);
      z.Jf = !0;
      z.d = Math.round(p.d / m);
      z.v = Math.round(p.v / m);
      z.buffer = j.T(z.d * z.v * 4);
      z.Jy(f.length);
      var A = new b6(m,0,0,m,p.x,p.y);
      z.Kp = {};
      for (var M = 0; M < f.length; M++) {
          var R = f[M]
            , I = gn.MX(R["uxdesign#bounds"])
            , U = R._node
            , r = A.clone()
            , $ = I.clone()
            , k = r.Jr();
          r.translate(-I.x, -I.y);
          $.x = -Math.floor(r.H1 / k);
          $.y = -Math.floor(r.Wv / k);
          $.d = Math.floor($.d / k);
          $.v = Math.floor($.v / k);
          r.translate(I.x, I.y);
          gM.XY(U, z, r, E, F, $);
          var G = z.W[z.W.length - 1];
          G.CZ(R.name);
          G.zk($);
          if (M != f.length - 1)
              G.add.lsct = g9.cP
      }
      delete z.Kp
  }
  ;
  gM._h = function(n) {
      if (n == null)
          return new b6;
      return new b6(n.a,n.b,n.c,n.d,n.tx,n.ty)
  }
  ;
  gM.XY = function(n, z, C, D, F, X) {
      var E = gM, f = n.type, a = n[f], q = n.style, c = E._h(n.transform), w, p = "none", I, m = "none", A, U;
      c.eL();
      var K = C.clone();
      K.concat(c);
      var R = z.gl()
        , J = n.name;
      R.CZ(J ? J.slice(0, 250) : "Layer");
      if (n.visible != null)
          R.Hu(n.visible);
      if (q) {
          w = q.stroke;
          p = w ? w.type : "none";
          I = q.fill;
          m = I ? I.type : "none";
          A = q.filters;
          U = q.clipPath;
          if (U && D.clipPaths[U.ref])
              U = D.clipPaths[U.ref].children;
          else
              U = null;
          if (q.opacity)
              R.opacity = Math.round(255 * q.opacity);
          if (m == "solid" && I.color.alpha)
              R.opacity = Math.round(R.opacity * I.color.alpha);
          if (A) {
              R.add.lmfx = E.a2Z(A);
              for (var M = 0; M < A.length; M++)
                  if (A[M].type == "uxdesign#blur") {
                      var r = A[M]
                        , $ = r.params
                        , k = $.brightnessAmount;
                      if (k == null)
                          k = 0;
                      k = Math.abs(k / 100);
                      if ((r.visible == null || r.visible == !0) && $.backgroundEffect)
                          R.opacity = Math.round(R.opacity * (k + (1 - k) * $.fillOpacity))
                  }
          }
          if (m == "pattern" && I.pattern.meta.ux.uid == "")
              m = "none"
      }
      if (U == null && n.meta && n.meta.ux && n.meta.ux.clipPathResources)
          U = n.meta.ux.clipPathResources.children;
      if (f == "artboard" || f == "group") {
          if (U) {
              var G = U[0]
                , i = G.shape
                , o = i != null && i.type == "rect" && i.width * i.height > 1e6;
              if (G.type != "text" && !o) {
                  if (i) {
                      var c = E._h(G.transform);
                      c.eL();
                      var S = K.clone();
                      S.concat(c);
                      R.add.vmsk = new Q.qP;
                      R.add.vmsk.g = E.D2(i);
                      S = S.clone();
                      S.eL();
                      j.i.i3(R.add.vmsk.g, S);
                      R.z4(z)
                  }
              } else if (!o)
                  alert("Clipping by text has been ignored")
          }
          R.add.lsct = g9.WQ;
          R.Gx = "pass";
          R.j1 = 24;
          if (n.visible != null)
              R.Hu(n.visible);
          z.W.push(z.iE());
          var H = a.children
            , e = I;
          if (e)
              e = e.color;
          if (e)
              e = e.value;
          if (I) {
              if (f == "artboard" && m == "solid") {
                  R.zk(new cc(0,0,10,10));
                  R.add.artb.Clr = {
                      t: "Objc",
                      v: j._.w9({
                          h: e.r,
                          Q: e.g,
                          O: e.b
                      })
                  };
                  R.add.artb.artboardBackgroundType = {
                      t: "long",
                      v: 4
                  }
              } else {
                  var V = z.gl();
                  V.CZ("BACKGROUND");
                  V.j1 |= 16;
                  V.add.vstk = JSON.parse(JSON.stringify(g$.Bt.default));
                  V.add.vmsk = new Q.qP;
                  V.add.vmsk.g = E.D2({
                      type: "rect",
                      x: X.x,
                      y: X.y,
                      width: X.d,
                      height: X.v
                  });
                  E.Xe(I, m, K, X, X, V, z, D, F);
                  V.z4(z);
                  z.W.push(V)
              }
          }
          for (var M = 0; M < H.length; M++) {
              gM.XY(H[M], z, K, D, F, X)
          }
      } else if (f == "shape" && n.shape.type == "rect" && (n.shape.r == null || n.shape.r == 0) && m == "pattern" && Math.abs(n.shape.width / n.shape.height - I.pattern.width / I.pattern.height) < .01) {
          var v = I.pattern
            , B = v.meta.ux
            , Z = B.uid
            , d = F["resources/" + Z];
          if (d == null) {
              console.log(v);
              return
          }
          var g = z.AM(d, R.getName(), 0, 0);
          g.j1 = R.j1;
          g.opacity = R.opacity;
          R = g;
          var Y = j.K.YQ(new cc(0,0,v.width,v.height)).U
            , y = new b6;
          y.scale(v.width / n.shape.width, v.height / n.shape.height);
          if (B.offsetX)
              y.translate(-B.offsetX * v.width, 0);
          if (B.offsetY)
              y.translate(0, -B.offsetY * v.height);
          K.concat(y);
          K.eL();
          j.K.Z(Y, K, Y);
          R.add.SoLd.Trnf = O.o.IO(Y);
          R.add.SoLd.nonAffineTransform = O.o.IO(Y);
          R.V_(z, !1)
      } else if (f == "shape") {
          R.j1 |= 16;
          R.add.vstk = JSON.parse(JSON.stringify(g$.Bt.default));
          R.add.vmsk = new Q.qP;
          R.add.vmsk.g = E.D2(a);
          var L = j.i.Rb(R.add.vmsk.g, null)
            , S = K.clone();
          S.eL();
          j.i.i3(R.add.vmsk.g, S);
          var _ = j.i.Rb(R.add.vmsk.g, null);
          if (p == "none") {} else {
              var b = w.color.value, x, W;
              x = "SoFi";
              var g6 = JSON.parse(g$.g$[g$.order.indexOf("SoFi")]);
              W = {
                  t: "Objc",
                  v: g6
              };
              W.v.Clr.v = j._.w9({
                  h: b.r,
                  Q: b.g,
                  O: b.b
              });
              var fY = w.align
                , f3 = w.cap;
              if (fY == null)
                  fY = "center";
              var hK = R.add.vstk;
              hK.strokeEnabled.v = !0;
              hK.strokeStyleLineWidth.v.val = w.width;
              if (fY)
                  hK.strokeStyleLineAlignment.v.strokeStyleLineAlignment = g$.Bt.pA[["inside", "center", "outside"].indexOf(fY)];
              if (f3)
                  hK.strokeStyleLineCapType.v.strokeStyleLineCapType = g$.Bt.BB[["butt", "round", "square"].indexOf(f3)];
              var s = ["SoFi", "GrFl", "patternFill"].indexOf(x)
                , P = [g$.oQ, g$.p_, g$.XK][s];
              hK.strokeStyleContent.v = {
                  classID: g$.Bt.UN[0]
              };
              var aF = hK.strokeStyleContent.v = {
                  classID: g$.Bt.UN[s]
              };
              for (var M = 0; M < P.length; M++)
                  aF[P[M]] = W.v[P[M]]
          }
          if (A)
              for (var M = 0; M < A.length; M++)
                  if (A[M].type == "uxdesign#blur" && A[M].visible) {
                      var fM = A[M];
                      R.add.vmsk.PJ = fM.params.blurAmount
                  }
          E.Xe(I, m, K, L, _, R, z, D, F);
          R.z4(z)
      } else if (f == "text" && n.text) {
          var eA = n.text
            , e8 = eA.frame
            , eC = q.font
            , cy = q.textAttributes
            , c = K.clone()
            , b3 = 0;
          c.eL();
          R.add.lnsr = "rend";
          R.add.TySh = bZ.uZ(0, 0);
          R.add.TySh.jk = new cc(0,0,100,100);
          R.add.TySh.Z = c;
          var aX = R.add.TySh.uR
            , j0 = eA.rawText.replace(/\r/g, "\n").replace(/\u000b/g, "\n");
          bZ.rZ(aX, 0, j0);
          if (j0 != "") {
              var aT = bZ.jj(aX, 0, 1)
                , a4 = eC.postscriptName;
              if (a4 == null)
                  a4 = eC.family;
              bZ.I9(aT, a4);
              aT.I$.FontSize = Math.round(eC.size);
              if (I) {
                  var b = I.color.value;
                  aT.I$.FillColor = {
                      Type: 1,
                      Values: [1, b.r / 255, b.g / 255, b.b / 255]
                  }
              }
              if (cy) {
                  if (cy.paragraphAlign)
                      aT.t_.Justification = ["left", "right", "center"].indexOf(cy.paragraphAlign);
                  if (cy.letterSpacing)
                      aT.I$.Tracking = Math.round(cy.letterSpacing);
                  if (cy.lineHeight) {
                      aT.I$.AutoLeading = !1;
                      aT.I$.Leading = Math.round(cy.lineHeight)
                  }
              }
              bZ.YI(aX, 0, j0.length, aT)
          }
          var f8 = n.meta.ux.rangedStyles;
          if (f8)
              for (var M = 0; M < f8.length; M++) {
                  var a = f8[M]
                    , gh = Math.min(a.length, j0.length - b3)
                    , aT = bZ.jj(aX, b3, b3 + gh)
                    , a4 = a.postscriptName;
                  if (a4 == null)
                      a4 = a.family;
                  if (a4 != null)
                      bZ.I9(aT, a4);
                  var cZ = a.textScript
                    , h3 = a.underline
                    , ew = a.fontSize
                    , r = a.fill
                    , dy = a.textTransform;
                  if (cZ && cZ != "none")
                      aT.I$.FontBaseline = cZ == "superscript" ? 1 : 2;
                  if (h3 != null)
                      aT.I$.Underline = h3;
                  if (ew != null)
                      aT.I$.FontSize = Math.round(ew);
                  if (dy != null)
                      aT.I$.FontCaps = dy == "uppercase" ? 2 : 0;
                  if (r != null) {
                      var fx = r.value;
                      aT.I$.FillColor = {
                          Type: 1,
                          Values: [1, (fx >>> 16 & 255) / 255, (fx >>> 8 & 255) / 255, (fx >>> 0 & 255) / 255]
                      }
                  }
                  bZ.YI(aX, b3, b3 + gh, aT);
                  b3 += gh
              }
          if (e8.type == "area" || e8.type == "autoHeight") {
              var bo = e8.width
                , hd = e8.height;
              bZ.qf(aX, 1);
              bZ.u6(aX, [0, 0, bo, hd != null ? hd : bo * 2])
          }
      } else
          console.log(f, n);
      z.W.push(R)
  }
  ;
  gM.D2 = function(n) {
      var z = n.type
        , C = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      if (z == "rect") {
          var D = n.r
            , F = n.x
            , X = n.y
            , E = n.width
            , f = n.height;
          if (D == null)
              C = j.i.Ey.Rect(F, X, E, f, 0);
          else {
              var a = j.i.G0([F, X, F + E, X, F + E, X + f, F, X + f], D, !1);
              C.push({
                  type: 0,
                  fT: 1,
                  length: a.length,
                  ve: 0,
                  v4: 0,
                  AB: 1
              });
              C = C.concat(a)
          }
      } else if (z == "circle") {
          var D = n.r;
          C = j.i.Ey.mZ(n.cx - D, n.cy - D, 2 * D, 2 * D)
      } else if (z == "ellipse") {
          var q = n.rx
            , c = n.ry;
          C = j.i.Ey.mZ(n.cx - q, n.cy - c, 2 * q, 2 * c)
      } else if (z == "path" || z == "compound") {
          var K = Typr.U.SVGToPath(n.path);
          C = j.K.gU({
              I: K.cmds,
              U: K.crds
          }, !1)
      } else if (z == "line") {
          var R = n.x1
            , J = n.x2
            , w = n.y1
            , p = n.y2;
          C = C.concat([{
              type: 0,
              fT: 1,
              length: 2,
              ve: 0,
              v4: 0,
              AB: 1
          }]).concat(j.i.G0([R, w, J, p], 0, !0))
      } else if (z == "polygon") {
          var I = n.points
            , a = [];
          for (var M = 0; M < I.length; M++)
              a.push(I[M].x, I[M].y);
          C = C.concat(j.i.Ey.S5(a, 0, !1).slice(2))
      } else
          console.log(z, n);
      return C
  }
  ;
  gM.a2Z = function(n) {
      var z = JSON.parse(g$.default);
      for (var M = 0; M < g$.order.length; M++)
          z[g$.IT[M]] = {
              t: "VlLs",
              v: []
          };
      for (var M = 0; M < n.length; M++) {
          var C = n[M]
            , D = C.type
            , F = C.params
            , X = C.visible;
          if (D == "dropShadow") {
              var E = g$.IT[g$.order.indexOf("DrSh")]
                , f = JSON.parse(g$.g$[g$.order.indexOf("DrSh")]);
              z[E].v.unshift({
                  t: "Objc",
                  v: f
              });
              var a = F.dropShadows;
              if (a.length != 1)
                  throw "e";
              var q = a[M]
                , c = q.color
                , K = c.value
                , R = q.dx
                , J = q.dy;
              f.Clr.v = j._.w9({
                  h: K.r,
                  Q: K.g,
                  O: K.b
              });
              f.Opct.v.val = Math.round((c.alpha != null ? c.alpha : 1) * 100);
              f.uglg.v = !1;
              f.enab.v = X != null ? X : !0;
              f.lagl.v.val = Math.round(180 / Math.PI * Math.atan2(J, -R));
              f.Dstn.v.val = Math.round(Math.sqrt(R * R + J * J));
              f.blur.v.val = Math.round(q.r * 2.3)
          }
      }
      return z
  }
  ;
  gM.Xe = function(n, z, C, D, F, X, E, f, a) {
    debugger
      var q = gM;
      if (z == "none") {
          X.add.vstk.fillEnabled.v = !1;
          X.add.SoCo = {
              classID: "null",
              Clr: {
                  t: "Objc",
                  v: j._.w9({
                      h: 0,
                      Q: 0,
                      O: 0
                  })
              }
          }
      } else {
          var c, K, R;
          if (z == "solid") {
              var J = n.color.value;
              c = "SoCo";
              K = g$.oQ;
              var w = JSON.parse(g$.g$[g$.order.indexOf("SoFi")]);
              R = {
                  t: "Objc",
                  v: w
              };
              R.v.Clr.v = j._.w9({
                  h: J.r,
                  Q: J.g,
                  O: J.b
              })
          } else if (z == "gradient") {
              c = "GdFl";
              K = g$.p_;
              var w = JSON.parse(g$.g$[g$.order.indexOf("GrFl")]), p = w.Grad.v, r, $, k;
              p.Intr.v = 0;
              var I = n[z]
                , m = I.ref ? f.gradients[I.ref] : I.meta.ux.gradientResources
                , A = ["linear", "radial"].indexOf(m.type)
                , U = m.stops;
              w.Type.v.GrdT = ["Lnr", "Rdl", "Angl"][A];
              if (A == 0) {
                  var r = new ir(I.x1,I.y1)
                    , $ = new ir(I.x2,I.y2);
                  r.x = $.x + .5 * (r.x - $.x);
                  r.y = $.y + .5 * (r.y - $.y)
              } else {
                  var r = new ir(I.cx,I.cy)
                    , $ = new ir(I.cx + I.r,I.cy)
              }
              k = F;
              if (I.units == "objectBoundingBox") {
                  var G = new b6(D.d,0,0,D.v,D.x,D.y);
                  r = G.JT(r);
                  $ = G.JT($)
              }
              var G = q._h(I.transform);
              r = G.JT(r);
              $ = G.JT($);
              G = C.clone();
              G.eL();
              r = G.JT(r);
              $ = G.JT($);
              j._.a9(r, $, k, w);
              var i = [];
              for (var M = 0; M < U.length; M++) {
                  var o = U[M]
                    , S = o.color
                    , J = S.value
                    , H = S.alpha;
                  if (H == null)
                      H = 1;
                  i.push([o.offset, [J.r / 255, J.g / 255, J.b / 255], H])
              }
              j._.sb(i, p);
              R = {
                  t: "Objc",
                  v: w
              }
          } else if (z == "pattern") {
              c = "PtFl";
              K = g$.XK;
              var w = JSON.parse(g$.g$[g$.order.indexOf("patternFill")]), d, _ = 1, b = 0, x = 0, W = 1;
              R = {
                  t: "Objc",
                  v: w
              };
              var e = n[z]
                , V = e.meta.ux
                , v = V.uid
                , B = a["resources/" + v].buffer
                , Z = fC.Nj(B);
              if (E.Kp[v])
                  d = E.Kp[v];
              else {
                  var g = new cc(0,0,e.width,e.height), Y;
                  if (g.kX()) {
                      g = new cc(0,0,1,1);
                      Y = new ArrayBuffer(4)
                  } else {
                      var y = fC.ET(Z);
                      if (y.Jz) {
                          var L = new b$;
                          y.c3(B, L);
                          Y = L.Wc().buffer
                      } else
                          Y = y.c3(B)[0].data
                  }
                  d = {};
                  d.id = b$.oA() + "-d71c-11e5-b1ae-a548a96e5f9f";
                  d.name = "someImage";
                  d.Tc = [new Uint8Array(Y), g];
                  E.P2(d);
                  E.Kp[v] = d
              }
              var g = d.Tc[1];
              w.Algn.v = !0;
              w.Ptrn.v.Idnt.v = d.id;
              if (V.scaleBehavior == "cover") {
                  _ = W * Math.max(F.d / g.d, F.v / g.v);
                  var g6 = _;
                  if (V.scale != null)
                      _ *= V.scale;
                  b = F.x - (g.d * _ - F.d) / 2;
                  x = F.y - (g.v * _ - F.v) / 2;
                  if (V.offsetX != null)
                      b += V.offsetX * g.d * g6;
                  if (V.offsetY != null)
                      x += V.offsetY * g.v * g6
              } else if (V.scaleBehavior == "fill") {
                  _ = W * Math.min(F.d, F.v) / Math.max(g.d, g.v);
                  b = F.x - (g.d * _ - F.d) / 2;
                  x = F.y - (g.v * _ - F.v) / 2
              } else
                  throw "Unknown scale behaviour";
              w.Scl.v.val = 100 * _;
              w.phase.v.Hrzn.v = Math.round(b);
              w.phase.v.Vrtc.v = Math.round(x)
          } else
              console.log(z);
          if (c != null) {
              X.add[c] = {
                  classID: "null"
              };
              for (var M = 0; M < K.length; M++) {
                  var fY = K[M];
                  X.add[c][fY] = R.v[fY]
              }
          }
      }
  }
  ;
  function iz() {}
  iz.vC = function(n, z, C) {
      n = new Uint8Array(n);
      var D = T.iS(n, 0, n.length)
        , F = new DOMParser
        , X = F.parseFromString(D, "image/svg+xml")
        , E = X.getElementsByTagName("style")[0]
        , J = 1;
      if (E)
          E = Typr.U.SVG.cssMap(E.textContent);
      else
          E = {};
      var f = X.firstChild;
      while (f.tagName != "svg")
          f = f.nextSibling;
      var a = new cc(0,0,100,100)
        , q = f.getAttribute("viewBox")
        , c = f.getAttribute("width")
        , K = f.getAttribute("height");
      if (q) {
          var R = iz.WZ(q);
          a.x = R[0];
          a.y = R[1];
          a.d = R[2];
          a.v = R[3]
      } else if (c != null || K != null) {
          a.d = c != null ? parseFloat(c) : parseFloat(K);
          a.v = K != null ? parseFloat(K) : parseFloat(c)
      }
      a = j.K.HM(a);
      while (C && Math.max(a.d * J, a.v * J) < Math.max(C[0], C[1]))
          J++;
      while (C == null && Math.max(a.d, a.v) * J > 8192)
          J *= .5;
      z.Jf = !0;
      z.d = ~~(a.d * J);
      z.v = ~~(a.v * J);
      z.buffer = j.T(z.d * z.v * 4);
      var w = new b6(J,0,0,J,-a.x * J,-a.y * J)
        , p = {
          _i: iz.M8(f),
          ak3: E
      };
      iz.r$(X, f.children, z, w, p, new b6, 0);
      if (z.W.length == 0) {
          var I = z.gl();
          I.CZ("Layer");
          z.W.push(I)
      }
  }
  ;
  iz.WZ = function(n) {
      var z = " ";
      if (n.indexOf(",") != -1)
          z = ",";
      return n.split(z).map(parseFloat)
  }
  ;
  iz.r$ = function(n, z, C, D, F, X, E) {
      var f = iz
        , a = ["display", "opacity", "fill-opacity"];
      for (var q = 0; q < z.length; q++) {
          var c = z[q]
            , K = c.tagName
            , R = c.getAttribute("id")
            , J = f.M8(c, F.ak3)
            , p = 13
            , r = 1
            , G = "clip-path"
            , i = null;
          for (var w in F._i)
              if (a.indexOf(w) == -1 && J[w] == null)
                  J[w] = F._i[w];
          if (J["font-size"])
              p = f.Zo(J["font-size"], p);
          if (c.getAttribute("dx"))
              D.H1 += f.Zo(c.getAttribute("dx"), p);
          if (c.getAttribute("dy"))
              D.Wv += f.Zo(c.getAttribute("dy"), p);
          var I = f.zA(c);
          I.concat(D);
          var m = c.getAttribute("visibility")
            , A = J.display
            , U = C.gl();
          if (m == "hidden" || A == "none")
              U.Hu(!1);
          U.CZ(R != null ? R.split(":::")[0] : "Layer");
          if (J.opacity)
              r *= parseFloat(J.opacity);
          if (J["fill-opacity"]) {
              var $ = parseFloat(J["fill-opacity"]);
              if ($ != 0)
                  r *= $
          }
          U.opacity = Math.round(255 * r);
          if (J["mix-blend-mode"]) {
              var k = hr.rl.indexOf(J["mix-blend-mode"]);
              if (k != -1)
                  U.Gx = hr.Un[k]
          }
          if (c.getAttribute(G) == null)
              G = "mask";
          if (c.getAttribute(G) != null) {
              var o = c.getAttribute(G);
              o = o.slice(4, o.length - 1);
              var S = n.getElementById(o.slice(1));
              if (S) {
                  var H = S.children;
                  i = C.gl();
                  i.CZ("Clip-Path" + (R ? ": " + R : ""));
                  i.add.lsct = E < 2 ? g9.WQ : g9.cP;
                  i.Gx = "pass";
                  i.j1 = 24;
                  var e = i.add.vmsk = new Q.qP;
                  C.W.push(C.iE());
                  var V = [];
                  if (S.getAttribute(G)) {
                      var o = S.getAttribute(G);
                      o = o.slice(4, o.length - 1);
                      V = n.getElementById(o.slice(1)).children
                  }
                  for (var M = 0; M < H.length; M++) {
                      var v = f.zA(H[M]);
                      v.concat(I);
                      var B = f.D2(n, H[M], !1).slice(2);
                      j.i.i3(B, v);
                      e.g = e.g.concat(B)
                  }
                  for (var M = 0; M < V.length; M++) {
                      var v = f.zA(H[M]);
                      v.concat(I);
                      var B = f.D2(n, V[M], !1).slice(2);
                      for (var Z = 0; Z < B.length; Z++)
                          if (B[M].fT != null)
                              B[M].fT = 3;
                      j.i.i3(B, v);
                      e.g = e.g.concat(B)
                  }
                  i.CD();
                  i.z4();
                  E++
              }
          }
          if (K == "g" || K == "a" || K == "svg" || K == "switch" || (K == "text" || K == "textPath") && c.children.length > 0) {
              if (K == "text")
                  X = f._B(c, X);
              var d = c.getAttribute("viewBox")
                , g = c.getAttribute("width")
                , Y = c.getAttribute("height");
              if (d && g && Y) {
                  var y = iz.WZ(d)
                    , L = f._B(c)
                    , _ = new b6;
                  _.translate(-y[0], -y[1]);
                  _.scale(parseFloat(g) / y[2], parseFloat(Y) / y[3]);
                  _.translate(L.H1, L.Wv);
                  _.concat(I);
                  I = _
              }
              var b = c.children.length
                , x = F._i;
              F._i = J;
              var W = K != "text" && K != "textPath" || b > 1;
              if (W) {
                  var g6 = U.y_();
                  U.add.lsct = E < 2 && g6 && (R == null || !R.endsWith(":::")) ? g9.WQ : g9.cP;
                  U.Gx = "pass";
                  U.j1 = 24;
                  U.Hu(g6);
                  C.W.push(C.iE())
              }
              f.r$(n, c.children, C, I, F, X, E + 1);
              if (W)
                  C.W.push(U);
              else {
                  var fY = C.W[C.W.length - 1];
                  fY.opacity = U.opacity;
                  fY.Gx = U.Gx
              }
              F._i = x
          } else if (K == "use") {
              var _ = f._B(c);
              _.concat(I);
              var f3 = f.d7(c)
                , hK = n.getElementById(f3.slice(1))
                , x = F._i;
              F._i = J;
              f.r$(n, [hK], C, _, F, X, E + 1);
              F._i = x
          } else if (K == "path" || K == "rect" || K == "circle" || K == "ellipse" || K == "polygon" || K == "polyline" || K == "line") {
              U.j1 |= 16;
              U.add.vmsk = new Q.qP;
              U.add.vstk = JSON.parse(JSON.stringify(g$.Bt.default));
              U.add.vstk.strokeEnabled.v = !1;
              var s = U.add.vstk
                , e = U.add.vmsk
                , P = J.fill
                , aF = P == "none" || J["fill-opacity"] && parseFloat(J["fill-opacity"]) == 0;
              e.g = f.D2(n, c, J["fill-rule"] == "evenodd", aF);
              j.i.i3(e.g, I);
              var fM = j.i.Rb(e.g)
                , eA = J.stroke
                , e8 = J["stroke-width"]
                , eC = J["stroke-dasharray"]
                , cy = J["stroke-linejoin"]
                , aX = J["stroke-linecap"]
                , j0 = J["paint-order"];
              if (eA == null || eA == "none" || eA == "null") {} else {
                  var aT = f.pu(n, eA, I, fM)
                    , a4 = ["SoFi", "GrFl", "patternFill"].indexOf(aT.type)
                    , f8 = aT.G.v.Opct.v
                    , cZ = 1;
                  if (f8.val != 100) {
                      U.opacity = Math.round(U.opacity * f8.val / 100);
                      f8.val = 100
                  }
                  var b3 = [g$.oQ, g$.p_, g$.XK][a4]
                    , gh = s.strokeStyleContent.v = {
                      classID: g$.Bt.UN[a4]
                  };
                  for (var M = 0; M < b3.length; M++)
                      gh[b3[M]] = aT.G.v[b3[M]];
                  e8 = e8 ? parseFloat(e8) : 1;
                  if (j0 && j0.replace(/\s\s+/g, " ").slice(0, 11) == "stroke fill") {
                      cZ = 2;
                      e8 /= 2
                  }
                  s.strokeEnabled.v = !0;
                  if (cy)
                      s.strokeStyleLineJoinType.v.strokeStyleLineJoinType = g$.Bt.join[["miter", "round", "bevel"].indexOf(cy)];
                  if (aX)
                      s.strokeStyleLineCapType.v.strokeStyleLineCapType = g$.Bt.BB[["butt", "round", "square"].indexOf(aX)];
                  s.strokeStyleLineWidth.v.val = e8 * O.o.Jr(I);
                  s.strokeStyleLineAlignment.v.strokeStyleLineAlignment = g$.Bt.pA[cZ];
                  s.strokeStyleOpacity.v.val = 100 * (J["stroke-opacity"] ? parseFloat(J["stroke-opacity"]) : 1);
                  if (eC != null && eC != "none")
                      s.strokeStyleLineDashSet.v = fg.br(eC.split(",").map(parseFloat), 1 / e8)
              }
              if (aF) {
                  U.add.vstk.fillEnabled.v = !1;
                  U.add.SoCo = {
                      classID: "null",
                      Clr: {
                          t: "Objc",
                          v: j._.w9({
                              h: 0,
                              Q: 0,
                              O: 0
                          })
                      }
                  }
              } else {
                  var aT = f.pu(n, P, I, fM)
                    , h3 = null
                    , ew = null;
                  if (aT.type == "SoFi") {
                      h3 = "SoCo";
                      ew = g$.oQ
                  }
                  if (aT.type == "GrFl") {
                      h3 = "GdFl";
                      ew = g$.p_
                  }
                  if (aT.type == "patternFill") {
                      h3 = "PtFl";
                      ew = g$.XK
                  }
                  if (h3 != null) {
                      U.add[h3] = {
                          classID: "null"
                      };
                      for (var M = 0; M < ew.length; M++) {
                          var w = ew[M];
                          U.add[h3][w] = aT.G.v[w]
                      }
                  }
              }
              if (J.filter && J.filter != "none") {
                  var dy = J.filter;
                  dy = dy.slice(5, dy.length - 1);
                  if (n.getElementById(dy)) {
                      var fx = n.getElementById(dy).children[0];
                      if (fx.tagName == "feGaussianBlur") {
                          U.add.vmsk.PJ = parseFloat(fx.getAttribute("stdDeviation")) * O.o.Jr(I)
                      }
                  }
              }
              U.CD();
              U.z4(C);
              C.W.push(U)
          } else if ((K == "text" || K == "tspan") && c.textContent != "") {
              X = f._B(c, X);
              var _ = X.clone()
                , ix = 0;
              _.concat(I);
              if (c.children.length > 0) {
                  var bo = f.M8(c.children[0], F.ak3);
                  for (var w in bo)
                      if (a.indexOf(w) == -1)
                          J[w] = bo[w]
              }
              var hd = J["xml:space"]
                , gT = c.textContent;
              if (hd == "preserve")
                  gT = gT.replace(/\t/g, " ").replace(/\n/g, " ");
              if (R == null)
                  U.CZ(gT);
              U.add.lnsr = "rend";
              U.add.TySh = bZ.uZ(0, 0);
              U.add.TySh.jk = new cc(0,0,100,100);
              U.add.TySh.Z = _.clone();
              var du = U.add.TySh.uR;
              bZ.rZ(du, 0, gT);
              var P = J.fill
                , bk = J["font-weight"]
                , i8 = J["font-family"]
                , en = J["text-decoration"]
                , eA = J.stroke
                , e8 = J["stroke-width"]
                , dW = J["dominant-baseline"];
              if (dW == "text-before-edge")
                  ix = p;
              else if (dW == "middle")
                  ix = p / 2;
              else if (dW == "hanging")
                  ix = p;
              if (ix != 0)
                  U.add.TySh.Z.translate(0, ix);
              var dU = bZ.jj(du, 0, 1);
              if (P && P != "none") {
                  var hN = CSS.yP(P);
                  dU.I$.FillColor = {
                      Type: 1,
                      Values: [1, hN.h / 255, hN.Q / 255, hN.O / 255]
                  }
              }
              if (en == "underline")
                  dU.I$.Underline = !0;
              dU.I$.FontSize = Math.round(p);
              bZ.I9(dU, "LiberationSans");
              if (bk == "bold")
                  bZ.I9(dU, "LiberationSans-Bold");
              if (i8) {
                  i8 = i8.split(",")[0].trim();
                  if (i8[0] == "\"")
                      i8 = i8.slice(1);
                  if (i8[i8.length - 1] == "\"")
                      i8 = i8.slice(0, i8.length - 1);
                  var a1 = i8 + ":" + (bk ? bk : "normal")
                    , hk = {
                      "'DejaVu Sans':normal": "DejaVuSans",
                      "'DejaVu Sans':bold": "DejaVuSans-Bold",
                      "'Nimbus Sans L':normal": "NimbusSanL-Reg",
                      "'Nimbus Sans L':bold": "NimbusSanL-Bol",
                      "Libre Franklin:300": "LibreFranklin-Light",
                      "Libre Franklin:400": "LibreFranklin-Regular",
                      "Libre Franklin:500": "LibreFranklin-Medium",
                      "Libre Franklin:600": "LibreFranklin-SemiBold",
                      "Libre Franklin:700": "LibreFranklin-Bold"
                  };
                  if (hk[a1])
                      bZ.I9(dU, hk[a1]);
                  else
                      bZ.I9(dU, i8)
              }
              if (J["text-anchor"])
                  dU.t_.Justification = ["start", "end", "middle"].indexOf(J["text-anchor"]);
              bZ.YI(du, 0, gT.length, dU);
              if (eA == null || eA == "none") {} else {
                  var ax = JSON.parse(g$.g$[g$.order.indexOf("FrFX")]);
                  ax.Clr.v = j._.w9(CSS.yP(eA));
                  ax.Sz.v.val = Math.round(parseFloat(e8) * O.o.Jr(_));
                  var ej = JSON.parse(g$.default);
                  for (var M = 0; M < g$.order.length; M++)
                      ej[g$.IT[M]] = {
                          t: "VlLs",
                          v: []
                      };
                  ej.frameFXMulti.v.push({
                      t: "Objc",
                      v: ax
                  });
                  U.add.lmfx = ej
              }
              C.W.push(U)
          } else if (K == "image") {
              var f3 = f.d7(c);
              if (f3.slice(0, 4) == "data") {
                  var bz = fC.Hj(f3)
                    , fq = bz
                    , cg = C.AM(fq, U.getName(), 0, 0);
                  cg.j1 = U.j1;
                  U = cg;
                  var iw = U.rect.clone();
                  iw.x = iw.y = 0;
                  var fD = c.getAttribute("width")
                    , g8 = c.getAttribute("height");
                  if (fD)
                      iw.d = parseFloat(fD);
                  if (g8)
                      iw.v = parseFloat(g8);
                  var ap = f._B(c);
                  ap.concat(I);
                  var c8 = j.K.YQ(iw).U;
                  j.K.Z(c8, ap, c8);
                  U.add.SoLd.Trnf = O.o.IO(c8);
                  U.add.SoLd.nonAffineTransform = O.o.IO(c8);
                  U.V_(C, !1);
                  C.W.push(U)
              }
          } else
              console.log("unknown tag: " + K, c.children.length, c.textContent.length);
          if (i != null) {
              C.W.push(i);
              E--
          }
      }
  }
  ;
  iz.D2 = function(n, z, C, D) {
      var F = iz
        , X = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }]
        , E = z.tagName;
      if (E == "use") {
          var f = F.d7(z)
            , a = n.getElementById(f.slice(1))
            , q = new b6;
          if (a.tagName != "rect")
              q = F._B(a);
          q.concat(F.zA(a));
          X = F.D2(n, a, C, D);
          j.i.i3(X, q)
      } else if (E == "path") {
          var c = z.getAttribute("d");
          if (c == null)
              return X;
          var K = Typr.U.SVGToPath(c);
          X = j.K.gU({
              U: K.crds,
              I: K.cmds
          }, C, D)
      } else if (E == "rect") {
          var R = z.getAttribute("rx")
            , J = F._B(z);
          X = j.i.Ey.Rect(J.H1, J.Wv, parseFloat(z.getAttribute("width")), parseFloat(z.getAttribute("height")), R ? parseFloat(R) : 0)
      } else if (E == "circle" || E == "ellipse") {
          var w = [0, 0, 0, 0]
            , p = ["cx", "cy", "rx", "ry", "r"];
          for (var M = 0; M < 5; M++) {
              var I = z.getAttribute(p[M]);
              if (I) {
                  I = parseFloat(I);
                  if (M < 4)
                      w[M] = I;
                  else
                      w[2] = w[3] = I
              }
          }
          X = j.i.Ey.mZ(w[0] - w[2], w[1] - w[3], 2 * w[2], 2 * w[3])
      } else if (E == "polygon" || E == "polyline" || E == "line") {
          var m;
          if (E == "line")
              m = [z.getAttribute("x1"), z.getAttribute("y1"), z.getAttribute("x2"), z.getAttribute("y2")].map(parseFloat);
          else
              m = z.getAttribute("points").trim().replace(/\s\s+/g, " ").split(",").join(" ").split(" ").map(parseFloat);
          X = j.i.Ey.S5(m, 0, E != "polygon")
      }
      return X
  }
  ;
  iz.Zo = function(n, z) {
      if (n.charAt(n.length - 1) == "m")
          return z * parseFloat(n.slice(0, n.length - 2));
      else
          return parseFloat(n)
  }
  ;
  iz.pu = function(n, z, C, D) {
      var F, X, E = iz, f = JSON.parse(g$.g$[g$.order.indexOf("SoFi")]), a = z != null ? z.indexOf("(") : -1;
      if (a != -1) {
          var q = z.indexOf(")")
            , c = z.slice(0, a).trim()
            , K = z.slice(a + 1, q).trim();
          if (K.charAt(0) == "'")
              K = K.slice(1, K.length - 1);
          if (c == "url") {
              if (K.charAt(0) == "#") {
                  var R = n.getElementById(K.slice(1));
                  if (R && R.tagName.toLowerCase().endsWith("gradient")) {
                      var J = E.zn(n, R, C, D);
                      F = "GrFl";
                      X = {
                          t: "Objc",
                          v: J
                      }
                  } else {
                      F = "SoFi";
                      X = {
                          t: "Objc",
                          v: f
                      }
                  }
              } else
                  console.log("unknown url", K)
          } else if (c == "rgb" || c == "rgba") {
              F = "SoFi";
              X = {
                  t: "Objc",
                  v: f
              };
              X.v.Clr.v = j._.w9(CSS.yP(z));
              if (c == "rgba")
                  X.v.Opct.v.val = Math.round(100 * parseFloat(z.split(",").pop()))
          } else
              console.log("unknown fill", z)
      } else {
          F = "SoFi";
          X = {
              t: "Objc",
              v: f
          };
          X.v.Clr.v = j._.w9(CSS.yP(z))
      }
      return {
          type: F,
          G: X
      }
  }
  ;
  iz.zA = function(n) {
      var z = new b6
        , C = n.getAttribute("transform");
      if (C)
          z = iz.Av(C);
      var D = n.getAttribute("style");
      if (D != null) {
          var F = {};
          iz.uT(F, D, ["transform"]);
          D = F.transform;
          if (D)
              z.concat(iz.Av(D))
      }
      return z
  }
  ;
  iz._B = function(n, z) {
      var C = new b6
        , D = n.getAttribute("x")
        , F = n.getAttribute("y");
      if (D)
          C.H1 = parseFloat(D);
      else if (z)
          C.H1 = z.H1;
      if (F)
          C.Wv = parseFloat(F);
      else if (z)
          C.Wv = z.Wv;
      return C
  }
  ;
  iz.Av = function(n) {
      var z = Typr.U.SVG.readTrnf(n);
      return new b6(z[0],z[1],z[2],z[3],z[4],z[5])
  }
  ;
  iz.M8 = function(n, z) {
      var C = {}
        , D = "fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
      for (var M = 0; M < D.length; M++) {
          var F = n.getAttribute(D[M]);
          if (F != null && F != "inherit")
              C[D[M]] = F
      }
      var X = n.getAttribute("class");
      if (z != null && X != null && z["." + X] != null)
          iz.uT(C, z["." + X], D);
      var E = n.getAttribute("id");
      if (z != null && E != null && z["#" + E] != null)
          iz.uT(C, z["#" + E], D);
      var f = n.getAttribute("style");
      if (f != null)
          iz.uT(C, f, D);
      return C
  }
  ;
  iz.uT = function(n, z, C) {
      z = z.trim().split(";");
      for (var M = 0; M < z.length; M++) {
          var D = z[M].split(":")
            , F = D[0] ? D[0].trim() : ""
            , X = D[1] ? D[1].trim() : "";
          for (var E = 0; E < C.length; E++)
              if (F == C[E] && X != "inherit")
                  n[C[E]] = X
      }
  }
  ;
  iz.d7 = function(n) {
      var z = n.getAttribute("xlink:href");
      if (z == null)
          z = n.getAttribute("href");
      if (z == null)
          z = n.getAttribute("xl:href");
      return z
  }
  ;
  iz.zn = function(n, z, C, D) {
    debugger;
      var F = iz
        , X = new b6
        , E = z.getAttribute("gradientTransform");
      if (E)
          X = F.Av(E);
      X.concat(C);
      var f = JSON.parse(g$.g$[g$.order.indexOf("GrFl")])
        , a = f.Grad.v;
      a.Intr.v = 0;
      var q = z.tagName
        , c = new ir(0,0)
        , K = new ir(D.d,0);
      if (q == "linearGradient") {
          f.Type.v.GrdT = "Lnr";
          if (z.getAttribute("x1"))
              c.x = parseFloat(z.getAttribute("x1"));
          if (z.getAttribute("y1"))
              c.y = parseFloat(z.getAttribute("y1"));
          if (z.getAttribute("x2"))
              K.x = parseFloat(z.getAttribute("x2"));
          if (z.getAttribute("y2"))
              K.y = parseFloat(z.getAttribute("y2"));
          c.x = K.x + .5 * (c.x - K.x);
          c.y = K.y + .5 * (c.y - K.y)
      }
      if (q == "radialGradient") {
          f.Type.v.GrdT = "Rdl";
          if (z.getAttribute("cx"))
              c.x = parseFloat(z.getAttribute("cx"));
          if (z.getAttribute("cy"))
              c.y = parseFloat(z.getAttribute("cy"));
          K.oS(c.x, c.y);
          if (z.getAttribute("r"))
              K.x += parseFloat(z.getAttribute("r"))
      }
      if (z.getAttribute("gradientUnits") == "userSpaceOnUse") {
          c = X.JT(c);
          K = X.JT(K)
      } else {
          c.x = D.x + c.x * D.d;
          c.y = D.y + c.y * D.v;
          K.x = D.x + K.x * D.d;
          K.y = D.y + K.y * D.v
      }
      j._.a9(c, K, D, f);
      var R = z.children;
      if (R.length == 0) {
          var J = F.d7(z);
          if (J == null)
              throw "gradient has no stops";
          var w = n.getElementById(J.slice(1));
          if (w == null) {
              console.log(J.slice(1));
              throw "e"
          }
          var p = F.zn(n, w, X, D);
          f.Grad = p.Grad
      } else {
          var I = [];
          for (var M = 0; M < R.length; M++) {
              var m = R[M]
                , A = F.M8(m)
                , U = A["stop-color"]
                , r = A["stop-opacity"]
                , $ = m.getAttribute("offset");
              if (U == null)
                  U = "#000000";
              if (r == null)
                  r = "1";
              var k = $ ? parseFloat($) : 0;
              U = CSS.yP(U);
              I.push([k, [U.h / 255, U.Q / 255, U.O / 255], parseFloat(r)])
          }
          j._.sb(I, a)
      }
      return f
  }
  ;
  iz.h$ = function(n, z, C) {
      var D = []
        , F = iz;
      F.eO = z.an4 ? "\t" : "";
      var X = z.a3T
        , E = z.a8N;
      D.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 " + n.d + " " + n.v + "\" width=\"" + X + "\" height=\"" + E + "\">");
      var f = {
          Hr: [],
          Fe: [],
          rr: 0,
          ZV: 0,
          mN: 0,
          vG: {},
          af: {},
          u1: 0,
          lc: {},
          Fv: {},
          BH: 0,
          E_: []
      };
      iz.v0(n, f, n.root.children, 1, z, C);
      if (f.Hr.length != 0) {
          D.push(F.v3(1) + "<defs>");
          D = D.concat(f.Hr);
          D.push(F.v3(1) + "</defs>")
      }
      D.push(F.v3(1) + "<style>");
      D.push(F.v3(2) + "tspan { white-space:pre }");
      for (var a in f.lc)
          D.push(F.v3(2) + "." + a + " { " + f.lc[a] + " } ");
      D.push(F.v3(1) + "</style>");
      D = D.concat(f.Fe);
      D.push("</svg>");
      D = D.join(z.an4 ? "\n" : "");
      var q = j.T(Math.round(D.length * 1.5))
        , c = T.w4(D, q, 0);
      if (F.eT) {
          console.log(F.eT);
          var K = "SVGParser.gen.db = [\n";
          for (var M = 0; M < F.eT.length; M++) {
              var R = F.eT[M];
              K += "{\n\tnam: \"" + R.L9 + "\",\n\tpts: [\n";
              for (var J = 0; J < R.JS.length; J++) {
                  var w = R.JS[J];
                  K += "\t\t[\"" + w[0] + "\", { cmds: " + JSON.stringify(w[1].I) + ", crds:" + JSON.stringify(w[1].U) + " } ]" + (J == R.JS.length - 1 ? "" : ",") + "\n"
              }
              K += "\t]\n}" + (M == F.eT.length - 1 ? "" : ",") + "\n"
          }
          K += "]\n";
          console.log(K)
      }
      return q.buffer.slice(0, c)
  }
  ;
  iz.eO = "";
  iz.v3 = function(h) {
      var n = "";
      for (var M = 0; M < h; M++)
          n += iz.eO;
      return n
  }
  ;
  iz.Ki = function(h) {
      return "" + parseFloat(h.toFixed(3))
  }
  ;
  iz.v0 = function(n, z, C, D, F, X) {
      var E = iz;
      for (var f = 0; f < C.length; f++) {
          var a = C[f].b
            , q = a.add.lsct
            , c = a.add.vmsk
            , K = a.add.vstk
            , R = a.add.TySh;
          if (c && !c.isEnabled)
              c = K = null;
          var J = [];
          if (!F.hidden && !a.y_())
              continue;
          var w = a.opacity / 255
            , p = a.add.iOpa ? a.add.iOpa / 255 : 1;
          if (w != 1)
              J.push("opacity: " + E.Ki(w));
          if (p != 1)
              J.push("fill-opacity: " + E.Ki(p));
          if (a.Gx != "norm") {
              var I = hr.rl[hr.Un.indexOf(a.Gx)];
              if (I != null)
                  J.push("mix-blend-mode: " + I)
          }
          if (!a.y_())
              J.push("display: none");
          var m = []
            , A = []
            , U = a.getName()
            , r = U.indexOf(" .");
          if (r != -1) {
              A.push(U.slice(r + 2));
              U = U.slice(0, r)
          }
          if (F.names)
              m.push("id=\"" + E.Z5(U) + "\"");
          var $ = a.add.lmfx;
          if ($)
              $ = $.solidFillMulti.v[0];
          if ($)
              $ = $.v;
          if ($ && !$.enab.v)
              $ = null;
          if (a.d4()) {
              var k = C[f].children;
              if (!(k.length == 1 && k[0].b.add.SoLd && !F.Rl)) {
                  if (E.eT && a.getName().split("-").length == 3) {
                      E.eT.push({
                          L9: a.getName(),
                          Rs: 0,
                          JS: []
                      })
                  }
                  iz.ti(a, c, z, m);
                  if (J.length != 0)
                      m.push("style=\"" + J.join(";") + "\"");
                  z.Fe.push(E.v3(D) + "<g " + E.vh(m, A) + ">");
                  E.v0(n, z, k, D + 1, F, X);
                  z.Fe.push(E.v3(D) + "</g>")
              }
          } else if (a.Ct() && c == null) {
              var G = new cc(0,0,n.d,n.v);
              E.Hn(J, a.add, z, G);
              if (J.length != 0)
                  m.push("style=\"" + J.join(";") + "\"");
              z.Fe.push(E.v3(D) + "<rect width=\"" + n.d + "\" height=\"" + n.v + "\" " + E.vh(m, A) + " />")
          } else if (c && a.add.SoLd == null) {
              var G = j.i.Rb(c.g, null, !0)
                , i = j.i.rX(c.g);
              if (i.pK != 0) {
                  m.push("fill-rule=\"evenodd\"")
              }
              var o = i.a2r;
              E.Hn(J, a.add, z, G);
              if (J.length != 0) {
                  var S = J.join(";")
                    , H = z.Fv[S];
                  if (H == null) {
                      H = "shp" + z.BH;
                      z.BH++;
                      z.Fv[S] = H;
                      z.lc[H] = S
                  }
                  A.push(H)
              }
              z.Fe.push(E.v3(D) + "<path " + E.vh(m, A) + " d=\"" + o + "\" />");
              if (E.eT && E.eT[E.eT.length - 1]) {
                  var e = j.K.Gi(c.g);
                  e.U = e.U.map(Math.round);
                  var V = E.eT[E.eT.length - 1];
                  V.Rs += JSON.stringify(e).length;
                  V.JS.push([J[0].split("#").pop(), e])
              }
          } else if (R && F.a6P) {
              var v = R.uR
                , B = new fL(v,X);
              if ($)
                  m.push("fill=\"" + CSS.$e($.Clr.v) + "\"");
              var Z = iW.tF(B, R)
                , d = j.K.jQ(Z);
              for (var g in d) {
                  if ($ == null)
                      m.push("fill=\"" + g + "\"");
                  var Y = d[g]
                    , o = Typr.U.pathToSVG({
                      crds: Y.U,
                      cmds: Y.I
                  }, 2);
                  z.Fe.push(E.v3(D) + "<path " + E.vh(m, A) + " " + E.$t(R) + " d=\"" + o + "\" />");
                  if ($ == null)
                      m.pop()
              }
          } else if (R && !F.anJ) {
              var v = R.uR
                , L = R.Z.clone()
                , P = 0
                , aF = 0;
              if (bZ.wT(v) == 1) {
                  var _ = bZ.jj(v, 0, 0).t_.Justification
                    , b = 0
                    , x = bZ.w$(v)[2];
                  if (_ == 2)
                      b = x / 2;
                  if (_ == 1)
                      b = x;
                  L.translate(b, 0)
              }
              J.push("transform: " + E.wp(L));
              var W = bZ.T5(v)
                , g6 = v.EngineDict.ParagraphRun
                , fY = g6.RunArray
                , f3 = g6.RunLengthArray;
              if (J.length != 0)
                  m.push("style=\"" + J.join(";") + "\"");
              z.Fe.push(E.v3(D) + "<text " + E.vh(m, A) + " >");
              var hK = a.add.lmfx;
              if (hK)
                  hK = hK.frameFXMulti.v[0];
              if (hK)
                  hK = hK.v;
              var s = $ ? CSS.$e($.Clr.v) : null;
              for (var M = 0; M < fY.length; M++) {
                  var fM = []
                    , eA = f3[M]
                    , e8 = W.slice(P, P + eA - 1)
                    , eC = bZ.jj(v, P, P)
                    , cy = eC.qR[eC.I$.Font].Name;
                  if (z.E_.indexOf(cy) == -1)
                      z.E_.push(cy);
                  CSS.$J(fM, eC, R.Z, !0, !0, s);
                  if (hK) {
                      J.push("stroke: " + CSS.$e(hK.Clr.v));
                      J.push("stroke-width: " + hK.Sz.v.val)
                  }
                  var aX = eC.I$.FontSize * 1.12;
                  if (M == 0)
                      aX = bZ.wT(v) == 0 ? 0 : eC.I$.FontSize;
                  aF += aX;
                  if (e8 != "") {
                      var S = fM.join(";")
                        , H = z.Fv[S]
                        , aT = "";
                      if (H == null) {
                          H = "txt" + z.BH;
                          z.BH++;
                          z.Fv[S] = H;
                          z.lc[H] = S
                      }
                      var j0 = eC.I$.Tracking;
                      if (j0 != null && j0 != 0) {
                          j0 = Math.round(j0 * eC.I$.FontSize / 1e3);
                          aT = " dx=\"0";
                          for (var a4 = 1; a4 < e8.length; a4++)
                              aT += " " + j0;
                          aT += "\" "
                      }
                      z.Fe.push(E.v3(D + 1) + "<tspan x=\"0\" y=\"" + E.Ki(aF) + "\" class=\"" + H + "\"" + aT + ">" + E.Z5(e8) + "</tspan>")
                  }
                  P += eA
              }
              z.Fe.push(E.v3(D) + "</text>")
          } else if (a.add.SoLd && F.Rl) {
              var f8 = a.add.SoLd
                , b3 = f8.Idnt.v
                , gh = 0
                , cZ = f8.Crop ? f8.Crop.v : null;
              if (z.af[b3] != null)
                  gh = z.af[b3];
              else {
                  z.u1++;
                  gh = z.u1;
                  z.af[b3] = z.u1;
                  var h3 = n.bG(b3, cZ)
                    , fx = "";
                  if (h3 == null)
                      return;
                  var ew = h3.qY
                    , dy = fC.Nj(h3.raw.buffer);
                  if (dy == "pdf") {
                      var bo = new b$("h");
                      fC.ET("PDF").c3(h3.raw.buffer, bo);
                      bo.j7();
                      bo.YE();
                      bo.J();
                      bo.h1();
                      if (f8.Crop && f8.Crop.v == 1) {
                          O.Xf.r1(bo, bo.root.Td(bo, !0))
                      }
                      var hd = fC.ET("SVG").c0(bo, bo.d, bo.v, null, {
                          E_: X
                      });
                      fx = "data:image/svg+xml;base64," + fC.hB(hd)
                  } else if (dy == "jpg" || dy == "png" || dy == "gif" || dy == "svg") {
                      var gT = {
                          jpg: "image/jpg",
                          png: "image/png",
                          jpg: "image/jpg",
                          svg: "image/svg+xml"
                      };
                      fx = "data:" + gT[dy] + ";base64," + fC.hB(h3.raw.buffer)
                  } else {
                      fx = fC.J0(ew[0].buffer, ew[1].d, ew[1].v)
                  }
                  z.Hr.push(E.v3(2) + "<image width=\"" + ew[1].d + "\" height=\"" + ew[1].v + "\" id=\"img" + gh + "\" href=\"" + fx + "\"/>")
              }
              var du = j.V.ui(f8)
                , bk = [];
              iz.ti(a, c, z, bk);
              if (bk.length != 0)
                  z.Fe.push(E.v3(D) + "<g " + E.vh(bk, A) + ">");
              if (J.length != 0)
                  m.push("style=\"" + J.join(";") + "\"");
              var i8 = E.vh(m, A);
              z.Fe.push(E.v3(D) + "<use " + i8 + " href=\"#img" + gh + "\" transform=\"" + E.wp(du) + "\"/>");
              if (bk.length != 0)
                  z.Fe.push(E.v3(D) + "</g>")
          } else if (!a.rect.kX() && (F.Rl || R)) {
              if (J.length != 0)
                  m.push("style=\"" + J.join(";") + "\"");
              var i8 = E.vh(m, A)
                , en = a.buffer;
              if ($)
                  en = fg.Cr(en, $, a.rect);
              var dW = a.rect;
              z.u1++;
              var fx = fC.J0(en.buffer, dW.d, dW.v, "png", null, !0);
              z.Hr.push(E.v3(2) + "<image " + E.$t(R) + " width=\"" + a.rect.d + "\" height=\"" + a.rect.v + "\" id=\"img" + z.u1 + "\" href=\"" + fx + "\"/>");
              z.Fe.push(E.v3(D) + "<use " + i8 + " href=\"#img" + z.u1 + "\" x=\"" + dW.x + "\" y=\"" + dW.y + "\" />")
          }
      }
  }
  ;
  iz.$t = function(n) {
      if (n == null)
          return "";
      var z = n.uR
        , C = bZ.T5(z);
      C = C.slice(0, C.length - 1).replace(/"/g, "&quot;");
      return "aria-label=\"" + C + "\" "
  }
  ;
  iz.vh = function(n, z) {
      if (z.length != 0)
          n.push("class=\"" + z.join(" ") + "\"");
      return n.join(" ")
  }
  ;
  iz.Z5 = function(n) {
      return String(n).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\u0022/g, "&quot;")
  }
  ;
  iz.wp = function(n) {
      var z = [n.nb, n.O, n.KV, n.qc, n.H1, n.Wv].map(iz.Ki);
      return "matrix(" + z.join(",") + ")"
  }
  ;
  iz.ti = function(n, z, C, D) {
      var F = iz;
      if (z || n.add.artb) {
          var X;
          if (z)
              X = j.i.rX(z.g).a2r;
          else {
              var E = n.qJ()
                , f = j.K.YQ(E);
              X = Typr.U.pathToSVG({
                  crds: f.U,
                  cmds: f.I
              }, 2)
          }
          C.mN++;
          D.push("clip-path=\"url(#cp" + C.mN + ")\"");
          C.Hr.push(F.v3(2) + "<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp" + C.mN + "\">");
          C.Hr.push(F.v3(3) + "<path d=\"" + X + "\" />");
          C.Hr.push(F.v3(2) + "</clipPath>")
      }
  }
  ;
  iz.Hn = function(n, z, C, D) {
      var F = iz
        , X = z.vstk
        , E = z.vmsk
        , f = z.lmfx;
      if (E && E.PJ != 0) {
          var a = F.Ki(E.PJ);
          if (C.vG[a] == null) {
              C.ZV++;
              C.vG[a] = C.ZV;
              C.Hr.push(F.v3(2) + "<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt" + C.ZV + "\"> <feGaussianBlur stdDeviation=\"" + a + "\" /> </filter>")
          }
          n.push("filter: url(#flt" + C.vG[a] + ")")
      }
      var q = fg.ds(f, z)
        , c = q[0]
        , K = q[1];
      if (X && !X.fillEnabled.v)
          n.push("fill: none");
      else if (c) {
          var R = CSS.$e(c.Clr.v);
          n.push("fill: " + R)
      } else if (K) {
          F.l2(K, C, D);
          n.push("fill: url(#grd" + C.rr + ")")
      }
      if (X == null || !X.strokeEnabled.v)
          X = fg.Bc(f);
      if (X && X.strokeEnabled.v) {
          var J = X.strokeStyleContent.v
            , w = J.classID;
          if (w == "solidColorLayer")
              n.push("stroke: " + CSS.$e(J.Clr.v));
          else {
              F.l2(J, C, D);
              n.push("stroke: url(#grd" + C.rr + ")")
          }
          var p = g$.Bt.BB.indexOf(X.strokeStyleLineCapType.v.strokeStyleLineCapType)
            , I = g$.Bt.join.indexOf(X.strokeStyleLineJoinType.v.strokeStyleLineJoinType)
            , m = X.strokeStyleOpacity.v.val / 100
            , A = X.strokeStyleLineWidth.v.val
            , U = g$.Bt.pA.indexOf(X.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
          if (U == 2) {
              A *= 2;
              n.push("paint-order:stroke fill markers")
          }
          var r = X.strokeStyleLineDashSet.v
            , $ = [];
          for (var M = 0; M < r.length; M++)
              $.push(Math.round(r[M].v.val * A));
          if (p != 0)
              n.push("stroke-linecap:" + ["butt", "round", "square"][p]);
          if (I != 0)
              n.push("stroke-linejoin:" + ["miter", "round", "bevel"][I]);
          if (m != 1)
              n.push("stroke-opacity:" + F.Ki(m));
          if (A != 1)
              n.push("stroke-width: " + F.Ki(A));
          if ($.length != 0)
              n.push("stroke-dasharray: " + $.join(","))
      }
  }
  ;
  iz.l2 = function(n, z, C) {
    debugger
      z.rr++;
      var D = iz
        , F = n.Grad.v
        , X = JSON.parse(JSON.stringify(F.Clrs.v))
        , E = JSON.parse(JSON.stringify(F.Trns.v))
        , f = n.Ofst.v
        , a = n.Type.v.GrdT
        , q = a == "Rdl" ? 1 : 0
        , c = (q == 1 ? "radial" : "linear") + "Gradient"
        , K = j._.mu(n, C);
      if (q == 0) {
          K[0].x = K[1].x + 2 * (K[0].x - K[1].x);
          K[0].y = K[1].y + 2 * (K[0].y - K[1].y)
      }
      var R = D.v3(2) + "<" + c + " id=\"grd" + z.rr + "\" gradientUnits=\"userSpaceOnUse\" ";
      if (q == 0)
          z.Hr.push(R + " x1=\"" + D.Ki(K[0].x) + "\" y1=\"" + D.Ki(K[0].y) + "\" x2=\"" + D.Ki(K[1].x) + "\" y2=\"" + D.Ki(K[1].y) + "\">");
      if (q == 1)
          z.Hr.push(R + " cx=\"" + D.Ki(K[0].x) + "\" cy=\"" + D.Ki(K[0].y) + "\" r=\"" + D.Ki(ir.gn(K[0], K[1])) + "\">");
      if (a == "Rflc") {
          for (var J = 0; J < 2; J++) {
              var w = J == 0 ? X : E;
              for (var M = w.length - 1; M >= 0; M--) {
                  var p = w[M];
                  p.v.Lctn.v = 2048 + (p.v.Lctn.v >>> 1);
                  var I = JSON.parse(JSON.stringify(p));
                  I.v.Lctn.v = 4096 - I.v.Lctn.v;
                  w.push(I)
              }
              w.sort(function($, k) {
                  return $.v.Lctn.v - k.v.Lctn.v
              })
          }
      }
      var m = n.Rvrs.v;
      if (m) {
          X.reverse();
          E.reverse()
      }
      for (var M = 0; M < X.length; M++) {
          var A = X[M].v
            , U = M < E.length ? E[M].v.Opct.v.val / 100 : 1
            , U = U == 1 ? "" : "stop-opacity=\"" + D.Ki(U) + "\""
            , r = A.Lctn.v / 4096;
          if (m)
              r = 1 - r;
          z.Hr.push(D.v3(3) + "<stop offset=\"" + D.Ki(r) + "\" stop-color=\"" + CSS.$e(A.Clr.v) + "\" " + U + " />")
      }
      z.Hr.push(D.v3(2) + "</" + c + ">")
  }
  ;
  iz.Ey = function(n, z, C, D, F) {
      var X = []
        , E = iz.Ey
        , f = !1
        , a = {
          ob: n,
          ua: z,
          Ft: [!0, !0, !0],
          hh: !1,
          Kd: C,
          aos: 0
      };
      a.nN = Math.round(Math.max(n, z) * (.02 + E.QU(a) * .03));
      a.XV = E.aoA(a);
      a.sA = E.aaS(a.XV, (E.QU(a) < .5 ? -1 : 1) * (.2 + E.QU(a) * .3));
      if (E.QU(a) < .5) {
          var q = a.XV;
          a.XV = a.sA;
          a.sA = q
      }
      a.ahU = E.QU(a) < .4 && E.a83(a.sA, {
          h: 1,
          Q: 1,
          O: 1
      }) > .3;
      a.a2$ = E.QU(a) < .5 ? 0 : 1;
      X.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 " + n + " " + z + "\" width=\"" + n + "\" height=\"" + z + "\">");
      a.VO = D[Math.floor(E.Of(a) * D.length)];
      a.LV = D[Math.floor(E.Of(a) * D.length)];
      X.push("<style>");
      X.push("@font-face {  font-family: " + a.VO[2] + ";  src: url(rsrc/fonts/" + a.VO[5] + ");  }");
      X.push("@font-face {  font-family: " + a.LV[2] + ";  src: url(rsrc/fonts/" + a.LV[5] + ");  }");
      X.push("</style>");
      var c = [0, 0, n, z]
        , K = c;
      if (F == null)
          X.push("<path style=\"fill: " + E.cE(a.XV) + "\" d=\"" + E.Rect(c[0], c[1], c[2] - c[0], c[3] - c[1]) + "\" id=\"Background\" />");
      else {
          a.hh = !0;
          E.yI(a, c, X, F)
      }
      if (E.QU(a) < .25 && !a.hh) {
          a.Ft[0] = a.Ft[2] = !1;
          E.a1F(c, a, X);
          K = c
      } else if (E.QU(a) < .25 || a.hh)
          K = c;
      else {
          var R = .52 + E.QU(a) * .2;
          if (E.QU(a) < .5)
              R = 1 - R;
          var J = c.slice(0)
            , w = c.slice(0);
          if (E.QU(a) < .5)
              J[2] = w[0] = Math.round(R * n);
          else
              J[3] = w[1] = Math.round(R * z);
          if (E.QU(a) < .5) {
              var q = J;
              J = w;
              w = q
          }
          K = J;
          E.a8V(a, w, X, F)
      }
      E.a57(a, K, X);
      X.push("</svg>");
      X = X.join("\n");
      var p = j.T(Math.round(X.length * 1.5))
        , I = T.w4(X, p, 0);
      return [p.buffer.slice(0, I), a.$f]
  }
  ;
  iz.Ey.a1F = function(n, z, C) {
      var D = iz.Ey
        , F = n[2] - n[0]
        , X = n[3] - n[1];
      if (D.QU(z) < .5) {
          C.push("<path id=\"Border\" style=\"fill: " + D.cE(z.sA) + "\" d=\"" + D.afG(n[0], n[1], n[2] - n[0], n[3] - n[1], z.nN) + "\" />")
      } else if (D.QU(z) < -.4) {
          D.ajJ(z, n, C)
      } else {
          var E = D.QU(z) < .5 ? 0 : 1
            , f = (E == 0 ? X : F) / 4
            , a = D.Z1(z, E, n, C, f, !0)
            , a = D.Z1(z, E + 2, n, C, f, !0, a)
      }
  }
  ;
  iz.Ey.a57 = function(n, z, C) {
      var D = iz.Ey
        , F = "Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-")
        , X = 2 * Math.floor(D.QU(n) * F.length / 2)
        , E = z[2] - z[0]
        , f = z[3] - z[1]
        , q = 0
        , K = 0;
      n.N4 = (n.ob + E) * .5 * (.04 + D.QU(n) * .05);
      n.N4 = Math.min(n.N4, f * .4, E * .12);
      n.N4 = Math.round(n.N4);
      var a = Math.min(n.N4 * F[X].length * (.35 + .3 * D.QU(n)), E * .9)
        , c = (z[1] + z[3]) / 2
        , R = j.xj(n.XV) < .85 ? {
          h: 1,
          Q: 1,
          O: 1
      } : {
          h: .1,
          Q: .1,
          O: .1
      };
      if (D.QU(n) < .25 && n.Ft[0]) {
          K = 0;
          q = z[0] + n.nN
      } else if (D.QU(n) < .33 && n.Ft[2]) {
          K = 2;
          q = z[2] - n.nN
      } else {
          K = 1;
          q = (z[0] + z[2]) / 2
      }
      var J = R.h == 1 ? "0,0,0" : "255,255,255"
        , w = n.hh && D.QU(n) < 1;
      if (w) {
          var p = z[0]
            , I = E
            , m = c - n.N4 * 1.1
            , A = n.N4 * 2.2
            , U = .7;
          if (K == 1 && D.QU(n) < .5) {
              p = m = .2 * Math.min(E, f);
              I = E - 2 * m;
              A = f - m - m
          } else if (D.QU(n) < .7) {
              p = m = 0;
              I = E;
              A = f;
              U = .25
          }
          C.push("<path id=\"Strip\" style=\"fill: rgb(" + J + "); opacity: " + U + "\" d=\"" + D.Rect(p, m, I, A) + "\" />")
      }
      if (D.QU(n) < .4) {
          var r = n.N4 * .07;
          r *= 1.5 + D.QU(n) * 1;
          if (K == -1 && E / f < 3 && !w) {
              C.push("<path id=\"Bar-bottom\" style=\"fill: " + D.cE(R) + "\" d=\"" + D.Rect(q - a / 2, c + n.N4 * 1.1 - r / 2, a, r) + "\" />");
              C.push("<path id=\"Bar-top\"    style=\"fill: " + D.cE(R) + "\" d=\"" + D.Rect(q - a / 2, c - n.N4 * 1.1 - r / 2, a, r) + "\" />")
          }
          if (K != 1) {
              C.push("<path id=\"Bar\" style=\"fill: " + D.cE(R) + "\" d=\"" + D.Rect(q - r / 2, c - n.N4 * .8, r, n.N4 * .8 * 2) + "\" />");
              q += (K == 0 ? 1 : -1) * n.N4 / 3
          }
      }
      var $ = n.N4 * .4;
      C.push(D.GG(F[X + 1], q, c + $ * 1.6, $, R, K, n.LV));
      C.push(D.GG(F[X], q, c + n.N4 * .04, n.N4, R, K, n.VO))
  }
  ;
  iz.Ey.a8V = function(n, z, C, D) {
      var F = z[2] - z[0]
        , X = z[3] - z[1]
        , E = Math.max(F, X)
        , f = Math.min(F, X)
        , a = iz.Ey;
      if (E / f < 5 && !n.hh && !1) {
          a.yI(n, z, C, D)
      } else if (a.QU(n) < 0)
          C.push("<path style=\"fill: " + a.cE(n.sA) + "\" d=\"" + a.Rect(z[0], z[1], F, X) + "\" />");
      else {
          var q = 0;
          if (z[3] != n.ua)
              q = 0;
          if (z[2] != n.ob)
              q = 3;
          if (z[0] != 0)
              q = 1;
          if (z[1] != 0)
              q = 2;
          var c = q + 2 & 3;
          if (E / f < 3) {
              var K = a.a1s(c)
                , R = K[Math.round(a.QU(n) * (K.length - 1))]
                , J = R.L9.slice(0, 4)
                , w = J.indexOf(1);
              R = JSON.parse(JSON.stringify(R));
              var p = -1;
              if (J != "0000") {
                  var I = new b6;
                  if (R.L9[5] == "0") {
                      if (w == 3 && q == 1) {
                          p = 1;
                          I.scale(-1, 1)
                      } else
                          p = w
                  } else {
                      var m = c;
                      while (m == c)
                          m = Math.floor(a.QU(n) * 4) & 3;
                      I.rotate((-w + m) * Math.PI / 2)
                  }
                  a.Z(R, I)
              }
              var A = a.AN(R)
                , U = F - 2 * n.nN
                , r = X - 2 * n.nN;
              if (p != -1) {
                  if ((p & 1) == 0)
                      r -= n.nN;
                  else
                      U -= n.nN
              }
              var $ = Math.min(U / A.d, r / A.v)
                , k = new b6;
              k.translate(-A.x, -A.y);
              k.scale($, $);
              var G = (F - A.d * $) / 2
                , i = (X - A.v * $) / 2;
              if (p != -1) {
                  if (p == 3)
                      G = 0;
                  if (p == 0)
                      i = 0;
                  if (p == 1)
                      G = F - A.d * $;
                  if (p == 2)
                      i = X - A.v * $
              }
              k.translate(z[0] + G, z[1] + i);
              a.oE(n, R, k, n.sA, C)
          } else {
              a.Z1(n, q, z, C, 1e9)
          }
      }
  }
  ;
  iz.Ey.yI = function(n, z, C, D) {
      var F = z[2] - z[0], X = z[3] - z[1], E = Math.max(F, X), f = Math.min(F, X), a = iz.Ey, q = a.Of(n), c, K, R, J = D[0]instanceof ArrayBuffer;
      if (J) {
          c = "data:image/jpg;base64," + di.WN(D[0]);
          K = D[1];
          R = D[2]
      } else {
          var w = Math.floor(q * D.length)
            , p = D[w];
          n.$f = p;
          c = p.webformatURL;
          K = p.webformatWidth;
          R = p.webformatHeight
      }
      var I = z[0]
        , m = z[1]
        , A = F
        , U = X;
      if (F / X > K / R) {
          U = A * R / K;
          m = m - (U - X) / 2
      } else {
          A = U * K / R;
          I = I - (A - F) / 2
      }
      if (J) {
          C.push("<defs>");
          C.push("<image width=\"" + K + "\" height=\"" + R + "\" id=\"Background\" href=\"" + c + "\" />");
          C.push("</defs>");
          var r = A / K;
          C.push("<use href=\"#Background\" transform=\"" + iz.wp(new b6(r,0,0,r,I,m)) + "\" />")
      } else {
          var $ = "cp" + Math.random();
          C.push("<clipPath id=\"" + $ + "\">");
          C.push("<path style=\"fill: " + a.cE(n.sA) + "\" d=\"" + a.Rect(z[0], z[1], F, X) + "\" />");
          C.push("</clipPath>");
          C.push("<image  clip-path=\"url(#" + $ + ")\" xlink:href=\"" + c + "\" x=\"" + I + "\" y=\"" + m + "\" width=\"" + A + "\" height=\"" + U + "\" />")
      }
  }
  ;
  iz.Ey.GG = function(n, z, C, D, F, X, E) {
      var f = iz.Ey;
      return "<text x=\"" + z + "\" y=\"" + C + "\" style=\"fill:" + f.cE(F) + "; font-size:" + D + "px; text-anchor:" + ["start", "middle", "end"][X] + "; font-family:" + E[2] + ";\"><tspan>" + n + "</tspan></text>"
  }
  ;
  iz.Ey.oE = function(n, z, C, D, F) {
      var X = iz.Ey
        , E = [];
      for (var M = 0; M < z.JS.length; M++) {
          E.push(D);
          if (n.ahU) {
              D = (M & 1) == n.a2$ ? {
                  h: 1,
                  Q: 1,
                  O: 1
              } : E[0]
          }
      }
      F.push("<g id=\"" + z.L9.split("-")[2] + ":::\" style=\"transform: " + iz.wp(C) + ";\" >");
      for (var M = 0; M < z.JS.length; M++) {
          var f = z.JS[M];
          D = E.pop();
          F.push("<path style=\"fill: " + (D ? X.cE(D) : "#" + f[0]) + "\" d=\"" + Typr.U.pathToSVG({
              crds: f[1].U,
              cmds: f[1].I
          }) + "\" />")
      }
      F.push("</g>")
  }
  ;
  iz.Ey.ajJ = function(n, z, C) {
      var D = iz.Ey
        , F = iz.Ey.em
        , X = [];
      for (var M = 0; M < F.length; M++) {
          var E = F[M]
            , f = E.L9.slice(0, 4);
          if (f != "1001")
              continue;
          X.push(E)
      }
      var E = X[Math.floor(D.QU(n) * X.length)];
      if (D.QU(n) < .5)
          D.Z(E, new b6(0,1,1,0,0,0));
      var a = z[3] - z[1]
        , q = z[2] - z[0]
        , c = D.AN(E)
        , K = .7 * Math.min(q, a, .5 * Math.max(q, a)) / Math.max(c.d, c.v)
        , R = new b6;
      R.scale(K, K);
      if (D.QU(n) < .5) {
          R.scale(1, -1);
          R.translate(0, a)
      }
      D.oE(n, E, R, n.sA, C);
      R.rotate(Math.PI);
      R.translate(q, a);
      D.oE(n, E, R, n.sA, C)
  }
  ;
  iz.Ey.a1s = function(n) {
      var z = iz.Ey.em
        , C = [];
      for (var M = 0; M < z.length; M++) {
          var D = z[M]
            , F = D.L9.slice(0, 4);
          if (F == "0000") {
              C.push(D);
              continue
          }
          if (["1000", "0100", "0010", "0001"].indexOf(F) == -1)
              continue;
          var X = F.indexOf("1");
          if (D.L9[5] == "0" && n == X && X != 3)
              continue;
          C.push(D)
      }
      return C
  }
  ;
  iz.Ey.Z1 = function(n, z, C, D, F, X, E) {
      var f = iz.Ey.em, a = iz.Ey, q = [], A, U;
      for (var M = 0; M < f.length; M++) {
          var c = f[M]
            , K = c.L9.slice(0, 4);
          if (["1110", "1101", "1011", "0111"].indexOf(K) == -1)
              continue;
          var R = K.indexOf("0") + 2 & 3;
          if (c.L9[5] == "0")
              if (X == !0 || z != R && !(z == 1 && R == 3))
                  continue;
          q.push(c)
      }
      var J = E != null ? E : Math.floor(a.QU(n) * q.length)
        , c = q[J]
        , c = JSON.parse(JSON.stringify(c))
        , K = c.L9.slice(0, 4)
        , R = K.indexOf("0") + 2 & 3;
      if (R == 3 && z == 1)
          j.Z(c, new b6(1,0,0,-1,0,1e3));
      var w = new b6;
      w.translate(-500, -500);
      w.rotate(-R * Math.PI / 2);
      w.translate(500, 500);
      a.Z(c, w);
      var p = C[3] - C[1]
        , I = C[2] - C[0]
        , m = a.AN(c);
      if (m.y < 0) {
          m.v += m.y;
          m.y = 0
      }
      if (m.y > 0) {
          m.v += m.y;
          m.y = 0
      }
      if ((z & 1) == 0) {
          U = p;
          A = I
      } else {
          A = p;
          U = I
      }
      var r = Math.min(Math.min(.5 + .5 * a.QU(n)) * Math.min(I, p), F) / m.v
        , $ = Math.ceil(A / (1e3 * r))
        , k = new b6
        , G = new b6;
      G.scale(r, r);
      if (z == 0 || z == 2) {
          G.translate(-(I / 2), -(p / 2));
          G.rotate(-z * Math.PI / 2);
          G.translate(I / 2 + C[0], p / 2 + C[1])
      } else {
          G.rotate(Math.PI / 2);
          G.scale(1, -1);
          G.translate(C[0], C[1]);
          if (z == 1) {
              G.scale(-1, 1);
              G.translate(I, 0)
          }
      }
      D.push("<g id=\"Border-" + ["top", "right", "bottom", "left"][z] + ":::\">");
      for (var M = 0; M < $; M++) {
          var i = k.clone();
          i.concat(G);
          a.oE(n, c, i, n.sA, D);
          k.translate(1e3 - 2, 0)
      }
      D.push("</g>");
      return J
  }
  ;
  iz.Ey.Rect = function(n, z, C, D) {
      return Typr.U.pathToSVG({
          crds: [n, z, n + C, z, n + C, z + D, n, z + D],
          cmds: ["M", "L", "L", "L", "Z"]
      })
  }
  ;
  iz.Ey.afG = function(n, z, C, D, F) {
      var X = [n, z, n + C, z, n + C, z + D, n, z + D];
      n += F;
      z += F;
      C -= 2 * F;
      D -= 2 * F;
      X.push(n, z, n, z + D, n + C, z + D, n + C, z);
      return Typr.U.pathToSVG({
          crds: X,
          cmds: "M L L L Z M L L L Z".split(" ")
      })
  }
  ;
  iz.Ey.aaS = function(n, z) {
      var C = j.vu(n.h, n.Q, n.O);
      C.rN = Math.max(.1, Math.min(.9, C.rN + z));
      return j.QX(C.ua, C.ZP, C.rN)
  }
  ;
  iz.Ey.aiR = function(n, z) {
      var C = j.vu(n.h, n.Q, n.O);
      C.ua += z;
      return j.QX(C.ua, C.ZP, C.rN)
  }
  ;
  iz.Ey.aoR = function(n) {
      var z = j.vu(n.h, n.Q, n.O);
      z.rN = 1 - z.rN;
      return j.QX(z.ua, z.ZP, z.rN)
  }
  ;
  iz.Ey.a83 = function(n, z) {
      var C = n.h - z.h
        , D = n.Q - z.Q
        , F = n.O - z.O;
      return Math.sqrt(C * C + D * D + F * F)
  }
  ;
  iz.Ey.aoA = function(n) {
      var z = iz.Ey;
      return {
          h: z.QU(n),
          Q: z.QU(n),
          O: z.QU(n)
      }
  }
  ;
  iz.Ey.cE = function(n) {
      return CSS.mk({
          h: n.h * 255,
          Q: n.Q * 255,
          O: n.O * 255
      })
  }
  ;
  iz.Ey.AN = function(n) {
      var z = n.JS
        , C = new cc;
      for (var M = 0; M < z.length; M++)
          C = C.QH(j.K.AN(z[M][1].U));
      return C
  }
  ;
  iz.Ey.Z = function(n, z) {
      var C = n.JS;
      for (var M = 0; M < C.length; M++)
          j.K.Z(C[M][1].U, z, C[M][1].U)
  }
  ;
  iz.Ey.QU = function(n) {
      n.aos++;
      var z = n.aos & 3;
      if (z == 0)
          n.Kd = iz.Ey.D0(n.Kd);
      var C = n.Kd >>> 8 * z & 255;
      return C * (.99999999 / 255)
  }
  ;
  iz.Ey.Of = function(n) {
      var z = iz.Ey.D0(n.Kd);
      n.Kd = iz.Ey.D0(z);
      return z * (1 / 4294967295)
  }
  ;
  iz.Ey.D0 = function(n) {
      n = (n ^ 61 ^ n >>> 16) >>> 0;
      n = n + (n << 3) >>> 0;
      n = (n ^ n >>> 4) >>> 0;
      n = n * 668265261 >>> 0;
      n = (n ^ n >>> 15) >>> 0;
      return n
  }
  ;
  iz.Ey.em = [{
      L9: "0001-0-bird",
      JS: [["4b3c34", {
          I: "M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),
          U: [208, 16, 253, 5, 247, 86, 228, 104, 218, 108, 253, 60, 235, 12, 211, 18, 210, 18, 209, 17, 208, 16, 208, 16, 187, 140, 238, 125, 326, 133, 319, 189, 318, 198, 307, 210, 299, 207, 297, 205, 307, 208, 316, 195, 317, 188, 320, 126, 208, 137, 174, 149, 187, 140, 137, 75, 156, 79, 177, 94, 164, 157, 173, 147, 177, 101, 165, 79, 142, 75, 137, 75, 368, 59, 165, 59, 182, 233, 0, 210, 0, 225, 161, 250, 194, 61, 364, 63, 367, 61, 368, 59, 368, 59, 368, 59]
      }], ["3c7040", {
          I: "M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),
          U: [345, 123, 324, 113, 331, 70, 284, 80, 287, 79, 310, 89, 314, 103, 314, 104, 306, 90, 284, 82, 281, 81, 270, 85, 268, 86, 274, 117, 335, 119, 345, 123, 345, 123, 270, 0, 283, 29, 282, 58, 244, 66, 258, 62, 265, 40, 269, 27, 265, 37, 256, 56, 249, 58, 242, 31, 263, 18, 270, 0, 270, 0, 89, 100, 81, 136, 47, 182, 101, 196, 90, 189, 92, 157, 91, 145, 94, 160, 93, 191, 109, 195, 148, 158, 96, 129, 89, 100, 89, 100, 230, 187, 201, 240, 160, 226, 133, 198, 150, 191, 172, 197, 187, 198, 166, 193, 153, 190, 134, 193, 159, 162, 207, 194, 230, 187, 230, 187, 126, 177, 131, 159, 129, 150, 119, 139, 122, 122, 145, 112, 147, 97, 166, 128, 164, 155, 134, 168, 139, 154, 146, 142, 145, 131, 143, 145, 133, 159, 126, 177, 126, 177, 209, 86, 195, 86, 166, 91, 173, 109, 177, 102, 181, 97, 191, 96, 180, 99, 174, 113, 175, 113, 194, 114, 200, 96, 209, 86, 209, 86, 278, 175, 254, 167, 235, 168, 231, 143, 245, 143, 248, 151, 256, 158, 252, 147, 243, 144, 240, 142, 276, 147, 265, 171, 278, 175]
      }], ["b588c1", {
          I: "M C C C C C C C C C C C C L Z".split(" "),
          U: [189, 40, 188, 42, 186, 44, 184, 47, 184, 52, 183, 55, 181, 59, 175, 70, 160, 78, 147, 79, 142, 79, 131, 78, 127, 75, 118, 74, 95, 71, 93, 70, 89, 70, 88, 70, 69, 72, 74, 66, 82, 68, 93, 65, 78, 64, 83, 62, 95, 59, 128, 50, 128, 33, 155, 29, 162, 16, 180, 13, 189, 31, 193, 31, 196, 34, 198, 37, 197, 37, 193, 39, 189, 40, 189, 40]
      }]]
  }, {
      L9: "0001-0-bird2",
      JS: [["ff7f2a", {
          I: "M L L L Z M L L L Z".split(" "),
          U: [296, 0, 296, 62, 335, 62, 296, 0, 357, 0, 357, 62, 318, 62, 357, 0]
      }], ["b588c1", {
          I: "M C C C C C C C C C C C L Z".split(" "),
          U: [321, 48, 344, 48, 379, 67, 396, 121, 408, 176, 396, 230, 337, 255, 303, 265, 265, 268, 217, 235, 191, 217, 170, 188, 186, 180, 195, 177, 199, 187, 205, 192, 203, 185, 199, 178, 207, 172, 217, 165, 224, 178, 225, 182, 227, 196, 231, 203, 250, 206, 273, 205, 290, 196, 292, 165, 289, 133, 269, 118, 268, 101, 267, 77, 288, 49, 321, 48, 321, 48]
      }], ["74439e", {
          I: "M C C C C C C L Z M C C Z".split(" "),
          U: [337, 187, 329, 202, 317, 204, 304, 204, 293, 204, 284, 205, 293, 224, 286, 216, 278, 209, 268, 214, 257, 220, 262, 237, 269, 243, 284, 258, 310, 256, 323, 243, 337, 227, 339, 208, 337, 187, 337, 187, 340, 77, 310, 78, 287, 81, 315, 96, 269, 83, 309, 75, 340, 77]
      }], ["000000", {
          I: "M L L L Z M L L L Z".split(" "),
          U: [326, 258, 334, 315, 323, 316, 326, 258, 298, 262, 296, 318, 286, 317, 298, 262]
      }], ["4b3c34", {
          I: "M L C C C C C C C C L Z".split(" "),
          U: [0, 272, 0, 336, 63, 296, 119, 296, 175, 320, 205, 330, 229, 339, 278, 338, 322, 337, 354, 322, 405, 325, 443, 329, 482, 332, 501, 377, 501, 366, 502, 348, 474, 328, 464, 320, 440, 312, 384, 309, 296, 309, 300, 333, 186, 293, 118, 264, 54, 250, 0, 272, 0, 272]
      }], ["3c7040", {
          I: "M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),
          U: [58, 260, 44, 247, 27, 239, 20, 208, 15, 188, 32, 182, 43, 198, 59, 227, 56, 242, 58, 260, 181, 323, 167, 336, 150, 345, 143, 375, 138, 396, 155, 401, 166, 385, 182, 356, 179, 342, 181, 323, 60, 260, 79, 249, 100, 243, 113, 214, 122, 194, 102, 186, 86, 200, 62, 227, 65, 242, 60, 260, 60, 260, 499, 378, 479, 377, 462, 372, 435, 388, 417, 399, 425, 415, 444, 411, 476, 403, 484, 390, 499, 378, 499, 378, 501, 379, 494, 397, 482, 411, 488, 442, 491, 463, 511, 461, 514, 442, 520, 410, 508, 397, 501, 379, 501, 379, 503, 378, 513, 390, 516, 402, 531, 413, 546, 421, 557, 412, 548, 401, 534, 382, 519, 379, 503, 378]
      }]]
  }, {
      L9: "0000-1-flower",
      JS: [["7a59a2", {
          I: "M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),
          U: [468, 470, 411, 473, 371, 480, 351, 495, 332, 509, 322, 536, 325, 581, 325, 601, 328, 621, 325, 637, 346, 634, 371, 638, 397, 637, 427, 636, 456, 626, 465, 611, 478, 596, 485, 553, 489, 490, 477, 489, 470, 483, 468, 470, 445, 563, 435, 583, 425, 591, 415, 590, 401, 588, 401, 572, 410, 549, 388, 558, 375, 557, 369, 546, 366, 533, 374, 524, 390, 517, 416, 506, 441, 498, 465, 495, 463, 519, 455, 542, 445, 563, 445, 563, 489, 450, 486, 392, 480, 352, 465, 332, 451, 313, 425, 302, 380, 305, 360, 305, 340, 307, 324, 304, 327, 324, 322, 350, 323, 376, 323, 406, 332, 435, 347, 444, 362, 457, 405, 465, 468, 470, 469, 458, 476, 451, 489, 450, 489, 450, 395, 424, 376, 415, 368, 405, 369, 394, 371, 380, 387, 380, 410, 390, 402, 368, 403, 355, 414, 349, 427, 346, 436, 355, 443, 370, 454, 397, 460, 422, 463, 446, 439, 443, 417, 435, 395, 424, 395, 424, 508, 470, 566, 468, 606, 462, 626, 447, 645, 433, 656, 407, 654, 362, 654, 342, 652, 322, 655, 306, 634, 309, 609, 304, 583, 305, 553, 305, 524, 314, 514, 329, 501, 344, 493, 387, 488, 449, 500, 451, 507, 457, 508, 470, 508, 470, 534, 377, 544, 357, 554, 350, 564, 351, 578, 353, 578, 369, 568, 392, 590, 384, 604, 385, 609, 396, 612, 409, 603, 418, 588, 425, 561, 435, 536, 442, 512, 445, 515, 421, 523, 399, 534, 377, 534, 377, 488, 490, 492, 547, 499, 587, 514, 607, 528, 626, 554, 636, 600, 633, 619, 632, 640, 630, 656, 633, 652, 612, 656, 587, 655, 560, 655, 531, 645, 502, 629, 493, 614, 480, 571, 473, 508, 469, 507, 481, 501, 488, 488, 490, 488, 490, 582, 513, 602, 523, 610, 533, 609, 543, 607, 557, 591, 557, 568, 548, 577, 570, 576, 583, 565, 589, 552, 592, 542, 584, 535, 568, 524, 542, 517, 517, 514, 493, 538, 495, 560, 503, 582, 513, 582, 513]
      }]]
  }, {
      L9: "0000-1-flower",
      JS: [["d13777", {
          I: "M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),
          U: [474, 503, 457, 528, 452, 530, 450, 528, 450, 523, 469, 498, 464, 493, 388, 522, 332, 552, 314, 585, 297, 628, 322, 660, 372, 639, 361, 698, 421, 709, 450, 665, 467, 649, 477, 596, 482, 505, 474, 503, 474, 503, 439, 563, 431, 563, 424, 556, 424, 548, 424, 539, 431, 532, 439, 532, 447, 532, 454, 539, 454, 548, 454, 556, 447, 563, 439, 563, 462, 475, 432, 467, 429, 463, 430, 460, 435, 458, 465, 469, 468, 463, 417, 399, 371, 356, 335, 348, 288, 345, 265, 379, 300, 420, 241, 428, 249, 488, 301, 503, 321, 513, 374, 507, 462, 483, 462, 475, 462, 475, 394, 460, 391, 452, 396, 444, 404, 441, 412, 438, 420, 443, 423, 451, 426, 459, 421, 467, 413, 470, 405, 473, 396, 468, 394, 460, 484, 455, 483, 424, 486, 419, 489, 420, 492, 424, 492, 456, 498, 457, 543, 389, 570, 332, 566, 294, 554, 249, 515, 238, 487, 284, 461, 231, 406, 256, 408, 310, 405, 333, 427, 381, 477, 458, 484, 455, 484, 455, 477, 385, 484, 380, 494, 382, 499, 389, 504, 396, 502, 405, 496, 410, 489, 415, 479, 414, 474, 407, 469, 400, 471, 390, 477, 385, 511, 470, 539, 459, 545, 461, 545, 463, 542, 467, 512, 477, 513, 483, 592, 505, 654, 513, 688, 497, 728, 472, 726, 432, 674, 419, 717, 378, 675, 334, 625, 353, 602, 356, 563, 393, 506, 464, 511, 470, 511, 470, 575, 442, 581, 447, 583, 456, 578, 463, 573, 470, 563, 472, 557, 467, 550, 462, 548, 452, 553, 445, 558, 438, 568, 437, 575, 442, 505, 499, 524, 523, 524, 529, 521, 531, 517, 529, 498, 503, 492, 506, 496, 588, 508, 650, 533, 677, 570, 707, 607, 693, 603, 639, 656, 667, 685, 614, 651, 572, 641, 551, 594, 525, 509, 493, 505, 499, 505, 499, 551, 552, 548, 560, 540, 564, 532, 561, 524, 559, 519, 550, 522, 542, 524, 534, 533, 530, 541, 532, 549, 535, 554, 543, 551, 552]
      }]]
  }, {
      L9: "0000-1-flower",
      JS: [["ffac42", {
          I: "M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),
          U: [646, 471, 646, 446, 626, 426, 601, 426, 599, 426, 597, 426, 595, 427, 596, 426, 598, 424, 599, 423, 616, 406, 616, 378, 599, 360, 581, 343, 553, 343, 536, 360, 534, 361, 533, 363, 532, 364, 532, 363, 532, 361, 532, 359, 532, 335, 512, 315, 488, 315, 463, 315, 443, 335, 443, 359, 443, 361, 443, 363, 443, 365, 442, 364, 441, 363, 440, 362, 422, 344, 394, 344, 377, 362, 359, 379, 359, 407, 377, 425, 378, 426, 380, 427, 381, 429, 379, 428, 378, 428, 376, 428, 351, 428, 331, 448, 331, 473, 331, 498, 351, 518, 376, 518, 378, 518, 380, 517, 382, 517, 381, 518, 379, 519, 378, 521, 361, 538, 361, 566, 378, 584, 396, 601, 424, 601, 441, 584, 443, 582, 444, 581, 445, 579, 445, 581, 445, 583, 445, 584, 445, 609, 465, 629, 490, 629, 514, 629, 534, 609, 534, 584, 534, 582, 534, 580, 534, 579, 535, 580, 536, 581, 537, 582, 555, 600, 583, 600, 600, 582, 618, 565, 618, 537, 600, 519, 599, 518, 597, 516, 596, 515, 598, 515, 599, 516, 601, 516, 626, 516, 646, 496, 646, 471, 489, 552, 444, 552, 409, 516, 409, 472, 409, 428, 444, 392, 489, 392, 533, 392, 569, 428, 569, 472, 569, 516, 533, 552, 489, 552]
      }]]
  }, {
      L9: "0000-1-flower",
      JS: [["d04040", {
          I: "M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),
          U: [691, 424, 690, 369, 680, 330, 660, 303, 634, 320, 601, 361, 568, 406, 568, 406, 568, 327, 578, 326, 585, 317, 585, 306, 585, 294, 576, 284, 564, 284, 552, 284, 542, 294, 542, 306, 542, 317, 550, 326, 560, 327, 560, 406, 559, 406, 540, 359, 522, 311, 501, 291, 475, 319, 453, 360, 433, 407, 431, 406, 431, 327, 441, 326, 448, 317, 448, 306, 448, 294, 439, 284, 427, 284, 415, 284, 405, 294, 405, 306, 405, 317, 412, 326, 423, 327, 423, 404, 390, 363, 360, 326, 341, 308, 296, 401, 299, 489, 360, 567, 396, 613, 443, 639, 500, 638, 624, 636, 694, 524, 692, 424, 691, 424, 389, 543, 370, 514, 379, 498, 399, 504, 439, 518, 470, 564, 488, 613, 455, 600, 414, 580, 389, 543, 481, 480, 488, 445, 505, 441, 515, 459, 533, 497, 524, 552, 501, 599, 487, 567, 472, 523, 481, 480, 481, 480, 624, 523, 610, 563, 565, 595, 515, 613, 528, 580, 548, 538, 585, 514, 614, 494, 629, 503, 624, 523, 624, 523]
      }]]
  }, {
      L9: "0000-1-flower",
      JS: [["ec7272", {
          I: "M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),
          U: [447, 475, 452, 450, 452, 438, 437, 423, 422, 407, 407, 412, 390, 383, 398, 418, 421, 415, 433, 434, 445, 453, 446, 474, 447, 475, 495, 446, 520, 439, 529, 433, 535, 412, 542, 390, 529, 380, 546, 351, 520, 376, 533, 394, 523, 414, 513, 434, 495, 445, 495, 446, 545, 473, 564, 490, 574, 495, 595, 490, 617, 485, 620, 469, 653, 468, 619, 459, 610, 479, 587, 480, 565, 482, 546, 472, 545, 473, 545, 473, 549, 533, 543, 558, 543, 569, 559, 585, 574, 601, 589, 596, 606, 624, 597, 590, 575, 592, 563, 573, 551, 555, 550, 534, 549, 533, 549, 533, 504, 562, 480, 570, 470, 575, 464, 596, 458, 618, 470, 628, 454, 657, 479, 632, 466, 614, 476, 594, 486, 575, 504, 563, 504, 562, 459, 536, 440, 519, 430, 513, 409, 518, 387, 524, 384, 539, 351, 540, 385, 549, 394, 529, 417, 528, 439, 527, 457, 536, 459, 536, 459, 536]
      }], ["333333", {
          I: "M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),
          U: [534, 455, 584, 415, 579, 358, 577, 335, 574, 315, 585, 304, 585, 304, 585, 304, 568, 308, 561, 312, 554, 316, 520, 333, 500, 363, 479, 392, 493, 437, 486, 456, 479, 476, 452, 485, 452, 485, 452, 485, 471, 474, 475, 454, 479, 434, 460, 402, 482, 365, 505, 328, 565, 292, 597, 294, 612, 295, 591, 298, 587, 316, 583, 333, 593, 373, 584, 404, 574, 440, 533, 456, 534, 455, 534, 455, 559, 506, 619, 530, 666, 497, 685, 483, 701, 471, 716, 475, 716, 475, 716, 475, 704, 463, 697, 459, 690, 454, 657, 434, 622, 431, 587, 428, 554, 462, 534, 465, 513, 469, 492, 451, 492, 451, 492, 451, 511, 461, 530, 455, 549, 448, 568, 416, 611, 417, 654, 418, 716, 452, 730, 481, 737, 495, 724, 478, 706, 483, 689, 489, 660, 516, 628, 524, 592, 534, 558, 506, 559, 506, 559, 506, 524, 552, 534, 615, 586, 640, 607, 649, 625, 657, 629, 672, 629, 672, 629, 672, 634, 655, 634, 647, 634, 639, 636, 601, 621, 569, 606, 537, 560, 525, 547, 509, 534, 494, 539, 466, 539, 466, 539, 466, 539, 488, 554, 501, 569, 514, 607, 514, 627, 552, 648, 590, 650, 660, 632, 687, 623, 700, 631, 680, 617, 667, 605, 656, 566, 644, 543, 621, 517, 594, 524, 551, 524, 552, 524, 552, 467, 546, 417, 585, 421, 643, 424, 665, 426, 686, 415, 697, 415, 697, 415, 697, 432, 693, 439, 689, 446, 684, 481, 667, 501, 638, 521, 609, 508, 563, 515, 544, 522, 524, 548, 515, 548, 515, 548, 515, 530, 527, 526, 546, 522, 566, 540, 598, 518, 635, 496, 672, 436, 709, 404, 706, 388, 705, 409, 702, 413, 684, 417, 667, 408, 628, 417, 596, 426, 561, 467, 544, 467, 546, 467, 546, 442, 495, 383, 472, 336, 504, 317, 518, 301, 530, 286, 526, 286, 526, 286, 526, 298, 539, 305, 543, 312, 547, 344, 568, 380, 571, 415, 574, 448, 539, 468, 536, 488, 532, 510, 551, 510, 551, 510, 551, 490, 540, 471, 547, 452, 553, 434, 585, 391, 584, 348, 583, 286, 550, 272, 521, 265, 507, 278, 524, 296, 518, 313, 513, 342, 485, 373, 477, 409, 468, 444, 495, 442, 495, 442, 495, 476, 449, 467, 386, 415, 361, 394, 352, 375, 344, 371, 329, 371, 329, 371, 329, 366, 346, 366, 354, 366, 362, 364, 400, 379, 433, 394, 465, 440, 476, 453, 492, 467, 508, 462, 535, 462, 535, 462, 535, 461, 513, 446, 500, 431, 487, 394, 487, 373, 449, 352, 411, 350, 341, 368, 314, 377, 301, 369, 321, 383, 334, 396, 345, 434, 357, 457, 380, 483, 407, 477, 450, 476, 449, 476, 449]
      }]]
  }, {
      L9: "0000-0-hearts",
      JS: [["d17070", {
          I: "M C C C C C C C C C L Z".split(" "),
          U: [415, 584, 413, 585, 411, 586, 409, 587, 392, 596, 389, 620, 395, 633, 401, 647, 414, 663, 450, 668, 485, 674, 487, 681, 494, 690, 491, 679, 487, 673, 507, 643, 527, 613, 524, 593, 518, 579, 512, 566, 493, 552, 475, 558, 467, 561, 451, 566, 448, 586, 435, 578, 423, 581, 415, 584, 415, 584]
      }], ["6bcc6b", {
          I: "M C C C C C C C C C L Z".split(" "),
          U: [595, 451, 593, 449, 590, 448, 588, 448, 563, 439, 537, 457, 529, 475, 521, 493, 516, 520, 542, 560, 568, 601, 563, 609, 559, 623, 568, 611, 571, 602, 618, 595, 666, 589, 684, 567, 692, 550, 700, 532, 697, 501, 674, 488, 665, 482, 645, 472, 622, 486, 619, 465, 606, 456, 595, 451, 595, 451]
      }], ["5c5cc2", {
          I: "M C C C C C C C C C L Z".split(" "),
          U: [341, 362, 338, 364, 335, 366, 332, 368, 304, 385, 301, 424, 312, 446, 323, 468, 345, 494, 405, 501, 465, 508, 468, 520, 480, 534, 475, 516, 468, 506, 499, 455, 531, 404, 524, 370, 514, 348, 503, 325, 470, 304, 440, 315, 427, 320, 401, 331, 397, 364, 374, 351, 355, 356, 341, 362, 341, 362]
      }]]
  }, {
      L9: "0000-0-anchor",
      JS: [["2a3b66", {
          I: "M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),
          U: [495, 315, 490, 315, 488, 318, 489, 323, 491, 328, 502, 326, 502, 320, 502, 317, 501, 316, 497, 315, 496, 315, 496, 315, 495, 315, 495, 315, 496, 303, 509, 303, 521, 320, 514, 327, 511, 330, 513, 345, 517, 348, 519, 350, 531, 352, 546, 354, 570, 357, 572, 357, 578, 354, 588, 347, 592, 351, 592, 369, 592, 385, 588, 390, 580, 385, 576, 383, 570, 383, 552, 384, 524, 387, 519, 389, 517, 397, 515, 404, 517, 515, 520, 554, 522, 583, 525, 599, 530, 606, 534, 610, 555, 617, 565, 617, 584, 616, 607, 602, 635, 572, 639, 568, 641, 566, 644, 563, 633, 559, 616, 557, 616, 557, 675, 533, 675, 533, 671, 605, 669, 609, 667, 611, 664, 591, 658, 577, 657, 579, 657, 580, 656, 582, 628, 638, 603, 660, 565, 664, 545, 666, 521, 672, 514, 675, 512, 677, 507, 682, 504, 688, 501, 693, 497, 698, 496, 698, 494, 698, 490, 693, 487, 688, 484, 682, 480, 677, 477, 675, 471, 672, 447, 666, 427, 664, 391, 660, 367, 640, 340, 591, 335, 604, 332, 621, 331, 619, 329, 615, 325, 544, 325, 544, 384, 568, 384, 568, 368, 569, 357, 573, 385, 602, 408, 616, 426, 617, 437, 617, 458, 610, 461, 606, 466, 599, 470, 583, 472, 554, 474, 515, 476, 404, 475, 397, 473, 389, 468, 387, 440, 384, 422, 383, 416, 383, 412, 385, 403, 390, 400, 385, 400, 369, 400, 351, 403, 347, 414, 354, 419, 357, 421, 357, 446, 354, 460, 352, 473, 350, 475, 348, 478, 345, 481, 330, 478, 327, 470, 320, 483, 303, 496, 303, 496, 303]
      }]]
  }, {
      L9: "0000-1-leaf",
      JS: [["fbb600", {
          I: "M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),
          U: [642, 726, 633, 723, 632, 707, 591, 631, 570, 582, 526, 521, 537, 547, 535, 579, 517, 598, 501, 619, 486, 602, 414, 634, 412, 606, 379, 609, 346, 611, 394, 557, 406, 547, 401, 539, 386, 532, 319, 519, 337, 508, 332, 493, 320, 478, 326, 464, 302, 450, 287, 436, 303, 436, 324, 441, 330, 432, 346, 434, 359, 434, 359, 415, 377, 428, 397, 431, 417, 432, 442, 440, 437, 418, 417, 416, 406, 372, 401, 370, 395, 367, 389, 355, 417, 363, 408, 339, 406, 323, 416, 312, 427, 303, 417, 276, 433, 295, 444, 297, 452, 294, 479, 321, 490, 313, 496, 294, 503, 322, 510, 329, 517, 338, 522, 353, 530, 371, 530, 379, 546, 402, 551, 389, 555, 378, 578, 333, 606, 333, 628, 304, 652, 280, 646, 306, 644, 327, 657, 329, 649, 356, 658, 374, 679, 384, 666, 392, 656, 415, 645, 432, 627, 457, 653, 451, 661, 457, 692, 460, 698, 473, 715, 481, 697, 485, 678, 488, 669, 509, 656, 523, 655, 533, 666, 539, 659, 537, 659, 542, 643, 531, 630, 535, 613, 543, 608, 539, 598, 535, 594, 542, 590, 553, 590, 566, 594, 564, 596, 569, 568, 575, 551, 543, 531, 519, 575, 577, 597, 628, 639, 708, 642, 726]
      }]]
  }, {
      L9: "0000-1-acorn",
      JS: [["a05a2c", {
          I: "M C C C C C C C L Z".split(" "),
          U: [506, 453, 450, 426, 413, 422, 398, 444, 374, 480, 374, 533, 384, 573, 391, 602, 407, 625, 430, 645, 451, 658, 487, 654, 509, 647, 554, 633, 587, 605, 612, 565, 635, 527, 591, 500, 565, 482, 557, 476, 515, 457, 506, 453, 506, 453]
      }], ["502d16", {
          I: "M C C C C C C C C C C C Z".split(" "),
          U: [640, 524, 639, 539, 623, 540, 623, 540, 627, 522, 607, 504, 583, 488, 547, 465, 507, 445, 470, 434, 439, 426, 412, 417, 400, 437, 400, 437, 391, 424, 400, 414, 434, 370, 498, 356, 551, 376, 555, 349, 583, 317, 597, 321, 612, 326, 621, 346, 620, 350, 619, 354, 594, 352, 584, 368, 580, 375, 577, 382, 575, 387, 619, 412, 649, 460, 640, 524]
      }]]
  }, {
      L9: "0000-0-skull",
      JS: [["808080", {
          I: "M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),
          U: [396, 410, 398, 415, 398, 420, 398, 424, 420, 437, 433, 404, 465, 382, 501, 382, 538, 382, 569, 404, 582, 435, 602, 424, 602, 419, 603, 415, 604, 410, 604, 410, 609, 392, 622, 379, 633, 382, 643, 384, 648, 402, 643, 420, 643, 421, 642, 421, 642, 422, 643, 422, 643, 422, 644, 422, 662, 427, 675, 440, 672, 450, 669, 461, 652, 465, 633, 460, 628, 459, 624, 457, 620, 455, 589, 473, 588, 491, 582, 507, 572, 520, 607, 540, 611, 538, 615, 536, 620, 535, 639, 530, 656, 535, 659, 545, 662, 556, 649, 568, 630, 573, 630, 574, 629, 574, 629, 574, 629, 574, 629, 575, 629, 575, 634, 594, 630, 611, 619, 614, 609, 617, 596, 604, 591, 585, 590, 580, 589, 576, 589, 571, 565, 557, 564, 592, 536, 619, 501, 619, 466, 619, 438, 591, 437, 557, 412, 572, 411, 576, 411, 580, 410, 585, 410, 585, 405, 604, 392, 617, 381, 614, 371, 611, 366, 593, 371, 575, 371, 574, 371, 574, 372, 574, 371, 573, 371, 573, 370, 573, 352, 568, 339, 556, 342, 545, 345, 534, 362, 530, 381, 535, 385, 536, 390, 538, 394, 540, 430, 519, 421, 507, 415, 491, 414, 475, 380, 455, 376, 457, 372, 459, 367, 460, 367, 460, 349, 465, 331, 461, 328, 450, 326, 440, 338, 427, 357, 422, 357, 422, 358, 422, 358, 422, 358, 421, 358, 421, 358, 420, 353, 402, 357, 384, 368, 381, 379, 379, 391, 391, 396, 410, 463, 439, 445, 439, 431, 453, 431, 470, 431, 488, 445, 502, 463, 502, 480, 502, 494, 488, 494, 470, 494, 453, 480, 439, 463, 439, 540, 439, 522, 439, 508, 453, 508, 470, 508, 488, 522, 502, 540, 502, 557, 502, 571, 488, 571, 470, 571, 453, 557, 439, 540, 439, 483, 528, 518, 528, 500, 503, 483, 528]
      }]]
  }, {
      L9: "0000-0-ghost",
      JS: [["e6e6e6", {
          I: "M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),
          U: [653, 486, 653, 574, 689, 597, 689, 638, 689, 661, 640, 644, 620, 656, 601, 666, 609, 682, 583, 692, 563, 700, 538, 666, 512, 666, 490, 666, 451, 695, 433, 686, 415, 677, 416, 646, 388, 644, 367, 641, 313, 671, 313, 648, 313, 619, 346, 588, 346, 486, 346, 388, 415, 308, 500, 308, 584, 308, 653, 388, 653, 486, 653, 486, 449, 396, 428, 396, 412, 415, 412, 439, 412, 462, 428, 482, 449, 482, 465, 482, 478, 470, 484, 454, 489, 470, 503, 482, 519, 482, 539, 482, 556, 462, 556, 439, 556, 415, 539, 396, 519, 396, 503, 396, 489, 407, 484, 423, 478, 407, 465, 396, 449, 396, 482, 505, 441, 505, 465, 560, 482, 560, 503, 560, 524, 505, 482, 505]
      }], ["000000", {
          I: "M C C C C Z M C C C C Z".split(" "),
          U: [526, 446, 526, 455, 519, 462, 510, 462, 501, 462, 494, 455, 494, 446, 494, 437, 501, 430, 510, 430, 519, 430, 526, 437, 526, 446, 475, 446, 475, 455, 468, 462, 459, 462, 450, 462, 442, 455, 442, 446, 442, 437, 450, 430, 459, 430, 468, 430, 475, 437, 475, 446]
      }]]
  }, {
      L9: "1001-1-rose",
      JS: [["9e1460", {
          I: "M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),
          U: [568, 83, 558, 83, 548, 88, 539, 96, 538, 98, 536, 99, 535, 101, 522, 115, 513, 134, 517, 149, 522, 172, 561, 200, 592, 207, 604, 210, 611, 215, 615, 221, 622, 234, 611, 258, 611, 258, 613, 260, 615, 264, 618, 264, 627, 266, 638, 241, 640, 236, 660, 188, 614, 83, 568, 83, 526, 125, 527, 97, 567, 68, 593, 75, 616, 81, 642, 121, 649, 152, 651, 165, 656, 172, 662, 176, 675, 183, 698, 173, 698, 173, 698, 173, 698, 173, 698, 173, 704, 176, 705, 179, 705, 180, 706, 189, 681, 199, 678, 200, 678, 200, 677, 201, 677, 201, 627, 220, 524, 170, 526, 125]
      }], ["020304", {
          I: "M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),
          U: [60, 151, 60, 151, 37, 125, 60, 98, 83, 72, 95, 91, 115, 66, 134, 42, 117, 26, 120, 30, 123, 34, 146, 83, 132, 114, 114, 154, 60, 151, 60, 151, 280, 70, 280, 70, 258, 97, 283, 122, 308, 147, 318, 127, 339, 150, 361, 173, 344, 190, 347, 186, 350, 182, 370, 132, 354, 101, 333, 62, 280, 70, 280, 70, 61, 150, 61, 150, 27, 143, 30, 108, 33, 73, 54, 81, 55, 50, 57, 19, 33, 16, 38, 17, 43, 19, 91, 44, 98, 78, 107, 121, 61, 150, 61, 150, -27, 185, 184, 158, 222, 43, 352, 32, 444, 24, 538, 97, 538, 97, 538, 97, 453, 45, 354, 48, 241, 51, 185, 170, -27, 185]
      }]]
  }, {
      L9: "1001-1-curls",
      JS: [["53a7ab", {
          I: "M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),
          U: [68, 114, 121, 103, 159, 110, 183, 135, 212, 169, 211, 204, 189, 237, 162, 277, 124, 291, 86, 276, 52, 263, 38, 236, 47, 202, 55, 168, 79, 151, 121, 156, 147, 162, 165, 177, 160, 205, 155, 228, 135, 241, 113, 237, 97, 234, 92, 221, 96, 205, 98, 195, 105, 194, 115, 200, 124, 205, 133, 204, 135, 197, 139, 183, 122, 167, 95, 171, 68, 176, 54, 193, 68, 220, 84, 252, 131, 261, 165, 238, 201, 202, 199, 164, 158, 136, 118, 113, 52, 122, -23, 151, 2, 134, 33, 122, 68, 114, 68, 114, 71, 83, 119, 75, 163, 79, 198, 107, 226, 129, 247, 174, 271, 207, 291, 229, 316, 241, 342, 232, 370, 222, 394, 206, 418, 209, 443, 212, 461, 238, 485, 258, 500, 272, 522, 276, 543, 271, 543, 271, 524, 279, 518, 281, 500, 287, 483, 277, 466, 256, 453, 243, 441, 230, 427, 223, 413, 217, 392, 220, 372, 229, 372, 230, 371, 230, 370, 230, 354, 241, 337, 251, 315, 250, 283, 248, 253, 222, 229, 172, 209, 133, 178, 106, 137, 94, 103, 84, 52, 94, -30, 133, -3, 108, 30, 91, 71, 83, 71, 83, 83, 54, 122, 46, 166, 49, 195, 67, 219, 82, 250, 122, 290, 168, 308, 186, 330, 194, 355, 192, 393, 183, 400, 145, 383, 118, 372, 101, 355, 91, 328, 91, 313, 92, 303, 98, 300, 109, 298, 116, 299, 125, 304, 131, 315, 147, 327, 152, 340, 149, 349, 149, 354, 132, 343, 131, 330, 131, 326, 129, 328, 120, 332, 97, 355, 100, 365, 114, 381, 137, 367, 165, 343, 168, 321, 170, 289, 150, 288, 117, 290, 77, 319, 58, 352, 64, 388, 74, 405, 104, 404, 141, 403, 177, 382, 202, 345, 207, 312, 211, 284, 191, 260, 161, 245, 141, 229, 122, 213, 106, 196, 84, 166, 73, 129, 67, 80, 62, 28, 79, -26, 108, 10, 79, 46, 63, 83, 54, 83, 54]
      }], ["bbdc54", {
          I: "M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),
          U: [321, 315, 287, 324, 252, 312, 211, 219, 217, 284, 239, 326, 279, 341, 324, 352, 362, 329, 398, 291, 316, 305, 258, 269, 217, 196, 238, 284, 274, 319, 321, 315, 321, 315, 211, 261, 223, 300, 234, 345, 252, 374, 220, 378, 194, 367, 193, 324, 194, 306, 198, 288, 206, 270, 197, 315, 204, 340, 221, 351, 206, 327, 202, 297, 211, 261, 211, 261, 206, 246, 193, 301, 170, 317, 138, 297, 162, 281, 184, 254, 205, 222, 201, 246, 191, 267, 174, 283, 186, 279, 197, 267, 206, 246, 206, 246, 378, 233, 370, 286, 337, 299, 294, 270, 312, 277, 330, 276, 347, 267, 294, 278, 259, 252, 234, 203, 280, 259, 327, 278, 378, 233, 378, 233, 626, 217, 604, 273, 555, 313, 511, 315, 484, 316, 438, 289, 432, 232, 450, 253, 488, 296, 511, 291, 532, 286, 551, 277, 566, 261, 527, 269, 498, 263, 480, 243, 478, 241, 478, 237, 480, 235, 486, 230, 504, 220, 519, 226, 537, 233, 551, 242, 567, 241, 591, 236, 611, 228, 626, 217, 626, 217, 411, 192, 432, 183, 439, 166, 420, 136, 443, 144, 460, 158, 466, 182, 470, 165, 456, 149, 430, 133, 459, 136, 485, 145, 505, 165, 503, 143, 463, 133, 434, 128, 486, 127, 526, 124, 539, 118, 505, 123, 470, 124, 435, 122, 461, 111, 483, 96, 500, 76, 475, 95, 450, 110, 424, 118, 450, 96, 465, 72, 466, 48, 458, 75, 440, 98, 419, 112, 424, 106, 428, 99, 428, 91, 429, 68, 413, 57, 393, 51, 419, 70, 426, 92, 411, 110, 408, 77, 385, 58, 343, 52, 383, 26, 422, 25, 445, 62, 458, 47, 465, 29, 467, 8, 477, 27, 479, 51, 475, 76, 497, 64, 515, 49, 528, 29, 524, 57, 515, 82, 496, 103, 521, 113, 549, 111, 579, 99, 560, 122, 535, 136, 502, 137, 518, 149, 521, 173, 514, 205, 505, 181, 492, 166, 476, 158, 483, 188, 470, 205, 447, 216, 456, 183, 451, 166, 438, 157, 444, 193, 426, 211, 379, 207, 403, 193, 416, 172, 416, 140, 434, 156, 428, 173, 411, 192, 411, 192]
      }]]
  }, {
      L9: "0111-0-pines",
      JS: [["e9e9e9", {
          I: "M C C C C C C C C L L L Z".split(" "),
          U: [0, 946, 0, 946, 54, 960, 99, 944, 149, 927, 182, 954, 205, 956, 245, 960, 298, 940, 382, 974, 435, 995, 478, 957, 538, 956, 571, 955, 597, 969, 631, 968, 663, 967, 701, 938, 749, 944, 805, 950, 851, 960, 893, 946, 950, 928, 1e3, 946, 1e3, 946, 1e3, 1e3, 0, 1e3, 0, 946]
      }], ["437a26", {
          I: "M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),
          U: [119, 801, 120, 801, 148, 859, 148, 859, 137, 853, 137, 853, 155, 890, 155, 891, 156, 892, 138, 887, 140, 888, 141, 888, 171, 925, 171, 925, 126, 924, 125, 943, 125, 943, 105, 944, 106, 944, 107, 944, 106, 924, 106, 924, 61, 925, 93, 886, 77, 891, 100, 854, 89, 860, 89, 860, 119, 801, 119, 801, 286, 871, 286, 871, 303, 905, 303, 905, 296, 902, 296, 902, 307, 924, 307, 924, 307, 925, 297, 922, 297, 922, 298, 922, 316, 944, 316, 944, 289, 944, 289, 955, 289, 955, 277, 956, 278, 956, 278, 956, 278, 944, 278, 944, 251, 944, 270, 921, 260, 924, 274, 902, 268, 906, 268, 906, 285, 871, 286, 871, 526, 863, 526, 863, 546, 903, 546, 903, 538, 899, 538, 899, 550, 924, 550, 925, 550, 926, 539, 922, 540, 922, 540, 922, 561, 948, 561, 948, 530, 947, 529, 960, 529, 960, 516, 961, 517, 961, 518, 961, 517, 947, 517, 947, 486, 948, 508, 921, 497, 925, 513, 899, 505, 903, 505, 903, 526, 863, 526, 863, 731, 841, 731, 841, 752, 883, 752, 883, 744, 879, 744, 879, 757, 907, 757, 908, 758, 908, 745, 905, 746, 905, 747, 905, 769, 932, 769, 932, 736, 932, 735, 946, 735, 946, 721, 946, 721, 946, 722, 947, 721, 932, 721, 932, 688, 932, 712, 903, 700, 908, 717, 880, 709, 884, 709, 884, 731, 841, 731, 841, 889, 826, 889, 826, 914, 876, 914, 876, 904, 871, 904, 871, 920, 904, 920, 905, 920, 906, 906, 901, 907, 902, 908, 902, 934, 934, 934, 934, 894, 933, 894, 950, 894, 950, 877, 951, 878, 951, 879, 951, 878, 933, 878, 933, 838, 934, 866, 900, 852, 905, 872, 872, 862, 877, 862, 877, 889, 826, 889, 826]
      }]]
  }, {
      L9: "0111-0-flowers",
      JS: [["8cae40", {
          I: "M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),
          U: [182, 866, 160, 879, 146, 903, 135, 929, 135, 844, 177, 842, 228, 831, 230, 796, 231, 770, 207, 765, 182, 779, 160, 792, 146, 816, 135, 843, 135, 713, 135, 711, 134, 710, 132, 710, 130, 710, 128, 711, 128, 713, 128, 841, 117, 815, 103, 791, 82, 779, 57, 764, 33, 769, 34, 795, 36, 830, 86, 841, 128, 844, 128, 930, 117, 903, 103, 880, 82, 867, 57, 853, 33, 858, 34, 884, 36, 919, 86, 930, 128, 932, 128, 1009, 128, 1010, 130, 1012, 132, 1012, 134, 1012, 135, 1010, 135, 1009, 135, 931, 177, 928, 228, 918, 230, 882, 231, 856, 207, 851, 182, 866, 182, 866, 447, 904, 430, 898, 412, 904, 394, 916, 394, 861, 413, 873, 431, 879, 447, 873, 458, 868, 458, 852, 447, 848, 430, 841, 412, 848, 394, 859, 394, 788, 394, 787, 393, 786, 391, 786, 389, 786, 388, 787, 388, 788, 388, 859, 370, 847, 352, 841, 336, 848, 325, 852, 325, 868, 336, 873, 352, 879, 370, 873, 388, 862, 388, 915, 370, 904, 352, 898, 336, 904, 325, 909, 325, 925, 336, 929, 352, 936, 370, 930, 388, 918, 388, 1009, 388, 1010, 389, 1011, 391, 1011, 393, 1011, 394, 1010, 394, 1009, 394, 918, 413, 930, 431, 936, 447, 929, 458, 925, 458, 909, 447, 904, 447, 904, 662, 943, 650, 954, 641, 972, 634, 993, 634, 914, 659, 907, 680, 895, 692, 873, 707, 846, 686, 836, 662, 859, 650, 870, 641, 888, 634, 909, 634, 818, 634, 816, 632, 815, 631, 815, 629, 815, 628, 816, 628, 818, 628, 908, 621, 887, 612, 870, 600, 859, 576, 836, 555, 846, 570, 873, 582, 895, 603, 907, 628, 914, 628, 992, 621, 971, 612, 954, 600, 943, 576, 920, 555, 930, 570, 957, 582, 978, 603, 990, 628, 998, 628, 1009, 628, 1010, 629, 1011, 631, 1011, 632, 1011, 634, 1010, 634, 1009, 634, 998, 659, 991, 680, 978, 692, 957, 707, 930, 686, 920, 662, 943, 662, 943, 892, 842, 875, 857, 862, 882, 850, 912, 850, 822, 874, 817, 896, 805, 908, 778, 919, 755, 896, 751, 877, 769, 866, 779, 857, 796, 850, 815, 850, 737, 850, 736, 848, 735, 847, 735, 845, 735, 844, 736, 844, 737, 844, 815, 836, 795, 828, 779, 817, 769, 798, 751, 775, 755, 785, 777, 797, 804, 820, 817, 844, 822, 844, 912, 832, 882, 818, 857, 801, 842, 772, 816, 737, 822, 753, 854, 772, 894, 806, 911, 844, 918, 844, 1009, 844, 1010, 845, 1011, 847, 1011, 848, 1011, 850, 1010, 850, 1009, 850, 918, 887, 911, 922, 894, 941, 854, 957, 822, 922, 816, 892, 842, 892, 842]
      }], ["d13777", {
          I: "M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),
          U: [125, 603, 115, 617, 112, 619, 110, 618, 111, 615, 122, 600, 119, 597, 75, 614, 43, 631, 32, 650, 22, 675, 36, 694, 65, 682, 59, 716, 94, 722, 111, 696, 120, 687, 126, 657, 129, 604, 125, 603, 125, 603, 104, 638, 99, 638, 95, 634, 95, 629, 95, 624, 99, 620, 104, 620, 109, 620, 113, 624, 113, 629, 113, 634, 109, 638, 104, 638, 117, 587, 100, 582, 98, 579, 99, 578, 102, 577, 119, 583, 121, 580, 92, 543, 65, 517, 44, 513, 17, 512, 4, 531, 24, 555, -10, 560, -6, 594, 24, 603, 36, 609, 67, 605, 118, 591, 118, 587, 117, 587, 78, 578, 77, 573, 79, 568, 84, 567, 88, 565, 93, 568, 95, 573, 96, 577, 94, 582, 89, 584, 85, 585, 80, 583, 78, 578, 130, 575, 130, 557, 131, 554, 133, 555, 135, 557, 135, 575, 138, 576, 164, 537, 180, 504, 177, 482, 171, 456, 148, 449, 132, 476, 117, 445, 85, 460, 86, 491, 84, 504, 97, 532, 126, 577, 130, 575, 130, 575, 126, 535, 130, 532, 136, 533, 139, 537, 142, 541, 141, 546, 137, 549, 133, 552, 127, 551, 125, 547, 122, 543, 122, 538, 126, 535, 146, 584, 162, 577, 165, 578, 166, 580, 164, 582, 146, 588, 147, 591, 193, 604, 229, 609, 249, 600, 271, 585, 271, 562, 240, 554, 265, 530, 241, 505, 212, 516, 199, 518, 176, 539, 143, 580, 146, 584, 146, 584, 183, 567, 187, 570, 187, 576, 185, 580, 182, 584, 176, 585, 172, 582, 168, 579, 167, 573, 170, 569, 173, 565, 179, 565, 183, 567, 142, 601, 153, 615, 153, 618, 152, 619, 149, 618, 138, 603, 135, 605, 137, 652, 144, 688, 159, 704, 180, 721, 202, 713, 199, 681, 230, 698, 246, 667, 227, 643, 221, 631, 194, 616, 145, 597, 142, 601, 142, 601, 169, 631, 167, 636, 162, 638, 158, 637, 153, 635, 151, 630, 152, 625, 154, 621, 159, 618, 163, 620, 168, 621, 170, 626, 169, 631, 376, 691, 343, 693, 320, 697, 309, 706, 297, 714, 291, 729, 294, 756, 294, 767, 295, 779, 294, 788, 305, 786, 320, 788, 335, 788, 353, 787, 369, 782, 375, 773, 382, 764, 386, 739, 388, 703, 381, 702, 377, 699, 376, 691, 363, 745, 357, 757, 351, 761, 345, 761, 337, 760, 337, 751, 343, 737, 330, 742, 322, 742, 319, 735, 317, 728, 322, 723, 331, 718, 346, 712, 360, 708, 374, 706, 373, 720, 369, 733, 363, 745, 363, 745, 388, 680, 387, 646, 383, 623, 375, 612, 366, 600, 351, 594, 325, 596, 314, 596, 302, 597, 293, 595, 295, 607, 292, 622, 292, 637, 292, 654, 298, 671, 306, 676, 315, 684, 340, 689, 376, 692, 377, 684, 381, 680, 388, 680, 388, 680, 334, 665, 323, 659, 318, 654, 319, 648, 320, 639, 329, 640, 343, 645, 338, 632, 339, 625, 345, 621, 352, 620, 358, 625, 362, 634, 368, 649, 372, 664, 373, 677, 360, 676, 347, 671, 334, 665, 334, 665, 399, 691, 433, 690, 456, 686, 467, 678, 479, 670, 485, 655, 484, 629, 484, 617, 482, 606, 484, 597, 472, 598, 458, 595, 442, 596, 425, 596, 409, 601, 403, 610, 395, 618, 391, 643, 388, 679, 395, 680, 399, 684, 399, 691, 399, 691, 414, 638, 420, 626, 426, 622, 432, 622, 440, 624, 440, 633, 434, 646, 447, 641, 455, 642, 458, 648, 459, 656, 454, 661, 445, 665, 430, 671, 416, 675, 402, 677, 403, 663, 408, 650, 414, 638, 414, 638, 388, 703, 390, 736, 394, 759, 403, 770, 411, 782, 426, 788, 452, 785, 464, 785, 475, 784, 485, 785, 483, 774, 485, 759, 485, 744, 484, 726, 479, 710, 470, 704, 461, 697, 436, 693, 400, 691, 399, 698, 395, 702, 388, 703, 388, 703, 442, 716, 453, 722, 458, 728, 458, 734, 456, 742, 447, 742, 434, 736, 439, 749, 438, 757, 432, 760, 425, 762, 419, 757, 415, 748, 409, 733, 404, 719, 403, 705, 416, 706, 429, 710, 442, 716, 442, 716, 722, 716, 722, 701, 710, 690, 696, 690, 695, 690, 694, 690, 693, 690, 693, 689, 694, 689, 695, 688, 705, 678, 705, 662, 695, 651, 685, 641, 668, 641, 658, 651, 658, 652, 657, 653, 656, 654, 656, 653, 656, 652, 656, 651, 656, 637, 645, 625, 630, 625, 616, 625, 605, 637, 605, 651, 605, 652, 605, 653, 605, 654, 604, 654, 604, 653, 603, 652, 593, 642, 576, 642, 566, 652, 556, 662, 556, 679, 566, 689, 567, 690, 568, 690, 569, 691, 568, 691, 567, 691, 566, 691, 552, 691, 540, 702, 540, 717, 540, 731, 552, 743, 566, 743, 567, 743, 568, 743, 569, 742, 569, 743, 568, 744, 567, 744, 557, 754, 557, 771, 567, 781, 577, 791, 594, 791, 604, 781, 605, 780, 605, 779, 606, 778, 606, 779, 606, 780, 606, 781, 606, 795, 617, 807, 632, 807, 646, 807, 657, 795, 657, 781, 657, 780, 657, 779, 657, 778, 658, 779, 658, 779, 659, 780, 669, 790, 686, 790, 696, 780, 706, 770, 706, 754, 696, 743, 695, 743, 694, 742, 693, 741, 694, 741, 695, 741, 696, 741, 710, 741, 722, 730, 722, 716, 631, 762, 605, 762, 585, 742, 585, 716, 585, 691, 605, 670, 631, 670, 657, 670, 677, 691, 677, 716, 677, 742, 657, 762, 631, 762, 958, 602, 957, 570, 951, 547, 940, 532, 925, 541, 905, 565, 887, 591, 886, 591, 886, 546, 892, 545, 897, 540, 897, 533, 897, 527, 891, 521, 884, 521, 877, 521, 872, 527, 872, 533, 872, 540, 876, 545, 882, 546, 882, 591, 882, 591, 870, 564, 860, 536, 848, 525, 833, 541, 820, 565, 808, 592, 807, 592, 807, 546, 813, 545, 817, 540, 817, 533, 817, 527, 812, 521, 805, 521, 798, 521, 792, 527, 792, 533, 792, 540, 797, 545, 802, 546, 802, 590, 784, 567, 766, 545, 755, 534, 729, 588, 731, 639, 766, 684, 787, 711, 814, 726, 847, 725, 919, 724, 960, 659, 958, 602, 958, 602, 783, 671, 772, 653, 777, 645, 789, 648, 812, 656, 830, 682, 840, 711, 821, 704, 797, 692, 783, 671, 836, 634, 840, 614, 850, 612, 856, 622, 867, 644, 861, 676, 848, 703, 840, 684, 831, 659, 836, 634, 836, 634, 919, 659, 911, 682, 885, 701, 856, 711, 863, 692, 875, 668, 896, 654, 913, 642, 922, 647, 919, 659, 919, 659]
      }]]
  }, {
      L9: "1101-1-confetti",
      JS: [["e789ff", {
          I: "M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
          U: [170, 439, 169, 438, 59, 370, 108, 300, 152, 238, 298, 276, 318, 337, 338, 398, 265, 380, 285, 358, 312, 328, 185, 247, 121, 307, 72, 353, 171, 440, 170, 439, 318, 338, 336, 399, 262, 408, 184, 346, 138, 309, 73, 237, 112, 174, 167, 88, 345, 115, 377, 222, 393, 276, 296, 260, 335, 236, 375, 212, 236, 111, 155, 183, 73, 254, 265, 380, 285, 358, 312, 328, 318, 338, 318, 338, 377, 222, 394, 276, 318, 288, 243, 236, 187, 197, 146, 120, 201, 56, 254, -5, 365, 26, 407, 68, 407, 68, 414, 94, 378, 71, 344, 50, 258, 31, 221, 89, 178, 154, 297, 260, 336, 235, 374, 211, 377, 222, 377, 222, 406, 70, 452, 115, 432, 189, 324, 115, 214, 39, 323, -85, 322, -85, 320, -85, 229, 38, 331, 100, 439, 166, 413, 95, 377, 72, 343, 51, 364, 28, 406, 70, 346, 405, 369, 418, 356, 441, 333, 428, 346, 405, 513, 298, 536, 311, 523, 334, 500, 321, 513, 298, 891, 91, 914, 104, 901, 127, 878, 114, 891, 91, 24, 123, 47, 136, 34, 159, 11, 146, 24, 123, 664, 33, 687, 46, 674, 69, 651, 56, 664, 33, 910, 482, 933, 495, 920, 518, 897, 505, 910, 482]
      }], ["666666", {
          I: "M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
          U: [919, 442, 917, 443, 802, 510, 764, 432, 730, 364, 837, 250, 901, 261, 965, 272, 913, 329, 903, 301, 889, 262, 755, 338, 777, 424, 794, 490, 920, 442, 919, 442, 901, 261, 964, 274, 936, 345, 842, 386, 787, 410, 690, 435, 654, 370, 604, 279, 716, 132, 827, 153, 883, 164, 821, 244, 819, 197, 817, 150, 659, 228, 682, 335, 706, 443, 913, 329, 903, 301, 889, 262, 901, 261, 901, 261, 827, 153, 884, 163, 857, 238, 774, 281, 711, 313, 622, 313, 593, 233, 564, 157, 647, 71, 705, 54, 705, 54, 732, 60, 694, 82, 658, 102, 599, 170, 632, 231, 669, 301, 822, 244, 819, 197, 816, 150, 827, 153, 827, 153, 706, 54, 769, 34, 825, 87, 706, 149, 583, 213, 527, 56, 526, 57, 526, 59, 590, 200, 696, 137, 807, 70, 732, 60, 694, 82, 658, 102, 648, 73, 706, 54, 362, 328, 383, 340, 371, 361, 350, 349, 362, 328, 52, 189, 73, 201, 61, 222, 40, 210, 52, 189, 509, 119, 530, 131, 517, 152, 496, 140, 509, 119, 912, 16, 933, 28, 921, 49, 900, 37, 912, 16, 629, 380, 650, 392, 638, 413, 617, 401, 629, 380, 77, 414, 98, 426, 86, 447, 65, 435, 77, 414, 240, 76, 261, 88, 249, 109, 228, 97, 240, 76]
      }]]
  }, {
      L9: "1101-1-branch",
      JS: [["7f500b", {
          I: "M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),
          U: [144, -14, 144, -14, 149, -12, 150, -12, 150, -12, 106, 22, 86, 75, 63, 137, 93, 193, 69, 238, 64, 236, 89, 174, 53, 146, 80, 72, 99, 19, 144, -14, 144, -14, 280, -18, 281, -18, 276, -20, 276, -20, 276, -20, 282, 23, 264, 64, 244, 113, 196, 129, 185, 168, 189, 170, 209, 120, 244, 123, 269, 66, 288, 25, 280, -18, 280, -18, 429, -5, 429, -5, 434, -4, 434, -4, 435, -4, 405, 28, 396, 72, 386, 124, 415, 164, 402, 203, 398, 202, 410, 150, 379, 132, 391, 70, 399, 26, 429, -5, 429, -5, 514, -7, 514, -7, 519, -12, 519, -12, 520, -12, 532, 50, 577, 96, 630, 151, 703, 150, 738, 197, 733, 201, 681, 144, 635, 166, 571, 101, 526, 54, 514, -7, 514, -7, 666, -67, 666, -68, 663, -65, 662, -64, 662, -64, 704, -52, 734, -18, 768, 22, 763, 72, 793, 99, 796, 96, 760, 57, 778, 26, 737, -22, 708, -56, 666, -67, 666, -67, 936, -8, 936, -8, 932, -9, 931, -9, 931, -9, 947, 32, 938, 76, 927, 127, 884, 154, 881, 194, 886, 195, 895, 142, 930, 138, 943, 76, 952, 32, 936, -8, 936, -8]
      }], ["5c7f0b", {
          I: "M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),
          U: [119, 6, 121, 16, 113, 31, 81, 33, 58, 34, 27, 27, 27, 27, 27, 27, 53, 5, 70, -1, 93, -9, 117, -4, 119, 6, 124, 8, 132, 1, 151, 12, 165, 33, 179, 54, 180, 87, 180, 87, 180, 87, 153, 75, 139, 60, 122, 41, 115, 14, 124, 8, 78, 74, 82, 83, 76, 97, 48, 103, 27, 108, -2, 105, -2, 105, -2, 105, 19, 81, 33, 74, 53, 64, 75, 65, 78, 74, 83, 75, 90, 68, 108, 76, 124, 93, 139, 110, 144, 140, 144, 140, 144, 140, 117, 132, 104, 121, 85, 105, 76, 83, 83, 75, 72, 152, 75, 159, 72, 172, 48, 179, 30, 185, 6, 185, 6, 185, 6, 185, 22, 163, 33, 156, 49, 145, 68, 145, 72, 152, 76, 153, 81, 146, 98, 151, 112, 165, 126, 178, 133, 203, 133, 203, 133, 203, 110, 199, 97, 190, 80, 178, 70, 160, 76, 153, 73, 206, 75, 213, 71, 224, 49, 228, 34, 232, 12, 230, 12, 230, 12, 230, 28, 212, 39, 206, 53, 199, 70, 200, 73, 206, 76, 207, 81, 202, 95, 207, 107, 220, 118, 233, 122, 255, 122, 255, 122, 255, 102, 250, 92, 241, 78, 230, 71, 213, 76, 207, 70, 232, 78, 236, 76, 252, 66, 269, 56, 286, 33, 297, 33, 297, 33, 297, 33, 274, 39, 260, 46, 241, 62, 228, 70, 232, 285, 3, 278, 8, 274, 21, 291, 39, 304, 52, 325, 63, 325, 63, 325, 63, 323, 36, 316, 24, 308, 7, 291, -2, 285, 3, 281, 1, 280, -7, 263, -10, 244, -5, 224, 1, 205, 20, 205, 20, 205, 20, 228, 27, 244, 25, 264, 22, 283, 10, 281, 1, 270, 65, 264, 69, 259, 80, 272, 99, 281, 112, 299, 125, 299, 125, 299, 125, 300, 100, 296, 88, 290, 72, 277, 61, 270, 65, 267, 64, 267, 56, 252, 51, 234, 53, 216, 56, 197, 71, 197, 71, 197, 71, 216, 80, 230, 80, 249, 80, 267, 72, 267, 64, 231, 116, 225, 119, 220, 128, 230, 145, 237, 157, 251, 170, 251, 170, 251, 170, 254, 148, 251, 138, 248, 123, 237, 113, 231, 116, 228, 114, 229, 108, 217, 102, 201, 103, 186, 103, 168, 115, 168, 115, 168, 115, 184, 124, 196, 126, 212, 127, 228, 121, 228, 114, 201, 148, 196, 151, 192, 160, 202, 174, 209, 184, 222, 194, 222, 194, 222, 194, 223, 175, 220, 166, 216, 154, 206, 145, 201, 148, 198, 147, 198, 141, 187, 137, 174, 139, 160, 141, 145, 152, 145, 152, 145, 152, 160, 159, 171, 159, 185, 160, 198, 153, 198, 147, 188, 165, 182, 163, 173, 174, 170, 190, 167, 205, 173, 224, 173, 224, 173, 224, 186, 210, 191, 198, 197, 183, 195, 166, 188, 165, 415, 10, 417, 18, 413, 31, 389, 36, 371, 39, 347, 37, 347, 37, 347, 37, 364, 16, 377, 9, 393, 0, 412, 2, 415, 10, 418, 11, 424, 4, 440, 11, 453, 27, 466, 43, 470, 69, 470, 69, 470, 69, 448, 62, 436, 52, 420, 38, 412, 17, 418, 11, 391, 69, 394, 76, 392, 89, 371, 96, 355, 102, 333, 103, 333, 103, 333, 103, 346, 81, 357, 74, 371, 64, 388, 63, 391, 69, 395, 70, 399, 63, 414, 68, 428, 80, 441, 92, 448, 116, 448, 116, 448, 116, 427, 113, 415, 105, 400, 94, 390, 77, 395, 70, 395, 133, 398, 139, 397, 150, 379, 158, 367, 164, 348, 167, 348, 167, 348, 167, 358, 148, 366, 140, 377, 130, 391, 128, 395, 133, 398, 134, 401, 128, 414, 130, 427, 140, 439, 149, 447, 169, 447, 169, 447, 169, 429, 167, 418, 162, 404, 154, 394, 140, 398, 134, 401, 177, 404, 182, 402, 192, 386, 198, 374, 202, 358, 203, 358, 203, 358, 203, 368, 187, 375, 181, 386, 173, 399, 172, 401, 177, 404, 178, 408, 173, 419, 176, 429, 185, 439, 194, 445, 212, 445, 212, 445, 212, 429, 210, 420, 204, 408, 196, 401, 183, 404, 178, 402, 198, 408, 201, 409, 214, 403, 229, 397, 244, 381, 255, 381, 255, 381, 255, 378, 236, 381, 224, 385, 208, 396, 196, 402, 198, 519, 23, 531, 26, 543, 42, 528, 75, 518, 99, 495, 125, 495, 125, 495, 125, 485, 87, 487, 67, 490, 40, 508, 19, 519, 23, 523, 19, 521, 7, 542, -6, 571, -8, 600, -10, 636, 6, 636, 6, 636, 6, 609, 27, 586, 32, 557, 39, 526, 32, 523, 19, 570, 100, 581, 102, 594, 115, 585, 147, 579, 170, 562, 197, 562, 197, 562, 197, 548, 163, 547, 145, 547, 120, 560, 98, 570, 100, 574, 97, 570, 86, 587, 72, 613, 66, 639, 60, 673, 71, 673, 71, 673, 71, 652, 93, 632, 101, 607, 110, 578, 107, 574, 97, 649, 149, 659, 150, 670, 160, 666, 188, 662, 208, 650, 232, 650, 232, 650, 232, 635, 205, 633, 189, 631, 168, 640, 149, 649, 149, 652, 146, 648, 137, 662, 123, 683, 116, 705, 109, 734, 116, 734, 116, 734, 116, 718, 137, 702, 145, 681, 155, 657, 155, 652, 146, 707, 178, 715, 179, 724, 189, 718, 213, 714, 230, 701, 250, 701, 250, 701, 250, 690, 225, 690, 211, 689, 193, 699, 177, 707, 178, 710, 175, 707, 167, 720, 156, 739, 151, 759, 147, 784, 155, 784, 155, 784, 155, 768, 172, 753, 177, 734, 185, 713, 183, 710, 175, 732, 194, 740, 189, 757, 199, 770, 218, 782, 237, 783, 266, 783, 266, 783, 266, 758, 254, 746, 240, 730, 223, 724, 199, 732, 194, 687, -62, 688, -54, 699, -45, 722, -53, 739, -59, 759, -73, 759, -73, 759, -73, 733, -82, 719, -82, 701, -81, 685, -71, 687, -62, 684, -60, 676, -62, 666, -48, 662, -28, 659, -9, 669, 17, 669, 17, 669, 17, 684, -1, 689, -16, 696, -35, 692, -57, 684, -60, 737, -23, 738, -15, 746, -5, 768, -9, 784, -12, 804, -23, 804, -23, 804, -23, 782, -34, 769, -36, 752, -38, 736, -30, 737, -23, 734, -20, 727, -24, 716, -13, 711, 5, 705, 22, 711, 46, 711, 46, 711, 46, 727, 33, 734, 20, 742, 3, 742, -17, 734, -20, 766, 35, 766, 41, 772, 50, 792, 48, 806, 47, 823, 40, 823, 40, 823, 40, 805, 28, 795, 26, 780, 23, 766, 28, 766, 35, 763, 37, 758, 33, 747, 42, 741, 56, 735, 70, 738, 91, 738, 91, 738, 91, 753, 81, 760, 71, 768, 57, 769, 40, 763, 37, 782, 76, 783, 82, 789, 89, 806, 86, 818, 84, 832, 76, 832, 76, 832, 76, 816, 67, 806, 66, 794, 65, 782, 70, 782, 76, 780, 78, 775, 75, 766, 84, 762, 97, 758, 110, 762, 128, 762, 128, 762, 128, 775, 118, 779, 108, 786, 95, 785, 80, 780, 78, 792, 94, 788, 100, 794, 112, 807, 122, 819, 131, 839, 133, 839, 133, 839, 133, 832, 116, 823, 107, 812, 95, 796, 89, 792, 94, 945, 11, 939, 18, 938, 31, 959, 45, 974, 55, 997, 62, 997, 62, 997, 62, 989, 36, 980, 25, 968, 11, 950, 5, 945, 11, 941, 11, 938, 3, 921, 3, 903, 13, 885, 22, 871, 45, 871, 45, 871, 45, 894, 47, 909, 42, 929, 35, 944, 19, 941, 11, 944, 75, 938, 80, 935, 93, 952, 108, 964, 119, 984, 128, 984, 128, 984, 128, 980, 104, 974, 93, 965, 78, 949, 70, 944, 75, 940, 75, 938, 67, 923, 65, 906, 71, 889, 77, 873, 96, 873, 96, 873, 96, 894, 101, 908, 99, 926, 95, 942, 82, 940, 75, 916, 133, 911, 137, 907, 147, 920, 162, 930, 172, 946, 182, 946, 182, 946, 182, 944, 160, 940, 151, 933, 137, 921, 129, 916, 133, 913, 132, 912, 125, 899, 123, 884, 127, 869, 130, 854, 145, 854, 145, 854, 145, 871, 151, 883, 150, 899, 148, 913, 139, 913, 132, 893, 171, 888, 175, 887, 184, 899, 196, 908, 204, 923, 211, 923, 211, 923, 211, 920, 193, 915, 184, 909, 173, 897, 167, 893, 171, 890, 170, 889, 165, 877, 163, 864, 168, 851, 172, 839, 187, 839, 187, 839, 187, 855, 190, 865, 188, 879, 186, 891, 176, 890, 170, 884, 190, 877, 190, 871, 202, 871, 218, 871, 234, 881, 251, 881, 251, 881, 251, 891, 234, 893, 222, 896, 206, 890, 190, 884, 190]
      }]]
  }, {
      L9: "1101-1-sticks",
      JS: [["ec7272", {
          I: "M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
          U: [260, 148, 297, 180, 286, 192, 249, 160, 260, 148, 114, 31, 161, 47, 155, 63, 109, 47, 114, 31, 931, 91, 902, 52, 915, 42, 945, 81, 931, 91, 711, 19, 746, -15, 758, -3, 723, 31, 711, 19, 812, 161, 782, 122, 795, 112, 825, 151, 812, 161, 389, 34, 424, 0, 436, 12, 401, 46, 389, 34, 431, 209, 465, 175, 477, 186, 442, 221, 431, 209, 282, 90, 282, 41, 299, 41, 299, 90, 282, 90, 58, 233, 29, 194, 42, 184, 72, 223, 58, 233, 574, 58, 621, 74, 615, 90, 569, 74, 574, 58]
      }], ["0000ff", {
          I: "M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
          U: [722, 208, 733, 161, 717, 157, 706, 205, 722, 208, 843, 12, 797, 28, 802, 44, 849, 28, 843, 12, 31, 74, 60, 35, 47, 25, 18, 64, 31, 74, 220, 21, 185, -13, 173, -1, 208, 33, 220, 21, 140, 166, 170, 127, 157, 117, 127, 156, 140, 166, 558, 148, 523, 114, 511, 126, 546, 160, 558, 148, 562, 9, 516, 25, 521, 41, 568, 25, 562, 9, 697, 105, 726, 66, 713, 56, 684, 95, 697, 105, 961, 180, 990, 141, 977, 131, 948, 170, 961, 180, 399, 97, 353, 113, 358, 129, 405, 113, 399, 97]
      }]]
  }, {
      L9: "1101-1-dots",
      JS: [["ec7272", {
          I: "M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),
          U: [154, 47, 144, 47, 136, 39, 136, 29, 136, 19, 144, 11, 154, 11, 164, 11, 172, 19, 172, 29, 172, 39, 164, 47, 154, 47, 272, 164, 262, 164, 254, 156, 254, 146, 254, 136, 262, 128, 272, 128, 282, 128, 290, 136, 290, 146, 290, 156, 282, 164, 272, 164, 529, 48, 519, 48, 511, 40, 511, 30, 511, 20, 519, 12, 529, 12, 539, 12, 547, 20, 547, 30, 547, 40, 539, 48, 529, 48, 696, 101, 686, 101, 678, 93, 678, 83, 678, 73, 686, 65, 696, 65, 706, 65, 714, 73, 714, 83, 714, 93, 706, 101, 696, 101, 929, 91, 919, 91, 911, 83, 911, 73, 911, 63, 919, 55, 929, 55, 939, 55, 947, 63, 947, 73, 947, 83, 939, 91, 929, 91]
      }], ["0000ff", {
          I: "M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),
          U: [66, 122, 56, 122, 48, 114, 48, 104, 48, 94, 56, 86, 66, 86, 76, 86, 84, 94, 84, 104, 84, 114, 76, 122, 66, 122, 309, 55, 299, 55, 291, 47, 291, 37, 291, 27, 299, 19, 309, 19, 319, 19, 327, 27, 327, 37, 327, 47, 319, 55, 309, 55, 785, 180, 775, 180, 767, 172, 767, 162, 767, 152, 775, 144, 785, 144, 795, 144, 803, 152, 803, 162, 803, 172, 795, 180, 785, 180, 459, 147, 449, 147, 441, 139, 441, 129, 441, 119, 449, 111, 459, 111, 469, 111, 477, 119, 477, 129, 477, 139, 469, 147, 459, 147, 811, 48, 801, 48, 793, 40, 793, 30, 793, 20, 801, 12, 811, 12, 821, 12, 829, 20, 829, 30, 829, 40, 821, 48, 811, 48]
      }], ["88a500", {
          I: ["M", "C", "C", "Z"],
          U: [389, 224, 389, 224, 410, 230, 410, 230, 410, 230, 389, 224, 389, 224]
      }]]
  }, {
      L9: "1101-1-strips",
      JS: [["ffc88c", {
          I: "M L L L L Z M L L L L Z M L L L L Z".split(" "),
          U: [-40, 0, 44, 0, 137, 99, 53, 99, -40, 0, 296, 0, 380, 0, 473, 99, 389, 99, 296, 0, 632, 0, 716, 0, 809, 99, 725, 99, 632, 0]
      }], ["88a500", {
          I: "M L L L L Z M L L L L Z M L L L L Z".split(" "),
          U: [128, 0, 212, 0, 305, 99, 221, 99, 128, 0, 464, 0, 548, 0, 641, 99, 557, 99, 464, 0, 800, 0, 884, 0, 977, 99, 893, 99, 800, 0]
      }], ["88a500", {
          I: ["M", "C", "C", "Z"],
          U: [407, 217, 407, 217, 428, 223, 428, 223, 428, 223, 407, 217, 407, 217]
      }]]
  }, {
      L9: "1101-1-circs",
      JS: [["ec7272", {
          I: "M C C C C Z M C C C C Z".split(" "),
          U: [61, 209, 27, 209, 0, 181, 0, 147, 0, 113, 27, 86, 61, 86, 96, 86, 123, 113, 123, 147, 123, 181, 96, 209, 61, 209, 551, 209, 517, 209, 489, 181, 489, 147, 489, 113, 517, 86, 551, 86, 585, 86, 612, 113, 612, 147, 612, 181, 585, 209, 551, 209]
      }], ["217995", {
          I: "M C C C C Z M C C C C Z".split(" "),
          U: [303, 209, 269, 209, 241, 181, 241, 147, 241, 113, 269, 86, 303, 86, 337, 86, 364, 113, 364, 147, 364, 181, 337, 209, 303, 209, 799, 209, 765, 209, 738, 181, 738, 147, 738, 113, 765, 86, 799, 86, 834, 86, 861, 113, 861, 147, 861, 181, 834, 209, 799, 209]
      }], ["88a500", {
          I: ["M", "C", "C", "Z"],
          U: [530, 273, 530, 273, 551, 279, 551, 279, 551, 279, 530, 273, 530, 273]
      }]]
  }, {
      L9: "1101-1-squares",
      JS: [["014ea7", {
          I: "M L L L L Z M L L L L Z".split(" "),
          U: [0, 120, 124, 120, 124, 244, 0, 244, 0, 120, 497, 120, 621, 120, 621, 244, 497, 244, 497, 120]
      }], ["fc54ff", {
          I: "M L L L L Z M L L L L Z".split(" "),
          U: [249, 120, 373, 120, 373, 244, 249, 244, 249, 120, 746, 120, 870, 120, 870, 244, 746, 244, 746, 120]
      }], ["88a500", {
          I: ["M", "C", "C", "Z"],
          U: [389, 354, 389, 354, 410, 360, 410, 360, 410, 360, 389, 354, 389, 354]
      }]]
  }, {
      L9: "1101-0-christmas",
      JS: [["014ea7", {
          I: "M C C C C Z M C C C C Z M L L L L Z".split(" "),
          U: [255, 480, 178, 480, 116, 418, 116, 341, 116, 264, 178, 202, 255, 202, 332, 202, 394, 264, 394, 341, 394, 418, 332, 480, 255, 480, 255, 232, 236, 232, 221, 217, 221, 198, 221, 179, 236, 164, 255, 164, 274, 164, 289, 179, 289, 198, 289, 217, 274, 232, 255, 232, 251, -152, 260, -152, 260, 248, 251, 248, 251, -152]
      }], ["ff9518", {
          I: "M C C C C Z M C C C C Z M L L L L Z".split(" "),
          U: [746, 623, 669, 623, 607, 561, 607, 484, 607, 407, 669, 345, 746, 345, 823, 345, 885, 407, 885, 484, 885, 561, 823, 623, 746, 623, 747, 376, 728, 376, 713, 361, 713, 342, 713, 323, 728, 308, 747, 308, 766, 308, 781, 323, 781, 342, 781, 361, 766, 376, 747, 376, 742, -8, 751, -8, 751, 392, 742, 392, 742, -8]
      }]]
  }];
  var bR = {};
  bR.parse = function(n) {
      var z = new Uint8Array(n)
        , C = null;
      if (z[0] == 80 && z[1] == 75) {
          var D = Date.now()
            , F = UZIP.parse(z.buffer)
            , C = F["document.json"];
          C = JSON.parse(T.iS(C, 0, C.length));
          bR.xB(C, F)
      } else {
          var X = d9.parse(n);
          C = bR.Rc(X[2][0][1])
      }
      return C
  }
  ;
  bR.xB = function(n, z) {
      var C = typeof n;
      if (C == "string" || C == "number" || C == "boolean")
          return n;
      if (n instanceof Array) {
          for (var M = 0; M < n.length; M++)
              n[M] = bR.xB(n[M], z);
          return n
      }
      var D = n._class;
      if (D == null)
          return n;
      if (D == "MSJSONFileReference") {
          var F = n._ref;
          if (!1) {} else if (z[F + ".json"] != null) {
              var X = z[F + ".json"]
                , E = X.length;
              for (var M = 0; M < E; M++)
                  if (X[M] == 11 || X[M] == 3)
                      X[M] = 32;
              var f = T.iS(X, 0, E);
              n = JSON.parse(f)
          } else if (z[F + ".png"] != null)
              return {
                  key: F.split("/").pop(),
                  bdata: z[F + ".png"]
              };
          else if (z[F + ".jpg"] != null)
              return {
                  key: F.split("/").pop(),
                  bdata: z[F + ".jpg"]
              };
          else if (z[F + ".pdf"] != null)
              return {
                  key: F.split("/").pop(),
                  bdata: z[F + ".pdf"]
              };
          else if (z[F] != null)
              return {
                  key: F.split("/").pop(),
                  bdata: z[F]
              };
          else {
              console.log(n, z);
              return
          }
      } else if (D == "MSAttributedString") {
          var f = atob(n.archivedAttributedString._archive)
            , a = f.length - 1
            , q = new Uint8Array(a);
          for (var M = 0; M < a; M++)
              q[M] = f.charCodeAt(M);
          n.archivedAttributedString = bR.Rc(q)
      }
      for (var c in n)
          n[c] = bR.xB(n[c], z);
      return n
  }
  ;
  bR.V$ = function(n, z, C, D) {
      if (n instanceof Uint8Array)
          return null;
      if (D.indexOf(n) != -1)
          return null;
      D.push(n);
      if (n == z)
          return C;
      for (var F in n) {
          C.push(F);
          var X = bR.V$(n[F], z, C, D);
          if (X) {
              console.log(n, X);
              throw "e"
          }
          C.pop()
      }
  }
  ;
  bR.Rc = function(n) {
      var z = co.parse(n, 0)
        , C = z.$objects
        , D = new Uint8Array(C.length)
        , F = bR.$O(C, D, z.$top.root);
      for (var M = 0; M < C.length; M++)
          if (D[M] == 0 && M != 0) {
              console.log(M, C[M]);
              bR.V$(F, M, [], [])
          }
      for (var M = 0; M < C.length; M++) {
          var X = C[M];
          if (X._class && (X._class == "bitmap" || X._class == "fill" && X.fillType == 4 && (X.image || X.imageSHA))) {
              var E = X.image
                , f = X.imageSHA
                , a = null
                , q = null;
              if (E == "$null")
                  E = null;
              if (f == "$null")
                  f = null;
              if (E && E.data) {
                  q = E.sha1["NS.bytes"];
                  q = btoa(T.uL(q, 0, q.length));
                  a = E.data instanceof Uint8Array ? E.data : E.data["NS.bytes"]
              } else if (E == null && f == null) {
                  var c = fC.ET("PNG").c0([[j.T(4).buffer]], 1, 1);
                  a = new Uint8Array(c)
              } else {
                  var K = (F.assets ? F.assets.imageCollection : F.images).images;
                  if (f)
                      q = f instanceof Uint8Array ? f : f["NS.bytes"];
                  else
                      q = E.sha1["NS.bytes"];
                  q = btoa(T.uL(q, 0, q.length));
                  var a = K[q].data;
                  if (a["NS.bytes"])
                      a = a["NS.bytes"]
              }
              a = new Uint8Array(a.buffer.slice(a.byteOffset, a.byteOffset + a.length));
              delete X.imageSHA;
              X.image = {
                  key: q,
                  bdata: a
              }
          }
      }
      return F
  }
  ;
  bR.a8O = function(n) {
      return n.slice(0, 11) == "MSImmutable" ? "MS" + n.slice(11) : n
  }
  ;
  bR.$O = function(n, z, C) {
      var D = n[C];
      if (z[C] == 1) {
          return D
      }
      z[C] = 1;
      if (typeof D == "string")
          return D;
      if (typeof D == "number")
          return D;
      if (typeof D == "boolean")
          return D;
      if (D instanceof Array)
          return D;
      if (D instanceof Uint8Array) {
          return D
      }
      if (n[D.$class] == null) {
          if (D.$class == null && D["NS.data"] != null)
              return D;
          console.log(C, D);
          throw "e"
      }
      var F = n[D.$class]
        , X = bR.a8O(F.$classname);
      z[D.$class] = 1;
      D.$class = X;
      if (bR.CO[X]) {
          delete D.$class;
          D._class = bR.CO[X]
      }
      var E = bR.$O;
      if (X == "NSMutableArray" || X == "NSArray") {
          var f = [];
          if (D["NS.objects"] != null)
              for (var M = 0; M < D["NS.objects"].length; M++)
                  f.push(E(n, z, D["NS.objects"][M]));
          else
              for (var M = 0; D["NS.object." + M] != null; M++)
                  f.push(E(n, z, D["NS.object." + M]));
          n[C] = f;
          return f
      }
      if (X == "NSDictionary" || X == "NSMutableDictionary") {
          var a = {
              $class: X
          };
          if (D["NS.keys"] != null)
              for (var M = 0; M < D["NS.keys"].length; M++) {
                  var q = E(n, z, D["NS.keys"][M]);
                  if (q instanceof Uint8Array)
                      q = btoa(bR.zW.uL(q, 0, q.length));
                  else if (typeof q != "string" && typeof q != "number")
                      q = btoa(bR.zW.uL(q["NS.bytes"], 0, q["NS.bytes"].length));
                  a[q] = E(n, z, D["NS.objects"][M])
              }
          else
              for (var M = 0; D["NS.key." + M] != null; M++) {
                  var q = E(n, z, D["NS.key." + M]);
                  if (q instanceof Uint8Array)
                      q = btoa(bR.zW.uL(q, 0, q.length));
                  else if (typeof q != "string" && typeof q != "number")
                      q = btoa(bR.zW.uL(q["NS.bytes"], 0, q["NS.bytes"].length));
                  a[q] = E(n, z, D["NS.object." + M])
              }
          for (var c in D)
              delete D[c];
          for (var c in a)
              D[c] = a[c];
          return D
      }
      if (X == "NSURL")
          return {
              $class: X,
              base: E(n, z, D["NS.base"]),
              relative: E(n, z, D["NS.relative"])
          };
      if (bR.akN.indexOf(X) != -1) {
          n[C] = E(n, z, D.array_do);
          return n[C]
      }
      if (D.do_objectID != null)
          D.do_objectID = E(n, z, D.do_objectID);
      if (bR.a8D.indexOf(X) != -1)
          return D;
      var K = bR.a6s[X];
      if (K == null) {
          console.log(n, D);
          throw "unknown class " + X
      }
      for (var M = 0; M < K.length; M++)
          if (D[K[M]] != null)
              D[K[M]] = E(n, z, D[K[M]]);
      if (X == "MSTextLayer") {
          var R = D, J, w, p, I;
          if (R.attributedString)
              J = R.attributedString.archivedAttributedString;
          else
              J = R.storage;
          I = J.NSString;
          if (typeof I != "string")
              I = T.iS(I["NS.bytes"], 0, I["NS.bytes"].length);
          if (J.NSAttributeInfo)
              w = J.NSAttributeInfo["NS.bytes"];
          else {
              var m = I.length
                , A = [];
              while (m > 0) {
                  var U = Math.min(100, m);
                  A.push(U, 0);
                  m -= U
              }
              w = new Uint8Array(A)
          }
          p = J.NSAttributes instanceof Array ? J.NSAttributes : [J.NSAttributes];
          var r = {
              $class: "NSAttributedString",
              NSString: I,
              NSAttributes: p
          };
          R.attributedString = {
              _class: "MSAttributedString",
              archivedAttributedString: r
          };
          r.NSAttributeInfo = {
              $class: "NSMutableData",
              "NS.data": w
          };
          delete R.storage
      }
      return D
  }
  ;
  bR.zW = {
      ij: function(n, z) {
          return n[z + 1] << 8 | n[z]
      },
      q: function(n, z) {
          return n[z + 3] << 24 | n[z + 2] << 16 | n[z + 1] << 8 | n[z]
      },
      uL: function(n, z, C) {
          var D = "";
          for (var M = 0; M < C; M++)
              D += String.fromCharCode(n[z + M]);
          return D
      }
  };
  bR.CO = {
      MSPage: "page",
      MSArtboardGroup: "artboard",
      MSShapeGroup: "shapeGroup",
      MSLayerGroup: "group",
      MSBitmapLayer: "bitmap",
      MSTextLayer: "text",
      MSSliceLayer: "slice",
      MSSymbolMaster: "symbolMaster",
      MSSymbolInstance: "symbolInstance",
      MSStyleFill: "fill",
      MSShapePathLayer: "shapePath",
      MSRectangleShape: "rectangle",
      MSOvalShape: "oval",
      MSTriangleShape: "triangle"
  };
  bR.akN = ["MSArray", "MSFillStyleCollection", "MSBorderStyleCollection", "MSShadowStyleCollection", "MSInnerShadowStyleCollection"];
  bR.a8D = "MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
  bR.a6s = {
      MSAssetCollection: ["gradients", "colors", "imageCollection", "images"],
      MSImageCollection: ["images"],
      MSSharedStyleContainer: ["objects"],
      MSSharedTextStyleContainer: ["objects"],
      MSSharedLayerStyleContainer: ["objects"],
      MSSharedLayerTextStyleContainer: ["objects"],
      MSSharedLayerContainer: ["objects"],
      MSSymbolContainer: ["objects"],
      MSGradient: ["stops", "from", "to", "points"],
      MSGradientStop: ["color"],
      MSStyleFill: ["color", "gradient", "contextSettings", "image", "imageSHA"],
      MSExportFormat: ["fileFormat", "name"],
      MSExportOptions: ["exportFormats", "includedLayerIds", "sizes"],
      MSRulerData: ["guides"],
      MSStyle: "textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),
      MSSharedStyle: ["name", "value"],
      MSSymbol: ["name", "value"],
      MSAttributedString: ["archivedAttributedString"],
      MSSharedLayerStyle: ["name", "value", "instances"],
      MSSharedLayer: ["name", "value", "instances"],
      MSDocumentData: "assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),
      MSShapePathLayer: "exportOptions frame name userInfo path originalObjectID".split(" "),
      MSOvalShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
      MSRectangleShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
      MSPolygonShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
      MSTriangleShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
      MSStarShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
      MSBitmapLayer: "exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),
      MSTextLayer: "exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),
      MSShapeGroup: "exportOptions frame name userInfo style originalObjectID layers".split(" "),
      MSLayerGroup: "exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),
      MSArtboardGroup: "exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),
      MSPage: "exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),
      MSSymbolMaster: "exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),
      MSSymbolInstance: "exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),
      MSSliceLayer: ["exportOptions", "frame", "name", "userInfo", "backgroundColor"],
      MSTextStyle: ["attributes", "encodedAttributes"],
      MSShapePath: ["points"],
      MSPointArray: ["points"],
      MSImageData: ["data", "sha1", "name"],
      MSCurvePoint: ["curveFrom", "curveTo", "point"],
      MSImageProxy: ["sha1"],
      MSStyleBorder: ["color", "gradient", "contextSettings"],
      MSStyleBlur: ["center"],
      MSStyleShadow: ["color", "contextSettings"],
      MSStyleInnerShadow: ["color", "contextSettings"],
      MSExportSize: ["format", "name"],
      MSStyleBorderOptions: ["dashPattern"],
      NSFont: ["NSName", "NSDescriptor"],
      NSColor: ["NSCustomColorSpace"],
      NSFontDescriptor: ["NSFontDescriptorAttributes"],
      NSMutableParagraphStyle: ["NSTextBlocks", "NSTabStops", "NSTextLists"],
      NSAttributedString: ["NSAttributes", "NSString", "NSAttributeInfo"],
      NSTextStorage: ["NSAttributeInfo", "NSAttributes", "NSString"],
      NSColorSpace: ["NSICC"],
      NSParagraphStyle: ["NSTabStops", "NSTextBlocks", "NSTextLists"],
      NSTextList: ["NSMarkerFormat"],
      NSTextTab: ["NSTabOptions"],
      UIFontDescriptor: ["UIFontDescriptorAttributes"]
  };
  var co = {};
  co.parse = function(n, z) {
      var C = T.uL(n, z, 8);
      z += 8;
      var D = co.parse.a4b(n, n.length - 31)
        , F = [];
      if (D.De == 1) {
          var z = n.length - 31 - D.De * D.nC;
          for (var M = 0; M < D.nC; M++)
              F.push(n[z + M])
      } else if (D.De == 2) {
          var z = n.length - 31 - D.De * D.nC;
          for (var M = 0; M < D.nC; M++)
              F.push(T.ij(n, z + M * 2))
      } else if (D.De == 4) {
          var z = n.length - 31 - D.De * D.nC;
          for (var M = 0; M < D.nC; M++)
              F.push(T.q(n, z + M * 4))
      } else {
          throw "e"
      }
      var X = co.parse.$O(n, F, D.root, D);
      return X
  }
  ;
  co.parse.$O = function(n, z, C, D) {
      var F = co.zW
        , X = D.afB
        , E = X == 4 ? F.q : X == 2 ? F.ij : F.aki
        , f = co.parse
        , a = z[C]
        , q = n[a]
        , c = q >> 4
        , K = q & 15
        , J = null;
      a += 1;
      if ([4, 5, 6, 10, 12, 13].indexOf(c) != -1 && K == 15) {
          var R = f.Rt(n, a);
          a += R.Rs;
          K = R.G
      }
      if (!1) {} else if (c == 0)
          J = K == 8 ? !1 : K == 9 ? !0 : null;
      else if (c == 1)
          J = f.Rt(n, a - 1).G;
      else if (c == 2)
          J = 1 << K == 4 ? T.$g(n, a) : T.C9(n, a);
      else if (c == 3)
          J = T.C9(n, a);
      else if (c == 4)
          J = new Uint8Array(n.buffer,a,K);
      else if (c == 5)
          J = T.uL(n, a, K);
      else if (c == 6)
          J = T.tE(n, a, K);
      else if (c == 8) {
          J = 0;
          for (var M = 0; M < K + 1; M++)
              J = J << 8 | n[a + M]
      } else if (c == 10) {
          J = [];
          for (var M = 0; M < K; M++)
              J.push(f.$O(n, z, E(n, a + X * M), D))
      } else if (c == 12) {
          J = [];
          for (var M = 0; M < K; M++)
              J.push(f.$O(n, z, E(n, a + X * M), D))
      } else if (c == 13) {
          J = {};
          for (var M = 0; M < K; M++) {
              var w = f.$O(n, z, E(n, a + X * M), D)
                , p = f.$O(n, z, E(n, a + X * (K + M)), D);
              J[w] = p
          }
      } else
          throw "unknown mask " + c;
      return J
  }
  ;
  co.parse.Rt = function(n, z) {
      var C = 1 << (n[z] & 15)
        , D = 0;
      for (var M = 0; M < C; M++)
          D = D << 8 | n[z + 1 + M];
      return {
          G: D,
          Rs: C + 1
      }
  }
  ;
  co.parse.a4b = function(n, z) {
      var C = {};
      z += 6;
      C.De = n[z];
      z++;
      C.afB = n[z];
      z++;
      z += 4;
      C.nC = T.q(n, z);
      z += 4;
      z += 4;
      C.root = T.q(n, z);
      z += 4;
      z += 4;
      C.a2M = T.q(n, z);
      z += 4;
      return C
  }
  ;
  co.zW = {
      aki: function(n, z) {
          return n[z]
      },
      ij: function(n, z) {
          return n[z] << 8 | n[z + 1]
      },
      q: function(n, z) {
          return n[z] << 24 | n[z + 1] << 16 | n[z + 2] << 8 | n[z + 3]
      },
      uL: function(n, z, C) {
          var D = "";
          for (var M = 0; M < C; M++)
              D += String.fromCharCode(n[z + M]);
          return D
      }
  };
  var d9 = {
      parse: function(n) {
          var z = new Uint8Array(n)
            , C = d9.Uh(z)
            , D = []
            , F = new Uint8Array(z.length)
            , X = [];
          D.push(X);
          d9.GX(z, C, 1, F, X);
          for (var M = 0; M < X.length; M++) {
              var E = [];
              D.push(E);
              d9.GX(z, C, X[M][3], F, E);
              X[M][3] = M + 1
          }
          return D
      },
      GX: function(n, z, C, D, F) {
          C--;
          var X = C * z.Xk + (C == 0 ? 100 : 0)
            , E = n[X]
            , f = d9.ij(n, X + 1);
          if (f != 0)
              throw "free block in a page";
          var a = d9.ij(n, X + 3)
            , q = d9.ij(n, X + 5);
          if (q == 0)
              q = 65536;
          var c = n[X + 7]
            , K = d9.ij(n, X + 8);
          if (E == 2 || E == 5)
              X += 4;
          else
              K = 0;
          for (var R = 0; R < a; R++) {
              var J = C * z.Xk + d9.ij(n, X + 8 + 2 * R)
                , w = -1
                , p = 0
                , I = 0
                , m = 0;
              if (E == 2 || E == 5) {
                  w = d9.q(n, J);
                  J += 4
              }
              if (E == 2 || E == 10 || E == 13) {
                  p = d9.Hy(n, J);
                  J += p.Rs
              }
              if (E == 5 || E == 13) {
                  I = d9.Hy(n, J);
                  J += I.Rs
              }
              if (E == 5) {
                  d9.GX(n, z, w, D, F);
                  continue
              }
              var A = z.Xk - (C == 0 ? 100 : 0)
                , U = p.b2
                , r = E == 13 ? A - 35 : Math.floor((A - 12) * 64 / 255) - 23
                , $ = Math.floor((A - 12) * 32 / 255) - 23
                , k = $ + (U - $) % (A - 4);
              if (U <= r) {
                  d9.YY(n, J, D, 0, U)
              } else {
                  var G = k <= r ? k : $
                    , i = 0;
                  d9.YY(n, J, D, 0, G);
                  i += G;
                  m = d9.q(n, J + G);
                  while (m != 0) {
                      var o = (m - 1) * z.Xk;
                      m = d9.q(n, o);
                      var S = Math.min(z.Xk - 4, U - i);
                      d9.YY(n, o + 4, D, i, S);
                      i += S
                  }
              }
              F.push(d9.a0f(D, U))
          }
      },
      a0f: function(n, z) {
          var C = 0
            , D = d9.Hy(n, C);
          C += D.Rs;
          var F = []
            , X = [];
          while (C < D.b2) {
              var E = d9.Hy(n, C);
              C += E.Rs;
              F.push(E.b2)
          }
          if (C != D.b2)
              throw "e";
          for (var M = 0; M < F.length; M++) {
              var E = F[M];
              if (!1) {} else if (E == 0)
                  X.push(null);
              else if (E == 1) {
                  X.push(d9.a2s(n, C));
                  C += 1
              } else if (E == 2) {
                  X.push(d9.yC(n, C));
                  C += 2
              } else if (E == 3) {
                  X.push(d9.am3(n, C));
                  C += 3
              } else if (E == 4) {
                  X.push(d9.Rt(n, C));
                  C += 4
              } else if (E == 7) {
                  X.push(d9.aiL(n, C));
                  C += 16
              } else if (E == 8)
                  X.push(0);
              else if (E == 9)
                  X.push(1);
              else if (E >= 12 && (E & 1) == 0) {
                  var f = E - 13 >> 1
                    , a = new Uint8Array(f);
                  d9.YY(n, C, a, 0, f);
                  X.push(a);
                  C += f
              } else if (E >= 13 && (E & 1) == 1) {
                  var f = E - 12 >> 1;
                  X.push(d9.iS(n, C, f));
                  C += f
              } else
                  throw "unknonw type " + E
          }
          return X
      },
      Uh: function(n) {
          if (!(n[18] == 1 && n[19] == 1 && n[20] == 0 && n[21] == 64 && n[22] == 32 && n[23] == 32))
              throw "unexpected SQL3 header";
          var z = {
              _X: d9.uL(n, 0, 15),
              Xk: d9.ij(n, 16),
              abw: d9.q(n, 24),
              size: d9.q(n, 28),
              am2: d9.q(n, 32),
              aoB: d9.q(n, 36),
              ady: d9.q(n, 40),
              a1c: d9.q(n, 44),
              ai_: d9.q(n, 48),
              ak5: d9.q(n, 52),
              acs: d9.q(n, 56),
              aiN: d9.q(n, 60),
              aeo: d9.q(n, 64) != 0,
              a5b: d9.q(n, 68),
              alP: d9.q(n, 92),
              alZ: d9.q(n, 96)
          };
          if (z.Xk == 1)
              z.Xk = 65536;
          if (z.acs != 1)
              throw "unsupported text encoding " + z.acs;
          return z
      },
      agW: function(n, z) {
          return n[z] << 16 | n[z + 1] << 8 | n[z + 2]
      },
      am3: function(n, z) {
          var C = d9.agW(n, z)
            , D = C & 8388608;
          return D ? -(16777215 - C + 1) : C
      },
      a2s: function(n, z) {
          d9.gf[0] = n[z];
          return d9.a7p[0]
      },
      Rt: function(n, z) {
          var C = d9.gf;
          for (var M = 0; M < 4; M++)
              C[M] = n[z + 3 - M];
          return d9.al4[0]
      },
      yC: function(n, z) {
          var C = d9.gf;
          C[0] = n[z + 1];
          C[1] = n[z];
          return d9.alU[0]
      },
      ij: function(n, z) {
          return n[z] << 8 | n[z + 1]
      },
      q: function(n, z) {
          return n[z] << 24 | n[z + 1] << 16 | n[z + 2] << 8 | n[z + 3]
      },
      aiL: function(n, z) {
          var C = d9.gf;
          for (var M = 0; M < 8; M++)
              C[M] = n[z + 7 - M];
          return d9.a89[0]
      },
      Hy: function(n, z) {
          var C = z
            , h = 0;
          while (!0) {
              var D = n[z];
              z++;
              h = h * 128 + (D & 127);
              if (D < 128)
                  break
          }
          return {
              b2: h,
              Rs: z - C
          }
      },
      uL: function(n, z, C) {
          var D = "";
          for (var M = 0; M < C; M++)
              D += String.fromCharCode(n[z + M]);
          return D
      },
      iS: function(n, z, C) {
          var D = "";
          for (var M = 0; M < C; M++)
              D += "%" + d9.aon(n[z + M].toString(16));
          return decodeURIComponent(D)
      },
      YY: function(n, z, C, D, F) {
          if (n[z + F - 1] == null || C[D + F - 1] == null) {
              console.log(z, D, F);
              throw "e"
          }
          for (var M = 0; M < F; M++)
              C[D + M] = n[z + M]
      },
      aon: function(h) {
          return h.length < 2 ? "0" + h : h
      }
  };
  d9.gf = new Uint8Array(8);
  d9.a7p = new Int8Array(d9.gf.buffer);
  d9.alU = new Int16Array(d9.gf.buffer);
  d9.al4 = new Int32Array(d9.gf.buffer);
  d9.a89 = new Float64Array(d9.gf.buffer);
  function iO(n, z, C) {
      this.zf = n;
      this.wo = z;
      this.ahL = C;
      this.GW = new ir(0,0);
      this.ym = -1;
      this.Sc = 0;
      this.bI = 0;
      this.lP = new cc;
      this.hk = [];
      this.Z9 = null;
      this.a9D = null;
      this.E0 = null;
      this.xT = null;
      this.Su = null;
      this.alK = null
  }
  iO.prototype.StartPage = function(n, z, C, D, F) {
      var X = this.wo
        , E = X.Jr()
        , f = 1
        , a = (C - n) * (D - z);
      if (F != null)
          a = F;
      while (a * E * E / (f * f) > 2 * 8192 * 8192)
          f++;
      X.scale(1 / f, 1 / f);
      this.a9D = [n, z, C, D];
      var f = X.Jr();
      n = Math.round(n * f);
      z = Math.round(z * f);
      C = Math.round(C * f);
      D = Math.round(D * f);
      var q = this.zf
        , c = this.E0;
      if (c == null) {
          X.H1 = -n
      } else {
          var K = c[2] - c[0] + 30
            , R = Math.round(C - n) + 30;
          if (this.GW.x + K + R > 8192) {
              X.H1 = -n;
              this.GW.x = 0;
              this.GW.y += this.bI + 120;
              this.bI = 0
          } else {
              X.H1 += K;
              this.GW.x += K
          }
      }
      X.Wv = this.GW.y + (this.ahL ? D : -z);
      this.bI = Math.max(this.bI, Math.round(D - z));
      this.E0 = [n, z, C, D];
      q.W.push(q.iE())
  }
  ;
  iO.prototype.Sm = function() {
      var n = this.zf
        , z = n.W[n.W.length - 1];
      return z
  }
  ;
  iO.prototype.AC = function() {
      var n = JSON.parse(JSON.stringify(g$.Bt.default));
      n.strokeStyleLineAlignment.v.strokeStyleLineAlignment = "strokeStyleAlignCenter";
      n.strokeEnabled.v = !1;
      n.fillEnabled.v = !1;
      return n
  }
  ;
  iO.prototype.QB = function() {
      var n = this.zf
        , z = n.gl();
      z.CZ("Path " + n.W.length);
      this.zf.W.push(z);
      z.j1 |= 16;
      z.add.SoCo = {
          classID: "null",
          Clr: {
              t: "Objc",
              v: j._.w9({
                  h: 0,
                  Q: 0,
                  O: 0
              })
          }
      };
      z.add.vmsk = new Q.qP;
      z.add.vstk = this.AC();
      return z
  }
  ;
  iO.prototype.jf = function(n) {
      var z = {
          U: n.crds,
          I: n.cmds
      }
        , C = j.K.gU(z, !1);
      j.i.i3(C, this.wo);
      return C
  }
  ;
  iO.amN = function(n, z) {
      for (var M = 0; M < n.length; M++)
          if (n[M].fT != null)
              n[M].fT = z
  }
  ;
  iO.a0Y = function(n) {
      return Math.sqrt(Math.abs(n[0] * n[3] - n[1] * n[2]))
  }
  ;
  iO.aJ = function(n) {
      return j._.w9({
          h: n[0] * 255,
          Q: n[1] * 255,
          O: n[2] * 255
      })
  }
  ;
  iO.sj = function(n) {
      return new b6(n[0],n[1],n[2],n[3],n[4],n[5])
  }
  ;
  iO.prototype.Stroke = function(n) {
      debugger
      if (this.ym != -1 && this.ym != this.Sc)
          return;
      if (n.pth.cmds.length <= 1)
          return;
      var z = this.jf(n.pth);
      if (z.length <= 2)
          return;
      this.dr(n);
      iO.amN(z, -1);
      z[2].fT = 1;
      var C = iO.aJ(n.COLR)
        , D = this.Sm()
        , F = this.AC();
      iO.EM(F, n, this.wo.Jr(), C);
      var X = D != null && D.add.vmsk != null && !D.d4()
        , E = X && !D.add.vstk.strokeEnabled.v && Q.qP.abL(D.add.vmsk.g, z, !0)
        , f = X && !D.add.vstk.fillEnabled.v && JSON.stringify(F) == JSON.stringify(D.add.vstk);
      if (f) {
          D.add.vmsk.g = D.add.vmsk.g.concat(z.slice(2))
      } else if (E) {
          D.add.vstk = F;
          F.fillEnabled.v = !0
      } else {
          D = this.QB();
          D.add.vmsk.g = z;
          D.add.vstk = F
      }
  }
  ;
  iO.EM = function(n, z, C, D) {
      n.strokeEnabled.v = !0;
      n.strokeStyleMiterLimit.v = z.mlimit;
      n.strokeStyleLineDashSet.v = fg.br(z.dash, 1 / z.lwidth);
      n.strokeStyleLineDashOffset.v.val = z.doff;
      n.strokeStyleLineJoinType.v.strokeStyleLineJoinType = g$.Bt.join[z.ljoin];
      n.strokeStyleLineCapType.v.strokeStyleLineCapType = g$.Bt.BB[z.lcap];
      n.strokeStyleLineWidth.v.val = Math.max(.4, z.lwidth * iO.a0Y(z.ctm) * C);
      n.strokeStyleContent.v.Clr.v = D
  }
  ;
  iO.prototype.Fill = function(n, z) {
      debugger
      if (this.ym != -1 && this.ym != this.Sc)
          return;
      if (n.ca == 0)
          return;
      var C = n.pth.cmds;
      if (C.length == 0)
          return;
      if (C.length == 2 && JSON.stringify(C) == "[\"M\",\"L\"]")
          return;
      var D = j.K.AN(n.cpth.crds)
        , F = j.K.AN(n.pth.crds);
      if (F.Yi(D).kX())
          return;
      var X = n.pth
        , E = UDOC.G.isBox(X, [F.x, F.y, F.x + F.d, F.y + F.v])
        , f = n.cpth
        , a = UDOC.G.isBox(f, [D.x, D.y, D.x + D.d, D.y + D.v]);
      if (E && a && F.t() > D.t() * 2) {
          var q = F.Yi(D)
            , c = q.x
            , K = q.y
            , R = c + q.d
            , J = K + q.v;
          X = {
              cmds: ["M", "L", "L", "L", "Z"],
              crds: [c, K, R, K, R, J, c, J]
          }
      } else if (this.xT == null && UDOC.G.isBox(X, [F.x, F.y, F.x + F.d, F.y + F.v]) && F._6(D)) {
          X = f
      } else
          this.dr(n);
      var w = this.jf(X)
        , p = j.K.YQ(F);
      j.K.Z(p.U, this.wo, p.U);
      F = j.K.AN(p.U);
      var I = iO.wR(n.colr, this.wo, F)
        , m = this.Sm()
        , A = m != null && m.opacity == Math.round(255 * n.ca) && m.add.vstk != null && !m.add.vstk.strokeEnabled.v && m.add.SoCo && I.type == "SoFi" && JSON.stringify(m.add.SoCo.Clr.v) == JSON.stringify(I.G.v.Clr.v);
      if (A) {
          var U = !1;
          for (var M = 0; M < w.length; M++) {
              if (w[M].fT == 0 || w[M].fT == 2)
                  U = !0
          }
          if (U) {
              var r = j.K.AN(j.i.fA(m.add.vmsk.g))
                , $ = j.K.AN(j.i.fA(w));
              A = r.Yi($).kX()
          }
      }
      if (A) {
          var k = m.add.vmsk.g;
          for (var M = 2; M < w.length; M++)
              k.push(w[M])
      } else {
          m = this.QB();
          delete m.add.SoCo;
          m.add.vmsk.g = Q.qP.$k(w);
          iO.Xe(n.colr, m, this.wo, F);
          iO.eI(n, m)
      }
  }
  ;
  iO.Xe = function(n, z, C, D) {
      var F = iO.wR(n, C, D)
        , X = null
        , E = null;
      z.add.vstk.fillEnabled.v = !0;
      if (F.type == "SoFi") {
          X = "SoCo";
          E = g$.oQ
      }
      if (F.type == "GrFl") {
          X = "GdFl";
          E = g$.p_
      }
      if (F.type == "patternFill") {
          X = "PtFl";
          E = g$.XK
      }
      if (X != null) {
          z.add[X] = {
              classID: "null"
          };
          for (var M = 0; M < E.length; M++) {
              var f = E[M];
              z.add[X][f] = F.G.v[f]
          }
      }
  }
  ;
  iO.prototype.dr = function(n) {
      var z = this.zf
        , C = n.cpth
        , D = C.cmds.join("")
        , F = C.crds
        , X = D + " " + F.join(",")
        , E = UDOC.G.isBox(C, this.a9D);
      if (E && this.xT == null)
          return;
      if (X == this.xT)
          return;
      this.Yb();
      if (!E) {
          this.xT = X;
          z.W.push(z.iE());
          var f = z.gl();
          f.CZ("Mask");
          f.add.lsct = g9.cP;
          f.Gx = "pass";
          f.j1 = 24;
          var a = f.add.vmsk = new Q.qP;
          a.g = this.jf(n.cpth);
          if (UDOC.G.isBox(C)) {
              this.Su = j.i.Rb(a.g);
              this.Su.TR(3, 3)
          } else
              this.Su = null;
          this.alK = f
      }
  }
  ;
  iO.prototype.Yb = function() {
      var n = this.zf;
      if (this.xT != null) {
          var z = n.W.length - 1
            , M = z
            , C = !1;
          while (M >= 0 && n.W[M].add.lsct != g9.Jg)
              M--;
          var D = this.Su;
          if (D) {
              var F = new cc
                , X = z;
              while (X > M) {
                  F = n.W[X].xA(this.zf, !1, !0);
                  X--
              }
              C = D._6(F)
          }
          if (C) {
              this.hk.splice(M, 1);
              n.W.splice(M, 1)
          } else {
              n.W.push(this.alK)
          }
          this.xT = null
      }
  }
  ;
  iO.wR = function(n, z, C) {
      var D, F;
      if (n.length != null) {
          D = "SoFi";
          var X = JSON.parse(g$.g$[g$.order.indexOf("SoFi")]);
          F = {
              t: "Objc",
              v: X
          };
          F.v.Clr.v = iO.aJ(n)
      } else {
          var E = iO.ag8(n, z, C);
          D = "GrFl";
          F = {
              t: "Objc",
              v: E
          }
      }
      return {
          type: D,
          G: F
      }
  }
  ;
  iO.ag8 = function(n, z, C) {
      debugger
      var D = JSON.parse(g$.g$[g$.order.indexOf("GrFl")])
        , F = D.Grad.v;
      F.Intr.v = 0;
      var X = iO.sj(n.mat);
      X.concat(z);
      var E = new ir(0,0)
        , f = new ir(C.d,0)
        , a = n.crds;
      if (n.typ == "rad") {
          D.Type.v.GrdT = "Rdl";
          var q = .7;
          E.x = (1 - q) * a[0] + q * a[3];
          E.y = (1 - q) * a[1] + q * a[4];
          f.x = E.x;
          f.y = E.y;
          f.x += Math.max(a[2], a[5])
      } else {
          D.Type.v.GrdT = "Lnr";
          E.x = a[0];
          E.y = a[1];
          f.x = a[2];
          f.y = a[3];
          E.x = f.x + .5 * (E.x - f.x);
          E.y = f.y + .5 * (E.y - f.y)
      }
      E = X.JT(E);
      f = X.JT(f);
      j._.a9(E, f, C, D);
      var c = n.grad;
      j._.sb(c, F);
      return D
  }
  ;
  iO.prototype.PutText = function(n, z, C, D) {
      var F = z.charCodeAt(0)
        , R = null;
      if (this.ym != -1 && this.ym != this.Sc)
          return;
      if (z.length == 0 || z.length == 1 && (F == 0 || F == 8203))
          return;
      this.dr(n);
      var X = this.zf
        , E = n.font
        , f = iO.sj(n.ctm);
      f.concat(this.wo);
      var a = iO.sj(E.Tm);
      a.concat(f);
      var q = O.o.Jr(a)
        , c = new b6(1 / q,0,0,-1 / q,0,0);
      c.concat(a);
      var K = E.Tfs * q;
      if (E.Th != 100 || E.Trise != 0) {
          console.log(E)
      }
      var J = X.W.length - 1;
      while (J >= 0 && X.W[J].add.TySh == null)
          J--;
      if (c.O * c.O + c.KV * c.KV < .001 && D == null && J >= 0 && X.W[J].add.TySh && X.W[J].opacity == Math.round(255 * n.ca)) {
          var w = X.W[J]
            , p = this.hk[J]
            , I = w.add.TySh.Z
            , m = (I.H1 + p.N_ - c.H1) / K
            , A = Math.abs(m)
            , U = z.indexOf(" ") == -1
            , r = I.nb == c.nb && I.O == c.O && I.KV == c.KV && I.qc == c.qc
            , $ = r && Math.abs(p.Wg - c.Wv) < 1e-5 && A < .6
            , k = c.Wv - p.Wg;
          if ($) {
              R = w;
              p.N_ = c.H1 - I.H1;
              if (m > .2 && U && [".", ",", "?", ":", "!"].indexOf(z) == -1)
                  z = " " + z
          } else if (r && Math.abs(c.H1 - I.H1) < 1e-5 && 0 < k && k < K * 1.7 && p.abh == K) {
              R = w;
              this.Pc(p);
              p.Wg = c.Wv;
              z = "\n" + z
          }
      }
      if (R == null) {
          J = X.W.length;
          this.hk[J] = {
              Um: [],
              N_: 0,
              Wg: c.Wv,
              ky: "",
              abh: K
          };
          R = X.gl();
          X.W.push(R);
          R.add.lnsr = "rend";
          R.add.TySh = bZ.uZ(0, 0);
          R.add.TySh.Z = c
      }
      var p = this.hk[J];
      p.N_ += C * K;
      p.ky += z;
      var G = R.add.TySh.uR
        , i = bZ.T5(G);
      if (D) {
          bZ.qf(G, 1);
          var o = [0, 0, Math.ceil(D[0] * q), Math.ceil(D[1] * q)];
          bZ.u6(G, o)
      }
      var S = i.length - 1
        , H = S + z.length;
      bZ.rZ(G, S, z);
      if (this.Z9 == null)
          this.Z9 = bZ.jj(G, S, S);
      var e = this.Z9;
      e.I$.FontSize = Math.round(K);
      e.I$.Tracking = Math.round(E.Tc * 100);
      e.I$.Underline = E.Tun == 1;
      e.I$.FillColor = {
          Type: 1,
          Values: [1, n.colr[0], n.colr[1], n.colr[2]]
      };
      if (E.Tal != null)
          e.t_.Justification = E.Tal;
      if (p.Um.length != 0) {
          e.I$.AutoLeading = !1;
          e.I$.Leading = p.Wg - p.Um[p.Um.length - 1].y
      }
      var V = E.Tf;
      V = V.replace(/#2B/g, "+");
      V = V.replace(/#2C/g, "-");
      V = V.split("+").pop();
      var v = {
          "NimbusRomNo9L-Medi": "NimbusRomNo9L-Med",
          "NimbusRomNo9L-Regu": "NimbusRomNo9L-Reg",
          "NimbusRomNo9L-MediItal": "NimbusRomNo9L-MedIta",
          "NimbusRomNo9L-ReguItal": "NimbusRomNo9L-RegIta",
          CMTT9: "NimbusMono-Regular",
          Arial: "ArialMT",
          "BebasNeue-Regular": "BebasNeueRegular"
      };
      if (v[V])
          V = v[V];
      bZ.I9(e, V);
      bZ.YI(G, S, H - 1, e);
      R.UA();
      R.opacity = Math.round(255 * n.ca)
  }
  ;
  iO.prototype.Pc = function(n) {
      n.Um.push({
          ob: n.N_,
          x2: n.ky.slice(n.Um.length == 0 ? 0 : 1) + "\n",
          y: n.Wg,
          ZP: n.abh
      });
      n.N_ = 0;
      n.ky = ""
  }
  ;
  iO.prototype.PutImage = function(n, z, C, D, F, X, E) {
      if (this.ym != -1 && this.ym != this.Sc)
          return;
      var f = this.zf
        , a = n.font.Tmode;
      if (a == 7 && f.W[f.W.length - 1].add.TySh) {
          return
      }
      this.dr(n);
      var q = iO.sj(n.ctm);
      q.concat(this.wo);
      var c = new b6(1 / C,0,0,-1 / D,0,1);
      c.concat(q);
      q = c;
      z = iO.dx(z, C, D);
      if (F)
          F = iO.dx(F, C, D);
      if (F == null) {
          if (z.length == C * D * 4)
              z = new Uint8Array(fC.ET("PNG").c0([[z.buffer, 0]], C, D))
      } else {
          z = this.KW(z, C, D, X, !1);
          F = this.KW(F, C, D, E, !0);
          var K = j.T(C * D);
          j.Ni(F, K, 0);
          j.bl(K, z, 3);
          z = new Uint8Array(fC.ET("PNG").c0([[z.buffer, 0]], C, D))
      }
      var R = f.AM(z, "Bitmap", 0, 0)
        , J = R.rect.clone();
      J.x = J.y = 0;
      var w = j.K.YQ(J).U;
      j.K.Z(w, q, w);
      R.add.SoLd.Trnf = O.o.IO(w);
      R.add.SoLd.nonAffineTransform = O.o.IO(w);
      R.V_(f, !1);
      iO.eI(n, R);
      f.W.push(R)
  }
  ;
  iO.eI = function(n, z) {
      z.opacity = Math.round(255 * n.ca);
      var C = iO.SS[n.bmode];
      if (C == null)
          console.log("Unknown blend mode", C);
      else
          z.Gx = C
  }
  ;
  iO.SS = {
      "/Normal": "norm",
      "/Multiply": "mul ",
      "/Screen": "scrn",
      "/Overlay": "over",
      "/Darken": "dark",
      "/Lighten": "lite",
      "/ColorDodge": "div ",
      "/ColorBurn": "idiv",
      "/HardLight": "hLit",
      "/SoftLight": "sLit",
      "/Difference": "diff",
      "/Exclusion": "smud",
      "/Hue": "hue ",
      "/Saturation": "sat ",
      "/Color": "colr",
      "/Luminosity": "lum "
  };
  iO.Cd = function(n) {
      for (var z in iO.SS)
          if (iO.SS[z] == n)
              return z
  }
  ;
  iO.dx = function(n, z, C) {
      var D = fC.Nj(n.buffer);
      if (D == "jpg") {
          try {
              n = new Uint8Array(fC.ET("JPG").ah7(n.buffer))
          } catch (aC) {
              n = new Uint8Array(z * C * 4)
          }
      } else if (n.length != z * C * 4) {
          var F = new Uint8Array(z * C * 4)
            , X = new Uint8Array(Math.ceil(z * C / 8));
          UTIF.decode._decodeG4(n, 0, n.length, X, 0, z, 1);
          for (var M = 0; M < z * C; M++) {
              var E = M * 4
                , f = (X[M >> 3] >> 7 - (M & 7) & 1) * 255;
              F[E] = f;
              F[E + 1] = f;
              F[E + 2] = f;
              F[E + 3] = 255
          }
          n = F
      }
      return n
  }
  ;
  iO.prototype.KW = function(n, z, C, D, F) {
      if (n.length != z * C * 4) {
          var X = fC.Nj(n.buffer)
            , E = fC.ET(X);
          if (E == null || X == "tga")
              E = fC.ET("jpg");
          n = new Uint8Array(E.c3(n, D, F)[0].data)
      }
      return n
  }
  ;
  iO.prototype.ShowPage = function() {
      var n = this.zf;
      this.Sc++;
      var z = this.E0;
      this.Yb();
      var C = n.gl();
      n.W.push(C);
      var D = new cc(Math.round(this.GW.x),Math.round(this.GW.y),Math.round(z[2] - z[0]),Math.round(z[3] - z[1]));
      this.lP = this.lP.QH(D);
      C.zk(D);
      C.add.artb.artboardBackgroundType.v = 3;
      C.CZ("Page " + this.Sc);
      C.add.lsct = g9.cP;
      C.Gx = "pass";
      C.j1 = 24
  }
  ;
  iO.prototype.Print = function(n) {
      console.log("Print:", n)
  }
  ;
  iO.prototype.Done = function() {
      debugger
      var n = this.zf;
      if (this.Sc == 1)
          n.W[n.W.length - 1].add.lsct = g9.WQ;
      n.Jy(this.Sc);
      for (var M = 0; M < n.W.length; M++) {
          var z = n.W[M]
            , C = z.add.vmsk
            , D = z.add.TySh
            , F = this.hk[M];
          z.CD();
          if (C) {
              var X = !1;
              for (var E = 0; E < C.g.length; E++) {
                  var f = C.g[E];
                  if ((f.type == 0 || f.type == 3) && f.length > 32767)
                      X = !0
              }
              if (X) {
                  n.W.splice(M, 1);
                  M--;
                  continue
              }
          }
          z.z4(n);
          if (D && F.Um.length != 0) {
              this.Pc(F);
              var a = D.uR
                , q = F.Um.length
                , c = F.Um[0]
                , K = 0
                , R = 0;
              for (var E = 0; E < q; E++)
                  K = Math.max(K, F.Um[E].ob);
              bZ.qf(a, 1);
              D.Z.Wv -= c.ZP * .7;
              bZ.u6(a, [0, 0, Math.ceil(K * 1.1), Math.ceil(F.Um[q - 1].y - c.y + c.ZP * 2)])
          }
          if (D) {
              var a = D.uR;
              bZ.aq8(a);
              var J = bZ.T5(a).split("\n");
              for (var E = 0; E < J.length - 1; E++) {
                  var w = J[E]
                    , p = 0;
                  for (var I = 0; I < w.length; I++) {
                      var m = w.charCodeAt(I);
                      if (1473 <= m && m <= 1524)
                          p++
                  }
                  if (p > w.length / 2) {
                      J[E] = w.split("").reverse().join("");
                      var A = a.EngineDict.ParagraphRun.RunArray[E].ParagraphSheet.Properties;
                      A._Direction = 1;
                      A.Justification = bZ.Ez(A)
                  }
              }
              bZ.Uw(a, J.join("\n"))
          }
      }
      n.Jf = !0;
      n.d = this.lP.d;
      n.v = this.lP.v;
      n.buffer = j.T(this.lP.t() * 4)
  }
  ;
  var gV = {};
  gV.h$ = function(n, z, C, D) {
      var F = !1
        , X = [n.root]
        , E = n.root.children;
      if (n.add.artd) {
          F = !0;
          for (var M = 0; M < E.length; M++)
              if (E[M].b.add.artb == null)
                  F = !1;
          if (F)
              X = E
      }
      var f = new cc(0,0,n.d,n.v)
        , a = z[0];
      a = a.replace(/,/g, " ").replace(/\-/g, " - ").replace(/  +/g, " ").trim();
      a = a.split(" ");
      var q = [];
      for (var M = 0; M < a.length; M++) {
          var c = a[M];
          if (c == "-") {
              var K = q.pop()
                , R = parseInt(a[M + 1]);
              while (K < R) {
                  q.push(K);
                  K++
              }
          } else
              q.push(parseInt(c))
      }
      a = q;
      for (var M = 0; M < a.length; M++)
          if (isNaN(a[M]) || a[M] < 1 || a[M] > X.length) {
              a.splice(M, 1);
              M--
          }
      var J = 72 / n.$M;
      for (var M = 0; M < X.length; M++) {
          if (a.length != 0 && a.indexOf(M + 1) == -1)
              continue;
          var w = X[M]
            , p = F ? w.b.qJ() : f
            , I = Math.round(p.d * J)
            , m = Math.round(p.v * J);
          C.StartPage(0, 0, I, m);
          var A = UDOC.getState([[0, 0, I, m]])
            , U = new b6;
          U.translate(-p.x, -p.y - p.v);
          U.scale(J, -J);
          if (z[2]) {
              var r = n.Wc();
              if (!f.jm(p)) {
                  r = j.T(p.t() * 4);
                  j.X3(n.Wc(), f, r, p)
              }
              if (z[1] != 100) {
                  var $ = fC.ET("JPG").c0([[r.buffer]], p.d, p.v, [z[1]]);
                  r = new Uint8Array($)
              }
              var k = new b6;
              k.translate(p.x, p.y);
              gV.lt(A, C, r, p, k, U)
          } else
              gV.Xm(n, w, A, C, U, z, D);
          C.ShowPage()
      }
      C.Done()
  }
  ;
  gV.jX = function(n) {
      n = j._.Jo(n);
      return [n.h / 255, n.Q / 255, n.O / 255]
  }
  ;
  gV.Xm = function(n, z, C, D, F, X, E) {
      debugger
      var f = z.b, a = f.add.lsct, q = f.add.lmfx, c = f.add.vmsk, K = f.add.vstk, R = f.add.TySh, I, m;
      if (!f.y_())
          return;
      var J = f.opacity / 255
        , w = f.add.iOpa ? f.add.iOpa / 255 : 1;
      C.bmode = iO.Cd(f.Gx);
      C.ca = C.CA = J * w;
      var p = q;
      if (p)
          p = p.solidFillMulti.v[0];
      if (p)
          p = p.v;
      if (p && !p.enab.v)
          p = null;
      var A = f.rect;
      if (f.LE() && (!f.d4() || f.XB && f.XB.Ug)) {
          if (f.d4) {
              I = f.XB.Ug;
              A = f.XB.abR
          } else {
              I = j.T(f.rect.t());
              j.Ni(f.buffer, I, 3)
          }
          m = fg.va(q, null, I, A, n, A).type
      }
      if (m)
          gV.SY(f, I, A, m, C, D, F, X, !0);
      if (f.d4()) {
          for (var M = 0; M < z.children.length; M++)
              gV.Xm(n, z.children[M], C, D, F, X, E)
      } else if (c && f.Ct()) {
          var U = c.g
            , r = j.i.Rb(U)
            , $ = j.K.Gi(U)
            , k = !1
            , G = !1
            , i = !1;
          j.K.Z($.U, F, $.U);
          C.pth = {
              cmds: $.I,
              crds: $.U
          };
          if (K.fillEnabled.v) {
              var o = fg.ds(q, f.add)
                , S = o[0]
                , H = o[1];
              if (S) {
                  C.colr = gV.jX(S.Clr.v)
              } else if (H) {
                  var e = H, V = [], v, B = e.Type.v.GrdT == "Rdl" ? "rad" : "lin", Z = j._.mu(e, r), d = F.JT(Z[0]), g = F.JT(Z[1]);
                  if (B == "rad")
                      v = [d.x, d.y, 0, d.x, d.y, ir.gn(d, g)];
                  else {
                      d.oS(g.x + (d.x - g.x) * 2, g.y + (d.y - g.y) * 2);
                      v = [d.x, d.y, g.x, g.y]
                  }
                  var Y = e.Grad.v.Clrs.v;
                  for (var M = 0; M < Y.length; M++) {
                      var y = Y[M].v;
                      V.push([y.Lctn.v / 4096, gV.jX(y.Clr.v)])
                  }
                  C.colr = {
                      typ: B,
                      mat: [1, 0, 0, 1, 0, 0],
                      grad: V,
                      crds: v
                  }
              }
              k = !0
          }
          var L = fg.Bc(q);
          if (!K.strokeEnabled.v && L)
              K = L;
          if (K.strokeEnabled.v) {
              var _ = K.strokeStyleContent.v
                , b = K.strokeStyleLineDashSet.v
                , x = g$.Bt.pA.indexOf(K.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
              if (_.Clr == null)
                  return;
              var W = j._.Jo(_.Clr.v);
              C.COLR = [W.h / 255, W.Q / 255, W.O / 255];
              C.lwidth = K.strokeStyleLineWidth.v.val * (x == 2 ? 2 : 1) * F.Jr();
              C.mlimit = K.strokeStyleMiterLimit.v;
              C.doff = K.strokeStyleLineDashOffset.v.val;
              C.ljoin = g$.Bt.join.indexOf(K.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
              C.lcap = g$.Bt.BB.indexOf(K.strokeStyleLineCapType.v.strokeStyleLineCapType);
              C.dash = [];
              for (var M = 0; M < b.length; M++)
                  C.dash.push(b[M].v.val * C.lwidth);
              if (C.dash.length == 1 && C.dash[0] == 0)
                  C.dash = [];
              G = !0;
              if (x == 2)
                  i = !0
          }
          if (k && !i)
              D.Fill(C);
          if (G)
              D.Stroke(C);
          if (k && i)
              D.Fill(C)
      } else if (R && X[4]) {
          var g6 = R.uR
            , fY = new fL(g6,E)
            , $ = iW.tF(fY, R)
            , f3 = j.K.jQ($);
          for (var W in f3) {
              var hK = parseInt(W.slice(1), 16);
              C.colr = p ? gV.jX(p.Clr.v) : [(hK >>> 16 & 255) / 255, (hK >>> 8 & 255) / 255, (hK & 255) / 255];
              var s = f3[W];
              j.K.Z(s.U, F, s.U);
              s = j.K.ajQ(s);
              C.pth = {
                  cmds: s.I,
                  crds: s.U
              };
              D.Fill(C)
          }
      } else if (R && X[3] == !1) {
          var g6 = R.uR
            , P = R.Z.clone()
            , aF = new b6(1,0,0,-1,0,0);
          aF.concat(P);
          aF.concat(F);
          var fM = bZ.T5(g6)
            , fY = new fL(g6,E);
          for (var M = 0; M < fY.t_.length; M++) {
              var eA = fY.t_[M];
              if (eA.rv.length == 1 && eA.rv[0].QE)
                  continue;
              for (var e8 = 0; e8 < eA.Lt.length; e8++) {
                  var eC = eA.Lt[e8]
                    , cy = eA.nH.y + eC.nH.y
                    , aX = eA.rv[eC.start].start
                    , j0 = eA.rv[eC.end - 1].end
                    , aT = bZ.ae2(g6, aX, j0);
                  for (var a4 = 0; a4 < aT.length; a4++) {
                      var f8 = fY.wH(aX)
                        , b3 = aT[a4]
                        , gh = bZ.jj(g6, aX, aX)
                        , cZ = gh.qR[gh.I$.Font].Name;
                      C.font.Tf = cZ;
                      var W = bZ.Jo(gh.I$);
                      C.colr = p ? gV.jX(p.Clr.v) : [W.h / 255, W.Q / 255, W.O / 255];
                      C.font.Tfs = Math.round(gh.I$.FontSize);
                      var h3 = fM.slice(aX, aX + b3);
                      if (gh.I$.FontCaps == 2)
                          h3 = h3.toUpperCase();
                      var ew = new b6;
                      ew.translate(f8.R.x, -cy);
                      ew.concat(aF);
                      C.ctm = [ew.nb, ew.O, ew.KV, ew.qc, ew.H1, ew.Wv];
                      D.PutText(C, h3, 0);
                      C.ctm = [1, 0, 0, 1, 0, 0];
                      aX += b3
                  }
              }
          }
      } else if (!f.rect.kX()) {
          var dy, fx, bo = !1, hd = new b6;
          if (f.add.SoLd) {
              var gT = f.add.SoLd
                , du = gT.Idnt.v
                , bk = n.bG(du, gT.Crop ? gT.Crop.v : null)
                , dW = "";
              if (bk == null)
                  return;
              var i8 = bk.qY
                , en = fC.Nj(bk.raw.buffer);
              if (X[5].indexOf(en) != -1) {
                  dy = bk.raw;
                  bo = !0
              } else
                  dy = i8[0];
              fx = i8[1];
              hd = j.V.ui(gT)
          } else {
              dy = f.buffer;
              fx = f.rect;
              hd.translate(fx.x, fx.y)
          }
          if (p && !bo)
              dy = fg.Cr(dy, p, fx);
          gV.lt(C, D, dy, fx, hd, F);
          if (p && bo) {
              var v = [0, 0, fx.d, 0, fx.d, fx.v, 0, fx.v];
              j.K.Z(v, hd, v);
              j.K.Z(v, F, v);
              var ix = JSON.parse(JSON.stringify(C));
              ix.ca = p.Opct.v.val / 100;
              ix.pth = {
                  cmds: ["M", "L", "L", "L", "Z"],
                  crds: v
              };
              ix.colr = gV.jX(p.Clr.v);
              D.Fill(ix)
          }
      }
      if (m)
          gV.SY(f, I, A, m, C, D, F, X, !1)
  }
  ;
  gV.SY = function(n, z, C, D, F, X, E, f, a) {
      var q = C.clone()
        , c = z;
      if (n.add.TySh && !f[3] && !f[4])
          return;
      var K = F.ca
        , R = F.bmode;
      for (var M = g$.order.length - 1; M >= 0; M--) {
          var J = g$.order[M];
          if (J == "GrFl" || J == "SoFi")
              continue;
          if (n.add.vmsk && J == "FrFX")
              continue;
          var w = D[J]
            , p = M > 7 || J == "FrFX";
          if (p != a)
              continue;
          for (var I = 0; I < w.length; I++) {
              var m = w[I];
              console.log(p, J, m);
              var A = m.nM.clone();
              A.offset(q.x, q.y);
              if (!p) {
                  if (!q._6(A)) {
                      var U = q.QH(A)
                        , r = j.T(U.t());
                      j.v8(c, q, r, U);
                      c = r;
                      q = U
                  }
                  j.NI(c, q, m.oz, A)
              }
              if (p && J == "FrFX" && m.UY)
                  j.NI(m.UY, A, m.oz, A);
              var $ = new b6;
              $.translate(A.x, A.y);
              F.ca = m.He;
              F.bmode = iO.Cd(m.Ga);
              gV.lt(F, X, m.oz, A, $, E)
          }
      }
      F.ca = K;
      F.bmode = R
  }
  ;
  gV.lt = function(n, z, C, D, F, X) {
      var E = new b6;
      E.scale(D.d, -D.v);
      E.translate(0, D.v);
      E.concat(F);
      E.concat(X);
      n.ctm = [E.nb, E.O, E.KV, E.qc, E.H1, E.Wv];
      z.PutImage(n, C, D.d, D.v);
      n.ctm = [1, 0, 0, 1, 0, 0]
  }
  ;
  var cK = {};
  cK.vC = function(n) {
      var z = new Uint8Array(n);
      return cK._Z(z, 0)
  }
  ;
  cK._Z = function(n, z) {
      var C = T.q
        , D = T.uL
        , F = {
          LH: D(n, z, 4),
          A: z + 8,
          size: C(n, z + 4)
      }
        , X = F.LH == "FORM" || F.LH == "LIST" || F.LH == "CAT ";
      if (X)
          F.UN = D(n, z + 8, 4);
      if (F.size < 0 || F.A + F.size > n.length)
          throw "e";
      if (X) {
          F.sub = [];
          z += 12;
          var E = F.A + F.size;
          while (z < E) {
              var f = cK._Z(n, z);
              F.sub.push(f);
              z += 8 + f.size + (f.size & 1)
          }
      }
      return F
  }
  ;
  var dn = {};
  dn.vC = function(n, z) {
      var C = new Uint8Array(n);
      return dn._Z(C, 0, z)
  }
  ;
  dn._Z = function(n, z, C) {
      var D = T.YR
        , F = T.uL
        , X = {
          LH: F(n, z, 4),
          A: z + 8,
          size: D(n, z + 4)
      };
      if (C && C[X.size] != null)
          X.size = C[X.size];
      if (X.LH == "RIFF" || X.LH == "LIST") {
          X.UN = F(n, z + 8, 4)
      }
      if (X.size < 0 || X.A + X.size > n.length)
          throw "e";
      if (X.LH == "RIFF" || X.LH == "LIST" && (X.UN != "cmpr" && X.UN != "stlt")) {
          X.sub = [];
          z += 12;
          var E = X.A + X.size;
          while (z < E) {
              var f = dn._Z(n, z, C);
              X.sub.push(f);
              z += 8 + f.size + (f.size & 1)
          }
      }
      return X
  }
  ;
  var cK = {};
  cK.vC = function(n) {
      var z = new Uint8Array(n);
      return cK._Z(z, 0)
  }
  ;
  cK._Z = function(n, z) {
      var C = T.q
        , D = T.uL
        , F = {
          LH: D(n, z, 4),
          A: z + 8,
          size: C(n, z + 4)
      }
        , X = F.LH == "FORM" || F.LH == "LIST" || F.LH == "CAT ";
      if (X)
          F.UN = D(n, z + 8, 4);
      if (F.size < 0 || F.A + F.size > n.length)
          throw "e";
      if (X) {
          F.sub = [];
          z += 12;
          var E = F.A + F.size;
          while (z < E) {
              var f = cK._Z(n, z);
              F.sub.push(f);
              z += 8 + f.size + (f.size & 1)
          }
      }
      return F
  }
  ;
  function iJ() {}
  iJ.vC = function(n, z) {
      var C = new Uint8Array(n);
      z.Jf = !0;
      var D = T.uL(C, 0, 2);
      if (D == "WL") {
          alert("Unsupported CDR version")
      } else {
          var F = iJ.ZK
            , X = dn.vC(C.buffer)
            , E = {
              data: C,
              A: 0,
              G_: iJ.a5C(C[11])
          }
            , R = 300;
          E._y = E.G_ < 600 ? 16 : 32;
          iJ.wl(E, X.sub, z, 0);
          var f = F(X, "cmpr").sub
            , a = f[0]
            , q = f.slice(1)
            , c = F(a, "mcfg").G
            , K = c.apc;
          R /= gn.Dr(new cc(0,0,Math.round(K.x * R),Math.round(K.y * R)), 8192 * 8192);
          var J = Math.round(K.x * R)
            , w = Math.round(K.y * R);
          z.d = J;
          z.v = w;
          z.buffer = j.T(z.d * z.v * 4);
          var p = F(a, "filt").sub
            , I = F(a, "otlt").sub;
          a.zG = {};
          for (var M = 0; M < p.length; M++)
              a.zG[p[M].sub[0].G.id] = p[M].sub[0].G;
          a.hZ = {};
          for (var M = 0; M < I.length; M++)
              a.hZ[I[M].G.id] = I[M].G;
          var m = new b6(R,0,0,-R,K.x * R / 2,K.y * R / 2)
            , A = q[1];
          iJ.XY(A, a, z, m);
          z.Jy(1);
          z.W[z.W.length - 1].zk(new cc(0,0,J,w))
      }
  }
  ;
  iJ.ZK = function(n, z) {
      var C = null;
      for (var M = 0; M < n.sub.length; M++) {
          var D = n.sub[M];
          if (D.LH == z || D.UN == z)
              C = D
      }
      return C
  }
  ;
  iJ.XY = function(n, z, C, D) {
      var F = iJ.ZK, X = n.UN ? n.UN : n.LH, E = F(n, "lgob"), f = F(n, "txsm"), a, q;
      if (E) {
          a = F(E, "trfl");
          q = F(E, "loda")
      }
      var c = a ? a.sub[0].A1.clone() : new b6;
      c.concat(D);
      var K = C.gl();
      if (X == "page" || X == "layr" || X == "grp ") {
          K.CZ((X == "page" ? "Page" : "Group") + " " + C.W.length);
          K.add.lsct = g9.WQ;
          K.Gx = "pass";
          K.j1 = 24;
          var R = [];
          if (X == "page")
              R = F(n, "gobj").sub;
          if (X == "layr")
              R = n.sub.slice(2);
          if (X == "grp ")
              R = n.sub.slice(4);
          if (R.length == 0)
              return;
          C.W.push(C.iE());
          for (var M = R.length - 1; M >= 0; M--)
              iJ.XY(R[M], z, C, D)
      } else if (X == "obj " && q.G && q.G.path) {
          K.CZ("Object " + C.W.length);
          var J = z.zG[q.G.a0l]
            , w = z.hZ[q.G.a0M]
            , p = K.getName()
            , I = J && J.type != 0
            , m = I && J.G != null ? J.G : [0, 0, 0];
          K.j1 |= 16;
          K.add.vstk = JSON.parse(JSON.stringify(g$.Bt.default));
          var A = K.add.vstk;
          A.strokeEnabled.v = !1;
          K.add.vmsk = new Q.qP;
          if (w && w.anx != 1) {
              A.strokeEnabled.v = !0;
              A.strokeStyleLineAlignment.v.strokeStyleLineAlignment = "strokeStyleAlignCenter";
              A.strokeStyleLineWidth.v.val = w.lineWidth * D.Jr();
              var U = w.color;
              A.strokeStyleContent.v.Clr.v = j._.w9({
                  h: U[0] * 255,
                  Q: U[1] * 255,
                  O: U[2] * 255
              })
          }
          var r = q.G.path;
          K.add.vmsk.g = j.K.gU(r, !1);
          j.i.i3(K.add.vmsk.g, c);
          iO.Xe(m, K, c, j.i.Rb(K.add.vmsk.g));
          A.fillEnabled.v = I;
          K.CD();
          K.z4(C)
      } else if (X == "obj " && f) {
          var $ = q.G.af$
            , k = q.G.acG
            , o = "";
          K.add.TySh = bZ.uZ(0, 0);
          var G = c.Jr();
          K.add.TySh.Z.translate(c.H1, c.Wv);
          var i = K.add.TySh.uR
            , S = f.G.ac1;
          for (var M = 0; M < S.length; M++) {
              var H = S[M]
                , e = o.length;
              o += H.text + "\n";
              bZ.rZ(i, e, H.text + "\n");
              var V = iJ.aqb(H.acq, z)
                , v = bZ.jj(i, e, o.length);
              if (V.align == 3)
                  v.t_.Justification = 1;
              else
                  v.t_.Justification = 0;
              var B = V.fill.G;
              v.I$.FillColor = {
                  Type: 1,
                  Values: [1, B[0], B[1], B[2]]
              };
              v.I$.FontSize = Math.round(V.aoE.fontSize * c.Jr());
              bZ.YI(i, e, o.length - 1, v)
          }
          if (k) {
              bZ.qf(i, 0)
          } else {
              bZ.qf(i, 1);
              bZ.u6(i, [0, 0, Math.round($.x * c.nb), Math.round(-$.y * c.qc)])
          }
          K.CZ(o.slice(0, 10))
      } else {
          K = null
      }
      if (K)
          C.W.push(K)
  }
  ;
  iJ.aqb = function(n, z) {
      var C = iJ.ZK(z, "stlt").G
        , D = JSON.parse(JSON.stringify(C.CJ[n]));
      if (D.ub != 0) {
          var F = C.CJ[D.ub];
          for (var X in F)
              if (D[X] == null || D[X] == 0)
                  D[X] = F[X];
          delete D.ub
      }
      D.align = C.amD[D.abv];
      D.fill = z.zG[C.ag7[D.adG]];
      D.a7_ = z.hZ[C.aaN[D.ao4]];
      D.aoE = C.aiW[D.a1e];
      return D
  }
  ;
  iJ.adK = function(M) {
      var h = M.data[M.A];
      M.A += 1;
      return h
  }
  ;
  iJ.Rf = function(M) {
      var h = T.Dn(M.data, M.A);
      M.A += 2;
      return h
  }
  ;
  iJ.FF = function(M) {
      var h = T.YR(M.data, M.A);
      M.A += 4;
      return h
  }
  ;
  iJ.a5L = function(M) {
      var h = T.YR(M.data, M.A);
      M.A += 8;
      return h
  }
  ;
  iJ.PO = function(M) {
      var h = T.$R(M.data, M.A);
      M.A += 2;
      return h
  }
  ;
  iJ.KC = function(M) {
      var h = T.rK(M.data, M.A);
      M.A += 4;
      return h
  }
  ;
  iJ.C9 = function(M) {
      var h = T.a62(M.data, M.A);
      M.A += 8;
      return h
  }
  ;
  iJ.mp = function(M) {
      if (M.A >= M.data.length)
          throw "e";
      var n = 0;
      while (M.data[M.A + n] != 0)
          n++;
      var z = T.uL(M.data, M.A, n);
      M.A += n + 1;
      return z
  }
  ;
  iJ.aob = function(n) {
      if (n.G_ < 600)
          return Math.PI * iJ.PO(n) / 1800;
      return Math.PI * iJ.KC(n) / 18e7
  }
  ;
  iJ.alf = function(n) {
      if (n.G_ < 1500)
          return iJ.W0(n);
      else
          return iJ.C9(n) / 254e3
  }
  ;
  iJ.W0 = function(n) {
      if (n.G_ < 600)
          return iJ.PO(n) / 1e3;
      else
          return iJ.KC(n) / 254e3
  }
  ;
  iJ.a1J = function(n) {
      if (n.G_ < 600)
          return CRDParser.Rf(n);
      else
          return iJ.FF(n)
  }
  ;
  iJ.aqj = function(n) {
      if (n.G_ < 600)
          return CRDParser.PO(n);
      else
          return iJ.KC(n)
  }
  ;
  iJ.wl = function(n, z, C, D) {
      var F = iJ
        , X = F.adK
        , E = F.Rf
        , f = F.FF
        , a = F.a5L
        , q = F.PO
        , c = F.KC
        , K = F.C9
        , R = F.W0
        , J = F.alf
        , w = F.aob
        , p = F.a1J
        , I = F.aqj;
      for (var m = 0; m < z.length; m++) {
          var A = n.G_
            , U = z[m];
          n.A = U.A + (U.LH == "LIST" ? 4 : 0);
          if (U.LH == "vrsn") {
              var r = E(n);
              n.G_ = r;
              console.log("Version", r);
              n._y = r < 600 ? 16 : 32
          } else if (U.LH == "DISP") {} else if (U.LH == "LIST" && U.UN == "cmpr") {
              var $ = f(n)
                , k = f(n)
                , G = f(n)
                , i = f(n)
                , o = new Uint8Array(n.data.buffer,n.A + 8 + 2,$ - 6 - 8)
                , S = pako.inflateRaw(o)
                , v = 0;
              n.A += $;
              o = new Uint8Array(n.data.buffer,n.A + 8 + 2);
              var H = pako.inflateRaw(o)
                , e = [];
              for (var V = 0; V < H.length; V += 4)
                  e.push(T.YR(H, V));
              U.sub = [];
              while (v < S.length) {
                  var B = dn._Z(S, v, e);
                  v = B.A + B.size;
                  U.sub.push(B)
              }
              var Z = {
                  data: S,
                  A: 0,
                  G_: A,
                  _y: n._y
              };
              iJ.wl(Z, U.sub, C, D + 1)
          } else if (U.LH == "LIST" && U.UN == "stlt") {
              var d = n.A
                , aF = 32;
              U.G = {};
              var g = f(n);
              if (g == 0)
                  return;
              U.G.ag7 = iJ.R9(n, A >= 1300);
              U.G.aaN = iJ.R9(n);
              U.G.aiW = {};
              var Y = f(n);
              for (var M = 0; M < Y; M++) {
                  var y = f(n);
                  n.A += A < 1e3 ? 12 : 20;
                  var L = E(n)
                    , _ = E(n);
                  n.A += 8;
                  var b = R(n);
                  n.A += A < 1e3 ? 12 : 20;
                  U.G.aiW[y] = {
                      aeu: L,
                      a3_: _,
                      fontSize: b
                  }
              }
              U.G.amD = iJ.R9(n);
              var x = f(n);
              n.A += 52 * x;
              var W = f(n);
              n.A += 152 * W;
              var g6 = f(n);
              n.A += 784 * g6;
              var fY = f(n);
              for (var M = 0; M < fY; M++) {
                  n.A += 40;
                  if (A > 1300)
                      n.A += 4;
                  if (A >= 1300) {
                      if (f(n))
                          n.A += 68;
                      else
                          n.A += 12
                  } else {
                      n.A += 20;
                      if (A >= 1e3)
                          n.A += 8;
                      if (f(n))
                          n.A += 8;
                      n.A += 8
                  }
              }
              var f3 = f(n);
              U.G.aoa = {};
              for (var M = 0; M < f3; M++) {
                  var hK = f(n)
                    , s = {};
                  n.A += 12;
                  s.right = R(n);
                  s.a3U = R(n);
                  s.left = R(n);
                  U.G.aoa[hK] = s
              }
              var P = f(n);
              if (A >= 1300)
                  aF += 4;
              n.A += aF * P;
              var fM = f(n);
              n.A += 28 * fM;
              if (A > 800) {
                  var eA = f(n);
                  n.A += 12 * eA
              }
              U.G.CJ = {};
              for (var M = 0; M < g; M++) {
                  var e8 = f(n)
                    , eC = f(n)
                    , cy = {};
                  cy.ub = f(n);
                  n.A += 8;
                  var aX = f(n);
                  if (A >= 1200)
                      aX *= 2;
                  n.A += aX;
                  cy.adG = f(n);
                  cy.ao4 = f(n);
                  if (e8 > 1) {
                      cy.a1e = f(n);
                      cy.abv = f(n);
                      cy.a3b = f(n);
                      cy.ana = f(n);
                      if (A > 800)
                          cy.agC = f(n)
                  }
                  if (e8 > 2) {
                      cy.a0J = f(n);
                      cy.a0X = f(n);
                      cy.a53 = f(n);
                      cy.aor = f(n);
                      cy.aho = f(n)
                  }
                  U.G.CJ[eC] = cy
              }
          } else if (U.LH == "LIST")
              iJ.wl(n, U.sub, C, D + 1);
          else if (U.LH == "txsm") {
              U.G = {};
              if (A < 600)
                  throw "e";
              if (A < 700)
                  throw "e";
              if (A >= 1600)
                  throw "e";
              if (A >= 1500)
                  n.A += 37;
              else
                  n.A += 36;
              if (f(n)) {
                  if (A < 800)
                      n.A += 32
              }
              if (A < 800)
                  n.A += 4;
              U.G.a2W = f(n);
              U.G.ac1 = [];
              n.A += 48;
              if (A >= 800) {
                  if (f(n)) {
                      n.A += 32;
                      if (A >= 1300)
                          n.A += 8
                  }
              }
              if (A >= 1500)
                  n.A += 12;
              var e8 = f(n)
                , j0 = 1
                , aT = !1;
              if (!e8) {
                  if (A >= 800)
                      n.A += 4;
                  if (A > 800)
                      n.A += 2;
                  if (A >= 1400)
                      n.A += 2;
                  n.A += 24;
                  if (A < 800)
                      n.A += 8;
                  j0 = f(n)
              }
              for (var V = 0; V < j0; V++) {
                  var a4 = f(n)
                    , M = 0;
                  if (A >= 1300 && e8)
                      n.A++;
                  n.A++;
                  var g = f(n)
                    , f8 = [];
                  for (M = 0; M < g; M++) {
                      var b3 = X(n)
                        , cZ = 0;
                      X(n);
                      var gh = X(n);
                      if (A >= 800)
                          cZ = X(n);
                      var cy = {};
                      if (gh & 1) {
                          cy.aeu = E(n);
                          var h3 = E(n);
                          if (h3)
                              cy.ajp = h3
                      }
                      if (gh & 2)
                          n.A += 4;
                      if (gh & 4)
                          cy.aa$ = R(n);
                      if (gh & 8)
                          n.A += 4;
                      if (gh & 16)
                          n.A += 4;
                      if (gh & 32)
                          n.A += 4;
                      if (gh & 64) {
                          cy.adG = f(n);
                          if (A >= 1500)
                              n.A += 48
                      }
                      if (gh & 128) {
                          cy.ao4 = f(n)
                      }
                      if (cZ & 8) {
                          if (A >= 1300) {
                              var ew = f(n);
                              if (n.A + ew * 2 >= n.data.length) {
                                  aT = !0;
                                  break
                              }
                              n.A += ew * 2
                          } else
                              n.A += 4
                      }
                      if (cZ & 32) {
                          var dy = X(n);
                          if (dy)
                              n.A += 52
                      }
                      if (b3 == 2)
                          if (A >= 1300)
                              n.A += 48;
                      f8.push(cy)
                  }
                  if (aT) {
                      break
                  }
                  var fx = f(n);
                  if (n.A + fx * 4 > n.data.length)
                      break;
                  var bo = [];
                  for (M = 0; M < fx; M++) {
                      var hd = 0;
                      if (A >= 1200)
                          hd = a(n) & 4294967295;
                      else
                          hd = f(n);
                      bo[M] = hd >> 16 | hd & 1
                  }
                  var gT = fx;
                  if (A >= 1200)
                      gT = f(n);
                  var du = iJ.mp(n);
                  U.G.ac1.push({
                      acq: a4,
                      text: du,
                      CJ: f8
                  })
              }
          } else if (U.LH == "font") {
              var bk = E(n)
                , i8 = E(n);
              n.A += 14;
              var en = iJ.mp(n);
              U.G = {
                  id: bk,
                  acn: i8,
                  name: en
              }
          } else if (["IKEY", "ICMT", "pfrd", "bcfg"].indexOf(U.LH) != -1) {} else if (U.LH == "flgs")
              U.G = f(n);
          else if (U.LH == "bbox") {
              var dW = R(n)
                , ix = R(n)
                , dU = R(n)
                , hN = R(n);
              U.G = new cc(dW,ix,dU - dW,hN - ix)
          } else if (U.LH == "fild") {
              var a1 = f(n), hk = 0, ej;
              if (A >= 1300) {
                  n.A += 4;
                  hk = E(n);
                  n.A += 2
              }
              var ax = E(n);
              if (ax == 0) {} else if (ax == 1) {
                  n.A += A >= 1300 ? 13 : 2;
                  ej = iJ.yP(n)
              } else if (ax == 2) {
                  n.A += A >= 1300 ? 8 : 2;
                  var bz = X(n)
                    , fq = 0;
                  if (A >= 1300) {
                      n.A += 17;
                      fq = q(n)
                  } else if (A >= 600) {
                      n.A += 19;
                      fq = c(n)
                  } else {
                      n.A += 11;
                      fq = q(n)
                  }
                  var cg = w(n)
                    , iw = .5 + I(n)
                    , fD = .5 + I(n) - .5;
                  if (A >= 600)
                      n.A += 2;
                  var g8 = p(n) & 255
                    , ap = X(n) / 100;
                  n.A++;
                  var c8 = p(n) & 65535;
                  if (A >= 1300)
                      n.A += 3;
                  var dS = [];
                  for (var M = 0; M < c8; M++) {
                      var iK = iJ.yP(n);
                      if (A >= 1300) {
                          if (hk == 158 || A >= 1600 && hk == 150)
                              n.A += 26;
                          else
                              n.A += 5
                      }
                      var ay = p(n) / 100;
                      if (A >= 1300)
                          n.A += 3;
                      dS.push([ay, iK])
                  }
                  ej = {
                      typ: bz == 1 ? "lin" : "rad",
                      crds: [iw - Math.cos(cg) / 2, fD - Math.sin(cg) / 2, iw, fD],
                      grad: dS,
                      mat: [1, 0, 0, 1, 0, 0]
                  }
              } else
                  console.log("Unknown fill type", ax);
              U.G = {
                  id: a1,
                  type: ax,
                  G: ej
              }
          } else if (U.LH == "outl") {
              var c$ = f(n);
              if (A >= 1300) {
                  var gP = 0
                    , d0 = 0;
                  while (gP != 1) {
                      n.A += d0;
                      gP = f(n);
                      d0 = f(n)
                  }
              }
              var ff = E(n)
                , ci = E(n)
                , gL = E(n);
              if (A < 1300 && A >= 600)
                  n.A += 2;
              var gw = R(n)
                , bJ = E(n) / 100;
              if (A >= 600)
                  n.A += 2;
              var hX = w(n);
              if (A >= 1300)
                  n.A += 46;
              else if (A >= 600)
                  n.A += 52;
              var ej = iJ.yP(n, c$ == 270963208 || c$ == 276198e3, c$);
              U.G = {
                  id: c$,
                  anx: ff,
                  aij: ci,
                  amO: gL,
                  lineWidth: gw,
                  color: ej
              }
          } else if (U.LH == "mcfg") {
              if (1300 <= A)
                  n.A += 12;
              else if (900 <= A)
                  n.A += 4;
              else if (600 <= A && A < 700)
                  n.A += 28;
              var bm = 0
                , hl = 0;
              if (A < 400)
                  throw "e";
              else {
                  bm = R(n);
                  hl = R(n)
              }
              U.G = {
                  apc: new ir(bm,hl)
              }
          } else if (U.LH == "loda") {
              var d = n.A
                , b0 = p(n)
                , i3 = p(n)
                , cp = p(n)
                , eR = p(n)
                , hm = p(n)
                , aK = []
                , gc = [];
              n.A = d + cp;
              for (var M = 0; M < i3; M++)
                  aK[M] = p(n);
              n.A = d + eR;
              for (var M = i3 - 1; M >= 0; M--)
                  gc[M] = p(n);
              U.G = {};
              for (var M = 0; M < i3; M++) {
                  n.A = d + aK[M];
                  var ii = gc[M];
                  if (ii == 10)
                      U.G.a0M = f(n);
                  else if (ii == 20)
                      U.G.a0l = f(n);
                  else if (ii == 200)
                      U.G.akG = p(n);
                  else if (ii == 30) {
                      if (A < 400)
                          hm--;
                      if (hm == 1) {
                          var dW = J(n)
                            , ix = J(n)
                            , fU = 0
                            , io = 0
                            , cJ = 0
                            , eI = 0;
                          if (A < 1500) {
                              eI = J(n);
                              cJ = A < 900 ? eI : J(n);
                              io = A < 900 ? eI : J(n);
                              fU = A < 900 ? eI : J(n)
                          } else
                              throw "e";
                          U.G.path = j.K.Gi(j.i.Ey.Rect(0, 0, dW, ix, fU))
                      } else if (hm == 2) {
                          var hV = R(n)
                            , bc = R(n)
                            , f2 = w(n)
                            , dK = w(n)
                            , fJ = Math.abs(hV)
                            , f6 = Math.abs(bc);
                          U.G.path = j.K.Gi(j.i.Ey.mZ(0, 0, fJ, -f6))
                      } else if (hm == 3) {
                          U.G.path = iJ.afR(n)
                      } else if (hm == 4) {
                          U.G.acG = iJ.aph(n)
                      } else if (hm == 6) {
                          U.G.af$ = iJ.a7x(n)
                      } else if (hm == 37) {
                          U.G.path = iJ.O4(n)
                      } else
                          console.log(hm)
                  }
              }
          } else if (U.LH == "trfd") {
              var d = n.A
                , b0 = p(n)
                , i3 = p(n)
                , cp = p(n);
              n.A = d + cp;
              var aK = [];
              for (var M = 0; M < i3; M++)
                  aK[M] = p(n);
              for (var M = 0; M < i3; M++) {
                  n.A = d + aK[M];
                  if (A >= 1300)
                      n.A += 8;
                  var db = E(n);
                  if (db == 8) {
                      var ds, fa, dW, c2, eN, ix;
                      if (A >= 600)
                          n.A += 6;
                      if (A >= 500) {
                          ds = K(n);
                          fa = K(n);
                          dW = K(n) / (A < 600 ? 1e3 : 254e3);
                          c2 = K(n);
                          eN = K(n);
                          ix = K(n) / (A < 600 ? 1e3 : 254e3)
                      } else
                          throw "e";
                      U.A1 = new b6(ds,c2,fa,eN,dW,ix)
                  } else
                      console.log(db)
              }
          } else if (!1) {
              console.log(U);
              var go = Math.min(U.size, 32);
              console.log(T.ol(data, U.A, go));
              console.log(T.a1w(data, U.A, go))
          }
      }
  }
  ;
  iJ.R9 = function(n, z) {
      var C = iJ.FF
        , D = {}
        , F = C(n);
      for (var M = 0; M < F; M++) {
          var X = C(n);
          n.A += 4;
          var E = C(n);
          D[X] = E;
          if (z)
              n.A += 48
      }
      return D
  }
  ;
  iJ.aph = function(n) {
      var z = iJ
        , C = z.W0
        , D = C(n)
        , F = C(n);
      return new ir(D,F)
  }
  ;
  iJ.a7x = function(n) {
      var z = iJ
        , C = z.W0;
      n.A += 4;
      var D = C(n)
        , F = C(n);
      return new ir(D,F)
  }
  ;
  iJ.O4 = function(n) {
      var z = iJ
        , C = z.FF
        , D = z.Rf
        , F = z.W0;
      n.A += 4;
      var X = D(n) + D(n);
      n.A += 16;
      var E = iJ.lR(n, X);
      return E
  }
  ;
  iJ.afR = function(n) {
      var z = iJ.Rf(n);
      n.A += 2;
      return iJ.lR(n, z)
  }
  ;
  iJ.lR = function(n, z) {
      var C = iJ
        , D = C.W0
        , F = n.G_ < 600 ? 2 : 4
        , X = n.A
        , E = {
          U: [],
          I: []
      }
        , f = 0
        , a = 0
        , q = 0;
      for (var M = 0; M < z; M++) {
          var f = D(n)
            , a = D(n)
            , c = n.data[X + z * F * 2 + M];
          if (!(c & 64) && !(c & 128)) {
              E.U.push(f, a);
              E.I.push("M");
              q += 2
          } else if (c & 64 && !(c & 128)) {
              E.U.push(f, a);
              E.I.push("L");
              q += 2
          } else if (!(c & 64) && c & 128) {
              E.U.push(f, a);
              E.I.push("C");
              q += 6
          } else if (c & 64 && c & 128) {
              E.U.push(f, a)
          }
      }
      if (q != E.U.length)
          throw "e";
      return E
  }
  ;
  iJ.a3X = function(n, z) {
      var C = T.YR;
      z += 8;
      var D = C(n, z);
      z += 4;
      var F = C(n, z);
      z += 4;
      z += 4 * 7;
      var X = z
        , E = j.T(D * F * 4);
      z += 1024;
      for (var f = 0; f < F; f++)
          for (var a = 0; a < D; a++) {
              var M = f * D + a
                , q = (F - f - 1) * D + a
                , c = n[z + M] << 2
                , K = q << 2;
              E[K + 0] = n[X + c + 2];
              E[K + 1] = n[X + c + 1];
              E[K + 2] = n[X + c + 0];
              E[K + 3] = 255
          }
      return {
          oz: E,
          rect: new cc(0,0,D,F)
      }
  }
  ;
  iJ.a5C = function(n) {
      if (n == 32)
          return 300;
      else if (n < 49)
          return 0;
      else if (n < 58)
          return 100 * (n - 48);
      else if (n < 65)
          return 0;
      return 100 * (n - 55)
  }
  ;
  iJ.yP = function(n, z, C) {
      var D = iJ.Rf
        , F = iJ.FF
        , X = n.G_
        , E = 0
        , f = 0;
      if (X >= 500) {
          E = D(n);
          if (E == 1 && X >= 1300)
              E = 25;
          if (E == 25 || E == 30) {
              var a = 0;
              if (E == 30) {
                  E = 25;
                  a = 30
              } else {
                  a = D(n);
                  n.A += 4
              }
              var q = D(n)
                , c = D(n)
          } else if (E == 14)
              throw "e";
          else {
              n.A += 6;
              f = F(n)
          }
      } else
          throw "e";
      var K = [];
      if (E == 2 || E == 9 || E == 17) {
          var R = [f >>> 0 & 255, f >>> 8 & 255, f >>> 16 & 255, f >>> 24 & 255];
          if (E == 2)
              for (var M = 0; M < 4; M++)
                  R[M] = Math.round(255 * R[M] / 100);
          for (var M = 0; M < 4; M++)
              R[M] /= 255;
          K = UDOC.C.cmykToRgb(R)
      } else if (E == 1 || E == 5) {
          K = [f >>> 0 & 255, f >>> 8 & 255, f >>> 16 & 255];
          for (var M = 0; M < 3; M++)
              K[M] = K[M] / 255
      } else
          console.log("Unknown color model " + E, f, f.toString(16));
      return K
  }
  ;
  var dG = function() {
      var n, z, C = new ArrayBuffer(4), D = new Uint8Array(C), F = new Uint32Array(C), X = new Float32Array(C);
      function E(R, J) {
          for (var w = 0; w < R.length; w++)
              if (R[w][0] == J)
                  return R[w]
      }
      function f() {
          var R = 0
            , J = 0
            , w = 0;
          do {
              w = n[z++];
              R |= (w & 127) << J;
              J += 7
          } while (w & 128 && J < 35);return R >>> 0
      }
      function a(R, J, w, p, I) {
          n = R;
          z = J;
          var m = p[0] == "mesg"
            , A = p[2]
            , U = {}
            , r = 1
            , $ = m ? 1e9 : A.length;
          while (r <= $) {
              var k = r;
              if (m) {
                  k = f();
                  if (k == 0)
                      break
              }
              var G = E(A, k)
                , i = G[2]
                , o = G[1] == 1
                , S = o ? f() : 1
                , H = new Array(S);
              if (i == 3) {
                  if (!o)
                      throw "e";
                  H = n.slice(z, z + S);
                  z += S
              } else
                  for (var M = 0; M < S; M++) {
                      var e;
                      if ((i & 1) == 1) {
                          if (i == 1)
                              e = n[z++] == 1;
                          else if (i == 3)
                              e = n[z++];
                          else if (i == 5) {
                              var V = f();
                              e = V & 1 ? ~(V >>> 1) : V >>> 1
                          } else if (i == 7)
                              e = f();
                          else if (i == 9) {
                              if (n[z] == 0) {
                                  e = 0;
                                  z++
                              } else {
                                  D[0] = n[z];
                                  D[1] = n[z + 1];
                                  D[2] = n[z + 2];
                                  D[3] = n[z + 3];
                                  var v = F[0];
                                  F[0] = v << 23 | v >>> 9;
                                  e = X[0];
                                  z += 4
                              }
                          } else if (i == 11) {
                              var B = q(n, z);
                              e = B[0];
                              z += B[1] + 1
                          } else
                              throw i
                      } else {
                          var Z = w[i >>> 1];
                          if (Z[0] == "enum") {
                              var d = n[z++];
                              if (d > 127)
                                  throw "e";
                              e = Z[2][d]
                          } else {
                              var g = a(n, z, w, Z, I + 1);
                              e = g[0];
                              z = g[1]
                          }
                      }
                      H[M] = e
                  }
              U[G[3]] = o ? H : H[0];
              r++
          }
          return [U, z]
      }
      function q(R, J) {
          var w = J;
          while (R[w] != 0)
              w++;
          return [T.iS(R, J, w - J), w - J]
      }
      function c(R, J) {
          var w = J;
          while (R[w] != 0)
              w++;
          for (var M = J; M < w; M++)
              if (R[M] > 127)
                  throw "e";
          return T.uL(R, J, w - J)
      }
      function K(R) {
          n = R;
          z = 1;
          var J = [];
          while (z < R.length) {
              var w = z
                , p = J.length
                , I = c(R, z);
              z += I.length + 1;
              var m = f();
              if (m > 2)
                  throw "e";
              var A = f()
                , U = [];
              for (var M = 0; M < A; M++) {
                  var r = c(R, z);
                  z += r.length + 1;
                  var $ = f()
                    , k = f()
                    , G = f();
                  U.push(m == 0 ? r : [G, k, $, r])
              }
              J.push([["enum", "strc", "mesg"][m], I, U])
          }
          return J
      }
      return {
          ao1: K,
          ab9: a
      }
  }();
  function iH() {}
  iH.vC = function(n, z) {
      var C = new Uint8Array(n)
        , D = 8
        , F = T.YR(C, D)
        , q = 0
        , Z = 0;
      D += 4;
      var X = [];
      while (D < C.length) {
          var E = T.YR(C, D);
          D += 4;
          var f = C.slice(D, D + E);
          if (C[D] == 137 && C[D + 1] == 80) {} else
              f = UZIP.inflateRaw(f);
          X.push(f);
          D += E
      }
      var a = dG.ao1(X[0]);
      for (var M = 0; M < a.length; M++)
          if (a[M][1] == "Message")
              q = M;
      var c = dG.ab9(X[1], 0, a, a[q], 0)[0]
        , K = {
          yL: {},
          WA: {},
          a6H: {}
      }
        , R = c.nodeChanges;
      for (var J = 0; J < R.length; J++) {
          var w = R[J]
            , p = w.guid;
          K.WA[p.sessionID + "," + p.localID] = w
      }
      for (var J = 0; J < R.length; J++) {
          var w = R[J]
            , p = w.parentIndex;
          if (p) {
              var I = iH.Ei(K.WA, p.guid);
              if (I.children == null)
                  I.children = [];
              I.children.push(w)
          }
      }
      var m = R[0]
        , A = m.children
        , U = new cc
        , r = []
        , $ = [];
      for (var p = 0; p < A.length; p++) {
          var k = A[p]
            , G = k.children;
          if (k.name == "Internal Only Canvas" || G == null)
              continue;
          var i = new cc;
          for (var M = 0; M < G.length; M++) {
              var o = G[M]
                , S = o.transform
                , H = o.size;
              if (S.m00 == 1 && S.m10 == 0 && S.m01 == 0 && S.m11 == 1) {
                  var e = new cc(S.m02,S.m12,H.x,H.y);
                  i = i.QH(e)
              }
          }
          var V = U.v == 0 ? 0 : U.v + 100
            , v = i.clone();
          v.x = 0;
          v.y = V;
          U = U.QH(v);
          r[p] = i;
          $[p] = V
      }
      var B = gn.Dr(new cc(0,0,U.d,U.v), 8192 * 8192);
      z.d = Math.round(U.d / B);
      z.v = Math.round(U.v / B);
      z.buffer = j.T(z.d * z.v * 4);
      for (var p = 0; p < A.length; p++) {
          var k = A[p]
            , G = k.children;
          if (k.name == "Internal Only Canvas" || G == null)
              continue;
          G.sort(iH.cS);
          var d = new b6(1,0,0,1,-r[p].x,$[p] - r[p].y);
          d.scale(1 / B, 1 / B);
          for (var M = 0; M < G.length; M++) {
              var o = G[M];
              iH.XY(o, [], d, c.blobs, z, 0, K);
              Z++
          }
      }
      z.Jy(Z);
      z.Jf = !0;
      if (B != 1)
          alert("File scaled down " + B + "x")
  }
  ;
  iH.XY = function(n, z, C, D, F, X, E) {
      var f = iH, o = !1, S, H, V, v, B;
      for (var M = 0; M < z.length; M++) {
          var a = z[M]
            , q = a.guidPath.guids[0];
          if (f.ai9(q, n.guid)) {
              var c = {};
              for (var K in n)
                  c[K] = a[K] != null ? a[K] : n[K];
              n = c
          }
      }
      var R = n.type
        , J = n.children
        , w = n.size
        , p = n.effects
        , I = F.gl();
      I.CZ(n.name);
      I.Hu(n.visible);
      I.opacity = Math.round(n.opacity * 255);
      var m = f._h(n.transform)
        , A = m.clone();
      A.concat(C);
      var U = new cc(Math.round(A.H1),Math.round(A.Wv),Math.round(w.x * A.Jr()),Math.round(w.y * A.Jr()))
        , r = n.fillPaints
        , $ = n.inheritFillStyleID;
      if ($) {
          var c = f.Ei(E.WA, $);
          if (c)
              r = c.fillPaints
      }
      if (r == null)
          r = [];
      var r = f.kx(r)
        , k = r[0]
        , G = n.strokePaints
        , $ = n.inheritFillStyleIDForStroke;
      if ($) {
          var c = f.Ei(E.WA, $);
          if (c)
              G = c.fillPaints
      }
      if (G == null)
          G = [];
      var G = f.kx(G)
        , i = "BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON".split(" ").indexOf(R) != -1;
      if (i || R == "FRAME") {
          S = new Q.qP;
          H = [];
          f.qS(n, D, S, H);
          o = j.i.I0(S.g);
          j.i.i3(S.g, A);
          U = j.K.HM(j.i.Rb(S.g));
          if (E.yL.x5 && k) {
              var e = Q.qP.$k(E.yL.x5.g);
              for (var M = 2; M < e.length; M++)
                  if (e[M].fT != null)
                      e[M].fT = 3;
              S.g = S.g.concat(e.slice(2));
              H = H.concat(JSON.parse(JSON.stringify(E.yL.hL)))
          }
      }
      if (k && k.type == "IMAGE") {
          B = k.imageScaleMode;
          V = f.Wc(D, k.image.dataBlob);
          var Z = V.Pi.d / V.Pi.v
            , d = w.x / w.y;
          v = Math.abs(Z - d)
      }
      if (R == "FRAME") {} else if (i && o && V && (B == "FIT" || B == "FILL" && v <= .05)) {
          var g = D[k.image.dataBlob].bytes
            , Y = F.AM(g, I.getName(), 0, 0);
          Y.j1 = I.j1;
          Y.opacity = I.opacity;
          I = Y;
          var y = new cc(0,0,w.x,w.y);
          if (B == "FIT") {
              var L = V.Pi.d
                , _ = V.Pi.v
                , b = Math.min(w.x / L, w.y / _)
                , x = L * b
                , W = _ * b;
              y = new cc(y.x + (y.d - x) / 2,y.y + (y.v - W) / 2,x,W)
          }
          var g6 = j.K.YQ(y).U;
          j.K.Z(g6, A, g6);
          I.add.SoLd.Trnf = O.o.IO(g6);
          I.add.SoLd.nonAffineTransform = O.o.IO(g6);
          var fY = []
            , p = n.effects
            , f3 = k.paintFilter;
          if (p)
              for (var M = 0; M < p.length; M++)
                  if (p[M].type == "FOREGROUND_BLUR") {
                      var hK = p[M]
                        , s = fd.HB("GsnB", {});
                      fY.push(s);
                      s.v.enab.v = hK.visible;
                      s.v.Fltr.v.Rds.v.val = hK.radius / 2.4
                  }
          if (f3 && f3.exposure != 0) {
              var s = fd.HB("brit", {});
              fY.push(s);
              s.v.Fltr.v.Brgh.v = Math.round(f3.exposure * 160);
              s.v.Fltr.v.useLegacy.v = !0
          }
          if (fY.length != 0) {
              I.add.SoLd.filterFX = fd._z();
              F.$n({
                  id: I.add.SoLd.placed.v,
                  rect: new cc,
                  buffer: j.T(1),
                  z: new Q.im
              });
              I.add.SoLd.filterFX.v.filterFXList.v = fY
          }
          I.V_(F, !1);
          f.le(E, I, F)
      } else if (i) {
          f.hO(I, H, S, n, k, A, U, D, F, E);
          var P = f.qm(n, G[0], A, U, D, F, E);
          if (P[0] != "None") {
              var aF = I.add.vstk;
              aF.strokeEnabled.v = !0;
              aF.strokeStyleLineWidth.v.val = n.strokeWeight * A.Jr();
              aF.strokeStyleLineAlignment.v.strokeStyleLineAlignment = g$.Bt.pA[["INSIDE", "CENTER", "OUTSIDE"].indexOf(n.strokeAlign)];
              var fM = {
                  SoCo: "SoFi",
                  GdFl: "GrFl"
              }[P[0]]
                , eA = ["SoFi", "GrFl", "patternFill"].indexOf(fM)
                , e8 = [g$.oQ, g$.p_, g$.XK][eA];
              aF.strokeStyleContent.v = {
                  classID: g$.Bt.UN[0]
              };
              aF.strokeStyleLineDashSet.v = fg.br(n.dashPattern, 1 / n.strokeWeight);
              var eC = aF.strokeStyleContent.v = {
                  classID: g$.Bt.UN[eA]
              };
              for (var M = 0; M < e8.length; M++)
                  eC[e8[M]] = P[1][e8[M]]
          }
          if (p)
              for (var M = 0; M < p.length; M++) {
                  var hK = p[M];
                  if (hK.type != "FOREGROUND_BLUR")
                      continue;
                  S.PJ = hK.radius / 2.4
              }
          I.z4(F)
      } else if (R == "TEXT") {
          var cy = n.textData
            , aX = cy.layoutSize
            , j0 = ["LEFT", "RIGHT", "CENTER"].indexOf(n.textAlignHorizontal);
          I.add.lnsr = "rend";
          I.add.TySh = bZ.uZ(0, 0);
          I.add.TySh.jk = new cc(0,0,100,100);
          var aT = A.clone();
          I.add.TySh.Z = aT;
          var a4 = I.add.TySh.uR
            , f8 = cy.characters;
          if (n.textCase == "TITLE") {
              for (var M = 0; M < f8.length; M++)
                  if (M == 0 || f8[M - 1] == " ") {
                      var b3 = f8.slice(0, M)
                        , gh = f8.slice(M + 1);
                      f8 = b3 + f8[M].toUpperCase() + gh
                  }
          }
          f8 = f8.replace(/\u2028/g, "\n");
          f8 = f8.replace(/\u2029/g, "\n");
          f8 = f8.replace(/\r/g, "\n");
          bZ.rZ(a4, 0, f8);
          var cZ = n.textAutoResize
            , h3 = cy.baselines;
          if (cZ == "WIDTH_AND_HEIGHT") {
              var ew = j0 == 0 ? 0 : j0 == 1 ? aX.x : aX.x / 2
                , dy = h3 ? h3[0].position.y : 0;
              aT.translate(ew * A.Jr(), dy * A.Jr());
              bZ.qf(a4, 0)
          } else if (cZ == "HEIGHT" || cZ == "NONE" || cZ == null) {
              var dy = h3 ? h3[0].position.y - n.fontSize * .7 : 0;
              aT.translate(0, dy * A.Jr());
              bZ.qf(a4, 1);
              bZ.u6(a4, [0, 0, Math.round(aX.x), Math.round(1.2 * aX.y)])
          } else
              throw cZ;
          if (f8 != "") {
              var fx = bZ.jj(a4, 0, 1);
              f.nY(n, A, w, fx, I, D, F, E);
              bZ.YI(a4, 0, f8.length, fx);
              var bo = cy.characterStyleIDs
                , hd = cy.styleOverrideTable;
              if (bo) {
                  bo = bo.slice(0);
                  for (var M = 0; M < bo.length; M++)
                      if (f8[M] == "\n")
                          bo[M] = -M - 1;
                  var gT = [0]
                    , du = 0
                    , bk = 0;
                  for (var M = 0; M < bo.length; M++) {
                      bk++;
                      var i8 = bo[M];
                      if (M == 0 || i8 == bo[M - 1]) {} else {
                          gT.push(bk - 1, M);
                          bk = 1
                      }
                  }
                  gT.push(bk);
                  for (var M = 0; M < gT.length; M += 2) {
                      var en = gT[M]
                        , dW = gT[M + 1];
                      if (f8[en] == "\n")
                          continue;
                      var i8 = bo[en];
                      if (i8 != 0) {
                          var ix;
                          for (var dU = 0; dU < hd.length; dU++)
                              if (hd[dU].styleID == i8)
                                  ix = hd[dU];
                          var fx = bZ.jj(a4, en, en + 1);
                          f.nY(ix, A, w, fx, I, D, F, E);
                          bZ.YI(a4, en, en + dW, fx)
                      }
                  }
              }
          }
      } else if (R == "SYMBOL") {} else if (R == "INSTANCE") {
          var hN = n.symbolData
            , a1 = hN.symbolOverrides
            , c = f.Ei(E.WA, hN.symbolID);
          if (c)
              J = c.children;
          else
              console.log(n.name, "symbol not found", hN.symbolID);
          z = z.slice(0);
          for (var M = 0; M < a1.length; M++)
              z.push(a1[M])
      } else
          console.log(R);
      if (!1) {} else if (J && !i) {
          F.W.push(F.iE());
          var hk = !1;
          if (X == 0 && R != "SYMBOL" && R != "INSTANCE") {
              I.zk(U);
              var ax = r ? r[0] : null;
              if (ax && ax.type == "SOLID") {
                  var ej = ax.color;
                  I.add.artb.artboardBackgroundType.v = 4;
                  I.add.artb.Clr = f.yP(ej)
              }
          } else if (k && S) {
              var bz = F.gl();
              bz.CZ("Background");
              f.hO(bz, H, S, n, k, A, U, D, F, E);
              bz.z4(F);
              F.W.push(bz);
              hk = !0
          }
          J.sort(f.cS);
          var fq = E.yL;
          E.yL = {};
          for (var cg = 0; cg < J.length; cg++)
              f.XY(J[cg], z, A, D, F, X + 1, E);
          E.yL = fq;
          I.add.lsct = !1 ? g9.WQ : g9.cP;
          I.Gx = "pass";
          var iw = I.y_();
          I.j1 = 24;
          I.Hu(iw);
          var fD = X != 0 && r.length != 0 && !n.frameMaskDisabled && n.containerSupportsFillStrokeAndCorners;
          if (!hk && fD && S) {
              I.add.vmsk = S;
              I.add.vogk = H;
              I.z4(F)
          } else
              f.le(E, I, F);
          F.W.push(I)
      } else if (n.mask) {
          if (S) {
              E.yL.x5 = S;
              E.yL.hL = H
          }
      } else {
          var g8 = []
            , gP = 1;
          if (p)
              for (var ap = 0; ap < p.length; ap++) {
                  var hK = p[ap]
                    , c8 = hK.color
                    , dS = hK.type
                    , iK = ["DROP_SHADOW", "INNER_SHADOW"].indexOf(dS);
                  if (iK != -1) {
                      var ay = ["DrSh", "IrSh"][iK]
                        , c$ = JSON.parse(g$.g$[g$.order.indexOf(ay)]);
                      g8.push([ay, c$]);
                      c$.enab.v = hK.visible;
                      c$.Md.v.BlnM = hr.v2(f.ae7(hK.blendMode));
                      c$.Opct.v.val = Math.round(100 * c8.a);
                      c$.blur.v.val = Math.round(hK.radius * A.Jr());
                      c$.Clr = f.yP(c8);
                      var ew = hK.offset.x
                        , dy = hK.offset.y;
                      c$.uglg.v = !1;
                      c$.lagl.v.val = Math.round(180 / Math.PI * Math.atan2(dy, -ew));
                      c$.Dstn.v.val = Math.round(Math.sqrt(ew * ew + dy * dy) * A.Jr())
                  }
              }
          if (R == "TEXT" && r[0] && r[0].type != "SOLID")
              gP = 0;
          for (var M = gP; M < r.length; M++) {
              var d0 = r[M]
                , ff = f.qm(n, d0, A, U, D, F, E);
              if (ff[0] == "GdFl")
                  g8.push(["GrFl", ff[1]]);
              else if (ff[0] == "SoCo")
                  g8.push(["SoFi", ff[1]]);
              else if (ff[0] == "PtFl")
                  g8.push(["patternFill", ff[1]]);
              else
                  throw ff
          }
          if (g8.length != 0) {
              var ci = JSON.parse(g$.default);
              for (var M = 0; M < g$.order.length; M++)
                  ci[g$.IT[M]] = {
                      t: "VlLs",
                      v: []
                  };
              for (var M = 0; M < g8.length; M++) {
                  var gL = g8[M]
                    , ay = g$.IT[g$.order.indexOf(gL[0])];
                  ci[ay].v.unshift({
                      t: "Objc",
                      v: gL[1]
                  })
              }
              if (J == null)
                  I.add.lmfx = ci
          }
          F.W.push(I)
      }
  }
  ;
  iH.hO = function(n, z, C, D, F, X, E, f, a, q) {
      var c = iH;
      n.j1 |= 16;
      n.add.vogk = z;
      n.add.vmsk = C;
      var K = n.add.vstk = JSON.parse(JSON.stringify(g$.Bt.default))
        , R = c.qm(D, F, X, E, f, a, q);
      if (R[0] == "None") {
          K.fillEnabled.v = !1;
          n.add.SoCo = R[1]
      } else {
          var J = R[1].Opct.v.val;
          if (J != 100)
              n.opacity = Math.round(n.opacity / 255 * (J / 100) * 255);
          n.add[R[0]] = R[1]
      }
  }
  ;
  iH.cS = function(n, z) {
      var C = n.parentIndex.position
        , D = z.parentIndex.position;
      return C > D ? 1 : -1
  }
  ;
  iH.kx = function(n) {
      for (var M = 1; M < n.length; M++) {
          var z = n[M];
          if (z.type == "IMAGE" && z.opacity == 1) {
              n = n.slice(M);
              break
          }
      }
      for (var M = 0; M < n.length; M++) {
          var z = n[M]
            , C = z.imageThumbnail;
          if (z.type == "IMAGE" && (z.image == null || z.image.dataBlob == null) && C && C.dataBlob)
              z.image = C;
          if (!z.visible || z.type == "IMAGE" && z.image.dataBlob == null) {
              n.splice(M, 1);
              M--
          }
      }
      return n
  }
  ;
  iH.le = function(n, z, C) {
      if (n.yL.x5) {
          z.add.vmsk = n.yL.x5.clone();
          z.add.vogk = JSON.parse(JSON.stringify(n.yL.hL));
          z.z4(C)
      }
  }
  ;
  iH.nY = function(n, z, C, D, F, X, E, f) {
      var a = n.fontSize
        , q = n.lineHeight
        , c = n.fontName
        , K = n.textAlignHorizontal
        , R = n.textTracking
        , J = n.textCase;
      if (a == null)
          a = D.I$.FontSize;
      if (c)
          bZ.I9(D, c.postscript);
      if (a != null)
          D.I$.FontSize = Math.round(a);
      if (R)
          D.I$.Tracking = Math.round(R * 1e3);
      if (J)
          D.I$.FontCaps = J == "UPPER" ? 2 : 0;
      if (q && (q.units != "PERCENT" || q.value != 100)) {
          if (a == null)
              a = 15;
          var w = q.value;
          if (q.units == "PERCENT")
              w = 1 * a * w / 100;
          if (q.units == "RAW")
              w = 1 * a * w;
          D.I$.AutoLeading = !1;
          D.I$.Leading = Math.round(w)
      }
      if (K)
          D.t_.Justification = ["LEFT", "RIGHT", "CENTER"].indexOf(K);
      var p = n.fillPaints
        , I = n.inheritFillStyleID;
      if (I) {
          var m = iH.Ei(f.WA, I);
          if (m)
              p = m.fillPaints
      }
      if (p && p[0]) {
          var A = iH.qm(n, p[0], z, C, X, E, f);
          if (A[0] == "SoCo") {
              var U = j._.Jo(A[1].Clr.v);
              D.I$.FillColor = {
                  Type: 1,
                  Values: [1, U.h / 255, U.Q / 255, U.O / 255]
              };
              F.opacity = Math.round(F.opacity / 255 * (A[1].Opct.v.val / 100) * 255)
          }
      }
  }
  ;
  iH.qm = function(n, z, C, D, F, X, E) {
    debugger
      var f = iH, a, q, c = n.size;
      if (z) {
          var K = z.type
            , R = ["GRADIENT_LINEAR", "GRADIENT_RADIAL", "GRADIENT_DIAMOND", "GRADIENT_ANGULAR"].indexOf(K);
          if (K == "SOLID") {
              a = "SoCo";
              var J = z.color;
              q = JSON.parse(g$.g$[g$.order.indexOf("SoFi")]);
              q.Clr = f.yP(J)
          } else if (R != -1) {
              var w = JSON.parse(g$.g$[g$.order.indexOf("GrFl")])
                , p = w.Grad.v;
              p.Intr.v = 0;
              w.Type.v.GrdT = ["Lnr", "Rdl", "Dmnd", "Angl"][R];
              var I = []
                , m = z.stops;
              for (var M = 0; M < m.length; M++) {
                  var A = m[M]
                    , U = A.color;
                  I.push([A.position, [U.r, U.g, U.b], U.a])
              }
              j._.sb(I, p);
              var r = f._h(z.transform);
              r.eL();
              var $ = r.clone();
              if (c)
                  $.scale(c.x, c.y);
              $.concat(C);
              var k = new ir(0,.5)
                , G = new ir(1,.5);
              k = $.JT(k);
              G = $.JT(G);
              if (!0) {
                  k.x = G.x + .5 * (k.x - G.x);
                  k.y = G.y + .5 * (k.y - G.y)
              }
              j._.a9(k, G, D, w);
              if (R == 3) {
                  if ($.nb * $.qc - $.O * $.KV < 0)
                      w.Rvrs.v = !w.Rvrs.v
              }
              a = "GdFl";
              q = w
          } else if (K == "IMAGE") {
              var w = JSON.parse(g$.g$[g$.order.indexOf("patternFill")])
                , i = w.phase.v
                , o = z.image.dataBlob
                , S = E.a6H[o]
                , Y = 1;
              if (S == null) {
                  var H = f.Wc(F, o);
                  S = E.a6H[o] = {};
                  S.id = b$.oA() + "-d71c-11e5-b1ae-a548a96e5f9f";
                  S.Tc = [new Uint8Array(H.data), H.Pi];
                  S.name = "someImage";
                  X.P2(S)
              }
              w.Algn.v = !0;
              w.Ptrn.v.Idnt.v = S.id;
              var e = C.H1
                , V = C.Wv
                , v = z.imageScaleMode
                , r = f._h(z.transform);
              r.eL();
              var B = D.d
                , Z = D.v
                , d = S.Tc[1].d
                , g = S.Tc[1].v;
              if (v == "FILL") {
                  Y = Math.max(B / d, Z / g);
                  Y = Math.round(Y * 100) / 100
              } else if (v == "FIT") {
                  Y = Math.min(B / d, Z / g);
                  Y = Math.round(Y * 100) / 100
              } else if (v == "STRETCH") {
                  var y = B * r.nb
                    , L = Z * r.qc;
                  Y = .5 * (y / d + L / g);
                  Y = Math.round(Y * 100) / 100;
                  e += (y - B) / 2 + r.H1 * B;
                  V += (L - Z) / 2 + r.Wv * Z
              } else if (v == "TILE") {
                  Y = z.scale;
                  Y = Math.round(Y * 100) / 100;
                  e += (y - B) / 2;
                  V += (L - Z) / 2
              }
              var _ = Y * d
                , b = Y * g;
              e += -(_ - B) / 2;
              V += -(b - Z) / 2;
              w.Scl.v.val = Math.round(100 * Y);
              i.Hrzn.v = Math.round(e);
              i.Vrtc.v = Math.round(V);
              a = "PtFl";
              q = w
          } else
              throw K;
          if (q)
              q.Opct = {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: Math.round(z.opacity * 100)
                  }
              }
      } else {
          a = "None";
          q = {
              classID: "null",
              Clr: {
                  t: "Objc",
                  v: j._.w9({
                      h: 0,
                      Q: 0,
                      O: 0
                  })
              }
          }
      }
      return [a, q]
  }
  ;
  iH.Wc = function(n, z) {
      var C = n[z];
      if (C.rslt)
          return C.rslt;
      var D = C.bytes.buffer
        , F = fC.Nj(D)
        , X = fC.ET(F);
      try {
          C.rslt = X.c3(D)[0]
      } catch (aC) {
          C.rslt = {
              data: j.T(4),
              Pi: new cc(0,0,1,1)
          }
      }
      return C.rslt
  }
  ;
  iH.qS = function(n, z, C, D) {
      var F = n.type, X = n.size, E = n.cornerRadius, K;
      if (E == null)
          E = 0;
      var f = j.hL.mo()
        , a = X.x
        , q = X.y
        , c = [E, E, E, E]
        , R = ["rectangleTopLeftCornerRadius", "rectangleTopRightCornerRadius", "rectangleBottomRightCornerRadius", "rectangleBottomLeftCornerRadius"];
      for (var M = 0; M < 4; M++)
          if (n[R[M]] != null)
              c[M] = n[R[M]];
      if (F == "RECTANGLE" || F == "ROUNDED_RECTANGLE" || F == "FRAME") {
          K = j.i.Ey.Rect(0, 0, a, q, c)
      } else if (F == "ELLIPSE") {
          var J = n.arcData
            , w = J ? J.startingAngle : 0
            , p = J ? J.endingAngle : 2 * Math.PI
            , I = J ? J.innerRadius : 0;
          if (w == 0 && p > 1.999 * Math.PI)
              K = j.i.Ey.mZ(0, 0, a, q, 0);
          else
              K = j.i.Ey.a7H(a / 2, q / 2, q / 2, w, p);
          if (I != 0 && I != 1) {
              var m = Q.qP.$k(K).slice(3);
              m.reverse();
              for (var M = 0; M < m.length; M++) {
                  var A = m[M]
                    , U = A.K1;
                  A.K1 = A.yz;
                  A.yz = U
              }
              var r = new b6;
              r.translate(-a / 2, -q / 2);
              r.scale(I, I);
              r.translate(a / 2, q / 2);
              j.i.i3(m, r);
              K = K.concat(m);
              K[2].length *= 2
          }
      } else if (F == "LINE") {
          K = j.i.Ey.Rect(0, 0, a, q, 0);
          K.pop();
          K.pop();
          K[2].length = 2
      } else if (F == "REGULAR_POLYGON") {
          K = j.i.Ey.Qe(.5, .5, .5, Math.PI / 2, n.count, 0);
          var $ = new b6;
          $.scale(a, q);
          j.i.i3(K, $)
      } else if (F == "BOOLEAN_OPERATION") {
          K = [{
              type: 6
          }, {
              type: 8,
              all: 0
          }];
          var k = n.children
            , G = ["XOR", "UNION", "SUBTRACT", "INTERSECT"].indexOf(n.booleanOperation);
          if (G == -1)
              throw n;
          if (k == null)
              k = [];
          for (var M = 0; M < k.length; M++) {
              var i = k[M]
                , o = new Q.qP
                , S = []
                , H = iH.qS(i, z, o, S);
              if (o.g == null)
                  continue;
              j.i.i3(o.g, iH._h(i.transform));
              K = K.concat(o.g.slice(2));
              for (var e = 0; e < S.length; e++)
                  D.push(S[e])
          }
          for (var M = 3; M < K.length; M++)
              if (K[M].fT != null)
                  K[M].fT = G;
          f = null
      } else if (F == "VECTOR") {
          var V, v;
          if (!0) {
              var B = n.vectorData;
              V = B.normalizedSize;
              v = B.vectorNetworkBlob
          } else {
              V = X;
              v = b0[0].commandsBlob;
              console.log(b0)
          }
          var Z = z[v].bytes
            , g = new Uint32Array(Z.buffer)
            , Y = new Float32Array(Z.buffer)
            , y = g[0]
            , L = g[1]
            , _ = [];
          for (var M = 0; M < y; M++) {
              var b = 3 + M * 3
                , x = new ir(Y[b + 1],Y[b + 2]);
              _.push(x)
          }
          var W = []
            , g6 = 3 + y * 3;
          for (var M = 0; M < L; M++) {
              var fY = g6 + M * 7
                , f3 = g[fY + 1]
                , hK = g[fY + 4];
              W.push([f3, hK, Y[fY + 2], Y[fY + 3], Y[fY + 5], Y[fY + 6]])
          }
          var s = -1;
          for (var M = 0; M < L; M++) {
              if (s == -1) {} else {
                  var P = -1;
                  for (var e = M; e < L; e++)
                      if (W[e][1] == s)
                          P = e;
                  for (var e = M; e < L; e++)
                      if (W[e][0] == s)
                          P = e;
                  if (P != -1) {
                      var aF = 0
                        , U = W[P];
                      W[P] = W[M];
                      W[M] = U;
                      if (U[0] != s) {
                          aF = U[0];
                          U[0] = U[1];
                          U[1] = aF;
                          aF = U[2];
                          U[2] = U[4];
                          U[4] = aF;
                          aF = U[3];
                          U[3] = U[5];
                          U[5] = aF
                      }
                  }
              }
              s = W[M][1]
          }
          var fM = []
            , eA = []
            , e8 = -1;
          s = -1;
          for (var M = 0; M < L; M++) {
              var eC = W[M]
                , f3 = eC[0]
                , hK = eC[1]
                , cy = _[f3]
                , aX = _[hK];
              if (s != f3) {
                  eA.push("M");
                  fM.push(cy.x, cy.y);
                  e8 = f3
              }
              fM.push(cy.x + eC[2], cy.y + eC[3]);
              fM.push(aX.x + eC[4], aX.y + eC[5]);
              eA.push("C");
              fM.push(aX.x, aX.y);
              s = hK;
              if (e8 == hK) {
                  eA.push("Z");
                  e8 = s = -1
              }
          }
          K = j.K.gU({
              U: fM,
              I: eA
          }, !0);
          if (E != 0) {
              var c = []
                , j0 = K[2].length;
              for (var M = 0; M < j0; M++)
                  c.push(E);
              if (j.i.Gc(K))
                  j.i.P3(K, 2, c)
          }
          var aT = new b6;
          aT.scale(V.x == 0 ? 1 : X.x / V.x, V.y == 0 ? 1 : X.y / V.y);
          j.i.i3(K, aT)
      }
      C.g = K;
      if (f)
          D.push(f)
  }
  ;
  iH.Ei = function(n, z) {
      return n[z.sessionID + "," + z.localID]
  }
  ;
  iH.ai9 = function(n, z) {
      return n.sessionID == z.sessionID && n.localID == z.localID
  }
  ;
  iH.ae7 = function(n) {
      var z = {
          NORMAL: "norm",
          MULTIPLY: "mul ",
          SCREEN: "scrn",
          COLOR_DODGE: "div ",
          DARKEN: "dark"
      }[n];
      if (z == null)
          throw n;
      return z
  }
  ;
  iH.yP = function(n) {
      return {
          t: "Objc",
          v: j._.w9({
              h: n.r * 255,
              Q: n.g * 255,
              O: n.b * 255
          })
      }
  }
  ;
  iH._h = function(n) {
      var z = [n.m00, n.m10, n.m01, n.m11, n.m02, n.m12];
      for (var M = 0; M < 6; M++)
          if (Math.abs(z[M]) < 1e-20)
              z[M] = 0;
      return new b6(z[0],z[1],z[2],z[3],z[4],z[5])
  }
  ;
  function bp() {}
  bp.vC = function() {
      var n = T.uL;
      function z(J, w, p, I) {
          var m = I ? [] : {};
          while (w < J.length - 1 && J[w] != 125) {
              var A = n(J, w, 3), U = n(J, w + 3, 1), r;
              w += 4;
              w++;
              if (U == "v") {
                  var $ = z(J, w, p + 1, A == "ELM" || A == "TIL");
                  r = $.G;
                  w = $.A
              } else if (U == "i" || U == "f") {
                  var k = w;
                  while (J[k] != 125)
                      k++;
                  var G = n(J, w, k - w);
                  r = U == "i" ? parseInt(G, 16) : parseFloat(G);
                  w = k + 1
              } else if (U == "s") {
                  var i = T.ij(J, w)
                    , G = "";
                  w += 2;
                  for (var M = 0; M < i; M++)
                      G += String.fromCharCode(J[w + 2 * M + 1]);
                  r = G;
                  w = w + 2 * i + 1
              } else if (U == "b") {
                  r = J[w] == 49;
                  w = w + 2
              } else
                  throw "e";
              if (I)
                  m.push([A, r]);
              else if (m[A] == null)
                  m[A] = r;
              else {
                  if (!(m[A]instanceof Array))
                      m[A] = [m[A]];
                  m[A].push(r)
              }
          }
          w++;
          return {
              G: m,
              A: w
          }
      }
      function C(J, w) {
          var p = D(J).slice(1)
            , J = w.Clr.v;
          J.Rd.v = p[0] * 255;
          J.Grn.v = p[1] * 255;
          J.Bl.v = p[2] * 255
      }
      function D(J) {
          return [(J >>> 24 & 255) / 255, (J >>> 16 & 255) / 255, (J >>> 8 & 255) / 255, (J >>> 0 & 255) / 255]
      }
      function F(J, w) {
          var p = w & 4278190080 | (w & 255) << 16 | (w >>> 8 & 255) << 8 | w >>> 16 & 255;
          new Uint32Array(J.buffer).fill(p)
      }
      function X(J, w) {
          var p = J.TSZ
            , I = J.WPX
            , m = J.HPX
            , A = J.TIL
            , U = new cc(0,0,I,m)
            , r = j.T(I * m * 4)
            , $ = 0;
          for (var k = 0; k < m; k += p)
              for (var G = 0; G < I; G += p) {
                  var i = new cc(G,k,p,p), o, S = A[$];
                  if (S[0] == "TMC") {
                      o = j.T(i.t() * 4);
                      F(o, S[1])
                  } else if (S[0] == "TID") {
                      o = w[S[1]]
                  }
                  j.X3(o, i, r, U);
                  $++
              }
          return [r, U]
      }
      function E(J, w) {
          J = new Uint8Array(J);
          var p = 8, I, m = {}, Z = 0;
          while (p < J.length) {
              var A = T.q(J, p);
              p += 4;
              var U = n(J, p, 4);
              p += 4;
              if (U == "mkTS") {
                  var r = pako.inflate(J.slice(p, p + A))
                    , $ = z(r, 0, 0);
                  I = $.G
              } else if (U == "mkBT") {
                  var k = T.q(J, p + 4)
                    , G = T.q(J, p + 8)
                    , r = pako.inflate(J.slice(p + 76, p + A));
                  if (G == 0)
                      for (var M = 0; M < r.length; M += 4) {
                          var i = r[M]
                            , o = r[M + 1]
                            , S = r[M + 2]
                            , H = r[M + 3];
                          r[M + 3] = i;
                          r[M + 2] = H;
                          r[M + 1] = S;
                          r[M] = o
                      }
                  else {
                      var e = j.T(r.length * 4);
                      e.fill(255);
                      j.Vv(r, e);
                      r = e
                  }
                  m[k] = r
              }
              p += A + 4
          }
          var V = I.PDC
            , v = V ? V instanceof Array ? V : [V] : [I.MKB]
            , B = new cc;
          for (var M = 0; M < v.length; M++) {
              var d = v[M];
              B = B.QH(new cc(0,Z,d.WID,d.HIT));
              Z += d.HIT + 100
          }
          w.d = B.d;
          w.v = B.v;
          w.buffer = j.T(B.t() * 4);
          w.Jy(v.length);
          Z = 0;
          for (var g = 0; g < v.length; g++) {
              w.W.push(w.iE());
              var d = v[g]
                , Y = d.WID
                , y = d.HIT
                , L = d.BGC
                , _ = (d.LYL ? d : I).LYL.LAY
                , W = 3;
              for (var M = 0; M < _.length; M++)
                  a(_[M], w, null, m, new b6(1,0,0,1,0,Z));
              var b = w.gl();
              w.W.push(b);
              var x = new cc(0,Z,Y,y);
              Z += y + 100;
              b.zk(x);
              if (L >>> 24 != 0) {
                  var g6 = j._.w9({
                      h: L >>> 16 & 255,
                      Q: L >>> 8 & 255,
                      O: L >>> 0 & 255
                  });
                  b.add.artb.Clr = {
                      t: "Objc",
                      v: g6
                  };
                  W = 4
              }
              b.add.artb.artboardBackgroundType.v = W;
              b.CZ(d.PGN ? d.PGN : "Page " + (g + 1));
              b.add.lsct = g9.cP;
              b.Gx = "pass";
              b.j1 = 24
          }
      }
      function f(J, w, p) {
          var I = J[w];
          return I instanceof Array ? I[p] : I
      }
      function a(J, w, p, I, m) {
        debugger
          var A = w.gl();
          if (J.VIS != null)
              A.Hu(J.VIS);
          if (J.VIF != null)
              A.Hu(J.VIF.VIS);
          if (J.OPA != null)
              A.opacity = Math.round(255 * J.OPA / 1e3);
          A.Gx = J.CLL || p == "GRP" ? "pass" : "norm";
          if (J.BLD != null) {
              var U = J.BLD
                , r = {
                  "0": "norm",
                  "2": "mul ",
                  "4": "over",
                  "5": "scrn",
                  "7": "diss",
                  "9": "dark",
                  "10": "lite",
                  "37": "idiv",
                  "30": "norm",
                  "39": "lbrn",
                  "41": "vLit"
              }[U + ""];
              if (r == null)
                  console.log(J.OBN, U);
              else
                  A.Gx = r;
              if (U == 30)
                  A.opacity >>>= 1
          }
          if (J.CLL) {
              A.CZ(J.LNM);
              w.W.push(w.iE());
              var $ = J.CLL.CEL.ELM;
              for (var M = $.length - 1; M >= 0; M--)
                  a($[M][1], w, $[M][0], I, m);
              A.add.lsct = J.DIS ? g9.WQ : g9.cP;
              A.j1 |= 24
          } else if (p == "GRP") {
              var k = A.add.lmfx = c(J.EFL), G;
              w.W.push(w.iE());
              var $ = J.ELM;
              if (J.MNA) {
                  G = $[0][1];
                  $ = $.slice(1)
              }
              A.CZ("Group: " + $.length + " objects");
              for (var M = $.length - 1; M >= 0; M--)
                  a($[M][1], w, $[M][0], I, m);
              if (G) {
                  if (J.MRX) {
                      var i = X(G, I)
                        , o = A.z = new Q.im;
                      o.rect = i[1].clone();
                      o.rect.x = G.XLC;
                      o.rect.y = G.YLC + m.Wv;
                      o.channel = j.T(o.rect.t());
                      j.Ni(i[0], o.channel, 0);
                      j.eL(o.channel)
                  } else {
                      q(A, G, m);
                      A.z4(w)
                  }
              }
              A.add.lsct = g9.cP;
              A.j1 |= 24
          } else if (p == "IMG") {
              A.CZ(J.OBN ? J.OBN : "Bitmap");
              var i = X(J, I);
              A.rect = i[1].clone();
              A.rect.x = J.XLC;
              A.rect.y = J.YLC + m.Wv;
              A.buffer = i[0]
          } else if (p == "TXT") {
              var S = J.TFS
                , H = S.TRN instanceof Array ? S.TRN.length : 1
                , B = "";
              A.add.lnsr = "rend";
              A.add.TySh = bZ.uZ(0, 0);
              A.add.TySh.jk = new cc(0,0,100,100);
              var e = new b6(1,0,0,1,J.LFT,J.TOP);
              if (J.MTX) {
                  var V = J.MTX
                    , o = new b6(V.M00,V.M01,V.M10,V.M11,V.M20,V.M21);
                  e.concat(o)
              }
              e.concat(m);
              A.add.TySh.Z = e;
              var v = A.add.TySh.uR;
              for (var M = 0; M < H; M++) {
                  var Z = f(S, "TRN", M);
                  bZ.rZ(v, B.length, Z);
                  var d = bZ.jj(v, 0, 1);
                  bZ.I9(d, f(S, "FON", M));
                  d.I$.FontSize = Math.round(f(S, "PTS", M));
                  var g = f(S, "FCL", M);
                  d.I$.FillColor = {
                      Type: 1,
                      Values: D(g)
                  };
                  bZ.YI(v, B.length, B.length + Z.length, d);
                  B += Z
              }
              A.CZ(B.slice(0, 255));
              var Y = J.RIT - J.LFT
                , L = J.BOT - J.TOP;
              if (J.IMG) {
                  a(J.IMG, w, "IMG", I, m);
                  var _ = w.W.pop();
                  A.buffer = _.buffer;
                  A.rect = _.rect.clone()
              }
              bZ.qf(v, 1);
              bZ.u6(v, [0, 0, Y, L])
          } else if (p == "PTH") {
              A.CZ(J.OBN ? J.OBN : "Path");
              A.j1 |= 16;
              var b = !1;
              q(A, J, m);
              var x = A.add.vmsk
                , W = A.add.vstk
                , g6 = j.i.Rb(x.g)
                , fY = J.PAT
                , f3 = fY.BPL
                , hK = fY.FPL
                , s = fY.TXF;
              if (hK && hK.FEF)
                  x.PJ += hK.FEF / 2.4;
              if (f3) {
                  var P = f3.CAT;
                  W.strokeEnabled.v = !0;
                  W.strokeStyleLineWidth.v.val = f3.BDI;
                  W.strokeStyleLineAlignment.v.strokeStyleLineAlignment = g$.Bt.pA[J.BRP];
                  C(fY.BCL, W.strokeStyleContent.v);
                  if (P != "bc_Basic" && P != "bc_Pencil")
                      b = !0
              }
              if (hK == null) {
                  W.fillEnabled.v = !1;
                  A.add.SoCo = JSON.parse(g$.g$[g$.order.indexOf("SoFi")]);
                  C(0, A.add.SoCo)
              } else if (hK.CAT == "fc_Solid") {
                  A.add.SoCo = JSON.parse(g$.g$[g$.order.indexOf("SoFi")]);
                  C(J.PAT.FCL, A.add.SoCo)
              } else if (hK.CAT == "fc_Linear" || hK.CAT == "fc_Circular" || hK.CAT == "fc_Elliptical") {
                  var aF = hK.CAT == "fc_Linear"
                    , fM = A.add.GdFl = JSON.parse(g$.g$[g$.order.indexOf("GrFl")])
                    , eA = fM.Grad.v
                    , e8 = []
                    , eC = hK.FGL.FGY
                    , cy = eC.FG0.FGI
                    , aX = eC.FG1.FGI;
                  for (var M = 0; M < cy.length; M++) {
                      var j0 = cy[M]
                        , aT = D(j0.FGC)
                        , a4 = 1;
                      if (aX.length == cy.length)
                          a4 = D(aX[M].FGC)[0];
                      e8.push([j0.FGP, aT.slice(1), a4])
                  }
                  fM.Type.v.GrdT = aF ? "Lnr" : "Rdl";
                  j._.sb(e8, eA);
                  eA.Intr.v = 0;
                  var f8 = J.PRI ? J.PRI : J
                    , b3 = new ir(f8.PSX,f8.PSY)
                    , gh = new ir(f8.PEX,f8.PEY);
                  if (hK.CAT == "fc_Elliptical" && f8.PFX != null) {
                      var cZ = new ir(f8.PFX,f8.PFY)
                        , h3 = ir.gn(b3, gh)
                        , ew = ir.gn(b3, cZ);
                      if (ew < h3) {
                          var dy = h3;
                          h3 = ew;
                          ew = dy
                      }
                      gh = new ir(b3.x + (h3 + ew) / 2,b3.y);
                      if (h3 / ew < .5)
                          b = !0
                  }
                  if (aF) {
                      b3.x = (b3.x + gh.x) / 2;
                      b3.y = (b3.y + gh.y) / 2
                  }
                  j._.a9(b3, gh, g6, fM)
              } else
                  console.log(hK.CAT);
              var k = A.add.lmfx = c(J.EFL, x);
              if (hK && hK.FTB != 0) {
                  var i = X(s.MSK, I)
                    , fx = {};
                  fx.id = b$.oA() + "-d71c-11e5-b1ae-a548a96e5f9f";
                  fx.name = "someImage";
                  fx.Tc = i;
                  w.P2(fx);
                  var bo = i[0];
                  for (var M = 0; M < bo.length; M += 4) {
                      bo[M + 3] = 255 - bo[M];
                      bo[M] = bo[M + 1] = bo[M + 2] = 255
                  }
                  var fM = JSON.parse(g$.g$[g$.order.indexOf("patternFill")]);
                  fM.Opct.v.val = Math.round(hK.FTB / 10);
                  fM.Algn.v = !0;
                  fM.Ptrn.v.Idnt.v = fx.id;
                  k.patternFillMulti.v.unshift({
                      t: "Objc",
                      v: fM
                  })
              }
              if (b && J.IMG) {
                  a(J.IMG, w, "IMG", I, m);
                  var hd = w.W[w.W.length - 1];
                  hd.opacity = A.opacity;
                  return
              }
              A.z4(w)
          } else if (p == "URL")
              return;
          else
              console.log("unknown layer type", p, J);
          w.W.push(A)
      }
      function q(J, w, p) {
          var I = J.add.vmsk = new Q.qP
            , m = J.add.vstk = JSON.parse(JSON.stringify(g$.Bt.default))
            , A = w.PBL.PBP;
          if (!(A instanceof Array))
              A = [A];
          for (var U = 0; U < A.length; U++) {
              var r = A[U].PBT
                , $ = A[U].ISC ? 0 : 3;
              I.g.push({
                  type: $,
                  length: r.length,
                  fT: 0,
                  AB: 2,
                  ve: 0,
                  v4: 0
              });
              for (var M = 0; M < r.length; M++) {
                  var k = r[M]
                    , G = k.XLC
                    , i = k.YLC
                    , o = [G, i, G, i, G, i]
                    , S = "XPC YPC XLC YLC XSC YSC".split(" ");
                  for (var H = 0; H < 6; H++) {
                      var e = S[H]
                        , V = k[e];
                      if (V != null)
                          o[H] = V
                  }
                  I.g.push({
                      type: $ + 2,
                      S: new ir(G,i),
                      K1: new ir(o[0],o[1]),
                      yz: new ir(o[4],o[5])
                  })
              }
          }
          j.i.i3(I.g, p);
          J.CD()
      }
      function c(J, w) {
          var p = JSON.parse(g$.default);
          for (var M = 0; M < g$.order.length; M++)
              p[g$.IT[M]] = {
                  t: "VlLs",
                  v: []
              };
          if (J == null)
              return p;
          var I = J.EPS;
          if (!(I instanceof Array))
              I = [I];
          for (var M = 0; M < I.length; M++) {
              var m = I[M].DCE
                , A = {};
              for (var U = 0; U < m.length; U++)
                  A[m[U].DCK] = m[U].DCV;
              if (A.EffectIsVisible == "false")
                  continue;
              var r = A.mkbFile_WriteOnly_TemporaryEffectUiName;
              if (r == "Gaussian Blur..." && w) {
                  w.PJ += parseFloat(A.gaussian_blur_radius);
                  continue
              }
              var $ = ["Drop Shadow", "Inner Bevel", "Inner Glow", "Glow"].indexOf(r);
              if ($ == -1) {
                  continue
              }
              var k = ["DrSh", "ebbl", "IrGl", "OrGl"][$]
                , G = g$.IT[g$.order.indexOf(k)]
                , i = JSON.parse(g$.g$[g$.order.indexOf(k)]);
              p[G].v.unshift({
                  t: "Objc",
                  v: i
              });
              if (k == "DrSh") {
                  i.uglg.v = !1;
                  K(A, "ShadowDistance", i, "Dstn");
                  K(A, "ShadowBlur", i, "blur");
                  K(A, "ShadowAngle", i, "lagl", 180);
                  i.Opct.v.val = 100;
                  R(A, "ShadowColor", i, "Clr")
              }
              if (k == "IrGl") {
                  i.Md.v.BlnM = "Nrml";
                  var o = A.MaskSoftness
                    , S = A.GlowWidth;
                  if (o && S) {
                      o = parseInt(o);
                      S = parseInt(S);
                      i.blur.v.val = S + o;
                      i.Ckmt.v.val = Math.round(100 * S / (S + o))
                  }
                  K(A, "BevelContrast", i, "Opct");
                  R(A, "OuterBevelColor", i, "Clr")
              }
              if (k == "OrGl") {
                  i.Md.v.BlnM = "Nrml";
                  var o = A.MaskSoftness
                    , S = A.GlowWidth;
                  if (o && S) {
                      o = parseInt(o);
                      S = parseInt(S);
                      i.blur.v.val = S + o
                  }
                  K(A, "BevelContrast", i, "Opct");
                  R(A, "OuterBevelColor", i, "Clr")
              }
              if (k == "ebbl") {
                  i.uglg.v = !1;
                  K(A, "BevelWidth", i, "blur");
                  K(A, "AngleSoftness", i, "Sftn");
                  K(A, "BevelContrast", i, "srgR");
                  K(A, "LightAngle", i, "lagl")
              }
          }
          return p
      }
      function K(J, w, p, I, m) {
          var A = J[w];
          if (m == null)
              m = 0;
          if (A)
              p[I].v.val = parseInt(A) + m
      }
      function R(J, w, p, I) {
          var m = J[w];
          if (m) {
              m = m.slice(1);
              if (m.length == 6)
                  m = m + "ff";
              if (m.length != 8)
                  throw "e";
              var A = D(parseInt(m, 16))
                , U = p[I].v;
              U.Rd.v = A[0] * 255;
              U.Grn.v = A[1] * 255;
              U.Bl.v = A[2] * 255;
              p.Opct.v.val = Math.round(p.Opct.v.val / 100 * A[3] * 100)
          }
      }
      return E
  }();
  function aU() {}
  aU.vC = function() {
      function n(o, S) {
          var H = !1
            , e = Date.now()
            , V = m(o, H);
          if (H)
              console.log("part found", Date.now() - e);
          e = Date.now();
          var v = I(V)
            , B = v.Layer
            , Z = v.Header;
          if (H)
              console.log(v);
          var d = B[0];
          d = v.Layer[0];
          if (H)
              console.log("document parsed", Date.now() - e);
          e = Date.now();
          v.Setup.Gradient = p(v.Setup.Gradient, V);
          if (H)
              console.log("grads loaded", Date.now() - e);
          e = Date.now();
          v.Setup.Pattern = w(v.Setup.Pattern, V);
          if (H)
              console.log("patts loaded", Date.now() - e);
          e = Date.now();
          v.Setup.DocumentData = J(v.Setup.DocumentData, V).pop();
          if (H)
              console.log("docdata loaded", Date.now() - e);
          e = Date.now();
          v.Setup.SVGFilter = J(v.Setup.SVGFilter, V);
          if (H)
              console.log("svgfilter loaded", Date.now() - e);
          e = Date.now();
          var g = Z.Cropmarks
            , Y = Z.BoundingBox.split(" ").map(parseFloat)
            , y = Z.ArtSize ? Z.ArtSize.split(" ").map(parseFloat) : [Y[2] - Y[0], Y[3] - Y[1]];
          S.d = Math.round(y[0]);
          S.v = Math.round(y[1]);
          var L = [1, 0, 0, 1, -Y[0] + (S.d - (Y[2] - Y[0])) / 2, -Y[1] + (S.v - (Y[3] - Y[1])) / 2];
          L[3] = -1;
          L[5] = S.v - L[5];
          if (g) {
              g = g.split(" ").map(parseFloat);
              S.d = Math.round(g[2] - g[0]);
              S.v = Math.round(g[3] - g[1]);
              L = [1, 0, 0, -1, -g[0], S.v + g[1]]
          }
          var _ = v.Setup.DocumentData;
          if (_ && _[0].ArtboardArray) {
              var b = _[0].ArtboardArray;
              if (b.length != 1)
                  console.log(b.length, "artboards");
              var x = new cc;
              for (var M = 0; M < b.length; M++) {
                  var W = b[M]
                    , g6 = W.PositionPoint1
                    , fY = W.PositionPoint2
                    , f3 = g6[0]
                    , hK = Math.min(g6[1], fY[1])
                    , s = fY[0]
                    , P = Math.max(g6[1], fY[1]);
                  x = x.QH(new cc(f3,hK,s - f3,P - hK))
              }
              S.d = Math.round(x.d);
              S.v = Math.round(x.v);
              L[4] = -x.x;
              L[5] = x.y + S.v
          }
          var aF = Math.max(S.d, S.v) < 1200 ? 2 : 1;
          if (Math.min(S.d, S.v) > 6e3)
              aF = .5;
          S.d = Math.round(S.d * aF);
          S.v = Math.round(S.v * aF);
          S.$M = Math.round(72 * aF);
          S.buffer = j.T(S.d * S.v * 4);
          for (var M = 0; M < 6; M++)
              L[M] *= aF;
          for (var fM = 0; fM < B.length; fM++) {
              var eA = B[fM]
                , e8 = K(V, eA);
              z(S, e8, L, v, eA, V)
          }
          if (H)
              console.log("layers created", Date.now() - e);
          e = Date.now()
      }
      function z(o, S, H, e, V, v) {
          var B = "", Z = 0, d = "", g = UDOC.G, Y = UDOC.getState(), y = "norm", L = 1, _ = "SoCo", W = !1, g6 = 0, f3 = null, hK = null, s = null, P, aF, fM, eA = 0, e8 = 0, eC = 0;
          Y.ctm = H;
          var b = [0, 0, 0]
            , x = [0, 0, 0]
            , fY = []
            , cy = []
            , aX = [];
          for (var j0 = 0; j0 < S.length; j0++) {
              var aT = S[j0];
              if (aT[0] == "%" && !aT.endsWith(" Xh")) {
                  if (aT == "%_/ArtDictionary :")
                      f3 = [aT.slice(2)];
                  else if (f3 != null) {
                      if (aT == "%_") {
                          var a4 = $(f3)[0]
                            , f8 = a4.AI10_ArtUID;
                          if (f8 && !f8.startsWith("XMLID"))
                              o.W[o.W.length - 1].CZ(G(f8));
                          f3 = null
                      } else
                          f3.push(aT.slice(aT[1] == "_" ? 2 : 1))
                  } else if (s) {
                      P += (P == "" ? "" : " ") + aT.slice(2);
                      if (P.endsWith("X#")) {
                          s.push(P.slice(0, P.length - 3));
                          P = ""
                      }
                  }
                  continue
              } else if (aT == "/Mesh X!") {
                  s = [];
                  P = "";
                  continue
              } else if (aT == "/End X!") {
                  C(s, Y, o);
                  s = null;
                  continue
              }
              aT = aT.trim();
              var b3 = aT.split(" ")
                , gh = b3[b3.length - 1]
                , cZ = gh.toLowerCase()
                , h3 = b3.map(parseFloat);
              if (gh == "m")
                  g.moveTo(Y, h3[0], h3[1]);
              else if (gh == "L" || gh == "l")
                  g.lineTo(Y, h3[0], h3[1]);
              else if (gh == "V" || gh == "v" || gh == "Y" || gh == "y")
                  g.quadCurveTo(Y, h3[0], h3[1], h3[2], h3[3]);
              else if (gh == "C" || gh == "c")
                  g.curveTo(Y, h3[0], h3[1], h3[2], h3[3], h3[4], h3[5]);
              else if (gh == "H" || gh == "h") {
                  if (gh == cZ)
                      g.closePath(Y);
                  fY.push(JSON.parse(JSON.stringify(Y.pth)))
              } else if (gh == "Xy") {
                  y = ["norm", "mul ", "scrn", null, "sLit"][h3[0]];
                  L = h3[1];
                  if (y == null) {
                      y = "norm";
                      console.log("unknown blend mode", h3[0])
                  }
              } else if (gh == "Xd") {
                  var ew = o.W[o.W.length - 1];
                  ew.opacity = Math.round(255 * L);
                  ew.Gx = ew.d4() && y == "norm" ? "pass" : y
              } else if (gh == "AE")
                  eA = h3[0];
              else if (gh == "Ae")
                  e8 = h3[0];
              else if (gh == "Xw")
                  eC = h3[0];
              else if (gh == "*") {
                  var dy = Y.pth.crds
                    , fx = Y.ctm
                    , bo = dy[0] == dy[2] ? 0 : 1;
                  o.Ea.push([bo, dy[bo]]);
                  g.newPath(Y)
              } else if (gh == "Xh")
                  aF = h3;
              else if (gh == "XN")
                  fM = aT.split(" ")[0];
              else if (gh == "XI") {
                  if (V.Raster == null) {
                      console.log("no Raster");
                      continue
                  }
                  var hd = V.Raster[Z++].Data
                    , gT = hd._begin
                    , du = hd._end;
                  while (v[gT] != 88)
                      gT++;
                  gT += 3;
                  var bk = v.slice(gT, du)
                    , i8 = aF[8]
                    , en = aF[9]
                    , dW = i8 * en
                    , ix = j.T(dW * 4);
                  ix.fill(255);
                  var dU = S[j0 - 2];
                  dU = dU.slice(dU.indexOf("]") + 2).split(" ").map(parseFloat);
                  var hN = dU[7]
                    , a1 = dU[8]
                    , hk = dU[6]
                    , ax = Math.ceil(i8 * hN * hk / 8);
                  if (hN == 1) {
                      if (hk == 8)
                          for (var M = 0; M < dW; M++)
                              for (var ej = 0; ej < 3; ej++)
                                  ix[4 * M + ej] = bk[M];
                      else if (hk == 1)
                          for (var bz = 0; bz < en; bz++)
                              for (var fq = 0; fq < i8; fq++)
                                  for (var ej = 0; ej < 3; ej++)
                                      ix[4 * (bz * i8 + fq) + ej] = 255 * (bk[bz * ax + (fq >>> 3)] >>> 7 - (fq & 7) & 1);
                      else
                          throw hk
                  } else if (hN == 3)
                      for (var M = 0; M < dW; M++)
                          for (var ej = 0; ej < 3; ej++)
                              ix[4 * M + ej] = bk[3 * M + ej];
                  else if (hN == 4 || hN == 5)
                      for (var M = 0; M < dW; M++) {
                          var cg = a([bk[hN * M + 0] / 255, bk[hN * M + 1] / 255, bk[hN * M + 2] / 255, bk[hN * M + 3] / 255]);
                          ix[4 * M + 0] = cg[0] * 255;
                          ix[4 * M + 1] = cg[1] * 255;
                          ix[4 * M + 2] = cg[2] * 255
                      }
                  else
                      throw fM;
                  if (a1 == 1) {
                      var iw = en * ax;
                      for (var M = 0; M < dW; M++)
                          ix[4 * M + 3] = bk[iw + M]
                  }
                  var fD = j.K4(ix, i8, en) ? "JPG" : "PNG";
                  if (i8 * en < 700 * 700)
                      fD = "PNG";
                  var g8 = fC.ET(fD).c0([[ix.buffer]], i8, en)
                    , ap = o.AM(new Uint8Array(g8), "<Image>", 0, 0);
                  o.W.push(ap);
                  ap.Gx = y;
                  ap.opacity = Math.round(255 * L);
                  ap.Hu(eC == 0);
                  var H = new b6;
                  H.scale(1, -1);
                  H.concat(f(aF.slice(1)));
                  H.concat(f(Y.ctm));
                  var c8 = ap.rect.clone();
                  c8.x = c8.y = 0;
                  var b3 = j.K.YQ(c8).U;
                  j.K.Z(b3, H, b3);
                  ap.add.SoLd.Trnf = O.o.IO(b3);
                  ap.add.SoLd.nonAffineTransform = O.o.IO(b3);
                  ap.V_(o, !1)
              } else if (gh == "Ln") {
                  B = F(aT)
              } else if (gh == "u" || gh == "q" || gh == "Lb") {
                  cy.push(e8 == 1);
                  aX.push((gh == "Lb" ? 1 - h3[0] : eC) == 0);
                  if (W)
                      continue;
                  o.W.push(o.iE())
              } else if (gh == "U" || gh == "Q" || gh == "LB") {
                  if (cy.length == 0 || aX.length == 0)
                      throw j0;
                  var dS = cy.pop()
                    , iK = aX.pop();
                  if (gh == "LB")
                      dS = eA == 1;
                  if (W)
                      continue;
                  var ap = o.gl();
                  ap.CZ((gh == "U" ? "<Group>" : "<Clip Group>") + d);
                  if (gh == "LB")
                      ap.CZ(B);
                  if (gh == "Q") {
                      var ay = fY.pop()
                        , c$ = UDOC.G.isBox(ay, [0, 0, o.d, o.v]);
                      if (!c$)
                          q(ap, ay, o)
                  }
                  ap.add.lsct = dS ? g9.WQ : g9.cP;
                  ap.Gx = "pass";
                  ap.j1 = 24;
                  ap.Hu(iK);
                  o.W.push(ap)
              } else if (gh == "Bb" || gh == "Bh" || gh == "BB") {} else if (gh == "Bg") {
                  var gP = e.Setup.Gradient[F(aT)];
                  _ = "GdFl";
                  b = D(gP.Gj, gP.ap2)
              } else if (gh == "Bm" || gh == "Xm") {
                debugger
                  var d0 = b.Type.v.GrdT;
                  if (d0 == "Lnr" && gh != "Xm" || d0 == "Rdl" && gh != "Bm")
                      continue;
                  var ff = j.K.AN(Y.pth.crds)
                    , ci = new ir(0,0)
                    , gL = new ir(1,0)
                    , gw = new b6;
                  gw.concat(f(h3));
                  gw.concat(f(Y.ctm));
                  ci = gw.JT(ci);
                  gL = gw.JT(gL);
                  if (d0 == "Lnr") {
                      ci.x = (ci.x + gL.x) / 2;
                      ci.y = (ci.y + gL.y) / 2
                  }
                  j._.a9(ci, gL, ff, b)
              } else if (gh == "p") {
                  var bJ = F(aT)
                    , hX = e.Setup.Pattern[bJ];
                  if (hX.raw == null) {
                      var ff = hX.i6
                        , i8 = Math.round(ff[2] - ff[0])
                        , en = Math.round(ff[3] - ff[1])
                        , a4 = new b$;
                      a4.d = i8;
                      a4.v = en;
                      a4.buffer = j.T(i8 * en * 4);
                      z(a4, hX.Um, [1, 0, 0, -1, -hX.i6[0], en + hX.i6[1]]);
                      hX.raw = new Uint8Array(fC.ET("PSD").c0(a4))
                  }
                  var bm = aT.slice(aT.indexOf(")") + 2)
                    , hl = bm.slice(0, bm.indexOf("[") - 1).split(" ").map(parseFloat)
                    , b0 = bm.slice(bm.indexOf("[") + 1, bm.indexOf("]")).split(" ").map(parseFloat);
                  _ = "patt";
                  b = [bJ, hl, b0]
              } else if (gh == "J" || gh == "j" || gh == "w" || gh == "M" || gh == "d") {
                  for (var M = 1; M < b3.length; M++) {
                      var i3 = b3[M]
                        , cp = h3[M - 1];
                      if (i3 == "w")
                          Y.lwidth = cp;
                      if (i3 == "j")
                          Y.ljoin = cp;
                      if (i3 == "J")
                          Y.lcap = cp;
                      if (i3 == "d") {
                          var eR = aT.slice(aT.indexOf("[") + 1, aT.indexOf("]")).trim();
                          if (eR.length != 0) {
                              var hm = eR.split(" ").map(parseFloat);
                              Y.dash = hm
                          }
                      }
                  }
              } else if (cZ == "xa" || cZ == "xx") {
                  var aK = [h3[4], h3[5], h3[6]];
                  _ = "SoCo";
                  if (gh == "Xa" || gh == "Xx")
                      b = aK;
                  else
                      x = aK
              } else if (cZ == "xk") {
                  var aK, gc = h3[h3.length - 2], ii = h3[h3.length - 3];
                  if (gc == 0)
                      aK = a(h3);
                  else if (gc == 1) {
                      aK = [h3[4], h3[5], h3[6]];
                      for (var M = 0; M < 3; M++)
                          aK[M] = ii * 1 + (1 - ii) * aK[M]
                  } else
                      throw aT;
                  _ = "SoCo";
                  if (gh == "Xk")
                      b = aK;
                  else
                      x = aK
              } else if (cZ == "k" || cZ == "x") {
                  if (cZ == "x") {
                      h3.pop();
                      var fU = 1 - h3.pop();
                      for (var M = 0; M < 4; M++)
                          h3[M] *= fU
                  }
                  var aK = a(h3);
                  _ = "SoCo";
                  if (gh == cZ)
                      b = aK;
                  else
                      x = aK
              } else if (cZ == "g") {
                  var aK = [h3[0], h3[0], h3[0]];
                  _ = "SoCo";
                  if (gh == cZ)
                      b = aK;
                  else
                      x = aK
              } else if (cZ == "n")
                  g.newPath(Y);
              else if (gh == "*u") {
                  W = !0;
                  g6 = 0
              } else if (gh == "*U" || cZ == "s" || cZ == "f" || cZ == "b") {
                  if (gh != "*U" && W) {
                      if (cZ == "f" || cZ == "b")
                          g6 |= 1;
                      if (cZ == "s" || cZ == "b")
                          g6 |= 2;
                      continue
                  }
                  if (gh == cZ)
                      g.closePath(Y);
                  if (gh == "*U") {
                      W = !1
                  }
                  var ap;
                  if (_ == "patt") {
                      var hX = e.Setup.Pattern[b[0]];
                      ap = o.AM(hX.raw, "<Pattern>", 0, 0);
                      var c8 = ap.rect.clone();
                      c8.x = c8.y = 0;
                      var b3 = j.K.YQ(c8).U
                        , b0 = f(b[2]);
                      b0.H1 = b0.Wv = 0;
                      j.K.Z(b3, b0, b3);
                      ap.add.SoLd.Trnf = O.o.IO(b3);
                      ap.add.SoLd.nonAffineTransform = O.o.IO(b3);
                      ap.V_(o, !1)
                  } else {
                      ap = o.gl();
                      ap.j1 |= 16;
                      var io = ap.add.vstk = JSON.parse(JSON.stringify(g$.Bt.default));
                      io.strokeEnabled.v = io.fillEnabled.v = !1;
                      if (_ == "SoCo") {
                          ap.add.SoCo = JSON.parse(g$.g$[g$.order.indexOf("SoFi")]);
                          var cJ = ap.add.SoCo.Clr.v;
                          X(cJ, b)
                      }
                      if (_ == "GdFl")
                          ap.add.GdFl = b;
                      if (cZ == "f" || cZ == "b" || gh == "*U" && g6 & 1)
                          io.fillEnabled.v = !0;
                      if (cZ == "s" || cZ == "b" || gh == "*U" && g6 & 2)
                          iO.EM(io, Y, 1, iO.aJ(x))
                  }
                  ap.CZ("<" + (gh == "*U" ? "Compound " : "") + "Path>" + d);
                  ap.Gx = y;
                  ap.opacity = Math.round(255 * L);
                  ap.Hu(eC == 0);
                  q(ap, Y.pth, o);
                  o.W.push(ap);
                  g.newPath(Y)
              } else if (gh == "," && b3[1] == "/StoryIndex") {
                  var hV = e.Setup.TextDocument
                    , ds = null;
                  if (!(hV instanceof Array))
                      hV = e.Setup.TextDocument = R(hV, v);
                  var bc = hV[0]
                    , f2 = hV[2];
                  if (bc._DocumentResources)
                      bc = hV[0] = a3.a38(bc);
                  else
                      a3.Dg(bc);
                  var ap = o.gl();
                  ap.add.lnsr = "rend";
                  ap.add.TySh = bZ.uZ(0, 0);
                  var dK = cH.a0N(bc)
                    , fJ = ap.add.TySh.uR = dK[h3[0]];
                  if (fJ == null) {
                      console.log("text not found");
                      continue
                  }
                  ap.CZ(bZ.T5(fJ).slice(0, 50));
                  ap.Gx = y;
                  ap.opacity = Math.round(255 * L);
                  ap.Hu(eC == 0);
                  var fU = bc._1._1[h3[0]]._1._0[0]._0;
                  fU = parseInt(fU.slice(1));
                  var f6 = bc._0._8._0
                    , db = f6[fU]._0;
                  if (db._0)
                      ds = E(db._0);
                  else if (db._1)
                      ds = E(db._1._0);
                  else
                      ds = E(db._2._2).slice(3);
                  if (ds.length != 2) {
                      var ff = j.K.AN(ds);
                      ds = [ff.x, ff.y];
                      if (ff.t() != 0) {
                          bZ.qf(fJ, 1);
                          bZ.u6(fJ, [0, 0, Math.round(ff.d), Math.round(ff.v)])
                      }
                  }
                  var fa = new b6
                    , c2 = new b6(1,0,0,1,ds[0],ds[1])
                    , eN = new b6(1,0,0,1,-f2[0],-f2[1])
                    , go = f(Y.ctm)
                    , hL = new b6;
                  if (db._2 && db._2._2) {
                      var H = E(db._2._2);
                      hL = new b6(H[0],H[1],H[2],H[3],H[4],H[5])
                  }
                  fa.concat(c2);
                  fa.concat(hL);
                  fa.concat(eN);
                  fa.scale(1, -1);
                  fa.concat(go);
                  ap.add.TySh.Z = fa;
                  o.W.push(ap);
                  o.Jf = !0
              }
          }
      }
      function C(o, S, H) {
          var e = UDOC.G, V = [], v = [], B = "/DeviceGray", Z, d = [], g = 1, a4 = 0, f8 = 0, fx = 0;
          for (var Y = 0; Y < o.length; Y++) {
              var y = o[Y];
              if (y.endsWith(" /CS")) {
                  var L = y.indexOf("/NChannel")
                    , _ = y.indexOf("/Process");
                  if (y.startsWith("/DeviceRGB")) {
                      B = "/DeviceRGB";
                      Z = 3
                  } else if (y.startsWith("/DeviceGray")) {
                      B = "/DeviceGray";
                      Z = 1
                  } else if (y.startsWith("/DeviceCMYK")) {
                      B = "/DeviceCMYK";
                      Z = 4;
                      d = [[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]]
                  } else if (L != -1) {
                      B = "/DeviceCMYK";
                      Z = parseInt(y.slice(L - 2, L - 1));
                      var b = 1;
                      for (var M = 0; M < Z; M++) {
                          b = y.indexOf("[", b);
                          d[Z - 1 - M] = y.slice(b + 1, b + 8).split(" ").map(parseFloat);
                          b++
                      }
                  } else if (_) {
                      B = "/DeviceGray";
                      Z = 1
                  } else
                      throw y
              } else if (y[0] == "[") {
                  var x = y.indexOf("]"), W = y.slice(1, x).split(" ").map(parseFloat), g6 = y.slice(x + 2), fY, f3, hK, s, P, aF;
                  if (g6 == "/Size" || g6 == "/P" || g6 == "/R")
                      continue;
                  if (g6 == "/S" || g6 == "/A") {
                      fY = W[0];
                      f3 = W[1];
                      hK = W[2];
                      s = W[3];
                      P = W[4];
                      aF = W[5]
                  } else if (g6 == "/N") {
                      var fM = Z + (g == 1 ? 0 : 1), eA;
                      fY = W[fM + 0];
                      f3 = W[fM + 1];
                      hK = W[fM + 2];
                      s = W[fM + 3];
                      P = W[fM + 5];
                      aF = W[fM + 6];
                      if (B == "/DeviceRGB")
                          eA = W.slice(0, 3);
                      else if (B == "/DeviceGray")
                          eA = [W[0], W[0], W[0]];
                      else if (B == "/DeviceCMYK") {
                          var e8 = [0, 0, 0, 0];
                          for (var M = 0; M < Z; M++) {
                              var eC = W[M]
                                , cy = d[M];
                              e8[0] += eC * cy[0];
                              e8[1] += eC * cy[1];
                              e8[2] += eC * cy[2];
                              e8[3] += eC * cy[3]
                          }
                          eA = a(e8)
                      } else
                          throw eA;
                      eA.push(W[Z]);
                      v.push([eA, fY, f3])
                  } else
                      throw g6;
                  V.push([g6, P, aF, fY, f3, hK, s])
              } else if (y == "/E") {
                  var aX = V.slice(0)
                    , j0 = 0;
                  for (var M = 0; M < V.length; M++) {
                      var aT = V[M][0];
                      if (aT == "/N") {
                          j0++;
                          continue
                      }
                      var a4 = M
                        , f8 = M + 1;
                      while (V[f8][0] != "/N" && f8 < V.length)
                          f8++;
                      if (j0 == 0 || j0 == 3) {
                          for (var b3 = 0; b3 < f8 - a4; b3++)
                              aX[a4 + b3] = V[f8 - 1 - b3]
                      } else
                          for (var b3 = a4; b3 < f8; b3++) {
                              var gh = aX[b3]
                                , cZ = gh[1];
                              gh[1] = gh[5];
                              gh[5] = cZ;
                              cZ = gh[2];
                              gh[2] = gh[6];
                              gh[6] = cZ
                          }
                      M = f8 - 1
                  }
                  V = [];
                  for (var M = 0; M < aX.length; M++) {
                      var gh = aX[M];
                      V.push(gh[1], gh[2], gh[3], gh[4], gh[5], gh[6])
                  }
                  var h3 = V.length;
                  e.moveTo(S, V[2], V[3]);
                  for (var M = 0; M < h3; M += 6) {
                      var hK = V[(M + 4) % h3]
                        , s = V[(M + 5) % h3]
                        , P = V[(M + 6) % h3]
                        , aF = V[(M + 7) % h3]
                        , fY = V[(M + 8) % h3]
                        , f3 = V[(M + 9) % h3];
                      e.curveTo(S, hK, s, P, aF, fY, f3)
                  }
                  e.closePath(S);
                  V = []
              } else if (y.endsWith("/Version"))
                  g = parseFloat(y[0])
          }
          var ew = H.gl();
          ew.j1 |= 16;
          ew.CZ("<Mesh>");
          var dy = ew.add.vstk = JSON.parse(JSON.stringify(g$.Bt.default));
          dy.strokeEnabled.v = !1;
          for (var M = 0; M < v.length; M++)
              for (var b3 = M + 1; b3 < v.length; b3++) {
                  var bo = v[M][0]
                    , hd = v[b3][0]
                    , gT = bo[0] - hd[0]
                    , du = bo[1] - hd[1]
                    , bk = bo[2] - hd[2]
                    , i8 = Math.sqrt(gT * gT + du * du + bk * bk);
                  if (i8 > fx) {
                      fx = i8;
                      a4 = M;
                      f8 = b3
                  }
              }
          var en = v[a4]
            , dW = v[f8]
            , ix = ew.add.GdFl = D(0, [[0, en[0]], [1, dW[0]]])
            , dU = f(S.ctm)
            , hN = dU.JT(new ir(en[1],en[2]))
            , a1 = dU.JT(new ir(dW[1],dW[2]))
            , hk = j.K.AN(S.pth.crds);
          hN.x = (hN.x + a1.x) / 2;
          hN.y = (hN.y + a1.y) / 2;
          j._.a9(hN, a1, hk, ix);
          q(ew, S.pth, H);
          H.W.push(ew);
          e.newPath(S)
      }
      function D(o, S) {
        debugger
          var H = JSON.parse(g$.g$[g$.order.indexOf("GrFl")])
            , e = H.Grad.v;
          e.Intr.v = 0;
          H.Type.v.GrdT = ["Lnr", "Rdl"][o];
          j._.sb(S, e);
          return H
      }
      function F(o) {
          return o.slice(o.indexOf("(") + 1, o.indexOf(")"))
      }
      function X(o, S) {
          o.Rd.v = S[0] * 255;
          o.Grn.v = S[1] * 255;
          o.Bl.v = S[2] * 255
      }
      function E(o) {
          var S = [];
          for (var M = 0; M < o.length; M++)
              S[M] = parseFloat(o[M].slice(1));
          return S
      }
      function f(o) {
          return new b6(o[0],o[1],o[2],o[3],o[4],o[5])
      }
      function a(o) {
          return UDOC.C.cmykToRgb(o)
      }
      function q(o, S, H) {
          o.add.vmsk = new Q.qP;
          if (S.crds.length != 0)
              o.add.vmsk.g = c(S);
          o.CD();
          o.z4(H)
      }
      function c(o) {
          var S = {
              U: o.crds,
              I: o.cmds
          }
            , H = j.K.gU(S, !1);
          return H
      }
      function K(o, S) {
          var H = [S._begin]
            , e = S._end - S._begin
            , V = e
            , v = S.Raster
            , Y = 0;
          if (v) {
              for (var M = 0; M < v.length; M++) {
                  var B = v[M].Data
                    , Z = B._begin + 32
                    , d = B._end;
                  if (Z > d)
                      Z = d;
                  H.push(Z, d);
                  V -= d - Z
              }
          }
          H.push(S._end);
          var g = new Uint8Array(V);
          for (var M = 0; M < H.length; M += 2) {
              var Z = H[M]
                , y = H[M + 1] - Z;
              g.set(new Uint8Array(o.buffer,Z,y), Y);
              Y += y
          }
          return T.iS(g).split(/\r\n|\r|\n/)
      }
      function R(o, S) {
          if (o == null)
              return [];
          var H = K(S, o), e = "", V = "", v = 0, B;
          for (var M = 2; M < H.length; M++) {
              var Z = H[M];
              if (Z[0] == "%") {
                  if (v == 0)
                      e += Z.slice(1);
                  else
                      V += Z.slice(1)
              } else if (Z == ";")
                  v++;
              else if (Z.endsWith("/RulerOrigin ,"))
                  B = Z.split(" ").slice(0, 2).map(parseFloat)
          }
          var d = [e, V]
            , g = [];
          for (var M = 0; M < 2; M++) {
              var Y = d[M]
                , y = new Uint8Array(Y.length);
              T.ji(y, 0, Y);
              var L = FromPS.F.ASCII85Decode({
                  buff: y,
                  off: 0
              })
                , _ = iX.vC(L);
              g.push(_)
          }
          g.push(B);
          return g
      }
      function J(o, S) {
          if (o == null)
              return [];
          var H = K(S, o);
          H = H.slice(1);
          for (var M = 0; M < H.length; M++) {
              var e = H[M];
              if (e[0] == "%")
                  H[M] = e.slice(e[1] == "_" ? 2 : 1)
          }
          var V = $(H);
          return V
      }
      function w(o, S) {
          var H = {};
          if (o == null)
              return H;
          for (var M = 0; M < o.length; M++) {
              var e = K(S, o[M])
                , V = e[1]
                , v = F(V)
                , B = V.slice(V.indexOf(")") + 2).split(" ").map(parseFloat)
                , Z = [];
              for (var d = 2; d < e.length; d++)
                  Z.push(e[d].slice(2));
              H[v] = {
                  i6: B,
                  Um: Z
              }
          }
          return H
      }
      function p(o, S) {
          var H = {}, e, V;
          if (o == null)
              return H;
          var v = [];
          for (var M = 0; M < o.length; M++) {
              var B = K(S, o[M]);
              for (var Z = 0; Z < B.length; Z++) {
                  var d = B[Z];
                  if (d[0] == "(") {
                      var g = d.split(")");
                      e = g[0].slice(1);
                      var Y = g[1].split(" ");
                      V = parseInt(Y[1])
                  } else if (d.endsWith("%_BS")) {
                      var g = d.split(" "), b, x = 1;
                      g.pop();
                      g = g.map(parseFloat);
                      var y = g.pop()
                        , L = g.pop()
                        , _ = g.pop();
                      if (_ == 0)
                          b = [g[0], g[0], g[0]];
                      else if (_ == 2)
                          b = [g[4], g[5], g[6]];
                      else if (_ == 1 || _ == 3)
                          b = a(g);
                      else if (_ == 6) {
                          if (g.length == 3)
                              b = [g[0], g[0], g[0]];
                          else
                              b = a(g);
                          x = g.pop()
                      } else {
                          throw _
                      }
                      v.push([y / 100, b, x, L / 100])
                  } else if (d == "BD") {
                      for (var W = 0; W < v.length - 1; W++)
                          v[W][3] = v[W + 1][3];
                      v.sort(function(g6, fY) {
                          return g6[0] - fY[0]
                      });
                      H[e] = {
                          Gj: V,
                          ap2: v
                      };
                      v = []
                  }
              }
          }
          return H
      }
      function I(o) {
          var S = "Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" ")
            , H = Date.now()
            , e = 0
            , V = []
            , v = {
              Header: {}
          }
            , B = [v]
            , Z = o.length;
          while (e < Z) {
              var d = e;
              while (d != Z && o[d] != 13 && o[d] != 10) {
                  d++
              }
              if (o[e] == 37 && o[e + 1] == 95 && o[e + 2] == 37)
                  e += 2;
              if (o[e] == 37 && o[e + 1] != 95 && o[e + 1] != 43) {
                  var g = T.uL(o, e, d - e);
                  if (g == "%%EndComments" || g == "%EndComments" || g == "%AI5_Begin_NonPrinting" || g == "%AI5_End_NonPrinting--" || g.startsWith("%AI17_Begin_Content_if_version_gt") || g == "%AI17_End_Versioned_Content") {} else {
                      var Y = g.indexOf("Begin")
                        , y = g.indexOf("End");
                      if (Y != -1) {
                          var L = g.slice(Y + 5).split(":")[0]
                            , _ = {
                              _begin: e,
                              _end: e
                          }
                            , b = B[B.length - 1];
                          if (S.indexOf(L) != -1) {
                              if (b[L] == null)
                                  b[L] = [];
                              b[L].push(_)
                          } else {
                              if (b[L] != null) {
                                  console.log(B);
                                  throw g
                              }
                              b[L] = _
                          }
                          B.push(_);
                          if (g.startsWith("%%BeginData"))
                              d = T.Wf(o, "%%EndData", e);
                          else if (g == "%AI9_BeginDocumentData")
                              d = T.Wf(o, "%AI9_EndDocumentData", d);
                          else if (g == "%AI11_BeginTextDocument")
                              d = T.Wf(o, "%AI11_EndTextDocument", d)
                      } else if (y != -1) {
                          B.pop()._end = e
                      } else if (B.length == 1 && (g.startsWith("%AI") || g.startsWith("%%") && g.indexOf(" ") != -1)) {
                          var x = 1;
                          if (g.startsWith("%AI"))
                              while (g[x] != "_" && x < g.length)
                                  x++;
                          var W = g.indexOf(":");
                          if (W == -1)
                              W = g.indexOf(" ");
                          var g6 = g.slice(x + 1, W)
                            , fY = g.slice(W + 1).trim();
                          v.Header[g6] = fY
                      }
                  }
              }
              e = d;
              if (o[e] == 13)
                  e++;
              if (o[e] == 10)
                  e++
          }
          return v
      }
      function m(o, S) {
          var H = Date.now(), e = new Uint8Array(o), V, v = e[2] == 68;
          if (S)
              console.log(!v ? "EPS" : "PDF");
          if (v) {
              var B = T.Wf(e, "/AIMetaData ")
                , s = !1
                , P = !1;
              while (e[B] != 60)
                  B--;
              B--;
              var Z = T.Wf(e, ">>", B)
                , d = T.uL(e, B + 2, Z - B - 2).split("/")
                , g = [];
              for (var M = 0; M < d.length; M++) {
                  var Y = d[M]
                    , y = Y.startsWith("AIPrivateData")
                    , L = Y.startsWith("AIPDFPrivateData");
                  if (!y && !L)
                      continue;
                  var _ = Y.trim().split(/\s+/)
                    , b = parseInt(_[1])
                    , x = parseInt(_[0].slice(y ? 13 : 16));
                  g.push([x, b])
              }
              if (S)
                  console.log("--- map made", Date.now() - H);
              H = Date.now();
              var W = FromPDF.indexOfXref(e)
                , g6 = []
                , fY = FromPDF.readXrefTrail(e, W, g6)
                , f3 = {
                  buff: e,
                  off: 0
              }
                , hK = new Array(g.length)
                , aF = B;
              for (var M = 0; M < g.length; M++) {
                  var x = g[M][0]
                    , b = g[M][1]
                    , fM = FromPDF.getIndirect(b, 0, f3, g6)
                    , eA = fM.buff
                    , e8 = fM["/Filter"]
                    , cy = 0;
                  if (e8 != null && typeof e8 == "string")
                      e8 = [e8];
                  var eC = T.uL(eA, 0, 20);
                  if (eC == "%AI12_CompressedData") {
                      cy = 20;
                      s = !0
                  } else if (eC == "%AI24_ZStandard_Data") {
                      cy = 20;
                      P = !0
                  }
                  eA = new Uint8Array(eA.buffer,eA.byteOffset + cy,eA.length - cy);
                  if (e8)
                      for (var aX = 0; aX < e8.length; aX++) {
                          var j0 = e8[aX];
                          if (j0 == "/FlateDecode")
                              eA = pako.inflate(eA);
                          else if (j0 == "/ASCIIHexDecode")
                              eA = FromPS.F.HexDecode({
                                  buff: eA,
                                  off: 0
                              });
                          else
                              throw j0
                      }
                  hK[x - 1] = eA
              }
              if (S)
                  console.log("--- arrays found", Date.now() - H);
              H = Date.now();
              var aT = T.uL(hK[0], 0, 13);
              if (aT == "%%BoundingBox" || aT == "%AI7_Thumbnai")
                  hK = hK.slice(1);
              V = U(hK);
              if (S)
                  console.log("--- concatenated", Date.now() - H);
              H = Date.now();
              if (s)
                  V = UZIP.inflate(V);
              if (P)
                  V = A(V);
              if (S)
                  console.log("--- inflated", Date.now() - H);
              H = Date.now()
          } else {
              var a4 = T.iS(e);
              if (a4.indexOf("%AI5_BeginLayer") != -1) {
                  V = e
              } else {
                  var f8 = a4.split(/[\n\r]+/)
                    , b3 = []
                    , gh = !1;
                  for (var cZ = 0; cZ < f8.length; cZ++) {
                      var h3 = f8[cZ].trim();
                      if (h3 == "%AI9_PrivateDataEnd") {
                          gh = !1;
                          break
                      } else if (h3 == "%AI9_DataStream" || h3 == "%AI24_DataStream") {
                          gh = !0
                      } else if (gh)
                          b3.push(h3.slice(1))
                  }
                  var ew = T.Ns(b3.join(""))
                    , dy = FromPS.F.ASCII85Decode({
                      buff: ew,
                      off: 0
                  });
                  if (dy[0] == 120 && dy[1] == 156)
                      V = UZIP.inflate(dy);
                  else
                      V = A(dy)
              }
          }
          return V
      }
      function A(o) {
          var S = fC.cO.a2i
            , H = o.length
            , e = S.memory
            , B = 8;
          fC.MW(S, 1e6 + H);
          var V = new Uint8Array(e.buffer)
            , v = S.malloc(H);
          V.set(o, v);
          while (!0) {
              fC.MW(S, H * (B + 2) + 1e6);
              var Z = S.malloc(H * B)
                , d = S.ZSTD_decompress(Z, H * B, v, H);
              if (d == -70) {
                  S.free(Z);
                  B += 4
              } else {
                  V = new Uint8Array(e.buffer);
                  o = V.slice(Z, Z + d);
                  S.free(Z);
                  break
              }
          }
          S.free(v);
          return o
      }
      function U(o) {
          var S = 0
            , e = 0;
          for (var M = 0; M < o.length; M++)
              S += o[M].length;
          var H = new Uint8Array(S);
          for (var M = 0; M < o.length; M++) {
              var V = o[M];
              H.set(V, e);
              e += V.length
          }
          return H
      }
      function r(o, S) {
          for (var M = 0; M < S.length; M++)
              if (o.startsWith(S[M]))
                  return !0;
          return !1
      }
      function $(o) {
          var S = [], H = [], top = -1, e, V = null, v = null;
          for (var B = 0; B < o.length; B++) {
              var Z = o[B];
              if (e) {
                  Z = e + Z;
                  e = null
              }
              var d = "\t".repeat(S.length);
              if (V != null) {
                  V.push(Z);
                  if (Z.endsWith("~>")) {
                      var g = T.Ns(V.join(""))
                        , Y = FromPS.F.ASCII85Decode({
                          off: 0,
                          buff: g
                      });
                      S.push(Y);
                      H.push(!1);
                      top++;
                      V = null
                  }
              } else if (v != null) {
                  if (Z == "X+") {
                      S.push(v);
                      H.push(!1);
                      top++;
                      v = null
                  } else
                      v.push(Z)
              } else if (Z == "/Binary : /ASCII85Decode ,") {
                  V = []
              } else if (Z == "X=")
                  v = [];
              else if (Z == "/SVGFilter :" || Z == "; /Def ;")
                  continue;
              else if (Z.startsWith("/") && Z[1].toUpperCase() != Z[1].toLowerCase()) {
                  if (Z.startsWith("/XMLUID")) {
                      var y = k(Z);
                      if (H[top])
                          throw "e";
                      S[top][y[4]] = y[2]
                  }
                  if (Z.startsWith("/GObjRef")) {
                      var y = k(Z);
                      if (!H[top])
                          throw "e";
                      S[top].push(y[2])
                  } else {
                      var L = Z.startsWith("/Array") || Z.startsWith("/Document");
                      S.push(L ? [] : {});
                      H.push(L);
                      top++
                  }
              } else if (Z.endsWith(",")) {
                  var _, b, y = k(Z);
                  y.pop();
                  if (y[0] == ";" || y.length == 1) {
                      b = S.pop();
                      H.pop();
                      top--;
                      _ = H[top] ? null : y.pop()
                  } else {
                      _ = H[top] ? null : y.pop();
                      var x = y.pop()
                        , W = y[0];
                      if (x == "/Int")
                          b = parseInt(W);
                      else if (x == "/Real")
                          b = parseFloat(W);
                      else if (x == "/Bool")
                          b = W == "1";
                      else if (x == "/String" || x == "/UnicodeString")
                          b = y.join("");
                      else if (x == "/RealMatrix" || x == "/RealPoint" || x == "/RealPointRelToROrigin")
                          b = y.map(parseFloat);
                      else
                          throw x
                  }
                  if (H[top])
                      S[top].push(b);
                  else
                      S[top][_] = b
              } else if (Z == ";") {} else if (Z == "") {} else {
                  if (Z.indexOf("/RealPoint") != -1) {} else if (Z.startsWith("(") && Z.endsWith(")")) {} else if (Z.endsWith("/RealMatrix")) {} else
                      throw Z;
                  e = e ? e + Z : Z
              }
          }
          return S
      }
      function k(o) {
          var S = 0
            , H = [];
          while (S < o.length) {
              var e = o[S]
                , V = e.charCodeAt(0);
              if (e == " ")
                  S++;
              else if (e == "," || e == ";" || e == ":") {
                  H.push(e);
                  S++
              } else if (e == "(") {
                  var v = S + 1;
                  while (!(o[v] == ")" && o[v - 1] != "\\"))
                      v++;
                  var B = o.slice(S + 1, v);
                  H.push(B);
                  S = v + 1
              } else if (e == "/" || e == "-" || 48 <= V && V <= 57) {
                  var v = S;
                  while (o[v] != " ")
                      v++;
                  H.push(o.slice(S, v));
                  S = v
              } else
                  throw e
          }
          return H
      }
      function G(o) {
          var S = "";
          for (var M = 0; M < o.length; M++) {
              if (o[M] == "_" && o[M + 1] == "x") {
                  var h = parseInt(o.slice(M + 2, M + 4), 16);
                  S += String.fromCharCode(h);
                  M += 4
              } else if (o[M] == "_")
                  S += " ";
              else
                  S += o[M]
          }
          return S
      }
      function i(o) {
          var S = "xmlnode-nodename"
            , H = "xmlnode-nodevalue"
            , e = "xmlnode-attributes"
            , V = "xmlnode-children"
            , v = o[S]
            , B = o[e]
            , Z = o[V]
            , d = {
              _nam: v
          };
          for (var g in B) {
              var Y = B[g];
              if (Object.keys(Y[e]).length != 0 || Y[V].length != 0)
                  throw "e";
              if (Y[S] != g)
                  throw "e";
              d[g] = Y[H]
          }
          if (Z.length == 0)
              return d;
          var y = d.cln = [];
          for (var M = 0; M < Z.length; M++)
              y.push(i(Z[M]));
          return d
      }
      return n
  }();
  function fC() {}
  fC.fL = {
      afi: ["PNG", "JPG", "SVG", "GIF", "PDF"],
      a96: "WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")
  };
  fC.MW = function(n, z) {
      var C = n.memory.buffer.byteLength;
      if (C < z)
          n.memory.grow((z - C >>> 16) + 1)
  }
  ;
  fC.Ej = {
      apV: function(n, z) {
          fetch(n).then(function(C) {
              return C.arrayBuffer()
          }).then(function(C) {
              var D = new Uint8Array(C)
                , F = 0
                , a = "";
              if (z) {
                  F = D.length;
                  var X = {
                      level: 9
                  }
                    , E = pako.deflateRaw(D, X)
                    , f = UZIP.deflateRaw(D, X);
                  console.log(F, E.length, f.length);
                  D = E.length < f.length ? E : f
              }
              for (var M = 0; M < D.length; M++)
                  a += String.fromCharCode(D[M]);
              var q = btoa(a);
              console.log(JSON.stringify([F, q]))
          })
      },
      get: function(n, z) {
          var C = BINDB[n]
            , D = Date.now()
            , F = atob(C[1])
            , X = F.length
            , E = new Uint8Array(X);
          for (var M = 0; M < X; M++)
              E[M] = F.charCodeAt(M);
          if (C[0] != 0) {
              var f = new Uint8Array(C[0]);
              UZIP.inflateRaw(E, f);
              E = f
          }
          if (z) {
              var a = fC.Nj(E.buffer);
              E = fC.ET(a).c3(E.buffer)
          }
          return E
      }
  };
  fC.Nj = function(n) {
      if (!(n instanceof ArrayBuffer)) {
          console.log("Input is not ArrayBuffer")
      }
      var z = new Uint8Array(n), C = fC.sG, D, F = 0, X = z.length - 1;
      if (C(z, [239, 187, 191]))
          F = 3;
      while (F < z.length && (z[F] == 9 || z[F] == 10 || z[F] == 13 || z[F] == 32))
          F++;
      while (X != 0 && (z[X] == 9 || z[X] == 10 || z[X] == 13 || z[X] == 32))
          X--;
      if (C(z, [56, 66, 80, 83]))
          D = "psd";
      if (C(z, [102, 116, 121, 112, 109, 105, 102, 49], 4) || C(z, [102, 116, 121, 112, 97, 118, 105, 102], 4))
          D = "avif";
      if (C(z, [102, 116, 121, 112, 105, 115, 111, 109], 4))
          D = "mp4";
      if (C(z, [120]))
          D = "pxd";
      if (C(z, [80, 68, 78, 51]))
          D = "pdn";
      if (C(z, [103, 105, 109, 112, 32, 120, 99, 102, 32]))
          D = "xcf";
      if (C(z, [102, 105, 103, 45, 107, 105, 119, 105]))
          D = "fig";
      if (C(z, [137, 80, 78, 71, 13, 10, 26, 10])) {
          D = "png";
          var E = 8;
          while (E < z.length) {
              var f = T.q(z, E);
              E += 4;
              var a = T.uL(z, E, 4);
              E += 4;
              if (a == "mkTS")
                  D = "fpng";
              E += f + 4
          }
      }
      if (C(z, [87, 76]))
          D = "cdr";
      if (C(z, [82, 73, 70, 70])) {
          var q = dn.vC(z)
            , c = q.UN;
          if (c == "WEBP")
              D = "webp";
          else if (c.slice(0, 3) == "CDR")
              D = "cdr";
          else
              D = c
      }
      if (C(z, [70, 79, 82, 77]) || C(z, [76, 73, 83, 84]) || C(z, [67, 65, 84, 32])) {
          var q = cK.vC(z)
            , c = q.UN;
          if (c == "ILBM")
              D = "ilbm";
          else
              D = c
      }
      if (C(z, [255, 216, 255]))
          D = "jpg";
      if (C(z, [0, 0, 0, 12, 106, 80, 32, 32]))
          D = "jpg";
      if (C(z, [48, 0, 1, 0], 4))
          D = "jpg";
      if (C(z, [71, 73, 70, 56]))
          D = "gif";
      if (C(z, [0, 0, 0, 2, 121, 102, 113, 76]))
          D = "msh";
      if (C(z, [0, 0, 0, 3, 121, 102, 113, 76]))
          D = "msh";
      if (C(z, [0, 0, 0, 16]))
          D = "atn";
      if (C(z, [0, 1]))
          D = "aco";
      if (C(z, [0, 2]))
          D = "aco";
      if ([0, 1].indexOf(z[1]) != -1 && [1, 2, 3, 9, 10, 11].indexOf(z[2]) != -1 && [0, 16, 24, 32].indexOf(z[7]) != -1)
          D = "tga";
      if (C(z, [0, 2, 56, 66, 83, 76]))
          D = "asl";
      if (C(z, [0, 1, 0, -1, 0, 2, 0]))
          D = "abr";
      if (C(z, [0, 2, 0, -1, 0, 2, 0]))
          D = "abr";
      if (C(z, [0, 6, 0, 1]))
          D = "abr";
      if (C(z, [0, 6, 0, 2]))
          D = "abr";
      if (C(z, [0, 7, 0, 2]))
          D = "abr";
      if (C(z, [0, 9, 0, 2]))
          D = "abr";
      if (C(z, [0, 10, 0, 2]))
          D = "abr";
      if (C(z, [56, 66, 70, 83]))
          D = "shc";
      if (C(z, [56, 66, 80, 84]))
          D = "pat";
      if (C(z, [56, 66, 71, 82]))
          D = "grd";
      if (C(z, [56, 66, 84, 80]))
          D = "tpl";
      if (C(z, [0, 4, 0, 5]))
          D = "acv";
      if (C(z, [99, 117, 115, 104]))
          D = "csh";
      if (C(z, [0, 1, 0, 0, 0]))
          D = "otf";
      if (C(z, [79, 84, 84, 79]))
          D = "otf";
      if (C(z, [116, 116, 99, 102]))
          D = "otf";
      if (C(z, [68, 68, 83, 32]))
          D = "dds";
      if (C(z, [80, 86, 82, 3]))
          D = "pvr";
      if (C(z, [86, 84, 70, 0]))
          D = "vtf";
      if (C(z, [83, 73, 77, 80]))
          D = "fits";
      if (C(z, [0, 0, 1, 0]))
          D = "ico";
      if (C(z, [66, 77]))
          D = "bmp";
      if (C(z, [40, 0, 0, 0]))
          D = "bmp";
      if (C(z, [80, 49]))
          D = "ppm";
      if (C(z, [80, 50]))
          D = "ppm";
      if (C(z, [80, 51]))
          D = "ppm";
      if (C(z, [80, 52]))
          D = "ppm";
      if (C(z, [80, 53]))
          D = "ppm";
      if (C(z, [80, 54]))
          D = "ppm";
      if (C(z, [73, 73, 42, 0]))
          D = "tiff";
      if (C(z, [77, 77, 0, 42]))
          D = "tiff";
      if (C(z, [70, 85, 74, 73, 70, 73, 76, 77]))
          D = "raf";
      if (C(z, [112]))
          D = "lif";
      if (C(z, [73, 73, 26, 0]))
          D = "ciff";
      if (C(z, [83, 81, 76, 105]))
          D = "sketch";
      if (C(z, [80, 75])) {
          var K = UZIP.parse(n, !0);
          if (K["document.json"])
              D = "sketch";
          else if (K.manifest)
              D = "xd";
          else
              D = "zip"
      }
      if (C(z, [123]))
          D = "json";
      if (T.q(z, 0) == z.length)
          D = "icc";
      if (C(z, [35]))
          D = "icc";
      if (C(z, [84, 73, 84, 76], F))
          D = "icc";
      if (C(z, [76, 85, 84, 95], F))
          D = "icc";
      if (C(z, [60, 63, 120, 109], F)) {
          if (T.Wf(z, "<look>") != -1)
              D = "icc";
          else
              D = "svg"
      }
      if (C(z, [60, 115, 118, 103], F))
          D = "svg";
      if (C(z, [60, 33, 100, 111], F) || C(z, [60, 33, 68, 79], F)) {
          if (T.Wf(z, "<svg") != -1)
              D = "svg";
          else
              D = "html"
      }
      if (C(z, [37, 33]) || C(z, [197, 208, 211, 198])) {
          if (T.Wf(z, "%AI9_PrivateDataBegin") != -1 || T.Wf(z, "%AI5_BeginLayer") != -1)
              D = "ai";
          else
              D = "eps"
      }
      if (C(z, [37, 80, 68, 70], F)) {
          if (T.Wf(z, "/AIMetaData ") != -1)
              D = "ai";
          else
              D = "pdf"
      } else if (C(z, [10, 69, 79, 70], X - 3))
          D = "dxf";
      if (C(z, [215, 205, 198, 154]))
          D = "wmf";
      if (C(z, [1, 0, 0, 0]))
          D = "emf";
      if (C(z, [118, 47, 49, 1]))
          D = "exr";
      if (C(z, [10, 10, 10, 10]))
          D = "jsx";
      if (C(z, [77, 90]))
          D = "exe";
      if (D == null && j.raw.CH(z.length) != null)
          return "tiff";
      return D
  }
  ;
  fC.sG = function(n, z, C) {
      if (C == null)
          C = 0;
      for (var M = 0; M < z.length; M++)
          if (z[M] != -1 && n[C + M] != z[M])
              return !1;
      return !0
  }
  ;
  fC.ET = function(n) {
      var z = {
          BMP: fC.a9f,
          CDR: fC.fl,
          DDS: fC.u9,
          EMF: fC.WU,
          DXF: fC.fq,
          EPS: fC.eR,
          FIG: fC.nt,
          FPNG: fC.PW,
          GIF: fC.R3,
          ICO: fC.YK,
          ILBM: fC.hu,
          FITS: fC.lD,
          EXR: fC.dU,
          JPG: fC.qL,
          LIF: fC.NS,
          PDF: fC.Vc,
          PDN: fC.Sl,
          PNG: fC.Kr,
          PPM: fC.S_,
          PSD: fC.jL,
          PXD: fC.i2,
          RAF: fC.mK,
          RAW: fC.Kt,
          SKETCH: fC.XC,
          SVG: fC.wv,
          TGA: fC.G9,
          AVIF: fC.acU,
          TIFF: fC.Xc,
          VTF: fC.LO,
          WEBP: fC.x8,
          WMF: fC.tz,
          XCF: fC.kZ,
          XD: fC.Pg,
          EXE: fC.IM,
          AI: fC.cO,
          MP4: fC.a6b
      };
      return z[n.toUpperCase()]
  }
  ;
  fC.ja = function(M) {
      var n = fC.fL.afi, z = fC.fL.a96, C, D = [];
      if (M == null)
          C = n.concat(z);
      else
          C = M == 0 ? n : z;
      for (var M = 0; M < C.length; M++)
          if (fC.ET(C[M]).c0)
              D.push(C[M]);
      return D
  }
  ;
  fC.ami = function() {
      var n;
      function z(D) {
          var F = D.target
            , X = F.width
            , E = F.height
            , f = l.w("canvas");
          f.width = X;
          f.height = E;
          var a = f.getContext("2d");
          a.drawImage(F, 0, 0);
          n({
              Pi: new cc(0,0,X,E),
              data: a.getImageData(0, 0, X, E).data.buffer
          })
      }
      function C(D, F, X) {
          n = X;
          var E = document.createElement("img");
          E.onload = z;
          E.src = "data:" + F + ";base64," + fC.hB(D)
      }
      return C
  }();
  fC.st = function(n, z, C, D, F) {
      var X = fC.J0(n, z, C, D, F)
        , E = fC.Hj(X);
      return E.buffer
  }
  ;
  fC.Hj = function(n) {
      var z = atob(n.split(",").pop())
        , C = new Uint8Array(z.length);
      for (var M = 0; M < z.length; M++)
          C[M] = z.charCodeAt(M);
      return C
  }
  ;
  fC.J0 = function(n, z, C, D, F, X) {
      if (!(n instanceof ArrayBuffer))
          throw "e";
      if (D == null)
          D = "png";
      if (D == "png" && X == !0) {
          var E = fC.ET("PNG").c0([[n, 0]], z, C);
          return "data:image/png;base64," + fC.hB(E)
      }
      var f = fC.W$;
      if (f == null)
          f = fC.W$ = l.w("canvas");
      if (f.width != z || f.height != C) {
          f.width = z;
          f.height = C
      }
      var a = f.getContext("2d")
        , q = new ImageData(new Uint8ClampedArray(n,0,z * C * 4),z,C);
      a.putImageData(q, 0, 0);
      return f.toDataURL("image/" + D, F)
  }
  ;
  fC.a9G = function(n, z, C, D, F) {
      if (F == null)
          F = 0;
      var X = "<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>"
        , E = "<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> " + X + "<g transform=\"translate(64 64) scale(" + .25 * Math.round(l.D()) + ")\">";
      if (n == 1)
          E += "<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">" + "<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>" + "</g>";
      E += "<g filter=\"url(#sofGlow)\"><image transform=\"rotate(" + F + ")\" xlink:href=\"" + z + "\" x=\"" + 80 * C + "\" y=\"" + 80 * D + "\" height=\"80\" width=\"80\"/></g>" + "</g>" + "</svg>";
      var f = new Uint8Array(E.length);
      T.w4(E, f, 0);
      var a = "data:image/svg+xml;base64," + fC.hB(f.buffer);
      return {
          $f: a,
          R: new cc(0,0,128,128),
          qA: new ir(64,64)
      }
  }
  ;
  fC.hB = function(n) {
      var z = new Uint8Array(n)
        , C = "";
      for (var M = 0; M < z.length; M++)
          C += String.fromCharCode(z[M]);
      return btoa(C)
  }
  ;
  fC.ahK = function(n) {
      var z = atob(n)
        , C = z.length
        , D = new Uint8Array(C);
      for (var M = 0; M < C; M++)
          D[M] = z.charCodeAt(M);
      return D.buffer
  }
  ;
  fC.nT = function(n) {
      var z = []
        , C = [];
      for (var M = 0; M < n.W.length; M++) {
          var D = n.W[M];
          if (D.getName().slice(0, 3) == "_a_") {
              z.push(M);
              C.push(D.y_())
          }
      }
      return [z, C]
  }
  ;
  fC.sn = function(n, z, C, D, F, X) {
      if (C == null)
          C = n.d;
      if (D == null)
          D = n.v;
      var E = new cc(0,0,n.d,n.v), f = new b6(C / (n.d + .001),0,0,D / (n.v + .001),0,0), q;
      z = z.toUpperCase();
      var a = fC.ET(z);
      if (a.Jz) {
          n.Wc();
          q = a.c0(n, C, D, F, X)
      } else {
          var c = fC.nT(n), K = c[0], R = c[1], J;
          if (n.fD.length != 0) {
              J = [];
              for (var M = 0; M < n.fD.length; M++)
                  J.push(n.fD[M].CK(E))
          }
          if (K.length < 2) {
              var w;
              if (C == n.d && D == n.v)
                  w = n.Wc().buffer;
              else {
                  var p = O.o.QQ([n.Wc(), E], f);
                  w = p.buffer.buffer
              }
              q = a.c0([[w, 0, n.$M, n._q, J]], C, D, F)
          } else {
              var I = [];
              for (var M = 0; M < K.length; M++) {
                  var m = K[M], w;
                  for (var A = 0; A < K.length; A++)
                      n.W[K[A]].Hu(K[A] == m);
                  n.j7();
                  n.J();
                  n.h1();
                  if (C == n.d && D == n.v)
                      w = n.Wc().buffer.slice(0);
                  else {
                      var p = O.o.QQ([n.Wc(), E], f);
                      w = p.buffer.buffer
                  }
                  var U = n.W[m].getName().split(",");
                  I.push([w, U[1] ? parseInt(U[1]) : 100, n.$M, n._q, J])
              }
              for (var M = 0; M < K.length; M++)
                  n.W[K[M]].Hu(R[M]);
              n.J();
              n.h1();
              if (F) {
                  var r = F.length
                    , $ = F[r - 2]
                    , k = F[r - 1]
                    , G = F[r - 4] / 100;
                  if (G != 1)
                      for (var M = 0; M < I.length; M++)
                          I[M][1] = Math.round((I[M][1] == 0 ? 16 : I[M][1]) / G);
                  if ($)
                      I.reverse();
                  if (k) {
                      var i = I.slice(1, I.length - 1);
                      i.reverse();
                      I = I.concat(i)
                  }
              }
              q = a.c0(I, C, D, F)
          }
      }
      return q
  }
  ;
  fC.Wu = function(n, z) {
      var C = z[0].Dt && z[0].Dt.startsWith("_a_"), D, F = new b$(n + ".psd"), X = new cc(0,0,1,1);
      if (C) {
          D = F.gl();
          D.add.lsct = g9.WQ;
          D.CZ(n);
          D.Gx = "pass";
          D.j1 = 24;
          D.Hu(!0);
          F.W.push(F.iE())
      }
      for (var M = 0; M < z.length; M++) {
          var E = z[M];
          X = X.QH(E.Pi);
          var f = F.gl();
          f.Hu(M == 0);
          f.CZ(z.length == 1 ? "Background" : "Layer " + M);
          if (M == 0 && E.$M)
              F.$M = E.$M;
          if (M == 0 && E._q)
              F._q = E._q;
          if (E.Dt)
              f.CZ(E.Dt);
          if (E.mB)
              for (var M = 0; M < E.mB.length; M++) {
                  var a = E.mB[M]
                    , q = b$.j4(a[0]);
                  q.add.vmsk.g = a[1];
                  j.i.i3(a[1], new b6(X.d,0,0,X.v,0,0));
                  F.E1.push(q)
              }
          f.rect = E.Pi.clone();
          f.buffer = new Uint8Array(E.data);
          j.iw(f);
          F.W.push(f)
      }
      if (C)
          F.W.push(D);
      if (z[0].fD) {
          for (var M = 0; M < z[0].fD.length; M++) {
              var c = new Q.im;
              F.fD.push(c);
              c.rect = z[0].Pi.clone();
              c.channel = z[0].fD[M]
          }
      }
      F.C = [C ? F.W.length - 1 : 0];
      F.d = X.d;
      F.v = X.v;
      F.buffer = j.T(X.t() * 4);
      F.J();
      return F
  }
  ;
  fC.Kr = {};
  fC.Kr.c0 = function(n, z, C, D) {
      if (D == null)
          D = [100, !1, 0, 0, 0];
      var F = {
          sRGB: 1,
          loop: D[3]
      };
      if (n[0][2] != null) {
          var X = Math.round(n[0][2] * (1e4 / 254));
          F.pHYs = [X, X, 1]
      }
      var E = D[0]
        , f = E == 100 ? 0 : Math.max(2, Math.floor(E * 5));
      if (f == 5)
          f = 4;
      var a = []
        , q = [];
      for (var M = 0; M < n.length; M++) {
          a.push(n[M][0]);
          q.push(n[M][1])
      }
      var c = UPNG.encode(a, z, C, f, q, F, D[1]);
      return c
  }
  ;
  fC.Kr.a6O = function(n, z, C) {
      return UPNG.encodeLL([n], z, C, 3, 1, 8)
  }
  ;
  fC.Kr.c3 = function(n) {
      var z = Date.now()
        , C = UPNG.decode(n)
        , D = UPNG.toRGBA8(C)
        , F = C.width
        , X = C.height
        , E = 0;
      if (C.tabs.pHYs)
          E = Math.round(C.tabs.pHYs[0] * 254 / 1e4);
      if (D.length == 1)
          return [{
              Pi: new cc(0,0,F,X),
              data: D[0],
              $M: E
          }];
      var f = [];
      for (var M = 0; M < D.length; M++) {
          f.push({
              Dt: "_a_frm" + M + "," + C.frames[M].delay,
              Pi: new cc(0,0,F,X),
              data: D[M],
              $M: E
          })
      }
      return f
  }
  ;
  fC.S_ = {};
  fC.S_.c0 = function(n, z, C, D) {
      var F = new Uint8Array(n[0][0])
        , X = z * C
        , E = X * 3
        , f = "P6\n" + z + " " + C + "\n255\n"
        , a = f.length
        , q = j.T(a + E, !0);
      for (var M = 0; M < a; M++)
          q[M] = f.charCodeAt(M);
      for (var M = 0; M < X; M++) {
          var c = M * 4
            , K = M * 3 + a;
          q[K] = F[c];
          q[K + 1] = F[c + 1];
          q[K + 2] = F[c + 2]
      }
      return q.buffer
  }
  ;
  fC.S_.c3 = function(n) {
      n = new Uint8Array(n);
      var z = [" ".charCodeAt(0), "\n".charCodeAt(0), "\t".charCodeAt(0), "\r".charCodeAt(0)]
        , C = 0
        , D = String.fromCharCode(n[0]) + String.fromCharCode(n[1])
        , F = []
        , X = 0
        , E = D == "P1" || D == "P4" ? 2 : 3;
      for (C = 2; C < n.length; C++) {
          var f = n[C]
            , a = String.fromCharCode(f);
          if (f == "#".charCodeAt(0)) {
              while (n[C] != "\n".charCodeAt(0))
                  C++;
              continue
          }
          var q = z.indexOf(f) != -1;
          if (X == 0 && !q) {
              F.push(a);
              X = 1;
              continue
          }
          if (X == 1 && !q) {
              F[F.length - 1] += a;
              continue
          }
          if (X == 1 && q) {
              X = 0;
              if (F.length == E)
                  break;
              continue
          }
      }
      var c = parseInt(F[0])
        , K = parseInt(F[1])
        , R = c * K * 4
        , J = D == "P1" || D == "P4" ? 1 : 255 / parseInt(F[2])
        , w = j.T(R);
      if (D == "P1" || D == "P2" || D == "P3") {
          var p = ""
            , I = 0
            , X = 0
            , m = "#".charCodeAt(0);
          for (var M = C; M < n.length; M++) {
              var f = n[M]
                , a = String.fromCharCode(f)
                , q = z.indexOf(f) != -1;
              if (f == m) {
                  while (n[M] != "\n".charCodeAt(0))
                      M++
              } else if (X == 0 && !q) {
                  p = a;
                  X = 1
              } else if (X == 1) {
                  if (q) {
                      X = 0;
                      var A = parseInt(p);
                      p = "";
                      if (D == "P1") {
                          w[I] = w[I + 1] = w[I + 2] = (1 - A) * 255;
                          w[I + 3] = 255;
                          I += 4
                      }
                      if (D == "P2") {
                          w[I] = w[I + 1] = w[I + 2] = Math.round(A * J);
                          w[I + 3] = 255;
                          I += 4
                      }
                      if (D == "P3") {
                          w[I] = Math.round(A * J);
                          I++;
                          if ((I & 3) == 3) {
                              w[I] = 255;
                              I++
                          }
                      }
                  } else
                      p += a
              }
          }
      }
      var U = c * K;
      if (D == "P4")
          for (var r = 0; r < K; r++) {
              var $ = r * 8 * Math.ceil(c / 8);
              for (var k = 0; k < c; k++) {
                  var M = $ + k
                    , G = n[C + 1 + (M >> 3)];
                  G = G >> 7 - (M & 7) & 1;
                  var i = r * c + k << 2;
                  w[i] = w[i + 1] = w[i + 2] = (1 - G) * 255;
                  w[i + 3] = 255
              }
          }
      if (D == "P5")
          for (var M = 0; M < U; M++) {
              var i = 4 * M;
              w[i] = w[i + 1] = w[i + 2] = Math.round(n[C + 1 + M] * J);
              w[i + 3] = 255
          }
      if (D == "P6")
          for (var M = 0; M < U; M++) {
              var i = 4 * M
                , o = C + 1 + 3 * M;
              w[i] = Math.round(n[o] * J);
              w[i + 1] = Math.round(n[o + 1] * J);
              w[i + 2] = Math.round(n[o + 2] * J);
              w[i + 3] = 255
          }
      return [{
          Pi: new cc(0,0,c,K),
          data: w.buffer
      }]
  }
  ;
  fC.u9 = {};
  fC.u9.c0 = function(n, z, C, D) {
      var F = new Uint8Array(n[0][0]);
      if ((z & 3) != 0 || (C & 3) != 0) {
          var X = z + (4 - (z & 3))
            , E = C + (4 - (C & 3))
            , f = new Uint8Array(X * E * 4);
          j.xM(f, 4278190080);
          j.X3(F, new cc(0,0,z,C), f, new cc(0,0,X,E));
          F = f;
          z = X;
          C = E
      }
      return UTEX.DDS.encode(F.buffer, z, C)
  }
  ;
  fC.u9.c3 = function(n) {
      var z = UTEX.DDS.decode(n)[0];
      return [{
          Pi: new cc(0,0,z.width,z.height),
          data: z.image
      }]
  }
  ;
  fC.LO = {};
  fC.LO.c3 = function(n) {
      var z = UTEX.VTF.decode(n).pop();
      return [{
          Pi: new cc(0,0,z.width,z.height),
          data: z.image
      }]
  }
  ;
  fC.qL = {};
  fC.qL.rx = null;
  fC.qL.a7l = function(n, z) {
      var C = fC.qL.rx
        , D = n.byteLength
        , F = z.width
        , X = z.height
        , E = F * X
        , f = 5e6 + 2 * D + E * (z.progressive ? Math.max(2, z.numComponents) * 4 + 1 : 8)
        , a = C.instance.exports;
      fC.MW(a, f);
      var q = new Uint8Array(a.memory.buffer)
        , c = a.malloc(D);
      q.set(new Uint8Array(n), c);
      var K = a.malloc(4)
        , R = a.malloc(4)
        , h = a.malloc(4)
        , J = a.stbi_load_from_memory(c, D, K, R, h, 4);
      a.free(c);
      a.free(K, R, h);
      a.free(J);
      var w = q.slice(J, J + E * 4);
      return w
  }
  ;
  (function() {
      var n = fC.Ej.get("wasm/jpg").buffer;
      if (window.WebAssembly == null)
          window.alert("Your browser is too old. Please, update it.");
      WebAssembly.instantiate(n).then(function(z) {
          fC.qL.rx = z
      })
  }());
  fC.qL.c0 = function(n, z, C, D) {
      if (D == null)
          D = [70];
      var F = n[0]
        , X = new Uint8Array(F[0]);
      if (j.VC(X)) {
          var E = new Uint8Array(X.length)
            , f = new cc(0,0,z,C);
          j.xM(E, 4294967295);
          j.$.xN("norm", X, f, E, f, f, 1);
          X = E
      }
      var a = new Uint8Array(fC.st(X.buffer, z, C, "jpeg", D[0] / 100));
      if (F[2] != null) {
          var q = fC.qL.Uk(a)[224][0] + 2;
          q += 9;
          a[q] = 1;
          T.d9(a, q + 1, F[2]);
          T.d9(a, q + 3, F[2])
      }
      if (F[3] != null && D[1] == !0 && Object.keys(F[3]).length != 0) {
          var c = 0
            , K = 0
            , R = 0
            , J = hb.t3(F[3])
            , w = new Uint8Array(UTIF.encode([J]))
            , p = "http://ns.adobe.com/xap/1.0/"
            , U = 0
            , k = 0
            , H = 20;
          c = 4 + 6 + w.length;
          var I = hb.qV(F[3])
            , m = T.Ns(I);
          K = 4 + p.length + 1 + m.length;
          var A = hb.a9I(F[3]);
          for (var M = 0; M < A.length; M++)
              U += 5 + A[M][1].length;
          var r = U + (U & 1)
            , $ = j.T(14 + 4 + 2 + 4 + r);
          T.ji($, k, "Photoshop 3.0");
          k += 14;
          T.ji($, k, "8BIM");
          k += 4;
          $[k++] = 4;
          $[k++] = 4;
          k += 2;
          T._g($, k, U);
          k += 4;
          for (var M = 0; M < A.length; M++) {
              var G = A[M]
                , i = G[1];
              $[k++] = 28;
              $[k++] = 2;
              $[k++] = G[0];
              T.d9($, k, i.length);
              k += 2;
              T.ji($, k, i);
              k += i.length
          }
          R = 4 + $.length;
          var o = c + K + R
            , S = new Uint8Array(a.length + o);
          for (var M = 0; M < 20; M++)
              S[M] = a[M];
          for (var M = 20; M < a.length; M++)
              S[M + o] = a[M];
          S[H] = 255;
          S[H + 1] = 225;
          T.d9(S, H + 2, c - 2);
          T.ji(S, H + 4, "Exif");
          for (var M = 0; M < w.length; M++)
              S[H + 10 + M] = w[M];
          H += c;
          S[H] = 255;
          S[H + 1] = 225;
          T.d9(S, H + 2, K - 2);
          T.ji(S, H + 4, p);
          for (var M = 0; M < m.length; M++)
              S[H + 4 + p.length + 1 + M] = m[M];
          H += K;
          S[H] = 255;
          S[H + 1] = 237;
          T.d9(S, H + 2, R - 2);
          for (var M = 0; M < $.length; M++)
              S[H + 4 + M] = $[M];
          H += R;
          a = S
      }
      return a.buffer
  }
  ;
  fC.qL.Uk = function(n) {
      var z = 0
        , C = []
        , D = n.length;
      while (z < D) {
          while (n[z] != 255 && z < D)
              z++;
          while (n[z] == 255)
              z++;
          var F = n[z];
          z++;
          if (C[F] == null)
              C[F] = [];
          C[F].push(z - 2);
          if (F == 216)
              continue;
          if (F == 217)
              break;
          if (224 <= F && F <= 239 || F == 218 || F == 219 || F == 192 || F == 193 || F == 194 || F == 196 || F == 221 || F == 254) {
              var X = T.ij(n, z);
              z += X;
              if (F == 218)
                  while (z < D && (n[z] != 255 || (n[z + 1] == 0 || 208 <= n[z + 1] && n[z + 1] <= 215)))
                      z++;
              continue
          }
          console.log("unknown marker ", F.toString(16), z);
          break
      }
      if (C[217] == null) {
          console.log("EOI marker missing");
          var E = n.length - 2;
          n[E] = 255;
          n[E + 1] = 217;
          C[217] = [E]
      }
      return C
  }
  ;
  fC.qL.ah7 = function(n) {
      n = new Uint8Array(n);
      if (n[0] != 255)
          return n.buffer;
      var z = fC.qL.Uk(n)
        , C = fC.qL.OU(n, z);
      if (C.numComponents != 4)
          return n.buffer;
      var D = C.width
        , F = C.height
        , X = fC.qL.QT(n, z, !0);
      return fC.qL.c0([[X[0].data]], D, F, [85])
  }
  ;
  fC.qL.OU = function(n, z) {
      var C = (z[192] ? z[192] : z[193] ? z[193] : z[194])[0] + 4
        , D = {};
      D.progressive = z[194] != null;
      D.precision = n[C];
      C++;
      D.height = T.ij(n, C);
      C += 2;
      D.width = T.ij(n, C);
      C += 2;
      D.numComponents = n[C];
      C++;
      if (z[224]) {
          var F = D.jfif = {};
          C = z[224][0] + 2 + 2 + 5 + 2;
          F.densityUnits = n[C];
          C++;
          F.xDensity = T.ij(n, C);
          C += 2;
          F.yDensity = T.ij(n, C);
          C += 2
      }
      if (z[238]) {
          var F = D.adobe = {};
          C = z[238][0] + 2 + 2 + 6;
          F.version = n[C];
          C++;
          F.flags0 = T.ij(n, C);
          C += 2;
          F.flags1 = T.ij(n, C);
          C += 2;
          F.transform = n[C];
          C++
      }
      return D
  }
  ;
  fC.qL.a4X = function(n, z, C) {
      var D = z
        , F = T.ij(n, D);
      D += 2;
      var X = T.uL(n, D, 4);
      if (X == "Exif") {
          D += 6;
          var E = n.slice(D, D + F - 8), f;
          try {
              f = UTIF.decode(E.buffer, {
                  parseMN: !1,
                  debug: !1
              })
          } catch (aC) {}
          if (f)
              C.exif = f
      } else if (X == "http") {
          var a = 0;
          while (n[D + a] != 0)
              a++;
          var q = T.uL(n, D, a);
          D += a + 1;
          if (q == "http://ns.adobe.com/xmp/extension/") {
              var c = T.uL(n, D, 32);
              D += 32;
              D += 8;
              var K = z + F - D;
              while (n[D + K - 1] == 0)
                  K--;
              if (C.xmp_extn == null)
                  C.xmp_extn = "";
              try {
                  C.xmp_extn += T.iS(n, D, K)
              } catch (aC) {}
          } else if (q == "http://ns.adobe.com/xap/1.0/") {
              var R = T.iS(n.slice(D, D + F - a - 3));
              if (R[0] == "?")
                  R = "<" + R;
              C.xmp = R
          }
      } else
          console.log(X)
  }
  ;
  fC.qL.QT = function(n, z, C) {
      var D = fC.qL.OU(n, z), F = D.width, X = D.height, E = F * X, f, a = -1, p = 72, I;
      if (D.adobe)
          a = D.adobe.transform;
      if (C || F * X > 15e7 || a == 0 || a == 2) {
          var q = new PDFJS.JpegImage;
          q.parse(n);
          var c = q.getData({
              width: F,
              height: X,
              forceRGB: !0,
              isSourcePDF: C
          })
            , f = j.T(E * 4);
          for (var M = 0; M < E; M++) {
              var K = M << 2
                , R = K - M;
              f[K] = c[R];
              f[K + 1] = c[R + 1];
              f[K + 2] = c[R + 2];
              f[K + 3] = 255
          }
      } else {
          f = fC.qL.a7l(n.buffer, D)
      }
      var J = z[225];
      if (J)
          for (var M = 0; M < J.length; M++)
              fC.qL.a4X(n, J[M] + 2, D);
      var w = z[217][0] + 2;
      if (w != n.length)
          D.suffix = n.slice(w);
      var m = [F, X, 1, 0, 0, 0, 1, 0];
      if (D.jfif && D.jfif.densityUnits != 0) {
          p = Math.round([72, 1, 2.54][D.jfif.densityUnits] * D.jfif.xDensity)
      } else if (D.exif && D.exif[0].t282 != null) {
          var A = D.exif[0].t282[0];
          p = A[0] / A[1]
      }
      if (D.exif) {
          var U = D.exif;
          I = hb.iD(U[0]);
          var r = U[0].t274;
          if (r)
              r = r[0];
          if (r != null && r > 1 && r < 20)
              m = j.raw.hf(r, F, X)
      }
      if (D.xmp) {
          I = hb.td(D.xmp, I)
      }
      var $ = z[237]
        , k = []
        , G = [];
      if ($) {
          var i = new Uint8Array(65536)
            , o = 0
            , S = 0;
          for (var M = 0; M < $.length; M++) {
              S = $[M] + 2;
              var H = S + T.ij(n, S);
              S += 2;
              var e = S;
              while (n[S] != 0)
                  S++;
              S++;
              var V = T.uL(n, e, S - e - 1)
                , v = H - S;
              while (o + v > i.length) {
                  var B = new Uint8Array(i.length * 2);
                  B.set(i);
                  i = B
              }
              var Z = new Uint8Array(n.buffer,S,v);
              i.set(Z, o);
              o += v
          }
          S = 0;
          n = i;
          while (S < o) {
              var d = T.uL(n, S, 4);
              S += 4;
              if ("8BIM MIB8 AgHg PHUT DCSR \0\x02\0\0 \0\0\0\0 MeSa".split(" ").indexOf(d) == -1)
                  throw JSON.stringify(d);
              var g = T.ij(n, S);
              S += 2;
              var Y = n[S++]
                , y = T.uL(n, S, Y);
              S += Y;
              if ((Y & 1) == 0)
                  S++;
              var L = T.q(n, S);
              S += 4;
              var w = S + L + (L & 1);
              if (g == 1028) {
                  while (S + 4 < w) {
                      var _ = n[S++]
                        , b = n[S++]
                        , x = n[S++]
                        , W = T.ij(n, S);
                      S += 2;
                      if (_ == 28 && b == 2)
                          k.push([x, T.uL(n, S, W)]);
                      S += W
                  }
              } else if ((g & 2e3) == 2e3) {
                  var g6 = eh.gI(n, S, L);
                  G.push([y, g6])
              } else {}
              S = w
          }
          if (k.length != 0)
              I = hb.a0n(k, I)
      }
      var fY = [{
          Pi: new cc(0,0,F,X),
          data: f.buffer,
          $M: p,
          _q: I,
          mB: G.length == 0 ? null : G
      }]
        , I = D.xmp_extn;
      if (I) {
          var f3 = new DOMParser
            , hK = f3.parseFromString(I, "image/svg+xml")
            , hK = hK.children[0].children[0].children[0]
            , s = [hK.getAttribute("GImage:Data"), hK.getAttribute("GDepth:Data")];
          for (var M = 0; M < s.length; M++)
              if (s[M]) {
                  var P = atob(s[M])
                    , aF = new Uint8Array(P.length);
                  T.ji(aF, 0, P);
                  aF = aF.buffer;
                  var fM = fC.Nj(aF)
                    , eA = fC.ET(fM).c3(aF);
                  fY.push(eA[0])
              }
      }
      if (D.suffix) {
          var e8 = D.suffix
            , eC = T.uL(e8, 4, 4)
            , cy = T.Wf(e8, String.fromCharCode(255) + String.fromCharCode(216) + String.fromCharCode(255));
          if (fC.sG(e8, [0, 0, 1, 10, 14, 0, 0, 0])) {
              var S = 0;
              while (S != e8.length) {
                  var aX = T.Dn(e8, S + 2);
                  S += 4;
                  var j0 = {
                      2272: 12,
                      2320: 21,
                      2561: 13,
                      2625: 21,
                      2721: 3,
                      2608: 0
                  }[aX];
                  if (j0 != null) {
                      var aT = T.YR(e8, S);
                      S += 4;
                      var a4 = T.uL(e8, S, aT);
                      S += aT;
                      var f8 = T.uL(e8, S, j0);
                      S += j0;
                      if (aX == 2608) {
                          var b3 = T.q(e8, S + 24);
                          S += b3 + 24;
                          var gh = T.q(e8, S);
                          S += gh;
                          alert("Photopea found a " + iY.ha(b3) + " MP4 video inside your image.", 4e3)
                      }
                  } else if (aX == 18502) {
                      while (T.uL(e8, S, 4) != "SEFT")
                          S += 4;
                      S += 4
                  } else {
                      break;
                      console.log(T.ol(e8, S, 128));
                      console.log(e8.slice(S));
                      throw aX.toString(16)
                  }
              }
          } else if (eC == "ftyp") {
              alert("Photopea found a " + iY.ha(e8.length) + " MP4 video inside your image.", 4e3)
          } else if (T.uL(e8, 0, 4) == "fixe") {
              alert("Unknown data - " + e8.length + " B - at the end of the file", 3e3);
              var S = 4
                , L = T.YR(e8, S);
              S += 4;
              var cZ = T.YR(e8, S);
              S += 4;
              var h3 = T.YR(e8, S);
              S += 4;
              console.log(L, cZ, h3, e8.slice(S, S + 84));
              S += 84;
              var ew = T.uL(e8, S, 32);
              S += 32;
              S += 8;
              var ew = T.uL(e8, S, 32);
              S += 32
          } else if (T.uL(e8, 8, 13) == "FocusShot_Map") {
              var dy = T.q(e8, 0)
                , W = T.YR(e8, 4)
                , aF = j.T(E * 4)
                , fx = j.T(E * 4);
              for (var bo = 0; bo < X; bo++)
                  for (var hd = 0; hd < F; hd++) {
                      var M = bo * F + hd
                        , K = M << 2
                        , gT = 8 + 13 + ((bo >>> 1) * F + hd >>> 1)
                        , du = e8[gT]
                        , bk = e8[gT + (E >>> 2)];
                      aF[K] = aF[K + 1] = aF[K + 2] = du;
                      aF[K + 3] = 255;
                      fx[K] = fx[K + 1] = fx[K + 2] = bk;
                      fx[K + 3] = 255
                  }
              fY.push({
                  Pi: new cc(0,0,F,X),
                  data: aF.buffer
              }, {
                  Pi: new cc(0,0,F,X),
                  data: fx.buffer
              })
          } else if (eC == "edof") {
              var r = e8[8 + 7];
              console.log(r.toString(16));
              var S = 8 + 16
                , i8 = T.Dn(e8, S)
                , en = T.Dn(e8, S + 2)
                , E = i8 * en;
              S += 4;
              S += 32 + 16;
              var dW = j.T(E * 4);
              for (var M = 0; M < E; M++) {
                  var K = M << 2;
                  dW[K] = dW[K + 1] = dW[K + 2] = e8[S + M];
                  dW[K + 3] = 255
              }
              if (r == 16) {} else if (r == 19) {
                  var ix = dW.slice(0);
                  j.V._w(dW, ix, i8, en);
                  var dU = i8;
                  i8 = en;
                  en = dU;
                  j.V.a1k(ix, dW, i8, en)
              } else
                  throw "Unknown orientation of a depth map";
              fY.push({
                  Pi: new cc(0,0,i8,en),
                  data: dW.buffer
              })
          } else if (cy != -1 && !(e8[0] == 255 && e8[1] == 129)) {
              try {
                  if (cy != 0)
                      e8 = e8.slice(cy);
                  var eA = fC.ET("jpg").c3(e8.buffer);
                  for (var M = 0; M < eA.length; M++)
                      fY.push(eA[M])
              } catch (aC) {}
          }
      }
      if (fY.length > 1) {
          var hN = fY[0].Pi;
          fY[0].Dt = "Main";
          for (var M = 1; M < fY.length; M++) {
              fY[M].Dt = fC.qL.aee(new Uint8Array(fY[M].data)) ? "Depth Map" : null;
              var a1 = fY[M].Pi;
              if (!a1.jm(hN)) {
                  var hk = hN.d / a1.d
                    , ax = hN.v / a1.v
                    , ej = new b6;
                  ej.scale(hk, ax);
                  var bz = O.o._O([new Uint8Array(fY[M].data), a1], 1, j.V.aC(ej));
                  fY[M].Pi = bz.rect;
                  fY[M].data = bz.buffer
              }
          }
      }
      if (fC.qL.gX == 1)
          if (m[2] != 1 || m[6] != 1)
              for (var M = 0; M < fY.length; M++) {
                  var fq = fY[M]
                    , cg = new Uint8Array(fq.data)
                    , F = fq.Pi.d
                    , X = fq.Pi.v
                    , i8 = m[0]
                    , en = m[1]
                    , f = j.T(i8 * en * 4);
                  j.V.Dh(cg, F, X, f, m);
                  fq.Pi = new cc(0,0,i8,en);
                  fq.data = f.buffer
              }
      return fY
  }
  ;
  fC.qL.aee = function(n) {
      var z = !0;
      for (var M = 0; M < n.length; M += 4) {
          z = z && n[M] == n[M + 1] && n[M + 1] == n[M + 2]
      }
      return z
  }
  ;
  fC.qL.gX = 0;
  fC.qL.c3 = function(n, z, C) {
      n = new Uint8Array(n);
      if (n[0] == 255) {
          var D = fC.qL.Uk(n);
          if (D[195] == null) {
              fC.qL.gX++;
              var F = fC.qL.QT(n, D, !1);
              fC.qL.gX--;
              return F
          }
          var X = T.ij(n, D[195][0] + 5)
            , E = T.ij(n, D[195][0] + 7)
            , f = UTIF.LosslessJpegDecode(n)
            , a = E * X
            , q = j.T(a * 4);
          for (var M = 0; M < a; M++) {
              var c = M << 2
                , K = c - M;
              q[c] = f[K];
              q[c + 1] = f[K + 1];
              q[c + 2] = f[K + 2];
              q[c + 3] = 255
          }
          return [{
              Pi: new cc(0,0,E,X),
              data: q.buffer
          }]
      } else if (n[0] == 0 && n[4] == 48 && n[6] == 1) {
          var R = n
            , J = new PDFJS.Jbig2Image
            , w = [];
          if (z)
              w.push({
                  data: z,
                  start: 0,
                  end: z.length
              });
          w.push({
              data: R,
              start: 0,
              end: R.length
          });
          var f = J.parseChunks(w);
          if (!C)
              for (var M = 0; M < f.length; M++)
                  f[M] = ~f[M];
          var E = T.q(n, 11)
            , X = T.q(n, 15)
            , p = Math.ceil(E / 8)
            , I = j.T(E * X * 4);
          for (var m = 0; m < X; m++) {
              var A = m * p;
              for (var U = 0; U < E; U++) {
                  var c = (m * E + U) * 4
                    , r = f[A + (U >>> 3)] >>> 7 - (U & 7) & 1
                    , $ = r * 255;
                  I[c] = $;
                  I[c + 1] = $;
                  I[c + 2] = $;
                  I[c + 3] = 255
              }
          }
          return [{
              Pi: new cc(0,0,E,X),
              data: I.buffer
          }]
      } else {
          var J = new PDFJS.JpxImage;
          J.parse(n);
          var E = J.width
            , X = J.height
            , k = J.tiles
            , G = J.componentsCount
            , i = new Uint8Array(E * X * 4)
            , o = new cc(0,0,E,X);
          for (var J = 0; J < k.length; J++) {
              var S = k[J]
                , H = S.width
                , e = S.height
                , V = H * e
                , v = S.items
                , B = new cc(S.left,S.top,H,e)
                , Z = new Uint8Array(V * 4);
              if (G == 1)
                  for (var M = 0; M < V; M++) {
                      var d = v[M]
                        , c = M * 4;
                      Z[c] = d;
                      Z[c + 1] = d;
                      Z[c + 2] = d;
                      Z[c + 3] = 255
                  }
              else if (G == 3)
                  for (var M = 0; M < V; M++) {
                      var K = M * 3
                        , c = M * 4;
                      Z[c] = v[K];
                      Z[c + 1] = v[K + 1];
                      Z[c + 2] = v[K + 2];
                      Z[c + 3] = 255
                  }
              else
                  console.log("Unknown number of components: " + G);
              j.X3(Z, B, i, o)
          }
          return [{
              Pi: o,
              data: i.buffer
          }]
      }
  }
  ;
  fC.x8 = {};
  fC.x8.c0 = function(n, z, C, D) {
      if (D == null)
          D = [70, 0, 0, 0];
      var F = D[0] / 100
        , a = 0;
      if (n.length == 1)
          return fC.st(n[0][0], z, C, "webp", F);
      var X = T.tX
        , E = T.eB
        , f = new cL;
      X(f, a, "RIFF    WEBPVP8X");
      a += 16;
      E(f, a, 10);
      a += 4;
      E(f, a, 18);
      a += 4;
      E(f, a, z - 1);
      a += 3;
      E(f, a, C - 1);
      a += 3;
      X(f, a, "ANIM");
      a += 4;
      E(f, a, 6);
      a += 4;
      f.Wz(a, 4);
      f.data[a + 3] = 255;
      T.ll(f, a + 4, D[2]);
      a += 6;
      var q = [];
      for (var M = 0; M < n.length; M++) {
          q.push(n[M][0])
      }
      var c = UPNG.encode.compress(q, z, C, F == 1 ? 0 : Math.max(2, Math.floor(F * 500)), [!1, !0, !0, 0, !0]).frames;
      for (var M = 0; M < n.length; M++) {
          X(f, a, "ANMF");
          a += 4;
          var K = a;
          a += 4;
          var R = c[M]
            , J = R.rect
            , w = [J.x >>> 1, J.y >>> 1, J.width - 1, J.height - 1, n[M][1]];
          for (var p = 0; p < 5; p++)
              E(f, a + 3 * p, w[p]);
          a += 15;
          f.Wz(a, 1);
          f.data[a] = 1 - R.blend << 1 | R.dispose;
          a++;
          var I = new Uint8Array(fC.st(R.img.buffer, J.width, J.height, "webp", 1))
            , m = dn.vC(I.buffer).sub
            , A = T.uL(I, 12, 4);
          if (A != "VP8L" && A != "VP8 " && A != "VP8X")
              throw "e";
          var U = A == "VP8 " ? 0 : A == "VP8L" ? 12 : 30
            , r = I.length - U;
          f.Wz(a, r);
          for (var p = 0; p < r; p++)
              f.data[a + p] = I[U + p];
          a += r;
          var $ = a - K - 4;
          E(f, K, $);
          if (($ & 1) == 1) {
              f.Wz(a, 1);
              a++
          }
      }
      E(f, 4, a - 8);
      return f.data.slice(0, a).buffer
  }
  ;
  (function() {
      var n = fC.Ej.get("wasm/webp").buffer;
      WebAssembly.instantiate(n).then(function(z) {
          var C = z.instance.exports;
          fC.x8.exp = C
      })
  }());
  fC.x8.c3 = function(n) {
      var z = new Uint8Array(n)
        , C = fC.x8.afu
        , D = null
        , F = dn.vC(n).sub
        , X = {};
      for (var M = 0; M < F.length; M++)
          X[F[M].LH] = F[M];
      var E = X.ANIM
        , f = X.VP8L
        , a = X["VP8 "]
        , q = X.VP8X;
      if (E == null) {
          var c, K;
          if (a) {
              c = T.Dn(z, a.A + 6);
              K = T.Dn(z, a.A + 8)
          } else if (f) {
              var R = T.YR(z, f.A + 1);
              c = (R & (1 << 14) - 1) + 1;
              K = (R >>> 14 & (1 << 14) - 1) + 1
          } else
              throw "e";
          var J = [C(D, n, {
              A: 0,
              size: z.length
          }, c, K)];
          return J
      }
      var w = q.A
        , c = 1 + (T.YR(z, w + 4) & 16777215)
        , K = 1 + (T.YR(z, w + 7) & 16777215)
        , p = []
        , I = new cc(0,0,c,K)
        , m = j.T(c * K * 4);
      for (var M = 0; M < F.length; M++) {
          var A = F[M];
          if (A.LH != "ANMF")
              continue;
          var U = [];
          for (var r = 0; r < 5; r++)
              U.push(T.YR(z, A.A + r * 3) & 16777215);
          var $ = new cc(U[0] * 2,U[1] * 2,U[2] + 1,U[3] + 1)
            , k = U[4]
            , G = C(D, n, {
              A: A.A + 16,
              size: A.size - 16
          }, c, K)
            , i = new Uint8Array(G.data)
            , o = z[A.A + 15];
          if (o >>> 1 == 0)
              j.$.xN("norm", i, $, m, I, $, 1);
          else
              j.X3(i, $, m, I);
          p.push({
              Dt: "_a_" + p.length + "," + k,
              Pi: I.clone(),
              data: m.buffer.slice(0)
          });
          if ((o & 1) == 1) {
              j.xM(i, 0);
              j.X3(i, $, m, I)
          }
      }
      return p
  }
  ;
  fC.x8.afu = function(n, z, C, D, F) {
      var X = fC.x8.exp
        , E = X.memory
        , f = 5e6 + 2 * C.size + D * F * 10;
      fC.MW(X, f);
      var a = new Uint8Array(E.buffer)
        , q = X.malloc(C.size);
      a.set(new Uint8Array(z,C.A,C.size), q);
      var c = X.malloc(8)
        , K = X.WebPDecodeARGB(q, C.size, c, c + 4)
        , R = T.YR(a, c)
        , J = T.YR(a, c + 4)
        , w = R * J * 4
        , p = j.T(w);
      for (var M = 0; M < w; M += 4) {
          p[M] = a[K + M + 1];
          p[M + 1] = a[K + M + 2];
          p[M + 2] = a[K + M + 3];
          p[M + 3] = a[K + M]
      }
      X.WebPFree(K);
      X.free(c);
      X.free(q);
      return {
          Pi: new cc(0,0,R,J),
          data: p.buffer
      }
  }
  ;
  fC.a9f = function() {
      function n(f, a, q, c) {
          var K = new Uint8Array(f[0][0])
            , R = new Uint32Array(K.buffer)
            , J = []
            , w = {}
            , I = 24
            , m = 0
            , k = 0;
          for (var M = 0; M < R.length; M++) {
              var p = R[M] & 16777215;
              if (w[p] == null) {
                  w[p] = J.length;
                  J.push(p);
                  if (J.length > 256) {
                      J = null;
                      break
                  }
              }
          }
          if (J) {
              I = 1;
              while (1 << I < J.length)
                  I *= 2;
              if (I == 2)
                  I = 4
          }
          var A = {
              ob: a,
              ua: q,
              _p: 1,
              OL: I,
              DK: 0,
              ahd: m
          }
            , U = 4 * Math.floor((A.OL * A.ob + 31) / 32);
          A.size = U * A.ua + 2;
          var r = new cL
            , $ = J ? (1 << I) * 4 : 0;
          T.tX(r, k, "BM");
          k += 2;
          T.eB(r, k, U * q + 16 + 40 + $);
          k += 4;
          T.eB(r, k, 0);
          k += 4;
          T.eB(r, k, 54 + $);
          k += 4;
          r.Wz(k, 40);
          T.eB(r, k, 40);
          k += 4;
          E(r.data, k, A, U);
          k += 36;
          if (J) {
              r.Wz(k, $);
              var G = r.data;
              for (var M = 0; M < J.length; M++) {
                  var i = k + M * 4
                    , o = J[M] >>> 16
                    , S = J[M] >>> 8 & 255
                    , H = J[M] & 255;
                  G[i] = o;
                  G[i + 1] = S;
                  G[i + 2] = H
              }
              k += $
          }
          r.Wz(k, U * q);
          if (I == 24)
              for (var e = 0; e < q; e++) {
                  var V = k + (q - 1 - e) * U;
                  for (var v = 0; v < a; v++) {
                      var B = (e * a + v) * 4;
                      r.data[V + v * 3 + 2] = K[B];
                      r.data[V + v * 3 + 1] = K[B + 1];
                      r.data[V + v * 3 + 0] = K[B + 2]
                  }
              }
          else if (I == 8)
              for (var e = 0; e < q; e++) {
                  var V = k + (q - 1 - e) * U;
                  for (var v = 0; v < a; v++) {
                      var B = e * a + v
                        , Z = w[R[B] & 16777215];
                      r.data[V + v] |= Z
                  }
              }
          else if (I == 4)
              for (var e = 0; e < q; e++) {
                  var V = k + (q - 1 - e) * U;
                  for (var v = 0; v < a; v++) {
                      var B = e * a + v
                        , Z = w[R[B] & 16777215];
                      r.data[V + (v >>> 1)] |= Z << 4 - (v & 1) * 4
                  }
              }
          else if (I == 1)
              for (var e = 0; e < q; e++) {
                  var V = k + (q - 1 - e) * U;
                  for (var v = 0; v < a; v++) {
                      var B = e * a + v
                        , Z = w[R[B] & 16777215];
                      r.data[V + (v >>> 3)] |= Z << 7 - (v & 7)
                  }
              }
          k += U * q + 2;
          return r.data.slice(0, k).buffer
      }
      function z(f) {
          f = new Uint8Array(f);
          if (T.YR(f, 0) == 40)
              return [C(f.buffer, 0)];
          var a = 0
            , q = T.uL(f, a, 2);
          a += 2;
          if (q != "BM") {
              alert("Unsupported BMP format: " + q);
              return
          }
          var c = T.YR(f, a);
          a += 4;
          a += 4;
          var K = T.YR(f, a);
          a += 4;
          return [C(f.buffer, a, K)]
      }
      function C(f, a, q) {
          f = new Uint8Array(f);
          var c = T.YR(f, a)
            , K = X(f, a + 4);
          if (K._p != 1)
              alert("unsupported number of color planes: " + K._p);
          if (K.DK != 0 && K.DK != 1 && K.DK != 2 && K.DK != 3) {
              alert("Unsupported BMP compression: " + K.DK);
              return
          }
          a += c;
          var R = a
            , J = f;
          if (q == null)
              q = a;
          if (K.DK == 1 || K.DK == 2) {
              var w = F(f, q, K);
              K.OL = 8;
              f = w;
              q = 0
          }
          var p = 4 * Math.floor((K.OL * K.ob + 31) / 32)
            , I = K.ob
            , m = Math.abs(K.ua)
            , A = new Uint8Array(I * m * 4);
          A.fill(255);
          if (K.OL == 32)
              for (var U = 0; U < m; U++) {
                  var r = q + (m - 1 - U) * p;
                  for (var $ = 0; $ < I; $++) {
                      var k = (U * I + $) * 4;
                      A[k] = f[r + $ * 4 + 2];
                      A[k + 1] = f[r + $ * 4 + 1];
                      A[k + 2] = f[r + $ * 4 + 0];
                      A[k + 3] = f[r + $ * 4 + 3]
                  }
              }
          else if (K.OL == 24)
              for (var U = 0; U < m; U++) {
                  var r = q + (m - 1 - U) * p;
                  for (var $ = 0; $ < I; $++) {
                      var k = (U * I + $) * 4;
                      A[k] = f[r + $ * 3 + 2];
                      A[k + 1] = f[r + $ * 3 + 1];
                      A[k + 2] = f[r + $ * 3 + 0]
                  }
              }
          else if (K.OL == 16)
              for (var U = 0; U < m; U++) {
                  var r = q + (m - 1 - U) * p;
                  for (var $ = 0; $ < I; $++) {
                      var k = (U * I + $) * 4
                        , G = f[r + $ * 2 + 1] << 8 | f[r + $ * 2];
                      A[k] = (G >>> 11) * (255 / 31);
                      A[k + 1] = (G >>> 5 & 63) * (255 / 63);
                      A[k + 2] = (G & 31) * (255 / 31)
                  }
              }
          else if (K.OL == 8)
              for (var U = 0; U < m; U++) {
                  var r = q + (m - 1 - U) * p;
                  for (var $ = 0; $ < I; $++) {
                      var k = (U * I + $) * 4
                        , i = f[r + $];
                      A[k] = J[R + 4 * i + 2];
                      A[k + 1] = J[R + 4 * i + 1];
                      A[k + 2] = J[R + 4 * i + 0]
                  }
              }
          else if (K.OL == 4)
              for (var U = 0; U < m; U++) {
                  var r = q + (m - 1 - U) * p;
                  for (var $ = 0; $ < I; $++) {
                      var k = (U * I + $) * 4
                        , i = f[r + ($ >> 1)];
                      i = i >> 4 - 4 * ($ & 1);
                      i = i & 15;
                      A[k] = J[R + 4 * i + 2];
                      A[k + 1] = J[R + 4 * i + 1];
                      A[k + 2] = J[R + 4 * i + 0]
                  }
              }
          else if (K.OL == 1)
              for (var U = 0; U < m; U++) {
                  var r = q + (m - 1 - U) * p;
                  for (var $ = 0; $ < I; $++) {
                      var k = (U * I + $) * 4
                        , o = f[r + ($ >> 3)];
                      o = o >> 7 - ($ & 7);
                      o = o & 1;
                      A[k] = J[R + 4 * o + 2];
                      A[k + 1] = J[R + 4 * o + 1];
                      A[k + 2] = J[R + 4 * o + 0]
                  }
              }
          else
              throw "Unknown bit depth " + K.OL;
          if (K.ua < 0) {
              var S = new Uint32Array(A.buffer)
                , H = m >>> 1;
              for (var U = 0; U < H; U++) {
                  var e = U * I
                    , V = (m - U - 1) * I;
                  for (var $ = 0; $ < I; $++) {
                      var v = S[e + $];
                      S[e + $] = S[V + $];
                      S[V + $] = v
                  }
              }
          }
          return {
              Pi: new cc(0,0,I,m),
              data: A.buffer
          }
      }
      function D(f, M) {
          return f >>> 4 - ((M & 1) << 2) & 15
      }
      function F(f, a, q) {
          var c = q.ob
            , K = Math.abs(q.ua)
            , R = new Uint8Array(c * K)
            , J = 0
            , w = 0
            , M = 0;
          while (w < K) {
              var p = f[a++]
                , I = f[a++]
                , m = w * c + J;
              if (p > 0) {
                  if (q.OL == 4)
                      for (M = 0; M < p; M++) {
                          R[m + M] = D(I, M)
                      }
                  else
                      for (M = 0; M < p; M++) {
                          R[m + M] = I
                      }
                  J += p
              } else if (p == 0 && I == 0) {
                  w++;
                  J = 0
              } else if (p == 0 && I == 1) {
                  break
              } else if (p == 0 && I == 2) {
                  J += f[a++];
                  w += f[a++]
              } else {
                  var A = I;
                  if (q.OL == 4) {
                      for (M = 0; M < I; M++) {
                          R[m + M] = D(f[a + (M >>> 1)], M)
                      }
                      A = Math.ceil(I / 2)
                  } else {
                      for (M = 0; M < I; M++) {
                          R[m + M] = f[a + M]
                      }
                  }
                  if ((A & 1) != 0)
                      A++;
                  a += A;
                  J += I
              }
          }
          return R
      }
      function X(f, a) {
          var q = T.rK
            , c = T.YR
            , K = T.Dn
            , R = {};
          R.ob = q(f, a);
          a += 4;
          R.ua = q(f, a);
          a += 4;
          R._p = K(f, a);
          a += 2;
          R.OL = K(f, a);
          a += 2;
          R.DK = c(f, a);
          a += 4;
          R.size = c(f, a);
          a += 4;
          var J = q(f, a);
          a += 4;
          var w = q(f, a);
          a += 4;
          R.ahd = c(f, a);
          a += 4;
          a += 4;
          return R
      }
      function E(f, a, q, c) {
          T.Y_(f, a, q.ob);
          a += 4;
          T.Y_(f, a, q.ua);
          a += 4;
          T.Se(f, a, q._p);
          a += 2;
          T.Se(f, a, q.OL);
          a += 2;
          T.Y_(f, a, q.DK);
          a += 4;
          T.Y_(f, a, q.size);
          a += 4;
          T.Y_(f, a, 2834);
          a += 4;
          T.Y_(f, a, 2834);
          a += 4;
          T.Y_(f, a, q.ahd);
          a += 4;
          a += 4
      }
      return {
          c3: z,
          c0: n,
          ao_: C
      }
  }();
  fC.R3 = {};
  fC.R3.c0 = function(n, z, C, D) {
      if (D == null)
          D = [100, 0, 0, 0, 0];
      var F = []
        , X = []
        , E = z * C * 4
        , p = null;
      for (var f = 0; f < n.length; f++) {
          var a = new Uint8Array(n[f][0].slice(0));
          for (var M = 0; M < E; M += 4) {
              var q = a[M + 3] = a[M + 3] > 127 ? 255 : 0;
              if (q == 0)
                  a[M] = a[M + 1] = a[M + 2] = 0
          }
          F.push(a.buffer);
          X.push(n[f][1])
      }
      var c = Math.round(2 + 254 * D[0] / 100)
        , K = UPNG.encode.compress(F, z, C, c, [!0, !1, !1, 8, !1])
        , R = K.plte
        , J = new Uint8Array(4)
        , w = new Uint32Array(J.buffer);
      for (var M = 0; M < R.length; M++) {
          w[0] = R[M];
          var I = J[0];
          J[0] = J[2];
          J[2] = I;
          R[M] = w[0];
          if (w[0] == 0)
              p = M
      }
      while (R.length < 256)
          R.push(0);
      var m = new Uint8Array(2e3 + z * C * n.length)
        , A = D[2]
        , U = {
          palette: R
      };
      if (A != 1)
          U.loop = A == 0 ? 0 : A - 1;
      var r = new GifWriter(m,z,C,U);
      for (var M = 0; M < n.length; M++) {
          var $ = K.frames[M]
            , k = $.rect
            , G = $.blend
            , i = $.dispose;
          r.addFrame(k.x, k.y, k.width, k.height, $.img, {
              transparent: p,
              disposal: i + 1,
              delay: Math.round(X[M] / 10)
          })
      }
      return m.slice(0, r.end()).buffer
  }
  ;
  fC.R3.c3 = function(n) {
      var z = Date.now()
        , C = []
        , D = UGIF.decode(n)
        , F = UGIF.toRGBA8(D)
        , X = new cc(0,0,D.width,D.height);
      for (var M = 0; M < F.length; M++) {
          var E = D.frames[M];
          C.push({
              Pi: X.clone(),
              Dt: "_a_frm" + M + "," + E.delay * 10,
              data: F[M]
          })
      }
      return C
  }
  ;
  fC.YK = {};
  fC.YK.c0 = function(n, z, C, D) {
      console.log(n);
      if (z > 256 || C > 256) {
          alert("Maximum ICO size is 256x256 px. Will be cropped.", 4e3);
          var F = Math.min(z, 256)
            , X = Math.min(C, 256)
            , E = new cc(0,0,F,X)
            , f = j.T(E.t() * 4)
            , a = new cc(0,0,z,C)
            , q = new Uint8Array(n[0][0]);
          j.X3(q, a, f, E);
          n[0][0] = f.buffer;
          z = F;
          C = X
      }
      var c = new cL
        , K = 0
        , R = D && D[0] == !0;
      T.ll(c, K, 0);
      K += 2;
      T.ll(c, K, R ? 2 : 1);
      K += 2;
      T.ll(c, K, 1);
      K += 2;
      var J = new Uint8Array(fC.ET("png").c0(n, z, C));
      c.Wz(K, 16);
      c.data[K] = z == 256 ? 0 : z;
      K++;
      c.data[K] = C == 256 ? 0 : C;
      K++;
      K += 2;
      T.ll(c, K, R ? Math.round(z / 2) : 1);
      K += 2;
      T.ll(c, K, R ? Math.round(C / 2) : 32);
      K += 2;
      T.eB(c, K, J.length);
      K += 4;
      T.eB(c, K, 6 + 16);
      K += 4;
      c.Wz(K, J.length);
      for (var M = 0; M < J.length; M++)
          c.data[K + M] = J[M];
      K += J.length;
      var w = new Uint8Array(K);
      for (var M = 0; M < K; M++)
          w[M] = c.data[M];
      return w.buffer
  }
  ;
  fC.YK.c3 = function(n) {
      n = new Uint8Array(n);
      var z = 4
        , C = T.Dn(n, z);
      z += 2;
      var D = [];
      for (var M = 0; M < C; M++) {
          var F = fC.YK.a7d(n, z + M * 16)
            , X = n.buffer.slice(F.offset, F.offset + F.size)
            , E = fC.Nj(X);
          E = E ? E : "bmp";
          if (E == "png") {
              var f = fC.ET(E)
                , a = f.c3(X);
              F.l1 = a[0]
          } else {
              var q = fC.ET("BMP").ao_(X, 0)
                , X = j.T(F.ob * F.ua * 4);
              j.X3(new Uint8Array(q.data), new cc(0,0,q.Pi.d,q.Pi.v), X, new cc(0,F.ua,F.ob,F.ua));
              q.data = X.buffer;
              q.Pi.v = F.ua;
              F.l1 = q
          }
          D.push(F)
      }
      D.sort(function(c, K) {
          if (c.ob != K.ob)
              return c.ob - K.ob;
          return c.a6M - K.a6M
      });
      return [D.pop().l1]
  }
  ;
  fC.YK.a7d = function(n, z) {
      var C = {};
      C.ob = n[z];
      z++;
      if (C.ob == 0)
          C.ob = 256;
      C.ua = n[z];
      z++;
      if (C.ua == 0)
          C.ua = 256;
      C.agh = n[z];
      z++;
      z++;
      C.a6v = T.Dn(n, z);
      z += 2;
      C.a6M = T.Dn(n, z);
      z += 2;
      C.size = T.YR(n, z);
      z += 4;
      C.offset = T.YR(n, z);
      z += 4;
      return C
  }
  ;
  fC.Xc = {};
  fC.Xc.c3 = function(n) {
      var z = Date.now(), D, K = !0;
      if (j.raw.CH(n.byteLength))
          return [j.raw.adD(n)];
      var C = UTIF.decode(n);
      if (C[0].t33421)
          D = C[0];
      else if (C[0].subIFD && C[0].t271 && C[0].t271[0] == "Hasselblad") {
          D = C[0].subIFD[0];
          D.t33421 = [2, 2]
      } else if (C[0].subIFD && C[0].subIFD[0].t33421) {
          D = C[0].subIFD[0];
          if (D.t50706 == null) {
              if (D.t258[0] == 8)
                  D.t258[0] = 12
          }
      } else if (C[0].subIFD && C[0].subIFD[0] && C[0].subIFD[0].t262 && C[0].subIFD[0].t262[0] == 34892)
          D = C[0].subIFD[0];
      else if (C[0].subIFD && C[0].subIFD[1] && C[0].subIFD[1].t33421)
          D = C[0].subIFD[1];
      else if (C[0].subIFD && C[0].subIFD[2] && C[0].subIFD[2].t33421)
          D = C[0].subIFD[2];
      else if (C[3] && C[3].t50648) {
          var F = C[0].exifIFD
            , X = F.makerNote;
          D = C[3];
          var E = X.t224[1]
            , f = X.t224[2];
          D.t256 = [E];
          D.t257 = [f];
          D.t258 = [16];
          D.t259 = [7];
          D.t262 = [32803];
          D.t277 = [1];
          D.t33421 = [2, 2];
          var a = D.t50656[0]
            , q = j.raw.U0[a];
          if (q == null)
              throw "e";
          D.t33422 = q
      }
      if (D) {
          UTIF.decodeImage(n, D, C);
          for (var c in C[0])
              if ((c[0] == "t" || c[0] == "e" || c[0] == "d") && D[c] == null)
                  D[c] = C[0][c];
          D.hg = C[0].t274 ? C[0].t274[0] : 1;
          return [D]
      }
      var R = 1 / 256;
      for (var M = 0; M < C.length; M++)
          if (C[M].t258 && C[M].t258[0] == 16 && C[M].t277 && C[M].t277[0] == 1) {} else
              K = !1;
      if (K) {
          var J = 0
            , w = 0
            , p = 0;
          for (var M = 0; M < C.length; M++) {
              UTIF.decodeImage(n, C[M], C);
              var I = C[M].data;
              for (var m = 0; m < I.length; m += 2) {
                  var A = I[m + 1] << 8 | I[m];
                  if (A > J)
                      J = A;
                  w += A;
                  p++
              }
          }
          R = 1 / 256 * 65535 / (.5 * J + .5 * (2 * w / p))
      }
      var U = [];
      for (var M = 0; M < C.length; M++) {
          var r = C[M]
            , $ = 72;
          UTIF.decodeImage(n, r, C);
          var k = r.t282
            , G = r.t296;
          if (k != null && G != null) {
              $ = k[0][0] / k[0][1];
              if (G[0] == 3)
                  $ = Math.round($ / 2.54)
          }
          if (r.width == null)
              continue;
          var i = UTIF.toRGBA8(r, R).buffer
            , o = hb.iD(r);
          U.push({
              Pi: new cc(0,0,r.width,r.height),
              data: i,
              $M: $,
              _q: o
          })
      }
      return U
  }
  ;
  fC.Xc.c0 = function(n, z, C, D) {
      if (D == null)
          D = [!1];
      var F = {}
        , X = n[0];
      if (X[3] != null && D[0])
          F = hb.t3(X[3]);
      if (X[2] != null) {
          F.t282 = F.t283 = [[Math.round(X[2]), 1]];
          F.t296 = [2]
      }
      return UTIF.encodeImage(X[0], z, C, F)
  }
  ;
  fC.jL = {};
  fC.jL.Jz = !0;
  fC.jL.c3 = function(n, z) {
      bY.vC(n, z)
  }
  ;
  fC.jL.afe = function(n, z, C, D) {
      if (D == null)
          D = [!1, !1, !1, !1];
      if (!D[0])
          n.Wc();
      var F = new cL
        , X = bY.OK(n, F, D);
      return [F.data.buffer, X]
  }
  ;
  fC.jL.c0 = function(n, z, C, D) {
      var F = fC.jL.afe(n, z, C, D)
        , X = F[0]
        , E = F[1];
      return X.byteLength == E ? X : X.slice(0, E)
  }
  ;
  fC.i2 = {};
  fC.i2.Jz = !0;
  fC.i2.c3 = function(n, z) {
      var C = pako.inflate(new Uint8Array(n))
        , D = T.ij(C, 0)
        , F = T.ij(C, 2)
        , X = 4;
      z.d = T.q(C, X);
      X += 4;
      z.v = T.q(C, X);
      X += 4;
      z.buffer = j.T(z.d * z.v * 4);
      var E = T.ij(C, X);
      X += 2;
      X += 4;
      for (var f = 0; f < E; f++) {
          var a = z.gl()
            , w = 0
            , Z = 1
            , d = 2
            , g = 3
            , Y = 0;
          z.W.push(a);
          var q = T.q(C, X);
          X += 4;
          var c = X
            , K = T.ij(C, c);
          c += 2;
          var R = T.iS(C, c, K);
          c += K;
          a.CZ(R);
          var J = C[c];
          c++;
          if (J != 0 && J != 1)
              throw J;
          a.rect.x = T.Rt(C, c);
          c += 4;
          a.rect.y = T.Rt(C, c);
          c += 4;
          a.rect.d = T.q(C, c);
          c += 4;
          a.rect.v = T.q(C, c);
          c += 4;
          if (D > 3) {
              w = T.Rt(C, c);
              c += 4
          }
          a.opacity = Math.round(255 * C[c] / 100);
          c++;
          var p = C[c];
          c++;
          a.Hu(p != 0);
          a.Gx = "norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[C[c]];
          c++;
          var I = C[c];
          c++;
          if (I)
              a.add.lspf = 1 << 31;
          if (D > 3) {
              var m = T.ij(C, c);
              c += 2;
              if (m != 0) {
                  var A = JSON.parse(T.iS(C, c, m));
                  c += m;
                  var U = A.text
                    , r = A.textSettings
                    , $ = r.font
                    , k = r.size
                    , G = r.padding
                    , i = parseInt(r.color.slice(1), 16);
                  a.add.lnsr = "rend";
                  a.add.TySh = bZ.uZ(0, 0);
                  a.add.TySh.jk = new cc(0,0,100,100);
                  var o = a.add.TySh.Z = new b6
                    , S = a.rect.d / 2
                    , H = a.rect.v / 2;
                  o.translate(-S, -H);
                  o.rotate(-w * Math.PI / 180);
                  o.translate(S, H);
                  o.translate(a.rect.x + G, a.rect.y + G);
                  var e = a.add.TySh.uR;
                  bZ.qf(e, 1);
                  bZ.u6(e, [0, 0, a.rect.d - G * 2, a.rect.v]);
                  bZ.rZ(e, 0, U);
                  var V = bZ.jj(e, 0, 1);
                  V.I$.FontSize = k;
                  V.I$.FillColor = {
                      Type: 1,
                      Values: [1, (i >>> 16 & 255) / 255, (i >>> 8 & 255) / 255, (i >>> 0 & 255) / 255]
                  };
                  if (r.bold)
                      $ += "-Bold";
                  bZ.I9(V, $);
                  V.t_.Justification = ["left", "right", "center"].indexOf(r.align);
                  bZ.YI(e, 0, U.length, V)
              }
          }
          var v = T.q(C, c);
          c += 4;
          if (v != a.rect.t() * 4) {
              for (var M = a.rect.d; M > a.rect.d / 2; M--) {
                  var B = v / (M * 4);
                  if (B == Math.round(B)) {
                      a.rect.d = M;
                      a.rect.v = B;
                      break
                  }
              }
          }
          a.buffer = j.T(a.rect.t() * 4);
          if (D > 3) {
              Z = 0;
              d = 1;
              g = 2;
              Y = 3
          }
          for (var M = 0; M < v; M += 4) {
              a.buffer[M] = C[c + M + Z];
              a.buffer[M + 1] = C[c + M + d];
              a.buffer[M + 2] = C[c + M + g];
              a.buffer[M + 3] = C[c + M + Y]
          }
          c += v;
          var L = T.q(C, c);
          c += 4;
          if (L == 0 && D > 3) {
              X += q;
              continue
          }
          var _ = C[c];
          c++;
          var b = T.ij(C, c);
          c += 2;
          if (L != 0) {
              a.z = new Q.im;
              a.z.rect = a.rect.clone();
              a.z.channel = j.T(a.rect.t());
              for (var M = 0; M < L; M += 4)
                  a.z.channel[M >>> 2] = C[c + M + 1];
              c += L
          }
          if (_ != 0) {
              var x = JSON.parse(g$.default);
              a.add.lmfx = x;
              for (var M = 0; M < g$.order.length; M++)
                  x[g$.IT[M]] = {
                      t: "VlLs",
                      v: []
                  };
              var W = {
                  "102": 9,
                  "101": 2,
                  "103": 0,
                  "104": 3,
                  "105": 8
              };
              for (var M = 0; M < _; M++) {
                  var g6 = T.ij(C, c)
                    , fY = c + g6 + 4
                    , f3 = C.slice(c, fY)
                    , hK = C[c + 2];
                  c += 3;
                  var s = W[hK + ""]
                    , P = JSON.parse(g$.g$[s]);
                  x[g$.IT[s]].v.push({
                      t: "Objc",
                      v: P
                  });
                  if (s != 0) {
                      P.Md.v.BlnM = hr.v2("norm");
                      P.Opct.v.val = C[c];
                      c++;
                      if (s == 9 || s == 2) {
                          P.Dstn.v.val = C[c + 1];
                          c += 2
                      } else
                          c += 2;
                      P.blur.v.val = Math.round(C[c] * 1.2);
                      c++;
                      if (s == 9 || s == 2) {
                          P.uglg.v = !1;
                          P.lagl.v.val = 180 - T.ij(C, c);
                          c += 2
                      }
                      P.Clr.v = j._.w9({
                          h: C[c + 1],
                          Q: C[c + 2],
                          O: C[c + 3]
                      })
                  } else {
                      P.hglM.v.BlnM = P.sdwM.v.BlnM = hr.v2("norm");
                      c += 2;
                      var aF = C[c++]
                        , fM = C[c++];
                      P.blur.v.val = Math.round(Math.sqrt(fM * aF) * 1.3);
                      P.srgR.v.val = Math.round(100 * aF / fM);
                      P.uglg.v = !1;
                      P.lagl.v.val = 180 - T.ij(C, c);
                      c += 2;
                      P.hglO.v.val = C[c++];
                      P.hglC.v = j._.w9({
                          h: C[c + 1],
                          Q: C[c + 2],
                          O: C[c + 3]
                      });
                      c += 4;
                      P.sdwO.v.val = C[c++];
                      P.sdwC.v = j._.w9({
                          h: C[c + 1],
                          Q: C[c + 2],
                          O: C[c + 3]
                      });
                      c += 4
                  }
                  c = fY
              }
          }
          if (c - X < q) {
              var eA = T.q(C, c)
                , cy = 0;
              c += 4;
              c++;
              var K = T.ij(C, c);
              c += 2;
              var U = T.iS(C, c, K);
              c += K;
              U = U.replace(/\r/g, "\n");
              var K = T.ij(C, c);
              c += 2;
              var $ = T.iS(C, c, K);
              c += K;
              var k = T.ij(C, c);
              c += 2;
              var e8 = a.rect.x
                , eC = a.rect.d;
              if (eA & 4)
                  cy = 1;
              if (eA & 2)
                  cy = 2;
              var aX = Math.round(k * .4);
              if (cy == 0 || cy == 2)
                  eC += aX;
              if (cy == 1 || cy == 2) {
                  eC += aX;
                  e8 -= aX
              }
              a.add.lnsr = "rend";
              a.add.TySh = bZ.uZ(0, 0);
              a.add.TySh.jk = new cc(0,0,100,100);
              a.add.TySh.Z = new b6(1,0,0,1,e8,a.rect.y + k * .25);
              var e = a.add.TySh.uR;
              bZ.qf(e, 1);
              bZ.u6(e, [0, 0, eC, a.rect.v]);
              bZ.rZ(e, 0, U);
              var V = bZ.jj(e, 0, 1);
              V.I$.FontSize = k;
              V.I$.FillColor = {
                  Type: 1,
                  Values: [1, C[c + 1] / 255, C[c + 2] / 255, C[c + 3] / 255]
              };
              c += 4;
              if (C[c + 5])
                  $ += "-Bold";
              if (C[c + 6])
                  $ += "-Italic";
              bZ.I9(V, $);
              V.t_.Justification = cy;
              c += 8;
              bZ.YI(e, 0, U.length, V)
          }
          X += q
      }
  }
  ;
  fC.XC = {};
  fC.XC.Jz = !0;
  fC.XC.c3 = function(n, z) {
      gn.vC(n, z)
  }
  ;
  fC.Pg = {};
  fC.Pg.Jz = !0;
  fC.Pg.c3 = function(n, z) {
      gM.vC(n, z)
  }
  ;
  fC.nt = {};
  fC.nt.Jz = !0;
  fC.nt.c3 = function(n, z) {
      iH.vC(n, z)
  }
  ;
  fC.kZ = {};
  fC.kZ.Jz = !0;
  fC.kZ.c3 = function(n, z) {
      ga.vC(n, z)
  }
  ;
  fC.PW = {};
  fC.PW.Jz = !0;
  fC.PW.c3 = function(n, z) {
      bp.vC(n, z)
  }
  ;
  fC.wv = {};
  fC.wv.Jz = !0;
  fC.wv.c0 = function(n, z, C, D, F) {
      if (D == null)
          D = [!0, !1, !1, !1, !0, !0];
      var X = iz.h$(n, {
          Rl: D[0],
          hidden: D[1],
          a6P: D[2],
          anJ: D[3],
          names: D[4],
          an4: D[5],
          a3T: z,
          a8N: C
      }, F.E_);
      return X
  }
  ;
  fC.wv.c3 = function(n, z, C) {
      iz.vC(n, z, C)
  }
  ;
  fC.eR = {};
  fC.eR.Jz = !0;
  fC.eR.c3 = function(n, z) {
      var C = 150
        , D = new b6(1,0,0,-1,0,0);
      D.scale(C / 72, C / 72);
      z.$M = C;
      var F = new iO(z,D,!0);
      FromPS.Parse(n, F)
  }
  ;
  fC.Vc = {};
  fC.Vc.Jz = !0;
  fC.Vc.c0 = function(n, z, C, D, F) {
      debugger
      if (D == null)
          D = ["", 100, !1, !1, !1];
      D[5] = ["jpg"];
      var X = new ToPDF;
      gV.h$(n, D, X, F.E_);
      return X.buffer
  }
  ;
  fC.Vc.c3 = function(n, z, C) {
      debugger
      var D = 2;
      while (!0) {
          var F = D * 72
            , X = new b6(1,0,0,-1,0,0);
          X.scale(F / 72, F / 72);
          z.$M = F;
          var E = new iO(z,X,!0);
          FromPDF.Parse(n, E);
          var f = Math.max(z.d, z.v);
          if (C && f < Math.max(C[0], C[1])) {
              z.W = [];
              var a = D;
              while (f * (D / a) < Math.max(C[0], C[1]))
                  D++
          } else
              break
      }
  }
  ;
  fC.tz = {};
  fC.tz.Jz = !0;
  fC.tz.c3 = function(n, z) {
      var C = 72
        , D = new b6(1,0,0,1,0,0);
      D.scale(C / 72, C / 72);
      z.$M = C;
      var F = new iO(z,D,!1);
      FromWMF.Parse(n, F)
  }
  ;
  fC.WU = {};
  fC.WU.RL = !0;
  fC.WU.Jz = !0;
  fC.WU.c0 = function(n, z, C, D, F) {
      if (D == null)
          D = ["", !1, !1, !1];
      D[4] = [];
      var X = new ToEMF;
      gV.h$(n, D, X, F.E_);
      return X.buffer
  }
  ;
  fC.WU.c3 = function(n, z) {
      var C = 72
        , D = new b6(1,0,0,1,0,0);
      D.scale(C / 72, C / 72);
      z.$M = C;
      var F = new iO(z,D,!1);
      FromEMF.Parse(n, F)
  }
  ;
  fC.fl = {};
  fC.fl.Jz = !0;
  fC.fl.c3 = function(n, z) {
      return iJ.vC(n, z)
  }
  ;
  fC.hu = {};
  fC.hu.c3 = function(n, z) {
      var C = cK.vC(n), D = new Uint8Array(n), F = 0, X, E, f, a, q, c, K, R, J = 0, w = 0, p = 0, I = 0, m = 0;
      for (var A = 0; A < C.sub.length; A++) {
          var U = C.sub[A]
            , F = U.A;
          if (U.LH == "BMHD") {
              var r = [];
              for (var M = 0; M < 4; M++)
                  r[M] = T.ij(D, F + 2 * M);
              F += 8;
              a = r[2];
              q = r[3];
              E = r[0];
              f = r[1];
              X = j.T(E * f * 4);
              c = D[F++];
              K = D[F++];
              R = D[F++]
          } else if (U.LH == "CMAP")
              J = F;
          else if (U.LH == "CAMG") {
              var $ = T.q(D, F);
              w = $ & 32768,
              p = $ & 4,
              I = $ & 2048;
              m = $ & 128
          } else if (U.LH == "BODY") {
              var k = E + 15 >>> 4 << 1, G = c + K, i = j.T(k * f * G), e, V, v;
              gt.rE(D, F, U.size, i, 0, i.length);
              var o = c - 2
                , S = (1 << o) - 1
                , H = Math.round(255 / S);
              for (var q = 0; q < f; q++)
                  for (var a = 0; a < E; a++) {
                      var B = 0;
                      for (var Z = 0; Z < G; Z++) {
                          var d = (q * G + Z) * k * 8 + a
                            , g = i[d >>> 3] >>> 7 - (d & 7) & 1;
                          B |= g << Z
                      }
                      var Y = B >>> c
                        , B = B & (1 << c) - 1
                        , M = q * E + a
                        , y = M << 2;
                      if (J != 0) {
                          if (I != 0 && B >>> o != 0) {
                              var L = B >>> o
                                , _ = (B & S) * H;
                              if (L == 1)
                                  v = _;
                              else if (L == 2)
                                  e = _;
                              else if (L == 3)
                                  V = _
                          } else {
                              var _ = J + B * 3;
                              e = D[_ + 0];
                              V = D[_ + 1];
                              v = D[_ + 2]
                          }
                      } else {
                          e = B >>> 0 & 255;
                          V = B >>> 8 & 255;
                          v = B >>> 16 & 255
                      }
                      X[y + 0] = e;
                      X[y + 1] = V;
                      X[y + 2] = v;
                      X[y + 3] = 255
                  }
          }
      }
      return [{
          Pi: new cc(0,0,E,f),
          data: X.buffer
      }]
  }
  ;
  fC.G9 = {};
  fC.G9.Jz = !1;
  fC.G9.c0 = function(n, z, C, D) {
      var F = n[0][4]
        , X = new Uint8Array(n[0][0])
        , E = 2
        , f = F ? !0 : !1
        , a = f ? 4 : 3
        , q = new Uint8Array(z * C * a);
      for (var c = 0; c < C; c++)
          for (var K = 0; K < z; K++) {
              var R = c * z + K << 2
                , J = ((C - c - 1) * z + K) * a;
              q[J] = X[R + 2];
              q[J + 1] = X[R + 1];
              q[J + 2] = X[R + 0];
              if (f)
                  q[J + 3] = F[0][c * z + K]
          }
      if (!0) {
          var w = q.length
            , p = 0
            , I = new Uint8Array(w * 2)
            , m = 0
            , A = 0
            , U = z * a;
          while (A < w) {
              var r = A
                , $ = 0
                , k = U * (Math.floor(A / U) + 1);
              while (r < k && $ < 128) {
                  var G = !0;
                  for (var M = 0; M < a; M++)
                      G = G & q[A + M] == q[r + M];
                  if (!G)
                      break;
                  r += a;
                  $++
              }
              if ($ == 1) {
                  var i = 1;
                  while (i < 128 && A + (i + 1) * a < k) {
                      var G = !0
                        , o = A + i * a;
                      for (var M = 0; M < a; M++)
                          G = G & q[o + M] == q[o + a + M];
                      if (G)
                          break;
                      i++
                  }
                  I[m++] = i - 1;
                  for (var S = 0; S < i; S++)
                      for (var M = 0; M < a; M++)
                          I[m++] = q[A++]
              } else {
                  I[m++] = 127 + $;
                  for (var M = 0; M < a; M++)
                      I[m + M] = q[A + M];
                  m += a;
                  A += a * $;
                  p += $
              }
          }
          q = I.slice(0, m);
          E += 8
      }
      var H = new Uint8Array(18 + q.length + 26);
      H[2] = E;
      T.Se(H, 12, z);
      T.Se(H, 14, C);
      H[16] = a * 8;
      H[17] = a == 4 ? 8 : 0;
      H.set(q, 18);
      T.ji(H, 18 + q.length + 8, "TRUEVISION-XFILE.");
      return H.buffer
  }
  ;
  fC.G9.c3 = function(n) {
      var z = new Uint8Array(n)
        , C = 0
        , D = z[0]
        , F = z[1]
        , X = z[2]
        , E = z[4] * 256 + z[3]
        , f = z[6] * 256 + z[5]
        , a = z[7]
        , q = z[9] * 256 + z[8]
        , c = z[11] * 256 + z[10]
        , K = z[13] * 256 + z[12]
        , R = z[15] * 256 + z[14]
        , J = z[16]
        , w = z[17]
        , p = w >>> 4
        , I = T.uL(z, 18, D)
        , m = j.T(K * R * 4)
        , C = 18 + D + (f * a >>> 3)
        , A = new Uint8Array(z.buffer,C);
      if (X > 3) {
          var U = 0
            , r = z
            , $ = new Uint8Array(K * R * J >>> 3)
            , k = C
            , G = 0
            , i = z.length
            , o = J >>> 3;
          while (G < $.length) {
              var h = r[k];
              k++;
              if (h < 128)
                  for (var M = 0; M < h + 1; M++) {
                      for (var S = 0; S < o; S++) {
                          $[G] = r[k];
                          G++;
                          k++
                      }
                  }
              else {
                  for (var M = 0; M < h - 127; M++) {
                      for (var S = 0; S < o; S++) {
                          $[G] = r[k + S];
                          G++
                      }
                  }
                  k += o
              }
          }
          X -= 8;
          A = $;
          C = k
      } else
          C += K * R * J >>> 3;
      var H = new Uint8Array(4)
        , e = fC.G9.aiY;
      for (var V = 0; V < R; V++)
          for (var v = 0; v < K; v++) {
              var B = (p & 2) == 0 ? (R - V - 1) * K + v : V * K + v, Z = V * K + v, d, g, Y, y = 255, L = B * J >>> 3;
              if (X == 1) {
                  var _ = 0;
                  if (J == 8)
                      _ = A[L];
                  else
                      throw "e";
                  e(z, 18 + D + E + (_ * a >>> 3), a, H);
                  d = H[0];
                  g = H[1];
                  Y = H[2];
                  y = H[3]
              } else if (X == 2) {
                  e(A, L, J, H);
                  d = H[0];
                  g = H[1];
                  Y = H[2];
                  y = H[3]
              } else if (X == 3) {
                  if (J == 8)
                      d = g = Y = A[L];
                  else
                      throw "e"
              }
              var b = Z * 4;
              m[b] = d;
              m[b + 1] = g;
              m[b + 2] = Y;
              m[b + 3] = y
          }
      var H = {
          Pi: new cc(0,0,K,R),
          data: m.buffer,
          Dt: I
      };
      if (j.VC(m)) {
          var x = j.T(K * R);
          j.Ni(m, x, 3);
          j.xM(m, 4278190080, 16777215);
          H.fD = [x]
      }
      return [H]
  }
  ;
  fC.G9.aiY = function(n, z, C, D) {
      var F, X, E, f = 255;
      if (C == 24 || C == 32) {
          E = n[z];
          X = n[z + 1];
          F = n[z + 2];
          if (C == 32)
              f = n[z + 3]
      } else if (C == 16) {
          var a = n[z + 1] << 8 | n[z + 0];
          F = a >>> 10 & 31;
          X = a >>> 5 & 31;
          E = a >>> 0 & 31;
          F = Math.round(F * (255 / 31));
          X = Math.round(X * (255 / 31));
          E = Math.round(E * (255 / 31))
      } else
          throw "e";
      D[0] = F;
      D[1] = X;
      D[2] = E;
      D[3] = f
  }
  ;
  fC.acU = function() {
      var n, z = [], C = !1;
      function D(E, f, a, q) {
          n = a;
          z.push(E, q);
          F()
      }
      function F() {
          if (C || z.length == 0)
              return;
          C = !0;
          fC.ami(z.shift(), "image/avif", X)
      }
      function X(E) {
          n(null, [E], z.shift());
          C = !1;
          F()
      }
      return {
          Jz: !1,
          $U: !0,
          c3: D
      }
  }();
  fC.a6b = function() {
      var n, z = [], C = !1, D, F, X, E, f, a;
      function q(J, w, p, I) {
          n = p;
          z.push(J, I);
          c()
      }
      function c() {
          if (C || z.length == 0)
              return;
          C = !0;
          D = document.createElement("canvas");
          F = D.getContext("2d");
          X = document.createElement("video");
          var J = "data:" + "video/mp4" + ";base64," + fC.hB(z.shift());
          X.src = J;
          X.muted = !0;
          X.currentTime = 0;
          X.addEventListener("canplay", K, !1);
          X.addEventListener("timeupdate", R, !1)
      }
      function K(J) {
          X.removeEventListener("canplay", K);
          E = D.width = X.videoWidth;
          f = D.height = X.videoHeight;
          a = [];
          X.play()
      }
      function R(J) {
          var w = 10;
          F.drawImage(X, 0, 0);
          a.push({
              Dt: "_a_" + a.length + "," + Math.round(1e3 / w),
              Pi: new cc(0,0,E,f),
              data: F.getImageData(0, 0, E, f).data.buffer
          });
          var p = X.currentTime + 1 / w;
          if (p < X.duration)
              X.currentTime = p;
          else {
              n(null, a, z.shift());
              X.removeEventListener("timeupdate", R);
              C = !1;
              c();
              a = null
          }
      }
      return {
          Jz: !1,
          $U: !0,
          c3: q
      }
  }();
  fC.NS = {};
  fC.NS.c3 = function(n) {
      var z = new Uint8Array(n), C = 0, D = 112, F = 42, X = T.YR, c;
      C += 8;
      var E = z[C];
      C++;
      if (E != F)
          throw "e";
      var f = X(z, C);
      C += 4;
      var a = T.Km(z, C, f);
      C += f * 2;
      var q = [];
      while (C < z.length) {
          c = X(z, C);
          C += 4;
          if (c != D)
              throw c;
          C += 4;
          c = z[C];
          C++;
          if (c != F)
              throw c;
          var K = X(z, C);
          C += 4;
          var R = z[C];
          C++;
          if (R != F) {
              C -= 5;
              K = X(z, C);
              C += 8;
              c = z[C];
              C++;
              if (c != F)
                  throw c
          }
          var J = X(z, C) * 2;
          C += 4;
          if (K > 0)
              q.push(C + J);
          C += J + K
      }
      var w = new DOMParser
        , p = w.parseFromString(a, "image/svg+xml").firstChild.firstChild
        , I = [];
      fC.NS.yn(p, z, q, I);
      return I
  }
  ;
  fC.NS.yn = function(n, z, C, D) {
      var F = n.firstChild.firstChild;
      if (F.tagName == "Image") {
          var X = F.getElementsByTagName("ImageDescription")[0]
            , E = X.children[0].children
            , f = X.children[1].children
            , a = C.shift()
            , q = [];
          for (var M = 0; M < f.length; M++)
              q.push(parseInt(f[M].getAttribute("NumberOfElements")));
          while (q.length > 3)
              q[2] *= q.pop();
          var c = E.length
            , K = q[0]
            , R = q[1]
            , J = q[2]
            , w = parseInt(f[0].getAttribute("BytesInc"));
          for (var p = 0; p < J; p++) {
              var I = j.T(K * R * 4);
              j.xM(I, 4278190080);
              for (var m = 0; m < c; m++) {
                  var A = j.T(K * R);
                  if (w == 1)
                      for (var U = 0; U < A.length; U++)
                          A[U] = z[a + U];
                  else if (w == 2)
                      for (var U = 0; U < A.length; U++)
                          A[U] = Math.min(255, (z[a + U * 2 + 1] << 8 | z[a + U * 2]) >>> 2);
                  else
                      throw w;
                  if (m != 3)
                      j.bl(A, I, m);
                  if (c == 1) {
                      j.bl(A, I, 1);
                      j.bl(A, I, 2)
                  }
                  a += K * R * w
              }
              D.push({
                  Pi: new cc(0,0,K,R),
                  data: I.buffer
              })
          }
      } else {
          var r = n.children
            , $ = 0;
          while ($ < r.length && r[$].tagName != "Children")
              $++;
          if ($ == r.length)
              throw "e";
          r = r[$].children;
          for (var k = 0; k < r.length; k++)
              fC.NS.yn(r[k], z, C, D)
      }
  }
  ;
  fC.lD = {};
  fC.lD.c3 = function(n) {
      var z = new Uint8Array(n)
        , C = 0
        , D = {}
        , c = 1e9;
      for (var M = 0; M < 306; M++) {
          var F = T.uL(z, C, 8).trim()
            , X = T.uL(z, C + 9, 71).split("/")[0].trim();
          D[F] = X;
          C += 80;
          if (F == "END") {
              C = Math.ceil(C / 2880) * 2880;
              break
          }
      }
      var E = parseInt(D.NAXIS1)
        , f = parseInt(D.NAXIS2)
        , a = E * f
        , q = parseInt(D.BITPIX)
        , K = -1e9
        , R = new Float32Array(a)
        , J = new Float32Array(n,C,n.byteLength - C >>> 2);
      for (var M = 0; M < a; M++) {
          var w = M << 2
            , p = M << 1;
          if (q == -32) {
              var I = z[C + w + 0];
              z[C + w + 0] = z[C + w + 3];
              z[C + w + 3] = I;
              var I = z[C + w + 1];
              z[C + w + 1] = z[C + w + 2];
              z[C + w + 2] = I;
              R[M] = J[M]
          } else if (q == 16) {
              R[M] = T.Dn(z, C + p)
          } else
              throw q;
          var m = R[M];
          if (m < c)
              c = m;
          if (m > K)
              K = m
      }
      var A = j.T(a * 4)
        , U = 1 / K;
      for (var r = 0; r < f; r++)
          for (var $ = 0; $ < E; $++) {
              var M = r * E + $
                , k = (f - r - 1) * E + $
                , w = k << 2
                , m = R[M] * U;
              A[w] = A[w + 1] = A[w + 2] = 255 * m;
              A[w + 3] = 255
          }
      return [{
          Pi: new cc(0,0,E,f),
          data: A,
          Dt: D.OBJECT
      }]
  }
  ;
  fC.mK = {};
  fC.mK.c3 = function(n) {
      var z = new Uint8Array(n), C = 16, D = T.uL(z, C, 4), X = 32, m = 0, A = 0, U = !1, g;
      C += 4;
      var F = T.uL(z, C, 8);
      C += 8;
      while (z[C + X - 1] == 0)
          X--;
      var E = T.uL(z, C, X);
      C += 32;
      var f = T.uL(z, C, 4);
      C += 4;
      C += 20;
      var a = T.q(z, C);
      C += 4;
      var q = T.q(z, C);
      C += 4;
      var c = T.q(z, C);
      C += 4;
      var K = T.q(z, C);
      C += 4;
      var R = T.q(z, C);
      C += 4;
      var J = T.q(z, C);
      C += 4;
      var w = "FujiFilm " + E
        , p = [0, 1, 1, 2];
      if (w == "FujiFilm X10") {
          w = "FujiFilm FinePix X10";
          p = [2, 1, 1, 0]
      }
      var I = {
          t271: ["FujiFilm"],
          t272: [w],
          t277: [1],
          t33421: [2, 2],
          t33422: p,
          hg: 1
      };
      C = c;
      var r = []
        , $ = T.ij
        , k = T.q(z, C);
      C += 4;
      for (var M = 0; M < k; M++) {
          var G = $(z, C);
          C += 2;
          var i = $(z, C);
          C += 2;
          if (G == 256) {
              A = $(z, C);
              m = $(z, C + 2)
          } else if (G == 272) {
              r = [$(z, C), $(z, C + 2)]
          } else if (G == 273) {
              r.push($(z, C), $(z, C + 2))
          } else if (G == 304) {
              U = !(z[C] >>> 7)
          } else if (G == 305) {
              var o = Math.round(Math.sqrt(i))
                , S = [];
              for (var H = 0; H < i; H++)
                  S.push(z[C + H]);
              S.reverse();
              I.t33421 = [o, o];
              I.t33422 = S
          } else if (G == 12272) {
              var e = $(z, C)
                , V = $(z, C + 2)
                , v = $(z, C + 6);
              I.t50728 = [e / V, 1, e / v]
          }
          C += i
      }
      var B = m < A
        , Z = z.slice(R, R + J)
        , d = Math.round(J * 8 / (m * A));
      if (Z[0] == 73 && Z[1] == 73 && Z[2] == 42) {
          g = UTIF.decode(Z.buffer)[0].fujiIFD;
          d = g.t61443[0];
          var Y = g.t61454;
          I.t50728 = [Y[0] / Y[1], 1, Y[0] / Y[2]];
          var y = g.t61447[0];
          Z = Z.slice(y, y + g.t61448[0])
      }
      var J = Z.length
        , L = J * 8 < m * A * d;
      if (L)
          alert("Compressed RAF is not supported yet :(");
      function _(fY, f3, hK) {
          hK = hK << 8 - (f3 & 7);
          var s = f3 >>> 3;
          fY[s] |= hK >>> 16;
          fY[s + 1] |= hK >>> 8;
          fY[s + 2] |= hK
      }
      var b = J * 8 / (m * A);
      if (b == 16)
          for (var M = 0; M < J; M += 2) {
              var x = Z[M];
              Z[M] = Z[M + 1];
              Z[M + 1] = x
          }
      else if (b == 14) {
          for (var M = 0; M < J; M += 4) {
              var x = Z[M];
              Z[M] = Z[M + 3];
              Z[M + 3] = x;
              x = Z[M + 1];
              Z[M + 1] = Z[M + 2];
              Z[M + 2] = x
          }
      } else if (b == 12)
          for (var M = 0; M < J; M += 3) {
              var W = Z[M + 2] << 16 | Z[M + 1] << 8 | Z[M + 0];
              W = W >>> 12 | (W & 4095) << 12;
              Z[M] = W >>> 16 & 255;
              Z[M + 1] = W >>> 8 & 255;
              Z[M + 2] = W & 255
          }
      if (B)
          Z = fC.mK.a2V(Z, m, A);
      var g6 = B ? 2 : 1;
      m *= g6;
      I.t256 = [m];
      I.t257 = [A];
      I.t258 = [d];
      I.t50719 = [r[1], r[0] * g6];
      I.t50720 = [r[3], r[2] * g6];
      I.width = m;
      I.height = A;
      I.data = new Uint8Array(Z.buffer);
      return [I]
  }
  ;
  fC.mK.a2V = function(n, z, C) {
      n = new Uint16Array(n.buffer);
      var D = new Uint16Array(z * C * 2);
      for (var F = 0; F < C; F += 2)
          for (var X = 0; X < z; X++) {
              var E = F * z + X
                , f = E * 2
                , a = n[E]
                , q = n[E + z];
              D[f + 1] = D[f + 2 * z] = q;
              if (((F >>> 1) + X & 1) == 0) {
                  D[f] = a;
                  D[f + 2 * z + 1] = n[E + 1]
              } else {
                  D[f] = n[E - 1];
                  D[f + 2 * z + 1] = a
              }
          }
      return D
  }
  ;
  fC.Kt = {};
  fC.Kt.RL = !0;
  fC.Kt.c0 = function(n, z, C, D) {
      var F = new Uint8Array(n[0][0])
        , X = z * C
        , E = [1, 3, 4][D[0]]
        , f = 8 + 8 * D[1]
        , a = D[2];
      if (E == 1) {
          var q = new Uint8Array(z * C);
          j.Ni(F, q, 0);
          F = q
      }
      if (E == 3) {
          var q = new Uint8Array(z * C * 3);
          for (var M = 0; M < X; M++) {
              var c = M * 4
                , K = M * 3;
              q[K] = F[c];
              q[K + 1] = F[c + 1];
              q[K + 2] = F[c + 2]
          }
          F = q
      }
      if (f == 16) {
          var R = F.length
            , q = new Uint8Array(R * 2);
          for (var M = 0; M < R; M++) {
              var J = Math.round(F[M] * (65535 / 255));
              q[M * 2 + a] = J >>> 8;
              q[M * 2 + 1 - a] = J & 255
          }
          F = q
      }
      return F.buffer
  }
  ;
  fC.dU = {};
  fC.dU.c3 = function(n, z) {
      function C(a) {
          return ~~(.5 + j.z0(Math.max(0, Math.min(1, a))) * 255)
      }
      var D = EXRLoader.parse(n)
        , F = D.width
        , X = D.height
        , E = j.T(F * X * 4);
      for (var f = 0; f < X; f++)
          for (var a = 0; a < F; a++) {
              var M = (f * F + a) * 4
                , q = ((X - f - 1) * F + a) * 4;
              E[M] = C(D.data[q + 0]);
              E[M + 1] = C(D.data[q + 1]);
              E[M + 2] = C(D.data[q + 2]);
              E[M + 3] = C(D.data[q + 3])
          }
      return [{
          Pi: new cc(0,0,F,X),
          data: E.buffer
      }]
  }
  ;
  fC.fq = {};
  fC.fq.RL = !0;
  fC.fq.Jz = !0;
  fC.fq.c0 = function(n, z, C, D, F) {
      D = ["", 100, !1, !1, !1];
      D[5] = ["jpg"];
      var X = new ToDXF;
      gV.h$(n, D, X, F.E_);
      return X.buffer
  }
  ;
  fC.fq.c3 = function(n, z) {
      var C = 72
        , D = new b6(1,0,0,1,0,0);
      D.scale(C / 72, C / 72);
      z.$M = C;
      var F = new iO(z,D,!1);
      FromDXF.Parse(n, F)
  }
  ;
  fC.IM = {};
  fC.IM.c3 = function() {
      var n = T.Dn, z = T.YR, C = T.uL, D;
      function F(E, f, a, q, c) {
          var K = z(E, a)
            , R = z(E, a + 4)
            , J = z(E, a + 8)
            , w = n(E, a + 12)
            , p = n(E, a + 14);
          a += 16;
          var I = {};
          for (var M = 0; M < w + p; M++) {
              var m = z(E, a), A = z(E, a + 4), U, r;
              if (m >>> 31 == 1) {
                  m = m & 16777215
              }
              if (M < w)
                  U = T.Km(E, f + m + 2, n(E, f + m));
              else
                  U = "id" + m;
              var $ = q.slice(0);
              $.push(U);
              if (A >>> 31 == 1) {
                  A = A & 268435455;
                  r = F(E, f, f + A, $, c)
              } else {
                  var k = z(E, f + A)
                    , G = z(E, f + A + 4)
                    , i = z(E, f + A + 8)
                    , o = z(E, f + A + 12);
                  if (o != 0)
                      throw "e";
                  if (k < c[0] || k > c[0] + c[1])
                      throw "e";
                  var S = c[2] + k - c[0];
                  r = E.slice(S, S + G);
                  var H = fC.Nj(r.buffer);
                  if (H && ["bmp", "png", "ico"].indexOf(H) != -1) {
                      var e = fC.ET(H);
                      if (!e.Jz) {
                          var V = null;
                          try {
                              V = e.c3(r.buffer)
                          } catch (aC) {}
                          if (V) {
                              V[0].Dt = $[1];
                              D.push(V[0])
                          }
                      }
                  } else if (H)
                      console.log(H)
              }
              I[U] = r;
              a += 8
          }
          return I
      }
      function X(E) {
          D = [];
          var f = new Uint8Array(E)
            , a = 0
            , q = n(f, a);
          a += 2;
          a += 58;
          var c = z(f, a);
          a += 4;
          a = c;
          var K = C(f, a, 4);
          a += 4;
          var R = n(f, a);
          a += 2;
          var J = n(f, a);
          a += 2;
          var w = z(f, a);
          a += 4;
          var p = z(f, a);
          a += 4;
          var I = z(f, a);
          a += 4;
          var m = n(f, a);
          a += 2;
          var A = n(f, a);
          a += 2;
          a += m;
          var U = {};
          for (var M = 0; M < J; M++) {
              var r = a;
              while (f[r] != 0)
                  r++;
              var $ = C(f, a, r - a)
                , k = z(f, a + 8)
                , G = z(f, a + 12)
                , i = z(f, a + 16)
                , o = z(f, a + 20)
                , S = z(f, a + 24)
                , H = z(f, a + 28)
                , e = n(f, a + 32)
                , V = n(f, a + 34)
                , A = z(f, a + 36);
              U[$] = [G, k, o, i, A];
              if (S + H != 0)
                  throw "e";
              a += 40
          }
          for (var v in U) {
              var B = U[v];
              a = B[2];
              if (v == ".rsrc") {
                  var Z = F(f, a, a, [], B)
                    , d = "id134"
              }
          }
          return D
      }
      return X
  }();
  fC.cO = {};
  fC.cO.Jz = !0;
  fC.cO.c3 = function(n, z) {
      debugger
      aU.vC(n, z)
  }
  ;
  (function() {
      var n = fC.Ej.get("wasm/zstd").buffer;
      WebAssembly.instantiate(n).then(function(z) {
          var C = z.instance.exports;
          fC.cO.a2i = C
      })
  }());
  fC.Sl = {};
  fC.Sl.Jz = !0;
  fC.Sl.c3 = function() {
      var n = 0, z = 1, C = 2, D = 3, F = 4, X = 5, E = 6, f = 7, a = 1, q = 2, c = 7, K = 8, R = 9, J, w, p, I, m;
      function A() {
          var h = T.rK(J, w);
          w += 4;
          return h
      }
      function U() {
          var g = 0
            , Y = 0;
          for (var M = 0; M < 5; M++) {
              var y = J[w++];
              g += (y & 127) << Y;
              Y += 7;
              if ((y & 128) == 0)
                  break
          }
          return g
      }
      function r() {
          var g = U()
            , Y = T.iS(J, w, g);
          w += g;
          return Y
      }
      function $() {
          return {
              typeName: r(),
              adB: A()
          }
      }
      function k() {
          var g = A()
            , Y = r()
            , y = []
            , L = A();
          for (var M = 0; M < L; M++)
              y.push([r()]);
          return {
              id: g,
              L9: Y,
              ai8: y
          }
      }
      function G(g) {
          var Y = g.ai8
            , y = [];
          for (var M = 0; M < Y.length; M++)
              Y[M].push(J[w++]);
          for (var M = 0; M < Y.length; M++) {
              var L = Y[M][1], _;
              Y[M].push(i(L))
          }
      }
      function i(g) {
          var Y;
          if (g == n)
              Y = J[w++];
          else if (g == D)
              Y = r();
          else if (g == F)
              Y = $();
          else if (g == z || g == C || g == E || g == X) {} else
              throw g;
          return Y
      }
      function o(g, Y, y) {
          var L;
          if (g == n) {
              if (Y == a)
                  L = J[w++] == 1;
              else if (Y == q) {
                  L = J[w++]
              } else if (Y == K)
                  L = A();
              else if (Y == R) {
                  L = A();
                  A()
              } else
                  throw Y
          } else if (g == D) {
              L = V(y + 1)
          } else if (g == F) {
              L = V(y + 1)
          } else if (g == X) {
              L = V(y + 1)
          } else if (g == z) {
              L = V(y + 1)
          } else if (g == E) {
              L = V(y + 1)
          } else
              throw g;
          return L
      }
      function S(g, Y) {
          var y = p["c" + g]
            , L = y.ai8
            , _ = {
              _class: y.L9
          };
          for (var M = 0; M < L.length; M++) {
              var b = L[M]
                , x = b[1]
                , W = b[2]
                , g6 = o(x, W, Y)
                , fY = b[0];
              _[fY] = g6
          }
          return _
      }
      function H(g, Y, y, L) {
          var _ = [];
          for (var M = 0; M < g; M++) {
              var b = o(Y, y, L);
              if (b.x2 && b.x2 == "null_count") {
                  var x = b.b2;
                  for (var W = 0; W < x; W++)
                      _.push(null);
                  M += x - 1
              } else
                  _.push(b)
          }
          return _
      }
      function e() {
          return [A(), A()]
      }
      function V(g) {
          if (g == null)
              throw "e";
          var Y = null
            , y = J[w]
            , L = null;
          w++;
          if (y == 0) {
              var _ = A()
                , b = A()
                , x = A()
                , W = A();
              Y = [_, b, x, W]
          } else if (y == 1) {
              L = A();
              var g6 = A();
              Y = S(g6, g)
          } else if (y == 4) {
              var fY = k();
              L = fY.id;
              G(fY);
              p["c" + fY.id] = fY;
              Y = S(fY.id, g)
          } else if (y == 5) {
              var fY = k();
              L = fY.id;
              G(fY);
              var f3 = A();
              p["c" + fY.id] = fY;
              Y = S(fY.id, g)
          } else if (y == 6) {
              L = A();
              var hK = r();
              Y = hK
          } else if (y == 7) {
              L = A();
              var s = J[w++];
              if (s != 0)
                  throw s;
              var P = A();
              if (P != 1)
                  throw P;
              var aF = A()
                , fM = J[w++]
                , eA = i(fM);
              Y = H(aF, fM, eA, g)
          } else if (y == 9) {
              var e8 = A();
              Y = {
                  x2: "ref",
                  b2: e8
              };
              m["o" + e8] = !0
          } else if (y == 10) {
              Y = {
                  x2: "null_count",
                  b2: 1
              }
          } else if (y == 11) {
              Y = {
                  x2: "end"
              }
          } else if (y == 12) {
              var f3 = A()
                , eC = r()
          } else if (y == 13) {
              var cy = J[w++];
              Y = {
                  x2: "null_count",
                  b2: cy
              }
          } else if (y == 16) {
              var aX = e();
              L = aX[0];
              Y = H(aX[1], F, null, g)
          } else if (y == 17) {
              var aX = e();
              L = aX[0];
              Y = H(aX[1], z, null, g)
          } else
              throw "e";
          if (L != null && L > 0) {
              if (I["o" + L] != null)
                  throw "e";
              I["o" + L] = Y
          }
          return Y
      }
      function v(g, I) {
          if (g instanceof Array) {
              for (var M = 0; M < g.length; M++)
                  g[M] = B(g[M], I)
          } else if (g instanceof Object) {
              for (var Y in g)
                  g[Y] = B(g[Y], I)
          }
      }
      function B(g, I) {
          if (g && g.x2 && g.x2 == "ref")
              return I["o" + g.b2];
          else
              return g
      }
      function Z(g, Y, y) {
          J = new Uint8Array(g);
          w = 0;
          p = {};
          I = {};
          m = {};
          var L = T.uL(J, 0, 4);
          if (L != "PDN3")
              throw L;
          w += 4;
          var _ = T.Dn(J, w) + J[w + 2] * 256 * 256;
          w += 3;
          var b = T.uL(J, w, _);
          w += _;
          w += 2;
          while (!0) {
              var x = V(0);
              if (x && x.x2 && x.x2 == "end")
                  break
          }
          for (var W in m)
              if (I[W] == null)
                  throw W;
          for (var W in I)
              v(I[W], I);
          var g6 = I.o1;
          console.log(g6);
          Y.d = g6.width;
          Y.v = g6.height;
          Y.buffer = j.T(Y.d * Y.v * 4);
          var fY = g6.layers["ArrayList+_items"];
          for (var M = 0; M < fY.length; M++) {
              var f3 = fY[M];
              if (f3 == null)
                  continue;
              console.log(f3);
              var hK = f3["Layer+width"]
                , s = f3["Layer+height"]
                , P = f3["Layer+properties"]
                , aF = f3.properties
                , fM = aF.blendOp._class.split("+").pop();
              fM = fM.slice(0, fM.length - 7);
              var eA = {
                  Normal: "norm",
                  Multiply: "mul ",
                  Additive: "lddg",
                  ColorBurn: "idiv",
                  ColorDodge: "div ",
                  Reflect: "lddg",
                  Glow: "hMix",
                  Overlay: "over",
                  Difference: "diff",
                  Negation: "smud",
                  Lighten: "lite",
                  Darken: "dark",
                  Screen: "scrn",
                  Xor: "smud"
              }[fM]
                , e8 = Y.gl();
              e8.CZ(P.name);
              e8.opacity = P.opacity;
              e8.Hu(P.visible);
              e8.Gx = eA;
              var eC = 1 << 16
                , cy = Math.ceil(hK * s / eC);
              e8.rect = new cc(0,0,hK,s);
              e8.buffer = j.T(hK * s * 4);
              var aX = e8.buffer;
              w += 5;
              for (var j0 = 0; j0 < cy; j0++) {
                  var aT = d();
                  aX.set(aT[1], aT[0] * eC * 4)
              }
              for (var a4 = 0; a4 < aX.length; a4 += 4) {
                  var f8 = aX[a4 + 0];
                  aX[a4 + 0] = aX[a4 + 2];
                  aX[a4 + 2] = f8
              }
              Y.W.push(e8)
          }
      }
      function d() {
          var g = T.q(J, w);
          w += 4;
          var Y = T.q(J, w);
          w += 4;
          var y = pako.inflateRaw(J.slice(w + 10));
          w += Y;
          return [g, y]
      }
      return Z
  }();
  function j() {}
  j.l = {};
  j.aft = function() {
      var n = [64, 64, 128, 256, 512, 1024, 2048]
        , z = [];
      for (var M = 0; M < n.length; M++) {
          var C = n[M]
            , D = document.createElement("canvas");
          D.width = C;
          D.height = C;
          z.push(D.getContext("2d"))
      }
      return z
  }();
  j.ur = function(n, z) {
      var C, D = j.aft, M = 1, F = Math.max(n, z);
      while (M < D.length && F > D[M].canvas.width)
          M++;
      if (M == D.length) {
          C = D[0];
          var X = C.canvas;
          X.width = n;
          X.height = z
      } else {
          C = D[M];
          C.clearRect(0, 0, n, z)
      }
      return C
  }
  ;
  j.K4 = function(n, z, C) {
      var D = {}
        , F = 0
        , X = 0
        , E = new Uint32Array(n.buffer)
        , f = E.length
        , a = Date.now();
      for (var q = 1; q < C - 1; q++)
          for (var c = 1; c < z - 1; c++) {
              var K = q * z + c
                , R = E[K];
              if (R >>> 24 < 230)
                  X++;
              if (D[R] == null) {
                  D[R] = !0;
                  F++
              }
          }
      if (X != 0 || F < 20)
          return !1;
      return !0
  }
  ;
  j.BJ = function(n, z, C, D, F, X) {
      if (F == null)
          F = X = 0;
      D = Math.log(D) / Math.log(2);
      D = Math.round(D);
      for (var M = 0; M < C; M++)
          for (var E = 0; E < z; E++) {
              var f = M * z + E << 2
                , a = j.WJ(M + X, E + F, D);
              n[f] = n[f + 1] = n[f + 2] = a;
              n[f + 3] = 255
          }
  }
  ;
  j.WJ = function(M, n, z) {
      return 255 - ((M >>> z) + (n >>> z) & 1) * 51
  }
  ;
  j.JY = function(n) {
      var z = n.toString(16);
      while (z.length < 6)
          z = "0" + z;
      return z
  }
  ;
  j.xz = function(n) {
      return parseInt(n, 16)
  }
  ;
  j.xj = function(n) {
      return .3 * n.h + .59 * n.Q + .11 * n.O
  }
  ;
  j.cg = function(n) {
      return Math.max(n.h, n.Q, n.O) - Math.min(n.h, n.Q, n.O)
  }
  ;
  j.Rg = function(n, z, C) {
      return .3 * n + .59 * z + .11 * C
  }
  ;
  j.a8x = function(n, z, C) {
      return Math.max(n, z, C) - Math.min(n, z, C)
  }
  ;
  j.Qg = function(n, z) {
      var C = z - n
        , D = Math.abs(C)
        , F = C - 1
        , X = C + 1;
      if (Math.abs(F) < D)
          C = F;
      else if (Math.abs(X) < D)
          C = X;
      return C
  }
  ;
  j.z0 = function(n) {
      return n < .0031308 ? 12.92 * n : 1.055 * Math.pow(n, 1 / 2.4) - .055
  }
  ;
  j.ap1 = function(n) {
      return n < .04045 ? n / 12.92 : Math.pow((n + .055) / 1.055, 2.4)
  }
  ;
  j.apz = function(n, z) {
      var C = Math.min(n.length, z.length);
      for (var M = 0; M < C; M += 4) {
          var D = n[M]
            , F = n[M + 1]
            , X = n[M + 2];
          z[M] = 16 + Math.floor(65.481 / 255 * D + 128.553 / 255 * F + 24.966 / 255 * X + .5);
          z[M + 1] = 128 - Math.floor(37.797 / 255 * D - 74.203 / 255 * F + 112 / 255 * X + .5);
          z[M + 2] = 128 + Math.floor(112 / 255 * D - 93.786 / 255 * F - 18.214 / 255 * X + .5);
          z[M + 3] = n[M + 3]
      }
  }
  ;
  j.vu = function(n, z, C) {
      var D = Math.max(n, z, C)
        , F = Math.min(n, z, C)
        , X = 0
        , E = 0
        , f = (D + F) * .5;
      if (D != F) {
          var a = D - F;
          E = f > .5 ? a / (2 - (D + F)) : a / (D + F);
          switch (D) {
          case n:
              X = (z - C) / a + (z < C ? 6 : 0);
              break;
          case z:
              X = (C - n) / a + 2;
              break;
          case C:
              X = (n - z) / a + 4;
              break
          }
          X *= 1 / 6
      }
      return {
          ua: X,
          ZP: E,
          rN: f
      }
  }
  ;
  j.QX = function(n, z, C) {
      var D, F, X;
      if (z == 0)
          D = F = X = C;
      else {
          var E = C < .5 ? C * (1 + z) : C + z - C * z
            , f = 2 * C - E;
          D = j.y4(f, E, n + 1 / 3);
          F = j.y4(f, E, n);
          X = j.y4(f, E, n - 1 / 3)
      }
      return {
          h: D,
          Q: F,
          O: X
      }
  }
  ;
  j.y4 = function(n, z, C) {
      if (C < 0)
          C += 1;
      if (C > 1)
          C -= 1;
      if (C < 1 / 6)
          return n + (z - n) * 6 * C;
      if (C < 1 / 2)
          return z;
      if (C < 2 / 3)
          return n + (z - n) * (2 / 3 - C) * 6;
      return n
  }
  ;
  j.GV = function(n, z, C) {
      var D = Math.max(n, z, C), F = Math.min(n, z, C), X, E, f = D, a = D - F;
      E = D == 0 ? 0 : a / D;
      if (D == F)
          X = 0;
      else {
          switch (D) {
          case n:
              X = (z - C) / a + (z < C ? 6 : 0);
              break;
          case z:
              X = (C - n) / a + 2;
              break;
          case C:
              X = (n - z) / a + 4;
              break
          }
          X *= 1 / 6
      }
      return {
          ua: X,
          ZP: E,
          b2: f
      }
  }
  ;
  j.X9 = function(n, z, C) {
      var D, F, X, M, E, f, a, q;
      M = Math.floor(n * 6);
      E = n * 6 - M;
      f = C * (1 - z);
      a = C * (1 - E * z);
      q = C * (1 - (1 - E) * z);
      switch (M % 6) {
      case 0:
          D = C,
          F = q,
          X = f;
          break;
      case 1:
          D = a,
          F = C,
          X = f;
          break;
      case 2:
          D = f,
          F = C,
          X = q;
          break;
      case 3:
          D = f,
          F = a,
          X = C;
          break;
      case 4:
          D = q,
          F = f,
          X = C;
          break;
      case 5:
          D = C,
          F = f,
          X = a;
          break
      }
      return {
          h: D,
          Q: F,
          O: X
      }
  }
  ;
  j.uf = function() {
      var n = []
        , z = [];
      for (var M = 0; M < 2e3; M++) {
          var C = M / 1e3;
          n[M] = j.ap1(C);
          z[M] = C > .008856 ? Math.pow(C, 1 / 3) : (903.3 * C + 16) * (1 / 116)
      }
      return [n, z]
  }();
  j.MU = function(n, z, C) {
      var D = j.uf[0]
        , F = j.uf[1];
      n = D[~~(n * (1e3 / 255))];
      z = D[~~(z * (1e3 / 255))];
      C = D[~~(C * (1e3 / 255))];
      var X = j.es.a2H
        , E = X[0] * n + X[1] * z + X[2] * C
        , f = X[4] * n + X[5] * z + X[6] * C
        , a = X[8] * n + X[9] * z + X[10] * C;
      E = E * (100 / 96.72);
      f = f * (100 / 100);
      a = a * (100 / 81.427);
      return j.$Y(E, f, a)
  }
  ;
  j.$Y = function(n, z, C) {
      var D = j.uf[1]
        , F = D[~~(n * 1e3)]
        , X = D[~~(z * 1e3)]
        , E = D[~~(C * 1e3)];
      return {
          u4: 116 * X - 16,
          nb: 500 * (F - X),
          O: 200 * (X - E)
      }
  }
  ;
  j.sp = function(n, z, C) {
      var D = 903.3
        , F = .008856
        , X = (n + 16) / 116
        , E = X * X * X
        , f = X - C / 200
        , a = f * f * f
        , q = z / 500 + X
        , c = q * q * q
        , K = a > F ? a : (116 * f - 16) / D
        , R = E > F ? E : (116 * X - 16) / D
        , J = c > F ? c : (116 * q - 16) / D
        , w = J * 96.72
        , p = R * 100
        , I = K * 81.427
        , m = j.es.jI(j.es.o8, [w / 100, p / 100, I / 100, 0]);
      for (var M = 0; M < 4; M++)
          m[M] = Math.max(0, Math.min(255, j.z0(m[M]) * 255));
      return {
          h: m[0],
          Q: m[1],
          O: m[2]
      }
  }
  ;
  j.Lx = function(n, z, C, D, F) {
      var X = n.u4
        , E = n.nb
        , f = n.O
        , a = (X < z.u4 ? z.u4 - X : C.u4 < X ? C.u4 - X : 0) * (1 / 100)
        , q = (E < z.nb ? z.nb - E : C.nb < E ? C.nb - E : 0) * (1 / 116)
        , c = (f < z.O ? z.O - f : C.O < f ? C.O - f : 0) * (1 / 116)
        , K = Math.sqrt(a * a + q * q + c * c) * 1.35;
      return K <= D ? Math.min(1, 1.17 * (1 - K * F)) : 0
  }
  ;
  j.Fd = function(n, z, C) {
      var D = n.length
        , F = .3
        , X = .59
        , E = .11;
      if (C) {
          F = C[0];
          X = C[1];
          E = C[2]
      }
      for (var M = 0; M < D; M += 4)
          z[M >> 2] = ~~(n[M + 0] * F + n[M + 1] * X + n[M + 2] * E + .5)
  }
  ;
  j.Vv = function(n, z) {
      var C = z.length;
      for (var M = 0; M < C; M += 4) {
          var D = n[M >>> 2];
          z[M] = D;
          z[M + 1] = D;
          z[M + 2] = D
      }
  }
  ;
  j.JD = function(n, z) {
      var C = n.nb
        , D = n.h
        , F = n.Q
        , X = n.O
        , E = Math.min(n.nb.length, z.buffer.byteLength >>> 2)
        , f = 4 * Math.floor(E / 4)
        , a = new Uint32Array(z.buffer)
        , q = new Uint32Array(C.buffer)
        , c = new Uint32Array(D.buffer)
        , K = new Uint32Array(F.buffer)
        , R = new Uint32Array(X.buffer);
      for (var M = 0; M < f; M += 4) {
          var J = q[M >> 2]
            , w = R[M >> 2]
            , p = K[M >> 2]
            , I = c[M >> 2];
          a[M] = J << 24 | (w & 255) << 16 | (p & 255) << 8 | I & 255;
          a[M + 1] = (J & 65280) << 16 | (w & 65280) << 8 | p & 65280 | (I & 65280) >>> 8;
          a[M + 2] = (J & 16711680) << 8 | w & 16711680 | (p & 16711680) >>> 8 | (I & 16711680) >>> 16;
          a[M + 3] = J & 4278190080 | (w & 4278190080) >>> 8 | (p & 4278190080) >>> 16 | (I & 4278190080) >>> 24
      }
      for (var M = f; M < E; M++)
          a[M] = C[M] << 24 | X[M] << 16 | F[M] << 8 | D[M]
  }
  ;
  j.I6 = function(n, z) {
      var C = z.nb
        , D = z.h
        , F = z.Q
        , X = z.O
        , E = Math.min(z.nb.length, n.buffer.byteLength >>> 2)
        , f = 4 * Math.floor(E / 4)
        , a = new Uint32Array(n.buffer)
        , q = new Uint32Array(C.buffer)
        , c = new Uint32Array(D.buffer)
        , K = new Uint32Array(F.buffer)
        , R = new Uint32Array(X.buffer);
      for (var M = 0; M < f; M += 4) {
          var J = a[M]
            , w = a[M + 1]
            , p = a[M + 2]
            , I = a[M + 3];
          c[M >> 2] = J & 255 | (w & 255) << 8 | (p & 255) << 16 | I << 24;
          K[M >> 2] = (J & 65280) >> 8 | w & 65280 | (p & 65280) << 8 | (I & 65280) << 16;
          R[M >> 2] = (J & 16711680) >> 16 | (w & 16711680) >> 8 | p & 16711680 | (I & 16711680) << 8;
          q[M >> 2] = J >>> 24 | w >>> 24 << 8 | p >>> 24 << 16 | I & 4278190080
      }
      for (var M = f; M < E; M++) {
          var m = a[M];
          D[M] = m >> 0 & 255;
          F[M] = m >> 8 & 255;
          X[M] = m >> 16 & 255;
          C[M] = m >> 24 & 255
      }
  }
  ;
  j.Ni = function(n, z, C) {
      var D = new Uint8Array(n.buffer)
        , F = Math.min(D.length / 4, z.length);
      for (var M = 0; M < F; M++) {
          z[M] = D[(M << 2) + C]
      }
  }
  ;
  j.bl = function(n, z, C) {
      var D = new Uint8Array(z.buffer)
        , F = new Uint32Array(n.buffer)
        , X = Math.min(D.length / 4, n.length)
        , M = 0;
      while (M + 4 < X) {
          var E = F[M >>> 2];
          D[(M << 2) + C] = E & 255;
          D[(M << 2) + C + 4] = E >>> 8 & 255;
          D[(M << 2) + C + 8] = E >>> 16 & 255;
          D[(M << 2) + C + 12] = E >>> 24;
          M += 4
      }
      while (M < X) {
          D[(M << 2) + C] = n[M];
          M++
      }
  }
  ;
  j.xM = function(n, z, C) {
      if (C == null)
          C = 0;
      var D = new Uint32Array(n.buffer)
        , F = D.length;
      for (var M = 0; M < F; M++)
          D[M] = D[M] & C | z
  }
  ;
  j.aj_ = function(n, z, C, D, F) {
      if (F == null)
          F = 0;
      var X = new Uint32Array(n.buffer);
      C = C.Yi(z);
      var E = C.x - z.x
        , f = C.y - z.y
        , a = C.d
        , q = C.v
        , c = z.d;
      for (var K = 0; K < q; K++) {
          var M = (f + K) * c + E;
          for (var R = 0; R < a; R++) {
              X[M] = X[M] & F | D;
              M++
          }
      }
  }
  ;
  j.YY = function(n, z) {
      var C = Math.min(n.buffer.byteLength, z.buffer.byteLength)
        , D = C >>> 2
        , n = new Uint32Array(n.buffer,0,D)
        , z = new Uint32Array(z.buffer,0,D);
      z.set(n)
  }
  ;
  j.jm = function(n, z) {
      var C = n.buffer.byteLength
        , D = z.buffer.byteLength
        , F = new Uint32Array(n.buffer,0,C >> 2)
        , X = new Uint32Array(z.buffer,0,D >> 2);
      if (C != D)
          return !1;
      var E = F.length;
      for (var M = 0; M < E; M++)
          if (X[M] != F[M])
              return !1;
      return !0
  }
  ;
  j.eL = function(n) {
      var z = new Uint32Array(n.buffer)
        , C = z.length;
      for (var M = 0; M < C; M++)
          z[M] = ~z[M]
  }
  ;
  j.af8 = function(n) {
      var z = n.length;
      for (var M = 0; M < z; M += 4) {
          n[M] = ~n[M];
          n[M + 1] = ~n[M + 1];
          n[M + 2] = ~n[M + 2]
      }
  }
  ;
  j.abF = function(n) {
      var z = n.length;
      for (var M = 3; M < z; M += 4)
          n[M] = ~n[M]
  }
  ;
  j.agu = function(n) {
      return n + (n % 4 == 0 ? 0 : 4 - n % 4)
  }
  ;
  j.T = function(n, z) {
      if (z == null)
          z = !1;
      if (!z)
          n = j.agu(n);
      try {
          var C = new Uint8Array(n)
      } catch (aC) {
          alert("Not enough RAM! (need " + Math.round(n / (1 << 20)) + " MB)", 7e3);
          throw "low_ram"
      }
      return C
  }
  ;
  j.Lp = function(n) {
      var z = n.length
        , C = n[z - 2]
        , D = n[z - 1];
      while (D.d >= 2 && D.v >= 2) {
          var F = j._M(C, D);
          n.push(F.oz, F.rect);
          C = F.oz;
          D = F.rect
      }
  }
  ;
  j.aA = function(n) {
      var z = n.length
        , C = n[z - 2]
        , D = n[z - 1];
      while (D.d >= 2 && D.v >= 2) {
          var F = j.kE(C, D);
          n.push(F.oz, F.rect);
          C = F.oz;
          D = F.rect
      }
  }
  ;
  j._M = function(n, z, C) {
      var D = z.d
        , F = z.v
        , X = D >> 1
        , E = F >> 1
        , f = new cc(z.x,z.y,X,E)
        , a = C && C.length == X * E * 4 ? C : j.T(X * E * 4)
        , q = new Uint32Array(n.buffer)
        , c = new Uint32Array(a.buffer);
      for (var K = 0; K < E; K++)
          for (var R = 0; R < X; R++) {
              var J = K * X + R
                , w = (K << 1) * D + (R << 1)
                , p = q[w]
                , I = q[w + 1]
                , m = q[w + D]
                , A = q[w + D + 1]
                , U = p >>> 24
                , r = I >>> 24
                , $ = m >>> 24
                , k = A >>> 24
                , G = U + r + $ + k;
              if (G == 1020) {
                  var i = (p >>> 0 & 255) + (I >>> 0 & 255) + (m >>> 0 & 255) + (A >>> 0 & 255) + 2 >>> 2
                    , o = (p >>> 8 & 255) + (I >>> 8 & 255) + (m >>> 8 & 255) + (A >>> 8 & 255) + 2 >>> 2
                    , S = (p >>> 16 & 255) + (I >>> 16 & 255) + (m >>> 16 & 255) + (A >>> 16 & 255) + 2 >>> 2;
                  c[J] = 255 << 24 | S << 16 | o << 8 | i
              } else if (G == 0)
                  c[J] = 0;
              else {
                  var i = (p >>> 0 & 255) * U + (I >>> 0 & 255) * r + (m >>> 0 & 255) * $ + (A >>> 0 & 255) * k
                    , o = (p >>> 8 & 255) * U + (I >>> 8 & 255) * r + (m >>> 8 & 255) * $ + (A >>> 8 & 255) * k
                    , S = (p >>> 16 & 255) * U + (I >>> 16 & 255) * r + (m >>> 16 & 255) * $ + (A >>> 16 & 255) * k
                    , H = 1 / G;
                  i = ~~(i * H + .5);
                  o = ~~(o * H + .5);
                  S = ~~(S * H + .5);
                  c[J] = G + 2 >>> 2 << 24 | S << 16 | o << 8 | i
              }
          }
      return {
          rect: f,
          oz: a
      }
  }
  ;
  j.V0 = function(n, z, C) {
      var D = z.d
        , F = z.v
        , X = D >> 1
        , E = F >> 1
        , f = new cc(z.x,z.y,X,E)
        , a = C && C.length == X * E * 4 ? C : j.T(X * E * 4)
        , q = new Uint32Array(n.buffer)
        , c = new Uint32Array(a.buffer);
      for (var K = 0; K < E; K++)
          for (var R = 0; R < X; R++) {
              var J = K * X + R
                , w = (K << 1) * D + (R << 1)
                , p = q[w]
                , I = q[w + 1]
                , m = q[w + D]
                , A = q[w + D + 1]
                , U = 2 + (p >>> 0 & 255) + (I >>> 0 & 255) + (m >>> 0 & 255) + (A >>> 0 & 255) >>> 2
                , r = 2 + (p >>> 8 & 255) + (I >>> 8 & 255) + (m >>> 8 & 255) + (A >>> 8 & 255) >>> 2
                , $ = 2 + (p >>> 16 & 255) + (I >>> 16 & 255) + (m >>> 16 & 255) + (A >>> 16 & 255) >>> 2
                , k = 2 + (p >>> 24 & 255) + (I >>> 24 & 255) + (m >>> 24 & 255) + (A >>> 24 & 255) >>> 2;
              c[J] = k << 24 | $ << 16 | r << 8 | U
          }
      return {
          rect: f,
          oz: a
      }
  }
  ;
  j.acB = function(n, z, C) {
      var D = z.d
        , F = z.v
        , X = 2 * Math.floor(D / 3)
        , E = 2 * Math.floor(F / 3)
        , f = new cc(z.x,z.y,X,E)
        , a = C && C.length == X * E * 4 ? C : j.T(X * E * 4)
        , q = new Uint32Array(n.buffer)
        , c = new Uint32Array(a.buffer);
      for (var K = 0; K < E; K += 2)
          for (var R = 0; R < X; R += 2) {
              var J = K * X + R
                , w = (K * 3 >>> 1) * D + (R * 3 >>> 1)
                , p = q[w]
                , I = q[w + 1]
                , m = q[w + 2]
                , A = q[w + D]
                , U = q[w + 1 + D]
                , r = q[w + 2 + D]
                , $ = q[w + D + D]
                , k = q[w + 1 + D + D]
                , G = q[w + 2 + D + D]
                , i = p >>> 24 << 2
                , o = (p >>> 16 & 255) * i
                , S = (p >>> 8 & 255) * i
                , H = (p & 255) * i
                , e = I >>> 24 << 1
                , V = (I >>> 16 & 255) * e
                , v = (I >>> 8 & 255) * e
                , B = (I & 255) * e
                , Z = m >>> 24 << 2
                , d = (m >>> 16 & 255) * Z
                , g = (m >>> 8 & 255) * Z
                , Y = (m & 255) * Z
                , y = A >>> 24 << 1
                , L = (A >>> 16 & 255) * y
                , _ = (A >>> 8 & 255) * y
                , b = (A & 255) * y
                , x = U >>> 24
                , W = (U >>> 16 & 255) * x
                , g6 = (U >>> 8 & 255) * x
                , fY = (U & 255) * x
                , f3 = r >>> 24 << 1
                , hK = (r >>> 16 & 255) * f3
                , s = (r >>> 8 & 255) * f3
                , P = (r & 255) * f3
                , aF = $ >>> 24 << 2
                , fM = ($ >>> 16 & 255) * aF
                , eA = ($ >>> 8 & 255) * aF
                , e8 = ($ & 255) * aF
                , eC = k >>> 24 << 1
                , cy = (k >>> 16 & 255) * eC
                , aX = (k >>> 8 & 255) * eC
                , j0 = (k & 255) * eC
                , aT = G >>> 24 << 2
                , a4 = (G >>> 16 & 255) * aT
                , f8 = (G >>> 8 & 255) * aT
                , b3 = (G & 255) * aT
                , gh = i + e + y + x
                , cZ = Z + e + f3 + x
                , h3 = aF + eC + y + x
                , ew = aT + eC + f3 + x
                , dy = gh == 0 ? 0 : 1 / gh
                , fx = cZ == 0 ? 0 : 1 / cZ
                , bo = h3 == 0 ? 0 : 1 / h3
                , hd = ew == 0 ? 0 : 1 / ew
                , gT = 0
                , du = 0
                , bk = 0
                , i8 = 0;
              gT = ~~(.5 + (H + B + b + fY) * dy);
              du = ~~(.5 + (S + v + _ + g6) * dy);
              bk = ~~(.5 + (o + V + L + W) * dy);
              i8 = ~~(.5 + gh * (1 / 9));
              c[J] = i8 << 24 | bk << 16 | du << 8 | gT;
              gT = ~~(.5 + (Y + B + P + fY) * fx);
              du = ~~(.5 + (g + v + s + g6) * fx);
              bk = ~~(.5 + (d + V + hK + W) * fx);
              i8 = ~~(.5 + cZ * (1 / 9));
              c[J + 1] = i8 << 24 | bk << 16 | du << 8 | gT;
              gT = ~~(.5 + (e8 + j0 + b + fY) * bo);
              du = ~~(.5 + (eA + aX + _ + g6) * bo);
              bk = ~~(.5 + (fM + cy + L + W) * bo);
              i8 = ~~(.5 + h3 * (1 / 9));
              c[J + X] = i8 << 24 | bk << 16 | du << 8 | gT;
              gT = ~~(.5 + (b3 + j0 + P + fY) * hd);
              du = ~~(.5 + (f8 + aX + s + g6) * hd);
              bk = ~~(.5 + (a4 + cy + hK + W) * hd);
              i8 = ~~(.5 + ew * (1 / 9));
              c[J + X + 1] = i8 << 24 | bk << 16 | du << 8 | gT
          }
      return {
          rect: f,
          oz: a
      }
  }
  ;
  j.aoi = function(n, z, C) {
      var D = z.d
        , F = z.v
        , X = 2 * Math.floor(D / 3)
        , E = 2 * Math.floor(F / 3)
        , f = new cc(z.x,z.y,X,E)
        , a = C && C.length == X * E * 4 ? C : j.T(X * E * 4)
        , q = new Uint32Array(n.buffer)
        , c = new Uint32Array(a.buffer);
      for (var K = 0; K < E; K += 2)
          for (var R = 0; R < X; R += 2) {
              var J = K * X + R
                , w = (K * 3 >>> 1) * D + (R * 3 >>> 1)
                , p = q[w]
                , I = q[w + 1]
                , m = q[w + 2]
                , A = q[w + D]
                , U = q[w + 1 + D]
                , r = q[w + 2 + D]
                , $ = q[w + D + D]
                , k = q[w + 1 + D + D]
                , G = q[w + 2 + D + D]
                , i = (p >>> 16 & 255) << 2
                , o = (p >>> 8 & 255) << 2
                , S = (p & 255) << 2
                , H = (I >>> 16 & 255) << 1
                , e = (I >>> 8 & 255) << 1
                , V = (I & 255) << 1
                , v = (m >>> 16 & 255) << 2
                , B = (m >>> 8 & 255) << 2
                , Z = (m & 255) << 2
                , d = (A >>> 16 & 255) << 1
                , g = (A >>> 8 & 255) << 1
                , Y = (A & 255) << 1
                , y = U >>> 16 & 255
                , L = U >>> 8 & 255
                , _ = U & 255
                , b = (r >>> 16 & 255) << 1
                , x = (r >>> 8 & 255) << 1
                , W = (r & 255) << 1
                , g6 = ($ >>> 16 & 255) << 2
                , fY = ($ >>> 8 & 255) << 2
                , f3 = ($ & 255) << 2
                , hK = (k >>> 16 & 255) << 1
                , s = (k >>> 8 & 255) << 1
                , P = (k & 255) << 1
                , aF = (G >>> 16 & 255) << 2
                , fM = (G >>> 8 & 255) << 2
                , eA = (G & 255) << 2
                , e8 = 0
                , eC = 0
                , cy = 0;
              e8 = ~~(.5 + (S + V + Y + _) * (1 / 9));
              eC = ~~(.5 + (o + e + g + L) * (1 / 9));
              cy = ~~(.5 + (i + H + d + y) * (1 / 9));
              c[J] = 255 << 24 | cy << 16 | eC << 8 | e8;
              e8 = ~~(.5 + (Z + V + W + _) * (1 / 9));
              eC = ~~(.5 + (B + e + x + L) * (1 / 9));
              cy = ~~(.5 + (v + H + b + y) * (1 / 9));
              c[J + 1] = 255 << 24 | cy << 16 | eC << 8 | e8;
              e8 = ~~(.5 + (f3 + P + Y + _) * (1 / 9));
              eC = ~~(.5 + (fY + s + g + L) * (1 / 9));
              cy = ~~(.5 + (g6 + hK + d + y) * (1 / 9));
              c[J + X] = 255 << 24 | cy << 16 | eC << 8 | e8;
              e8 = ~~(.5 + (eA + P + W + _) * (1 / 9));
              eC = ~~(.5 + (fM + s + x + L) * (1 / 9));
              cy = ~~(.5 + (aF + hK + b + y) * (1 / 9));
              c[J + X + 1] = 255 << 24 | cy << 16 | eC << 8 | e8
          }
      return {
          rect: f,
          oz: a
      }
  }
  ;
  j.VC = function(n) {
      var z = 255
        , C = n.length;
      C -= C & 31;
      for (var M = 3; M < C; M += 32)
          z = z & n[M] & n[M + 4] & n[M + 8] & n[M + 12] & n[M + 16] & n[M + 20] & n[M + 24] & n[M + 28];
      return z != 255
  }
  ;
  j.a03 = function(n, z, C, D) {
      var F = j._M
        , X = j.acB
        , f = 0;
      if (!j.VC(n)) {
          F = j.V0;
          X = j.aoi
      }
      var E = {
          oz: n,
          rect: z
      }
        , a = C;
      while (a < .499) {
          f++;
          a *= 2
      }
      for (var M = 0; M < f; M++)
          E = F(E.oz, E.rect, D);
      if (a < .5001)
          E = F(E.oz, E.rect, D);
      else
          E = X(E.oz, E.rect, D);
      return E
  }
  ;
  j.a48 = function(n, z, C, D) {
      var F = j.kE
        , X = j.CN
        , E = {
          oz: n,
          rect: z
      }
        , f = 0
        , a = C;
      while (a < .499) {
          f++;
          a *= 2
      }
      for (var M = 0; M < f; M++)
          E = F(E.oz, E.rect, D);
      if (a < .5001)
          E = F(E.oz, E.rect, D);
      else
          E = X(E.oz, E.rect, D);
      return E
  }
  ;
  j.kE = function(n, z, C) {
      var D = z.d
        , F = z.v
        , X = D >> 1
        , E = F >> 1
        , f = new cc(z.x,z.y,X,E);
      if (n == null)
          return {
              rect: f
          };
      var a = C && C.length >= X * E ? C : j.T(X * E);
      for (var q = 0; q < E; q++) {
          var c = q * X;
          for (var K = 0; K < X; K++) {
              var R = (q << 1) * D + (K << 1);
              a[c + K] = 2 + n[R] + n[R + 1] + n[R + D] + n[R + D + 1] >>> 2
          }
      }
      return {
          rect: f,
          oz: a
      }
  }
  ;
  j.CN = function(n, z, C) {
      var D = z.d
        , F = z.v
        , X = 2 * Math.floor(D / 3)
        , E = 2 * Math.floor(F / 3)
        , f = new cc(z.x,z.y,X,E);
      if (n == null)
          return {
              rect: f
          };
      var a = C && C.length >= X * E ? C : j.T(X * E);
      for (var q = 0; q < E; q += 2)
          for (var c = 0; c < X; c += 2) {
              var K = q * X + c
                , R = (q * 3 >>> 1) * D + (c * 3 >>> 1)
                , J = n[R] << 2
                , w = n[R + 1] << 1
                , p = n[R + 2] << 2
                , I = n[R + D] << 1
                , m = n[R + 1 + D]
                , A = n[R + 2 + D] << 1
                , U = n[R + D + D] << 2
                , r = n[R + 1 + D + D] << 1
                , $ = n[R + 2 + D + D] << 2;
              a[K] = ~~(.5 + (J + w + I + m) * (1 / 9));
              a[K + 1] = ~~(.5 + (p + w + A + m) * (1 / 9));
              a[K + X] = ~~(.5 + (U + r + I + m) * (1 / 9));
              a[K + X + 1] = ~~(.5 + ($ + r + A + m) * (1 / 9))
          }
      return {
          rect: f,
          oz: a
      }
  }
  ;
  j.v8 = function(n, z, C, D, F) {
      var X = z.Yi(D);
      if (F)
          X = X.Yi(F);
      var E = Math.max(0, X.x - z.x)
        , f = Math.max(0, X.x - D.x)
        , a = Math.max(0, X.y - z.y)
        , q = Math.max(0, X.y - D.y)
        , c = X.d
        , K = X.v;
      for (var M = 0; M < K; M++) {
          var R = (a + M) * z.d + E
            , J = (q + M) * D.d + f;
          for (var w = 0; w < c; w++) {
              C[J + w] = n[R + w]
          }
      }
  }
  ;
  j.zy = function(n, z, C, D) {
      if (z.jm(D)) {
          j.bl(n, C, 3);
          return
      }
      var F = z.Yi(D)
        , X = Math.max(0, F.x - z.x)
        , E = Math.max(0, F.x - D.x)
        , f = Math.max(0, F.y - z.y)
        , a = Math.max(0, F.y - D.y)
        , q = F.d
        , c = F.v;
      for (var M = 0; M < c; M++) {
          var K = (f + M) * z.d + X
            , R = (a + M) * D.d + E;
          for (var J = 0; J < q; J++)
              C[(R + J << 2) + 3] = n[K + J]
      }
  }
  ;
  j.nV = function(n, z, C, D) {
      var F = z.Yi(D)
        , X = Math.max(0, F.x - z.x)
        , E = Math.max(0, F.x - D.x)
        , f = Math.max(0, F.y - z.y)
        , a = Math.max(0, F.y - D.y)
        , q = F.d
        , c = F.v;
      for (var M = 0; M < c; M++) {
          var K = (f + M) * z.d + X
            , R = (a + M) * D.d + E;
          for (var J = 0; J < q; J++)
              C[R + J] = n[(K + J << 2) + 3]
      }
  }
  ;
  j.X3 = function(n, z, C, D, F) {
      if (z.jm(D) && (F == null || F.jm(D))) {
          j.YY(n, C);
          return
      }
      n = new Uint32Array(n.buffer),
      C = new Uint32Array(C.buffer);
      var X = z.Yi(D);
      if (F)
          X = X.Yi(F);
      var E = Math.max(0, X.x - z.x)
        , f = Math.max(0, X.x - D.x)
        , a = Math.max(0, X.y - z.y)
        , q = Math.max(0, X.y - D.y)
        , c = X.d
        , K = X.v
        , R = c & 3
        , J = R == 0 ? c : c - R;
      for (var M = 0; M < K; M++) {
          var w = (a + M) * z.d + E
            , p = (q + M) * D.d + f;
          C.set(new Uint32Array(n.buffer,w * 4,c), p)
      }
  }
  ;
  j.i9 = function(n, z, C, D) {
      var F = z.Yi(D)
        , X = Math.max(0, F.x - z.x)
        , E = Math.max(0, F.x - D.x)
        , f = Math.max(0, F.y - z.y)
        , a = Math.max(0, F.y - D.y)
        , q = F.d
        , c = F.v
        , K = n.nb
        , R = n.h
        , J = n.Q
        , w = n.O
        , p = C.nb
        , I = C.h
        , m = C.Q
        , A = C.O;
      for (var M = 0; M < c; M++) {
          var U = (f + M) * z.d + X
            , r = (a + M) * D.d + E;
          for (var $ = 0; $ < q; $++) {
              p[r + $] = K[U + $];
              I[r + $] = R[U + $];
              m[r + $] = J[U + $];
              A[r + $] = w[U + $]
          }
      }
  }
  ;
  j.Wx = function(n) {
      var z = n.length;
      for (var M = 0; M < z; M += 4) {
          var C = n[M + 3];
          if (C == 255)
              continue;
          n[M] = ~~(n[M] * C * (1 / 255) + .5);
          n[M + 1] = ~~(n[M + 1] * C * (1 / 255) + .5);
          n[M + 2] = ~~(n[M + 2] * C * (1 / 255) + .5)
      }
  }
  ;
  j.Xi = function(n) {
      var z = n.length;
      for (var M = 0; M < z; M += 4) {
          var C = n[M + 3];
          if (C == 0 || C == 255)
              continue;
          var D = 255 / C;
          n[M] = ~~(n[M] * D + .5);
          n[M + 1] = ~~(n[M + 1] * D + .5);
          n[M + 2] = ~~(n[M + 2] * D + .5)
      }
  }
  ;
  j.wq = function(n, z) {
      for (var M = 0; M < n.length; M++)
          if (n[M] != z)
              return !1;
      return !0
  }
  ;
  j.UQ = function(n) {
      return n + 1 + (n >>> 8) >>> 8
  }
  ;
  j.round = function(n, z) {
      if (z == null)
          z = 128;
      var C = n.length;
      for (var M = 0; M < C; M++)
          n[M] = n[M] < z ? 0 : 255
  }
  ;
  j.bc = function(n, z) {
      var C = n.length;
      for (var M = 0; M < C; M++)
          n[M] = Math.round(n[M] * z)
  }
  ;
  j.wz = function(n, z) {
      var C = new Uint32Array(n.buffer)
        , D = new Uint32Array(z.buffer)
        , F = C.length;
      for (var M = 0; M < F; M++) {
          var X = C[M]
            , E = D[M];
          D[M] = j.UQ((X >>> 24) * (E >>> 24)) << 24 | j.UQ((X >>> 16 & 255) * (E >>> 16 & 255)) << 16 | j.UQ((X >>> 8 & 255) * (E >>> 8 & 255)) << 8 | j.UQ((X & 255) * (E & 255))
      }
  }
  ;
  j.hQ = function(n, z) {
      var C = n.length;
      for (var M = 0; M < C; M++)
          z[(M << 2) + 3] = j.UQ(z[(M << 2) + 3] * n[M])
  }
  ;
  j.acH = function(n, z, C, D) {
      var F = Math.max(0, D.x - z.x)
        , X = Math.max(0, z.x - D.x)
        , E = Math.max(0, D.y - z.y)
        , f = Math.max(0, z.y - D.y)
        , a = Math.min(z.x + z.d, D.x + D.d) - Math.max(z.x, D.x)
        , q = Math.min(z.y + z.v, D.y + D.v) - Math.max(z.y, D.y);
      for (var M = 0; M < q; M++) {
          var c = (E + M) * z.d + F
            , K = (f + M) * D.d + X;
          for (var R = 0; R < a; R++) {
              C[K] = j.UQ(C[K] * n[c]);
              c++;
              K++
          }
      }
  }
  ;
  j.NI = function(n, z, C, D) {
      var F = Math.max(0, D.x - z.x)
        , X = Math.max(0, z.x - D.x)
        , E = Math.max(0, D.y - z.y)
        , f = Math.max(0, z.y - D.y)
        , a = Math.min(z.x + z.d, D.x + D.d) - Math.max(z.x, D.x)
        , q = Math.min(z.y + z.v, D.y + D.v) - Math.max(z.y, D.y);
      for (var M = 0; M < q; M++) {
          var c = (E + M) * z.d + F
            , K = ((f + M) * D.d + X << 2) + 3;
          for (var R = 0; R < a; R++) {
              C[K] = j.UQ(C[K] * n[c]);
              c++;
              K += 4
          }
      }
  }
  ;
  j.HJ = function(n, z, C, D) {
      var F = Math.max(0, D.x - z.x)
        , X = Math.max(0, z.x - D.x)
        , E = Math.max(0, D.y - z.y)
        , f = Math.max(0, z.y - D.y)
        , a = Math.min(z.x + z.d, D.x + D.d) - Math.max(z.x, D.x)
        , q = Math.min(z.y + z.v, D.y + D.v) - Math.max(z.y, D.y);
      for (var M = 0; M < q; M++) {
          var c = ((E + M) * z.d + F << 2) + 3
            , K = ((f + M) * D.d + X << 2) + 3;
          for (var R = 0; R < a; R++) {
              C[K] = j.UQ(C[K] * n[c]);
              c += 4;
              K += 4
          }
      }
  }
  ;
  j.BA = function(n) {
      var z = new Float64Array(256)
        , C = new Float64Array(256)
        , D = new Float64Array(256)
        , F = new Float64Array(256)
        , X = n.length
        , E = 0;
      for (var M = 0; M < X; M += 4) {
          var f = n[M + 3]
            , a = f * (1 / 255);
          C[n[M + 0]] += a;
          D[n[M + 1]] += a;
          F[n[M + 2]] += a;
          E += f
      }
      for (var M = 0; M < 256; M++)
          z[M] = C[M] + D[M] + F[M];
      return [z, C, D, F, X >>> 2, E / 255]
  }
  ;
  j.HE = function(n, z) {
      var C = new Uint32Array(n.buffer)
        , D = C.length;
      for (var M = 0; M < D; M++) {
          var F = C[M]
            , X = F & 255
            , E = F >> 8 & 255
            , f = F >> 16 & 255
            , a = F >> 24 & 255;
          C[M] = z[X] | z[E] << 8 | z[f] << 16 | z[a] << 24
      }
  }
  ;
  j.amc = function(n, z, C, D, F, X, E) {
      var f = new Uint32Array(n.buffer)
        , a = new Uint32Array(z.buffer)
        , q = f.length
        , c = 0;
      while (256 << c < C.length)
          c++;
      if (!E && !X) {
          for (var M = 0; M != q; M++) {
              var K = f[M]
                , R = (K & 255) << c
                , J = (K >>> 8 & 255) << c
                , w = (K >>> 16 & 255) << c
                , p = C[R]
                , I = D[J]
                , m = F[w];
              a[M] = p | I << 8 | m << 16 | K & 4278190080
          }
          return
      }
      for (var M = 0; M < q; M++) {
          var K = f[M]
            , R = (K & 255) << c
            , J = (K >>> 8 & 255) << c
            , w = (K >>> 16 & 255) << c;
          if (X)
              R = J = w = Math.round(R * .3 + J * .59 + w * .11);
          var p = C[R]
            , I = D[J]
            , m = F[w];
          if (E) {
              var A = j.Rg(R, J, w)
                , U = j.Rg(p, I, m);
              if (A > U) {
                  var r = (A - U) / (255 - U);
                  p += r * (255 - p);
                  I += r * (255 - I);
                  m += r * (255 - m)
              } else if (U == 0)
                  p = I = m = 0;
              else {
                  var r = A / U;
                  p = r * p;
                  I = r * I;
                  m = r * m
              }
          }
          a[M] = p | I << 8 | m << 16 | K & 4278190080
      }
  }
  ;
  j.ae = function(n, z) {
      var C = z.d
        , D = z.v
        , top = 0
        , F = 0
        , X = 0
        , E = 0
        , f = 0;
      f = 0;
      for (var a = 0; a < D; a++) {
          var q = a * C;
          for (var M = 0; M < C; M++)
              f |= n[q + M];
          if (f != 0)
              break;
          top++
      }
      if (top == D)
          return new cc(0,0,0,0);
      f = 0;
      for (var a = D - 1; a >= 0; a--) {
          var q = a * C;
          for (var M = 0; M < C; M++)
              f |= n[q + M];
          if (f != 0)
              break;
          X++
      }
      var c = D - X;
      f = 0;
      for (var M = 0; M < C; M++) {
          for (var a = top; a < c; a++)
              f |= n[a * C + M];
          if (f != 0)
              break;
          F++
      }
      f = 0;
      for (var M = C - 1; M >= 0; M--) {
          for (var a = top; a < c; a++)
              f |= n[a * C + M];
          if (f != 0)
              break;
          E++
      }
      var K = new cc(z.x + F,z.y + top,C - F - E,D - top - X);
      return K
  }
  ;
  j.xk = function(n, z, C, D) {
      if (D == null)
          D = [!0, !0, !0, !0];
      if (C == null)
          C = 0;
      var F = new Uint32Array(n.buffer)
        , X = z.d
        , E = z.v
        , top = 0
        , f = 0
        , a = 0
        , q = 0
        , c = !1
        , K = [F[0], F[F.length - 1], 0][C];
      c = !1;
      if (D[0])
          for (var R = 0; R < E; R++) {
              var J = R * X;
              for (var M = 0; M < X; M++)
                  if (F[J + M] != K)
                      c = !0;
              if (c)
                  break;
              top++
          }
      c = !1;
      if (D[2])
          for (var R = E - 1; R >= 0; R--) {
              var J = R * X;
              for (var M = 0; M < X; M++)
                  if (F[J + M] != K)
                      c = !0;
              if (c)
                  break;
              a++
          }
      c = !1;
      if (D[1])
          for (var M = 0; M < X; M++) {
              for (var R = 0; R < E; R++)
                  if (F[R * X + M] != K)
                      c = !0;
              if (c)
                  break;
              f++
          }
      c = !1;
      if (D[3])
          for (var M = X - 1; M >= 0; M--) {
              for (var R = 0; R < E; R++)
                  if (F[R * X + M] != K)
                      c = !0;
              if (c)
                  break;
              q++
          }
      var w = new cc(z.x + f,z.y + top,X - f - q,E - top - a);
      return w.kX() ? new cc(0,0,0,0) : w
  }
  ;
  j.BL = function(n) {
      var z = j.ae(n.channel, n.rect);
      if (z.jm(n.rect))
          return;
      var C = j.T(z.t());
      j.v8(n.channel, n.rect, C, z);
      n.channel = C;
      n.rect = z
  }
  ;
  j.iw = function(n) {
      var z = j.T(n.buffer.length >> 2);
      j.Ni(n.buffer, z, 3);
      var C = j.ae(z, n.rect);
      if (C.jm(n.rect))
          return;
      var D = new j.T(C.t() * 4);
      j.X3(n.buffer, n.rect, D, C);
      n.buffer = D;
      n.rect = C
  }
  ;
  j.extend = function(n, z, C) {
      if (n.rect._6(z))
          return;
      var D = n.rect.QH(z)
        , F = j.T(D.t());
      if (C != null)
          F.fill(C);
      j.v8(n.channel, n.rect, F, D);
      n.rect = D;
      n.channel = F
  }
  ;
  j.amo = function(n, z) {
      if (z.kX() || n.rect._6(z))
          return;
      var C = n.rect.QH(z)
        , D = j.T(C.t() * 4);
      j.X3(n.buffer, n.rect, D, C);
      n.rect = C;
      n.buffer = D
  }
  ;
  j.Lc = function(n, z, C) {
      if (!C.P5(n))
          return !1;
      var D = Math.floor(n.x) - C.x
        , F = Math.floor(n.y) - C.y
        , M = F * C.d + D;
      return z[M] > 128
  }
  ;
  j.a2G = function(n, z, C) {
      if (!C.P5(n))
          return !1;
      var D = Math.floor(n.x) - C.x
        , F = Math.floor(n.y) - C.y
        , M = F * C.d + D;
      return z[4 * M + 3] > 128
  }
  ;
  j.nO = function(n) {
      if (j.GU.length < n) {
          j.GU = j.T(n);
          j.GU.fill(255)
      }
      return j.GU
  }
  ;
  j.GU = j.T(0);
  j.mo = function(n) {
      if (j.VG.length < n)
          j.VG = j.T(n);
      return j.VG
  }
  ;
  j.VG = j.T(0);
  j.Dv = function(n) {
      this.nb = j.T(n);
      this.h = j.T(n);
      this.Q = j.T(n);
      this.O = j.T(n)
  }
  ;
  j.Dv.prototype.clone = function() {
      var n = this.nb.length
        , z = new j.Dv(1);
      z.nb = this.nb.slice(0);
      z.h = this.h.slice(0);
      z.Q = this.Q.slice(0);
      z.O = this.O.slice(0);
      return z
  }
  ;
  j.l.a9B = function(n, z, C, D, F) {
      var X = F[0] + 1
        , E = F[1]
        , f = Math.abs(E - 25) / 4
        , a = F[2]
        , q = a % 2 + a * a >> 1
        , c = j.l.p;
      c.Yw(z, C);
      var K = c.FW(1)
        , R = c.FW(1)
        , J = c.FW(1);
      c.RV(n, D, a, a, q);
      c.AR(D);
      c.jY(D, K);
      c.kH(K, R, X, X, 1);
      c.kH(K, J, X, X, X * X);
      c.sub(J, R);
      c.wz(R, f);
      (E < 25 ? c.sub : c.add)(K, R);
      c.h5(R, D);
      c.pe(D)
  }
  ;
  j.l.adi = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = F[0] * 2.55
        , f = F[1]
        , a = f >> 1
        , q = F[2] * .25
        , c = X.FW(4)
        , K = X.FW(1)
        , R = X.FW(1);
      X._Y(n, c, f, 1, !0, a);
      X._Y(n, D, f, 1, !1, a);
      X.sE(n, K);
      X.Iu(K, E);
      X.gD(K, R, 3);
      X.O2(D, R, c);
      X.jV(c, D, q)
  }
  ;
  j.l.agx = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      X.Kd(F[3]);
      var E = F[0] * -3 + 80
        , f = F[1] * -3 + 80
        , a = F[2] / 2 + .5
        , q = F[4]
        , c = F[5]
        , K = X.FW(1)
        , R = X.FW(1)
        , J = X.FW(1)
        , w = X.FW(1)
        , p = X.FW(4)
        , I = X.FW(4);
      X.sE(n, K);
      X.YY(K, R);
      X.jP(K, f, 5);
      X.iY(K, .4, 0);
      X.gD(K, J, 3);
      X.Qs(J, K, 9, 3, !0, 27);
      X.YY(R, J);
      X.eL(J);
      var m = X.BQ(E, 5, J);
      for (var M = 0; M < X.Rs; M++) {
          R[M] = m[255 - R[M]]
      }
      X.iY(R, .4, 0);
      X.YY(R, J);
      X.gD(J, w, 2);
      X.Qs(w, J, 5, 3, !1, 15);
      X.wz(K, a);
      X.wz(J, a);
      X.aw(D, 2155905279);
      X.aw(I, q);
      X.aw(p, c);
      X.O2(I, K, D);
      X.O2(p, J, D)
  }
  ;
  j.l.a9b = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = new Uint8Array(256)
        , f = 5 + 10 * F[1];
      f += F[1] > 3 ? (F[1] - 3) * 10 : 0;
      var a = ~~(F[2] * .73) + 50
        , q = Math.min(a + f, 128)
        , c = q - a
        , K = -255 * a;
      for (var M = 0; M < 256; M++) {
          var R = M * 65;
          E[M] = X.h3(K / c);
          K += 255
      }
      var J = X.FW(1)
        , w = X.FW(1)
        , p = X.FW(1);
      X.sE(n, J);
      X.YY(J, p);
      X.gD(J, w, 2 * F[0] + 1);
      X.sub(w, J);
      X.wz(J, 65);
      X.Qs(J, w, 9, 3, !0, 20);
      for (var M = 0; M < X.Rs; M++) {
          var I = p[M]
            , m = w[M];
          J[M] = m > 0 ? ~~((m * I + (255 - m) * 128) / 255) : 128
      }
      X.gD(J, w, 3);
      X.Qs(w, J, 15, 2, !0, 16);
      X.Qs(w, p, 15, 2, !1, 15);
      X.Ls(J, p);
      X.kO(p, w, 2);
      X.b7(w, E);
      X.gD(w, J, 2);
      X.yR(J, D)
  }
  ;
  j.l.a3u = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = 2 * F[0] + 1
        , f = X.y8[F[1]]
        , a = F[2] * 5.1
        , q = F[3]
        , c = X.FW(1)
        , K = X.FW(1)
        , R = X.FW(4)
        , J = X.FW(4);
      X.aw(R, q);
      X.AR(R, D);
      X.Kh(c, a);
      X.h5(c, D);
      X.pe(D, R);
      X.sE(n, K);
      X.gD(K, c, E);
      X.sub(c, K);
      X.wz(K, f);
      X.Qs(K, c, 9, 3, !0, 20);
      X.O2(n, c, R);
      X.Bj(R, D, 3);
      X._Y(D, R, 15, 2, !0, 16);
      X._Y(D, J, 15, 2, !1, 16);
      X.Ls(R, J);
      X.jV(J, D, 2)
  }
  ;
  j.l.ago = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = (15 - F[0]) / 4 + 1
        , f = (15 - F[1]) / 4 + 1
        , a = F[2]
        , q = F[3]
        , c = X.r6(F[4])
        , K = F[5] + 1
        , R = F[6]
        , J = F[7]
        , w = F[8]
        , p = X.FW(1)
        , I = X.FW(1)
        , m = X.FW(1)
        , A = X.FW(1)
        , U = X.FW(4)
        , r = X.FW(4);
      X.sg(m, a, q, R);
      X.sE(n, I);
      X.gD(I, p, 5);
      X.f8(m, p, A, K, c);
      X.wz(A, E);
      X.GL(A, 2);
      X.eL(p);
      X.f8(m, p, I, K, c);
      X.wz(I, f);
      X.GL(I, 2);
      X.aw(U, 2155905279);
      X.aw(r, J);
      X.aw(D, w);
      X.O2(U, I, r);
      X.O2(r, A, D)
  }
  ;
  j.l.a9e = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      X.Kd(F[3]);
      var E = F[0]
        , f = F[1] / 10
        , a = F[2] / 10
        , q = X.FW(1)
        , c = X.FW(1)
        , K = X.FW(1)
        , R = X.ag()
        , J = X.ag()
        , w = X.ag();
      X.FN(q);
      X.gD(q, c, 11);
      X.gD(c, q, 11);
      X.TO(q, R);
      X.fS(n, q);
      X.YY(q, K);
      X.gD(q, c, 9);
      X.gD(c, q, 9);
      X.TO(q, J);
      X.Df(J, w, 5);
      X.Df(w, J, 5);
      X.K$(R, .8);
      X.ad0(R, J, .8, .9);
      X.Bm(J, q, E);
      X.kH(q, c, 2, 2, 1);
      X.kH(c, q, 2, 2, 3);
      X.kH(q, c, 2, 2, 3);
      X.kH(K, q, 5, 5, 13);
      X.xc(c, q, c, f);
      X.jC(q, c, c, a);
      X.f8(c, c, q, 5, 1);
      X.AR(n, D);
      X.h5(q, D);
      X.pe(D)
  }
  ;
  j.l.anD = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = F[0]
        , f = F[1] / 2
        , a = F[2]
        , q = E / 2
        , c = X.FW(4)
        , K = X.FW(4);
      X.YY(n, D);
      for (var R = 0; R < a; R++) {
          X._Y(D, c, E, 1, !0, q);
          X._Y(D, K, E, 1, !1, q);
          X.Ls(K, c);
          X.Bj(c, K, 2);
          X.jV(K, D, f)
      }
  }
  ;
  j.l.apw = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = F[0] * 10
        , f = F[1] * 4.9
        , a = F[2] * 4.9
        , q = X.FW(1)
        , c = X.FW(1)
        , K = X.FW(4)
        , R = X.FW(4);
      X.sE(n, q);
      X.Iu(q, X.a4r(q, E));
      X.gD(q, c, 3);
      X._Y(n, K, 5, 1, !1, 1);
      X._Y(n, D, 15, 2, !0, 16);
      X.O2(D, c, K);
      X.AR(K, D);
      X.jY(D, q);
      X.jP(q, f, a);
      X.h5(q, D);
      X.pe(D)
  }
  ;
  j.l.a79 = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      X.Kd(F[4]);
      var E = F[0] / 20
        , f = [0, .75, 1, 1.05, 1.1, 1.15, 1.2, 1.25, 1.3, 1.35, 1.4, 1.45, 1.5, 1.6, 1.7, 1.8, 2, 2.5, 3, 3.5, 4][F[1]]
        , a = [0, .25, .5, .75, .9, 1, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 2, 2.25, 2.5, 3, 3.5, 4][F[2]]
        , q = F[3]
        , c = new Int16Array(256);
      for (var M = 0; M < 256; M++) {
          c[M] = ~~((M - 128) * E)
      }
      var K = X.FW(1)
        , R = X.FW(1)
        , J = X.FW(4);
      X.sE(n, K);
      X.gD(K, R, 25);
      X.wz(R, f);
      X.GL(R, a);
      X.gD(R, K, 25);
      X.FN(R);
      X.k9(K, R, c);
      X.YY(n, D);
      X.aw(J, q);
      X.O2(J, K, D)
  }
  ;
  j.l.a99 = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = F[0] + 5
        , f = 15 - F[1]
        , a = E * E / 2
        , q = 1 - (3 - F[2]) / 10
        , c = ~~(f * f * q - 1)
        , K = ~~(f * f * (1 - q));
      if (K == 0)
          K = 1;
      var R = X.FW(1)
        , J = X.FW(1)
        , w = X.FW(1)
        , p = X.FW(4);
      X.sE(n, w);
      X.kH(w, R, E, E, a);
      X.gD(w, J, E);
      X.sub(R, J);
      X.Iu(J, 1);
      X.RV(n, p, f, f, c);
      X.RV(n, D, f, f, K);
      X.O2(p, J, D)
  }
  ;
  j.l.afM = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      X.Kd(F[3]);
      var E = (20 - F[0]) * .05
        , f = F[1] * -2.75 + 60
        , a = 65 - f
        , q = F[2] / 10
        , c = X.FW(1)
        , K = X.FW(1);
      X.fS(n, K);
      var R = X.BQ(f, a, K);
      X.AR(n, D);
      X.jY(D, K);
      X.FN(c);
      X.rS(K, c, E);
      X.b7(K, R);
      X.wz(K, F[2] / 10);
      X.add(c, K);
      X.h5(K, D);
      X.pe(D)
  }
  ;
  j.l.an$ = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = 5 + F[0]
        , f = 15 - F[1]
        , a = F[2]
        , q = E * E / 2 + E * E % 2 * 1
        , c = 1 - (3 - F[2]) / 10
        , K = ~~(f * f * c - 1)
        , R = ~~(f * f * (1 - c));
      if (R == 0)
          R = 1;
      var J = X.FW(1)
        , w = X.FW(1)
        , p = X.FW(1)
        , I = X.FW(1)
        , m = X.FW(1);
      X.fS(n, w);
      X.kO(w, J, 3);
      X.kH(J, w, 2, 2, 1);
      var A = X.BQ(20, 20, w);
      X.b7(w, A);
      X.gD(w, m, 5);
      X.kH(m, J, E, E, q);
      X.kH(m, w, f, f, K);
      X.kH(m, p, f, f, R);
      X.gD(m, I, E);
      X.sub(J, I);
      X.Iu(I, 1);
      X.HN(w, I, p);
      X.AR(n, D);
      X.h5(p, D);
      X.pe(D)
  }
  ;
  j.l.a9m = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      X.Kd(F[5]);
      var E = X.Rs
        , f = X.mX
        , a = F[0]
        , q = F[1]
        , c = F[2]
        , K = F[3]
        , R = F[4]
        , J = .05 * a + 1
        , w = a / 100
        , p = a >> 1
        , I = 2 * a - 100
        , m = +(q == 9)
        , A = +(q == 7)
        , U = [4, 1][m]
        , r = [3, 2][m]
        , $ = [1, 2][A]
        , k = [2, 1][A]
        , G = [50, 75][m]
        , i = q < 4 ? c : (c >> 1) + 50
        , o = X.A7(G, i)
        , S = X.dG(K)
        , H = X.dG(R)
        , e = X.FW(4)
        , V = X.FW(4)
        , v = X.FW(1)
        , B = X.FW(1);
      function Z(D, o) {
          if (i != 50) {
              X.h7(D, o)
          }
      }
      function d(n, hK) {
          for (var M = 0; M < E; M++) {
              n[M] = X.h3(n[M] + (hK[M] - 128) * w)
          }
      }
      function g(n, hK) {
          for (var M = 0, s = 0; M < E; M++) {
              n[s] = X.h3(n[s] + (hK[s] - 128) * w);
              n[s + 1] = X.h3(n[s + 1] + (hK[s + 1] - 128) * w);
              n[s + 2] = X.h3(n[s + 2] + (hK[s + 2] - 128) * w);
              s += 4
          }
      }
      function Y(n, D) {
          X.FN(V);
          X.YY(n, D);
          g(D, V);
          Z(D, o)
      }
      function y(hK) {
          var s = 0;
          for (var P = 0; P < 12; P++)
              s += X.random();
          return X.h3(p * (s - 6) + hK)
      }
      function L(n, D) {
          X.YY(n, D);
          for (var M = 0; M < f; M += 4) {
              D[M] = y(D[M]);
              D[M + 1] = y(D[M + 1]);
              D[M + 2] = y(D[M + 2])
          }
          Z(D, o)
      }
      function _(n, D) {
          X.YY(n, D);
          for (var M = 0; M < f; M += 4) {
              if (X.random() < w) {
                  D[M] = S[0];
                  D[M + 1] = S[1];
                  D[M + 2] = S[2]
              }
          }
          Z(D, o)
      }
      function b(n, D) {
          X.FN(e);
          X.RV(e, V, r, r, U);
          X.YY(n, e);
          g(e, V);
          X.RV(e, D, 5, 5, 13);
          Z(D, o)
      }
      function x(n, D) {
          X.FN(V);
          X.YY(n, e);
          g(e, V);
          Z(D, o);
          X.RV(e, D, r, r, U)
      }
      function W(n, D) {
          X.YY(n, e);
          Z(D, o);
          X.sE(e, v);
          for (var M = 0, hK = 0; M < E; M++) {
              var s = ((I - v[M] + 255) * 128.5 + .5) / 32767;
              if (X.random() <= s) {
                  D[hK++] = H[0];
                  D[hK++] = H[1];
                  D[hK++] = H[2]
              } else {
                  D[hK++] = S[0];
                  D[hK++] = S[1];
                  D[hK++] = S[2]
              }
              D[hK] = n[hK];
              hK++
          }
      }
      function g6(n, D) {
          X.AR(n, D);
          X.jY(D, v);
          X.kO(v, B, J);
          X.kH(B, v, r, r, U);
          X.b7(v, o);
          X.h5(v, D);
          X.pe(D)
      }
      function fY(n) {
          var hK = 0;
          if (q == 8) {
              for (var s = 0; s < z; s++) {
                  n[hK++] = ~~(X.random() * 255)
              }
              for (var M = 1; M < C; M++) {
                  for (var s = 0; s < z; s++) {
                      n[hK++] = n[s]
                  }
              }
          } else {
              for (var M = 0; M < C; M++) {
                  var P = ~~(X.random() * 255);
                  for (var s = 0; s < z; s++) {
                      n[hK++] = P
                  }
              }
          }
      }
      function f3(n, D) {
          X.sE(n, v);
          X.FN(B);
          d(v, B);
          fY(B);
          d(v, B);
          X.Bj(n, e, 9);
          X.Bj(e, V, 9);
          X.gD(v, B, 2);
          X.b7(B, o);
          X.gD(B, v, 2);
          X.AR(V, D);
          X.h5(v, D);
          X.pe(D)
      }
      [Y, L, _, b, b, x, W, f3, f3, g6][q](n, D)
  }
  ;
  j.l.ain = function(n, z, C, D, F) {
      var X = [-1e3, 34, 51, 61, 71, 80, 87, 95, 101, 108, 113, 119, 124, 129, 134, 139, 143, 148, 153, 157, 161, 165, 168, 172, 175, 180, 183, 186, 190, 194, 197, 200, 203, 207, 210, 213, 216, 218, 222, 225, 228, 230, 233, 236, 239, 241, 244, 247, 250, 252, 255], E = j.l.p, p = 0, I, M, $, k, G, i = 0, o = 1, S = 255;
      E.Yw(z, C);
      E.Kd(F[3]);
      var f = E.FW(1)
        , a = E.FW(1);
      E.sE(n, f);
      var q = F[0]
        , c = F[1]
        , K = c <= 50 ? X[c] / 255 : 1 + (255 - X[101 - c]) / 255
        , R = F[2]
        , J = f.length
        , w = new Float32Array(J)
        , m = 1 + 1 / 10 * q
        , A = (1 - 1 / m) / 2
        , U = 16 / 256
        , r = z - 1;
      for (M = 0; M < E.Rs; M++) {
          w[M] = f[M] / 255;
          a[M] = q == 1 ? E.random() < 1 / 255 ? S : o : o
      }
      function H(e, V) {
          var v = e * z + V;
          if (a[v] != o || e >= C || V >= z) {
              return
          }
          var k = w[v]
            , B = K - k
            , Z = E.random()
            , d = Z / m + A;
          if (p == 0 || Math.abs(G - k) > U) {
              I = d <= B ? i : S;
              p = ~~(E.random() * q)
          } else if (.1 < Z) {
              p--
          } else {
              p = 0
          }
          a[v] = I;
          G = k
      }
      if (R == 0) {
          for (M = 0; M < z; M++) {
              for ($ = 0; $ < z; $++) {
                  k = M + $;
                  if (k >= z)
                      break;
                  H($, r - k)
              }
              p = 0
          }
          for (M = 1; M < C; M++) {
              for ($ = 0; $ < C; $++) {
                  k = M + $;
                  if (k >= C || $ >= z)
                      break;
                  H(k, r - $)
              }
              p = 0
          }
      } else if (R == 1) {
          for (M = 0; M < C; M++) {
              for ($ = 0; $ < z; $++) {
                  H(M, $)
              }
              p = 0
          }
      } else if (R == 2) {
          for (M = 0; M < z; M++) {
              for ($ = 0; $ < z; $++) {
                  k = M + $;
                  if (k >= z)
                      break;
                  H($, k)
              }
              p = 0
          }
          for (M = 1; M < C; M++) {
              for ($ = 0; $ < C; $++) {
                  k = M + $;
                  if (k >= C || $ >= z)
                      break;
                  H(k, $)
              }
              p = 0
          }
      } else {
          for (M = 0; M < z; M++) {
              for ($ = 0; $ < C; $++) {
                  H($, M)
              }
              p = 0
          }
      }
      E.yR(a, D)
  }
  ;
  j.l.a30 = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = F[0]
        , f = F[1]
        , a = F[2]
        , q = X.FW(1)
        , c = X.FW(1)
        , K = X.FW(1)
        , R = X.FW(4)
        , J = X.FW(4);
      X.sE(n, q);
      X.kH(q, c, 3, 3, 1);
      X.kH(q, K, 3, 3, 9);
      X.sub(K, c);
      X.gD(c, q, 3);
      X.jP(q, 40, 10);
      X._Y(n, D, E, 2, !1, E);
      X._Y(n, R, E, 2, !0, E);
      X.aw(J, 255);
      X.O2(D, q, J);
      X.O2(J, q, R);
      X.jV(R, D, 1);
      X.AR(D);
      X.jY(D, q);
      X.jP(q, f, a);
      X.h5(q, D);
      X.pe(D)
  }
  ;
  j.l.amX = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      X.Kd(F[3]);
      var E = F[0]
        , f = F[1]
        , a = F[2] / 10;
      E = E + f;
      var q = X.FW(1)
        , c = X.FW(1)
        , K = X.ag()
        , R = X.ag();
      X.FN(q);
      X.gD(q, c, 11);
      X.gD(c, q, 11);
      X.TO(q, K);
      X.Df(K, R, 5);
      X.Df(R, K, 5);
      X.K$(R, .97);
      X.Bm(R, q, E);
      X.kH(q, c, f, f, 1);
      X.fS(n, q);
      X.xc(c, q, c, .6);
      X.jC(q, c, c, a);
      X.f8(c, c, q, 5, 1);
      X.AR(n, D);
      X.h5(q, D);
      X.pe(D)
  }
  ;
  j.l.aci = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = Math.abs(F[0])
        , f = E + [1, 0, 1, 2, 1, 2, 1, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 4, 3, 4, 5, 4, 5, 4, 5][E]
        , a = 2 * E + 1
        , q = F[1] / 10
        , c = q * 13 / 15
        , K = X.FW(1)
        , R = X.FW(1)
        , J = X.FW(1)
        , w = X.FW(1)
        , p = X.FW(4)
        , I = X.FW(4)
        , m = X.FW(4)
        , A = X.FW(4)
        , U = X.FW(4);
      X.sE(n, K);
      if (F[0] >= 0) {
          X.eL(K)
      }
      X.YY(K, J);
      X.gD(K, w, f);
      X.gD(w, K, f);
      X.wz(K, q);
      X.YY(K, R);
      X.gD(K, w, a);
      X.gD(w, K, a);
      X.wz(K, c);
      X.aw(m, F[2]);
      X.aw(A, F[3]);
      X.aw(U, F[4]);
      X.O2(m, K, A, p);
      X.O2(U, R, p, I);
      X.O2(A, J, I, D);
      X.jY(n, J, 3);
      X.h5(J, D, 3)
  }
  ;
  j.l.a5r = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      X.Kd(F[5]);
      var E = F[0] * 5.1
        , f = F[1] / 100
        , a = X.p7[F[2]]
        , q = X.FW(1)
        , c = X.FW(1)
        , K = X.FW(1);
      X.sE(n, q);
      X.Kh(c, 255);
      X.FN(K);
      X.Iu(q, E);
      X.rS(c, q, .7);
      X.rS(K, q, f);
      X.f8(q, q, c, 5, a);
      X.YY(n, D);
      X.a4C(D, E, F[4], F[3]);
      X.AR(D);
      X.h5(c, D);
      X.pe(D)
  }
  ;
  j.l.a3A = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = F[0]
        , f = 4 - F[1]
        , a = 11 - F[2]
        , q = X.FW(1)
        , c = X.FW(1)
        , K = X.FW(4);
      X.fS(n, c);
      for (var M = 0; M < f; M++) {
          X.YY(c, q);
          X.h_(q, c, E, E)
      }
      X.Bj(n, K, E);
      X.AR(K, K);
      X.h5(c, K);
      X.pe(K, K);
      (a < 11 ? X.a9h : X.YY)(K, D, a)
  }
  ;
  j.l.akS = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      X.Kd(F[2]);
      var E = F[0] + 5
        , f = ~~(E / 5 + 1)
        , a = ~~(E / 2) + 1
        , q = a * a
        , c = ~~(E / 3)
        , K = X.p7[F[1]]
        , R = new Array(256);
      for (var M = 0; M < 256; M++) {
          R[M] = ~~(.2 * (M - 128))
      }
      var J = X.FW(1)
        , w = X.FW(1);
      X.a5J(n, D, E);
      X.AR(D);
      X.jY(D, J);
      X.FN(w);
      X.k9(J, w, R);
      X.a8I(w, E, E, f, f);
      X.xc(J, w, J, 1);
      X.gD(J, w, c);
      X.gD(w, J, c);
      X.kH(J, w, a, a, q);
      X.f8(w, w, J, 5, K);
      X.h5(J, D);
      X.pe(D)
  }
  ;
  j.l.afg = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = X.FW(1)
        , f = X.FW(1)
        , a = X.FW(1)
        , q = X.ag()
        , c = X.ag();
      X.sE(n, E);
      X.gD(E, f, F[2]);
      X.Iu(f, F[0] * 5.1);
      X.kH(f, E, 2, 2, 4);
      X.gD(E, f, 3);
      X.gD(f, E, 3);
      X.YY(E, a);
      X.gD(E, f, 5);
      X.gD(f, E, 5);
      X.TO(E, q);
      X.Df(q, c, 5);
      X.Df(c, q, 5);
      X.ajH(q, f, F[1]);
      X.eL(f);
      X.xc(a, f, a, 1);
      X.yR(a, D)
  }
  ;
  j.l.a04 = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = 1 << 7 - F[2]
        , f = X.FW(1)
        , a = X.FW(1)
        , q = X.FW(1);
      X.fS(n, a);
      X.gD(a, f, 3);
      X.YY(f, a);
      X.gD(f, q, F[0] + 5);
      X.sub(q, a);
      X.jP(a, 1, F[1]);
      X.wz(f, 1 / E);
      X.wz(f, E);
      X.sub(f, a);
      X.AR(n, D);
      X.h5(a, D);
      X.pe(D)
  }
  ;
  j.l.aq9 = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      X.Kd(F[3]);
      var E = X.FW(1)
        , f = X.FW(1)
        , a = X.FW(1);
      X.sE(n, E);
      X.a7W(f, F[0] / 50);
      X.gD(f, a, 3);
      X.kH(E, f, 9, 9, 41);
      X.jP(f, F[1], F[2]);
      X.xc(f, a, a, .75);
      X.jC(f, a, f, .5);
      X.YY(f, E);
      X.kH(E, a, 3, 3, 8);
      X.xc(a, f, a, .75);
      X.wz(a, 1.2);
      X.kO(a, E, 1);
      X.gD(E, a, 2);
      X.kO(a, E, 2);
      X.wz(E, 1.2);
      X.gD(E, a, 2);
      X.yR(a, D)
  }
  ;
  j.l.amh = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = F[0] + 9
        , f = F[1] / 2
        , a = F[2]
        , q = F[3]
        , c = X.r6(F[4])
        , K = F[5] + 1
        , R = F[6]
        , J = X.FW(1)
        , w = X.FW(1)
        , p = X.FW(4)
        , I = X.FW(4);
      X.sg(w, a, q, R);
      X.pS(n, D, E, 1, 1);
      X.pS(D, p, E, 1, 1);
      X.ahf(p, p, I, 7, f);
      X.wz(I, 1.2);
      X.GL(I, 1.2);
      X.f8(w, J, J, K, c);
      X.wz(J, 3);
      X.YY(n, D);
      X.O2(I, J, D)
  }
  ;
  j.l.a8d = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      X.Kd(F[3]);
      var E = F[0] + 4
        , f = E * 2 / 5 + (E % 5 | 0);
      E--;
      var a = F[1] * -2.75 + 60
        , q = 65 - a
        , c = F[2] / 10
        , K = X.FW(1)
        , R = X.FW(1);
      X.FN(K);
      X.fS(n, R);
      var J = X.BQ(a, q, R);
      X.AR(n, D);
      X.jY(D, R);
      X.rS(R, K, .8);
      X.b7(R, J);
      X.wz(R, c);
      X.add(K, R);
      X.Qs(R, K, E, 3, !1, f);
      X.h5(K, D);
      X.pe(D)
  }
  ;
  j.l.a3t = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      X.Kd(F[3]);
      var E = F[0] + 5
        , f = (E * E >> 1) + E % 2
        , a = F[1] / 10
        , q = F[2]
        , c = (q * q >> 1) + q % 2
        , K = X.FW(1)
        , R = X.FW(1)
        , J = X.FW(1)
        , w = X.FW(4)
        , p = X.FW(4)
        , I = X.FW(4);
      X.FN(J);
      X.AR(n, I);
      X.jY(I, K);
      X.rS(K, J, .8);
      X.gD(J, K, 3);
      X.kO(K, J, a);
      X.h5(J, I);
      X.pe(I, I);
      X.sE(I, J);
      X.kH(J, K, E, E, f);
      X.gD(J, R, E);
      X.sub(K, R);
      X.Iu(R, 1);
      X.RV(I, w, 7, 7, 40);
      X.RV(I, p, 7, 7, 10);
      X.O2(w, R, p);
      X.RV(p, D, q, q, c)
  }
  ;
  j.l.a1b = function(n, z, C, D, F) {
      var X = j.l.p, f = 255, M, q;
      X.Yw(z, C);
      var E = F[0];
      if (E < 2)
          f = E;
      else if (E < 12)
          f = 5 * E - 5;
      else if (E < 47)
          f = 2 * E + 28;
      else if (E < 50) {
          M = E - 47;
          f = 125 + 12.5 * M + 12.5 * M * M
      }
      var a = new Uint8Array(256);
      for (M = 75,
      q = 15; M < 256; M++,
      q += 24)
          a[M] = Math.min(255, q);
      var c = X.FW(1)
        , K = X.FW(1)
        , R = X.FW(1);
      X.sE(n, c);
      X.gD(c, K, 11);
      X.gD(K, R, 11);
      X.sub(R, c);
      X.wz(c, 8);
      X.sub(R, c);
      X.Iu(c, f);
      X.eL(c);
      X.gD(c, K, 5);
      X.Iu(K, 51);
      X.gD(K, c, F[1]);
      X.gD(c, K, F[1]);
      X.eL(K);
      X.b7(K, a);
      X.yR(K, D)
  }
  ;
  j.l.agZ = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = X.y8[F[1]]
        , f = F[2]
        , a = f * 1.5
        , q = X.FW(1)
        , c = X.FW(1)
        , K = X.FW(1);
      X.fS(n, q);
      X.Qs(q, c, 15, 2, !0, 15);
      X.YY(c, K);
      X.jP(K, f, a);
      X.gD(K, q, 3);
      X.gD(c, K, F[0]);
      X.sub(K, c);
      X.wz(c, E);
      X.sub(q, c);
      X.gD(c, q, 3);
      X.Qs(q, c, 3, 1, !1, 1);
      X.Bj(n, D, 15);
      X.AR(D);
      X.h5(c, D);
      X.pe(D)
  }
  ;
  j.l.ae$ = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      X.Kd(F[3]);
      var E = F[0] * 5.1
        , f = 16 - F[1]
        , a = [1, 1, 1.05, 1.1, 1.15, 1.2, 1.25, 1.3, 1.35, 1.4, 1.45, 1.5, 1.6, 1.7, 1.8, 2, 2.25, 2.5, 2.75, 3, 3.5, 4, 5, 6, 8, 10][F[2]]
        , q = X.FW(1)
        , c = X.FW(1)
        , K = X.FW(1);
      X.sE(n, q);
      X.Iu(q, E);
      X.gD(q, c, f);
      X.gD(c, q, f);
      X.FN(K);
      X.jC(q, K, K, 1);
      X.xc(q, K, q, .75);
      X.wz(q, a);
      X.GL(q, a);
      X.kH(q, c, 2, 2, 2);
      X.yR(c, D)
  }
  ;
  j.l.a4Q = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = F[0] + 9
        , f = F[1] + 9
        , a = F[2]
        , q = F[3]
        , c = X.r6(F[4])
        , K = F[5] + 1
        , R = F[6]
        , J = X.FW(1)
        , w = X.FW(1)
        , p = X.FW(1)
        , I = X.FW(1)
        , m = X.FW(1)
        , A = X.FW(4);
      X.fS(n, J);
      X.h_(J, p, E, E);
      X.gD(p, J, f);
      X.YY(p, m);
      X.YY(J, I);
      X.sub(m, I);
      X.sub(J, m);
      X.add(m, I);
      X.wz(I, 10);
      X.sg(w, a, q, R);
      X.f8(w, J, m, K, c);
      X.HN(m, I, p, .8);
      X.Bj(n, A, 9);
      X.Bj(A, D, 9);
      X.AR(D);
      X.h5(p, D);
      X.pe(D)
  }
  ;
  j.l.a4d = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      var E = 16 - F[0]
        , f = F[1] * 8
        , a = 1 - (3 - F[2]) / 10
        , q = ~~(E * E * a - 1)
        , c = ~~(E * E * (1 - a));
      if (c == 0)
          c = 1;
      var K = X.FW(1)
        , R = X.FW(1)
        , J = X.FW(1)
        , w = X.FW(4);
      X.sE(n, J);
      X.kH(J, K, 7, 7, 25);
      X.gD(J, R, 7);
      X.sub(K, R);
      X.Iu(R, 1);
      X.RV(n, w, E, E, q);
      X.RV(n, D, E, E, c);
      X.O2(w, R, D);
      X.AR(D);
      X.jY(D, K);
      X.kH(K, J, 3, 3, 1);
      X.kH(K, R, 3, 3, 9);
      X.sub(R, J);
      X.YY(J, R);
      X.sub(K, J);
      X.sub(J, R);
      X.kH(R, K, 3, 3, 8);
      X.jP(K, f, 1);
      X.h5(K, D);
      X.pe(D)
  }
  ;
  j.l.ak8 = function(n, z, C, D, F) {
      var X = j.l.p;
      X.Yw(z, C);
      X.Kd(F[3]);
      var E = F[0]
        , f = F[1]
        , a = F[2]
        , q = E >> 1
        , c = Math.max(~~(E / 5), 1)
        , K = Math.max(~~(E * 2 / 3), 1)
        , R = X.A7(f, a)
        , J = X.FW(1)
        , w = X.FW(1)
        , p = X.FW(1)
        , I = X.FW(1)
        , m = X.FW(4);
      X.fS(n, J);
      X.iQ(2147483647, 4, 2, 2, 0, 255, w);
      X.iQ(4, 2147483647, 2, 2, 0, 255, I);
      X.FN(p);
      X.jC(w, p, w, 1);
      X.jC(I, p, I, 1);
      X.jC(w, J, w, 1);
      X.jC(I, J, I, 1);
      X.Bj(n, m, q);
      X.Bj(m, D, q);
      X.kH(w, J, 1, E, c);
      X.kH(J, w, 3, E, K);
      X.kH(I, J, E, 1, c);
      X.kH(J, I, E, 3, K);
      X.Ls(w, I);
      X.AR(D);
      X.h5(I, D);
      X.pe(D);
      X.h7(D, R)
  }
  ;
  j.l.p = {};
  j.l.p.ob = 0;
  j.l.p.ua = 0;
  j.l.p.Rs = 0;
  j.l.p.ox = 0;
  j.l.p.mX = 0;
  j.l.p.Yw = function(n, z) {
      var C = n * z
        , self = j.l.p;
      self.ob = n;
      self.ua = z;
      self.Rs = C;
      self.ox = C << 1;
      self.mX = C << 2
  }
  ;
  j.l.p.Kd = function(n) {
      j.l.p.random = function() {
          var z = n += 1831565813;
          z = Math.imul(z ^ z >>> 15, z | 1);
          z ^= z + Math.imul(z ^ z >>> 7, z | 61);
          return ((z ^ z >>> 14) >>> 0) / 4294967296
      }
  }
  ;
  j.l.p.FW = function(n) {
      var z = j.l.p;
      return new Uint8Array([-1, z.Rs, z.ox, -1, z.mX][n])
  }
  ;
  j.l.p.ag = function() {
      return new Int32Array(j.l.p.ox)
  }
  ;
  j.l.p.gD = function(n, z, C, D) {
      if (D == null)
          D = C;
      var self = j.l.p
        , F = self.ob
        , X = self.ua;
      j.Y7.hI(n, z, new cc(0,0,F,X), C >>> 1);
      return
  }
  ;
  j.l.p.Df = function(n, z, C, D) {
      var self = j.l.p
        , F = new Int32Array(self.Rs)
        , X = new Int32Array(self.Rs);
      for (var M = 0; M < 2; M++) {
          self.jY(n, F, M, 2);
          self.gD(F, X, C, D);
          self.h5(X, z, M, 2)
      }
  }
  ;
  j.l.p.Bj = function(n, z, C, D) {
      var self = j.l.p
        , F = self.FW(1)
        , X = self.FW(1);
      for (var M = 0; M < 4; M++) {
          self.jY(n, F, M);
          if (M < 3)
              self.gD(F, X, C, D);
          else
              X = F;
          self.h5(X, z, M)
      }
  }
  ;
  j.l.p.pS = function(n, z, C, D, F) {
      var self = j.l.p
        , X = self.ob
        , E = self.ua
        , f = C + D - 1
        , a = C >> 1
        , q = f >> 1
        , c = 0
        , K = C * D
        , R = new Int32Array(C);
      for (var M = 0; M < E; M++) {
          var J = 0
            , w = 0
            , p = 0;
          for (var I = 0; I < C; I++) {
              var m = F ? f - I - D : I;
              for (var A = m, U = D + m; A < U; A++) {
                  var r = 0 - q + A
                    , $ = M - a + I;
                  if (A == m) {
                      R[I] = r
                  }
                  if (r < 0)
                      r = 0;
                  else if (r >= X)
                      r = X - 1;
                  if ($ < 0)
                      $ = 0;
                  else if ($ >= E)
                      $ = E - 1;
                  var k = X * $ + r << 2;
                  J += n[k];
                  w += n[k + 1];
                  p += n[k + 2]
              }
          }
          z[c++] = ~~(J / K);
          z[c++] = ~~(w / K);
          z[c++] = ~~(p / K);
          z[c] = n[c];
          c++;
          for (var G = 1; G < X; G++) {
              for (var I = 0; I < C; I++) {
                  var $ = M - a + I
                    , m = R[I] + 1;
                  R[I] = m;
                  var i = m - 1
                    , o = m + D - 1;
                  if ($ < 0)
                      $ = 0;
                  else if ($ >= E)
                      $ = E - 1;
                  if (i < 0)
                      i = 0;
                  else if (i >= X)
                      i = X - 1;
                  if (o < 0)
                      o = 0;
                  else if (o >= X)
                      o = X - 1;
                  var S = $ * X + i << 2
                    , H = $ * X + o << 2;
                  J = J + n[H] - n[S];
                  w = w + n[H + 1] - n[S + 1];
                  p = p + n[H + 2] - n[S + 2]
              }
              z[c++] = ~~(J / K);
              z[c++] = ~~(w / K);
              z[c++] = ~~(p / K);
              z[c] = n[c];
              c++
          }
      }
  }
  ;
  j.l.p.Qs = function(n, z, C, D, F, X) {
      var self = j.l.p
        , E = self.ob
        , f = self.ua
        , a = C + D - 1
        , q = C >> 1
        , c = a >> 1
        , K = 0
        , R = new Int32Array(C)
        , J = new Int32Array(256)
        , w = new Int32Array(16);
      for (var M = 0; M < f; M++) {
          J.fill(0);
          w.fill(0);
          for (var p = 0; p < C; p++) {
              var I = F ? a - p - D : p;
              for (var m = I, A = D + I; m < A; m++) {
                  var U = 0 - c + m
                    , r = M - q + p;
                  if (m == I) {
                      R[p] = U
                  }
                  if (U < 0)
                      U = 0;
                  else if (U >= E)
                      U = E - 1;
                  if (r < 0)
                      r = 0;
                  else if (r >= f)
                      r = f - 1;
                  J[n[r * E + U]]++;
                  w[n[r * E + U] >>> 4]++
              }
          }
          z[K++] = j.l.p.At(w, J, X);
          for (var $ = 1; $ < E; $++) {
              for (var p = 0; p < C; p++) {
                  var r = M - q + p
                    , I = R[p] + 1;
                  R[p] = I;
                  var k = I - 1
                    , G = I + D - 1;
                  if (r < 0)
                      r = 0;
                  else if (r >= f)
                      r = f - 1;
                  if (k < 0)
                      k = 0;
                  else if (k >= E)
                      k = E - 1;
                  if (G < 0)
                      G = 0;
                  else if (G >= E)
                      G = E - 1;
                  var i = n[r * E + k]
                    , o = n[r * E + G];
                  J[i]--;
                  J[o]++;
                  w[i >>> 4]--;
                  w[o >>> 4]++
              }
              z[K++] = j.l.p.At(w, J, X)
          }
      }
  }
  ;
  j.l.p._Y = function(n, z, C, D, F, X) {
      var self = j.l.p
        , E = self.FW(1)
        , f = self.FW(1);
      for (var M = 0; M < 4; M++) {
          self.jY(n, E, M);
          if (M < 3)
              self.Qs(E, f, C, D, F, X);
          else
              f = E;
          self.h5(f, z, M)
      }
  }
  ;
  j.l.p.kH = function(n, z, C, D, F) {
      F = Math.min(D * C, F);
      var self = j.l.p
        , X = self.ob
        , E = self.ua
        , f = D >> 1
        , a = C >> 1
        , q = 0
        , c = new Int32Array(D)
        , K = new Int32Array(256)
        , R = new Int32Array(16);
      for (var M = 0; M < E; M++) {
          K.fill(0);
          R.fill(0);
          for (var J = 0; J < D; J++) {
              for (var w = 0, p = C; w < p; w++) {
                  var I = 0 - a + w
                    , m = M - f + J;
                  if (w == 0) {
                      c[J] = I
                  }
                  if (I < 0)
                      I = 0;
                  else if (I >= X)
                      I = X - 1;
                  if (m < 0)
                      m = 0;
                  else if (m >= E)
                      m = E - 1;
                  K[n[m * X + I]]++;
                  R[n[m * X + I] >>> 4]++
              }
          }
          z[q++] = j.l.p.At(R, K, F);
          for (var A = 1; A < X; A++) {
              for (var J = 0; J < D; J++) {
                  var m = M - f + J
                    , U = c[J] + 1;
                  c[J] = U;
                  var r = U - 1
                    , $ = U + C - 1;
                  if (m < 0)
                      m = 0;
                  else if (m >= E)
                      m = E - 1;
                  if (r < 0)
                      r = 0;
                  else if (r >= X)
                      r = X - 1;
                  if ($ < 0)
                      $ = 0;
                  else if ($ >= X)
                      $ = X - 1;
                  var k = n[m * X + r]
                    , G = n[m * X + $];
                  K[k]--;
                  K[G]++;
                  R[k >>> 4]--;
                  R[G >>> 4]++
              }
              z[q++] = j.l.p.At(R, K, F)
          }
      }
  }
  ;
  j.l.p.At = function(n, z, C) {
      var D = 0
        , F = 0;
      while (D + n[F >>> 4] < C) {
          D += n[F >>> 4];
          F += 16
      }
      for (; F < 256; F++) {
          D += z[F];
          if (D >= C)
              break
      }
      return F
  }
  ;
  j.l.p.RV = function(n, z, C, D, F) {
      var self = j.l.p
        , X = self.FW(1)
        , E = self.FW(1);
      for (var M = 0; M < 4; M++) {
          self.jY(n, X, M);
          if (M < 3)
              self.kH(X, E, C, D, F);
          else
              E = X;
          self.h5(E, z, M)
      }
  }
  ;
  j.l.p.kO = function(n, z, C) {
      var self = j.l.p
        , D = self.ob
        , F = self.ua
        , X = 0;
      for (var M = 0; M < F; M++) {
          var E = M * D
            , f = (M - 1) * D
            , a = (M + 1) * D;
          if (f < 0)
              f = E;
          if (a >= F)
              a = E;
          for (var q = 0; q < D; q++) {
              var c = q - 1
                , K = q + 1;
              if (c < 0)
                  c = q;
              if (K >= D)
                  K = q;
              var R = E + c
                , J = E + K
                , w = f + q
                , p = a + q
                , I = E + q
                , m = n[R]
                , A = n[J]
                , U = n[w]
                , r = n[p]
                , $ = n[I]
                , k = $ + ($ * 4 * C + .5);
              k = k - ((m + A + r + U) * C + .5);
              z[X++] = self.h3(k)
          }
      }
  }
  ;
  j.l.p.jV = function(n, z, C) {
      var self = j.l.p
        , D = self.FW(1)
        , F = self.FW(1);
      for (var M = 0; M < 4; M++) {
          self.jY(n, D, M);
          if (M < 3)
              self.kO(D, F, C);
          else
              F = D;
          self.h5(F, z, M)
      }
  }
  ;
  j.l.p.a9h = function(n, z, C) {
      var self = j.l.p
        , D = self.ob
        , F = self.ua
        , X = 0
        , E = C + 4;
      for (var M = 0; M < F; M++) {
          var f = M * D
            , a = (M - 1) * D
            , q = (M + 1) * D;
          if (a < 0)
              a = f;
          if (q >= F)
              q = f;
          for (var c = 0; c < D; c++) {
              var K = c - 1
                , R = c + 1;
              if (K < 0)
                  K = c;
              if (R >= D)
                  R = c;
              var J = f + K << 2
                , w = f + R << 2
                , p = a + c << 2
                , I = q + c << 2
                , m = f + c << 2;
              for (var A = 0; A < 3; A++) {
                  var U = n[J + A]
                    , r = n[w + A]
                    , $ = n[p + A]
                    , k = n[I + A]
                    , G = n[m + A];
                  z[X++] = (G * C + U + r + k + $) / E
              }
              z[X] = n[X];
              X++
          }
      }
  }
  ;
  j.l.p.h_ = function(n, z, C, D) {
      var self = j.l.p
        , F = self.ob
        , X = self.ua
        , E = C >> 1
        , f = D >> 1
        , a = 0
        , q = new Int32Array(C)
        , c = new Int32Array(256);
      for (var M = 0; M < X; M++) {
          c.fill(0);
          for (var K = 0; K < C; K++) {
              for (var R = 0, J = D; R < J; R++) {
                  var w = 0 - f + R
                    , p = M - E + K;
                  if (R == 0) {
                      q[K] = w
                  }
                  if (w < 0)
                      w = 0;
                  else if (w >= F)
                      w = F - 1;
                  if (p < 0)
                      p = 0;
                  else if (p >= X)
                      p = X - 1;
                  c[n[p * F + w]]++
              }
          }
          var I = 0
            , m = 0;
          for (var A = 0; A < 256; A++) {
              if (I < c[A]) {
                  m = A;
                  I = c[A]
              }
          }
          z[a++] = m;
          for (var U = 1; U < F; U++) {
              for (var K = 0; K < C; K++) {
                  var p = M - E + K
                    , r = q[K] + 1;
                  q[K] = r;
                  var $ = r - 1
                    , k = r + D - 1;
                  if (p < 0)
                      p = 0;
                  else if (p >= X)
                      p = X - 1;
                  if ($ < 0)
                      $ = 0;
                  else if ($ >= F)
                      $ = F - 1;
                  if (k < 0)
                      k = 0;
                  else if (k >= F)
                      k = F - 1;
                  c[n[p * F + $]]--;
                  c[n[p * F + k]]++
              }
              I = 0;
              m = 0;
              for (var A = 0; A < 256; A++) {
                  if (I < c[A]) {
                      m = A;
                      I = c[A]
                  }
              }
              z[a++] = m
          }
      }
  }
  ;
  j.l.p.acM = [function(n, z, C, D, F, X, E, f, a, q) {
      return F + (n + z + C) * q - (a + f + E) * q
  }
  , function(n, z, C, D, F, X, E, f, a, q) {
      return F + (z + C + X) * q - (f + E + D) * q
  }
  , function(n, z, C, D, F, X, E, f, a, q) {
      return F + (C + X + a) * q - (E + D + n) * q
  }
  , function(n, z, C, D, F, X, E, f, a, q) {
      return F + (X + a + f) * q - (D + n + z) * q
  }
  , function(n, z, C, D, F, X, E, f, a, q) {
      return F + (a + f + E) * q - (n + z + C) * q
  }
  , function(n, z, C, D, F, X, E, f, a, q) {
      return F + (f + E + D) * q - (z + C + X) * q
  }
  , function(n, z, C, D, F, X, E, f, a, q) {
      return F + (E + D + n) * q - (C + X + a) * q
  }
  , function(n, z, C, D, F, X, E, f, a, q) {
      return F + (D + n + z) * q - (X + a + f) * q
  }
  ];
  j.l.p.f8 = function(n, z, C, D, F) {
      var self = j.l.p
        , X = self.ob
        , E = self.ua
        , f = X
        , a = self.acM[D - 1];
      for (var M = 0; M < E; M++) {
          var q = (M > 0 ? M - 1 : 0) * f
            , c = M * f
            , K = (M < E ? M + 1 : M) * f;
          for (var R = 0; R < X; R++) {
              var J = R > 0 ? R - 1 : 0
                , w = R < X ? R + 1 : R
                , p = c + R
                , I = n[q + J]
                , m = n[q + R]
                , A = n[q + w]
                , U = n[c + J]
                , r = z[p]
                , $ = n[c + w]
                , k = n[K + J]
                , G = n[K + R]
                , i = n[K + w];
              C[p] = self.h3(a(I, m, A, U, r, $, k, G, i, F))
          }
      }
  }
  ;
  j.l.p.ahf = function(n, z, C, D, F) {
      var self = j.l.p
        , X = self.FW(1)
        , E = self.FW(1)
        , f = self.FW(1);
      for (var M = 0; M < 3; M++) {
          self.jY(n, X, M);
          self.jY(z, E, M);
          self.f8(X, E, f, D, F);
          self.h5(f, C, M)
      }
      self.jY(z, X, 3);
      self.h5(X, C, 3)
  }
  ;
  j.l.p.sE = function(n, z) {
      var C = n.length
        , D = 0;
      for (var M = 0; M < C; M++) {
          z[D++] = ~~((n[M++] + n[M++] + n[M++] + 2) / 3)
      }
  }
  ;
  j.l.p.yR = function(n, z) {
      var C = z.length
        , D = 0;
      for (var M = 0; M < C; M++) {
          var F = n[M];
          z[D++] = F;
          z[D++] = F;
          z[D++] = F;
          z[D++] = 255
      }
      if (z[0] == 255)
          z[0]--;
      else
          z[0]++
  }
  ;
  j.l.p.fS = function(n, z) {
      var C = z.length
        , D = 0;
      for (var M = 0; M < C; M++) {
          var F = n[D++]
            , X = n[D++]
            , E = n[D++];
          D++;
          if (X > F)
              F = X;
          if (E > F)
              F = E;
          z[M] = F
      }
  }
  ;
  j.l.p.AR = function(n, z) {
      if (z == null)
          z = n;
      var C = n.length;
      for (var D = 0; D < C; D += 4) {
          var F = n[D], X = n[D + 1], E = n[D + 2], f = F, a = 0, q = F, K;
          if (X <= F) {
              F = X
          } else {
              a = 1;
              q = X
          }
          if (E <= q) {
              if (F > E) {
                  F = E
              }
          } else {
              a = 2;
              q = E
          }
          var c = q - F;
          if (c != 0) {
              if (a == 0) {
                  K = ~~(43 * (X - E) / c)
              } else if (a == 1) {
                  K = ~~(43 * (E + 2 * c - f) / c)
              } else {
                  K = 43 * (f + 4 * c - X) / c
              }
              if (K < 0) {
                  K = 255 & K - 1
              }
              z[D] = K;
              z[D + 1] = ~~(255 * c / q)
          } else {
              z[D] = c;
              z[D + 1] = c
          }
          z[D + 2] = q;
          z[D + 3] = n[D + 3]
      }
  }
  ;
  j.l.p.pe = function(n, z) {
      if (z == null)
          z = n;
      var C = n.length;
      for (var D = 0; D < C; D += 4) {
          var F = n[D]
            , X = n[D + 1]
            , E = n[D + 2];
          if (X) {
              if (F == 255)
                  F = 0;
              var f = ~~(6 * F / 255)
                , a = ~~(-255 * f + 6 * F);
              if (f == 0) {
                  z[D] = E;
                  z[D + 1] = ~~(E * (255 - X * (255 - a) / 255) / 255);
                  z[D + 2] = ~~(E * (255 - X) / 255)
              } else if (f == 1) {
                  z[D] = ~~(E * (255 - X * a / 255) / 255);
                  z[D + 1] = E;
                  z[D + 2] = ~~(E * (255 - X) / 255)
              } else if (f == 2) {
                  z[D] = ~~(E * (255 - X) / 255);
                  z[D + 1] = E;
                  z[D + 2] = ~~(E * (255 - X * (255 - a) / 255) / 255)
              } else if (f == 3) {
                  z[D] = ~~(E * (255 - X) / 255);
                  z[D + 1] = ~~(E * (255 - X * a / 255) / 255);
                  z[D + 2] = E
              } else if (f == 4) {
                  z[D] = ~~(E * (255 - X * (255 - a) / 255) / 255);
                  z[D + 1] = ~~(E * (255 - X) / 255);
                  z[D + 2] = E
              } else {
                  z[D] = E;
                  z[D + 1] = ~~(E * (255 - X) / 255);
                  z[D + 2] = ~~(E * (255 - X * a / 255) / 255)
              }
          } else {
              z[D] = E;
              z[D + 1] = E;
              z[D + 2] = E
          }
          z[D + 3] = n[D + 3]
      }
  }
  ;
  j.l.p.h5 = function(n, z, C, D) {
      if (C == null)
          C = 2;
      if (D == null)
          D = 4;
      var F = n.length;
      for (var M = 0; M < F; M++) {
          z[C] = n[M];
          C += D
      }
  }
  ;
  j.l.p.jY = function(n, z, C, D) {
      if (C == null)
          C = 2;
      if (D == null)
          D = 4;
      var F = z.length;
      for (var M = 0; M < F; M++) {
          z[M] = n[C];
          C += D
      }
  }
  ;
  j.l.p.HN = function(n, z, C, D) {
      if (D == null)
          D = 1;
      var F = z.length, X = 0, E;
      for (var X = 0; X < F; X++) {
          E = z[X];
          if (E) {
              E *= D;
              C[X] = ~~((E * n[X] + (255 - E) * C[X]) / 255)
          }
      }
  }
  ;
  j.l.p.O2 = function(n, z, C, D) {
      if (D == null)
          D = C;
      var F = z.length, X = 0, E, f;
      for (var M = 0; M < F; M++) {
          E = z[M];
          if (E) {
              f = 255 - E;
              D[X] = ~~((E * n[X] + f * C[X]) / 255);
              D[X + 1] = ~~((E * n[X + 1] + f * C[X + 1]) / 255);
              D[X + 2] = ~~((E * n[X + 2] + f * C[X + 2]) / 255)
          }
          D[X + 3] = n[X + 3];
          X += 4
      }
  }
  ;
  j.l.p.xc = function(n, z, C, D) {
      var F = ~~(D * 255)
        , X = C.length;
      for (var M = 0; M < X; M++) {
          C[M] = ((255 - F * (255 - n[M]) / 255) * z[M] + n[M] * (F * (255 - n[M]) / 255)) / 255
      }
  }
  ;
  j.l.p.jC = function(n, z, C, D) {
      var F = ~~(D * 255)
        , X = C.length;
      for (var M = 0; M < X; M++) {
          C[M] = ((255 - F * n[M] / 255) * z[M] + n[M] * (F * n[M] / 255)) / 255
      }
  }
  ;
  j.l.p.rS = function(n, z, C) {
      var D = z.length;
      for (var M = 0; M < D; M++) {
          z[M] = ~~(n[M] * C + .5) + (z[M] - ~~(z[M] * C + .5))
      }
  }
  ;
  j.l.p.sub = function(n, z) {
      var C = n.length;
      for (var M = 0; M < C; M++) {
          z[M] = Math.max(n[M] - z[M], 0)
      }
  }
  ;
  j.l.p.add = function(n, z) {
      var C = n.length;
      for (var M = 0; M < C; M++) {
          z[M] = Math.min(n[M] + z[M], 255)
      }
  }
  ;
  j.l.p.Ls = function(n, z) {
      var C = n.length;
      for (var M = 0; M < C; M++) {
          z[M] = n[M] + z[M] >> 1
      }
  }
  ;
  j.l.p.YY = function(n, z) {
      var C = n.length;
      for (var M = 0; M < C; M++) {
          z[M] = n[M]
      }
  }
  ;
  j.l.p.b7 = function(n, z) {
      var C = n.length;
      for (var M = 0; M < C; M++) {
          n[M] = z[n[M]]
      }
  }
  ;
  j.l.p.h7 = function(n, z) {
      var C = j.l.p.mX;
      for (var M = 0; M < C; M += 4) {
          var D = n[M]
            , F = n[M + 1]
            , X = n[M + 2]
            , E = D;
          if (F > D)
              E = F;
          if (X > D)
              E = X;
          var f = z[E];
          if (f) {
              n[M] = ~~(f * D / E);
              n[M + 1] = ~~(f * F / E);
              n[M + 2] = ~~(f * X / E)
          } else {
              n[M] = f;
              n[M + 1] = f;
              n[M + 2] = f
          }
      }
  }
  ;
  j.l.p.wz = function(n, z) {
      for (var M = 0, C = n.length; M < C; M++) {
          n[M] = Math.min(255, ~~(.5 + n[M] * z))
      }
  }
  ;
  j.l.p.GL = function(n, z) {
      for (var M = 0, C = n.length; M < C; M++) {
          n[M] = 255 - Math.min(255, ~~(.5 + (255 - n[M]) * z))
      }
  }
  ;
  j.l.p.eL = function(n) {
      var z = n.length;
      for (var M = 0; M < z; M++) {
          n[M] = 255 - n[M]
      }
  }
  ;
  j.l.p.Iu = function(n, z, C, D) {
      if (C == null)
          C = 0;
      if (D == null)
          D = 255;
      for (var M = 0, F = n.length; M < F; M++) {
          n[M] = n[M] >= z ? D : C
      }
  }
  ;
  j.l.p.dG = function(n) {
      return [n >> 24 & 255, n >> 16 & 255, n >> 8 & 255, n & 255]
  }
  ;
  j.l.p.a4C = function(n, z, C, D) {
      if (C == null)
          C = 255;
      if (D == null)
          D = 4278190335;
      var F = j.l.p
        , X = F.mX
        , E = F.dG(C)
        , f = F.dG(D);
      for (var M = 0; M < X; M += 4) {
          var a = ~~((n[M] + n[M + 1] + n[M + 2] + 2) / 3);
          if (a >= z) {
              n[M] = E[0];
              n[M + 1] = E[1];
              n[M + 2] = E[2]
          } else {
              n[M] = f[0];
              n[M + 1] = f[1];
              n[M + 2] = f[2]
          }
      }
  }
  ;
  j.l.p.aw = function(n, z) {
      var C = j.l.p
        , D = C.mX
        , F = C.dG(z);
      for (var M = 0; M < D; ) {
          n[M++] = F[0];
          n[M++] = F[1];
          n[M++] = F[2];
          n[M++] = F[3]
      }
  }
  ;
  j.l.p.Kh = function(n, z) {
      var C = n.length;
      for (var M = 0; M < C; ) {
          n[M++] = z
      }
  }
  ;
  j.l.p.A7 = function(n, z) {
      n = n > 5 ? (100 - Math.max(4, n)) / 100 : .95;
      z = z != 100 ? Math.max(4, z) / 100 : .9995;
      var C = new Uint8Array(256)
        , D = z > .5 ? .5 / (1 - z) : z * 2
        , F = ~~(D * 256)
        , X = ~~((.5 - n * D) * 256) << 8;
      for (var M = 0; M < 256; M++) {
          C[M] = j.l.p.h3(X >> 8);
          X += F
      }
      return C
  }
  ;
  j.l.p.FN = function(n) {
      for (var M = 0, z = j.l.p, C = n.length; M < C; M++) {
          n[M] = ~~(z.random() * 256)
      }
  }
  ;
  j.l.p.a7W = function(n, z) {
      for (var M = 0, C = j.l.p, D = n.length; M < D; M++) {
          n[M] = C.random() < z ? 255 : 0
      }
  }
  ;
  j.l.p.iY = function(n, z, C) {
      for (var M = 0, D = j.l.p, F = n.length; M < F; M++) {
          if (D.random() < z)
              n[M] = C
      }
  }
  ;
  j.l.p.k9 = function(n, z, C) {
      var D = n.length;
      for (var M = 0; M < D; M++) {
          n[M] = j.l.p.h3(n[M] + C[z[M]])
      }
  }
  ;
  j.l.p.Cp = function(n) {
      var z = new Uint32Array(256);
      for (var M = 0, C = n.length; M < C; M++) {
          z[n[M]]++
      }
      return z
  }
  ;
  j.l.p.BQ = function(n, z, C) {
      var self = j.l.p
        , D = self.Cp(C)
        , F = self.Rs / 100
        , X = new Uint8Array(256)
        , E = F * n
        , f = F * z
        , a = 0
        , q = -1
        , c = 256;
      do {
          a += D[++q]
      } while (a <= E);a = 0;
      do {
          a += D[--c]
      } while (a <= f);if (c - q <= 0)
          c = q + 1;
      if (c > 255) {
          c = 255;
          q = 254
      }
      var K = 255 / (c - q)
        , R = -q;
      for (var M = 0; M < 256; M++) {
          X[M] = self.h3(K * R + .5);
          R++
      }
      return X
  }
  ;
  j.l.p.jP = function(n, z, C) {
      var D = j.l.p;
      D.b7(n, D.BQ(z, C, n))
  }
  ;
  j.l.p.a4r = function(n, z) {
      var self = j.l.p
        , C = self.Cp(n)
        , D = self.Rs * z / 100
        , F = 0
        , X = -1;
      do {
          F += C[++X]
      } while (F <= D);return X
  }
  ;
  j.l.p.TO = function(n, z) {
      var C = 0
        , self = j.l.p
        , D = self.ob
        , F = self.ua
        , X = 1 / Math.PI
        , E = X * 255;
      for (var M = 0; M < F; M++) {
          var f = M + 1;
          if (f == F)
              f--;
          var a = M * D
            , q = ~~((1 - (M + 1) / F) * 255);
          for (var c = 0; c < D; c++) {
              var K = c + 1;
              if (K == D)
                  K--;
              var R = n[a + c]
                , J = n[a + K]
                , w = n[f * D + c];
              if (R - w == 0) {
                  z[C++] = q
              } else {
                  var p = R - w + 255;
                  if (p == 255) {
                      p = 0
                  } else {
                      p = ~~(Math.atan2(1 / (255 - p), 1) * E + .5);
                      if (p < 0)
                          p += 255
                  }
                  z[C++] = p
              }
              if (R - J == 0) {
                  z[C++] = ~~((1 - (c + 1) / D) * 255)
              } else {
                  var p = R - J + 255;
                  if (p == 255) {
                      p = 0
                  } else {
                      p = ~~(Math.atan2(1 / (255 - p), 1) * E + .5);
                      if (p < 0)
                          p += 255
                  }
                  z[C++] = p
              }
          }
      }
  }
  ;
  j.l.p.K$ = function(n, z) {
      var self = j.l.p
        , C = self.ob
        , D = self.ua
        , F = 0;
      for (var M = 0; M < D; M++) {
          for (var X = 0; X < C; X++) {
              n[F] = ~~(M * z + .5) + ~~(n[F] * (1 - z) + .5);
              F++;
              n[F] = ~~(X * z + .5) + ~~(n[F] * (1 - z) + .5);
              F++
          }
      }
  }
  ;
  j.l.p.ad0 = function(n, z, C, D) {
      var self = j.l.p
        , F = self.ob
        , X = self.ua
        , E = 0;
      for (var M = 0; M < X; M++) {
          for (var f = 0; f < F; f++) {
              z[E] = ~~(z[E] * (1 - C) + .5) + ~~(n[E] * D + .5);
              E++;
              z[E] = ~~(z[E] * (1 - C) + .5) + ~~(n[E] * D + .5);
              E++
          }
      }
  }
  ;
  j.l.p.Bm = function(n, z, C) {
      var self = j.l.p
        , D = self.ob
        , F = self.ua
        , X = 0
        , E = 0;
      for (var M = 0; M < F; M++) {
          for (var f = 0; f < D; f++) {
              var a = n[X++]
                , q = n[X++];
              z[E++] = q % C >= 2 && a % C >= 2 ? 255 : 0
          }
      }
  }
  ;
  j.l.p.iQ = function(n, z, C, D, F, X, E) {
      var self = j.l.p
        , f = self.ob
        , a = self.ua
        , q = 0
        , c = 0
        , K = 0;
      for (var M = 0; M < a; M++) {
          var R = M % n < C || a - C <= M;
          for (var J = 0; J < f; J++) {
              E[q++] = R || J % z < D || f - D <= J ? F : X
          }
      }
  }
  ;
  j.l.p.sg = function(n, z, C, D) {
      var self = j.l.p
        , F = self.ob
        , X = self.ua
        , E = g3.sg(z)
        , f = E[0]
        , a = E[1]
        , q = j.T(f.t() * 4);
      q.fill(4294967295);
      j.Vv(a, q);
      var c = j.scale.hG(q, f.d, f.v)
        , K = j.scale.Bu(c, null, F, X, C / 100, C / 100, 0, 0);
      j.Ni(K, n, 0);
      if (D)
          j.eL(n)
  }
  ;
  j.l.p.h3 = function(n) {
      return ~~Math.min(255, Math.max(0, n))
  }
  ;
  j.l.p.y8 = [0, 5, 10, 15, 20, 25, 35, 45, 65, 85, 105, 125, 145, 165, 185, 205];
  j.l.p.p7 = [0, .2, .4, .5, .6, .7, .8, .9, 1, 1.1, 1.2, 1.3, 1.4, 1.5, 1.7, 2, 2.5, 3, 3.5, 4, 5, 6, 7, 8, 9, 10];
  j.l.p.r6 = function(n) {
      return n > 40 ? [1.25, 1.5, 1.75, 2, 2.5, 3, 4, 5, 7.5, 10][n - 41] : n / 40
  }
  ;
  j.l.p.a5J = function(n, z, C) {
      var self = j.l.p
        , D = self.ob
        , F = self.ua
        , X = C
        , E = C >> 1
        , f = E - 1
        , a = X * X
        , q = 0;
      for (var M = 0; M < F; M++) {
          var c = 0
            , K = 0
            , R = 0
            , J = ~~(M / C) * C
            , w = 0;
          for (var p = 0; p < X; p++) {
              for (var I = 0; I < X; I++) {
                  var m = w + I
                    , A = J + p;
                  if (m >= D)
                      m = D - 1;
                  if (A >= F)
                      A = F - 1;
                  c += n[A * D + m << 2];
                  K += n[(A * D + m << 2) + 1];
                  R += n[(A * D + m << 2) + 2]
              }
          }
          var U = ~~(c / a)
            , r = ~~(K / a)
            , $ = ~~(R / a);
          z[q] = U;
          z[q + 1] = r;
          z[q + 2] = $;
          z[q + 3] = n[q + 3];
          q += 4;
          for (var k = 1; k < D; k++) {
              for (var p = 0; p < X; p++) {
                  var G = k - 1
                    , i = G + X
                    , A = J + p;
                  if (i >= D)
                      i = D - 1;
                  if (A >= F)
                      A = F - 1;
                  var o = A * D
                    , S = o + i << 2
                    , H = o + G << 2;
                  c += n[S] - n[H];
                  K += n[S + 1] - n[H + 1];
                  R += n[S + 2] - n[H + 2]
              }
              if (k % C == 0) {
                  U = ~~(c / a);
                  r = ~~(K / a);
                  $ = ~~(R / a)
              }
              z[q] = U;
              z[q + 1] = r;
              z[q + 2] = $;
              z[q + 3] = n[q + 3];
              q += 4
          }
      }
  }
  ;
  j.l.p.a8I = function(n, z, C, D, F) {
      var self = j.l.p
        , X = self.ob
        , E = self.ua
        , f = 0
        , a = 0
        , q = 0
        , c = 0;
      for (var M = c; M < E + c; M++) {
          var K = M % z >= D || M < D || E + c - D <= M;
          for (var R = 0; R < X; R++) {
              n[f++] = K && (R % C >= F || R < F || X - F <= R) ? 255 : 0
          }
      }
  }
  ;
  j.l.p.ajH = function(n, z, C) {
      var D = function(q, c) {
          return c <= q ? q / c & 1 ? c - q % c : q % c : q
      }
        , F = [function(f, a) {
          return D(f, 255) / 255
      }
      , function(f, a) {
          return (255 + D(f, 255) - D(a, 255)) / 510
      }
      , function(f, a) {
          return (255 - D(a, 255)) / 255
      }
      , function(f, a) {
          return (510 - D(f, 255) - D(a, 255)) / 510
      }
      , function(f, a) {
          return (255 - D(f, 255)) / 255
      }
      , function(f, a) {
          return (255 - D(f, 255) + D(a, 255)) / 510
      }
      , function(f, a) {
          return D(a, 255) / 255
      }
      , function(f, a) {
          return (D(f, 255) + D(a, 255)) / 510
      }
      ][C]
        , X = 0
        , E = 0;
      for (var M = 0; M < j.l.p.Rs; M++) {
          var f = n[X++]
            , a = n[X++];
          z[E++] = ~~(255 * F(f, a))
      }
  }
  ;
  j.l.ajx = function() {
      var n = [], z = new Uint8Array(512), C = new Float32Array(512), D = new Float32Array(512), F = [1, -1, 1, -1, 1, -1, 0, 0], X = [1, 1, -1, -1, 0, 0, 1, -1], E = 0, f, w = 0;
      for (; E < 256; E++)
          n[E] = E;
      while (E != 0) {
          E--;
          f = Math.floor(Math.random() * E);
          n[f] ^= n[E] ^ (n[E] = n[f])
      }
      function a(a) {
          a = Math.floor(a * 65536);
          if (a < 256) {
              a |= a << 8
          }
          for (var M = 0; M < 256; M++) {
              var m = M + 256
                , A = n[M] ^ (M & 1 ? a : a >> 8) & 255;
              z[M] = z[m] = A;
              A = A % 8;
              C[M] = C[m] = F[A];
              D[M] = D[m] = X[A]
          }
      }
      function q(m) {
          return m * m * m * (m * (m * 6 - 15) + 10)
      }
      function c(m, A, U) {
          return (1 - U) * m + U * A
      }
      function K(m, A) {
          return m & A
      }
      function R(m, A) {
          return m % A
      }
      function J(m, A, U, r, $) {
          var k = Math.floor(m), G = Math.floor(A), E, i, o, S, H, e;
          m = m - k;
          A = A - G;
          k = k & 255;
          G = G & 255;
          E = k + z[G];
          S = C[E] * m + D[E] * A;
          E = k + z[$(G + 1, r)];
          o = C[E] * m + D[E] * (A - 1);
          E = $(k + 1, U) + z[G];
          H = C[E] * (m - 1) + D[E] * A;
          E = $(k + 1, U) + z[$(G + 1, r)];
          e = C[E] * (m - 1) + D[E] * (A - 1);
          i = q(m);
          return c(c(S, H, i), c(o, e, i), q(A))
      }
      function p(m, E, A) {
          m[E] = A
      }
      function I(m, A, U, r, $) {
          var k = Math.min(Math.min(A, 256), Math.min(256, U)), G = k == 256 || k < 8, i = 8, o = new Uint32Array(i), S = new Uint32Array(i), H = new Float32Array(i), e = new Float32Array(i), V = 1, v = 1, B = G ? K : R, Z = p, d;
          for (var M = 0; M < i; M++) {
              d = v * 1 / k;
              if (G) {
                  S[M] = (1 << Math.ceil(Math.log2(U * d))) - 1;
                  o[M] = (1 << Math.ceil(Math.log2(A * d))) - 1
              } else {
                  S[M] = d * U;
                  o[M] = d * A
              }
              H[M] = V;
              e[M] = d;
              V *= .5;
              v = v << 1
          }
          a(Math.random());
          for (var g = 0, E = 0; g < U; g++) {
              for (var Y = 0; Y < A; Y++) {
                  var y = 0;
                  for (var L = 0; L < i; L++) {
                      d = e[L];
                      y += J(Y * d, g * d, o[L], S[L], B) * H[L]
                  }
                  Z(r, E++, Math.round(Math.max(0, 255 * Math.min(1, .5 + y * .5))))
              }
          }
      }
      return I
  }();
  j.l.aeP = function() {
      function n(z, C, D, F) {
          var X = new Uint8Array(z.length >>> 2)
            , E = new Uint8Array(z.length >>> 2)
            , f = new Uint8Array(z.length);
          for (var M = 0; M < z.length; M += 4) {
              var a = z[M + 0] * .3 + z[M + 1] * .59 + z[M + 2] * .11;
              E[M >>> 2] = a;
              f[M] = z[M];
              f[M + 1] = z[M + 1];
              f[M + 2] = z[M + 2]
          }
          j.nI.ir(E, X, C, D);
          j.nI.jv(z, F, C, D, j.nI.Bk[1], 0, !0);
          for (var M = 0; M < z.length; M += 4) {
              f[M + 3] = 255 - X[M >>> 2]
          }
          for (var M = 0, q = z.length; M < q; M += 4) {
              var c = f[M + 3] / 255;
              F[M] = f[M] * c + F[M] * (1 - c);
              F[M + 1] = f[M + 1] * c + F[M + 1] * (1 - c);
              F[M + 2] = f[M + 2] * c + F[M + 2] * (1 - c)
          }
      }
      return n
  }();
  j.l.ajN = function() {
      function n(X, E, f, a, q) {
          var c = new Uint32Array(X.buffer)
            , K = 0;
          for (var M = 0; M < f; M++) {
              for (var R = 0; R < E; R++,
              K += 4) {
                  var J = c[M * E + R]
                    , w = J & 255
                    , p = J >>> 8 & 255
                    , I = J >>> 16 & 255
                    , m = J >>> 24 & 255
                    , A = ~~(Math.random() * 8)
                    , U = A % 3
                    , r = 0
                    , $ = 0;
                  if (A < 3) {
                      $--
                  } else if (A > 4) {
                      $++
                  }
                  if (U == 0) {
                      r--
                  } else if (U == 2) {
                      r++
                  }
                  var k = R + r
                    , G = M + $;
                  if (k < 0)
                      k = 0;
                  else if (k > E - 1)
                      k = E - 1;
                  if (G < 0)
                      G = 0;
                  else if (G > f - 1)
                      G = f - 1;
                  var J = c[G * E + k]
                    , i = J & 255
                    , o = J >>> 8 & 255
                    , S = J >>> 16 & 255
                    , H = J >>> 24 & 255;
                  a[K] = q(w, i);
                  a[K + 1] = q(p, o);
                  a[K + 2] = q(I, S);
                  a[K + 3] = q(m, H)
              }
          }
      }
      function z(X, E) {
          return E
      }
      function C(X, E) {
          return X > E ? E : X
      }
      function D(X, E) {
          return X < E ? E : X
      }
      function F(X, E, f, a, q) {
          var c = q[0];
          if (c == 0)
              n(X, E, f, a, z);
          else if (c == 1)
              n(X, E, f, a, C);
          else if (c == 2)
              n(X, E, f, a, D);
          else if (c == 3) {
              console.error("Not implemented")
          } else
              console.error("Mew mew")
      }
      return F
  }();
  j.l.agQ = function() {
      function n(z, C, D, F, X) {
          var E = X && X[0] ? X[0] : 4, f, a, q, c, K, R, J;
          for (var M = 0; M < D; M++) {
              var w = Math.max(M - E, 0)
                , p = Math.min(M + E, D - 1);
              for (var I = 0; I < C; I++) {
                  var m = Math.max(I - E, 0)
                    , A = Math.min(I + E, C - 1);
                  f = w * C + m << 2;
                  c = z[f];
                  K = z[f + 1];
                  R = z[f + 2];
                  J = z[f + 3];
                  f = w * C + A << 2;
                  c += z[f];
                  K += z[f + 1];
                  R += z[f + 2];
                  J += z[f + 3];
                  f = p * C + m << 2;
                  c += z[f];
                  K += z[f + 1];
                  R += z[f + 2];
                  J += z[f + 3];
                  f = p * C + A << 2;
                  c += z[f];
                  K += z[f + 1];
                  R += z[f + 2];
                  J += z[f + 3];
                  f = M * C + I << 2;
                  F[f] = c + 2 >>> 2;
                  F[f + 1] = K + 2 >>> 2;
                  F[f + 2] = R + 2 >>> 2;
                  F[f + 3] = J + 2 >>> 2
              }
          }
      }
      return n
  }();
  j.l.alS = function() {
      function n(z, C, D, F) {
          var X = new Uint8Array(z.length)
            , E = new Uint8Array(z.length >>> 2)
            , f = new Uint8Array(z.length >>> 2);
          j.nI.jv(z, X, C, D, j.nI.Bk[2], 0, !0);
          for (var M = 0; M < z.length; M += 4) {
              var a = X[M + 0] * .3 + X[M + 1] * .59 + X[M + 2] * .11;
              E[M >>> 2] = a;
              F[M + 0] = z[M + 0];
              F[M + 1] = z[M + 1];
              F[M + 2] = z[M + 2];
              F[M + 3] = z[M + 3]
          }
          j.nI.ir(E, f, C, D);
          for (var M = 0; M < z.length; M += 4) {
              X[M + 3] = ~~(Math.max(0, 255 - f[M >>> 2] - 50) * (255 / 205))
          }
          for (var M = 0, q = z.length; M < q; M += 4) {
              var c = X[M + 3] / 255;
              F[M] = X[M] * c + F[M] * (1 - c);
              F[M + 1] = X[M + 1] * c + F[M + 1] * (1 - c);
              F[M + 2] = X[M + 2] * c + F[M + 2] * (1 - c)
          }
      }
      return n
  }();
  j.l.gA = function() {
      function n(A, U) {
          return A[U] + A[U + 1] + A[U + 2] + A[U + 3]
      }
      function z(A, U) {
          return A[U] + A[U + 1] + A[U + 2] + 2 * A[U + 3]
      }
      function C(A, U, r, $) {
          A[U] = r[$];
          A[U + 1] = r[$ + 1];
          A[U + 2] = r[$ + 2];
          A[U + 3] = r[$ + 3]
      }
      function D(A, U, r) {
          A[U] = A[r];
          A[U + 1] = A[r + 1];
          A[U + 2] = A[r + 2];
          A[U + 3] = A[r + 3]
      }
      function F(A, U, r) {
          A[r] = U[r];
          A[r + 1] = U[r + 1];
          A[r + 2] = U[r + 2];
          A[r + 3] = 255 - U[r + 3]
      }
      function X(A) {
          for (var M = 0, U = A.length; M < U; M += 4) {
              A[M + 3] = 255 - A[M + 3]
          }
      }
      function E() {
          var A = Math.random();
          if (A > .5)
              return 0;
          if (A > .25)
              return 1;
          if (A > .1)
              return 2;
          if (A > .02143)
              return 3;
          if (A > .00445)
              return 4;
          if (A > 65e-5)
              return 5;
          if (A > 415e-6)
              return 6;
          if (A > 55e-6)
              return 7;
          return 8
      }
      function f(A, U, r, $, k, G) {
          A[U] = r[$] + (k[G] - r[$] >> 1);
          A[U + 1] = r[$ + 1] + (k[G + 1] - r[$ + 1] >> 1);
          A[U + 2] = r[$ + 2] + (k[G + 2] - r[$ + 2] >> 1);
          A[U + 3] = r[$ + 3] + (k[G + 3] - r[$ + 3] >> 1)
      }
      function a(A, U, r, $, k, G) {
          A[U] = k[G] + r[$] >> 1;
          A[U + 1] = k[G + 1] + r[$ + 1] >> 1;
          A[U + 2] = k[G + 2] + r[$ + 2] >> 1;
          A[U + 3] = k[G + 3] + r[$ + 3] >> 1
      }
      function q(A, U, r, $, k, G, i, o, S) {
          var H = 0, e = 0, V = 0, M, v = k[G], B;
          f(o, 0, A, U, A, r);
          for (M = 0; M < v; M++) {
              f(o, (M + 1) * 4, o, M * 4, A, r)
          }
          e = (v + 1) * 4;
          V += v;
          G--;
          C(A, U, o, e - 4);
          $[G] = n(A, U);
          U -= S;
          while (G > 0 && $[G - 1] < $[G]) {
              B = o;
              o = i;
              i = B;
              H = e;
              a(o, 0, A, U - S, i, 0);
              for (M = 4; M < H; M += 4) {
                  a(o, M, o, M - 4, i, M)
              }
              v = k[G];
              for (M = V; M < v; M++) {
                  f(o, e, o, e - 4, i, H - 4);
                  e += 4;
                  V++
              }
              G--;
              C(A, U, o, e - 4);
              $[G] = n(A, U);
              U -= S
          }
      }
      function c(A, U, r, $, k) {
          var G = U * 4, i = 0, o, S, H = new Uint8Array(U + 1), e = new Uint8Array(10 * 4), V = new Uint8Array(10 * 4);
          for (var M = 0; M < r; M++) {
              F($, A, i);
              k[0] = n($, i);
              H[0] = E();
              o = i;
              i += 4;
              for (var v = 1; v < U; v++) {
                  F($, A, i);
                  k[v] = n($, i);
                  S = E();
                  H[v] = S;
                  if (k[v - 1] < k[v] && S > 0) {
                      q($, i - 4, i, k, H, v, e, V, 4)
                  }
                  i += 4
              }
              k[U] = k[0];
              H[U] = H[0];
              if (k[U - 1] < k[U] && S > 0) {
                  q($, i, o, k, H, U, e, V, 4)
              }
          }
          X($)
      }
      function K() {
          var A = Math.random();
          if (A > .659755)
              return 0;
          if (A > .1625)
              return 10;
          if (A > .06)
              return 20;
          if (A > .01)
              return 30;
          if (A > .0035)
              return 40;
          if (A > 65e-5)
              return 50;
          if (A > 415e-6)
              return 60;
          if (A > 55e-6)
              return 70;
          return 80
      }
      function R(A, U, r, $, k, G) {
          var i = K() + 1
            , o = $[k];
          for (var M = 1; M < i; M++) {
              if (0 > k)
                  break;
              if ($[k - M] < o) {
                  D(A, U, r)
              } else {
                  break
              }
              U += G
          }
      }
      function J(A, U, r, $, k) {
          var G = U * 4
            , i = 0;
          for (var M = 0; M < r; M++) {
              F($, A, i);
              k[0] = n($, i);
              i += 4;
              for (var o = 1; o < U; o++) {
                  F($, A, i);
                  k[o] = n(A, i);
                  if (k[o - 1] < k[o]) {
                      R($, i - 4, i, k, o, -4)
                  }
                  i += 4
              }
              k[U] = k[0];
              if (k[o - 1] < k[o]) {
                  R($, i - 4, i - G, k, o, -4)
              }
          }
          X($)
      }
      function w(A, U, r, $, k, G) {
          var i = 1, o, S, H = new Uint8Array(4), e, V = U;
          while (Math.random() < 1 / i) {
              V = U;
              if ($ <= 1)
                  break;
              o = r[$];
              S = r[$ - 1];
              if (o <= S)
                  break;
              C(H, 0, A, V - G);
              e = !0;
              for (var M = $; M < k; M++) {
                  if (S > r[M]) {
                      C(A, V - G, H, 0);
                      r[M - 1] = S;
                      e = !1;
                      break
                  }
                  C(A, V - G, A, V);
                  r[M - 1] = r[M];
                  V += G
              }
              if (e) {
                  C(A, V - G, H, 0);
                  r[k - 1] = S
              }
              i++;
              $--;
              U -= G
          }
      }
      function p(A, U, r, $, k) {
          var G = 0
            , i = 0
            , o = U * 4;
          for (var M = 0; M < r; M++) {
              i = G;
              for (var S = 0; S < U; S++) {
                  F($, A, G);
                  k[S] = z($, G);
                  G += 4
              }
              G = i;
              for (var S = 1; S < U; S++) {
                  if (k[S - 1] < k[S] && Math.random() < .66) {
                      w($, G + 4, k, S, U, 4)
                  }
                  G += 4
              }
              G += 4
          }
          X($)
      }
      function I(A, U, r, $, k) {
          var G = k[0], i = k[1], o = new Uint16Array(U + 1), S = A, H = $, e;
          if (i) {
              e = $.slice(0);
              m(A, $, U, r);
              S = $;
              H = e
          }
          if (G == 0)
              c(S, U, r, H, o);
          else if (G == 1)
              J(S, U, r, H, o);
          else if (G == 2)
              p(S, U, r, H, o);
          if (i) {
              m(e, $, U, r)
          }
      }
      function m(A, U, r, $) {
          for (var k = 0; k < $; k++)
              for (var G = 0; G < r; G++) {
                  var i = k * r + G << 2
                    , o = k * r + (r - 1 - G) << 2;
                  U[o] = A[i];
                  U[o + 1] = A[i + 1];
                  U[o + 2] = A[i + 2];
                  U[o + 3] = A[i + 3]
              }
      }
      return I
  }();
  j.l.aat = function(n, z, C, D, F) {
      var X = j.l.p
        , E = 1
        , I = 0
        , U = 0;
      X.Yw(z, C);
      X.Kd(F[2]);
      var f = 3 << 13
        , a = Math.PI / 2.43
        , q = a / 256
        , c = Math.PI * 2 / 256;
      function K() {
          var G = X.random() * 256
            , i = X.random() * 256;
          return E * ~~(Math.tan(a - G * q) * 325 * Math.cos(i * c) * 256) + f >> 16
      }
      E = F[0];
      var R = F[1]
        , J = (R + 2) / 2
        , w = X.random() * 255
        , p = X.FW(1);
      for (var M = 0; M < C; M++) {
          var m = X.h3(K() + w);
          for (var A = 0; A < z; A++) {
              m = X.h3(K() + m);
              p[I++] = m
          }
      }
      I = z;
      for (var M = 1; M < C; M++) {
          var r = X.h3(K() + p[U++]);
          p[I++] = r;
          for (var A = 1; A < z; A++) {
              var $ = U + 1;
              if (A + 1 == z) {
                  $--
              }
              var k = (J + r + p[$] + p[U] * R) / (R + 2);
              r = X.h3(K() + k);
              p[I++] = r;
              U++
          }
      }
      X.yR(p, D)
  }
  ;
  j.kn = {
      ajO: function(n, z) {
          var M = n.length;
          n.push(z);
          var C = M >>> 1;
          while (C != 0 && n[M][0] < n[C][0]) {
              var D = n[M];
              n[M] = n[C];
              n[C] = D;
              M = C;
              C = M >>> 1
          }
      },
      agc: function(n) {
          if (n.length == 2)
              return n.pop();
          var top = n[1]
            , M = 1;
          n[1] = n.pop();
          var z = n.length;
          while (!0) {
              var C = M << 1
                , D = C + 1
                , F = M;
              if (C < z && n[C][0] < n[F][0])
                  F = C;
              if (D < z && n[D][0] < n[F][0])
                  F = D;
              if (F == M)
                  break;
              var X = n[M];
              n[M] = n[F];
              n[F] = X;
              M = F
          }
          return top
      },
      a0R: function(n) {
          for (var M = 1; M < n.length; M++) {
              var z = M
                , C = 1e9;
              while (z != 0) {
                  var D = n[z][0];
                  if (D > C) {
                      console.log(M);
                      throw "e"
                  }
                  C = D;
                  z = z >>> 1
              }
          }
      }
  };
  j.$ = {};
  j.$.Zv = new Float64Array(256);
  j.$.k8 = new Uint8Array(256 * 256);
  j.$.RP = new Uint8Array(256 * 256);
  (function() {
      for (var M = 0; M < 256; M++)
          j.$.Zv[M] = 255 / M;
      for (var M = 0; M < 256; M++)
          for (var n = 0; n < 256; n++)
              j.$.k8[M * 256 + n] = M == 0 ? 0 : Math.round(n * 255 / M);
      for (var M = 0; M < 256; M++)
          for (var n = 0; n < 256; n++)
              j.$.RP[M * 256 + n] = Math.round(M * (255 - n) / 255)
  }());
  j.$.xN = function(n, z, C, D, F, X, E, f) {
      if (f == null)
          f = fg.jG();
      if ("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(n) == -1) {
          E = E * f.fill;
          f.fill = 1;
          f.style = !1
      }
      var a = "norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(",")
        , q = "dkCl,lgCl,hue ,sat ,colr,lum ".split(",")
        , c = j.$[n + "F"];
      if (f.YL == null && n == "norm")
          j.$.apE(z, C, D, F, X, E, c, f.SM ? 1 : 0);
      else if (n == "diss")
          j.$.ajm(z, C, D, F, X, E, c, f.SM ? 1 : 0);
      else if (a.indexOf(n) != -1)
          j.$.adQ(z, C, D, F, X, E, c, f);
      else if (q.indexOf(n) != -1)
          j.$.a8y(z, C, D, F, X, E, c, f)
  }
  ;
  j.$.age = function(n, z, C) {
      var D = n * C + 1 - C;
      return D < .001 ? 0 : 1 - Math.min(1, (1 - z) / D)
  }
  ;
  j.$.a0r = function(n, z, C) {
      return n * C == 1 ? 1 : Math.min(1, z / (1 - n * C))
  }
  ;
  j.$.kt = function(n) {
      return n <= .25 ? ((16 * n - 12) * n + 4) * n : Math.sqrt(n)
  }
  ;
  j.$.normF = function(n, z, C) {
      return n
  }
  ;
  j.$.darkF = function(n, z, C) {
      return Math.min(n, z)
  }
  ;
  j.$["mul F"] = function(n, z, C) {
      return n * z
  }
  ;
  j.$.idivF = function(n, z, C) {
      var D = n * C + 1 - C;
      return z == 1 ? 1 : 1 - z >= D ? 0 : 1 - (1 - z) / D
  }
  ;
  j.$.lbrnF = function(n, z, C) {
      return Math.max(0, n * C + z - C)
  }
  ;
  j.$.dkClF = function(n, z, C) {
      var D = j.xj(n) < j.xj(z) ? n : z;
      C.h = D.h;
      C.Q = D.Q;
      C.O = D.O;
      return C
  }
  ;
  j.$.liteF = function(n, z, C) {
      return Math.max(n, z)
  }
  ;
  j.$.scrnF = function(n, z, C) {
      return z + n - z * n
  }
  ;
  j.$["div F"] = function(n, z, C) {
      n *= C;
      return z == 0 ? 0 : z >= 1 - n ? 1 : z / (1 - n)
  }
  ;
  j.$.lddgF = function(n, z, C) {
      n *= C;
      return Math.min(1, n + z)
  }
  ;
  j.$.lgClF = function(n, z, C) {
      var D = j.xj(n) > j.xj(z) ? n : z;
      C.h = D.h;
      C.Q = D.Q;
      C.O = D.O;
      return C
  }
  ;
  j.$.overF = function(n, z, C) {
      return j.$.hLitF(z, n, C)
  }
  ;
  j.$.sLitF = function(n, z, C) {
      return n <= .5 ? z - (1 - 2 * n) * z * (1 - z) : z + (2 * n - 1) * (j.$.kt(z) - z)
  }
  ;
  j.$.hLitF = function(n, z, C) {
      return n <= .5 ? j.$["mul F"](2 * n, z, C) : j.$.scrnF(2 * n - 1, z, C)
  }
  ;
  j.$.vLitF = function(n, z, C) {
      return n <= .5 ? j.$.age(2 * n, z, C) : j.$.a0r(2 * n - 1, z, C)
  }
  ;
  j.$.lLitF = function(n, z, C) {
      return n <= .5 ? j.$.lbrnF(2 * n, z, C) : j.$.lddgF(2 * n - 1, z, C)
  }
  ;
  j.$.pLitF = function(n, z, C) {
      return n <= .5 ? j.$.darkF(2 * n, z, C) : j.$.liteF(2 * n - 1, z, C)
  }
  ;
  j.$.hMixF = function(n, z, C) {
      if (C > .99)
          return n + z < 1 ? 0 : 1;
      return Math.min(1, Math.max(0, (z + n * C - C) / (1 - C + 1e-6)))
  }
  ;
  j.$.diffF = function(n, z, C) {
      n *= C;
      return Math.abs(n - z)
  }
  ;
  j.$.smudF = function(n, z, C) {
      return n + z - 2 * n * z
  }
  ;
  j.$.fsubF = function(n, z, C) {
      return Math.max(z - n, 0)
  }
  ;
  j.$.fdivF = function(n, z, C) {
      return Math.min(z / n, 1)
  }
  ;
  j.$["hue F"] = function(n, z, C) {
      j.$.AQ(n, j.cg(z), C);
      j.$.Vg(C, j.xj(z), C)
  }
  ;
  j.$["sat F"] = function(n, z, C) {
      j.$.AQ(z, j.cg(n), C);
      j.$.Vg(C, j.xj(z), C)
  }
  ;
  j.$.colrF = function(n, z, C) {
      j.$.Vg(n, j.xj(z), C)
  }
  ;
  j.$["lum F"] = function(n, z, C) {
      j.$.Vg(z, j.xj(n), C)
  }
  ;
  j.$.Vg = function(n, z, C) {
      var D = z - j.xj(n);
      C.h = n.h + D;
      C.Q = n.Q + D;
      C.O = n.O + D;
      j.$.anI(C)
  }
  ;
  j.$.anI = function(n) {
      var z = n.h
        , C = n.Q
        , D = n.O
        , F = j.Rg(z, C, D)
        , h = Math.min(z, C, D)
        , X = Math.max(z, C, D);
      if (h < 0) {
          var E = F / (F - h);
          z = F + (z - F) * E;
          C = F + (C - F) * E;
          D = F + (D - F) * E
      }
      if (X > 1) {
          var E = (1 - F) / (X - F);
          z = F + (z - F) * E;
          C = F + (C - F) * E;
          D = F + (D - F) * E
      }
      n.h = z;
      n.Q = C;
      n.O = D
  }
  ;
  j.$.AQ = function(n, z, C) {
      var D = j.$.aqo
        , F = n.h
        , X = n.Q
        , E = n.O;
      if (F == X && X == E) {
          C.h = C.Q = C.O = 0
      } else if (F > X) {
          if (F > E) {
              if (X > E) {
                  C.h = z;
                  C.Q = D(F, X, E, z);
                  C.O = 0
              } else {
                  C.h = z;
                  C.O = D(F, E, X, z);
                  C.Q = 0
              }
          } else {
              C.O = z;
              C.h = D(E, F, X, z);
              C.Q = 0
          }
      } else {
          if (F < E) {
              if (X > E) {
                  C.Q = z;
                  C.O = D(X, E, F, z);
                  C.h = 0
              } else {
                  C.O = z;
                  C.Q = D(E, X, F, z);
                  C.h = 0
              }
          } else {
              C.Q = z;
              C.h = D(X, F, E, z);
              C.O = 0
          }
      }
  }
  ;
  j.$.aqo = function(n, z, C, D) {
      return (z - C) * D / (n - C)
  }
  ;
  j.$.apE = function(n, z, C, D, F, X, E, f) {
      var a = z.Yi(D).Yi(F)
        , q = Math.max(0, a.x - z.x)
        , c = Math.max(0, a.x - D.x)
        , K = Math.max(0, a.y - z.y)
        , R = Math.max(0, a.y - D.y)
        , J = a.d
        , w = a.v
        , p = z.d
        , I = D.d
        , m = j.$.k8
        , A = j.$.RP
        , U = new Uint32Array(n.buffer)
        , r = new Uint32Array(C.buffer);
      for (var M = 0; M < w; M++) {
          var $ = (K + M) * p + q
            , k = (R + M) * I + c;
          for (var G = 0; G < J; G++) {
              var i = U[$ + G]
                , H = 255;
              if (i >>> 24 == 0)
                  continue;
              if (i >>> 24 == 255 && X == 1 && f == 0) {
                  r[k + G] = U[$ + G];
                  continue
              }
              var o = r[k + G]
                , S = 255 * X & 255;
              if (f == 0) {
                  S = (i >>> 24) * X & 255;
                  H = o >>> 24
              }
              var e = A[H << 8 | S]
                , V = S + e
                , v = i & 255
                , B = i >>> 8 & 255
                , Z = i >>> 16 & 255
                , d = o & 255
                , g = o >>> 8 & 255
                , Y = o >>> 16 & 255;
              r[k + G] = f * (o >>> 24) + (1 - f) * V << 24 | m[V << 8 | j.UQ(Z * S + Y * e)] << 16 | m[V << 8 | j.UQ(B * S + g * e)] << 8 | m[V << 8 | j.UQ(v * S + d * e)]
          }
      }
  }
  ;
  j.$.aqy = function(n, z, C, D, F, X) {
      var E = z.Yi(D).Yi(F)
        , f = Math.max(0, E.x - z.x)
        , a = Math.max(0, E.x - D.x)
        , q = Math.max(0, E.y - z.y)
        , c = Math.max(0, E.y - D.y)
        , K = E.d
        , R = E.v
        , J = z.d
        , w = D.d
        , p = j.$.k8
        , I = j.$.RP
        , m = new Uint32Array(n.buffer)
        , A = new Uint32Array(C.buffer)
        , U = Math.floor(Math.random() * 16777215)
        , r = 0;
      for (var M = 0; M < R; M++) {
          var $ = (q + M) * J + f
            , k = (c + M) * w + a;
          for (var G = 0; G < K; G++) {
              var i = m[$ + G];
              if (i >>> 24 == 0)
                  continue;
              if (i >> 24 == 255 && X == 1) {
                  A[k + G] = i;
                  continue
              }
              var o = A[k + G]
                , S = (i >>> 24) * X * (1 / 255)
                , H = (o >>> 24) * (1 / 255)
                , e = H * (1 - S)
                , V = S + e
                , v = i & 255
                , B = i >>> 8 & 255
                , Z = i >>> 16 & 255
                , d = o & 255
                , g = o >>> 8 & 255
                , Y = o >>> 16 & 255;
              r >>>= 8;
              if ((G & 3) == 0)
                  r = j.$.D0(k + G + U);
              var y = V == 0 ? 0 : 1 / V
                , L = Math.floor(V * (256 * 255)) + (r & 255) >>> 8
                , _ = Math.floor((Z * S + Y * e) * y + .5)
                , b = Math.floor((B * S + g * e) * y + .5)
                , x = Math.floor((v * S + d * e) * y + .5);
              A[k + G] = L << 24 | _ << 16 | b << 8 | x
          }
      }
  }
  ;
  j.$._G = function(n, z, C, D, F, X, E, f) {
      var a = j.Rg(n, z, C)
        , q = j.Rg(D, F, X)
        , c = Math.min
        , K = j.$.ao0
        , R = K(a, f, 0);
      R = c(R, K(n, f, 8));
      R = c(R, K(z, f, 16));
      R = c(R, K(C, f, 24));
      var J = K(q, f, 4);
      J = c(J, K(D, f, 12));
      J = c(J, K(F, f, 20));
      J = c(J, K(X, f, 28));
      J = Math.max(J, 1 - E);
      var w = Math.min(R, J);
      return w < 0 ? 0 : w > 1 ? 1 : w
  }
  ;
  j.$.ao0 = function(n, z, M) {
      return Math.min((n - z[M]) * z[M + 1], (n - z[M + 3]) * z[M + 2])
  }
  ;
  j.$.adQ = function(n, z, C, D, F, X, E, f) {
      var a = 1 / 255
        , q = a * X
        , c = f.SM ? 1 : 0
        , K = f.fill
        , R = f.style
        , J = z.Yi(D).Yi(F)
        , w = Math.max(0, J.x - z.x)
        , p = Math.max(0, J.x - D.x)
        , I = Math.max(0, J.y - z.y)
        , m = Math.max(0, J.y - D.y)
        , A = J.d
        , U = J.v
        , r = z.d
        , $ = D.d
        , k = new Uint32Array(n.buffer)
        , G = new Uint32Array(C.buffer);
      for (var M = 0; M < U; M++) {
          var i = (I + M) * r + w
            , o = (m + M) * $ + p;
          for (var S = 0; S < A; S++,
          i++,
          o++) {
              var H = k[i]
                , y = 1;
              if (H >>> 24 == 0)
                  continue;
              var e = G[o]
                , V = (H & 255) * a
                , v = (H >>> 8 & 255) * a
                , B = (H >>> 16 & 255) * a
                , Z = (e & 255) * a
                , d = (e >>> 8 & 255) * a
                , g = (e >>> 16 & 255) * a
                , Y = X;
              if (c == 0) {
                  Y = (H >>> 24) * q;
                  y = (e >>> 24) * a
              }
              if (f.YL)
                  Y *= j.$._G(V, v, B, Z, d, g, y, f.YL);
              var L = y * (1 - Y)
                , _ = Y + L
                , b = _ == 0 ? 0 : 255 / _
                , x = R ? 1 : Y
                , W = ((1 - y) * Y * V + (1 - x) * y * Z + x * y * E(V, Z, (1 + Y - x) * K)) * b
                , g6 = ((1 - y) * Y * v + (1 - x) * y * d + x * y * E(v, d, (1 + Y - x) * K)) * b
                , fY = ((1 - y) * Y * B + (1 - x) * y * g + x * y * E(B, g, (1 + Y - x) * K)) * b;
              _ = Y * K + y * (1 - Y * K);
              var f3 = ~~(_ * 255 + .5);
              G[o] = c * (e >>> 24) + (1 - c) * f3 << 24 | fY << 16 | g6 << 8 | W
          }
      }
  }
  ;
  j.$.a8y = function(n, z, C, D, F, X, E, f) {
      var a = 1 / 255
        , q = a * X
        , c = f.SM ? 1 : 0
        , K = z.Yi(D).Yi(F)
        , R = Math.max(0, K.x - z.x)
        , J = Math.max(0, K.x - D.x)
        , w = Math.max(0, K.y - z.y)
        , p = Math.max(0, K.y - D.y)
        , I = K.d
        , m = K.v
        , A = new Uint32Array(n.buffer)
        , U = new Uint32Array(C.buffer)
        , r = {
          h: 0,
          Q: 0,
          O: 0
      }
        , $ = {
          h: 0,
          Q: 0,
          O: 0
      }
        , k = {
          h: 0,
          Q: 0,
          O: 0
      };
      for (var M = 0; M < m; M++) {
          var G = (w + M) * z.d + R
            , i = (p + M) * D.d + J;
          for (var o = 0; o < I; o++,
          G++,
          i++) {
              var S = A[G]
                , H = U[i]
                , e = (S & 255) * a
                , V = (S >>> 8 & 255) * a
                , v = (S >>> 16 & 255) * a
                , B = (H & 255) * a
                , Z = (H >>> 8 & 255) * a
                , d = (H >>> 16 & 255) * a
                , g = X
                , Y = 1;
              if (c == 0) {
                  g = (S >>> 24) * q;
                  Y = (H >>> 24) * a
              }
              if (f.YL)
                  g *= j.$._G(e, V, v, B, Z, d, Y, f.YL);
              var y = Y * (1 - g)
                , L = g + y
                , _ = 255 / L;
              r.h = e;
              r.Q = V;
              r.O = v;
              $.h = B;
              $.Q = Z;
              $.O = d;
              E(r, $, k);
              var b = (((1 - Y) * e + Y * k.h) * g + B * y) * _
                , x = (((1 - Y) * V + Y * k.Q) * g + Z * y) * _
                , W = (((1 - Y) * v + Y * k.O) * g + d * y) * _
                , g6 = c * (H >>> 24) + (1 - c) * Math.round(L * 255);
              U[i] = g6 << 24 | W << 16 | x << 8 | b
          }
      }
  }
  ;
  j.$.WP = function(n) {
      n = n ^ 61 ^ n >>> 16;
      n = n + (n << 3);
      n = n ^ n >>> 4;
      n = n * 668265261;
      n = n ^ n >> 15;
      return (n & 16777215) * (1 / 16777215)
  }
  ;
  j.$.D0 = function(n) {
      n = n ^ 61 ^ n >>> 16;
      n = n + (n << 3);
      n = n ^ n >>> 4;
      n = n * 668265261;
      n = n ^ n >>> 15;
      return n
  }
  ;
  j.$.uc = function(n) {
      this.Kd = n
  }
  ;
  j.$.uc.prototype.get = function() {
      var n = this.Kd = j.$.D0(this.Kd);
      return (n & 16777215) * (1 / 16777215)
  }
  ;
  j.$.ajm = function(n, z, C, D, F, X, E, f) {
      var a = 1 / 255
        , q = a * X
        , c = Math.round(X * (256 * 256 * 256 / 255))
        , K = z.Yi(D).Yi(F)
        , R = Math.max(0, K.x - z.x)
        , J = Math.max(0, K.x - D.x)
        , w = Math.max(0, K.y - z.y)
        , p = Math.max(0, K.y - D.y)
        , I = K.d
        , m = K.v
        , A = new Uint32Array(n.buffer)
        , U = new Uint32Array(C.buffer);
      for (var M = 0; M < m; M++) {
          var r = (w + M) * z.d + R
            , $ = (p + M) * D.d + J;
          for (var k = 0; k < I; k++,
          r++,
          $++) {
              var G = A[r]
                , i = U[$]
                , o = f * 255 + (1 - f) * (G >>> 24);
              if ((j.$.D0(r) & 16777215) >= o * c)
                  continue;
              U[$] = G & 16777215 | f * (i >>> 24) + (1 - f) * 255 << 24
          }
      }
  }
  ;
  j.$.adm = function(n, z, C) {
      for (var M = 0; M < n.length; M += 4) {
          var D = C[M >>> 2];
          if (D == 0)
              continue;
          var F = D * (1 / 255)
            , X = 1 / F
            , E = z[M]
            , f = z[M + 1]
            , a = z[M + 2]
            , q = n[M]
            , c = n[M + 1]
            , K = n[M + 2];
          z[M] = Math.min(255, Math.max(0, Math.round((E - (1 - F) * q) * X)));
          z[M + 1] = Math.min(255, Math.max(0, Math.round((f - (1 - F) * c) * X)));
          z[M + 2] = Math.min(255, Math.max(0, Math.round((a - (1 - F) * K) * X)));
          z[M + 3] = 255
      }
  }
  ;
  j.$.lY = function(n, z, C, D, F, X, E, f, a, q, c) {
      if (q == null)
          q = !1;
      if (c == null)
          c = [1, 1, 1];
      var K = 255 << 24 | c[2] * 16711680 | c[1] * 65280 | c[0] * 255
        , R = ~K;
      if (F && !z.jm(X)) {
          var J = j.T(z.t() * 4);
          J.fill(E);
          j.v8(F, X, J, z);
          F = J;
          X = z
      }
      if (q) {
          if (F == null)
              j.$.apZ(n, z, C, D, F, f, a, K, R);
          else
              j.$.a3z(n, z, C, D, F, f, a)
      } else {
          if (F == null)
              j.$.aa4(n, z, C, D, F, f, a, K, R);
          else
              j.$.adX(n, z, C, D, F, f, a)
      }
  }
  ;
  j.$.aa4 = function(n, z, C, D, F, X, E, f, a) {
      var q = 1 / 255
        , c = z.Yi(D).Yi(X)
        , K = Math.max(0, c.x - z.x)
        , R = Math.max(0, c.x - D.x)
        , J = Math.max(0, c.y - z.y)
        , w = Math.max(0, c.y - D.y)
        , p = c.d
        , I = c.v
        , m = new Uint32Array(n.buffer)
        , A = new Uint32Array(C.buffer)
        , U = j.$.k8
        , r = E * 255 & 255;
      for (var M = 0; M < I; M++) {
          var $ = (J + M) * z.d + K
            , k = (w + M) * D.d + R;
          for (var G = 0; G < p; G++,
          $++,
          k++) {
              var i = m[$]
                , o = A[k]
                , S = i >>> 24
                , H = o >>> 24
                , e = j.UQ(r * S + (255 - r) * H)
                , V = j.UQ(S * r)
                , v = j.UQ(H * (255 - r))
                , B = i & 255
                , Z = i >>> 8 & 255
                , d = i >>> 16 & 255
                , g = o & 255
                , Y = o >>> 8 & 255
                , y = o >>> 16 & 255
                , L = V * B + g * v
                , _ = V * Z + Y * v
                , b = V * d + y * v;
              L = U[e << 8 | j.UQ(L)];
              _ = U[e << 8 | j.UQ(_)];
              b = U[e << 8 | j.UQ(b)];
              var x = e << 24 | b << 16 | _ << 8 | L;
              A[k] = a & o | f & x
          }
      }
  }
  ;
  j.$.apZ = function(n, z, C, D, F, X, E, f, a) {
      var q = 1 / 255
        , c = z.Yi(D).Yi(X)
        , K = Math.max(0, c.x - z.x)
        , R = Math.max(0, c.x - D.x)
        , J = Math.max(0, c.y - z.y)
        , w = Math.max(0, c.y - D.y)
        , p = c.d
        , I = c.v
        , m = new Uint32Array(n.buffer)
        , A = new Uint32Array(C.buffer)
        , U = j.$.k8
        , r = E * 16777215 & 16777215;
      for (var M = 0; M < I; M++) {
          var $ = (J + M) * z.d + K
            , k = (w + M) * D.d + R;
          for (var G = 0; G < p; G++,
          $++,
          k++) {
              if ((j.$.D0($) & 16777215) < r) {
                  A[k] = a & A[k] | f & m[$]
              }
          }
      }
  }
  ;
  j.$.adX = function(n, z, C, D, F, X, E) {
      var f = 1 / 255
        , a = z.Yi(D).Yi(X)
        , q = Math.max(0, a.x - z.x)
        , c = Math.max(0, a.x - D.x)
        , K = Math.max(0, a.y - z.y)
        , R = Math.max(0, a.y - D.y)
        , J = a.d
        , w = a.v
        , p = new Uint32Array(n.buffer)
        , I = new Uint32Array(C.buffer)
        , m = j.$.k8;
      for (var M = 0; M < w; M++) {
          var A = (K + M) * z.d + q
            , U = (R + M) * D.d + c;
          for (var r = 0; r < J; r++,
          A++,
          U++) {
              var $ = F[A] * E & 255;
              if ($ == 0)
                  continue;
              if ($ == 255) {
                  I[U] = p[A];
                  continue
              }
              var k = p[A]
                , G = I[U]
                , i = k >>> 24
                , o = G >>> 24
                , S = j.UQ($ * i + (255 - $) * o)
                , H = j.UQ(i * $)
                , e = j.UQ(o * (255 - $))
                , V = k & 255
                , v = k >>> 8 & 255
                , B = k >>> 16 & 255
                , Z = G & 255
                , d = G >>> 8 & 255
                , g = G >>> 16 & 255
                , Y = m[S << 8 | j.UQ(H * V + Z * e)]
                , y = m[S << 8 | j.UQ(H * v + d * e)]
                , L = m[S << 8 | j.UQ(H * B + g * e)];
              I[U] = S << 24 | L << 16 | y << 8 | Y
          }
      }
  }
  ;
  j.$.a3z = function(n, z, C, D, F, X, E) {
      var f = 1 / 255
        , a = z.Yi(D).Yi(X)
        , q = Math.max(0, a.x - z.x)
        , c = Math.max(0, a.x - D.x)
        , K = Math.max(0, a.y - z.y)
        , R = Math.max(0, a.y - D.y)
        , J = a.d
        , w = a.v
        , p = new Uint32Array(n.buffer)
        , I = new Uint32Array(C.buffer)
        , m = j.$.k8
        , A = Math.round(E * 257);
      for (var M = 0; M < w; M++) {
          var U = (K + M) * z.d + q
            , r = (R + M) * D.d + c;
          for (var $ = 0; $ < J; $++,
          U++,
          r++) {
              var k = F[U] * A;
              if ((j.$.D0(U) & 65535) < k)
                  I[r] = p[U]
          }
      }
  }
  ;
  j.$.x7 = function(n, z, C, D, F, X, E) {
      var f = 1 / 255
        , a = z.Yi(D).Yi(X)
        , q = Math.max(0, a.x - z.x)
        , c = Math.max(0, a.x - D.x)
        , K = Math.max(0, a.y - z.y)
        , R = Math.max(0, a.y - D.y)
        , J = a.d
        , w = a.v
        , p = new Uint32Array(n.buffer)
        , I = new Uint32Array(C.buffer)
        , m = Math.floor(Math.random() * D.t())
        , A = j.$.aoX;
      for (var M = 0; M < w; M++) {
          var U = (K + M) * z.d + q
            , r = (R + M) * D.d + c;
          for (var $ = 0; $ < J; $++) {
              var k = F[U + $] * E;
              if (k == 0)
                  continue;
              if (k == 255) {
                  I[r + $] = p[U + $];
                  continue
              }
              var G = p[U + $]
                , i = I[r + $]
                , o = G >>> 24
                , S = i >>> 24
                , H = o * k * (1 / 255)
                , e = S * (255 - k) * (1 / 255)
                , V = G & 255
                , v = G >>> 8 & 255
                , B = G >>> 16 & 255
                , Z = i & 255
                , d = i >>> 8 & 255
                , g = i >>> 16 & 255
                , Y = j.$.D0(r + $ + m)
                , y = Math.floor((H + e) * 256 + .5) + (Y >>> 0 & 255) >>> 8
                , L = y == 0 ? 0 : 256 / (H + e)
                , _ = V * H + Z * e
                , b = v * H + d * e
                , x = B * H + g * e
                , W = Math.floor(_ * L + .5) + (Y >>> 8 & 255) >>> 8
                , g6 = Math.floor(b * L + .5) + (Y >>> 16 & 255) >>> 8
                , fY = Math.floor(x * L + .5) + (Y >>> 21 & 248) >>> 8;
              I[r + $] = y << 24 | fY << 16 | g6 << 8 | W
          }
      }
  }
  ;
  j.$.aoX = function(n) {
      return Math.floor(n + Math.random())
  }
  ;
  j.$.qj = function(n, z, C, D, F, X, E) {
      var f = 1 / 255
        , a = z.Yi(D).Yi(X)
        , q = Math.max(0, a.x - z.x)
        , c = Math.max(0, a.x - D.x)
        , K = Math.max(0, a.y - z.y)
        , R = Math.max(0, a.y - D.y)
        , J = a.d
        , w = a.v;
      for (var M = 0; M < w; M++) {
          var p = (K + M) * z.d + q
            , I = (R + M) * D.d + c;
          for (var m = 0; m < J; m++,
          p++,
          I++) {
              var A = E * F[p] * f;
              if (A == 0)
                  continue;
              if (A == 1) {
                  C[I] = n[p];
                  continue
              }
              C[I] = n[p] * A + C[I] * (1 - A)
          }
      }
  }
  ;
  j.D3 = {};
  j.D3.ans = function(n, z, C, D, F, X) {
      j.D3.uD(n, z, C, D, F, X, null, 0)
  }
  ;
  j.D3.a5Z = function(n, z, C, D, F) {
      j.D3.uD(n, z, C, D, F, null, null, 0)
  }
  ;
  j.D3.aoN = function(n, z, C, D, F, X, E) {
      j.D3.uD(n, z, C, D, F, null, X, E * .5)
  }
  ;
  j.D3.uD = function(n, z, C, D, F, X, E, f) {
      var a = 0
        , e = 0
        , V = 1e9
        , v = 0
        , B = 1e9
        , Z = 0
        , d = 1e9
        , g = 0
        , Y = 0
        , y = 0
        , L = 0;
      if (X) {
          a = F * .5;
          F = 3 + Math.round((F - 3) * .75)
      }
      if (E) {
          F = Math.round(F * 2.2)
      }
      var q = 1 / F
        , c = Math.floor(z * q) + 1
        , K = Math.floor(C * q) + 1
        , R = []
        , J = new Uint8Array(c * K * 4)
        , w = E ? .5 : 1
        , p = X ? 64 : 0;
      for (var I = 0; I < K; I++) {
          var m = E ? .5 * (I & 1) : 0;
          for (var A = 0; A < c; A++) {
              var U = (A + Math.random() * w + m) * F
                , r = (I + Math.random() * w) * F;
              R.push(U, r);
              var $ = Math.min(z - 1, Math.floor(U))
                , k = Math.min(C - 1, Math.floor(r))
                , G = (k * z + $) * 4
                , i = (I * c + A) * 4;
              for (var M = 0; M < 4; M++)
                  J[i + M] = Math.max(0, Math.min(255, Math.floor(n[G + M] + (Math.random() - .5) * p)))
          }
      }
      var o = X ? X : E ? E : [0, 0, 0]
        , S = c * K * 2
        , H = [-c - 1, -c, -c + 1, -1, 0, 1, c - 1, c, c + 1];
      for (var I = 0; I < C; I++) {
          y = 0;
          for (var A = 0; A < z; A++) {
              var _ = A + .5
                , b = I + .5
                , x = Math.floor(b * q)
                , W = Math.floor(_ * q)
                , g6 = x * c + W
                , hK = 0
                , s = 0;
              if (y > 1 + f) {
                  V = j.D3.IK(R, e, _, b);
                  g = Math.sqrt(V);
                  y--;
                  L++
              } else {
                  V = B = d = 1e9;
                  for (var M = 0; M < H.length; M++) {
                      var fY = (g6 + H[M]) * 2;
                      if (fY < 0 || fY >= S)
                          continue;
                      var f3 = j.D3.IK(R, fY, _, b);
                      if (f3 < d) {
                          if (f3 < B) {
                              if (f3 < V) {
                                  Z = v;
                                  d = B;
                                  v = e;
                                  B = V;
                                  e = fY;
                                  V = f3
                              } else {
                                  Z = v;
                                  d = B;
                                  v = fY;
                                  B = f3
                              }
                          } else {
                              Z = fY;
                              d = f3
                          }
                      }
                  }
                  g = Math.sqrt(V);
                  Y = Math.sqrt(B);
                  y = Y - (g + Y) * .5
              }
              if (E == null) {
                  var P = (g + Y) * .5
                    , aF = X ? Math.max(0, P - a) : 0;
                  hK = Math.max(0, Math.min(1, .5 + P - g - aF));
                  s = Math.max(0, Math.min(1, 1 - (.5 + P - g) - aF))
              } else {
                  var fM = Math.min(j.D3.jD(R, e, v, _, b), j.D3.jD(R, e, Z, _, b));
                  hK = Math.max(0, Math.min(1, fM - f * .5));
                  if (_ < f || z - f < _ || b < f || C - f < b)
                      hK = 0;
                  s = 0
              }
              var eA = 1 - s - hK
                , i = I * z + A << 2
                , e8 = e << 1
                , eC = v << 1;
              D[i + 0] = Math.floor(.5 + hK * J[e8 + 0] + s * J[eC + 0] + eA * o[0]);
              D[i + 1] = Math.floor(.5 + hK * J[e8 + 1] + s * J[eC + 1] + eA * o[1]);
              D[i + 2] = Math.floor(.5 + hK * J[e8 + 2] + s * J[eC + 2] + eA * o[2]);
              D[i + 3] = n[i + 3]
          }
      }
  }
  ;
  j.D3.IK = function(n, z, C, D) {
      var F = C - n[z]
        , X = D - n[z + 1];
      return F * F + X * X
  }
  ;
  j.D3.jD = function(n, z, C, D, F) {
      var X = n[z]
        , E = n[z + 1]
        , f = n[C]
        , a = n[C + 1]
        , q = (X + f) * .5
        , c = (E + a) * .5
        , K = q + (a - E)
        , R = c - (f - X)
        , J = R - c
        , w = K - q;
      return Math.abs(J * D - w * F + K * c - R * q) / Math.sqrt(w * w + J * J)
  }
  ;
  j.Y7 = {};
  j.Y7.IU = function(n) {
      if (j.Y7.Ph.length < n)
          j.Y7.Ph = j.T(n);
      return j.Y7.Ph
  }
  ;
  j.Y7.Ph = j.T(0);
  j.Y7.w5 = function(n) {
      if (j.Y7.Ti.length < n)
          j.Y7.Ti = new Float32Array(n);
      return j.Y7.Ti
  }
  ;
  j.Y7.Ti = new Float32Array(0);
  j.Y7.c_ = function(n, z, C, D) {
      var F = C.d
        , X = C.v;
      j.Y7.aeT(n, z, F, X, D)
  }
  ;
  j.Y7.Pn = function(n, z, C, D) {
      var F = C.d
        , X = C.v;
      j.Y7.abE(n, z, F, X, D)
  }
  ;
  j.Y7.a4h = function(n, z, C) {
      var D = z.d
        , F = z.v;
      j.Y7.a2k(n, D, F, C)
  }
  ;
  j.Y7.el = function(n, z, C, D, F) {
      var X = C.d
        , E = C.v;
      j.Y7.agk(n, z, X, E, D, F)
  }
  ;
  j.Y7.hI = function(n, z, C, D) {
      var F = C.d
        , X = C.v;
      D = Math.round(D);
      var E = j.Y7.IU(F * X);
      j.YY(n, z);
      j.Y7.mm(z, E, F, X, D)
  }
  ;
  j.Y7.UW = function(n, z, C) {
      var D = z.d
        , F = z.v;
      C = Math.round(C);
      var X = j.Y7.IU(D * F * 4);
      j.Y7.me(n, X, D, F, C)
  }
  ;
  j.Y7.Lo = function(n, z, C, D) {
      var F = C.d
        , X = C.v;
      D = Math.round(D);
      var E = j.Y7.w5(F * X);
      j.YY(n, z);
      j.Y7.Bw(z, E, F, X, D)
  }
  ;
  j.Y7.Vt = function(n, z, C) {
      var D = z.d
        , F = z.v;
      C = Math.round(C);
      var X = j.Y7.IU(D * F * 4);
      j.Y7.o_(n, X, D, F, C);
      j.YY(X, n)
  }
  ;
  j.Y7.CM = function(n, h) {
      var z = Math.sqrt(12 * n * n / h + 1)
        , C = Math.floor(z);
      if (C % 2 == 0)
          C--;
      var D = C + 2
        , F = (12 * n * n - h * C * C - 4 * h * C - 3 * h) / (-4 * C - 4)
        , X = Math.round(F)
        , E = [];
      for (var M = 0; M < h; M++)
          E.push(M < X ? C : D);
      return E
  }
  ;
  j.Y7.aeT = function(n, z, C, D, F) {
      var X = j.Y7.CM(F, 3)
        , E = j.Y7.IU(C * D);
      j.YY(n, z);
      j.Y7.mm(z, E, C, D, X[0] - 1 >> 1);
      j.Y7.mm(z, E, C, D, X[1] - 1 >> 1);
      j.Y7.mm(z, E, C, D, X[2] - 1 >> 1)
  }
  ;
  j.Y7.abE = function(n, z, C, D, F) {
      var X = j.Y7.CM(F, 2)
        , E = j.Y7.IU(C * D);
      j.YY(n, z);
      j.Y7.mm(z, E, C, D, X[0] - 1 >> 1);
      j.Y7.mm(z, E, C, D, X[1] - 1 >> 1)
  }
  ;
  j.Y7.a2k = function(n, z, C, D) {
      var F = j.Y7.CM(D, 3)
        , X = j.Y7.IU(z * C * 4);
      j.Y7.me(n, X, z, C, F[0] - 1 >> 1);
      j.Y7.me(n, X, z, C, F[1] - 1 >> 1);
      j.Y7.me(n, X, z, C, F[2] - 1 >> 1)
  }
  ;
  j.Y7.agk = function(n, z, C, D, F, X) {
      if (X == null)
          X = 3;
      var E = j.Y7.CM(F, X)
        , f = j.Y7.w5(C * D);
      j.YY(n, z);
      for (var M = 0; M < X; M++)
          j.Y7.Bw(z, f, C, D, (E[M] - 1) / 2)
  }
  ;
  j.Y7.mm = function(n, z, C, D, F) {
      j.Y7.a3i(n, z, C, D, F);
      j.Y7.a1T(z, n, C, D, F)
  }
  ;
  j.Y7.me = function(n, z, C, D, F) {
      j.Y7.o_(n, z, C, D, F);
      j.Y7.ao8(z, n, C, D, F)
  }
  ;
  j.Y7.Bw = function(n, z, C, D, F) {
      j.Y7.a9W(n, z, C, D, F);
      j.Y7.agT(z, n, C, D, F)
  }
  ;
  j.Y7.m6 = [];
  j.Y7.JN = function(n) {
      if (j.Y7.m6[n])
          return j.Y7.m6[n];
      var z = 1 / (n + n + 1)
        , C = (n + n + 1) * 256
        , D = j.T(C);
      for (var M = 0; M < C; M++)
          D[M] = Math.round(M * z);
      j.Y7.m6[n] = D;
      return D
  }
  ;
  j.Y7.a3i = function(n, z, C, D, F) {
      var X = 1 / (F + F + 1)
        , E = C - F - F - 1
        , f = j.Y7.JN(F);
      for (var M = 0; M < D; M++) {
          var a = M * C
            , q = a
            , c = a + F
            , K = n[a]
            , R = n[a + C - 1]
            , J = (F + 1) * K;
          for (var w = 0; w < F; w++)
              J += n[a + w];
          for (var w = 0; w <= F; w++) {
              J += n[c + w] - K;
              z[a + w] = f[J]
          }
          c += F + 1;
          a += F + 1;
          for (var w = 0; w < E; w++) {
              J += n[c + w] - n[q + w];
              z[a + w] = f[J]
          }
          c += E;
          q += E;
          a += E;
          for (var w = C - F; w < C; w++) {
              J += R - n[q++];
              z[a++] = f[J]
          }
      }
  }
  ;
  j.Y7.o_ = function(n, z, C, D, F) {
      var X = C << 2
        , E = F << 2
        , f = 1 / (F + F + 1)
        , a = C - F - F - 1
        , q = a << 2
        , c = j.Y7.JN(F);
      for (var M = 0; M < D; M++) {
          var K = M * X
            , R = K
            , J = K + E
            , w = K + X
            , p = n[K]
            , I = n[K + 1]
            , m = n[K + 2]
            , A = n[K + 3]
            , U = (F + 1) * p
            , r = (F + 1) * I
            , $ = (F + 1) * m
            , k = (F + 1) * A;
          for (var G = 0; G < E; G += 4) {
              U += n[K + G];
              r += n[K + G + 1];
              $ += n[K + G + 2];
              k += n[K + G + 3]
          }
          for (var G = 0; G <= E; G += 4) {
              U += n[J] - p;
              z[K] = c[U];
              r += n[J + 1] - I;
              z[K + 1] = c[r];
              $ += n[J + 2] - m;
              z[K + 2] = c[$];
              k += n[J + 3] - A;
              z[K + 3] = c[k];
              J += 4;
              K += 4
          }
          for (var G = 0; G < q; G += 4) {
              U += n[J + G] - n[R + G];
              z[K + G] = c[U];
              r += n[J + G + 1] - n[R + G + 1];
              z[K + G + 1] = c[r];
              $ += n[J + G + 2] - n[R + G + 2];
              z[K + G + 2] = c[$];
              k += n[J + G + 3] - n[R + G + 3];
              z[K + G + 3] = c[k]
          }
          J += q;
          R += q;
          K += q;
          p = n[w - 4];
          I = n[w - 3];
          m = n[w - 2];
          A = n[w - 1];
          for (var G = C - F; G < C; G++) {
              U += p - n[R];
              z[K] = c[U];
              r += I - n[R + 1];
              z[K + 1] = c[r];
              $ += m - n[R + 2];
              z[K + 2] = c[$];
              k += A - n[R + 3];
              z[K + 3] = c[k];
              R += 4;
              K += 4
          }
      }
  }
  ;
  j.Y7.a9W = function(n, z, C, D, F) {
      var X = 1 / (F + F + 1)
        , E = C - F - F - 1;
      for (var M = 0; M < D; M++) {
          var f = M * C
            , a = f
            , q = f + F
            , c = n[f]
            , K = n[f + C - 1]
            , R = (F + 1) * c;
          for (var J = 0; J < F; J++)
              R += n[f + J];
          for (var J = 0; J <= F; J++) {
              R += n[q + J] - c;
              z[f + J] = R * X
          }
          q += F + 1;
          f += F + 1;
          for (var J = 0; J < E; J++) {
              R += n[q + J] - n[a + J];
              z[f + J] = R * X
          }
          q += E;
          a += E;
          f += E;
          for (var J = C - F; J < C; J++) {
              R += K - n[a++];
              z[f++] = R * X
          }
      }
  }
  ;
  j.Y7.a1T = function(n, z, C, D, F) {
      var X = 1 / (F + F + 1)
        , E = D - F - F - 1
        , f = j.Y7.JN(F);
      for (var M = 0; M < C; M++) {
          var a = M
            , q = a
            , c = a + F * C
            , K = n[a]
            , R = n[a + C * (D - 1)]
            , J = (F + 1) * K;
          for (var w = 0; w < F; w++)
              J += n[a + w * C];
          for (var w = 0; w <= F; w++) {
              J += n[c] - K;
              z[a] = f[J];
              c += C;
              a += C
          }
          for (var w = 0; w < E; w++) {
              var p = w * C;
              J += n[c + p] - n[q + p];
              z[a + p] = f[J]
          }
          q += E * C;
          c += E * C;
          a += E * C;
          for (var w = D - F; w < D; w++) {
              J += R - n[q];
              z[a] = f[J];
              q += C;
              a += C
          }
      }
  }
  ;
  j.Y7.ao8 = function(n, z, C, D, F) {
      var X = C << 2
        , E = F << 2
        , f = 1 / (F + F + 1)
        , a = D - F - F - 1
        , q = a << 2
        , c = j.Y7.JN(F);
      for (var M = 0; M < C; M++) {
          var K = M << 2
            , R = K
            , J = K + F * X
            , w = K + X * (D - 1)
            , p = n[K]
            , I = n[K + 1]
            , m = n[K + 2]
            , A = n[K + 3]
            , U = (F + 1) * p
            , r = (F + 1) * I
            , $ = (F + 1) * m
            , k = (F + 1) * A;
          for (var G = 0; G < F; G++) {
              var i = K + G * X;
              U += n[i];
              r += n[i + 1];
              $ += n[i + 2];
              k += n[i + 3]
          }
          for (var G = 0; G <= F; G++) {
              U += n[J] - p;
              z[K] = c[U];
              r += n[J + 1] - I;
              z[K + 1] = c[r];
              $ += n[J + 2] - m;
              z[K + 2] = c[$];
              k += n[J + 3] - A;
              z[K + 3] = c[k];
              J += X;
              K += X
          }
          for (var G = 0; G < a; G++) {
              var o = G * X;
              U += n[J + o] - n[R + o];
              z[K + o] = c[U];
              r += n[J + o + 1] - n[R + o + 1];
              z[K + o + 1] = c[r];
              $ += n[J + o + 2] - n[R + o + 2];
              z[K + o + 2] = c[$];
              k += n[J + o + 3] - n[R + o + 3];
              z[K + o + 3] = c[k]
          }
          R += a * X;
          J += a * X;
          K += a * X;
          p = n[w];
          I = n[w + 1];
          m = n[w + 2];
          A = n[w + 3];
          for (var G = D - F; G < D; G++) {
              U += p - n[R];
              z[K] = c[U];
              r += I - n[R + 1];
              z[K + 1] = c[r];
              $ += m - n[R + 2];
              z[K + 2] = c[$];
              k += A - n[R + 3];
              z[K + 3] = c[k];
              R += X;
              K += X
          }
      }
  }
  ;
  j.Y7.agT = function(n, z, C, D, F) {
      var X = 1 / (F + F + 1)
        , E = D - F - F - 1;
      for (var M = 0; M < C; M++) {
          var f = M
            , a = f
            , q = f + F * C
            , c = n[f]
            , K = n[f + C * (D - 1)]
            , R = (F + 1) * c;
          for (var J = 0; J < F; J++)
              R += n[f + J * C];
          for (var J = 0; J <= F; J++) {
              R += n[q] - c;
              z[f] = R * X;
              q += C;
              f += C
          }
          for (var J = 0; J < E; J++) {
              var w = J * C;
              R += n[q + w] - n[a + w];
              z[f + w] = R * X
          }
          a += E * C;
          q += E * C;
          f += E * C;
          for (var J = D - F; J < D; J++) {
              R += K - n[a];
              z[f] = R * X;
              a += C;
              f += C
          }
      }
  }
  ;
  j._N = {};
  j._N.T = function(n, z, C, D) {
      var F = [];
      for (var X = 0; X < 4; X++)
          for (var E = 0; E < 4; E++)
              F.push(n + C * E / 3, z + D * X / 3);
      return F
  }
  ;
  j._N.pd = function(n, z) {
      var C = n.slice(0);
      for (var M = 0; M < 4; M++)
          for (var D = 0; D < 4; D++) {
              var F = 2 * (M * 4 + D)
                , X = 2 * (D * 4 + (3 - M));
              if (z) {
                  var E = F;
                  F = X;
                  X = E
              }
              C[X] = n[F];
              C[X + 1] = n[F + 1]
          }
      return C
  }
  ;
  j._N.OW = j.T(0);
  j._N.drawImage = function(n, z, C, D, F, X, E) {
      var f = !1
        , a = Date.now()
        , q = 2
        , c = C + 2 * q
        , K = D + 2 * q
        , R = new cc(q,q,C,D)
        , J = R.clone()
        , A = 50;
      J.TR(q, q);
      var w = j._N.OW;
      if (w.length != J.t() * 4)
          w = j._N.OW = j.T(J.t() * 4);
      else
          w.fill(0);
      j.X3(z, R, w, J);
      if (f)
          console.log(Date.now() - a, "copy rect");
      a = Date.now();
      j.Wx(w);
      if (f)
          console.log(Date.now() - a, "multiply alpha");
      a = Date.now();
      var p = []
        , I = []
        , m = [];
      for (var U = 0; U < A + 1; U++)
          for (var r = 0; r < A + 1; r++) {
              var $ = r / A
                , k = U / A;
              p.push(c * $, K * k);
              if (r < A && U < A) {
                  var G = U * (A + 1) + r
                    , i = G + 1
                    , o = G + A + 1
                    , S = o + 1;
                  I.push(G, i, o);
                  I.push(o, i, S)
              }
              var H = j._N.amS(n, $, k);
              m.push(-H)
          }
      var e = p.slice(0);
      j._N.Z(n, e, new cc(q,q,C,D));
      j.K.Z(e, new b6(1,0,0,1,-X.x,-X.y), e);
      if (f)
          console.log(Date.now() - a, "mesh built");
      a = Date.now();
      var V = X.d
        , v = X.v;
      j.Hl.PX(w, c, K, F, V, v, p, e, m, I);
      if (f)
          console.log(Date.now() - a, "rendered");
      a = Date.now();
      j.Xi(F);
      if (f)
          console.log(Date.now() - a, "divided");
      a = Date.now()
  }
  ;
  j._N.PM = new Array(10);
  j._N.aiK = function(n, z) {
      var C = 200
        , D = 0
        , F = 0
        , X = 1e9
        , E = j._N.PM;
      for (var f = 0; f < C + 1; f++)
          for (var a = 0; a < C + 1; a++) {
              var q = a / C
                , c = f / C;
              j._N._r(n, q, c, E);
              var K = E[8] - z.x
                , R = E[9] - z.y
                , J = K * K + R * R;
              if (J < X) {
                  X = J;
                  D = q;
                  F = c
              }
          }
      return [D, F]
  }
  ;
  j._N.Z = function(n, z, C) {
      var D = C.x
        , F = C.y
        , X = 1 / C.d
        , E = 1 / C.v
        , f = j._N.PM;
      for (var a = 0; a < z.length; a += 2) {
          var q = (z[a] - D) * X
            , c = (z[a + 1] - F) * E;
          j._N._r(n, q, c, f);
          z[a] = f[8];
          z[a + 1] = f[9]
      }
  }
  ;
  j._N.amS = function(n, z, C) {
      var D, F, X, E, f = j._N.PM;
      j._N.aqN(n, z, C, f);
      D = f[8];
      F = f[9];
      j._N.a9E(n, z, C, f);
      X = f[8];
      E = f[9];
      return D * E - F * X
  }
  ;
  j._N._r = function(n, z, C, D) {
      j._N.mc(D, 0, C);
      j._N.mc(D, 4, z);
      j._N.VW(n, D)
  }
  ;
  j._N.aqN = function(n, z, C, D) {
      j._N.mc(D, 0, C);
      j._N.wC(D, 4, z);
      j._N.VW(n, D)
  }
  ;
  j._N.a9E = function(n, z, C, D) {
      j._N.wC(D, 0, C);
      j._N.mc(D, 4, z);
      j._N.VW(n, D)
  }
  ;
  j._N.wC = function(n, M, z) {
      var C = 1 - z;
      n[M] = -3 * (C * C);
      n[M + 1] = 3 * (C * C) - 6 * (z * C);
      n[M + 2] = 6 * (z * C) - 3 * (z * z);
      n[M + 3] = 3 * (z * z)
  }
  ;
  j._N.mc = function(n, M, z) {
      var C = 1 - z;
      n[M] = C * (C * C);
      n[M + 1] = 3 * z * (C * C);
      n[M + 2] = 3 * (z * z) * C;
      n[M + 3] = z * z * z
  }
  ;
  j._N.VW = function(n, z) {
      var C = 0
        , D = 0
        , F = 0
        , X = z[0]
        , E = z[1]
        , f = z[2]
        , a = z[3]
        , q = z[4]
        , c = z[5]
        , K = z[6]
        , R = z[7];
      F = X * q;
      C += n[0] * F;
      D += n[1] * F;
      F = X * c;
      C += n[2] * F;
      D += n[3] * F;
      F = X * K;
      C += n[4] * F;
      D += n[5] * F;
      F = X * R;
      C += n[6] * F;
      D += n[7] * F;
      F = E * q;
      C += n[8] * F;
      D += n[9] * F;
      F = E * c;
      C += n[10] * F;
      D += n[11] * F;
      F = E * K;
      C += n[12] * F;
      D += n[13] * F;
      F = E * R;
      C += n[14] * F;
      D += n[15] * F;
      F = f * q;
      C += n[16] * F;
      D += n[17] * F;
      F = f * c;
      C += n[18] * F;
      D += n[19] * F;
      F = f * K;
      C += n[20] * F;
      D += n[21] * F;
      F = f * R;
      C += n[22] * F;
      D += n[23] * F;
      F = a * q;
      C += n[24] * F;
      D += n[25] * F;
      F = a * c;
      C += n[26] * F;
      D += n[27] * F;
      F = a * K;
      C += n[28] * F;
      D += n[29] * F;
      F = a * R;
      C += n[30] * F;
      D += n[31] * F;
      z[8] = C;
      z[9] = D
  }
  ;
  j.bS = {};
  j.bS.aeV = function(n, z, C) {
      var D = Date.now()
        , F = new ArrayBuffer(z * C * 16)
        , X = j.bS.al0(n, z, C, F)
        , E = j.bS.aen(z, C, F);
      return {
          Mc: E,
          rN: X
      }
  }
  ;
  j.bS.agz = function(n, z, C) {
      var D = Math.round(n.length / 8)
        , F = new Uint32Array(D)
        , X = new Uint8Array(D)
        , E = new Uint32Array(D);
      j.xM(F, 4294967295, 0);
      F[C] = 0;
      var f = new fm(D);
      f.push(C, F[C]);
      var a = {
          Mc: n,
          rN: z,
          cT: F,
          KJ: X,
          rp: E,
          u4: f,
          a76: C
      };
      return a
  }
  ;
  j.bS.Oa = function(n, z) {
      var C = n.Mc
        , D = n.rN
        , F = n.cT
        , X = n.KJ
        , E = n.rp
        , f = n.u4;
      while (!f.kX() && (z == null || X[z] == 0)) {
          var a = f.pop();
          X[a] = 1;
          for (var M = 0; M < 8; M++) {
              var q = C[8 * a + M]
                , c = a + q;
              if (q == 0 || X[c])
                  continue;
              var K = F[a] + D[8 * a + M];
              if (f.contains(c) && K < F[c])
                  f.remove(c, F[c]);
              if (!f.contains(c)) {
                  F[c] = K;
                  E[c] = a;
                  f.push(c, F[c])
              }
          }
      }
  }
  ;
  function fm(n) {
      this.cQ = new Uint32Array(n);
      this.list = [];
      this.hm = 0;
      this.Cm = 4294967295
  }
  fm.prototype.kX = function() {
      return this.hm == 0
  }
  ;
  fm.prototype.push = function(n, z) {
      var C = this.list;
      if (C[z] == null)
          C[z] = [];
      C[z].push(n);
      this.hm++;
      this.cQ[n] = C[z].length - 1 + 1;
      this.Cm = Math.min(this.Cm, z)
  }
  ;
  fm.prototype.pop = function() {
      this.hm--;
      var n = this.list
        , z = this.Cm
        , C = n[z].pop();
      if (n[z].length == 0)
          n[z] = null;
      this.TY();
      this.cQ[C] = 0;
      return C
  }
  ;
  fm.prototype.contains = function(n) {
      return this.cQ[n] != 0
  }
  ;
  fm.prototype.remove = function(n, z) {
      this.hm--;
      var C = this.list
        , M = this.cQ[n] - 1;
      if (M == C[z].length - 1)
          C[z].pop();
      else {
          var D = C[z].pop();
          C[z][M] = D;
          this.cQ[D] = M + 1
      }
      if (C[z].length == 0)
          C[z] = null;
      this.cQ[n] = 0;
      this.TY()
  }
  ;
  fm.prototype.TY = function() {
      if (this.hm == 0) {
          this.Cm = 4294967295;
          return
      }
      var n = this.Cm
        , z = this.list;
      while (z[n] == null)
          n++;
      this.Cm = n
  }
  ;
  j.bS.anX = function(n, z, C, D) {
      var F = new Int16Array(D);
      for (var X = 0; X < C; X++)
          for (var E = 0; E < z; E++) {
              var M = X * z + E
                , f = 0;
              if (1 < E && E < z - 2 && 1 < X && X < C - 2) {
                  f += n[M - z - z];
                  f += n[M - z - 1] + 2 * n[M - z] + n[M - z + 1];
                  f += n[M - 2] + 2 * n[M - 1] - 16 * n[M] + 2 * n[M + 1] + n[M + 2];
                  f += n[M + z - 1] + 2 * n[M + z] + n[M + z + 1];
                  f += n[M + z + z]
              } else
                  f = -16 * n[M];
              F[M] = f
          }
      return F
  }
  ;
  j.bS.alr = function(n, z, C, D) {
      if (D == null)
          D = 128;
      var F = new Uint8Array(z * C);
      for (var X = 1; X < C - 1; X++)
          for (var E = 1; E < z - 1; E++) {
              var M = X * z + E;
              F[M] = j.bS.aaM(n[M], n[M - 1], n[M + 1], n[M - z], n[M + z], D)
          }
      return F
  }
  ;
  j.bS.aaM = function(n, z, C, D, F, X) {
      var E = Math.abs(n);
      return n * z < 0 && E < Math.abs(z) && Math.abs(z - n) > X || n * C < 0 && E < Math.abs(C) && Math.abs(C - n) > X || n * D < 0 && E < Math.abs(D) && Math.abs(D - n) > X || n * F < 0 && E < Math.abs(F) && Math.abs(F - n) > X ? 1 : 0
  }
  ;
  j.bS.a7F = function(n, z, C, D) {
      var F = new Float32Array(D)
        , X = 0;
      new Uint32Array(D).fill(0);
      for (var E = 0; E < C; E++)
          for (var f = 0; f < z; f++) {
              var a = 0
                , q = 0
                , M = E * z + f
                , c = M * 3;
              if (0 < f && f < z - 1)
                  a = n[M + 1] - n[M - 1];
              if (0 < E && E < C - 1)
                  q = n[M + z] - n[M - z];
              var K = F[c + 2] = Math.sqrt(a * a + q * q);
              if (K != 0) {
                  var R = 1 / K;
                  F[c] = a * R;
                  F[c + 1] = q * R
              }
              if (K > X)
                  X = K
          }
      var J = z * C
        , w = X == 0 ? 0 : 1 / X;
      for (var M = 0; M < J; M++)
          F[M * 3 + 2] = 1 - F[M * 3 + 2] * w;
      return F
  }
  ;
  j.bS.aak = function(n, z, C) {
      return C[~~((.5 + .5 * n) * 255)] + C[~~((.5 + .5 * z) * 255)]
  }
  ;
  j.bS.al0 = function(n, z, C, D) {
      var F = Date.now()
        , X = j.bS.anX(n, z, C, D)
        , E = j.bS.alr(X, z, C)
        , f = j.bS.a7F(n, z, C, D)
        , a = new Float32Array(256);
      for (var M = 0; M < 256; M++)
          a[M] = Math.acos(-1 + 2 * M / 255) * (.95 / Math.PI);
      var q = [-1, 0, 1, 1, 1, 0, -1, -1]
        , c = [-1, -1, -1, 0, 1, 1, 1, 0];
      for (var M = 0; M < 8; M++) {
          var K = 1 / Math.sqrt(q[M] * q[M] + c[M] * c[M]);
          q[M] *= K;
          c[M] *= K
      }
      var R = [q[0], c[0], q[1], c[1], q[2], c[2], q[3], c[3]]
        , J = [-z - 1, -z, -z + 1, 1]
        , w = new Uint8Array(z * C * 8);
      new Uint32Array(w.buffer).fill(4294967295);
      var p = z * C;
      for (var I = 1; I < C - 1; I++)
          for (var m = 1; m < z - 1; m++) {
              var A = I * z + m
                , U = 1 - E[A]
                , r = f[A * 3 + 2]
                , $ = f[3 * A + 1]
                , k = -f[3 * A];
              for (var G = 0; G < 4; G++) {
                  var i = A + J[G];
                  j.bS.afO(A, i, G, w, E, f, U, r, $, k, R, a)
              }
          }
      return w
  }
  ;
  j.bS.afO = function(n, z, C, D, F, X, E, f, a, q, c, K) {
      var R = 1 - F[z]
        , J = (C & 1) == 0 ? 1 : Math.SQRT1_2
        , w = X[z * 3 + 2] * J
        , p = X[3 * z + 1]
        , I = -X[3 * z]
        , m = f * J
        , A = c[C + C]
        , U = c[C + C + 1]
        , r = a * A + q * U
        , $ = p * A + I * U;
      if (r + $ < 0) {
          r = -r;
          $ = -$
      }
      var k = j.bS.aak(r, $, K);
      D[(n << 3) + C] = j.bS.bw(R, k, w);
      D[(z << 3) + C + 4] = j.bS.bw(E, k, m)
  }
  ;
  j.bS.bw = function(n, z, C) {
      return 1 + ~~(.5 + 20 * (.43 * n + .43 * z + .14 * C))
  }
  ;
  j.bS.aen = function(n, z, C) {
      var D = new Int16Array(C)
        , F = D
        , M = 0
        , X = 0;
      new Uint32Array(C).fill(0);
      for (var E = 0; E < z; E++)
          for (var f = 0; f < n; f++) {
              if (E > 0 && f > 0)
                  F[X + 0] = -n - 1;
              if (E > 0)
                  F[X + 1] = -n;
              if (E > 0 && f < n - 1)
                  F[X + 2] = -n + 1;
              if (f < n - 1)
                  F[X + 3] = 1;
              if (E < z - 1 && f < n - 1)
                  F[X + 4] = n + 1;
              if (E < z - 1)
                  F[X + 5] = n;
              if (E < z - 1 && f > 0)
                  F[X + 6] = n - 1;
              if (f > 0)
                  F[X + 7] = -1;
              M++;
              X += 8
          }
      return D
  }
  ;
  j.nI = {};
  j.nI.lI = function(n) {
      var z = n.slice(0)
        , C = 0;
      for (var M = 0; M < n.length; M++)
          C += n[M];
      for (var M = 0; M < n.length; M++)
          z[M] /= C;
      return z
  }
  ;
  j.nI.Bk = [j.nI.lI([1, 2, 1, 2, 16, 2, 1, 2, 1]), j.nI.lI([1, 2, 1, 2, 4, 2, 1, 2, 1]), j.nI.lI([0, -1, 0, -1, 8, -1, 0, -1, 0]), j.nI.lI([-.7, -1, -.7, -1, 10, -1, -.7, -1, -.7]), [-1, 0, 1, -2, 0, 2, -1, 0, 1], [1, 2, 1, 0, 0, 0, -1, -2, -1]];
  j.nI.jv = function(n, z, C, D, F, X, E, f) {
      if (E == null)
          E = !1;
      if (f == null)
          f = !1;
      var a = Math.floor(Math.sqrt(F.length))
        , q = a - 1 >>> 1
        , c = new Uint32Array(n.buffer)
        , z = new Uint8ClampedArray(z.buffer);
      for (var M = 0; M < D; M++)
          for (var K = 0; K < C; K++) {
              var R = 0
                , J = 0
                , w = 0
                , p = 0;
              for (var I = 0; I < a; I++)
                  for (var m = 0; m < a; m++) {
                      var A = F[I * a + m];
                      if (A == 0)
                          continue;
                      var U = K - q + m
                        , r = M - q + I;
                      if (U < 0)
                          U = 0;
                      else if (U > C - 1)
                          U = C - 1;
                      if (r < 0)
                          r = 0;
                      else if (r > D - 1)
                          r = D - 1;
                      if (f && c[r * C + U] >>> 24 == 0) {
                          r = M;
                          U = K
                      }
                      var $ = c[r * C + U];
                      R += ($ & 255) * A;
                      J += ($ >>> 8 & 255) * A;
                      w += ($ >>> 16 & 255) * A;
                      p += ($ >>> 24 & 255) * A
                  }
              if (E) {
                  if (R < 0)
                      R = -R;
                  if (J < 0)
                      J = -J;
                  if (w < 0)
                      w = -w;
                  if (p < 0)
                      p = -p
              }
              if (f) {
                  R = Math.max(0, Math.min(255, R));
                  J = Math.max(0, Math.min(255, J));
                  w = Math.max(0, Math.min(255, w));
                  p = Math.max(0, Math.min(255, p))
              }
              var k = M * C + K << 2;
              z[k] = ~~(.5 + R);
              z[k + 1] = ~~(.5 + J);
              z[k + 2] = ~~(.5 + w);
              z[k + 3] = 255 - X & z[k + 3] | X & ~~(.5 + p)
          }
  }
  ;
  j.nI.RK = function(n, z, C, D) {
      var F = n.length
        , X = new Uint8Array(F);
      j.nI.jv(n, z, C, D, j.nI.Bk[4], 0, !0);
      j.nI.jv(n, X, C, D, j.nI.Bk[5], 0, !0);
      for (var M = 0; M < F; M += 4) {
          var E = z[M]
            , f = z[M + 1]
            , a = z[M + 2]
            , q = z[M + 3]
            , c = X[M]
            , K = X[M + 1]
            , R = X[M + 2]
            , J = X[M + 3];
          z[M] = 255 - Math.max(0, Math.min(255, Math.sqrt(E * E + c * c)));
          z[M + 1] = 255 - Math.max(0, Math.min(255, Math.sqrt(f * f + K * K)));
          z[M + 2] = 255 - Math.max(0, Math.min(255, Math.sqrt(a * a + R * R)))
      }
  }
  ;
  j.nI.ir = function(n, z, C, D) {
      var F = n.length
        , X = new Uint8Array(F);
      j.nI.Te(n, z, C, D, j.nI.Bk[4], !0);
      j.nI.Te(n, X, C, D, j.nI.Bk[5], !0);
      for (var M = 0; M < F; M++) {
          var E = z[M]
            , f = X[M];
          z[M] = 255 - Math.max(0, Math.min(255, Math.sqrt(E * E + f * f)))
      }
  }
  ;
  j.nI.Te = function(n, z, C, D, F, X) {
      z = new Uint8ClampedArray(z.buffer);
      var E = [-C - 1, -C, -C + 1, -1, 0, 1, C - 1, C, C + 1]
        , f = D - 1
        , a = C - 1;
      for (var M = 1; M < f; M++)
          for (var q = 1; q < a; q++) {
              var c = M * C + q
                , K = j.nI.e7(n, c, C, F);
              if (X) {
                  if (K < 0)
                      K = -K
              }
              z[c] = ~~(K + .5)
          }
  }
  ;
  j.nI.e7 = function(n, z, C, D) {
      return n[z - C - 1] * D[0] + n[z - C] * D[1] + n[z - C + 1] * D[2] + n[z - 1] * D[3] + n[z] * D[4] + n[z + 1] * D[5] + n[z + C - 1] * D[6] + n[z + C] * D[7] + n[z + C + 1] * D[8]
  }
  ;
  j.nI.kN = function(n, z, C, D, F) {
      var X = [-C - 1, -C, -C + 1, -1, 0, 1, C - 1, C, C + 1]
        , E = D - 1
        , f = C - 1;
      for (var M = 1; M < E; M++)
          for (var a = 1; a < f; a++) {
              var q = M * C + a;
              z[q] = j.nI.ade(n, q, C, F)
          }
  }
  ;
  j.nI.ade = function(n, z, C, D) {
      return n[z - C - 1] * D[0] + n[z - C] * D[1] + n[z - C + 1] * D[2] + n[z - 1] * D[3] + n[z] * D[4] + n[z + 1] * D[5] + n[z + C - 1] * D[6] + n[z + C] * D[7] + n[z + C + 1] * D[8]
  }
  ;
  j.LC = {};
  j.LC.ahz = function() {
      function n(E, f, a, q, c, K, R) {
          if (c == 0) {
              f.set(E);
              return
          }
          var J = j.T(a * q)
            , w = j.T(a * q);
          if (j.VC(E)) {
              z(E, f, a, q, c, K, R);
              var p = [j.LC.pN, j.LC.bH]
                , I = p.indexOf(K)
                , m = I != -1 ? p[1 - I] : K;
              j.Ni(E, J, 3);
              j.LC.NM(J, w, a, q, c, m, R);
              j.bl(w, f, 3)
          } else {
              for (var M = 0; M < 3; M++) {
                  j.Ni(E, J, M);
                  j.LC.NM(J, w, a, q, c, K, R);
                  j.bl(w, f, M)
              }
          }
      }
      function z(E, f, a, q, c, K, R) {
          var J = 0
            , w = new ArrayBuffer(512 * 4 * 3)
            , p = [new Int32Array(w,0), new Int32Array(w,2048), new Int32Array(w,2 * 2048)]
            , I = 1 + 2 * Math.round(Math.sqrt(c))
            , m = I >>> 1
            , A = new Array(I)
            , U = new Array(I);
          for (var M = 0; M < I; M++) {
              var w = new ArrayBuffer(512 * 4 * 3);
              A[M] = [new Int32Array(w,0), new Int32Array(w,2048), new Int32Array(w,2 * 2048)];
              U[M] = A[M][0]
          }
          var r = K[0]
            , $ = K[1]
            , k = p[0];
          for (var G = 0; G < a; G++)
              if (G < c || G > a - c - I - 1) {
                  k.fill(0);
                  var i = Math.max(G - c, 0)
                    , o = Math.min(a, G + c + 1)
                    , S = o - i;
                  for (var H = 0; H < c; H++)
                      D(k, E, H * a + i, H * a + o, 1);
                  for (var H = 0; H < q; H++) {
                      var e = H - c - 1
                        , V = H + c;
                      if (V < q)
                          D(k, E, V * a + i, V * a + o, 1);
                      if (e >= 0)
                          D(k, E, e * a + i, e * a + o, -1);
                      var v = H * a + G << 2;
                      J = k[300];
                      if (J != 0)
                          for (var M = 0; M < 3; M++)
                              f[v + M] = r(p[M], E[v + M], J, R)
                  }
              } else {
                  for (var M = 0; M < I; M++)
                      U[M].fill(0);
                  var i = G - c + m
                    , o = G + c + 1 + m;
                  for (var H = 0; H < c; H++)
                      C(U, E, H * a + i, H * a + o, 1, m);
                  for (var H = 0; H < q; H++) {
                      var e = H - c - 1
                        , V = H + c;
                      if (e >= 0)
                          C(U, E, e * a + i, e * a + o, -1, m);
                      if (V < q)
                          C(U, E, V * a + i, V * a + o, 1, m);
                      var B = A[m];
                      J = B[0][300];
                      for (var M = 0; M < m; M++) {
                          var Z = m - 1 - M
                            , d = m + 1 + M
                            , g = A[Z]
                            , Y = A[d]
                            , y = J + g[0][300]
                            , L = J + Y[0][300]
                            , _ = H * a + G + Z << 2
                            , b = H * a + G + d << 2;
                          if (y != 0)
                              for (var x = 0; x < 3; x++)
                                  f[_ + x] = $(B[x], g[x], E[_ + x], y, R);
                          if (L != 0)
                              for (var x = 0; x < 3; x++)
                                  f[b + x] = $(B[x], Y[x], E[b + x], L, R)
                      }
                      var v = H * a + G + m << 2;
                      if (J != 0)
                          for (var x = 0; x < 3; x++)
                              f[v + x] = r(B[x], E[v + x], J, R)
                  }
                  G += I - 1
              }
      }
      function C(E, f, a, q, c, K) {
          var R = F
            , J = a << 2
            , w = q << 2;
          R(E[K - 1], f, a - 1 << 2, c);
          R(E[K - 1], f, q - 1 << 2, -c);
          R(E[K + 1], f, q << 2, c);
          R(E[K + 1], f, a << 2, -c);
          for (var M = 1; M < K; M++) {
              var p = E[K - M - 1]
                , I = E[K + M + 1];
              for (var m = 0; m <= M; m++) {
                  var A = m << 2;
                  R(p, f, a - 1 - m << 2, c);
                  R(p, f, q - 1 - m << 2, -c);
                  R(I, f, q + m << 2, c);
                  R(I, f, a + m << 2, -c)
              }
          }
          D(E[K], f, a, q, c)
      }
      function D(E, f, M, a, q) {
          var c = M << 2
            , K = a << 2;
          while (c < K) {
              F(E, f, c, q);
              c += 4
          }
      }
      function F(E, f, a, q) {
          var c = q * f[a + 3];
          E[300] += c;
          X(E, f[a], 0, c);
          X(E, f[a + 1], 512, c);
          X(E, f[a + 2], 1024, c)
      }
      function X(E, f, a, q) {
          E[a | f] += q;
          E[a | 256 | f >>> 4] += q
      }
      return n
  }();
  j.LC.NM = function() {
      function n(K, R, J, w, p, I, m) {
          if (p == 0) {
              R.set(K);
              return
          }
          if (p <= 80)
              z(K, R, J, w, p, I, m);
          else
              X(K, R, J, w, p, I, m)
      }
      function z(K, R, J, w, p, I, m) {
          var A = 0
            , U = new Int32Array(512)
            , r = 1 + 2 * Math.round(Math.sqrt(p))
            , $ = r >>> 1
            , k = new Array(r);
          for (var M = 0; M < r; M++)
              k[M] = new Int32Array(512);
          var G = I[0]
            , i = I[1];
          for (var o = 0; o < J; o++)
              if (o < p || o > J - p - r - 1) {
                  U.fill(0);
                  A = 0;
                  var S = Math.max(o - p, 0)
                    , H = Math.min(J, o + p + 1)
                    , e = H - S;
                  for (var V = 0; V < p; V++) {
                      A += e;
                      D(U, K, V * J + S, V * J + H, 1)
                  }
                  for (var V = 0; V < w; V++) {
                      var v = V - p - 1
                        , B = V + p;
                      if (v >= 0) {
                          A -= e;
                          D(U, K, v * J + S, v * J + H, -1)
                      }
                      if (B < w) {
                          A += e;
                          D(U, K, B * J + S, B * J + H, 1)
                      }
                      var Z = G(U, K[V * J + o], A, m);
                      R[V * J + o] = Z
                  }
              } else {
                  for (var M = 0; M < r; M++)
                      k[M].fill(0);
                  A = 0;
                  var S = o - p + $
                    , H = o + p + 1 + $
                    , e = H - S;
                  for (var V = 0; V < p; V++) {
                      A += e;
                      C(k, K, V * J + S, V * J + H, 1, $)
                  }
                  for (var V = 0; V < w; V++) {
                      var v = V - p - 1
                        , B = V + p;
                      if (v >= 0) {
                          A -= e;
                          C(k, K, v * J + S, v * J + H, -1, $)
                      }
                      if (B < w) {
                          A += e;
                          C(k, K, B * J + S, B * J + H, 1, $)
                      }
                      for (var M = 0; M < $; M++) {
                          var d = $ - 1 - M
                            , g = $ + 1 + M;
                          R[V * J + o + d] = i(k[$], k[d], K[V * J + o + d], A, m);
                          R[V * J + o + g] = i(k[$], k[g], K[V * J + o + g], A, m)
                      }
                      R[V * J + o + $] = G(k[$], K[V * J + o + $], A, m)
                  }
                  o += r - 1
              }
      }
      function C(K, R, J, w, p, I) {
          var m = F;
          m(K[I - 1], R[J - 1], 0, p);
          m(K[I - 1], R[w - 1], 0, -p);
          m(K[I + 1], R[w], 0, p);
          m(K[I + 1], R[J], 0, -p);
          for (var M = 1; M < I; M++) {
              var A = K[I - M - 1]
                , U = K[I + M + 1];
              for (var r = 0; r <= M; r++) {
                  m(A, R[J - 1 - r], 0, p);
                  m(A, R[w - 1 - r], 0, -p);
                  m(U, R[w + r], 0, p);
                  m(U, R[J + r], 0, -p)
              }
          }
          D(K[I], R, J, w, p)
      }
      function D(K, R, M, J, w) {
          while (M < J)
              F(K, R[M++], 0, w)
      }
      function F(K, R, J, w) {
          K[J | R] += w;
          K[J | 256 | R >>> 4] += w
      }
      function X(K, R, J, w, p, I, m) {
          var A = 0
            , U = new Int32Array(512)
            , r = new Int32Array(1 * J)
            , $ = new Int32Array(512 * J)
            , k = Math.min(p, J)
            , G = Math.min(p, w)
            , i = I[0];
          for (var o = 0; o < G; o++)
              E($, r, K, J, o, 1);
          for (var o = 0; o < w; o++) {
              if (o + p < w)
                  E($, r, K, J, o + p, 1);
              if (o - p - 1 >= 0)
                  E($, r, K, J, o - p - 1, -1);
              U.fill(0);
              A = 0;
              for (var S = 0; S < k; S++) {
                  A += r[S];
                  f(U, $, S)
              }
              for (var S = 0; S < J; S++) {
                  var H = S - p - 1
                    , e = S + p;
                  if (H >= 0 && r[H] != 0) {
                      A -= r[H];
                      a(U, $, H)
                  }
                  if (e < J && r[e] != 0) {
                      A += r[e];
                      f(U, $, e)
                  }
                  var V = A == 0 ? 0 : i(U, K[o * J + S], A, m);
                  R[o * J + S] = V
              }
          }
      }
      function E(K, R, J, w, p, I) {
          var M = p * w;
          for (var m = 0; m < w; m++) {
              F(K, J[M + m], m << 9, I);
              R[m] += I
          }
      }
      function f(K, R, J) {
          for (var M = 0; M < 16; M++) {
              var w = R[J << 9 | 256 | M];
              if (w == 0)
                  continue;
              K[256 | M] += w;
              var p = M << 4
                , I = J << 9 | p;
              q(K, R, p, I);
              q(K, R, p + 4, I + 4);
              q(K, R, p + 8, I + 8);
              q(K, R, p + 12, I + 12)
          }
      }
      function a(K, R, J) {
          for (var M = 0; M < 16; M++) {
              var w = R[J << 9 | 256 | M];
              if (w == 0)
                  continue;
              K[256 | M] -= w;
              var p = M << 4
                , I = J << 9 | p;
              c(K, R, p, I);
              c(K, R, p + 4, I + 4);
              c(K, R, p + 8, I + 8);
              c(K, R, p + 12, I + 12)
          }
      }
      function q(K, R, J, w) {
          K[J] += R[w];
          K[J + 1] += R[w + 1];
          K[J + 2] += R[w + 2];
          K[J + 3] += R[w + 3]
      }
      function c(K, R, J, w) {
          K[J] -= R[w];
          K[J + 1] -= R[w + 1];
          K[J + 2] -= R[w + 2];
          K[J + 3] -= R[w + 3]
      }
      return n
  }();
  j.LC.bH = [function(n, z, C, D) {
      var M = 15;
      while (n[256 | M] == 0 && M > 0)
          M--;
      M = (M << 4) + 15;
      while (n[M] == 0 && M > 0)
          M--;
      return M
  }
  , function(n, z, C, D, F) {
      var M = 15;
      while (n[256 | M] + z[256 | M] == 0 && M > 0)
          M--;
      M = (M << 4) + 15;
      while (n[M] + z[M] == 0 && M > 0)
          M--;
      return M
  }
  ];
  j.LC.pN = [function(n, z, C, D) {
      var M = 0;
      while (n[256 | M] == 0 && M < 15)
          M++;
      M = M << 4;
      while (n[M] == 0 && M < 255)
          M++;
      return M
  }
  , function(n, z, C, D, F) {
      var M = 0;
      while (n[256 | M] + z[256 | M] == 0 && M < 15)
          M++;
      M = M << 4;
      while (n[M] + z[M] == 0 && M < 255)
          M++;
      return M
  }
  ];
  j.LC.l0 = .5;
  j.LC.FK = [function(n, z, C, D) {
      var F = ~~(.5 + j.LC.l0 * C)
        , X = 0
        , M = 256;
      while (X + n[M] <= F)
          X += n[M++];
      M = M - 256 << 4;
      while (X <= F)
          X += n[M++];
      return M - 1
  }
  , function(n, z, C, D, F) {
      var X = ~~(.5 + j.LC.l0 * D)
        , E = 0
        , M = 256;
      while (E + n[M] + z[M] <= X) {
          E += n[M] + z[M];
          M++
      }
      M = M - 256 << 4;
      while (E <= X) {
          E += n[M] + z[M];
          M++
      }
      return M - 1
  }
  ];
  j.LC.QL = [function(n, z, C, D) {
      var F = D[0]
        , X = 0
        , E = 0
        , M = Math.max(0, z - F)
        , f = Math.min(256, z + F + 1);
      while (M < f) {
          var a = n[M];
          X += M * a;
          E += a;
          M++
      }
      return E == 0 ? 0 : X / E
  }
  , function(n, z, C, D, F) {
      var X = F[0]
        , E = 0
        , f = 0
        , M = Math.max(0, C - X)
        , a = Math.min(256, C + X + 1);
      while (M < a) {
          var q = n[M] + z[M];
          E += M * q;
          f += q;
          M++
      }
      return f == 0 ? 0 : E / f
  }
  ];
  j.V = {};
  j.V.ui = function(n) {
      var z = O.o.VV(n.Trnf)
        , C = n.Sz.v
        , D = j.V.qw(z, new cc(0,0,C.Wdth.v,C.Hght.v));
      return j.V.BT(D)
  }
  ;
  j.V.qw = function(n, z) {
      var C = n[0]
        , D = n[1]
        , F = n[2]
        , X = n[3]
        , E = n[6]
        , f = n[7]
        , a = n[4]
        , q = n[5]
        , c = 0
        , K = 0
        , R = 1
        , J = 0
        , w = 0
        , p = 1
        , I = 1
        , m = 1;
      if (z) {
          c = z.x;
          K = z.y;
          R = z.x + z.d;
          J = z.y;
          w = z.x;
          p = z.y + z.v;
          I = z.x + z.d;
          m = z.y + z.v
      }
      return j.V.rL(n, [c, K, R, J, I, m, w, p])
  }
  ;
  j.V.rL = function(n, z) {
      var C = n[0]
        , D = n[1]
        , F = n[2]
        , X = n[3]
        , E = n[6]
        , f = n[7]
        , a = n[4]
        , q = n[5]
        , c = z[0]
        , K = z[1]
        , R = z[2]
        , J = z[3]
        , w = z[6]
        , p = z[7]
        , I = z[4]
        , m = z[5]
        , A = [[c, K, 1, 0, 0, 0, -c * C, -K * C, C], [0, 0, 0, c, K, 1, -c * D, -K * D, D], [R, J, 1, 0, 0, 0, -R * F, -J * F, F], [0, 0, 0, R, J, 1, -R * X, -J * X, X], [w, p, 1, 0, 0, 0, -w * E, -p * E, E], [0, 0, 0, w, p, 1, -w * f, -p * f, f], [I, m, 1, 0, 0, 0, -I * a, -m * a, a], [0, 0, 0, I, m, 1, -I * q, -m * q, q]]
        , U = [0, 0, 0, 0, 0, 0, 0, 0]
        , r = j.A1.jU(A, U);
      if (r != 0)
          U = [0, 0, 0, 0, 0, 0, 0, 0];
      return U
  }
  ;
  j.V.yj = function(n) {
      return Math.abs(n[6]) < 1e-10 && Math.abs(n[7]) < 1e-10
  }
  ;
  j.V.BT = function(n) {
      return new b6(n[0],n[3],n[1],n[4],n[2],n[5])
  }
  ;
  j.V.aC = function(n) {
      return [n.nb, n.KV, n.H1, n.O, n.qc, n.Wv, 0, 0]
  }
  ;
  j.V.Z = function(n, z) {
      var C = new Float64Array(2);
      for (var D = 0; D < z.length; D += 2) {
          var F = z[D]
            , X = z[D + 1];
          j.V.hw(F, X, n, C);
          z[D] = C[0];
          z[D + 1] = C[1]
      }
  }
  ;
  j.V.hw = function(n, z, C, D) {
      var F = 1 / (C[6] * n + C[7] * z + 1);
      D[0] = (C[0] * n + C[1] * z + C[2]) * F;
      D[1] = (C[3] * n + C[4] * z + C[5]) * F
  }
  ;
  j.V.uV = function(n, z) {
      var C = new Float64Array(2);
      j.V.hw(z.x, z.y, n, C);
      return new ir(C[0],C[1])
  }
  ;
  j.V._w = function(n, z, C, D) {
      n = new Uint32Array(n.buffer);
      z = new Uint32Array(z.buffer);
      for (var F = 0; F < D; F++) {
          for (var X = 0; X < C; X++) {
              z[X * D + F] = n[F * C + X]
          }
      }
  }
  ;
  j.V.a1k = function(n, z, C, D) {
      n = new Uint32Array(n.buffer);
      z = new Uint32Array(z.buffer);
      for (var F = 0; F < D; F++) {
          for (var X = 0; X < C; X++) {
              z[F * C + X] = n[F * C + C - 1 - X]
          }
      }
  }
  ;
  j.V.Nn = function(n) {
      return Math.abs(n[6]) < 1e-9 && Math.abs(n[7]) < 1e-9
  }
  ;
  j.V.L$ = function(n) {
      return Math.abs(n[0]) < 1e-9 && Math.abs(n[4]) < 1e-9 || Math.abs(n[1]) < 1e-9 && Math.abs(n[3]) < 1e-9
  }
  ;
  j.V.drawImage = function(n, z, C, D, F, X, E, f, a) {
      if (E == null)
          E = !1;
      if (f == null)
          f = !1;
      var q = j.V.eL(n)
        , c = !0
        , K = 0
        , R = 1 / Math.sqrt(Math.abs(n[0] / C * n[4] / D - n[1] / C * n[3] / D));
      for (var M = 0; M < 8; M++) {
          var J = Math.round(n[M]);
          if (M != 2 && M != 5)
              K += Math.abs(J);
          if (Math.abs(J - n[M]) > 1e-9)
              c = !1
      }
      var w = j.V.Nn(n)
        , p = j.V.L$(n) && w
        , I = p ? 1 : 0;
      if (E || c && K == C + D && w) {
          j.V.akH(q, z, C, D, F, X, f, w, a);
          return
      }
      var m = X.d
        , A = X.v
        , U = new Float64Array(2);
      F = new Uint32Array(F.buffer);
      z = new Uint32Array(z.buffer);
      for (var r = 0; r < A; r++)
          for (var $ = 0; $ < m; $++) {
              var k = r * m + $, G, i, o, S, W = 0, g6 = 0, fY = 0, f3 = 0;
              F[k] = 0;
              var H = $ + X.x + .5
                , e = r + X.y + .5;
              G = H;
              i = e;
              o = q;
              S = 1 / (o[6] * G + o[7] * i + 1);
              var V = (o[0] * G + o[1] * i + o[2]) * S
                , v = (o[3] * G + o[4] * i + o[5]) * S
                , B = V * C
                , Z = v * D
                , d = B < -1 || B > C + 1 || Z < -1 || Z > D + 1;
              if (f) {
                  B = Math.max(.001, Math.min(C - 1, B));
                  Z = Math.max(.001, Math.min(D - 1, Z))
              } else if (d)
                  continue;
              var g = R;
              if (!w) {
                  var Y = 0
                    , y = 0;
                  o = n;
                  G = V + 1 / C;
                  i = v;
                  S = 1 / (o[6] * G + o[7] * i + 1);
                  Y = (o[0] * G + o[1] * i + o[2]) * S - H;
                  y = (o[3] * G + o[4] * i + o[5]) * S - e;
                  var L = Y * Y + y * y;
                  G = V;
                  i = v + 1 / D;
                  S = 1 / (o[6] * G + o[7] * i + 1);
                  Y = (o[0] * G + o[1] * i + o[2]) * S - H;
                  y = (o[3] * G + o[4] * i + o[5]) * S - e;
                  var _ = Y * Y + y * y;
                  g = 1 / Math.sqrt(Math.max(L, _))
              }
              if (g < 1.1) {
                  j.V.AO(B, Z, z, C, D, F, k, I);
                  continue
              }
              var b = Math.round(g * 2.3);
              if (!f && (B < .6 || B > C - .6 || Z < .6 || Z > D - .6)) {
                  b = Math.max(b, 5)
              }
              if (f && d)
                  b = 1;
              var x = 1 / b
                , hK = X.x + $
                , s = X.y + r;
              o = q;
              for (var M = 0; M < b; M++)
                  for (var P = 0; P < b; P++) {
                      G = hK + (M + .5) * x;
                      i = s + (P + .5) * x;
                      S = 1 / (o[6] * G + o[7] * i + 1);
                      var B = (o[0] * G + o[1] * i + o[2]) * S
                        , Z = (o[3] * G + o[4] * i + o[5]) * S;
                      if (f) {
                          B = Math.max(.001, Math.min(.999, B));
                          Z = Math.max(.001, Math.min(.999, Z))
                      } else if (B < 0 || B >= 1 || Z < 0 || Z >= 1)
                          continue;
                      B = Math.floor(B * C);
                      Z = Math.floor(Z * D);
                      var aF = Z * C + B
                        , fM = z[aF]
                        , eA = fM >>> 24;
                      W += (fM & 255) * eA;
                      g6 += (fM >>> 8 & 255) * eA;
                      fY += (fM >>> 16 & 255) * eA;
                      f3 += eA
                  }
              if (f3 != 0) {
                  var e8 = 1 / f3;
                  W = ~~(W * e8 + .5);
                  g6 = ~~(g6 * e8 + .5);
                  fY = ~~(fY * e8 + .5);
                  f3 = ~~(f3 * x * x + .5);
                  F[k] = f3 << 24 | fY << 16 | g6 << 8 | W
              }
          }
  }
  ;
  j.V.akH = function(n, z, C, D, F, X, E, f, a) {
      if (f && !E && X.t() > 4e6 && a) {
          j.V.ag1(n, z, C, D, F, X, E, f, a);
          return
      }
      var q = X.x + X.d
        , c = X.y + X.v
        , K = 0
        , R = new Uint32Array(F.buffer)
        , J = new Uint32Array(z.buffer)
        , w = n[0] * C
        , p = n[1] * C
        , I = n[2] * C
        , m = n[3] * D
        , A = n[4] * D
        , U = n[5] * D
        , r = n[6]
        , $ = n[7];
      if (f && !E)
          for (var k = X.y + .5; k < c; k++)
              for (var G = X.x + .5; G < q; G++) {
                  var i = w * G + p * k + I
                    , o = m * G + A * k + U;
                  if (0 < i && i < C && 0 < o && o < D) {
                      var S = ~~o * C + ~~i;
                      R[K] = J[S]
                  } else
                      R[K] = 0;
                  K++
              }
      else
          for (var k = X.y + .5; k < c; k++)
              for (var G = X.x + .5; G < q; G++) {
                  var H = 1 / (r * G + $ * k + 1)
                    , i = (w * G + p * k + I) * H
                    , o = (m * G + A * k + U) * H;
                  if (E) {
                      i = Math.max(.001, Math.min(C - 1, i));
                      o = Math.max(.001, Math.min(D - 1, o))
                  }
                  if (0 < i && i < C && 0 < o && o < D) {
                      var S = Math.floor(o) * C + Math.floor(i);
                      R[K] = J[S]
                  } else
                      R[K] = 0;
                  K++
              }
  }
  ;
  j.V.ag1 = function(n, z, C, D, F, X, E, f, a) {
      var q = new Uint32Array(F.buffer)
        , c = new Uint32Array(z.buffer)
        , $ = 0;
      if (a && (X.d & 3) != 0)
          throw "e";
      var K = n[0] * C
        , R = n[1] * C
        , J = n[2] * C
        , w = n[3] * D
        , p = n[4] * D
        , I = n[5] * D
        , m = n[6]
        , A = n[7]
        , U = X.d
        , r = X.v
        , k = X.x + .5
        , G = X.y + .5
        , i = (U >>> 2 << 2) - 1e-9
        , o = -.1 + (r >>> 1 << 1) - 1e-9
        , S = ~~C
        , H = K == 0 ? 0 : 1 / K
        , e = w == 0 ? 0 : 1 / w;
      for (var V = 0; V < r; V++) {
          var v = k * K + R * (V + G) + J
            , B = k * w + p * (V + G) + I
            , Z = 0
            , d = U;
          if (K == 0) {} else if (H > 0) {
              Z = Math.max(Z, -v * H);
              d = Math.min(d, (C - v) * H)
          } else {
              d = Math.min(d, -v * H);
              Z = Math.max(Z, (C - v) * H)
          }
          if (w == 0) {} else if (e > 0) {
              Z = Math.max(Z, -B * e);
              d = Math.min(d, (D - B) * e)
          } else {
              d = Math.min(d, -B * e);
              Z = Math.max(Z, (D - B) * e)
          }
          if (d < 0)
              d = 0;
          if (Z > d)
              Z = d;
          Z = Math.ceil(Z);
          d = ~~d;
          $ = ~~(V * U);
          for (var g = 0; g < Z; g++)
              q[$++] = 0;
          for (var g = Z; g < d; g += 4) {
              var Y = K * g + v
                , y = w * g + B
                , L = ~~y * S + ~~Y;
              q[$++] = q[$++] = q[$++] = q[$++] = c[L]
          }
          for (var g = d; g < U; g++)
              q[$++] = 0
      }
  }
  ;
  j.V.eL = function(n) {
      var z = n[4] - n[5] * n[7]
        , C = n[2] * n[7] - n[1]
        , D = n[1] * n[5] - n[2] * n[4]
        , F = n[5] * n[6] - n[3]
        , X = n[0] - n[2] * n[6]
        , E = n[3] * n[2] - n[0] * n[5]
        , f = n[3] * n[7] - n[4] * n[6]
        , a = n[1] * n[6] - n[0] * n[7]
        , q = 1 / (n[0] * n[4] - n[1] * n[3]);
      return [z * q, C * q, D * q, F * q, X * q, E * q, f * q, a * q]
  }
  ;
  j.V.Lm = function(n, z) {
      var C = n[0]
        , D = n[1]
        , F = n[2]
        , X = n[3]
        , E = n[4]
        , f = n[5]
        , a = n[6]
        , q = n[7]
        , c = z[0]
        , K = z[1]
        , R = z[2]
        , J = z[3]
        , w = z[4]
        , p = z[5]
        , I = z[6]
        , m = z[7]
        , A = [C * c + D * J + F * I, C * K + D * w + F * m, C * R + D * p + F, X * c + E * J + f * I, X * K + E * w + f * m, X * R + E * p + f, a * c + q * J + I, a * K + q * w + m]
        , U = 1 / (a * R + q * p + 1);
      for (var M = 0; M < 8; M++)
          A[M] *= U;
      return A
  }
  ;
  j.V.AO = function(n, z, C, D, F, X, E, f) {
      var a = n
        , q = z
        , R = 0
        , J = 0
        , w = 0
        , p = 0;
      n -= .499999;
      z -= .499999;
      var c = Math.floor(n)
        , K = Math.floor(z);
      if (f == 0) {
          var M = K * D + c
            , I = c >= 0 && c < D
            , m = c + 1 >= 0 && c + 1 < D
            , A = K >= 0 && K < F
            , U = K + 1 >= 0 && K + 1 < F;
          if (I && A)
              R = C[M];
          if (m && A)
              J = C[M + 1];
          if (I && U)
              w = C[M + D];
          if (m && U)
              p = C[M + D + 1]
      } else if (f == 1) {
          var r = c < 0 ? 0 : c > D - 1 ? D - 1 : c
            , $ = c < -1 ? 0 : c > D - 2 ? D - 1 : c + 1
            , k = K < 0 ? 0 : K > F - 1 ? F - 1 : K
            , G = K < -1 ? 0 : K > F - 2 ? F - 1 : K + 1;
          R = C[k * D + r];
          J = C[k * D + $];
          w = C[G * D + r];
          p = C[G * D + $]
      } else {
          var r = (c + 50 * D) % D
            , $ = (c + 50 * D) % D
            , k = (K + 50 * F) % F
            , G = (K + 50 * F) % F;
          R = C[k * D + r];
          J = C[k * D + $];
          w = C[G * D + r];
          p = C[G * D + $]
      }
      var i = n - c
        , o = z - K
        , S = (1 - o) * (1 - i) * (R >>> 24)
        , H = (1 - o) * i * (J >>> 24)
        , e = o * (1 - i) * (w >>> 24)
        , V = o * i * (p >>> 24)
        , v = S + H + e + V
        , B = S * (R & 255) + H * (J & 255) + e * (w & 255) + V * (p & 255)
        , Z = S * (R >>> 8 & 255) + H * (J >>> 8 & 255) + e * (w >>> 8 & 255) + V * (p >>> 8 & 255)
        , d = S * (R >>> 16 & 255) + H * (J >>> 16 & 255) + e * (w >>> 16 & 255) + V * (p >>> 16 & 255);
      if (v == 0)
          X[E] = 0;
      else {
          var g = 1 / v;
          B = ~~(B * g + .5);
          Z = ~~(Z * g + .5);
          d = ~~(d * g + .5);
          v = ~~(v + .5);
          X[E] = v << 24 | d << 16 | Z << 8 | B
      }
  }
  ;
  j.V.ZC = function(n, z, C, D, F, X) {
      var E = n - .499999
        , f = z - .499999
        , a = ~~E
        , q = ~~f
        , c = E - a
        , K = f - q
        , R = (1 - K) * (1 - c)
        , J = (1 - K) * c
        , w = K * (1 - c)
        , p = K * c
        , I = q * D + a << 2
        , m = (q + 1) * D + a << 2
        , A = R * C[I] + J * C[I + 4] + w * C[m] + p * C[m + 4]
        , U = R * C[I + 1] + J * C[I + 5] + w * C[m + 1] + p * C[m + 5]
        , r = R * C[I + 2] + J * C[I + 6] + w * C[m + 2] + p * C[m + 6]
        , $ = R * C[I + 3] + J * C[I + 7] + w * C[m + 3] + p * C[m + 7];
      X[0] = A;
      X[1] = U;
      X[2] = r;
      X[3] = $
  }
  ;
  j.V.i5 = function(n, z, C, D, F) {
      n -= .499999;
      z -= .499999;
      var X = Math.floor(n)
        , E = Math.floor(z)
        , f = n - X
        , a = z - E
        , q = (1 - a) * (1 - f)
        , c = (1 - a) * f
        , K = a * (1 - f)
        , R = a * f
        , J = (X + 50 * D) % D
        , w = (X + 1 + 50 * D) % D
        , p = (E + 50 * F) % F
        , I = (E + 1 + 50 * F) % F
        , m = C[p * D + J]
        , A = C[p * D + w]
        , U = C[I * D + J]
        , r = C[I * D + w];
      if (m == null || r == null)
          throw "e";
      return q * m + c * A + K * U + R * r
  }
  ;
  j.V.u_ = function(n, z, C, D, F, X, E, f, a, q, c, K) {
      var R = new Uint32Array(n.buffer)
        , J = new Uint32Array(D.buffer)
        , w = (1 + 2 * q) / F
        , p = []
        , I = [];
      for (var m = 0; m < F; m++) {
          var A = -.25 + q - m * w;
          p.push(Math.cos(2 * Math.PI * A) * K / c);
          p.push(Math.sin(2 * Math.PI * A) / c)
      }
      E *= z;
      f *= C;
      for (var U = 0; U < X; U++) {
          var r = Math.pow(U / X, a) * X;
          for (var m = 0; m < F; m++) {
              var $ = E + p[m << 1] * r
                , k = f + p[(m << 1) + 1] * r
                , G = ~~(.5 + ($ < 0 ? 0 : $ > z - 1 ? z - 1 : $))
                , i = ~~(.5 + (k < 0 ? 0 : k > C - 1 ? C - 1 : k));
              J[U * F + m] = R[i * z + G]
          }
      }
  }
  ;
  j.V.VK = function(n, z, C, D, F, X, E, f, a, q, c, K) {
      var R = new Uint32Array(n.buffer)
        , J = new Uint32Array(D.buffer)
        , w = 1 / K
        , p = []
        , I = C * 4
        , m = 1 / I;
      for (var A = 0; A < I; A++)
          p.push(Math.pow(A * m, 1 / a) * C * c);
      E *= F;
      f *= X;
      for (var A = 0; A < X; A++)
          for (var U = 0; U < F; U++) {
              var r = w * (U - E)
                , $ = A - f
                , k = 1.75 - Math.atan2($, r) * (1 / (2 * Math.PI));
              k = k - ~~k;
              k = (k + q) * (1 / (1 + 2 * q));
              var G = Math.sqrt(r * r + $ * $);
              G = p[~~(G * 4)];
              j.V.AO(k * z + .5, G + .5, R, z, C, J, A * F + U, 1)
          }
  }
  ;
  j.V.Dh = function(n, z, C, D, F) {
      var X = F[0]
        , E = F[1];
      for (var f = 0; f < E; f++)
          for (var a = 0; a < X; a++) {
              var q = F[2] * a + F[3] * f + F[4]
                , c = F[5] * a + F[6] * f + F[7]
                , K = f * X + a << 2
                , R = c * z + q << 2;
              D[K] = n[R + 0];
              D[K + 1] = n[R + 1];
              D[K + 2] = n[R + 2];
              D[K + 3] = n[R + 3]
          }
  }
  ;
  j._ = {
      ZE: function(n, z) {
          var C = ~~(.499 + n * z);
          return C < 0 ? 0 : C > z ? z : C
      },
      acY: function(n, z, C, D, F, X, E, f) {
          var a = C[0]
            , q = C[1]
            , c = C[2]
            , K = C[3]
            , R = D.d
            , J = D.v
            , w = new Float64Array(R * 4 + 8)
            , p = new Float64Array(R * 4 + 8);
          for (var I = 0, M = 0; I < J; I++) {
              var m = w;
              w = p;
              p = m;
              p.fill(0);
              for (var A = 0; A < R; A++,
              M++) {
                  var U = A + F
                    , r = I + X
                    , $ = a * U + q * r
                    , k = c * U + K * r
                    , G = 0
                    , S = 0;
                  if (f == 0)
                      G = $ + .5;
                  else if (f == 1)
                      G = 2 * Math.sqrt($ * $ + k * k);
                  else if (f == 2)
                      G = (Math.PI + Math.atan2(-k, -$)) / (2 * Math.PI);
                  else if (f == 3)
                      G = Math.abs($ * 2);
                  else if (f == 4)
                      G = 2 * (Math.abs($) + Math.abs(k));
                  var i = j._.ZE(G, E) * 4
                    , o = A * 4;
                  for (var H = 0; H < 4; H++) {
                      var e = Math.max(0, Math.min(254.999, z[i + H] + w[o + 4 + H]))
                        , V = Math.floor(e);
                      if (Math.random() < e - V)
                          V++;
                      var v = e - V;
                      w[o + 8 + H] = v * (7 / 16);
                      p[o + 0 + H] = v * (3 / 16);
                      p[o + 4 + H] = v * (5 / 16);
                      p[o + 8 + H] = v * (1 / 16);
                      S |= V << H * 8
                  }
                  n[M] = S
              }
          }
      },
      XB: [function(n, z, C, D, F, X, E) {
          var f = C[0]
            , a = C[1]
            , q = C[2]
            , c = C[3]
            , K = D.d
            , R = D.v;
          for (var J = 0, M = 0; J < R; J++)
              for (var w = 0; w < K; w++,
              M++) {
                  var p = w + F
                    , I = J + X
                    , m = f * p + a * I
                    , A = q * p + c * I
                    , U = m + .5;
                  n[M] = z[j._.ZE(U, E)]
              }
      }
      , function(n, z, C, D, F, X, E) {
          var f = C[0]
            , a = C[1]
            , q = C[2]
            , c = C[3]
            , K = D.d
            , R = D.v;
          for (var J = 0, M = 0; J < R; J++)
              for (var w = 0; w < K; w++,
              M++) {
                  var p = w + F
                    , I = J + X
                    , m = f * p + a * I
                    , A = q * p + c * I
                    , U = 2 * Math.sqrt(m * m + A * A);
                  n[M] = z[j._.ZE(U, E)]
              }
      }
      , function(n, z, C, D, F, X, E) {
          var f = C[0]
            , a = C[1]
            , q = C[2]
            , c = C[3]
            , K = D.d
            , R = D.v;
          for (var J = 0, M = 0; J < R; J++)
              for (var w = 0; w < K; w++,
              M++) {
                  var p = w + F
                    , I = J + X
                    , m = f * p + a * I
                    , A = q * p + c * I
                    , U = (Math.PI + Math.atan2(-A, -m)) / (2 * Math.PI);
                  n[M] = z[j._.ZE(U, E)]
              }
      }
      , function(n, z, C, D, F, X, E) {
          var f = C[0]
            , a = C[1]
            , q = C[2]
            , c = C[3]
            , K = D.d
            , R = D.v;
          for (var J = 0, M = 0; J < R; J++)
              for (var w = 0; w < K; w++,
              M++) {
                  var p = w + F
                    , I = J + X
                    , m = f * p + a * I
                    , A = q * p + c * I
                    , U = Math.abs(m * 2);
                  n[M] = z[j._.ZE(U, E)]
              }
      }
      , function(n, z, C, D, F, X, E) {
          var f = C[0]
            , a = C[1]
            , q = C[2]
            , c = C[3]
            , K = D.d
            , R = D.v;
          for (var J = 0, M = 0; J < R; J++)
              for (var w = 0; w < K; w++,
              M++) {
                  var p = w + F
                    , I = J + X
                    , m = f * p + a * I
                    , A = q * p + c * I
                    , U = 2 * (Math.abs(m) + Math.abs(A));
                  n[M] = z[j._.ZE(U, E)]
              }
      }
      ]
  };
  j._.aiZ = function(n, z) {
      return n + .5
  }
  ;
  j._.ahC = function(n, z) {
      return 2 * Math.sqrt(n * n + z * z)
  }
  ;
  j._.aeZ = function(n, z) {
      return (Math.PI + Math.atan2(-z, -n)) / (2 * Math.PI)
  }
  ;
  j._.ale = function(n, z) {
      return Math.abs(n * 2)
  }
  ;
  j._.akf = function(n, z) {
      return 2 * (Math.abs(n) + Math.abs(z))
  }
  ;
  j._.R4 = function(n, z, C, D, F, X, E, f, a, q, c, K) {
      if (n.Clrs == null)
          return;
      var R = new Uint32Array(z.buffer)
        , J = 1023
        , w = j._.fr(n.Clrs.v, a, q);
      if (K) {
          var p = j._.aqA(n, w, J + 1, E);
          j._.acY(R, p, D, C, C.x - F, C.y - X, J, f);
          return
      }
      var I = j._.iH(n, w, J + 1, E);
      if (f < 5) {
          j._.XB[f](R, I, D, C, C.x - F, C.y - X, J)
      } else {
          var m = new Uint8Array(I.buffer)
            , A = C.d
            , U = C.v
            , r = c.SJ - c.uH
            , $ = 1 / r
            , k = c.C0.d - C.d >> 1
            , G = c.C0.v - C.v >> 1
            , i = c.C0.d
            , o = -.6 * $
            , S = (-.6 + .4) * $
            , H = (-.6 + 2 * .4) * $
            , e = (-.6 + 3 * .4) * $;
          for (var V = 0, M = 0; V < U; V++)
              for (var v = 0; v < A; v++,
              M += 4) {
                  var B = 0
                    , Z = 0
                    , d = 0
                    , g = 0
                    , Y = (V + G) * i + v + k
                    , y = (c.ZO[Y] - c.uH) * $
                    , L = 0;
                  if (y <= 0 || y >= 1) {
                      L = (y <= 0 ? 0 : J) << 2;
                      z[M] = m[L];
                      z[M + 1] = m[L + 1];
                      z[M + 2] = m[L + 2];
                      z[M + 3] = m[L + 3];
                      continue
                  }
                  L = Math.max(0, Math.min(J - 1, Math.round((y + o) * J))) << 2;
                  Z += m[L];
                  d += m[L + 1];
                  g += m[L + 2];
                  B += m[L + 3];
                  L = Math.max(0, Math.min(J - 1, Math.round((y + S) * J))) << 2;
                  Z += m[L];
                  d += m[L + 1];
                  g += m[L + 2];
                  B += m[L + 3];
                  L = Math.max(0, Math.min(J - 1, Math.round((y + H) * J))) << 2;
                  Z += m[L];
                  d += m[L + 1];
                  g += m[L + 2];
                  B += m[L + 3];
                  L = Math.max(0, Math.min(J - 1, Math.round((y + e) * J))) << 2;
                  Z += m[L];
                  d += m[L + 1];
                  g += m[L + 2];
                  B += m[L + 3];
                  z[M] = Z >>> 2;
                  z[M + 1] = d >>> 2;
                  z[M + 2] = g >>> 2;
                  z[M + 3] = B >>> 2
              }
      }
  }
  ;
  j._.fr = function(n, z, C) {
      var D = [];
      for (var M = 0; M < n.length; M++) {
          var F;
          if (n[M].v.Type.v.Clry == "FrgC")
              F = {
                  h: z >> 16 & 255,
                  Q: z >> 8 & 255,
                  O: z & 255
              };
          else if (n[M].v.Type.v.Clry == "BckC")
              F = {
                  h: C >> 16 & 255,
                  Q: C >> 8 & 255,
                  O: C & 255
              };
          else
              F = j._.Jo(n[M].v.Clr.v);
          D.push(F)
      }
      return D
  }
  ;
  j._.Jo = function(n) {
      var z, C = n.classID;
      if (C == "RGBC") {
          if (n.Rd)
              z = {
                  h: n.Rd.v,
                  Q: n.Grn.v,
                  O: n.Bl.v
              };
          else
              z = {
                  h: n.redFloat.v * 255,
                  Q: n.greenFloat.v * 255,
                  O: n.blueFloat.v * 255
              }
      } else if (C == "HSBC") {
          z = j.X9(n.H.v.val / 360, n.Strt.v / 100, n.Brgh.v / 100);
          z.h *= 255;
          z.Q *= 255;
          z.O *= 255
      } else if (C == "CMYC") {
          var D = 100 - n.Cyn.v
            , F = 100 - n.Mgnt.v
            , X = 100 - n.Ylw.v
            , E = 100 - n.Blck.v
            , f = 255 * D * E * 1e-4
            , a = 255 * (.2 * D + .8 * F) * E * 1e-4
            , q = 255 * (.2 * F + .8 * X) * E * 1e-4;
          z = {
              h: f,
              Q: a,
              O: q
          }
      } else if (C == "Grsc")
          z = {
              h: 255 - n.Gry.v,
              Q: 255 - n.Gry.v,
              O: 255 - n.Gry.v
          };
      else if (C == "LbCl") {
          z = j.sp(n.Lmnc.v, n.A.v, n.B.v)
      } else
          console.log(n);
      if (isNaN(z.h))
          z.h = z.Q = z.O = 0;
      return z
  }
  ;
  j._.w9 = function(n) {
      return {
          classID: "RGBC",
          Rd: {
              t: "doub",
              v: n.h
          },
          Grn: {
              t: "doub",
              v: n.Q
          },
          Bl: {
              t: "doub",
              v: n.O
          }
      }
  }
  ;
  j._.aqA = function(n, z, C, D) {
      var F = []
        , X = 1 / (C - 0);
      for (var M = 0; M < C; M++) {
          var E = M * 4
            , f = j._.Xa(n, z, (D ? C - 1 - M : M) * X);
          F[E] = f[0];
          F[E + 1] = f[1];
          F[E + 2] = f[2];
          F[E + 3] = f[3]
      }
      return F
  }
  ;
  j._.iH = function(n, z, C, D) {
      var F = new Uint32Array(C)
        , X = 1 / (C - 0);
      for (var M = 0; M < C; M++)
          F[M] = j._.ie(n, z, (D ? C - 1 - M : M) * X);
      return F
  }
  ;
  j._.Xa = function(n, z, C) {
      var D = 4096
        , F = 1 / 4096
        , X = n.Intr.v * F
        , E = n.Clrs.v
        , f = n.Trns.v
        , a = E.length - 1
        , q = f.length - 1
        , M = -1
        , c = 0
        , K = 0
        , R = 0
        , J = 0;
      while (M < q && f[M + 1].v.Lctn.v <= C * D)
          M++;
      if (M == -1) {
          c = f[0].v.Opct.v.val * (255 / 100)
      } else if (M == q) {
          c = f[M].v.Opct.v.val * (255 / 100)
      } else {
          var w = j._.FH(f, F, M, C, X);
          c = (w * f[M].v.Opct.v.val + (1 - w) * f[M + 1].v.Opct.v.val) * (255 / 100)
      }
      M = -1;
      while (M < a && E[M + 1].v.Lctn.v <= C * D)
          M++;
      if (M == -1) {
          var p = z[0];
          K = p.h;
          R = p.Q;
          J = p.O
      } else if (M == a) {
          var p = z[M];
          K = p.h;
          R = p.Q;
          J = p.O
      } else {
          var I = z[M]
            , m = z[M + 1]
            , A = j._.FH(E, F, M, C, X);
          K = A * I.h + (1 - A) * m.h;
          R = A * I.Q + (1 - A) * m.Q;
          J = A * I.O + (1 - A) * m.O
      }
      return [K, R, J, c]
  }
  ;
  j._.ie = function(n, z, C) {
      var D = j._.Xa(n, z, C)
        , F = ~~(.5 + D[0])
        , X = ~~(.5 + D[1])
        , E = ~~(.5 + D[2])
        , f = ~~(.5 + D[3]);
      return f << 24 | E << 16 | X << 8 | F
  }
  ;
  j._.FH = function(n, z, M, C, D) {
      if (n.length == 2)
          D *= .5;
      var F = n[M].v.Lctn.v * z, X = n[M + 1].v.Lctn.v * z, E = F + n[M + 1].v.Mdpn.v * .01 * (X - F), f;
      if (C < E)
          f = .5 * (C - F) / (E - F);
      else
          f = .5 + .5 * (C - E) / (X - E);
      f = .5 + .5 * (D * Math.cos(Math.PI * f) + (1 - D) * (1 - 2 * f));
      return f
  }
  ;
  j._.mu = function(n, z) {
      var C = Math.PI * n.Angl.v.val / 180
        , D = n.Scl.v.val / 100
        , F = n.Ofst.v
        , X = F.Hrzn.v.val / 100
        , E = F.Vrtc.v.val / 100
        , f = Math.cos(C)
        , a = -Math.sin(C)
        , q = .5 * z.v
        , c = q * (f / a)
        , K = Math.sqrt(q * q + c * c)
        , R = .5 * z.d
        , J = R * (a / f)
        , w = Math.sqrt(R * R + J * J)
        , p = Math.min(K, w) * D
        , I = z.x + z.d / 2 + X * z.d
        , m = z.y + z.v / 2 + E * z.v;
      return [new ir(I,m), new ir(I + f * p,m + a * p)]
  }
  ;
  j._.a9 = function(n, z, C, D) {
      var F = z.x - n.x
        , X = -(z.y - n.y)
        , E = Math.sqrt(F * F + X * X)
        , f = Math.atan2(X, F)
        , a = Math.cos(f)
        , q = -Math.sin(f)
        , c = .5 * C.v
        , K = c * (a / q)
        , R = Math.sqrt(c * c + K * K)
        , J = .5 * C.d
        , w = J * (q / a)
        , p = Math.sqrt(J * J + w * w)
        , I = E / Math.min(R, p)
        , m = (n.x - C.x - C.d / 2) / C.d
        , A = (n.y - C.y - C.v / 2) / C.v;
      D.Angl.v.val = 180 * f / Math.PI;
      D.Scl.v.val = I * 100;
      var U = D.Ofst.v;
      U.Hrzn.v.val = m * 100;
      U.Vrtc.v.val = A * 100
  }
  ;
  j._.sb = function(n, z) {
      for (var M = 0; M < n.length; M++) {
          var C = n[M]
            , D = Math.round(C[0] * 4096)
            , F = C[1]
            , X = C[2]
            , E = C[3];
          if (X == null)
              X = 1;
          if (E == null)
              E = .5;
          var f = j._.w9({
              h: F[0] * 255,
              Q: F[1] * 255,
              O: F[2] * 255
          });
          z.Clrs.v[M] = {
              t: "Objc",
              v: {
                  classID: "Clrt",
                  Lctn: {
                      t: "long",
                      v: D
                  },
                  Mdpn: {
                      t: "long",
                      v: Math.round(E * 100)
                  },
                  Clr: {
                      t: "Objc",
                      v: f
                  },
                  Type: {
                      t: "enum",
                      v: {
                          Clry: "UsrS"
                      }
                  }
              }
          };
          z.Trns.v[M] = {
              t: "Objc",
              v: {
                  classID: "TrnS",
                  Lctn: {
                      t: "long",
                      v: D
                  },
                  Mdpn: {
                      t: "long",
                      v: Math.round(E * 100)
                  },
                  Opct: {
                      t: "UntF",
                      v: {
                          type: "#Prc",
                          val: Math.round(X * 100)
                      }
                  }
              }
          }
      }
  }
  ;
  j.pF = {};
  j.pF.ap0 = function(n, z, C, D, F, X, E, f, a, q, c, K) {
      var R, J, w, p = Date.now(), I = !1, m = E, A = q, U, r, $, k, G = X * 255, i = 255 - a * 255, o = 1 + F * 6, S = 1 + f * 6, H = 1 + K * 4, e = (H - 1) / 7, V = 0, v = 255 - 0, B, Z, d, g, Y, y, L, _, b, x, W, g6, fY, f3 = 0, hK = 1, s, P, aF, fM, eA, e8, eC, cy, aX, j0, aT = 1 + c, a4, f8 = j.T(C * D), b3 = j.T(C * D), gh = j.T(C * D), cZ = j.T(C * D), h3 = 255 / G, ew = 255 / (255 - i);
      for (J = 0; J < D; J++) {
          for (R = 0; R < C; R++) {
              var M = J * C + R
                , dy = M << 2;
              s = j.Rg(n[dy], n[dy + 1], n[dy + 2]);
              cZ[M] = s;
              if (s < G)
                  f8[M] = 255 - s * h3;
              if (s > i)
                  b3[M] = 255 - (255 - s) * ew
          }
      }
      if (I)
          console.log("init", Date.now() - p);
      p = Date.now();
      if (F * m > 0) {
          gh.set(f8);
          j.Y7.Pn(gh, f8, new cc(0,0,C,D), m)
      }
      if (f * A > 0) {
          gh.set(b3);
          j.Y7.Pn(gh, b3, new cc(0,0,C,D), A)
      }
      if (I)
          console.log("blur", Date.now() - p);
      p = Date.now();
      var fx = j.T(256)
        , bo = j.T(256);
      for (var M = 0; M < 256; M++) {
          var hd = M * (1 / 255)
            , gT = 0;
          gT = (1 - Math.pow(1 - hd, o)) * 255;
          fx[M] = Math.max(0, Math.min(255, ~~(gT + .5)));
          gT = Math.pow(hd, S) * 255;
          bo[M] = Math.max(0, Math.min(255, ~~(gT + .5)))
      }
      var du = new Uint8ClampedArray(z.buffer)
        , bk = new Float32Array(32768);
      for (var M = 0; M < 32768; M++) {
          a4 = Math.sqrt(M) * (1 / 128);
          if (aT > 1)
              a4 = (1 - a4) * (aT - 1) + 1;
          else
              a4 = a4 * (aT - 1) + 1;
          bk[M] = a4
      }
      for (J = 0; J < D; J++) {
          for (R = 0; R < C; R++) {
              var M = J * C + R
                , dy = M << 2
                , gT = cZ[M]
                , i8 = f8[M] * (1 / 255)
                , en = b3[M] * (1 / 255);
              gT = (1 - i8) * gT + i8 * fx[~~gT];
              gT = (1 - en) * gT + en * bo[~~gT];
              s = gT;
              var dW = n[dy]
                , ix = n[dy + 1]
                , dU = n[dy + 2];
              P = -dW * .168736 - ix * .331264 + dU * .5;
              aF = dW * .5 - ix * .418688 - dU * .081312;
              a4 = bk[~~(.5 + P * P + aF * aF)];
              fM = P * a4;
              e8 = aF * a4;
              hK = 1 - Math.min(2 - (i8 + en), 1);
              P = hK * P + (1 - hK) * fM;
              aF = hK * aF + (1 - hK) * e8;
              cy = s + 1.402 * aF;
              aX = s - .34414 * P - .71414 * aF;
              j0 = s + 1.772 * P;
              du[dy] = ~~(.5 + cy);
              du[dy + 1] = ~~(.5 + aX);
              du[dy + 2] = ~~(.5 + j0)
          }
      }
      if (I)
          console.log("apply masks", Date.now() - p);
      p = Date.now()
  }
  ;
  j.YH = {};
  j.YH.n7 = function(n, z, C, D, F) {
      var X = !1
        , w = 1
        , v = 0
        , B = 0
        , b = 0
        , aX = 0;
      if (!z._6(F)) {
          var E = z.QH(F)
            , f = j.T(E.t() * 4);
          j.X3(n, z, f, E);
          n = f;
          z = E
      }
      var a = j.T(z.t());
      j.v8(C, F, a, z);
      j.round(a);
      F = F.Yi(z);
      var q = F.d
        , c = F.v
        , K = q * 3 < c ? 2 : 1
        , R = c * 3 < q ? 2 : 1;
      if (F.t() * (K * 2 + 1) * (R * 2 + 1) < z.t()) {
          var E = new cc(F.x - q * K,F.y - c * K,q * (K * 2 + 1),c * (R * 2 + 1)).Yi(z)
            , f = j.T(E.t() * 4);
          j.X3(n, z, f, E);
          var J = j.T(E.t());
          j.v8(a, z, J, E);
          z = E;
          n = f;
          a = J
      }
      while ((z.d + z.v) / 2 / w > 400)
          w++;
      var p = n
        , I = z
        , m = a
        , A = Math.floor(I.d / w)
        , U = Math.floor(I.v / w);
      n = j.T(A * U * 4);
      j.scale.nx(p, I.d, I.v, n, A, U, 1 / w);
      a = j.T(A * U);
      j.scale.Dh(m, I.d, I.v, a, A, U, 1 / w);
      j.round(a, 1);
      var r = j.ae(a, new cc(0,0,A,U));
      if (r.kX())
          return 1;
      var $ = Math.round((r.d + r.v) / 2 / 15)
        , k = Date.now()
        , G = j.T(A * U * 4);
      j.apz(n, G);
      var i = Int16Array
        , o = new i(A * U * 24)
        , S = new i(64)
        , H = new i(64)
        , e = new i(64)
        , V = new i(64);
      for (var Z = 3; Z < U - 4; Z++)
          for (var d = 3; d < A - 4; d++) {
              var g = Z * A + d;
              if (a[g] == 255)
                  continue;
              if (j.YH.aqn(G, a, d, Z, A, U, S, H, e) != 0)
                  continue;
              j.YH.kL(S, V);
              o[v] = d;
              o[v + 1] = Z;
              j.YH.YY(S, o, v + 4, 12);
              v += 16;
              j.YH.kL(H, V);
              j.YH.YY(H, o, v, 4);
              v += 4;
              j.YH.kL(e, V);
              j.YH.YY(e, o, v, 4);
              v += 4;
              var Y = o[v - 24 + 5]
                , y = o[v - 24 + 6];
              o[v - 24 + 5] = o[v - 24 + 20];
              o[v - 24 + 6] = o[v - 24 + 16];
              o[v - 24 + 16] = Y;
              o[v - 24 + 20] = y;
              B++
          }
      if (B == 0)
          return 2;
      if (X)
          console.log(Date.now() - k, "FWHT computed");
      k = Date.now();
      var L = [];
      j.YH.U9(0, B - 1, L, o, new i(2 * 24));
      if (X)
          console.log(Date.now() - k, "KD tree computed");
      k = Date.now();
      var _ = new Float32Array(A * U * 4);
      for (var M = 0; M < B; M++) {
          var x = M
            , W = j.YH.adV(x, o, L, $);
          if (W == -1)
              continue;
          var g6 = x * 24
            , fY = W * 24
            , f3 = o[g6]
            , hK = o[g6 + 1]
            , s = o[fY]
            , P = o[fY + 1];
          b += j.YH.getError(fY, g6, o, 1e99);
          var aF = s - f3
            , fM = P - hK;
          _[(U + fM) * 2 * A + (A + aF)] += 1
      }
      if (X)
          console.log(Date.now() - k, "NN found");
      k = Date.now();
      var eA = []
        , e8 = 1 / (2 * A);
      for (var M = 0; M < _.length; M++) {
          if (_[M] > 0) {
              var Z = Math.floor(M * e8)
                , d = M - Z * 2 * A;
              eA.push({
                  x: d - A,
                  y: Z - U,
                  G: _[M],
                  zq: -1
              })
          }
      }
      eA.sort(function(en, dW) {
          return dW.G - en.G
      });
      var eC = new Int32Array(A * U)
        , cy = [];
      for (var M = 0; M < A * U; M++) {
          if (a[M] == 255) {
              eC[M] = aX;
              cy.push(M % A, Math.floor(M / A));
              aX++
          } else if (n[(M << 2) + 3] < 200) {
              eC[M] = -2
          } else {
              eC[M] = -1
          }
      }
      var j0 = j.YH.a70(A, U, eA, eC, cy, aX);
      if (j0 == null) {
          return 3
      }
      var f8 = j0.pa
        , top = j0.top;
      f8 = j.YH.ahb(f8, n, A, U, top, eC, cy, aX);
      if (X)
          console.log(Date.now() - k, "optimal labeling found");
      k = Date.now();
      var E = F.clone();
      E.TR(1, 1);
      E = E.Yi(I);
      var b3 = j.T(E.t() * 4)
        , gh = j.T(E.t());
      j.X3(p, I, b3, E);
      var cZ = I.d
        , h3 = I.v;
      for (var Z = 0; Z < h3; Z++)
          for (var d = 0; d < cZ; d++) {
              if (m[Z * cZ + d] == 0)
                  continue;
              var ew = Math.min(Math.floor(d / w), A - 1)
                , dy = Math.min(Math.floor(Z / w), U - 1)
                , fx = eC[dy * A + ew];
              if (fx == -1)
                  continue;
              var bo = f8[fx]
                , hd = top[bo]
                , gT = d + hd.x * w
                , du = Z + hd.y * w
                , bk = du * cZ + gT << 2
                , i8 = (Z - E.y + I.y) * E.d + (d - E.x + I.x) << 2;
              b3[i8] = p[bk];
              b3[i8 + 1] = p[bk + 1];
              b3[i8 + 2] = p[bk + 2];
              b3[i8 + 3] = p[bk + 3];
              b3[i8 + 3] = p[bk + 3];
              gh[i8 >> 2] = bo + 1
          }
      if (X)
          console.log(Date.now() - k, "copied back");
      k = Date.now();
      j.YN.n7(b3, gh, E, null, 1e3);
      if (X)
          console.log(Date.now() - k, "poisson smooth");
      k = Date.now();
      j.X3(b3, E, D, F);
      return 0
  }
  ;
  j.YH.rc = function(n, z, C, D, F, X) {
      return j.YH.Oq(n + F.x, z + F.y, C, D) && X[(z + F.y) * C + (n + F.x)] == -1 ? 0 : 1e9
  }
  ;
  j.YH.ahb = function(n, z, C, D, top, F, X, E) {
      var f = Date.now()
        , a = [-1, 0, 0, -1, 1, 0, 0, 1]
        , q = 1e99
        , c = []
        , K = []
        , R = 2 * (E * 2 * 3 + E * 2)
        , J = null
        , w = 0
        , p = 0
        , I = 0
        , m = 1e99;
      while (!0 && Date.now() < f + 12e3) {
          I++;
          var A = null
            , U = q;
          for (var r = 0; r < top.length; r++) {
              var $ = top[r]
                , k = 0
                , G = E + 2
                , i = 0;
              for (var M = 0; M < E; M++) {
                  var o = X[M * 2]
                    , S = X[M * 2 + 1]
                    , H = top[n[M]]
                    , e = j.YH.rc(o, S, C, D, $, F)
                    , V = n[M] == r ? 1e9 : j.YH.rc(o, S, C, D, H, F);
                  for (var h = 0; h < 4; h++) {
                      if (h == 0 && o == 0 || h == 1 && S == 0 || h == 2 && o == C - 1 || h == 3 && S == D - 1)
                          continue;
                      var v = a[2 * h]
                        , B = a[2 * h + 1]
                        , Z = o + v
                        , d = S + B
                        , g = F[d * C + Z];
                      if (g == -2) {} else if (g == -1) {
                          e += 3 * j.YH._K(Z + $.x, d + $.y, Z, d, C, D, z, F);
                          e += 2 * j.YH._K(Z + $.x + v, d + $.y + B, Z + v, d + B, C, D, z, F);
                          V += 3 * j.YH._K(Z + H.x, d + H.y, Z, d, C, D, z, F);
                          V += 2 * j.YH._K(Z + H.x + v, d + H.y + B, Z + v, d + B, C, D, z, F)
                      } else if (h > 1) {
                          if (n[M] == n[g]) {
                              var Y = 0;
                              Y += j.YH._K(o + H.x, S + H.y, o + $.x, S + $.y, C, D, z, F);
                              Y += j.YH._K(Z + H.x, d + H.y, Z + $.x, d + $.y, C, D, z, F);
                              c[k] = M;
                              c[k + 1] = g;
                              K[k] = Y;
                              K[k + 1] = Y;
                              k += 2
                          } else {
                              var y = top[n[g]]
                                , L = G
                                , _ = 0
                                , b = 0
                                , x = 0;
                              G++;
                              _ += j.YH._K(o + H.x, S + H.y, o + $.x, S + $.y, C, D, z, F);
                              _ += j.YH._K(Z + H.x, d + H.y, Z + $.x, d + $.y, C, D, z, F);
                              b += j.YH._K(o + y.x, S + y.y, o + $.x, S + $.y, C, D, z, F);
                              b += j.YH._K(Z + y.x, d + y.y, Z + $.x, d + $.y, C, D, z, F);
                              x += j.YH._K(o + y.x, S + y.y, o + H.x, S + H.y, C, D, z, F);
                              x += j.YH._K(Z + y.x, d + y.y, Z + H.x, d + H.y, C, D, z, F);
                              c[k] = M;
                              c[k + 1] = L;
                              K[k] = _;
                              K[k + 1] = _;
                              k += 2;
                              c[k] = g;
                              c[k + 1] = L;
                              K[k] = b;
                              K[k + 1] = b;
                              k += 2;
                              c[k] = L;
                              c[k + 1] = E + 1;
                              K[k] = x;
                              K[k + 1] = 0;
                              k += 2
                          }
                      }
                  }
                  c[k] = E;
                  c[k + 1] = M;
                  K[k] = e;
                  K[k + 1] = 0;
                  k += 2;
                  c[k] = M;
                  c[k + 1] = E + 1;
                  K[k] = V;
                  K[k + 1] = 0;
                  k += 2;
                  i += Math.min(e, V)
              }
              if (i > U)
                  continue;
              var W = j.rT.jU(G, k, E, E + 1, c, K, U);
              if (W.cT < U) {
                  U = W.cT;
                  var g6 = n.slice(0);
                  j.YH.anE(g6, k, c, W.x_, r, E);
                  A = g6
              }
          }
          if (U * 1 >= q) {
              break
          }
          q = U;
          n = A;
          if ((I & 3) == 0) {
              if (U * 1.03 >= m)
                  break;
              m = U
          }
          if ((I & 3) == 0) {
              var fY = 0 * top.length;
              for (var M = 0; M < top.length && top.length > fY; M++) {
                  if (n.indexOf(M) != -1)
                      continue;
                  top.splice(M, 1);
                  for (var g = 0; g < n.length; g++)
                      if (n[g] > M)
                          n[g]--;
                  M--
              }
          }
      }
      return n
  }
  ;
  j.YH.anE = function(n, z, C, D, F, X) {
      for (var M = 0; M < D.length; M++) {
          var E = D[M] << 1
            , f = 0
            , a = 0;
          if (E < z) {
              f = C[E];
              a = C[E + 1]
          } else {
              a = C[E];
              f = C[E + 1]
          }
          if (f == X && n[a] != F)
              n[a] = F
      }
  }
  ;
  j.YH.dS = function(top, n, z, C, D, F, X, E, f) {
      for (var M = 0; M < z.length; M++) {
          var a = z[M]
            , q = !0;
          if (E != null && !(j.YH.Oq(E + a.x, f + a.y, F, X) && C[F * (f + a.y) + E + a.x] == -1))
              continue;
          if (a.zq == -1)
              a.zq = j.YH.akY(a, C, D, F, X);
          if (a.zq <= 0)
              continue;
          for (var c = 0; c < top.length; c++) {
              var K = top[c]
                , R = a.x - K.x
                , J = a.y - K.y;
              if (R * R + J * J < n) {
                  q = !1;
                  break
              }
          }
          if (q)
              return a
      }
      return null
  }
  ;
  j.YH.akY = function(n, z, C, D, F) {
      var X = 0;
      for (var M = 0; M < C.length; M += 2) {
          var E = C[M] + n.x
            , f = C[M + 1] + n.y;
          if (j.YH.Oq(E, f, D, F) && z[D * f + E] == -1)
              X++
      }
      return X / (C.length >> 1)
  }
  ;
  j.YH.a70 = function(n, z, C, D, F, X) {
      var top = [];
      for (var M = 0; M < 60; M++) {
          var E = j.YH.dS(top, 25, C, D, F, n, z);
          if (E == null)
              break;
          else
              top.push(E)
      }
      if (top.length == 0)
          return null;
      var f = [];
      for (var M = 0; M < X; M++) {
          var a = F[M * 2]
            , q = F[M * 2 + 1]
            , c = -1
            , K = 0;
          while (!0) {
              K++;
              var R = Math.random();
              c = Math.floor(R * .99999 * top.length);
              var J = top[c]
                , w = a + J.x
                , p = q + J.y;
              if (j.YH.Oq(w, p, n, z) && D[p * n + w] == -1)
                  break;
              if (K > 100) {
                  var E;
                  E = j.YH.dS(top, 0, C, D, F, n, z, a, q);
                  if (E == null)
                      return null;
                  top.push(E);
                  K = 0
              }
          }
          f.push(c)
      }
      return {
          top: top,
          pa: f
      }
  }
  ;
  j.YH._K = function(n, z, C, D, F, X, E, f) {
      if (n == C && z == D)
          return 0;
      if (n < 0 || z < 0 || n >= F || z >= X || C < 0 || D < 0 || C >= F || D >= X || f[z * F + n] != -1 || f[D * F + C] != -1)
          return 1e7;
      var a = z * F + n << 2
        , q = D * F + C << 2
        , c = E[a] - E[q]
        , K = E[a + 1] - E[q + 1]
        , R = E[a + 2] - E[q + 2];
      return 1 + (c * c + K * K + R * R)
  }
  ;
  j.YH.Oq = function(n, z, C, D) {
      return n >= 0 && n < C && z >= 0 && z < D
  }
  ;
  j.YH.adV = function(n, z, C, D) {
      var F = 24 * n
        , X = z[F]
        , E = z[F + 1]
        , f = D * D
        , a = 0
        , R = 1e9;
      while (C[a] != 99)
          if (z[F + C[a]] < C[a + 1])
              a = C[a + 2];
          else
              a = C[a + 3];
      var q = C[a + 1]
        , c = C[a + 2]
        , K = -1;
      for (var M = q; M <= c; M++) {
          var a = M
            , J = a * 24
            , w = z[J]
            , p = z[J + 1];
          if ((w - X) * (w - X) + (p - E) * (p - E) < f)
              continue;
          var I = j.YH.getError(J, F, z, R);
          if (I < R) {
              R = I;
              K = a
          }
      }
      return K
  }
  ;
  j.YH.getError = function(n, z, C, D) {
      var F = 0;
      for (var X = 4; X < 24; X += 4) {
          var E = C[z + X] - C[n + X]
            , f = C[z + X + 1] - C[n + X + 1]
            , a = C[z + X + 2] - C[n + X + 2]
            , q = C[z + X + 3] - C[n + X + 3];
          F += E * E + f * f + a * a + q * q;
          if (F >= D)
              return F + 1
      }
      return F
  }
  ;
  j.YH.U9 = function(n, z, C, D, F) {
      var X = 16
        , R = 0;
      if (z - n <= X) {
          C.push(99, n, z);
          return
      }
      j.YH.AN(n, z, D, F);
      var E = -1
        , f = -1;
      for (var M = 4; M < 24; M++) {
          var a = F[2 * M + 1] - F[2 * M];
          if (a > f) {
              f = a;
              E = M
          }
      }
      var q = n + z >> 1
        , c = j.YH.ajB(q, n, z, D, E)
        , K = -1;
      for (var M = n; M <= z; M++)
          if (D[24 * M + E] == c) {
              if (K == -1)
                  K = M;
              R = M
          }
      if (n + 8 < K && K - n > z - R)
          q = K;
      else if (R + 1 < z - 8)
          q = R + 1;
      else if (z - n < 64) {
          C.push(99, n, z);
          return
      } else
          q = q;
      var J = C.length;
      C.push(E, c, 0, 0);
      C[J + 2] = J + 4;
      j.YH.U9(n, q - 1, C, D, F);
      C[J + 3] = C.length;
      j.YH.U9(q, z, C, D, F)
  }
  ;
  j.YH.AN = function(n, z, C, D) {
      for (var M = 0; M < 48; M += 4) {
          D[M] = 3e4;
          D[M + 1] = -3e4;
          D[M + 2] = 3e4;
          D[M + 3] = -3e4
      }
      for (var M = n; M <= z; M++) {
          var F = M * 24;
          for (var X = 0; X < 24; X++) {
              var E = C[F + X]
                , f = D[X << 1]
                , a = D[(X << 1) + 1];
              if (E < f)
                  D[X << 1] = E;
              if (E > a)
                  D[(X << 1) + 1] = E
          }
      }
  }
  ;
  j.YH.bu = function(n, z, C) {
      var D = 0
        , M = 0;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++;
      D = C[n + M];
      C[n + M] = C[z + M];
      C[z + M] = D;
      M++
  }
  ;
  j.YH.t2 = function(n, z, C, D) {
      var F = C + D >>> 1
        , X = n[24 * F + z];
      while (C <= D) {
          while (n[24 * C + z] < X)
              C++;
          while (n[24 * D + z] > X)
              D--;
          if (C <= D) {
              if (n[24 * C + z] != n[24 * D + z])
                  j.YH.bu(C * 24, D * 24, n);
              C++;
              D--
          }
      }
      return C
  }
  ;
  j.YH.ajB = function(n, z, C, D, F) {
      var X = 0;
      while (z != C) {
          X = j.YH.t2(D, F, z, C);
          if (n < X)
              C = X - 1;
          else
              z = X
      }
      return D[n * 24 + F]
  }
  ;
  j.YH.YY = function(n, z, C, D) {
      for (var M = 0; M < D; M++)
          z[C + M] = n[M]
  }
  ;
  j.YH.aqn = function(n, z, C, D, F, X, E, f, a) {
      var q = (D - 3) * F + (C - 3)
        , c = q << 2;
      for (var K = 0; K < 8; K++) {
          if (z[q] + z[q + 1] + z[q + 2] + z[q + 3] + z[q + 4] + z[q + 5] + z[q + 6] + z[q + 7] != 0 || n[c + 3] < 200 || n[c + 7] < 200 || n[c + 11] < 200 || n[c + 15] < 200 || n[c + 19] < 200 || n[c + 23] < 200 || n[c + 27] < 200 || n[c + 31] < 200)
              return 1;
          var M = K << 3;
          E[M + 0] = n[c + 0];
          f[M + 0] = n[c + 1];
          a[M + 0] = n[c + 2];
          E[M + 1] = n[c + 4];
          f[M + 1] = n[c + 5];
          a[M + 1] = n[c + 6];
          E[M + 2] = n[c + 8];
          f[M + 2] = n[c + 9];
          a[M + 2] = n[c + 10];
          E[M + 3] = n[c + 12];
          f[M + 3] = n[c + 13];
          a[M + 3] = n[c + 14];
          E[M + 4] = n[c + 16];
          f[M + 4] = n[c + 17];
          a[M + 4] = n[c + 18];
          E[M + 5] = n[c + 20];
          f[M + 5] = n[c + 21];
          a[M + 5] = n[c + 22];
          E[M + 6] = n[c + 24];
          f[M + 6] = n[c + 25];
          a[M + 6] = n[c + 26];
          E[M + 7] = n[c + 28];
          f[M + 7] = n[c + 29];
          a[M + 7] = n[c + 30];
          c += F << 2;
          q += F
      }
      return 0
  }
  ;
  j.YH.kL = function(n, z) {
      z[0] = n[32] + n[0];
      z[1] = n[33] + n[1];
      z[2] = n[34] + n[2];
      z[3] = n[35] + n[3];
      z[4] = n[36] + n[4];
      z[5] = n[37] + n[5];
      z[6] = n[38] + n[6];
      z[7] = n[39] + n[7];
      z[8] = n[40] + n[8];
      z[9] = n[41] + n[9];
      z[10] = n[42] + n[10];
      z[11] = n[43] + n[11];
      z[12] = n[44] + n[12];
      z[13] = n[45] + n[13];
      z[14] = n[46] + n[14];
      z[15] = n[47] + n[15];
      z[16] = n[48] + n[16];
      z[17] = n[49] + n[17];
      z[18] = n[50] + n[18];
      z[19] = n[51] + n[19];
      z[20] = n[52] + n[20];
      z[21] = n[53] + n[21];
      z[22] = n[54] + n[22];
      z[23] = n[55] + n[23];
      z[24] = n[56] + n[24];
      z[25] = n[57] + n[25];
      z[26] = n[58] + n[26];
      z[27] = n[59] + n[27];
      z[28] = n[60] + n[28];
      z[29] = n[61] + n[29];
      z[30] = n[62] + n[30];
      z[31] = n[63] + n[31];
      z[32] = n[0] - n[32];
      z[33] = n[1] - n[33];
      z[34] = n[2] - n[34];
      z[35] = n[3] - n[35];
      z[36] = n[4] - n[36];
      z[37] = n[5] - n[37];
      z[38] = n[6] - n[38];
      z[39] = n[7] - n[39];
      z[40] = n[8] - n[40];
      z[41] = n[9] - n[41];
      z[42] = n[10] - n[42];
      z[43] = n[11] - n[43];
      z[44] = n[12] - n[44];
      z[45] = n[13] - n[45];
      z[46] = n[14] - n[46];
      z[47] = n[15] - n[47];
      z[48] = n[16] - n[48];
      z[49] = n[17] - n[49];
      z[50] = n[18] - n[50];
      z[51] = n[19] - n[51];
      z[52] = n[20] - n[52];
      z[53] = n[21] - n[53];
      z[54] = n[22] - n[54];
      z[55] = n[23] - n[55];
      z[56] = n[24] - n[56];
      z[57] = n[25] - n[57];
      z[58] = n[26] - n[58];
      z[59] = n[27] - n[59];
      z[60] = n[28] - n[60];
      z[61] = n[29] - n[61];
      z[62] = n[30] - n[62];
      z[63] = n[31] - n[63];
      n[0] = z[16] + z[0];
      n[1] = z[17] + z[1];
      n[2] = z[18] + z[2];
      n[3] = z[19] + z[3];
      n[4] = z[20] + z[4];
      n[5] = z[21] + z[5];
      n[6] = z[22] + z[6];
      n[7] = z[23] + z[7];
      n[8] = z[24] + z[8];
      n[9] = z[25] + z[9];
      n[10] = z[26] + z[10];
      n[11] = z[27] + z[11];
      n[12] = z[28] + z[12];
      n[13] = z[29] + z[13];
      n[14] = z[30] + z[14];
      n[15] = z[31] + z[15];
      n[16] = z[0] - z[16];
      n[17] = z[1] - z[17];
      n[18] = z[2] - z[18];
      n[19] = z[3] - z[19];
      n[20] = z[4] - z[20];
      n[21] = z[5] - z[21];
      n[22] = z[6] - z[22];
      n[23] = z[7] - z[23];
      n[24] = z[8] - z[24];
      n[25] = z[9] - z[25];
      n[26] = z[10] - z[26];
      n[27] = z[11] - z[27];
      n[28] = z[12] - z[28];
      n[29] = z[13] - z[29];
      n[30] = z[14] - z[30];
      n[31] = z[15] - z[31];
      z[0] = n[8] + n[0];
      z[1] = n[9] + n[1];
      z[2] = n[10] + n[2];
      z[3] = n[11] + n[3];
      z[4] = n[12] + n[4];
      z[5] = n[13] + n[5];
      z[6] = n[14] + n[6];
      z[7] = n[15] + n[7];
      z[8] = n[0] - n[8];
      z[9] = n[1] - n[9];
      z[10] = n[2] - n[10];
      z[11] = n[3] - n[11];
      z[12] = n[4] - n[12];
      z[13] = n[5] - n[13];
      z[14] = n[6] - n[14];
      z[15] = n[7] - n[15];
      n[0] = z[4] + z[0];
      n[1] = z[5] + z[1];
      n[2] = z[6] + z[2];
      n[3] = z[7] + z[3];
      n[4] = z[0] - z[4];
      n[5] = z[1] - z[5];
      n[6] = z[2] - z[6];
      n[7] = z[3] - z[7];
      n[8] = z[12] + z[8];
      n[9] = z[13] + z[9];
      n[10] = z[14] + z[10];
      n[11] = z[15] + z[11];
      n[12] = z[8] - z[12];
      n[13] = z[9] - z[13];
      n[14] = z[10] - z[14];
      n[15] = z[11] - z[15];
      z[0] = n[2] + n[0];
      z[1] = n[3] + n[1];
      z[2] = n[0] - n[2];
      z[3] = n[1] - n[3];
      z[4] = n[6] + n[4];
      z[5] = n[7] + n[5];
      z[6] = n[4] - n[6];
      z[7] = n[5] - n[7];
      z[8] = n[10] + n[8];
      z[9] = n[11] + n[9];
      z[10] = n[8] - n[10];
      z[11] = n[9] - n[11];
      z[12] = n[14] + n[12];
      z[13] = n[15] + n[13];
      z[14] = n[12] - n[14];
      z[15] = n[13] - n[15];
      n[0] = z[1] + z[0];
      n[1] = z[0] - z[1];
      n[2] = z[3] + z[2];
      n[3] = z[2] - z[3];
      n[4] = z[5] + z[4];
      n[5] = z[4] - z[5];
      n[6] = z[7] + z[6];
      n[7] = z[6] - z[7];
      n[8] = z[9] + z[8];
      n[9] = z[8] - z[9];
      n[10] = z[11] + z[10];
      n[11] = z[10] - z[11];
      n[12] = z[13] + z[12];
      n[13] = z[12] - z[13];
      n[14] = z[15] + z[14];
      n[15] = z[14] - z[15]
  }
  ;
  j.YH.a2N = function() {
      var n = "", h = 64, z = "v", C = "t", D = "a", F = 5, M, X, E;
      for (M = h >> 1; M > 0; M >>= 1,
      F--) {
          for (X = 0; X < h; X++) {
              E = (X >> F & 1) != 0;
              if (E) {
                  n += C + "[" + X + "] = " + z + "[" + (-M + X) + "] - " + z + "[" + X + "];  "
              } else {
                  n += C + "[" + X + "] = " + z + "[" + (M + X) + "] + " + z + "[" + X + "];  "
              }
          }
          D = z;
          z = C;
          C = D;
          n += "\n"
      }
      console.log(n)
  }
  ;
  j.YH.a08 = function(h, n, z) {
      var C = n, D = z, F = C, X = 0, M, f, a;
      while (h >> X != 2)
          X++;
      var E = X;
      for (M = h >> 1; M > 0; M >>= 1,
      X--) {
          for (f = 0; f < h; f++) {
              a = (f >> X & 1) != 0;
              if (a)
                  D[f] = C[-M + f] - C[f];
              else
                  D[f] = C[M + f] + C[f]
          }
          F = C;
          C = D;
          D = F
      }
      if ((E & 1) == 1)
          for (M = 0; M < h; M++)
              z[M] = C[M]
  }
  ;
  j.tI = {};
  j.tI.SP = function(n, z, C, D, F, X, E, f, a) {
      var q = Date.now()
        , c = new Uint32Array(n.buffer)
        , K = new Uint32Array(z.buffer)
        , R = E / C
        , J = f / D
        , w = 1 / R
        , p = 1 / J
        , I = new Float64Array(2)
        , m = 3
        , A = 1 / m
        , U = 1 / (m * m)
        , r = 0
        , $ = 0
        , k = C
        , G = D;
      if (F) {
          r = F.x;
          $ = F.y;
          k = F.d;
          G = F.v
      }
      for (var i = 0; i < G; i++)
          for (var o = 0; o < k; o++) {
              var S = r + o
                , H = $ + i
                , M = H * C + S
                , e = M << 1
                , V = M << 2;
              j.tI.a3R(X, E, f, (S + .5) * R, (H + .5) * J, I);
              var v = I[0] * w
                , B = I[1] * p;
              if (v == 0 && B == 0)
                  K[M] = c[M];
              else {
                  j.V.AO(S + v + .5, H + B + .5, c, C, D, K, M, a)
              }
          }
  }
  ;
  j.tI.a3R = function(n, z, C, D, F, X) {
      D -= .499999;
      F -= .499999;
      var E = ~~D
        , f = ~~F
        , a = D - E
        , q = F - f
        , c = (1 - q) * (1 - a)
        , K = (1 - q) * a
        , R = q * (1 - a)
        , J = q * a
        , w = E < z - 1 ? E + 1 : E
        , p = f < C - 1 ? f + 1 : f
        , I = f * z + E << 1
        , m = f * z + w << 1
        , A = p * z + E << 1
        , U = p * z + w << 1;
      X[0] = c * n[I] + K * n[m] + R * n[A] + J * n[U];
      X[1] = c * n[I + 1] + K * n[m + 1] + R * n[A + 1] + J * n[U + 1]
  }
  ;
  j.tI.a2n = function(n, z, C, D, F) {
      var X = 1 / n
        , E = [-1, 1, -n, n]
        , f = D.length;
      for (var a = 0; a < f; a++) {
          var M = D[a]
            , q = M << 1
            , c = a << 1
            , K = ~~(M * X)
            , R = M - n * K
            , J = C[q]
            , w = C[q + 1]
            , p = 0
            , I = 0;
          if (R != 0 && R != n - 1) {
              var m = M - 1 << 1
                , A = M + 1 << 1
                , U = C[m]
                , r = C[A]
                , $ = C[m + 1]
                , k = C[A + 1]
                , G = J - (U + r) * .5
                , i = w - ($ + k) * .5;
              p -= G * F;
              I -= i * F
          }
          if (K != 0 && K != z - 1) {
              var m = M - n << 1
                , A = M + n << 1
                , U = C[m]
                , r = C[A]
                , $ = C[m + 1]
                , k = C[A + 1]
                , G = J - (U + r) * .5
                , i = w - ($ + k) * .5;
              p -= G * F;
              I -= i * F
          }
          C[q] = J + p;
          C[q + 1] = w + I
      }
  }
  ;
  j.tI.adH = function(n, z) {
      var C = n + "," + z;
      if (j.tI.z8 == C)
          return j.tI.N5;
      var D = j.tI.N5 = [];
      j.tI.z8 = C;
      for (var M = 0; M <= 1e3; M++) {
          var F = M * .001
            , X = Math.sqrt(F)
            , E = Math.exp(-4 * X)
            , f = .96 * (1 - X * X)
            , a = z * ((1 - n) * E + n * f);
          D[M] = a
      }
      return D
  }
  ;
  j.tI.z8 = "";
  j.tI.N5 = [];
  j.tI.a9A = function(n, z, C, D, F, X, E, f, a, q, c, K, R) {
      var J = Math.max(0, Math.floor(F - E - 1))
        , w = Math.min(z, Math.ceil(F + E + 1))
        , p = Math.max(0, Math.floor(X - E - 1))
        , I = Math.min(C, Math.ceil(X + E + 1))
        , m = 2 * z
        , A = E * E
        , U = 1 / E
        , r = 0;
      if (R && (D == 3 || D == 6))
          a = -a;
      var $ = j.tI.adH(f, a);
      for (var k = p; k < I; k++)
          for (var G = J; G < w; G++) {
              var M = k * z + G
                , i = M << 1
                , o = (F - G) * U
                , S = (X - k) * U
                , H = o * o + S * S;
              if (H < 1) {
                  K[r] = M;
                  var e = $[~~(H * 1e3)];
                  if (D == 1) {
                      n[i] = n[i] * (1 - e * .05);
                      n[i + 1] = n[i + 1] * (1 - e * .05)
                  } else {
                      var V = 0, v = 0, d, g, Y, y;
                      if (D == 0) {
                          V = q * e;
                          v = c * e
                      } else if (D == 2) {} else if (D == 3) {
                          V = e * S;
                          v = -e * o
                      } else if (D == 4) {
                          V = e * o;
                          v = e * S
                      } else if (D == 5) {
                          V = -e * o;
                          v = -e * S
                      } else if (D == 6) {
                          V = c * e;
                          v = -q * e
                      }
                      var B = n[i]
                        , Z = n[i + 1];
                      if (G == 0 || G != z - 1 && V < 0) {
                          d = 1 + n[i + 2] - B;
                          Y = n[i + 3] - Z
                      } else {
                          d = B - n[i - 2] + 1;
                          Y = Z - n[i - 1]
                      }
                      if (k == 0 || k != C - 1 && v < 0) {
                          g = n[i + m] - B;
                          y = 1 + n[i + m + 1] - Z
                      } else {
                          g = B - n[i - m];
                          y = Z - n[i - m + 1] + 1
                      }
                      n[i] = -(d * V + g * v - B);
                      n[i + 1] = -(Y * V + y * v - Z)
                  }
                  r++
              }
          }
  }
  ;
  j.tI.akP = function(n) {
      var z = n[0]
        , C = n[0]
        , D = n[1]
        , F = n[1];
      for (var M = 0; M < n.length; M += 2) {
          var X = n[M]
            , E = n[M + 1];
          if (X < z)
              z = X;
          else if (X > C)
              C = X;
          if (E < D)
              D = E;
          else if (E > F)
              F = E
      }
      return [z, D, C, F]
  }
  ;
  j.afV = function(n, z, C, D, F) {
      function X(s, P, aF, fM) {
          return Math.sqrt((s - aF) * (s - aF) + (P - fM) * (P - fM))
      }
      function E(s, P) {
          return s >= 0 && s < z && P >= 0 && P < C
      }
      function f(s) {
          if (s < 0)
              return 0;
          if (s >= z)
              return z - 1;
          return s
      }
      function a(s) {
          if (s < 0)
              return 0;
          if (s >= C)
              return C - 1;
          return s
      }
      function q(M, s) {
          var P = s[3] * (1 / 255)
            , aF = D[M] + s[0] * P;
          if (aF > 255)
              aF = 255;
          D[M] = aF;
          aF = D[M + 1] + s[1] * P;
          if (aF > 255)
              aF = 255;
          D[M + 1] = aF;
          aF = D[M + 2] + s[2] * P;
          if (aF > 255)
              aF = 255;
          D[M + 2] = aF
      }
      function c(s, P, aF) {
          if (!L(s, P))
              return;
          if (aF[3] < 0)
              aF[3] = 0;
          q((P * z + s) * 4, aF)
      }
      function K(s) {
          var P = s.slice(0, 3);
          P[3] = 0;
          return P
      }
      var R = z / 800;
      function J(s) {
          return Math.round(s * R)
      }
      function w() {
          for (var M = 0; M <= 300; M++) {
              b[M] = p(M)
          }
      }
      function p(C) {
          var s = .8, P = .2, aF = s * P, fM = C / 60 % 2 - 1, eA = aF * (1 - fM * fM), e8 = P - aF, eC;
          if (C < 60) {
              eC = [aF + e8, eA, 0]
          } else if (C < 120) {
              eC = [eA, aF, 0]
          } else if (C < 180) {
              eC = [0, aF, eA]
          } else if (C < 240) {
              eC = [0, eA, aF]
          } else if (C < 300) {
              eC = [eA, 0, aF]
          } else {
              eC = [aF, 0, eA]
          }
          return [(eC[0] + e8) * 255, (eC[1] + e8) * 255, (eC[2] + e8) * 255]
      }
      function I(C) {
          return b[~~C]
      }
      function m(s) {
          return 1 - A(s)
      }
      function A(s) {
          return s - ~~s
      }
      function U(s, P, aF, fM) {
          Y(s, P, aF, 0, P + 1, 1, fM)
      }
      function r(s, P, aF, fM, eA, e8) {
          Y(s, P, aF, 0, fM, 1, eA, e8)
      }
      function $(s) {
          for (var M = 0; M < D.length; M += 4) {
              q(M, s)
          }
      }
      function k(s, P, aF, fM, eA, e8, eC, cy) {
          G(s, P, aF, fM, eA, 1, e8, eC, cy)
      }
      function G(s, P, aF, fM, eA, e8, eC, cy, aX) {
          if (e8 == null)
              e8 = .5;
          if (eC == null)
              eC = 0;
          if (cy == null)
              cy = 0;
          if (aX == null)
              aX = !1;
          var j0 = s.x
            , aT = s.y
            , a4 = aF.slice(0)
            , f8 = ~~(aF[3] * W);
          fM = fM * W;
          if (!aX) {
              P = y(P);
              eA = y(eA);
              eC = y(eC);
              cy = y(cy)
          }
          var b3 = f(j0 - P)
            , gh = f(j0 + P);
          for (var cZ = b3; cZ <= gh; cZ++) {
              var h3 = cZ - j0
                , ew = Math.floor(Math.sqrt(P * P - h3 * h3))
                , dy = a(aT - ew)
                , fx = a(aT);
              for (var bo = dy; bo <= fx; bo++) {
                  var hd = X(cZ, bo, j0, aT);
                  if (hd > P || hd <= P - eA)
                      break;
                  var gT = (hd - P + eA) / eA;
                  a4[3] = f8 - fM * (e8 == 1 ? gT : Math.pow(gT, e8));
                  q((bo * z + cZ) * 4, a4)
              }
              dy = a(aT + ew);
              for (var bo = dy; bo > fx; bo--) {
                  var hd = X(cZ, bo, j0, aT);
                  if (hd > P || hd <= P - eA)
                      break;
                  var gT = (hd - P + eA) / eA;
                  a4[3] = f8 - fM * (e8 == 1 ? gT : Math.pow(gT, e8));
                  q((bo * z + cZ) * 4, a4)
              }
          }
          if (eC > 0) {
              Y(s, P + eC, a4, a4[3], eC, 1, 0, 0, !0)
          }
          if (cy > 0) {
              Y(s, P - eA, _(aF), -aF[3], cy, 1, 0, 0, !0)
          }
      }
      function i(s, P, aF, fM, eA, e8) {
          Y(s, P, aF, aF[3], P + 1, 1, fM, eA, e8)
      }
      function o(s, P, aF, fM, eA) {
          if (eA == null)
              eA = !1;
          var e8 = s.x
            , eC = s.y;
          fM *= W;
          if (!eA) {
              P = y(P);
              aF = y(aF)
          }
          var cy = f(e8 - P)
            , aX = f(e8 + P);
          for (var j0 = cy; j0 < aX; j0++) {
              var aT = j0 - e8
                , a4 = ~~Math.sqrt(P * P - aT * aT)
                , f8 = a(eC - a4)
                , b3 = a(eC);
              for (var gh = f8; gh <= b3; gh++) {
                  var cZ = X(j0, gh, e8, eC);
                  if (cZ > P || cZ <= P - aF)
                      break;
                  var h3 = (P - cZ) / aF
                    , ew = I(300 * h3);
                  ew[3] = fM;
                  q((gh * z + j0) * 4, ew)
              }
              f8 = a(eC + a4);
              for (var gh = f8; gh > b3; gh--) {
                  var cZ = X(j0, gh, e8, eC);
                  if (cZ > P || cZ <= P - aF)
                      break;
                  var h3 = (P - cZ) / aF
                    , ew = I(300 * h3);
                  ew[3] = fM;
                  q((gh * z + j0) * 4, ew)
              }
          }
      }
      function S(x, s) {
          var P = x.b1
            , aF = x.bL
            , fM = s.slice(0)
            , eA = s[3] * W
            , e8 = Math.abs(aF.y - P.y) > Math.abs(aF.x - P.x);
          if (e8) {
              var eC = P.x;
              P.x = P.y;
              P.y = eC;
              eC = aF.x;
              aF.x = aF.y;
              aF.y = eC
          }
          if (P.x > aF.x) {
              var eC = P;
              P = aF;
              aF = eC
          }
          var cy = aF.x - P.x
            , aX = aF.y - P.y
            , j0 = cy == 0 ? 1 : aX / cy
            , aT = Math.round(P.x)
            , a4 = P.y + j0 * (aT - P.x)
            , f8 = m(P.x + .5)
            , b3 = aT
            , gh = ~~a4;
          if (e8) {
              fM[3] = eA * m(a4) * f8;
              c(gh, b3, fM);
              fM[3] = eA * A(a4) * f8;
              c(gh + 1, b3, fM)
          } else {
              fM[3] = eA * m(a4) * f8;
              c(b3, gh, fM);
              fM[3] = eA * A(a4) * f8;
              c(b3, gh + 1, fM)
          }
          var cZ = a4 - j0;
          aT = Math.round(aF.x);
          a4 = aF.y + j0 * (aT - aF.x);
          f8 = A(aF.x + .5);
          var h3 = aT
            , ew = ~~a4;
          if (e8) {
              fM[3] = eA * m(a4) * f8;
              c(ew, h3, fM);
              fM[3] = eA * A(a4) * f8;
              c(ew + 1, h3, fM)
          } else {
              fM[3] = eA * m(a4) * f8;
              c(h3, ew, fM);
              fM[3] = eA * A(a4) * f8;
              c(h3, ew + 1, fM)
          }
          if (e8) {
              for (var dy = b3 + 1; dy <= h3 - 1; dy++) {
                  fM[3] = eA * m(cZ);
                  c(~~cZ, dy, fM);
                  fM[3] = eA * A(cZ);
                  c(~~cZ + 1, dy, fM);
                  cZ += j0
              }
          } else {
              for (var dy = b3 + 1; dy <= h3 - 1; dy++) {
                  fM[3] = eA * m(cZ);
                  c(dy, ~~cZ, fM);
                  fM[3] = eA * A(cZ);
                  c(dy, ~~cZ + 1, fM);
                  cZ += j0
              }
          }
      }
      function H(s, P, aF, fM) {
          for (var M = 0; M < 4; M++) {
              var eA = s.qC(P + 1.3 * M, aF);
              S(eA, fM, 1)
          }
      }
      function ir(s, P) {
          this.x = Math.round(s);
          this.y = Math.round(P)
      }
      var e = Math.PI / 180;
      ir.prototype.qC = function(s, P) {
          s = s * e;
          var aF = this.x + P * Math.cos(s)
            , fM = this.y + P * Math.sin(s);
          return new V(this.x,this.y,aF,fM)
      }
      ;
      ir.prototype.a1S = function(s, P) {
          s = s * e;
          var aF = this.ft + P * Math.cos(s)
            , fM = this.a5W + P * Math.sin(s);
          return new ir(aF,fM)
      }
      ;
      function V(s, P, aF, fM) {
          this.b1 = new ir(s,P);
          this.bL = new ir(aF,fM)
      }
      V.prototype.iX = function(s) {
          var P = s * this.b1.x + (1 - s) * this.bL.x
            , aF = s * this.b1.y + (1 - s) * this.bL.y;
          return new ir(P,aF)
      }
      ;
      var v = k
        , B = i
        , Z = U
        , d = r
        , g = o
        , Y = G
        , y = J
        , L = E
        , _ = K
        , b = [];
      w();
      for (var M = 0; M < n.length; M++) {
          D[M] = n[M]
      }
      var x = new V(z * F[2],C * F[3],z / 2,C / 2)
        , W = F[1]
        , g6 = [];
      g6[0] = function fY() {
          var s = [80, 40, 15, 60]
            , aF = 0
            , fM = 0;
          Z(x.iX(1.4), 260, s, 10);
          Z(x.iX(1), 100, [240, 50, 50, 30], 30);
          B(x.iX(1), 60, [255, 40, 0, 40]);
          var P = [255, 255, 255, 255];
          Y(x.iX(1), 70, P, P[3], 58, .5);
          Z(x.iX(1), 12, P);
          P[3] = 40;
          v(x.iX(1), 150, P, P[3], 150);
          for (var M = 0; M < 40; M++) {
              aF += Math.random() * 25;
              fM = Math.random() * y(300) + y(100);
              var eA = x.iX(1).qC(aF, fM);
              S(x.iX(1).qC(aF, fM), [110, 110, 110, 30])
          }
          B(x.iX(1), 130, [255, 255, 255, 8]);
          var e8 = [170, 30, 23, 70];
          d(x.iX(1), 70, e8, 1, 3, 3);
          var eC = [60, 60, 130, 40];
          Z(x.iX(.47), 44, eC, 5);
          Z(x.iX(.43), 22, eC, 3);
          eC[3] = 16;
          Z(x.iX(.53), 15, eC, 2);
          var cy = [138, 94, 42, 100];
          Z(x.iX(.2), 16, cy, 2);
          var aX = [130, 255, 170, 180];
          B(x.iX(0), 4, aX);
          B(x.iX(-.25), 5, aX);
          cy = [150, 90, 0, 50];
          v(x.iX(-.45), 55, _(cy), -cy[3], 40, 2);
          Z(x.iX(-.42), 35, cy, 2);
          Z(x.iX(-.5), 15, cy, 2);
          g(x.iX(-1.28), 145, 11, 70);
          var j0 = I(0);
          j0[3] = 50;
          v(x.iX(-1.28), 149, j0, j0[3], 4);
          j0 = I(300);
          j0[3] = 50;
          v(x.iX(-1.28), 155 - 1, _(j0), -j0[3], 3);
          var aT = [130, 130, 10, 50];
          d(x.iX(-1), 73, aT, 3, 2);
          var a4 = [40, 130, 70, 40];
          v(x.iX(-1), 70, _(a4), -a4[3], 35);
          a4 = [40, 170, 60, 50];
          Z(x.iX(-.7), 25, a4, 4);
          var a4 = [70, 110, 50, 60];
          v(x.iX(1.3), 30, _(a4), -a4[3], 11, 3);
          eC = [0, 50, 210, 80];
          B(x.iX(-.72), 20, eC)
      }
      ;
      g6[1] = function f3() {
          B(x.iX(1), 150, [240, 70, 70, 60]);
          Z(x.iX(1), 100, [200, 60, 60, 40], 30);
          var s = [255, 255, 255, 255]
            , P = 0
            , aF = 0;
          Y(x.iX(1), 75, s, s[3], 63);
          Z(x.iX(1), 12, s);
          B(x.iX(1), 270, [200, 200, 200, 20], 10);
          for (var M = 0; M < 10; M++) {
              P += 10 + Math.random() * 40;
              aF = Math.random() * y(250) + y(80);
              var fM = x.iX(1).qC(P, aF);
              S(fM, [110, 110, 110, 35])
          }
          P = 5;
          aF = 100;
          for (var M = 0; M < 12; M++) {
              P += 30;
              H(x.iX(1), P, aF, [90, 90, 90, 40])
          }
          var eA = [150, 40, 23, 100];
          d(x.iX(1), 70, eA, 1, 3, 3);
          var e8 = [30, 100, 60, 40];
          B(x.iX(-.9), 180, [255, 255, 255, 20]);
          Z(x.iX(-.9), 140, e8, 15);
          var eC = [170, 80, 25, 15];
          d(x.iX(-.9), 120, eC, 1, 4, 4);
          var cy = [110, 240, 190, 200];
          B(x.iX(-.6), 3, cy);
          cy[3] = 100;
          B(x.iX(-.6), 7, cy);
          var aX = [230, 120, 40, 85];
          B(x.iX(-.73), 9, aX);
          var j0 = [60, 60, 190, 50];
          Z(x.iX(.3), 28, j0, 6);
          j0[3] = 25;
          Z(x.iX(.34), 20, j0, 3)
      }
      ;
      g6[2] = function hK() {
          var s = [255, 255, 255, 255]
            , aF = 0
            , fM = 0;
          Z(x.iX(1), 13, s);
          Y(x.iX(1), 150, s, s[3], 137);
          var P = [120, 80, 35, 20];
          Z(x.iX(1.4), 260, P, 10);
          for (var M = 0; M < 40; M++) {
              aF += 5 + Math.random() * 30;
              fM = Math.random() * y(300);
              S(x.iX(1).qC(aF, fM), [110, 110, 110, 20])
          }
          var eA = [10, 30, 255, 30];
          Z(x.iX(1), 70, eA, 50);
          var e8 = [15, 90, 170, 15];
          Z(x.iX(1.5), 60, e8);
          var eC = [220, 220, 20, 50];
          Z(x.iX(-1.15), 8, eC, 2);
          var s = [255, 255, 255, 40];
          B(x.iX(-1.18), 6, s);
          B(x.iX(-1.18), 4, s);
          eC = [110, 110, 10, 8];
          v(x.iX(-1.2), 32, _(eC), -eC[3], 20, 3);
          var cy = [5, 0, 16, 255];
          for (var M = 0; M < 4; M++) {
              Z(x.iX(-1.36), 10, cy, 3)
          }
          var aX = [90, 200, 150, 20]
            , j0 = aX.slice(0);
          j0[3] *= 2;
          Z(x.iX(-1.32), 7, j0, 3);
          Z(x.iX(-1.36), 7, j0, 3);
          Z(x.iX(-1.4), 7, j0, 3);
          var s = [230, 230, 230, 100];
          B(x.iX(-1.36), 2, s);
          s[3] = 3;
          Z(x.iX(-.55), 10, s);
          eC = [120, 100, 10, 18];
          Z(x.iX(-.55), 160, eC, 8);
          Z(x.iX(-.55), 80, eC, 4);
          aX[3] = 3;
          j0[3] = 6;
          v(x.iX(-.49), 13, _(j0), -j0[3], 13, 2);
          v(x.iX(-.55), 13, _(j0), -j0[3], 13, 2);
          aX[3] = 20;
          Z(x.iX(.15), 25, aX, 3);
          eC[3] = 100;
          B(x.iX(-.52), 3, eC);
          eC = [200, 200, 50, 40];
          Z(x.iX(.27), 1, eC, 4);
          var aT = [150, 40, 23, 30];
          v(x.iX(1), 80, _(aT), -aT[3], 2, 1)
      }
      ;
      return g6[F[0]]()
  }
  ;
  j.A1 = {};
  j.A1._w = function(n) {
      var z = n.length
        , h = n[0].length
        , C = new Array(h);
      for (var M = 0; M < h; M++)
          C[M] = new Array(z);
      for (var M = 0; M < h; M++)
          for (var D = 0; D < z; D++)
              C[M][D] = n[D][M];
      return C
  }
  ;
  j.A1.s6 = function(n, z) {
      var C = n.length
        , h = n[0].length
        , D = new Array(C);
      for (var M = 0; M < C; M++)
          D[M] = new Array(h);
      for (var M = 0; M < C; M++)
          for (var F = 0; F < h; F++)
              D[M][F] = n[M][F] - z[M][F];
      return D
  }
  ;
  j.A1.add = function(n, z) {
      var C = n.length
        , h = n[0].length
        , D = new Array(C);
      for (var M = 0; M < C; M++)
          D[M] = new Array(h);
      for (var M = 0; M < C; M++)
          for (var F = 0; F < h; F++)
              D[M][F] = n[M][F] + z[M][F];
      return D
  }
  ;
  j.A1.multiply = function(n, z) {
      var C = n.length
        , D = n[0].length
        , h = z[0].length;
      if (D != z.length)
          throw "e";
      var F = new Array(C);
      for (var M = 0; M < C; M++)
          F[M] = new Array(h);
      if ((D & 1) != 0)
          for (var M = 0; M < C; M++) {
              var X = n[M]
                , E = F[M];
              for (var f = 0; f < h; f++) {
                  var a = 0;
                  for (var q = 0; q < D; q++)
                      a += X[q] * z[q][f];
                  E[f] = a
              }
          }
      else
          for (var M = 0; M < C; M++) {
              var X = n[M]
                , E = F[M];
              for (var f = 0; f < h; f++) {
                  var a = 0;
                  for (var q = 0; q < D; q += 2)
                      a += X[q] * z[q][f] + X[q + 1] * z[q + 1][f];
                  E[f] = a
              }
          }
      return F
  }
  ;
  j.A1.LY = function(n, z) {
      var C = n.length
        , h = n[0].length
        , D = new Array(C);
      for (var M = 0; M < C; M++) {
          var F = 0;
          for (var X = 0; X < h; X++)
              F += n[M][X] * z[X];
          D[M] = F
      }
      return D
  }
  ;
  j.A1.mH = function(n, z) {
      var C = [];
      for (var M = 0; M < n; M++) {
          C.push([]);
          for (var D = 0; D < z; D++)
              C[M].push(0)
      }
      return C
  }
  ;
  j.A1.amQ = function(n) {
      for (var M = 0; M < n.length; M++)
          console.log(JSON.stringify(n[M]))
  }
  ;
  j.A1.aer = function(n) {
      var z = [];
      for (var M = 0; M < n.length; M++)
          z.push(n[M].join(","));
      return "[" + z.join(";") + "]"
  }
  ;
  j.A1.jU = function(n, z) {
      var C = n.length;
      for (var D = 0; D < C; D++) {
          var F = 0
            , X = Number.NEGATIVE_INFINITY;
          for (var M = D; M < C; M++)
              if (Math.abs(n[M][D]) > X) {
                  F = M;
                  X = Math.abs(n[M][D])
              }
          j.A1.apu(n, D, F);
          for (var M = D + 1; M < C; M++) {
              if (n[D][D] == 0)
                  return 1;
              var E = n[M][D] / n[D][D];
              for (var f = D; f < C + 1; f++)
                  n[M][f] -= n[D][f] * E
          }
      }
      for (var M = C - 1; M >= 0; M--) {
          if (n[M][M] == 0)
              return 1;
          var a = n[M][C] / n[M][M];
          z[M] = a;
          for (var f = M - 1; f >= 0; f--) {
              n[f][C] -= n[f][M] * a;
              n[f][M] = 0
          }
      }
      return 0
  }
  ;
  j.A1.apu = function(n, z, C) {
      var D = n[z];
      n[z] = n[C];
      n[C] = D
  }
  ;
  j.A1.a9u = function(n) {
      var z = n.length
        , C = j.A1.mH(z, z);
      for (var M = 0; M < z; M++)
          C[M][M] = n[M];
      return C
  }
  ;
  j.A1.abz = function(n) {
      var z = n.length
        , C = n[0].length
        , D = new Array(z);
      for (var M = 0; M < z; M++) {
          D[M] = 0;
          for (var F = 0; F < C; F++)
              D[M] += n[M][F];
          D[M] /= C
      }
      return D
  }
  ;
  j.A1.eh = function(n) {
      var z = 0;
      for (var M = 0; M < n.length; M++)
          z += n[M] * n[M];
      return Math.sqrt(z)
  }
  ;
  j.es = {};
  j.es.W_ = function(n) {
      var z = ~~(n + .5);
      return z < 0 ? 0 : z > 255 ? 255 : z
  }
  ;
  j.es.transform = function(n, z, C) {
      var D = j.es.W_
        , F = n.h.length;
      for (var M = 0; M < F; M++) {
          var X = n.h[M]
            , E = n.Q[M]
            , f = n.O[M];
          z.h[M] = D(C[0] * X + C[1] * E + C[2] * f + C[3] * 255);
          z.Q[M] = D(C[4] * X + C[5] * E + C[6] * f + C[7] * 255);
          z.O[M] = D(C[8] * X + C[9] * E + C[10] * f + C[11] * 255)
      }
  }
  ;
  j.es.Gf = function(n, z, C) {
      var D = j.es.W_
        , F = n.length;
      for (var M = 0; M < F; M += 4) {
          var X = n[M]
            , E = n[M + 1]
            , f = n[M + 2];
          z[M] = D(C[0] * X + C[1] * E + C[2] * f + C[3] * 255);
          z[M + 1] = D(C[4] * X + C[5] * E + C[6] * f + C[7] * 255);
          z[M + 2] = D(C[8] * X + C[9] * E + C[10] * f + C[11] * 255)
      }
  }
  ;
  j.es.XP = function(n) {
      var z = n[0] + n[1] + n[2]
        , C = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1];
      if (z == 1) {
          var D = n.indexOf(1);
          C[D] = C[D + 4] = C[D + 8] = 1
      } else {
          C[0] = n[0];
          C[5] = n[1];
          C[10] = n[2]
      }
      return C
  }
  ;
  j.es.nU = function(n, z, C) {
      return [1, 0, 0, n, 0, 1, 0, z, 0, 0, 1, C, 0, 0, 0, 1]
  }
  ;
  j.es.Nw = function(n, z, C) {
      return [n, 0, 0, 0, 0, z, 0, 0, 0, 0, C, 0, 0, 0, 0, 1]
  }
  ;
  j.es.ab7 = function(n) {
      return [n[0], n[1], n[2], n[4], n[5], n[6], n[8], n[9], n[10]]
  }
  ;
  j.es.Vk = function(n) {
      return [n[0], n[1], n[2], 0, n[3], n[4], n[5], 0, n[6], n[7], n[8], 0, 0, 0, 0, 1]
  }
  ;
  j.es.jI = function(n, z) {
      return [n[0] * z[0] + n[1] * z[1] + n[2] * z[2] + n[3] * z[3], n[4] * z[0] + n[5] * z[1] + n[6] * z[2] + n[7] * z[3], n[8] * z[0] + n[9] * z[1] + n[10] * z[2] + n[11] * z[3], n[12] * z[0] + n[13] * z[1] + n[14] * z[2] + n[15] * z[3]]
  }
  ;
  j.es._w = function(n) {
      var z = [];
      z[0] = n[0];
      z[1] = n[4];
      z[2] = n[8];
      z[3] = n[12];
      z[4] = n[1];
      z[5] = n[5];
      z[6] = n[9];
      z[7] = n[13];
      z[8] = n[2];
      z[9] = n[6];
      z[10] = n[10];
      z[11] = n[14];
      z[12] = n[3];
      z[13] = n[7];
      z[14] = n[11];
      z[15] = n[15];
      return z
  }
  ;
  j.es.multiply = function(n, z) {
      var C = [];
      C[0] = n[0] * z[0] + n[1] * z[4] + n[2] * z[8] + n[3] * z[12];
      C[1] = n[0] * z[1] + n[1] * z[5] + n[2] * z[9] + n[3] * z[13];
      C[2] = n[0] * z[2] + n[1] * z[6] + n[2] * z[10] + n[3] * z[14];
      C[3] = n[0] * z[3] + n[1] * z[7] + n[2] * z[11] + n[3] * z[15];
      C[4] = n[4] * z[0] + n[5] * z[4] + n[6] * z[8] + n[7] * z[12];
      C[5] = n[4] * z[1] + n[5] * z[5] + n[6] * z[9] + n[7] * z[13];
      C[6] = n[4] * z[2] + n[5] * z[6] + n[6] * z[10] + n[7] * z[14];
      C[7] = n[4] * z[3] + n[5] * z[7] + n[6] * z[11] + n[7] * z[15];
      C[8] = n[8] * z[0] + n[9] * z[4] + n[10] * z[8] + n[11] * z[12];
      C[9] = n[8] * z[1] + n[9] * z[5] + n[10] * z[9] + n[11] * z[13];
      C[10] = n[8] * z[2] + n[9] * z[6] + n[10] * z[10] + n[11] * z[14];
      C[11] = n[8] * z[3] + n[9] * z[7] + n[10] * z[11] + n[11] * z[15];
      C[12] = n[12] * z[0] + n[13] * z[4] + n[14] * z[8] + n[15] * z[12];
      C[13] = n[12] * z[1] + n[13] * z[5] + n[14] * z[9] + n[15] * z[13];
      C[14] = n[12] * z[2] + n[13] * z[6] + n[14] * z[10] + n[15] * z[14];
      C[15] = n[12] * z[3] + n[13] * z[7] + n[14] * z[11] + n[15] * z[15];
      return C
  }
  ;
  j.es.eL = function(n) {
      var z = [];
      z[0] = n[5] * n[10] * n[15] - n[5] * n[14] * n[11] - n[6] * n[9] * n[15] + n[6] * n[13] * n[11] + n[7] * n[9] * n[14] - n[7] * n[13] * n[10];
      z[1] = -n[1] * n[10] * n[15] + n[1] * n[14] * n[11] + n[2] * n[9] * n[15] - n[2] * n[13] * n[11] - n[3] * n[9] * n[14] + n[3] * n[13] * n[10];
      z[2] = n[1] * n[6] * n[15] - n[1] * n[14] * n[7] - n[2] * n[5] * n[15] + n[2] * n[13] * n[7] + n[3] * n[5] * n[14] - n[3] * n[13] * n[6];
      z[3] = -n[1] * n[6] * n[11] + n[1] * n[10] * n[7] + n[2] * n[5] * n[11] - n[2] * n[9] * n[7] - n[3] * n[5] * n[10] + n[3] * n[9] * n[6];
      z[4] = -n[4] * n[10] * n[15] + n[4] * n[14] * n[11] + n[6] * n[8] * n[15] - n[6] * n[12] * n[11] - n[7] * n[8] * n[14] + n[7] * n[12] * n[10];
      z[5] = n[0] * n[10] * n[15] - n[0] * n[14] * n[11] - n[2] * n[8] * n[15] + n[2] * n[12] * n[11] + n[3] * n[8] * n[14] - n[3] * n[12] * n[10];
      z[6] = -n[0] * n[6] * n[15] + n[0] * n[14] * n[7] + n[2] * n[4] * n[15] - n[2] * n[12] * n[7] - n[3] * n[4] * n[14] + n[3] * n[12] * n[6];
      z[7] = n[0] * n[6] * n[11] - n[0] * n[10] * n[7] - n[2] * n[4] * n[11] + n[2] * n[8] * n[7] + n[3] * n[4] * n[10] - n[3] * n[8] * n[6];
      z[8] = n[4] * n[9] * n[15] - n[4] * n[13] * n[11] - n[5] * n[8] * n[15] + n[5] * n[12] * n[11] + n[7] * n[8] * n[13] - n[7] * n[12] * n[9];
      z[9] = -n[0] * n[9] * n[15] + n[0] * n[13] * n[11] + n[1] * n[8] * n[15] - n[1] * n[12] * n[11] - n[3] * n[8] * n[13] + n[3] * n[12] * n[9];
      z[10] = n[0] * n[5] * n[15] - n[0] * n[13] * n[7] - n[1] * n[4] * n[15] + n[1] * n[12] * n[7] + n[3] * n[4] * n[13] - n[3] * n[12] * n[5];
      z[11] = -n[0] * n[5] * n[11] + n[0] * n[9] * n[7] + n[1] * n[4] * n[11] - n[1] * n[8] * n[7] - n[3] * n[4] * n[9] + n[3] * n[8] * n[5];
      z[12] = -n[4] * n[9] * n[14] + n[4] * n[13] * n[10] + n[5] * n[8] * n[14] - n[5] * n[12] * n[10] - n[6] * n[8] * n[13] + n[6] * n[12] * n[9];
      z[13] = n[0] * n[9] * n[14] - n[0] * n[13] * n[10] - n[1] * n[8] * n[14] + n[1] * n[12] * n[10] + n[2] * n[8] * n[13] - n[2] * n[12] * n[9];
      z[14] = -n[0] * n[5] * n[14] + n[0] * n[13] * n[6] + n[1] * n[4] * n[14] - n[1] * n[12] * n[6] - n[2] * n[4] * n[13] + n[2] * n[12] * n[5];
      z[15] = n[0] * n[5] * n[10] - n[0] * n[9] * n[6] - n[1] * n[4] * n[10] + n[1] * n[8] * n[6] + n[2] * n[4] * n[9] - n[2] * n[8] * n[5];
      var C = n[0] * z[0] + n[1] * z[4] + n[2] * z[8] + n[3] * z[12];
      for (var M = 0; M < 16; M++)
          z[M] /= C;
      return z
  }
  ;
  j.es.a1H = function(n) {
      var z = []
        , C = n[5] * n[10] * n[15] - n[5] * n[14] * n[11] - n[6] * n[9] * n[15] + n[6] * n[13] * n[11] + n[7] * n[9] * n[14] - n[7] * n[13] * n[10]
        , D = -n[4] * n[10] * n[15] + n[4] * n[14] * n[11] + n[6] * n[8] * n[15] - n[6] * n[12] * n[11] - n[7] * n[8] * n[14] + n[7] * n[12] * n[10]
        , F = n[4] * n[9] * n[15] - n[4] * n[13] * n[11] - n[5] * n[8] * n[15] + n[5] * n[12] * n[11] + n[7] * n[8] * n[13] - n[7] * n[12] * n[9]
        , X = -n[4] * n[9] * n[14] + n[4] * n[13] * n[10] + n[5] * n[8] * n[14] - n[5] * n[12] * n[10] - n[6] * n[8] * n[13] + n[6] * n[12] * n[9];
      return n[0] * C + n[1] * D + n[2] * F + n[3] * X
  }
  ;
  j.es.o8 = j.es.Vk([3.1338561, -1.6168667, -.4906146, -.9787684, 1.9161415, .033454, .0719453, -.2289914, 1.4052427]);
  j.es.a56 = j.es.Vk([1.9624274, -.6105343, -.3413404, -.9787684, 1.9161415, .033454, .0286869, -.1406752, 1.3487655]);
  j.es.a2H = j.es.eL(j.es.o8);
  j.rT = {};
  j.rT.hi = new Uint32Array(1);
  j.rT.A8 = function(n, z, C, D, F, X) {
      var E = new Uint32Array(n)
        , f = 0
        , a = j.rT.hi;
      if (a.length < z * 4)
          j.rT.hi = a = new Uint32Array(z * 4);
      var q = new Float64Array(a.buffer);
      for (var M = 0; M < z; M += 2) {
          var c = F[M]
            , K = F[M + 1]
            , R = X[M]
            , J = X[M + 1];
          a[f] = K;
          q[f + 2 >> 1] = R;
          a[f + 1] = E[c];
          E[c] = f + 1;
          f += 4;
          a[f] = c;
          q[f + 2 >> 1] = J;
          a[f + 1] = E[K];
          E[K] = f + 1;
          f += 4
      }
      return {
          KJ: a,
          a6p: q,
          a1L: E
      }
  }
  ;
  j.rT.jU = function(n, z, C, D, F, X, E) {
      var f = 1
        , a = j.rT.A8(n, z, C, D, F, X)
        , q = a.KJ
        , c = a.a6p
        , K = a.a1L
        , R = new Uint32Array(n)
        , J = new j.rT.n2(n)
        , p = 1
        , r = 0;
      J.push(C);
      J.push(D);
      var w = new j.rT.n2(n)
        , I = new Uint8Array(n)
        , m = new Uint32Array(n);
      I[C] = 1;
      I[D] = 2;
      var A = new Uint32Array(n)
        , U = new Uint32Array(n);
      U[C] = U[D] = 0;
      A[C] = A[D] = 1;
      while (!0) {
          var $ = -1
            , e = 0
            , Z = 1e30;
          while (!J.El() && $ == -1) {
              var k = J.top()
                , G = I[k]
                , i = K[k] - 1;
              while (i != -1) {
                  var o = q[i]
                    , S = I[o]
                    , H = i ^ G - 1 << 2;
                  if (c[H + 2 >> 1] != 0) {
                      if (S == 0) {
                          j.rT.gd(k, i, o, I, m, U, A);
                          J.push(o)
                      } else if (S == G && A[o] <= A[k] && U[o] > U[k])
                          j.rT.gd(k, i, o, I, m, U, A);
                      else if (S != G) {
                          $ = H
                      }
                  }
                  i = q[i + 1] - 1
              }
              if ($ != -1)
                  break;
              J.pop()
          }
          if ($ == -1) {
              break
          }
          p++;
          var V = $;
          while (V != -1) {
              R[e] = V;
              e++;
              V = m[q[V ^ 4]] - 1
          }
          var v = e >> 1;
          for (var M = 0; M < v; M++) {
              var B = R[M];
              R[M] = R[e - M - 1];
              R[e - M - 1] = B
          }
          V = m[q[$]] - 1;
          while (V != -1) {
              R[e] = V ^ 4;
              e++;
              V = m[q[V ^ 4]] - 1
          }
          for (var M = 0; M < e; M++)
              Z = Math.min(Z, c[R[M] + 2 >> 1]);
          r += Z;
          if (r >= E)
              return {
                  x_: null,
                  cT: r
              };
          for (var M = 0; M < e; M++) {
              var d = R[M]
                , g = d ^ 4
                , k = q[g]
                , o = q[d];
              c[d + 2 >> 1] -= Z;
              c[g + 2 >> 1] += Z;
              if (c[d + 2 >> 1] == 0 && I[k] == I[o]) {
                  if (I[k] == 1) {
                      m[o] = 0;
                      w.push(o)
                  }
                  if (I[k] == 2) {
                      m[k] = 0;
                      w.push(k)
                  }
              }
          }
          while (!w.El()) {
              var k = w.pop()
                , G = I[k]
                , i = K[k] - 1
                , Y = G == 1 ? 4 : 0
                , y = 0
                , L = 0
                , _ = 1e9;
              while (i != -1) {
                  var o = q[i]
                    , b = i ^ 4
                    , H = i ^ Y;
                  if (I[o] == G && c[H + 2 >> 1] > 0 && j.rT.alB(o, C, D, m, q, p, A, U) + 1 < _) {
                      y = o;
                      L = b;
                      _ = U[o] + 1
                  }
                  i = q[i + 1] - 1
              }
              if (L != 0) {
                  j.rT.gd(y, L, k, I, m, U, A);
                  continue
              }
              i = K[k] - 1;
              while (i != -1) {
                  var o = q[i]
                    , H = i ^ Y;
                  if (I[o] == G) {
                      if (c[H + 2 >> 1] > 0) {
                          J.push(o)
                      }
                      if (m[o] == i + 1) {
                          m[o] = 0;
                          w.push(o)
                      }
                  }
                  i = q[i + 1] - 1
              }
              I[k] = 0;
              J.remove(k)
          }
      }
      var x = [];
      for (var M = 0; M < z; M += 2) {
          var k = F[M]
            , o = F[M + 1];
          if (I[k] == 1 && I[o] != 1) {
              x.push(M >> 1)
          }
          if (I[o] == 1 && I[k] != 1) {
              x.push(z + M >> 1)
          }
      }
      return {
          x_: x,
          cT: r
      }
  }
  ;
  j.rT.gd = function(n, z, C, D, F, X, E) {
      D[C] = D[n];
      F[C] = z + 1;
      X[C] = X[n] + 1;
      E[C] = E[n]
  }
  ;
  j.rT.alB = function(n, z, C, D, F, X, E, f) {
      var a = n
        , q = D[n] - 1
        , c = 0;
      while (q != -1 && E[n] != X) {
          n = F[q ^ 4];
          q = D[n] - 1;
          c++
      }
      if (q == -1 && n != z && n != C)
          return 1e9;
      var K = f[n] + c;
      c = 0;
      q = D[a] - 1;
      while (a != n) {
          f[a] = K - c;
          c++;
          E[a] = X;
          a = F[q ^ 4];
          q = D[a] - 1
      }
      return K
  }
  ;
  j.rT.ahS = function(n, z, C, D, F, X) {
      var E = j.rT.A8(n, z, C, D, F, X)
        , f = E.KJ
        , a = E.a6p
        , q = E.a1L
        , c = 0
        , K = 0
        , R = new Uint32Array(n * 2)
        , J = new j.rT.Yj(n)
        , w = 0;
      while (!0) {
          J.reset();
          J.push(C);
          for (var M = 0; M < n; M++)
              R[M << 1] = 0;
          while (!J.El()) {
              var p = J.pop()
                , I = q[p] - 1;
              while (I != -1) {
                  w = f[I];
                  if (R[w << 1] == 0 && a[I + 2 >> 1] > 0 && w != C) {
                      R[w << 1] = p + 1;
                      R[(w << 1) + 1] = I;
                      J.push(w)
                  }
                  I = f[I + 1] - 1
              }
              if (R[D << 1] != 0) {
                  break
              }
          }
          if (R[D << 1] == 0) {
              break
          }
          var m = 1e30;
          w = D;
          while (!0) {
              var A = R[w << 1] - 1;
              if (A == -1)
                  break;
              var U = R[(w << 1) + 1];
              m = Math.min(m, a[U + 2 >> 1]);
              w = A
          }
          w = D;
          while (!0) {
              var A = R[w << 1] - 1;
              if (A == -1)
                  break;
              var U = R[(w << 1) + 1]
                , r = U ^ 4;
              a[U + 2 >> 1] -= m;
              a[r + 2 >> 1] += m;
              w = A
          }
          c += m
      }
      var $ = [];
      for (var M = 0; M < z; M += 2) {
          var A = F[M]
            , w = F[M + 1];
          if ((R[A << 1] != 0 || A == C) && R[w << 1] == 0 && w != C) {
              $.push(M >> 1)
          }
          if ((R[w << 1] != 0 || w == C) && R[A << 1] == 0 && A != C) {
              $.push(z + M >> 1)
          }
      }
      return {
          x_: $,
          cT: c
      }
  }
  ;
  j.rT.Yj = function(n) {
      n |= n >> 1;
      n |= n >> 2;
      n |= n >> 4;
      n |= n >> 8;
      n |= n >> 16;
      this.zg = new Uint32Array(n + 1);
      this.du = n;
      this.RX = 0;
      this.vJ = 0
  }
  ;
  j.rT.Yj.prototype = {
      push: function(n) {
          var z = this.vJ;
          this.zg[z] = n;
          this.vJ = z + 1 & this.du
      },
      pop: function() {
          var n = this.RX
            , z = this.zg[n];
          this.RX = n + 1 & this.du;
          return z
      },
      El: function() {
          return this.RX == this.vJ
      },
      reset: function() {
          this.RX = 0;
          this.vJ = 0
      }
  };
  j.rT.n2 = function(n) {
      n |= n >> 1;
      n |= n >> 2;
      n |= n >> 4;
      n |= n >> 8;
      n |= n >> 16;
      this.zg = new Uint32Array(n + 1);
      this.E7 = new Uint32Array(n + 1);
      this.du = n;
      this.RX = 0;
      this.vJ = 0
  }
  ;
  j.rT.n2.prototype = {
      top: function() {
          return this.zg[this.RX]
      },
      ajv: function() {
          return this.zg[this.vJ]
      },
      push: function(n) {
          if (this.E7[n] != 0)
              return;
          this.E7[n] = this.vJ + 1;
          var z = this.vJ;
          this.zg[z] = n;
          this.vJ = z + 1 & this.du
      },
      pop: function() {
          var n = this.RX
            , z = this.zg[n];
          this.E7[z] = 0;
          this.RX = n + 1 & this.du;
          return z
      },
      El: function() {
          return this.RX == this.vJ
      },
      remove: function(n) {
          var z = this.E7[n] - 1;
          if (z == -1)
              return;
          this.E7[n] = 0;
          if (z == this.RX) {
              this.pop();
              return
          }
          var C = this.pop();
          this.zg[z] = C;
          this.E7[C] = z + 1
      },
      Mb: function(M) {
          return M + this.du + 1 & this.du
      }
  };
  j.rT.hE = function(n, z, C) {
      var D = j.rT.t2(n, z, C);
      if (z < D - 1)
          j.rT.hE(n, z, D - 1);
      if (D < C)
          j.rT.hE(n, D, C)
  }
  ;
  j.rT.t2 = function(n, z, C) {
      var D = n[z + C >>> 1];
      while (z <= C) {
          while (n[z] < D)
              z++;
          while (n[C] > D)
              C--;
          if (z <= C) {
              j.rT.bu(n, z, C);
              z++;
              C--
          }
      }
      return z
  }
  ;
  j.rT.bu = function(n, z, C) {
      var D = n[z];
      n[z] = n[C];
      n[C] = D
  }
  ;
  j.hL = {};
  j.hL.aoY = function(n) {
      for (var M = 0; M < n.length; M++)
          j.hL.fu(n, M)
  }
  ;
  j.hL.fu = function(n, M) {
      n[M].v.keyShapeInvalidated = {
          t: "bool",
          v: !0
      }
  }
  ;
  j.hL.akB = function(n) {
      for (var M = 0; M < n.length; M++)
          n[M].v.keyOriginIndex.v = M
  }
  ;
  j.hL.mo = function() {
      return {
          t: "Objc",
          v: {
              classID: "null",
              keyOriginIndex: {
                  t: "long",
                  v: 0
              },
              keyShapeInvalidated: {
                  t: "bool",
                  v: !0
              }
          }
      }
  }
  ;
  j.hL.gp = function(n) {
      n = n.v;
      var z = {
          Rctn: 2,
          Ln: 4,
          Elps: 5
      }
        , C = z[n.classID]
        , D = n.topLeft ? j.hL.lm(n) : null
        , F = null
        , X = 0;
      if (C == 4) {
          var E = n.Strt.v
            , f = n.End.v;
          F = [E.Hrzn.v.val, E.Vrtc.v.val, f.Hrzn.v.val, f.Vrtc.v.val];
          X = n.Wdth.v.val
      }
      if (C == null)
          return null;
      return j.hL.Qt(C, C == 4 ? null : j.hL.Vj(n), D, F, X)
  }
  ;
  j.hL.dt = function(n, z, C, D, F, X) {
      var E = {
          classID: n,
          unitValueQuadVersion: {
              t: "long",
              v: 1
          }
      };
      if (z)
          j.hL.uj(E, ["Left", "Top", "Rght", "Btom"], z);
      if (C)
          j.hL.uj(E, ["topLeft", "topRight", "bottomRight", "bottomLeft"], C);
      if (n == "Ln") {
          E.Strt = {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Hrzn: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: D[0]
                      }
                  },
                  Vrtc: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: D[1]
                      }
                  }
              }
          },
          E.End = {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Hrzn: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: D[2]
                      }
                  },
                  Vrtc: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: D[3]
                      }
                  }
              }
          },
          E.Wdth = {
              t: "UntF",
              v: {
                  type: "#Pxl",
                  val: F
              }
          }
      }
      if (X)
          E.Nm = {
              t: "TEXT",
              v: X
          };
      return {
          t: "Objc",
          v: E
      }
  }
  ;
  j.hL.Qt = function(n, z, C, D, F) {
      var X = j.hL.mo()
        , E = X.v;
      delete E.keyShapeInvalidated;
      E.keyOriginType = {
          t: "long",
          v: n
      };
      E.keyOriginResolution = {
          t: "doub",
          v: 75
      };
      if (n == 4) {
          E.keyOriginLineStart = {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Hrzn: {
                      t: "doub",
                      v: D[0]
                  },
                  Vrtc: {
                      t: "doub",
                      v: D[1]
                  }
              }
          };
          E.keyOriginLineEnd = {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Hrzn: {
                      t: "doub",
                      v: D[2]
                  },
                  Vrtc: {
                      t: "doub",
                      v: D[3]
                  }
              }
          };
          z = [Math.min(D[0], D[2]), Math.min(D[1], D[3]), Math.max(D[0], D[2]), Math.max(D[1], D[3])];
          E.keyOriginLineWeight = {
              t: "doub",
              v: F
          },
          E.keyOriginLineArrowSt = {
              t: "bool",
              v: !1
          };
          E.keyOriginLineArrowEnd = {
              t: "bool",
              v: !1
          };
          E.keyOriginLineArrWdth = {
              t: "doub",
              v: 0
          };
          E.keyOriginLineArrLngth = {
              t: "doub",
              v: 0
          };
          E.keyOriginLineArrConc = {
              t: "long",
              v: 0
          }
      }
      var f = {
          classID: "unitRect",
          unitValueQuadVersion: {
              t: "long",
              v: 1
          }
      };
      E.keyOriginShapeBBox = {
          t: "Objc",
          v: f
      };
      j.hL.hy(E, z);
      if (C != null) {
          var a = {
              classID: "radii",
              unitValueQuadVersion: {
                  t: "long",
                  v: 1
              }
          };
          E.keyOriginRRectRadii = {
              t: "Objc",
              v: a
          };
          j.hL.ho(E, C)
      }
      return X
  }
  ;
  j.hL.Z = function(n, z, C, D) {
      var F = j.V.L$(z)
        , X = j.V.Nn(z)
        , E = Math.max(Math.abs(z[0]), Math.abs(z[1]))
        , f = Math.max(Math.abs(z[3]), Math.abs(z[4]));
      for (var M = 0; M < n.length; M++) {
          var a = n[M].v
            , q = a.keyShapeInvalidated;
          if (q && q.v || a.keyOriginType == null)
              continue;
          if (C.length != 0 && C.indexOf(M) == -1)
              continue;
          var c = a.keyOriginType.v;
          if (!F || !X || D && c == 2 && Math.abs(1 - E / f) > .01) {
              j.hL.fu(n, M);
              continue
          }
          var K = j.hL.ef(a);
          j.V.Z(z, K);
          j.hL.hy(a, [Math.min(K[0], K[2]), Math.min(K[1], K[3]), Math.max(K[0], K[2]), Math.max(K[1], K[3])]);
          if (c == 2) {
              var R = j.hL.oq(a)
                , J = new b6(z[0],z[1],z[3],z[4],0,0);
              J.Iq();
              if (J.nb == 0) {
                  R.push(R.shift());
                  J.rotate(Math.PI / 2);
                  J.Iq()
              }
              if (J.nb < 0) {
                  var w = R[0];
                  R[0] = R[1];
                  R[1] = w;
                  w = R[2];
                  R[2] = R[3];
                  R[3] = w
              }
              if (J.qc < 0) {
                  var w = R[0];
                  R[0] = R[3];
                  R[3] = w;
                  w = R[1];
                  R[1] = R[2];
                  R[2] = w
              }
              if (D)
                  for (var p = 0; p < 4; p++)
                      R[p] = R[p] * E;
              j.hL.ho(a, R)
          }
          if (c == 4) {
              a.keyOriginLineWeight.v *= E;
              var I = j.hL.mq(a);
              j.V.Z(z, I);
              j.hL.a2O(a, I)
          }
      }
  }
  ;
  j.hL.Lf = function(n, z) {
      var C = z.g;
      for (var M = 0; M < n.length; M++) {
          var D = n[M].v, F = D.keyShapeInvalidated, K;
          if (F && F.v || D.keyOriginType == null)
              continue;
          var X = D.keyOriginType.v
            , E = j.hL.ef(D)
            , f = E[0]
            , a = E[1]
            , q = E[2]
            , c = E[3];
          if (X == 1)
              K = j.i.Ey.Rect(f, a, q - f, c - a, 0);
          else if (X == 2) {
              var R = j.hL.oq(D);
              K = j.i.Ey.Rect(f, a, q - f, c - a, R)
          } else if (X == 4) {
              var J = j.hL.mq(D);
              K = j.i.Ey._l(J[0], J[1], J[2], J[3], D.keyOriginLineWeight.v)
          } else if (X == 5)
              K = j.i.Ey.mZ(f, a, q - f, c - a);
          var w = j.i.GS(C, M)
            , p = j.i.qi(C, M);
          K[2].fT = C[w].fT;
          var I = C;
          C = C.slice(0, w);
          for (var m = 2; m < K.length; m++)
              C.push(K[m]);
          for (var m = w + p; m < I.length; m++)
              C.push(I[m])
      }
      z.g = C;
      z.fe = !0
  }
  ;
  j.hL.qw = function(n) {
      var z = 1e9
        , C = -z
        , D = 1e9
        , F = -D
        , X = null
        , E = n.LJ()
        , f = E[0]
        , a = E[1];
      for (var q = 0; q < a.length; q++) {
          var c = f[a[q]]
            , K = c.add.vogk;
          if (K == null)
              continue;
          var R = c.add.vmsk.C;
          for (var J = 0; J < K.length; J++) {
              var w = K[J].v
                , p = w.keyShapeInvalidated;
              if (p && p.v || w.keyOriginType == null)
                  continue;
              if (a.length == 1 && R.length != 0 && R.indexOf(J) == -1)
                  continue;
              var I = w.keyOriginType.v;
              if (I != 4) {
                  var m = j.hL.ef(w);
                  z = Math.min(z, m[0]);
                  D = Math.min(D, m[1]);
                  C = Math.max(C, m[2]);
                  F = Math.max(F, m[3])
              }
              if (I == 2 && X == null) {
                  X = j.hL.oq(w)
              }
          }
      }
      return [z < C ? [z, D, C, F] : null, X]
  }
  ;
  j.hL.aac = function(n, z, C) {
      var D = j.hL.qw(n)[0], F;
      if (D) {
          var X = new b6;
          X.translate(-D[0], -D[1]);
          X.scale(1 / (D[2] - D[0]), 1 / (D[3] - D[1]));
          X.scale(z[2] - z[0], z[3] - z[1]);
          X.translate(z[0], z[1]);
          F = j.V.aC(X)
      }
      var E = n.LJ()
        , f = E[0]
        , a = E[1];
      for (var q = 0; q < a.length; q++) {
          var c = f[a[q]]
            , K = c.add.vogk;
          if (K == null)
              continue;
          var R = c.add.vmsk.C;
          for (var J = 0; J < K.length; J++) {
              var w = K[J].v
                , p = w.keyShapeInvalidated;
              if (p && p.v || w.keyOriginType == null)
                  continue;
              if (a.length == 1 && R.length != 0 && R.indexOf(J) == -1)
                  continue;
              var I = w.keyOriginType.v;
              if (I != 4 && z[0] != null) {
                  var z = j.hL.ef(w);
                  j.V.Z(F, z);
                  j.hL.hy(w, z)
              }
              if (I == 2 && C != null) {
                  j.hL.ho(w, C)
              }
          }
      }
  }
  ;
  j.hL.ef = function(n) {
      return j.hL.Vj(n.keyOriginShapeBBox.v)
  }
  ;
  j.hL.Vj = function(n) {
      var z = n.Left.v.val
        , C = n.Rght.v.val
        , D = n.Top.v.val
        , F = n.Btom.v.val;
      return [z, D, C, F]
  }
  ;
  j.hL.hy = function(n, z) {
      j.hL.uj(n.keyOriginShapeBBox.v, ["Left", "Top", "Rght", "Btom"], z)
  }
  ;
  j.hL.oq = function(n) {
      return j.hL.lm(n.keyOriginRRectRadii.v)
  }
  ;
  j.hL.lm = function(n) {
      var z = []
        , C = ["topLeft", "topRight", "bottomRight", "bottomLeft"];
      for (var D = 0; D < 4; D++)
          z.push(n[C[D]].v.val);
      return z
  }
  ;
  j.hL.ho = function(n, z) {
      j.hL.uj(n.keyOriginRRectRadii.v, ["topLeft", "topRight", "bottomRight", "bottomLeft"], z)
  }
  ;
  j.hL.uj = function(n, z, C) {
      for (var M = 0; M < 4; M++)
          if (C[M] != null)
              n[z[M]] = {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: C[M]
                  }
              }
  }
  ;
  j.hL.mq = function(n) {
      var z = n.keyOriginLineStart.v
        , C = n.keyOriginLineEnd.v;
      return [z.Hrzn.v, z.Vrtc.v, C.Hrzn.v, C.Vrtc.v]
  }
  ;
  j.hL.a2O = function(n, z) {
      var C = n.keyOriginLineStart.v
        , D = n.keyOriginLineEnd.v;
      C.Hrzn.v = z[0];
      C.Vrtc.v = z[1];
      D.Hrzn.v = z[2];
      D.Vrtc.v = z[3]
  }
  ;
  j.K = {};
  j.K.clone = function(n) {
      return {
          I: n.I.slice(0),
          U: n.U.slice(0)
      }
  }
  ;
  j.K.vB = function(n) {
      if (n.length < 6)
          return !0;
      var z = n.length - 4;
      for (var M = 0; M < z; M += 2)
          if (!j.K._o(n[M], n[M + 1], n[M + 2], n[M + 3], n[M + 4], n[M + 5]))
              return !1;
      if (!j.K._o(n[z], n[z + 1], n[z + 2], n[z + 3], n[0], n[1]))
          return !1;
      if (!j.K._o(n[z + 2], n[z + 3], n[0], n[1], n[2], n[3]))
          return !1;
      return !0
  }
  ;
  j.K._o = function(n, z, C, D, F, X) {
      return (z - D) * (F - C) + (C - n) * (X - D) >= 0
  }
  ;
  j.K.jQ = function(n) {
      var z = {}
        , C = null
        , D = 0
        , F = {
          M: 2,
          L: 2,
          Q: 4,
          C: 6
      };
      for (var M = 0; M < n.I.length; M++) {
          var X = n.I[M];
          if (X.charAt(0) == "#") {
              if (z[X] == null)
                  z[X] = {
                      U: [],
                      I: []
                  };
              C = z[X]
          } else if (X != "X") {
              C.I.push(X);
              var E = F[X];
              if (E == null)
                  E = 0;
              for (var f = 0; f < E; f++)
                  C.U.push(n.U[D + f]);
              D += E
          }
      }
      return z
  }
  ;
  j.K.gU = function(n, z, C) {
      n = j.K.yX(n);
      var D = n.U
        , F = n.I
        , X = 0
        , E = []
        , f = null;
      for (var M = 0; M < F.length; M++) {
          var a = F[M];
          if (a == "M") {
              f = {
                  aei: X,
                  Rs: 0,
                  FB: !1
              };
              E.push(f);
              X += 2
          }
          if (a == "C") {
              f.Rs++;
              X += 6
          }
          if (a == "Z") {
              f.FB = !0
          }
      }
      var q = [];
      for (var M = 0; M < E.length; M++)
          if (E[M].Rs != 0)
              q.push(E[M]);
      E = q;
      for (var M = 0; M < E.length; M++) {
          var c = E[M]
            , K = c.aei
            , R = K + 2 + c.Rs * 6
            , w = 0;
          c.i6 = j.K.AN(D, K, R);
          var J = D[K] == D[R - 2] && D[K + 1] == D[R - 1];
          for (var p = 0; p < c.Rs; p++) {
              var I = K + p * 6
                , m = I + 6;
              w += (D[m] - D[I]) * (D[m + 1] + D[I + 1])
          }
          if (c.Rs == 2) {
              var A = function(W, g6, fY) {
                  var f3 = 1 - fY;
                  return f3 * f3 * f3 * W[g6] + 3 * f3 * f3 * fY * W[g6 + 2] + 3 * f3 * fY * fY * W[g6 + 4] + fY * fY * fY * W[g6 + 6]
              }
                , U = D[K]
                , r = D[K + 1]
                , $ = D[K + 6]
                , k = D[K + 7]
                , G = D[K + 6]
                , i = D[K + 7]
                , o = A(D, K, .5)
                , S = A(D, K + 1, .5)
                , H = A(D, K + 6, .5)
                , e = A(D, K + 7, .5);
              w = (o - U) * (S - r) + ($ - o) * (k - S) + (H - $) * (e - k) + (G - H) * (i - e)
          }
          if (!J)
              w += (D[K] - D[R - 2]) * (D[K + 1] + D[R - 1]);
          c.DC = w <= 0
      }
      for (var M = 0; M < E.length - 1; M++)
          for (var I = M + 1; I < E.length; I++) {
              var V = E[M]
                , v = E[I];
              if (v.i6._6(V.i6)) {
                  E[M] = v;
                  E[I] = V
              }
          }
      var B = E.length == 0 ? !0 : E[0].DC
        , Z = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      for (var M = 0; M < E.length; M++) {
          var c = E[M]
            , K = c.aei
            , R = K + 2 + c.Rs * 6
            , J = D[K] == D[R - 2] && D[K + 1] == D[R - 1]
            , d = c.FB || J ? 0 : 3
            , g = c.DC == B && !z ? 1 : 0;
          if (!z && M != 0) {
              if (E[M - 1].i6._6(c.i6) && E[M - 1].DC != c.DC)
                  g = 0;
              for (var I = 0; I < E.length; I++)
                  if (I != M && E[I].i6._6(c.i6))
                      g = 0
          }
          Z.push({
              type: d,
              length: c.Rs + (J ? 0 : 1),
              fT: C ? 1 : g,
              AB: 2
          });
          for (var I = 0; I < c.Rs; I++) {
              var X = K + I * 6, Y = new ir(D[X],D[X + 1]), y = new ir(D[X + 2],D[X + 3]), L;
              if (I == 0) {
                  if (J)
                      L = new ir(D[R - 4],D[R - 3]);
                  else
                      L = Y.clone()
              } else
                  L = new ir(D[X - 2],D[X - 1]);
              Z.push({
                  type: d + 2,
                  K1: L,
                  S: Y,
                  yz: y
              })
          }
          if (!J) {
              var _ = new ir(D[R - 2],D[R - 1]);
              Z.push({
                  type: d + 2,
                  K1: new ir(D[R - 4],D[R - 3]),
                  S: _,
                  yz: _.clone()
              })
          }
      }
      for (var I = 0; I < Z.length; I++) {
          var b = Z[I];
          if (b.type > 5 || b.type == 0 || b.type == 3)
              continue;
          var x = b.K1.jm(b.S) || b.yz.jm(b.yz);
          if (!x) {
              var V = b.K1.x * (b.S.y - b.yz.y) + b.S.x * (b.yz.y - b.K1.y) + b.yz.x * (b.K1.y - b.S.y);
              if (Math.abs(V) < 1e-6)
                  x = !0
          }
          if (x)
              b.type--
      }
      return Z
  }
  ;
  j.K.Gi = function() {
      function n(D, F, X, E) {
          if (!E && D.yz.jm(D.S) && F.K1.jm(F.S)) {
              X.U.push(F.S.x, F.S.y);
              X.I.push("L")
          } else {
              X.U.push(D.yz.x, D.yz.y, F.K1.x, F.K1.y, F.S.x, F.S.y);
              X.I.push("C")
          }
      }
      function z(D, F, M, X, E, f) {
          var a = F[M];
          D.U.push(a.S.x, a.S.y);
          D.I.push("M");
          for (var q = M; q < M + X - 1; q++)
              n(F[q], F[q + 1], D, f);
          if (!E)
              n(F[q], F[M], D, f)
      }
      function C(D, F) {
          if (F == null)
              F = !1;
          var X = {
              U: [],
              I: []
          };
          for (var M = 0; M < D.length; M++) {
              if (D[M].type > 5)
                  continue;
              var E = D[M].length;
              if (E == 0)
                  continue;
              if (M == D.length - 1)
                  break;
              var f = D[M].type == 3;
              z(X, D, M + 1, E, f, F);
              if (!f)
                  X.I.push("Z");
              M += E
          }
          return X
      }
      return C
  }();
  j.K.a8o = function(n) {
      var z = n.U, C = [], D, F = 0;
      for (var M = 0; M < n.I.length; M++) {
          var X = n.I[M];
          if (X == "C") {
              D.push(z[F++], z[F++], z[F++], z[F++], z[F++], z[F++])
          } else if (X == "Z") {} else {
              D = [];
              if (X != "M") {
                  D.push(X);
                  M++
              }
              D.push(z[F++], z[F++]);
              C.push(D)
          }
      }
      return C
  }
  ;
  j.K.ke = function(n, z, C, D) {
      if (D == null)
          D = 1e9;
      var F = 1e9
        , X = 0;
      for (var M = 0; M < n.length; M += 2) {
          var E = z - n[M]
            , f = C - n[M + 1]
            , a = E * E + f * f;
          if (a < F) {
              F = a;
              X = M >>> 1
          }
      }
      return F < D * D ? X : -1
  }
  ;
  j.K.E2 = function(n, z, C, D) {
      for (var M = 0; M < n.length; M += 2) {
          var F = n[M]
            , X = n[M + 1]
            , E = z[M]
            , f = z[M + 1];
          C[M] = F + (E - F) * D;
          C[M + 1] = X + (f - X) * D
      }
  }
  ;
  j.K.Z = function(n, z, C) {
      for (var M = 0; M < n.length; M += 2) {
          var D = n[M]
            , F = n[M + 1];
          C[M] = D * z.nb + F * z.KV + z.H1;
          C[M + 1] = D * z.O + F * z.qc + z.Wv
      }
  }
  ;
  j.K.AN = function(n, z, C) {
      if (z == null)
          z = 0;
      if (C == null)
          C = n.length;
      var D = 99999999999
        , F = -D
        , X = 99999999999
        , E = -X;
      for (var M = z; M < C; M += 2) {
          var f = n[M]
            , a = n[M + 1];
          D = Math.min(D, f);
          X = Math.min(X, a);
          F = Math.max(F, f);
          E = Math.max(E, a)
      }
      return new cc(D,X,F - D,E - X)
  }
  ;
  j.K.mT = function(n, z) {
      var C = Math.max(z.x, Math.min(z.x + z.d, n.x))
        , D = Math.max(z.y, Math.min(z.y + z.v, n.y))
        , F = n.x - C
        , X = n.y - D;
      return Math.sqrt(F * F + X * X)
  }
  ;
  j.K.HM = function(n) {
      if (n.kX())
          return new cc(Math.floor(n.x),Math.floor(n.y),Math.ceil(n.d),Math.ceil(n.v));
      var z = Math.floor(n.x)
        , C = Math.ceil(n.x + n.d)
        , D = Math.floor(n.y)
        , F = Math.ceil(n.y + n.v);
      return new cc(z,D,C - z,F - D)
  }
  ;
  j.K.OH = function(n) {
      return j.K.HM(j.K.AN(n))
  }
  ;
  j.K.YQ = function(n) {
      var z = n.x
        , C = n.y
        , D = n.x + n.d
        , F = n.y + n.v;
      return {
          I: ["M", "L", "L", "L", "Z"],
          U: [z, C, D, C, D, F, z, F]
      }
  }
  ;
  j.K.concat = function(n, z, C) {
      if (C == null)
          C = new b6;
      for (var M = 0; M < z.U.length; M += 2) {
          var D = z.U[M]
            , F = z.U[M + 1];
          n.U.push(D * C.nb + F * C.KV + C.H1);
          n.U.push(D * C.O + F * C.qc + C.Wv)
      }
      for (var M = 0; M < z.I.length; M++)
          n.I.push(z.I[M])
  }
  ;
  j.K.yX = function(n) {
      var z = n.U
        , C = []
        , D = []
        , F = 0
        , X = 0
        , E = 0
        , f = 0
        , a = 0
        , q = 0
        , c = 0
        , K = 0
        , R = 0;
      for (var M = 0; M < n.I.length; M++) {
          var J = n.I[M];
          if (J == "M") {
              X = z[F];
              E = z[F + 1];
              F += 2;
              D.push(J);
              C.push(X, E)
          } else if (J == "C") {
              f = z[F];
              a = z[F + 1];
              q = z[F + 2];
              c = z[F + 3];
              K = z[F + 4];
              R = z[F + 5];
              F += 6;
              D.push(J);
              C.push(f, a, q, c, K, R);
              X = K;
              E = R
          } else if (J == "Q") {
              f = z[F];
              a = z[F + 1];
              q = z[F + 2];
              c = z[F + 3];
              F += 4;
              var w = f - X
                , p = a - E
                , I = q - f
                , m = c - a;
              D.push("C");
              C.push(X + 2 / 3 * w, E + 2 / 3 * p, f + 1 / 3 * I, a + 1 / 3 * m, q, c);
              X = q;
              E = c
          } else if (J == "L") {
              f = z[F];
              a = z[F + 1];
              F += 2;
              var A = f - X
                , U = a - E;
              D.push("C");
              C.push(X, E, f, a, f, a);
              X = f;
              E = a
          } else
              D.push(J)
      }
      return {
          I: D,
          U: C
      }
  }
  ;
  j.K.ajQ = function(n) {
      var z = n.U
        , C = []
        , D = []
        , F = 0;
      for (var M = 0; M < n.I.length; M++) {
          var X = n.I[M];
          if (X == "Q") {
              var E = z[F - 2]
                , f = z[F - 1]
                , a = z[F]
                , q = z[F + 1]
                , c = z[F + 2]
                , K = z[F + 3];
              F += 4;
              var R = a - E
                , J = q - f
                , w = c - a
                , p = K - q;
              D.push("C");
              C.push(E + 2 / 3 * R, f + 2 / 3 * J, a + 1 / 3 * w, q + 1 / 3 * p, c, K)
          } else {
              var I = 0;
              if (X == "M" || X == "L")
                  I = 2;
              else if (X == "C")
                  I = 6;
              for (var m = 0; m < I; m++)
                  C.push(z[F + m]);
              F += I;
              D.push(X)
          }
      }
      return {
          I: D,
          U: C
      }
  }
  ;
  j.K.py = function(n, z) {
      var C = n.U
        , D = []
        , F = []
        , X = 0
        , E = 0
        , f = 0
        , a = 0
        , q = 0
        , c = 0
        , K = 0
        , R = 0
        , J = 0;
      for (var M = 0; M < n.I.length; M++) {
          var w = n.I[M];
          if (w == "M") {
              E = C[X];
              f = C[X + 1];
              X += 2;
              F.push(w);
              D.push(E, f)
          } else if (w == "C") {
              a = C[X];
              q = C[X + 1];
              c = C[X + 2];
              K = C[X + 3];
              R = C[X + 4];
              J = C[X + 5];
              X += 6;
              j.K.On(E, f, a, q, c, K, R, J, z, F, D, 0);
              E = R;
              f = J
          } else
              F.push(w)
      }
      return {
          I: F,
          U: D
      }
  }
  ;
  j.K.On = function(n, z, C, D, F, X, E, f, a, q, c, K) {
      var R = Math.sqrt((E - n) * (E - n) + (f - z) * (f - z))
        , J = Math.sqrt((E - F) * (E - F) + (f - X) * (f - X)) + Math.sqrt((F - C) * (F - C) + (X - D) * (X - D)) + Math.sqrt((C - n) * (C - n) + (D - z) * (D - z))
        , w = (R + J) / 2;
      if (w <= a) {
          q.push("C");
          c.push(C, D, F, X, E, f)
      } else {
          var p = 0
            , I = 0
            , m = 0
            , A = 0
            , U = 0
            , r = 0
            , $ = 0
            , k = 0
            , G = 0
            , i = 0
            , o = 0
            , S = 0
            , H = 0;
          I = (n + C) / 2;
          m = (z + D) / 2;
          A = (C + F) / 2;
          U = (D + X) / 2;
          r = (F + E) / 2;
          $ = (X + f) / 2;
          k = (I + A) / 2;
          G = (m + U) / 2;
          i = (A + r) / 2;
          o = (U + $) / 2;
          S = (k + i) / 2;
          H = (G + o) / 2;
          j.K.On(n, z, I, m, k, G, S, H, a, q, c, K + 1);
          j.K.On(S, H, i, o, r, $, E, f, a, q, c, K + 1)
      }
  }
  ;
  j.K.eM = function(n, z) {
      var C = n.length - 2
        , D = n[0]
        , F = n[1]
        , X = n[C]
        , E = n[C + 1]
        , f = X - D
        , a = E - F
        , q = 1 / Math.sqrt(f * f + a * a)
        , c = X * F - E * D
        , K = -1
        , R = -1;
      for (var M = 2; M < C; M += 2) {
          var J = n[M]
            , w = n[M + 1]
            , p = Math.abs(a * J - f * w + c) * q;
          if (p > R) {
              R = p;
              K = M
          }
      }
      if (R < z)
          return [D, F, X, E];
      var I = j.K.eM(n.slice(0, K + 2), z)
        , m = j.K.eM(n.slice(K), z);
      for (var M = 2; M < m.length; M++)
          I.push(m[M]);
      return I
  }
  ;
  j.K.a2J = function() {
      var n = function(D, F, X, E, f, a) {
          return (F - E) * (f - X) + (X - D) * (a - E) >= 0
      }
        , z = function(D, F, X, E, f, a, q, c) {
          var K = q - X
            , R = c - E
            , J = f - X
            , w = a - E
            , p = D - X
            , I = F - E
            , m = K * K + R * R
            , A = K * J + R * w
            , U = K * p + R * I
            , r = J * J + w * w
            , $ = J * p + w * I
            , k = 1 / (m * r - A * A)
            , G = (r * U - A * $) * k
            , i = (m * $ - A * U) * k;
          return G >= 0 && i >= 0 && G + i < 1
      }
        , C = function(D) {
          var h = D.length >>> 1
            , M = 0;
          if (h < 3)
              return [];
          var F = []
            , X = [];
          for (var M = 0; M < h; M++)
              X.push(M);
          var E = h;
          while (E > 3) {
              var f = X[(M + 0) % E]
                , a = X[(M + 1) % E]
                , q = X[(M + 2) % E]
                , c = D[2 * f]
                , K = D[2 * f + 1]
                , R = D[2 * a]
                , J = D[2 * a + 1]
                , w = D[2 * q]
                , p = D[2 * q + 1]
                , I = !1;
              if (n(c, K, R, J, w, p)) {
                  I = !0;
                  for (var m = 0; m < E; m++) {
                      var A = X[m];
                      if (A == f || A == a || A == q)
                          continue;
                      if (z(D[2 * A], D[2 * A + 1], c, K, R, J, w, p)) {
                          I = !1;
                          break
                      }
                  }
              }
              if (I) {
                  F.push(f, a, q);
                  X.splice((M + 1) % E, 1);
                  E--;
                  M = 0
              } else if (M++ > 3 * E)
                  break
          }
          F.push(X[0], X[1], X[2]);
          return F
      };
      return C
  }();
  j.K.a13 = function(n, z) {
      var C = {}
        , D = {
          I: [],
          U: []
      };
      for (var M = 0; M < z.length; M += 3) {
          var F = z[M] * 2
            , X = z[M + 1] * 2
            , E = z[M + 2] * 2;
          j.K.M0(n, F, X, D, C);
          j.K.M0(n, F, E, D, C);
          j.K.M0(n, X, E, D, C)
      }
      return D
  }
  ;
  j.K.M0 = function(n, z, C, D, F) {
      if (z > C) {
          var X = C;
          C = z;
          z = X
      }
      if (F[z + "," + C])
          return;
      F[z + "," + C] = !0;
      D.I.push("M", "L");
      D.U.push(n[z], n[z + 1], n[C], n[C + 1])
  }
  ;
  j.K.Lv = function(n, z) {
      var C = []
        , D = n.length;
      for (var M = 0; M < D; M += 2) {
          var F = n[M]
            , X = n[M + 1]
            , E = n[(M + 2) % D]
            , f = n[(M + 3) % D];
          if (f < X) {
              var a = X;
              X = f;
              f = a
          }
          if (X < z && z < f) {
              var q = (z - X) / (f - X);
              C.push(F + q * (E - F))
          }
      }
      C.sort(function(c, K) {
          return c - K
      });
      return C
  }
  ;
  j.K.ael = function(n, z) {
      var C = z.slice(0)
        , h = n.length / 2
        , D = []
        , F = [];
      for (var M = 0; M < h; M++) {
          var X = (M + 1) % h
            , E = n[2 * M] - n[2 * X]
            , f = n[2 * M + 1] - n[2 * X + 1];
          F[M] = Math.sqrt(E * E + f * f)
      }
      for (var M = 0; M < h; M++) {
          var a = (M - 1 + h) % h
            , X = (M + 1) % h
            , q = z[M]
            , c = q + z[a]
            , K = q + z[X];
          if (c != 0)
              C[M] = Math.min(C[M], F[a] * q / c);
          if (K != 0)
              C[M] = Math.min(C[M], F[M] * q / K)
      }
      for (var M = 0; M < h; M++) {
          var X = (M + 1) % h
            , R = (M + 2) % h
            , J = C[M]
            , w = C[X]
            , p = n[2 * M]
            , I = n[2 * M + 1]
            , m = n[2 * X]
            , A = n[2 * X + 1]
            , U = n[2 * R]
            , r = n[2 * R + 1]
            , $ = F[M]
            , k = F[X]
            , G = j.K.apJ(p, I, m, A, U, r, J, w, $, k);
          D.push(G[0], G[1], G[0], G[1], G[2], G[3]);
          D.push(G[2], G[3], G[4], G[5], G[6], G[7])
      }
      return D
  }
  ;
  j.K.apJ = function(n, z, C, D, F, X, E, f, a, q) {
      if (a == null)
          a = Math.sqrt((C - n) * (C - n) + (D - z) * (D - z));
      if (q == null)
          q = Math.sqrt((F - C) * (F - C) + (X - D) * (X - D));
      var c = .553
        , K = 0
        , R = 0
        , J = 0
        , w = 0;
      if (a != 0) {
          K = (C - n) / a;
          R = (D - z) / a
      }
      if (q != 0) {
          J = (F - C) / q;
          w = (X - D) / q
      }
      var p = n + E * K
        , I = z + E * R
        , m = C - f * K
        , A = D - f * R;
      return [p, I, m, A, C - f * K * (1 - c), D - f * R * (1 - c), C + f * J * (1 - c), D + f * w * (1 - c), C + f * J, D + f * w]
  }
  ;
  j.K.JC = function(n, z, C, D, F, X, E) {
      var f = n - C
        , a = z - D
        , q = F - C
        , c = X - D
        , K = 1 / Math.sqrt(f * f + a * a)
        , R = 1 / Math.sqrt(q * q + c * c)
        , J = f * K
        , w = a * K
        , p = q * R
        , I = c * R
        , m = w * E
        , A = -J * E
        , U = -I * E
        , r = p * E
        , $ = j.K.xf(m, A, J, w, U, r, p, I)
        , k = m + J * $
        , G = A + w * $
        , $ = j.K.xf(0, 0, J, w, k, G, -w, J)
        , i = J * $
        , o = w * $;
      return [Math.sqrt(i * i + o * o), J, w, p, I]
  }
  ;
  j.K.CY = function(n, z, C, D, F, X, E) {
      var f = j.K.JC(n, z, C, D, F, X, E)
        , a = f[0]
        , q = f[1]
        , c = f[2]
        , K = f[3]
        , R = f[4]
        , J = Math.atan2(q * R - c * K, q * K + c * R);
      if (J < 0) {
          J = J * -1
      }
      var w = Math.PI - J
        , p = 4 / 3 * Math.tan(w / 4)
        , I = C + a * q
        , m = D + a * c
        , A = C + a * K
        , U = D + a * R
        , r = I + p * E * -q
        , $ = m + p * E * -c
        , k = A + p * E * -K
        , G = U + p * E * -R;
      return [0, 0, I, m, r, $, k, G, A, U]
  }
  ;
  j.K.xf = function(n, z, C, D, F, X, E, f) {
      var a = E * (z - X) - f * (n - F)
        , q = f * C - E * D;
      if (q == 0)
          return 0;
      return a / q
  }
  ;
  j.K.CY(0, 50, 0, 0, 30, 30, 10);
  j.YN = function() {}
  ;
  j.YN.n7 = function(n, z, C, D, F) {
      var X = C.d
        , E = C.v
        , f = X * E
        , a = new Int32Array(f)
        , h = 0;
      for (var M = 0; M < f; M++)
          if (z[M] != 0) {
              a[M] = h;
              h++
          } else if (n[(M << 2) + 3] < 200) {
              a[M] = -2
          } else
              a[M] = -1;
      if (h == 0)
          return;
      var q = new j.ki(h,h)
        , c = new Array(3 * h)
        , K = new Array(3 * h);
      for (var M = 0; M < K.length; M++)
          K[M] = c[M] = 0;
      var R = 1 / 255
        , J = [-X, -1, 1, X]
        , w = []
        , p = [];
      for (var I = 0; I < E; I++)
          for (var m = 0; m < X; m++) {
              var A = I * X + m
                , U = A << 2
                , M = a[A]
                , r = M * 3
                , $ = 0
                , k = 0
                , G = 0;
              if (M == -1 || M == -2)
                  continue;
              for (var i = 0; i < 4; i++) {
                  if (i == 2) {
                      k = G;
                      w[G] = 0;
                      p[G] = M;
                      G++
                  }
                  var o = A + J[i]
                    , S = o << 2
                    , H = a[o];
                  if (i == 0 && I == 0 || i == 1 && m == 0 || i == 2 && m == X - 1 || i == 3 && I == E - 1 || H == -2)
                      continue;
                  $++;
                  if (H == -1) {
                      c[r + 0] += n[S + 0];
                      c[r + 1] += n[S + 1];
                      c[r + 2] += n[S + 2]
                  } else {
                      w[G] = -1;
                      p[G] = H;
                      G++;
                      if (z[A] == z[o]) {
                          c[r + 0] += n[U + 0] - n[S + 0];
                          c[r + 1] += n[U + 1] - n[S + 1];
                          c[r + 2] += n[U + 2] - n[S + 2]
                      }
                  }
              }
              w[k] = $;
              q.Tr(w, p, G)
          }
      for (var M = 0; M < f; M++)
          if (a[M] != -1) {
              var e = M << 2
                , V = a[M]
                , v = V * 3;
              K[v] = n[e + 0];
              K[v + 1] = n[e + 1];
              K[v + 2] = n[e + 2]
          }
      var B = Date.now();
      q.ao3(K, c, D, F);
      console.log(Date.now() - B);
      for (var M = 0; M < f; M++) {
          var V = a[M]
            , Z = V * 3
            , e = M << 2;
          if (V == -1 || n[e + 3] != 255)
              continue;
          n[e + 0] = ~~(.5 + Math.max(0, Math.min(255, K[Z + 0])));
          n[e + 1] = ~~(.5 + Math.max(0, Math.min(255, K[Z + 1])));
          n[e + 2] = ~~(.5 + Math.max(0, Math.min(255, K[Z + 2])))
      }
  }
  ;
  j.rect = {};
  j.rect._T = function(n, z) {
      var C = [n]
        , D = [];
      for (var M = 0; M < z.length; M++) {
          var F = z[M]
            , X = !1;
          for (var E = M + 1; E < z.length; E++) {
              var f = z[E];
              if (f[0] <= F[0] && f[1] <= F[1] && F[2] <= f[2] && F[3] <= f[3]) {
                  X = !0;
                  break
              }
          }
          if (!X)
              D.push(F)
      }
      z = D;
      for (var M = 0; M < z.length; M++) {
          var F = z[M];
          for (var E = 0; E < C.length; E++) {
              var f = C[E]
                , a = Math.max(F[0], f[0])
                , q = Math.min(F[2], f[2])
                , c = Math.max(F[1], f[1])
                , K = Math.min(F[3], f[3]);
              if (a < q && c < K) {
                  var R = [];
                  if (f[1] < F[1]) {
                      var J = f.slice(0);
                      J[3] = F[1];
                      R.push(J)
                  }
                  if (f[0] < F[0]) {
                      var w = f.slice(0);
                      w[1] = c;
                      w[2] = F[0];
                      R.push(w)
                  }
                  if (F[2] < f[2]) {
                      var p = f.slice(0);
                      p[1] = c;
                      p[0] = F[2];
                      R.push(p)
                  }
                  if (F[3] < f[3]) {
                      var I = [a, K, q, f[3]];
                      R.push(I)
                  }
                  if (R.length != 0) {
                      C[E] = R[0];
                      for (var m = 1; m < R.length; m++)
                          C.push(R[m])
                  }
              }
          }
          C.push(F);
          C = j.rect.agP(C)
      }
      C.sort(function(F, f) {
          return F[1] != f[1] ? F[1] - f[1] : F[0] - f[0]
      });
      for (var M = 1; M < C.length; M++) {
          var F = C[M - 1]
            , f = C[M];
          if (F[0] == f[0] && F[1] == f[1] && F[2] == f[2] && F[3] == f[3]) {
              C.splice(F[4] == null ? M - 1 : M, 1);
              M--
          }
      }
      return C
  }
  ;
  j.rect.agP = function(n) {
      n = n.slice(0);
      for (var M = 0; M < n.length; M++) {
          var z = n[M]
            , C = null;
          if (z[4] != null)
              continue;
          for (var D = 0; D < n.length; D++) {
              var F = n[D];
              if (M == D || F[4] != null)
                  continue;
              var X = z[0] == F[0]
                , E = z[1] == F[1]
                , f = z[2] == F[2]
                , a = z[3] == F[3];
              if (E && a && (z[2] == F[0] || z[0] == F[2])) {
                  C = [Math.min(z[0], F[0]), z[1], Math.max(z[2], F[2]), z[3]]
              }
              if (X && f && (z[3] == F[1] || z[1] == F[3])) {
                  C = [z[0], Math.min(z[1], F[1]), z[2], Math.max(z[3], F[3])]
              }
              if (C) {
                  n[M] = C;
                  n.splice(D, 1);
                  break
              }
          }
          if (C) {
              M--
          }
      }
      return n
  }
  ;
  j.rect.vv = function(n) {
      var z = new cc;
      for (var M = 0; M < n.length; M++)
          z = z.QH(n[M]);
      return z
  }
  ;
  j.rect.a6C = function(n, z) {
      var C = j.rect.vv
        , D = new UnionFind(n.length)
        , k = 1e3
        , G = 1e3;
      for (var M = 0; M < n.length; M++)
          for (var F = M + 1; F < n.length; F++) {
              if (!z)
                  continue;
              var X = n[M]
                , E = n[F]
                , K = 1e9
                , R = 1e9;
              if (X.vE(E)) {
                  D.link(M, F);
                  continue
              }
              var f = X.x + X.d
                , a = X.y + X.v
                , q = E.x + E.d
                , c = E.y + E.v;
              if ((f < E.x || q < X.x) && (a < E.y || c < X.y))
                  continue;
              if (!(a < E.y || c < X.y))
                  K = Math.min(Math.abs(f - E.x), Math.abs(X.x - q));
              if (!(f < E.x || q < X.x))
                  R = Math.min(Math.abs(a - E.y), Math.abs(X.y - c));
              var J = Math.min(K, R)
                , w = Math.min(X.d, X.v, E.d, E.v);
              if (J < .3 * w)
                  D.link(M, F)
          }
      var p = []
        , I = {};
      for (var M = 0; M < n.length; M++) {
          var m = D.find(M)
            , A = n[M];
          if (I[m] == null) {
              I[m] = p.length;
              p.push([])
          }
          p[I[m]].push(A)
      }
      var U = []
        , r = [];
      for (var M = 0; M < p.length; M++) {
          U.push(C(p[M]));
          var $ = C(p[M]);
          $.Mb = M;
          r.push($)
      }
      r.sort(function(d, g) {
          return Math.max(g.v, g.d) - Math.max(d.v, d.d)
      });
      var i = new NETXUS.RectanglePacker(k,G);
      while (!0) {
          var o = !1;
          i.reset(k, G);
          for (var M = 0; M < r.length; M++) {
              var S = i.findCoords(r[M].d, r[M].v);
              if (S) {
                  r[M].x = S.x;
                  r[M].y = S.y
              } else {
                  k = Math.floor(k * 1.1);
                  G = Math.floor(G * 1.1);
                  o = !0;
                  break
              }
          }
          if (o)
              continue;
          break
      }
      for (var M = 0; M < p.length; M++) {
          var H = r[M]
            , e = H.Mb
            , V = U[e]
            , v = p[e]
            , B = H.x - V.x
            , Z = H.y - V.y;
          for (var F = 0; F < v.length; F++)
              v[F].offset(B, Z)
      }
  }
  ;
  j.ST = function() {}
  ;
  j.ST.$F = Math.floor(16 * window.devicePixelRatio);
  j.ST.$D = {};
  j.ST.Uj = 0;
  j.ST.lG = [[12, 76, 2], [12, 76, 3], [12, 76, 4], [12, 76, 5], [12, 76, 6]];
  j.ST.a22 = ["px", "in", "cm", "mm", "%"];
  j.ST.Ge = function(n, z, C, D) {
      var F = [1, z, z / 2.54, z / 25.4, C / 100][D];
      return n * F
  }
  ;
  j.ST.a5I = function(n, z, C, D) {
      var F = [1, z, z / 2.54, z / 25.4, C / 100][D];
      return n / F
  }
  ;
  j.ST.aN = function(n, z, C, D, F) {
      var X = C.mw.Ya
        , E = [1, z, z / 2.54, z / 25.4, D / 100][X]
        , f = [2, 3, 2, 1, 2][X];
      n = n / E;
      var a = Math.round(n)
        , q = X == 0 && Math.abs(n - a) < 1e-6 ? a + "" : n.toFixed(f);
      if (F)
          q += " " + j.ST.a22[X];
      return q
  }
  ;
  j.ST.a0i = function(n, z, C, D) {
      var F = C.mw.Ya
        , X = [1, z, z / 2.54, z / 25.4, D / 100][F];
      n = parseFloat(n) * X;
      return n
  }
  ;
  j.ST.a5F = function(n, z) {
      var C = n + "," + z;
      if (j.ST.$D.clr == C)
          return;
      var D = Math.round(j.ST.$F * .5);
      j.ST.Uj = D;
      var F = document.createElement("canvas");
      F.width = F.height = D;
      var X = F.getContext("2d");
      X.font = D * 1.5 + "px monospace";
      var E = "0 1 2 3 4 5 6 7 8 9 -".split(" ");
      for (var M = 0; M < E.length; M++) {
          X.fillStyle = "#" + j.JY(z);
          X.fillRect(0, 0, D, D);
          X.fillStyle = "#" + j.JY(n);
          X.fillText(E[M], 0, D);
          j.ST.$D[E[M]] = X.getImageData(0, 0, D, D).data
      }
      j.ST.$D.clr = C
  }
  ;
  j.ST.ah3 = function(n, z, C) {
      var D = 0
        , F = 0
        , X = 4 * j.ST.$F;
      for (var M = 9; M >= 0; M--) {
          var E = Math.pow(10, M);
          if (5 * E * n <= X) {
              D = 5 * E;
              F = 10;
              break
          }
          if (2 * E * n <= X) {
              D = 2 * E;
              F = 4;
              break
          }
          if (1 * E * n <= X) {
              D = 1 * E;
              F = 10;
              break
          }
      }
      if (D == 0) {
          D = 1;
          F = 10
      }
      var f = Math.ceil(D * n)
        , a = j.T(f * j.ST.$F * 4);
      j.xM(a, 4278190080 | C);
      for (var M = 0; M < j.ST.$F; M++)
          j.ST.NJ(a, 4 * M * f, z);
      for (var M = 0; M < f; M++)
          j.ST.NJ(a, 4 * ((j.ST.$F - 1) * f + M), z);
      if (D == 2)
          F = 2;
      if (D == 5)
          F = 5;
      if (D > 1 || D == 1 && f > 20)
          for (var M = 1; M < F; M++)
              j.ST.akV(a, M * (f / F), f, (M & 1) == 1 ? .8 : .7, z);
      return {
          $f: a,
          step: D
      }
  }
  ;
  j.ST.akV = function(n, z, C, D, F) {
      var z = Math.round(z);
      for (var X = Math.round(j.ST.$F * D); X < j.ST.$F - 1; X++)
          j.ST.NJ(n, 4 * (X * C + z), F)
  }
  ;
  j.ST.NJ = function(n, z, C) {
      n[z + 0] = C >> 16 & 255;
      n[z + 1] = C >> 8 & 255;
      n[z + 2] = C & 255
  }
  ;
  j.ST.a7O = function(n, z, C, D, F) {
      var X = n.Fe.d, E = n.Fe.v, f = j.ST.$F, a = z & 255, q = z >> 8 & 255, c = z >> 16 & 255, k, G, i, o;
      z = Math.round(a * .6) << 16 | Math.round(q * .6) << 8 | Math.round(c * .6);
      j.ST.a5F(Math.round(a * .8) << 16 | Math.round(q * .8) << 8 | Math.round(c * .8), C);
      var K = this.ah3(n.X, z, C)
        , R = n.C$(0, 0)
        , J = n.C$(X, E)
        , w = Math.floor(R.x / K.step) * K.step
        , p = Math.ceil(J.x / K.step) * K.step
        , I = Math.floor(R.y / K.step) * K.step
        , m = Math.ceil(J.y / K.step) * K.step
        , A = n.Sg(w, I)
        , U = n.Sg(p, I)
        , r = K.step * n.X
        , $ = Math.ceil(r);
      k = n.aI.data;
      G = new cc(0,0,X,f);
      i = new cc(0,0,$,f);
      o = new cc(0,Math.round(f * .08),j.ST.Uj,j.ST.Uj);
      for (var M = 0; M < (p - w) / K.step; M++) {
          i.x = Math.round(A.x + M * r);
          j.X3(K.$f, i, k, G, i);
          var S = (w + M * K.step).toString(10);
          for (var H = 0; H < S.length; H++) {
              o.x = i.x + 3 + H * Math.round(j.ST.Uj * .8);
              var e = j.ST.$D[S[H]];
              j.X3(e, o, k, G, o)
          }
      }
      var V = new Uint32Array(K.$f.buffer)
        , v = new Uint32Array(K.$f.length);
      for (var B = 0; B < $; B++)
          for (var Z = 0; Z < f; Z++) {
              v[B * f + Z] = V[Z * $ + B]
          }
      K.$f = new Uint8Array(v.buffer);
      k = n.mP.data;
      G = new cc(0,0,f,E);
      i = new cc(0,0,f,$);
      o = new cc(Math.round(f * .2),0,j.ST.Uj,j.ST.Uj);
      for (var M = 0; M < (m - I) / K.step; M++) {
          i.y = Math.round(A.y + M * r);
          j.X3(K.$f, i, k, G, i);
          var S = Math.abs(I + M * K.step).toString(10);
          for (var H = 0; H < S.length; H++) {
              o.y = i.y + 3 + H * Math.round(j.ST.Uj * 1.15);
              var e = j.ST.$D[S[H]];
              j.X3(e, o, k, G, o)
          }
      }
      var d = Math.floor(f * .6)
        , g = new Uint32Array(n.aI.data.buffer)
        , Y = new Uint32Array(n.mP.data.buffer)
        , y = a < 128 ? 4278190080 : 4294967295;
      if (0 < D && D < X)
          for (var M = 0; M < d; M++)
              g[M * X + D] = y;
      if (0 < F && F < E)
          for (var M = 0; M < d; M++)
              Y[F * f + M] = y
  }
  ;
  j.scale = {};
  j.scale.sL = document.createElement("canvas");
  j.scale.f0 = j.scale.sL.getContext("2d");
  j.scale.afL = document.createElement("canvas");
  j.scale.aeh = j.scale.afL.getContext("2d");
  j.scale.hG = function(n, z, C) {
      var D = j.scale.sL
        , F = j.scale.f0;
      D.width = z;
      D.height = C;
      var X = new ImageData(new Uint8ClampedArray(n.buffer),z,C);
      F.putImageData(X, 0, 0);
      return F.createPattern(D, "repeat")
  }
  ;
  j.scale.a8k = function(n, z, C, D, F, X, E, f) {
      var a = j.scale.$h(n, C, D, F, X, E, f);
      j.I6(a.data, z)
  }
  ;
  j.scale.Bu = function(n, z, C, D, F, X, E, f) {
      var a = j.scale.$h(n, C, D, F, X, E, f).data;
      if (z)
          j.YY(a, z);
      return new Uint8Array(a.buffer)
  }
  ;
  j.scale.$h = function(n, z, C, D, F, X, E) {
      var f = j.scale.sL
        , a = j.scale.f0;
      f.width = z;
      f.height = C;
      a.rect(0, 0, z, C);
      a.translate(X, E);
      a.scale(D, F);
      a.fillStyle = n;
      a.fill();
      return a.getImageData(0, 0, z, C)
  }
  ;
  j.scale.Z = function(n, z, C, D, F) {
      var X = C.clone();
      X.eL();
      var E = F.d
        , f = F.v
        , a = j.K.YQ(z).U;
      j.K.Z(a, X, a);
      var q = j.K.OH(a).Yi(F)
        , c = q.x
        , K = q.y
        , R = c + q.d
        , J = K + q.v
        , w = ~~z.x
        , p = ~~z.y
        , I = ~~z.d
        , m = ~~z.v;
      for (var A = K; A < J; A++)
          for (var U = c; U < R; U++) {
              var r = U + .5
                , $ = A + .5
                , k = C.nb * r + C.KV * $ + C.H1 - w
                , G = C.O * r + C.qc * $ + C.Wv - p;
              if (0 <= k && 0 <= G && k < I && G < m)
                  D[A * E + U] = n[~~G * I + ~~k]
          }
  }
  ;
  j.scale.anA = function(n, z, C, D, F) {
      var X = new Uint32Array(n.buffer)
        , E = new Uint32Array(D.buffer)
        , f = C.clone();
      f.eL();
      var a = F.d
        , q = F.v
        , c = j.K.YQ(z).U;
      j.K.Z(c, f, c);
      var K = j.K.OH(c).Yi(F)
        , R = K.x
        , J = K.y
        , w = R + K.d
        , p = J + K.v
        , I = ~~z.x
        , m = ~~z.y
        , A = ~~z.d
        , U = ~~z.v;
      for (var r = J; r < p; r++)
          for (var $ = R; $ < w; $++) {
              var k = $ + .5
                , G = r + .5
                , i = C.nb * k + C.KV * G + C.H1 - I
                , o = C.O * k + C.qc * G + C.Wv - m;
              if (0 <= i && 0 <= o && i < A && o < U)
                  E[r * a + $] = X[~~o * A + ~~i]
          }
  }
  ;
  j.scale.Dh = function(n, z, C, D, F, X, E) {
      if (E < 1)
          j.scale.alN(n, z, C, D, F, X, Math.round(1 / E));
      else
          j.scale.a8L(n, z, C, D, F, X, E)
  }
  ;
  j.scale.nx = function(n, z, C, D, F, X, E, f) {
      if (f)
          f = f.Yi(new cc(0,0,z,C));
      n = new Uint32Array(n.buffer);
      D = new Uint32Array(D.buffer);
      if (E < 1)
          j.scale.aoz(n, z, C, D, F, X, Math.round(1 / E), f);
      else
          j.scale.a0V(n, z, C, D, F, X, E)
  }
  ;
  j.scale.a8L = function(n, z, C, D, F, X, E) {
      for (var f = 0; f < C; f++)
          for (var a = 0; a < z; a++) {
              var q = n[f * z + a]
                , c = Math.min(E, F - a * E)
                , K = Math.min(E, X - f * E);
              for (var M = 0; M < K; M++)
                  for (var R = 0; R < c; R++)
                      D[(E * f + M) * F + E * a + R] = q
          }
  }
  ;
  j.scale.alN = function(n, z, C, D, F, X, E) {
      for (var f = 0; f < X; f++)
          for (var a = 0; a < F; a++) {
              var q = 0
                , c = Math.min(E, z - a * E)
                , K = Math.min(E, C - f * E);
              for (var M = 0; M < K; M++)
                  for (var R = 0; R < c; R++)
                      q += n[(E * f + M) * z + (E * a + R)];
              D[f * F + a] = Math.round(q / (c * K))
          }
  }
  ;
  j.scale.a0V = function(n, z, C, D, F, X, E) {
      for (var f = 0; f < C; f++)
          for (var a = 0; a < z; a++) {
              var q = n[f * z + a]
                , c = Math.min(E, F - a * E)
                , K = Math.min(E, X - f * E);
              for (var M = 0; M < K; M++)
                  for (var R = 0; R < c; R++)
                      D[(E * f + M) * F + E * a + R] = q
          }
  }
  ;
  j.scale.aoz = function(n, z, C, D, F, X, E, f) {
      var a = 0
        , q = F
        , c = 0
        , K = X;
      if (f) {
          a = Math.floor(f.x / E);
          q = Math.ceil((f.x + f.d) / E);
          c = Math.floor(f.y / E);
          K = Math.ceil((f.y + f.v) / E)
      }
      for (var R = c; R < K; R++)
          for (var J = a; J < q; J++) {
              var w = 0
                , p = 0
                , I = 0
                , m = 0
                , A = Math.min(E, z - J * E)
                , U = Math.min(E, C - R * E);
              for (var M = 0; M < U; M++)
                  for (var r = 0; r < A; r++) {
                      var $ = n[(E * R + M) * z + E * J + r]
                        , k = $ >>> 24;
                      w += k;
                      p += k * ($ >>> 16 & 255);
                      I += k * ($ >>> 8 & 255);
                      m += k * ($ & 255)
                  }
              if (w != 0) {
                  var G = 1 / w;
                  D[R * F + J] = w / (A * U) << 24 | p * G << 16 | I * G << 8 | m * G
              } else
                  D[R * F + J] = 0
          }
  }
  ;
  j.N = {};
  j.N.afs = function(n, z, C) {
      var D = 128
        , M = 0
        , F = C.d
        , X = C.v;
      for (var E = 0; E < X; E++)
          for (var f = 0; f < F; f++) {
              if (n[M] >= D && (f == 0 || n[M - 1] < D || (f == F - 1 || n[M + 1] < D) || (E == 0 || n[M - F] < D) || (E == X - 1 || n[M + F] < D)))
                  z[M] = 255;
              M++
          }
  }
  ;
  j.N.agi = function(n, z, C, D) {
      var F = new Uint32Array([4278190080, 4294967295])
        , X = C.d
        , E = C.v
        , f = 0
        , a = 0
        , q = X
        , c = E;
      if (D) {
          f = D.x - C.x;
          a = D.y - C.y;
          q = f + D.d;
          c = a + D.v
      }
      var K = new Uint8Array(z.buffer)
        , R = new Uint32Array(z.buffer);
      for (var J = a; J < c; J++)
          for (var w = f; w < q; w++) {
              var M = J * X + w;
              if ((n[M] & 128) != 0 && (J == 0 || (n[M - X] & 128) == 0 || w == 0 || (n[M - 1] & 128) == 0 || w == X - 1 || (n[M + 1] & 128) == 0 || J == E - 1 || (n[M + X] & 128) == 0)) {
                  R[M] = F[(w + J & 4) >>> 2]
              }
          }
  }
  ;
  j.N.a68 = function(n, z, C, D, F, X) {
      var E = C.d
        , f = C.v
        , a = 0
        , q = 0
        , c = E
        , K = f;
      if (D) {
          a = D.x - C.x;
          q = D.y - C.y;
          c = a + D.d;
          K = q + D.v
      }
      var R = new Uint8Array(z.buffer)
        , J = new Uint32Array(z.buffer);
      for (var w = q; w < K; w++)
          for (var p = a; p < c; p++) {
              var M = w * E + p
                , I = n[M];
              if (F == 1)
                  J[M] = 255 - I >>> 1 << 24 | 255;
              else
                  J[M] = 255 << 24 | (I << 16 | I << 8 | I)
          }
  }
  ;
  j.Ar = {};
  j.Ar.n$ = function(n, z, C) {
      var D, F;
      if (C == "front") {
          D = n.rect.clone();
          F = j.Ar.a8b
      }
      if (C == "union") {
          D = n.rect.QH(z.rect);
          F = j.Ar.QH
      }
      if (C == "difference") {
          D = z.rect.clone();
          F = j.Ar.ag4
      }
      if (C == "intersection") {
          D = n.rect.Yi(z.rect);
          F = j.Ar.Yi
      }
      if (C == "xor") {
          D = n.rect.QH(z.rect);
          F = j.Ar.ald
      }
      if (D.kX())
          return null;
      var X = j.T(D.t());
      j.v8(z.channel, z.rect, X, D);
      var E = j.T(D.t());
      j.v8(n.channel, n.rect, E, D);
      F(E, X, X);
      var f = j.ae(X, D);
      if (f.kX())
          return null;
      if (!f.jm(D)) {
          var a = j.T(f.t());
          j.v8(X, D, a, f);
          X = a;
          D = f
      }
      return {
          channel: X,
          rect: D
      }
  }
  ;
  j.Ar.a8b = function(n, z, C) {
      for (var M = 0; M < n.length; M++)
          C[M] = n[M]
  }
  ;
  j.Ar.QH = function(n, z, C) {
      for (var M = 0; M < n.length; M++)
          C[M] = Math.min(n[M] + z[M], 255)
  }
  ;
  j.Ar.ag4 = function(n, z, C) {
      for (var M = 0; M < n.length; M++)
          C[M] = Math.max(z[M] - n[M], 0)
  }
  ;
  j.Ar.Yi = function(n, z, C) {
      var D = 1 / 255;
      for (var M = 0; M < n.length; M++)
          C[M] = n[M] * z[M] * D
  }
  ;
  j.Ar.ald = function(n, z, C) {
      var D = 1 / 255;
      for (var M = 0; M < n.length; M++)
          C[M] = Math.min(n[M] + z[M], 255) - n[M] * z[M] * D
  }
  ;
  j.ki = function(n, z) {
      this.H = [];
      this.g6 = [0];
      this.s0 = [];
      this._t = [];
      this.pg = [0];
      this.tv = [];
      this.U6 = [];
      this.rows = n;
      this.cols = z
  }
  ;
  j.ki.prototype.clone = function() {
      var n = this
        , z = n.rows
        , C = n.cols
        , D = new j.ki(z,C);
      D.H = n.H.slice(0);
      D.g6 = n.g6.slice(0);
      D.s0 = n.s0.slice(0);
      D._t = n._t.slice(0);
      D.pg = n.pg.slice(0);
      D.tv = n.tv.slice(0);
      D.U6 = n.U6.slice(0);
      return D
  }
  ;
  j.ki.prototype.Tr = function(n, z, C) {
      var D = this.g6.length - 1;
      for (var M = 0; M < C; M++) {
          var F = n[M]
            , X = z[M];
          this.H.push(F);
          this.s0.push(X);
          if (X == D) {
              this.U6.push(F == 0 ? 0 : 1 / F)
          } else {
              this._t.push(F);
              this.tv.push(X)
          }
      }
      this.g6.push(this.H.length);
      this.pg.push(this._t.length)
  }
  ;
  j.ki.prototype.LY = function(n, z) {
      var C = this
        , D = C.rows
        , F = C.H
        , X = C.s0;
      if (z == null)
          z = new Array(D);
      for (var M = 0; M < D; M++) {
          var E = C.g6[M]
            , f = C.g6[M + 1]
            , a = 0;
          while ((f - E & 3) != 0) {
              a += F[E] * n[X[E]];
              E++
          }
          for (var q = E; q < f; q += 4)
              a += F[q] * n[X[q]] + F[q + 1] * n[X[q + 1]] + F[q + 2] * n[X[q + 2]] + F[q + 3] * n[X[q + 3]];
          z[M] = a
      }
      return z
  }
  ;
  j.ki.prototype.multiply = function(n) {
      return this.bW(n._w())
  }
  ;
  j.ki.prototype.bW = function(n) {
      var z = this
        , C = z.rows
        , D = z.cols
        , F = n.rows
        , X = new j.ki(C,F)
        , E = z.s0
        , f = n.s0;
      for (var M = 0; M < C; M++) {
          var a = []
            , q = []
            , c = z.g6[M]
            , K = z.g6[M + 1];
          for (var R = 0; R < F; R++) {
              var J = n.g6[R]
                , w = n.g6[R + 1]
                , p = 0
                , I = c
                , m = J;
              while (I < K && m < w) {
                  var A = Math.max(E[I], f[m]);
                  while (I < K && E[I] < A)
                      I++;
                  while (m < w && f[m] < A)
                      m++;
                  if (I < K && m < w && E[I] == f[m])
                      p += z.H[I++] * n.H[m++]
              }
              if (p != 0) {
                  a.push(p);
                  q.push(R)
              }
          }
          X.Tr(a, q, a.length)
      }
      return X
  }
  ;
  j.ki.prototype._w = function() {
      var n = this.rows
        , z = this.cols
        , C = [];
      for (var M = 0; M < z; M++)
          C.push([[], []]);
      var D = this.H
        , F = this.g6
        , X = this.s0;
      for (var M = 0; M < n; M++) {
          var E = F[M]
            , f = F[M + 1];
          for (var a = E; a < f; a++) {
              var q = C[X[a]];
              q[0].push(D[a]);
              q[1].push(M)
          }
      }
      var c = new j.ki(z,n);
      for (var M = 0; M < z; M++)
          c.Tr(C[M][0], C[M][1], C[M][1].length);
      return c
  }
  ;
  j.ki.prototype.nO = function() {
      var n = this.rows
        , z = this.cols
        , C = new Array(n)
        , D = this.H
        , F = this.g6
        , X = this.s0;
      for (var M = 0; M < n; M++) {
          var E = C[M] = new Array(z);
          for (var f = 0; f < z; f++)
              E[f] = 0;
          var a = F[M]
            , q = F[M + 1];
          for (var c = a; c < q; c++)
              E[X[c]] = D[c]
      }
      return C
  }
  ;
  j.ki.prototype.HR = function(n, z, C, D, F) {
      function X(G, z, i, o) {
          var S = G.length;
          for (var M = 0; M < S; M++)
              o[M] = G[M] - z[M] * i
      }
      function E(G, z, i, o) {
          var S = G.length
            , H = 0;
          while ((S - H & 3) != 0) {
              o[H] = G[H] + z[H] * i;
              H++
          }
          for (var M = H; M < S; M += 4) {
              o[M] = G[M] + z[M] * i;
              o[M + 1] = G[M + 1] + z[M + 1] * i;
              o[M + 2] = G[M + 2] + z[M + 2] * i;
              o[M + 3] = G[M + 3] + z[M + 3] * i
          }
      }
      function f(G, z, i) {
          var o = G.length;
          for (var M = 0; M < o; M++)
              i[M] = G[M] * z[M]
      }
      function a(G, z) {
          var i = G.length
            , o = 0
            , S = 0;
          while ((i - o & 3) != 0) {
              S += G[o] * z[o];
              o++
          }
          for (var M = o; M < i; M += 4)
              S += G[M] * z[M] + G[M + 1] * z[M + 1] + G[M + 2] * z[M + 2] + G[M + 3] * z[M + 3];
          return S
      }
      var q = D != null ? 2 : 1
        , c = Date.now()
        , K = 0
        , R = this
        , J = n.slice(0)
        , w = n.slice(0);
      R.LY(n, w);
      X(z, w, 1, J);
      var p = this.U6;
      if (q == 0) {
          p = J.slice(0);
          p.fill(1)
      }
      var I = J.slice(0);
      f(p, J, I);
      var m = I.slice(0)
        , A = a(J, I);
      while (!0) {
          R.LY(m, w);
          var U = A / a(m, w);
          E(n, m, U, n);
          X(J, w, U, J);
          if ((K & 7) == 0 && Math.sqrt(a(J, J)) < C)
              break;
          if (q <= 1)
              f(p, J, I);
          else {
              var r = J.slice(0);
              D.a4J(r, J);
              F.aeq(I, r)
          }
          var $ = a(J, I)
            , k = $ / A;
          E(I, m, k, m);
          A = $;
          K++
      }
  }
  ;
  j.ki.prototype.ajD = function(n, z, C, D) {
      var F = Date.now()
        , X = 1.96
        , f = 0;
      if (C == null)
          C = 5e-6;
      if (D == null)
          D = 1e9;
      var E = 1 - X
        , h = this.rows
        , a = this._t
        , q = this.pg
        , c = this.tv
        , K = this.U6;
      while (!0) {
          var R = 0;
          for (var M = 0; M < h; M++) {
              var J = z[M]
                , w = q[M]
                , p = q[M + 1];
              if (p - w == 4)
                  J -= a[w] * n[c[w]] + a[w + 1] * n[c[w + 1]] + a[w + 2] * n[c[w + 2]] + a[w + 3] * n[c[w + 3]];
              else
                  for (var I = w; I < p; I++)
                      J -= a[I] * n[c[I]];
              var m = n[M] * E + K[M] * J * X
                , A = m - n[M];
              R += A * A;
              n[M] = m
          }
          if (R / h < C || Date.now() > F + D)
              break
      }
  }
  ;
  j.ki.prototype.ao3 = function(n, z, C, D) {
      var F = Date.now()
        , X = 1.96
        , f = 0;
      if (C == null)
          C = 5e-5;
      if (D == null)
          D = 1e9;
      var E = 1 - X
        , h = this.rows
        , a = this._t
        , q = this.pg
        , c = this.tv
        , K = this.U6;
      while (!0) {
          var R = 0;
          for (var M = 0; M < h; M++) {
              var J = M * 3
                , w = z[J]
                , p = z[J + 1]
                , I = z[J + 2]
                , m = q[M]
                , A = q[M + 1];
              for (var U = m; U < A; U++) {
                  var r = a[U]
                    , $ = c[U] * 3;
                  w -= r * n[$ + 0];
                  p -= r * n[$ + 1];
                  I -= r * n[$ + 2]
              }
              var k = K[M] * X
                , G = n[J + 0] * E + w * k
                , i = n[J + 1] * E + p * k
                , o = n[J + 2] * E + I * k
                , S = G - n[J + 0]
                , H = i - n[J + 1]
                , e = o - n[J + 2];
              R += .4 * S * S + .5 * H * H + .1 * e * e;
              n[J + 0] = G;
              n[J + 1] = i;
              n[J + 2] = o
          }
          if (R / h < C || Date.now() > F + D)
              break
      }
  }
  ;
  j.E6 = {};
  j.E6.Kl = function(n, z, C) {
      return {
          t: "Objc",
          v: {
              classID: "CrPt",
              Hrzn: {
                  t: "doub",
                  v: n
              },
              Vrtc: {
                  t: "doub",
                  v: z
              },
              Cnty: {
                  t: "bool",
                  v: C
              }
          }
      }
  }
  ;
  j.E6.Z = function(n, z) {
      for (var M = 0; M < n.length; M++) {
          var C = n[M].v
            , D = z.JT(new ir(C.Hrzn.v,C.Vrtc.v));
          C.Hrzn.v = Math.round(D.x);
          C.Vrtc.v = Math.round(D.y)
      }
  }
  ;
  j.E6.Pa = function(n, z, C) {
      var h = n.length - 1
        , D = j.A1.mH(h + 1, h + 2);
      for (var M = 1; M < h; M++) {
          D[M][M - 1] = 1 / (n[M] - n[M - 1]);
          D[M][M] = 2 * (1 / (n[M] - n[M - 1]) + 1 / (n[M + 1] - n[M]));
          D[M][M + 1] = 1 / (n[M + 1] - n[M]);
          D[M][h + 1] = 3 * ((z[M] - z[M - 1]) / ((n[M] - n[M - 1]) * (n[M] - n[M - 1])) + (z[M + 1] - z[M]) / ((n[M + 1] - n[M]) * (n[M + 1] - n[M])))
      }
      D[0][0] = 2 / (n[1] - n[0]);
      D[0][1] = 1 / (n[1] - n[0]);
      D[0][h + 1] = 3 * (z[1] - z[0]) / ((n[1] - n[0]) * (n[1] - n[0]));
      D[h][h - 1] = 1 / (n[h] - n[h - 1]);
      D[h][h] = 2 / (n[h] - n[h - 1]);
      D[h][h + 1] = 3 * (z[h] - z[h - 1]) / ((n[h] - n[h - 1]) * (n[h] - n[h - 1]));
      j.A1.jU(D, C)
  }
  ;
  j.E6.aqO = function(n, z, C, D) {
      if (n <= z[0])
          return C[0];
      if (n >= z[z.length - 1])
          return C[z.length - 1];
      var M = 1;
      while (z[M] < n)
          M++;
      var F = z[M]
        , X = z[M - 1]
        , E = C[M]
        , f = C[M - 1]
        , a = (n - X) / (F - X)
        , q = D[M - 1] * (F - X) - (E - f)
        , c = -D[M] * (F - X) + (E - f)
        , K = (1 - a) * f + a * E + a * (1 - a) * (q * (1 - a) + c * a);
      return K
  }
  ;
  j.E6.KK = function(n, z, C, D) {
      var F = {
          T_: [n[0]],
          oZ: [z[0]],
          bK: []
      };
      D[0] = F;
      for (var M = 1; M < n.length - 1; M++) {
          F.T_.push(n[M]);
          F.oZ.push(z[M]);
          if (C[M] == !1) {
              j.E6.Pa(F.T_, F.oZ, F.bK);
              F = {
                  T_: [n[M]],
                  oZ: [z[M]],
                  bK: []
              }
          }
          D[M] = F
      }
      F.T_.push(n[M]);
      F.oZ.push(z[M]);
      j.E6.Pa(F.T_, F.oZ, F.bK);
      D[M] = F
  }
  ;
  j.E6._J = function(n, z, C, D) {
      if (n <= z[0])
          return C[0];
      if (n >= z[z.length - 1])
          return C[z.length - 1];
      var M = 1;
      while (z[M] < n)
          M++;
      var F = D[M - 1];
      return j.E6.aqO(n, F.T_, F.oZ, F.bK)
  }
  ;
  j.E6.OB = function(n) {
      var z = {
          T_: [],
          oZ: [],
          iU: []
      };
      for (var M = 0; M < n.length; M++) {
          z.T_[M] = n[M].v.Hrzn.v;
          z.oZ[M] = n[M].v.Vrtc.v;
          z.iU[M] = n[M].v.Cnty ? n[M].v.Cnty.v : !0
      }
      return z
  }
  ;
  j.E6.o0 = function(n, h, z) {
      var C = 0
        , D = 255;
      if (z) {
          C = -1e9;
          D = 1e9
      }
      var F = j.E6.OB(n)
        , X = [];
      j.E6.KK(F.T_, F.oZ, F.iU, X);
      var E = [];
      for (var M = 0; M < h; M++)
          E[M] = 1 / 255 * Math.max(C, Math.min(D, j.E6._J(M * (255 / (h - 1)), F.T_, F.oZ, X)));
      return E
  }
  ;
  j.E6.a2g = function(n, h, z) {
      var C = Math.round(n.length / 20)
        , D = h - n.length
        , F = z ? (n[C] - n[0]) / C : 0
        , X = z ? n[0] - D * F : n[n.length - 1]
        , E = [];
      for (var M = 0; M < D; M++)
          E.push(X + M * F);
      return z ? E.concat(n) : n.concat(E)
  }
  ;
  j.E6.h4 = function(n, h, z) {
      var C = j.E6.OB(n)
        , D = [];
      j.E6.KK(C.T_, C.oZ, C.iU, D);
      var F = new Uint8Array(h)
        , X = h / 256;
      for (var M = 0; M < h; M++)
          F[M] = Math.max(0, Math.min(h - 1, j.E6._J(M * X, C.T_, C.oZ, D)));
      if (z) {
          F[0] = 0;
          if (F[1] > 100)
              F[1] = .4 * F[1];
          if (F[2] > 150)
              F[1] = .7 * F[2]
      }
      return F
  }
  ;
  j.E6.Wn = function(n, z) {
      var C = new Uint8Array(n.length);
      for (var M = 0; M < n.length; M++)
          C[M] = z[n[M]];
      return C
  }
  ;
  j.E6.qK = function(n, z, C) {
      var D = l.w("canvas", "");
      D.width = z;
      D.height = C;
      var F = D.getContext("2d")
        , X = j.E6.h4(n, 256);
      F.scale(z / 255, C / 255);
      F.fillStyle = "#fff";
      F.fillRect(0, 0, 255, 255);
      F.fillStyle = "#333";
      F.beginPath();
      F.moveTo(0, 255);
      for (var M = 0; M < X.length; M++)
          F.lineTo(M, 255 - X[M]);
      F.lineTo(255, 255);
      F.closePath();
      F.fill();
      return D.toDataURL()
  }
  ;
  j.style = {};
  j.style.stroke = function(n, z, C, D) {
      var F = C.d
        , X = C.v
        , E = new Float64Array(F * X);
      j.style.A0(n, E, F, X);
      j.style.Xx(z, C, E, C, D)
  }
  ;
  j.style.Xx = function(n, z, C, D, F) {
      var X = z.Yi(D)
        , E = X.d
        , f = X.v;
      F += 1;
      var a = X.x - z.x
        , q = X.y - z.y
        , c = z.d
        , K = X.x - D.x
        , R = X.y - D.y
        , J = D.d;
      for (var w = 0; w < f; w++) {
          var p = (w + R) * J + K
            , I = (w + q) * c + a;
          for (var m = 0; m < E; m++) {
              var A = Math.max(0, Math.min(1, F - C[p + m]));
              n[I + m] = Math.round(A * 255)
          }
      }
  }
  ;
  j.style.am6 = function(n, z, C, D) {
      for (var F = 0; F < C; F++)
          for (var X = 0; X < z; X++) {
              var E = F * z + X
                , f = 0
                , a = 0
                , q = n[E];
              if (X == 0 || F == 0) {
                  f = n[E + 1] - q;
                  a = n[E + z] - q
              } else if (X == C - 1 || F == z - 1) {
                  f = q - n[E - 1];
                  a = q - n[E - z]
              } else {
                  f = n[E + 1] - n[E - 1];
                  a = n[E + z] - n[E - z]
              }
              if (f != 0 || a != 0) {
                  var c = 1 / Math.sqrt(f * f + a * a);
                  f *= c;
                  a *= c
              }
              D[E + E] = f;
              D[E + E + 1] = a
          }
  }
  ;
  j.style.A0 = function(n, z, C, D) {
      var F = 0
        , X = C * D;
      for (var M = 0; M < X; M++)
          F |= n[M];
      if (F == 0) {
          z.fill(1e9);
          return
      }
      var E = j.style.zw(n, C, D);
      for (var f = 0; f < D; f++)
          for (var a = 0; a < C; a++) {
              var M = f * C + a
                , q = E[M * 2]
                , c = E[M * 2 + 1]
                , K = (f + c) * C + a + q;
              if (q == 0 && c == 0) {
                  z[M] = 0;
                  continue
              }
              var R = Math.sqrt(q * q + c * c)
                , J = n[K] * (1 / 255)
                , w = 1 / R
                , p = Math.abs(q) * w
                , I = Math.abs(c) * w;
              if (I > p) {
                  var m = I;
                  I = p;
                  p = m
              }
              z[M] = R + j.style.aff(p, I, J)
          }
  }
  ;
  j.style.aff = function(n, z, C) {
      return (.5 - C) * n
  }
  ;
  j.style.zw = function(n, z, C, D) {
      var F = new Int16Array(z * C * 2);
      j.style.a2a(n, F, z, C, 128);
      return F
  }
  ;
  j.style.aiF = function(n, z, C, D) {
      var F = C * D;
      for (var M = 0; M < F; M++)
          if (n[M] == 0) {
              z[M * 2] = 16383;
              z[M * 2 + 1] = 16383
          }
      for (var X = 1; X <= D - 1; X++) {
          var M = X * C;
          for (var E = 0; E <= C - 1; E++)
              j.style._1(z, n, C, M + E << 1, -1);
          for (var E = 1; E <= C - 1; E++)
              j.style.Or(z, n, C, M + E << 1, -1);
          for (var E = C - 2; E >= 0; E--)
              j.style.Or(z, n, C, M + E << 1, 1)
      }
      for (var X = D - 2; X >= 0; X--) {
          var M = X * C;
          for (var E = 0; E <= C - 1; E++)
              j.style._1(z, n, C, M + E << 1, 1);
          for (var E = 1; E <= C - 1; E++)
              j.style.Or(z, n, C, M + E << 1, -1);
          for (var E = C - 2; E >= 0; E--)
              j.style.Or(z, n, C, M + E << 1, 1)
      }
  }
  ;
  j.style.Or = function(n, z, C, D, F) {
      var X = (D >>> 1) + F << 1
        , E = n[D]
        , f = n[D + 1]
        , a = n[X] + F
        , q = n[X + 1]
        , c = a * a + q * q
        , K = E * E + f * f;
      if (q != 16383 && (E == 16383 || Math.sqrt(c) + (.5 - z[(D >>> 1) + q * C + a] * (1 / 255)) < Math.sqrt(K) + (.5 - z[(D >>> 1) + f * C + E] * (1 / 255)))) {
          n[D] = a;
          n[D + 1] = q
      }
  }
  ;
  j.style._1 = function(n, z, C, D, F) {
      var X = (D >>> 1) + F * C << 1
        , E = n[D]
        , f = n[D + 1]
        , a = n[X]
        , q = n[X + 1] + F
        , c = a * a + q * q
        , K = E * E + f * f;
      if (a != 16383 && (E == 16383 || Math.sqrt(c) + (.5 - z[(D >>> 1) + q * C + a] * (1 / 255)) < Math.sqrt(K) + (.5 - z[(D >>> 1) + f * C + E] * (1 / 255)))) {
          n[D] = a;
          n[D + 1] = q
      }
  }
  ;
  j.style.akq = function(n, z, C, D) {
      var F = C * D;
      for (var M = 0; M < F; M++)
          if (n[M] == 0) {
              z[M * 2] = 16383;
              z[M * 2 + 1] = 16383
          }
      for (var X = 1; X <= D - 1; X++) {
          var M = X * C;
          for (var E = 0; E <= C - 1; E++)
              j.style.oC(z, n, C, M + E << 1, -1);
          for (var E = 1; E <= C - 1; E++)
              j.style.oc(z, n, C, M + E << 1, -1);
          for (var E = C - 2; E >= 0; E--)
              j.style.oc(z, n, C, M + E << 1, 1)
      }
      for (var X = D - 2; X >= 0; X--) {
          var M = X * C;
          for (var E = 0; E <= C - 1; E++)
              j.style.oC(z, n, C, M + E << 1, 1);
          for (var E = 1; E <= C - 1; E++)
              j.style.oc(z, n, C, M + E << 1, -1);
          for (var E = C - 2; E >= 0; E--)
              j.style.oc(z, n, C, M + E << 1, 1)
      }
  }
  ;
  j.style.oc = function(n, z, C, D, F) {
      var X = (D >>> 1) + F << 1
        , E = n[D]
        , f = n[D + 1]
        , a = n[X] + F
        , q = n[X + 1]
        , c = a * a + q * q
        , K = E * E + f * f;
      if (q != 16383 && (E == 16383 || c < K)) {
          n[D] = a;
          n[D + 1] = q
      }
  }
  ;
  j.style.oC = function(n, z, C, D, F) {
      var X = (D >>> 1) + F * C << 1
        , E = n[D]
        , f = n[D + 1]
        , a = n[X]
        , q = n[X + 1] + F
        , c = a * a + q * q
        , K = E * E + f * f;
      if (a != 16383 && (E == 16383 || c < K)) {
          n[D] = a;
          n[D + 1] = q
      }
  }
  ;
  j.style.a6o = function(n, z, C, D, F) {
      var X = C * D
        , E = (C + D + 1) * 1.01;
      for (var M = 0; M < X; M++)
          if (n[M] <= F)
              z[M] = E;
      for (var f = 1; f < C; f++)
          z[f] = Math.min(z[f], z[f - 1]);
      for (var a = 1; a < D; a++) {
          var M = a * C;
          z[M] = Math.min(z[M], Math.min(z[M - C] + 1, z[M - C + 1] + Math.SQRT2));
          for (var f = 1; f < C - 1; f++) {
              var q = z[++M]
                , c = Math.min(z[M - 1] + 1, Math.min(z[M - C - 1] + Math.SQRT2, Math.min(z[M - C] + 1, z[M - C + 1] + Math.SQRT2)));
              if (c < q)
                  z[M] = c
          }
          M++;
          z[M] = Math.min(z[M], Math.min(z[M - 1] + 1, Math.min(z[M - C - 1] + Math.SQRT2, z[M - C] + 1)))
      }
      for (var f = C - 2; f >= 0; f--)
          z[f + X - C] = Math.min(z[f + X - C], z[f + X - C + 1]);
      for (var a = D - 2; a >= 0; a--) {
          var M = a * C + C - 1;
          z[M] = Math.min(z[M], Math.min(z[M + C] + 1, z[M + C - 1] + Math.SQRT2));
          for (var f = C - 2; f >= 1; f--) {
              var q = z[--M]
                , c = Math.min(z[M + 1] + 1, Math.min(z[M + C - 1] + Math.SQRT2, Math.min(z[M + C] + 1, z[M + C + 1] + Math.SQRT2)));
              if (c < q)
                  z[M] = c
          }
          M--;
          z[M] = Math.min(z[M], Math.min(z[M + 1] + 1, Math.min(z[M + C] + 1, z[M + C + 1] + Math.SQRT2)))
      }
  }
  ;
  j.style.a2a = function(n, z, C, D, F) {
      var X = new Int32Array(C * D);
      j.style.a0s(n, X, C, D, F);
      j.style.a1X(X, z, C, D)
  }
  ;
  j.style.a0s = function(n, z, C, D, F) {
      var X = new Int32Array(D);
      for (var E = 0; E < C; E++) {
          var f = C + D;
          for (var a = D - 1; a >= 0; a--) {
              if (n[a * C + E] > F)
                  f = 0;
              else
                  f++;
              X[a] = f
          }
          f = C + D;
          for (var a = 0; a < D; a++) {
              if (n[a * C + E] > F)
                  f = 0;
              else
                  f++;
              z[a * C + E] = f < X[a] ? -f : X[a]
          }
      }
  }
  ;
  j.style.a1X = function(n, z, C, D) {
      var F = (C + D) * (C + D)
        , X = new Float64Array(C)
        , E = new Uint16Array(C);
      for (var f = 0; f < D; f++) {
          var a = f * C
            , q = 0;
          E[0] = 0;
          X[0] = -F;
          X[1] = +F;
          for (var c = 1; c < C; c++) {
              var K = n[c + a] * n[c + a] + c * c
                , R = (K - (n[E[q] + a] * n[E[q] + a] + E[q] * E[q])) / (2 * c - 2 * E[q]);
              while (R <= X[q]) {
                  q--;
                  R = (K - (n[E[q] + a] * n[E[q] + a] + E[q] * E[q])) / (2 * c - 2 * E[q])
              }
              q++;
              E[q] = c;
              X[q] = R;
              X[q + 1] = F
          }
          q = 0;
          for (var c = 0; c < C; c++) {
              while (X[q + 1] < c)
                  q++;
              var J = E[q] - c
                , w = n[E[q] + a]
                , M = f * C + c << 1;
              z[M] = J;
              z[M + 1] = w
          }
      }
  }
  ;
  j.style.yQ = function(n, z, C) {
      if (C)
          for (var M = 0; M < n.length; M++) {
              var D = n[M];
              if (D > 0)
                  n[M] = Math.max(0, Math.min(255, D + z * 2 * (j.style.WP(M) - 128)))
          }
      else
          for (var M = 0; M < n.length; M++) {
              var D = n[M];
              if (D > 0)
                  n[M] = Math.max(0, Math.min(255, D + Math.min(D * 3, z * 2 * (j.style.WP(M) - 128))))
          }
  }
  ;
  j.style.WP = function(n) {
      n = n ^ 61 ^ n >> 16;
      n = n + (n << 3);
      n = n ^ n >> 4;
      n = n * 668265261;
      n = n ^ n >> 15;
      return n & 255
  }
  ;
  j.Qx = {};
  j.Qx.rO = function(n, z, C) {
      var D = n.canvas
        , F = l.D()
        , X = Math.floor;
      if (D.width != X(z * F) || D.height != X(C * F))
          l.Hb(D, z, C, n)
  }
  ;
  j.Qx.fd = function(n, z, C, D, F, X) {
      j.Qx.rO(n, z, C);
      if (X == null)
          X = !1;
      var E = F.channel
        , f = F.rect
        , a = !F.isEnabled;
      z = Math.floor(z * l.D());
      C = Math.floor(C * l.D());
      if (z * C == 0)
          return;
      var q = n.createImageData(z, C)
        , c = q.data
        , K = 1 / z
        , R = 1 / C;
      for (var M = 0; M < C; M++)
          for (var J = 0; J < z; J++) {
              var w = M * z + J
                , p = w * 4
                , I = Math.round(D.x + J * K * D.d)
                , m = Math.round(D.y + M * R * D.v)
                , A = 0;
              if (I < f.x || I >= f.x + f.d || m < f.y || m >= f.y + f.v)
                  A = F.color;
              else
                  A = E[(m - f.y) * f.d + (I - f.x)];
              A = 255 * (255 - F.Eo) + A * F.Eo >>> 8;
              if (X)
                  A = 170 + Math.round(.4 * (A - 170));
              c[p] = A;
              c[p + 1] = A;
              c[p + 2] = A;
              c[p + 3] = 255
          }
      n.putImageData(q, 0, 0);
      if (a)
          j.Qx.m3(n, z, C)
  }
  ;
  j.Qx.zm = [];
  j.Qx.ad8 = function(n, z, C, D) {
      var F, X, E, f = l.D();
      z = Math.floor(f * z);
      C = Math.floor(f * C);
      F = Math.ceil(Math.max(z, C) * .35);
      X = z - F;
      E = C - F;
      var a = j.Qx.zm[F];
      if (a == null) {
          var q = l.w("canvas")
            , c = q.getContext("2d");
          q.width = q.height = F;
          c.fillStyle = "#eeeeee";
          c.fillRect(0, 0, F, F);
          var K = Math.round(F * .27)
            , R = c.lineWidth = Math.max(1, Math.round(F * .12))
            , J = R / 2;
          c.strokeRect(1 + J, 1 + J, F - R - 2, F - R - 2);
          c.strokeRect(K + J, K + J, F - K - K - R, F - K - K - R);
          a = j.Qx.zm[F] = c.getImageData(0, 0, F, F)
      }
      n.putImageData(a, X, E)
  }
  ;
  j.Qx.e4 = [];
  j.Qx.al2 = function(n, z, C) {
      var D, F, X, E = l.D();
      z = Math.floor(E * z);
      C = Math.floor(E * C);
      D = Math.ceil(Math.max(z, C) * .35);
      F = z - D;
      X = C - D;
      var f = j.Qx.e4[D];
      if (f == null) {
          var a = l.w("canvas")
            , q = a.getContext("2d");
          a.width = a.height = D;
          q.fillStyle = "#eeeeee";
          q.fillRect(0, 0, D, D);
          q.lineWidth = 1;
          q.strokeRect(2.5, 2.5, D - 5, D - 5);
          var c = q.createImageData(3, 3);
          j.xM(c.data, 4278190080);
          c.data[4 * 4] = c.data[4 * 4 + 1] = c.data[4 * 4 + 2] = 238;
          q.putImageData(c, 1, 1);
          q.putImageData(c, D - 4, 1);
          q.putImageData(c, 1, D - 4);
          q.putImageData(c, D - 4, D - 4);
          f = j.Qx.e4[D] = q.getImageData(0, 0, D, D)
      }
      n.putImageData(f, F, X)
  }
  ;
  j.Qx.aot = function(n, z, C, D, F) {
      j.Qx.rO(n, z, C);
      z = Math.floor(z * l.D());
      C = Math.floor(C * l.D());
      var X = z / D.d;
      if (z * C == 0)
          return;
      n.fillStyle = "#999999";
      n.setTransform(1, 0, 0, 1, 0, 0);
      n.clearRect(0, 0, z, C);
      var E = j.Qx.Rz;
      if (E == null) {
          E = j.Qx.Rz = JSON.parse(JSON.stringify(g$.Bt.default));
          E.strokeEnabled.v = !0
      }
      E.strokeStyleLineWidth.v.val = 1 * l.D() / X;
      n.fillStyle = "#ffffff";
      n.scale(X, X);
      j.i.nf(F.g, n, 0, 0);
      j.i.nf(F.g, n, 0, 0, E)
  }
  ;
  j.Qx.$q = null;
  j.Qx.TG = function(n, z, C, D, F, X, E, f) {
      j.Qx.rO(n, z, C);
      z = Math.floor(z * l.D());
      C = Math.floor(C * l.D());
      if (z * C == 0)
          return;
      var a = Math.max(z, C)
        , q = j.Qx.$q;
      if (q == null || q.width < a || q.height < a) {
          j.Qx.$q = q = n.createImageData(a, a)
      }
      a = q.width;
      var c = q.data
        , K = D.d / z
        , R = D.v / C
        , J = X.x
        , w = X.x + X.d
        , p = X.y
        , I = X.y + X.v;
      for (var M = 0; M < C; M++)
          for (var m = 0; m < z; m++) {
              var A = M * a + m
                , U = A * 4
                , r = ~~(D.x + m * K)
                , $ = ~~(D.y + M * R)
                , k = j.WJ(M, m, 2);
              if (r < J || r >= w || $ < p || $ >= I) {
                  c[U] = k;
                  c[U + 1] = k;
                  c[U + 2] = k;
                  c[U + 3] = 255
              } else {
                  var G = ($ - X.y) * X.d + (r - X.x) << 2
                    , i = F[G + 3] * (1 / 255);
                  c[U] = F[G + 0] * i + k * (1 - i);
                  c[U + 1] = F[G + 1] * i + k * (1 - i);
                  c[U + 2] = F[G + 2] * i + k * (1 - i);
                  c[U + 3] = 255
              }
          }
      if (f != null)
          for (var M = 0; M < c.length; M += 4)
              c[M] = c[M + 1] = c[M + 2] = c[M + f];
      n.putImageData(q, 0, 0);
      if (E)
          j.Qx.m3(n, z, C)
  }
  ;
  j.Qx.agr = function(n, z, C, D) {
      j.Qx.rO(n, z, C);
      n.fillStyle = j.Qx.Jo(D.Clr.v);
      n.fillRect(0, 0, z, C);
      j.Qx.ty(n, z, C)
  }
  ;
  j.Qx.mJ = null;
  j.Qx.a92 = function(n, z, C, D) {
      j.Qx.rO(n, z, C);
      var F = n.canvas.width
        , X = n.canvas.height
        , E = j.Qx.mJ;
      if (E == null || E.width != F || E.height != X) {
          n.fillStyle = "#ffffff";
          n.fillRect(0, 0, z, C);
          n.fillStyle = "#000000";
          n.font = "" + C * .7 + "px serif";
          n.fillText("T", (z - C * .43) / 2, C * .75);
          n.fillText("T", (z - C * .43) / 2, C * .75);
          j.Qx.mJ = n.getImageData(0, 0, F, X)
      } else
          n.putImageData(E, 0, 0)
  }
  ;
  j.Qx.ali = function(n, z, C) {
      j.Qx.rO(n, z, C);
      n.clearRect(0, 0, z, C);
      n.font = C * .7 + "px serif";
      n.fillText(":(", (z - C * .43) / 2, C * .7)
  }
  ;
  j.Qx.ai6 = function(n, z, C, D) {
      j.Qx.rO(n, z, C);
      var F = ad.get(D)
        , X = aC.get(ad.names[F]).substring(0, 3);
      n.fillStyle = "#ffffff";
      n.fillRect(0, 0, z, C);
      n.fillStyle = "#000000";
      n.font = C * .55 + "px sans-serif";
      var E = n.measureText(X);
      n.fillText(X, (z - E.width) / 2, C * .67);
      n.fillRect(0, 0, z, C * .1);
      n.fillRect(0, C * .9, z, C * .1)
  }
  ;
  j.Qx.ahc = function(n, z, C, D) {
      j.Qx.rO(n, z, C);
      var F = n.canvas.width
        , X = n.canvas.height
        , E = n.getImageData(0, 0, F, X);
      j._.R4(D.Grad.v, new Uint8Array(E.data.buffer), new cc(0,0,F,X), [1 / F, 0, 0, 1 / X], F / 2, X / 2, !1, 0, 16711680, 65280);
      n.putImageData(E, 0, 0);
      j.Qx.ty(n, z, C)
  }
  ;
  j.Qx.a8R = function(n, z, C, D, F) {
      j.Qx.rO(n, z, C);
      var X = n
        , E = fg.Ke(D.Ptrn.v, F.add.Patt);
      if (E == null)
          return;
      var f = E.Tc[1];
      j.Qx.TG(n, z, C, f, E.Tc[0], f, !1);
      j.Qx.ty(X, z, C)
  }
  ;
  j.Qx.m3 = function(n, z, C) {
      z /= l.D();
      C /= l.D();
      n.strokeStyle = "#bb0000";
      n.lineWidth = 3;
      n.beginPath();
      n.moveTo(z * .15, C * .15);
      n.lineTo(z * .85, C * .85);
      n.moveTo(z * .85, C * .15);
      n.lineTo(z * .15, C * .85);
      n.closePath();
      n.stroke()
  }
  ;
  j.Qx.ty = function(n, z, C) {
      n.fillStyle = "#eeeeee";
      n.fillRect(0, C * .75, z, C * .25);
      n.beginPath();
      n.moveTo(0, C * .75);
      n.lineTo(z, C * .75);
      n.moveTo(z * .1, C * .875);
      n.lineTo(z * .9, C * .875);
      n.moveTo(z * .65, C * .825);
      n.lineTo(z * .65, C * .95);
      n.closePath();
      n.stroke()
  }
  ;
  j.Qx.Jo = function(n) {
      var z = j._.Jo(n)
        , C = Math.round(z.h) << 16 | Math.round(z.Q) << 8 | Math.round(z.O);
      return "#" + j.JY(C)
  }
  ;
  j.i = {};
  j.i.fA = function(n, z, C) {
      var D = []
        , F = -1;
      for (var M = 0; M < n.length; M++) {
          var X = n[M];
          if ((X.type == 0 || X.type == 3) && X.fT != -1)
              F++;
          if (X.type > 5 || X.type == 0 || X.type == 3)
              continue;
          if (z != null && z.indexOf(F) == -1)
              continue;
          if (C != null && C.indexOf(M) == -1)
              continue;
          D.push(X.K1.x);
          D.push(X.K1.y);
          D.push(X.S.x);
          D.push(X.S.y);
          D.push(X.yz.x);
          D.push(X.yz.y)
      }
      return D
  }
  ;
  j.i.ia = function(n, z, C, D) {
      var F = 0
        , X = -1;
      for (var M = 0; M < z.length; M++) {
          var E = z[M];
          if ((E.type == 0 || E.type == 3) && E.fT != -1)
              X++;
          if (E.type > 5 || E.type == 0 || E.type == 3)
              continue;
          if (C != null && C.indexOf(X) == -1)
              continue;
          if (D != null && D.indexOf(M) == -1)
              continue;
          E.K1.oS(n[F], n[F + 1]);
          E.S.oS(n[F + 2], n[F + 3]);
          E.yz.oS(n[F + 4], n[F + 5]);
          F += 6
      }
  }
  ;
  j.i.i3 = function(n, z, C, D) {
      var F = j.i.fA(n, C, D);
      j.K.Z(F, z, F);
      j.i.ia(F, n, C, D)
  }
  ;
  j.i.aed = function(n, z, C, D) {
      var F = j.i.fA(n, C, D);
      j.V.Z(z, F);
      j.i.ia(F, n, C, D)
  }
  ;
  j.i.aiB = function(n, z, C, D) {
      if (C == null && D == null) {
          var F = j.i.aol(n, 40);
          for (var M = 0; M < F.length; M++)
              n[M] = F[M]
      }
      var X = j.i.fA(n, C, D);
      j._N.Z(z, X, j.K.AN(X));
      j.i.ia(X, n, C, D)
  }
  ;
  j.i.aol = function(n, z) {
      var C = [];
      for (var M = 0; M < n.length; M++) {
          var D = n[M];
          if (D.type > 5) {
              C.push(JSON.parse(JSON.stringify(D)));
              continue
          }
          var F = j.i.a8s(n, M + 1, D.length);
          F = j.K.py(F, z);
          var X = j.i.aqS(F);
          M += D.length;
          D = JSON.parse(JSON.stringify(D));
          D.length = X.length;
          C.push(D);
          for (var E = 0; E < X.length; E++)
              C.push(X[E])
      }
      return C
  }
  ;
  j.i.a8s = function(n, z, C) {
      var D = {
          I: ["M"],
          U: []
      }
        , F = n[z]
        , X = n[z + C - 1];
      D.U.push(F.S.x, F.S.y);
      for (var M = 1; M < C; M++) {
          var E = n[z + M - 1]
            , f = n[z + M];
          D.I.push("C");
          D.U.push(E.yz.x, E.yz.y, f.K1.x, f.K1.y, f.S.x, f.S.y)
      }
      D.I.push("C");
      D.U.push(X.yz.x, X.yz.y, F.K1.x, F.K1.y, F.S.x, F.S.y);
      return D
  }
  ;
  j.i.aqS = function(n) {
      var z = []
        , C = n.I
        , D = n.U
        , F = 0
        , h = D.length;
      z.push({
          type: 2,
          K1: new ir(D[h - 4],D[h - 3]),
          S: new ir(D[0],D[1]),
          yz: new ir(D[2],D[3])
      });
      for (var M = 0; M < C.length - 2; M++) {
          var X = M * 6 + 4;
          z.push({
              type: 2,
              K1: new ir(D[X],D[X + 1]),
              S: new ir(D[X + 2],D[X + 3]),
              yz: new ir(D[X + 4],D[X + 5])
          })
      }
      return z
  }
  ;
  j.i.abS = function(n) {
      for (var M = 0; M < n.length; M++) {
          if (n[M].type > 5)
              continue;
          var z = n[M].length;
          if (!(z == 4 || z == 6 || z == 8)) {
              M += z;
              continue
          }
          for (var C = 0; C < z; C++) {
              var D = n[M + 1 + C]
                , F = n[M + 1 + (C + 1) % z]
                , X = Math.min(D.S.x, F.S.x)
                , E = Math.min(D.S.y, F.S.y)
                , f = 0
                , a = 0;
              if (D.S.x < F.S.x) {
                  f = D.S.y - E;
                  a = f - (F.S.x - X)
              } else {
                  f = F.S.y - E;
                  a = f - (D.S.x - X)
              }
              if (Math.abs(a) < .2 * f)
                  return f
          }
      }
      return -1
  }
  ;
  j.i.Rb = function(n, z, C) {
      function D(R, J) {
          var w = Math.min(R.x, J.x)
            , p = Math.min(R.y, J.y)
            , I = Math.max(R.x + R.d, J.x + J.d)
            , m = Math.max(R.y + R.v, J.y + J.v);
          return new cc(w,p,I - w,m - p)
      }
      var F = null
        , X = -1
        , E = !j.i.Rh(n);
      for (var M = 0; M < n.length; M++) {
          var f = n[M];
          if (f.type > 5)
              continue;
          if ((f.type == 0 || f.type == 3) && f.fT != -1)
              X++;
          if (z != null && z.indexOf(X) == -1)
              continue;
          if (M == n.length - 1)
              break;
          var a = f.type == 3
            , q = f.length
            , c = f.fT
            , K = j.i.ada(n, M + 1, q, a);
          if (F == null)
              F = K;
          else if (C)
              F = D(F, K);
          else if (E) {
              if (z != null || c == 0 || c == -1 || c == 2)
                  F = D(F, K);
              else if (c == 1)
                  F = F;
              else if (c == 3) {
                  F = K;
                  E = !1
              }
          } else {
              if (z != null || c == 0 || c == -1 || c == 1)
                  F = D(F, K);
              else if (c == 2)
                  F = F;
              else if (c == 3)
                  F = F.Yi(K)
          }
          M += q
      }
      if (F == null || F.d < 0 || F.v < 0)
          F = new cc(0,0,0,0);
      return F
  }
  ;
  j.i.agG = new Float64Array(4);
  j.i.ada = function(n, M, z, C) {
      var D = j.i.agG;
      D[0] = 1e30;
      D[1] = 1e30;
      D[2] = -1e30;
      D[3] = -1e30;
      var F = n[M + z - 1];
      if (!C)
          j.i.W6(F.S.x, F.S.y, F.yz.x, F.yz.y, n[M].K1.x, n[M].K1.y, n[M].S.x, n[M].S.y, D);
      for (var X = M; X < M + z - 1; X++) {
          var E = n[X]
            , f = n[X + 1];
          j.i.W6(E.S.x, E.S.y, E.yz.x, E.yz.y, f.K1.x, f.K1.y, f.S.x, f.S.y, D)
      }
      return new cc(D[0],D[1],D[2] - D[0],D[3] - D[1])
  }
  ;
  j.i.W6 = function(n, z, C, D, F, X, E, f, a) {
      if (n == C && z == D && F == E && X == f) {
          a[0] = Math.min(a[0], Math.min(n, E));
          a[1] = Math.min(a[1], Math.min(z, f));
          a[2] = Math.max(a[2], Math.max(n, E));
          a[3] = Math.max(a[3], Math.max(z, f));
          return
      }
      var q = n
        , c = z
        , K = n
        , R = z
        , J = 40
        , w = 1 / (J - 1);
      for (var p = 0; p < J; p++) {
          var I = p * w
            , m = 1 - I
            , A = m * m * m
            , U = 3 * m * m * I
            , r = 3 * m * I * I
            , $ = I * I * I
            , k = A * n + U * C + r * F + $ * E
            , G = A * z + U * D + r * X + $ * f;
          if (k < q)
              q = k;
          else if (k > K)
              K = k;
          if (G < c)
              c = G;
          else if (G > R)
              R = G
      }
      if (q < a[0])
          a[0] = q;
      if (c < a[1])
          a[1] = c;
      if (K > a[2])
          a[2] = K;
      if (R > a[3])
          a[3] = R
  }
  ;
  j.i.Jq = function(n, z) {
      var C = n.length - 3
        , D = z % C
        , F = Math.floor(D);
      if (z < 0 || F >= C)
          return null;
      var X = n[3 + F]
        , E = n[3 + (F + 1) % C]
        , f = X.S
        , a = X.yz
        , q = E.K1
        , c = E.S
        , K = D - F
        , R = 1 - K
        , J = R * R * R * f.x + 3 * R * R * K * a.x + 3 * R * K * K * q.x + K * K * K * c.x
        , w = R * R * R * f.y + 3 * R * R * K * a.y + 3 * R * K * K * q.y + K * K * K * c.y;
      return new ir(J,w)
  }
  ;
  j.i.rX = function(n) {
      var z = 2
        , C = j.i.AL(n)
        , D = !1;
      for (var M = 2; M < n.length; M++) {
          var F = n[M].fT;
          if (F != null) {
              if (F == 2 || F == 0 || F == 3)
                  D = !0
          }
      }
      if (D && n.length < 15e3 && C > 1)
          n = j.i.nK(n);
      var X = j.K.Gi(n);
      return {
          a2r: Typr.U.pathToSVG({
              crds: X.U,
              cmds: X.I
          }, z),
          pK: D ? 1 : 0
      }
  }
  ;
  j.i.nK = function(n) {
      j.i.lu();
      var z, C = j.i.Vs(n), D = [];
      for (var M = 0; M < C.length; M++) {
          var F = C[M][0]
            , X = C[M][1];
          if (Math.abs(F.area) < 1e-5)
              D.push(F);
          else if (z == null)
              z = F;
          else {
              if (!F.closed)
                  F.closed = !0;
              z = z[X](F);
              z.remove()
          }
      }
      if (z == null)
          z = new paper.CompoundPath(D);
      else {
          if (z.segments)
              z = new paper.CompoundPath(z);
          for (var M = 0; M < D.length; M++) {
              z.addChild(D[M])
          }
      }
      var E = n.slice(0, 2);
      E = E.concat(j.i.x$(z));
      if (E[2])
          E[2].fT = 1;
      for (var M = 3; M < E.length; M++)
          if (E[M].fT != null)
              E[M].fT = -1;
      return E
  }
  ;
  j.i.lu = function() {
      if (j.i.aa5 == null) {
          var n = l.w("canvas");
          paper.setup(n);
          j.i.aa5 = !0
      }
  }
  ;
  j.i.apx = function(n, z) {
      j.i.lu();
      var C = []
        , D = j.i.Vs(n)
        , F = new paper.Path.Rectangle(new paper.Rectangle(z.x,z.y,z.d,z.v));
      F.remove();
      F.fillColor = new paper.Color(1,0,0);
      for (var M = 0; M < D.length; M++) {
          if (F.intersects(D[M][0]) || F.contains(D[M][0].children[0].segments[0].point))
              C.push(M)
      }
      return C
  }
  ;
  j.i.Lc = function(n, z, C, D) {
      j.i.lu();
      var F = C ? {
          curves: !0,
          tolerance: D
      } : null
        , X = new paper.Point(z.x,z.y)
        , E = j.i.Vs(n);
      for (var M = E.length - 1; M >= 0; M--) {
          var f = E[M][0]
            , a = f.hitTest(X, F);
          if (a != null)
              return {
                  kB: M,
                  yL: C ? a.location.index : null
              }
      }
      return {
          kB: -1
      }
  }
  ;
  j.i.$r = function(n, z, C) {
      var D = [[], [], []];
      for (var M = 0; M < n.length; M++) {
          var F = n[M];
          if (F.type > 5 || F.type == 0 || F.type == 3)
              continue;
          var X = C == null ? !0 : C.indexOf(M) != -1;
          if (z.P5(F.S))
              D[0].push(M);
          if (z.P5(F.K1) && X)
              D[1].push(M);
          if (z.P5(F.yz) && X)
              D[2].push(M)
      }
      return D
  }
  ;
  j.i.a3I = function(n, z, C) {
      var D = C.slice(0)
        , F = [null, null]
        , X = -1
        , f = null;
      for (var M = 2; M < n.length; M++) {
          if ((n[M].type == 0 || n[M].type == 3) && n[M].fT != -1)
              X++;
          F[M] = C[X]
      }
      C = F;
      var E = n.slice(0, 2);
      F = C.slice(0, 2);
      for (var M = 2; M < n.length; M++) {
          if (n[M].type == 0 || n[M].type == 3) {
              f = n[M];
              E.push(f);
              F.push(C[M])
          } else {
              if (z.indexOf(M) == -1) {
                  E.push(n[M]);
                  F.push(C[M])
              } else {
                  f.length--;
                  j.hL.fu(C, M)
              }
          }
      }
      for (var M = 2; M < E.length; M++) {
          var a = E[M];
          if (a.type != 0 && a.type != 3)
              continue;
          if (a.length == 0) {
              if (E[M + 1] && E[M + 1].fT == -1) {
                  E[M + 1].fT = a.fT
              }
              F.splice(M, 1);
              E.splice(M, 1);
              M--
          }
      }
      for (var M = 0; M < D.length; M++)
          if (F.indexOf(D[M]) == -1) {
              D.splice(M, 1);
              M--
          }
      return E
  }
  ;
  j.i.aox = function(n, z) {
      var C = n.slice(0, 2)
        , D = -1;
      for (var M = 2; M < n.length; M++) {
          if ((n[M].type == 0 || n[M].type == 3) && n[M].fT != -1)
              D++;
          if (z.indexOf(D) == -1)
              C.push(n[M])
      }
      return C
  }
  ;
  j.i.a44 = function(n, z) {
      var C = n.slice(0, 2)
        , D = -1;
      for (var M = 2; M < n.length; M++) {
          if ((n[M].type == 0 || n[M].type == 3) && n[M].fT != -1)
              D++;
          if (z.indexOf(D) != -1)
              C.push(n[M])
      }
      return C
  }
  ;
  j.i.app = function(n) {
      var z = 0;
      for (var M = 0; M < n.length; M++)
          if (n[M].type == 0 || n[M].type == 3)
              z = M;
      return n[z]
  }
  ;
  j.i.AL = function(n) {
      var z = -1;
      for (var M = 0; M < n.length; M++)
          if ((n[M].type == 0 || n[M].type == 3) && n[M].fT != -1)
              z++;
      return z + 1
  }
  ;
  j.i.GS = function(n, z, C) {
      var D = -1;
      for (var M = 0; M < n.length; M++)
          if ((n[M].type == 0 || n[M].type == 3) && (C || n[M].fT != -1)) {
              D++;
              if (D == z)
                  return M
          }
      return -1
  }
  ;
  j.i.Tn = function(n, z, C) {
      var D = -1;
      for (var M = 0; M < n.length; M++)
          if ((n[M].type == 0 || n[M].type == 3) && (C || n[M].fT != -1)) {
              if (M >= z)
                  return D;
              D++
          }
      return D
  }
  ;
  j.i.qi = function(n, z) {
      var C = -1
        , D = 0;
      for (var M = 0; M < n.length; M++) {
          if ((n[M].type == 0 || n[M].type == 3) && n[M].fT != -1)
              C++;
          if (C == z)
              D++
      }
      return D
  }
  ;
  j.i.a8a = function(n) {
      var z = 180;
      for (var M = 0; M < n.length; M++) {
          if (n[M].type != 0 && n[M].type != 3)
              continue;
          var C = n[M].length;
          if (C < 3)
              continue;
          for (var D = 0; D < C; D++) {
              var F = n[M + 1 + (D - 1 + C) % C]
                , X = n[M + 1 + D]
                , E = n[M + 1 + (D + 1) % C]
                , f = X.S
                , a = X.K1.jm(f) ? F.yz : X.K1
                , q = X.yz.jm(f) ? E.K1 : X.yz;
              if (f.jm(a) || f.jm(q))
                  continue;
              var c = a.x - f.x
                , K = a.y - f.y
                , R = q.x - f.x
                , J = q.y - f.y
                , a = Math.atan2(a.y - f.y, a.x - f.x) * 180 / Math.PI
                , q = Math.atan2(q.y - f.y, q.x - f.x) * 180 / Math.PI
                , w = Math.abs(q - a) % 360
                , p = w > 180 ? 360 - w : w;
              if (p < z)
                  z = p
          }
      }
      return z * Math.PI / 180
  }
  ;
  j.i.x$ = function(n) {
      var z = n.segments ? [n] : n.children
        , C = [];
      for (var M = 0; M < z.length; M++) {
          var D = z[M]
            , F = D.segments
            , X = D.closed ? 0 : 3
            , E = C.length
            , f = null;
          if (F.length <= 1)
              continue;
          C.push({
              type: X,
              length: F.length,
              fT: 0,
              AB: 2
          });
          for (var a = 0; a < F.length; a++) {
              var q = F[a]
                , c = new ir(q.handleIn.x,q.handleIn.y)
                , K = new ir(q.handleOut.x,q.handleOut.y)
                , R = new ir(q.point.x,q.point.y)
                , J = {
                  type: X + 1,
                  K1: R.add(c),
                  S: R,
                  yz: R.add(K)
              };
              if (f == null)
                  f = J;
              C.push(J);
              if (a + 1 == F.length && ir.gn(f.S, J.S) < 1e-5) {
                  C.pop();
                  C[E].length--;
                  f.K1 = J.K1;
                  if (X == 3)
                      for (var w = E; w < C.length; w++)
                          C[w].type -= 3
              }
          }
      }
      return C
  }
  ;
  j.i.Vs = function(n) {
      j.i.lu();
      var z = [], C, D = new paper.Color(1,0,0);
      function F(J, f) {
          J.remove();
          J.closed = !f;
          J.fillRule = "evenodd"
      }
      for (var M = 0; M < n.length; M++) {
          if (n[M].type > 5)
              continue;
          var X = n[M].length, E;
          if (M == n.length - 1)
              break;
          var f = n[M].type == 3;
          if (M == 2) {
              if (!j.i.Kq(n))
                  E = "subtract";
              else
                  E = "unite"
          } else {
              if (n[M].fT == 0)
                  E = "exclude";
              if (n[M].fT == 1)
                  E = "unite";
              if (n[M].fT == 2)
                  E = "subtract";
              if (n[M].fT == 3)
                  E = "intersect"
          }
          if (n[M].fT != -1) {
              C = new paper.CompoundPath;
              z.push([C, E]);
              C.fillRule = "evenodd";
              C.fillColor = D
          }
          var a = [];
          for (var q = 0; q < X; q++) {
              var c = n[M + 1 + q]
                , K = c.K1.s6(c.S)
                , R = c.yz.s6(c.S);
              a.push([[c.S.x, c.S.y], [K.x, K.y], [R.x, R.y]])
          }
          var J = new paper.Path(a);
          F(J, f);
          C.addChild(J);
          M += X
      }
      return z
  }
  ;
  j.i.Gc = function(n) {
      for (var M = 0; M < n.length; M++) {
          var z = n[M];
          if (z.S == null)
              continue;
          if (!z.S.jm(z.K1) || !z.S.jm(z.yz))
              return !1
      }
      return !0
  }
  ;
  j.i.ajG = function(n) {
      if (n.length <= 5)
          return 0;
      var z = 0
        , C = n.length - 3 - 1;
      for (var M = 0; M < C; M++) {
          var D = n[3 + M]
            , F = n[3 + M + 1];
          if (D.type == 0 || F.type == 0)
              return 0;
          z += (F.S.x - D.S.x) * (D.S.y + F.S.y)
      }
      z += (n[3].S.x - n[3 + C].S.x) * (n[3 + C].S.y + n[3 + 1].S.y);
      return -z * .5
  }
  ;
  j.i.Rh = function(n) {
      var z = n[2]
        , C = !1;
      if (n.length == 2)
          C = n[1].all == 0;
      else if (n[1].all == 1) {
          if (z.fT == 1 || z.fT == 3)
              C = !0;
          else
              C = !1
      } else {
          if (z.fT == 1 || z.fT == 3 || z.fT == 0)
              C = !0;
          else
              C = !1
      }
      return C
  }
  ;
  j.i.Kq = function(n) {
      var z = j.i.Rh(n);
      for (var M = 3; M < n.length; M++)
          if (n[M].fT == 3)
              z = !0;
      return z
  }
  ;
  j.i.a4t = 0;
  j.i.BR = 0;
  j.i.ajC = 0;
  j.i.a9y = function(n, z, C, D) {
      if (C.kX())
          return;
      var F = C.t()
        , m = 16384;
      j.i.a4t += F;
      if (F > j.i.BR) {
          j.i.BR = F
      }
      var X = C.d
        , E = C.v;
      if (D == null && j.i.Gc(n)) {
          var f = !0;
          for (var M = 2; M < n.length; )
              if (n[M].length == 2)
                  M += 3;
              else {
                  f = !1;
                  break
              }
          if (f) {
              return
          }
          if (j.i.I0(n)) {
              z.fill(255);
              var a = j.i.Rb(n);
              if (a.t() != F) {
                  var q = 1 - (a.x - C.x)
                    , c = 1 - (a.y - C.y)
                    , K = 1 - (C.x + C.d - (a.x + a.d))
                    , R = 1 - (C.x + C.v - (a.x + a.v))
                    , J = ~~(q * 255)
                    , w = ~~(K * 255)
                    , p = ~~(c * 255)
                    , I = ~~(R * 255);
                  z.fill(p, 0, X);
                  z[0] = ~~(q * c * 255);
                  z[X - 1] = ~~(K * c * 255);
                  for (var M = X; M < F; M += X) {
                      z[M] = J;
                      z[M + X - 1] = w
                  }
                  z.fill(I, (E - 1) * X, E * X);
                  z[F - X] = ~~(q * R * 255);
                  z[F - 1] = ~~(K * R * 255)
              }
              return
          }
      }
      var A = Math.ceil(X / m)
        , U = Math.ceil(E / m)
        , r = Math.ceil(X / A)
        , $ = Math.ceil(E / U)
        , k = Date.now();
      for (var G = 0; G < U; G++)
          for (var i = 0; i < A; i++) {
              var o = i * r
                , S = G * $
                , H = r
                , e = $
                , V = j.ur(H, e);
              if (!j.i.Rh(n))
                  V.fillRect(0, 0, H, e);
              j.i.nf(n, V, -C.x - o, -C.y - S, D);
              var v = new Uint8Array(V.getImageData(0, 0, H, e).data.buffer);
              if (H == X && e == E)
                  j.Ni(v, z, 3);
              else
                  j.nV(v, new cc(o,S,H,e), z, new cc(0,0,X,E))
          }
  }
  ;
  j.i.nf = function(n, z, C, D, F) {
      if (F != null && F.fillEnabled.v) {
          var X = !1
            , E = !1
            , f = 0;
          for (var M = 0; M < n.length; M++) {
              var a = n[M].fT;
              if (a != null)
                  f++;
              if (a == -1)
                  X = !0;
              if (a > 0)
                  E = !0
          }
          if (!X && f < 20)
              n = j.i.nK(n)
      }
      for (var M = 0; M < n.length; M++) {
          if (n[M].type > 5)
              continue;
          var q = n[M].length;
          if (q == 0)
              continue;
          if (M == n.length - 1)
              break;
          var c = n[M].type == 3
            , a = n[M].fT;
          if (a != -1 && F == null) {
              var K = ["xor", "source-over", "destination-out", "source-in"][a];
              z.globalCompositeOperation = K
          }
          if (n[M].fT != -1) {
              z.beginPath();
              if (F) {
                  var R = F.strokeStyleLineWidth.v.val
                    , J = F.strokeStyleLineAlignment.v.strokeStyleLineAlignment
                    , w = F.strokeStyleLineCapType.v.strokeStyleLineCapType
                    , p = F.strokeStyleLineJoinType.v.strokeStyleLineJoinType
                    , I = F.strokeStyleMiterLimit.v
                    , m = []
                    , A = F.strokeStyleLineDashSet.v;
                  for (var U = 0; U < A.length; U++)
                      m.push(A[U].v.val * R);
                  z.setLineDash(m);
                  z.lineCap = ["butt", "round", "square"][g$.Bt.BB.indexOf(w)];
                  z.lineJoin = ["miter", "round", "bevel"][g$.Bt.join.indexOf(p)];
                  z.lineWidth = g$.Bt.pA.indexOf(J) == 1 ? R : R *= 2;
                  z.miterLimit = I
              }
          }
          j.i.a1d(z, n, M + 1, q, C, D, c);
          if (c) {} else
              z.closePath();
          if (n[M + 1 + q] == null || n[M + 1 + q].fT != -1) {
              if (F)
                  z.stroke();
              else
                  z.fill("evenodd")
          }
          M += q
      }
      z.globalCompositeOperation = "source-over"
  }
  ;
  j.i.a1d = function(n, z, M, C, D, F, X) {
      var E = z[M]
        , f = null;
      n.moveTo(E.S.x + D, E.S.y + F);
      for (var a = M; a < M + C - 1; a++) {
          E = z[a];
          f = z[a + 1];
          n.bezierCurveTo(E.yz.x + D, E.yz.y + F, f.K1.x + D, f.K1.y + F, f.S.x + D, f.S.y + F)
      }
      if (!X) {
          E = z[a];
          f = z[M];
          n.bezierCurveTo(E.yz.x + D, E.yz.y + F, f.K1.x + D, f.K1.y + F, f.S.x + D, f.S.y + F)
      }
  }
  ;
  j.i.G0 = function(n, z, C) {
      var D = []
        , F = C ? 4 : 1
        , X = !1;
      if (z != null)
          for (var M = 0; M < z.length; M++)
              if (z[M] != 0) {
                  X = !0;
                  break
              }
      if (z != null && X) {
          var E = j.K.ael(n, z)
            , f = E.length / 6;
          for (var M = 0; M < f; M++) {
              var a = M * 6
                , q = (M - 1 + f) % f * 6
                , c = E[a]
                , K = E[a + 1]
                , R = E[a + 2]
                , J = E[a + 3]
                , w = E[q + 4]
                , p = E[q + 5];
              D.push({
                  type: F,
                  K1: new ir(w,p),
                  S: new ir(c,K),
                  yz: new ir(R,J)
              })
          }
      } else {
          for (var M = 0; M < n.length; M += 2) {
              var I = new ir(n[M],n[M + 1]);
              D.push({
                  type: F,
                  K1: I.clone(),
                  S: I.clone(),
                  yz: I.clone()
              })
          }
      }
      return D
  }
  ;
  j.i.ev = function(n, z) {
      j.i.lu();
      var C = new paper.Path;
      C.remove();
      var D = n.length - 1
        , F = Math.sqrt((n[D - 1] - n[0]) * (n[D - 1] - n[0]) + (n[D] - n[1]) * (n[D] - n[1])) < 3;
      C.closed = F;
      for (var M = 0; M < n.length; M += 2)
          C.add(new paper.Point(n[M],n[M + 1]));
      C.simplify(z);
      var X = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      X = X.concat(j.i.x$(C));
      return X
  }
  ;
  j.i.P3 = function(n, z, C) {
      var D = n[z].length
        , F = n[z].type
        , X = 0
        , E = n.slice(z + 1, z + 1 + D);
      for (var M = 0; M < D; M++) {
          var f = C[(M - 1 + D) % D]
            , a = C[(M + 1 + D) % D]
            , q = C[M];
          if (q != 0) {
              var c = E[(M - 1 + D) % D].S
                , K = E[(M + 0 + D) % D].S
                , R = E[(M + 1 + D) % D].S
                , J = ir.gn(K, c)
                , w = ir.gn(K, R)
                , p = j.K.JC(c.x, c.y, K.x, K.y, R.x, R.y, q)[0]
                , I = Math.min(p, f == 0 ? J : J / 2, a == 0 ? w : w / 2);
              q *= I / p;
              var m = j.K.CY(c.x, c.y, K.x, K.y, R.x, R.y, q)
                , A = {
                  type: F + 1,
                  K1: new ir(m[2],m[3]),
                  S: new ir(m[2],m[3]),
                  yz: new ir(m[4],m[5])
              }
                , U = {
                  type: F + 1,
                  K1: new ir(m[6],m[7]),
                  S: new ir(m[8],m[9]),
                  yz: new ir(m[8],m[9])
              };
              n.splice(z + X + 1, 1, A, U);
              X++;
              n[z].length++
          }
          X++
      }
  }
  ;
  j.i.Gc = function(n) {
      for (var M = 0; M < n.length; M++) {
          var z = n[M]
            , C = z.type;
          if (C == 1 || C == 2 || C == 4 || C == 5)
              if (!z.S.jm(z.K1) || !z.S.jm(z.yz))
                  return !1
      }
      return !0
  }
  ;
  j.i.I0 = function(n) {
      if (n.length != 7 || !j.i.Gc(n))
          return !1;
      for (var M = 0; M < 4; M++) {
          var z = !0;
          for (var C = 0; C < 4; C++) {
              var D = n[3 + (M + C & 3)]
                , F = n[3 + (M + C + 1 & 3)];
              if (D.S.x != F.S.x && D.S.y != F.S.y)
                  z = !1
          }
          if (z)
              return !0
      }
      return !1
  }
  ;
  j.i.Ey = {};
  j.i.Ey.S5 = function(n, z, C) {
      var D = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }]
        , F = null;
      D.push({
          type: C ? 3 : 0,
          fT: 1,
          length: 0,
          ve: 0,
          v4: 0,
          AB: 1
      });
      if (z == 0)
          F == null;
      else if (z instanceof Array)
          F = z;
      else {
          F = [];
          for (var M = 0; M < n.length; M += 2)
              F.push(z)
      }
      D = D.concat(j.i.G0(n, F, C));
      D[2].length = D.length - 3;
      return D
  }
  ;
  j.i.Ey.ac5 = function(n, z, C, D, F) {
      var X = []
        , E = []
        , f = .553
        , a = 1
        , q = -1;
      X.push({
          type: 1,
          K1: new ir(0,f),
          S: new ir(0,0),
          yz: new ir(0,-f)
      });
      F += 2;
      for (var M = 0; M < F; M++) {
          var c = {
              type: 1
          };
          if (M == 0) {
              c.S = new ir(1,-1);
              c.K1 = new ir(1 - f,-1);
              c.yz = new ir(1 + f,-1)
          } else {
              var K = -(M + 2) * Math.PI / 2
                , R = 1 + ((M & 1) == 1 ? M - 1 : M)
                , J = Math.sin(K)
                , w = Math.cos(K);
              a += R * (J - w);
              q += R * (w + J);
              c.S = new ir(a,q);
              c.K1 = new ir(a + R * w * f,q - R * J * f);
              if ((M & 1) == 1)
                  R += 2;
              c.yz = new ir(a - R * w * f,q + R * J * f)
          }
          var p = {
              type: 1,
              K1: new ir(-c.yz.x,-c.yz.y),
              S: new ir(-c.S.x,-c.S.y),
              yz: new ir(-c.K1.x,-c.K1.y)
          };
          X.push(c);
          if (M < F - 2)
              E.push(p)
      }
      E.reverse();
      X = X.concat(E);
      var I = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      I.push({
          type: 0,
          fT: 1,
          length: X.length,
          ve: 0,
          v4: 0,
          AB: 1
      });
      I = I.concat(X);
      var m = new b6(C / F,0,0,C / F,0,0);
      m.rotate(D);
      m.translate(n, z);
      j.i.i3(I, m);
      return I
  }
  ;
  j.i.Ey.Rect = function(n, z, C, D, F) {
      var X = [n, z, n + C, z, n + C, z + D, n, z + D];
      return j.i.Ey.S5(X, F)
  }
  ;
  j.i.Ey.Qe = function(n, z, C, D, F, X) {
      var E = []
        , f = 2 * Math.PI / F;
      for (var M = 0; M < F; M++)
          E.push(Math.cos(M * f), Math.sin(M * f));
      var a = new b6(C,0,0,C,0,0);
      a.rotate(D);
      a.translate(n, z);
      j.K.Z(E, a, E);
      return j.i.Ey.S5(E, X)
  }
  ;
  j.i.Ey.a5V = function(n, z, C, D, F, X, E) {
      var f = []
        , a = Math.PI / F;
      for (var M = 0; M < F * 2; M++) {
          var q = (M & 1) == 0 ? 1 : E;
          f.push(q * Math.cos(M * a), q * Math.sin(M * a))
      }
      var c = new b6(C,0,0,C,0,0);
      c.rotate(D);
      c.translate(n, z);
      j.K.Z(f, c, f);
      return j.i.Ey.S5(f, X)
  }
  ;
  j.i.Ey._l = function(n, z, C, D, F) {
      return j.i.Ey.Dz(0, n, z, C, D, F)
  }
  ;
  j.i.Ey.ajA = function(n, z, C, D, F, X) {
      return j.i.Ey.Dz(1, n, z, C, D, F, X)
  }
  ;
  j.i.Ey.Dz = function(n, z, C, D, F, X, E) {
      var f = Math.sqrt((D - z) * (D - z) + (F - C) * (F - C)), a;
      X /= 2;
      if (n == 0)
          a = [-X, 0, X, 0, X, f, -X, f];
      else {
          var q = X * 2 * E * 1.3 / 1.5
            , c = X * E;
          a = [-X, 0, X, 0, X, f - q, c, f - q, 0, f, -c, f - q, -X, f - q]
      }
      var K = new b6(1,0,0,1,0,0);
      K.rotate(Math.atan2(-F + C, D - z) + Math.PI / 2);
      K.translate(z, C);
      j.K.Z(a, K, a);
      return j.i.Ey.S5(a, 0)
  }
  ;
  j.i.Ey.mZ = function(n, z, C, D) {
      var F = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }]
        , K = .553;
      F.push({
          type: 0,
          fT: 1,
          length: 4,
          ve: 0,
          v4: 0,
          AB: 1
      });
      var X = n
        , E = z
        , f = n + C
        , a = z + D
        , n = (X + f) / 2
        , z = (E + a) / 2
        , q = (X - f) / 2
        , c = (E - a) / 2;
      F.push({
          type: 1,
          K1: new ir(n - K * q,z - c),
          S: new ir(n,z - c),
          yz: new ir(n + K * q,z - c)
      });
      F.push({
          type: 1,
          K1: new ir(n + q,z - K * c),
          S: new ir(n + q,z),
          yz: new ir(n + q,z + K * c)
      });
      F.push({
          type: 1,
          K1: new ir(n + K * q,z + c),
          S: new ir(n,z + c),
          yz: new ir(n - K * q,z + c)
      });
      F.push({
          type: 1,
          K1: new ir(n - q,z + K * c),
          S: new ir(n - q,z),
          yz: new ir(n - q,z - K * c)
      });
      return F
  }
  ;
  j.i.Ey.a7H = function(n, z, C, D, F) {
      var X = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      X.push({
          type: 3,
          fT: 1,
          length: 5,
          ve: 0,
          v4: 0,
          AB: 1
      });
      var E = (F - D) / 4;
      for (var M = 0; M < 5; M++) {
          var f = M * E
            , a = Math.cos(f)
            , q = Math.sin(f)
            , c = .553 * (E / (Math.PI / 2))
            , K = q * c
            , R = -a * c
            , J = new ir(a,q);
          X.push({
              type: 4,
              K1: M == 0 ? J.clone() : new ir(a + K,q + R),
              S: J,
              yz: M == 4 ? J.clone() : new ir(a - K,q - R)
          })
      }
      var w = new b6;
      w.rotate(-D);
      w.scale(C, C);
      w.translate(n, z);
      j.i.i3(X, w);
      return X
  }
  ;
  j.Y0 = {};
  j.Y0.type = {
      warpNone: [22, 5, 0],
      warpCustom: [22, 5, 16],
      warpArc: [22, 5, 1],
      warpArcLower: [22, 5, 2],
      warpArcUpper: [22, 5, 3],
      warpArch: [22, 5, 4],
      warpBulge: [22, 5, 5],
      warpShellLower: [22, 5, 6],
      warpShellUpper: [22, 5, 7],
      warpFlag: [22, 5, 8],
      warpWave: [22, 5, 9],
      warpFish: [22, 5, 10],
      warpRise: [22, 5, 11],
      warpFisheye: [22, 5, 12],
      warpInflate: [22, 5, 13],
      warpSqueeze: [22, 5, 14],
      warpTwist: [22, 5, 15]
  };
  j.Y0.Pb = function(n) {
      var z = n.warpStyle.v.warpStyle;
      if (z == "warpNone")
          return !0;
      else if (z == "warpCustom") {
          var C = !1
            , D = n.customEnvelopeWarp.v.meshPoints.v.arr
            , F = D[0].arr
            , X = D[1].arr;
          for (var M = 0; M < 4; M++)
              for (var E = 0; E < 4; E++) {
                  if (Math.abs(F[M] - F[E * 4 + M]) > 1 || Math.abs(X[M * 4] - X[M * 4 + E]) > 1)
                      C = !0
              }
          return !C
      } else
          return n.warpValue.v == 0 && n.warpPerspective.v == 0 && n.warpPerspectiveOther.v == 0
  }
  ;
  j.Y0.T = function(n) {
      var z = {
          classID: "warp",
          warpStyle: {
              t: "enum",
              v: {
                  warpStyle: "warpNone"
              }
          },
          warpValue: {
              t: "doub",
              v: 0
          },
          warpPerspective: {
              t: "doub",
              v: 0
          },
          warpPerspectiveOther: {
              t: "doub",
              v: 0
          },
          warpRotate: {
              t: "enum",
              v: {
                  Ornt: "Hrzn"
              }
          }
      };
      if (n) {
          z.bounds = {
              t: "Objc",
              v: {
                  classID: "Rctn",
                  Top: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: n.y
                      }
                  },
                  Left: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: n.x
                      }
                  },
                  Btom: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: n.y + n.v
                      }
                  },
                  Rght: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: n.x + n.d
                      }
                  }
              }
          };
          z.uOrder = {
              t: "long",
              v: 4
          };
          z.vOrder = {
              t: "long",
              v: 4
          }
      }
      return z
  }
  ;
  j.Y0.a8r = function(n, z, C, D) {
      for (var M = 0; M < n.length; M += 2) {
          var F = n[M]
            , X = n[M + 1]
            , E = (F - z.x) / z.d
            , f = (X - z.y) / z.v
            , a = (1 - C) / 2
            , q = 1 - a
            , c = a + E * (q - a);
          f = .5 + (f - .5) * c * 2;
          var K = (1 - D) / 2
            , R = 1 - K
            , J = K + f * (R - K);
          E = .5 + (E - .5) * J * 2;
          F = z.x + E * z.d;
          X = z.y + f * z.v;
          n[M] = F;
          n[M + 1] = X
      }
  }
  ;
  j.Y0.Mw = function(n, z) {
      var C = []
        , D = [];
      for (var M = 0; M < n.length; M += 2) {
          C.push(n[M]);
          D.push(n[M + 1])
      }
      var F = [];
      F.push({
          id: "Hrzn",
          type: "UnFl",
          uID: "#Pxl",
          arr: C
      });
      F.push({
          id: "Vrtc",
          type: "UnFl",
          uID: "#Pxl",
          arr: D
      });
      z.warpStyle.v.warpStyle = "warpCustom";
      z.customEnvelopeWarp = {
          t: "Objc",
          v: {
              classID: "customEnvelopeWarp",
              meshPoints: {
                  t: "ObAr",
                  v: {
                      classID: "rationalPoint",
                      arr: F
                  }
              }
          }
      }
  }
  ;
  j.Y0.ea = function(n, z) {
      if (z == null) {
          var C = n.bounds.v
            , D = C.Left.v.val
            , F = C.Rght.v.val
            , X = C.Top.v.val
            , E = C.Btom.v.val;
          z = new cc(D,X,F - D,E - X)
      }
      if (z.kX())
          z.d = z.v = 1;
      var f = []
        , a = n.warpStyle.v.warpStyle;
      if (a == "warpCustom") {
          var q = n.customEnvelopeWarp.v.meshPoints.v.arr
            , c = q[0].arr
            , K = q[1].arr;
          for (var M = 0; M < 16; M++)
              f.push(c[M], K[M])
      } else
          f = j.Y0.Y0(z, a, n.warpRotate.v.Ornt == "Hrzn", n.warpValue.v / 100, n.warpPerspective.v / 100, n.warpPerspectiveOther.v / 100);
      return f
  }
  ;
  j.Y0.Y0 = function(n, z, C, D, F, X) {
      var E = j._N.T(n.x, n.y, n.d, n.v);
      if (z == "warpNone")
          return E;
      var f = JSON.parse(JSON.stringify(n))
        , a = new b6;
      if (!C) {
          a.translate(-n.x, -n.y);
          a.rotate(-Math.PI / 2);
          a.translate(n.v, 0);
          j.K.Z(E, a, E);
          n = new cc(0,0,n.v,n.d);
          E = j._N.pd(E, !1)
      }
      j.Y0.a7u(E, n, z, D, F, X);
      if (!C) {
          E = j._N.pd(E, !0);
          n = f;
          a.eL();
          j.K.Z(E, a, E)
      }
      if (D == 0)
          j.Y0.a8r(E, n, F, X);
      else {
          var a = new b6(1 / n.d,0,0,1 / n.v,-n.x,-n.y);
          a.translate(-.5, -.5);
          j.K.Z(E, a, E);
          j.Y0.akw(E, X, F);
          a.eL();
          j.K.Z(E, a, E)
      }
      return E
  }
  ;
  j.Y0.a7u = function(n, z, C, D, F, X) {
      for (var M = 0; M < 4; M++) {
          for (var E = 0; E < 4; E++) {
              var f = 2 * (4 * M + E)
                , a = n[f] - z.x
                , q = n[f + 1] - z.y
                , c = a
                , K = q;
              if (D != 0) {
                  var R = z.d / 2
                    , J = z.v / 2;
                  c -= R;
                  K -= J;
                  var w = c
                    , p = c
                    , I = -J
                    , m = J
                    , A = Math.abs(D)
                    , U = Math.tan((1 - A) * Math.PI / 2)
                    , r = Math.sqrt(U * U + 1)
                    , $ = Math.atan2(1, U)
                    , k = c / R * $
                    , G = R * r
                    , i = R * r + z.v
                    , o = Math.cos($)
                    , S = Math.sin($)
                    , H = j.Y0.ac$(o, S)
                    , e = j.Y0.a40(o, S)
                    , V = -U * R + H * G;
                  if (C == "warpArc") {
                      w = Math.sin(k) * i;
                      I = U * R - Math.cos($) * i + J;
                      p = Math.sin(k) * G;
                      m = U * R - Math.cos($) * G + J;
                      if (E == 1 || E == 2) {
                          w = E == 1 ? -e * i : e * i;
                          p = E == 1 ? -e * G : e * G;
                          I = U * R + J - H * i;
                          m = U * R + J - H * G
                      }
                      if (D < 0) {
                          var v = w;
                          w = p;
                          p = v;
                          v = I;
                          I = -m;
                          m = -v
                      }
                  }
                  if (C == "warpArcLower") {
                      if (E == 1 || E == 2) {
                          p = E == 1 ? -e * G : e * G;
                          m = D < 0 ? J - V : J + V
                      }
                  }
                  if (C == "warpArcUpper" || C == "warpArch" || C == "warpBulge") {
                      if (E == 1 || E == 2) {
                          w = E == 1 ? -e * G : e * G;
                          I = D < 0 ? -J + V : -J - V
                      }
                      if (C == "warpArch") {
                          p = w;
                          m = I + 2 * J
                      }
                      if (C == "warpBulge") {
                          p = w;
                          m = -I
                      }
                  }
                  if (C == "warpFish" || C == "warpFlag" || C == "warpWave") {
                      if (E == 1) {
                          I -= D * 4 * J;
                          m += D * 4 * J
                      }
                      if (E == 2) {
                          I += D * 4 * J;
                          m -= D * 4 * J
                      }
                      if (C == "warpFlag" || C == "warpWave")
                          I = m - 2 * J
                  }
                  if (C == "warpRise") {
                      if (E < 2)
                          I = -J + D * J * 4;
                      m = I + 2 * J
                  }
                  var B = (K + J) / z.v;
                  c = w + B * (p - w);
                  K = I + B * (m - I);
                  if (C == "warpWave") {
                      if (M == 0)
                          K = -J;
                      if (M == 3)
                          K = J;
                      if (M == 1 || M == 2)
                          K = 2 * J * (M / 3 - .5) * (1 / 3) + K * (2 / 3)
                  }
                  if (C == "warpFisheye") {
                      if ((M == 1 || M == 2) && (E == 1 || E == 2)) {
                          c = c + 4 * c * D;
                          K = K + 4 * K * D
                      }
                  }
                  if (C == "warpInflate") {
                      var Z = 2 / 3;
                      if ((M == 1 || M == 2) && (E == 1 || E == 2)) {
                          c = c + .5 * c * D;
                          K = K + .5 * K * D
                      } else if (M == 1 || M == 2)
                          c = c + Z * c * D;
                      else if (E == 1 || E == 2)
                          K = K + Z * K * D
                  }
                  if (C == "warpSqueeze") {
                      var Z = 2 / 3;
                      if ((M == 1 || M == 2) && (E == 1 || E == 2)) {
                          if (D > 0)
                              c = c - Z * c * D;
                          else
                              K = K + Z * K * D
                      } else if (M == 1 || M == 2)
                          c = c - Z * c * D;
                      else if (E == 1 || E == 2)
                          K = K + Z * K * D
                  }
                  if (C == "warpTwist") {
                      if ((M == 1 || M == 2) && (E == 1 || E == 2)) {
                          var d = D * Math.PI / 2
                            , r = 1 + Math.abs(D) * 2
                            , g = c * Math.cos(d) - K * Math.sin(d)
                            , Y = c * Math.sin(d) + K * Math.cos(d);
                          c = g * r;
                          K = Y * r
                      }
                  }
                  if (C == "warpShellLower" || C == "warpShellUpper") {
                      if (C == "warpShellUpper") {
                          M = 3 - M;
                          K = -K
                      }
                      if (M > 2 || M == 2 && (E == 0 || E == 3)) {
                          if (D > 0) {
                              var y = G + M / 3 * 2 * J;
                              c = Math.sin(k) * y;
                              K = -U * R - J + Math.cos(k) * y;
                              if (E == 1 || E == 2) {
                                  c = E == 1 ? -e * y : e * y;
                                  K = -U * R - J + H * y
                              }
                          } else {
                              if ((E == 1 || E == 2) && M == 3) {
                                  c = E == 1 ? -e * G : e * G;
                                  K = U * R - H * G + J
                              } else if (M == 2) {
                                  K = J - J * (2 / 3) * Math.cos(k);
                                  c = c + J * (2 / 3) * Math.sin(k)
                              }
                          }
                      }
                      if (C == "warpShellUpper") {
                          M = 3 - M;
                          K = -K
                      }
                  }
                  c += R;
                  K += J
              }
              a = c,
              q = K;
              n[f] = a + z.x;
              n[f + 1] = q + z.y
          }
      }
  }
  ;
  j.Y0.akw = function(n, z, C) {
      var D = [];
      for (var F = 0; F < 4; F++)
          D.push(1 - C + F / 3 * 2 * C);
      var X = [];
      for (var F = 0; F < 4; F++)
          X.push(1 - z + F / 3 * 2 * z);
      var E = [0, 0, 0, 0]
        , f = [0, 0, 0, 0];
      for (var M = 0; M < 4; M++)
          for (var F = 0; F < 4; F++) {
              var a = 2 * (4 * M + F)
                , q = n[a]
                , c = n[a + 1];
              E[F] += q / 4;
              f[F] += c / 4
          }
      for (var M = 0; M < 4; M++)
          for (var F = 0; F < 4; F++) {
              var K = D[F]
                , a = 2 * (4 * M + F)
                , q = n[a]
                , c = n[a + 1]
                , R = E[F]
                , J = f[F];
              n[a] = R + K * (q - R);
              n[a + 1] = J + K * (c - J)
          }
      var w = n.slice(0);
      for (var M = 0; M < 4; M++)
          for (var F = 1; F < 3; F++) {
              var a = 2 * (4 * M + F)
                , q = n[a]
                , c = n[a + 1]
                , p = a + (F == 1 ? -2 : 2)
                , I = n[p]
                , m = n[p + 1];
              n[a] = q - I;
              n[a + 1] = c - m
          }
      var A = n[0]
        , U = n[1]
        , r = n[8]
        , $ = n[9]
        , k = n[16]
        , G = n[17]
        , i = n[24]
        , o = n[25]
        , S = n[6]
        , H = n[7]
        , e = n[14]
        , V = n[15]
        , v = n[22]
        , B = n[23]
        , Z = n[30]
        , d = n[31]
        , g = S - A
        , Y = H - U
        , y = e - r
        , L = V - $
        , _ = v - k
        , b = B - G
        , x = Z - i
        , W = d - o;
      for (var M = 0; M < 4; M++) {
          var g6 = 2 * M * 4
            , fY = 0
            , f3 = 0
            , hK = M == 1 ? .33 : .66
            , s = 1 - hK;
          if (M == 0) {
              fY = g;
              f3 = Y
          }
          if (M == 1) {
              fY = s * g + hK * -x;
              f3 = s * Y + hK * -W
          }
          if (M == 2) {
              fY = s * g + hK * -x;
              f3 = s * Y + hK * -W
          }
          if (M == 3) {
              fY = -x;
              f3 = -W
          }
          n[g6] = n[g6] + fY / 2;
          n[g6 + 1] = n[g6 + 1] + f3 / 2;
          n[g6 + 6] = n[g6 + 6] - fY / 2;
          n[g6 + 7] = n[g6 + 7] - f3 / 2
      }
      for (var M = 0; M < 4; M++)
          for (var F = 1; F < 3; F++) {
              var a = 2 * (4 * M + F)
                , q = n[a]
                , c = n[a + 1]
                , p = a + (F == 1 ? -2 : 2)
                , I = n[p]
                , m = n[p + 1]
                , K = 2 * M / 3;
              n[a] = I + K * q;
              n[a + 1] = m + K * c
          }
      for (var M = 1; M < 3; M++)
          for (var F = 1; F < 3; F++) {
              var a = 2 * (4 * M + F)
                , q = n[a]
                , c = n[a + 1]
                , P = M == 1 ? -8 : -16
                , aF = M == 1 ? 16 : 8
                , fM = n[a + P]
                , eA = n[a + P + 1]
                , e8 = n[a + aF]
                , eC = n[a + aF + 1]
                , K = M / 3;
              q = (1 - K) * fM + K * e8;
              c = (1 - K) * eA + K * eC;
              n[a] = q;
              n[a + 1] = c
          }
      j.K.E2(w, n, n, z)
  }
  ;
  j.Y0.ac$ = function(n, z) {
      return (4 - n) * (1 / 3)
  }
  ;
  j.Y0.a40 = function(n, z) {
      return (1 - n) * (3 - n) / (3 * z)
  }
  ;
  j.mx = {};
  j.mx.a1O = function(n, z, C, D, F, X, E, f, a, q) {
      for (var c = 0; c < f; c++)
          for (var K = 0; K < E; K++) {
              var R = 3 * (c * E + K)
                , J = c + X
                , w = K + F
                , p = n[J * z + w];
              D[R] = p;
              D[R + 1] = p;
              D[R + 2] = p
          }
  }
  ;
  j.mx.Dh = function(n, z, C, D, F, X, E, f, a, q) {
      var c = [0, 1, 1 / 2, 1 / 3, 1 / 4, 1 / 5, 1 / 6, 1 / 7, 1 / 8, 1 / 9]
        , K = 1 / a
        , R = [-1, -1, 0, -1, 1, -1, -1, 0, 1, 0, -1, 1, 0, 1, 1, 1]
        , J = new Uint32Array(6);
      for (var w = 0; w < f; w++) {
          for (var p = 0; p < E; p++) {
              var I = 3 * (w * E + p)
                , m = w + X
                , A = p + F;
              J[0] = 0;
              J[1] = 0;
              J[2] = 0;
              J[3] = 0;
              J[4] = 0;
              J[5] = 0;
              for (var M = 0; M < 16; M += 2) {
                  var U = A + R[M]
                    , r = m + R[M + 1]
                    , $ = U - a * ~~(U * K)
                    , k = r - a * ~~(r * K)
                    , G = q[k * a + $];
                  J[G] += n[r * z + U];
                  J[G + 3]++
              }
              var U = A
                , r = m
                , $ = U - a * ~~(U * K)
                , k = r - a * ~~(r * K)
                , G = q[k * a + $];
              J[G] = n[m * z + A];
              J[G + 3] = 1;
              D[I] = J[0] * c[J[3]];
              D[I + 1] = J[1] * c[J[4]];
              D[I + 2] = J[2] * c[J[5]]
          }
      }
  }
  ;
  j.mx.Ht = function(n, z, C) {
      for (var M = 0; M < C; M += 2)
          n[z + M] = n[z + M + 1];
      z = z + C;
      for (var M = 0; M < C; M += 2)
          n[z + M + 1] = n[z + M]
  }
  ;
  j.mx.hY = function(n, z, C, D) {
      for (var M = 0; M < D; M += 2) {
          var F = z + M * C;
          n[F] = n[F + C];
          n[F + C + 1] = n[F + 1]
      }
  }
  ;
  j.mx.RJ = function(n, z, C, D, F, X) {
      var E = D[F]
        , f = D[F + 1]
        , a = D[X]
        , q = D[X + 1]
        , c = f + a >>> 1;
      n[z] = n[z + 3] = n[C] = n[C + 3] = E;
      n[z + 1] = c;
      n[z + 4] = f;
      n[C + 1] = a;
      n[C + 4] = c;
      n[z + 2] = n[z + 5] = n[C + 2] = n[C + 5] = q
  }
  ;
  j.mx.aiz = function(n, z, C, D, F, X) {
      var E = X * 3;
      for (var M = 0; M < X; M += 2) {
          var f = z + M
            , a = F + M * 3;
          j.mx.RJ(D, a, a + E, n, f, f + C)
      }
  }
  ;
  j.mx.a6_ = function(n, z, C, D, F, X, E) {
      var f = X * 3;
      for (var M = 0; M < E; M += 2) {
          var a = z + M * C
            , q = F + M * X * 3;
          j.mx.RJ(D, q, q + f, n, a, a + C)
      }
  }
  ;
  j.mx.Qj = function(n, M, z) {
      var C = n[M - z - z]
        , D = n[M - z]
        , F = n[M - 2]
        , X = n[M - 1]
        , E = n[M]
        , f = n[M + 1]
        , a = n[M + 2]
        , q = n[M + z]
        , c = n[M + z + z]
        , K = Math.abs(D - q)
        , R = Math.abs(X - f)
        , J = Math.abs(E - C) * 2 + K
        , w = Math.abs(E - a) * 2 + R
        , p = Math.abs(E - F) * 2 + R
        , A = Math.abs(E - c) * 2 + K
        , U = Math.min(J, Math.min(w, Math.min(p, A)));
      if (U == J)
          return D * 3 + q + E - C >> 2;
      if (U == w)
          return f * 3 + X + E - a >> 2;
      if (U == p)
          return X * 3 + f + E - F >> 2;
      return q * 3 + D + E - c >> 2
  }
  ;
  j.mx.Q1 = function(n, z, C, D, F) {
      if (n < z && z < C || n > z && z > C)
          return ~~(.5 + D + (F - D) * (z - n) / (C - n));
      else
          return (D + F >> 1) + (z + z - n - C >> 2)
  }
  ;
  j.mx.X7 = function(n, z, M, C) {
      var D = z[M - C - 1]
        , F = z[M - C + 1]
        , X = z[M]
        , E = z[M + C - 1]
        , f = z[M + C + 1]
        , a = n[M - C - 1]
        , q = n[M - C + 1]
        , c = n[M]
        , K = n[M + C - 1]
        , R = n[M + C + 1]
        , J = Math.abs(q - K) + Math.abs(n[M - C - C + 2] - c) + Math.abs(c - n[M + C + C - 2]) + Math.abs(F - X) + Math.abs(X - E)
        , w = Math.abs(a - R) + Math.abs(n[M - C - C - 2] - c) + Math.abs(c - n[M + C + C + 2]) + Math.abs(D - X) + Math.abs(X - f);
      if (J < w)
          return j.mx.Q1(F, X, E, q, K);
      else
          return j.mx.Q1(D, X, f, a, R)
  }
  ;
  j.mx.BY = function(n, z, C, D, F, X) {
      n[z + 0] = C[F];
      n[z + 1] = D[F];
      n[z + 2] = j.mx.X7(C, D, F, X)
  }
  ;
  j.mx.aG = function(n, z, C, D, F, X) {
      var E = D[F];
      n[z + 0] = j.mx.Q1(D[F - 1], E, D[F + 1], C[F - 1], C[F + 1]);
      n[z + 1] = E;
      n[z + 2] = j.mx.Q1(D[F - X], E, D[F + X], C[F - X], C[F + X])
  }
  ;
  j.mx.x3 = function(n, z, C, D, F, X) {
      var E = D[F];
      n[z + 0] = j.mx.Q1(D[F - X], E, D[F + X], C[F - X], C[F + X]);
      n[z + 1] = E;
      n[z + 2] = j.mx.Q1(D[F - 1], E, D[F + 1], C[F - 1], C[F + 1])
  }
  ;
  j.mx.ck = function(n, z, C, D, F, X) {
      n[z + 0] = j.mx.X7(C, D, F, X);
      n[z + 1] = D[F];
      n[z + 2] = C[F]
  }
  ;
  j.mx.a0_ = function(n, z, C, D, F, X, E, f, a) {
      var q = Date.now()
        , c = 2
        , K = z - 2
        , R = 2;
      if ((F & 1) == 1) {
          c++;
          K--
      }
      var J = C - 2;
      if ((X & 1) == 1) {
          R++;
          J--
      }
      if (a == 1 || a == 3) {
          c++;
          K--
      }
      var w = n.slice(0);
      j.mx.Ht(w, 0, z);
      j.mx.hY(w, 0, z, C);
      j.mx.hY(w, z - 2, z, C);
      j.mx.Ht(w, (C - 2) * z, z);
      for (var p = R; p < J; p += 2)
          for (var I = c; I < K; I += 2) {
              var M = p * z + I
                , m = j.mx.Qj(w, M, z)
                , A = j.mx.Qj(w, M + z + 1, z);
              w[M] = Math.max(0, m);
              w[M + z + 1] = Math.max(0, A)
          }
      var U = E
        , r = f;
      if (X + f == C) {
          r -= 2;
          j.mx.aiz(n, (C - 2) * z + F, z, D, (f - 2) * E * 3, E)
      }
      if (F + E == z) {
          U -= 2;
          j.mx.a6_(n, X * z + F + E - 2, z, D, (E - 2) * 3, E, f)
      }
      if (a == 0)
          for (var p = 0; p < r; p += 2)
              for (var I = 0; I < U; I += 2) {
                  var $ = (p + X) * z + I + F
                    , k = (p * E + I) * 3;
                  j.mx.BY(D, k, n, w, $, z);
                  j.mx.aG(D, k + 3, n, w, $ + 1, z);
                  $ += z;
                  k += 3 * E;
                  j.mx.x3(D, k, n, w, $, z);
                  j.mx.ck(D, k + 3, n, w, $ + 1, z)
              }
      else if (a == 1)
          for (var p = 0; p < r; p += 2)
              for (var I = 0; I < U; I += 2) {
                  var $ = (p + X) * z + I + F
                    , k = (p * E + I) * 3;
                  j.mx.aG(D, k, n, w, $, z);
                  j.mx.BY(D, k + 3, n, w, $ + 1, z);
                  $ += z;
                  k += 3 * E;
                  j.mx.ck(D, k, n, w, $, z);
                  j.mx.x3(D, k + 3, n, w, $ + 1, z)
              }
      else if (a == 2)
          for (var p = 0; p < r; p += 2)
              for (var I = 0; I < U; I += 2) {
                  var $ = (p + X) * z + I + F
                    , k = (p * E + I) * 3;
                  j.mx.ck(D, k, n, w, $, z);
                  j.mx.x3(D, k + 3, n, w, $ + 1, z);
                  $ += z;
                  k += 3 * E;
                  j.mx.aG(D, k, n, w, $, z);
                  j.mx.BY(D, k + 3, n, w, $ + 1, z)
              }
      else if (a == 3)
          for (var p = 0; p < r; p += 2)
              for (var I = 0; I < U; I += 2) {
                  var $ = (p + X) * z + I + F
                    , k = (p * E + I) * 3;
                  j.mx.x3(D, k, n, w, $, z);
                  j.mx.ck(D, k + 3, n, w, $ + 1, z);
                  $ += z;
                  k += 3 * E;
                  j.mx.BY(D, k, n, w, $, z);
                  j.mx.aG(D, k + 3, n, w, $ + 1, z)
              }
  }
  ;
  j.raw = {};
  j.raw.a7n = function(n) {
      var z = n.width
        , C = n.height
        , D = Date.now()
        , F = j.raw.a9w(n)
        , X = 0
        , E = 0;
      j.raw.hA(2, n, F, z, C);
      var f = z
        , a = C;
      if (n.t50829) {
          var q = n.t50829;
          X = q[1];
          E = q[0];
          f = q[3];
          a = q[2]
      }
      if (n.t50719) {
          var c = n.t50719;
          X += c[0] >> 1 << 1;
          E += c[1] >> 1 << 1
      }
      if (n.t50720) {
          var K = n.t50720;
          f = X + K[0];
          a = E + K[1]
      }
      var R = f - X
        , J = a - E
        , w = new Float32Array(R * J * 3);
      if (n.t277[0] == 1) {
          var p = n.t33421;
          if (p == null) {
              j.mx.a1O(F, z, C, w, X, E, R, J)
          } else if (p.length != 2 || p[0] != 2 || p[1] != 2) {
              console.log("Unknown CFA pattern size", p);
              j.mx.Dh(F, z, C, w, X, E, R, J, p[0], n.t33422)
          } else {
              var I = n.t33422.join(",")
                , m = 0;
              if (I == "0,1,1,2")
                  m = 0;
              else if (I == "1,0,2,1")
                  m = 1;
              else if (I == "2,1,1,0")
                  m = 2;
              else if (I == "1,2,0,1")
                  m = 3;
              else
                  throw "Unknown CFA pattern " + I;
              if ((R & 1) != 0 || (J & 1) != 0)
                  throw "e";
              j.mx.a0_(F, z, C, w, X, E, R, J, m)
          }
      } else {
          for (var A = 0; A < J; A++)
              for (var U = 0; U < R; U++) {
                  var r = ((A + E) * z + U + X) * 3
                    , $ = (A * R + U) * 3;
                  w[$ + 0] = F[r + 0];
                  w[$ + 1] = F[r + 1];
                  w[$ + 2] = F[r + 2]
              }
      }
      var k = w
        , G = w.length
        , i = j.raw.a0F(n)
        , o = 1 / i;
      for (var M = 0; M < G; M += 3) {
          w[M] = Math.min(1, k[M] * o);
          w[M + 1] = Math.min(1, k[M + 1] * o);
          w[M + 2] = Math.min(1, k[M + 2] * o)
      }
      j.raw.hA(3, n, w, R, J);
      var S = n.hg
        , H = R
        , e = J;
      if (S == 1 || S == 9) {} else {
          var V = j.raw.hf(S, R, J)
            , $ = 0;
          H = V[0];
          e = V[1];
          var v = w.slice(0);
          for (var A = 0; A < e; A++)
              for (var U = 0; U < H; U++) {
                  var B = V[2] * U + V[3] * A + V[4]
                    , Z = V[5] * U + V[6] * A + V[7]
                    , r = (Z * R + B) * 3;
                  w[$] = v[r];
                  w[$ + 1] = v[r + 1];
                  w[$ + 2] = v[r + 2];
                  $ += 3
              }
      }
      return {
          oz: w,
          js: H,
          Xr: e
      }
  }
  ;
  j.raw.hf = function(n, z, C) {
      var D = z
        , F = C;
      if (!1) {} else if (n == 2)
          return [z, C, -1, 0, z - 1, 0, 1, 0];
      else if (n == 3)
          return [z, C, -1, 0, z - 1, 0, -1, C - 1];
      else if (n == 4)
          return [z, C, 1, 0, 0, 0, -1, C - 1];
      else if (n == 5)
          return [C, z, 0, 1, 0, 1, 0, 0];
      else if (n == 6)
          return [C, z, 0, 1, 0, -1, 0, C - 1];
      else if (n == 7)
          return [C, z, 0, -1, z - 1, -1, 0, C - 1];
      else if (n == 8)
          return [C, z, 0, -1, z - 1, 1, 0, 0];
      else
          throw "unknown orientation " + n
  }
  ;
  j.raw.eP = function(n, z, C, D) {
      var F = n.oz
        , X = Math.round(F.length / 3)
        , E = ca.ah1(D[0], D[1])
        , f = j.raw.a7Z(C, E)
        , a = j.es.multiply(j.es.o8, f)
        , q = Math.pow(2, D[2] + (C.t50730 ? C.t50730[0] : 0));
      a = j.es.multiply(a, j.es.Nw(q, q, q));
      var c = C.t50728 ? C.t50728 : [1, 1, 1]
        , K = [c[1] / c[0], c[2] / c[0], c[0] / c[1], c[2] / c[1], c[0] / c[2], c[1] / c[2]]
        , R = new Float64Array(1e3);
      for (var M = 0; M < 1e3; M++) {
          var J = M * (1 / 999);
          J = M == 999 ? 1 : j.z0(M * (1 / 999));
          J = j.raw.N4.ag6(J, D[3] / 100);
          R[M] = J
      }
      var w = Date.now();
      for (var M = 0; M < X; M++) {
          var p = M << 2
            , I = p - M
            , m = F[I]
            , A = F[I + 1]
            , U = F[I + 2];
          if (A >= .92) {
              var r = Math.min(m, U);
              if (r == m) {
                  A = Math.max(A, K[0] * m);
                  U = Math.max(U, K[1] * m)
              } else {
                  m = Math.max(m, K[4] * U);
                  A = Math.max(A, K[5] * U)
              }
          }
          var $ = a[0] * m + a[1] * A + a[2] * U
            , k = a[4] * m + a[5] * A + a[6] * U
            , G = a[8] * m + a[9] * A + a[10] * U;
          if ($ < 0)
              $ = 0;
          else if ($ > 1)
              $ = 1;
          if (k < 0)
              k = 0;
          else if (k > 1)
              k = 1;
          if (G < 0)
              G = 0;
          else if (G > 1)
              G = 1;
          $ = R[~~($ * 999)];
          k = R[~~(k * 999)];
          G = R[~~(G * 999)];
          z[p] = ~~(.5 + $ * 255);
          z[p + 1] = ~~(.5 + k * 255);
          z[p + 2] = ~~(.5 + G * 255)
      }
  }
  ;
  j.raw.N4 = {
      ag6: function(n, z) {
          var C = .5 - .5 * Math.cos(n * 3.2)
            , D = 0;
          if (z > 0) {
              var F = n * .2;
              D = F * n + (1 - F) * C
          } else {
              var X = Math.pow(n, .33);
              D = (1 - X) * X + X * (n + (n - C) * .63)
          }
          var E = Math.abs(z);
          return E * D + (1 - E) * n
      },
      a5o: function(n, z) {
          var C = 0;
          if (z > 0) {
              var D = n * 1.47
                , F = Math.pow(n, 2.4);
              C = Math.min(1, F * n + (1 - F) * D)
          } else {
              var D = n * .68
                , F = Math.pow(n, 3);
              C = F * n * .5 + (1 - F) * D
          }
          var X = Math.abs(z);
          return X * C + (1 - X) * n
      },
      ai2: function(n, z) {
          var C = 0;
          if (z > 0) {
              var D = Math.pow(n, .3)
                , F = n;
              C = (1 - n) * D + n * F
          } else {
              var D = Math.pow(n, 2.5)
                , X = n
                , F = n;
              C = Math.min(1, (1 - X) * D + X * F)
          }
          var E = Math.abs(z);
          return E * C + (1 - E) * n
      }
  };
  j.raw.a9w = function(n) {
      var z = n.width
        , C = n.height
        , D = z * C * n.t277
        , F = new Uint16Array(D)
        , X = null
        , E = 0;
      j.raw.al9(n, F);
      j.raw.hA(1, n, F, z, C);
      if (n.t50712) {
          X = n.t50712;
          E = X.length - 1;
          if (X[E] > 65535)
              throw "too big values"
      }
      var f = j.raw.kU(n)
        , a = j.raw.dg(n);
      if (X == null)
          for (var M = 0; M < D; M++)
              F[M] = Math.max(0, F[M] - f);
      else
          for (var M = 0; M < D; M++) {
              var q = F[M];
              if (q > E)
                  q = E;
              q = X[q];
              F[M] = Math.max(0, q - f)
          }
      return F
  }
  ;
  j.raw.kU = function(n) {
      var z = n.t50714
        , C = z ? z[0] : 0
        , D = n.t50715
        , F = n.t50716;
      if (D)
          C += D[0][0] / D[0][1];
      if (F)
          C += F[0][0] / F[0][1];
      return Math.round(C)
  }
  ;
  j.raw.dg = function(n) {
      var z = null
        , C = 0;
      if (n.t50712) {
          z = n.t50712;
          C = z.length - 1
      }
      var D = n.t50717 ? n.t50717[0] : (1 << n.t258[0]) - 1;
      if (z)
          D = Math.min(D, z[C]);
      return D
  }
  ;
  j.raw.a0F = function(n) {
      var z = j.raw.kU(n)
        , C = j.raw.dg(n);
      return C - z
  }
  ;
  j.raw.al9 = function(n, z) {
      var C = z.length
        , D = n.data
        , F = n.t258[0];
      if (F != 16 && F != 14 && F != 12 && F != 10 && F != 8)
          throw "Unsupported Bits Per Sample:" + F;
      F = Math.round(D.length * 8 / C);
      if (F == 16 && n.isLE) {
          j.YY(D, z);
          return
      }
      for (var M = 0; M < C; M += 2) {
          var X = 0
            , E = 0
            , f = 0;
          if (F == 16) {
              X = M << 1;
              E = D[X] << 8 | D[X + 1];
              f = D[X + 2] << 8 | D[X + 3]
          } else if (F == 14) {
              var a = M * 14
                , q = a >>> 3
                , c = D[q] << 24 | D[q + 1] << 16 | D[q + 2] << 8 | D[q + 3];
              if ((a & 7) == 0) {
                  E = c >>> 18;
                  f = c >>> 4 & 16383
              } else {
                  E = c >>> 14 & 16383;
                  f = c & 16383
              }
          } else if (F == 12) {
              X = M + (M >>> 1);
              E = D[X] << 4 | D[X + 1] >> 4;
              f = (D[X + 1] & 15) << 8 | D[X + 2]
          } else if (F == 10) {
              var a = M * 10
                , q = a >>> 3;
              if ((a & 7) == 0) {
                  E = (D[q] << 2 | D[q + 1] >> 6) & 1023;
                  f = (D[q + 1] << 4 | D[q + 2] >> 4) & 1023
              } else {
                  E = (D[q] << 6 | D[q + 1] >> 2) & 1023;
                  f = (D[q + 1] << 8 | D[q + 2] >> 0) & 1023
              }
          } else if (F == 8) {
              X = M;
              E = D[X];
              f = D[X + 1]
          }
          z[M] = E;
          z[M + 1] = f
      }
  }
  ;
  j.raw.hA = function(n, z, C, D, F) {
      var X = z["t" + [51008, 51009, 51022][n - 1]]
        , c = 0;
      if (X == null)
          return;
      var E = D * F
        , f = T.q
        , a = T.C9
        , q = new Uint8Array(X)
        , gb = T.q(q, c);
      c += 4;
      for (var K = 0; K < gb; K++) {
          var R = f(q, c);
          c += 4;
          var J = f(q, c);
          c += 4;
          var w = f(q, c);
          c += 4;
          var p = f(q, c);
          c += 4;
          if (!1) {} else if (R == 1 && n == 3) {
              var I = c
                , m = f(q, I);
              I += 4;
              var A = a(q, I);
              I += 8;
              var U = a(q, I);
              I += 8;
              var r = a(q, I);
              I += 8;
              var $ = a(q, I);
              I += 8;
              var k = a(q, I);
              I += 8;
              var G = a(q, I);
              I += 8;
              I += (m - 1) * 8 * 6;
              var i = a(q, I);
              I += 8;
              var o = a(q, I);
              I += 8;
              var S = i * D
                , H = o * F
                , e = Math.max(S, D - S)
                , V = Math.max(H, F - H)
                , v = Math.sqrt(e * e + V * V)
                , B = 1 / v
                , Z = C.slice(0);
              for (var d = 0; d < F; d++)
                  for (var g = 0; g < D; g++) {
                      var Y = (g + .5 - S) * B
                        , y = (d + .5 - H) * B
                        , L = Y * Y + y * y
                        , _ = A + U * L + r * (L * L) + $ * (L * L) * L
                        , b = k * (2 * Y * y) + G * (L + 2 * Y * Y)
                        , x = G * (2 * Y * y) + k * (L + 2 * y * y)
                        , W = ~~(S + v * (_ * Y + b))
                        , g6 = ~~(H + v * (_ * y + x))
                        , fY = (g6 * D + W) * 3
                        , f3 = (d * D + g) * 3;
                      C[f3] = Z[fY];
                      C[f3 + 1] = Z[fY + 1];
                      C[f3 + 2] = Z[fY + 2]
                  }
          } else if (R == 3 && n == 3) {
              var I = c
                , hK = a(q, I);
              I += 8;
              var s = a(q, I);
              I += 8;
              var P = a(q, I);
              I += 8;
              var aF = a(q, I);
              I += 8;
              var fM = a(q, I);
              I += 8;
              var i = a(q, I);
              I += 8;
              var o = a(q, I);
              I += 8;
              var S = i * D
                , H = o * F
                , e = Math.max(S, D - S)
                , V = Math.max(H, F - H)
                , v = Math.sqrt(e * e + V * V)
                , B = 1 / v;
              for (var d = 0; d < F; d++)
                  for (var g = 0; g < D; g++) {
                      var Y = (g + .5 - S) * B
                        , y = (d + .5 - H) * B
                        , L = Y * Y + y * y
                        , eA = 1 + (hK + (s + (P + (aF + fM * L) * L) * L) * L) * L
                        , f3 = (d * D + g) * 3;
                      C[f3] = eA * C[f3];
                      C[f3 + 1] = eA * C[f3 + 1];
                      C[f3 + 2] = eA * C[f3 + 2]
                  }
          } else if (R == 4 && n == 1) {
              var I = c
                , e8 = f(q, I);
              I += 4;
              var eC = f(q, I);
              I += 4;
              for (var M = 0; M < E; M++)
                  if (C[M] == e8)
                      C[M] = C[M - 2] + C[M + 2] >> 1
          } else if (R == 5 && n == 1) {
              var I = c
                , cy = f(q, I);
              I += 4;
              var aX = f(q, I);
              I += 4;
              var j0 = f(q, I);
              I += 4;
              for (var M = 0; M < aX; M++) {
                  var aT = f(q, I);
                  I += 4;
                  var a4 = f(q, I);
                  I += 4;
                  var M = aT * D + a4;
                  C[M] = C[M - 2] + C[M + 2] >> 1
              }
          } else if (R == 7 && n == 1) {
              var I = c
                , f8 = T.MX(q, I);
              I += 16;
              var b3 = f(q, I);
              I += 4;
              var gh = f(q, I);
              I += 4;
              var cZ = f(q, I)
                , h3 = f(q, I + 4);
              I += 8;
              var ew = f(q, I);
              I += 4;
              var dy = new Uint16Array(ew);
              for (var M = 0; M < ew; M++)
                  dy[M] = T.ij(q, I + 2 * M);
              var fx = f8.d
                , bo = f8.v;
              for (var d = 0; d < bo; d += cZ)
                  for (var g = 0; g < fx; g += h3) {
                      var M = (f8.y + d) * D + (f8.x + g);
                      C[M] = dy[C[M]]
                  }
          } else if (R == 9 && n == 2) {
              var I = c
                , f8 = T.MX(q, I)
                , a1 = !0;
              I += 16;
              var b3 = f(q, I);
              I += 4;
              var gh = f(q, I);
              I += 4;
              var cZ = f(q, I)
                , h3 = f(q, I + 4);
              I += 8;
              var hd = f(q, I)
                , gT = f(q, I + 4);
              I += 8;
              var du = a(q, I)
                , bk = a(q, I + 8);
              I += 16;
              var i8 = a(q, I)
                , en = a(q, I + 8);
              I += 16;
              var dW = f(q, I);
              I += 4;
              if (dW != 1)
                  throw "more than one map plane";
              var ix = hd * gT
                , dU = new Float32Array(ix);
              for (var hN = 0; hN < ix; hN++)
                  dU[hN] = T.$g(q, I + hN * 4);
              for (var hN = 0; hN < ix; hN++)
                  if (dU[hN] != 1)
                      a1 = !1;
              if (!a1) {
                  var fx = f8.d
                    , bo = f8.v
                    , hk = .9999 * (gT - 1) / fx
                    , ax = .9999 * (hd - 1) / bo;
                  for (var d = 0; d < bo; d += cZ)
                      for (var g = 0; g < fx; g += h3) {
                          var M = (f8.y + d) * D + (f8.x + g)
                            , ej = g * hk
                            , bz = d * ax
                            , fq = Math.floor(ej)
                            , cg = Math.floor(bz)
                            , iw = ej - fq
                            , fD = bz - cg
                            , f3 = cg * gT + fq
                            , g8 = dU[f3] * (1 - iw) + dU[f3 + 1] * iw
                            , ap = dU[f3 + gT] * (1 - iw) + dU[f3 + 1 + gT] * iw
                            , c8 = g8 * (1 - fD) + ap * fD;
                          C[M] = ~~(C[M] * c8 + .5)
                      }
              }
          } else
              console.log("Unknown opcode " + R + " in OpcodeList" + n + ". Length: " + p);
          c += p
      }
  }
  ;
  j.raw.a7Z = function(n, z) {
      var C = ca._m(z)
        , D = j.raw.S3(n, z)
        , F = j.es.eL(D)
        , X = ca.ahO(C, ca._m(ca.a67))
        , E = j.es.multiply(X, F);
      return E
  }
  ;
  j.raw.aqm = function(n) {
      var z = (n.t50728 ? n.t50728 : [1, 1, 1]).slice(0)
        , D = 1;
      z.push(0);
      var C = {
          x: .34567,
          y: .3585
      };
      do {
          var F = j.es.eL(j.raw.S3(n, C))
            , X = j.es.jI(F, z)
            , E = ca.apk(X);
          D = Math.abs(C.x - E.x) + Math.abs(C.y - E.y);
          C = E
      } while (D > 1e-7);return C
  }
  ;
  j.raw.S3 = function(n, z) {
      var C = ca.O6(z)
        , D = j.raw.a4H
        , F = n.t50778 ? n.t50778[0] : 0
        , X = n.t50779 ? n.t50779[0] : 0
        , E = D(n.t50721, n.t50722, F, X, C.r5)
        , f = D(n.t50723, n.t50724, F, X, C.r5);
      E = E || [1, 0, 0, 0, 1, 0, 0, 0, 1];
      f = f || [1, 0, 0, 0, 1, 0, 0, 0, 1];
      var a = n.t50727 ? [n.t50727[0], 0, 0, 0, n.t50727[1], 0, 0, 0, n.t50727[2]] : [1, 0, 0, 0, 1, 0, 0, 0, 1];
      return j.es.multiply(j.es.Vk(a), j.es.multiply(j.es.Vk(f), j.es.Vk(E)))
  }
  ;
  j.raw.a4H = function(n, z, C, D, F) {
      if (!n && !z) {
          return null
      } else if (n && !z) {
          return n
      } else if (F < C) {
          return n
      } else if (F > D) {
          return z
      } else {
          var X = (1 / F - 1 / D) / (1 / C - 1 / D)
            , E = 1 - X
            , f = [];
          for (var M = 0; M < 9; M++)
              f[M] = n[M] * X + z[M] * E;
          return f
      }
  }
  ;
  var ca = {};
  ca.a67 = {
      x: .34567,
      y: .3585
  };
  ca.Yn = [{
      h: 0,
      Oz: .18006,
      b2: .26352,
      x2: -.24341
  }, {
      h: 10,
      Oz: .18066,
      b2: .26589,
      x2: -.25479
  }, {
      h: 20,
      Oz: .18133,
      b2: .26846,
      x2: -.26876
  }, {
      h: 30,
      Oz: .18208,
      b2: .27119,
      x2: -.28539
  }, {
      h: 40,
      Oz: .18293,
      b2: .27407,
      x2: -.3047
  }, {
      h: 50,
      Oz: .18388,
      b2: .27709,
      x2: -.32675
  }, {
      h: 60,
      Oz: .18494,
      b2: .28021,
      x2: -.35156
  }, {
      h: 70,
      Oz: .18611,
      b2: .28342,
      x2: -.37915
  }, {
      h: 80,
      Oz: .1874,
      b2: .28668,
      x2: -.40955
  }, {
      h: 90,
      Oz: .1888,
      b2: .28997,
      x2: -.44278
  }, {
      h: 100,
      Oz: .19032,
      b2: .29326,
      x2: -.47888
  }, {
      h: 125,
      Oz: .19462,
      b2: .30141,
      x2: -.58204
  }, {
      h: 150,
      Oz: .19962,
      b2: .30921,
      x2: -.70471
  }, {
      h: 175,
      Oz: .20525,
      b2: .31647,
      x2: -.84901
  }, {
      h: 200,
      Oz: .21142,
      b2: .32312,
      x2: -1.0182
  }, {
      h: 225,
      Oz: .21807,
      b2: .32909,
      x2: -1.2168
  }, {
      h: 250,
      Oz: .22511,
      b2: .33439,
      x2: -1.4512
  }, {
      h: 275,
      Oz: .23247,
      b2: .33904,
      x2: -1.7298
  }, {
      h: 300,
      Oz: .2401,
      b2: .34308,
      x2: -2.0637
  }, {
      h: 325,
      Oz: .24792,
      b2: .34655,
      x2: -2.4681
  }, {
      h: 350,
      Oz: .25591,
      b2: .34951,
      x2: -2.9641
  }, {
      h: 375,
      Oz: .264,
      b2: .352,
      x2: -3.5814
  }, {
      h: 400,
      Oz: .27218,
      b2: .35407,
      x2: -4.3633
  }, {
      h: 425,
      Oz: .28039,
      b2: .35577,
      x2: -5.3762
  }, {
      h: 450,
      Oz: .28863,
      b2: .35714,
      x2: -6.7262
  }, {
      h: 475,
      Oz: .29685,
      b2: .35823,
      x2: -8.5955
  }, {
      h: 500,
      Oz: .30505,
      b2: .35907,
      x2: -11.324
  }, {
      h: 525,
      Oz: .3132,
      b2: .35968,
      x2: -15.628
  }, {
      h: 550,
      Oz: .32129,
      b2: .36011,
      x2: -23.325
  }, {
      h: 575,
      Oz: .32931,
      b2: .36038,
      x2: -40.77
  }, {
      h: 600,
      Oz: .33724,
      b2: .36051,
      x2: -116.45
  }];
  ca.O6 = function(n) {
      var z = ca.Yn
        , C = 2 * n.x / (1.5 - n.x + 6 * n.y)
        , D = 3 * n.y / (1.5 - n.x + 6 * n.y)
        , F = 0
        , X = 0
        , E = 0;
      for (; E < 31; E++) {
          F = D - z[E].b2 - z[E].x2 * (C - z[E].Oz);
          if (E > 0 && F < 0) {
              break
          }
          X = F
      }
      while (E >= z.length)
          E--;
      F /= Math.sqrt(1 + z[E].x2 * z[E].x2);
      X /= Math.sqrt(1 + z[E - 1].x2 * z[E - 1].x2);
      var f = X / (X - F)
        , a = 1e6 / ((z[E].h - z[E - 1].h) * f + z[E - 1].h)
        , q = C - ((z[E].Oz - z[E - 1].Oz) * f + z[E - 1].Oz)
        , c = D - ((z[E].b2 - z[E - 1].b2) * f + z[E - 1].b2)
        , K = Math.sqrt(1 + z[E].x2 * z[E].x2)
        , R = 1 / K
        , J = z[E].x2 / K
        , w = Math.sqrt(1 + z[E - 1].x2 * z[E - 1].x2)
        , p = 1 / w
        , I = z[E - 1].x2 / w
        , m = (R - p) * f + p
        , A = (J - I) * f + I
        , U = Math.sqrt(m * m + A * A);
      m /= U;
      A /= U;
      var r = (q * m + c * A) * -3e3;
      return {
          r5: a,
          r_: r
      }
  }
  ;
  ca.ah1 = function(n, z) {
      var C = ca.Yn
        , D = 1e6 / n
        , F = 1;
      for (; F < 31; F++) {
          if (D < C[F].h) {
              break
          }
      }
      var X = (C[F].h - D) / (C[F].h - C[F - 1].h)
        , E = (C[F - 1].Oz - C[F].Oz) * X + C[F].Oz
        , f = (C[F - 1].b2 - C[F].b2) * X + C[F].b2
        , a = Math.sqrt(1 + C[F].x2 * C[F].x2)
        , q = 1 / a
        , c = C[F].x2 / a
        , K = Math.sqrt(1 + C[F - 1].x2 * C[F - 1].x2)
        , R = 1 / K
        , J = C[F - 1].x2 / K
        , w = (R - q) * X + q
        , p = (J - c) * X + c
        , I = Math.sqrt(w * w + p * p);
      w /= I;
      p /= I;
      E += w * z / -3e3;
      f += p * z / -3e3;
      return {
          x: 1.5 * E / (E - 4 * f + 2),
          y: f / (E - 4 * f + 2)
      }
  }
  ;
  ca.apk = function(n) {
      var z = n[0] + n[1] + n[2];
      return {
          x: n[0] / z,
          y: n[1] / z
      }
  }
  ;
  ca._m = function(n) {
      return {
          x: n.x / n.y,
          y: 1,
          C4: (1 - n.x - n.y) / n.y
      }
  }
  ;
  ca.ahO = function(n, z) {
      var C = j.es.Vk([.8951, .2664, -.1614, -.7502, 1.7135, .0367, .0389, -.0685, 1.0296])
        , D = [n.x, n.y, n.C4, 0]
        , F = [z.x, z.y, z.C4, 0];
      D = j.es.jI(C, D);
      F = j.es.jI(C, F);
      var X = F[0] / D[0]
        , E = F[1] / D[1]
        , f = F[2] / D[2]
        , a = j.es.Vk([X, 0, 0, 0, E, 0, 0, 0, f])
        , q = j.es.eL(C);
      return j.es.multiply(j.es.multiply(q, a), C)
  }
  ;
  j.raw.eh = {};
  j.raw.CH = function(n) {
      n *= 8;
      var z = [8, 10, 12, 14, 16];
      for (var C in j.raw.Q$) {
          var D = j.raw.Q$[C];
          if (D.length == 4)
              continue;
          var F = D[4]
            , X = D[5];
          for (var M = 0; M < z.length; M++)
              if (F * X * z[M] == n)
                  return [C, z[M]]
      }
      var E = [[4e3, 3e3]];
      for (var M = 0; M < E.length; M++) {
          var D = E[M]
            , F = D[0]
            , X = D[1];
          for (var M = 0; M < z.length; M++)
              if (F * X * z[M] == n)
                  return [D, z[M]]
      }
      return null
  }
  ;
  j.raw.adD = function(n) {
      var n = new Uint8Array(n);
      for (var M = 0; M < n.length; M += 2) {
          var z = n[M];
          n[M] = n[M + 1];
          n[M + 1] = z
      }
      var C = j.raw.CH(n.length)
        , D = j.raw.Q$[C[0]];
      if (D == null)
          D = [[8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 0, 1e3, 64383, C[0][0], C[0][1]];
      var F = D[4]
        , X = D[5]
        , E = Math.max(D[2], 116)
        , f = {
          data: n,
          hg: 1,
          width: F,
          height: X,
          t256: [F],
          t257: [X],
          t258: [C[1]],
          t277: [1],
          t33421: [2, 2],
          t33422: j.raw.U0[D[1]],
          t50706: [1, 2, 0, 0],
          t50714: [E, E, E, E],
          t50717: [D[3]],
          t50721: D[0].slice(0),
          t50723: [1, 0, 0, 0, 1, 0, 0, 0, 1],
          t50728: [.64, 1, .46],
          t50778: [17]
      };
      for (var M = 0; M < 9; M++)
          f.t50721[M] /= 1e4;
      return f
  }
  ;
  j.raw.Yt = function(n) {
      if (n == null || n.length == 0 || typeof n[0] == "number")
          return n;
      var z = [];
      for (var M = 0; M < n.length; M++)
          z[M] = n[M][1] == 0 ? 0 : n[M][0] / n[M][1];
      return z
  }
  ;
  j.raw.U0 = [[2, 1, 1, 0], [0, 1, 1, 2], [1, 0, 2, 1], [1, 2, 0, 1]];
  j.raw.normalize = function(n, z) {
      if (n.t50706 != null || n.t271[0].startsWith("Hasselblad")) {
          var C = [50714, 50718, 50719, 50720, 50721, 50722, 50723, 50724, 50727, 50728, 50730, 50731, 50732, 50734, 50736, 50738, 50739, 50780, 50964, 50965];
          for (var M = 0; M < C.length; M++)
              if (n["t" + C[M]] != null)
                  n["t" + C[M]] = j.raw.Yt(n["t" + C[M]]);
          if (n.t271 && n.t271[0].startsWith("Hasselblad")) {
              n.t50706 = [1, 2, 0, 0];
              n.t33422 = j.raw.U0[1];
              n.t50723 = [1, 0, 0, 0, 1, 0, 0, 0, 1];
              n.t50778 = [17];
              if (!n.isLE)
                  for (var M = 0; M < n.data.length; M += 2) {
                      var D = n.data[M];
                      n.data[M] = n.data[M + 1];
                      n.data[M + 1] = D
                  }
          }
          return
      }
      var F = n.t258[0]
        , X = n.exifIFD
        , z = new Uint8Array(z);
      n.t50706 = [1, 2, 0, 0];
      var E = n.t272[0].trim();
      if (E.indexOf(" ") == -1)
          E = n.t271[0].trim() + " " + E;
      if (n.t50708 == null)
          n.t50708 = [E];
      var f = j.raw.Q$
        , a = f[E.toLowerCase()];
      if (a == null)
          for (var q in f)
              if (E.toLowerCase().startsWith(q))
                  a = f[q];
      if (a == null)
          throw E;
      var c = a[2];
      n.t50714 = [c, c, c, c];
      n.t50717 = [a[3]];
      n.t50721 = a[0].slice(0);
      for (var M = 0; M < 9; M++)
          n.t50721[M] = n.t50721[M] * (1 / 1e4);
      n.t50723 = [1, 0, 0, 0, 1, 0, 0, 0, 1];
      if (n.t50728 == null)
          n.t50728 = [.35, 1, .6];
      n.t50778 = [17];
      if (n.t271[0].startsWith("SONY")) {
          var K = UTIF["_bin" + (n.isLE ? "LE" : "BE")], R = n.t28688, U;
          if (JSON.stringify(R) != "[8000,10400,12900,14100]")
              console.log(R);
          if (R) {
              var J = [0, 0, 0, 0, 0, 4095]
                , w = new Uint16Array(16385);
              for (var M = 0; M < 4; M++) {
                  var p = R[M] >>> 2;
                  J[M + 1] = p;
                  if (p > 4095)
                      throw "e"
              }
              for (var M = 0; M < 16385; M++)
                  w[M] = M;
              for (var M = 0; M < 5; M++)
                  for (var I = J[M] + 1; I <= J[M + 1]; I++)
                      w[I] = w[I - 1] + (1 << M);
              var m = z.length * 8 < n.width * n.height * F;
              if (m)
                  n.t50712 = w
          } else
              console.log("no curve");
          var A = n.dngPrvt;
          if (A) {
              var r = A.t29184[0]
                , $ = A.t29185[0]
                , k = (n.isLE ? T.YR : T.q)(A.t29217, 0)
                , G = new Uint32Array(z.slice(r, r + ($ & 4294967292)).buffer)
                , i = new Uint32Array($ >>> 2);
              j.raw.a2c(G, i, $ >>> 2, k);
              var o = new Uint8Array(r + $);
              o.set(new Uint8Array(i.buffer), r);
              var S = [];
              UTIF._readIFD(K, o, r, S, 0, !1);
              var H = S.pop()
                , e = H.t29458;
              n.t50728 = [e[1] / e[0], 1, e[1] / e[3]];
              n.t50730 = [.5];
              var V = H.t29891;
              n.t50829 = [V[1], V[0], V[3], V[2]]
          } else if (X.makerNote && X.makerNote.t8208) {
              var U = X.makerNote
                , v = U.t8208
                , B = v.length
                , Z = 0
                , d = new Uint8Array(256);
              for (var M = 249; M < 256; M++)
                  d[M] = M;
              for (var M = 0; M < 249; M++)
                  d[M * M * M % 249] = M;
              for (var M = 0; M < B; M++)
                  v[M] = d[v[M]];
              if (B == 6604)
                  Z = 612;
              else
                  throw "e";
              var e = [];
              for (var M = 0; M < 3; M++)
                  e.push(T.$R(v, Z + M * 2));
              console.log(e);
              n.t50728 = [e[1] / e[0], 1, e[1] / e[2]]
          } else
              console.log("no white balance");
          if (n.width * n.height * 1.5 == n.t279[0]) {
              c = c >>> 2;
              n.t50714 = [c, c, c, c];
              n.t50717 = [a[3] >>> 2]
          }
      } else if (n.t271[0].startsWith("Canon")) {
          var z = n.data
            , g = z.slice(0)
            , Y = n.t50752
            , y = []
            , _ = 0;
          if (Y == null || Y[0] == 0 && Y[1] == 0)
              y.push(n.width);
          else {
              for (var M = 0; M < Y[0]; M++)
                  y.push(Y[1]);
              y.push(Y[2])
          }
          var L = n.width * 2;
          for (var b = 0; b < y.length; b++) {
              var x = y[b]
                , W = 2 * _
                , g6 = 2 * x;
              for (var fY = 0; fY < n.height; fY += 2) {
                  var f3 = fY * L + W
                    , hK = n.height * W + (fY >> 1) * g6 * 2;
                  for (var M = 0; M < g6; M++) {
                      z[f3 + M] = g[hK + M];
                      z[f3 + M + L] = g[hK + M + g6]
                  }
              }
              _ += x
          }
          var U = X.makerNote;
          if (U.t16385) {
              var s = U.t224
                , fM = 0;
              if (s) {
                  n.t50719 = [s[5], s[6]];
                  n.t50720 = [s[7] + 1 - s[5], s[8] + 1 - s[6]]
              }
              var P = U.t16385
                , aF = P.length;
              if (aF == 582)
                  fM = 1;
              else if (aF == 653)
                  fM = 2;
              else if (aF == 796)
                  fM = 3;
              else if ([692, 674, 702, 1227, 1250, 1251, 1337, 1338, 1346].indexOf(aF) != -1)
                  fM = 4;
              else if (aF == 5120) {
                  fM = 5;
                  P = new Int16Array(P.slice(0).buffer)
              } else if (aF == 1273 || aF == 1275)
                  fM = 6;
              else if ([1312, 1313, 1316, 1506].indexOf(aF) != -1)
                  fM = 7;
              else if ([1560, 1592, 1353, 1602].indexOf(aF) != -1)
                  fM = 8;
              else
                  throw "e" + aF;
              var eA = P[0]
                , e8 = [null, [25, 166], [34, 286], [63, 196], [63], [71, eA == -4 ? 333 : 264], [63, 251], [63, eA == 10 ? 504 : 728], [63, 326]]
                , Z = e8[fM][0]
                , eC = e8[fM][1];
              if (fM == 4) {
                  if (P[0] == 2)
                      eC = 231;
                  else if (P[0] == 3)
                      eC = 231;
                  else if (P[0] == 4)
                      eC = 231;
                  else if (P[0] == 5)
                      eC = 231;
                  else if (P[0] == 6)
                      eC = 231;
                  else if (P[0] == 7)
                      eC = 231;
                  else if (P[0] == 9)
                      eC = 231;
                  else
                      throw "e"
              }
              n.t50728 = [P[Z + 1] / P[Z], 1, P[Z + 1] / P[Z + 3]];
              var c = eC == null ? 1024 : P[eC];
              if (fM != 4)
                  n.t50714 = [c, c, c, c]
          } else {
              n.t50728 = [.4, 1, .6]
          }
      } else if (n.t271[0].startsWith("NIKON")) {
          var U = X.makerNote, cy = n.isLE ? T.$R : T.yC, b3 = 0, gh = 0, dy, i8 = 0;
          if (U.t61) {
              var aX = U.t61
                , j0 = [];
              for (var M = 0; M < 4; M++)
                  j0[M] = aX[M] / Math.pow(2, 14 - F);
              n.t50714 = j0
          }
          if (U.t3585) {
              var aT = U.t3585
                , M = 0
                , r = 22;
              while (r < aT.length && M != -4) {
                  var a4 = T.YR(aT, r);
                  r += 4;
                  r += 14;
                  M = T.YR(aT, r) - 4;
                  r += 4;
                  if (a4 == 1990472198) {
                      if (aT[r] != 0)
                          throw "Flip"
                  }
                  if (a4 == 1990472199) {
                      var f8 = T.$R(aT, r);
                      if (f8 == 0)
                          n.hg = 1;
                      else if (f8 == 270)
                          n.hg = 8;
                      else
                          throw "e " + f8
                  }
                  r += M
              }
          }
          if (U.t183) {
              var cZ = U.t183
                , h3 = [];
              for (var M = 0; M < 6; M++)
                  h3.push(cy(cZ, 16 + M * 2));
              b3 = h3[0];
              gh = h3[1]
          }
          if (U.t3614) {
              var ew = U.t3614;
              b3 = T.YR(ew, 8);
              gh = T.YR(ew, 12)
          }
          if (b3 != 0) {
              if (b3 < gh) {
                  var D = b3;
                  b3 = gh;
                  gh = D
              }
              var _ = n.width - b3 >>> 1
                , fY = n.height - gh >>> 1;
              n.t50829 = [fY, _, fY + gh, _ + b3]
          }
          if (U.t12) {
              var fx = j.raw.Yt(U.t12);
              dy = [1 / fx[0], 1, 1 / fx[1]]
          } else if (U.t151) {
              var bo = j.raw.a2_(U, 151)
                , hd = bo[0]
                , gS = bo[1]
                , gT = bo[2];
              if (hd == "0100" && gS >= 80)
                  throw "e";
              else if (hd == "0102") {
                  var du = [];
                  for (var M = 0; M < 4; M++)
                      du.push(cy(gT, 6 + M * 2));
                  dy = [du[1] / du[0], 1, du[1] / du[3]]
              } else if (hd == "0103" && gS >= 26) {
                  var du = [];
                  for (var M = 0; M < 4; M++)
                      du.push(cy(gT, 16 + M * 2));
                  dy = [du[1] / du[0], 1, du[3] / du[2]]
              } else if (hd == "0204" && gS >= 564 || hd == "0205" && gS >= 284) {
                  var r = hd == "0204" ? 6 : 14
                    , du = [];
                  for (var M = 0; M < 4; M++)
                      du.push(cy(gT, r + M * 2));
                  dy = [du[1] / du[0], 1, du[1] / du[3]]
              } else
                  throw "e"
          } else
              console.log("no white balance info");
          if (E == "NIKON D1")
              dy = [1, 1, 1];
          if (dy)
              n.t50728 = dy;
          var bk = U.t150 ? U.t150 : U.t140;
          if (bk) {
              var en = bk[i8++], dW = bk[i8++], hN;
              if (en == 73 || dW == 88)
                  i8 += 2110;
              i8 += 8;
              var ix = 1 << F & 32767
                , dU = cy(bk, i8);
              i8 += 2;
              var w = [];
              if (dU > 1)
                  hN = Math.floor(ix / (dU - 1));
              if (en == 68 && dW == 32 && hN > 0) {
                  for (M = 0; M < dU; M++) {
                      w[M * hN] = cy(bk, i8);
                      i8 += 2
                  }
                  for (M = 0; M < ix; M++)
                      w[M] = Math.floor((w[M - M % hN] * (hN - M % hN) + w[M - M % hN + hN] * (M % hN)) / hN)
              } else if (en != 70 && dU <= 16385) {
                  ix = dU;
                  for (var M = 0; M < dU; M++)
                      w[M] = cy(bk, i8 + 2 * M);
                  i8 += 2 * dU
              }
              if (w.length != 0)
                  n.t50712 = new Uint16Array(w);
              else if (n.t272[0] == "NIKON D750")
                  n.t50717[0] *= 4
          }
      } else if (E.startsWith("FujiFilm")) {} else
          alert("Unknown camera " + E)
  }
  ;
  j.raw.a2c = function(n, z, C, D) {
      if (0 == C)
          return;
      var F = new Uint32Array(128)
        , X = new Uint8Array(F.buffer)
        , E = 127
        , f = 0
        , a = 0;
      for (var E = 0; E < 4; E++)
          F[E] = D = (D * 15625 >>> 0) * 3125 + 1 >>> 0;
      F[3] = F[3] << 1 | (F[0] ^ F[2]) >>> 31;
      for (var E = 4; E < 127; E++)
          F[E] = (F[E - 4] ^ F[E - 2]) << 1 | (F[E - 3] ^ F[E - 1]) >>> 31;
      for (var E = 0; E < 127; E++)
          F[E] = T.q(X, E * 4);
      for (; C > 0; C--) {
          F[E & 127] = F[E + 1 & 127] ^ F[E + 1 + 64 & 127];
          var q = F[E & 127]
            , c = n[f];
          c ^= q;
          z[a] = c;
          f++;
          a++;
          E++
      }
  }
  ;
  j.raw.a8c = function(n, z) {
      var C = T.uL(z, 0, 4)
        , D = j.raw.a6f;
      for (var M = 0; M < D.length; M++)
          if (D[M][0] == n && C.startsWith(D[M][1]) && (D[M][2] == 0 || D[M][2] == z.length))
              return D[M];
      throw "e"
  }
  ;
  j.raw.aaX = function(n) {
      if (n.t29 == null)
          return [];
      var z = j.raw.a9X
        , C = j.raw.a8w
        , D = n.t29[0]
        , F = 0
        , E = 0;
      for (var M = 0; M < D.length; M++) {
          var X = D.charCodeAt(M);
          F = F * 10 + (48 <= X && X <= 57 ? X - 48 : X % 10)
      }
      var gS = n.t167[0];
      for (var M = 0; M < 4; M++)
          E ^= gS >>> (M << 3) & 255;
      var f = z[F & 255]
        , a = C[E & 255];
      return [f, a, 96]
  }
  ;
  j.raw.a2_ = function(n, z) {
      var C = n["t" + z], gS = C.length, D = j.raw.a8c(z, C), F = T.uL(C, 0, 4), X, E = D[4];
      if (E == null)
          X = C.slice(4);
      else {
          X = new Uint8Array(gS - E);
          var f = j.raw.aaX(n)
            , a = f[0]
            , q = f[1]
            , c = f[2];
          for (var M = 0; M < X.length; M++) {
              q = q + a * c++ & 255;
              X[M] = C[E++] ^ q
          }
      }
      return [F, gS, X]
  }
  ;
  j.raw.a6f = [[145, "0208", 0, 0, 4], [145, "0209", 0, 1, 4], [145, "0210", 5291, 2, 4], [145, "0210", 5303, 3, 4], [145, "02", 0, 4, 4], [145, "01", 0, 5, null], [151, "0100", 0, 0, null], [151, "0102", 0, 1, null], [151, "0103", 0, 4, null], [151, "0204", 0, 3, 284], [151, "0205", 0, 2, 4], [151, "0206", 0, 3, 284], [151, "0207", 0, 3, 284], [151, "0208", 0, 3, 284], [151, "0209", 0, 5, 284], [151, "02", 0, 3, 284], [152, "0100", 0, 0, null], [152, "0101", 0, 1, null], [152, "0201", 0, 1, 4], [152, "0202", 0, 1, 4], [152, "0203", 0, 1, 4], [152, "0204", 0, 2, 4], [168, "0100", 0, 0, null], [168, "0101", 0, 0, null], [168, "0102", 0, 1, null], [168, "0103", 0, 2, null]];
  j.raw.a9X = [193, 191, 109, 13, 89, 197, 19, 157, 131, 97, 107, 79, 199, 127, 61, 61, 83, 89, 227, 199, 233, 47, 149, 167, 149, 31, 223, 127, 43, 41, 199, 13, 223, 7, 239, 113, 137, 61, 19, 61, 59, 19, 251, 13, 137, 193, 101, 31, 179, 13, 107, 41, 227, 251, 239, 163, 107, 71, 127, 149, 53, 167, 71, 79, 199, 241, 89, 149, 53, 17, 41, 97, 241, 61, 179, 43, 13, 67, 137, 193, 157, 157, 137, 101, 241, 233, 223, 191, 61, 127, 83, 151, 229, 233, 149, 23, 29, 61, 139, 251, 199, 227, 103, 167, 7, 241, 113, 167, 83, 181, 41, 137, 229, 43, 167, 23, 41, 233, 79, 197, 101, 109, 107, 239, 13, 137, 73, 47, 179, 67, 83, 101, 29, 73, 163, 19, 137, 89, 239, 107, 239, 101, 29, 11, 89, 19, 227, 79, 157, 179, 41, 67, 43, 7, 29, 149, 89, 89, 71, 251, 229, 233, 97, 71, 47, 53, 127, 23, 127, 239, 127, 149, 149, 113, 211, 163, 11, 113, 163, 173, 11, 59, 181, 251, 163, 191, 79, 131, 29, 173, 233, 47, 113, 101, 163, 229, 7, 53, 61, 13, 181, 233, 229, 71, 59, 157, 239, 53, 163, 191, 179, 223, 83, 211, 151, 83, 73, 113, 7, 53, 97, 113, 47, 67, 47, 17, 223, 23, 151, 251, 149, 59, 127, 107, 211, 37, 191, 173, 199, 197, 197, 181, 139, 239, 47, 211, 7, 107, 37, 73, 149, 37, 73, 109, 113, 199];
  j.raw.a8w = [167, 188, 201, 173, 145, 223, 133, 229, 212, 120, 213, 23, 70, 124, 41, 76, 77, 3, 233, 37, 104, 17, 134, 179, 189, 247, 111, 97, 34, 162, 38, 52, 42, 190, 30, 70, 20, 104, 157, 68, 24, 194, 64, 244, 126, 95, 27, 173, 11, 148, 182, 103, 180, 11, 225, 234, 149, 156, 102, 220, 231, 93, 108, 5, 218, 213, 223, 122, 239, 246, 219, 31, 130, 76, 192, 104, 71, 161, 189, 238, 57, 80, 86, 74, 221, 223, 165, 248, 198, 218, 202, 144, 202, 1, 66, 157, 139, 12, 115, 67, 117, 5, 148, 222, 36, 179, 128, 52, 229, 44, 220, 155, 63, 202, 51, 69, 208, 219, 95, 245, 82, 195, 33, 218, 226, 34, 114, 107, 62, 208, 91, 168, 135, 140, 6, 93, 15, 221, 9, 25, 147, 208, 185, 252, 139, 15, 132, 96, 51, 28, 155, 69, 241, 240, 163, 148, 58, 18, 119, 51, 77, 68, 120, 40, 60, 158, 253, 101, 87, 22, 148, 107, 251, 89, 208, 200, 34, 54, 219, 210, 99, 152, 67, 161, 4, 135, 134, 247, 166, 38, 187, 214, 89, 77, 191, 106, 46, 170, 43, 239, 230, 120, 182, 78, 224, 47, 220, 124, 190, 87, 25, 50, 126, 42, 208, 184, 186, 41, 0, 60, 82, 125, 168, 73, 59, 45, 235, 37, 73, 250, 163, 170, 57, 167, 197, 167, 80, 17, 54, 251, 198, 103, 74, 245, 165, 18, 101, 126, 176, 223, 175, 78, 179, 97, 127, 47];
  j.raw.Q$ = {
      "canon eos 100d": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2048, 15e3],
      "canon eos rebel sl1": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2048, 15e3],
      "canon eos kiss x7": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2048, 15e3],
      "canon eos 200d": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2049, 14338],
      "canon eos rebel sl2": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2049, 14338],
      "canon eos kiss x9": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2049, 14338],
      "canon eos 300d": [[8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 126, 4e3],
      "canon eos digital rebel": [[8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 126, 4e3],
      "canon eos kiss digital": [[8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 126, 4e3],
      "canon eos d30": [[9805, -2689, -1312, -5803, 13064, 3068, -2438, 3075, 8775], 1, 126, 4095],
      "canon eos d60": [[6188, -1341, -890, -7168, 14489, 2937, -2640, 3228, 8483], 1, 127, 4e3],
      "canon eos 10d": [[8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 130, 4e3],
      "canon eos 20d": [[6599, -537, -891, -8071, 15783, 2424, -1983, 2234, 7462], 1, 126, 4095],
      "canon eos 30d": [[6257, -303, -1e3, -7880, 15621, 2396, -1714, 1904, 7046], 1, 127, 3398],
      "canon eos 350d": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
      "canon eos digital rebel xt": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
      "canon eos kiss digital n": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
      "canon eos 350d": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
      "canon eos 350d digital": [[6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095],
      "canon eos 40d": [[6071, -747, -856, -7653, 15365, 2441, -2025, 2553, 7315], 1, 1021, 13600],
      "canon eos 450d": [[5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500],
      "canon eos digital rebel xsi": [[5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500],
      "canon eos kiss digital x2": [[5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500],
      "canon eos kiss x2": [[5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500],
      "canon eos 50d": [[4920, 616, -593, -6493, 13964, 2784, -1774, 3178, 7005], 3, 1020, 13653],
      "canon eos 60d": [[6719, -994, -925, -4408, 12426, 2211, -887, 2129, 6051], 3, 2026, 14200],
      "canon eos 70d": [[7034, -804, -1014, -4420, 12564, 2058, -851, 1994, 5758], 1, 2026, 13653],
      "canon eos 80d": [[7457, -671, -937, -4849, 12495, 2643, -1213, 2354, 5492], 1, 512, 11892],
      "canon eos 700d": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2052, 15e3],
      "canon eos rebel t5i": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2052, 15e3],
      "canon eos kiss x7i": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2052, 15e3],
      "canon eos 750d": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
      "canon eos rebel t6i": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
      "canon eos kiss x8i": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
      "canon eos 800d": [[6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338],
      "canon eos rebel t7i": [[6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338],
      "canon eos rebel t7i": [[6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338],
      "canon eos kiss x9i": [[6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338],
      "canon eos 760d": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
      "canon eos rebel t6s": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
      "canon eos 8000d": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765],
      "canon eos 77d": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2048, 14338],
      "canon eos 9000d": [[7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2048, 14338],
      "canon eos 500d": [[4763, 712, -646, -6821, 14399, 2640, -1921, 3276, 6561], 1, 1020, 16e3],
      "canon eos rebel t1i": [[4763, 712, -646, -6821, 14399, 2640, -1921, 3276, 6561], 1, 1020, 16e3],
      "canon eos kiss x3": [[4763, 712, -646, -6821, 14399, 2640, -1921, 3276, 6561], 1, 1020, 16e3],
      "canon eos 550d": [[6941, -1164, -857, -3825, 11597, 2534, -416, 1540, 6039], 0, 2048, 15831],
      "canon eos rebel t2i": [[6941, -1164, -857, -3825, 11597, 2534, -416, 1540, 6039], 0, 2048, 15831],
      "canon eos kiss x4": [[6941, -1164, -857, -3825, 11597, 2534, -416, 1540, 6039], 0, 2048, 15831],
      "canon eos 600d": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2026, 13584],
      "canon eos rebel t3i": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2026, 13584],
      "canon eos kiss x5": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2026, 13584],
      "canon eos 650d": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584],
      "canon eos rebel t4i": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584],
      "canon eos kiss x6i": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584],
      "canon eos 5d": [[6347, -479, -972, -8297, 15954, 2480, -1968, 2131, 7649], 1, 127, 3692],
      "canon eos 5d mark ii": [[4716, 603, -830, -7798, 15474, 2480, -1496, 1937, 6651], 3, 1024, 12995],
      "canon eos 5d mark iii": [[6722, -635, -963, -4287, 12460, 2028, -908, 2162, 5668], 1, 2060, 16383],
      "canon eos 5d mark iv": [[6446, -366, -864, -4436, 12204, 2513, -952, 2496, 6348], 1, 2049, 14448],
      "canon eos 5ds": [[6250, -711, -808, -5153, 12794, 2636, -1249, 2198, 5610], 1, 2048, 15181],
      "canon eos 5ds r": [[6250, -711, -808, -5153, 12794, 2636, -1249, 2198, 5610], 1, 2048, 15181],
      "canon eos 6d": [[7034, -804, -1014, -4420, 12564, 2058, -851, 1994, 5758], 1, 2048, 15e3],
      "canon eos 6d mark ii": [[6875, -970, -932, -4691, 12459, 2501, -874, 1953, 5809], 1, 2049, 14558],
      "canon eos 7d": [[6844, -996, -856, -3876, 11761, 2396, -593, 1772, 6198], 3, 2049, 15400],
      "canon eos 7d mark ii": [[7268, -1082, -969, -4186, 11839, 2663, -825, 2029, 5839], 1, 2048, 15100],
      "canon eos 1000d": [[6771, -1139, -977, -7818, 15123, 2928, -1244, 1437, 7533], 1, 255, 3650],
      "canon eos digital rebel xs": [[6771, -1139, -977, -7818, 15123, 2928, -1244, 1437, 7533], 1, 255, 3650],
      "canon eos kiss digital f": [[6771, -1139, -977, -7818, 15123, 2928, -1244, 1437, 7533], 1, 255, 3650],
      "canon eos 1100d": [[6444, -904, -893, -4563, 12308, 2535, -903, 2016, 6728], 1, 2036, 15500],
      "canon eos rebel t3": [[6444, -904, -893, -4563, 12308, 2535, -903, 2016, 6728], 1, 2036, 15500],
      "canon eos 1200d": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2046, 12279],
      "canon eos rebel t5": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2046, 12279],
      "canon eos kiss x70": [[6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2046, 12279],
      "canon eos 1300d": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2048, 15e3],
      "canon eos rebel t6": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2048, 15e3],
      "canon eos kiss x80": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2048, 15e3],
      "canon eos 2000d": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 3, 2048, 15092],
      "canon eos rebel t7": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 3, 2048, 15092],
      "canon eos 1500d": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 3, 2048, 15092],
      "canon eos 4000d": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2051, 15e3],
      "canon eos rebel t100": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2051, 15e3],
      "canon eos 3000d": [[6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2051, 15e3],
      "canon eos 400d": [[7054, -1501, -990, -8156, 15544, 2812, -1278, 1414, 7796], 1, 255, 3726],
      "canon eos digital rebel xti": [[7054, -1501, -990, -8156, 15544, 2812, -1278, 1414, 7796], 1, 255, 3726],
      "canon eos kiss digital x": [[7054, -1501, -990, -8156, 15544, 2812, -1278, 1414, 7796], 1, 255, 3726],
      "canon eos m": [[6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584],
      "canon eos m2": [[6400, -480, -888, -5294, 13416, 2047, -1296, 2203, 6137], 1, 2026, 13584],
      "canon eos m3": [[6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2048, 16e3],
      "canon eos m5": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3],
      "canon eos m6": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3],
      "canon eos m10": [[6400, -480, -888, -5294, 13416, 2047, -1296, 2203, 6137], 1, 2048, 16e3],
      "canon eos m100": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3],
      "canon eos-1d": [[6806, -179, -1020, -8097, 16415, 1687, -3267, 4236, 7690], 2, 0, 3588],
      "canon eos-1ds": [[4374, 3631, -1743, -7520, 15212, 2472, -2892, 3632, 8161], 2, 0, 3500],
      "canon eos d2000c": [[24542, -10860, -3401, -1490, 11370, -297, 2858, -605, 3225], 2, 96, 4095],
      "canon eos-1d mark ii": [[6264, -582, -724, -8312, 15948, 2504, -1744, 1919, 8664], 1, 127, 3700],
      "canon eos-1d mark ii n": [[6240, -466, -822, -8180, 15825, 2500, -1801, 1938, 8042], 1, 127, 3700],
      "canon eos-1d mark iii": [[6291, -540, -976, -8350, 16145, 2311, -1714, 1858, 7326], 1, 1023, 15100],
      "canon eos-1d mark iv": [[6014, -220, -795, -4109, 12014, 2361, -561, 1824, 5787], 3, 2e3, 13e3],
      "canon eos-1ds mark ii": [[6517, -602, -867, -8180, 15926, 2378, -1618, 1771, 7633], 3, 126, 4060],
      "canon eos-1ds mark iii": [[5859, -211, -930, -8255, 16017, 2353, -1732, 1887, 7448], 1, 1021, 15100],
      "canon eos-1d x": [[6847, -614, -1014, -4669, 12737, 2139, -1197, 2488, 6846], 1, 2050, 15100],
      "canon eos-1d x mark ii": [[7596, -978, -967, -4808, 12571, 2503, -1398, 2567, 5752], 1, 2048, 14888],
      "canon powershot pro1": [[10062, -3522, -999, -7643, 15117, 2730, -765, 817, 7323], 1, 129, 4095],
      "canon powershot g1": [[-4778, 9467, 2172, 4743, -1141, 4344, -5146, 9908, 6077, -1566, 11051, 557], 0, 31, 1023],
      "canon powershot g2": [[9087, -2693, -1049, -6715, 14382, 2537, -2291, 2819, 7790], 1, 0, 1023],
      "canon powershot g3": [[9212, -2781, -1073, -6573, 14189, 2605, -2300, 2844, 7664], 1, 0, 4095],
      "canon powershot g3 x": [[9701, -3857, -921, -3149, 11537, 1817, -786, 1817, 5147], 1, 2047, 16e3],
      "canon powershot g5": [[9757, -2872, -933, -5972, 13861, 2301, -1622, 2328, 7212], 1, 0, 4095],
      "canon powershot g5 x": [[9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 2047, 16e3],
      "canon powershot g6": [[9877, -3775, -871, -7613, 14807, 3072, -1448, 1305, 7485], 1, 128, 4095],
      "canon powershot g7 x": [[9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 511, 4e3],
      "canon powershot g7 x mark ii": [[9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 2047, 16e3],
      "canon powershot g1 x": [[7378, -1255, -1043, -4088, 12251, 2048, -876, 1946, 5805], 1, 0, 16383],
      "canon powershot g1 x mark ii": [[7378, -1255, -1043, -4088, 12251, 2048, -876, 1946, 5805], 1, 0, 16e3],
      "canon powershot g1 x mark iii": [[8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3],
      "canon powershot g12": [[13244, -5501, -1248, -1508, 9858, 1935, -270, 1083, 4366], 1, 120, 4095],
      "canon powershot g11": [[12177, -4817, -1069, -1612, 9864, 2049, -98, 850, 4471], 1, 120, 4095],
      "canon powershot g10": [[11093, -3906, -1028, -5047, 12492, 2879, -1003, 1750, 5561], 3, 128, 4095],
      "canon powershot g9": [[7368, -2141, -598, -5621, 13254, 2625, -1418, 1696, 5743], 1, 125, 4095],
      "canon powershot g9 x": [[9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 2047, 16e3],
      "canon powershot g9 x mark ii": [[10056, -4131, -944, -2576, 11143, 1625, -238, 1294, 5179], 1, 2048, 16e3],
      "canon powershot g15": [[7474, -2301, -567, -4056, 11456, 2975, -222, 716, 4181], 3, 500, 2800],
      "canon powershot g16": [[8020, -2687, -682, -3704, 11879, 2052, -965, 1921, 5556], 1, 0, 4095],
      "canon powershot sx1 is": [[6578, -259, -502, -5974, 13030, 3309, -308, 1058, 4970], 1, 125, 4095],
      "canon powershot s30": [[10566, -3652, -1129, -6552, 14662, 2006, -2197, 2581, 7670], 1, 31, 1023],
      "canon powershot s40": [[8510, -2487, -940, -6869, 14231, 2900, -2318, 2829, 9013], 1, 0, 1023],
      "canon powershot s45": [[8163, -2333, -955, -6682, 14174, 2751, -2077, 2597, 8041], 1, 129, 4095],
      "canon powershot s50": [[8882, -2571, -863, -6348, 14234, 2288, -1516, 2172, 6569], 1, 129, 4095],
      "canon powershot s60": [[8795, -2482, -797, -7804, 15403, 2573, -1422, 1996, 7082], 1, 129, 4095],
      "canon powershot s70": [[9976, -3810, -832, -7115, 14463, 2906, -901, 989, 7889], 1, 129, 4095],
      "canon powershot s90": [[12374, -5016, -1049, -1677, 9902, 2078, -83, 852, 4683], 1, 125, 4095],
      "canon powershot s95": [[13440, -5896, -1279, -1236, 9598, 1931, -180, 1001, 4651], 1, 125, 4095],
      "canon powershot s100": [[7968, -2565, -636, -2873, 10697, 2513, 180, 667, 4211], 3, 125, 4095],
      "canon powershot s110": [[8039, -2643, -654, -3783, 11230, 2930, -206, 690, 4194], 3, 500, 3072],
      "canon powershot s120": [[6961, -1685, -695, -4625, 12945, 1836, -1114, 2152, 5518], 1, 0, 4e3],
      "canon powershot sx50 hs": [[12432, -4753, -1247, -2110, 10691, 1629, -412, 1623, 4926], 1, 127, 4095],
      "canon powershot sx60 hs": [[13161, -5451, -1344, -1989, 10654, 1531, -47, 1271, 4955], 1, 128, 4e3],
      "nikon d100": [[5902, -933, -782, -8983, 16719, 2354, -1402, 1455, 6464], 2, 0, 4095],
      "nikon d1": [[16772, -4726, -2141, -7611, 15713, 1972, -2846, 3494, 9521], 0, 0, 4095],
      "nikon d1h": [[7577, -2166, -926, -7454, 15592, 1934, -2377, 2808, 8606], 0, 0, 4095],
      "nikon d1x": [[7702, -2245, -975, -9114, 17242, 1875, -2679, 3055, 8521], 0, 0, 4095],
      "nikon d200": [[8367, -2248, -763, -8758, 16447, 2422, -1527, 1550, 8053], 2, 0, 3880],
      "nikon d2h": [[5710, -901, -615, -8594, 16617, 2024, -2975, 4120, 6830], 3, 0, 3880],
      "nikon d2hs": [[5710, -901, -615, -8594, 16617, 2024, -2975, 4120, 6830], 3, 0, 3880],
      "nikon d2x": [[10231, -2769, -1255, -8301, 15900, 2552, -797, 680, 7148], 1, 0, 3880],
      "nikon d2xs": [[10231, -2769, -1255, -8301, 15900, 2552, -797, 680, 7148], 1, 0, 3880],
      "nikon d3": [[8139, -2171, -663, -8747, 16541, 2295, -1925, 2008, 8093], 1, 0, 15892],
      "nikon d3s": [[8828, -2406, -694, -4874, 12603, 2541, -660, 1509, 7587], 1, 0, 15520],
      "nikon d3x": [[7171, -1986, -648, -8085, 15555, 2718, -2170, 2512, 7457], 1, 0, 15892],
      "nikon d300": [[9030, -1992, -715, -8465, 16302, 2255, -2689, 3217, 8069], 1, 0, 15236],
      "nikon d300s": [[9030, -1992, -716, -8465, 16302, 2256, -2689, 3217, 8069], 1, 0, 15236],
      "nikon d3000": [[8736, -2458, -935, -9075, 16894, 2251, -1354, 1242, 8263], 3, 0, 3880],
      "nikon d3200": [[7013, -1408, -635, -5268, 12902, 2640, -1470, 2801, 7379], 1, 0, 3880],
      "nikon d3300": [[6988, -1384, -714, -5631, 13410, 2447, -1485, 2204, 7318], 1, 150, 3880],
      "nikon d3400": [[6988, -1384, -714, -5631, 13410, 2447, -1485, 2204, 7318], 1, 150, 3880],
      "nikon d3500": [[8821, -2938, -785, -4178, 12142, 2287, -824, 1651, 6860], 1, 150, 3972],
      "nikon d4": [[8598, -2848, -857, -5618, 13606, 2195, -1002, 1773, 7137], 1, 0, 15520],
      "nikon d5": [[9200, -3522, -992, -5755, 13803, 2117, -753, 1486, 6338], 1, 400, 15520],
      "nikon z 5": [[8695, -2558, -648, -5015, 12711, 2575, -1279, 2215, 7514], 1, 1008, 15520],
      "nikon z 6": [[9943, -3269, -839, -5323, 13269, 2259, -1198, 2083, 7557], 1, 1008, 15520],
      "nikon z 7": [[10405, -3755, -1270, -5461, 13787, 1793, -1040, 2015, 6785], 1, 1008, 15520],
      "nikon z 50": [[11640, -4829, -1079, -5107, 13006, 2325, -972, 1711, 7380], 1, 251, 3880],
      "nikon df": [[8598, -2848, -857, -5618, 13606, 2195, -1002, 1773, 7137], 1, 0, 15520],
      "nikon d5100": [[8198, -2239, -724, -4871, 12389, 2798, -1043, 2050, 7181], 1, 0, 15892],
      "nikon d3100": [[7911, -2167, -813, -5327, 13150, 2408, -1288, 2483, 7968], 3, 0, 3880],
      "nikon d40": [[6992, -1668, -806, -8138, 15748, 2543, -874, 850, 7897], 0, 0, 3880],
      "nikon d40x": [[8819, -2543, -911, -9025, 16928, 2151, -1329, 1213, 8449], 3, 0, 3880],
      "nikon d50": [[7732, -2422, -789, -8238, 15884, 2498, -859, 783, 7330], 0, 0, 4095],
      "nikon d500": [[8813, -3210, -1036, -4703, 12868, 2021, -1054, 1940, 6129], 1, 400, 15520],
      "nikon d5000": [[7309, -1403, -519, -8474, 16008, 2622, -2433, 2826, 8064], 3, 0, 3767],
      "nikon d5200": [[8322, -3112, -1047, -6367, 14342, 2179, -988, 1638, 6394], 1, 0, 15892],
      "nikon d5300": [[6988, -1384, -714, -5631, 13410, 2447, -1485, 2204, 7318], 1, 150, 3972],
      "nikon d5500": [[8821, -2938, -785, -4178, 12142, 2287, -824, 1651, 6860], 1, 150, 3972],
      "nikon d5600": [[8821, -2938, -785, -4178, 12142, 2287, -824, 1651, 6860], 1, 150, 3972],
      "nikon d60": [[8736, -2458, -935, -9075, 16894, 2251, -1354, 1242, 8263], 3, 0, 3880],
      "nikon d600": [[8178, -2245, -609, -4857, 12394, 2776, -1207, 2086, 7298], 1, 0, 15520],
      "nikon d610": [[8178, -2245, -609, -4857, 12394, 2776, -1207, 2086, 7298], 1, 0, 15520],
      "nikon d70": [[7732, -2422, -789, -8238, 15884, 2498, -859, 783, 7330], 0, 0, 4095],
      "nikon d700": [[8139, -2171, -663, -8747, 16541, 2295, -1925, 2008, 8093], 1, 0, 3972],
      "nikon d750": [[9020, -2890, -715, -4535, 12436, 2348, -934, 1919, 7086], 1, 150, 3880],
      "nikon d780": [[9943, -3269, -839, -5323, 13269, 2259, -1198, 2083, 7557], 1, 251, 3880],
      "nikon d7000": [[8198, -2239, -724, -4871, 12389, 2798, -1043, 2050, 7181], 1, 0, 15892],
      "nikon d7100": [[8322, -3112, -1047, -6367, 14342, 2179, -988, 1638, 6394], 1, 0, 15892],
      "nikon d7200": [[8322, -3112, -1047, -6367, 14342, 2179, -988, 1638, 6394], 1, 600, 15892],
      "nikon d7500": [[8813, -3210, -1036, -4703, 12868, 2021, -1054, 1940, 6129], 1, 100, 3880],
      "nikon d70s": [[7732, -2422, -789, -8238, 15884, 2498, -859, 783, 7330], 0, 0, 4095],
      "nikon d80": [[8629, -2410, -883, -9055, 16940, 2171, -1490, 1363, 8520], 3, 0, 3880],
      "nikon d800": [[7866, -2108, -555, -4869, 12483, 2681, -1176, 2069, 7501], 1, 0, 15520],
      "nikon d800e": [[7866, -2108, -555, -4869, 12483, 2681, -1176, 2069, 7501], 1, 0, 15520],
      "nikon d810": [[9369, -3195, -791, -4488, 12430, 2301, -893, 1796, 6872], 1, 150, 3880],
      "nikon d850": [[10405, -3755, -1270, -5461, 13787, 1793, -1040, 2015, 6785], 1, 100, 3880],
      "nikon d4s": [[8598, -2848, -857, -5618, 13606, 2195, -1002, 1773, 7137], 1, 192, 3880],
      "nikon d90": [[7309, -1403, -519, -8474, 16008, 2622, -2434, 2826, 8064], 3, 0, 3767],
      "nikon 1 j1": [[8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 3300],
      "nikon 1 j2": [[8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 4095],
      "nikon 1 j3": [[6588, -1305, -693, -3277, 10987, 2634, -355, 2016, 5106], 1, 0, 4095],
      "nikon 1 j4": [[5958, -1559, -571, -4021, 11453, 2939, -634, 1548, 5087], 1, 200, 4e3],
      "nikon 1 j5": [[7520, -2518, -645, -3844, 12102, 1945, -913, 2249, 6835], 1, 200, 3800],
      "nikon 1 s1": [[8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 3300],
      "nikon 1 s2": [[6612, -1342, -618, -3338, 11055, 2623, -174, 1792, 5075], 1, 200, 4095],
      "nikon 1 v1": [[8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 3300],
      "nikon 1 v2": [[6588, -1305, -693, -3277, 10987, 2634, -355, 2016, 5106], 1, 0, 4095],
      "nikon 1 v3": [[5958, -1559, -571, -4021, 11453, 2939, -634, 1548, 5087], 1, 200, 4e3],
      "nikon 1 aw1": [[6588, -1305, -693, -3277, 10987, 2634, -355, 2016, 5106], 1, 0, 4095],
      "nikon e5400": [[9349, -2987, -1001, -7919, 15766, 2266, -2098, 2680, 6839], 0, 0, 4095],
      "nikon e5700": [[-5368, 11478, 2368, 5537, -113, 3148, -4969, 10021, 5782, 778, 9028, 211], 0, 0, 4095],
      "nikon coolpix p330": [[10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 3200, 65e3],
      "nikon coolpix p340": [[10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 200, 3800],
      "nikon coolpix a": [[8198, -2239, -724, -4871, 12389, 2798, -1043, 2050, 7181], 1, 0, 15892],
      "nikon coolpix b700": [[14387, -6014, -1299, -1357, 9975, 1616, 467, 1047, 4744], 1, 200, 4e3],
      "nikon coolpix p6000": [[9698, -3367, -914, -4706, 12584, 2368, -837, 968, 5801], 1, 0, 4095],
      "nikon coolpix p7000": [[11432, -3679, -1111, -3169, 11239, 2202, -791, 1380, 4455], 1, 0, 4095],
      "nikon coolpix p7100": [[11053, -4269, -1024, -1976, 10182, 2088, -526, 1263, 4469], 1, 0, 3800],
      "nikon coolpix p7700": [[10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 3200, 65e3],
      "nikon coolpix p7800": [[10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 3200, 65e3],
      "nikon coolpix p950": [[13307, -5641, -1290, -2048, 10581, 1689, -64, 1222, 5176], 1, 200, 4095],
      "nikon coolpix p1000": [[14294, -6116, -1333, -1628, 10219, 1637, -14, 1158, 5022], 1, 200, 4095],
      "olympus e-m10 mark iv": [[9476, -3182, -765, -2613, 10958, 1893, -449, 1315, 5268], 1, 254, 4e3],
      "olympus e-m5 mark iii": [[11896, -5110, -1076, -3181, 11378, 2048, -519, 1224, 5166], 1, 257, 4e3],
      "panasonic dmc-cm1": [[8770, -3194, -820, -2871, 11281, 1803, -513, 1552, 4434], 1, 142, 4095],
      "panasonic dmc-fx150": [[9082, -2907, -925, -6119, 13377, 3058, -1797, 2641, 5609], 0, 15, 3986],
      "panasonic dmc-fz28": [[10109, -3488, -993, -5412, 12812, 2916, -1305, 2140, 5543], 0, 15, 3986],
      "panasonic dmc-fz150": [[11904, -4541, -1189, -2355, 10899, 1662, -296, 1586, 4289], 3, 145, 3956],
      "panasonic dmc-fz200": [[8112, -2563, -740, -3730, 11784, 2197, -941, 2075, 4933], 3, 150, 3956],
      "panasonic dmc-fz2000": [[7386, -2443, -743, -3437, 11864, 1757, -608, 1660, 4766], 3, 142, 2095],
      "panasonic dmc-fz2500": [[7386, -2443, -743, -3437, 11864, 1757, -608, 1660, 4766], 3, 142, 2095],
      "panasonic dmc-fz300": [[8378, -2798, -769, -3068, 11410, 1877, -538, 1792, 4623], 3, 143, 4095],
      "panasonic dmc-g1": [[8199, -2065, -1056, -8124, 16156, 2033, -2458, 3022, 7220], 3, 15, 3986],
      "panasonic dmc-g2": [[10113, -3400, -1114, -4765, 12683, 2317, -377, 1437, 6710], 3, 0, 3900],
      "panasonic dmc-g10": [[10113, -3400, -1114, -4765, 12683, 2317, -377, 1437, 6710], 3, 0, 3900],
      "panasonic dmc-gh1": [[6299, -1466, -532, -6535, 13852, 2969, -2331, 3112, 5984], 3, 0, 3986],
      "panasonic dmc-gh3": [[6559, -1752, -491, -3672, 11407, 2586, -962, 1875, 5130], 3, 155, 3956],
      "panasonic dmc-gh4": [[7122, -2108, -512, -3155, 11201, 2231, -541, 1423, 5045], 0, 142, 4095],
      "panasonic dmc-gf1": [[7888, -1902, -1011, -8106, 16085, 2099, -2353, 2866, 7330], 3, 15, 3986],
      "panasonic dmc-gf2": [[7888, -1902, -1011, -8106, 16085, 2099, -2353, 2866, 7330], 3, 150, 3956],
      "panasonic dmc-gm1": [[6770, -1895, -744, -5232, 13145, 2303, -1664, 2691, 5703], 0, 143, 3971],
      "panasonic dmc-gm5": [[8238, -3244, -679, -3921, 11814, 2384, -836, 2022, 5852], 0, 143, 4095],
      "panasonic dmc-g3": [[6763, -1919, -863, -3868, 11515, 2684, -1216, 2387, 5879], 2, 143, 3956],
      "panasonic dmc-g5": [[7798, -2562, -740, -3879, 11584, 2613, -1055, 2248, 5434], 0, 150, 3956],
      "panasonic dmc-g6": [[8294, -2891, -651, -3869, 11590, 2595, -1183, 2267, 5352], 0, 142, 3956],
      "panasonic dmc-g7": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-g70": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-g8": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-g80": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-g81": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-g85": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-gf3": [[9051, -2468, -1204, -5212, 13276, 2121, -1197, 2510, 6890], 3, 150, 3956],
      "panasonic dmc-gf5": [[8228, -2945, -660, -3938, 11792, 2430, -1094, 2278, 5793], 3, 150, 3956],
      "panasonic dmc-gf6": [[8130, -2801, -946, -3520, 11289, 2552, -1314, 2511, 5791], 2, 150, 3956],
      "panasonic dmc-gf7": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dmc-gh2": [[7780, -2410, -806, -3913, 11724, 2484, -1018, 2390, 5298], 3, 15, 3800],
      "panasonic dmc-fz35": [[9938, -2780, -890, -4604, 12393, 2480, -1117, 2304, 4620], 0, 150, 3986],
      "panasonic dmc-fz38": [[9938, -2780, -890, -4604, 12393, 2480, -1117, 2304, 4620], 0, 150, 3986],
      "panasonic dmc-fz45": [[13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986],
      "panasonic dmc-fz40": [[13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986],
      "panasonic dmc-fz40": [[13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986],
      "panasonic dmc-fz40": [[13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986],
      "panasonic dmc-fz70": [[11532, -4324, -1066, -2375, 10847, 1749, -564, 1699, 4351], 1, 120, 3971],
      "panasonic dmc-fz72": [[11532, -4324, -1066, -2375, 10847, 1749, -564, 1699, 4351], 1, 120, 3971],
      "panasonic dmc-fz100": [[16197, -6146, -1761, -2393, 10765, 1869, 366, 2238, 5248], 3, 120, 3986],
      "panasonic dmc-fz1000": [[7830, -2696, -763, -3325, 11667, 1866, -641, 1712, 4824], 3, 143, 4095],
      "panasonic dc-fz10002": [[9803, -4185, -992, -4066, 12578, 1628, -838, 1824, 5288], 3, 143, 4095],
      "panasonic dmc-gx1": [[6763, -1919, -863, -3868, 11515, 2684, -1216, 2387, 5879], 2, 150, 3956],
      "panasonic dmc-gx7": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 150, 3956],
      "panasonic dmc-gx8": [[7564, -2263, -606, -3148, 11239, 2177, -540, 1435, 4853], 3, 143, 4095],
      "panasonic dmc-gx85": [[7771, -3020, -629, -4029, 11950, 2345, -821, 1977, 6119], 0, 143, 4095],
      "panasonic dmc-gx80": [[7771, -3020, -629, -4029, 11950, 2345, -821, 1977, 6119], 0, 143, 4095],
      "panasonic dmc-gx7mk2": [[7771, -3020, -629, -4029, 11950, 2345, -821, 1977, 6119], 0, 143, 4095],
      "panasonic dmc-lf1": [[9379, -3267, -816, -3227, 11560, 1881, -926, 1928, 5340], 1, 143, 3971],
      "panasonic dmc-lx3": [[8128, -2668, -655, -6134, 13307, 3161, -1782, 2568, 6083], 0, 15, 3971],
      "panasonic dmc-lx15": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 143, 4095],
      "panasonic dmc-lx9": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 143, 4095],
      "panasonic dmc-lx10": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 143, 4095],
      "leica c (typ 112)": [[9379, -3267, -816, -3227, 11560, 1881, -926, 1928, 5340], 1, 146, 3956],
      "leica digilux 2": [[11340, -4069, -1275, -7555, 15266, 2448, -2960, 3426, 7685], 1, 0, 4095],
      "leica d-lux 3": [[8048, -2810, -623, -6450, 13519, 3272, -1700, 2146, 7049], 0, 0, 3986],
      "leica v-lux (typ 114)": [[7830, -2696, -763, -3325, 11667, 1866, -641, 1712, 4824], 3, 142, 4095],
      "leica v-lux 1": [[7906, -2709, -594, -6231, 13351, 3220, -1922, 2631, 6537], 0, 0, 3986],
      "panasonic dmc-l10": [[8025, -1942, -1050, -7920, 15904, 2100, -2456, 3005, 7039], 3, 0, 3986],
      "panasonic dmc-fz30": [[10976, -4029, -1141, -7918, 15491, 2600, -1670, 2071, 8246], 1, 0, 3971],
      "panasonic dmc-fz50": [[7906, -2709, -594, -6231, 13351, 3220, -1922, 2631, 6537], 0, 0, 3986],
      "panasonic dmc-fz8": [[8986, -2755, -802, -6341, 13575, 3077, -1476, 2144, 6379], 1, 0, 3986],
      "panasonic dmc-fz18": [[9932, -3060, -935, -5809, 13331, 2753, -1267, 2155, 5575], 0, 0, 3986],
      "panasonic dmc-l1": [[8054, -1885, -1025, -8349, 16367, 2040, -2805, 3542, 7629], 3, 0, 3986],
      "panasonic dmc-lx2": [[8048, -2810, -623, -6450, 13519, 3272, -1700, 2146, 7049], 0, 0, 3986],
      "leica d-lux 4": [[8128, -2668, -655, -6134, 13307, 3161, -1782, 2568, 6083], 0, 15, 3971],
      "panasonic dmc-lx5": [[10909, -4295, -948, -1333, 9306, 2399, 22, 1738, 4582], 2, 150, 3986],
      "leica d-lux 5": [[10909, -4295, -948, -1333, 9306, 2399, 22, 1738, 4582], 2, 150, 3986],
      "panasonic dmc-lx7": [[10148, -3743, -991, -2837, 11366, 1659, -701, 1893, 4899], 2, 150, 3971],
      "leica d-lux 6": [[10148, -3743, -991, -2837, 11366, 1659, -701, 1893, 4899], 2, 150, 3971],
      "leica d-lux (typ 109)": [[8844, -3538, -768, -3709, 11762, 2200, -698, 1792, 5220], 0, 143, 4095],
      "panasonic dmc-lx1": [[10704, -4187, -1230, -8314, 15952, 2501, -920, 945, 8927], 1, 0, 3971],
      "panasonic dmc-lx100": [[8844, -3538, -768, -3709, 11762, 2200, -698, 1792, 5220], 0, 143, 4095],
      "panasonic dc-lx100m2": [[8585, -3127, -833, -4005, 12250, 1953, -650, 1494, 4862], 0, 143, 4095],
      "panasonic dc-s1": [[9744, -3905, -779, -4899, 12807, 2324, -798, 1630, 5827], 1, 511, 16380],
      "panasonic dc-s1h": [[9397, -3719, -805, -5425, 13326, 2309, -972, 1715, 6034], 1, 510, 16380],
      "panasonic dc-s5": [[9744, -3905, -779, -4899, 12807, 2324, -798, 1630, 5827], 1, 509, 16380],
      "panasonic dc-s1r": [[11822, -5321, -1249, -5958, 15114, 766, -614, 1264, 7043], 3, 510, 16380],
      "panasonic dmc-tz60": [[8607, -2822, -808, -3755, 11930, 2049, -820, 2060, 5224], 1, 145, 3971],
      "panasonic dmc-tz61": [[8607, -2822, -808, -3755, 11930, 2049, -820, 2060, 5224], 1, 145, 3971],
      "panasonic dmc-zs40": [[8607, -2822, -808, -3755, 11930, 2049, -820, 2060, 5224], 1, 145, 3971],
      "panasonic dmc-tz71": [[8802, -3135, -789, -3151, 11468, 1904, -550, 1745, 4810], 1, 143, 3971],
      "panasonic dmc-zs50": [[8802, -3135, -789, -3151, 11468, 1904, -550, 1745, 4810], 1, 143, 3971],
      "panasonic dmc-tz70": [[8802, -3135, -789, -3151, 11468, 1904, -550, 1745, 4810], 1, 143, 3971],
      "panasonic dmc-tz81": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095],
      "panasonic dmc-zs60": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095],
      "panasonic dmc-tz80": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095],
      "panasonic dmc-tz85": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095],
      "panasonic dmc-tz100": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dmc-zs100": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dmc-zs110": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dmc-tz101": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dmc-tz110": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dmc-tx1": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dc-fz82": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095],
      "panasonic dc-fz80": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095],
      "panasonic dmc-fz80": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095],
      "panasonic dmc-fz85": [[8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095],
      "panasonic dc-gh5": [[7641, -2336, -605, -3218, 11299, 2187, -485, 1338, 5121], 1, 143, 4095],
      "panasonic dc-gh5s": [[6929, -2355, -708, -4192, 12534, 1828, -1097, 1989, 5195], 1, 510, 8e3],
      "panasonic dc-g9": [[7685, -2375, -634, -3687, 11700, 2249, -748, 1546, 5111], 1, 148, 4095],
      "panasonic dc-g95": [[9657, -3963, -748, -3361, 11378, 2258, -568, 1415, 5158], 0, 144, 4095],
      "panasonic dc-g90": [[9657, -3963, -748, -3361, 11378, 2258, -568, 1415, 5158], 0, 144, 4095],
      "panasonic dc-g91": [[9657, -3963, -748, -3361, 11378, 2258, -568, 1415, 5158], 0, 144, 4095],
      "panasonic dc-g99": [[9657, -3963, -748, -3361, 11378, 2258, -568, 1415, 5158], 0, 144, 4095],
      "panasonic dc-gf9": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dc-gx800": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dc-gx850": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dc-gx880": [[7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095],
      "panasonic dc-gx9": [[7564, -2263, -606, -3148, 11239, 2177, -540, 1435, 4853], 0, 143, 4095],
      "panasonic dc-tz90": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
      "panasonic dc-tz91": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
      "panasonic dc-zs70": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
      "panasonic dc-fz91": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
      "panasonic dc-fz92": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
      "panasonic dc-fz93": [[9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095],
      "panasonic dc-tz96": [[12194, -5340, -1329, -3035, 11394, 1858, -50, 1418, 5219], 3, 142, 4095],
      "panasonic dc-tz95": [[12194, -5340, -1329, -3035, 11394, 1858, -50, 1418, 5219], 3, 142, 4095],
      "panasonic dc-zs80": [[12194, -5340, -1329, -3035, 11394, 1858, -50, 1418, 5219], 3, 142, 4095],
      "panasonic dc-tz202": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dc-tz200": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "panasonic dc-zs200": [[7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095],
      "pentax k100d": [[11095, -3157, -1324, -8377, 15834, 2720, -1108, 947, 11688], 1, 127, 3950],
      "pentax k110d": [[11095, -3157, -1324, -8377, 15834, 2720, -1108, 947, 11688], 1, 127, 4095],
      "pentax k100d super": [[11095, -3157, -1324, -8377, 15834, 2720, -1108, 947, 11688], 1, 127, 4095],
      "pentax *ist d": [[9651, -2059, -1189, -8881, 16512, 2487, -1460, 1345, 10687], 1, 128, 4095],
      "pentax *ist dl": [[10829, -2838, -1115, -8339, 15817, 2696, -837, 680, 11939], 1, 128, 4095],
      "pentax *ist dl2": [[10504, -2438, -1189, -8603, 16207, 2531, -1022, 863, 12242], 1, 127, 3950],
      "pentax *ist ds": [[10371, -2333, -1206, -8688, 16231, 2602, -1230, 1116, 11282], 1, 128, 3950],
      "pentax k10d": [[9566, -2863, -803, -7170, 15172, 2112, -818, 803, 9705], 1, 0, 4095],
      "pentax k20d": [[9427, -2714, -868, -7493, 16092, 1373, -2199, 3264, 7180], 0, 0, 4095],
      "pentax k200d": [[9186, -2678, -907, -8693, 16517, 2260, -1129, 1094, 8524], 1, 0, 4095],
      "pentax k-s1": [[8512, -3211, -787, -4167, 11966, 2487, -638, 1288, 6054], 1, 32, 4062],
      "pentax k-s2": [[8662, -3280, -798, -3928, 11771, 2444, -586, 1232, 6054], 1, 0, 3839],
      "pentax k-70": [[8113, -2078, -1275, -4359, 12953, 1514, -1091, 1955, 6044], 1, 64, 16319],
      "pentax k-1": [[8827, -2829, -1238, -3611, 12203, 1549, -897, 1687, 6291], 1, 64, 16316],
      "pentax k-1 mark ii": [[8952, -2869, -1256, -3612, 12204, 1550, -934, 1757, 6549], 1, 64, 16316],
      "pentax k-3": [[7415, -2052, -721, -5186, 12788, 2682, -1446, 2157, 6773], 1, 1, 15868],
      "pentax k-3 ii": [[7415, -2052, -721, -5186, 12788, 2682, -1446, 2157, 6773], 1, 1, 15865],
      "pentax k-5": [[8713, -2833, -743, -4342, 11900, 2772, -722, 1543, 6247], 0, 512, 16383],
      "pentax k-5 ii": [[8170, -2725, -639, -4440, 12017, 2744, -771, 1465, 6599], 0, 512, 16383],
      "pentax k-5 ii s": [[8170, -2725, -639, -4440, 12017, 2744, -771, 1465, 6599], 0, 512, 15863],
      "pentax k-7": [[9142, -2947, -678, -8648, 16967, 1663, -2224, 2898, 8615], 0, 0, 4095],
      "pentax k-m": [[11057, -3604, -1155, -5152, 13046, 2329, -282, 375, 8104], 1, 0, 4095],
      "pentax k-x": [[8843, -2837, -625, -5025, 12644, 2668, -411, 1234, 7410], 0, 41, 4095],
      "pentax k-r": [[9895, -3077, -850, -5304, 13035, 2521, -883, 1768, 6936], 0, 64, 4e3],
      "pentax kp": [[8617, -3228, -1034, -4674, 12821, 2044, -803, 1577, 5728], 1, 128, 16254],
      "pentax k2000": [[11057, -3604, -1155, -5152, 13046, 2329, -282, 375, 8104], 1, 0, 4095],
      "pentax 645d": [[9814, -2716, -1439, -5049, 13907, 1166, -1830, 3836, 5706], 0, 0, 15767],
      "pentax 645z": [[9551, -3012, -1235, -3685, 12133, 1721, -1019, 1887, 6544], 1, 1, 16316],
      "samsung ex2f": [[10648, -3897, -1055, -2022, 10573, 1668, -492, 1611, 4742], 1, 0, 4095],
      "samsung ex1": [[8898, -2498, -994, -3144, 11328, 2066, -760, 1381, 4576], 1, 0, 16383],
      "samsung nx1": [[10686, -4042, -1052, -3595, 13238, 276, -464, 1259, 5931], 2, 1024, 16100],
      "samsung nx5": [[10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095],
      "samsung nx10": [[10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095],
      "samsung nx11": [[10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095],
      "samsung nx100": [[10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095],
      "samsung nx1000": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
      "samsung nx1100": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
      "samsung nx20": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
      "samsung nx200": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
      "samsung nx210": [[6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095],
      "samsung nx2000": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095],
      "samsung nx30": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095],
      "samsung nx300": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095],
      "samsung nx300m": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095],
      "samsung nx3000": [[8060, -2933, -761, -4504, 12890, 1762, -630, 1489, 5227], 2, 0, 4095],
      "samsung nx500": [[10686, -4042, -1052, -3595, 13238, 276, -464, 1259, 5931], 2, 1024, 16100],
      "samsung ek-gn120": [[7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 3, 0, 4095],
      "samsung wb2000": [[12093, -3557, -1155, -1e3, 9534, 1733, -22, 1787, 4576], 1, 0, 4095],
      "sony dsc-rx0": [[9396, -3507, -843, -2497, 11111, 1572, -343, 1355, 5089], 1, 800, 16620],
      "sony dsc-rx0m2": [[9396, -3507, -843, -2497, 11111, 1572, -343, 1355, 5089], 1, 800, 16300],
      "sony dsc-rx10": [[6679, -1825, -745, -5047, 13256, 1953, -1580, 2422, 5183], 1, 800, 16300],
      "sony dsc-rx10m2": [[6679, -1825, -745, -5047, 13256, 1953, -1580, 2422, 5183], 1, 800, 16300],
      "sony dsc-rx10m3": [[6679, -1825, -745, -5047, 13256, 1953, -1580, 2422, 5183], 1, 800, 16300],
      "sony dsc-rx10m4": [[7699, -2566, -629, -2967, 11270, 1928, -378, 1286, 4807], 1, 800, 16380],
      "sony dsc-rx100": [[8651, -2754, -1057, -3464, 12207, 1373, -568, 1398, 4434], 1, 800, 16620],
      "sony dsc-rx100m2": [[6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300],
      "sony dsc-rx100m3": [[6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300],
      "sony dsc-rx100m4": [[6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300],
      "sony dsc-rx100m5": [[6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300],
      "sony dsc-rx100m5a": [[11176, -4700, -965, -4004, 12184, 2032, -763, 1726, 5876], 1, 800, 16300],
      "sony dsc-rx100m6": [[7325, -2321, -596, -3494, 11674, 2055, -668, 1562, 5031], 1, 800, 16300],
      "sony dsc-rx100m7": [[10315, -4390, -937, -4859, 12734, 2365, -734, 1537, 5997], 1, 800, 16300],
      "sony dsc-rx1r": [[6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 512, 33192],
      "sony dsc-rx1rm2": [[6629, -1900, -483, -4618, 12349, 2550, -622, 1381, 6514], 1, 512, 16300],
      "sony dslr-a100": [[9437, -2811, -774, -8405, 16215, 2290, -710, 596, 7181], 2, 0, 4095],
      "sony dslr-a200": [[9847, -3091, -928, -8485, 16345, 2225, -715, 595, 7103], 1, 0, 4095],
      "sony dslr-a230": [[9847, -3091, -928, -8485, 16345, 2225, -715, 595, 7103], 1, 0, 4095],
      "sony dslr-a290": [[6038, -1484, -579, -9145, 16746, 2512, -875, 746, 7218], 1, 0, 4095],
      "sony dslr-a300": [[9847, -3091, -928, -8485, 16345, 2225, -715, 595, 7103], 1, 0, 4095],
      "sony dslr-a330": [[9847, -3091, -929, -8485, 16346, 2225, -714, 595, 7103], 1, 0, 4095],
      "sony dslr-a350": [[6038, -1484, -578, -9146, 16746, 2513, -875, 746, 7217], 1, 0, 4095],
      "sony dslr-a380": [[6038, -1484, -579, -9145, 16746, 2512, -875, 746, 7218], 1, 0, 4095],
      "sony dslr-a390": [[6038, -1484, -579, -9145, 16746, 2512, -875, 746, 7218], 1, 0, 4095],
      "sony dslr-a450": [[4950, -580, -103, -5228, 12542, 3029, -709, 1435, 7371], 1, 500, 16e3],
      "sony dslr-a500": [[6046, -1127, -278, -5574, 13076, 2786, -691, 1419, 7625], 0, 500, 16600],
      "sony dslr-a550": [[4950, -580, -103, -5228, 12542, 3029, -709, 1435, 7371], 0, 512, 16372],
      "sony dslr-a560": [[4950, -580, -103, -5228, 12542, 3029, -709, 1435, 7371], 0, 476, 16596],
      "sony dslr-a580": [[5932, -1492, -411, -4813, 12285, 2856, -741, 1524, 6739], 0, 520, 16596],
      "sony dslr-a700": [[5775, -805, -359, -8574, 16295, 2391, -1943, 2341, 7249], 0, 520, 16383],
      "sony dslr-a850": [[5413, -1162, -365, -5665, 13098, 2866, -608, 1179, 8440], 0, 500, 15e3],
      "sony dslr-a900": [[5209, -1072, -397, -8845, 16120, 2919, -1618, 1803, 8654], 1, 520, 16383],
      "sony nex-3": [[6907, -1256, -645, -4940, 12621, 2320, -1710, 2581, 6230], 1, 520, 16360],
      "sony nex-3n": [[6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 520, 16596],
      "sony nex-5": [[6807, -1350, -342, -4216, 11649, 2567, -1089, 2001, 6420], 1, 520, 16383],
      "sony nex-5n": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16596],
      "sony nex-5r": [[6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 520, 16596],
      "sony nex-5t": [[6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 512, 16300],
      "sony nex-6": [[6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 520, 16596],
      "sony nex-7": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 512, 16300],
      "sony nex-c3": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16596],
      "sony nex-f3": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16360],
      "sony ilce-3000": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
      "sony ilce-3500": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
      "sony ilce-5000": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
      "sony ilce-5100": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
      "sony ilce-6000": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300],
      "sony ilce-6100": [[7657, -2847, -607, -4083, 11966, 2389, -684, 1418, 5844], 1, 512, 16300],
      "sony ilce-6300": [[5973, -1695, -419, -3826, 11797, 2293, -639, 1398, 5789], 1, 512, 16300],
      "sony ilce-6400": [[7657, -2847, -607, -4083, 11966, 2389, -684, 1418, 5844], 1, 512, 16383],
      "sony ilce-6500": [[5973, -1695, -419, -3826, 11797, 2293, -639, 1398, 5789], 1, 512, 16300],
      "sony ilce-6600": [[7657, -2847, -607, -4083, 11966, 2389, -684, 1418, 5844], 1, 512, 16383],
      "sony ilce-7": [[5271, -712, -347, -6153, 13653, 2763, -1601, 2366, 7242], 1, 512, 16300],
      "sony ilce-7m2": [[5271, -712, -347, -6153, 13653, 2763, -1601, 2366, 7242], 1, 512, 16300],
      "sony ilce-7m3": [[7374, -2389, -551, -5435, 13162, 2519, -1006, 1795, 6552], 1, 512, 16300],
      "sony ilce-7r": [[4913, -541, -202, -6130, 13513, 2906, -1564, 2151, 7183], 1, 512, 16300],
      "sony ilce-7rm2": [[6629, -1900, -483, -4618, 12349, 2550, -622, 1381, 6514], 1, 512, 16300],
      "sony ilce-7rm3": [[6640, -1847, -503, -5238, 13010, 2474, -993, 1673, 6527], 1, 512, 16383],
      "sony ilce-7rm4": [[7662, -2686, -660, -5240, 12965, 2530, -796, 1508, 6167], 1, 512, 16383],
      "sony ilce-7s": [[5838, -1430, -246, -3497, 11477, 2297, -748, 1885, 5778], 1, 512, 16300],
      "sony ilce-7sm2": [[5838, -1430, -246, -3497, 11477, 2297, -748, 1885, 5778], 1, 512, 16300],
      "sony ilce-9": [[6389, -1703, -378, -4562, 12265, 2587, -670, 1489, 6550], 1, 512, 16383],
      "sony ilce-9m2": [[6389, -1703, -378, -4562, 12265, 2587, -670, 1489, 6550], 1, 512, 16380],
      "sony dsc-rx1": [[6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 520, 16628],
      "sony slt-a33": [[6069, -1221, -366, -5221, 12779, 2734, -1024, 2066, 6834], 1, 520, 16596],
      "sony slt-a35": [[5986, -1618, -415, -4557, 11820, 3120, -681, 1404, 6971], 1, 545, 16596],
      "sony slt-a37": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16500],
      "sony slt-a55": [[5932, -1492, -411, -4813, 12285, 2856, -741, 1524, 6739], 1, 520, 16596],
      "sony slt-a55v": [[5932, -1492, -411, -4813, 12285, 2856, -741, 1524, 6739], 1, 520, 16596],
      "sony slt-a57": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16596],
      "sony slt-a58": [[5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16596],
      "sony slt-a65": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596],
      "sony slt-a65v": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596],
      "sony slt-a77": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596],
      "sony slt-a77v": [[5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596],
      "sony ilca-77m2": [[5991, -1732, -443, -4100, 11989, 2381, -704, 1467, 5992], 1, 512, 16300],
      "sony ilca-68": [[6435, -1903, -536, -4722, 12449, 2550, -663, 1363, 6517], 1, 512, 16300],
      "sony ilca-99m2": [[6660, -1918, -471, -4613, 12398, 2485, -649, 1433, 6447], 1, 512, 16300],
      "sony slt-a99": [[6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 520, 16596],
      "sony slt-a99v": [[6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 520, 16596],
      "sony zv-1": [[8280, -2987, -703, -3531, 11645, 2133, -550, 1542, 5312], 1, 800, 16300],
      "sinar hy6": [[16442, -2956, -2422, -2877, 12128, 750, -1136, 6066, 4559], 1, 0, 0],
      "fujifilm finepix s1": [[12297, -4882, -1202, -2106, 10691, 1623, -88, 1312, 4790], 1, 200, 4095],
      "fujifilm finepix s6000fd": [[12628, -4887, -1401, -6861, 14996, 1962, -2198, 2782, 7091], 3, 0, 15872],
      "fujifilm finepix s100fs": [[11521, -4355, -1065, -6524, 13767, 3058, -1466, 1984, 6045], 3, 512, 16383],
      "fujifilm finepix s200exr": [[11401, -4498, -1312, -5088, 12751, 2613, -838, 1568, 5941], 1, 519, 16250],
      "fujifilm finepix f600exr": [[13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 256, 3900],
      "fujifilm finepix f700": [[10004, -3219, -1201, -7036, 15047, 2107, -1863, 2565, 7736], 3, 0, 16383],
      "fujifilm finepix f770exr": [[13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 256, 3900],
      "fujifilm finepix f900exr": [[12085, -4727, -953, -3257, 11489, 2002, -511, 2046, 4592], 0, 256, 3900],
      "fujifilm finepix e550": [[11044, -3888, -1120, -7248, 15168, 2208, -1531, 2277, 8069], 3, 0, 15875],
      "fujifilm is-1": [[21461, -10807, -1441, -2332, 10599, 1999, 289, 875, 7703], 3, 0, 15872],
      "fujifilm finepix s3pro": [[11807, -4612, -1294, -8927, 16968, 1988, -2120, 2741, 8006], 3, 0, 15872],
      "fujifilm finepix s5pro": [[12300, -5110, -1304, -9117, 17143, 1998, -1947, 2448, 8100], 3, 0, 15872],
      "fujifilm finepix s5600": [[9636, -2804, -988, -7442, 15040, 2589, -1803, 2311, 8621], 3, 0, 15872],
      "fujifilm finepix e900": [[9183, -2526, -1078, -7461, 15071, 2574, -2022, 2440, 8639], 3, 0, 15872],
      "fujifilm finepix s2pro": [[12492, -4690, -1402, -7033, 15423, 1647, -1507, 2111, 7697], 3, 128, 4095],
      "fujifilm finepix s5000": [[8754, -2732, -1019, -7204, 15069, 2276, -1702, 2334, 6982], 3, 0, 15872],
      "fujifilm finepix s5200": [[9636, -2804, -988, -7442, 15040, 2589, -1803, 2311, 8621], 3, 0, 15872],
      "fujifilm finepix s5500": [[11940, -4431, -1255, -6766, 14428, 2542, -993, 1165, 7421], 1, 0, 15872],
      "fujifilm finepix s6500fd": [[12628, -4887, -1401, -6861, 14996, 1962, -2198, 2782, 7091], 3, 0, 15872],
      "fujifilm finepix s7000": [[10190, -3506, -1312, -7153, 15051, 2238, -2003, 2399, 7505], 3, 0, 15869],
      "fujifilm finepix s9500": [[10491, -3423, -1145, -7385, 15027, 2538, -1809, 2275, 8692], 3, 0, 15872],
      "fujifilm finepix s9000": [[10491, -3423, -1145, -7385, 15027, 2538, -1809, 2275, 8692], 3, 0, 15872],
      "fujifilm finepix s9600": [[12343, -4515, -1285, -7165, 14899, 2435, -1895, 2496, 8800], 3, 0, 15872],
      "fujifilm finepix s9600fd": [[12343, -4515, -1285, -7165, 14899, 2435, -1895, 2496, 8800], 3, 0, 15872],
      "fujifilm finepix hs10 hs11": [[12440, -3954, -1183, -1123, 9674, 1708, -83, 1614, 4086], 0, 50, 3900],
      "fujifilm finepix hs20exr": [[13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 256, 3900],
      "fujifilm finepix hs30exr": [[13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 258, 3900],
      "fujifilm finepix hs50exr": [[12085, -4727, -953, -3257, 11489, 2002, -511, 2046, 4592], 0, 256, 3900],
      "fujifilm finepix x100": [[12161, -4457, -1069, -5034, 12874, 2400, -795, 1724, 6904], 0, 254, 4e3],
      "fujifilm finepix x10": [[13509, -6199, -1254, -4430, 12733, 1865, -331, 1441, 5022], 0, 256, 4e3],
      "fujifilm x-s1": [[13509, -6199, -1254, -4430, 12733, 1865, -331, 1441, 5022], 0, 260, 4e3],
      "fujifilm gfx 50s": [[11756, -4754, -874, -3056, 11045, 2305, -381, 1457, 6006], 1, 65, 16383],
      "fujifilm gfx 50r": [[11756, -4754, -874, -3056, 11045, 2305, -381, 1457, 6006], 1, 65, 16383],
      "fujifilm gfx 100": [[16212, -8423, -1583, -4336, 12583, 1937, -195, 726, 6199], 1, 63, 16383],
      "fujifilm x-pro1": [[10413, -3996, -993, -3721, 11640, 2361, -733, 1540, 6011], 2, 256, 4094],
      "fujifilm x-pro2": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383],
      "fujifilm x-pro3": [[13426, -6334, -1177, -4244, 12136, 2371, -580, 1303, 5980], 2, 1022, 16383],
      "fujifilm x70": [[10450, -4329, -878, -3217, 11105, 2421, -752, 1758, 6519], 1, 1024, 16383],
      "fujifilm xf1": [[13509, -6199, -1254, -4430, 12733, 1865, -331, 1441, 5022], 0, 257, 4e3],
      "fujifilm xf10": [[11673, -4760, -1041, -3988, 12058, 2166, -771, 1417, 5569], 1, 1024, 16383],
      "fujifilm x-e1": [[10413, -3996, -993, -3721, 11640, 2361, -733, 1540, 6011], 2, 255, 4094],
      "fujifilm x20": [[11768, -4971, -1133, -4904, 12927, 2183, -480, 1723, 4605], 3, 257, 4094],
      "fujifilm x30": [[12328, -5256, -1144, -4469, 12927, 1675, -87, 1291, 4351], 3, 257, 4094],
      "fujifilm x100f": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383],
      "fujifilm x100s": [[10592, -4262, -1008, -3514, 11355, 2465, -870, 2025, 6386], 1, 1024, 16383],
      "fujifilm x100t": [[10592, -4262, -1008, -3514, 11355, 2465, -870, 2025, 6386], 1, 1024, 16383],
      "fujifilm x100v": [[13426, -6334, -1177, -4244, 12136, 2371, -580, 1303, 5980], 2, 1022, 16383],
      "fujifilm x-h1": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383],
      "fujifilm x-m1": [[10413, -3996, -993, -3721, 11640, 2361, -733, 1540, 6011], 2, 256, 4094],
      "fujifilm x-a1": [[11086, -4555, -839, -3512, 11310, 2517, -815, 1341, 5940], 1, 256, 4094],
      "fujifilm x-a2": [[10763, -4560, -917, -3346, 11311, 2322, -475, 1135, 5843], 1, 256, 4094],
      "fujifilm x-a3": [[12407, -5222, -1086, -2971, 11116, 2120, -294, 1029, 5284], 1, 1024, 16383],
      "fujifilm x-a5": [[11673, -4760, -1041, -3988, 12058, 2166, -771, 1417, 5569], 1, 1024, 16383],
      "fujifilm x-a10": [[11540, -4999, -991, -2949, 10963, 2278, -382, 1049, 5605], 1, 256, 4094],
      "fujifilm xq1": [[9252, -2704, -1064, -5893, 14265, 1717, -1101, 2341, 4349], 3, 257, 4094],
      "fujifilm xq2": [[9252, -2704, -1064, -5893, 14265, 1717, -1101, 2341, 4349], 3, 257, 4094],
      "fujifilm x-e2": [[8458, -2451, -855, -4597, 12447, 2407, -1475, 2482, 6526], 1, 1024, 16383],
      "fujifilm x-e3": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1023, 16383],
      "fujifilm x-e2s": [[11562, -5118, -961, -3022, 11007, 2311, -525, 1569, 6097], 1, 1024, 16383],
      "fujifilm x-t1": [[8458, -2451, -855, -4597, 12447, 2407, -1475, 2482, 6526], 1, 1024, 16383],
      "fujifilm x-t2": [[11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383],
      "fujifilm x-t3": [[16393, -7740, -1436, -4238, 12131, 2371, -633, 1424, 6553], 2, 1022, 16383],
      "fujifilm x-t4": [[13426, -6334, -1177, -4244, 12136, 2371, -580, 1303, 5980], 2, 1022, 16383],
      "fujifilm x-t10": [[8458, -2451, -855, -4597, 12447, 2407, -1475, 2482, 6526], 1, 1024, 16383],
      "fujifilm x-t20": [[10592, -4262, -1008, -3514, 11355, 2465, -870, 2025, 6386], 1, 1024, 16383],
      "fujifilm x-t30": [[13426, -6334, -1177, -4244, 12136, 2371, -580, 1303, 5980], 2, 1022, 16383],
      "fujifilm x-t100": [[11673, -4760, -1041, -3988, 12058, 2166, -771, 1417, 5569], 1, 1024, 16383],
      "fujifilm x-t200": [[15055, -7391, -1274, -4062, 12071, 2238, -610, 1217, 6147], 1, 1024, 16383],
      "minolta dimage a1": [[9274, -2547, -1167, -8220, 16323, 1943, -2273, 2720, 8340], 1, 0, 3965],
      "minolta dimage 5": [[8983, -2942, -963, -6556, 14476, 2237, -2426, 2887, 8014], 1, 0, 3965],
      "minolta dimage 7": [[9144, -2777, -998, -6676, 14556, 2281, -2470, 3019, 7744], 1, 0, 3965],
      "minolta dimage 7i": [[10880, -3638, -1186, -6496, 14313, 2364, -2456, 3092, 7485], 1, 0, 3965],
      "minolta dimage 7hi": [[11368, -3894, -1242, -6521, 14358, 2339, -2475, 3056, 7285], 1, 0, 3965],
      "sony dsc-f828": [[7924, -1910, -777, -8226, 15459, 2998, -1517, 2199, 6818, -7242, 11401, 3481], 0, 495, 16383],
      "sony dsc-hx99": [[13076, -5686, -1481, -4027, 12851, 1251, -167, 725, 4937], 1, 800, 16300],
      "sony dsc-r1": [[8512, -2641, -694, -8042, 15670, 2526, -1821, 2117, 7414], 2, 511, 16383],
      "mamiya zd": [[7645, 2579, -1363, -8689, 16717, 2015, -3712, 5941, 5961], 1, 0, 4e3],
      "leaf aptus 22": [[8236, 1746, -1314, -8251, 15953, 2428, -3673, 5786, 5771], 1, 0, 16191],
      "leaf credo 40": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383],
      "leaf credo 60": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383],
      "leaf credo 80": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383],
      "leaf aptus-ii 5": [[1846, 7955, -1222, -12994, 19563, 3596, -2035, 3340, 5136], 2, 0, 15e3],
      "phase one p30": [[4516, -245, -37, -7020, 14976, 2173, -3206, 4671, 7087], 2, 0, 16383],
      "phase one p65+": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383],
      "phase one iq140": [[8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 65535],
      "phase one iq250": [[3984, 0, 0, 0, 1e4, 0, 0, 0, 7666], 1, 1024, 65535],
      "kodak dcs pro slr/n": [[5494, 2393, -232, -6427, 13850, 2846, -1876, 3997, 5445], 2, 0, 4095],
      "kodak dcs pro 14n": [[7791, 3128, -776, -8588, 16458, 2039, -2455, 4006, 6198], 2, 0, 3700],
      "kodak dcs pro 14nx": [[5494, 2393, -232, -6427, 13850, 2846, -1876, 3997, 5445], 2, 0, 3700],
      "kodak dcs460": [[10592, -2206, -967, -1944, 11685, 230, 2206, 670, 1273], 2, 7, 6664],
      "kodak dcs520c": [[24542, -10860, -3401, -1490, 11370, -297, 2858, -605, 3225], 2, 176, 4095],
      "kodak dcs560c": [[20482, -7172, -3125, -1033, 10410, -285, 2542, 226, 3136], 2, 208, 4095],
      "kodak dcs760c": [[16623, -6309, -1411, -4344, 13923, 323, 2285, 274, 2926], 2, 0, 3500],
      "kodak p880": [[12805, -4662, -1376, -7480, 15267, 2360, -1626, 2194, 7904], 0, 0, 4095],
      "kodak easyshare z980 digital camera": [[11313, -3559, -1101, -3893, 11891, 2257, -1214, 2398, 4908], 1, 0, 4095],
      "kodak easyshare z981 digital camera": [[12729, -4717, -1188, -1367, 9187, 2582, 274, 860, 4411], 2, 0, 4095],
      "kodak easyshare z990 digital camera": [[11749, -4048, -1309, -1867, 10572, 1489, -138, 1449, 4522], 0, 0, 4e3],
      "kodak z1015 is": [[11265, -4286, -992, -4694, 12343, 2647, -1090, 1523, 5447], 0, 0, 4095],
      "epson r-d1": [[6827, -1878, -732, -8429, 16012, 2564, -704, 592, 7145], 1, 63, 4095],
      "epson r-d1s": [[6827, -1878, -732, -8429, 16012, 2564, -704, 592, 7145], 1, 62, 4095],
      "epson r-d1x": [[6828, -1878, -732, -8429, 16012, 2564, -704, 592, 7145], 1, 65, 4095],
      "hasselblad cfv-50": [[5656, -659, -346, -3923, 12306, 1791, -1602, 3509, 5442], 1, 256, 65535],
      "hasselblad h3d": [[3857, 452, -46, -6008, 14477, 1596, -2627, 4481, 5718], 1, 0, 31456],
      "hasselblad h4d-50": [[5656, -659, -346, -3923, 12306, 1791, -1602, 3509, 5442], 1, 256, 32767],
      "hasselblad h5d-40": [[6159, -1402, -177, -5439, 12762, 3007, -955, 2200, 7104], 1, 256, 62914],
      "hasselblad h5d-50c": [[4932, -835, 141, -4878, 11868, 3437, -1138, 1961, 7067], 1, 256, 62914],
      "hasselblad x1dm2-50c": [[5002, -878, 111, -4856, 11929, 3338, -1183, 2041, 7022], 1, 256, 62914],
      "hasselblad x1d ii 50c": [[5002, -878, 111, -4856, 11929, 3338, -1183, 2041, 7022], 1, 256, 62914],
      "canon powershot a610": [[15591, -6402, -1592, -5365, 13198, 2168, -1300, 1824, 5075], 1, 0, 1023, 2672, 1968],
      "canon powershot s3 is": [[14062, -5199, -1446, -4712, 12470, 2243, -1286, 2028, 4836], 1, 0, 1023, 2888, 2136],
      "canon powershot a620": [[15265, -6193, -1558, -4125, 12116, 2010, -888, 1639, 5220], 1, 0, 1023, 3152, 2340],
      "canon powershot a720 is": [[14573, -5482, -1546, -1266, 9799, 1468, -1040, 1912, 3810], 3, 0, 1023, 3336, 2480],
      "canon powershot a630": [[14201, -5308, -1757, -6087, 14472, 1617, -2191, 3105, 5348], 1, 0, 1023, 3344, 2484],
      "canon powershot a640": [[13124, -5329, -1390, -3602, 11658, 1944, -1612, 2863, 4885], 1, 0, 1023, 3736, 2772],
      "canon powershot a650": [[9427, -3036, -959, -2581, 10671, 1911, -1039, 1982, 4430], 1, 0, 1023, 4104, 3048],
      "canon powershot sx110 is": [[14134, -5576, -1527, -1991, 10719, 1273, -1158, 1929, 3581], 1, 0, 4095, 3720, 2772],
      "gitup git2": [[8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 1, 3200, 65535, 4608, 3456],
      "gitup git2p": [[8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 1, 4160, 65535, 4624, 3488],
      "paralenz dive camera": [[8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 1, 1024, 16383, 3840, 2160],
      "sjcam sj6 legend": [[9489, -3814, -225, -6650, 13742, 3236, -627, 797, 7550], 1, 0, 4095, 4024, 3036]
  };
  j.wJ = {};
  j.wJ.wJ = function(n, z, C, D, F) {
      if (D == null)
          D = 3;
      if (F == null)
          F = !0;
      var X = n.d
        , E = n.v
        , f = 1 / X
        , a = X * E
        , q = Date.now()
        , c = !1
        , K = j.wJ.yE(C, X, E, 255, 128)
        , R = j.wJ.yE(C, X, E, 0, 128)
        , hK = 0;
      if (c)
          console.log("extract contours", Date.now() - q);
      q = Date.now();
      var J = function(dU, hN) {
          var a1 = dU << 2
            , hk = hN << 2;
          return z[a1] + z[a1 + 1] + z[a1 + 2] - (z[hk] + z[hk + 1] + z[hk + 2])
      };
      K.sort(J);
      R.sort(J);
      var w = j.T(a)
        , p = j.T(a)
        , I = []
        , m = new Uint32Array(X * E);
      m.fill(4294967295);
      for (var M = 0; M < a; M++)
          if (C[M] == 0)
              p[M] = 255;
          else if (C[M] == 255)
              w[M] = 255;
          else {
              m[M] = I.length;
              I.push(M)
          }
      var A = K.length
        , U = R.length
        , r = I.length;
      function $(dU, hN, a1, hk) {
          var ax = dU.length
            , ej = new Array(ax * 2);
          for (var M = 0; M < ax; M++) {
              var d = dU[M]
                , g = ~~(d * hk)
                , Y = d - g * a1
                , en = d << 2;
              ej[M * 2] = Y << 16 | g;
              ej[M * 2 + 1] = hN[en] << 16 | hN[en + 1] << 8 | hN[en + 2]
          }
          return ej
      }
      var k = $(K, z, X, f)
        , G = $(R, z, X, f)
        , i = $(I, z, X, f);
      if (c)
          console.log("Itemize", Date.now() - q, "Unknown:", r, A, U);
      q = Date.now();
      var o = j.style.zw(w, X, E, !0)
        , S = j.style.zw(p, X, E, !0)
        , H = new Array(r)
        , e = new Array(r)
        , V = new Array(r)
        , v = new Array(r)
        , B = new Array(r);
      if (c)
          console.log("Dist transform", Date.now() - q);
      q = Date.now();
      var Z = j.wJ.cT;
      for (var M = 0; M < r; M++) {
          var d = I[M]
            , g = ~~(d * f)
            , Y = d - g * X
            , y = o[d << 1]
            , L = o[(d << 1) + 1]
            , _ = Math.sqrt(y * y + L * L)
            , b = S[d << 1]
            , x = S[(d << 1) + 1]
            , W = Math.sqrt(b * b + x * x);
          H[M] = 1 / _;
          e[M] = 1 / W;
          var g6 = Math.floor(j.$.WP(d * 17) * A)
            , fY = Math.floor(j.$.WP(d * 19) * U);
          V[M] = g6;
          v[M] = fY;
          B[M] = Z(i[M * 2], i[M * 2 + 1], k[g6 * 2], k[g6 * 2 + 1], G[fY * 2], G[fY * 2 + 1], H[M], e[M], 1e9)
      }
      var f3 = [-X - 1, -X, -X + 1, -1, 1, X - 1, X, X + 1];
      while (Math.floor(Math.max(A, U) * Math.pow(.5, hK)) > 1)
          hK++;
      for (var s = 0; s < D; s++) {
          var P = 0;
          for (var M = 0; M < r; M++) {
              var d = I[M]
                , g = ~~(d * f)
                , Y = d - g * X
                , aF = H[M]
                , fM = e[M]
                , eA = i[M * 2]
                , e8 = i[M * 2 + 1]
                , eC = B[M]
                , g6 = V[M]
                , fY = v[M]
                , f8 = 1;
              if (g != 0 && Y != 0 && Y != X - 1 && g != E - 1)
                  for (var cy = 0; cy < 8; cy++) {
                      var aX = m[d + f3[cy]];
                      if (aX == 4294967295)
                          continue;
                      var j0 = V[aX]
                        , aT = v[aX];
                      if (j0 == g6 && aT == fY)
                          continue;
                      var a4 = Z(eA, e8, k[j0 * 2], k[j0 * 2 + 1], G[aT * 2], G[aT * 2 + 1], aF, fM, eC);
                      if (a4 < eC) {
                          eC = a4;
                          g6 = j0;
                          fY = aT
                      }
                  }
              for (var b3 = 0; b3 < hK; b3++) {
                  var gh = ~~(A * f8)
                    , cZ = ~~(U * f8);
                  f8 *= .5;
                  var h3 = j.$.WP(d + s * 17 + b3 * 31)
                    , ew = j.$.WP(d + s * 29 + b3 * 63)
                    , dy = Math.max(0, g6 - gh)
                    , fx = Math.min(g6 + gh, A - 1)
                    , bo = Math.max(0, fY - cZ)
                    , hd = Math.min(fY + cZ, U - 1)
                    , j0 = dy + ~~(h3 * (fx - dy))
                    , aT = bo + ~~(ew * (hd - bo))
                    , a4 = Z(eA, e8, k[j0 * 2], k[j0 * 2 + 1], G[aT * 2], G[aT * 2 + 1], aF, fM, eC);
                  if (a4 < eC) {
                      eC = a4;
                      g6 = j0;
                      fY = aT
                  }
              }
              B[M] = eC;
              V[M] = g6;
              v[M] = fY;
              P += eC
          }
      }
      if (c)
          console.log(P);
      if (c)
          console.log("iterations", Date.now() - q);
      q = Date.now();
      var gT = C.slice(0);
      for (var M = 0; M < r; M++) {
          var du = j.wJ.alpha(i[M * 2 + 1], k[V[M] * 2 + 1], G[v[M] * 2 + 1]);
          gT[I[M]] = ~~(.5 + 255 * du)
      }
      gT = j.NX.a6j(gT, z, new cc(0,0,X,E), 16, .01 * .01);
      if (c)
          console.log("guided filter", Date.now() - q);
      q = Date.now();
      if (F)
          for (var M = 0; M < a; M++)
              if (C[M] == 255 || C[M] == 0)
                  gT[M] = C[M];
      var bk = z.slice(0);
      for (var M = 0; M < r; M++) {
          var i8 = I[M]
            , g6 = K[V[M]]
            , eC = B[M]
            , en = i8 << 2
            , dW = gT[i8]
            , ix = (dW >= 250 ? i8 : g6) << 2;
          bk[en] = z[ix];
          bk[en + 1] = z[ix + 1];
          bk[en + 2] = z[ix + 2]
      }
      j.bl(gT, bk, 3);
      if (c)
          console.log(Date.now() - q);
      q = Date.now();
      return bk
  }
  ;
  j.wJ.cT = function(n, z, C, D, F, X, E, f, a) {
      var q = n >>> 16
        , c = n & 65535
        , K = q - (C >>> 16)
        , R = c - (C & 65535)
        , J = q - (F >>> 16)
        , w = c - (F & 65535)
        , p = Math.sqrt(K * K + R * R) * E
        , I = Math.sqrt(J * J + w * w) * f;
      if (p + I >= a)
          return 1e9;
      var m = j.wJ.aq7(z, D, X);
      return m + p + I
  }
  ;
  j.wJ.aq7 = function(n, z, C) {
      var D = n >>> 16
        , F = n >>> 8 & 255
        , X = n & 255
        , E = z >>> 16
        , f = z >>> 8 & 255
        , a = z & 255
        , q = C >>> 16
        , c = C >>> 8 & 255
        , K = C & 255
        , R = j.wJ.alpha(n, z, C)
        , J = D - (R * E + (1 - R) * q)
        , w = F - (R * f + (1 - R) * c)
        , p = X - (R * a + (1 - R) * K);
      return Math.sqrt(J * J + w * w + p * p)
  }
  ;
  j.wJ.alpha = function(n, z, C) {
      var D = n >>> 16
        , F = n >>> 8 & 255
        , X = n & 255
        , E = z >>> 16
        , f = z >>> 8 & 255
        , a = z & 255
        , q = C >>> 16
        , c = C >>> 8 & 255
        , K = C & 255
        , R = E - q
        , J = f - c
        , w = a - K
        , p = D - q
        , I = F - c
        , m = X - K
        , A = R * R + J * J + w * w
        , U = A == 0 ? .5 : (p * R + I * J + m * w) / A;
      return Math.max(0, Math.min(1, U))
  }
  ;
  j.wJ.acA = function(n) {}
  ;
  j.wJ.yE = function(n, z, C, D, F) {
      var X = []
        , E = z - 1
        , f = C - 1;
      for (var a = 1; a < f; a++)
          for (var q = 1; q < E; q++) {
              var M = a * z + q;
              if (n[M] == D && (n[M - z - 1] == F || n[M - z] == F || n[M - z + 1] == F || (n[M - 1] == F || n[M + 1] == F) || (n[M + z - 1] == F || n[M + z] == F || n[M + z + 1] == F)))
                  X.push(M)
          }
      return X
  }
  ;
  j.NX = {};
  j.NX.ah$ = function(n, z, C, D, F) {
      var X = C.d, E = C.v, f = X * E, a = j.NX.Ce, q = j.T(f * 4), c;
      j.xM(q, 4294967295);
      var K = C
        , R = n
        , J = z
        , w = D;
      j.bl(n, q, 0);
      c = j._M(q, C);
      c = j._M(c.oz, c.rect);
      K = c.rect;
      w = D >>> 2;
      console.log(K, w);
      R = j.T(K.t());
      j.Ni(c.oz, R, 0);
      j.bl(z, q, 0);
      c = j._M(q, C);
      c = j._M(c.oz, c.rect);
      J = j.T(K.t());
      j.Ni(c.oz, J, 0);
      var p = j.NX.anR(R, J, K, w, F)
        , I = p[0]
        , m = p[1]
        , A = new cc(0,0,K.d * 2,K.v * 2);
      I = a(I, K, A, !0);
      I = a(I, A, C, !0);
      m = a(m, K, A, !0);
      m = a(m, A, C, !0);
      var U = j.T(f);
      for (var M = 0; M < f; M++)
          U[M] = Math.max(0, Math.min(255, Math.floor(.5 + (I[M] * z[M] + 255 * m[M]))));
      return U
  }
  ;
  j.NX.Ce = function(n, z, C, D) {
      var F = C.d
        , X = C.v
        , E = z.d
        , f = z.v
        , a = j.NX.AO
        , q = new Float32Array(F * X);
      for (var c = 0; c < f; c++) {
          var K = (c + c) * F;
          for (var R = 0; R < E; R++) {
              if (!0 || R == 0 || c == 0 || R == E - 1 || c == f - 1)
                  q[K] = q[K + 1] = q[K + F] = q[K + F + 1] = n[c * E + R];
              else {
                  q[K] = a(R + .25, c + .25, n, E, f);
                  q[K + 1] = a(R + .75, c + .25, n, E, f);
                  q[K + F] = a(R + .25, c + .75, n, E, f);
                  q[K + F + 1] = a(R + .75, c + .75, n, E, f)
              }
              K += 2
          }
      }
      return q
  }
  ;
  j.NX.AO = function(n, z, C, D, F) {
      n -= .499999;
      z -= .499999;
      var X = Math.floor(n)
        , E = Math.floor(z)
        , f = E * D + X
        , a = n - X
        , q = z - E
        , c = (1 - q) * (1 - a)
        , K = (1 - q) * a
        , R = q * (1 - a)
        , J = q * a;
      if (C[f] == null || C[f + D + 1] == null) {
          console.log(n, z, D, F);
          throw "e"
      }
      return c * C[f + 0] + K * C[f + 1] + R * C[f + D + 0] + J * C[f + D + 1]
  }
  ;
  j.NX.anR = function(n, z, C, D, F) {
      var X = C.d
        , E = C.v
        , f = X * E
        , a = j.NX.Kn
        , q = j.NX.T
        , c = j.Y7.Lo
        , K = j.NX.ln
        , z = a(z)
        , n = a(n)
        , R = q(f);
      c(z, R, C, D);
      var J = q(f);
      c(n, J, C, D);
      var w = q(f);
      K(z, z, w);
      c(w, w, C, D);
      var p = q(f);
      K(z, n, p);
      c(p, p, C, D);
      var I = q(f)
        , m = q(f);
      for (var M = 0; M < f; M++) {
          var A = R[M]
            , U = J[M]
            , r = w[M] - A * A
            , $ = p[M] - A * U
            , k = $ / (r + F)
            , G = U - k * A;
          I[M] = k;
          m[M] = G
      }
      var i = q(f);
      c(I, i, C, D);
      var o = q(f);
      c(m, o, C, D);
      return [i, o]
  }
  ;
  j.NX.a6j = function(n, z, C, D, F) {
      var X = C.d
        , E = C.v
        , f = X * E
        , a = j.NX.Ce
        , q = Date.now()
        , c = !1
        , K = C
        , R = n
        , J = z
        , w = D;
      K = new cc(0,0,X >>> 2,E >>> 2);
      w = D >>> 2;
      R = j.NX.a73(n, X, E);
      J = j.NX.ab4(z, X, E);
      if (c)
          console.log(Date.now() - q);
      q = Date.now();
      var p = j.NX.a0A(R, J, K, w, F)
        , I = p[0]
        , m = p[1]
        , A = p[2]
        , U = p[3];
      if (c)
          console.log(Date.now() - q);
      q = Date.now();
      var r = j.T(f);
      for (var $ = 0; $ < E; $++)
          for (var k = 0; k < X; k++) {
              var M = $ * X + k
                , G = ($ >>> 2) * (X >>> 2) + (k >>> 2)
                , i = M << 2
                , o = I[G] * z[i] + m[G] * z[i + 1] + A[G] * z[i + 2] + U[G] * 255;
              r[M] = Math.max(0, Math.min(255, ~~(.5 + o)))
          }
      if (c)
          console.log(Date.now() - q);
      q = Date.now();
      return r
  }
  ;
  j.NX.a73 = function(n, z, C) {
      var D = z >>> 2
        , F = C >>> 2
        , X = j.T(z * C);
      for (var E = 0; E < F; E++)
          for (var f = 0; f < D; f++)
              X[E * D + f] = n[E * z + f << 2];
      return X
  }
  ;
  j.NX.ab4 = function(n, z, C) {
      var D = z >>> 2
        , F = C >>> 2
        , X = j.T(z * C * 4);
      for (var E = 0; E < F; E++)
          for (var f = 0; f < D; f++) {
              var a = E * D + f << 2
                , q = E * z + f << 4;
              X[a] = n[q];
              X[a + 1] = n[q + 1];
              X[a + 2] = n[q + 2];
              X[a + 3] = n[q + 3]
          }
      return X
  }
  ;
  j.NX.a0A = function(n, z, C, D, F) {
      var X = C.d
        , E = C.v
        , f = X * E
        , a = j.NX.Kn
        , q = j.NX.T
        , c = j.Y7.Lo
        , K = j.NX.ln
        , n = a(n)
        , R = new j.Dv(X * E);
      j.I6(z, R);
      var z = [a(R.h), a(R.Q), a(R.O)]
        , J = j.NX.afh(n, z, C, D, F)
        , w = q(f);
      c(n, w, C, D);
      var p = q(f);
      K(z[0], n, p);
      c(p, p, C, D);
      var I = q(f);
      K(z[1], n, I);
      c(I, I, C, D);
      var m = q(f);
      K(z[2], n, m);
      c(m, m, C, D);
      var A = q(f)
        , U = q(f)
        , r = q(f)
        , $ = q(f);
      for (var M = 0; M < f; M++) {
          var k = w[M]
            , G = J.Hd[M]
            , i = J.vN[M]
            , o = J.ME[M]
            , S = p[M] - G * k
            , H = I[M] - i * k
            , e = m[M] - o * k;
          A[M] = J.al8[M] * S + J.Id[M] * H + J.LT[M] * e;
          U[M] = J.Id[M] * S + J.aea[M] * H + J.Lu[M] * e;
          r[M] = J.LT[M] * S + J.Lu[M] * H + J.apH[M] * e;
          $[M] = k - A[M] * G - U[M] * i - r[M] * o
      }
      c(A, A, C, D);
      c(U, U, C, D);
      c(r, r, C, D);
      c($, $, C, D);
      return [A, U, r, $]
  }
  ;
  j.NX.afh = function(n, z, C, D, F) {
      var X = C.d
        , E = C.v
        , f = X * E
        , a = j.NX.T
        , q = j.Y7.Lo
        , c = j.NX.ln
        , K = {};
      K.Hd = a(f);
      q(z[0], K.Hd, C, D);
      K.vN = a(f);
      q(z[1], K.vN, C, D);
      K.ME = a(f);
      q(z[2], K.ME, C, D);
      var R = a(f);
      c(z[0], z[0], R);
      q(R, R, C, D);
      var J = a(f);
      c(z[0], z[1], J);
      q(J, J, C, D);
      var w = a(f);
      c(z[0], z[2], w);
      q(w, w, C, D);
      var p = a(f);
      c(z[1], z[1], p);
      q(p, p, C, D);
      var I = a(f);
      c(z[1], z[2], I);
      q(I, I, C, D);
      var m = a(f);
      c(z[2], z[2], m);
      q(m, m, C, D);
      K.al8 = R;
      K.Id = J;
      K.LT = w;
      K.aea = p;
      K.Lu = I;
      K.apH = m;
      for (var M = 0; M < f; M++) {
          var A = K.Hd[M]
            , U = K.vN[M]
            , r = K.ME[M]
            , $ = R[M] - A * A + F
            , k = J[M] - A * U
            , G = w[M] - A * r
            , i = p[M] - U * U + F
            , o = I[M] - U * r
            , S = m[M] - r * r + F
            , H = i * S - o * o
            , e = o * G - k * S
            , V = k * o - i * G
            , v = $ * S - G * G
            , B = G * k - $ * o
            , Z = $ * i - k * k
            , d = H * $ + e * k + V * G
            , g = 1 / d;
          K.al8[M] = H * g;
          K.Id[M] = e * g;
          K.LT[M] = V * g;
          K.aea[M] = v * g;
          K.Lu[M] = B * g;
          K.apH[M] = Z * g
      }
      return K
  }
  ;
  j.NX.T = function(n) {
      return new Float32Array(n)
  }
  ;
  j.NX.Kn = function(n) {
      var z = n.length
        , C = new Float32Array(z);
      for (var M = 0; M < z; M++)
          C[M] = n[M] * (1 / 255);
      return C
  }
  ;
  j.NX.ln = function(n, z, C) {
      for (var M = 0; M < n.length; M++)
          C[M] = n[M] * z[M]
  }
  ;
  j.sR = {};
  j.sR.FX = function(n, z, C, D) {
      var F = n[z] - C[D]
        , X = n[z + 1] - C[D + 1]
        , E = n[z + 2] - C[D + 2];
      return Math.sqrt(F * F + X * X + E * E) * (1 / 441.7)
  }
  ;
  j.sR.getSelection = function(n, z, C) {
      var D = z * C
        , F = j.T(D)
        , X = !1
        , E = Math.round(C * .7)
        , f = 1
        , a = new Uint32Array(12)
        , q = j.T(12);
      for (var c = 0; c < E; c++)
          for (var K = 0; K < z; K++) {
              if (K < f || c < f || K > z - f - 1 || c > C - f - 1) {
                  var M = c * z + K
                    , R = M << 2
                    , J = 0;
                  if (c < f)
                      J = 4;
                  else if (K > z - f - 1)
                      J = 8;
                  a[J] += n[R];
                  a[J + 1] += n[R + 1];
                  a[J + 2] += n[R + 2];
                  a[J + 3]++;
                  F[M] = 255
              }
          }
      for (var M = 0; M < 12; M += 4)
          for (var w = 0; w < 3; w++)
              q[M + w] = a[M + w] / a[M + 3];
      var p = new Float32Array(D);
      for (var M = 0; M < D; M++) {
          var R = M * 4
            , I = j.sR.FX(n, R, q, 0)
            , m = j.sR.FX(n, R, q, 4)
            , A = j.sR.FX(n, R, q, 8)
            , U = Math.max(I, Math.max(m, A));
          p[M] = I + m + A - U
      }
      j.sR.gY(p);
      var r = Date.now()
        , $ = new Float32Array(D)
        , k = []
        , G = j.T(D);
      for (var M = 0; M < 3; M++) {
          j.Ni(n, G, M);
          var i = new Uint16Array(D);
          k.push(i);
          j.sR.a1q(G, F, z, C, i)
      }
      if (X)
          console.log("MBD", Date.now() - r);
      r = Date.now();
      for (var M = 0; M < D; M++)
          $[M] = k[0][M] + k[1][M] + k[2][M];
      j.sR.gY($);
      for (var M = 0; M < D; M++)
          $[M] += .4 * p[M];
      var o = z >>> 1
        , E = C >>> 1
        , S = 1 / Math.sqrt(o * o + E * E);
      for (var c = 0; c < C; c++)
          for (var K = 0; K < z; K++) {
              var H = K - o
                , e = c - E
                , V = 1 - Math.sqrt(H * H + e * e) * S;
              $[c * z + K] *= V
          }
      if (X)
          console.log("Centeredness", Date.now() - r);
      r = Date.now();
      for (var M = 0; M < D; M++)
          F[M] = $[M] * 255;
      var v = Math.round(z / 120)
        , B = Math.round(v * .8);
      if (X)
          console.log(v, B);
      j.LC.NM(F, G, z, C, v, j.LC.pN, []);
      F.set(G);
      if (X)
          console.log("erosion", Date.now() - r);
      r = Date.now();
      for (var M = 0; M < D; M++)
          $[M] = F[M];
      j.sR.gY($);
      var Z = j.T(256);
      for (var M = 0; M < 256; M++)
          Z[M] = 256 / (1 + Math.exp(-20 * (M / 255 - .5)));
      for (var M = 0; M < D; M++) {
          var d = ~~($[M] * 255 + .5);
          F[M] = Z[d]
      }
      if (X)
          console.log("Simoid", Date.now() - r);
      r = Date.now();
      return F
  }
  ;
  j.sR.gY = function(n) {
      var z = n.length
        , C = 0;
      for (var M = 0; M < z; M++)
          C = Math.max(C, n[M]);
      var D = 1 / C;
      for (var M = 0; M < z; M++)
          n[M] = n[M] * D
  }
  ;
  j.sR.a1q = function(n, z, C, D, F) {
      var X = C * D
        , E = n.slice(0)
        , f = n.slice(0);
      for (var M = 0; M < X; M++)
          F[M] = z[M] == 255 ? 0 : 65535;
      j.sR.m4(n, f, E, F, C, D);
      j.sR.Po(n, f, E, F, C, D);
      j.sR.m4(n, f, E, F, C, D);
      j.sR.Po(n, f, E, F, C, D);
      return F
  }
  ;
  j.sR.m4 = function(n, z, C, D, F, X) {
      for (var E = 1; E < F; E++)
          j.sR.r3(E, -1, n, z, C, D);
      for (var f = 1; f < X; f++) {
          j.sR.r3(f * F, -F, n, z, C, D);
          for (var E = 1; E < F; E++) {
              var M = f * F + E;
              j.sR.r3(M, -1, n, z, C, D);
              j.sR.r3(M, -F, n, z, C, D)
          }
      }
  }
  ;
  j.sR.Po = function(n, z, C, D, F, X) {
      for (var E = F - 2; E >= 0; E--)
          j.sR.r3(F * X - F + E, 1, n, z, C, D);
      for (var f = X - 2; f >= 0; f--) {
          j.sR.r3(f * F + F - 1, F, n, z, C, D);
          for (var E = F - 2; E >= 0; E--) {
              var M = f * F + E;
              j.sR.r3(M, 1, n, z, C, D);
              j.sR.r3(M, F, n, z, C, D)
          }
      }
  }
  ;
  j.sR.r3 = function(M, n, z, C, D, F) {
      var X = M + n
        , E = z[M]
        , f = C[X]
        , a = D[X];
      if (f < E)
          f = E;
      else if (E < a)
          a = E;
      var q = f - a;
      if (F[X] != 65535 && q < F[M]) {
          F[M] = q;
          C[M] = f;
          D[M] = a
      }
  }
  ;
  j.cx = {};
  j.cx.filter = function(n, z, C, D) {
      var F = z.d
        , X = z.v
        , E = F * X
        , f = D[0]
        , a = D[1]
        , q = D[2]
        , c = D[3]
        , K = D[4]
        , R = D[5]
        , J = D[6]
        , w = Date.now()
        , p = new Float32Array(F * X * 4);
      j.cx.a4g(n, F, X, p);
      var I = Math.ceil(f * Math.sqrt(-2 * Math.log(.1)))
        , m = new ArrayBuffer(E * 4)
        , A = new Float32Array(m)
        , U = new Float32Array(E)
        , r = new Float32Array(E);
      for (var M = 0; M < E; M++) {
          var $ = M * 4;
          A[M] = p[$];
          U[M] = p[$ + 1];
          r[M] = p[$ + 2]
      }
      j.Y7.el(A, A, z, I * 1 / 2.4, 2);
      j.Y7.el(U, U, z, I * 1 / 2.4, 2);
      j.Y7.el(r, r, z, I * 1 / 2.4, 2);
      for (var M = 0; M < E; M++) {
          var $ = M * 4;
          p[$] = A[M];
          p[$ + 1] = U[M];
          p[$ + 2] = r[M]
      }
      var k = new Uint8Array(m);
      for (var M = 0; M < E; M++) {
          var $ = M * 4
            , G = M * 4
            , A = p[$]
            , U = p[$ + 1]
            , r = p[$ + 2]
            , i = Math.sqrt((A - r) * (A - r) + 4 * U * U)
            , o = (A + r + i) * .5
            , S = (A + r - i) * .5
            , H = S - r
            , e = U
            , V = H * H + e * e;
          if (V != 0) {
              var v = Math.sqrt(V)
                , B = 1 / v;
              H *= B;
              e *= B
          }
          k[G] = 128 + 127 * H;
          k[G + 1] = 128 + 127 * e
      }
      var Z = 1.3 * a + 2
        , d = c * (2 / 10)
        , g = n.slice();
      if (N.O3) {
          var Y = new Float32Array([1 / F, 1 / X])
            , y = N.kd(0, F, X);
          y.set(g);
          var L = N.kd(1, F, X);
          L.set(k);
          N.CX(y, z);
          if (K) {
              y.rJ(z);
              N.filter.u$({
                  type: N.filter.JH,
                  d8: Y,
                  aqD: 1 / q,
                  adr: d
              }, y.fa)
          }
          y.rJ(z);
          N.filter.u$({
              type: N.filter.QS,
              _P: L.S9,
              d8: Y,
              abt: Z,
              adj: 2
          }, y.fa);
          if (K) {
              y.rJ(z);
              N.filter.u$({
                  type: N.filter.iL,
                  d8: Y,
                  ak2: new Float32Array(J),
                  adl: R
              }, y.fa)
          }
          y.get(C)
      } else {
          if (K)
              j.cx.yQ(1 / q, d, g, F, X);
          j.cx.QS(g, C, k, F, X, Z);
          if (K)
              j.cx.a9Q(F, X, C, J, R)
      }
      var _ = E * 4;
      for (var M = 3; M < _; M += 4)
          C[M] = n[M]
  }
  ;
  j.cx.QS = function(n, z, C, D, F, X) {
      var E = Math.ceil(2 * X)
        , f = -1 / (2 * X * X)
        , a = []
        , q = 1;
      for (var M = 0; M < E + 20; M++)
          a[M] = Math.exp(M * M * f);
      var c = [0, 0, 0, 0];
      for (var K = 0; K < F; K++) {
          for (var R = 0; R < D; R++) {
              var J = K * D + R
                , w = J * 4
                , p = 1
                , I = n[w]
                , m = n[w + 1]
                , A = n[w + 2]
                , U = n[w + 3]
                , r = (C[w] - 128) * (1 / 127)
                , $ = (C[w + 1] - 128) * (1 / 127)
                , k = r
                , G = $
                , i = R == 0 ? .51 : .49
                , o = K == 0 ? .51 : .49;
              for (var M = 0; M < 2; M++) {
                  var S = R + i
                    , H = K + o
                    , e = 0;
                  while (e < E) {
                      if (S < .5 || D - .5 < S || H < .5 || F - .5 < H)
                          break;
                      var V = ~~S
                        , v = ~~H
                        , B = v * D + V
                        , Z = B * 4
                        , d = (C[Z] - 128) * (1 / 127)
                        , g = (C[Z + 1] - 128) * (1 / 127);
                      if (d * k + g * G < 0) {
                          d = -d;
                          g = -g
                      }
                      k = d;
                      G = g;
                      S += q * d;
                      H += q * g;
                      if (S < .5 || D - .5 < S || H < .5 || F - .5 < H)
                          break;
                      var Y = ~~S
                        , y = ~~H
                        , L = y * D + Y << 2;
                      e += q;
                      var _ = a[~~e];
                      j.V.ZC(S, H, n, D, F, c);
                      I += c[0] * _;
                      m += c[1] * _;
                      A += c[2] * _;
                      U += c[3] * _;
                      p += _
                  }
                  k = -r;
                  G = -$
              }
              var b = 1 / p;
              z[w] = ~~(.5 + I * b);
              z[w + 1] = ~~(.5 + m * b);
              z[w + 2] = ~~(.5 + A * b);
              z[w + 3] = ~~(.5 + U * b)
          }
      }
  }
  ;
  j.cx.a9Q = function(n, z, C, D, F) {
      for (var X = 0; X < z; X++)
          for (var E = 0; E < n; E++) {
              var f = X * n + E << 2
                , a = 1 + j.cx.a8f(E, X, C, n, z, D) * F;
              C[f] = Math.max(0, Math.min(255, C[f] * a));
              C[f + 1] = Math.max(0, Math.min(255, C[f + 1] * a));
              C[f + 2] = Math.max(0, Math.min(255, C[f + 2] * a))
          }
  }
  ;
  j.cx.a8f = function(n, z, C, D, F, X) {
      var E = C[(z * D + Math.max(0, n - 1)) * 4 + 3]
        , f = C[(z * D + Math.min(D - 1, n + 1)) * 4 + 3]
        , a = C[(Math.max(0, z - 1) * D + n) * 4 + 3]
        , q = C[(Math.min(F - 1, z + 1) * D + n) * 4 + 3]
        , c = .7
        , K = (f - E) * (1 / 255)
        , R = .7
        , J = (q - a) * (1 / 255)
        , w = -K * R
        , p = -c * J
        , I = c * R
        , m = Math.sqrt(w * w + p * p + I * I)
        , A = 1 / m
        , U = w * A
        , r = p * A
        , $ = I * A
        , k = X[0] * U + X[1] * r + X[2] * $;
      return k
  }
  ;
  j.cx.yQ = function(n, z, C, D, F) {
      function X(f, q, c) {
          return Math.max(q, Math.min(c, f))
      }
      for (var E = 0; E < F; E++)
          for (var f = 0; f < D; f++) {
              var a = j.cx.amk(f + .5, E + .5, n, z);
              C[(E * D + f) * 4 + 3] = Math.max(0, Math.min(255, a * 255))
          }
  }
  ;
  j.cx.amk = function(n, z, C, D) {
      function F(G, i, o) {
          return (1 - o) * G + o * i
      }
      var X = (n + 613) * C
        , E = (z + 117) * C
        , f = ~~X
        , a = ~~E
        , q = X - f
        , c = E - a
        , K = Math.sin(11)
        , R = Math.cos(f) * K
        , J = Math.cos(f + 1) * K
        , w = Math.cos(a) * K
        , p = Math.cos(a + 1) * K
        , h = j.cx.hash(R, w)
        , I = j.cx.hash(J, w)
        , m = j.cx.hash(R, p)
        , A = j.cx.hash(J, p)
        , U = F(h, I, q)
        , r = F(m, A, q)
        , $ = F(U, r, c);
      $ = $ < .5 ? 0 : 1;
      var k = $ + D * j.cx.hash(Math.cos(X) * K, Math.cos(E) * K);
      return k * (1 / 3)
  }
  ;
  j.cx.hash = function(n, z) {
      var C = Math.sin(n * 11.697096 + z * 73.32456) * 12157.47691;
      return C - Math.floor(C)
  }
  ;
  j.cx.a4g = function(n, z, C, D) {
      var F = [-1, 0, 1, -2, 0, 2, -1, 0, 1]
        , X = [-1, -2, -1, 0, 0, 0, 1, 2, 1]
        , E = z - 1
        , f = C - 1
        , a = z * 4;
      for (var q = 1; q < f; q++)
          for (var c = 1; c < E; c++) {
              var M = q * z + c
                , K = M * 4
                , R = j.cx.e7(n, K, a, F)
                , J = j.cx.e7(n, K, a, X)
                , w = j.cx.e7(n, K + 1, a, F)
                , p = j.cx.e7(n, K + 1, a, X)
                , I = j.cx.e7(n, K + 2, a, F)
                , m = j.cx.e7(n, K + 2, a, X);
              D[K] = R * R + w * w + I * I;
              D[K + 1] = R * J + w * p + I * m;
              D[K + 2] = J * J + p * p + m * m
          }
      j.cx.akC(D, z, C)
  }
  ;
  j.cx.e7 = function(n, z, C, D) {
      return n[z - C - 4] * D[0] + n[z - C] * D[1] + n[z - C + 4] * D[2] + n[z - 4] * D[3] + n[z] * D[4] + n[z + 4] * D[5] + n[z + C - 4] * D[6] + n[z + C] * D[7] + n[z + C + 4] * D[8]
  }
  ;
  j.cx.akC = function(n, z, C) {
      function D(a, M, q) {
          var c = M * 4
            , K = q * 4;
          a[K] = a[c];
          a[K + 1] = a[c + 1];
          a[K + 2] = a[c + 2]
      }
      var F = z - 1
        , X = C - 1;
      D(n, z + 1, 0);
      D(n, 2 * z - 2, z - 1);
      for (var E = 1; E < F; E++)
          D(n, z + E, E);
      for (var f = 1; f < X; f++) {
          D(n, f * z + 1, f * z);
          D(n, f * z + z - 2, f * z + z - 1)
      }
      for (var E = 1; E < F; E++)
          D(n, (C - 2) * z + E, (C - 1) * z + E);
      D(n, (f - 2) * z + 1, (f - 1) * z);
      D(n, (f - 1) * z - 2, f * z - 1)
  }
  ;
  j.v5 = {};
  j.v5.F0 = function(n, z, C, D) {
      var F = n[z * 2]
        , X = n[z * 2 + 1]
        , E = n[C * 2]
        , f = n[C * 2 + 1]
        , a = n[D * 2]
        , q = n[D * 2 + 1];
      return F * f + E * q + a * X - a * f - E * X - F * q
  }
  ;
  j.v5.pm = function(n, z) {
      var C = []
        , D = []
        , F = []
        , X = {};
      for (var M = 0; M < z.length; M += 3) {
          var E = ~~(M * (1 / 3))
            , f = z[M + 0]
            , a = z[M + 1]
            , q = z[M + 2]
            , c = j.v5.F0(n, f, a, q);
          if (c > 0) {
              var K = a;
              a = q;
              q = K
          }
          var R = X[q + "-" + a]
            , J = X[a + "-" + f]
            , w = X[f + "-" + q]
            , p = [q, R, E, null]
            , I = [a, J, E, p]
            , m = [f, w, E, I];
          p[3] = m;
          if (R)
              R[1] = p;
          if (J)
              J[1] = I;
          if (w)
              w[1] = m;
          X[q + "-" + f] = m;
          X[f + "-" + a] = I;
          X[a + "-" + q] = p;
          C[f] = I;
          F[M] = I;
          C[a] = p;
          F[M + 1] = p;
          C[q] = m;
          F[M + 2] = m;
          D[E] = I
      }
      return {
          lr: C,
          Ji: D,
          FG: F
      }
  }
  ;
  j.v5.ak4 = function(n) {
      var z = []
        , C = n.Ji;
      for (var M = 0; M < C.length; M++) {
          var D = C[M];
          z.push(D[0]);
          D = D[3];
          z.push(D[0]);
          D = D[3];
          z.push(D[0])
      }
      return z
  }
  ;
  j.v5.a71 = function(n, z, C, D) {
      var F = n[z * 2]
        , X = n[z * 2 + 1]
        , E = n[C * 2]
        , f = n[C * 2 + 1]
        , a = n[D * 2]
        , q = n[D * 2 + 1]
        , c = E - F
        , K = f - X
        , R = a - F
        , J = q - X
        , w = c * (F + E) + K * (X + f)
        , p = R * (F + a) + J * (X + q)
        , I = 2 * (c * (q - f) - K * (a - E));
      if (Math.abs(I) < 1e-5) {
          var m = Math.min(F, E, a)
            , A = Math.min(X, f, q)
            , U = (Math.max(F, E, a) - m) * .5
            , r = (Math.max(X, f, q) - A) * .5;
          return [m + U, A + r, U * U + r * r, 1]
      }
      var $ = (J * w - K * p) / I
        , k = (c * p - R * w) / I
        , U = $ - F
        , r = k - X;
      return [$, k, U * U + r * r, 0]
  }
  ;
  j.v5.ahN = function(n, z, C) {
      var D = C[1]
        , F = C[3]
        , X = F[3]
        , E = D[3]
        , f = E[3]
        , a = C[2]
        , q = D[2]
        , c = C[0]
        , K = D[0]
        , R = F[0]
        , J = E[0]
        , w = j.v5.a71(n, K, J, R)
        , p = n[c * 2] - w[0]
        , I = n[c * 2 + 1] - w[1]
        , m = p * p + I * I > w[2] && w[3] == 0 && j.v5.F0(n, J, c, R) < 0 && j.v5.F0(n, R, K, J) < 0;
      if (m) {
          C[0] = R;
          D[0] = J;
          C[3] = X;
          X[3] = E;
          E[3] = C;
          D[3] = f;
          f[3] = F;
          F[3] = D;
          F[2] = q;
          E[2] = a;
          z.Ji[q] = f;
          z.Ji[a] = X;
          z.lr[K] = E;
          z.lr[c] = F
      }
      return m
  }
  ;
  j.v5.afW = function(n, z, C) {
      var D = n[z * 2] - n[C * 2]
        , F = n[z * 2 + 1] - n[C * 2 + 1];
      return Math.sqrt(D * D + F * F)
  }
  ;
  j.v5.amW = function(n, z, C) {
      var D = C[1], F = C[3], X = F[3], E, f, a = C[2], q, c = C[0], K = X[0], R = F[0], J;
      if (D) {
          E = D[3];
          f = E[3];
          q = D[2];
          J = E[0]
      }
      var w = n.length >>> 1;
      n[2 * w] = (n[2 * K] + n[2 * c]) * .5;
      n[2 * w + 1] = (n[2 * K + 1] + n[2 * c + 1]) * .5;
      if (!0) {
          var p = a
            , I = C
            , m = z.Ji.length
            , A = [w, null, p, I]
            , U = [R, A, m, X];
          A[1] = U;
          var r = [w, null, m, U];
          F[3] = A;
          X[3] = r;
          X[2] = m;
          z.Ji[p] = F;
          z.Ji[m] = r;
          z.lr[c] = F;
          z.lr[R] = X;
          z.FG.push(A, U, r)
      }
      if (D) {
          var $ = q
            , k = D
            , G = m + 1;
          r[1] = k,
          k[1] = r;
          var i = [w, null, $, k]
            , o = [J, i, G, f];
          i[1] = o;
          var S = [w, I, G, o];
          I[1] = S;
          E[3] = i;
          f[3] = S;
          f[2] = G;
          z.Ji[$] = E;
          z.Ji[G] = f;
          z.lr[K] = E;
          z.lr[J] = f;
          z.FG.push(i, o, S)
      }
      z.lr[w] = I
  }
  ;
  j.v5.bq = function(n, z) {
      var C = 0;
      while (!0) {
          var D = C;
          for (var M = 0; M < z.FG.length; M++) {
              var F = z.FG[M];
              if (F[1] == null)
                  continue;
              var X = j.v5.ahN(n, z, F);
              if (X) {
                  C++;
                  break
              }
          }
          if (D == C)
              break
      }
      return C != 0
  }
  ;
  j.v5.aaQ = function(n, z, C, D) {
      var F = 0;
      for (var M = 0; M < D; M++) {
          var X = null
            , E = 0;
          for (var f = 0; f < z.FG.length; f++) {
              var a = z.FG[f]
                , q = j.v5.afW(n, a[0], a[3][3][0]) * (a[1] ? 1 : 2);
              if (q > E) {
                  X = a;
                  E = q
              }
          }
          if (E > C) {
              j.v5.amW(n, z, X);
              F++
          }
      }
      return F != 0
  }
  ;
  j.v5.a9j = function(n, z) {
      var C = []
        , R = 0;
      for (var M = 0; M < n.length; M++)
          C.push(0);
      for (var M = 0; M < z.FG.length; M++) {
          var D = z.FG[M]
            , F = D[0]
            , X = D[3][3][0]
            , E = n[F * 2]
            , f = n[F * 2 + 1]
            , a = n[X * 2]
            , q = n[X * 2 + 1]
            , c = E - a
            , K = f - q;
          C[F * 2] += -c;
          C[F * 2 + 1] += -K;
          C[X * 2] += c;
          C[X * 2 + 1] += K
      }
      for (var M = 0; M < n.length; M += 2) {
          var J = M >>> 1
            , w = z.lr[J]
            , D = w
            , p = !0;
          do {
              if (D[1] == null) {
                  p = !1;
                  break
              }
              D = D[1][3]
          } while (D != w);if (p) {
              var I = .02;
              n[M] += I * C[M];
              n[M + 1] += I * C[M + 1];
              R += I * (C[M] * C[M] + C[M + 1] * C[M + 1])
          }
      }
      return R
  }
  ;
  j.v5.aqB = function(n, z, C) {
      var D = j.K.AN(n)
        , F = j.v5.pm(n, z);
      j.v5.bq(n, F);
      for (var X = 0; X < 300; X++) {
          var E = !1
            , f = !1;
          E = j.v5.aaQ(n, F, C, 5);
          if (E)
              f = j.v5.bq(n, F);
          var a = j.v5.a9j(n, F);
          if (!E && !f && a < 1e-4) {
              break
          }
      }
      return j.v5.ak4(F)
  }
  ;
  j.Hl = {};
  j.Hl.HK = function(n) {
      var z = n.JP, C = n.gx, D = n.dO, F = n.aM, X = n.ud, E = n.vd, f = n.Iv, a = j.A1.LY, A, U, r = 0;
      function q(h) {
          var fM = new Array(h);
          for (var M = 0; M < h; M++)
              fM[M] = 0;
          return fM
      }
      var c = C.length >>> 1
        , K = q(z.Ia * 2)
        , R = q(z.Ia)
        , J = q(z.Ia)
        , w = Date.now();
      for (var M = 0; M < n.Pz.length; M++) {
          var p = z.anz + M
            , I = z.ob * (E[M * 2] + f[M * 2])
            , m = z.ob * (E[M * 2 + 1] + f[M * 2 + 1]);
          K[p * 2] = I;
          K[p * 2 + 1] = m;
          R[p] = I;
          J[p] = m
      }
      z.aa3.HR(F, z.aaZ.LY(K), .01, A, U);
      for (var M = 0; M < z.aj4.FG.length; M++) {
          var $ = z.aj4.FG[M]
            , k = $[3][3][0]
            , G = $[0]
            , i = $[3][0]
            , o = $[1] ? $[1][3][0] : i;
          if ($[1] && k > G)
              continue;
          var S = C[k * 2]
            , H = C[k * 2 + 1]
            , e = C[G * 2]
            , V = C[G * 2 + 1]
            , v = F[k * 2]
            , B = F[k * 2 + 1]
            , Z = F[G * 2]
            , d = F[G * 2 + 1]
            , g = F[i * 2]
            , Y = F[i * 2 + 1]
            , L = F[o * 2]
            , _ = F[o * 2 + 1]
            , b = [v, B, Z, d, g, Y];
          if ($[1])
              b.push(L, _);
          var x = a(z.a1M[r], b)
            , g6 = x[0]
            , fY = x[1]
            , f3 = 1 / Math.sqrt(g6 * g6 + fY * fY);
          g6 *= f3;
          fY *= f3;
          var hK = e - S
            , s = V - H;
          R[r] = g6 * hK + fY * s;
          J[r] = -fY * hK + g6 * s;
          r++
      }
      var P = new Array(c)
        , aF = new Array(c);
      for (var M = 0; M < c; M++) {
          P[M] = X[M * 2];
          aF[M] = X[M * 2 + 1]
      }
      z.a3Q.HR(P, z.agy.LY(R), .5);
      z.a3Q.HR(aF, z.agy.LY(J), .5);
      for (var M = 0; M < c; M++) {
          X[M * 2] = P[M];
          X[M * 2 + 1] = aF[M]
      }
  }
  ;
  j.Hl.lS = function(n) {
      var z = n.gx
        , C = n.dO
        , D = n.Pz
        , F = j.A1.multiply
        , X = Date.now()
        , E = j.v5.pm(z, C)
        , f = z.length >>> 1
        , a = 0
        , w = 0
        , fY = 1e3;
      for (var M = 0; M < E.FG.length; M++)
          a += E.FG[M][1] ? .5 : 1;
      var q = a + D.length
        , c = []
        , K = new j.ki(q * 2,f * 2)
        , R = new j.ki(q,f)
        , J = [[[-1, 0, 1, 0, 0, 0], [0, -1, 0, 1, 0, 0]], [[-1, 0, 1, 0, 0, 0, 0, 0], [0, -1, 0, 1, 0, 0, 0, 0]]]
        , p = []
        , I = [];
      for (var M = 0; M < E.FG.length; M++) {
          var m = E.FG[M]
            , A = m[3][3][0]
            , U = m[0]
            , r = m[3][0]
            , $ = m[1] ? m[1][3][0] : r;
          if (m[1] && A > U)
              continue;
          var k = z[A * 2]
            , G = z[A * 2 + 1]
            , i = z[U * 2]
            , o = z[U * 2 + 1]
            , S = z[r * 2]
            , H = z[r * 2 + 1]
            , e = z[$ * 2]
            , V = z[$ * 2 + 1]
            , v = [[k, G, 1, 0], [G, -k, 0, 1], [i, o, 1, 0], [o, -i, 0, 1], [S, H, 1, 0], [H, -S, 0, 1]];
          if (m[1])
              v.push([e, V, 1, 0], [V, -e, 0, 1]);
          var B = j.A1._w(v)
            , Z = F(linear.invert(F(B, v)), B);
          Z.pop();
          Z.pop();
          c.push(Z);
          var d = i - k
            , g = o - G
            , Y = J[m[1] ? 1 : 0];
          Y = j.A1.s6(Y, F([[d, g], [g, -d]], Z));
          var L = [A * 2, A * 2 + 1, U * 2, U * 2 + 1, r * 2, r * 2 + 1, $ * 2, $ * 2 + 1]
            , _ = m[1] ? 8 : 6
            , b = [];
          for (var x = 0; x < _; x++)
              b.push([L[x], Y[0][x], Y[1][x]]);
          b.sort(function(fM, eA) {
              return fM[0] - eA[0]
          });
          for (var g6 = 0; g6 < 2; g6++) {
              for (var x = 0; x < _; x++) {
                  p[x] = b[x][0];
                  I[x] = b[x][1 + g6]
              }
              K.Tr(I, p, _)
          }
          if (A < U)
              R.Tr([-1, 1], [A, U], 2);
          else
              R.Tr([1, -1], [U, A], 2);
          w++
      }
      for (var M = 0; M < D.length; M++) {
          var f3 = D[M];
          K.Tr([fY], [f3 * 2], 1);
          K.Tr([fY], [f3 * 2 + 1], 1);
          R.Tr([fY], [f3], 1)
      }
      var hK = K._w()
        , s = hK.bW(hK)
        , P = R._w()
        , aF = P.bW(P);
      return {
          anz: a,
          Ia: q,
          aaZ: hK,
          aa3: s,
          agy: P,
          a3Q: aF,
          aj4: E,
          a1M: c,
          ob: fY
      }
  }
  ;
  j.Hl.ajr = function(n, z, C, D, F) {
      var X = new cc(0,0,z,C)
        , E = j.T(X.t());
      j.Ni(n, E, 3);
      j.round(E, 70);
      var f = j.ae(E, X)
        , a = [.1, .065, .035][D] * Math.max(f.d, f.v)
        , q = F + 1
        , c = z + q * 2
        , K = C + q * 2
        , R = new cc(-q,-q,c,K)
        , J = j.T(R.t());
      j.v8(E, X, J, R);
      var w = J.slice(0);
      for (var p = 0; p < F; p++) {
          for (var I = 1; I < K - 1; I++) {
              for (var m = 1; m < c - 1; m++) {
                  var M = I * c + m;
                  w[M] = J[M - c] | J[M - 1] | J[M] | J[M + 1] | J[M + c]
              }
          }
          var A = w;
          w = J;
          J = A
      }
      var U = aD.sU(J, c, K, Math.round(f.t() * 5e-4))
        , r = aD.LJ(U)
        , $ = new b6(1,0,0,1,-q,-q);
      for (var M = 0; M < r.length; M++) {
          var k = r[M];
          j.K.Z(k.path.U, $, k.path.U);
          k.gx = j.Hl.abg(k.path);
          k.dO = j.K.a2J(k.gx);
          k.dO = j.v5.aqB(k.gx, k.dO, a)
      }
      return r
  }
  ;
  j.Hl.abg = function(n) {
      var z = []
        , C = n.U
        , D = n.I.length - 1
        , F = 0
        , X = 0;
      for (var E = 0; E < D; E++) {
          var M = E * 6
            , f = C[M + 6] - C[M + 0]
            , a = C[M + 7] - C[M + 1]
            , q = Math.ceil(Math.sqrt(f * f + a * a));
          for (var c = 0; c < q; c++) {
              var K = c / q
                , R = 1 - K
                , J = R * R * R * C[M + 0] + 3 * R * R * K * C[M + 2] + 3 * R * K * K * C[M + 4] + K * K * K * C[M + 6]
                , w = R * R * R * C[M + 1] + 3 * R * R * K * C[M + 3] + 3 * R * K * K * C[M + 5] + K * K * K * C[M + 7];
              z.push(J, w);
              F = J;
              X = w
          }
      }
      z = j.K.eM(z, 1);
      var p = []
        , I = z.length;
      for (var M = 0; M < I; M += 2) {
          var w = z.pop()
            , J = z.pop();
          p.push(J, w)
      }
      return p
  }
  ;
  j.Hl.a0p = function(n, z, C, D) {
      function F(i, o, S, H, e) {
          var V = e[i * 2] - e[o * 2]
            , v = e[i * 2 + 1] - e[o * 2 + 1]
            , B = Math.sqrt(V * V + v * v);
          if (S[i].indexOf(o) == -1) {
              S[i].push(o);
              H[i].push(B)
          }
          if (S[o].indexOf(i) == -1) {
              S[o].push(i);
              H[o].push(B)
          }
      }
      var X = n.length >>> 1
        , E = new Array(X);
      if (C.length == 0) {
          E.fill(0);
          return E
      }
      var f = new Array(X)
        , a = new Array(X);
      for (var M = 0; M < X; M++) {
          f[M] = [];
          a[M] = []
      }
      for (var M = 0; M < z.length; M += 3) {
          F(z[M], z[M + 1], f, a, n);
          F(z[M], z[M + 2], f, a, n);
          F(z[M + 1], z[M + 2], f, a, n)
      }
      var q = new Float64Array(X * 2)
        , c = new Uint32Array(X * 2);
      q.fill(1e9);
      var K = new Uint8Array(X);
      for (var R = 0; R < C.length; R++) {
          K.fill(0);
          var J = ["---", [0, C[R]]];
          while (J.length != 1) {
              var w = j.kn.agc(J)
                , p = w[0]
                , I = w[1];
              if (K[I] == 1)
                  continue;
              var m = I << 1;
              if (p < q[m]) {
                  q[m + 1] = q[m];
                  c[m + 1] = c[m];
                  q[m] = p;
                  c[m] = R
              } else if (p < q[m + 1]) {
                  q[m + 1] = p;
                  c[m + 1] = R
              }
              K[I] = 1;
              var A = f[I]
                , U = a[I];
              for (var M = 0; M < A.length; M++) {
                  var r = A[M];
                  if (K[r] != 1) {
                      j.kn.ajO(J, [p + U[M], r])
                  }
              }
          }
      }
      for (var M = 0; M < X; M++) {
          var m = M << 1
            , $ = q[m]
            , k = q[m + 1]
            , G = 1 / ($ + k);
          E[M] = (1 - $ * G) * D[c[m]] + (1 - k * G) * D[c[m + 1]]
      }
      return E
  }
  ;
  j.Hl.a0B = function(n) {
      var z = {
          I: [],
          U: []
      }
        , C = [n];
      while (C.length != 0) {
          var D = C.pop()
            , F = D.i6;
          if (D.ad2 instanceof Array || D.a10 instanceof Array) {
              z.I.push("M", "L", "L", "L", "Z");
              z.U.push(F[0], F[1], F[2], F[1], F[2], F[3], F[0], F[3])
          } else
              C.push(D.ad2, D.a10)
      }
      return z
  }
  ;
  j.Hl.PX = function(n, z, C, D, F, X, E, f, a, q) {
      var c = Math.round(q.length / 3)
        , K = new Array(c);
      for (var M = 0; M < c; M++)
          K[M] = M;
      K.sort(function(J, w) {
          return a[q[J * 3]] - a[q[w * 3]]
      });
      for (var M = 0; M < c; M++) {
          var R = K[M] * 3;
          j.Hl.ahA(q[R] * 2, q[R + 1] * 2, q[R + 2] * 2, E, f, n, z, C, D, F, X)
      }
  }
  ;
  j.Hl.ahA = function(n, z, C, D, F, X, E, f, a, q, c) {
      var K = j.Hl.Fq
        , R = [n, z, C, 1.2, 1.2, 1.2, 0]
        , J = [0, 0, 0, 0]
        , w = F[n]
        , p = F[n + 1]
        , I = F[z]
        , m = F[z + 1]
        , A = F[C]
        , U = F[C + 1]
        , r = Math.max(0, Math.min(E - 1, D[n]))
        , $ = Math.max(0, Math.min(E - 1, D[z]))
        , k = Math.max(0, Math.min(E - 1, D[C]))
        , G = Math.max(0, Math.min(f - 1, D[n + 1]))
        , i = Math.max(0, Math.min(f - 1, D[z + 1]))
        , o = Math.max(0, Math.min(f - 1, D[C + 1]))
        , S = I - w
        , H = m - p
        , e = A - w
        , V = U - p
        , v = 1 / (S * V - e * H + 1e-9)
        , B = Math.max(0, Math.floor(Math.min(w, I, A)))
        , Z = Math.min(q, Math.ceil(Math.max(w, I, A)))
        , d = Math.max(0, Math.floor(Math.min(p, m, U)))
        , g = Math.min(c, Math.ceil(Math.max(p, m, U)));
      for (var Y = d; Y < g; Y++)
          for (var y = B; y < Z; y++) {
              var L = y + .5 - w
                , _ = Y + .5 - p
                , b = (L * V - e * _) * v
                , x = (S * _ - L * H) * v;
              if (b >= 0 && x >= 0 && b + x <= 1) {
                  var W = 1 - b - x
                    , g6 = r * W + $ * b + k * x
                    , fY = G * W + i * b + o * x;
                  j.V.ZC(g6, fY, X, E, f, J);
                  j.Hl.a7h(J, a, Y * q + y << 2)
              }
          }
  }
  ;
  j.Hl.a7h = function(n, z, C) {
      var D = z[C]
        , F = z[C + 1]
        , X = z[C + 2]
        , E = z[C + 3]
        , f = 1 - n[3] * (1 / 255);
      z[C] = ~~(.5 + n[0] + D * f);
      z[C + 1] = ~~(.5 + n[1] + F * f);
      z[C + 2] = ~~(.5 + n[2] + X * f);
      z[C + 3] = ~~(.5 + n[3] + E * f)
  }
  ;
  j.Hl.Fq = function() {
      var n = function(C, D, F, X) {
          var E = X[0]
            , f = X[1]
            , a = X[2]
            , q = C[E + 0]
            , c = C[E + 1]
            , K = C[f + 0]
            , R = C[f + 1]
            , J = C[a + 0]
            , w = C[a + 1]
            , p = K - q
            , I = R - c
            , m = J - q
            , A = w - c
            , U = D - q
            , r = F - c
            , $ = p * A - m * I
            , k = 1 / ($ + 1e-9)
            , G = (U * A - m * r) * k
            , i = (p * r - U * I) * k;
          if (G >= 0 && i >= 0 && G + i <= 1) {
              X[3] = 1 - G - i;
              X[4] = G;
              X[5] = i;
              return 1
          }
          return 0
      }
        , z = function(C, D, F, X) {
          var E = [0, 0, 0, 0, 0, 0];
          for (var M = 0; M < D.length; M += 3) {
              E[0] = D[M] * 2;
              E[1] = D[M + 1] * 2;
              E[2] = D[M + 2] * 2;
              if (n(C, F, X, E) == 1)
                  return !0
          }
          return !1
      };
      return {
          ak1: n,
          ahD: z
      }
  }();
  j.g2 = {};
  j.g2.aq4 = function(n, z, C) {
      var D = j.T(z * C * 4)
        , F = !1;
      j.V.Dh(n, z, C, D, [C, z, 0, 1, 0, 1, 0, 0]);
      return [j.g2.wx(n, z, C, F), j.g2.wx(D, C, z, F)]
  }
  ;
  j.g2.Z = function(n, z) {
      var C = !1
        , D = n[0]
        , F = n[1]
        , X = D[1]
        , E = D[2]
        , f = D[3]
        , a = z.d
        , q = z.v;
      if (E == a && f == q)
          X = X.slice(0);
      else if (f != q) {
          var c = j.T(E * q * 4);
          j.g2.cJ(F, q, c, C);
          X = j.T(E * q * 4);
          j.V.Dh(c, q, E, X, [E, q, 0, 1, 0, 1, 0, 0]);
          if (E != a) {
              D = j.g2.wx(X, E, q, C);
              X = j.T(a * q * 4);
              j.g2.cJ(D, a, X, C)
          }
      } else if (E != a) {
          X = j.T(a * f * 4);
          j.g2.cJ(D, a, X, C)
      }
      return X
  }
  ;
  j.g2.wx = function(n, z, C, D) {
      var F = Date.now()
        , X = new Uint16Array(z * C)
        , E = 1;
      j.g2.a5c(n, z, C, X);
      var f = Math.ceil(z / E)
        , a = new Uint32Array(E)
        , q = new Uint32Array(E)
        , f = Math.floor(z / E);
      for (var c = 0; c < E; c++)
          q[c] = c < E - 1 ? f : z - (E - 1) * f;
      for (var K = 0; K < C; K++) {
          var M = K * z;
          for (var c = 0; c < E; c++) {
              var f = q[c];
              for (var R = 0; R < f; R++)
                  a[c] += X[M + R];
              M += f
          }
      }
      if (D) {
          console.log(Date.now() - F, "cost");
          F = Date.now()
      }
      var J = new Uint32Array(z)
        , w = new Uint32Array(z)
        , p = new Uint32Array(z * C);
      for (var R = 0; R < z; R++) {
          p[(C - 1) * z + R] = X[(C - 1) * z + R]
      }
      for (var K = C - 2; K >= 0; K--) {
          var I = K * z;
          for (var c = 0; c < E; c++) {
              var f = q[c];
              p[I] = X[I] + Math.min(p[I + z], p[I + z + 1]);
              for (var R = 1; R < f - 1; R++) {
                  var M = I + R;
                  p[M] = X[M] + Math.min(p[M + z - 1], Math.min(p[M + z], p[M + z + 1]))
              }
              I += f - 1;
              p[I] = X[I] + Math.min(p[I + z - 1], p[I + z]);
              I++
          }
      }
      if (D) {
          console.log(Date.now() - F, "Building M");
          F = Date.now()
      }
      function m(H, e) {
          return H < e ? H : e
      }
      function A(M, H) {
          var e = w[M]
            , V = p[H]
            , v = ~~(e * V * 1e-4);
          return v
      }
      var U = new Uint8Array(z * C)
        , r = new Uint32Array(z);
      for (var M = 0; M < z; M++) {
          J[M] = M;
          w[M] = X[M]
      }
      for (var K = 1; K < C; K++) {
          var $ = 0
            , I = K * z;
          for (var c = 0; c < E; c++) {
              var f = q[c]
                , M = I;
              r[$] = A($, M);
              var k = r[$] + A($ + 1, M + 1)
                , G = A($, M + 1) + A($ + 1, M);
              r[$ + 1] = m(k, G);
              for (var R = 2; R < f; R++) {
                  var M = I + R
                    , i = r[$ + R - 1] + A($ + R - 1, M - 1)
                    , o = r[$ + R - 2] + A($ + R - 1, M - 2) + A($ + R - 2, M - 1);
                  r[$ + R] = m(i, o)
              }
              var R = f - 1;
              while (R >= 2) {
                  var M = I + R
                    , i = r[$ + R - 1] + A($ + R - 1, M - 1)
                    , o = r[$ + R - 2] + A($ + R - 1, M - 2) + A($ + R - 2, M - 1);
                  if (r[$ + R] == i) {
                      U[M - z] = 1;
                      R -= 1
                  } else {
                      U[M - z] = 0;
                      U[M - z - 1] = 2;
                      R -= 2
                  }
              }
              var M = I;
              if (R == 0) {
                  U[M - z] = 1
              } else {
                  if (r[$ + 1] == k) {
                      U[M + 1 - z] = 1;
                      U[M - z] = 1
                  } else {
                      U[M + 1 - z] = 0;
                      U[M - z] = 2
                  }
              }
              I += f;
              $ += f
          }
          j.g2.afz(K, z, U, X, J, w, !0, F)
      }
      if (D) {
          console.log(Date.now() - F, "Matching");
          F = Date.now()
      }
      var S = X;
      return [UZIP.adler(n, 0, n.length), n, z, C, E, q, a, J, w, U, S]
  }
  ;
  j.g2.cJ = function(n, z, C, D) {
      var F = n.slice(0)
        , X = F.shift()
        , E = F.shift()
        , f = F.shift()
        , a = F.shift()
        , q = F.shift()
        , c = F.shift()
        , K = F.shift()
        , R = F.shift()
        , J = F.shift().slice(0)
        , w = F.shift()
        , p = F.shift()
        , I = Date.now()
        , m = Math.abs(f - z)
        , A = Math.floor(m / q)
        , U = new Uint32Array(q)
        , $ = 0
        , k = 1e9
        , i = 0
        , o = 0
        , S = 0;
      for (var r = 0; r < q; r++)
          U[r] = r < q - 1 ? A : m - (q - 1) * A;
      p.fill(0);
      for (var G = 0; G < f; G++) {
          $ = Math.max($, J[G]);
          k = Math.min(k, J[G])
      }
      for (var r = 0; r < q; r++) {
          var H = c[r]
            , A = U[r];
          for (var e = 0; e < A; e++) {
              var V = 0
                , v = 1e9;
              for (var G = 0; G < H; G++)
                  if (J[o + G] < v) {
                      v = J[o + G];
                      V = o + G
                  }
              if (z < f)
                  J[V] = 1e9;
              else
                  J[V] *= 1.2;
              if (S < f / 3)
                  i += v;
              var B = R[V]
                , Z = p[B]
                , d = Z < 65280 ? 65280 : Z + 1;
              if (d < 65280)
                  throw "e";
              for (var g = 0; g < a; g++) {
                  var M = g * f + B;
                  p[M] = d;
                  B += w[M] - 1
              }
              S++
          }
          o += H
      }
      if (D) {
          console.log(Date.now() - I, "Removing best seams");
          I = Date.now()
      }
      function Y(M, L) {
          var _ = M << 2
            , b = L << 2;
          C[_] = E[b];
          C[_ + 1] = E[b + 1];
          C[_ + 2] = E[b + 2];
          C[_ + 3] = E[b + 3]
      }
      for (var g = 0; g < a; g++) {
          var y = 0
            , M = g * f;
          for (var G = 0; G < z; G++,
          y++) {
              if (z < f) {
                  while (p[M + y] == 65280)
                      y++;
                  Y(g * z + G, g * f + y)
              } else {
                  Y(g * z + G, g * f + y);
                  while (p[M + y] >= 65280) {
                      p[M + y]--;
                      G++;
                      Y(g * z + G, g * f + y)
                  }
              }
          }
      }
      if (D) {
          console.log(Date.now() - I, "Shifting image pixels");
          I = Date.now()
      }
  }
  ;
  j.g2.afz = function(n, z, C, D, F, X) {
      var E = 0
        , M = n * z;
      while (E < z) {
          if (C[M - z] == 1) {
              X[E] = X[E] + D[M];
              E++;
              M++
          } else {
              var f = F[E];
              F[E] = F[E + 1];
              F[E + 1] = f;
              var a = X[E];
              X[E] = X[E + 1] + D[M];
              X[E + 1] = a + D[M + 1];
              E += 2;
              M += 2
          }
      }
  }
  ;
  j.g2.a5c = function(n, z, C, D) {
      function F(n, M, a) {
          var K = M << 2
            , R = a << 2
            , J = n[K] - n[R]
            , w = n[K + 1] - n[R + 1]
            , p = n[K + 2] - n[R + 2];
          return Math.abs(J) + Math.abs(w) + Math.abs(p)
      }
      for (var X = 1; X < z; X++) {
          var E = F(n, X, X - 1);
          D[X - 1] += E;
          D[X] += E
      }
      for (var f = 1; f < C; f++) {
          var a = f * z
            , E = F(n, a, a - z);
          D[a] += E;
          D[a - z] += E;
          for (var X = 1; X < z; X++) {
              var M = f * z + X
                , q = F(n, M, M - 1)
                , c = F(n, M, M - z);
              D[M - z] += c;
              D[M - 1] += q;
              D[M] += c + q
          }
      }
      for (var f = 0; f < C; f++) {
          D[f * z] *= 2;
          D[f * z + z - 1] *= 2
      }
      for (var M = 0; M < D.length; M++)
          if (D[M] == 0)
              D[M] = 1
  }
  ;
  j.tG = function() {
      var n = 0
        , z = 0
        , D = 15
        , X = 256;
      function C(c, K, R, J, w, p) {
          var I = (w - 1) * K
            , m = p * K;
          return c[m + J] - c[m + R - 1] - c[I + J] + c[I + R - 1]
      }
      var F = Math.round(D / 8)
        , E = [];
      function f(c, K) {
          for (var R = 0; R < K.length; R++) {
              var J = K[R]
                , w = 0
                , p = 0
                , I = c[J.U1]
                , m = I.DO
                , A = I.ob
                , U = I.ua;
              for (var r = -D; r <= D; r++)
                  for (var $ = -D; $ <= D; $++) {
                      var k = $ + J.agt
                        , G = r + J.aoG;
                      if ($ * $ + r * r > D * D || k < 0 || G < 0 || k >= A || G >= A)
                          continue;
                      var i = m[G * A + k];
                      w += $ * i;
                      p += r * i
                  }
              J.tq = Math.atan2(p, w)
          }
      }
      function a(c, K, R, J, w) {
          var p = ~~(c + .5)
            , I = ~~(K + .5);
          return C(R, J, p - F, p + F, I - F, I + F)
      }
      function q(c, K, R, J, w) {
          n = J;
          z = w;
          if (E.length == 0) {
              var p = new j.$.uc(16200817)
                , U = 8
                , r = 0;
              function I(P) {
                  var S = P[0] - P[2]
                    , H = P[1] - P[3];
                  return S * S + H * H
              }
              function m() {
                  var P = 0
                    , aF = 0;
                  while (P === 0)
                      P = p.get();
                  while (aF === 0)
                      aF = p.get();
                  return Math.sqrt(-2 * Math.log(P)) * Math.cos(2 * Math.PI * aF)
              }
              var A = m
                , $ = [];
              while (r != X) {
                  var k = Math.max(-D, Math.min(D, A() * U))
                    , G = Math.max(-D, Math.min(D, A() * U))
                    , i = Math.max(-D, Math.min(D, A() * U))
                    , o = Math.max(-D, Math.min(D, A() * U))
                    , S = k - i
                    , H = G - o
                    , e = Math.sqrt(S * S + H * H);
                  if (e < 3 || e > 12)
                      continue;
                  E.push(k, G, i, o);
                  r++
              }
          }
          var V = 20;
          for (var v = 0; v < K.length; v++) {
              var B = K[v]
                , Z = c[B.U1]
                , d = Z.F_
                , R = Z.DO
                , J = Z.ob
                , w = Z.ua
                , g = B.agt
                , Y = B.aoG
                , y = B.tq
                , L = Math.cos(y)
                , _ = Math.sin(y)
                , b = new Uint8Array(X >>> 3);
              B.cw = b;
              for (var M = 0; M < X; M++) {
                  var x = M * 4
                    , k = E[x + 0]
                    , G = E[x + 1]
                    , i = E[x + 2]
                    , o = E[x + 3]
                    , W = L * k - _ * G
                    , g6 = _ * k + L * G
                    , fY = L * i - _ * o
                    , f3 = _ * i + L * o
                    , hK = a(g + W, Y + g6, d, J, w)
                    , s = a(g + fY, Y + f3, d, J, w);
                  b[M >>> 3] |= (hK < s ? 0 : 1) << (M & 7)
              }
          }
      }
      return {
          ahm: f,
          alV: q
      }
  }();
  j.ajX = function() {
      var n = 0
        , z = 0;
      function C(X, E, f, a, q, c) {
          var K = (q - 1) * E
            , R = c * E;
          return X[R + a] - X[R + f - 1] - X[K + a] + X[K + f - 1]
      }
      function D(X, E, f) {
          var a = new Uint32Array(E * f);
          a[0] = X[0];
          for (var q = 1; q < E; q++)
              a[q] = a[q - 1] + X[q];
          for (var c = 1; c < f; c++) {
              var M = c * E;
              a[M] = a[M - E] + X[M];
              for (var q = 1; q < E; q++)
                  a[M + q] = X[M + q] + a[M + q - 1] + a[M + q - E] - a[M + q - E - 1]
          }
          return a
      }
      function F(X, E) {
          var f = [[9]]
            , a = Date.now()
            , q = [];
          for (var c = 0; c < X.length; c++) {
              var K = X[c]
                , R = K.F_
                , J = n = K.ob
                , w = z = K.ua
                , m = 9
                , G = 1
                , Y = 24;
              if (R == null)
                  continue;
              var p = new Float32Array(J * w)
                , I = new Uint8Array(J * w)
                , A = m >>> 1
                , U = A >>> 1
                , r = Math.round(m / 3);
              if (r != m / 3)
                  throw "e";
              var $ = 1 / (m * m)
                , k = 1.2 * (m / 9);
              for (var i = A + 1; i < w - A; i += G)
                  for (var o = A + 1; o < J - A; o += G) {
                      var S = C(R, J, o - U, o + U, i - A, i + A) - 3 * C(R, J, o - U, o + U, i - A + r, i + A - r)
                        , H = C(R, J, o - A, o + A, i - U, i + U) - 3 * C(R, J, o - A + r, o + A - r, i - U, i + U)
                        , e = o - A + 1
                        , V = o + A - 1
                        , v = i - A + 1
                        , B = i + A - 1
                        , Z = C(R, J, e, o - 1, v, i - 1) + C(R, J, o + 1, V, i + 1, B) - C(R, J, o + 1, V, v, i - 1) - C(R, J, e, o - 1, i + 1, B)
                        , d = (H * S - .9 * Z * (.9 * Z)) * ($ * $);
                      p[i * J + o] = Math.abs(d);
                      I[i * J + o] = d < 0 ? 0 : 1
                  }
              var g = J * G;
              for (var i = Y; i < w - Y; i += G)
                  for (var o = Y; o < J - Y; o += G) {
                      var M = i * J + o
                        , y = p[M];
                      if (y < 16)
                          continue;
                      if (p[M - G] >= y || p[M + G] >= y)
                          continue;
                      if (p[M - g - G] >= y || p[M - g] >= y || p[M - g + G] >= y)
                          continue;
                      if (p[M + g - G] >= y || p[M + g] >= y || p[M + g + G] >= y)
                          continue;
                      q.push({
                          x: ~~(o * K.BS + .5),
                          y: ~~(i * K.BS + .5),
                          agt: o,
                          aoG: i,
                          U1: c,
                          G: y,
                          a0k: I[M],
                          ZP: k
                      })
                  }
          }
          if (E != null) {
              q.sort(function(f3, hK) {
                  return hK.G - f3.G
              });
              q = q.slice(0, E)
          }
          return q;
          var L = [];
          for (var M = 0; M < q.length; M++) {
              var _ = !0
                , b = q[M];
              for (var x = 0; x < q.length; x++) {
                  var W = q[x];
                  if (x != M && W.G > b.G && (W.U1 == b.U1 + 1 || W.U1 == b.U1 - 1)) {
                      var g6 = b.x - W.x
                        , fY = b.y - W.y;
                      if (g6 * g6 + fY * fY < 5) {
                          _ = !1;
                          break
                      }
                  }
              }
              if (_)
                  L.push(b)
          }
          console.log(q.length, L.length);
          return L
      }
      return {
          ab5: F
      }
  }();
  j.uo = {};
  j.uo.apK = function(n) {
      var z = n.length
        , C = j.uo.wQ(n, !1)
        , F = 0
        , X = 1;
      throw "e";
      var D = [];
      for (var M = 0; M < z; M++)
          D[M] = j.uo.Hm(C[M]);
      var E = n[0][1]
        , f = j.uo.match(C[F], C[X], D[X]);
      console.log(f.length);
      var a = Math.max(Math.min(f.length, 40), f.length * .54);
      a = Math.min(a, 200);
      var q = f.slice(0, a)
        , c = j.O0.ajy(C[F], C[X], q, E.d, E.v)
        , K = j.O0.a1f(c, [0, 0, 0], 1)
        , R = E.d / 2
        , J = E.v / 2
        , w = 1 / Math.max(R, J);
      for (var M = 0; M < 1; M++) {
          var p = q[M]
            , I = C[F][p[0]]
            , m = C[X][p[1]]
            , A = j.O0.aiv(K, w * (I.x - R), w * (I.y - J), w * (m.x - R), w * (m.y - J))
      }
      var U = j.O0.ajP(c, E)
        , r = [];
      for (var M = 0; M < 2; M++) {
          var $ = U[M]
            , k = [$[0][0], $[0][1], $[0][2], $[1][0], $[1][1], $[1][2], $[2][0], $[2][1]]
            , G = O.o._O(n[M], null, k);
          r.push([G.buffer, G.rect])
      }
      return [j.uo.ai3(r[0], r[1], C[F], C[X], q, c, U, E)]
  }
  ;
  j.uo.o6 = function(n, z) {
      var C = n.length
        , D = !1
        , F = Date.now()
        , X = j.uo.wQ(n, !1, 1e4);
      if (D)
          console.log("Descriptors ready", Date.now() - F);
      F = Date.now();
      for (var M = 0; M < C; M++) {
          var E = n[M][1];
          for (var f = 0; f < X[M].length; f++) {
              X[M][f].x += E.x;
              X[M][f].y += E.y
          }
      }
      if (D)
          console.log("shifted", Date.now() - F);
      F = Date.now();
      var a = [];
      for (var M = 0; M < C; M++)
          a[M] = j.uo.Hm(X[M]);
      if (D)
          console.log("trees built", Date.now() - F);
      F = Date.now();
      var q = [];
      for (var M = 0; M < C - 1; M++)
          for (var f = M + 1; f < C; f++) {
              var c = j.uo.match(X[M], X[f], a[f]);
              if (D)
                  console.log("Matches found", M, f, c.length);
              c = c.slice(0, c.length >>> 1);
              if (c.length < 10)
                  return null;
              var K = j.uo.a8B(X[M], X[f], c, 2);
              q.push([M, f, c, K])
          }
      q.sort(function(o, S) {
          return S[2].length - o[2].length
      });
      if (D)
          console.log("Matches found", Date.now() - F);
      F = Date.now();
      var R = []
        , J = new UnionFind(C);
      for (var M = 0; M < q.length; M++) {
          var w = q[M]
            , p = J.find(w[0])
            , I = J.find(w[1]);
          if (p != I) {
              R.push(w);
              J.link(p, I)
          }
      }
      var m = [];
      for (var M = 0; M < C; M++)
          m[M] = [1, 0, 0, 0, 1, 0, 0, 0];
      var A = [0]
        , U = new Uint8Array(C);
      U[A[0]] = 1;
      while (A.length != 0) {
          var I = A.pop()
            , K = m[I]
            , r = [];
          for (var M = 0; M < R.length; M++) {
              var w = R[M]
                , $ = w[0]
                , k = w[1];
              if ($ == I && U[k] == 0) {
                  m[k] = j.V.Lm(K, w[3]);
                  A.push(k);
                  U[k] = 1
              }
              if (k == I && U[$] == 0) {
                  m[$] = j.V.Lm(K, j.V.eL(w[3]));
                  A.push($);
                  U[$] = 1
              }
          }
      }
      if (z == null) {
          var G = [];
          for (var M = 0; M < C; M++)
              G.push([m[M][2], M]);
          G.sort(function(o, S) {
              return o[0] - S[0]
          });
          z = G[G.length >>> 1][1]
      }
      var i = j.V.eL(m[z]);
      for (var M = 0; M < C; M++)
          m[M] = j.V.Lm(m[M], i);
      if (D)
          console.log("Transforms reordered", Date.now() - F);
      F = Date.now();
      return m
  }
  ;
  j.uo.wQ = function(n, z, C) {
      var D = []
        , F = !1;
      for (var M = 0; M < n.length; M++) {
          var X = n[M][0]
            , E = n[M][1]
            , f = E.d
            , a = E.v
            , q = j.T(E.t());
          j.Fd(X, q);
          var c = Date.now()
            , K = j.uo.aeN(q, E, !0);
          if (F)
              console.log("Pyramid built ---------------", Date.now() - c);
          c = Date.now();
          var R = j.ajX.ab5(K, C);
          if (F)
              console.log("SURF Generation", Date.now() - c);
          c = Date.now();
          if (!z) {
              j.tG.ahm(K, R);
              if (F)
                  console.log("ORB Orientations", Date.now() - c);
              c = Date.now();
              j.tG.alV(K, R, q, f, a);
              if (F)
                  console.log("ORB Descriptors", Date.now() - c);
              c = Date.now()
          }
          D.push(R)
      }
      return D
  }
  ;
  j.uo.aeN = function(n, z, C) {
      function D(q, K, R) {
          var w = new Uint32Array(K * R);
          w[0] = q[0];
          for (var p = 1; p < K; p++)
              w[p] = w[p - 1] + q[p];
          for (var I = 1; I < R; I++) {
              var M = I * K;
              w[M] = w[M - K] + q[M];
              for (var p = 1; p < K; p++)
                  w[M + p] = q[M + p] + w[M + p - 1] + w[M + p - K] - w[M + p - K - 1]
          }
          return w
      }
      var F = []
        , X = [n, z];
      j.aA(X);
      if (C) {
          var E = j.CN(n, z)
            , f = E.rect
            , a = [E.oz, f];
          j.aA(a)
      }
      for (var M = 0; M < X.length; M++) {
          var q = X[2 * M]
            , c = X[2 * M + 1]
            , K = c.d
            , R = c.v
            , J = Math.min(K, R);
          if (J < 30)
              break;
          if (J < 1600)
              F.push({
                  DO: q,
                  ob: K,
                  ua: R,
                  BS: 1 << M,
                  F_: D(q, K, R)
              });
          if (!C)
              continue;
          var q = a[2 * M]
            , c = a[2 * M + 1]
            , K = c.d
            , R = c.v
            , J = Math.min(K, R);
          if (J < 30)
              break;
          if (J < 1600)
              F.push({
                  DO: q,
                  ob: K,
                  ua: R,
                  BS: (1 << M) * 3 / 2,
                  F_: D(q, K, R)
              })
      }
      return F
  }
  ;
  j.uo.a8B = function(n, z, C, D) {
      var F = Date.now(), X, E = 0, f = 0, a = C.length, q = new Float64Array(2);
      for (var c = 0; c < 3e3; c++) {
          var K = ~~(Math.random() * a)
            , R = ~~(Math.random() * a)
            , J = ~~(Math.random() * a)
            , w = ~~(Math.random() * a)
            , v = 0
            , B = 0;
          if (K == R || K == J || K == w || R == J || R == w || J == w)
              continue;
          var p = C[K]
            , I = C[R]
            , m = C[J]
            , A = C[w]
            , U = n[p[0]]
            , r = z[p[1]]
            , $ = n[I[0]]
            , k = z[I[1]]
            , G = n[m[0]]
            , i = z[m[1]]
            , o = n[A[0]]
            , S = z[A[1]]
            , H = [U.x, U.y, $.x, $.y, G.x, G.y, o.x, o.y]
            , e = [r.x, r.y, k.x, k.y, i.x, i.y, S.x, S.y]
            , V = j.V.rL(H, e);
          if (V[0] == 0 && V[1] == 0 && V[3] == 0 && V[4] == 0)
              continue;
          var Z = a - E + 2;
          for (var M = 0; M < a && M - v < Z; M++) {
              var d = n[C[M][0]]
                , g = z[C[M][1]];
              j.V.hw(g.x, g.y, V, q);
              var Y = q[0] - d.x
                , y = q[1] - d.y
                , L = Y * Y + y * y;
              if (L < D) {
                  v++;
                  B += L
              }
          }
          if (v > E || v == E && B < f) {
              X = V;
              E = v;
              f = B
          }
      }
      return X
  }
  ;
  var gb = new Uint8Array(256);
  for (var M = 0; M < 256; M++) {
      var gS = 0
        , h = M;
      while (h != 0) {
          h = h & h - 1;
          gS++
      }
      gb[M] = gS
  }
  j.uo.als = function(n, z, C) {
      var D = 0
        , F = n.length;
      for (var M = 0; M < F && D < C; M++)
          D += gb[n[M] ^ z[M]];
      return D
  }
  ;
  j.uo.aj5 = function(n, z, C, top, D) {
      if (D[C] == 1)
          return;
      var F = j.uo.als(n.cw, z.cw, top[0]);
      if (F < top[0]) {
          if (F < top[2]) {
              top[0] = top[2];
              top[1] = top[3];
              top[2] = F;
              top[3] = C
          } else {
              top[0] = F;
              top[1] = C
          }
      }
      D[C] = 1
  }
  ;
  j.uo.Hm = function(n) {
      var z = []
        , C = []
        , D = [[], []]
        , F = 4;
      for (var M = 0; M < n.length; M++)
          (n[M].a0k == 0 ? z : C).push(M);
      for (var X = 0; X < 2; X++) {
          var E = new Array(F)
            , f = []
            , a = X == 0 ? z : C
            , q = a.length / 256
            , c = [];
          for (var K = 0; K < 32; K++) {
              var R = new Array(256)
                , p = 0;
              for (var J = 0; J < 256; J++)
                  R[J] = [];
              for (var J = 0; J < a.length; J++) {
                  var w = a[J];
                  R[n[w].cw[K]].push(w)
              }
              for (var J = 0; J < 256; J++)
                  p += Math.abs(R[J].length - q);
              c.push([p, K, R])
          }
          c.sort(function(I, m) {
              return I[0] - m[0]
          });
          var f = []
            , E = [];
          D[X] = [f, E];
          for (var M = 0; M < F; M++) {
              f.push(c[M][1]);
              E.push(c[M][2])
          }
      }
      return D
  }
  ;
  j.uo.match = function(n, z, C) {
      var D = []
        , F = new Uint16Array(z.length);
      F.fill(65535);
      var X = new Uint8Array(z.length)
        , top = new Uint32Array(4)
        , E = [];
      for (var f = 0; f < n.length; f++) {
          var a = n[f]
            , q = a.cw;
          top.fill(1e6);
          X.fill(0);
          var c = C[a.a0k];
          for (var K = 0; K < c[1].length; K++) {
              var R = c[1][K][q[c[0][K]]];
              for (var J = 0; J < R.length; J++) {
                  var w = R[J];
                  j.uo.aj5(a, z[w], w, top, X)
              }
          }
          if (top[2] < 50 && top[2] < top[0] * .5) {
              var p = F[top[3]];
              if (p == 65535) {
                  F[top[3]] = D.length;
                  D.push([f, top[3], top[2]])
              } else if (top[2] < D[p][2]) {
                  D[p] = [f, top[3], top[2]]
              }
          }
      }
      D.sort(function(I, m) {
          return I[2] - m[2]
      });
      return D
  }
  ;
  j.uo.abX = function(n) {
      var z = new cc;
      for (var M = 0; M < n.length; M++)
          z = z.QH(n[M][1]);
      var C = j.T(z.t() * 4);
      for (var M = 0; M < n.length; M++)
          j.$.xN("norm", n[M][0], n[M][1], C, z, z, 1);
      return [C, z]
  }
  ;
  j.uo.ai3 = function(n, z, C, D, F, X, E, f) {
      var a = n[1].clone()
        , q = a.clone();
      a.x = a.y = 0;
      var c = z[1].clone()
        , K = c.clone();
      c.x = c.y = 0;
      c.x = a.d;
      var R = a.QH(c)
        , J = K.y - q.y
        , w = j.T(R.t() * 4);
      j.X3(n[0], a, w, R);
      j.X3(z[0], new cc(c.x,c.y + J,c.d,c.v), w, R);
      var p = document.createElement("canvas");
      p.width = R.d;
      p.height = R.v;
      var I = p.getContext("2d");
      I.lineWidth = .5;
      I.putImageData(new ImageData(new Uint8ClampedArray(w.buffer),R.d,R.v), 0, 0);
      if (X) {
          var m = X[0]
            , A = j.A1._w(m)
            , U = a.d
            , r = f.d;
          for (var M = 0; M < F.length; M++) {
              var $ = F[M]
                , n = C[$[0]]
                , z = D[$[1]];
              I.strokeStyle = "#" + "ff0000";
              I.beginPath();
              var k = j.O0.abH(A, E[0], z, 0, r)
                , i = j.O0.abH(m, E[1], n, 0, r);
              I.moveTo(-q.x + k[0], -q.y + k[1]);
              I.lineTo(-q.x + k[2], -q.y + k[3]);
              I.moveTo(U - K.x + i[0], -K.y + J + i[1]);
              I.lineTo(U - K.x + i[2], -K.y + J + i[3]);
              I.stroke()
          }
      }
      if (F) {
          var o = F.length;
          for (var M = 0; M < o; M++) {
              var $ = F[M]
                , n = C[$[0]]
                , z = D[$[1]];
              I.strokeStyle = "#" + "ffff00"
          }
      }
      var S = new Uint8Array(I.getImageData(0, 0, R.d, R.v).data.buffer);
      if (!1) {
          for (var H = 0; H < 2; H++) {
              var e = H == 0 ? C : D
                , V = H * a.d;
              for (var M = 0; M < e.length; M++) {
                  var v = e[M]
                    , B = ~~v.x
                    , Z = ~~v.y
                    , d = (Z * R.d + B + V) * 4;
                  S[d + 1] = S[d + 2] = v.a5h * 60;
                  S[d + 0] = 0;
                  S[d + 3] = 255
              }
          }
      }
      return [S, R]
  }
  ;
  j.stack = {};
  j.stack.stack = function(n, z, C) {
      var D = n.length
        , F = z.length;
      if (D == 1) {
          z.set(n[0]);
          return
      }
      if (C == "avrg" || C == "stdv" || C == "summ" || C == "vari") {
          var X = 1 / D;
          for (var M = 0; M < F; M++) {
              var E = 0;
              for (var f = 0; f < D; f++)
                  E += n[f][M];
              var a = ~~(E * X + .5);
              if (C == "avrg" || (M & 3) == 3)
                  z[M] = a;
              else if (C == "summ")
                  z[M] = 255 * Math.pow(Math.min(255, E) * (1 / 255), 1 / 2.4);
              else {
                  var q = 0;
                  for (var f = 0; f < D; f++) {
                      var c = n[f][M] - a;
                      q += c * c
                  }
                  var K = Math.sqrt(q * X) * (1 / 255);
                  if (C == "stdv")
                      z[M] = 255 * Math.pow(K, 1 / 2.4);
                  else
                      z[M] = 255 * Math.pow(K * K, 1 / 2.4)
              }
          }
      } else if (C == "maxx") {
          for (var M = 0; M < F; M++) {
              var R = 0;
              for (var f = 0; f < D; f++)
                  R = Math.max(R, n[f][M]);
              z[M] = R
          }
      } else if (C == "minn") {
          for (var M = 0; M < F; M++) {
              var R = 255;
              for (var f = 0; f < D; f++)
                  R = Math.min(R, n[f][M]);
              z[M] = R
          }
      } else if (C == "medn" || C == "rang") {
          var J = function(m, A) {
              return m - A
          }
            , w = new Array(D)
            , p = 0
            , I = 0;
          if (D % 1 == 0) {
              I = D >>> 1;
              p = I - 1
          } else {
              p = I = D >>> 1
          }
          for (var M = 0; M < F; M++) {
              for (var f = 0; f < D; f++)
                  w[f] = n[f][M];
              w.sort(J);
              if (C == "medn")
                  z[M] = w[p] + w[I] >>> 1;
              else
                  z[M] = (M & 3) == 3 ? w[D - 1] : w[D - 1] - w[0]
          }
      } else
          console.log(C)
  }
  ;
  j.Xd = {};
  j.Xd.a1P = function(n, z, C, D, F) {
      var X = j.Xd.A9(n.buffer, z, C).TH
        , E = Date.now()
        , f = new Uint32Array(X.length);
      for (var M = 0; M < X.length; M++)
          f[M] = X[M].KV;
      var a = UPNG.quantize.getKDtree(new Uint8Array(f.buffer), D)
        , q = [z, 1, -z, -1, z + 1, -z + 1, -z - 1, z - 1, z + z, 2, -z - z, -2, z + z - 1, z + z + 1, z + 2, -z + 2, -z - z + 1, -z - z - 1, -z - 2, z - 2, z + z + 2, -z - z + 2 - z - z - 2, z + z - 2]
        , c = new Uint8Array(z * C)
        , K = n;
      for (var R = 0; R < C; R++)
          for (var J = 0; J < z; J++) {
              var M = R * z + J << 2
                , w = K[M] * (1 / 255)
                , p = K[M + 1] * (1 / 255)
                , I = K[M + 2] * (1 / 255)
                , m = K[M + 3] * (1 / 255)
                , A = j.Xd.FO(a, w, p, I, m, F);
              if (A == null) {
                  var U = []
                    , r = 0;
                  while (r < 20) {
                      var $ = R * z + J + q[r] << 2
                        , k = K[$] * (1 / 255)
                        , G = K[$ + 1] * (1 / 255)
                        , i = K[$ + 2] * (1 / 255)
                        , o = K[$ + 3] * (1 / 255)
                        , S = j.Xd.FO(a, k, G, i, o, .005);
                      if (S != null) {
                          if (U.indexOf(S) == -1) {
                              U.push(S);
                              S.b4 = 1
                          } else
                              S.b4++
                      }
                      r++
                  }
                  U.sort(function(m, I) {
                      return I.b4 - m.b4
                  });
                  while (U.length != 0 && U[U.length - 1].b4 < 3)
                      U.pop();
                  if (U.length == 0)
                      A = j.Xd.FO(a, w, p, I, m, 100);
                  else if (U.length == 1)
                      A = U[0];
                  else if (U.length == 2) {
                      var H = U[0]
                        , e = U[1]
                        , V = H.est.q
                        , v = e.est.q
                        , B = v[0] - V[0]
                        , Z = v[1] - V[1]
                        , d = v[2] - V[2]
                        , g = v[3] - V[3]
                        , Y = w - V[0]
                        , y = p - V[1]
                        , L = I - V[2]
                        , _ = m - V[3]
                        , b = B * B + Z * Z + d * d + g * g
                        , x = Y * Y + y * y + L * L + _ * _
                        , W = (Y * B + y * Z + L * d + _ * g) / b
                        , g6 = x - W * W * b;
                      if (g6 < .5)
                          A = W < .5 ? H : e;
                      else {
                          A = j.Xd.FO(a, w, p, I, m, 100)
                      }
                  } else {
                      var H = U[0]
                        , e = U[1]
                        , fY = U[2]
                        , V = H.est.q
                        , v = e.est.q
                        , f3 = fY.est.q
                        , hK = V[0] - f3[0]
                        , s = V[1] - f3[1]
                        , P = V[2] - f3[2]
                        , aF = V[3] - f3[3]
                        , fM = v[0] - f3[0]
                        , eA = v[1] - f3[1]
                        , e8 = v[2] - f3[2]
                        , eC = v[3] - f3[3]
                        , cy = f3[0] - w
                        , aX = f3[1] - p
                        , j0 = f3[2] - I
                        , aT = f3[3] - m
                        , a4 = hK * hK + s * s + P * P + aF * aF
                        , f8 = hK * fM + s * eA + P * e8 + aF * eC
                        , b3 = cy * hK + aX * s + j0 * P + aT * aF
                        , gh = hK * fM + s * eA + P * e8 + aF * eC
                        , cZ = fM * fM + eA * eA + e8 * e8 + eC * eC
                        , h3 = cy * fM + aX * eA + j0 * e8 + aT * eC
                        , ew = 1 / (f8 * gh - a4 * cZ)
                        , W = (cZ * b3 - h3 * f8) * ew
                        , dy = (h3 * a4 - b3 * gh) * ew
                        , fx = 1 - W - dy
                        , bo = Math.max(W, dy, fx);
                      if (bo == W)
                          A = H;
                      else if (bo == dy)
                          A = e;
                      else
                          A = fY
                  }
              }
              c[M >> 2] = A.ind
          }
      return {
          dO: c,
          TH: a[1]
      }
  }
  ;
  j.Xd.A9 = function(n, z, C) {
      var D = []
        , F = {}
        , X = z - 1
        , E = C - 1
        , f = 0
        , a = new Uint32Array(n)
        , q = [-z - 1, -z, -z + 1, -1, 1, z - 1, z, z + 1, z + z, 2, -z - z, -2, z + z - 1, z + z + 1, z + 2, -z + 2, -z - z + 1, -z - z - 1, -z - 2, z - 2, z + z + 2, -z - z + 2 - z - z - 2, z + z - 2];
      for (var c = 1; c < E; c++)
          for (var K = 1; K < X; K++) {
              var R = c * z + K
                , J = a[R]
                , w = !0;
              for (var M = 0; M < 8; M++)
                  w = w && a[R + q[M]] == J;
              if (w) {
                  f++;
                  var p = F[J];
                  if (p == null) {
                      F[J] = D.length;
                      D.push({
                          KV: J,
                          Mc: 1
                      })
                  } else
                      D[p].Mc++
              }
          }
      return {
          TH: D,
          amB: f
      }
  }
  ;
  j.Xd.FO = function(n, z, C, D, F, X) {
      var E = UPNG.quantize.getNearest(n[0], z, C, D, F);
      return j.Xd.a4D(E, z, C, D, F) < X ? E : null
  }
  ;
  j.Xd.a4D = function(n, z, C, D, F) {
      var X = n.est.q
        , E = z - X[0]
        , f = C - X[1]
        , a = D - X[2]
        , q = F - X[3];
      return E * E + f * f + a * a + q * q
  }
  ;
  j.Xd.abB = function(n, z, C, D) {
      var F = j.Xd.amH(n, z, C, D)
        , X = F.dO
        , E = F.TH
        , f = F.apU
        , a = UPNG.quantize.getKDtree(new Uint8Array(f.buffer.slice(0)), 200)
        , q = [];
      for (var M = 0; M < E.length; M++) {
          var c = E[M]._a
            , K = c[0]
            , R = c[1]
            , J = c[2]
            , w = c[3];
          if (Math.min(K, R, J, w) < 0)
              throw "e";
          var p = UPNG.quantize.getNearest(a[0], K / 255, R / 255, J / 255, w / 255);
          q.push(a[1].indexOf(p))
      }
      for (var M = 0; M < z * C; M++)
          X[M] = q[X[M]];
      return {
          dO: X,
          TH: a[1]
      }
  }
  ;
  j.Xd.amH = function(n, z, C, D) {
      var F = z * C
        , X = 2 * F
        , E = j.Xd.abf(n, z, C)
        , f = 65535 + 1
        , a = new Uint32Array(f)
        , c = 0;
      for (var M = 0; M < X; M++)
          a[E[M]]++;
      var q = new Uint32Array(f);
      for (var M = 0; M < f; M++) {
          q[M] = c;
          c += a[M]
      }
      var K = new Uint32Array(X);
      for (var M = 0; M < X; M++) {
          var R = E[M];
          K[q[R]] = M;
          q[R]++
      }
      var J = new UnionFind(F)
        , w = new Uint16Array(F)
        , p = new Uint32Array(F);
      for (var M = 0; M < F; M++)
          p[M] = 1;
      var I = F
        , m = 1e5 / (D * 10);
      for (var A = 0; A < X; A++) {
          var U = K[A]
            , r = E[U];
          if (r == 65535)
              continue;
          var M = U >> 1
            , $ = M + ((U & 1) == 0 ? 1 : z)
            , k = J.find(M)
            , G = J.find($)
            , i = Math.min(w[k] + m / Math.sqrt(p[k]), w[G] + m / Math.sqrt(p[G]));
          if (k != G && r <= i) {
              J.link(M, $);
              I--;
              var o = J.find(M);
              p[o] = p[k] + p[G];
              w[o] = r
          }
      }
      var S = []
        , H = {}
        , e = new Uint16Array(F);
      for (var M = 0; M < F; M++) {
          var o = J.find(M)
            , V = H[o];
          if (V == null) {
              H[o] = V = S.length;
              S.push({
                  Mc: 0,
                  _a: [0, 0, 0, 0]
              })
          }
          S[V].Mc++;
          for (var $ = 0; $ < 4; $++)
              S[V]._a[$] += n[(M << 2) + $];
          e[M] = V
      }
      var v = new Uint32Array(S.length);
      for (var M = 0; M < S.length; M++) {
          var V = S[M];
          for (var $ = 0; $ < 4; $++)
              V._a[$] = Math.round(V._a[$] / V.Mc);
          v[M] = V._a[3] << 24 | V._a[2] << 16 | V._a[1] << 8 | V._a[0]
      }
      return {
          dO: e,
          TH: S,
          apU: v
      }
  }
  ;
  j.Xd.abf = function(n, z, C) {
      var D = new Uint16Array(z * C * 2);
      for (var F = 0; F < C; F++)
          for (var X = 0; X < z; X++) {
              var M = F * z + X;
              D[M + M] = X < z - 1 ? j.Xd.ZM(n, M, M + 1) : 65535;
              D[M + M + 1] = F < C - 1 ? j.Xd.ZM(n, M, M + z) : 65535
          }
      return D
  }
  ;
  j.Xd.ZM = function(n, M, z) {
      var C = M << 2
        , D = z << 2
        , F = n[C]
        , X = n[C + 1]
        , E = n[C + 2]
        , f = n[C + 3]
        , a = n[D]
        , q = n[D + 1]
        , c = n[D + 2]
        , K = n[D + 3]
        , R = F - a
        , J = X - q
        , w = E - c
        , p = f - K;
      return R * R + J * J + w * w + p * p >> 2
  }
  ;
  j.Xd.vD = function() {
      function n(m, A, U, r, $, k) {
          var G = []
            , i = k
            , o = k
            , S = k >>> 2;
          for (var H = 0; H < $; H++)
              for (var e = 0; e < r; e++) {
                  var V = ~~((e + .5) * i)
                    , v = ~~((H + .5) * o)
                    , B = 1e9
                    , Z = Math.max(0, V - S)
                    , d = Math.min(A, V + S + 1)
                    , g = Math.max(0, v - S)
                    , Y = Math.min(U, v + S + 1);
                  for (var y = g; y < Y; y++)
                      for (var L = Z; L < d; L++) {
                          var _ = z(m, A, L, y);
                          if (_ < B) {
                              V = L;
                              v = y;
                              B = _
                          }
                      }
                  var b = (v * A + V) * 4;
                  G.push(V, v)
              }
          return G
      }
      function z(m, A, U, r) {
          var $ = (r * A + U) * 4
            , k = A * 4
            , G = C(m, $ - 4, $) + C(m, $, $ + 4)
            , i = C(m, $ - k, $) + C(m, $, $ + k);
          return G + i
      }
      function C(m, A, U) {
          var r = m[A] - m[U]
            , $ = m[A + 1] - m[U + 1]
            , k = m[A + 2] - m[U + 2];
          return r * r + $ * $ + k * k
      }
      var D = 0
        , F = 0;
      function X(m, A, U, r) {
          F++;
          if (r < D)
              D = r;
          m[r].push(A, U)
      }
      function E(m) {
          F--;
          while (m[D].length == 0)
              D++
      }
      function f(m, A, U) {
          D = 0;
          F = 0;
          var r = A * U
            , $ = Math.round(Math.min(A, U) / 50)
            , v = 0
            , B = 16;
          if ($ == 0)
              $ = 1;
          var k = 30 / $
            , G = Math.floor(A / $)
            , i = Math.floor(U / $)
            , o = new Uint16Array(r);
          for (var M = 0; M < r; M++)
              o[M] = 65535;
          var S = n(m, A, U, G, i, $)
            , H = S.length >>> 1;
          if (H > 65535)
              throw H;
          var e = [];
          for (var M = 0; M < 1e3 + U; M++)
              e.push([]);
          var V = [0, 1, 0, -1, -1, 0, 1, 0]
            , Z = Math.min(i, 5)
            , d = new Uint32Array(H * 6);
          for (var g = 0; g < i; g += Z) {
              var Y = Math.min(g + Z + 1, i);
              for (var y = g; y < Y; y++)
                  for (var L = 0; L < G; L++) {
                      var M = y * G + L
                        , _ = M * 2
                        , b = S[_ + 1] << 16 | S[_];
                      X(e, b, M, S[_ + 1] >>> B)
                  }
              var x = Math.min(U, Y * $);
              if (g + Z >= i)
                  x = U;
              while (F != 0) {
                  E(e);
                  var W = e[D].pop()
                    , g6 = e[D].pop()
                    , fY = g6 >>> 16
                    , f3 = g6 & 65535
                    , M = fY * A + f3;
                  if (o[M] == 65535) {
                      var hK = W * 6
                        , s = M << 2;
                      o[M] = W;
                      d[hK] += m[s];
                      d[hK + 1] += m[s + 1];
                      d[hK + 2] += m[s + 2];
                      d[hK + 3] += f3;
                      d[hK + 4] += fY;
                      d[hK + 5]++;
                      var P = fY >>> B;
                      if (fY != x - 1 && o[M + A] == 65535)
                          X(e, fY + 1 << 16 | f3, W, a(m, A, k, f3, fY + 1, d, hK) + P);
                      if (fY != 0 && o[M - A] == 65535)
                          X(e, fY - 1 << 16 | f3, W, a(m, A, k, f3, fY - 1, d, hK) + P);
                      if (f3 != 0 && o[M - 1] == 65535)
                          X(e, fY << 16 | f3 - 1, W, a(m, A, k, f3 - 1, fY, d, hK) + P);
                      if (f3 != A - 1 && o[M + 1] == 65535)
                          X(e, fY << 16 | f3 + 1, W, a(m, A, k, f3 + 1, fY, d, hK) + P)
                  }
              }
              if (x != fY) {
                  var aF = (g + Z) * G;
                  d.fill(0, aF * 6, (aF + G) * 6);
                  for (var fY = (g + Z - 2) * $; fY < x; fY++)
                      for (var f3 = 0; f3 < A; f3++) {
                          var M = fY * A + f3;
                          if (o[M] >= aF) {
                              o[M] = 65535
                          }
                      }
              }
          }
          return {
              dO: o,
              tA: H,
              yt: d
          }
      }
      j.Xd.ev = function(m, A, U, r, $) {
          var k = m.tA
            , G = A * U
            , i = m.yt
            , o = m.dO
            , S = J(r, o, k, G)
            , H = new UnionFind(k)
            , d = 0;
          for (var e = 1; e < U; e++)
              for (var V = 1; V < A; V++) {
                  var M = e * A + V
                    , v = o[M]
                    , B = 0;
                  if ((B = o[M - 1]) != v && S[B] == S[v] && q(i, 0, v * 6, B * 6) < $)
                      H.link(v, B);
                  if ((B = o[M - A]) != v && S[B] == S[v] && q(i, 0, v * 6, B * 6) < $)
                      H.link(v, B)
              }
          var Z = new Uint16Array(k);
          Z.fill(65535);
          var g = new Uint16Array(k);
          for (var M = 0; M < k; M++) {
              var Y = H.find(M);
              if (Z[Y] == 65535)
                  Z[Y] = d++;
              g[M] = Z[Y]
          }
          var y = new Uint16Array(G);
          for (var M = 0; M < G; M++)
              y[M] = g[o[M]];
          return {
              dO: y,
              tA: d
          }
      }
      ;
      j.Xd.akv = function(m, A, U, r) {
          var $ = j.T(U)
            , k = A.length
            , G = 0;
          for (var M = 0; M < k && G != 3; M++) {
              var i = r[M];
              if (i == 0 || i == 255) {
                  var o = A[M]
                    , S = 2 - (i >>> 7);
                  $[o] = G = $[o] | S
              }
          }
          return G != 3
      }
      ;
      function a(m, A, U, r, $, k, G) {
          var i = ($ * A + r) * 4
            , o = k[G + 5]
            , S = 1 / o
            , H = m[i] * o - k[G]
            , e = m[i + 1] * o - k[G + 1]
            , V = m[i + 2] * o - k[G + 2]
            , v = r * o - k[G + 3]
            , B = $ * o - k[G + 4]
            , Z = Math.sqrt(H * H + e * e + V * V)
            , d = Math.sqrt(v * v + B * B);
          return ~~((Z + U * d) * S + .5)
      }
      function q(m, A, U, r) {
          var $ = 1 / m[U + 5]
            , k = 1 / m[r + 5]
            , G = m[U] * $ - m[r] * k
            , i = m[U + 1] * $ - m[r + 1] * k
            , o = m[U + 2] * $ - m[r + 2] * k
            , S = m[U + 3] * $ - m[r + 3] * k
            , H = m[U + 4] * $ - m[r + 4] * k
            , e = Math.sqrt(G * G + i * i + o * o)
            , V = Math.sqrt(S * S + H * H);
          return ~~(e + A * V + .5)
      }
      function c(m, A, U) {
          var r = j.V0(m, new cc(0,0,A,U))
            , $ = r.rect.d
            , k = r.rect.v
            , G = f(r.oz, $, k)
            , i = G.dO
            , o = Date.now()
            , S = new Uint16Array(A * U);
          S.fill(65535);
          for (var H = 0; H < k; H++) {
              for (var e = 0; e < $; e++) {
                  var V = H * $ + e
                    , M = (H << 1) * A + (e << 1)
                    , v = i[V];
                  if (i[V - $] != v || i[V - 1] != v || i[V + 1] != v || i[V + $] != v)
                      v = 65535;
                  S[M] = v;
                  S[M + 1] = v;
                  S[M + A] = v;
                  S[M + A + 1] = v
              }
          }
          G.dO = S;
          return G
      }
      function K(m, A) {
          var M = 0
            , U = m.length;
          while (M != U && m[M] != A)
              M += 2;
          return M == U ? -1 : M
      }
      function R(m, M) {
          if (M == m.length - 2) {
              m.pop();
              m.pop()
          } else {
              m[M + 1] = m.pop();
              m[M] = m.pop()
          }
      }
      j.Xd.aiT = function(m, A, U, r, $) {
          var k = new Uint32Array($ * 4400)
            , z = [];
          for (var M = 0; M < $; M++)
              z.push([]);
          for (var G = 0; G < U; G++)
              for (var i = 0; i < A; i++) {
                  var M = G * A + i
                    , o = M << 2
                    , S = r[M]
                    , H = 0
                    , e = m[o] >>> 4
                    , V = m[o + 1] >>> 4
                    , v = m[o + 2] >>> 4;
                  k[S * 4400 + (e << 8 | V << 4 | v)]++;
                  k[S * 4400 + 4096]++;
                  k[S * 4400 + 4100 + (e << 4 | V)]++;
                  k[S * 4400 + 4360 + e]++;
                  if (i != 0 && (H = r[M - 1]) != S && K(z[S], H) == -1) {
                      z[S].push(H, 0);
                      z[H].push(S, 0)
                  }
                  if (G != 0 && (H = r[M - A]) != S && K(z[S], H) == -1) {
                      z[S].push(H, 0);
                      z[H].push(S, 0)
                  }
              }
          for (var M = 0; M < $; M++) {
              var v = z[M];
              for (var B = 0; B < v.length; B += 2)
                  v[B + 1] = I(k, M, v[B])
          }
          return [k, z]
      }
      ;
      function J(m, A, U, r) {
          var $ = j.T(U);
          for (var M = 0; M < r; M++) {
              var k = m[M];
              if (k == 0 || k == 255)
                  $[A[M]] = 2 - (k >>> 7)
          }
          return $
      }
      j.Xd.a6l = function(m, A, U, r, $, k, G) {
          var i = A * U
            , o = G[0]
            , z = G[1]
            , S = new UnionFind(r)
            , H = J($, m, r, i)
            , e = -1
            , V = !0
            , v = 0;
          for (var M = 0; M < r; M++)
              if (H[M] == 1) {
                  if (e == -1)
                      e = M;
                  else
                      S.link(M, e)
              }
          if (e == -1) {
              for (var M = 0; M < i; M++)
                  k[M] = $[M] == 255 ? 255 : 0;
              return
          }
          while (V) {
              while (V) {
                  V = !1;
                  for (var M = 0; M < r; M++) {
                      if (H[M] == 0) {
                          var B = w(z[M]);
                          if (H[B] == 1) {
                              H[M] = H[B];
                              V = !0;
                              S.link(M, B)
                          }
                      }
                  }
              }
              V = !0;
              v = 0;
              while (V) {
                  V = !1;
                  for (var M = 0; M < r; M++) {
                      if (H[M] == 0) {
                          var B = w(z[M]);
                          if (H[B] == 0) {
                              var Z = M * 4400
                                , d = B * 4400;
                              for (var g = 0; g < 4400; g += 2) {
                                  o[Z + g] += o[d + g];
                                  o[Z + g + 1] += o[d + g + 1]
                              }
                              p(z, o, M, B);
                              v++;
                              H[B] = 3;
                              V = !0;
                              S.link(M, B)
                          }
                      }
                  }
              }
              V = v != 0
          }
          var Y = S.find(e);
          for (var M = 0; M < r; M++)
              H[M] = S.find(M) == Y ? 255 : 0;
          for (var M = 0; M < i; M++) {
              k[M] = H[m[M]]
          }
          for (var M = 0; M < i; M++) {
              var B = $[M];
              if (B == 0 || B == 255)
                  k[M] = B
          }
      }
      ;
      function w(m) {
          var A = 0
            , U = 0
            , r = m.length;
          for (var $ = 0; $ < r; $ += 2) {
              var k = m[$ + 1];
              if (k > U) {
                  U = k;
                  A = $
              }
          }
          return m[A]
      }
      function p(z, m, A, U) {
          var r = z[A]
            , $ = z[U];
          R(r, K(r, U));
          R($, K($, A));
          for (var M = 0; M < $.length; M += 2) {
              var k = $[M]
                , G = z[k];
              R(G, K(G, U));
              if (K(G, A) == -1) {
                  G.push(A, 0);
                  r.push(k, 0)
              }
          }
          for (var M = 0; M < r.length; M += 2) {
              var k = r[M]
                , G = z[k]
                , i = I(m, A, k);
              r[M + 1] = i;
              G[K(G, A) + 1] = i
          }
      }
      function I(m, A, U) {
          var r = 0
            , $ = 4096
            , k = A * 4400
            , G = U * 4400;
          for (var i = 0; i < 16; i++) {
              if (m[k + 4360 + i] == 0 || m[G + 4360 + i] == 0)
                  continue;
              for (var o = 0; o < 16; o++) {
                  var S = i << 4 | o;
                  if (m[k + 4100 + S] == 0 || m[G + 4100 + S] == 0)
                      continue;
                  var H = k + (S << 4)
                    , e = G + (S << 4);
                  for (var M = 0; M < 16; M++)
                      r += Math.sqrt(m[H + M] * m[e + M])
              }
          }
          var V = r / Math.sqrt(m[k + $] * m[G + $]);
          return ~~(999.99999 * V)
      }
      return f
  }();
  var aD = function() {
      function n() {
          this.t = 0;
          this.Rs = 0;
          this.iF = {};
          this.y2 = [];
          this.mL = 1e5;
          this.Zu = 1e5;
          this.ww = -1;
          this.i_ = -1;
          this.color = 0
      }
      function z(h) {
          this.Rx = h;
          this.Pw = new Array(h);
          this.KV = new Array(h * 6);
          this.anc = 0;
          this.ig = new Array(h * 2);
          this.alpha = new Array(h);
          this.az = new Array(h);
          this.Ra = new Array(h)
      }
      function C(F, X, E, f) {
          function a(I, m, F, X) {
              return F[X * m + I]
          }
          function q(M) {
              var G = F.length;
              while (M < G && F[M] == 0)
                  M++;
              return M < G ? M : -1
          }
          function c(I, m, G) {
              for (var M = 2; M < 5; M++) {
                  var i = 0;
                  for (var o = -M + 1; o <= M - 1; o++) {
                      i += a(I + o, m + M - 1, F, X) == G ? 1 : -1;
                      i += a(I + M - 1, m + o - 1, F, X) == G ? 1 : -1;
                      i += a(I + o - 1, m - M, F, X) == G ? 1 : -1;
                      i += a(I - M, m + o, F, X) == G ? 1 : -1
                  }
                  if (i > 0)
                      return 1;
                  else if (i < 0)
                      return 0
              }
              return 0
          }
          function K(G, w) {
              var p = new n, I = G, m = w, i = 0, o = 1, S;
              p.color = F[w * X + G];
              p.sign = a(G, w, F, X) == p.color ? "+" : "-";
              while (1) {
                  p.y2.push(I, m);
                  if (I > p.ww)
                      p.ww = I;
                  if (I < p.mL)
                      p.mL = I;
                  if (m > p.i_)
                      p.i_ = m;
                  if (m < p.Zu)
                      p.Zu = m;
                  p.Rs++;
                  I += i;
                  m += o;
                  p.t -= I * o;
                  if (I == G && m == w)
                      break;
                  var H = a(I + (i + o - 1 >> 1), m + (o - i - 1 >> 1), F, X) == p.color
                    , e = a(I + (i - o - 1 >> 1), m + (o + i - 1 >> 1), F, X) == p.color;
                  if (e && !H) {
                      if (f.TZ == "right" || f.TZ == "black" && p.sign == "+" || f.TZ == "white" && p.sign == "-" || f.TZ == "majority" && c(I, m, p.color) || f.TZ == "minority" && !c(I, m, p.color)) {
                          S = i;
                          i = -o;
                          o = S
                      } else {
                          S = i;
                          i = o;
                          o = -S
                      }
                  } else if (e) {
                      S = i;
                      i = -o;
                      o = S
                  } else if (!H) {
                      S = i;
                      i = o;
                      o = -S
                  }
              }
              return p
          }
          var R = 0
            , J = [];
          while (!0) {
              var R = q(R);
              if (R == -1)
                  break;
              var w = Math.floor(R / X)
                , p = K(R - w * X, w);
              for (var M = 0; M < p.y2.length - 2; M += 2) {
                  var I = p.y2[M]
                    , m = p.y2[M + 1]
                    , A = m * X + I;
                  if (I == p.y2[M + 2] && m + 1 == p.y2[M + 3] && F[A] != 0)
                      aD.fill(A, F, X, 0)
              }
              if (p.t > f.amf)
                  J.push(p)
          }
          for (var M = 0; M < J.length; M++)
              J[M].parent = -1;
          var U = Date.now();
          for (var M = 1; M < J.length; M++) {
              var r = J[M];
              for (var $ = M - 1; $ >= 0; $--) {
                  var k = J[$];
                  if (r.mL < k.mL || r.ww > k.ww || r.Zu < k.Zu || r.i_ > k.i_)
                      continue;
                  if (!aD.aax(k.y2, r.y2[0] + .5, r.y2[1] + .5))
                      continue;
                  r.parent = $;
                  break
              }
          }
          return J
      }
      function D(F, X) {
          function E(i, o, S, H, e) {
              this.x = i;
              this.y = o;
              this.nG = S;
              this.RE = H;
              this.$m = e
          }
          function f(i, h) {
              return (h + i) % h
          }
          function a(i, o, S, H) {
              return i * H - S * o
          }
          function q(i, o, S, H) {
              return i * S + o * H
          }
          function c(i, o, S) {
              if (i <= S)
                  return i <= o && o < S;
              else
                  return i <= o || o < S
          }
          function K(i, o, S) {
              var H = 0;
              H += o * i[0] * o;
              H += o * i[1] * S;
              H += o * i[2];
              H += S * i[3] * o;
              H += S * i[4] * S;
              H += S * i[5];
              H += i[6] * o;
              H += i[7] * S;
              H += i[8];
              return H
          }
          function R(i, o, S) {
              return o + i * (S - o)
          }
          function J(i, o, S, H) {
              var e = Math.sign(S - i)
                , V = -Math.sign(H - o);
              return e * (S - i) - V * (H - o)
          }
          function w(i, o) {
              return Math.sqrt(i * i + o * o)
          }
          function p(i, o, S, H, e) {
              var V = 1 - i;
              return V * V * V * o + 3 * (V * V * i) * S + 3 * (i * i * V) * H + i * i * i * e
          }
          function I(i, o, S, H, e, V, v, B) {
              var Z = a(i, o, v, B)
                , d = a(S, H, v, B)
                , g = a(e, V, v, B)
                , Y = Z - 2 * d + g
                , y = -2 * Z + 2 * d
                , L = Z
                , _ = y * y - 4 * Y * L;
              if (Y == 0 || _ < 0)
                  return -1;
              var b = Math.sqrt(_)
                , x = (-y + b) / (2 * Y)
                , W = (-y - b) / (2 * Y);
              if (x >= 0 && x <= 1)
                  return x;
              else if (W >= 0 && W <= 1)
                  return W;
              else
                  return -1
          }
          function m(G) {
              var M, i, o;
              G.U5 = G.y2[0];
              G.al1 = G.y2[1];
              G.UH = [];
              var S = G.UH;
              S.push(new E(0,0,0,0,0));
              for (M = 0; M < G.Rs; M++) {
                  i = G.y2[M << 1] - G.U5;
                  o = G.y2[(M << 1) + 1] - G.al1;
                  S.push(new E(S[M].x + i,S[M].y + o,S[M].nG + i * o,S[M].RE + i * i,S[M].$m + o * o))
              }
          }
          function A(G) {
              var h = G.Rs, i = G.y2, o, S = new Array(h), H = new Array(h), e = new Array(4), V, v, B, Z, d, g, Y, y, L, _, b, M, x, W, g6, fY, f3, hK, s = 0;
              G.l$ = new Array(h);
              for (M = h - 1; M >= 0; M--) {
                  if (i[M << 1] != i[s << 1] && i[(M << 1) + 1] != i[(s << 1) + 1])
                      s = M + 1;
                  H[M] = s
              }
              for (M = h - 1; M >= 0; M--) {
                  var P = f(M + 1, h) << 1;
                  e[0] = e[1] = e[2] = e[3] = 0;
                  o = (3 + 3 * (i[P] - i[M << 1]) + (i[P + 1] - i[(M << 1) + 1])) / 2;
                  e[o]++;
                  V = 0;
                  v = 0;
                  B = 0;
                  Z = 0;
                  s = H[M];
                  W = M;
                  while (1) {
                      b = 0;
                      o = (3 + 3 * Math.sign(i[s * 2] - i[W * 2]) + Math.sign(i[s * 2 + 1] - i[W * 2 + 1])) / 2;
                      e[o]++;
                      if (e[0] && e[1] && e[2] && e[3]) {
                          S[M] = W;
                          b = 1;
                          break
                      }
                      L = i[s * 2] - i[M * 2];
                      _ = i[s * 2 + 1] - i[M * 2 + 1];
                      if (a(V, v, L, _) < 0 || a(B, Z, L, _) > 0) {
                          break
                      }
                      if (Math.abs(L) <= 1 && Math.abs(_) <= 1) {} else {
                          d = L + (_ >= 0 && (_ > 0 || L < 0) ? 1 : -1);
                          g = _ + (L <= 0 && (L < 0 || _ < 0) ? 1 : -1);
                          if (a(V, v, d, g) >= 0) {
                              V = d;
                              v = g
                          }
                          d = L + (_ <= 0 && (_ < 0 || L < 0) ? 1 : -1);
                          g = _ + (L >= 0 && (L > 0 || _ < 0) ? 1 : -1);
                          if (a(B, Z, d, g) <= 0) {
                              B = d;
                              Z = g
                          }
                      }
                      W = s;
                      s = H[W];
                      if (!c(s, M, W)) {
                          break
                      }
                  }
                  if (b == 0) {
                      Y = Math.sign(i[s * 2] - i[W * 2]);
                      y = Math.sign(i[s * 2 + 1] - i[W * 2 + 1]);
                      L = i[W * 2] - i[M * 2];
                      _ = i[W * 2 + 1] - i[M * 2 + 1];
                      g6 = a(V, v, L, _);
                      fY = a(V, v, Y, y);
                      f3 = a(B, Z, L, _);
                      hK = a(B, Z, Y, y);
                      x = 1e7;
                      if (fY < 0) {
                          x = Math.floor(g6 / -fY)
                      }
                      if (hK > 0) {
                          x = Math.min(x, Math.floor(-f3 / hK))
                      }
                      S[M] = f(W + x, h)
                  }
              }
              x = S[h - 1];
              G.l$[h - 1] = x;
              for (M = h - 2; M >= 0; M--) {
                  if (c(M + 1, S[M], x)) {
                      x = S[M]
                  }
                  G.l$[M] = x
              }
              for (M = h - 1; c(f(M + 1, h), x, G.l$[M]); M--) {
                  G.l$[M] = x
              }
          }
          function U(G) {
              function i(G, M, o) {
                  var h = G.Rs, L = G.y2, _ = G.UH, b, x, W, g6, fY, H, f3, hK, y, s, P, aF, fM, eA, e8 = 0;
                  if (o >= h) {
                      o -= h;
                      e8 = 1
                  }
                  if (e8 == 0) {
                      b = _[o + 1].x - _[M].x;
                      x = _[o + 1].y - _[M].y;
                      g6 = _[o + 1].RE - _[M].RE;
                      W = _[o + 1].nG - _[M].nG;
                      fY = _[o + 1].$m - _[M].$m;
                      H = o + 1 - M
                  } else {
                      b = _[o + 1].x - _[M].x + _[h].x;
                      x = _[o + 1].y - _[M].y + _[h].y;
                      g6 = _[o + 1].RE - _[M].RE + _[h].RE;
                      W = _[o + 1].nG - _[M].nG + _[h].nG;
                      fY = _[o + 1].$m - _[M].$m + _[h].$m;
                      H = o + 1 - M + h
                  }
                  P = (L[M << 1] + L[o << 1]) / 2 - L[0];
                  aF = (L[(M << 1) + 1] + L[(o << 1) + 1]) / 2 - L[1];
                  eA = L[o << 1] - L[M << 1];
                  fM = -(L[(o << 1) + 1] - L[(M << 1) + 1]);
                  f3 = (g6 - 2 * b * P) / H + P * P;
                  hK = (W - b * aF - x * P) / H + P * aF;
                  y = (fY - 2 * x * aF) / H + aF * aF;
                  s = fM * fM * f3 + 2 * fM * eA * hK + eA * eA * y;
                  return Math.sqrt(s)
              }
              var M, o, S, H, h = G.Rs, e = new Array(h + 1), V = new Array(h + 1), v = new Array(h), B = new Array(h + 1), Z = new Array(h + 1), d = new Array(h + 1), g, Y, y;
              for (M = 0; M < h; M++) {
                  y = f(G.l$[f(M - 1, h)] - 1, h);
                  if (y == M) {
                      y = f(M + 1, h)
                  }
                  if (y < M) {
                      v[M] = h
                  } else {
                      v[M] = y
                  }
              }
              o = 1;
              for (M = 0; M < h; M++) {
                  while (o <= v[M]) {
                      B[o] = M;
                      o++
                  }
              }
              M = 0;
              for (o = 0; M < h; o++) {
                  Z[o] = M;
                  M = v[M]
              }
              Z[o] = h;
              S = o;
              M = h;
              for (o = S; o > 0; o--) {
                  d[o] = M;
                  M = B[M]
              }
              d[0] = 0;
              e[0] = 0;
              for (o = 1; o <= S; o++) {
                  for (M = d[o]; M <= Z[o]; M++) {
                      Y = -1;
                      for (H = Z[o - 1]; H >= B[M]; H--) {
                          g = i(G, H, M) + e[H];
                          if (Y < 0 || g < Y) {
                              V[M] = H;
                              Y = g
                          }
                      }
                      e[M] = Y
                  }
              }
              G.f7 = S;
              G.acv = new Array(S);
              for (M = h,
              o = S - 1; M > 0; o--) {
                  M = V[M];
                  G.acv[o] = M
              }
          }
          function r(G) {
              function i(G, M, g, v, B, eC) {
                  var h = G.Rs, cy = G.UH, aX = 0, y;
                  while (g >= h) {
                      g -= h;
                      aX += 1
                  }
                  while (M >= h) {
                      M -= h;
                      aX -= 1
                  }
                  while (g < 0) {
                      g += h;
                      aX -= 1
                  }
                  while (M < 0) {
                      M += h;
                      aX += 1
                  }
                  var j0 = cy[g + 1].x - cy[M].x + aX * cy[h].x
                    , aT = cy[g + 1].y - cy[M].y + aX * cy[h].y
                    , a4 = cy[g + 1].RE - cy[M].RE + aX * cy[h].RE
                    , f8 = cy[g + 1].nG - cy[M].nG + aX * cy[h].nG
                    , b3 = cy[g + 1].$m - cy[M].$m + aX * cy[h].$m
                    , Y = g + 1 - M + aX * h;
                  v[eC] = j0 / Y;
                  v[eC + 1] = aT / Y;
                  var gh = (a4 - j0 * j0 / Y) / Y
                    , cZ = (f8 - j0 * aT / Y) / Y
                    , h3 = (b3 - aT * aT / Y) / Y
                    , ew = (gh + h3 + Math.sqrt((gh - h3) * (gh - h3) + 4 * cZ * cZ)) / 2;
                  gh -= ew;
                  h3 -= ew;
                  if (Math.abs(gh) >= Math.abs(h3)) {
                      y = Math.sqrt(gh * gh + cZ * cZ);
                      if (y != 0) {
                          B[eC] = -cZ / y;
                          B[eC + 1] = gh / y
                      }
                  } else {
                      y = Math.sqrt(h3 * h3 + cZ * cZ);
                      if (y != 0) {
                          B[eC] = -h3 / y;
                          B[eC + 1] = cZ / y
                      }
                  }
                  if (y == 0) {
                      B[eC] = B[eC + 1] = 0
                  }
              }
              var o = G.f7, S = G.acv, h = G.Rs, H = G.y2, e = G.U5, V = G.al1, v = new Array(o * 2), B = new Array(o * 2), Z = new Array(o), d = new Array(3), M, g, Y, y, x, W, g6, fY, f3, hK, s;
              G.iF = new z(o);
              for (M = 0; M < o; M++) {
                  g = S[f(M + 1, o)];
                  g = f(g - S[M], h) + S[M];
                  v[M << 1] = 0;
                  v[(M << 1) + 1] = 0;
                  B[M << 1] = 0;
                  B[(M << 1) + 1] = 0;
                  i(G, S[M], g, v, B, M << 1)
              }
              for (M = 0; M < o; M++) {
                  Z[M] = [0, 0, 0, 0, 0, 0, 0, 0, 0];
                  var L = B[M << 1] * B[M << 1] + B[(M << 1) + 1] * B[(M << 1) + 1]
                    , _ = 1 / L;
                  if (L != 0) {
                      d[0] = B[(M << 1) + 1];
                      d[1] = -B[M << 1];
                      d[2] = -d[1] * v[(M << 1) + 1] - d[0] * v[M << 1];
                      for (y = 0; y < 3; y++) {
                          Z[M][y * 3 + 0] = d[y] * d[0] * _;
                          Z[M][y * 3 + 1] = d[y] * d[1] * _;
                          Z[M][y * 3 + 2] = d[y] * d[2] * _
                      }
                  }
              }
              var b = [0, 0, 0, 0, 0, 0, 0, 0, 0];
              for (M = 0; M < o; M++) {
                  b[0] = b[1] = b[2] = b[3] = b[4] = b[5] = b[6] = b[7] = b[8] = b[9] = 0;
                  var P = H[S[M] << 1] - e
                    , aF = H[(S[M] << 1) + 1] - V
                    , fM = 0
                    , eA = 0;
                  g = f(M - 1, o);
                  for (y = 0; y < 9; y += 3) {
                      b[y + 0] = Z[g][y + 0] + Z[M][y + 0];
                      b[y + 1] = Z[g][y + 1] + Z[M][y + 1];
                      b[y + 2] = Z[g][y + 2] + Z[M][y + 2]
                  }
                  while (1) {
                      var e8 = b[0] * b[4] - b[1] * b[3];
                      if (e8 != 0) {
                          fM = (-b[2] * b[4] + b[5] * b[0]) / e8;
                          eA = (b[2] * b[3] - b[5] * b[0]) / e8;
                          break
                      }
                      if (b[0] > b[4]) {
                          d[0] = -b[1];
                          d[1] = b[0]
                      } else if (b[4]) {
                          d[0] = -b[4];
                          d[1] = b[3]
                      } else {
                          d[0] = 1;
                          d[1] = 0
                      }
                      var L = d[0] * d[0] + d[1] * d[1]
                        , _ = 1 / L;
                      d[2] = -d[1] * aF - d[0] * P;
                      for (y = 0; y < 3; y++) {
                          b[y * 3 + 0] += d[y] * d[0] * _;
                          b[y * 3 + 1] += d[y] * d[1] * _;
                          b[y * 3 + 2] += d[y] * d[2] * _
                      }
                  }
                  x = Math.abs(fM - P);
                  W = Math.abs(eA - aF);
                  if (x <= .5 && W <= .5) {
                      G.iF.ig[M << 1] = fM + e;
                      G.iF.ig[(M << 1) + 1] = eA + V;
                      continue
                  }
                  g6 = K(b, P, aF);
                  f3 = P;
                  hK = aF;
                  if (b[0] != 0) {
                      for (s = 0; s < 2; s++) {
                          eA = aF - .5 + s;
                          fM = -(b[1] * eA + b[2]) / b[0];
                          x = Math.abs(fM - P);
                          fY = K(b, fM, eA);
                          if (x <= .5 && fY < g6) {
                              g6 = fY;
                              f3 = fM;
                              hK = eA
                          }
                      }
                  }
                  if (b[4] != 0) {
                      for (s = 0; s < 2; s++) {
                          fM = P - .5 + s;
                          eA = -(b[3] * fM + b[5]) / b[4];
                          W = Math.abs(eA - aF);
                          fY = K(b, fM, eA);
                          if (W <= .5 && fY < g6) {
                              g6 = fY;
                              f3 = fM;
                              hK = eA
                          }
                      }
                  }
                  for (y = 0; y < 2; y++) {
                      for (Y = 0; Y < 2; Y++) {
                          fM = P - .5 + y;
                          eA = aF - .5 + Y;
                          fY = K(b, fM, eA);
                          if (fY < g6) {
                              g6 = fY;
                              f3 = fM;
                              hK = eA
                          }
                      }
                  }
                  G.iF.ig[M << 1] = f3 + e;
                  G.iF.ig[(M << 1) + 1] = hK + V
              }
          }
          function $(G) {
              var i = G.iF.Rx, o = G.iF, M, S, H, e, V, v, B, Z, d;
              for (M = 0; M < i; M++) {
                  S = f(M + 1, i);
                  H = f(M + 2, i);
                  var g = o.ig[M << 1]
                    , Y = o.ig[(M << 1) + 1]
                    , y = o.ig[H << 1]
                    , L = o.ig[(H << 1) + 1]
                    , _ = o.ig[S << 1]
                    , b = o.ig[(S << 1) + 1]
                    , x = R(.5, y, _)
                    , W = R(.5, L, b);
                  V = J(g, Y, y, L);
                  if (V != 0) {
                      e = a(_ - g, b - Y, y - g, L - Y) / V;
                      e = Math.abs(e);
                      v = e > 1 ? 1 - 1 / e : 0;
                      v = v * (1 / .75)
                  } else {
                      v = 4 / 3
                  }
                  o.az[S] = v;
                  var g6 = 3 * S << 1;
                  if (v >= X.apy) {
                      o.Pw[S] = 0;
                      o.KV[g6 + 0] = o.KV[g6 + 1] = 0;
                      o.KV[g6 + 2] = _;
                      o.KV[g6 + 3] = b;
                      o.KV[g6 + 4] = x;
                      o.KV[g6 + 5] = W
                  } else {
                      if (v < .55) {
                          v = .55
                      } else if (v > 1) {
                          v = 1
                      }
                      var fY = .5 + .5 * v;
                      o.Pw[S] = 1;
                      o.KV[g6] = R(fY, g, _);
                      o.KV[g6 + 1] = R(fY, Y, b);
                      o.KV[g6 + 2] = R(fY, y, _);
                      o.KV[g6 + 3] = R(fY, L, b);
                      o.KV[g6 + 4] = x;
                      o.KV[g6 + 5] = W
                  }
                  o.alpha[S] = v;
                  o.Ra[S] = .5
              }
              o.anC = 1
          }
          function k(G) {
              function i() {
                  this.xs = 0;
                  this.wL = 0;
                  this.tN = 0;
                  this.Vd = 0;
                  this.ap = 0;
                  this.x2 = 0;
                  this.ZP = 0;
                  this.alpha = 0
              }
              function o(G, M, g, fx, bo, f3, hK) {
                  var H = G.iF.Rx
                    , hd = G.iF.KV
                    , gT = G.iF.ig;
                  if (M == g)
                      return 1;
                  var du = M
                    , _ = f(M + 1, H)
                    , bk = f(du + 1, H)
                    , f8 = gT[M << 1]
                    , b3 = gT[(M << 1) + 1]
                    , i8 = gT[_ << 1]
                    , en = gT[(_ << 1) + 1]
                    , dW = f3[bk];
                  if (dW == 0)
                      return 1;
                  var ix = w(f8 - i8, b3 - en);
                  for (du = bk; du != g; du = bk) {
                      var bk = f(du + 1, H)
                        , dU = f(du + 2, H)
                        , hN = gT[bk << 1]
                        , a1 = gT[(bk << 1) + 1]
                        , hk = gT[dU << 1]
                        , ax = gT[(dU << 1) + 1];
                      if (f3[bk] != dW)
                          return 1;
                      if (Math.sign(a(i8 - f8, en - b3, hk - hN, ax - a1)) != dW)
                          return 1;
                      if (q(i8 - f8, en - b3, hk - hN, ax - a1) < ix * w(hN - hk, a1 - ax) * -.999847695156)
                          return 1
                  }
                  var ej = f(M, H) * 3 + 2 << 1
                    , bz = f(M + 1, H) << 1
                    , fq = f(g, H) << 1
                    , cg = f(g, H) * 3 + 2 << 1
                    , eC = hd[ej]
                    , cy = hd[ej + 1]
                    , iw = gT[bz]
                    , fD = gT[bz + 1]
                    , g8 = gT[fq]
                    , ap = gT[fq + 1]
                    , c8 = hd[cg]
                    , dS = hd[cg + 1]
                    , s = gT[0]
                    , P = gT[1];
                  ej = g * 3 + 2 << 1;
                  var iK = hd[ej]
                    , ay = hd[ej + 1]
                    , b = hK[g] - hK[M];
                  b -= a(iK - s, ay - P, iK - s, ay - P) / 2;
                  if (M >= g) {
                      b += hK[H]
                  }
                  var c$ = iw - eC
                    , gP = fD - cy
                    , d0 = g8 - eC
                    , ff = ap - cy
                    , ci = c8 - eC
                    , gL = dS - cy
                    , gw = a(c$, gP, d0, ff)
                    , bJ = a(c$, gP, ci, gL)
                    , hX = a(d0, ff, ci, gL)
                    , bm = gw + hX - bJ;
                  if (bJ == gw)
                      return 1;
                  var fY = hX / (hX - bm)
                    , g6 = bJ / (bJ - gw)
                    , hl = bJ * fY / 2;
                  if (hl == 0)
                      return 1;
                  var b0 = b / hl
                    , x = 2 - Math.sqrt(4 - b0 / .3);
                  fx.wL = R(fY * x, eC, iw);
                  fx.tN = R(fY * x, cy, fD);
                  fx.Vd = R(g6 * x, c8, g8);
                  fx.ap = R(g6 * x, dS, ap);
                  fx.alpha = x;
                  fx.x2 = fY;
                  fx.ZP = g6;
                  iw = fx.wL;
                  fD = fx.tN;
                  g8 = fx.Vd;
                  ap = fx.ap;
                  fx.xs = 0;
                  for (du = f(M + 1, H); du != g; du = bk) {
                      bk = f(du + 1, H);
                      var i3 = gT[du << 1]
                        , cp = gT[(du << 1) + 1]
                        , hN = gT[bk << 1]
                        , a1 = gT[(bk << 1) + 1];
                      fY = I(iw - eC, fD - cy, g8 - iw, ap - fD, c8 - g8, dS - ap, hN - i3, a1 - cp);
                      if (fY < -.5)
                          return 1;
                      var eR = p(fY, eC, iw, g8, c8)
                        , hm = p(fY, cy, fD, ap, dS)
                        , ix = w(hN - i3, a1 - cp);
                      if (ix == 0)
                          return 1;
                      var aK = a(hN - i3, a1 - cp, eR - i3, hm - cp) / ix;
                      if (Math.abs(aK) > bo)
                          return 1;
                      if (q(hN - i3, a1 - cp, eR - i3, hm - cp) < 0 || q(i3 - hN, cp - a1, eR - hN, hm - a1) < 0) {
                          return 1
                      }
                      fx.xs += aK * aK
                  }
                  for (du = M; du != g; du = bk) {
                      bk = f(du + 1, H);
                      var ej = du * 3 + 2 << 1
                        , bz = bk * 3 + 2 << 1
                        , gc = hd[ej]
                        , ii = hd[ej + 1]
                        , fU = hd[bz]
                        , io = hd[bz + 1];
                      fY = I(iw - eC, fD - cy, g8 - iw, ap - fD, c8 - g8, dS - ap, fU - gc, io - ii);
                      if (fY < -.5)
                          return 1;
                      var eR = p(fY, eC, iw, g8, c8)
                        , hm = p(fY, cy, fD, ap, dS)
                        , ix = w(fU - gc, io - ii);
                      if (ix == 0)
                          return 1;
                      var aK = a(fU - gc, io - ii, eR - gc, hm - ii) / ix
                        , cJ = a(fU - gc, io - ii, gT[bk << 1] - gc, gT[(bk << 1) + 1] - ii) / ix;
                      cJ *= .75 * G.iF.alpha[bk];
                      if (cJ < 0) {
                          aK = -aK;
                          cJ = -cJ
                      }
                      if (aK < cJ - bo)
                          return 1;
                      if (aK < cJ) {
                          fx.xs += (aK - cJ) * (aK - cJ)
                      }
                  }
                  return 0
              }
              var S = G.iF, H = S.Rx, e = S.ig, V = new Array(H + 1), v = new Array(H + 1), B = new Array(H + 1), Z = new Array(H + 1), d, M, g, Y, y = new i, L, _, b, x, W, g6, fY, f3 = new Array(H), hK = new Array(H + 1);
              for (M = 0; M < H; M++) {
                  if (S.Pw[M] == "CURVE") {
                      var s = e[f(M - 1, H) << 1]
                        , P = e[(f(M - 1, H) << 1) + 1]
                        , aF = e[M << 1]
                        , fM = e[(M << 1) + 1]
                        , eA = e[f(M + 1, H) << 1]
                        , e8 = e[(f(M + 1, H) << 1) + 1];
                      f3[M] = Math.sign(a(aF - s, fM - P, eA - aF, e8 - fM))
                  } else {
                      f3[M] = 0
                  }
              }
              b = 0;
              hK[0] = 0;
              var eC = S.ig[0]
                , cy = S.ig[1];
              for (M = 0; M < H; M++) {
                  _ = f(M + 1, H);
                  if (S.Pw[_] == "CURVE") {
                      x = S.alpha[_];
                      var aX = M * 3 + 2 << 1
                        , j0 = _ * 3 + 2 << 1
                        , aT = S.KV[aX]
                        , a4 = S.KV[aX + 1]
                        , f8 = e[_ << 1]
                        , b3 = e[(_ << 1) + 1]
                        , gh = S.KV[j0]
                        , cZ = S.KV[j0 + 1];
                      b += .3 * x * (4 - x) * a(f8 - aT, b3 - a4, gh - aT, cZ - a4) / 2;
                      b += a(aT - eC, a4 - cy, gh - eC, cZ - cy) / 2
                  }
                  hK[M + 1] = b
              }
              V[0] = -1;
              v[0] = 0;
              B[0] = 0;
              for (g = 1; g <= H; g++) {
                  V[g] = g - 1;
                  v[g] = v[g - 1];
                  B[g] = B[g - 1] + 1;
                  for (M = g - 2; M >= 0; M--) {
                      Y = o(G, M, f(g, H), y, X.agv, f3, hK);
                      if (Y) {
                          break
                      }
                      if (B[g] > B[M] + 1 || B[g] == B[M] + 1 && v[g] > v[M] + y.xs) {
                          V[g] = M;
                          v[g] = v[M] + y.xs;
                          B[g] = B[M] + 1;
                          Z[g] = y;
                          y = new i
                      }
                  }
              }
              d = B[H];
              W = new z(d);
              g6 = new Array(d);
              fY = new Array(d);
              g = H;
              for (M = d - 1; M >= 0; M--) {
                  var h3 = f(g, H)
                    , ew = M * 3 + 0 << 1
                    , dy = h3 * 3 + 0 << 1;
                  if (V[g] == g - 1) {
                      W.Pw[M] = S.Pw[h3];
                      W.KV[ew] = S.KV[dy];
                      W.KV[ew + 1] = S.KV[dy + 1];
                      W.KV[ew + 2] = S.KV[dy + 2];
                      W.KV[ew + 3] = S.KV[dy + 3];
                      W.KV[ew + 4] = S.KV[dy + 4];
                      W.KV[ew + 5] = S.KV[dy + 5];
                      W.ig[M << 1] = S.ig[h3 << 1];
                      W.ig[(M << 1) + 1] = S.ig[(h3 << 1) + 1];
                      W.alpha[M] = S.alpha[h3];
                      W.az[M] = S.az[h3];
                      W.Ra[M] = S.Ra[h3];
                      g6[M] = fY[M] = 1
                  } else {
                      W.Pw[M] = "CURVE";
                      W.KV[ew] = Z[g].wL;
                      W.KV[ew + 1] = Z[g].tN;
                      W.KV[ew + 2] = Z[g].Vd;
                      W.KV[ew + 3] = Z[g].ap;
                      W.KV[ew + 4] = S.KV[dy + 4];
                      W.KV[ew + 5] = S.KV[dy + 5];
                      W.ig[M << 1] = R(Z[g].ZP, S.KV[dy + 4], e[h3 << 1]);
                      W.ig[(M << 1) + 1] = R(Z[g].ZP, S.KV[dy + 5], e[(h3 << 1) + 1]);
                      W.alpha[M] = Z[g].alpha;
                      W.az[M] = Z[g].alpha;
                      g6[M] = Z[g].ZP;
                      fY[M] = Z[g].x2
                  }
                  g = V[g]
              }
              for (M = 0; M < d; M++) {
                  _ = f(M + 1, d);
                  W.Ra[M] = g6[M] / (g6[M] + fY[_])
              }
              W.anC = 1;
              G.iF = W
          }
          for (var M = 0; M < F.length; M++) {
              var G = F[M];
              m(G);
              A(G);
              U(G);
              r(G);
              $(G);
              if (X.a6m)
                  k(G)
          }
      }
      return {
          aev: C,
          abj: D
      }
  }();
  aD.sU = function(n, z, C, D) {
      var F = {
          TZ: "minority",
          amf: D,
          a6m: !0,
          apy: 1,
          agv: .2
      }
        , X = aD.aev(n, z, C, F);
      aD.abj(X, F);
      return X
  }
  ;
  aD.LJ = function(n) {
      var z = [];
      for (var M = 0; M < n.length; M++) {
          var C = n[M]
            , D = C.iF
            , F = ["M"]
            , X = [D.KV[(D.Rx - 1) * 6 + 4], D.KV[(D.Rx - 1) * 6 + 5]];
          for (var E = 0; E < D.Rx; E++) {
              var f = E * 6;
              if (D.Pw[E] == 1) {
                  F.push("C");
                  for (var a = 0; a < 6; a++)
                      X.push(D.KV[f + a])
              } else if (D.Pw[E] == 0) {
                  F.push("L");
                  for (var a = 2; a < 4; a++)
                      X.push(D.KV[f + a])
              }
          }
          F.push("Z");
          z.push({
              parent: C.parent,
              color: C.color,
              path: {
                  U: X,
                  I: F
              }
          })
      }
      return z
  }
  ;
  aD.akn = function(n, z, C, D, F) {
      function X(w) {
          function p(M) {
              var J = "C " + (w.KV[M * 3 + 0 << 1] * z).toFixed(1) + " " + (w.KV[(M * 3 + 0 << 1) + 1] * z).toFixed(1) + ",";
              J += (w.KV[M * 3 + 1 << 1] * z).toFixed(1) + " " + (w.KV[(M * 3 + 1 << 1) + 1] * z).toFixed(1) + ",";
              J += (w.KV[M * 3 + 2 << 1] * z).toFixed(1) + " " + (w.KV[(M * 3 + 2 << 1) + 1] * z).toFixed(1) + " ";
              return J
          }
          function I(M) {
              var A = "L " + (w.KV[M * 3 + 1 << 1] * z).toFixed(1) + " " + (w.KV[(M * 3 + 1 << 1) + 1] * z).toFixed(1) + " ";
              A += (w.KV[M * 3 + 2 << 1] * z).toFixed(1) + " " + (w.KV[(M * 3 + 2 << 1) + 1] * z).toFixed(1) + " ";
              return A
          }
          var h = w.Rx, M, m = "M" + (w.KV[(h - 1) * 3 + 2 << 1] * z).toFixed(1) + " " + (w.KV[((h - 1) * 3 + 2 << 1) + 1] * z).toFixed(1) + " ";
          for (M = 0; M < h; M++) {
              if (w.Pw[M] == 1) {
                  m += p(M)
              } else if (w.Pw[M] == 0) {
                  m += I(M)
              }
          }
          return m
      }
      var C = C * z
        , D = D * z
        , E = n.length
        , f = [];
      for (var M = 0; M < 256; M++)
          f.push("rgb(" + Math.floor(Math.random() * 255) + "," + Math.floor(Math.random() * 255) + "," + Math.floor(Math.random() * 255) + ")");
      var a = "<svg id=\"svg\" version=\"1.1\" width=\"" + C + "\" height=\"" + D + "\" xmlns=\"http://www.w3.org/2000/svg\">";
      for (var M = 0; M < E; M++) {
          var q = F[n[M].color - 1].a9C.lN;
          if ((q >>> 24 & 255) == 0)
              continue;
          a += "<path d=\"";
          var c = n[M].iF;
          a += X(c);
          var K = q >> 0 & 255
            , R = q >> 8 & 255
            , J = q >> 16 & 255
            , q = "rgb(" + K + "," + R + "," + J + ")";
          a += "\" fill=\"" + q + "\" fill-rule=\"evenodd\"/>"
      }
      a += "</svg>";
      return a
  }
  ;
  aD.aax = function(n, z, C) {
      var h = n.length >> 1, D, F = n[2 * h - 3] - C, X = n[2 * h - 2] - z, E = n[2 * h - 1] - C, f = E > F, a = 0;
      for (var M = 0; M < h; M++) {
          D = X;
          F = E;
          X = n[2 * M] - z;
          E = n[2 * M + 1] - C;
          if (F == E)
              continue;
          f = E > F
      }
      for (var M = 0; M < h; M++) {
          D = X;
          F = E;
          X = n[2 * M] - z;
          E = n[2 * M + 1] - C;
          if (F < 0 && E < 0)
              continue;
          if (F > 0 && E > 0)
              continue;
          if (D < 0 && X < 0)
              continue;
          if (F == E && Math.min(D, X) <= 0)
              return !0;
          if (F == E)
              continue;
          var q = D + (X - D) * -F / (E - F);
          if (q == 0)
              return !0;
          if (q > 0)
              a++;
          if (F == 0 && f && E > F)
              a--;
          if (F == 0 && !f && E < F)
              a--;
          f = E > F
      }
      return (a & 1) == 1
  }
  ;
  aD.fill = function(n, z, C, D) {
      var F = z[n]
        , X = [n]
        , E = 0;
      while (E < X.length) {
          var f = X[E];
          E++;
          z[f] = D;
          if (z[f - C] == F) {
              X.push(f - C);
              z[f - C] = 254
          }
          if (z[f - 1] == F) {
              X.push(f - 1);
              z[f - 1] = 254
          }
          if (z[f + 1] == F) {
              X.push(f + 1);
              z[f + 1] = 254
          }
          if (z[f + C] == F) {
              X.push(f + C);
              z[f + C] = 254
          }
      }
  }
  ;
  var N = {};
  N.O3 = !1;
  N.Y9 = !1;
  N.Pt = !1;
  N.sL = document.createElement("canvas");
  N.f0 = null;
  N.Js = null;
  N.Lk = 0;
  (function() {
      var n = {
          alpha: !0,
          antialias: !1,
          depth: !1,
          premultipliedAlpha: !1
      }, z;
      if (!z)
          z = N.sL.getContext("webgl", n);
      if (!z)
          z = N.sL.getContext("experimental-webgl", n);
      if (z) {
          N.O3 = !0;
          N.Y9 = !0;
          N.f0 = z;
          N.Js = z.createFramebuffer();
          z.bindFramebuffer(z.FRAMEBUFFER, N.Js);
          z.disable(z.BLEND);
          z.disable(z.DEPTH_TEST);
          var C = z.createBuffer();
          z.bindBuffer(z.ARRAY_BUFFER, C);
          z.bufferData(z.ARRAY_BUFFER, new Float32Array([0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1]), z.STATIC_DRAW);
          z.enableVertexAttribArray(0);
          z.vertexAttribPointer(0, 2, z.FLOAT, !1, 0, 0)
      }
  }());
  N.a2z = function(n) {
      n = n.replace(/\s\s+/g, " ");
      n = n.replace(/; /g, ";");
      n = n.replace(/} /g, "}");
      n = n.replace(/ }/g, "}");
      n = n.replace(/{ /g, "{");
      n = n.replace(/ {/g, "{");
      n = n.replace(/= /g, "=");
      n = n.replace(/ =/g, "=");
      n = n.replace(/\| /g, "|");
      n = n.replace(/ \|/g, "|");
      return n
  }
  ;
  N.akl = function(n) {
      var z = N.f0;
      if (n > z.getParameter(z.MAX_TEXTURE_SIZE)) {
          N.O3 = !1;
          alert("Disabling WebGL")
      }
  }
  ;
  N.er = function(n, z) {
      return new Float32Array([(n.x - z.x) / z.d, (n.y - z.y) / z.v, n.d / z.d, n.v / z.v])
  }
  ;
  N.ur = function() {
      return this.sL
  }
  ;
  N.CX = function(n, z) {
      var C = N.f0;
      C.bindFramebuffer(C.FRAMEBUFFER, N.Js);
      C.framebufferTexture2D(C.FRAMEBUFFER, C.COLOR_ATTACHMENT0, C.TEXTURE_2D, n.S9, 0);
      C.viewport(0, 0, n.d, n.v);
      if (z) {
          C.enable(C.SCISSOR_TEST);
          C.scissor(z.x, z.y, z.d, z.v)
      } else
          C.disable(C.SCISSOR_TEST)
  }
  ;
  N.Zf = function(n, z, C) {
      if (C)
          throw "error";
      var D = N.f0;
      D.disable(D.SCISSOR_TEST);
      D.bindFramebuffer(D.FRAMEBUFFER, null);
      D.viewport(0, 0, n, z);
      if (C) {
          D.enable(D.SCISSOR_TEST);
          D.scissor(C.x, C.y, Math.round(C.d), Math.round(C.v))
      } else
          D.disable(D.SCISSOR_TEST)
  }
  ;
  N.clear = function() {
      var n = N.f0;
      n.clearColor(0, 0, 0, 0);
      n.clear(n.COLOR_BUFFER_BIT)
  }
  ;
  N.jz = function(n, z) {
      if (z == null)
          z = 0;
      var C = (z >>> 0 & 255) == 0
        , D = (z >>> 8 & 255) == 0
        , F = (z >>> 16 & 255) == 0
        , X = (z >>> 24 & 255) == 0
        , E = (n >>> 0 & 255) * (1 / 255)
        , f = (n >>> 8 & 255) * (1 / 255)
        , a = (n >>> 16 & 255) * (1 / 255)
        , q = (n >>> 24 & 255) * (1 / 255)
        , c = N.f0;
      c.colorMask(C, D, F, X);
      c.clearColor(E, f, a, q);
      c.clear(c.COLOR_BUFFER_BIT);
      c.colorMask(!0, !0, !0, !0)
  }
  ;
  N.i9 = function(n, z, C, D, F) {
      var X = z.Yi(D);
      if (F)
          X = X.Yi(F);
      if (X.kX())
          return;
      var E = N.f0;
      N.CX(n);
      E.bindTexture(E.TEXTURE_2D, C.S9);
      E.copyTexSubImage2D(E.TEXTURE_2D, 0, X.x - D.x, X.y - D.y, X.x - z.x, X.y - z.y, X.d, X.v)
  }
  ;
  N.kd = function(M, n, z) {
      var C = N.xm[M];
      if (C == null || C.d != n || C.v != z) {
          if (C)
              C.delete();
          C = new N.Dv(n,z)
      }
      N.xm[M] = C;
      return C
  }
  ;
  N.xm = [];
  N.zH = function() {
      this.gg = null;
      this.sy = null
  }
  ;
  N.zH.MO = null;
  N.zH.prototype.jp = function(n) {
      if (this.sy)
          return;
      this.sy = {};
      var z = N.f0
        , C = this.gg
        , D = this.sy;
      for (var M = 0; M < n.length; M++) {
          var F = n[M];
          D[F] = z.getUniformLocation(C, F)
      }
  }
  ;
  N.zH.prototype.g0 = function() {}
  ;
  N.zH.prototype.r2 = function(n) {
      var z = N.f0;
      for (var M = 0; M < n.length; M += 2) {
          z.uniform1i(n[M], M >>> 1);
          z.activeTexture(z["TEXTURE" + (M >>> 1)]);
          z.bindTexture(z.TEXTURE_2D, n[M + 1])
      }
      z.activeTexture(z.TEXTURE0)
  }
  ;
  N.zH.prototype.Yw = function(n, z) {
      var C = N.f0
        , D = C.createShader(C.FRAGMENT_SHADER);
      C.shaderSource(D, n);
      C.compileShader(D);
      if (!C.getShaderParameter(D, C.COMPILE_STATUS))
          console.log(C.getShaderInfoLog(D));
      var F = C.createShader(C.VERTEX_SHADER);
      C.shaderSource(F, z);
      C.compileShader(F);
      if (!C.getShaderParameter(F, C.COMPILE_STATUS))
          console.log(C.getShaderInfoLog(F));
      var X = C.createProgram();
      C.attachShader(X, F);
      C.attachShader(X, D);
      C.linkProgram(X);
      if (!C.getProgramParameter(X, C.LINK_STATUS))
          console.log("Could not initialise shaders");
      this.gg = X
  }
  ;
  N.zH.prototype.XQ = function() {
      if (N.zH.MO != this) {
          N.f0.useProgram(this.gg);
          N.zH.MO = this
      }
  }
  ;
  N.Sr = function(n, z) {
      N.Ss++;
      N.Lk += n * z;
      if (N.Pt)
          console.log("GL.Channels instances: " + N.Ss + ", memory: " + N.Lk);
      var C = N.f0;
      this.d = n;
      this.v = z;
      this.S9 = C.createTexture();
      this.fa = null;
      this.eK(this.S9, n, z)
  }
  ;
  N.Sr.prototype.eK = function(n, z, C) {
      var D = N.f0;
      D.bindTexture(D.TEXTURE_2D, n);
      D.texParameteri(D.TEXTURE_2D, D.TEXTURE_MIN_FILTER, D.NEAREST);
      D.texParameteri(D.TEXTURE_2D, D.TEXTURE_MAG_FILTER, D.NEAREST);
      D.texParameteri(D.TEXTURE_2D, D.TEXTURE_WRAP_S, D.CLAMP_TO_EDGE);
      D.texParameteri(D.TEXTURE_2D, D.TEXTURE_WRAP_T, D.CLAMP_TO_EDGE);
      D.texImage2D(D.TEXTURE_2D, 0, D.ALPHA, z, C, 0, D.ALPHA, D.UNSIGNED_BYTE, null)
  }
  ;
  N.Sr.prototype.set = function(n) {
      var z = N.f0;
      z.bindTexture(z.TEXTURE_2D, this.S9);
      z.pixelStorei(z.UNPACK_ALIGNMENT, 1);
      z.texImage2D(z.TEXTURE_2D, 0, z.ALPHA, this.d, this.v, 0, z.ALPHA, z.UNSIGNED_BYTE, n);
      z.pixelStorei(z.UNPACK_ALIGNMENT, 4)
  }
  ;
  N.Sr.prototype.delete = function() {
      var n = N.f0;
      if (this.S9) {
          n.deleteTexture(this.S9);
          N.Ss--;
          N.Lk -= this.d * this.v
      }
      if (N.Pt)
          if (N.Pt)
              console.log("GL.Channels instances: " + N.Ss + ", memory: " + N.Lk * 4)
  }
  ;
  N.Ss = 0;
  N.Dv = function(n, z, C) {
      if (C == null)
          C = !1;
      N.Ss++;
      N.Lk += n * z * 4;
      if (N.Pt)
          console.log("GL.Channels instances: " + N.Ss + ", memory: " + N.Lk);
      var D = N.f0;
      this.a1y = C;
      this.d = n;
      this.v = z;
      this.S9 = D.createTexture();
      this.fa = null;
      this.eK(this.S9, n, z)
  }
  ;
  N.Dv.prototype.set = function(n, z) {
      var C = N.f0;
      C.disable(C.SCISSOR_TEST);
      C.bindTexture(C.TEXTURE_2D, this.S9);
      if (n == null || n instanceof Uint8Array) {
          var D = this.d * this.v;
          if (z == null || z.t() * 10 > D)
              C.texImage2D(C.TEXTURE_2D, 0, C.RGBA, this.d, this.v, 0, C.RGBA, C.UNSIGNED_BYTE, n);
          else {
              var F = j.T(z.t() * 4);
              j.X3(n, new cc(0,0,this.d,this.v), F, z);
              C.texSubImage2D(C.TEXTURE_2D, 0, z.x, z.y, z.d, z.v, C.RGBA, C.UNSIGNED_BYTE, F)
          }
      } else
          C.texImage2D(C.TEXTURE_2D, 0, C.RGBA, C.RGBA, C.UNSIGNED_BYTE, n)
  }
  ;
  N.Dv.prototype.get = function(n) {
      var z = N.f0;
      N.CX(this);
      z.readPixels(0, 0, this.d, this.v, z.RGBA, z.UNSIGNED_BYTE, n)
  }
  ;
  N.Dv.prototype.rJ = function(n) {
      if (n.kX())
          return;
      var z = N.f0;
      if (this.fa == null) {
          this.fa = z.createTexture();
          this.eK(this.fa, this.d, this.v);
          N.Ss++;
          N.Lk += this.d * this.v * 4
      }
      z.bindFramebuffer(z.FRAMEBUFFER, N.Js);
      z.bindTexture(z.TEXTURE_2D, this.fa);
      if (n) {
          var C = Math.max(n.x, 0)
            , D = Math.max(n.y, 0);
          z.copyTexSubImage2D(z.TEXTURE_2D, 0, C, D, C, D, n.d, n.v)
      } else
          z.copyTexImage2D(z.TEXTURE_2D, 0, z.RGBA, 0, 0, this.d, this.v, 0)
  }
  ;
  N.Dv.prototype.eK = function(n, z, C) {
      var D = N.f0;
      D.bindTexture(D.TEXTURE_2D, n);
      D.texParameteri(D.TEXTURE_2D, D.TEXTURE_MIN_FILTER, this.a1y ? D.LINEAR : D.NEAREST);
      D.texParameteri(D.TEXTURE_2D, D.TEXTURE_MAG_FILTER, D.NEAREST);
      D.texParameteri(D.TEXTURE_2D, D.TEXTURE_WRAP_S, D.CLAMP_TO_EDGE);
      D.texParameteri(D.TEXTURE_2D, D.TEXTURE_WRAP_T, D.CLAMP_TO_EDGE);
      D.texImage2D(D.TEXTURE_2D, 0, D.RGBA, z, C, 0, D.RGBA, D.UNSIGNED_BYTE, null)
  }
  ;
  N.Dv.prototype.delete = function() {
      var n = N.f0;
      if (this.S9) {
          n.deleteTexture(this.S9);
          N.Ss--;
          N.Lk -= this.d * this.v * 4
      }
      if (this.fa) {
          n.deleteTexture(this.fa);
          N.Ss--;
          N.Lk -= this.d * this.v * 4
      }
      if (N.Pt)
          if (N.Pt)
              console.log("GL.Channels instances: " + N.Ss + ", memory: " + N.Lk)
  }
  ;
  N.Dv.prototype.clone = function() {
      var n = N.f0
        , z = new N.Dv(this.d,this.v);
      N.CX(this);
      n.bindTexture(n.TEXTURE_2D, z.S9);
      n.copyTexImage2D(n.TEXTURE_2D, 0, n.RGBA, 0, 0, this.d, this.v, 0);
      return z
  }
  ;
  N.gw = {
      aaC: "  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",
      af4: "  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",
      tU: "const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",
      Qg: " float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",
      XM: " float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",
      cg: "float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",
      xj: "float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",
      kt: "vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",
      aec: "float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",
      AQ: "vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",
      a2x: "vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",
      Vg: "vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",
      hH: "bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",
      hash: "float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",
      vu: "vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",
      QX: "vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",
      y4: "float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",
      GV: "vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",
      X9: "vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",
      MU: "\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",
      _G: "\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"
  };
  N.cH = {
      gs: {},
      lo: "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"
  };
  N.cH.u$ = function(n, z) {
      var C = ad.xX
        , D = [C.Ve, C.UE, C.vV, C.T0, C.Ik, C.D7, C.dT, C.Ua].indexOf(n.type)
        , F = N.cH.gs[n.type];
      if (F == null)
          F = N.cH.gs[n.type] = new N.gs[D];
      F.XQ();
      F.g0(z, n);
      N.f0.drawArrays(N.f0.TRIANGLES, 0, 6)
  }
  ;
  N.gs = [];
  N.gs[0] = function() {
      N.zH.call(this);
      this.gZ = {};
      var n = "\t\t\tprecision mediump float;\t\t\t" + N.gw.xj + "\t\t\t" + N.gw.tU + "\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
      this.Yw(n, N.cH.lo)
  }
  ;
  N.gs[0].prototype = new N.zH;
  N.gs[0].prototype.g0 = function(n, z) {
      var C = {
          h: z.PE,
          Q: z.b9,
          O: z.Ga,
          nb: j.T(z.PE.length)
      }
        , D = C.h.length;
      if (this.gZ["m" + D] == null) {
          this.gZ["m" + D] = {
              a6w: new N.Dv(D,1),
              oz: j.T(D * 4)
          }
      }
      var F = this.gZ["m" + D];
      j.JD(C, F.oz, 0);
      var X = F.a6w;
      X.set(F.oz);
      this.jp(["source", "map", "toGray", "presLum"]);
      var E = N.f0
        , f = this.sy;
      E.uniform1f(f.toGray, z.aX ? 1 : 0);
      E.uniform1f(f.presLum, z.ms ? 1 : 0);
      this.r2([f.source, n, f.map, X.S9])
  }
  ;
  N.gs[1] = function() {
      N.zH.call(this);
      this.alG = new N.Dv(256,1);
      this.akh = j.T(256 * 4);
      var n = "\t\t\t\tprecision mediump float;\t\t\t\t" + N.gw.y4 + "\t\t\t\t" + N.gw.vu + "\t\t\t\t" + N.gw.QX + "\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
      this.Yw(n, N.cH.lo)
  }
  ;
  N.gs[1].prototype = new N.zH;
  N.gs[1].prototype.g0 = function(n, z) {
      j.JD({
          h: z.a27,
          Q: z.iU,
          O: z.a3Y,
          nb: j.T(256)
      }, this.akh);
      this.alG.set(this.akh);
      this.jp(["source", "map", "cfa", "cfb", "colorize"]);
      var C = N.f0
        , D = this.sy;
      C.uniform1f(D.cfa, z.a1m);
      C.uniform1f(D.cfb, z.t6);
      C.uniform1i(D.colorize, z.aiC);
      this.r2([D.source, n, D.map, this.alG.S9])
  }
  ;
  N.gs[2] = function() {
      N.zH.call(this);
      var n = "\t\t\tprecision mediump float;\t\t\t" + N.gw.y4 + "\t\t\t" + N.gw.GV + "\t\t\t" + N.gw.X9 + "\t\t\t" + N.gw.vu + "\t\t\t" + N.gw.QX + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
      this.Yw(n, N.cH.lo)
  }
  ;
  N.gs[2].prototype = new N.zH;
  N.gs[2].prototype.g0 = function(n, z) {
      this.jp(["source", "vib", "sat"]);
      var C = N.f0
        , D = this.sy;
      C.uniform1f(D.vib, z.G6[0] / 100);
      C.uniform1f(D.sat, z.G6[1] / 100);
      this.r2([D.source, n])
  }
  ;
  N.gs[3] = function() {
      N.zH.call(this);
      var n = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
      this.Yw(n, N.cH.lo)
  }
  ;
  N.gs[3].prototype = new N.zH;
  N.gs[3].prototype.g0 = function(n, z) {
      this.jp(["source", "trf"]);
      var C = N.f0
        , D = this.sy;
      C.uniformMatrix4fv(D.trf, !1, new Float32Array(j.es._w(z.A1)));
      this.r2([D.source, n])
  }
  ;
  N.gs[4] = function() {
      N.zH.call(this);
      var n = "\t\t\tprecision mediump float; \t\t\t" + N.gw.MU + "\t\t\t" + N.gw.y4 + "\t\t\t" + N.gw.QX + "\t\t\t" + N.gw.vu + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
      this.Yw(n, N.cH.lo)
  }
  ;
  N.gs[4].prototype = new N.zH;
  N.gs[4].prototype.g0 = function(n, z) {
      this.jp(["source", "mnm", "mxm", "shift", "lim"]);
      var C = N.f0
        , D = this.sy;
      C.uniform3fv(D.mnm, new Float32Array(z.yT));
      C.uniform3fv(D.mxm, new Float32Array(z.yp));
      C.uniform3fv(D.shift, new Float32Array(z.shift));
      C.uniform1f(D.lim, z.V9);
      this.r2([D.source, n])
  }
  ;
  N.gs[5] = function() {
      N.zH.call(this);
      var n = "\t\t\tprecision mediump float;\t\t\t" + N.gw.tU + "\t\t\t" + N.gw.Qg + "\t\t\t" + N.gw.XM + "\t\t\t" + N.gw.vu + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
      this.Yw(n, N.cH.lo)
  }
  ;
  N.gs[5].prototype = new N.zH;
  N.gs[5].prototype.g0 = function(n, z) {
      this.jp(["source", "cfs"]);
      var C = N.f0
        , D = this.sy;
      C.uniform3fv(D.cfs, z.agd);
      this.r2([D.source, n])
  }
  ;
  N.gs[6] = function() {
      N.zH.call(this);
      var n = "\t\t\tprecision mediump float;\t\t\t" + N.gw.y4 + "\t\t\t" + N.gw.Qg + "\t\t\t" + N.gw.XM + "\t\t\t" + N.gw.vu + "\t\t\t" + N.gw.QX + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
      this.Yw(n, N.cH.lo)
  }
  ;
  N.gs[6].prototype = new N.zH;
  N.gs[6].prototype.g0 = function(n, z) {
      this.jp(["source", "wght", "prms"]);
      var C = N.f0
        , D = this.sy
        , F = [z.r_, z.anl, z.xj, z.a32, z.U5, z.aqd];
      C.uniform1fv(D.wght, new Float32Array(z.akW));
      C.uniform1fv(D.prms, new Float32Array(F));
      this.r2([D.source, n])
  }
  ;
  N.gs[7] = function() {
      N.zH.call(this);
      this.cC = {};
      var n = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
      this.Yw(n, N.cH.lo)
  }
  ;
  N.gs[7].prototype = new N.zH;
  N.gs[7].prototype.g0 = function(n, z) {
      this.jp(["source", "lut", "N"]);
      var C = N.f0
        , D = this.sy
        , F = z.Mc
        , X = z.Q5;
      if (this.cC["m" + F] == null)
          this.cC["m" + F] = new N.Dv(F,F * F);
      var E = this.cC["m" + F];
      E.set(X);
      C.uniform1f(D.N, F);
      this.r2([D.source, n, D.lut, E.S9]);
      C.activeTexture(C.TEXTURE1);
      var f = C.LINEAR;
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_MIN_FILTER, f);
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_MAG_FILTER, f);
      C.activeTexture(C.TEXTURE0)
  }
  ;
  N.filter = {
      ro: {},
      lo: "1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",
      iL: 0,
      JH: 1,
      QS: 2,
      _0: 3
  };
  N.filter.u$ = function(n, z) {
      var C = N.filter
        , D = [C.iL, C.JH, C.QS, C._0].indexOf(n.type)
        , F = N.filter.ro[n.type];
      if (F == null)
          F = N.filter.ro[n.type] = new N.ro[D];
      F.XQ();
      F.g0(z, n);
      N.f0.drawArrays(N.f0.TRIANGLES, 0, 6)
  }
  ;
  N.ro = [0, 0, 0, 0, 0, 0, 0];
  N.ro[3] = function() {
      N.zH.call(this);
      var n = "1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
      this.Yw(l.jb(n), l.jb(N.filter.lo))
  }
  ;
  N.ro[3].prototype = new N.zH;
  N.ro[3].prototype.g0 = function(n, z) {
      this.jp("source iwh tdep rrad spec nois poly0 poly1".split(" "));
      var C = N.f0
        , D = this.sy;
      C.uniform2fv(D.iwh, z.d8);
      C.uniform1f(D.tdep, z.afa);
      C.uniform1f(D.rrad, z.apv);
      C.uniform2fv(D.spec, z.aj7);
      C.uniform3fv(D.nois, z.a54);
      C.uniformMatrix4fv(D.poly0, !1, z.aav);
      C.uniformMatrix4fv(D.poly1, !1, z.abJ);
      this.r2([D.source, n]);
      var F = C.LINEAR;
      C.activeTexture(C.TEXTURE0);
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_MIN_FILTER, F);
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_MAG_FILTER, F);
      C.activeTexture(C.TEXTURE0)
  }
  ;
  N.ro[0] = function() {
      N.zH.call(this);
      var n = "1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
      this.Yw(l.jb(n), l.jb(N.filter.lo))
  }
  ;
  N.ro[0].prototype = new N.zH;
  N.ro[0].prototype.g0 = function(n, z) {
      this.jp(["source", "iwh", "ld", "shine"]);
      var C = N.f0
        , D = this.sy;
      C.uniform2fv(D.iwh, z.d8);
      C.uniform3fv(D.ld, z.ak2);
      C.uniform1f(D.shine, z.adl);
      this.r2([D.source, n, D.tang, z._P])
  }
  ;
  N.ro[1] = function() {
      N.zH.call(this);
      var n = "1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
      this.Yw(l.jb(n), l.jb(N.filter.lo))
  }
  ;
  N.ro[1].prototype = new N.zH;
  N.ro[1].prototype.g0 = function(n, z) {
      this.jp(["source", "iwh", "isc", "bristle"]);
      var C = N.f0
        , D = this.sy;
      C.uniform2fv(D.iwh, z.d8);
      C.uniform1f(D.isc, z.aqD);
      C.uniform1f(D.bristle, z.adr);
      this.r2([D.source, n])
  }
  ;
  N.ro[2] = function() {
      N.zH.call(this);
      var n = "1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
      this.Yw(l.jb(n), l.jb(N.filter.lo))
  }
  ;
  N.ro[2].prototype = new N.zH;
  N.ro[2].prototype.g0 = function(n, z) {
      this.jp(["source", "tang", "iwh", "sigma", "expo"]);
      var C = N.f0
        , D = this.sy;
      C.uniform2fv(D.iwh, z.d8);
      C.uniform1f(D.sigma, z.abt);
      C.uniform1f(D.expo, z.adj);
      this.r2([D.source, n, D.tang, z._P]);
      var F = C.LINEAR;
      C.activeTexture(C.TEXTURE0);
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_MIN_FILTER, F);
      C.texParameteri(C.TEXTURE_2D, C.TEXTURE_MAG_FILTER, F);
      C.activeTexture(C.TEXTURE0)
  }
  ;
  N.$ = {};
  N.$.aT = {};
  N.$.Ll = null;
  N.$.T1 = null;
  N.$.WI = null;
  N.$.vl = function(n, z, C, D, F, X, E, f) {
      if (f == null)
          f = fg.jG();
      if ("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(n) == -1) {
          E = E * f.fill;
          f.fill = 1;
          f.style = !1
      }
      var a = n + (f.YL ? "1" : "");
      if (N.$.aT[a] == null)
          N.$.aT[a] = new N.$.fK(n,f.YL != null);
      var q = N.$.aT[a]
        , c = C.Yi(F).Yi(X);
      c.offset(-F.x, -F.y);
      if (c.kX())
          return;
      var K = N.f0;
      N.CX(D, c);
      D.rJ(c);
      q.XQ();
      q.g0(z.S9, D.fa, N.er(C, F), E, f.fill, f.style ? 1 : 0, f.SM ? 1 : 0, f.YL ? new Float32Array(f.YL) : null);
      K.drawArrays(K.TRIANGLES, 0, 6)
  }
  ;
  N.$.JG = function(n, z, C, D, F, X, E, f, a, q, c) {
      if (N.$.Ll == null)
          N.$.Ll = new N.$.Vy(!0,!0);
      if (N.$.T1 == null)
          N.$.T1 = new N.$.Vy(!0,!1);
      if (N.$.WI == null)
          N.$.WI = new N.$.Vy(!1,!0);
      var K = q ? 1 : 0
        , R = n ? F ? N.$.Ll : N.$.T1 : N.$.WI
        , J = new Float32Array(c ? [c[0], c[1], c[2], 1] : [1, 1, 1, 1])
        , w = z ? z.Yi(D).Yi(f) : D.Yi(f);
      if (w.kX())
          return;
      w.offset(-D.x, -D.y);
      var p = N.f0;
      N.CX(C, w);
      C.rJ(w);
      R.XQ();
      if (n == null)
          R.g0(null, C.fa, F.S9, N.er(D, D), N.er(X, D), E / 255, a, K, J);
      else if (F)
          R.g0(n.S9, C.fa, F.S9, N.er(z, D), N.er(X, D), E / 255, a, K, J);
      else
          R.g0(n.S9, C.fa, null, N.er(z, D), null, E / 255, a, K, J);
      p.drawArrays(p.TRIANGLES, 0, 6)
  }
  ;
  N.$.ai5 = function(n, z, C) {
      if (N.$.a31 == null)
          N.$.a31 = new N.$.Fu;
      var D = N.$.a31
        , F = new cc(0,0,n.d,n.v)
        , X = N.f0;
      N.CX(z);
      z.rJ(F);
      D.XQ();
      D.g0(F, n.S9, z.fa, C.S9);
      X.drawArrays(X.TRIANGLES, 0, 6)
  }
  ;
  N.$.N4 = {
      norm: "return a;",
      diss: "return a;",
      dark: "return min(a,b);",
      "mul ": "return a*b;",
      idiv: "  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",
      lbrn: "return max(ZERO3, a*f+b-f);",
      dkCl: "return ( lum(a)<lum(b) ? a : b );",
      lite: "return max(a,b);",
      scrn: "return b+a-b*a;",
      "div ": "a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",
      lddg: "a*=f;  return min(ONE3,a+b);",
      lgCl: "return ( lum(a)>lum(b) ? a : b );",
      over: "return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",
      sLit: "return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",
      hLit: "return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",
      vLit: " return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",
      lLit: "return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",
      pLit: "return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",
      hMix: "if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",
      diff: "return abs(a*f-b);",
      smud: "return a+b-2.0*a*b;",
      fsub: "return max(b-a, ZERO3);",
      fdiv: "return min(b/a, ONE3);",
      "hue ": "return  setLum( setSat(a, sat(b)) , lum(b) ); ",
      "sat ": "return  setLum( setSat(b, sat(a)) , lum(b) ); ",
      colr: "return  setLum( a, lum(b) ); ",
      "lum ": "return  setLum( b, lum(a) ); "
  };
  N.$.fK = function(n, z) {
      N.zH.call(this);
      var C = "\t\t\tprecision mediump float;\t\t\t" + N.gw.tU + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t" + (z ? "uniform vec4 blIf[10];" : "") + "\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t" + N.gw.cg + "\t\t\t" + N.gw.xj + "\t\t\t" + N.gw.kt + "\t\t\t" + N.gw.aaC + "\t\t\t" + N.gw.af4 + "\t\t\t" + N.gw.aec + "\t\t\t" + N.gw.AQ + "\t\t\t" + N.gw.a2x + "\t\t\t" + N.gw.Vg + "\t\t\t" + N.gw.hash + "\t\t\t" + (z ? N.gw._G : "") + "\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { " + N.$.N4[n] + " } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);"
        , D = "\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
      if (n == "diss")
          C += "\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
      else
          C += "  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t" + (z ? "  as*=blendIf(src,tgt,blIf);  " : "") + "\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
      this.Yw(C, D)
  }
  ;
  N.$.fK.prototype = new N.zH;
  N.$.fK.prototype.g0 = function(n, z, C, D, F, X, E, f) {
      this.jp("srct alpha source target fill style keepBGA blIf".split(" "));
      var a = N.f0
        , q = this.sy;
      a.uniform4fv(q.srct, C);
      a.uniform1f(q.alpha, D);
      a.uniform1f(q.fill, F);
      a.uniform1f(q.style, X);
      a.uniform1f(q.keepBGA, E);
      if (f)
          a.uniform4fv(q.blIf, f);
      this.r2([q.source, n, q.target, z])
  }
  ;
  N.$.Vy = function(n, z) {
      N.zH.call(this);
      this.anZ = n;
      this.fJ = z;
      var C = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t" + N.gw.hH + "\t\t\t" + N.gw.hash + "\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = " + (n ? "texture2D(source, sCoord)" : "vec4(0.0)") + "; \t\t\t\tfloat wg = awg " + (z ? "* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)" : "") + ";\t\t\t\t" + (n ? "" : "wg = 1.0-wg;") + "\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  " + (z ? "nc" : "cswitch*nc + (1.0- cswitch)*tgt") + ";    \t\t\t}"
        , D = "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
      this.Yw(C, D)
  }
  ;
  N.$.Vy.prototype = new N.zH;
  N.$.Vy.prototype.g0 = function(n, z, C, D, F, X, E, f, a) {
      if (this.fJ)
          this.jp("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
      else
          this.jp("srct awg dissv source target cswitch".split(" "));
      var q = N.f0
        , c = this.sy;
      q.uniform4fv(c.srct, D);
      if (this.fJ) {
          q.uniform4fv(c.wrct, F);
          q.uniform1f(c.wcolor, X)
      } else {
          q.uniform4fv(c.cswitch, a)
      }
      q.uniform1f(c.awg, E);
      q.uniform1f(c.dissv, f);
      var K = [c.source, n, c.target, z];
      if (this.fJ)
          K.push(c.weight, C);
      this.r2(K)
  }
  ;
  N.$.Fu = function() {
      N.zH.call(this);
      var n = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}"
        , z = "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
      this.Yw(n, z)
  }
  ;
  N.$.Fu.prototype = new N.zH;
  N.$.Fu.prototype.g0 = function(n, z, C, D) {
      this.jp(["rct", "prev", "next", "alpha"]);
      var F = N.f0
        , X = this.sy;
      F.uniform4fv(X.rct, [0, 0, 1, 1]);
      this.r2([X.prev, z, X.next, C, X.alpha, D])
  }
  ;
  var O = {};
  O.gW = function(n, z, C) {
      this.name = n;
      this.id = z;
      this.FS = null;
      if (C != null)
          this.GH = C
  }
  ;
  O.gW.prototype.Nm = function(n, z, C, D, F) {}
  ;
  O.gW.prototype.enable = function(n, z, C, D, F, X) {
      var E = new u(l.E.P,!0);
      E.data = {
          e: l.H.Gu,
          gc: "default"
      };
      z.f(E)
  }
  ;
  O.gW.prototype.disable = function(n, z, C, D, F) {}
  ;
  O.gW.prototype.pn = function(n, z, C, D, F) {
      return !1
  }
  ;
  O.gW.prototype.mY = function(n, z, C, D, F) {}
  ;
  O.gW.prototype.Nq = function(n, z, C, D, F) {}
  ;
  O.gW.prototype.Xl = function(n, z, C, D, F) {}
  ;
  O.gW.prototype.yg = function(n, z, C, D, F) {}
  ;
  O.gW.prototype._V = function(n, z, C, D, F) {}
  ;
  O.gW.prototype.iV = function(n, z, C, D) {}
  ;
  O.gW.prototype.oD = function(n, z, C, D) {}
  ;
  O.gW.prototype.qO = function(n, z) {}
  ;
  O.gW.prototype.LL = function(n, z) {}
  ;
  O.gW.prototype.lO = function(n, z, C, D, F) {}
  ;
  O.gW.prototype.vi = function(n, z) {}
  ;
  O.gW.prototype.Gs = function(n, z) {
      return !1
  }
  ;
  O.gW.prototype.PU = function(n, z) {
      return !1
  }
  ;
  O.gW.prototype.TU = function() {
      return !1
  }
  ;
  O.gW.prototype.Pp = function(n, z) {
      return !0
  }
  ;
  O.gW.prototype.Ay = function() {
      return null
  }
  ;
  O.gW.prototype.qG = function(n, z, C) {}
  ;
  O.gW.prototype.Es = function() {
      return !1
  }
  ;
  O.gW.prototype.uG = function(n, z, C, D) {}
  ;
  O.gW.prototype.track = function(n) {
      var z = new u(l.E._R,!0);
      z.data = n;
      n.HV = !0;
      this.FS.f(z)
  }
  ;
  O.gW.Fo = function(n, z, C, D, F) {
      O.gW.bF(n, z, [aC.get([12, 41]).charAt(0) + ": " + j.ST.aN(C.d, D.$M, F, D.d, !0), aC.get([12, 42]).charAt(0) + ": " + j.ST.aN(C.v, D.$M, F, D.v, !0)], D)
  }
  ;
  O.gW.bF = function(n, z, C, D) {
      var F = 14
        , X = 130
        , E = C.length * 17 + 8
        , f = new cc(n,z - E,X,E)
        , a = O.gW.vH;
      if (a == null)
          a = O.gW.vH = document.createElement("canvas");
      a.width = X;
      a.height = E;
      var q = a.getContext("2d");
      q.fillStyle = "rgba(0,0,1,1)";
      q.fillRect(0, 0, X, E);
      q.font = F + "px monospace";
      q.fillStyle = "rgba(255,255,255,1)";
      for (var M = 0; M < C.length; M++)
          q.fillText(C[M], 6, (M + 1) * 17);
      D.k.om = [[q.getImageData(0, 0, X, E).data, f.clone()]]
  }
  ;
  O.gW.vH = null;
  O.GR = "0";
  O.alj = "0.5";
  O.R2 = "1";
  O.a81 = "2";
  O.a39 = "3";
  O.LU = "5";
  O.a4j = "6";
  O.a0c = "7";
  O.ar = "8";
  O.ss = "9";
  O.bZ = "10";
  O.dw = "11";
  O.OR = "12";
  O.N1 = "13";
  O.Ox = "14";
  O.ZX = "16";
  O.Pk = "18";
  O.mh = "19";
  O.Nr = "20";
  O.vy = "21";
  O._S = "22";
  O.qE = "23";
  O.DM = "24";
  O.BX = "25";
  O.Mg = "27";
  O.V5 = "31";
  O.aaq = "32";
  O.a7N = "34";
  O.a4Z = "35";
  O.lX = "36";
  O.MG = "37";
  O.nk = "38";
  O.Zb = "39";
  O.vU = "40";
  O.oi = "41";
  O.N2 = "42";
  O.s1 = "43";
  O.qp = "47";
  O.oa = "51";
  O.uh = "52";
  O.b_ = "54";
  O.uX = "55";
  O.a7 = "56";
  O.bx = "57";
  O._k = "58";
  O.z6 = "59";
  O.af_ = "60";
  O.d1 = "61";
  O.A6 = "100";
  O.IL = "101";
  O.Ho = "102";
  O.mz = "120";
  O.y$ = "230";
  O.adO = "231";
  O.Ai = "232";
  O.$w = "233";
  O.pZ = "234";
  O.VZ = "235";
  O.Os = "236";
  O.Dx = function(n) {
      var z = O.jN
        , C = null;
      for (var D in z)
          if (z[D][1].indexOf(n[1].classID) != -1)
              C = D;
      return C
  }
  ;
  O.jN = {};
  O.jN[O.qE] = ["tools/brush", ["PbTl"]];
  O.jN[O.DM] = ["tools/pencil", ["PcTl"]];
  O.jN[O.V5] = ["tools/eraser", ["ErTl"]];
  O.pC = function(n, z, C) {
      O.gW.call(this, n, z, C);
      this.AY = {
          brush: n ? gK.pO() : null,
          bmode: "norm",
          opacity: 1,
          flow: 1,
          smth: 0,
          samp: 0,
          prsr: [!1, !0],
          emode: 0,
          wconf: [40, !0, !0],
          algnd: !1,
          sfrom: 0,
          alt: [!1],
          expo: .5,
          rng: 1,
          strn: .5,
          pdetail: !0,
          smode: 1,
          qsmode: 0,
          setop: "front",
          patch: 0
      };
      this.VJ = null;
      this.kS = null;
      this.S1 = null;
      this.BP = null;
      this.q0 = null;
      this.I1 = null;
      this.aF = null;
      this.$V = null;
      this.Ma = null;
      this.OX = null;
      this.kT = null;
      this.K7 = null;
      this.vT = null;
      this.ON = 1;
      this.JO = !1;
      this.bT = null;
      this.caller = null
  }
  ;
  O.pC.prototype = new O.gW;
  O.pC.prototype.PU = function(n, z) {
      return n.Vn && z.r(dM.Ms)
  }
  ;
  O.pC.prototype.Nq = function(n, z, C, D, F) {
      if (D.r(dM.M2)) {
          this.I1 = new ir(F.x,F.y);
          var X = this.AY.brush.Brsh.v
            , E = X.Dmtr.v.val
            , f = X.Hrdn != null ? X.Hrdn.v.val : -1;
          this.aF = [E, f, !0, JSON.parse(JSON.stringify(this.AY.brush)), F];
          this.Ci(C)
      }
  }
  ;
  O.pC.prototype.dv = function(n, z, C) {
      var D = this.aF
        , F = n.a.X
        , X = C.x - D[4].x
        , E = C.y - D[4].y
        , f = D[0]
        , a = D[1]
        , q = Math.abs(X) > Math.abs(E);
      if (q && D[2]) {
          var c = Math.round(2 * X / F);
          f += c;
          C.x -= X - .5 * c * F
      }
      if (!q && !D[2] && a != -1) {
          var c = Math.round(.25 * E);
          a += c;
          C.y -= E - 4 * c
      }
      f = Math.max(1, f);
      a = D[1] == -1 ? -1 : Math.max(0, Math.min(100, a));
      var K = D[3];
      K.Brsh.v.Dmtr.v.val = f;
      if (a != -1)
          K.Brsh.v.Hrdn.v.val = a;
      this.aF = [f, a, q, K, C];
      var R = fz.ec(K, z.bz.np, F)
        , J = R[1];
      J.x = Math.round(this.I1.x - J.d / 2);
      J.y = Math.round(this.I1.y - J.v / 2);
      n.k.an = [R];
      var w = n.a.C$(this.I1.x, this.I1.y);
      n.k.S7 = {
          If: [],
          ci: [w.x - f / 2, w.y, w.x + f / 2, w.y]
      };
      if (a != -1)
          n.k.S7.ci.push(w.x + 50 / F, w.y - a / 2, w.x + 50 / F, w.y + a / 2);
      n.QV = !0
  }
  ;
  O.pC.prototype._V = function(n, z, C, D, F) {
      if (this.id == O.Nr)
          return;
      if (this.I1) {
          this.I1 = null;
          this.X0(JSON.parse(JSON.stringify(this.aF[3])));
          n.k.an = [];
          n.k.S7 = null;
          n.QV = !0;
          return
      }
      var X = new u(l.E.P,!0);
      X.data = {
          e: l.H.b5,
          F: this.id,
          a91: "showBrushOpts",
          rH: new ir(F.kD + 4,F.Bh)
      };
      z.f(X)
  }
  ;
  O.pC.prototype.X0 = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.W9,
          G6: c1.Px,
          BZ: n
      };
      this.caller.f(z)
  }
  ;
  O.pC.EI = function(n, z, C, D, F) {
      if (n == null)
          n = "FrgC";
      if (z == null)
          z = "norm";
      if (C == null)
          C = 1;
      if (F == null)
          F = !1;
      var X = {
          classID: "Fl",
          Usng: {
              t: "enum",
              v: {
                  FlCn: n
              }
          },
          Opct: {
              t: "UntF",
              v: {
                  type: "#Prc",
                  val: Math.round(C * 100)
              }
          },
          PrsT: {
              t: "bool",
              v: F
          },
          Md: {
              t: "enum",
              v: {
                  BlnM: hr.v2(z)
              }
          }
      };
      if (n == "Clr")
          X.Clr = {
              t: "Objc",
              v: D
          };
      if (n == "contentAware")
          X.contentAwareColorAdaptationFill = {
              t: "bool",
              v: !0
          };
      return {
          KY: "fill",
          cw: X
      }
  }
  ;
  O.pC.prototype.Nm = function(n, z, C, D, F) {
      this.FS = z;
      var X = C.Rj.length;
      if (X == 0 && !C.Sp())
          return;
      var E = X != 0 ? -1 - C.Rj[0] : C.C[0]
        , f = C.W[E];
      if (n.e == "fromAction") {
          var a = n.n8
            , q = a.cw;
          if (a.KY == "fill") {
              var c = q.PrsT ? q.PrsT.v : !1, K = f.add.lspf, p;
              if (c) {
                  f.add.lspf = K == null ? 1 : K | 1
              }
              var R = (q.Opct ? q.Opct.v.val : 100) / 100
                , J = q.Md ? hr.eS(q.Md.v.BlnM) : "norm"
                , w = q.Usng.v.FlCn;
              if (w == "contentAware") {
                  if (C.N == null) {
                      alert("Select an area to heal first.");
                      return
                  }
                  if (!C.Sp())
                      return;
                  this.L2(C);
                  this.Zq(C, 0);
                  var I = C.N
                    , m = j.T(I.rect.t() * 4);
                  j.bl(I.channel, m, 3);
                  this.VF(C, "sheal", m, I.rect, I.rect);
                  this.J(C, I.rect);
                  this.finish(C, I.rect)
              } else {
                  if (w == "FrgC")
                      p = F.Du;
                  else if (w == "BckC")
                      p = F.ff;
                  else if (w == "Blck")
                      p = 0;
                  else if (w == "Wht")
                      p = 16777215;
                  else if (w == "Gry")
                      p = 8421504;
                  else if (w == "Clr") {
                      var A = j._.Jo(q.Clr.v);
                      p = A.h << 16 | A.Q << 8 | A.O
                  }
                  var U = p >> 16 & 255
                    , r = p >> 8 & 255
                    , $ = p >> 0 & 255;
                  this.X5(C, f, C.N, U, r, $, Math.round(255 * R), J, [2, 3])
              }
              if (c) {
                  f.add.lspf = K == null ? 0 : K
              }
          } else if (a.KY == "delete") {
              var k = E < 0 ? 1 : f.kl, I = C.N, H;
              if (I == null)
                  return;
              var G = E < 0 ? C.fD[-E - 1] : k <= 0 ? null : k == 1 ? f.sN() : f.yM(C).z
                , i = k <= 0 ? f.rect : G.rect
                , o = k <= 0 ? I.rect.Yi(i) : I.rect.clone();
              if (o.kX())
                  return;
              var S = o.t();
              if (k <= 0) {
                  H = j.T(S * 4);
                  j.X3(f.buffer, f.rect, H, o)
              } else {
                  H = j.T(S);
                  G.extend(o);
                  j.v8(G.channel, G.rect, H, o)
              }
              if (0 <= E && f.D6(C, I)) {
                  if (k <= 0) {
                      j.xM(H, 0);
                      j.X3(f.aU.i6, f.aU.zQ, H, o)
                  } else {
                      H.fill(255);
                      j.v8(f.aU.i6, f.aU.zQ, H, o)
                  }
              } else {
                  if (k <= 0) {
                      var e = j.T(H.length >> 2);
                      j.Ni(H, e, 3);
                      j.$.qj(j.mo(I.rect.t()), I.rect, e, o, I.channel, o, 1);
                      j.bl(e, H, 3)
                  } else {
                      var V = j.T(I.rect.t())
                        , U = F.ff >>> 16 & 255
                        , r = F.ff >> 8 & 255
                        , $ = F.ff >> 0 & 255;
                      V.fill(Math.round(j.Rg(U, r, $)));
                      j.$.qj(V, I.rect, H, o, I.channel, o, 1)
                  }
              }
              this.TL(C, !0, [2, 2], E, k, o, H)
          }
      }
      if (n.e == "stroke") {
          var v = n.ae3
            , I = C.N;
          if (I == null) {
              I = {
                  rect: f.rect.clone(),
                  channel: j.T(f.rect.t())
              };
              j.Ni(f.buffer, I.channel, 3)
          }
          var B = fg.s3(v)
            , Z = O.lJ.jq(I, Math.ceil(B[0]), Math.ceil(B[1]))
            , p = j._.Jo(v.Clr.v)
            , U = Math.round(p.h)
            , r = Math.round(p.Q)
            , $ = Math.round(p.O);
          this.X5(C, f, Z, U, r, $, Math.round(255 * v.Opct.v.val / 100), hr.eS(v.Md.v.BlnM), [14, 9])
      }
      if (n.e == "fillBMP") {
          this.Ff(C, f, C.N, n.l1, n.Ga, n.$_)
      }
      if (n.e == "draw") {
          var d = n.i4
            , g = d.rect;
          this.L2(C);
          var Y = C.W[C.C[0]];
          if (n.aaE && Y && Y.kl <= 0 && C.Rj.length == 0) {
              g = e3.MP.Zh(d, C);
              Y.buffer = d.buffer.slice(0);
              Y.rect = g.clone()
          } else {
              var y = this.AY.bmode;
              this.AY.bmode = "norm";
              this.VF(C, "draw", d.buffer, g, g.Yi(new cc(0,0,C.d,C.v)));
              this.AY.bmode = y
          }
          this.J(C, g);
          C.uv = !0;
          this.finish(C, g, n.$_, n.aaE)
      }
  }
  ;
  O.pC.prototype.X5 = function(n, z, C, D, F, X, E, f, a) {
      var q = C == null ? new cc(0,0,n.d,n.v) : C.rect
        , c = E << 24 | X << 16 | F << 8 | D << 0
        , K = j.T(q.t() * 4);
      j.xM(K, c);
      this.Ff(n, z, C, K, f, a)
  }
  ;
  O.pC.prototype.Ff = function(n, z, C, D, F, X) {
      var E = n.Rj.length != 0 ? -1 - n.Rj[0] : n.C[0], f = E < 0 ? 1 : z.kl, a = E < 0 ? n.fD[-1 - E] : f <= 0 ? null : f == 1 ? z.sN() : z.yM(n).z, q = f <= 0 ? z.rect : a.rect, c = C == null ? new cc(0,0,n.d,n.v) : C.rect, K = C == null ? j.nO(n.d * n.v) : C.channel, R = c.t(), J, w = null;
      if (f <= 0) {
          J = j.T(R * 4);
          j.X3(z.buffer, z.rect, J, c)
      } else {
          J = j.T(R);
          a.extend(c);
          j.v8(a.channel, a.rect, J, c)
      }
      if (C != null)
          j.hQ(K, D);
      if (f > 0) {
          w = j.T(R);
          j.Fd(D, w)
      }
      if (0 <= E && C && z.D6(n, C)) {
          var p = z.aU.yx
            , I = z.aU.yx.slice(0);
          if (f <= 0)
              j.YY(D, I);
          else
              j.YY(w, I);
          var m = new hi([2, 3],this);
          m.data = {
              e: "drawtemp",
              b: n.C[0],
              HT: f,
              aiw: p,
              afj: I
          };
          n.OV(m);
          this.qO(m.data, n)
      } else {
          if (f <= 0) {
              var A;
              if (z.Ks(0)) {
                  A = j.T(c.t());
                  j.Ni(J, A, 3)
              }
              j.$.xN(F, D, c, J, c, c, 1);
              if (z.Ks(0))
                  j.bl(A, J, 3)
          } else
              j.$.qj(w, c, J, c, K, c, 1);
          this.TL(n, !0, X, E, f, c, J)
      }
  }
  ;
  O.pC.prototype.Gs = function(n) {
      if (dM.s8.indexOf(n) != -1)
          return !0;
      return !1
  }
  ;
  O.pC.prototype.iV = function(n, z, C, D) {
      var F = this.AY.brush
        , X = D.r(dM.M2)
        , E = X != this.JO
        , f = O.pC.YV(F, D);
      if (f != null)
          this.X0(f);
      if (!D.r(dM.BO) && D.HF() != -1) {
          var a = l.yW(Math.round(this.AY.opacity * 100), D.HF()) / 100;
          this.j2({
              opacity: a
          }, z)
      }
      if (this.id == O.ar && E && n != null) {
          var q = this.AY.qsmode;
          if (q == 2)
              q = n.N == null ? 0 : 1;
          else
              q = 2;
          this.j2({
              qsmode: q
          }, z)
      }
      this.JO = X;
      if (E) {
          if (n)
              this.ON = n.a.X;
          this.Ci(C, D)
      }
  }
  ;
  O.pC.YV = function(n, z) {
      var C = n.Brsh.v.Dmtr.v.val
        , D = n.Brsh.v.Hrdn != null ? n.Brsh.v.Hrdn.v.val : -1
        , F = C
        , X = D
        , E = z.r(dM.Ms);
      if (z.r(dM.HA)) {
          if (E)
              D = 25 * Math.floor((D - 1) / 25);
          else {
              if (C <= 10)
                  C--;
              else if (C <= 50)
                  C = 5 * Math.floor((C - 1) / 5);
              else if (C <= 100)
                  C = 10 * Math.floor((C - 1) / 10);
              else if (C <= 200)
                  C = 25 * Math.floor((C - 1) / 25);
              else if (C <= 400)
                  C = 50 * Math.floor((C - 1) / 50);
              else
                  C = 100 * Math.floor((C - 1) / 100)
          }
      }
      if (z.r(dM.oj)) {
          if (E)
              D = 25 * Math.ceil((D + 1) / 25);
          else {
              if (C < 10)
                  C++;
              else if (C < 50)
                  C = 5 * Math.ceil((C + 1) / 5);
              else if (C < 100)
                  C = 10 * Math.ceil((C + 1) / 10);
              else if (C < 200)
                  C = 25 * Math.ceil((C + 1) / 25);
              else if (C < 400)
                  C = 50 * Math.ceil((C + 1) / 50);
              else
                  C = 100 * Math.ceil((C + 1) / 100)
          }
      }
      C = Math.max(1, C);
      D = Math.max(0, Math.min(100, D));
      if (X == -1)
          D = -1;
      if (C != F || D != X) {
          var f = JSON.parse(JSON.stringify(n));
          f.Brsh.v.Dmtr.v.val = C;
          if (X != -1)
              f.Brsh.v.Hrdn.v.val = D;
          return f
      }
      return null
  }
  ;
  O.pC.prototype.Ci = function(n, z, C, D) {
      if (n.bz.list.length == 0)
          return;
      var F = this.id, X;
      if ((F == O.Mg || F == O.mh || F == O.qE || F == O.DM) && (z != null && z.r(dM.M2) || this.AY.alt[0]))
          X = "crosshair";
      else {
          var E = this.ON
            , f = this.AY.brush;
          if ((F == O.Mg || F == O.mh) && C && this.K7 && this.K7.length == this.kT.t() * 4) {
              var a = C.a.C$(D.x, D.y), q = this.sm(a), c = this.K7, K = this.kT, R = new cc(K.x + q.x,K.y + q.y,K.d,K.v), J = fz.ec(f, n.bz.np, E), w = J[0], p = J[1], I = Math.ceil(p.d / E), m = new cc(Math.round(a.x - I / 2),Math.round(a.y - I / 2),I,I), A = j.T(m.t() * 4), U, r;
              j.X3(c, R, A, m);
              if (E == 1) {
                  U = A;
                  r = m
              } else {
                  var $ = new b6(E,0,0,E,0,0)
                    , k = O.o.QQ([A, m], $, !0);
                  r = p.clone();
                  r.x = k.rect.x;
                  r.y = k.rect.y;
                  if (r.jm(k.rect))
                      U = k.buffer;
                  else {
                      U = j.T(r.t() * 4);
                      j.X3(k.buffer, k.rect, U, r)
                  }
              }
              var G = this.AY.opacity / 255;
              for (var M = 0; M < U.length; M += 4)
                  U[M + 3] = G * (w[M + 3] * U[M + 3]);
              X = {
                  $f: U,
                  R: r,
                  qA: new ir(r.d / 2,r.v / 2)
              }
          } else
              X = fz.WX(f, n.bz.np, E, F == O.BX)
      }
      var i = new u(l.E.P,!0);
      i.data = {
          e: l.H.Gu,
          gc: X
      };
      if (this.caller)
          this.caller.f(i)
  }
  ;
  O.pC.prototype.enable = function(n, z, C, D) {
      this.VJ = C;
      this.caller = z;
      this.X0(JSON.parse(JSON.stringify(this.AY.brush)));
      if (n && n.a.X != 0)
          this.ON = n.a.X;
      this.Ci(C, D)
  }
  ;
  O.pC.prototype.vi = function(n, z) {
      if (z == c1.Px) {
          this.AY.brush = n.bz.qB;
          this.Ci(n)
      }
  }
  ;
  O.pC.prototype.lO = function(n, z, C, D, F) {
      for (var X in n)
          this.AY[X] = n[X];
      if (this.AY.alt[0])
          this.Ci(F, D, C)
  }
  ;
  O.pC.prototype.M1 = function(n) {
      var z = n.Rj.length != 0 ? -1 - n.Rj[0] : n.C[0]
        , C = n.W[z]
        , D = z < 0 ? 1 : C.kl
        , F = z < 0 ? n.fD[-z - 1] : D <= 0 ? null : D == 1 ? C.sN() : C.yM(n).z
        , X = F ? F.channel : C.buffer
        , E = (F ? F.rect : C.rect).clone();
      return [C, D, F, X, E]
  }
  ;
  O.pC.prototype.L2 = function(n, z) {
      this.vT = n.N == null ? null : {
          rect: n.N.rect.clone(),
          channel: n.N.channel.slice(0)
      };
      var C = this.M1(n)
        , D = C[0]
        , F = C[1]
        , X = C[2];
      this.OX = C[3];
      this.Ma = C[4];
      var E = new cc(0,0,n.d,n.v)
        , f = E.QH(this.Ma);
      if ((this.Od() && F <= 0 || f.jm(this.Ma)) && z != !0)
          this.OX = this.OX.slice(0);
      else {
          if (X)
              X.extend(f);
          else
              D.extend(f)
      }
  }
  ;
  O.pC.prototype.Zq = function(n, z) {
      var C = this.M1(n)
        , D = C[1]
        , F = C[3]
        , X = C[4]
        , E = [F, X]
        , f = z != null ? z : this.AY.sfrom;
      if (D <= 0 && f != 0) {
          E[1] = new cc(0,0,n.d,n.v);
          E[0] = n.Wc(f == 1 && n.C[0] != n.W.length - 1 ? n.C[0] : null).slice(0)
      }
      this.kT = E[1].clone();
      this.K7 = E[0].slice(0)
  }
  ;
  O.pC.prototype.yS = function(n, z, C) {
      if (n.r(dM.M2)) {
          var D = new u(l.E.M,!0);
          D.F = O.Ox;
          D.data = {
              e: "pickhere",
              amP: C
          };
          z.f(D);
          return !0
      }
      return !1
  }
  ;
  O.pC.prototype.NK = function(n, z, C, D, F, X) {
      if (!n.Sp(this.caller)) {
          this.kS = null;
          return
      }
      this.L2(n);
      var E = new cc(0,0,n.d,n.v)
        , f = null;
      if (X != null) {
          var a = n.Rj.length != 0 ? -1 - n.Rj[0] : n.C[0]
            , q = n.W[a]
            , c = a < 0 ? n.fD[-a - 1] : q.kl <= 0 ? null : q.kl == 1 ? q.sN() : q.yM(n).z;
          f = j.T(E.t() * 4);
          if (c)
              O.pC.qd(this.OX, this.Ma, c.color, f, E);
          else
              j.X3(this.OX, this.Ma, f, E)
      }
      var K = this.AY;
      if (this.kS && this.id == O.ar && K.qsmode != 0 && n.N != null) {} else {
          var R = z.Du
            , J = z.ff;
          if (this.bT == "erase") {
              var w = R;
              R = J;
              J = w
          }
          var p = this.id == O.ar ? this.Ma : E;
          this.kS = new fz(K.brush,z.bz.np,z.bz.gi,{
              IV: F,
              Fb: X,
              a1v: K.smth * 50 * l.D() / n.a.X,
              eU: this.id == O.DM || K.emode == 1,
              IY: K.prsr
          },R,J,p,f)
      }
      if (this.id == O.ar) {
          this.kS.WT(K.brush, K.qsmode == 2 ? 0 : 16777215)
      }
      var I = n.a.C$(D.x, D.y);
      if (C.r(dM.Ms) && this.S1) {
          var m = this.S1;
          this.kS.moveTo(m.x, m.y, D.Fg);
          this.kS.lineTo(.001 * m.x + .999 * I.x, .001 * m.y + .999 * I.y, D.Fg);
          this.kS.lineTo(I.x, I.y, D.Fg)
      } else
          this.kS.moveTo(I.x, I.y, D.Fg);
      this.S1 = I;
      this.BP = I.clone();
      this.q0 = new iN(I,n.a.aV)
  }
  ;
  O.pC.prototype.tD = function(n, z, C) {
      if (n && n.a.X != 0 && n.a.X != this.ON) {
          this.ON = n.a.X;
          this.Ci(C)
      }
  }
  ;
  O.pC.prototype.k0 = function(n, z, C, D) {
      if (this.kS == null)
          return;
      var F = n.W[n.C[0]]
        , X = n.a.C$(D.x, D.y)
        , E = this.q0.Nv(X, C);
      if (E.jm(this.S1))
          return 1;
      this.kS.lineTo(E.x, E.y, D.Fg);
      this.S1 = E;
      if (this.id == O.Mg || this.id == O.mh) {
          var f = this.ko()
            , a = 11;
          f = n.a.Sg(X.x - f.x, X.y - f.y);
          var q = a >>> 1
            , c = new cc(Math.round(f.x) - q,Math.round(f.y) - q,a,a)
            , K = j.T(c.t() * 4);
          j.xM(16777215);
          for (var M = 0; M < a; M++)
              K[(M * a + q) * 4 + 3] = K[(a * q + M) * 4 + 3] = 255;
          n.k.om = [[K, c]];
          n.QV = !0
      }
  }
  ;
  O.pC.prototype.oD = function(n, z, C, D) {
      if (C.ND != this.id)
          return;
      if (this.id != O.ar || n == null)
          return;
      if (n.N == null || n.C[0] != this.aoL) {
          this.aoL = n.C[0];
          this.j2({
              qsmode: 0
          }, z)
      }
  }
  ;
  O.pC.prototype.J = function(n, z) {
      if (n.Rj.length != 0) {
          n.QV = !0;
          return
      }
      var C = n.W[n.C[0]];
      if (z == null) {
          z = this.kS.Co();
          if (this.Od() && C.kl <= 0)
              z = z.Yi(this.Ma)
      }
      if (z.kX())
          return;
      if (C.kl <= 0) {
          C.J(z)
      }
      if (C.kl == 1) {
          C.sN().fe = !0;
          C.z4(n)
      }
      if (C.kl == 3) {
          C.J()
      }
      n.J(n.root.qq(z, n, n.C[0], !0))
  }
  ;
  O.pC.prototype.yg = function(n, z, C, D, F) {
      if (this.kS == null)
          return;
      this.kS.finish();
      if (this.id != O.Pk && this.id != O.mh && this.id != O.ar)
          this.rP(n);
      if (this.id == O.Mg || this.id == O.mh) {
          n.k.om = [];
          n.QV = !0
      }
      if (this.id == O.ar) {
          var X = n.N;
          n.N = this.vT;
          var E = new u(l.E.M,!0);
          E.data = {
              e: "setsel",
              $_: this.name,
              N: X
          };
          E.F = O.R2;
          z.f(E);
          if (this.AY.qsmode == 0)
              this.j2({
                  qsmode: 1
              }, z)
      } else {
          this.finish(n, this.kS._$());
          this.kS = null;
          this.$V = null
      }
      this.dir = 0
  }
  ;
  O.pC.prototype.j2 = function(n, z) {
      for (var C in n)
          this.AY[C] = n[C];
      var D = new u(l.E.P,!0);
      D.data = {
          e: l.H.b5,
          F: this.id,
          iA: n
      };
      z.f(D)
  }
  ;
  O.pC.prototype.Od = function() {
      var n = this.id;
      return n == O.ar || n == O.V5 || n == O.Zb || n == O.vU || n == O.oi || n == O._S
  }
  ;
  O.pC.prototype.finish = function(n, z, C, D, F) {
      var X = n.Rj.length != 0 ? -1 - n.Rj[0] : n.C[0], E = n.W[X], f = X < 0 ? 1 : E.kl, a = X < 0 ? n.fD[-X - 1] : f <= 0 ? null : f == 1 ? E.sN() : E.yM(n).z, q = a ? a.rect : E.rect, R;
      if (this.Od() || !q.jm(this.Ma)) {
          if (a == null) {
              if (this.Od())
                  E.BL();
              else {
                  var c = z.QH(this.Ma)
                    , K = j.T(c.t() * 4);
                  j.X3(E.buffer, E.rect, K, c);
                  E.buffer = K;
                  E.rect = c
              }
          } else
              a.BL();
          this.J(n, q)
      }
      if (f <= 0) {
          R = j.T(z.t() * 4);
          j.X3(this.OX, this.Ma, R, z)
      } else {
          R = j.T(z.t());
          R.fill(a.color);
          j.v8(this.OX, this.Ma, R, z)
      }
      this.TL(n, !1, C ? C : this.name, X, f, z, R, D, F)
  }
  ;
  O.pC.prototype.TL = function(n, z, C, D, F, X, E, f, a) {
      var q = E;
      if (F > 0) {
          q = j.T(X.t() * 4);
          O.pC.qd(E, X, 0, q, X)
      }
      var c = new hi(C,this);
      c.data = [{
          b: D,
          HT: F,
          R: X,
          Q5: q
      }];
      if (f)
          c.data.DG = [n.N, null];
      if (a)
          c.data.DG = [this.vT, n.N];
      n.OV(c);
      if (z)
          this.qO(c.data, n);
      else if (f)
          n.N = null;
      e3.Py._u(n, c.data)
  }
  ;
  O.pC.prototype.LL = function(n, z) {
      this.a2(n, z, !1)
  }
  ;
  O.pC.prototype.qO = function(n, z) {
      this.a2(n, z, !0)
  }
  ;
  O.pC.prototype.a2 = function(n, z, C) {
      if (n.e == "drawtemp") {
          var D = C ? n.afj : n.aiw
            , F = z.W[n.b];
          F.aU.yx = D;
          F.h2(z, 0, 0, z.N);
          F.J();
          z.uv = !0
      } else {
          e3.Py.if(z, n);
          if (n.DG) {
              z.N = n.DG[C ? 1 : 0];
              z.U2 = !0
          }
      }
      z.J()
  }
  ;
  O.pC.prototype.rP = function(n) {
      this.VF(n, this.bT, this.kS.MR(), this.kS.Td(), this.kS.Co());
      this.J(n)
  }
  ;
  O.pC.prototype.VF = function(n, z, C, D, F) {
      var X = this.AY, E = n.W[n.C[0]], f = n.Rj.length != 0 ? n.fD[n.Rj[0]] : E.kl <= 0 ? null : E.kl == 1 ? E.sN() : E.yM(n).z, a = j.T(F.t() * 4), q, c = E.Ks(0);
      if (f == null) {
          if (this.id == O.vy && z == "heal")
              j.X3(E.buffer, E.rect, a, F);
          else
              j.X3(this.OX, this.Ma, a, F);
          if (c) {
              q = j.T(F.t());
              j.Ni(a, q, 3)
          }
      } else {
          O.pC.qd(this.OX, this.Ma, f.color, a, F)
      }
      if (n.N && z != "qselect") {
          var K = F.Yi(n.N.rect)
            , R = j.T(K.t() * 4);
          if (z == "copy") {
              var J = j.T(K.t());
              j.v8(n.N.channel, n.N.rect, J, K);
              j.X3(a, F, R, K);
              j.$.lY(C, D, R, K, J, K, 0, K, 1, !1)
          } else {
              j.X3(C, D, R, K);
              j.NI(n.N.channel, n.N.rect, R, K)
          }
          C = R;
          D = K
      }
      function w(m, aX) {
          var a4 = Math.max(aX.x, Math.min(aX.x + aX.d - 1, m.x))
            , f8 = Math.max(aX.y, Math.min(aX.y + aX.v - 1, m.y));
          return new ir(a4,f8)
      }
      if (z == "idraw" || z == "ierase") {
          if (this.$V == null)
              this.$V = j.T(this.Ma.t());
          var p = this.AY.samp
            , I = this.VJ.ff
            , m = w(this.S1, F)
            , A = p == 0 ? m : this.BP
            , U = A.x
            , r = A.y
            , $ = O.hj.Ex(this.OX, this.Ma, [A, new ir(U - 2,r), new ir(U + 2,r), new ir(U,r - 2), new ir(U,r + 2)]);
          if (p == 2)
              $ = [[I >>> 16 & 255, I >>> 8 & 255, I >>> 0 & 255, 255]];
          var k = O.hj.zX(a, F, m, $, this.AY.wconf)
            , G = j.T(F.t());
          j.v8(this.$V, this.Ma, G, F);
          j.Ar.QH(k, G, G);
          j.v8(G, F, this.$V, this.Ma);
          j.NI(G, F, C, D);
          z = z.slice(1)
      }
      if (z == "erase" && (e3.Py.zl(n) != 16777215 || f))
          z = "draw";
      if (z == "draw")
          j.$.xN(X.bmode, C, D, a, F, F, X.opacity);
      else if (z == "erase") {
          var i = j.T(F.t() * 4);
          j.X3(C, D, i, F);
          if (f == null) {
              var o = j.T(F.t());
              j.Ni(i, o, 3);
              j.bc(o, X.opacity);
              j.eL(o);
              j.NI(o, F, a, F)
          } else {
              j.xM(i, 0, 4278190080);
              j.$.xN("norm", i, F, a, F, F, X.opacity)
          }
      } else if (z == "clone" || z == "heal") {
          var S = this.ko()
            , H = this.kT.clone();
          H.offset(S.x, S.y);
          var e = F.clone();
          e.TR(1, 1);
          var V = j.T(e.t() * 4)
            , v = j.T(e.t());
          j.X3(C, D, V, e);
          j.Ni(V, v, 3);
          j.xM(V, 0);
          if (f == null) {
              j.X3(this.K7, H, V, e);
              var B = j.T(e.t());
              j.Ni(V, B, 3);
              j.wz(B, v)
          } else
              O.pC.qd(this.K7, H, f.color, V, e);
          if (z == "clone") {
              j.bl(v, V, 3);
              j.$.xN(X.bmode, V, e, a, F, F, X.opacity)
          }
          if (z == "heal") {
              var Z = v.slice(0);
              j.round(Z, 20);
              var d = j.T(e.t() * 4);
              if (f == null)
                  j.X3(this.OX, this.Ma, d, e);
              else
                  O.pC.qd(this.OX, this.Ma, f.color, d, e);
              j.$.lY(V, e, d, e, Z, e, 0, e, 1, !1);
              j.YN.n7(d, Z, e);
              j.$.lY(d, e, a, F, v, e, 0, F, 1, !1)
          }
      } else if (z == "dodge" || z == "burn") {
          var V = j.T(F.t() * 4)
            , y = 1
            , L = 0
            , _ = 0
            , b = 0;
          j.X3(C, D, V, F);
          var g = F.t() * 4
            , Y = O.pC.cB;
          if (this.JO) {
              if (z == "dodge")
                  z = "burn";
              else
                  z = "dodge"
          }
          var x = X.rng;
          if (z == "dodge") {
              L = [1 - y / 2, 1, 1 + y][x];
              _ = [1, 1 / (1 + y), 1][x];
              b = [y / 2, 0, 0][x]
          }
          if (z == "burn") {
              L = [1 / (1 - y / 2), 1, 1 - y / 2][x];
              _ = [1, 1 + y, 1][x];
              b = [-(y / 2) / (1 - y / 2), 0, 0][x]
          }
          for (var M = 0; M < g; M += 4) {
              var W = V[M + 3];
              a[M + 0] = Y(a[M + 0], L, _, b, W);
              a[M + 1] = Y(a[M + 1], L, _, b, W);
              a[M + 2] = Y(a[M + 2], L, _, b, W)
          }
      } else if (z == "sponge" || z == "redeye") {
          var V = j.T(F.t() * 4)
            , v = j.T(F.t());
          j.X3(C, D, V, F);
          j.Ni(V, v, 3);
          j.YY(a, V);
          var g6 = X.smode;
          if (this.JO)
              g6 = 1 - g6;
          var fY = fd.zP("hue2");
          if (z == "sponge")
              f5.xw(fY, 0, [0, [-50, 46][g6], [6, 5][g6]]);
          else
              f5.xw(fY, 1, {
                  MJ: [265, 305, 25, 55],
                  gP: [0, -90, -70]
              });
          var f3 = ad.bN("hue2", fY);
          ad.o$(f3, V, V, F);
          j.$.lY(V, F, a, F, v, F, 0, F, 1, !1)
      } else if (z == "copy")
          j.X3(C, D, a, F);
      else if (z == "sheal") {
          var V = j.T(F.t() * 4)
            , v = j.T(F.t());
          j.X3(C, D, V, F);
          j.Ni(V, v, 3);
          V.fill(0);
          var hK = this.K7
            , s = this.kT;
          if (f) {
              hK = j.T(s.t() * 4);
              O.pC.qd(this.K7, s, 0, hK, s)
          }
          var P = j.YH.n7(hK, s, v, V, F);
          if (P != 0)
              j.X3(hK, s, V, F);
          if (this.AY.sfrom == 0)
              j.X3(V, F, a, F);
          else {
              j.X3(this.OX, this.Ma, a, F);
              j.bl(v, V, 3);
              j.$.xN("norm", V, F, a, F, F, 1)
          }
      } else if (z == "qselect") {
          var aF = this.Ma
            , fM = aF.d
            , eA = aF.v
            , e8 = fM * eA
            , eC = this.kS.MR()
            , $ = this.OX
            , cy = O.lJ.y3
            , v = cy.KQ;
          v.fill(128);
          for (var M = 0; M < e8; M++) {
              var aX = eC[M << 2]
                , j0 = eC[(M << 2) + 3];
              if (j0 == 255 && (aX == 0 || aX == 255))
                  v[M] = aX
          }
          v[0] = v[fM - 1] = 0;
          v[(eA >>> 1) * fM] = v[(eA >>> 1) * fM + fM - 1] = 0;
          O.WB.Gr(cy, !0);
          n.N = {
              rect: aF,
              channel: cy.N.slice(0)
          };
          n.U2 = !0
      }
      if (f == null) {
          if (c)
              j.bl(q, a, 3);
          j.X3(a, F, E.buffer, E.rect)
      } else
          O.pC.Vx(a, F, f)
  }
  ;
  O.pC.ko = function() {
      return null
  }
  ;
  O.pC.cB = function(n, z, C, D, F) {
      var X = n * (1 / 255)
        , E = D + z * Math.pow(X, C)
        , f = Math.round(E * F + X * (255 - F));
      return Math.max(0, Math.min(255, f))
  }
  ;
  O.pC.qd = function(n, z, C, D, F) {
      var X = j.T(F.t());
      X.fill(C);
      j.v8(n, z, X, F);
      D.fill(255);
      j.Vv(X, D)
  }
  ;
  O.pC.Vx = function(n, z, C) {
      var D = j.T(z.t());
      j.Fd(n, D);
      j.v8(D, z, C.channel, C.rect)
  }
  ;
  O.lJ = function(n, z, C) {
      O.gW.call(this, n, z, C);
      this.VP = {
          op: "front",
          feat: 0,
          cstr: {
              x2: 0,
              x: 3,
              y: 2
          },
          wconf: [16, !0, !0],
          anta: !0
      };
      this.vQ = new ir(-1,-1);
      this.SA = new ir(-1,-1);
      this.D5 = "default";
      this.FS = null;
      this.a6r = !0;
      this.w7 = !1;
      this.Si = !1;
      this.JO = !1;
      this.cL = 0;
      this.OT = 0;
      this.Jd = !1;
      this.qz = null;
      this.yv = null;
      this.xi = !1
  }
  ;
  O.lJ.prototype = new O.gW;
  O.lJ.prototype.ak_ = function() {
      var n = this.VP
        , z = [{
          front: 0,
          union: 1,
          difference: 2,
          intersection: 3
      }[n.op], n.feat];
      if (this.id == O.ss)
          z.push(n.wconf);
      return z
  }
  ;
  O.lJ.prototype.a1g = function(n, z, C) {
      var D = this.VP;
      D.op = ["front", "union", "difference", "intersection"][n[0]];
      D.feat = n[1];
      D.wconf = n[2];
      var F = new u(l.E.P,!0);
      F.data = {
          e: l.H.b5,
          F: this.id,
          VP: D
      };
      C.f(F)
  }
  ;
  O.lJ.y3 = {
      key: ""
  };
  O.lJ.c$ = function(n, z, C) {
      var D = {
          KY: n,
          cw: {
              classID: "setd",
              null: {
                  t: "obj ",
                  v: [{
                      t: "prop",
                      v: {
                          classID: "Chnl",
                          keyID: "fsel"
                      }
                  }]
              }
          }
      };
      if (z)
          D.cw.T = z;
      if (C != null)
          D.cw.AntA = {
              t: "bool",
              v: C
          };
      return D
  }
  ;
  O.lJ.W2 = function(n, z) {
      return O.lJ.c$("set", {
          t: "Objc",
          v: {
              classID: n,
              Top: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: z.y
                  }
              },
              Left: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: z.x
                  }
              },
              Btom: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: z.y + z.v
                  }
              },
              Rght: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: z.x + z.d
                  }
              }
          }
      })
  }
  ;
  O.lJ.sd = function(n, z, C) {
      var D = []
        , F = []
        , E = "set";
      for (var M = 0; M < n.length; M += 2) {
          D.push(n[M]);
          F.push(n[M + 1])
      }
      var X = {
          t: "Objc",
          v: {
              classID: "Plgn",
              Pts: {
                  t: "ObAr",
                  v: {
                      classID: "Pnt",
                      arr: [{
                          id: "Hrzn",
                          type: "UnFl",
                          uID: "#Pxl",
                          arr: D
                      }, {
                          id: "Vrtc",
                          type: "UnFl",
                          uID: "#Pxl",
                          arr: F
                      }]
                  }
              }
          }
      };
      if (z)
          E = {
              front: "set",
              union: "addTo",
              difference: "subtractFrom",
              intersection: "interfaceWhite"
          }[z];
      return O.lJ.c$(E, X, C)
  }
  ;
  O.lJ.aqa = function(n, z) {
      var C = {
          t: "Objc",
          v: {
              classID: "Pnt",
              Hrzn: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: n.x
                  }
              },
              Vrtc: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: n.y
                  }
              }
          }
      }
        , D = O.lJ.c$("set", C);
      D.cw.Tlrn = {
          t: "long",
          v: z[0]
      };
      D.cw.AntA = {
          t: "bool",
          v: z[1]
      };
      D.cw.Cntg = {
          t: "bool",
          v: z[2]
      };
      return D
  }
  ;
  O.lJ.by = function(n) {
      return O.lJ.c$("set", {
          t: "enum",
          v: {
              Ordn: n ? "Al" : "None"
          }
      })
  }
  ;
  O.lJ.anU = function(n, z, C) {
      var D = {
          classID: "null"
      };
      if (n != "border")
          D.selectionModifyEffectAtCanvasBounds = {
              t: "bool",
              v: C
          };
      var F = {
          e: "By",
          c: "By",
          b: "Wdth",
          f: "Rds",
          s: "Rds"
      }[n[0]];
      D[F] = {
          t: "UntF",
          v: {
              type: "#Pxl",
              val: z
          }
      };
      return {
          KY: n,
          cw: D
      }
  }
  ;
  O.lJ.JU = function(n, z, C) {
      var D = {
          t: "obj ",
          v: [{
              t: "prop",
              v: {
                  classID: "Chnl",
                  keyID: "fsel"
              }
          }]
      }
        , F = {
          t: "obj ",
          v: [{
              t: "Enmr",
              v: {
                  classID: "Chnl",
                  typeID: "Chnl",
                  enum: z
              }
          }]
      };
      if (C)
          F.v.push({
              t: "name",
              v: {
                  classID: "Lyr",
                  val: C
              }
          });
      var X = [{
          classID: "null",
          null: D,
          T: F
      }, {
          classID: "null",
          null: F,
          T: D
      }, {
          classID: "null",
          null: F,
          From: D
      }, {
          classID: "null",
          null: F,
          With: D
      }]
        , E = ["set", "add", "subtract", "interfaceIconFrameDimmed"];
      return {
          KY: E[n],
          cw: X[n]
      }
  }
  ;
  O.lJ._9 = function(n, z) {
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.W9,
          G6: c1.UL
      };
      if (!z.iC)
          n.f(C);
      C.data = {
          e: l.H.W9,
          G6: c1.M6
      };
      if (!z.mw.PN)
          n.f(C)
  }
  ;
  O.lJ.prototype.Nm = function(n, z, C, D, F) {
      O.lJ._9(z, F);
      this.FS = z;
      var X = n.e, E, f, a = new cc(0,0,C.d,C.v), f8 = !1, b3, gh, cZ, h3;
      if (X == "fromAction") {
          var q = n.n8
            , c = q.KY
            , K = q.cw
            , R = K ? K.selectionModifyEffectAtCanvasBounds : null
            , J = R && R.v;
          if (c == "inverse") {
              if (C.N == null) {
                  alert("No selection!");
                  return
              }
              E = {
                  channel: j.T(a.t()),
                  rect: a
              };
              j.v8(C.N.channel, C.N.rect, E.channel, E.rect);
              j.eL(E.channel);
              f = [7, 2]
          } else if (c == "expand") {
              var w = K.By.v.val
                , p = C.N.rect.clone();
              p.TR(w, w);
              var I = j.T(p.t())
                , m = j.T(p.t());
              j.v8(C.N.channel, C.N.rect, m, p);
              j.style.stroke(m, I, p, w);
              E = {
                  channel: I,
                  rect: p
              };
              f = [7, 4]
          } else if (c == "contract") {
              var w = K.By.v.val
                , A = C.N.rect.clone();
              A.TR(1, 1);
              if (!J)
                  A = A.Yi(a);
              var m = j.T(A.t())
                , U = j.T(m.length);
              j.v8(C.N.channel, C.N.rect, m, A);
              j.eL(m);
              j.style.stroke(m, U, A, w);
              j.eL(U);
              E = {
                  channel: U,
                  rect: A
              };
              j.BL(E);
              f = [7, 5]
          } else if (c == "border") {
              var w = K.Wdth.v.val;
              E = O.lJ.jq(C.N, w / 2, w / 2);
              f = [7, 9]
          } else if (c == "feather" || c == "smoothness") {
              var w = K.Rds.v.val;
              E = O.lJ.xv(C.N, w, c == "smoothness", a, J);
              f = c == "feather" ? [7, 6] : [19, 3, 0]
          } else {
              var r = K.null.v
                , $ = K.AntA != null && K.AntA.v;
              function k(hk) {
                  var ax = hk.Top.v.val
                    , gT = hk.Left.v.val;
                  return new cc(gT,ax,hk.Rght.v.val - gT,hk.Btom.v.val - ax)
              }
              function G(hk) {
                  var ax = hk[0].arr
                    , ej = hk[1].arr
                    , bz = {
                      U: [],
                      I: []
                  };
                  for (var M = 0; M < ax.length; M++) {
                      bz.I.push(M == 0 ? "M" : "L");
                      bz.U.push(ax[M], ej[M])
                  }
                  bz.I.push("Z");
                  return bz
              }
              var i = ["set", "addTo", "subtractFrom", "interfaceWhite"].indexOf(c)
                , o = K.T ? K.T.v : null;
              if (o && o.classID == "Elps") {
                  E = this.vX(O.Jl.zN(k(o)));
                  f = [10, 4]
              } else if (o && o.classID == "Rctn") {
                  var S = k(o);
                  E = {
                      channel: j.T(S.t()),
                      rect: S.clone()
                  };
                  E.channel.fill(255);
                  f = [10, 15]
              } else if (o && o.classID == "ObSl") {
                  var S = k(o)
                    , H = O.lJ.y3
                    , e = H.rect
                    , V = H.KQ
                    , v = e.d
                    , B = e.v
                    , Z = S.x - e.x
                    , d = Z + S.d - 1
                    , g = Math.max(Z, Math.min(d, Z + d >>> 1))
                    , Y = S.y - e.y
                    , y = Y + S.v - 1
                    , L = Math.max(Y, Math.min(y, Y + y >>> 1))
                    , _ = Math.max(Z, 0)
                    , b = Math.min(d, v)
                    , x = Math.max(Y, 0)
                    , W = Math.min(y, B);
                  V.fill(128);
                  if (0 <= Y)
                      for (var g6 = _; g6 < b; g6++)
                          V[Y * v + g6] = 0;
                  if (y < B)
                      for (var g6 = _; g6 < b; g6++)
                          V[y * v + g6] = 0;
                  if (0 <= Z)
                      for (var fY = x; fY < W; fY++)
                          V[fY * v + Z] = 0;
                  if (d < v)
                      for (var fY = x; fY < W; fY++)
                          V[fY * v + d] = 0;
                  var f3 = O.TQ.w3
                    , hK = Math.round(S.d * f3)
                    , s = Math.round(S.v * f3);
                  for (var g6 = Math.max(0, g - hK); g6 < Math.min(v, g + hK); g6++)
                      V[L * v + g6] = 255;
                  for (var fY = Math.max(0, L - s); fY < Math.min(B, L + s); fY++)
                      V[fY * v + g] = 255;
                  O.WB.Gr(H, !0);
                  E = {
                      channel: H.N.slice(0),
                      rect: e.clone()
                  };
                  f = [10, 44]
              } else if (o && o.classID == "Plgn") {
                  E = this.vX(G(o.Pts.v.arr));
                  f = [10, 9]
              } else if (o && o.classID == "Pnt") {
                  E = O.hj.di(C, new ir(o.Hrzn.v.val,o.Vrtc.v.val), [K.Tlrn.v, $, K.Cntg == null || K.Cntg.v]);
                  f = [10, 12]
              } else if (o && o.Ordn == "None") {
                  E = null;
                  f = [7, 1]
              } else if (o && o.Ordn == "Al") {
                  var P = a;
                  if (C.C.length != 0) {
                      var aF = C.root.H0(C.C[0]);
                      while (aF.parent && aF.parent.parent)
                          aF = aF.parent;
                      if (aF.b.add.artb)
                          P = aF.b.qJ()
                  }
                  E = {
                      channel: j.T(P.t()),
                      rect: P
                  };
                  E.channel.fill(255);
                  f = [7, 0]
              } else if (o && o[0] && o[0].v.keyID == "WrPt") {
                  var fM = {
                      e: "frompath",
                      Hc: [-1, 0, 0]
                  };
                  this.Nm(fM, z, C, D, F);
                  return
              } else {
                  var eA = ["set", "add", "subtract", "interfaceIconFrameDimmed"].indexOf(c), e8 = c == "set" ? o : r, eC = e8[0].v.enum, fM;
                  if (eC == "Trsp" || eC == "Msk" || eC == "vectorMask") {
                      var cy = C.C[0];
                      if (e8.length == 2)
                          cy = eW.PY(C, e8[1]);
                      var aX = ["Trsp", "Msk", "vectorMask"].indexOf(eC);
                      fM = {
                          e: "fromlayer",
                          Hc: [cy, aX, eA]
                      }
                  } else {
                      if (e8[0].t == "name") {
                          var cy = 0;
                          for (var M = 0; M < C.fD.length; M++)
                              if (C.fD[M].name == e8[0].v.val)
                                  cy = M;
                          fM = {
                              e: "fromchannel",
                              Hc: [-5 - cy, 0, eA]
                          }
                      } else {
                          var j0 = ["RGB", "Rd", "Grn", "Bl"].indexOf(eC);
                          fM = {
                              e: "fromchannel",
                              Hc: [-1 - j0, 0, eA]
                          }
                      }
                  }
                  this.Nm(fM, z, C, D, F);
                  return
              }
              if (!$ && E)
                  j.round(E.channel);
              if (K.Fthr)
                  E = O.lJ.xv(E, K.Fthr.v.val, !1);
              if (c != "set" && C.N != null)
                  E = j.Ar.n$(E, C.N, ["", "union", "difference", "intersection"][i])
          }
          if (c == "expand" || c == "contract")
              if (!J && !a.contains(E.rect)) {
                  var aT = E.rect.Yi(a)
                    , a4 = j.T(aT.t());
                  j.v8(E.channel, E.rect, a4, aT);
                  E.channel = a4;
                  E.rect = aT
              }
      }
      if (X == "qmask") {
          f8 = !0;
          var ew = C.XA()
            , dy = new cc(0,0,C.d,C.v);
          if (ew) {
              E = ew.rect.jm(dy) && j.wq(ew.channel, 255) ? null : {
                  rect: ew.rect.clone(),
                  channel: ew.channel.slice(0)
              };
              b3 = ew
          } else {
              E = null;
              gh = new Q.im;
              gh.color = 0;
              gh.name = "Quick Mask";
              gh.ip = !0;
              if (C.N) {
                  gh.rect = C.N.rect.clone();
                  gh.channel = C.N.channel.slice(0)
              } else {
                  gh.rect = dy;
                  gh.channel = j.T(gh.rect.t());
                  gh.channel.fill(255)
              }
          }
          f = [6, 6, 1]
      }
      if (X == "setsel") {
          E = n.N;
          f = n.$_
      }
      if (X == "crange") {
          var fx = n.yT
            , bo = n.yp;
          E = O.lJ.tx(C, fx, bo, n.V9);
          f = [7, 8];
          fx = {
              t: "Objc",
              v: {
                  classID: "LbCl",
                  Lmnc: {
                      t: "doub",
                      v: fx.u4
                  },
                  A: {
                      t: "doub",
                      v: fx.nb
                  },
                  B: {
                      t: "doub",
                      v: fx.O
                  }
              }
          };
          bo = {
              t: "Objc",
              v: {
                  classID: "LbCl",
                  Lmnc: {
                      t: "doub",
                      v: bo.u4
                  },
                  A: {
                      t: "doub",
                      v: bo.nb
                  },
                  B: {
                      t: "doub",
                      v: bo.O
                  }
              }
          };
          this.track({
              KY: "colorRange",
              cw: {
                  __name: "Color Range",
                  classID: "ClrR",
                  Fzns: {
                      t: "long",
                      v: Math.round(n.V9 * 200)
                  },
                  Mnm: fx,
                  Mxm: bo,
                  colorModel: {
                      t: "long",
                      v: 0
                  }
              }
          })
      }
      if (X == "fromlayer" || X == "fromchannel" || X == "frompath") {
          var hd = n.Hc[0]
            , aX = n.Hc[1]
            , i = n.Hc[2];
          if (X == "fromlayer") {
              if (hd == null)
                  hd = C.C[0];
              var gT = C.W[hd];
              if (aX == 0) {
                  var du = gT.rect
                    , bk = gT.buffer;
                  if (du.kX())
                      return;
                  var i8 = j.T(bk.length >>> 2);
                  j.Ni(bk, i8, 3);
                  E = {
                      channel: i8,
                      rect: du.clone()
                  }
              } else {
                  if (gT.z == null)
                      gT.z4(C);
                  var en = aX == 1 ? gT.sN() : gT.z;
                  E = O.lJ.Ob(en, a)
              }
              this.track(O.lJ.JU(i, ["Trsp", "Msk"][aX], gT.getName()))
          } else if (X == "frompath") {
              var dW = C.LJ()
                , ix = dW[1]
                , dW = dW[0];
              if (hd == null)
                  if (dW.length == 0 || ix.length == 0)
                      return;
              var dU = dW[ix[0]];
              if (hd != null)
                  for (var M = 0; M < dW.length; M++)
                      if (dW[M].kB == hd)
                          dU = dW[M];
              var en = dU.add.vmsk.sN()
                , hN = en.Td();
              if (hN.t() == 0)
                  return;
              var i8 = en.v$();
              if (n.Hc[3] != null)
                  this.a6r = n.Hc[3];
              if (this.a6r) {
                  i8 = i8.slice(0);
                  j.round(i8)
              }
              cZ = [JSON.stringify(C.ej), JSON.stringify(C.Tj)];
              h3 = ["[]", "[]"];
              C.ej = [];
              C.Tj = [];
              E = {
                  channel: i8,
                  rect: hN
              }
          } else {
              if (hd == null)
                  hd = O.lJ.Dd(C);
              E = O.lJ.QW(C, hd)
          }
          if (i != 0 && C.N)
              E = j.Ar.n$(E, C.N, ["", "union", "difference", "intersection"][i]);
          f = [14, 11]
      }
      if (E != null && j.wq(E.channel, 0)) {
          E = null;
          f = [7, 1]
      }
      if (E)
          j.BL(E);
      var a1 = new hi(f,this);
      a1.data = {
          e: "changesel",
          vT: C.N,
          $l: E,
          XA: f8,
          akF: b3,
          a9g: gh,
          RQ: cZ,
          ajh: h3
      };
      C.OV(a1);
      this.qO(a1.data, C)
  }
  ;
  O.lJ.Dd = function(n) {
      var z = 0;
      if (n.Rj.length != 0)
          z = -5 - n.Rj[0];
      else if (JSON.stringify(n.a.Hg) == "[1,1,1]")
          z = -1;
      else
          z = -2 - n.a.Hg.indexOf(1);
      return z
  }
  ;
  O.lJ.QW = function(n, z) {
      var C, D = new cc(0,0,n.d,n.v);
      if (-5 < z & z < 0) {
          var F = -z - 1
            , X = n.Wc()
            , E = j.T(D.t());
          if (F == 0)
              j.Fd(X, E);
          else
              j.Ni(X, E, F - 1);
          C = {
              channel: E,
              rect: D.clone()
          }
      }
      if (z < -4) {
          C = O.lJ.Ob(n.fD[-z - 5], D)
      }
      return C
  }
  ;
  O.lJ.Ob = function(n, z) {
      var C, D;
      if (n.Jo() == 0) {
          D = n.Td();
          if (D.t() == 0)
              return;
          C = n.v$()
      } else {
          D = z;
          C = j.T(D.t());
          n.CK(D, C)
      }
      return {
          channel: C,
          rect: D
      }
  }
  ;
  O.lJ.prototype.PU = function(n) {
      return this.Jd || n.Vn && this.id != O.LU
  }
  ;
  O.lJ.prototype.hn = function(n, z, C) {
      var D = new u(z,!0);
      D.data = C;
      n.f(D)
  }
  ;
  O.lJ.prototype.cV = function(n, z) {
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.Gu,
          gc: z
      };
      n.f(C)
  }
  ;
  O.lJ.prototype.Td = function(n, z, C) {
      z = n.N == null || this.cL > 1 || this.OT > 1 ? z : null;
      var D = this.vQ
        , F = this.SA;
      if (C) {
          D.x = Math.max(0, Math.min(n.d, D.x));
          D.y = Math.max(0, Math.min(n.v, D.y));
          F.x = Math.max(0, Math.min(n.d, F.x));
          F.y = Math.max(0, Math.min(n.v, F.y))
      }
      var X = O.oE.xp(D, F, z, !0, this.VP.cstr)
        , E = X[0].x
        , f = X[0].y;
      return new cc(E,f,X[1].x - E,X[1].y - f)
  }
  ;
  O.lJ.prototype.mY = function(n, z, C, D, F) {
      if (this.Ek())
          return;
      this.FS = z;
      this.w7 = !1;
      this.Si = D.r(dM.Ms);
      this.JO = D.r(dM.M2);
      this.cL = this.Si ? 0 : 1;
      this.OT = this.JO ? 0 : 1;
      this.vQ = n.a.C$(F.x, F.y);
      this.vQ = O.zh.kq(n, this.vQ, C);
      if (this.Qc(n, this.vQ, D)) {
          this.Jd = !0;
          this.qz = n.N.rect.clone();
          return
      }
      this.Kz(n, C, D, F);
      n.a.U3 = new cc
  }
  ;
  O.lJ.prototype.Qc = function(n, z, C) {
      var D = C.r(dM.Ms)
        , F = C.r(dM.M2);
      if (n.N && !D && !F && this.VP.op == "front")
          return j.Lc(z, n.N.channel, n.N.rect);
      return !1
  }
  ;
  O.lJ.prototype.Xl = function(n, z, C, D, F) {
      this.FS = z;
      if (this.xi)
          return;
      var X = n.a.C$(F.x, F.y);
      if (ir.gn(this.vQ, X) * n.a.X > 5)
          this.w7 = !0;
      if (D.r(dM.ye)) {
          if (this.yv == null)
              this.yv = new ir(X.x - this.vQ.x,X.y - this.vQ.y);
          this.vQ.x = X.x - this.yv.x;
          this.vQ.y = X.y - this.yv.y
      } else
          this.yv = null;
      this.SA = X;
      if (!this.Jd)
          this.SA = O.zh.kq(n, this.SA, C);
      if (this.Qc(n, this.SA, D))
          this.cV(z, "move");
      else
          this.cV(z, this.D5);
      if (this.Jd) {
          var E = this.qz.clone();
          E.x += this.SA.x - this.vQ.x;
          E.y += this.SA.y - this.vQ.y;
          var f = O.zh.yl(n, E, C);
          n.N.rect.x = Math.round(this.SA.x - this.vQ.x + this.qz.x + f[0]);
          n.N.rect.y = Math.round(this.SA.y - this.vQ.y + this.qz.y + f[1]);
          n.U2 = !0;
          O.zh.lU(n, E, f);
          return
      }
      this.kp(n, C, D, F);
      if (n.a.U3)
          n.a.U3 = this.Td(n, D)
  }
  ;
  O.lJ.prototype.Ek = function() {
      return !1
  }
  ;
  O.lJ.prototype.yg = function(n, z, C, D, F) {
      n.a.U3 = null;
      this.SA = n.a.C$(F.x, F.y);
      this.SA = O.zh.kq(n, this.SA, C);
      if (this.Jd) {
          this.Jd = !1;
          if (this.SA.jm(this.vQ) && this.Yu() == "front") {
              this.hn(z, l.E._R, O.lJ.by());
              return
          }
          this.bt(n, this.qz, n.N.rect.clone());
          if (n != null && n.k.qv) {
              n.k.qv = null;
              n.QV = !0
          }
          return
      }
      this.xP(n, C, D, F);
      O.lJ._9(z, C)
  }
  ;
  O.lJ.prototype.bt = function(n, z, C) {
      var D = n.$B();
      if (D != null && D.F == this && D.data.e == "movesel") {} else {
          D = new hi([7, 7],this);
          D.data = {
              e: "movesel",
              TX: z
          };
          n.OV(D)
      }
      D.data.fb = C;
      this.qO(D.data, n)
  }
  ;
  O.lJ.prototype.Nq = function(n, z, C, D, F) {
      this.xi = !0
  }
  ;
  O.lJ.prototype._V = function(n, z, C, D, F) {
      var X = new u(l.E.P,!0);
      X.data = {
          e: l.H.b5,
          F: this.id,
          Yk: F,
          zf: n,
          mf: C
      };
      z.f(X);
      this.xi = !1
  }
  ;
  O.lJ.prototype.iV = function(n, z, C, D) {
      var F = D.r(dM.Ms)
        , X = D.r(dM.M2);
      if (this.w7) {
          if (this.cL == 0 && !F)
              this.cL++;
          if (this.cL == 1 && F)
              this.cL++;
          if (this.OT == 0 && !X)
              this.OT++;
          if (this.OT == 1 && X)
              this.OT++
      }
      if (n != null && n.N != null) {
          var E = D.Sk();
          if (E.x != 0 || E.y != 0) {
              var f = n.N.rect.clone();
              f.x += E.x;
              f.y += E.y;
              this.bt(n, n.N.rect.clone(), f)
          }
      }
      var a = O.lJ.h8(this.VP.op, F, X)
        , q = new u(l.E.P,!0);
      q.data = {
          e: l.H.b5,
          F: this.id,
          He: a
      };
      z.f(q)
  }
  ;
  O.lJ.prototype.finish = function(n, z, C, D) {
      var F = n.N
        , X = this.getSelection(n, z, C, D);
      if (X == null)
          X = O.lJ.by();
      else {
          var E = this.VP.feat
            , f = this.Yu();
          if (E != 0)
              X.cw.Fthr = {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: E
                  }
              };
          if (f != "front" && f != "xor")
              X.KY = {
                  union: "addTo",
                  difference: "subtractFrom",
                  intersection: "interfaceWhite"
              }[f]
      }
      this.hn(this.FS, l.E._R, X);
      this.vQ.oS(-1, -1);
      this.SA.oS(-1, -1)
  }
  ;
  O.lJ.prototype.Yu = function() {
      return O.lJ.h8(this.VP.op, this.Si, this.JO)
  }
  ;
  O.lJ.h8 = function(n, z, C) {
      if (z)
          n = "union";
      if (C)
          n = "difference";
      if (z && C)
          n = "intersection";
      return n
  }
  ;
  O.lJ.prototype.getSelection = function(n, z, C, D) {
      return null
  }
  ;
  O.lJ.prototype.Kz = function(n, z, C, D) {}
  ;
  O.lJ.prototype.kp = function(n, z, C, D) {}
  ;
  O.lJ.prototype.xP = function(n, z, C, D) {}
  ;
  O.lJ.prototype.LL = function(n, z) {
      var C = n.e;
      if (C == "changesel")
          z.N = n.vT;
      if (C == "movesel")
          z.N.rect = n.TX;
      if (n.XA) {
          if (n.akF) {
              z.Rj = [z.fD.length];
              z.fD.push(n.akF)
          } else {
              z.fD.pop();
              z.Rj = []
          }
      }
      if (n.RQ) {
          z.ej = JSON.parse(n.RQ[0]);
          z.Tj = JSON.parse(n.RQ[1])
      }
      z.U2 = !0
  }
  ;
  O.lJ.prototype.qO = function(n, z) {
      var C = n.e;
      if (C == "changesel")
          z.N = n.$l;
      if (C == "movesel")
          z.N.rect = n.fb;
      if (n.XA) {
          if (n.a9g) {
              z.Rj = [z.fD.length];
              z.fD.push(n.a9g)
          } else {
              z.fD.pop();
              z.Rj = []
          }
      }
      if (n.RQ) {
          z.ej = JSON.parse(n.ajh[0]);
          z.Tj = JSON.parse(n.ajh[1])
      }
      z.U2 = !0
  }
  ;
  O.lJ.prototype.lO = function(n) {
      this.VP = n.VP
  }
  ;
  O.lJ.prototype.vX = function(n) {
      var z = j.K.OH(n.U);
      if (z.kX())
          return null;
      var C = l.w("canvas", "");
      C.width = z.d;
      C.height = z.v;
      var D = C.getContext("2d");
      D.beginPath();
      D.translate(-z.x, -z.y);
      Typr.U.pathToContext({
          cmds: n.I,
          crds: n.U
      }, D);
      D.closePath();
      D.fill();
      var F = j.T(z.t())
        , X = D.getImageData(0, 0, C.width, C.height);
      j.Ni(X.data, F, 3);
      return {
          rect: z,
          channel: F
      }
  }
  ;
  O.lJ.xv = function(n, z, C, D, F) {
      if (C)
          z = Math.round(z * .7);
      var X = Math.ceil(2.6 * z)
        , E = n.rect.clone();
      E.TR(X, X);
      if (D && !F)
          E = E.Yi(D);
      var f = j.T(E.t())
        , a = j.T(f.length);
      j.v8(n.channel, n.rect, a, E);
      j.Y7.c_(a, f, E, z);
      if (C) {
          var q = f.length;
          for (var M = 0; M < q; M++) {
              var c = (f[M] - 128) * z * 2.5;
              f[M] = Math.max(0, Math.min(255, Math.round(128 + c)))
          }
      }
      return {
          channel: f,
          rect: E
      }
  }
  ;
  O.lJ.jq = function(n, z, C) {
      var D = Math.max(1, Math.ceil(C))
        , F = n.rect.clone();
      F.TR(D, D);
      var X = F.t()
        , E = {
          channel: j.T(X),
          rect: F
      }
        , f = j.T(X);
      j.v8(n.channel, n.rect, f, E.rect);
      if (C != 0)
          j.style.stroke(f, E.channel, E.rect, C);
      else
          j.YY(f, E.channel);
      var a = j.T(X);
      j.eL(f);
      if (z != 0)
          j.style.stroke(f, a, E.rect, z);
      else
          j.YY(f, a);
      j.Ar.Yi(E.channel, a, E.channel);
      return E
  }
  ;
  O.lJ.tx = function(n, z, C, D) {
      var F = new cc(0,0,n.d,n.v)
        , X = n.Wc();
      if (n.N) {
          var E = n.N.rect.Yi(F)
            , f = j.T(E.t() * 4);
          j.X3(X, F, f, E);
          F = E;
          X = f
      }
      var a = F.t()
        , q = j.T(a)
        , c = 1 / D;
      for (var M = 0; M < a; M++) {
          var K = M << 2
            , R = j.MU(X[K], X[K + 1], X[K + 2])
            , J = j.Lx(R, z, C, D, c);
          q[M] = X[K + 3] * J
      }
      return {
          rect: F,
          channel: q
      }
  }
  ;
  O.OE = function() {
      O.pC.call(this, [10, 18], O.lX, "tools/blur");
      this.bT = "copy"
  }
  ;
  O.OE.prototype = new O.pC;
  O.OE.prototype.mY = function(n, z, C, D, F) {
      var X = D.r(dM.M2) ? fz.Ow : fz.lX;
      this.NK(n, C, D, F, this.AY.strn, X);
      if (this.kS == null)
          return;
      this.rP(n)
  }
  ;
  O.OE.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.AA = function() {
      O.pC.call(this, [10, 0], O.qE, "tools/brush");
      this.bT = "draw"
  }
  ;
  O.AA.prototype = new O.pC;
  O.AA.prototype.mY = function(n, z, C, D, F) {
      if (this.yS(D, z, F))
          return;
      this.NK(n, C, D, F, this.AY.flow);
      if (this.kS == null)
          return;
      this.rP(n)
  }
  ;
  O.AA.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.E9 = function() {
      O.pC.call(this, [10, 42], O.BX, "tools/crepl");
      this.bT = "idraw";
      this.AY.bmode = "hue "
  }
  ;
  O.E9.prototype = new O.pC;
  O.E9.prototype.mY = function(n, z, C, D, F) {
      if (this.yS(D, z, F))
          return;
      this.NK(n, C, D, F, this.AY.flow);
      if (this.kS == null)
          return;
      this.rP(n)
  }
  ;
  O.E9.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.Zt = function() {
      O.pC.call(this, [10, 43], O._S, "tools/redeye");
      this.AY.smode = 0;
      this.bT = "redeye"
  }
  ;
  O.Zt.prototype = new O.pC;
  O.Zt.prototype.mY = function(n, z, C, D, F) {
      this.NK(n, C, D, F, this.AY.flow);
      if (this.kS == null)
          return;
      this.rP(n)
  }
  ;
  O.Zt.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.Kw = function() {
      O.pC.call(this, [10, 38], O.DM, "tools/pencil");
      this.bT = "draw"
  }
  ;
  O.Kw.prototype = new O.pC;
  O.Kw.prototype.mY = function(n, z, C, D, F) {
      if (this.yS(D, z, F))
          return;
      this.NK(n, C, D, F, this.AY.flow);
      if (this.kS == null)
          return;
      this.rP(n)
  }
  ;
  O.Kw.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.rz = function() {
      O.pC.call(this, [10, 22], O.vU, "tools/burn");
      this.bT = "burn"
  }
  ;
  O.rz.prototype = new O.pC;
  O.rz.prototype.mY = function(n, z, C, D, F) {
      this.NK(n, C, D, F, this.AY.expo / Math.E);
      if (this.kS == null)
          return;
      this.rP(n)
  }
  ;
  O.rz.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.bm = function(n, z, C) {
      O.pC.call(this, n == "" ? null : n ? n : [10, 1], z ? z : O.Mg, C ? C : "tools/clone");
      this.bT = "clone";
      this.cr = null;
      this.A = null
  }
  ;
  O.bm.prototype = new O.pC;
  O.bm.prototype.mY = function(n, z, C, D, F) {
      var X = this.AY
        , E = X.alt[0];
      if (D.r(dM.M2) || D.r(dM.tA) || E) {
          this.cr = n.a.C$(F.x, F.y);
          this.A = null;
          if (E)
              this.j2({
                  alt: [!1]
              }, z);
          this.Zq(n);
          this.Ci(C, D, n, F);
          return
      }
      if (this.cr == null) {
          alert(aC.get([15, 7, 0]));
          return
      }
      this.Ci(C, D);
      this.NK(n, C, D, F, this.AY.flow);
      if (this.kS == null)
          return;
      this.A = this.sm(n.a.C$(F.x, F.y));
      this.rP(n)
  }
  ;
  O.bm.prototype.sm = function(n) {
      var z = this.A;
      if (z == null || !this.AY.algnd)
          z = new ir(Math.round(n.x - this.cr.x),Math.round(n.y - this.cr.y));
      return z
  }
  ;
  O.bm.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null) {
          if (this.cr != null)
              this.Ci(C, D, n, F);
          return
      }
      if (!F.Vn || this.cr == null)
          return;
      this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.bm.prototype.ko = function() {
      return this.A
  }
  ;
  O.Xf = function(n, z, C) {
      O.gW.call(this, n, z, C);
      this.fI = {
          Fn: {
              x2: 0,
              x: 0,
              y: 0
          },
          r1: !1
      };
      this.d6 = null;
      this.cursor = null;
      this.aqi = 0;
      this.Au = null;
      this.vQ = null;
      this.j0 = null
  }
  ;
  O.Xf.prototype = new O.gW;
  O.Xf.prototype.TU = function() {
      return this.d6 != null
  }
  ;
  O.Xf.prototype.PU = function(n) {
      return this.d6 && this.d6.eC()
  }
  ;
  O.Xf.prototype.mY = function(n, z, C, D, F) {
      this.Au = F;
      var X = n.a.C$(F.x, F.y);
      X.x = Math.round(X.x);
      X.y = Math.round(X.y);
      var E = this.fI.Fn
        , f = E.x2 != 0 ? E.x / E.y : null;
      if (this.d6)
          this.d6.mY(n, C, D, X, f, !1);
      else
          this.vQ = O.zh.kq(n, X, C)
  }
  ;
  O.Xf.prototype.d_ = function(n, z) {
      var C = [n.x, n.y, n.x + n.d, n.y, n.x + n.d, n.y + n.v, n.x, n.y + n.v];
      return new ip(C,!0,!1,this.id == O.dw,!0,z,this.id == O.dw ? 2 : 0,this.id == O.dw ? 4 : 3)
  }
  ;
  O.Xf.prototype.Ci = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.Gu,
          gc: this.cursor
      };
      n.f(z)
  }
  ;
  O.Xf.prototype.enable = function(n, z, C, D) {
      this.FS = z;
      this.cursor = "crosshair";
      this.Ci(z);
      if (n != null && n.N) {
          var F = this.fI.Fn = {
              x2: 0,
              x: 0,
              y: 0
          };
          this.hn(z, l.E.P, {
              e: l.H.b5,
              F: this.id,
              jH: !1,
              bC: F
          });
          this.lO({
              Qk: "cropby",
              al7: 3
          }, z, n, D, C)
      }
  }
  ;
  O.Xf.prototype.Xl = function(n, z, C, D, F) {
      this.Au = F;
      var X = n.a.C$(F.x, F.y);
      if (!F.Vn) {
          var E = "crosshair";
          if (this.d6) {
              var f = this.d6.Li(X, n.a.X);
              if (f)
                  E = f;
              else
                  E = "default"
          }
          if (E != this.cursor) {
              this.cursor = E;
              this.Ci(z)
          }
      }
      if (this.d6)
          this.d6.Xl(n, C, D, X);
      else if (this.vQ) {
          var a = O.oE.xp(this.vQ, O.zh.kq(n, X, C), D, !0, this.fI.Fn)
            , q = a[0].x
            , c = a[0].y
            , K = this.j0 = new cc(q,c,a[1].x - q,a[1].y - c);
          n.k.ju = j.K.YQ(K);
          n.QV = !0;
          O.gW.Fo(F.x + 10, F.y - 10, K, n, C)
      }
  }
  ;
  O.Xf.prototype.yg = function(n, z, C, D, F) {
      this.Au = F;
      if (this.d6 == null) {
          if (this.vQ) {
              var X = this.j0;
              if (X) {
                  var E = this.fI.Fn;
                  this.d6 = this.d_(X, E.x2 != 0);
                  this.d6.Ww(n, C);
                  this.j0 = null;
                  this.hn(z, l.E.P, {
                      e: l.H.b5,
                      F: this.id,
                      jH: !0
                  })
              }
              this.vQ = null;
              n.k.om = [];
              n.QV = !0
          }
          return
      }
      var f = n.a.C$(F.x, F.y);
      this.d6.yg(n, C, D, f);
      this.hn(z, l.E.P, {
          e: l.H.b5,
          F: this.id,
          jH: !0
      });
      var a = this.d6.O7();
      if (Math.abs(a[0] - a[4]) < 2 && Math.abs(a[1] - a[5]) < 2) {
          this.disable(n, z, null, D);
          return
      }
      if (Date.now() - this.aqi < 200 && this.d6.q8(f)) {
          this.AE(n, C);
          this.disable(n, z, C, D);
          return
      }
      this.aqi = Date.now()
  }
  ;
  O.Xf.prototype.iV = function(n, z, C, D) {
      var F = this.d6;
      if (F == null || this.Au && this.Au.Vn)
          return;
      if (D.r(dM.BK)) {
          this.AE(n, C);
          this.disable(n, z, C, D)
      } else if (D.r(dM.dM)) {
          this.disable(n, z, C, D)
      } else
          F.iV(n, C, D)
  }
  ;
  O.Xf.cG = function(n, z) {
      var C = {
          classID: "null",
          T: {
              t: "Objc",
              v: {
                  classID: "Rctn",
                  Top: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: n[1]
                      }
                  },
                  Left: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: n[0]
                      }
                  },
                  Btom: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: n[1] + n[3]
                      }
                  },
                  Rght: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: n[0] + n[2]
                      }
                  }
              }
          },
          Angl: {
              t: "UntF",
              v: {
                  type: "#Ang",
                  val: z != null ? z : 0
              }
          },
          Dlt: {
              t: "bool",
              v: !0
          },
          cropAspectRatioModeKey: {
              t: "enum",
              v: {
                  cropAspectRatioModeClass: "pureAspectRatio"
              }
          },
          CnsP: {
              t: "bool",
              v: !1
          }
      };
      return {
          KY: "crop",
          cw: C
      }
  }
  ;
  O.Xf.lT = function(n, z) {
      if (z == null)
          z = [!0, !0, !0, !0];
      var C = {
          classID: "trim",
          trimBasedOn: {
              t: "enum",
              v: {
                  trimBasedOn: ["topLeftPixelColor", "bottomRightPixelColor", "Trns"][n]
              }
          }
      }
        , D = ["Top", "Left", "Btom", "Rght"];
      for (var M = 0; M < 4; M++)
          C[D[M]] = {
              t: "bool",
              v: z[M]
          };
      return {
          KY: "trim",
          cw: C
      }
  }
  ;
  O.Xf.wI = function(n, z, C, D) {
      var F = {
          classID: "null"
      };
      if (D != null) {
          F.Wdth = {
              t: "UntF",
              v: {
                  type: "#Pxl",
                  val: n
              }
          };
          F.Hght = {
              t: "UntF",
              v: {
                  type: "#Pxl",
                  val: z
              }
          };
          F.Intr = {
              t: "enum",
              v: {
                  Intp: ["Nrst", "Blnr", "bicubicSharper"][D]
              }
          }
      }
      if (C != null)
          F.Rslt = {
              t: "UntF",
              v: {
                  type: "#Rsl",
                  val: C
              }
          };
      return {
          KY: "imageSize",
          cw: F
      }
  }
  ;
  O.Xf.tP = function(n, z, C) {
      if (C == null)
          C = 4;
      var D = Math.floor(C / 3)
        , F = C % 3;
      return {
          KY: "canvasSize",
          cw: {
              classID: "null",
              Wdth: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: n
                  }
              },
              Hght: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: z
                  }
              },
              Hrzn: {
                  t: "enum",
                  v: {
                      HrzL: ["Left", "Cntr", "Rght"][F]
                  }
              },
              Vrtc: {
                  t: "enum",
                  v: {
                      VrtL: ["Top", "Cntr", "Btom"][D]
                  }
              }
          }
      }
  }
  ;
  O.Xf.prototype.Nm = function(n, z, C, D, F) {
      var X = new cc(0,0,C.d,C.v), E = [11, 3], f = C.$M, a = C.d / 2, q = C.v / 2, c = 1, x, W;
      if (n.e == "fromAction") {
          var K = n.n8, R = K.KY, J = K.cw, w = C.d / C.v, p = J.Wdth ? J.Wdth.v.val : -1, I = J.Hght ? J.Hght.v.val : -1, f = J.Rslt ? J.Rslt.v.val : null, m = J.Wdth ? J.Wdth.v.type : J.Hght ? J.Hght.v.type : -1, A = 1, U;
          if (R == "imageSize") {
              if (J.Intr) {
                  if (J.Intr.v.Intp == "Nrst")
                      A = 0;
                  if (J.Intr.v.Intp == "bicubicSharper")
                      A = 2;
                  if (p == -1 && I == -1) {
                      var r = f / C.$M;
                      p = Math.round(C.d * r);
                      I = Math.round(C.v * r)
                  } else if (m == "#Prc") {
                      if (p != -1)
                          p = Math.round(C.d * p / 100);
                      if (I != -1)
                          I = Math.round(C.v * I / 100)
                  }
                  if (J.CnsP && J.CnsP.v) {
                      if (p == -1)
                          p = Math.round(I * w);
                      if (I == -1)
                          I = Math.round(p / w)
                  }
              } else {
                  if (m == "#Prc")
                      f = Math.round(C.$M / ((p != -1 ? p : I) / 100));
                  else if (m == -1)
                      f = Math.round(f);
                  else
                      throw "e";
                  p = C.d;
                  I = C.v
              }
              U = {
                  e: "imgsize",
                  PG: p,
                  p9: I,
                  MK: f,
                  oK: A
              }
          } else if (R == "canvasSize") {
              if (p == -1)
                  p = C.d;
              if (I == -1)
                  I = C.v;
              if (J.Rltv && J.Rltv.v == !0) {
                  if (J.Wdth)
                      p += C.d;
                  if (J.Hght)
                      I += C.v
              }
              var $ = J.Vrtc ? J.Vrtc.v.VrtL : "Cntr"
                , k = J.Hrzn ? J.Hrzn.v.HrzL : "Cntr";
              U = {
                  e: "canvsize",
                  PG: p,
                  p9: I,
                  Cx: 3 * ["Top", "Cntr", "Btom"].indexOf($) + ["Left", "Cntr", "Rght"].indexOf(k)
              }
          } else if (R == "revealAll") {
              U = {
                  e: "revealAll"
              }
          } else if (R == "trim") {
              var G = {
                  topLeftPixelColor: 0,
                  bottomRightPixelColor: 1,
                  Trns: 2
              }[J.trimBasedOn.v.trimBasedOn];
              if (G == null)
                  throw "e";
              var i = ["Top", "Left", "Btom", "Rght"]
                , o = [!0, !0, !0, !0];
              for (var M = 0; M < 4; M++)
                  if (J[i[M]])
                      o[M] = J[i[M]].v;
              U = {
                  e: "trim",
                  a5u: G,
                  bC: o
              }
          } else if (R == "crop") {
              var S = J.T.v
                , H = Math.round(S.Left.v.val)
                , e = Math.round(S.Top.v.val)
                , V = Math.round(S.Rght.v.val) - H
                , v = Math.round(S.Btom.v.val) - e;
              U = {
                  e: "canvsize",
                  PG: V,
                  p9: v,
                  A: new ir(H,e)
              }
          } else
              console.log(K);
          if (U)
              this.Nm(U, z, C, D, F);
          return
      } else if (n.e == "imgsize") {
          X = new cc(0,0,n.PG,n.p9);
          if (n.MK)
              f = n.MK;
          c = n.oK
      } else if (n.e == "canvsize") {
          var B = n.Cx != null ? n.Cx : 0;
          X = new cc(0,0,n.PG,n.p9);
          var Z = C.d - n.PG
            , d = C.v - n.p9
            , g = Math.round(Z / 2)
            , Y = Math.round(d / 2);
          if (B == 1 || B == 4 || B == 7)
              X.x = g;
          if (B == 2 || B == 5 || B == 8)
              X.x = Z;
          if (B == 3 || B == 4 || B == 5)
              X.y = Y;
          if (B == 6 || B == 7 || B == 8)
              X.y = d;
          if (n.A) {
              X.x = n.A.x;
              X.y = n.A.y
          }
      } else if (n.e == "rot" && (n.G + 2 * Math.PI) % (Math.PI / 2) != 0) {
          var y = j.K.YQ(X).U
            , L = new b6;
          L.translate(-a, -q);
          L.rotate(n.G);
          L.translate(a, q);
          j.K.Z(y, L, y);
          X = j.K.OH(y)
      } else if (n.e == "rot" && n.G != Math.PI && n.G != -Math.PI) {
          X = new cc(a - C.v / 2,q - C.d / 2,C.v,C.d);
          if ((C.d + C.v & 1) == 1) {
              a = Math.floor(a);
              q = Math.floor(q);
              X = new cc(a - Math.floor(C.v / 2),q - Math.floor(C.d / 2),C.v,C.d);
              if ((C.d & 1) == 1 && n.G != -Math.PI / 2)
                  X.y--;
              if ((C.v & 1) == 1 && n.G == -Math.PI / 2)
                  X.x--
          }
      } else if (n.e == "trim") {
          E = [11, 12, 0];
          var _ = C.Wc()
            , b = new cc(0,0,C.d,C.v);
          X = j.xk(_, b, n.a5u, n.bC);
          if (X.kX())
              X = b
      } else if (n.e == "cropbysel") {
          E = [11, 12, 1];
          X = C.N.rect.clone()
      } else if (n.e == "revealAll") {
          E = [11, 12, 2];
          X = C.root.Td(C, !0)
      }
      if (n.e == "imgsize" || n.e == "rot" || n.e == "scl") {
          var g6 = new b6;
          if (n.e == "imgsize") {
              E = [11, 10];
              g6.scale(n.PG / C.d, n.p9 / C.v)
          } else {
              g6.translate(-a, -q);
              if (n.e == "rot")
                  g6.rotate(n.G);
              if (n.e == "scl")
                  g6.scale(n.G.x, n.G.y);
              g6.translate(a, q);
              E = n.$_
          }
          W = j.V.aC(g6);
          x = this.Ju(C, F, !0, W, c)
      } else if (n.e == "auto-align") {
          if (C.C.length < 2) {
              alert("Select two or more layers.");
              return
          }
          var fY = [];
          for (var M = 0; M < C.C.length; M++) {
              var f3 = C.W[C.C[M]];
              if (!f3.I8() && f3.add.SoLd == null) {
                  alert("Unsupported layer selected.");
                  return
              }
              if (f3.rect.kX()) {
                  alert("Empty layer selected.");
                  return
              }
              fY.push([f3.buffer, f3.rect])
          }
          var hK = j.uo.o6(fY, 0);
          if (hK == null) {
              alert("No similarity found.");
              return
          }
          W = hK[1];
          var s = C.C;
          C.C = C.C.slice(1);
          x = this.Ju(C, F, !1, hK.slice(1), c);
          C.C = s;
          X = C.root.Td(C, !0);
          E = [2, 10, 1]
      }
      var P = new cc(0,0,C.d,C.v);
      if (!X.kX() && (!X.jm(P) || x != null)) {
          var aF = new hi(E,this);
          aF.data = {
              TX: P,
              fb: X,
              a1V: C.$M,
              MK: f,
              RB: x,
              Uc: W,
              SK: O.Xf.Gy(C, X, P, x != null)
          };
          C.OV(aF);
          this.qO(aF.data, C)
      }
  }
  ;
  O.Xf.Gy = function(n, z, C, D) {
      if (n.CB.length == 0)
          return null;
      var F = JSON.stringify(n.CB)
        , X = JSON.parse(F);
      O.NB.aoh(X, z, C, D);
      X = JSON.stringify(X);
      return [F, X]
  }
  ;
  O.Xf.prototype.Ju = function(n, z, C, D, F, X) {
      var E = {
          W: [],
          pb: null,
          PV: null
      };
      if (C) {
          for (var M = 0; M < n.W.length; M++)
              E.W.push(M);
          for (var M = 0; M < n.E1.length; M++)
              E.W.push(-1 - M);
          for (var M = 0; M < n.fD.length; M++)
              E.W.push(-1e3 - M)
      } else
          E.W = n.C.slice(0);
      E.pb = O.o.LI(n, E.W, !0);
      O.o.qH(n, z, E.W, E.pb, F, D, null, !0, X);
      E.PV = O.o.LI(n, E.W, !0);
      return E
  }
  ;
  O.Xf.prototype.qO = function(n, z) {
      if (n.MK)
          z.$M = n.MK;
      if (n.SK)
          z.CB = JSON.parse(n.SK[1]);
      if (n.RB) {
          O.Xf.gz(z, j.V.BT(n.Uc));
          O.o.IN(z, n.RB.W, n.RB.PV)
      }
      O.Xf.r1(z, n.fb)
  }
  ;
  O.Xf.prototype.LL = function(n, z) {
      if (n.a1V)
          z.$M = n.a1V;
      if (n.SK)
          z.CB = JSON.parse(n.SK[0]);
      var C = n.TX.clone();
      C.offset(-n.fb.x, -n.fb.y);
      O.Xf.r1(z, C);
      if (n.ac)
          z.a.A.LP(n.ac);
      z.l5();
      if (n.RB) {
          var D = j.V.BT(n.Uc).clone();
          D.eL();
          O.Xf.gz(z, D);
          O.o.IN(z, n.RB.W, n.RB.pb)
      }
  }
  ;
  O.Xf.gz = function(n, z) {
      for (var M = 0; M < n.W.length; M++) {
          var C = n.W[M];
          if (C.add.artb == null)
              continue;
          var D = j.K.YQ(C.qJ()).U;
          j.K.Z(D, z, D);
          var F = j.K.OH(D);
          C.zk(F)
      }
  }
  ;
  O.Xf.db = function(n) {
      var z = new cc
        , C = 0
        , D = n.root.children.length;
      for (var M = 0; M < D; M++) {
          var F = n.root.children[M].b;
          if (F.add.artb == null)
              continue;
          z = z.QH(F.qJ());
          C++
      }
      var X = new cc(0,0,n.d,n.v);
      if (!z.kX() && !X.jm(z) && D == C)
          O.Xf.r1(n, z, !0);
      n.Jy(C)
  }
  ;
  O.Xf.r1 = function(n, z, C) {
      var D = n.d
        , F = n.v
        , X = z.d
        , E = z.v
        , f = z.x == 0 && z.y == 0;
      if (f && D == X && F == E)
          return;
      n.d = X;
      n.v = E;
      var a = [];
      for (var M = 0; M < n.W.length; M++)
          a.push(M);
      if (!f)
          O.zh.P7(n, a, null, -z.x, -z.y);
      for (var M = 0; M < n.W.length; M++) {
          n.W[M].z4(n)
      }
      n.l5();
      if (C) {
          var q = n.a.A
            , c = n.a.X;
          q.x += Math.round((z.x + (X - D) / 2) * c);
          q.y += Math.round((z.y + (E - F) / 2) * c)
      } else
          n.a.A.oS(0, 0);
      if (n.N)
          n.N.rect.offset(-z.x, -z.y);
      var K = n.gS();
      for (var R = 0; R < K[0].length; R++)
          if (K[1][R] == -1) {
              var J = n.Ea[R];
              J[1] -= J[0] == 0 ? z.x : z.y
          }
      for (var M = 0; M < n.fD.length; M++)
          n.fD[M].rect.offset(-z.x, -z.y)
  }
  ;
  O.Xf.prototype.lO = function(n, z, C, D, F) {
      if (n.Qk == "commit") {
          this.AE(C, F);
          this.disable(C, z, null, D)
      } else if (n.Qk == "cancel") {
          this.disable(C, z, null, D)
      }
      var X = null
        , E = new cc(0,0,C.d,C.v)
        , f = this.fI.Fn;
      if (n.Qk == "config") {
          this.fI = n.fI;
          f = this.fI.Fn;
          if (this.fI.r1 != null)
              return;
          if (C == null)
              return;
          X = E;
          if (f.x2 == 1) {
              var a = f.x / f.y;
              X.v = Math.round(X.d / a)
          }
          if (f.x2 == 2) {
              X.d = f.x;
              X.v = f.y
          }
          X.x = Math.round((C.d - X.d) / 2);
          X.y = Math.round((C.v - X.v) / 2)
      }
      if (n.Qk == "cropby") {
          if (C == null)
              return;
          var q = n.al7, X;
          if (q == 0)
              X = C.root.Td(C, !0);
          if (q == 1) {
              if (C.C.length == 0)
                  alert("No layer is selected.");
              else {
                  var c = C.root.H0(C.C[0]);
                  X = c.Td(C, !0)
              }
          }
          if (q == 2) {
              if (C.C.length == 0)
                  alert("No layer is selected.");
              else {
                  X = j.xk(C.Wc(), E, 0);
                  if (X.kX())
                      X = E.clone()
              }
          }
          if (q == 3) {
              if (C.N != null)
                  X = C.N.rect;
              else
                  alert("There is no selection.")
          }
      }
      if (X && X.kX())
          X = null;
      if (X != null) {
          this.d6 = this.d_(X, f.x2 != 0);
          this.d6.Ww(C, F);
          this.hn(z, l.E.P, {
              e: l.H.b5,
              F: this.id,
              jH: !0
          })
      }
  }
  ;
  O.Xf.prototype.AE = function(n, z) {
      var C = this.d6.O7(), D = j.K.OH(C), F = this.ad_(n, C), X = !1, E = this.fI.Fn, f = this.fI.r1, a = E.x, q = E.y, R;
      if (this.id == O.bZ && E.x2 == 2 && F.t() != a * q) {
          F = new cc(F.x,F.y,a,q);
          X = !0
      }
      var c = j.V.qw(C, F);
      c = j.V.eL(c);
      var K = j.V.yj(c)
        , J = Math.atan2(c[3], c[0]);
      if (Math.abs(J) > 1e-9 || !K || X || f)
          R = this.Ju(n, z, !0, c, 1, D);
      var w = new hi(this.name,this)
        , p = new cc(0,0,n.d,n.v);
      w.data = {
          TX: p,
          fb: F,
          RB: R,
          Uc: c,
          ac: n.a.A.clone(),
          SK: O.Xf.Gy(n, F, p, !1)
      };
      n.OV(w);
      this.qO(w.data, n);
      this.track(O.Xf.cG([D.x, D.y, D.d, D.v]))
  }
  ;
  O.Xf.prototype.ad_ = function(n, z) {
      var C = j.V.qw(z)
        , D = j.V.yj(C)
        , F = j.V.BT(C)
        , X = F.H1
        , E = F.Wv
        , f = Math.atan2(F.O, F.nb);
      F.rotate(f);
      var a = new cc(X,E,F.nb,F.qc);
      if (!D) {
          function q(U, M, r) {
              var $ = U[M] - U[r]
                , k = U[M + 1] - U[r + 1];
              return Math.sqrt($ * $ + k * k)
          }
          var c = q(z, 0, 2), K = q(z, 4, 6), R = Math.max(c, K), J = q(z, 2, 4), w = q(z, 6, 0), p = Math.max(J, w), I = O.Xf.a0K(z, n.d / 2, n.v / 2), m, A;
          if (isNaN(I) || I == Infinity || I == -Infinity || Math.min(I, 1 / I) < .1)
              I = (c + K) / (J + w);
          if (R / p > I) {
              m = R * 1;
              A = m / I
          } else {
              A = p * 1;
              m = A * I
          }
          a.d = m;
          a.v = A
      }
      a.x = Math.round(a.x);
      a.y = Math.round(a.y);
      a.d = Math.round(a.d);
      a.v = Math.round(a.v);
      return a
  }
  ;
  O.Xf.a0K = function(n, z, C) {
      var D = n[0] - z
        , F = n[1] - C
        , X = n[2] - z
        , E = n[3] - C
        , f = n[6] - z
        , a = n[7] - C
        , q = n[4] - z
        , c = n[5] - C
        , K = ((F - c) * f - (D - q) * a + D * c - F * q) / ((E - c) * f - (X - q) * a + X * c - E * q)
        , R = ((F - c) * X - (D - q) * E + D * c - F * q) / ((a - c) * X - (f - q) * E + f * c - a * q)
        , J = -((R * a - F) * (K * E - F) + (R * f - D) * (K * X - D)) / ((R - 1) * (K - 1));
      function w(I) {
          return I * I
      }
      var p = Math.sqrt((w(K - 1) + w(K * E - F) / J + w(K * X - D) / J) / (w(R - 1) + w(R * a - F) / J + w(R * f - D) / J));
      if (K == 1 && R == 1)
          p = Math.sqrt((w(E - F) + w(X - D)) / (w(a - F) + w(f - D)));
      return p
  }
  ;
  O.Xf.prototype.disable = function(n, z, C, D) {
      if (n == null)
          return;
      if (this.d6)
          this.d6.clear(n);
      this.d6 = null;
      this.hn(z, l.E.P, {
          e: l.H.b5,
          F: this.id,
          jH: !1
      })
  }
  ;
  O.Xf.prototype.hn = function(n, z, C, D) {
      var F = new u(z,!0);
      F.data = C;
      if (D)
          F.F = D;
      n.f(F)
  }
  ;
  O.Sd = function() {
      O.Xf.call(this, [10, 2], O.bZ, "tools/rcrop")
  }
  ;
  O.Sd.prototype = new O.Xf;
  O.aW = function() {
      O.Xf.call(this, [10, 39], O.dw, "tools/pcrop")
  }
  ;
  O.aW.prototype = new O.Xf;
  O.sX = function() {
      O.pC.call(this, [10, 21], O.Zb, "tools/dodge");
      this.bT = "dodge"
  }
  ;
  O.sX.prototype = new O.pC;
  O.sX.prototype.mY = function(n, z, C, D, F) {
      this.NK(n, C, D, F, this.AY.expo / Math.PI);
      if (this.kS == null)
          return;
      this.rP(n)
  }
  ;
  O.sX.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.f$ = function() {
      O.pC.call(this, [10, 3], O.V5, "tools/eraser");
      this.bT = "erase"
  }
  ;
  O.f$.prototype = new O.pC;
  O.f$.prototype.mY = function(n, z, C, D, F) {
      this.NK(n, C, D, F, this.AY.flow);
      if (this.kS == null)
          return;
      this.rP(n)
  }
  ;
  O.f$.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      var X = this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.Ld = function() {
      O.pC.call(this, [10, 45], O.aaq, "tools/beraser");
      this.bT = "ierase"
  }
  ;
  O.Ld.prototype = new O.pC;
  O.Ld.prototype.mY = function(n, z, C, D, F) {
      if (this.yS(D, z, F))
          return;
      this.NK(n, C, D, F, this.AY.flow);
      if (this.kS == null)
          return;
      this.rP(n)
  }
  ;
  O.Ld.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.f5 = function() {
      O.lJ.call(this, [10, 15], O.R2, "tools/rselect");
      this.D5 = "crosshair"
  }
  ;
  O.f5.prototype = new O.lJ;
  O.f5.prototype.kp = function(n, z, C, D) {
      if (!D.Vn || !this.w7)
          return;
      var F = this.Td(n, C, !0);
      n.k.ju = j.K.YQ(F);
      n.QV = !0;
      O.gW.Fo(D.x + 10, D.y - 10, F, n, z)
  }
  ;
  O.f5.prototype.xP = function(n, z, C, D) {
      n.k.ju = null;
      n.k.om = [];
      n.QV = !0;
      this.finish(n, z, C, D)
  }
  ;
  O.f5.prototype.getSelection = function(n, z, C, D) {
      if (this.vQ.jm(this.SA) || !this.w7)
          return null;
      var F = this.Td(n, C, !0);
      if (F.kX())
          return null;
      return O.lJ.W2("Rctn", F)
  }
  ;
  O.Jl = function() {
      O.lJ.call(this, [10, 4], O.a81, "tools/eselect");
      this.D5 = "crosshair"
  }
  ;
  O.Jl.prototype = new O.lJ;
  O.Jl.prototype.kp = function(n, z, C, D) {
      if (!D.Vn || !this.w7)
          return;
      var F = this.Td(n, C);
      n.k.ju = O.Jl.zN(F);
      n.QV = !0;
      O.gW.Fo(D.x + 10, D.y - 10, F, n, z)
  }
  ;
  O.Jl.prototype.xP = function(n, z, C, D) {
      n.k.ju = null;
      n.k.om = [];
      n.QV = !0;
      this.finish(n, z, C, D)
  }
  ;
  O.Jl.prototype.getSelection = function(n, z, C, D) {
      if (this.vQ.jm(this.SA) || !this.w7)
          return null;
      var F = this.Td(n, C);
      if (!F.vE(new cc(0,0,n.d,n.v)))
          return null;
      return O.lJ.W2("Elps", F)
  }
  ;
  O.Jl.zN = function(n) {
      var z = n.x
        , C = n.y
        , D = n.x + n.d
        , F = n.y + n.v
        , X = (z + D) / 2
        , E = (C + F) / 2
        , f = (z - D) / 2
        , a = (C - F) / 2
        , q = .5522848
        , c = {
          U: [X, E - a],
          I: ["M", "C", "C", "C", "C"]
      };
      c.U.push(X + q * f, E - a, X + f, E - q * a, X + f, E);
      c.U.push(X + f, E + q * a, X + q * f, E + a, X, E + a);
      c.U.push(X - q * f, E + a, X - f, E + q * a, X - f, E);
      c.U.push(X - f, E - q * a, X - q * f, E - a, X, E - a);
      return c
  }
  ;
  O.zu = function() {
      O.gW.call(this, [10, 5], O.Ox, "tools/eyedropper");
      this.jd = !1;
      this.df = 1
  }
  ;
  O.zu.prototype = new O.gW;
  O.zu.prototype.PU = function(n) {
      return n.Vn
  }
  ;
  O.zu.prototype.Nm = function(n, z, C, D, F) {
      if (n.e == "pickhere")
          this.OM(C, z, F, D, n.amP)
  }
  ;
  O.zu.prototype.mY = function(n, z, C, D, F) {
      this.jd = !0;
      this.OM(n, z, C, D, F)
  }
  ;
  O.zu.prototype.Xl = function(n, z, C, D, F) {
      if (this.jd)
          this.OM(n, z, C, D, F)
  }
  ;
  O.zu.prototype.yg = function(n, z, C, D, F) {
      this.jd = !1
  }
  ;
  O.zu.prototype.OM = function(n, z, C, D, F) {
      var X = O.zu.tM(n, F, this.df)
        , E = new u(l.E.P);
      E.data = {
          e: l.H.W9,
          G6: c1.yi,
          _5: 0,
          G: X
      };
      z.f(E)
  }
  ;
  O.zu.tM = function(n, z, C) {
      var D = n.a.C$(z.x, z.y)
        , F = Math.floor(D.x)
        , X = Math.floor(D.y)
        , E = (C - 1) / 2
        , f = Math.max(0, F - E)
        , a = Math.max(0, X - E)
        , q = Math.min(n.d, F + E + 1)
        , c = Math.min(n.v, X + E + 1)
        , K = (q - f) * (c - a)
        , R = n.Wc()
        , J = 0
        , w = 0
        , p = 0;
      for (var F = f; F < q; F++)
          for (var X = a; X < c; X++) {
              var M = 4 * (X * n.d + F);
              J += R[M];
              w += R[M + 1];
              p += R[M + 2]
          }
      J = Math.round(J / K);
      w = Math.round(w / K);
      p = Math.round(p / K);
      return J << 16 | w << 8 | p
  }
  ;
  O.zu.prototype.lO = function(n) {
      this.df = n.df
  }
  ;
  O.rn = function() {
      O.gW.call(this, [10, 6], O.a7N, "tools/gradient");
      this.AY = {
          _: JSON.parse(g$.LX.KH).v,
          _i: "Lnr",
          LQ: !1,
          a0L: !1,
          aaW: "norm",
          IV: 1
      };
      this.Zp = !1;
      this.yZ = null
  }
  ;
  O.rn.prototype = new O.gW;
  O.rn.prototype.enable = function(n, z, C, D) {
      var F = new u(l.E.P,!0);
      F.data = {
          e: l.H.Gu,
          gc: "default"
      };
      z.f(F)
  }
  ;
  O.rn.prototype.lO = function(n) {
      this.AY = n.G6
  }
  ;
  O.rn.prototype.mY = function(n, z, C, D, F) {
      if (!n.Sp())
          return;
      this.yZ = n.a.C$(F.x, F.y);
      this.yZ = O.zh.kq(n, this.yZ, C);
      this.Zp = !0
  }
  ;
  O.rn.prototype.Xl = function(n, z, C, D, F) {
      if (!this.Zp)
          return;
      var X = n.a.C$(F.x, F.y);
      X = O.zh.kq(n, X, C);
      if (D.r(dM.Ms))
          X = O.rn.dC(this.yZ, X);
      n.k.ju = {
          U: [this.yZ.x, this.yZ.y, X.x, X.y],
          I: ["M", "L"]
      };
      n.k.rh = [this.yZ.x, this.yZ.y, X.x, X.y];
      n.QV = !0
  }
  ;
  O.rn.prototype.yg = function(n, z, C, D, F) {
      if (!this.Zp)
          return;
      var X = n.W[n.C[0]]
        , E = n.a.C$(F.x, F.y);
      E = O.zh.kq(n, E, C);
      if (D.r(dM.Ms))
          E = O.rn.dC(this.yZ, E);
      var f = E.s6(this.yZ)
        , a = ir.E2(this.yZ, E, .5)
        , q = Math.atan2(f.y, f.x)
        , c = ir.gn(this.yZ, E)
        , K = Math.sin(q)
        , R = Math.cos(q);
      if (c > 2) {
          var J;
          if (n.N)
              J = n.N.rect;
          else
              J = new cc(0,0,n.d,n.v);
          var w = j.T(J.t() * 4)
            , p = this.AY
            , I = p._i;
          if (I != "Lnr") {
              c *= 2;
              a = this.yZ
          }
          j._.R4(p._, w, J, [R * 1 / c, K * 1 / c, -K * 1 / c, R * 1 / c], a.x, a.y, p.LQ, g$._.types.indexOf(I), C.Du, C.ff, null, p.a0L);
          var m = Math.round(p.IV * 256)
            , A = w.length;
          if (m != 256)
              for (var M = 0; M < A; M += 4)
                  w[M + 3] = w[M + 3] * m >>> 8;
          var U = new u(l.E.M);
          U.F = O.V5;
          U.data = {
              e: "fillBMP",
              l1: w,
              Ga: p.aaW,
              $_: this.name
          };
          z.f(U)
      }
      n.k.ju = null;
      n.k.rh = [];
      n.QV = !0;
      this.Zp = !1
  }
  ;
  O.rn.dC = function(n, z) {
      if (n.jm(z))
          return n;
      var C = z.x - n.x
        , D = z.y - n.y
        , F = Math.abs(C)
        , X = Math.abs(D);
      if (F > X)
          X = F / 2 > X ? 0 : F;
      if (X > F)
          F = X / 2 > F ? 0 : X;
      F = C > 0 ? F : -F;
      X = D > 0 ? X : -X;
      var E = Math.sqrt(C * C + D * D) / Math.sqrt(F * F + X * X);
      return new ir(n.x + F * E,n.y + X * E)
  }
  ;
  O.rn.qK = function(n, z, C, D, F, X, E) {
      if (E == null)
          E = l.w("canvas", "");
      var f = E.getContext("2d");
      E.width = z;
      E.height = C;
      var a = new cc(0,0,z,C)
        , q = j.T(z * C * 4);
      j.BJ(q, z, C, 4);
      var c = Math.sin(D)
        , K = Math.cos(D)
        , R = j.T(z * C * 4);
      j._.R4(n, R, a, [K * 1 / z, c * 1 / z, -c * 1 / C, K * 1 / C], z / 2, C / 2, !1, 0, F, X);
      j.$.xN("norm", R, a, q, a, a, 1);
      var J = f.getImageData(0, 0, z, C);
      j.YY(q, J.data);
      f.putImageData(J, 0, 0);
      return E.toDataURL()
  }
  ;
  O.rn.a60 = function(n, z, C) {
      var D = JSON.parse(JSON.stringify(n));
      for (var M = 0; M < D.Clrs.v.length; M++) {
          var F = D.Clrs.v[M].v
            , X = F.Type.v.Clry;
          if (X == "UsrS")
              continue;
          var E = X == "FrgC" ? z : C;
          F.Type.v.Clry = "UsrS";
          F.Clr = {
              t: "Objc",
              v: j._.w9({
                  h: E >> 16 & 255,
                  Q: E >> 8 & 255,
                  O: E & 255
              })
          }
      }
      return D
  }
  ;
  O.gR = function() {
      O.gW.call(this, [10, 7], O.z6, "tools/hand");
      this.gC = new ir(0,0);
      this.kf = null;
      this.b8 = 0
  }
  ;
  O.gR.prototype = new O.gW;
  O.gR.prototype.Nm = function(n, z, C, D, F) {
      var X = n.e;
      if (X == "setcls") {
          C.a.Hg = n.Hg;
          C.QV = !0;
          C.PL = !0
      }
      if (X == "scroll" && !D.r(dM.M2)) {
          if (D.r(dM.BO))
              O.gR.BV(C, C.a.A.x - n.jO.y, C.a.A.y - n.jO.x);
          else
              O.gR.BV(C, C.a.A.x - n.jO.x, C.a.A.y - n.jO.y)
      }
  }
  ;
  O.gR.prototype.enable = function(n, z, C, D) {
      this.kf = null;
      var F = new u(l.E.P,!0);
      F.data = {
          e: l.H.Gu,
          gc: "grab"
      };
      z.f(F);
      if (n && Date.now() - this.b8 < 300) {
          F.type = l.E.M;
          F.F = O.d1;
          F.data = {
              e: "adapt",
              G: "fitscr"
          };
          z.f(F)
      }
      this.b8 = Date.now()
  }
  ;
  O.gR.prototype.mY = function(n, z, C, D, F) {
      this.kf = n.a.A.clone();
      this.gC.oS(F.x, F.y)
  }
  ;
  O.gR.prototype.Xl = function(n, z, C, D, F) {
      if (!F.Vn)
          return;
      if (this.kf == null)
          this.mY(n, z, C, D, F);
      O.gR.BV(n, this.kf.x + (F.x - this.gC.x), this.kf.y + (F.y - this.gC.y))
  }
  ;
  O.gR.prototype.yg = function(n, z, C, D, F) {
      this.kf = null
  }
  ;
  O.gR.BV = function(n, z, C) {
      var D = n.a.X
        , F = n.a.Fe
        , X = F.d
        , E = F.v
        , f = n.d * D
        , a = n.v * D
        , q = f < X && a < E
        , c = X / 2 + f / 2 - 64
        , K = E / 2 + a / 2 - 64;
      n.a.A.oS(Math.max(-c, Math.min(c, z)), Math.max(-K, Math.min(K, C)));
      n.PL = !0
  }
  ;
  O.tH = function() {
      O.gW.call(this, [10, 47], O.af_, "tools/rview");
      this.gC = new ir(0,0);
      this.S1 = null;
      this.a7y = null;
      this.b8 = 0
  }
  ;
  O.tH.prototype = new O.gW;
  O.tH.prototype.enable = function(n, z, C, D) {
      this.kf = null;
      var F = new u(l.E.P,!0);
      F.data = {
          e: l.H.Gu,
          gc: "grab"
      };
      z.f(F);
      if (n && Date.now() - this.b8 < 300 && n.a.aV != 0) {
          n.a.aV = 0;
          n.QV = !0
      }
      this.b8 = Date.now();
      if (n)
          this.vf(n, z)
  }
  ;
  O.tH.prototype.disable = function(n, z, C, D, F) {
      if (n)
          this.vf(n, z)
  }
  ;
  O.tH.prototype.uG = function(n, z, C, D) {
      if (n)
          this.vf(n, z)
  }
  ;
  O.tH.prototype.mY = function(n, z, C, D, F) {
      this.gC.oS(F.x, F.y);
      var X = n.a;
      this.S1 = X.C$(X.Fe.d / 2, X.Fe.v / 2);
      this.a7y = X.fk()
  }
  ;
  O.tH.prototype.Xl = function(n, z, C, D, F) {
      if (!F.Vn)
          return;
      var X = n.a
        , E = this.S1
        , f = this.gC
        , a = new ir(X.Fe.d / 2,X.Fe.v / 2)
        , q = Math.atan2(F.y - a.y, F.x - a.x)
        , c = Math.atan2(f.y - a.y, f.x - a.x);
      this.Q7(n, z, this.a7y.clone(), E, q - c)
  }
  ;
  O.tH.prototype.lO = function(n, z, C, D) {
      this.Q7(C, z, null, null, n.tq - C.a.aV);
      C.a.aV = n.tq
  }
  ;
  O.tH.prototype.Q7 = function(n, z, C, D, F) {
      var X = n.a;
      if (C == null)
          C = X.fk();
      if (D == null)
          D = X.C$(X.Fe.d / 2, X.Fe.v / 2);
      C.translate(-D.x, -D.y);
      C.rotate(F);
      C.translate(D.x, D.y);
      X.N8(C);
      if (n.d * X.X < X.Fe.d && n.v * X.X < X.Fe.v)
          X.A.oS(0, 0);
      n.QV = !0;
      this.vf(n, z)
  }
  ;
  O.tH.prototype.vf = function(n, z) {
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.b5,
          F: this.id,
          tq: n.a.aV
      };
      z.f(C)
  }
  ;
  O.e_ = function() {
      O.bm.call(this, [10, 25], O.mh, "tools/hbrush")
  }
  ;
  O.e_.prototype = new O.bm("");
  O.e_.prototype.yg = function(n, z, C, D, F) {
      if (this.kS == null)
          return;
      this.VF(n, "heal", this.kS.MR(), this.kS.Td(), this.kS._$());
      this.J(n, this.kS._$());
      O.pC.prototype.yg.call(this, n, z, C, D, F);
      if (!this.AY.algnd)
          this.A = null
  }
  ;
  O.za = function() {
      O.gW.call(this, [10, 8], O.qp, "tools/htype");
      this.fm = [];
      this.JB = null;
      this.mf = null;
      this.caller = null;
      this.Jv = 1;
      this.eg = null;
      this.ab0 = 0;
      this.xh = 0;
      this.a4B = null;
      this.k3 = null;
      this.P_ = null;
      this.KR = null;
      this.Oi = null;
      this.fv = null;
      this.aky = null;
      this.Yg = null;
      this.d6 = null;
      this.rI = null;
      this.amL = null;
      this.kk = !1;
      this.Qw = !1;
      this.Y5 = !1;
      this.zF = null;
      this.Ml = null;
      this.amM = null;
      this.$z = !1;
      this.O5 = !1;
      this.WR = -1;
      this.iB = -1;
      this.P1 = document.createElement("textarea");
      this.P1.setAttribute("style", "font-family:Arial; font-size:14px; z-index:-1; " + " position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:" + (window.innerWidth - 10) + "px; height:150px;");
      this.P1.addEventListener("input", this.NA.bind(this), !1);
      this.P1.addEventListener("keydown", this.aoI.bind(this), !1)
  }
  ;
  O.za.prototype = new O.gW;
  O.za.prototype.PU = function(n) {
      return n.Vn
  }
  ;
  O.za.prototype.oD = function(n, z, C, D) {
      if (this.P_ != null)
          return;
      this.caller = z;
      this.JB = n;
      var F = this.Yo(n);
      if (F.length != 0) {
          var X = null
            , E = []
            , f = [];
          for (var M = 0; M < F.length; M++) {
              var a = n.W[F[M]]
                , q = a.add.TySh
                , c = 0
                , K = bZ.T5(q.uR).length - 2
                , R = bZ.jj(q.uR, c, K);
              bZ.KF(R, O.o.Jr(q.Z));
              if (R.I$.Font != null)
                  R.I$.Font = R.qR[R.I$.Font].Name;
              X = R.qR;
              E.push(R.I$);
              f.push(R.t_)
          }
          var R = {
              qR: X,
              I$: bZ.Lm(E),
              t_: bZ.Lm(f)
          };
          if (R.I$.Font != null)
              bZ.I9(R, R.I$.Font);
          this.Xh(z, R, q)
      }
  }
  ;
  O.za.prototype.Yo = function(n) {
      var z = [];
      for (var M = 0; M < n.C.length; M++)
          if (n.W[n.C[M]] && n.W[n.C[M]].add.TySh)
              z.push(n.C[M]);
      return z
  }
  ;
  O.za.prototype.Nm = function(n, z, C, D, F) {
      if (n.e == "insertText" && this.P_) {
          var X = this.P1
            , E = X.value
            , f = X.selectionStart
            , a = X.selectionEnd;
          X.value = E.slice(0, f) + n.G + E.slice(a);
          X.selectionStart = X.selectionEnd = f + n.G.length;
          this.NA(null);
          X.focus()
      }
      if (n.e == "updateStyles") {
          if (this.P_ == null) {
              var q = this.Yo(C)
                , c = !1;
              if (q.length != 0) {
                  this.MD(C, z, F, q);
                  for (var M = 0; M < q.length; M++) {
                      var K = C.W[q[M]]
                        , R = K.add.TySh;
                      bZ.FI(R, this.Jv);
                      this.P_ = K;
                      var J = bZ.T5(R.uR);
                      this.WR = 0;
                      this.iB = J.length - 1;
                      bZ.YI(R.uR, this.WR, this.iB, this.fw(F, R));
                      var w = this.rs(C, F);
                      if (w == !1)
                          c = !0
                  }
                  if (c) {
                      this.$z = !0;
                      return
                  }
                  this.zv(C, z)
              }
              return
          }
          this.uF(F)
      }
      if (n.e.startsWith("warp")) {
          var p = this.O5;
          if (n.e == "warp" || n.e == "warpCancel") {
              if (n.e == "warp")
                  this.P_.add.TySh.iK = n.Y0;
              else
                  this.P_.add.TySh.iK = this.aky;
              var C = this.JB;
              this.rs(C, F);
              if (!p)
                  this.T3(C)
          }
          if (n.e != "warp")
              this.P1.focus();
          if ((n.e == "warpConfirm" || n.e == "warpCancel") && p) {
              this.O5 = !1;
              if (n.e == "warpConfirm")
                  this.zv(C, z);
              else
                  this.I_(C, z)
          }
      }
      if (n.e == "editCurr") {
          if (F.ND != O.qp) {
              this.eg = F.ND;
              var I = new u(l.E.P,!0);
              I.data = {
                  e: l.H.j9,
                  F: O.qp
              };
              z.f(I)
          }
          if (this.P_ != null)
              this.disable(C, z, F, D);
          this.JB = C;
          this.mf = F;
          this.caller = z;
          this.MD(C, z, F, [n.cD]);
          var J = bZ.T5(this.P_.add.TySh.uR);
          this.WR = 0;
          this.iB = J.length - 1;
          this.T3(C);
          this.EC();
          this.P1.focus()
      }
      if (n.e == "switchPntPrgr") {
          if (this.P_)
              return;
          var K = C.W[C.C[0]]
            , R = K.add.TySh
            , m = R.Z.Jr()
            , A = JSON.parse(JSON.stringify(R.uR))
            , U = bZ.wT(A)
            , r = U == 1 ? bZ.w$(A) : [0, 0, Math.round(K.rect.d * 1.05 / m), Math.round(K.rect.v * 1.25 / m)]
            , $ = bZ.jj(A, 0, 0)
            , k = $.qR[$.I$.Font].Name
            , G = F.E_.V4(k)
            , i = [0, r[2], r[2] / 2][$.t_.Justification % 3]
            , o = G ? fL.k5(G, k, $.I$) : $.I$.FontSize * .8;
          bZ.qf(A, 1 - U);
          if (U == 0) {
              i = -i;
              o = -o;
              bZ.u6(A, [0, 0, r[2], r[3]])
          }
          var S = new b6(1,0,0,1,i,o);
          S.concat(R.Z);
          this.Nm({
              t4: C.C[0],
              e: "newED",
              XF: A,
              Z: S,
              af7: [16, 3, U == 1 ? 0 : 1]
          }, z, C, D, F)
      }
      if (n.e == "newED") {
          var K = C.W[n.t4]
            , R = K.add.TySh
            , H = this.eu(C, [n.t4]);
          R.uR = n.XF;
          if (n.Z)
              R.Z = n.Z;
          var e = new fL(R.uR,F.E_)
            , V = iW.PX(e, R);
          K.rect = V.R;
          K.buffer = V.oz;
          K.J();
          C.J();
          var v = new hi(n.af7 ? n.af7 : this.name,this);
          v.data = {
              b3: H,
              CL: this.eu(C, [n.t4])
          };
          C.OV(v)
      }
      if (n.e == "fromAction") {
          var B = n.n8.cw.Usng.v
            , Z = B.TxtC.v
            , d = [];
          for (var M = 0; M < 2; M++) {
              var g = Z[M == 0 ? "Hrzn" : "Vrtc"].v
                , Y = g.val;
              if (g.type == "#Prc")
                  Y = (M == 0 ? C.d : C.v) * (Y / 100);
              d[M] = Y
          }
          this.ZZ(C, z, F, D, C.a.Sg(d[0], d[1]));
          var K = C.W[C.C[0]]
            , R = K.add.TySh
            , y = R.uR
            , E = bZ.T5(y);
          bZ.Bg(y, 0, E.length - 1);
          bZ.rZ(y, 0, B.Txt.v.replace(/\r/g, "\n"));
          E = bZ.T5(y);
          for (var U = 0; U < 2; U++) {
              var L = B[U == 0 ? "Txtt" : "paragraphStyleRange"].v;
              for (var M = 0; M < L.length; M++) {
                  var _ = L[M].v
                    , f = _.From.v
                    , a = Math.min(_.T.v - 1, E.length - 1);
                  _ = _[U == 0 ? "TxtS" : "paragraphStyle"].v;
                  var b = bZ.jj(y, f, a)
                    , x = U == 0 ? b.I$ : b.t_;
                  for (var W in _) {
                      var g6 = _[W].v;
                      if (W == "Sz")
                          x.FontSize = Math.round(g6.val);
                      else if (W == "fontPostScriptName")
                          bZ.I9(b, g6);
                      else if (W == "Algn")
                          x.Justification = {
                              Left: 1,
                              Cntr: 2
                          }[g6.Alg];
                      else if (W == "leading")
                          x.Leading = _[W].v.val;
                      else if (W == "baselineShift")
                          x.BaselineShift = _[W].v.val;
                      else if (W == "autoLeading")
                          x.AutoLeading = _[W].v;
                      else if (W == "syntheticBold")
                          x.FauxBold = _[W].v;
                      else if (W == "syntheticItalic")
                          x.FauxItalic = _[W].v;
                      else if (W == "Trck")
                          x.Tracking = _[W].v;
                      else if (W == "verticalScale")
                          x.VerticalScale = _[W].v / 100;
                      else if (W == "horizontalScale")
                          x.HorizontalScale = _[W].v / 100;
                      else if (W == "Clr")
                          x.FillColor = {
                              Type: 1,
                              Values: [1, g6.Rd.v / 255, g6.Grn.v / 255, g6.Bl.v / 255]
                          }
                  }
                  bZ.YI(y, f, a, b)
              }
          }
          var e = new fL(R.uR,F.E_)
            , V = iW.PX(e, R);
          K.rect = V.R;
          K.buffer = V.oz;
          K.J();
          C.J();
          this.zv(C, z)
      }
  }
  ;
  O.za.prototype.uF = function(n) {
      var z = Math.min(this.WR, this.iB)
        , C = Math.max(this.WR, this.iB)
        , D = this.P_.add.TySh;
      bZ.FI(D, this.Jv);
      bZ.YI(D.uR, z, C - 1, this.fw(n, D));
      var F = this.JB
        , X = this.rs(F, n);
      if (X)
          this.T3(F);
      if (document.activeElement.tagName.toLowerCase() != "input")
          this.P1.focus()
  }
  ;
  O.za.prototype.Gs = function(n) {
      return this.fm.indexOf(n) != -1
  }
  ;
  O.za.prototype.enable = function(n, z, C, D) {
      var F = this.P1;
      if (!l.c6(F))
          z.j.appendChild(F);
      this.Yg = "default";
      this.Ci(z)
  }
  ;
  O.za.prototype.TU = function() {
      return this.P_ != null
  }
  ;
  O.za.tc = function(n, z) {
      for (var M = n.W.length - 1; M >= 0; M--) {
          var C = n.W[M];
          if (C.add.TySh && C.rect.P5(z) && n.xl(M)) {
              var D = C.Ks(2) || C.Ks(31);
              return D ? -2 : M
          }
      }
      return -1
  }
  ;
  O.za.prototype.mY = function(n, z, C, D, F) {
      this.JB = n;
      this.mf = C;
      this.caller = z;
      var X = n.a.C$(F.x, F.y)
        , E = this.P_ == null;
      if (E) {
          var f = O.za.tc(n, X);
          if (f == -2) {
              alert(aC.get([6, 57, 0]));
              return
          }
          if (f >= 0) {
              if (!iW.dP(n.W[f].add.TySh, C.E_)) {
                  alert("Fonts not loaded yet");
                  return
              }
              this.MD(n, z, C, [f])
          } else {
              this.Y5 = !0;
              this.zF = F;
              return
          }
      }
      var a = E ? -1 : bZ.wT(this.P_.add.TySh.uR)
        , q = this.rI ? this.rI : this.d6;
      if (q && q.mY(n, C, D, X) && j.Y0.Pb(this.P_.add.TySh.iK) || !E && j.K.mT(X, this.P_.rect) > 20 / n.a.X && (a == 0 || a == 1)) {
          this.kk = !0;
          this.Ml = X;
          this.amM = this.P_.add.TySh.Z.clone();
          if (this.WR == -1 && this.iB == -1)
              this.WR = this.iB = this.gT(X)
      } else {
          if (this.Oi == null) {
              alert("Fonts not loaded yet");
              return
          }
          this.Qw = !0;
          this.WR = this.iB = this.gT(X);
          var c = Date.now();
          if (c - this.ab0 > 300)
              this.xh = 0;
          this.xh++;
          this.ab0 = c;
          if (this.xh == 2)
              this.a6A();
          if (this.xh == 3)
              this.ae4();
          if (this.xh > 1) {
              this.Qw = !1
          }
      }
      this.EC();
      this.T3(n)
  }
  ;
  O.za.prototype.MD = function(n, z, C, D) {
      var F = n.W[D[0]];
      this.P_ = F;
      this.hn(z, l.E.P, {
          e: l.H.b5,
          F: this.id,
          Qk: "showactive"
      });
      this.KR = D;
      n.C = D.slice(0);
      n.Fp();
      n.dc = !0;
      this.fv = this.eu(n, D);
      this.D$(F.add.TySh);
      this.rs(n, C)
  }
  ;
  O.za.prototype.D$ = function(n) {
      if (bZ.wT(n.uR) != 1)
          return;
      var z = bZ.w$(n.uR);
      z = new cc(0,0,z[2] - z[0],z[3] - z[1]);
      var C = [z.x, z.y, z.x + z.d, z.y, z.x + z.d, z.y + z.v, z.x, z.y + z.v];
      j.K.Z(C, n.Z, C);
      this.d6 = new ip(C,!1,!1,!1,!0)
  }
  ;
  O.za.prototype.a6A = function() {
      var n = bZ.T5(this.P_.add.TySh.uR);
      this.WR = this.j6(n, this.WR);
      this.iB = this.Ax(n, this.WR)
  }
  ;
  O.za.prototype.j6 = function(n, z) {
      var C = " \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|"
        , D = [];
      for (var M = 0; M < C.length; M++)
          D.push(C.charAt(M));
      var F = D.indexOf(n[z]) == -1 ? !0 : !1;
      for (var M = z - 1; M >= 0; M--)
          if (D.indexOf(n.charAt(M)) != -1 == F)
              return M + 1;
      return 0
  }
  ;
  O.za.prototype.Ax = function(n, z) {
      var C = " \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|"
        , D = [];
      for (var M = 0; M < C.length; M++)
          D.push(C.charAt(M));
      var F = D.indexOf(n[z]) == -1 ? !0 : !1;
      for (var M = z + 1; M < n.length; M++)
          if (D.indexOf(n.charAt(M)) != -1 == F)
              return M;
      return n.length - 1
  }
  ;
  O.za.prototype.ae4 = function() {
      var n = this.Oi.apW(this.WR);
      this.WR = n[0];
      this.iB = n[1]
  }
  ;
  O.za.prototype.Ci = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.Gu,
          gc: this.Yg
      };
      n.f(z)
  }
  ;
  O.za.prototype.Xl = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y)
        , E = this.P_;
      if (!F.Vn) {
          var f = "default"
            , a = this.d6
            , q = this.rI ? this.rI : a;
          if (q && j.Y0.Pb(E.add.TySh.iK)) {
              var c = q.Li(X, n.a.X);
              if (c)
                  f = c;
              else if (q == a && a.q8(X))
                  f = "text"
          } else if (E && j.K.mT(X, E.rect) > 20 / n.a.X)
              f = "move";
          else if (O.za.tc(n, X) >= 0)
              f = "text";
          if (f != this.Yg) {
              this.Yg = f;
              this.Ci(z)
          }
      }
      var K = this.zF;
      if (this.Y5 && Math.min(F.x - K.x, F.y - K.y) > 4 / n.a.X) {
          this.Y5 = !1;
          this.ZZ(n, z, C, D, F);
          E = this.P_;
          this.kk = !0;
          this.d6 = new ip(null,!1,!1,!1,!0);
          var R = n.a.C$(this.zF.x, this.zF.y);
          R.x = Math.round(R.x);
          R.y = Math.round(R.y);
          this.d6.mY(n, C, D, R)
      }
      if (this.kk) {
          var J = E.add.TySh;
          if (this.rI) {
              this.rI.Xl(n, C, D, X);
              var w = j.V.BT(j.V.qw(this.rI.O7(), this.amL));
              J.Z = w;
              this.rs(n, C);
              bZ.O4(J)
          } else if (this.d6) {
              this.d6.Xl(n, C, D, X);
              var p = J.Z.clone()
                , I = Math.atan2(p.O, p.nb);
              p.rotate(I);
              var w = j.V.BT(j.V.qw(this.d6.O7()))
                , m = Math.atan2(w.O, w.nb);
              w.rotate(m);
              if (!isNaN(w.nb) && w.nb * w.qc - w.O * w.KV != 0) {
                  var A = new cc(0,0,w.nb / p.nb,w.qc / p.qc)
                    , U = Math.round(A.d)
                    , r = Math.round(A.v)
                    , $ = J.uR.Curve;
                  if ($) {
                      var k = bZ.w$(J.uR)
                        , G = new b6(U / k[2],0,0,r / k[3],0,0);
                      j.K.Z($.Points, G, $.Points);
                      bZ.O4(J)
                  }
                  bZ.u6(J.uR, [0, 0, U, r]);
                  J.Z = j.V.BT(j.V.qw(this.d6.O7(), A));
                  this.rs(n, C);
                  bZ.O4(J)
              }
          } else {
              var i = X.x - this.Ml.x
                , o = X.y - this.Ml.y;
              J.Z = this.amM.clone();
              var S = new ir(J.Z.H1 + i,J.Z.Wv + o);
              S = O.zh.kq(n, S, C);
              J.Z.H1 = S.x;
              J.Z.Wv = S.y;
              this.rs(n, C)
          }
      }
      if (this.Qw)
          this.iB = this.gT(X);
      if (this.kk || this.Qw)
          this.T3(n)
  }
  ;
  O.za.prototype.ZZ = function(n, z, C, D, F) {
      var X = n.LJ()
        , E = X[0]
        , f = X[1]
        , a = n.gl();
      a.add.lnsr = "rend";
      var q = n.W.slice(0);
      a.CZ("Text layer " + q.length);
      this.P_ = a;
      var c = n.C.length == 0 ? n.W.length - 1 : n.C[n.C.length - 1]
        , K = c + 1;
      if (q[c].add.lsct == g9.WQ)
          K--;
      this.fv = {
          x6: q.slice(0),
          vT: n.C.slice(0)
      };
      q.splice(K, 0, a);
      n.C = [K];
      this.WR = this.iB = 0;
      n.Xw(q);
      this.fv.lK = q.slice(0);
      this.fv.$l = n.C.slice(0);
      this.hn(z, l.E.P, {
          e: l.H.b5,
          F: this.id,
          Qk: "showactive"
      });
      var R = n.a.C$(F.x, F.y);
      a.add.TySh = bZ.uZ(R.x, R.y, C.E$);
      var J = a.add.TySh
        , w = J.uR;
      bZ.FI(J, this.Jv);
      if (F.Vn)
          bZ.qf(w, 1);
      else {
          bZ.qf(w, 0);
          var p = E[f.pop()]
            , I = p ? p.add.vmsk : null;
          if (I) {
              I = I.clone();
              var m = I.g, U, r;
              for (var M = 0; M < m.length; M++)
                  if (m[M].fT != null)
                      m[M].fT = 0;
              var A = 4 * l.D() / n.a.X;
              U = j.i.Lc(I.g, R, !0, A);
              if (U.kB == -1)
                  U = j.i.Lc(I.g, R);
              if (U.kB != -1) {
                  bZ.qf(w, 1);
                  var $ = j.i.GS(m, U.kB)
                    , k = j.i.qi(m, U.kB) - 1;
                  m = I.g = m.slice(0, 2).concat(m.slice($, $ + k + 1));
                  I.C = [];
                  J.add = {
                      vmsk: I,
                      vogk: Q.CD(m)
                  };
                  w.Curve = {};
                  bZ.FC(J);
                  if (U.yL != null) {
                      var G = fL.D1(w.Curve);
                      j.K.Z(G[0], J.Z, G[0]);
                      var i = j.K.ke(G[0], R.x, R.y)
                        , o = C.E$.t_.Justification;
                      if (o == 2 || o == 5) {
                          var S = (G[2][i] + G[3] * .5) % G[3];
                          i = fL.c4(S, G[2])
                      }
                      var H = G[1][i];
                      H = H % k;
                      I.JS = [H, H];
                      bZ.FC(J)
                  } else
                      this.D$(J)
              }
          }
      }
      return a
  }
  ;
  O.za.prototype.yg = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y)
        , E = this.Y5;
      if (this.Y5) {
          this.Y5 = !1;
          this.ZZ(n, z, C, D, F);
          this.Qw = !0
      }
      if (this.kk || this.Qw) {
          this.T3(n);
          this.EC();
          if (E)
              this.uF(C)
      }
      if (this.kk && this.d6)
          this.d6.yg(n, C, D, X);
      this.kk = this.Qw = !1;
      this.u5(n, C, D);
      this.P1.focus()
  }
  ;
  O.za.prototype.EC = function() {
      var n = this.P_.add.TySh, z = Math.min(this.WR, this.iB), C = Math.max(this.WR, this.iB), D, F;
      if (z == C) {
          var X = bZ.T5(n.uR);
          if (z == 0 || X.charAt(z - 1) == "\n")
              D = F = z;
          else
              D = F = z - 1
      } else {
          D = z;
          F = C - 1
      }
      var E = bZ.jj(n.uR, D, F);
      bZ.KF(E, O.o.Jr(n.Z));
      this.Xh(this.caller, E, n)
  }
  ;
  O.za.prototype.Xh = function(n, z, C) {
      this.hn(n, l.E.P, {
          e: l.H.W9,
          G6: c1.DJ,
          E$: z
      });
      var D = this.Jv = bZ.UM(C);
      this.hn(this.caller, l.E.P, {
          e: l.H.b5,
          F: this.id,
          Qk: "changeAA",
          Z7: D
      })
  }
  ;
  O.za.prototype.iV = function(n, z, C, D) {
      if (D.r(dM.dM))
          this.I_(n, z);
      var F = this.P_;
      if (F)
          if (this.rI == null && D.r(dM.BO)) {
              var X = F.add.TySh, E = bZ.wT(X.uR), f;
              if (E == 1) {
                  f = bZ.w$(X.uR);
                  f = new cc(0,0,f[2] - f[0],f[3] - f[1])
              } else
                  f = this.Oi.cs();
              var a = [f.x, f.y, f.x + f.d, f.y, f.x + f.d, f.y + f.v, f.x, f.y + f.v];
              j.K.Z(a, X.Z, a);
              this.rI = new ip(a,!0,!0,!1,!1);
              this.amL = f;
              this.T3(this.JB)
          } else
              this.u5(n, C, D)
  }
  ;
  O.za.prototype.u5 = function(n, z, C) {
      var D = this.P_;
      if (D && !this.kk && this.rI != null && !C.r(dM.BO)) {
          this.rI.yg(n, z, C, null);
          this.rI = null;
          this.D$(D.add.TySh);
          this.T3(this.JB)
      }
  }
  ;
  O.za.prototype.disable = function(n, z, C, D) {
      var F = this.P_;
      this.zv(n, z)
  }
  ;
  O.za.prototype.lO = function(n, z, C, D, F) {
      if (this.O5)
          return;
      if (n.Qk == "commit")
          this.zv(C, z);
      if (n.Qk == "cancel")
          this.I_(C, z);
      if (n.Qk == "changeAA") {
          this.Jv = n.Z7;
          if (C != null)
              this.Nm({
                  e: "updateStyles"
              }, z, C, D, F)
      }
      if (n.Qk == "showwarp") {
          if (C == null)
              return;
          if (this.P_ == null) {
              var X = C.W[C.C[0]]
                , E = X.add.TySh;
              if (E == null)
                  return;
              this.MD(C, z, F, [C.C[0]]);
              this.P1.focus();
              this.O5 = !0
          }
          this.aky = this.P_.add.TySh.iK;
          var f = new u(l.E.P,!0);
          f.data = {
              e: l.H.xb,
              gA: "textwarp"
          };
          z.f(f)
      }
  }
  ;
  O.za.prototype.vi = function(n, z) {
      if (z != c1.Lg)
          return;
      if (this.$z) {
          this.$z = !1;
          var C = this.JB
            , D = this.KR;
          for (var M = 0; M < D.length; M++) {
              this.P_ = C.W[D[M]];
              this.rs(C, n)
          }
          this.zv(C, this.caller);
          return
      }
      if (this.P_)
          this.uF(n)
  }
  ;
  O.za.prototype.fw = function(n, z) {
      var C = JSON.parse(JSON.stringify(n.E$));
      bZ.KF(C, 1 / O.o.Jr(z.Z));
      return C
  }
  ;
  O.za.prototype.qO = function(n, z) {
      if (n.b3 != null)
          this.Jk(z, n.CL);
      else
          this.ex(z, n.lK, n.$l)
  }
  ;
  O.za.prototype.LL = function(n, z) {
      if (n.b3 != null)
          this.Jk(z, n.b3);
      else
          this.ex(z, n.x6, n.vT)
  }
  ;
  O.za.prototype.Jk = function(n, z) {
      for (var M = 0; M < z.length; M++) {
          var C = z[M]
            , D = C.t4
            , F = n.W[D];
          F.buffer = C.Q5;
          F.rect = C.R.clone();
          F.J();
          var X = F.add.TySh;
          X.iK = C.Y0;
          X.jk = C.jk.clone();
          X.Z = C.Z.clone();
          X.uR = JSON.parse(JSON.stringify(C.uR));
          F.UA()
      }
      n.J()
  }
  ;
  O.za.prototype.eu = function(n, z) {
      var C = [];
      for (var M = 0; M < z.length; M++) {
          var D = z[M]
            , F = n.W[D]
            , X = F.add.TySh;
          C.push({
              t4: D,
              Z: X.Z.clone(),
              Y0: JSON.parse(JSON.stringify(X.iK)),
              jk: X.jk.clone(),
              uR: JSON.parse(JSON.stringify(X.uR)),
              Q5: F.buffer.slice(0),
              R: F.rect.clone()
          })
      }
      return C
  }
  ;
  O.za.prototype.ex = function(n, z, C) {
      n.C = C;
      n.Xw(z);
      n.J();
      n.uv = !0
  }
  ;
  O.za.prototype.rs = function(n, z, C) {
      if (C == null)
          C = !1;
      var D = this.P_.add.TySh;
      if (!iW.dP(D, z.E_))
          return !1;
      this.Oi = new fL(D.uR,z.E_);
      if (!C) {
          var F = bZ.T5(D.uR);
          this.P1.value = F.slice(0, F.length - 1)
      }
      var X = iW.PX(this.Oi, D);
      if (j.Y0.Pb(D.iK))
          D.jk = new cc;
      else {
          if (bZ.wT(D.uR) == 1) {
              var E = bZ.w$(D.uR)
                , h = X.jk.y;
              D.jk = new cc(0,h,E[2] - E[0],E[3] - E[1] - h)
          } else {
              D.jk = X.jk
          }
      }
      var f = this.P_.rect;
      this.P_.rect = X.R;
      this.P_.buffer = X.oz;
      this.P_.J();
      n.j7();
      n.J(n.root.qq(X.R.QH(f), n, n.W.indexOf(this.P_)));
      return !0
  }
  ;
  O.za.prototype.NA = function(n) {
      if (this.P_ == null || this.O5)
          return;
      var z = this.P1.selectionStart
        , C = this.P_.add.TySh
        , D = bZ.T5(C.uR)
        , F = this.P1.value + "\n"
        , X = Math.min(this.WR, this.iB)
        , E = Math.max(this.WR, this.iB)
        , K = !1;
      this.WR = Math.min(z, X);
      if (F.length - z < D.length - this.iB)
          this.iB = D.length - F.length + z;
      if (D != F) {
          while (this.WR > 0 && D.charAt(this.WR - 1) != F.charAt(this.WR - 1))
              this.WR--
      }
      var f = D.substring(0, this.WR)
        , a = D.substring(this.iB, D.length)
        , q = F.substring(this.WR, F.length - a.length);
      bZ.Bg(C.uR, this.WR, this.iB);
      bZ.rZ(C.uR, this.WR, q);
      var c = this.fw(this.mf, C)
        , R = -1
        , J = Array.from(q);
      for (var M = 0; M < J.length; M++)
          R = Math.max(R, J[M].codePointAt(0));
      if (R != -1 && R > 128 && c.I$.Font != null) {
          var w = c.qR[c.I$.Font].Name
            , p = this.mf.E_.Y8(R, w, c.qR);
          if (w != p) {
              bZ.I9(c, p);
              K = !0
          }
      }
      if (this.k3 != null && q == this.k3) {
          var I = JSON.parse(this.a4B);
          c.I$ = I.I$;
          c.qR = I.qR;
          K = !0
      }
      bZ.YI(C.uR, this.WR, this.WR + q.length - 1, c);
      this.WR = this.iB = f.length + q.length;
      var m = this.JB
        , A = this.rs(m, this.mf, !0);
      if (A)
          this.T3(m, !0);
      if (K)
          this.EC()
  }
  ;
  O.za.prototype.aoI = function(n) {
      if (this.P_ == null || this.O5)
          return;
      if (this.P_ == null)
          return;
      var z = dM
        , C = 0
        , D = 0
        , m = !1;
      if (z.vA(n.code, z.UZ))
          C = 1;
      if (z.vA(n.code, z.Mv))
          C = -1;
      if (z.vA(n.code, z.G4))
          D = -1;
      if (z.vA(n.code, z.L4))
          D = 1;
      var F = n.ctrlKey || n.metaKey
        , X = z.vA(n.code, dM.aa1)
        , E = z.vA(n.code, dM.an5);
      if (z.vA(n.code, dM.BK) && F) {
          this.zv(this.JB, this.caller);
          return
      }
      if (z.vA(n.code, dM.q5)) {
          n.preventDefault();
          var f = this.P1
            , a = f.value
            , q = f.selectionStart
            , c = f.selectionEnd;
          f.value = a.substring(0, q) + "\t" + a.substring(c);
          f.selectionStart = f.selectionEnd = q + 1;
          this.NA(null);
          return
      }
      if ((z.vA(n.code, z.ph) || z.vA(n.code, z.ft)) && F) {
          var K = this.WR
            , R = this.iB;
          if (K > R) {
              var J = K;
              K = R;
              R = J
          }
          var w = this.P_.add.TySh
            , p = bZ.T5(w.uR);
          if (K != R) {
              this.k3 = p.slice(K, R);
              this.a4B = JSON.stringify(this.mf.E$)
          }
      }
      var I = bZ.T5(this.P_.add.TySh.uR);
      if (C != 0 || D != 0 || X || E) {
          n.preventDefault();
          var A = this.WR;
          if (C != 0) {
              if (F && C == -1)
                  A = this.j6(I, this.WR - 1);
              else if (F && C == 1)
                  A = this.Ax(I, this.WR);
              else {
                  var f = this.P1
                    , a = f.value;
                  A = this.WR + C;
                  if (A != 0 && a.codePointAt(A - 1) > 65535)
                      A += C
              }
          } else if (D != 0) {
              var U = this.Oi.wH(this.WR);
              if (D == -1 && U.SX == 0)
                  A = 0;
              else if (D == 1 && U.SX == this.Oi.amt() - 1)
                  A = 99999999999;
              else
                  A = this.Oi.qU(new ir(U.R.x + U.R.d / 2,0), U.SX + D)
          } else if (X) {
              var r = this.WR - 1;
              while (r > 0 && I.charCodeAt(r) != 10)
                  r--;
              A = r == 0 ? 0 : r + 1
          } else if (E) {
              var r = this.WR;
              while (r < I.length - 1 && I.charCodeAt(r) != 10)
                  r++;
              A = r
          }
          A = Math.max(0, Math.min(I.length - 1, A));
          if (n.shiftKey)
              this.WR = A;
          else
              this.WR = this.iB = A;
          m = !0
      }
      if (z.vA(n.code, dM.H) && F) {
          this.WR = 0;
          this.iB = I.length - 1;
          m = !0
      }
      if (m) {
          this.EC();
          this.T3(this.JB)
      }
  }
  ;
  O.za.ac9 = function(n, z) {
      var C = n.length;
      if (C != z.length)
          return !1;
      for (var M = 0; M < C; M++)
          if (n[M].t4 != z[M].t4)
              return !1;
      return !0
  }
  ;
  O.za.prototype.zv = function(n, z) {
      if (this.P_ == null)
          return;
      this.P_.UA();
      var C = this.fv;
      if (C instanceof Array) {
          var D = this.eu(n, this.KR)
            , F = n.$B();
          if (F != null && F.F == this && F.data.b3 && O.za.ac9(F.data.b3, C))
              F.data.CL = D;
          else {
              var X = new hi(this.name,this);
              X.data = {
                  b3: C,
                  CL: D
              };
              n.OV(X)
          }
      } else {
          var X = new hi(this.name,this);
          X.data = {
              x6: C.x6,
              lK: C.lK,
              vT: C.vT,
              $l: C.$l
          };
          n.OV(X)
      }
      this.escape(n, z)
  }
  ;
  O.za.prototype.I_ = function(n, z) {
      if (this.P_ == null)
          return;
      if (this.fv instanceof Array) {
          this.Jk(n, this.fv);
          if (this.P_)
              bZ.O4(this.P_.add.TySh)
      } else {
          n.C = this.fv.vT;
          n.Xw(this.fv.x6)
      }
      n.J();
      this.escape(n, z)
  }
  ;
  O.za.prototype.escape = function(n, z) {
      this.P_ = null;
      this.KR = null;
      this.Oi = null;
      this.d6 = null;
      this.P1.blur();
      n.k.ju = null;
      n.k.EH = null;
      n.k.rh = [];
      n.QV = !0;
      this.kk = !1;
      this.Qw = !1;
      this.WR = this.iB = -1;
      this.hn(z, l.E.P, {
          e: l.H.b5,
          F: this.id,
          Qk: "hideactive"
      });
      if (this.eg) {
          var C = new u(l.E.P,!0);
          C.data = {
              e: l.H.j9,
              F: this.eg
          };
          z.f(C);
          this.eg = null
      }
  }
  ;
  O.za.prototype.hn = function(n, z, C, D) {
      var F = new u(z,!0);
      F.data = C;
      if (D)
          F.F = D;
      n.f(F)
  }
  ;
  O.za.prototype.gT = function(n) {
      var z = this.P_.add.TySh
        , C = this.Oi
        , D = z.Z.clone();
      D.eL();
      var F = D.JT(n)
        , X = bZ.Td(z, C)
        , E = j.Y0.ea(z.iK, X)
        , f = j._N.aiK(E, F);
      if (f == null)
          f = new Float64Array(2);
      F = new ir(X.x + f[0] * X.d,X.y + f[1] * X.v);
      var a = C.qU(F);
      return a
  }
  ;
  O.za.prototype.T3 = function(n, z) {
      if (z == null)
          z = !1;
      var C = this.P_.add.TySh
        , D = bZ.wT(C.uR)
        , F = this.Oi
        , X = F ? bZ.Td(C, F) : null;
      n.k.rh = [];
      n.k.ju = null;
      n.k.EH = null;
      var E = this.rI ? this.rI : this.d6;
      if (E) {
          E.Ww(n, this.mf, !j.Y0.Pb(C.iK));
          var f = C.Z.clone();
          f.eL();
          j.K.Z(n.k.rh, f, n.k.rh);
          j.K.Z(n.k.ju.U, f, n.k.ju.U);
          if (F && F.ajR()) {
              var a = X.d - 20
                , q = X.v + 8;
              n.k.ju.U.push(a, q, a + 10, q, a + 5, q - 5, a + 5, q + 5);
              n.k.ju.I.push("M", "L", "M", "L")
          }
      } else if (D == 0)
          this.aab(n, C, F);
      else
          n.k.ju = {
              U: [],
              I: []
          };
      var c = Math.min(this.WR, this.iB)
        , K = Math.max(this.WR, this.iB);
      if (!z) {
          this.P1.selectionStart = c;
          this.P1.selectionEnd = K
      }
      if (F != null) {
          var R = function(E, U) {
              var r = E.x
                , $ = E.y + E.v
                , k = new b6;
              k.translate(-r, -$);
              k.rotate(-U);
              k.translate(r, $);
              E.y += E.v * .27;
              var A = j.K.YQ(E);
              j.K.Z(A.U, k, A.U);
              return A
          };
          if (c == K) {
              c = Math.max(c, 0);
              var J = F.wH(c);
              if (J) {
                  var w = J.R
                    , p = this.mf.E$.I$.FontSize;
                  if (p != null && p != 0) {
                      p /= C.Z.Jr();
                      w.y += w.v - p;
                      w.v = p
                  }
                  var I = F.acP(c);
                  if (I != null && I.qt == 1)
                      w.x += w.d;
                  var m = R(w, J.aV).U;
                  n.k.ju.I.push("M", "L");
                  n.k.ju.U.push(m[0], m[1], m[6], m[7])
              }
          } else {
              n.k.EH = {
                  U: [],
                  I: []
              };
              for (var M = c; M < K; M++) {
                  var J = F.wH(M)
                    , A = R(J.R, J.aV);
                  j.K.concat(n.k.EH, A)
              }
          }
      }
      n.k.ju = iW.se(n.k.ju, C, F);
      n.k.EH = iW.se(n.k.EH, C, F);
      n.k.rh = iW.se({
          U: n.k.rh
      }, C, F).U;
      n.QV = !0
  }
  ;
  O.za.prototype.aab = function(n, z, C) {
      if (C == null)
          return;
      n.k.rh.push(0, 0);
      if (n.k.ju == null)
          n.k.ju = {
              I: [],
              U: []
          };
      for (var M = 0; M < C.t_.length; M++) {
          var D = C.t_[M];
          for (var F = 0; F < D.Lt.length; F++) {
              var X = D.Lt[F]
                , E = D.nH.x + X.nH.x + X.R.x
                , f = D.nH.y + X.nH.y + X.R.y + X.R.v;
              n.k.ju.I.push("M", "L");
              n.k.ju.U.push(E, f, E + X.R.d, f)
          }
      }
      n.QV = !0
  }
  ;
  O.xL = function() {
      O.lJ.call(this, [10, 9], O.LU, "tools/lasso");
      this.D5 = "crosshair";
      this.Ef = null;
      this.Nl = null;
      this.Ml = null
  }
  ;
  O.xL.prototype = new O.lJ;
  O.xL.prototype.Kz = function(n, z, C, D) {
      this.Ef = this.vQ;
      this.Nl = {
          U: [this.Ef.x, this.Ef.y],
          I: ["M"]
      }
  }
  ;
  O.xL.prototype.kp = function(n, z, C, D) {
      this.Ml = D;
      var F = this.Nl;
      if (F == null)
          return;
      if (!D.Vn) {
          if (this.Nl != null && this.OT > 1 && C.r(dM.M2)) {
              F.U.pop();
              F.U.pop();
              F.U.push(this.SA.x, this.SA.y);
              n.k.ju = F;
              n.QV = !0
          }
          return
      }
      F.I.push("L");
      F.U.push(this.SA.x, this.SA.y);
      this.Ef = this.SA;
      if (this.w7) {
          n.k.ju = F;
          n.QV = !0
      }
  }
  ;
  O.xL.prototype.TU = function() {
      return this.Nl != null
  }
  ;
  O.xL.prototype.Ek = function() {
      return this.Nl != null
  }
  ;
  O.xL.prototype.iV = function(n, z, C, D) {
      O.lJ.prototype.iV.call(this, n, z, C, D);
      if (this.Nl && this.OT > 1 && this.Ml && !this.Ml.Vn && !D.r(dM.M2))
          this.S8(n, C, D)
  }
  ;
  O.xL.prototype.xP = function(n, z, C, D) {
      this.Ml = D;
      var F = this.Nl;
      if (F == null)
          return;
      if (this.OT > 1 && C.r(dM.M2)) {
          F.I.push("L");
          F.U.push(this.SA.x, this.SA.y);
          return
      }
      this.S8(n, z, C)
  }
  ;
  O.xL.prototype.S8 = function(n, z, C) {
      this.finish(n, z, C, this.Ml);
      this.Nl = null;
      n.k.ju = null;
      n.QV = !0
  }
  ;
  O.xL.prototype.getSelection = function(n, z, C, D) {
      if (this.vQ.jm(this.SA) || !this.w7)
          return null;
      return O.lJ.sd(this.Nl.U, null, this.VP.anta)
  }
  ;
  O.zh = function() {
      O.gW.call(this, [10, 11], O.GR, "tools/move");
      this.g5 = new ir(0,0);
      this.vt = new ir(0,0);
      this.cb = null;
      this.q0 = null;
      this.wB = new ir(0,0);
      this.Sq = null;
      this.VJ = null;
      this.FS = null;
      this.b8 = 0;
      this.md = null;
      this.XU = [];
      this.M9 = null;
      this.Zp = !1;
      this.e = 0;
      this.XN = null;
      this.Mz = null;
      this.wr = null;
      this.Cs = !1;
      this.AY = {
          J7: !1,
          Pj: !1,
          S7: !1
      };
      this.afC = !1;
      this.a2q = !1;
      this.d6 = null;
      this.v1 = null;
      this.a06 = null;
      var n = [];
      for (var M = 0; M < j.ST.lG.length; M++)
          n.push({
              name: j.ST.lG[M],
              c: function(z, C, D) {
                  return {
                      ne: C.mw.Ya == D
                  }
              }
          });
      this.bB = new gX(n);
      this.bB.s("select", this.tZ, this)
  }
  ;
  O.zh.prototype = new O.gW;
  O.gW.prototype.PU = function(n) {
      return this.Zp && this.e != 2
  }
  ;
  O.zh.prototype.Es = function() {
      return this.Zp && this.e == 0
  }
  ;
  O.zh.prototype.uG = function(n, z, C, D) {
      this._W(n, -this.wB.x, -this.wB.y);
      this.wB.oS(0, 0);
      this.ou(n, null, C);
      this.mE(n)
  }
  ;
  O.zh.prototype.Ay = function() {
      var n = this.AY;
      return [n.J7 ? 1 : 0, n.Pj ? 1 : 0, n.S7 ? 1 : 0]
  }
  ;
  O.zh.prototype.qG = function(n, z, C) {
      var D = this.AY;
      if (n && n[0] != null)
          D.J7 = n[0] == 1;
      if (n && n[1] != null)
          D.Pj = n[1] == 1;
      if (n && n[2] != null)
          D.S7 = n[2] == 1;
      var F = new u(l.E.P,!0);
      F.data = {
          e: l.H.b5,
          F: this.id,
          VP: D,
          ae0: z
      };
      C.f(F)
  }
  ;
  O.zh.sJ = function(n, z, C, D, F, X, E) {
      if (E == null)
          E = [!1, !0];
      var f = new cc(0,0,n.d,n.v)
        , a = n.pX(null, F, !0)
        , q = n.nv(a, E[0] ? f : null, E[1] ? null : f)[0];
      for (var M = 0; M < q.W.length; M++)
          delete q.W[M].add.artb;
      delete q.add.artd;
      if (E[1]) {
          var c = j.xk(q.Wc(), new cc(0,0,q.d,q.v), 2);
          O.Xf.r1(q, c)
      }
      if (C != 1) {
          var K = new cc(0,0,Math.round(q.d * C),Math.round(q.v * C));
          O.Xf.r1(q, K);
          var R = [];
          for (var M = 0; M < q.W.length; M++)
              R.push(M);
          var J = O.o.LI(q, R, !0);
          O.Xf.gz(q, new b6(C,0,0,C,0,0));
          O.o.qH(q, D, R, J, 1, j.V.aC(new b6(C,0,0,C,0,0)), null, !0);
          q.h1()
      }
      var w = [];
      for (var M = 0; M < z.length; M++)
          if (q.d * q.v != 0)
              w.push(fC.sn(q, z[M].toUpperCase(), null, null, X ? X[M] : null, D));
      return w
  }
  ;
  O.zh.prototype.Qn = function(n, z, C, D, F) {
      if (n == null || n.C.length == 0)
          return;
      var X = O.zh.sJ(n, [z], C, D, null)[0]
        , E = new u(l.E.P,!0);
      E.data = {
          e: l.H.rg,
          data: X,
          name: n.W[n.C[0]].getName() + (C == 1 ? "" : "@" + C + "x") + "." + z
      };
      F.f(E)
  }
  ;
  O.zh.prototype.lO = function(n, z, C, D, F) {
      if (n._5 == "getPNG") {
          this.Qn(C, "png", n.BS, F, z)
      } else if (n._5 == "getSVG") {
          this.Qn(C, "svg", n.BS, F, z)
      }
      if (n._5 == "prms") {
          this.AY = n;
          this.mE(C)
      }
  }
  ;
  O.zh.a4n = function(n) {
      var h = n.length
        , C = 0;
      n.sort(function(X, E) {
          return X[0] + X[1] / 2 - (E[0] + E[1] / 2)
      });
      var z = n[h - 1][0] + n[h - 1][1] - n[0][0];
      for (var M = 0; M < h; M++)
          C += n[M][1];
      var D = Math.round((z - C) / (h - 1))
        , F = n[0][0];
      for (var M = 0; M < h; M++) {
          n[M][0] = F;
          F += n[M][1] + D
      }
  }
  ;
  O.zh.prototype.Nm = function(n, z, C, D, F) {
      var X = n.e;
      if (X == "trsl") {
          var E = Math.round(n.aiU)
            , f = Math.round(n.adP);
          this.wB.oS(E, f);
          this.Gn(C, z, D, F, !1, n.b);
          this._W(C, E, f);
          this.ou(C, null, F)
      } else if (X == "gids" || X == "gidsFromLayer") {
          var a = n.Mz, q, c;
          if (a == null)
              a = C.gS();
          if (X == "gids") {
              q = n.By;
              var K = a[0].length
                , R = q[0].length;
              c = K == R ? [23, 2] : K > R ? [23, 3] : [23, 4];
              if (R == 0)
                  c = [11, 15, 0]
          } else if (X == "gidsFromLayer") {
              var J = []
                , w = []
                , p = C.m$();
              for (var M = 0; M < C.C.length; M++) {
                  var I = C.W[C.C[M]].rect;
                  if (I.kX())
                      continue;
                  J.push([0, I.x], [1, I.y], [0, I.x + I.d], [1, I.y + I.v]);
                  w.push(p, p, p, p)
              }
              c = [11, 15, 1];
              q = C.gS();
              O.zh.fU(q, [J, w])
          }
          if (JSON.stringify(a) == JSON.stringify(q))
              return;
          var X = new hi(c,this);
          X.data = {
              e: 2,
              Mz: a,
              By: q
          };
          C.OV(X);
          this.qO(X.data, C)
      } else if (X == "algn") {
          var m = n.G;
          if (C == null)
              return;
          if (C.C.length < 2 && !(C.N != null && m != 3 && m != 7)) {
              alert(aC.get([15, 7, 5]));
              return
          }
          var A = C.N;
          C.N = null;
          var I = A ? A.rect : O.o.Td(C);
          this.Gn(C, z, D, F, !1);
          if (!this.Zp)
              return;
          var U = this.md
            , r = {}
            , $ = []
            , k = []
            , G = [];
          for (var M = 0; M < U.length; M++) {
              var i = U[M];
              while (C.W[i].getName() == "</Layer group>")
                  i++;
              var o = C.root.H0(i)
                , S = o;
              while (o.parent != null) {
                  o = o.parent;
                  if (U.indexOf(o.index) != -1)
                      S = o
              }
              var H = k.indexOf(S.index);
              if (H == -1) {
                  H = k.length;
                  k.push(S.index)
              }
              $[M] = H
          }
          var e = []
            , V = []
            , v = [];
          for (var M = 0; M < k.length; M++) {
              var B = O.o.Td(C, C.pX(!0, k[M]));
              v.push(B);
              var Z = m == 3 ? [B.y, B.v] : [B.x, B.d];
              e[M] = Z;
              V.push(Z)
          }
          O.zh.a4n(V);
          for (var M = 0; M < k.length; M++) {
              var B = v[M]
                , d = B.x
                , g = B.y;
              if (m == 0)
                  d = I.x;
              if (m == 1)
                  d = I.x + (I.d - B.d) / 2;
              if (m == 2)
                  d = I.x + (I.d - B.d);
              if (m == 3)
                  g = e[M][0];
              if (m == 4)
                  g = I.y;
              if (m == 5)
                  g = I.y + (I.v - B.v) / 2;
              if (m == 6)
                  g = I.y + (I.v - B.v);
              if (m == 7)
                  d = e[M][0];
              G.push(Math.round(d - B.x), Math.round(g - B.y))
          }
          var Y = [];
          for (var M = 0; M < U.length; M++) {
              var y = $[M];
              Y[2 * M] = G[2 * y];
              Y[2 * M + 1] = G[2 * y + 1]
          }
          this._W(C, 0, 0, null, Y);
          var L = m == 3 || m == 7 ? [20, 4, 6] : [20, 4, m < 3 ? m : m - 1];
          this.ou(C, null, F, Y, L);
          C.N = A
      } else if (X == "disabAuto") {
          this.qG([!1], null, z)
      }
  }
  ;
  O.zh.fU = function(n, z) {
      for (var M = 0; M < z[0].length; M++) {
          var C = z[0][M]
            , D = z[1][M]
            , F = !1;
          for (var X = 0; X < n[0].length; X++) {
              var E = n[0][X]
                , f = n[1][X];
              if (C[0] == E[0] && C[1] == E[1] && D == f)
                  F = !0
          }
          if (!F) {
              n[0].push(C.slice(0));
              n[1].push(D)
          }
      }
  }
  ;
  O.zh.prototype.enable = function(n, z, C, D, F) {
      this.VJ = C;
      this.FS = z;
      this.Cs = F ? !0 : !1;
      this.mE(n);
      this.Ci("default", z)
  }
  ;
  O.zh.prototype.disable = function(n, z, C, D) {
      this.$L(n)
  }
  ;
  O.zh.prototype.$L = function(n) {
      if (n == null)
          return;
      if (this.d6) {
          this.d6.clear(n);
          this.d6 = null
      }
      if (n.k.S7) {
          n.k.S7 = null;
          n.QV = !0
      }
      if (n.k.qv) {
          n.k.qv = null;
          n.QV = !0
      }
      if (n.k.fR[this.id]) {
          delete n.k.fR[this.id];
          n.QV = !0
      }
      if (n.k.om.length != 0) {
          n.k.om = [];
          n.QV = !0
      }
  }
  ;
  O.zh.prototype.oD = function(n, z, C, D) {
      if (C.ND != this.id)
          return;
      this.mE(n)
  }
  ;
  O.zh.prototype.mE = function(n, z) {
      if (n == null)
          return;
      var C = this.AY;
      this.$L(n);
      if (!this.Cs) {
          var D;
          if (C.Pj || C.S7)
              D = j.K.HM(O.o.Td(n));
          if (C.Pj && !D.kX()) {
              this.d6 = new ip([D.x, D.y, D.x + D.d, D.y, D.x + D.d, D.y + D.v, D.x, D.y + D.v],!0);
              this.d6.Ww(n, this.VJ)
          }
          if (C.S7) {
              var F = null
                , c = null
                , K = !1;
              if (n.m$() != -1)
                  F = n.W[n.m$()].qJ();
              else
                  F = new cc(0,0,n.d,n.v);
              n.k.S7 = {
                  If: [D],
                  ci: []
              };
              var X = n.k.S7.ci
                , E = D.x + D.d
                , f = D.y + D.v
                , a = D.x + Math.floor(D.d / 2)
                , q = D.y + Math.floor(D.v / 2);
              if (z) {
                  var R = n.root.Lc(new ir(Math.floor(z.x),Math.floor(z.y)));
                  if (R) {
                      c = j.K.HM(R.b.xA(n));
                      if (c.vE(D)) {
                          K = (c._6(D) || D._6(c)) && !D.jm(c);
                          if (!K)
                              c = null
                      }
                  }
              }
              this.O8(D, X);
              if (c != null) {
                  n.k.S7.If.push(c);
                  var J = c.x + c.d
                    , w = c.y + c.v
                    , p = c.x + Math.floor(c.d / 2)
                    , I = c.y + Math.floor(c.v / 2);
                  if (K) {
                      var m = a
                        , A = q;
                      if (D._6(c)) {
                          m = p;
                          A = I
                      }
                      X.push(D.x, A, c.x, A);
                      X.push(E, A, J, A);
                      X.push(m, D.y, m, c.y);
                      X.push(m, f, m, w)
                  } else {
                      this.O8(c, X);
                      var U = f < c.y || w < D.y
                        , r = E < c.x || J < D.x;
                      if (E < c.x)
                          X.push(E, q, c.x, q);
                      if (J < D.x)
                          X.push(J, q, D.x, q);
                      if (f < c.y)
                          X.push(a, f, a, c.y);
                      if (w < D.y)
                          X.push(a, w, a, D.y);
                      if (U && !r) {
                          if (D.x < c.x)
                              X.push(D.x, I, c.x, I);
                          if (c.x < D.x)
                              X.push(c.x, q, D.x, q)
                      }
                  }
              } else {
                  if (D.y > F.y)
                      X.push(a, F.y, a, D.y);
                  if (f < F.y + F.v)
                      X.push(a, f, a, F.y + F.v);
                  if (D.x > F.x)
                      X.push(F.x, q, D.x, q);
                  if (E < F.x + F.d)
                      X.push(E, q, F.x + F.d, q)
              }
              n.QV = !0
          }
      }
      if (this.e == 2 && this.Zp) {
          var $ = n.Ea[this.md]
            , k = $[0]
            , G = (k == 0 ? "X" : "Y") + ": " + j.ST.aN($[1], n.$M, this.VJ, k == 0 ? n.d : n.v, !0);
          O.gW.bF(Math.round(this.cb.x) + 10, Math.round(this.cb.y) - 10, [G], n);
          n.QV = !0
      }
      if (this.e == 3 && this.Zp) {
          var i = j.K.YQ(this.XN);
          n.k.fR[this.id] = {
              ju: i
          };
          n.QV = !0
      }
  }
  ;
  O.zh.prototype.O8 = function(n, z) {
      var C = n.d
        , D = n.v
        , F = n.x + Math.floor(C * .2)
        , X = n.y + Math.floor(D * .2);
      z.push(F, n.y, F, n.y + D);
      z.push(n.x, X, n.x + C, X)
  }
  ;
  O.zh.prototype.Ci = function(n, z) {
      var C = {
          e: l.H.Gu,
          gc: n
      }
        , D = new u(l.E.P,!0);
      D.data = C;
      z.f(D)
  }
  ;
  O.zh.prototype.Vh = function(n) {
      var z = this.v1.zK()[0]
        , C = this.Sq
        , D = this.a06[z];
      this.WY(C, D)
  }
  ;
  O.zh.prototype.tZ = function(n) {
      var z = JSON.parse(JSON.stringify(this.VJ.mw));
      z.Ya = this.bB.zK()[0];
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.W9,
          G6: c1.eW,
          Z7: z
      };
      this.FS.f(C)
  }
  ;
  O.zh.prototype._V = function(n, z, C, D, F) {
      if (this.Zp)
          this.yg(n, z, C, D, F);
      this.Sq = n;
      this.VJ = C;
      this.FS = z;
      var X = n.a.C$(F.x, F.y), E;
      if (O.zh.ZT(C, F, n.a)) {
          E = this.bB
      } else {
          if (this.v1)
              this.v1.removeEventListener("select", this.Vh);
          var f = [];
          n.root.Lc(X, f);
          if (f.length == 0)
              return;
          var a = [];
          this.a06 = f;
          for (var M = 0; M < f.length; M++)
              a.push({
                  name: n.W[f[M]].getName()
              });
          E = this.v1 = new gX(a);
          E.s("select", this.Vh, this)
      }
      E.parent = z;
      E.B();
      E.update(n, C);
      var q = new u(l.E.P,!0);
      q.data = {
          e: l.H.X$,
          uN: E,
          x: F.kD + 2,
          y: F.Bh + 1
      };
      z.f(q)
  }
  ;
  O.zh.prototype.pn = function(n, z, C, D, F) {
      return O.zh.ZT(C, F, n.a)
  }
  ;
  O.zh.prototype.mY = function(n, z, C, D, F) {
      this.cb = F;
      this.g5.oS(F.x, F.y);
      this.vt = n.a.C$(F.x, F.y);
      this.q0 = new iN(this.vt);
      this.Gn(n, z, D, C, !0)
  }
  ;
  O.zh.ZT = function(n, z, C) {
      var D = j.ST.$F
        , F = C.Fe.v;
      return n.MB && (0 < z.x && z.x < D || 0 < z.y && z.y < D || 0 < z.x && z.x < 4 * D && F - D < z.y && z.y < F)
  }
  ;
  O.zh.prototype.Gn = function(n, z, C, D, F, X) {
      var E, f = this.vt, a = !1;
      if (F) {
          var q = D.iC && D.mw.Ea;
          if (O.zh.ZT(D, this.g5, n.a)) {
              E = n.gS();
              var c = n.gS()
                , K = null;
              if (this.g5.x < j.ST.$F) {
                  K = [0, f.x]
              }
              if (this.g5.y < j.ST.$F) {
                  K = [1, f.y]
              }
              c[0].push(K);
              c[1].push(n.m$());
              n.la(c);
              if (!q) {
                  var R = new u(l.E.P);
                  if (!D.mw.Ea) {
                      R.data = {
                          e: l.H.W9,
                          G6: c1._2
                      };
                      z.f(R)
                  }
                  if (!D.iC) {
                      R.data = {
                          e: l.H.W9,
                          G6: c1.UL
                      };
                      z.f(R)
                  }
                  q = !0
              }
          }
          var J = this.e1(n, f);
          if (q && J != null) {
              this.e = 2;
              this.Mz = E ? E : n.gS();
              this.md = J;
              this.Zp = !0;
              this.M9 = O.o.Td(n);
              return
          }
          if (n.Rj.length != 0) {
              this.e = 4;
              this.M9 = n.fD[n.Rj[0]].rect.clone();
              this.Zp = !0;
              return
          }
          if (this.d6 && this.d6.Li(f, n.a.X, !0) != null) {
              var R = new u(l.E.P);
              R.data = {
                  e: l.H.j9,
                  F: O.A6,
                  a2u: !0
              };
              z.f(R);
              return
          }
          if (n.N && n.N.rect.P5(f)) {
              var w = Math.round(f.x)
                , p = Math.round(f.y)
                , I = n.N.rect;
              a = n.N.channel[(p - I.y) * I.d + w - I.x] > 128
          }
          if (!a && (!this.Cs && this.AY.J7 || this.Cs && this.AY.J7 && (C.r(dM.Ms) || n.C.length < 2))) {
              var m = this.ajI(n, f, C);
              if (!m) {
                  n.C = [];
                  n.Tj = null;
                  n.uv = n.HP = !0;
                  this.e = 3;
                  this.XN = new cc;
                  this.Zp = !0;
                  return
              }
          }
          if (C.r(dM.M2) && !a) {
              var A = new u(l.E.M);
              A.F = O.$w;
              A.data = {
                  e: Q.BD,
                  adE: !0
              };
              z.f(A)
          }
      }
      if (n.Rj.length != 0) {
          this.e = 4;
          this.M9 = n.fD[n.Rj[0]].rect.clone();
          this.Zp = !0;
          return
      }
      this.md = n.pX(X == null, X, null, !0);
      for (var M = 0; M < this.md.length; M++) {
          var U = n.W[this.md[M]];
          if (U.Ks(2) || U.Ks(31)) {
              alert(aC.get([6, 57, 0]));
              return
          }
      }
      this.XU = O.zh.a6E(n, this.md);
      this.e = 0;
      if (n.N && (!F || a) && n.C.length == 1 && n.Sp(!1)) {
          if (!n.RH()) {
              this.Zp = !1;
              return
          }
          var r = n.W[n.C[0]]
            , $ = C.r(dM.M2);
          this.e = 1;
          var k = n.history[n.VU];
          if (k.F == this && k.data.e == 1 && k.data.b == n.C[0] && r.kl == r.aU.kl && !$) {
              this.wr = k
          } else {
              var G = r.aU, i = !1, o;
              if (!r.D6(n, n.N) || $) {
                  i = !0;
                  r.B6(n, n.N, $)
              }
              if (r.aU.kl <= 0) {
                  o = j.T(r.aU.yx.length >> 2);
                  j.Ni(r.aU.yx, o, 3)
              } else
                  o = n.N.channel.slice(0);
              var S = {
                  rect: r.aU.pK.clone(),
                  channel: o
              };
              this.wr = new hi($ ? [12, 53] : [12, 54],this);
              this.wr.data = {
                  e: 1,
                  b: n.C[0],
                  aU: r.aU,
                  JI: G,
                  z5: i,
                  vT: n.N,
                  $l: S,
                  qc: new ir(0,0)
              };
              n.OV(this.wr);
              n.N = S;
              n.U2 = !0
          }
      }
      this.Zp = !0;
      this.M9 = O.o.Td(n)
  }
  ;
  O.zh.prototype.ajI = function(n, z, C) {
      var D = n.root.Lc(new ir(Math.floor(z.x),Math.floor(z.y)));
      if (D) {
          if (D.b.add.vmsk)
              n.QV = !0;
          var F = n.W.indexOf(D.b);
          if (C.r(dM.Ms)) {
              var X = n.C.indexOf(F);
              if (X == -1)
                  n.C.push(F);
              else if (n.C.length > 1)
                  n.C.splice(X, 1)
          } else if (n.C.indexOf(F) == -1) {
              this.WY(n, F)
          }
      }
      return D != null
  }
  ;
  O.zh.prototype.WY = function(n, z) {
      n.W[z].kl = 0;
      n.C = [z];
      n.Tj = null;
      n.Fp();
      n.dc = !0;
      n.uv = !0
  }
  ;
  O.zh.prototype.Xl = function(n, z, C, D, F) {
      this.cb = F;
      var X = n.a.C$(F.x, F.y), R, J;
      if (this.q0 && this.e < 2)
          X = this.q0.Nv(X, D);
      if (!this.Zp) {
          if (C.iC && C.mw.Ea) {
              var E = this.e1(n, X)
                , f = "default";
              if (E != null)
                  f = ["col-resize", "row-resize"][n.Ea[E][0]];
              else if (this.d6) {
                  var a = this.d6.Li(X, n.a.X);
                  if (a)
                      f = a
              }
              this.Ci(f, z)
          }
          this.mE(n, X);
          return
      }
      var q = this.vt
        , c = Math.round(X.x - q.x) - this.wB.x
        , K = Math.round(X.y - q.y) - this.wB.y;
      if (this.M9) {
          if (this.e == 2) {
              X = O.zh.kq(n, X, C, [!1, n.N ? n.N.rect : this.M9, !0])
          } else {
              J = this.M9.clone();
              J.offset(this.wB.x + c, this.wB.y + K);
              R = O.zh.yl(n, J, C);
              c += Math.round(R[0]);
              K += Math.round(R[1])
          }
      }
      this.wB.x += c;
      this.wB.y += K;
      this._W(n, c, K, X, null, D.r(dM.Ms));
      this.mE(n, X);
      if (R)
          O.zh.lU(n, J, R)
  }
  ;
  O.zh.prototype.e1 = function(n, z) {
      z = [z.x, z.y];
      var C = n.gS()
        , D = n.m$();
      for (var M = 0; M < C[0].length; M++) {
          var F = C[0][M]
            , X = C[1][M];
          if (X != -1 && X != D)
              continue;
          if (Math.abs(F[1] - z[F[0]]) * n.a.X < 4)
              return M
      }
      return null
  }
  ;
  O.zh.prototype._W = function(n, z, C, D, F, X) {
      if (this.e == 0) {
          if (F)
              O.zh.c1(n, this.md, this.XU, F);
          else
              O.zh.P7(n, this.md, this.XU, z, C)
      } else if (this.e == 1) {
          var E = this.wr.data;
          E.qc.offset(z, C);
          O.zh.BG(n, E.b, z, C)
      } else if (this.e == 2) {
          var f = 1e-5;
          if (X)
              f = n.a.X <= 1 ? 10 : 1;
          else if (n.a.X <= 1)
              f = 1;
          var a = f * Math.round(D.x / f)
            , q = f * Math.round(D.y / f)
            , c = [a, q]
            , K = n.Ea[this.md];
          K[1] = c[K[0]]
      } else if (this.e == 3) {
          var R = this.vt
            , J = j.K.OH([R.x, R.y, D.x, D.y]);
          this.XN = J;
          var w = [];
          n.root.dn(J, w);
          if (JSON.stringify(n.C) != JSON.stringify(w)) {
              n.C = w;
              n.uv = n.HP = !0
          }
      } else if (this.e == 4) {
          for (var M = 0; M < n.Rj.length; M++)
              n.fD[n.Rj[M]].rect.offset(z, C);
          n.QV = !0
      }
  }
  ;
  O.zh.BG = function(n, z, C, D) {
      var F = n.W[z];
      n.N.rect.offset(C, D);
      F.h2(n, C, D, n.N);
      n.U2 = !0;
      n.J()
  }
  ;
  O.zh.prototype.yg = function(n, z, C, D, F) {
      this.ou(n, F, C);
      this.mE(n);
      if (Date.now() - this.b8 < 300) {
          var X = O.za.tc(n, n.a.C$(F.x, F.y));
          if (X >= 0) {
              var E = new u(l.E.M,!0);
              E.F = O.qp;
              E.data = {
                  e: "editCurr",
                  cD: X
              };
              z.f(E)
          } else if (O.zh.ZT(C, F, n.a)) {
              var f = new u(l.E.P);
              if (F.y > n.a.Fe.v - 20) {
                  f.data = {
                      e: l.H.xb,
                      gA: "doczoom",
                      WG: n.a.X * 100,
                      OZ: {
                          Y: l.E.M,
                          F: O.d1,
                          n: {
                              e: "pzoom"
                          }
                      }
                  }
              } else {
                  f.data = {
                      e: l.H.xb,
                      gA: "preferences"
                  }
              }
              z.f(f)
          }
      }
      this.b8 = Date.now();
      O.Xf.db(n)
  }
  ;
  O.zh.prototype.ou = function(n, z, C, D, F) {
      if (!this.Zp)
          return;
      this.Zp = !1;
      if (this.e == 0) {
          if (D) {
              this.Bx(n, null, D, F)
          } else {
              if (this.wB.x == 0 && this.wB.y == 0)
                  return;
              this.Bx(n, this.wB.clone())
          }
          n.PL = !0
      } else if (this.e == 2) {
          var X = 0;
          z = [z.x, z.y];
          var E = this.md
            , f = n.Ea[E]
            , gb = this.Mz[0].length
            , a = n.Ea.length;
          if (C.MB && z[f[0]] < j.ST.$F) {
              var q = n.gS();
              q[0].splice(E, 1);
              q[1].splice(E, 1);
              n.la(q);
              X = 1;
              if (gb == a - 1)
                  return
          }
          if (gb < a)
              X = 2;
          var c = new hi([[23, 2], [23, 3], [23, 4]][X],this);
          c.data = {
              e: 2,
              Mz: this.Mz,
              By: n.gS()
          };
          n.OV(c)
      } else if (this.e == 4) {
          var c = new hi([12, 54],this);
          c.data = {
              e: 4,
              C: n.Rj.slice(0),
              A: this.wB.clone()
          };
          n.OV(c)
      }
      this.wB.oS(0, 0)
  }
  ;
  O.zh.prototype.iV = function(n, z, C, D) {
      var F = D.Sk();
      if (n != null && (F.x != 0 || F.y != 0)) {
          if (D.r(dM.M2) && n.N == null) {
              var X = new u(l.E.M);
              X.F = O.$w;
              X.data = {
                  e: Q.BD,
                  adE: !0
              };
              z.f(X)
          }
          this.wB.oS(F.x, F.y);
          this.Gn(n, z, D, C, !1);
          if (!this.Zp)
              return;
          this._W(n, F.x, F.y);
          this.ou(n, null, C);
          this.mE(n)
      }
      var E = D.r(dM.BO);
      if (!this.Cs && this.a2q != E) {
          if (E) {
              this.afC = this.AY.J7;
              this.AY.J7 = !0
          } else {
              this.AY.J7 = this.afC
          }
          this.a2q = E;
          var f = new u(l.E.P,!0);
          f.data = {
              e: l.H.b5,
              F: this.id,
              VP: this.AY
          };
          z.f(f)
      }
  }
  ;
  O.zh.prototype.LL = function(n, z) {
      if (n.e == 0) {
          O.zh.c1(z, n.C, n.Q4, n.nR, !0);
          O.Xf.db(z)
      } else if (n.e == 2) {
          z.la(n.Mz);
          z.QV = !0
      } else if (n.e == 4) {
          for (var M = 0; M < n.C.length; M++)
              z.fD[n.C[M]].rect.offset(-n.A.x, -n.A.y);
          z.QV = !0
      } else {
          var C = z.W[n.b];
          if (n.z5) {
              C.qX(z, n.JI);
              z.N = n.vT;
              z.U2 = !0;
              z.J();
              C.J()
          } else {
              O.zh.BG(z, n.b, -n.qc.x, -n.qc.y)
          }
      }
  }
  ;
  O.zh.prototype.qO = function(n, z) {
      if (n.e == 0) {
          O.zh.c1(z, n.C, n.Q4, n.nR);
          O.Xf.db(z)
      } else if (n.e == 2) {
          z.la(n.By);
          z.QV = !0
      } else if (n.e == 4) {
          for (var M = 0; M < n.C.length; M++)
              z.fD[n.C[M]].rect.offset(n.A.x, n.A.y);
          z.QV = !0
      } else {
          var C = z.W[n.b];
          if (n.z5) {
              C.aU = n.aU;
              z.N = n.$l;
              O.zh.BG(z, n.b, 0, 0);
              C.J()
          } else {
              O.zh.BG(z, n.b, n.qc.x, n.qc.y)
          }
      }
  }
  ;
  O.zh.prototype.Bx = function(n, z, C, D) {
      if (C) {
          var F = !0;
          for (var M = 0; M < C.length; M++)
              if (C[M] != 0)
                  F = !1;
          if (F)
              return
      }
      var X = n.history[n.VU];
      if (X.data && X.F == this && X.data.e == 0 && C == null && JSON.stringify(X.data.C) == JSON.stringify(this.md) && JSON.stringify(X.data.Q4) == JSON.stringify(this.XU)) {
          var E = X.data.nR
            , f = X.data.ad5.cw.T.v;
          f.Hrzn.v.val += z.x;
          f.Vrtc.v.val += z.y;
          for (var M = 0; M < E.length; M += 2) {
              E[M] += z.x;
              E[M + 1] += z.y
          }
      } else {
          if (z == null)
              z = new ir(C[0],C[1]);
          var a = {
              KY: "move",
              cw: {
                  classID: "null",
                  null: eW.ek("Lyr", !0),
                  T: {
                      t: "Objc",
                      v: {
                          classID: "Ofst",
                          Hrzn: {
                              t: "UntF",
                              v: {
                                  type: "#Rlt",
                                  val: z.x
                              }
                          },
                          Vrtc: {
                              t: "UntF",
                              v: {
                                  type: "#Rlt",
                                  val: z.y
                              }
                          }
                      }
                  }
              }
          }
            , q = new hi(D ? D : [12, 54],this);
          if (C)
              q.data = {
                  e: 0,
                  C: this.md,
                  Q4: this.XU,
                  nR: C
              };
          else
              q.data = {
                  e: 0,
                  C: this.md,
                  Q4: this.XU,
                  nR: O.zh.Th(this.md, z.x, z.y)
              };
          q.data.ad5 = a;
          n.OV(q);
          this.track(a)
      }
  }
  ;
  O.zh.Th = function(n, z, C) {
      var D = [];
      for (var M = 0; M < n.length; M++)
          D.push(z, C);
      return D
  }
  ;
  O.zh.P7 = function(n, z, C, D, F) {
      O.zh.c1(n, z, C, O.zh.Th(z, D, F))
  }
  ;
  O.zh.c1 = function(n, z, C, D, F) {
      if (z.length == 0)
          return;
      if (C == null) {
          C = [];
          for (var M = 0; M < z.length; M++) {
              C.push(n.W[z[M]].wP(n, !0))
          }
      }
      var X = new cc
        , E = new cc(0,0,n.d,n.v);
      for (var M = 0; M < z.length; M++) {
          var f = D[2 * M]
            , a = D[2 * M + 1];
          if (F) {
              f = -f;
              a = -a
          }
          var q = n.W[z[M]]
            , c = C[M];
          if (q.add.fxrp && (c.indexOf(0) != -1 || q.Ct()))
              q.add.fxrp.offset(f, a);
          for (var K = 0; K < c.length; K++) {
              var R = c[K];
              if (R == 0) {
                  q.rect.offset(f, a);
                  if (q.ei() && q.yM(n))
                      q.yM(n).rect.offset(f, a);
                  if (q.add.artb) {
                      var J = q.qJ();
                      J.offset(f, a);
                      q.zk(J);
                      var w = q.add.artb.guideIndeces;
                      w = w ? w.v : [];
                      for (var p = 0; p < w.length; p++) {
                          var I = n.Ea[w[p].v];
                          I[1] += I[0] == 0 ? f : a
                      }
                  }
                  if (q.add.TySh) {
                      q.add.TySh.Z.translate(f, a);
                      if (q.add.TySh.add) {
                          q.add.TySh.add.vmsk.offset(f, a)
                      }
                  }
                  if (q.add.SoLd) {
                      var m = new b6(1,0,0,1,f,a)
                        , A = q.add.SoLd
                        , U = O.o.VV(A.Trnf)
                        , r = O.o.VV(A.nonAffineTransform);
                      j.K.Z(U, m, U);
                      j.K.Z(r, m, r);
                      A.Trnf = O.o.IO(U);
                      A.nonAffineTransform = O.o.IO(r);
                      O.o.$W(A, m)
                  }
              }
              if (R == 1)
                  q.sN().rect.offset(f, a);
              if (R == 2) {
                  q.add.vmsk.offset(f, a);
                  if (q.add.vogk)
                      j.hL.Z(q.add.vogk, [1, 0, f, 0, 1, a, 0, 0], [])
              }
              if (R == 3) {
                  q.yM(n).z.rect.offset(f, a);
                  if (c.length == 1)
                      q.J()
              }
          }
          if (c.length > 0) {
              var $ = q.add.GdFl;
              if ($ == null)
                  $ = q.add.PtFl;
              if (q.Ct() && !q.ge() && q.add.vmsk != null && j.i.Kq(q.add.vmsk.g) && q.add.vmsk.Eo == 255 && ($ == null || $.Algn && $.Algn.v)) {
                  q.rect.offset(f, a)
              } else
                  q.z4(n);
              var k = n.root.qq(q.xA(n), n, z[M]);
              X = X.QH(k);
              k.offset(-f, -a);
              X = X.QH(k);
              if (q.add.SoCo || q.add.GdFl || q.add.PtFl || ad.get(q.add) != null)
                  X = X.QH(E);
              q.ZI()
          }
      }
      n.J(X)
  }
  ;
  O.zh.a6E = function(n, z) {
      var C = [];
      for (var M = 0; M < z.length; M++) {
          var D = n.W[z[M]];
          C.push(D.wP(n))
      }
      return C
  }
  ;
  O.zh.lU = function(n, z, C) {
      var D = n.k.qv = {
          U: [],
          I: []
      }
        , F = z.x + C[0]
        , X = z.y + C[1];
      if (C[2] != 1e9) {
          D.I.push("M", "L");
          D.U.push(C[2], X, C[2], X + z.v)
      }
      if (C[3] != 1e9) {
          D.I.push("M", "L");
          D.U.push(F, C[3], F + z.d, C[3])
      }
      n.QV = !0
  }
  ;
  O.zh.kq = function(n, z, C, D) {
      var F = O.zh.vs(n, [[z.x], [z.y]], C, D);
      return new ir(z.x + F[0],z.y + F[1])
  }
  ;
  O.zh.yl = function(n, z, C, D, F) {
      var X = F == !0 ? 1 : .5
        , E = O.zh.vs(n, [[z.x, z.x + Math.round(z.d * X), z.x + z.d], [z.y, z.y + Math.round(z.v * X), z.y + z.v]], C, D);
      return E
  }
  ;
  O.zh.vs = function(n, z, C, D) {
      if (D == null)
          D = [!0, null, !0];
      var F = [0, 0, 1e9, 1e9];
      if (!C.A2)
          return F;
      var X = JSON.parse(JSON.stringify(z));
      for (var E = 0; E < 2; E++) {
          var f = 1e9
            , a = z[E]
            , q = 0;
          for (var c = 0; c < a.length; c++) {
              var K = O.zh.aay(n, a[c], X[1 - E][c], E, C, D);
              if (K != 1e9)
                  X[E][c] = K;
              if (K != 1e9 && Math.abs(K - a[c]) < Math.abs(f)) {
                  f = K - a[c];
                  q = K
              }
          }
          if (f != 1e9) {
              F[E] = f;
              F[E + 2] = q
          }
      }
      return F
  }
  ;
  O.zh.aay = function(n, z, C, D, F, X) {
      var E = 1e9
        , f = F.wN
        , a = F.mw
        , q = [n.root];
      while (q.length != 0 && f[2]) {
          var c = q.pop()
            , K = c.b
            , R = K.rect;
          if (!K.y_())
              continue;
          if (c.children)
              for (var M = 0; M < c.children.length; M++)
                  q.push(c.children[M]);
          if (n.C.indexOf(c.index) != -1 || R.kX())
              continue;
          if (D == 0) {
              var J = R.d
                , w = J >>> 1;
              if (Math.abs(R.x - z) < Math.abs(E - z))
                  E = R.x;
              if (Math.abs(R.x + w - z) < Math.abs(E - z))
                  E = R.x + w;
              if (Math.abs(R.x + J - z) < Math.abs(E - z))
                  E = R.x + J
          } else {
              var p = R.v
                , I = p >>> 1;
              if (Math.abs(R.y - z) < Math.abs(E - z))
                  E = R.y;
              if (Math.abs(R.y + I - z) < Math.abs(E - z))
                  E = R.y + I;
              if (Math.abs(R.y + p - z) < Math.abs(E - z))
                  E = R.y + p
          }
      }
      if (X[0] && f[0] && a.Ea && F.iC) {
          var m = n.gS()
            , A = m[0]
            , U = m[1]
            , r = n.m$();
          for (var M = 0; M < A.length; M++)
              if ((U[M] == -1 || U[M] == r) && A[M][0] == D && Math.abs(A[M][1] - z) < Math.abs(E - z))
                  E = A[M][1]
      }
      if (f[1] && a.Da && F.iC) {
          var $ = Math.round(j.ST.Ge(a.um, n.$M, n.d, a.ic));
          if (D == 1 && a.YF == 1) {
              var k = C * .5 * Math.sqrt(4 / 3), G;
              $ *= Math.sqrt(4 / 3);
              G = Math.round((z - k) / $) * $ + k;
              if (Math.abs(G - z) < Math.abs(E - z))
                  E = G;
              G = Math.round((z + k) / $) * $ - k;
              if (Math.abs(G - z) < Math.abs(E - z))
                  E = G
          } else {
              var G = Math.round(z / $) * $;
              if (Math.abs(G - z) < Math.abs(E - z))
                  E = G
          }
      }
      var i = n.CB;
      if (f[3] && a.CB && F.iC && i.length != 0) {
          for (var M = 0; M < i.length; M++) {
              if (!X[2] && n.IZ.indexOf(M) != -1)
                  continue;
              var o = O.NB.Aa(i, M);
              for (var S = 0; S < 3; S += 2)
                  if (o[S + D] != z && Math.abs(o[S + D] - z) < Math.abs(E - z))
                      E = o[S + D]
          }
      }
      if (X[1]) {
          var R = X[1]
            , J = R.d
            , p = R.v
            , H = [R.x, R.y, R.x + (J >>> 1), R.y + (p >>> 1), R.x + J, R.y + p];
          for (var M = 0; M < 6; M += 2)
              if (Math.abs(H[M + D] - z) < Math.abs(E - z))
                  E = H[M + D]
      }
      if (f[4]) {
          var J = n.d
            , p = n.v
            , H = [0, 0, J >>> 1, p >>> 1, J, p];
          for (var M = 0; M < 6; M += 2)
              if (Math.abs(H[M + D] - z) < Math.abs(E - z))
                  E = H[M + D]
      }
      var e = Math.abs(E - z) <= 4 * l.D() / n.a.X ? E : 1e9;
      return e
  }
  ;
  O.hj = function() {
      O.lJ.call(this, [10, 12], O.ss, "tools/mwand")
  }
  ;
  O.hj.prototype = new O.lJ;
  O.hj.prototype.Ay = O.lJ.prototype.ak_;
  O.hj.prototype.qG = O.lJ.prototype.a1g;
  O.hj.prototype.Kz = function(n, z, C, D) {
      this.finish(n, z, C, D)
  }
  ;
  O.hj.prototype.getSelection = function(n, z, C, D) {
      var F = this.SA
        , X = O.lJ.aqa(new ir(Math.floor(F.x),Math.floor(F.y)), this.VP.wconf);
      return X
  }
  ;
  O.hj.di = function(n, z, C) {
      if (n.C.length != 1) {
          alert("More than one layer selected.");
          return null
      }
      var D = n.W[n.C[0]], F = D.kl <= 0 ? null : D.kl == 1 ? D.sN() : D.yM(n).z, X;
      if (F == null && D.add.lsct != null && D.add.lsct != g9.n3) {
          alert("No layer selected.");
          return null
      }
      if (z.x < 0 || z.x > n.d || z.y < 0 || z.y > n.v)
          return null;
      var E = new cc(0,0,n.d,n.v);
      if (F == null && E.jm(D.rect))
          X = D.buffer;
      else {
          X = j.T(E.t() * 4);
          if (F == null)
              j.X3(D.buffer, D.rect, X, E);
          else
              O.pC.qd(F.channel, F.rect, F.color, X, E)
      }
      var f = O.hj.zX(X, E, z, null, C)
        , a = j.ae(f, E)
        , q = j.T(a.t());
      j.v8(f, E, q, a);
      return {
          rect: a,
          channel: q
      }
  }
  ;
  O.hj.Ex = function(n, z, C) {
      var D = z.d
        , F = z.v
        , E = 0
        , f = 0
        , a = 0
        , q = 0;
      n = new Uint32Array(n.buffer);
      var X = []
        , c = C.length;
      for (var M = 0; M < c; M++) {
          var K = C[M]
            , R = Math.round(K.x - .5 - z.x)
            , J = Math.round(K.y - .5 - z.y);
          R = Math.max(0, Math.min(D - 1, R));
          J = Math.max(0, Math.min(F - 1, J));
          var w = J * D + R
            , p = n[w];
          X.push([p & 255, p >> 8 & 255, p >> 16 & 255, p >>> 24])
      }
      return X
  }
  ;
  O.hj.zX = function(n, z, C, D, F) {
      n = new Uint32Array(n.buffer);
      var X = z.d
        , E = z.v
        , f = X * E;
      if (D == null)
          D = O.hj.Ex(n, z, [C]);
      var a = Math.round(C.x - .5 - z.x)
        , q = Math.round(C.y - .5 - z.y)
        , c = q * X + a
        , K = Date.now()
        , R = j.T(X * E)
        , J = F[0]
        , w = 1 / J
        , p = F[1] && J > 0 ? 255 : 0;
      if (F[2]) {
          var I = j.T(R.length)
            , m = new Uint32Array(f)
            , A = 1;
          m[0] = a << 16 | q;
          I[c] = 1;
          while (A > 0) {
              var U = m[A - 1];
              A--;
              var r = U >>> 16
                , $ = U & 65535
                , M = $ * X + r
                , k = O.hj.To(n[M], D);
              if (k > J) {
                  var G = p * (1 - Math.max(0, Math.min(1, (k - J) * w)));
                  R[M] = ~~G
              } else {
                  R[M] = 255;
                  if ($ != E - 1 && I[M + X] == 0) {
                      m[A++] = r << 16 | $ + 1;
                      I[M + X] = 1
                  }
                  if ($ != 0 && I[M - X] == 0) {
                      m[A++] = r << 16 | $ - 1;
                      I[M - X] = 1
                  }
                  if (r != X - 1 && I[M + 1] == 0) {
                      m[A++] = r + 1 << 16 | $;
                      I[M + 1] = 1
                  }
                  if (r != 0 && I[M - 1] == 0) {
                      m[A++] = r - 1 << 16 | $;
                      I[M - 1] = 1
                  }
              }
          }
      } else {
          for (var M = 0; M < f; M++) {
              var k = O.hj.To(n[M], D);
              if (k <= J)
                  R[M] = 255
          }
          for (var $ = 0; $ < E; $++)
              for (var r = 0; r < X; r++) {
                  var M = $ * X + r;
                  if (R[M] == 0 && (r > 0 && (R[M - 1] == 255 || $ > 0 && R[M - X - 1] == 255 || $ < E - 1 && R[M + X - 1] == 255) || r < X - 1 && (R[M + 1] == 255 || $ > 0 && R[M - X + 1] == 255 || $ < E - 1 && R[M + X + 1] == 255) || $ > 0 && R[M - X] == 255 || $ < E - 1 && R[M + X] == 255)) {
                      var k = O.hj.To(n[M], D)
                        , G = p * (1 - Math.max(0, Math.min(1, (k - J) * w)));
                      R[M] = ~~G
                  }
              }
      }
      return R
  }
  ;
  O.hj.To = function(n, z) {
      var C = z.length
        , D = O.hj.Ir(n, z[0])
        , M = 1;
      while (M != C) {
          D = Math.min(D, O.hj.Ir(n, z[M]));
          M++
      }
      return D
  }
  ;
  O.hj.Ir = function(n, z) {
      var C = n & 255
        , D = n >>> 8 & 255
        , F = n >>> 16 & 255
        , X = n >>> 24 & 255;
      if (z[3] == 0)
          return X < 5 ? 0 : 255;
      var E = Math.max(Math.abs(C - z[0]), Math.max(Math.abs(D - z[1]), Math.abs(F - z[2])));
      return X == 0 ? 255 : E
  }
  ;
  O.CI = function(n, z) {
      if (z)
          O.pC.call(this);
      else if (n)
          O.pC.call(this, [10, 49], O.vy, "tools/camove");
      else
          O.pC.call(this, [10, 26], O.Nr, "tools/patch");
      this.Ef = null;
      this.Nl = null;
      this.A = null;
      this.nH = null;
      this.to = new ir;
      this.iP = null;
      this.EZ = null
  }
  ;
  O.CI.prototype = new O.pC;
  O.CI.prototype.mY = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y);
      if (n.N && j.Lc(X, n.N.channel, n.N.rect)) {
          var E = new cc(0,0,n.d,n.v)
            , f = E.Yi(n.N.rect);
          if (!n.Sp() || f.kX())
              return;
          if (!0) {
              var a = j.T(f.t());
              j.v8(n.N.channel, n.N.rect, a, f);
              n.N = {
                  channel: a,
                  rect: f
              }
          }
          this.L2(n);
          this.Zq(n);
          this.nH = X;
          this.to = new ir(X.x - n.N.rect.x,X.y - n.N.rect.y);
          this.EZ = j.T(n.N.rect.t() * 4);
          this.EZ.fill(255);
          if (this.AY.patch == 1) {
              var q = n.W[n.C[0]];
              q.B6(n, n.N, !0);
              if (q.aU == null)
                  this.nH = null
          }
          this.iP = n.N.rect.clone()
      } else {
          this.Nl = {
              U: [X.x, X.y],
              I: ["M"]
          };
          this.Ef = X
      }
  }
  ;
  O.CI.prototype.Xl = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y);
      if (this.nH) {
          if (this.AY.patch == 1) {
              if (n.Rj.length == 0) {
                  var E = n.W[n.C[0]].aU
                    , f = X.x - this.to.x
                    , a = X.y - this.to.y;
                  O.zh.BG(n, n.C[0], Math.round(f - E.pK.x), Math.round(a - E.pK.y))
              }
          } else
              this.Bf(n, X, "clone")
      }
      if (this.Ef) {
          this.Nl.I.push("L");
          this.Nl.U.push(X.x, X.y);
          this.Ef = X;
          n.k.ju = this.Nl;
          n.QV = !0
      }
  }
  ;
  O.CI.prototype.yg = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y);
      if (this.nH) {
          var E = n.N.rect.clone();
          if (this.id == O.vy) {
              var f = n.W[n.C[0]];
              f.qX(n, f.aU);
              n.N.rect = this.iP.clone();
              var a = j.T(n.N.rect.t() * 4);
              j.bl(n.N.channel, a, 3);
              this.VF(n, "sheal", a, n.N.rect, n.N.rect);
              n.N.rect = E;
              E = E.QH(this.iP)
          }
          this.Bf(n, X, "heal");
          this.finish(n, E, null, null, !0);
          n.J(E);
          this.nH = null
      }
      if (this.Ef) {
          var q = O.lJ.h8(this.AY.setop, D.r(dM.Ms), D.r(dM.M2))
            , c = new u(l.E._R,!0);
          if (this.Nl.U.length <= 4)
              c.data = O.lJ.by();
          else
              c.data = O.lJ.sd(this.Nl.U, q);
          z.f(c);
          this.Ef = null;
          n.k.ju = null;
          n.QV = !0
      }
  }
  ;
  O.CI.prototype.ko = function() {
      return this.A
  }
  ;
  O.CI.prototype.lO = function(n, z, C, D, F) {
      O.pC.prototype.lO.call(this, n, z, C, D, F);
      this.Ci(F, D)
  }
  ;
  O.CI.prototype.Ci = function(n, z) {
      var C = "auto;";
      if (z != null && z.r(dM.Ms) && !z.r(dM.M2) || this.AY.setop == "union")
          C = "copy";
      var D = new u(l.E.P,!0);
      D.data = {
          e: l.H.Gu,
          gc: C
      };
      if (this.caller)
          this.caller.f(D)
  }
  ;
  O.CI.prototype.Bf = function(n, z, C) {
      var D = new ir(Math.round(this.nH.x - z.x),Math.round(this.nH.y - z.y));
      if (this.AY.patch == 1)
          D.oS(-D.x, -D.y);
      this.A = D;
      this.VF(n, C, this.EZ, n.N.rect, n.N.rect);
      this.J(n, n.N.rect)
  }
  ;
  O.g7 = function() {
      O.CI.call(this, !0);
      this.AY.patch = 1
  }
  ;
  O.g7.prototype = new O.CI(!0,!0);
  O.WE = function() {
      O.pC.call(this, [10, 13], O.a4Z, "tools/pbucket")
  }
  ;
  O.WE.prototype = new O.pC;
  O.WE.prototype.enable = function(n, z, C, D) {
      var F = new u(l.E.P,!0);
      F.data = {
          e: l.H.Gu,
          gc: "default"
      };
      z.f(F)
  }
  ;
  O.WE.prototype.vi = function(n, z) {}
  ;
  O.WE.prototype.yg = function(n, z, C, D, F) {
      if (this.yS(D, z, F))
          return;
      if (!n.Sp())
          return;
      var X = n.a.C$(F.x, F.y)
        , E = O.hj.di(n, X, this.AY.wconf);
      if (E == null)
          return;
      var f = j.T(E.rect.t() * 4);
      j.xM(f, (C.Du & 255) << 16 | (C.Du >> 8 & 255) << 8 | (C.Du >> 16 & 255) << 0);
      j.bl(E.channel, f, 3);
      this.L2(n);
      this.VF(n, "draw", f, E.rect, E.rect);
      this.J(n, E.rect);
      this.finish(n, E.rect)
  }
  ;
  O.o1 = function() {
      O.lJ.call(this, [10, 14], O.a4j, "tools/plasso");
      this.D5 = "crosshair";
      this.fm = [];
      this.MN = null;
      this.Nl = null;
      this.a5k = 0
  }
  ;
  O.o1.prototype = new O.lJ;
  O.o1.prototype.disable = function(n, z, C, D) {
      this.WS(n)
  }
  ;
  O.o1.prototype.Kz = function(n, z, C, D) {
      this.fm = [dM.as, dM.fs]
  }
  ;
  O.o1.prototype.Gs = function(n) {
      return this.fm.indexOf(n) != -1
  }
  ;
  O.o1.prototype.PU = function(n) {
      return this.Nl != null
  }
  ;
  O.o1.prototype.Ek = function() {
      return this.Nl != null
  }
  ;
  O.o1.prototype.TU = function() {
      return this.Nl != null
  }
  ;
  O.o1.prototype.kp = function(n, z, C, D) {
      if (this.Nl == null)
          return;
      var F = this.Nl
        , X = F.U
        , E = X.length - 2
        , f = this.SA;
      if (this.OT > 1 && C.r(dM.M2) && D.Vn) {
          X.push(0, 0);
          F.I.push("L");
          E += 2
      } else if (C.r(dM.Ms))
          f = O.rn.dC(new ir(X[E - 2],X[E - 1]), f);
      X[E] = f.x;
      X[E + 1] = f.y;
      n.k.ju = F;
      n.QV = !0
  }
  ;
  O.o1.prototype.xP = function(n, z, C, D) {
      var F = Date.now();
      if (this.Nl == null)
          this.Nl = {
              U: [this.SA.x, this.SA.y, this.SA.x, this.SA.y],
              I: ["M", "L"]
          };
      else {
          this.kp(n, z, C, D);
          if (F - this.a5k < 250 || ir.gn(this.SA, new ir(this.Nl.U[0],this.Nl.U[1])) < 5 * l.D() / n.a.X) {
              this.MN = this.Nl;
              this.finish(n, z, C, D);
              this.WS(n);
              return
          }
          this.Nl.I.push("L");
          this.Nl.U.push(this.SA.x, this.SA.y)
      }
      this.a5k = F;
      n.k.ju = this.Nl
  }
  ;
  O.o1.prototype.WS = function(n) {
      this.Nl = null;
      this.fm = [];
      if (n != null) {
          n.k.ju = null;
          n.QV = !0
      }
  }
  ;
  O.o1.prototype.iV = function(n, z, C, D) {
      O.lJ.prototype.iV.call(this, n, z, C, D);
      if (D.r(dM.dM) && this.Nl == null && this.MN && n.N != null) {
          var F = new u(l.E.M);
          F.F = O.Ai;
          F.data = {
              e: "h_stepbck"
          };
          z.f(F);
          this.Kz(n, C, D, null);
          this.Nl = this.MN;
          return
      }
      if (this.Nl == null)
          return;
      if (D.r(dM.as) || D.r(dM.fs)) {
          this.Nl.U.pop();
          this.Nl.U.pop();
          this.Nl.I.pop();
          this.kp(n, C, D)
      }
      if (D.r(dM.BK)) {
          if (this.Nl.U.length > 4) {
              this.MN = this.Nl;
              this.finish(n, C, D)
          }
          this.Nl = null
      }
      if (D.r(dM.dM)) {
          this.Nl = null
      }
      n.k.ju = this.Nl;
      n.QV = !0
  }
  ;
  O.o1.prototype.getSelection = function(n, z, C, D) {
      return O.lJ.sd(this.Nl.U, null, this.VP.anta)
  }
  ;
  O._D = function() {
      O.lJ.call(this, [10, 10], O.a0c, "tools/mlasso");
      this.D5 = "crosshair";
      this.fm = [];
      this.g = [];
      this.IJ = [];
      this.Lt = [];
      this.T6 = null;
      this.BU = null;
      this.EU = null;
      this.b8 = 0;
      this.Zg = 0
  }
  ;
  O._D.prototype = new O.lJ;
  O._D.prototype.disable = function(n, z, C, D) {
      this.clear(n)
  }
  ;
  O._D.prototype.PU = function(n) {
      return this.g.length != 0
  }
  ;
  O._D.prototype.TU = function() {
      return this.g.length != 0
  }
  ;
  O._D.prototype.Gs = function(n) {
      return this.fm.indexOf(n) != -1
  }
  ;
  O._D.prototype.Kz = function(n, z, C, D) {
      this.fm = [dM.as, dM.fs];
      var F = this.je(this.vQ, n);
      if (this.g.length != 0 && (ir.gn(F, this.g[0]) < 4 * l.D() / n.a.X || Date.now() - this.b8 < 300)) {
          this.Tf(n, this.g[0]);
          this.finish(n, z, C);
          this.clear(n);
          return
      }
      this.b8 = Date.now();
      if (this.g.length != 0)
          F = this.Qh(F, n);
      else {
          var X = n.d
            , E = n.v
            , f = j.T(X * E)
            , a = n.Wc()
            , q = X * E * 4;
          for (var M = 0; M < q; M += 4)
              f[M >>> 2] = ~~(.5 + j.Rg(a[M], a[M + 1], a[M + 2]) * (a[M + 3] * (1 / 255)));
          this.T6 = j.bS.aeV(f, X, E);
          this.EU = new Uint16Array(f.length)
      }
      this.Tf(n, F);
      this.Zg = C.r(dM.M2) ? 1 : 0;
      this.yH(n)
  }
  ;
  O._D.prototype.Tf = function(n, z) {
      var C = this.g;
      this.IJ[C.length] = this.Lt.length;
      if (C.length != 0) {
          j.bS.Oa(this.BU, z.y * n.d + z.x);
          var D = this.Vu(n, z);
          D.reverse();
          var F = O._D.Xp(n, D);
          this.Lt = this.Lt.concat(F)
      }
      C.push(z);
      this.FZ(n)
  }
  ;
  O._D.prototype.FZ = function(n) {
      var z = this.g[this.g.length - 1]
        , C = z.y * n.d + z.x;
      this.BU = j.bS.agz(this.T6.Mc, this.T6.rN, C);
      this.EU.fill(0)
  }
  ;
  O._D.prototype.je = function(n, z) {
      return new ir(Math.floor(Math.max(0, Math.min(z.d - 1, n.x))),Math.floor(Math.max(0, Math.min(z.v - 1, n.y))))
  }
  ;
  O._D.prototype.clear = function(n) {
      this.Lt = [];
      this.g = [];
      this.IJ = [];
      this.T6 = null;
      this.BU = null;
      this.EU = null;
      if (n != null) {
          n.k.ju = null;
          n.k.rh = [];
          n.QV = !0
      }
      this.fm = []
  }
  ;
  O._D.prototype.kp = function(n, z, C, D) {
      var F = this.g
        , X = F.length;
      if (X == 0)
          return;
      var E = this.Qh(this.je(this.SA, n), n)
        , f = this.Vu(n, E);
      for (var M = 0; M < f.length; M++) {
          var a = f[M]
            , q = new ir(a % n.d,Math.floor(a / n.d));
          if (this.EU[a] > 30 && ir.gn(q, F[X - 1]) > 20) {
              this.Tf(n, q);
              return
          }
          this.EU[a]++
      }
      if (this.Zg == 1 && D.Vn)
          this.Tf(n, E);
      this.yH(n)
  }
  ;
  O._D.prototype.yH = function(n) {
      var z = this.g;
      if (z.length != 0) {
          var C = this.Qh(this.je(this.SA, n), n)
            , D = this.Vu(n, C);
          D.reverse();
          var F = O._D.Xp(n, D)
            , X = this.Lt.concat(F)
            , E = n.k.ju = {
              U: X,
              I: ["M"]
          };
          for (var M = 2; M < X.length; M += 2)
              E.I.push("L")
      }
      n.k.rh = [];
      for (var M = 0; M < z.length; M++)
          n.k.rh.push(z[M].x + .5, z[M].y + .5);
      n.QV = !0
  }
  ;
  O._D.prototype.xP = function(n, z, C, D) {}
  ;
  O._D.prototype.iV = function(n, z, C, D) {
      if (this.g.length == 0)
          return;
      if (D.r(dM.as) || D.r(dM.fs)) {
          this.g.pop();
          this.Lt = this.Lt.slice(0, this.IJ[this.g.length]);
          this.IJ.pop();
          if (this.g.length == 0)
              this.clear(n);
          else
              this.FZ(n);
          this.yH(n)
      }
      if (D.r(dM.BK)) {
          var F = this.je(this.SA, n);
          this.Tf(n, F);
          this.finish(n, C, D);
          this.clear(n)
      }
      if (D.r(dM.dM)) {
          this.clear(n)
      }
  }
  ;
  O._D.prototype.getSelection = function(n, z, C, D) {
      return O.lJ.sd(this.Lt, null, this.VP.anta)
  }
  ;
  O._D.prototype.Vu = function(n, z) {
      var C = this.g[this.g.length - 1]
        , D = C.y * n.d + C.x
        , F = z.y * n.d + z.x;
      if (this.Zg == 1)
          return [F, D];
      var X = [F];
      while (F != D) {
          F = this.BU.rp[F];
          X.push(F);
          if (X.length > 5e3) {
              console.log(X);
              throw "e"
          }
      }
      return X
  }
  ;
  O._D.Xp = function(n, z) {
      var C = []
        , D = n.d;
      for (var M = 0; M < z.length; M++) {
          var F = z[M];
          C.push(F % D + .5, Math.floor(F / D) + .5)
      }
      return C
  }
  ;
  O._D.prototype.Qh = function(n, z) {
      var C = z.d
        , D = z.v
        , F = n.clone()
        , E = 3;
      j.bS.Oa(this.BU, n.y * C + n.x);
      var X = this.BU.cT[n.y * C + n.x];
      for (var f = -E + 1; f < E; f++)
          for (var a = -E + 1; a < E; a++) {
              var q = n.x + a
                , c = n.y + f;
              if (q < 0 || q >= C || c < 0 || c >= D)
                  continue;
              j.bS.Oa(this.BU, c * C + q);
              if (this.BU.cT[c * C + q] < X)
                  F.oS(q, c)
          }
      return F
  }
  ;
  O.Nd = function() {
      O.gW.call(this, [10, 36], O.ZX, "tools/ruler");
      this.JS = null;
      this.UO = null;
      this.bR = null;
      this.Ny = null
  }
  ;
  O.Nd.prototype = new O.gW;
  O.Nd.prototype.PU = function(n) {
      return n.Vn
  }
  ;
  O.Nd.prototype.enable = function(n, z, C, D) {
      O.gW.prototype.enable.call(this, n, z, D, C);
      if (n)
          this.mE(n)
  }
  ;
  O.Nd.prototype.disable = function(n, z, C, D) {
      if (n)
          this.WS(n)
  }
  ;
  O.Nd.prototype.Nm = function(n, z, C, D, F) {
      this.JS = this.UO = null;
      this.mE(C)
  }
  ;
  O.Nd.prototype.mY = function(n, z, C, D, F) {
      var X = n.a.X / l.D()
        , E = n.a.C$(F.x, F.y);
      E.x = Math.round(E.x);
      E.y = Math.round(E.y);
      var f = this.JS
        , a = f && ir.gn(E, f[0]) * X < 6
        , q = f && ir.gn(E, f[1]) * X < 6
        , c = f && f[2] && ir.gn(E, f[2]) * X < 6;
      if (a || q || c) {
          if (D.r(dM.M2) && f.length == 2) {
              if (q) {
                  var K = f[0];
                  f[0] = f[1];
                  f[1] = K
              }
              f[2] = f[0].clone();
              this.UO = [2]
          } else
              this.UO = [a ? 0 : q ? 1 : 2]
      } else if (f && O.Nd.aoj(f[0], f[1], E) * X < 6 && Math.min(f[0].x, f[1].x) - 5 <= E.x && E.x <= Math.max(f[0].x, f[1].x) + 5 && Math.min(f[0].y, f[1].y) - 5 <= E.y && E.y <= Math.max(f[0].y, f[1].y) + 5) {
          this.UO = [];
          this.Ny = [];
          for (var M = 0; M < f.length; M++) {
              this.UO.push(M);
              this.Ny.push(f[M].clone())
          }
          this.bR = E
      } else {
          this.JS = [E.clone(), E.clone()];
          this.UO = [1]
      }
  }
  ;
  O.Nd.prototype.Xl = function(n, z, C, D, F) {
      if (this.UO == null)
          return;
      var X = this.JS
        , E = this.UO
        , f = n.a.C$(F.x, F.y);
      f.x = Math.round(f.x);
      f.y = Math.round(f.y);
      if (E.length > 1) {
          var a = f.x - this.bR.x
            , q = f.y - this.bR.y;
          for (var M = 0; M < X.length; M++) {
              X[M] = this.Ny[M].clone();
              X[M].offset(a, q)
          }
      } else {
          X[E[0]].oS(f.x, f.y);
          if (D.r(dM.Ms)) {
              X[E[0]] = O.rn.dC(X[1 - E[0]], X[E[0]])
          }
      }
      this.mE(n);
      this.hn(z, l.E.P, {
          e: l.H.b5,
          F: this.id,
          aej: X[0],
          b1: X[1],
          bL: X[2],
          $M: n.$M,
          air: n.d
      })
  }
  ;
  O.Nd.prototype.yg = function(n, z, C, D, F) {
      this.UO = null
  }
  ;
  O.Nd.prototype.hn = function(n, z, C) {
      var D = new u(z,!0);
      D.data = C;
      n.f(D)
  }
  ;
  O.Nd.prototype.mE = function(n) {
      var z = this.JS;
      if (z == null)
          this.WS(n);
      else {
          var C = [z[1].x, z[1].y, z[0].x, z[0].y]
            , D = ["M", "L"];
          if (z.length > 2) {
              C.push(z[2].x, z[2].y);
              D.push("L")
          }
          n.k.ju = {
              I: D,
              U: C
          };
          n.k.rh = C
      }
      n.QV = !0
  }
  ;
  O.Nd.prototype.WS = function(n) {
      n.k.ju = null;
      n.k.rh = []
  }
  ;
  O.Nd.aoj = function(n, z, C) {
      var D = z.x - n.x
        , F = z.y - n.y
        , X = Math.abs(F * C.x - D * C.y + z.x * n.y - z.y * n.x)
        , E = Math.sqrt(D * D + F * F);
      return E == 0 ? 0 : X / E
  }
  ;
  O.bn = function() {
      O.pC.call(this, [10, 19], O.MG, "tools/sharpen");
      this.bT = "copy"
  }
  ;
  O.bn.prototype = new O.pC;
  O.bn.prototype.mY = function(n, z, C, D, F) {
      var X = this.AY.pdetail ? fz.Ow : fz.MG;
      if (D.r(dM.M2))
          X = fz.lX;
      this.NK(n, C, D, F, this.AY.strn, X);
      if (this.kS == null)
          return;
      this.rP(n)
  }
  ;
  O.bn.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.oP = function() {
      O.pC.call(this, [10, 24], O.Pk, "tools/shbrush");
      this.bT = "draw";
      this.AY.opacity = .5
  }
  ;
  O.oP.prototype = new O.pC;
  O.oP.prototype.mY = function(n, z, C, D, F) {
      this.NK(n, C, D, F, 1);
      if (this.kS == null)
          return;
      this.Zq(n);
      this.rP(n)
  }
  ;
  O.oP.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.oP.prototype.yg = function(n, z, C, D, F) {
      if (this.kS == null)
          return;
      this.VF(n, "sheal", this.kS.MR(), this.kS.Td(), this.kS._$(), null);
      this.J(n, this.kS._$());
      O.pC.prototype.yg.call(this, n, z, C, D, F)
  }
  ;
  O.sz = function() {
      O.pC.call(this, [10, 20], O.nk, "tools/smudge");
      this.bT = "copy"
  }
  ;
  O.sz.prototype = new O.pC;
  O.sz.prototype.mY = function(n, z, C, D, F) {
      this.NK(n, C, D, F, this.AY.strn, fz.nk);
      if (this.kS == null)
          return;
      this.rP(n)
  }
  ;
  O.sz.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.It = function() {
      O.pC.call(this, [10, 23], O.oi, "tools/sponge");
      this.bT = "sponge"
  }
  ;
  O.It.prototype = new O.pC;
  O.It.prototype.mY = function(n, z, C, D, F) {
      this.NK(n, C, D, F, this.AY.flow);
      if (this.kS == null)
          return;
      this.rP(n)
  }
  ;
  O.It.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      this.k0(n, C, D, F);
      this.rP(n)
  }
  ;
  O.TM = function() {
      O.gW.call(this, [10, 17], O.d1, "tools/zoom");
      this.eL = !1;
      this.pk = !0;
      this.rY = 0;
      this.vR = null;
      this.yZ = null;
      this.Fc = 0;
      this.ac = null;
      this.C8 = 0;
      this.bB = new gX([{
          name: [8, 0],
          wd: "Ctrl + +"
      }, {
          name: [8, 1],
          wd: "Ctrl + -",
          B$: !0
      }, {
          name: [20, 3],
          wd: "Ctrl + 0"
      }, {
          name: ["VAR0: 100%", [20, 2]],
          wd: "Ctrl + 1"
      }],[{
          Y: l.E.M,
          F: O.d1,
          n: {
              e: "zoom",
              pk: !0
          }
      }, {
          Y: l.E.M,
          F: O.d1,
          n: {
              e: "zoom",
              pk: !1
          }
      }, {
          Y: l.E.M,
          F: O.d1,
          n: {
              e: "adapt",
              G: "fitscr"
          }
      }, {
          Y: l.E.M,
          F: O.d1,
          n: {
              e: "adapt",
              G: "pixel"
          }
      }])
  }
  ;
  O.TM.prototype = new O.gW;
  O.TM.prototype._V = function(n, z, C, D, F) {
      var X = this.bB;
      X.B();
      X.parent = z;
      X.update(n, C);
      var E = new u(l.E.P,!0);
      E.data = {
          e: l.H.X$,
          uN: X,
          x: F.kD + 2,
          y: F.Bh + 1
      };
      z.f(E)
  }
  ;
  O.TM.prototype.enable = function(n, z, C, D) {
      this.Qy(z, D);
      if (n && Date.now() - this.rY < 300)
          this.Nm({
              e: "adapt",
              G: "pixel"
          }, z, n, D, C);
      this.rY = Date.now()
  }
  ;
  O.TM.prototype.mY = function(n, z, C, D, F) {
      this.yZ = new ir(F.x,F.y);
      this.Fc = n.a.X;
      this.ac = n.a.A.clone()
  }
  ;
  O.TM.prototype.Xl = function(n, z, C, D, F) {
      if (this.yZ == null)
          return;
      var X = Math.exp(Math.log(this.Fc) + (F.x - this.yZ.x) / 64);
      X = Math.max(.02, Math.min(32, X));
      n.a.X = this.Fc;
      n.a.A = this.ac.clone();
      this.Nm({
          e: "zoom",
          X: X,
          cb: this.yZ
      }, z, n, D, C)
  }
  ;
  O.TM.prototype.yg = function(n, z, C, D, F) {
      if (ir.gn(this.yZ, F) < 4) {
          var X = this.hN(D);
          this.Nm({
              e: "zoom",
              pk: X,
              cb: F
          }, z, n, D, C)
      }
      this.yZ = null
  }
  ;
  O.TM.FY = [32, 16, 12, 8, 6, 5, 4, 3, 2, 1, 2 / 3, 1 / 2, 1 / 2 * (2 / 3), 1 / 4, 1 / 4 * (2 / 3), 1 / 8, 1 / 8 * (2 / 3), 1 / 16, 1 / 16 * (2 / 3), 1 / 32, 1 / 32 * (2 / 3), 1 / 64];
  O.TM.pB = function(n, z, C, D) {
      var F = 1;
      while (n * F * 1 / 2 > C || z * F * 1 / 2 > D)
          F *= 1 / 2;
      if (n * F * 2 / 3 > C || z * F * 2 / 3 > D)
          F *= 1 / 2;
      else if (n * F > C || z * F > D)
          F *= 2 / 3;
      return F
  }
  ;
  O.TM.DV = function(n, z) {
      var C = O.TM.au(n);
      if (z && C == 0)
          return n;
      if (!z && C == O.TM.FY.length - 1)
          return n;
      return O.TM.FY[z ? C - 1 : C + 1]
  }
  ;
  O.TM.au = function(n) {
      var z = 0;
      while (O.TM.FY[z] > n)
          z++;
      return z
  }
  ;
  O.TM.gr = function(n, z, C, D) {
      var F = n.JB;
      if (D == 0 || D == null) {
          D = O.TM.DV(n.X, C);
          if (D == n.X)
              return
      }
      var X = n.C$(z.x, z.y);
      if (F.d * D <= n.Fe.d && F.v * D <= n.Fe.v) {
          n.A.oS(0, 0);
          n.X = D
      } else {
          var E = n.fk()
            , f = n.X / D;
          E.translate(-X.x, -X.y);
          E.scale(f, f);
          E.translate(X.x, X.y);
          n.N8(E)
      }
  }
  ;
  O.TM.prototype.Nm = function(n, z, C, D, F) {
      if (n.e == "pzoom") {
          if (typeof n.G == "string")
              return;
          n = {
              e: "zoom",
              X: n.G / 100
          }
      }
      var X = 0
        , E = !1
        , f = null;
      if (n.e == "adapt") {
          var a = 0;
          if (n.G == "pixel")
              a = 1;
          if (n.G == "fitscr") {
              var a = 0
                , q = C.a.Fe.d
                , c = C.a.Fe.v;
              a = Math.min((q - 14) / C.d, (c - 14) / C.v)
          }
          f = new ir(Math.round(C.a.Fe.d / 2),Math.round(C.a.Fe.v / 2));
          X = a;
          O.TM.gr(C.a, f, E, X);
          C.PL = !0
      }
      if (n.e.startsWith("multi")) {
          function K(o) {
              var S = o[0].x - o[1].x
                , H = o[0].y - o[1].y;
              return Math.sqrt(S * S + H * H)
          }
          function R(o) {
              return new ir((o[0].x + o[1].x) / 2,(o[0].y + o[1].y) / 2)
          }
          var J = n.hd
            , w = R(J);
          if (n.e == "multidown") {
              this.vR = [J, C.a.X, C.a.C$(w.x, w.y)]
          } else {
              X = this.vR[1] * K(J) / K(this.vR[0]);
              if (X >= 1)
                  X = Math.min(32, Math.round(X));
              else {
                  var p = 0
                    , I = 1e9
                    , m = O.TM.FY;
                  for (var M = 0; M < m.length; M++) {
                      var A = Math.abs(1 - X / m[M]);
                      if (A < I) {
                          I = A;
                          p = M
                      }
                  }
                  X = m[p]
              }
              if (X != C.a.X)
                  O.TM.gr(C.a, w, E, X);
              var U = this.vR[2]
                , r = C.a.Sg(U.x, U.y)
                , $ = C.a.A;
              $.x = Math.round($.x + w.x - r.x);
              $.y = Math.round($.y + w.y - r.y);
              C.PL = !0
          }
      }
      if (n.e == "scroll") {
          f = n.cb;
          this.C8 += n.jO.y;
          var k = 14;
          if (this.C8 < -k) {
              E = !0;
              this.C8 = Math.max(this.C8 + k, -(k - 1))
          } else if (this.C8 > k) {
              E = !1;
              this.C8 = Math.min(this.C8 - k, k - 1)
          } else
              return;
          O.TM.gr(C.a, f, E, X);
          C.PL = !0
      }
      if (n.e == "zoom") {
          f = n.cb ? n.cb : new ir(Math.round(C.a.Fe.d / 2),Math.round(C.a.Fe.v / 2));
          if (n.X != null)
              X = n.X;
          else
              E = n.pk;
          O.TM.gr(C.a, f, E, X);
          C.PL = !0
      }
      if (n.e == "mskView") {
          var G = C.W[C.C[0]]
            , i = G.kl == 3 ? G.yM(C).z : G.sN();
          if (n.G == 0) {
              C.a.Hg = [1, 1, 1];
              i.ip = !1
          }
          if (n.G == 1) {
              C.a.Hg = [1, 1, 1];
              i.ip = !0
          }
          if (n.G == 2) {
              C.a.Hg = [0, 0, 0];
              i.ip = !0
          }
          for (var M = 0; M < C.fD.length; M++)
              C.fD[M].ip = !1;
          C.Rj = [];
          C.QV = !0
      }
  }
  ;
  O.TM.prototype.iV = function(n, z, C, D) {
      if (this.eL != D.r(dM.M2)) {
          this.eL = D.r(dM.M2);
          var F = {
              e: l.H.b5,
              F: this.id,
              eL: this.eL
          }
            , X = new u(l.E.P,!0);
          X.data = F;
          z.f(X);
          this.Qy(z, D)
      }
  }
  ;
  O.TM.prototype.Qy = function(n, z) {
      var C = new u(l.E.P,!0)
        , D = this.hN(z);
      C.data = {
          e: l.H.Gu,
          gc: D ? "zoom-in" : "zoom-out"
      };
      n.f(C)
  }
  ;
  O.TM.prototype.lO = function(n, z, C, D) {
      this.pk = n.pk;
      this.Qy(z, D)
  }
  ;
  O.TM.prototype.hN = function(n) {
      var z = this.pk;
      if (n.r(dM.ye) && n.r(dM.BO))
          z = !0;
      if (this.eL)
          z = !z;
      return z
  }
  ;
  O.TM.cv = function(n, z) {
      if (n.r(dM.Dm) || n.r(dM.a6B)) {
          z.F = O.d1;
          z.data = {
              e: "zoom",
              pk: !0
          }
      }
      if (n.r(dM.wj)) {
          z.F = O.d1;
          z.data = {
              e: "zoom",
              pk: !1
          }
      }
      if (n.r(dM.yD)) {
          z.F = O.d1;
          z.data = {
              e: "adapt",
              G: "fitscr"
          }
      }
      if (n.r(dM.Bv)) {
          z.F = O.d1;
          z.data = {
              e: "adapt",
              G: "pixel"
          }
      }
  }
  ;
  O.si = function(n, z, C) {
      O.gW.call(this, n, z, C);
      this.QJ = null;
      this.VJ = null;
      this.FS = null;
      this.a7m = 0
  }
  ;
  O.si.prototype = new O.gW;
  O.si.prototype.enable = function(n, z, C, D, F) {
      this.VJ = C;
      var X = new u(l.E.P,!0);
      X.data = {
          e: l.H.Gu,
          gc: "default"
      };
      z.f(X)
  }
  ;
  O.si.prototype._V = function(n, z, C, D, F) {
      if (n.LJ()[0].length == 0)
          return;
      var X = new u(l.E.P,!0);
      X.data = {
          e: l.H.b5,
          F: this.id,
          Yk: F,
          zf: n,
          mf: C
      };
      z.f(X)
  }
  ;
  O.si.prototype.xF = function(n, z) {
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.W9,
          G6: c1.UL
      };
      if (!z.iC)
          n.f(C);
      C.data = {
          e: l.H.W9,
          G6: c1.c7
      };
      if (!z.mw.E1)
          n.f(C)
  }
  ;
  O.si.prototype.oD = function(n, z, C, D) {
      if (C.ND != this.id)
          return;
      if (n.C.length == 0)
          return;
      var F = n.W[n.C[0]]
        , X = F.add.vmsk
        , E = F.add.vstk
        , f = O.si.bA(n, n.C[0]);
      this.QJ = n;
      this.FS = z;
      if (F.Ct() && X != null && (JSON.stringify(E) != JSON.stringify(C.Z$) || JSON.stringify(f) != JSON.stringify(C.n9))) {
          this.a7m = Date.now();
          var a = new u(l.E.P,!0);
          a.data = {
              e: l.H.W9,
              G6: c1.xg,
              G: f
          };
          z.f(a);
          a.data = {
              e: l.H.W9,
              G6: c1.mO,
              G: E
          };
          z.f(a)
      }
  }
  ;
  O.si.prototype.vi = function(n, z) {
      if (this.QJ == null)
          return;
      if (z == c1.Ui || z == c1.xg || z == c1.mO) {
          if (Date.now() - this.a7m < 50)
              return;
          var C = z == c1.xg
            , D = this.QJ
            , F = C ? n.n9 : n.Z$
            , X = [];
          for (var M = 0; M < D.C.length; M++) {
              var E = D.C[M]
                , f = D.W[E];
              if (!f.Ct() || f.add.vmsk == null)
                  continue;
              X.push(E)
          }
          var a = new u(l.E.M,!0);
          a.F = O.$w;
          a.data = {
              e: Q.yA,
              xD: X,
              kA: C,
              G: F
          };
          if (X.length != 0)
              this.FS.f(a)
      }
  }
  ;
  O.si.prototype.aoS = function(n) {
      if (typeof n == "number") {
          var z = new u(l.E._R,!0);
          z.data = O.oE.EI(0);
          z.data.cw.Usng.v.Type.v.Clr.v = j._.w9({
              h: n >>> 16 & 255,
              Q: n >>> 8 & 255,
              O: n >>> 0 & 255
          });
          this.FS.f(z)
      }
  }
  ;
  O.si.prototype.Nm = function(n, z, C, D, F) {
      this.FS = z;
      if (n.e == "newfill") {
          if (n.Gj == 0) {
              var X = new u(l.E.P,!0);
              X.data = {
                  e: l.H.xb,
                  gA: "colorpicker",
                  Ym: F.Du,
                  Dk: this.aoS.bind(this)
              };
              z.f(X)
          }
      } else if (n.e == "pathedit") {
          var E = n._5
            , f = ""
            , a = C.E1.slice(0)
            , q = C.ej.slice(0)
            , c = C.E1.slice(0)
            , K = C.ej.slice(0);
          if (E == "rnm") {
              var R = -1 - n.kB
                , J = a[R]
                , w = b$.j4(n.name, J.add);
              if (R != 0)
                  c[R] = w;
              else {
                  K = [c.length];
                  c.push(w);
                  c[0] = b$.j4("Work Path")
              }
              f = "Rename"
          } else if (E == "new") {
              c.push(b$.j4("Path " + a.length));
              K = [c.length - 1];
              f = "New"
          } else if (E == "del") {
              if (K.length == 0)
                  return;
              K.sort(function(o, d) {
                  return o - d
              });
              if (K[0] == 0) {
                  c[0] = b$.j4(a[0].name);
                  K = K.slice(1)
              }
              var p = 0;
              while (K.length != 0) {
                  c.splice(K[0] - p, 1);
                  K = K.slice(1);
                  p++
              }
              f = "Delete"
          } else if (E == "fromsel") {
              var I = c[0] = b$.j4("Work Path");
              K = [0];
              if (C.N == null)
                  return;
              var m = C.N.channel.slice(0);
              for (var M = 0; M < m.length; M++)
                  m[M] = m[M] > 128 ? 2 : 1;
              var A = C.N.rect.clone();
              A.TR(1, 1);
              var U = j.T(A.t());
              j.v8(m, C.N.rect, U, A);
              var r = aD.sU(U, A.d, A.v, Math.round(A.t() * 5e-4))
                , $ = aD.LJ(r)
                , k = new b6(1,0,0,1,-1 + C.N.rect.x,-1 + C.N.rect.y);
              for (var M = 0; M < $.length; M++)
                  j.K.Z($[M].path.U, k, $[M].path.U);
              for (var M = 0; M < $.length; M++) {
                  var G = $[M];
                  if (G.color == 1 && G.parent == -1)
                      continue;
                  var i = j.K.gU($[M].path, !1);
                  I.add.vmsk.g = I.add.vmsk.g.concat(i.slice(2))
              }
              I.add.vogk = Q.CD(I.add.vmsk.g);
              f = "Selection to"
          }
          var o = new hi(f + " Path",this);
          o.data = {
              te: a,
              J$: q,
              aqZ: c,
              Go: K
          };
          if (E == "fromsel") {
              o.data.vT = C.N;
              o.data.$l = null
          }
          C.OV(o);
          this.qO(o.data, C)
      } else {
          var S = C.LJ(n.e == "append")
            , $ = S[0]
            , H = S[1]
            , I = $[H[0]]
            , e = I.add.vmsk
            , V = I.add.vogk
            , v = e.clone()
            , B = e.clone()
            , Z = JSON.stringify(V);
          if (n.e == "remove") {
              if (B.C.length == 0)
                  return;
              var p = 0;
              for (var M = 0; M < B.C.length; M++) {
                  V.splice(B.C[M] + p, 1);
                  p--
              }
              B.g = j.i.aox(B.g, B.C);
              B.C = [];
              B.Hh = []
          }
          if (n.e == "append") {
              O.si.lZ(n.aeg, B, V)
          }
          this.Bi(C, I.kB, B, V);
          this.hF(C, n.$_, I.kB, v, B.clone(), null, Z, JSON.stringify(V))
      }
  }
  ;
  O.si.rQ = function(n, z) {
      var C = j.i.a44(n.g, n.C)
        , D = [];
      for (var M = 0; M < n.C.length; M++)
          D.push(JSON.parse(JSON.stringify(z[n.C[M]])));
      return [C, D]
  }
  ;
  O.si.lZ = function(n, z, C) {
      var D = j.i.AL(z.g)
        , F = j.i.AL(n[0]);
      z.g = z.g.concat(n[0].slice(2));
      z.C = [];
      for (var M = 0; M < F; M++)
          z.C.push(D + M);
      for (var M = 0; M < F; M++)
          C.push(JSON.parse(JSON.stringify(n[1][M])))
  }
  ;
  O.si.prototype.Gs = function(n, z) {
      if (z == null)
          return !1;
      var C = z.LJ()
        , D = C[0]
        , F = C[1];
      if (F.length == 0)
          return !1;
      var X = D[F[0]]
        , E = X.add.vmsk;
      if (E && E.C.length + E.Hh.length != 0)
          return [dM.as, dM.fs].indexOf(n) != -1
  }
  ;
  O.si.prototype.iV = function(n, z, C, D) {
      if (n == null)
          return;
      var F = n.LJ()
        , X = F[0]
        , E = F[1];
      if (E.length == 0)
          return;
      var f = X[E[0]]
        , a = f.add.vmsk;
      if (D.r(dM.dM) || D.r(dM.BK)) {
          a.Hh = [];
          n.QV = !0
      }
      if (a.C.length != 0) {
          var q = D.Sk();
          if (q.x != 0 || q.y != 0) {
              var c = a.clone()
                , K = a.clone()
                , R = new b6(1,0,0,1,q.x,q.y)
                , J = f.add.vogk
                , w = JSON.stringify(J);
              j.i.i3(K.g, R, K.C);
              j.hL.Z(J, j.V.aC(R), K.C);
              this.Bi(n, f.kB, K, J);
              this.hF(n, "Move Paths", f.kB, c, K.clone(), !0, w, JSON.stringify(J))
          }
          if (D.r(dM.as) || D.r(dM.fs))
              this.Nm({
                  e: "remove",
                  $_: "Delete Paths"
              }, z, n, D, C)
      }
  }
  ;
  O.si.prototype.hF = function(n, z, C, D, F, X, E, f) {
      var a = new hi(z,this);
      a.data = {
          vr: C,
          iu: D,
          sO: F,
          al_: X,
          a8E: E,
          zt: f
      };
      n.OV(a)
  }
  ;
  O.si.prototype.qO = function(n, z) {
      if (n.vr != null)
          this.Bi(z, n.vr, n.sO.clone(), JSON.parse(n.zt));
      else {
          z.E1 = n.aqZ.slice(0);
          z.ej = n.Go.slice(0);
          z.QV = z.uv = !0
      }
      if (n.vT || n.$l) {
          z.N = n.$l;
          z.U2 = !0
      }
  }
  ;
  O.si.prototype.LL = function(n, z) {
      if (n.vr != null)
          this.Bi(z, n.vr, n.iu.clone(), JSON.parse(n.a8E));
      else {
          z.E1 = n.te.slice(0);
          z.ej = n.J$.slice(0);
          z.QV = z.uv = !0
      }
      if (n.vT || n.$l) {
          z.N = n.vT;
          z.U2 = !0
      }
  }
  ;
  O.si.prototype.Bi = function(n, z, C, D) {
      var F = z < 0 ? n.E1[-1 - z] : z < 1e6 ? n.W[z] : n.W[z - 1e6].add.TySh
        , X = F.add.vmsk;
      X.channel = null;
      X.fe = !0;
      if (X.Cu) {
          X.Cu.channel = null;
          X.Cu.fe = !0
      }
      F.add.vmsk = C;
      F.add.vogk = D;
      if (1e6 <= z) {
          bZ.FC(F);
          var E = n.W[z - 1e6]
            , f = F
            , a = this.VJ
            , q = new fL(f.uR,a.E_)
            , c = iW.PX(q, f);
          E.rect = c.R;
          E.buffer = c.oz;
          E.J();
          n.J()
      } else if (0 <= z) {
          C.fe = !0;
          F.z4(n);
          n.J()
      }
      n.QV = n.uv = !0
  }
  ;
  O.si.bA = function(n, z) {
      var C = n.W[z]
        , D = C.add.vstk
        , F = null;
      if (D && !D.fillEnabled.v)
          F = {
              p2: 0
          };
      else if (C.add.SoCo)
          F = {
              p2: 1,
              Ys: C.add.SoCo
          };
      else if (C.add.GdFl)
          F = {
              p2: 2,
              Ys: C.add.GdFl
          };
      else if (C.add.PtFl)
          F = {
              p2: 3,
              Ys: C.add.PtFl
          };
      return F
  }
  ;
  O.si.FJ = function(n, z) {
      var C = n.add.vmsk
        , D = n.add.vstk
        , F = z.p2;
      if (D)
          D.fillEnabled.v = F != 0;
      if (F > 0) {
          var X = ["SoCo", "GdFl", "PtFl"][F - 1];
          for (var M = 0; M < 3; M++)
              delete n.add[["SoCo", "GdFl", "PtFl"][M]];
          n.add[X] = z.Ys
      }
  }
  ;
  O.oE = function(n, z, C, D) {
      O.si.call(this, n, z, C);
      this.AY = {
          tmode: 1,
          shape: eh.zP(),
          pshape: 0,
          binop: 0,
          crad: 0,
          irad: 40,
          length: 4,
          sides: 5,
          width: 5,
          tolr: 5,
          tsiz: 300,
          cstr: {
              x2: 0
          }
      };
      this.abo = D;
      this.nE = null;
      this.Oc = null;
      this.$X = null
  }
  ;
  O.oE.prototype = new O.si;
  O.oE.prototype.PU = function(n) {
      return n.Vn && this.id != O.s1
  }
  ;
  O.oE.prototype.enable = function(n, z, C, D, F) {
      this.VJ = C;
      var X = new u(l.E.P,!0);
      X.data = {
          e: l.H.Gu,
          gc: "crosshair"
      };
      z.f(X)
  }
  ;
  O.oE.prototype.Qt = function(n, z, C, D) {}
  ;
  O.oE.prototype.mY = function(n, z, C, D, F) {
      var X = this.AY.tmode;
      if (X != 2)
          this.xF(z, C);
      if (X == 2 && !n.Sp())
          return;
      var E = n.a.C$(F.x, F.y);
      E = O.zh.kq(n, E, C);
      this.$X = [E.x, E.y];
      this.nE = E;
      this.Oc = new ir(0,0)
  }
  ;
  O.oE.prototype.uP = function(n, z, C) {
      var D = [this.nE.clone(), z.clone()];
      if (this.abo)
          D = O.oE.xp(D[0], D[1], C, !0, this.AY.cstr);
      if (n)
          n.a.U3 = new cc(D[0].x,D[0].y,D[1].x - D[0].x,D[1].y - D[0].y);
      return this.Qt(D[0], D[1], C.r(dM.Ms), this.$X)
  }
  ;
  O.oE.prototype.Ro = function(n, z, C) {
      var D = n.a.C$(z.x, z.y)
        , F = this.AY.cstr;
      if (F.x2 == 2) {
          var X = new cc(D.x - F.x,D.y - F.y,F.x,F.y)
            , E = O.zh.yl(n, X, C);
          D.x += E[0];
          D.y += E[1];
          O.zh.lU(n, X, E)
      } else
          D = O.zh.kq(n, D, C);
      return D
  }
  ;
  O.oE.prototype.Xl = function(n, z, C, D, F) {
      if (this.nE == null)
          return;
      var X = this.$X
        , E = X.length
        , f = F ? this.Ro(n, F, C) : new ir(X[E - 2],X[E - 1]);
      if (D.r(dM.ye))
          this.nE = f.s6(this.Oc);
      else
          this.Oc = f.s6(this.nE);
      X.push(f.x, f.y);
      if (this.AY.shape == null)
          this.AY.shape = C.Vl[0];
      var a = this.uP(n, f, D)[0]
        , q = j.K.Gi(a);
      n.k.ju = q;
      if (this.id != O.s1 && this.id != O.a7 && this.id != O.bx)
          O.gW.Fo(F.x + 10, F.y - 10, n.a.U3, n, C);
      n.QV = !0
  }
  ;
  O.oE.prototype.a6c = function(n, z, C, D) {
      var F = n[4].clone();
      if (D) {
          F.x -= z / 2;
          F.y -= C / 2
      }
      var X = this.Qt(F, new ir(F.x + z,F.y + C), !1, this.$X);
      this.Vm(n[0], n[1], n[2], X)
  }
  ;
  O.oE.prototype.Vm = function(n, z, C, D) {
      var F = new u(l.E._R,!0);
      F.data = O.oE.Ru(D[1], C);
      z.f(F);
      if (D[1].v.classID == "customShape" && D[1].v.Nm.v.startsWith("--")) {
          var X = n.LJ()
            , E = X[0]
            , f = X[1]
            , a = E[f.pop()]
            , q = a.add.vmsk
            , c = a.add.vogk
            , K = q.clone();
          K.g = D[0];
          this.Bi(n, a.kB, K, c)
      }
  }
  ;
  O.oE.prototype.yg = function(n, z, C, D, F) {
      if (this.nE == null)
          return;
      var X = this.Ro(n, F, C)
        , E = this.AY.binop
        , f = this.AY.tmode
        , a = this.$X
        , q = a.length;
      if (this.id == O.s1 && q <= 4) {} else if (q <= 4) {
          X.x = Math.round(X.x);
          X.y = Math.round(X.y);
          var c = new u(l.E.P);
          c.data = {
              e: l.H.xb,
              gA: "createshape",
              apl: this.a6c.bind(this),
              agY: this.name,
              a1K: [n, z, C, D, X]
          };
          z.f(c)
      } else if (q != 2) {
          var K = this.uP(n, X, D)
            , R = K[0];
          if (f == 0 && R.length > 2) {
              R[2].fT = [1, 2, 3, 0][E];
              var J = n.LJ(!0)
                , w = J[0]
                , p = J[1]
                , I = w[p.pop()]
                , m = I.add.vmsk
                , A = I.add.vogk
                , U = m.clone()
                , r = m.clone()
                , $ = JSON.stringify(A);
              r.g = r.g.concat(R.slice(2));
              r.C = [j.i.AL(r.g) - 1];
              var k = j.hL.gp(K[1]);
              A.push(k ? k : j.hL.mo());
              this.Bi(n, I.kB, r, A);
              this.hF(n, this.name, I.kB, U, r, null, $, JSON.stringify(A))
          } else if (f == 1) {
              this.Vm(n, z, C, K)
          } else if (f == 2) {
              var r = new Q.qP;
              r.g = r.g.concat(R.slice(2));
              var G = r.sN()
                , i = j.T(G.rect.t() * 4);
              j.xM(i, (C.Du & 255) << 16 | (C.Du >> 8 & 255) << 8 | (C.Du >> 16 & 255) << 0);
              j.bl(G.channel, i, 3);
              var o = new u(l.E.M,!0);
              o.F = O.qE;
              o.data = {
                  e: "draw",
                  i4: {
                      buffer: i,
                      rect: G.rect.clone()
                  },
                  $_: this.name
              };
              z.f(o)
          }
      }
      this.nE = null;
      n.k.ju = null;
      n.k.qv = null;
      n.k.om = [];
      n.a.U3 = null;
      n.QV = !0
  }
  ;
  O.oE.prototype.lO = function(n, z, C, D, F) {
      for (var C in n)
          this.AY[C] = n[C]
  }
  ;
  O.oE.xp = function(n, z, C, D, F) {
      var X = n.x
        , E = n.y
        , f = z.x
        , a = z.y;
      if (F && F.x2 == 2) {
          if (D) {
              f = Math.round(f);
              a = Math.round(a)
          }
          X = f - F.x;
          E = a - F.y
      } else {
          var q = 0;
          if (F && F.x2 == 1)
              q = F.y / F.x;
          else if (C && C.r(dM.Ms))
              q = 1;
          if (q != 0) {
              if (D) {
                  if (X < f)
                      X = Math.floor(X);
                  else
                      X = Math.ceil(X);
                  if (E < a)
                      E = Math.floor(E);
                  else
                      E = Math.ceil(E)
              }
              var c = Math.abs(f - X)
                , K = Math.abs(a - E)
                , R = c;
              if (K / c < q)
                  R *= K / c / q;
              f = f > X ? X + R : X - R;
              a = a > E ? E + R * q : E - R * q
          }
          if (C && C.r(dM.M2)) {
              X -= f - X;
              E -= a - E
          }
      }
      var n = new ir(X,E)
        , z = new ir(f,a);
      if (D)
          O.oE.a3K(n, z);
      return [n, z]
  }
  ;
  O.oE.a3K = function(n, z) {
      if (n.x > z.x) {
          var C = n.x;
          n.x = z.x;
          z.x = C
      }
      if (n.y > z.y) {
          var C = n.y;
          n.y = z.y;
          z.y = C
      }
      n.x = Math.floor(n.x);
      n.y = Math.floor(n.y);
      z.x = Math.ceil(z.x);
      z.y = Math.ceil(z.y)
  }
  ;
  O.oE.a7E = function() {
      return {
          classID: "Mk",
          null: {
              t: "obj ",
              v: [{
                  t: "Clss",
                  v: {
                      classID: "contentLayer"
                  }
              }]
          },
          Usng: {
              t: "Objc",
              v: {
                  classID: "contentLayer",
                  Type: {
                      t: "Objc",
                      v: {}
                  }
              }
          }
      }
  }
  ;
  O.oE.EI = function(n, z) {
      var C = O.oE.a7E();
      if (z == null)
          z = JSON.parse(JSON.stringify(g$.sQ[n]));
      e3.MP.gM(z, C.Usng.v.Type.v, n);
      return {
          KY: "make",
          cw: C
      }
  }
  ;
  O.oE.Ru = function(n, z) {
      var C = z.n9
        , D = JSON.parse(JSON.stringify(z.Z$));
      if (C.p2 == 0)
          D.fillEnabled.v = !1;
      var F = O.oE.EI(Math.max(0, C.p2 - 1), C.Ys);
      F.cw.Usng.v.Shp = n;
      F.cw.Usng.v.strokeStyle = {
          t: "Objc",
          v: D
      };
      return F
  }
  ;
  O.t7 = function() {
      O.si.call(this, [10, 29], O.N2, "tools/pen");
      this.yY = null;
      this.NQ = null;
      this.Tu = null;
      this.C_ = 1;
      this.a6d = 0;
      this.f_ = null;
      this.sK = !1;
      this.Vr = !1;
      this.ba = !1
  }
  ;
  O.t7.prototype = new O.si;
  O.t7.prototype.PU = function(n) {
      return this.NQ != null
  }
  ;
  O.t7.prototype.iV = function(n, z, C, D) {
      O.si.prototype.iV.call(this, n, z, C, D);
      if (!D.r(dM.M2))
          this.ba = !1
  }
  ;
  O.t7.prototype.mY = function(n, z, C, D, F) {
      this.yY = F;
      this.xF(z, C);
      var X = n.a.C$(F.x, F.y), J, w;
      X.x = Math.round(X.x);
      X.y = Math.round(X.y);
      var E = O.zh.kq(n, X, C)
        , f = n.LJ(this.C_ == 0)
        , a = f[0]
        , q = f[1]
        , c = a[q.pop()]
        , K = c ? c.add.vmsk : null
        , R = 4 * l.D() / n.a.X;
      if (K)
          J = j.i.Lc(K.g, X, !0, R);
      var p = D.r(dM.M2);
      if (this.C_ == 1 && (K == null || K.Hh.length == 0 && J.kB == -1)) {
          var I = new u(l.E._R,!0)
            , m = j.hL.dt("customShape", [0, 0, 1, 1], null, null, null, "--");
          I.data = O.oE.Ru(m, C);
          z.f(I);
          f = n.LJ(!0);
          a = f[0];
          q = f[1];
          c = a[q.pop()];
          K = c.add.vmsk;
          K.g = K.g.slice(0, 2)
      }
      var A = c.add.vogk;
      this.NQ = K.clone();
      this.Tu = JSON.stringify(A);
      var U = K.g
        , r = j.i.AL(U);
      w = j.i.$r(K.g, new cc(X.x - R,X.y - R,R * 2,R * 2), K.Hh);
      J = j.i.Lc(K.g, X, !0, R);
      var $ = w[0].length + w[1].length + w[2].length;
      if (J.kB != -1 && w[0].length == 0) {
          var k = j.i.GS(U, J.kB);
          while (U[k].length <= J.yL) {
              J.yL -= U[k].length;
              k += U[k].length + 1
          }
          U[k].length++;
          U.splice(k + 2 + J.yL, 0, {
              type: 4,
              K1: E.clone(),
              S: E.clone(),
              yz: E.clone()
          });
          K.Hh = [k + 2 + J.yL]
      } else if ($ != 0 && p) {
          var G = 0;
          for (var M = 0; M < 3; M++)
              if (w[M].length != 0) {
                  G = w[M][0];
                  this.Vr = M == 1;
                  break
              }
          if (w[0].length != 0) {
              var i = K.g.length - 1
                , o = K.g[G];
              o.yz = o.S.clone();
              var S = o.type >= 3 ? 3 : 0;
              if (G != i) {
                  o.K1 = o.S.clone();
                  o.type = S + 1;
                  this.ba = !0
              } else
                  o.type = S + 2
          }
          K.Hh = [G]
      } else if (w[0].length == 1 && U[w[0][0] - 1] && U[w[0][0] - 1].fT == null) {
          var G = w[0][0]
            , k = j.i.Tn(U, G);
          k = j.i.GS(U, k);
          var H = k + U[k].length;
          if (G != H) {
              U[k].length--;
              U.splice(G, 1);
              H--
          }
          K.Hh = [H]
      } else {
          var e = 0;
          if (K.Hh.length != 1) {
              K.C = [r];
              U.push({
                  type: 3,
                  length: 1,
                  fT: [1, 2, 3, 0][this.a6d],
                  AB: 0,
                  ve: 0,
                  v4: 0
              });
              e = U.length;
              A.push(j.hL.mo())
          } else {
              var V = K.Hh[0]
                , v = j.i.Tn(U, V)
                , k = j.i.GS(U, v);
              V = k + U[k].length;
              if (ir.gn(X, U[k + 1].S) < R) {
                  U[k].type = 0;
                  K.Hh = [k + 1];
                  this.f_ = E;
                  this.sK = !0;
                  this.Bi(n, c.kB, K, A);
                  n.QV = !0;
                  return
              }
              U[k].length++;
              e = V + 1;
              if (V == k + 1 && U[k].length != 2)
                  e = k + 1
          }
          if (D.r(dM.Ms) && U[e - 1] && U[e - 1].S)
              E = O.rn.dC(U[e - 1].S, E);
          U.splice(e, 0, {
              type: 4,
              K1: E.clone(),
              S: E.clone(),
              yz: E.clone()
          });
          K.Hh = [e];
          this.f_ = E
      }
      this.Bi(n, c.kB, K, A);
      n.QV = !0
  }
  ;
  O.t7.prototype.Xl = function(n, z, C, D, F) {
      if (this.NQ == null)
          return;
      var X = this.yY;
      if (X && ir.gn(X, F) < 3 * l.D())
          return;
      this.yY = null;
      var E = n.a.C$(F.x, F.y)
        , f = O.zh.kq(n, E, C)
        , a = n.LJ(this.C_ == 0)
        , q = a[0]
        , c = a[1]
        , K = q[c.pop()]
        , R = K.add.vmsk
        , J = R.g
        , w = J[R.Hh[0]];
      if (D.r(dM.ye)) {
          if (D.r(dM.Ms))
              f = O.rn.dC(this.f_, f);
          var p = w.S.s6(w.yz)
            , I = w.K1.s6(w.S);
          w.yz = f;
          w.S = f.add(p);
          w.K1 = w.S.add(I)
      } else {
          if (D.r(dM.Ms))
              f = O.rn.dC(w.S, f);
          if (this.Vr) {
              var m = w.K1;
              w.K1 = w.yz;
              w.yz = m
          }
          if (this.sK) {
              var A = ir.gn(w.S, f)
                , U = A == 0 ? 0 : ir.gn(w.S, w.yz) / A;
              w.yz.x = w.S.x + U * (f.x - w.S.x);
              w.yz.y = w.S.y + U * (f.y - w.S.y)
          } else
              w.yz = f;
          if (D.r(dM.M2) && !this.ba)
              w.type = 5;
          else {
              w.type = 4;
              w.K1 = w.S.add(w.S.s6(f))
          }
          this.f_ = f;
          if (this.Vr) {
              var m = w.K1;
              w.K1 = w.yz;
              w.yz = m
          }
      }
      this.Bi(n, K.kB, R, K.add.vogk);
      n.QV = !0
  }
  ;
  O.t7.prototype.yg = function(n, z, C, D, F) {
      if (this.NQ == null)
          return;
      var X = n.LJ(this.C_ == 0)
        , E = X[0]
        , f = X[1]
        , a = E[f.pop()]
        , q = a.add.vmsk
        , c = a.add.vogk;
      if (this.sK) {
          q.Hh = [];
          this.Bi(n, a.kB, q, a.add.vogk)
      }
      var K = this.NQ.g.length
        , R = q.g.length;
      this.hF(n, this.sK ? "Close Path" : (K == R ? "Move" : K < R ? "Add" : "Delete") + " Anchor Point", a.kB, this.NQ, q.clone(), null, this.Tu, JSON.stringify(c));
      this.sK = !1;
      this.Vr = !1;
      this.ba = !1;
      this.NQ = null
  }
  ;
  O.t7.prototype.lO = function(n, z, C, D, F) {
      this.C_ = n.tmode;
      this.a6d = n.binop
  }
  ;
  O.zU = function() {
      O.oE.call(this, [10, 30], O.s1, "tools/fpen", !1)
  }
  ;
  O.zU.prototype = new O.oE;
  O.zU.prototype.Qt = function(n, z, C, D) {
      return [j.i.ev(D, this.AY.tolr), j.hL.dt("customShape", [0, 0, 1, 1], null, null, null, "--")]
  }
  ;
  O.xO = function() {
      O.si.call(this, [10, 27], O.oa, "tools/pselect");
      this.B8 = null;
      this.Nx = !1;
      this.Nl = null;
      this.NQ = null;
      this.Xz = null;
      this.Tu = null;
      this.Me = null;
      this.M9 = null;
      this.d5 = null;
      this.q0 = null
  }
  ;
  O.xO.prototype = new O.si;
  O.xO.prototype.PU = function(n) {
      return n.Vn
  }
  ;
  O.xO.prototype.mY = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y), E = n.LJ(), f = E[0], a = E[1], q, c;
      for (var M = 0; M < a.length; M++) {
          var K = f[a[M]]
            , R = K.add.vmsk
            , J = j.i.Lc(R.g, X).kB;
          if (J != -1) {
              this.Nl = q = K;
              c = J
          }
          for (var w = 0; w < R.JS.length; w++) {
              var p = j.i.Jq(R.g, R.JS[w]);
              if (p == null)
                  continue;
              var I = ir.gn(p, X);
              if (I < 4 * l.D() / n.a.X) {
                  var m = n.W[K.kB - 1e6].add.TySh
                    , A = m.uR.Curve
                    , U = m.Z
                    , r = A.Reversed;
                  A.Reversed = !1;
                  var A = fL.D1(m.uR.Curve);
                  A.Reversed = r;
                  j.K.Z(A[0], U, A[0]);
                  this.d5 = [A, w, U.nb * U.qc - U.O * U.KV];
                  this.Nl = q = K;
                  c = 0
              }
          }
          if (this.d5)
              break
      }
      if (q != null) {
          var R = q.add.vmsk;
          R.Hh = [];
          var $ = R.C.indexOf(c);
          if (D.r(dM.Ms)) {
              if ($ == -1) {
                  R.C.push(c);
                  this.Nx = !0
              } else
                  R.C.splice($, 1)
          } else {
              if ($ == -1)
                  R.C = [c];
              this.Nx = !0
          }
          this.M9 = j.i.Rb(R.g, R.C)
      }
      this.B8 = X;
      this.q0 = new iN(X);
      n.uv = !0;
      n.QV = !0
  }
  ;
  O.xO.prototype.Xl = function(n, z, C, D, F) {
      if (this.B8 == null)
          return;
      var X = n.a.C$(F.x, F.y);
      if (this.Nx) {
          X = this.q0.Nv(X, D);
          var E = this.Nl;
          if (this.NQ == null) {
              this.NQ = this.Xz = E.add.vmsk.clone();
              this.Tu = this.Me = JSON.stringify(E.add.vogk);
              if (D.r(dM.M2)) {
                  var f = this.NQ.clone()
                    , a = JSON.parse(this.Tu)
                    , q = O.si.rQ(f, a);
                  O.si.lZ(q, f, a);
                  this.Xz = f;
                  this.Me = JSON.stringify(a)
              }
          }
          var f = this.Xz.clone()
            , a = JSON.parse(this.Me);
          if (this.d5) {
              var c = this.d5
                , K = c[0][0]
                , R = j.K.ke(K, X.x, X.y);
              f.JS[c[1]] = c[0][1][R];
              var J = K[R * 2]
                , w = K[R * 2 + 1]
                , p = (K[R * 2 + 2] - J) * (X.y - w) - (K[R * 2 + 3] - w) * (X.x - J);
              if (c[2] < 0)
                  p = -p;
              f.LQ = p > 0
          } else {
              var I = this.M9.clone()
                , m = I.x
                , A = I.y;
              I.offset(X.x - this.B8.x, X.y - this.B8.y);
              I.x = Math.round(I.x);
              I.y = Math.round(I.y);
              var U = O.zh.yl(n, I, C)
                , r = new b6(1,0,0,1,I.x - m + U[0],I.y - A + U[1]);
              j.i.i3(f.g, r, f.C);
              j.hL.Z(a, j.V.aC(r), f.C);
              O.zh.lU(n, I, U)
          }
          this.Bi(n, E.kB, f, a)
      } else {
          var $ = this.B8;
          n.k.ju = j.K.YQ(new cc($.x,$.y,X.x - $.x,X.y - $.y));
          n.QV = !0
      }
  }
  ;
  O.xO.prototype.yg = function(n, z, C, D, F) {
      if (this.B8 == null)
          return;
      var X = n.a.C$(F.x, F.y)
        , E = this.Nl
        , f = E ? E.add.vmsk : null;
      if (this.Nx) {
          var a = JSON.stringify(E.add.vogk);
          if (!this.B8.jm(X))
              this.hF(n, "Move Paths", E.kB, this.NQ, f, null, this.Tu, a);
          if (n != null && n.k.qv) {
              n.k.qv = null;
              n.QV = !0
          }
      } else {
          if (f) {
              var q = this.B8
                , c = new cc(q.x,q.y,X.x - q.x,X.y - q.y)
                , K = j.i.apx(f.g, c);
              if (D.r(dM.Ms)) {
                  for (var M = 0; M < K.length; M++)
                      if (f.C.indexOf(K[M]) == -1)
                          f.C.push(K[M])
              } else
                  f.C = K
          }
          n.k.ju = null;
          n.QV = !0
      }
      this.B8 = null;
      this.NQ = null;
      this.d5 = null;
      this.Nx = !1;
      this.q0 = null
  }
  ;
  O.xO.prototype.oD = function(n, z, C, D) {
      O.si.prototype.oD.call(this, n, z, C, D);
      if (C.ND != this.id)
          return;
      if (n.C.length == 0)
          return;
      var F = n.LJ()
        , X = F[0]
        , E = F[1];
      if (E.length == 0)
          return;
      var f = X[E[0]]
        , a = f.add.vmsk
        , q = f.add.vstk
        , c = f.add.vogk
        , K = new u(l.E.P,!0);
      K.data = {
          e: l.H.b5,
          F: this.id,
          Qk: "main",
          x5: a ? a : null,
          hL: c
      };
      z.f(K)
  }
  ;
  O.xO.prototype.lO = function(n, z, C, D, F) {
      var X = n.Hc;
      if (X.x5) {
          var E = C.LJ()
            , f = E[0]
            , a = E[1];
          if (a.length == 0)
              return;
          var q = f[a[0]]
            , c = q.add.vmsk.clone()
            , K = JSON.stringify(q.add.vogk)
            , R = X.x5;
          this.Bi(C, q.kB, R, X.hL);
          var J = [18, 5];
          if (c.g.length == R.g.length)
              J = c.C[0] == R.C[0] ? "Fill Rule" : "Path Order";
          this.hF(C, J, q.kB, c, R, null, K, JSON.stringify(X.hL))
      }
  }
  ;
  O.eD = function() {
      O.si.call(this, [10, 28], O.uh, "tools/dselect");
      this.j3 = -1;
      this.WO = -1;
      this.io = null;
      this.B8 = null;
      this.Nl = null;
      this.NQ = null;
      this.Tu = null;
      this.QJ = null;
      this.b8 = 0;
      this.a25 = {
          psnap: !1
      };
      this.q0 = null
  }
  ;
  O.eD.prototype = new O.si;
  O.eD.prototype.PU = function(n) {
      return n.Vn
  }
  ;
  O.eD.prototype.lO = function(n) {
      this.a25 = n
  }
  ;
  O.eD.prototype.Nm = function(n, z, C, D, F) {
      if (n.e == "crnr") {
          if (C == null)
              return;
          var X = C.LJ()
            , E = X[0]
            , f = X[1];
          if (f.length == 0) {
              alert("No paths selected");
              return
          }
          var a = E[f[0]]
            , q = a.add.vmsk;
          if (q.Hh.length == 0) {
              alert("No corners selected");
              return
          }
          for (var M = 0; M < q.Hh.length; M++) {
              var c = q.g[q.Hh[M]];
              if (!c.S.jm(c.yz) || !c.S.jm(c.K1)) {
                  alert("Only sharp corners can be rounded");
                  return
              }
          }
          if (this.NQ == null) {
              this.NQ = a.add.vmsk.clone();
              this.Tu = JSON.stringify(a.add.vogk);
              this.Nl = a;
              this.QJ = C
          }
          var K = new u(l.E.P,!0);
          K.data = {
              e: l.H.xb,
              gA: "cornerradius",
              WG: 5,
              dX: this.a0T.bind(this)
          };
          z.f(K)
      } else
          O.si.prototype.Nm.call(this, n, z, C, D, F)
  }
  ;
  O.eD.prototype.a0T = function(n) {
      if (n == "confirm") {
          var z = this.QJ
            , C = this.Nl
            , D = C.add.vmsk
            , F = C.add.vogk;
          this.hF(z, [12, 94, 0], C.kB, this.NQ, D, null, this.Tu, JSON.stringify(F));
          this.WS();
          return
      }
      var D = this.NQ.clone()
        , F = JSON.parse(this.Tu)
        , X = D.Hh;
      if (n == "cancel") {} else {
          var E = [];
          for (var M = 0; M < X.length; M++) {
              var f = X[M]
                , a = j.i.Tn(D.g, f, !0)
                , K = 0;
              if (E.indexOf(a) != -1)
                  continue;
              E.push(a);
              var q = j.i.GS(D.g, a, !0)
                , c = D.g[q].length
                , R = [];
              for (var J = 0; J < c; J++) {
                  var w = D.Hh.indexOf(q + J + 1) == -1 ? 0 : n;
                  R.push(w);
                  if (w != 0)
                      K++
              }
              j.i.P3(D.g, q, R);
              for (var J = 0; J < X.length; J++)
                  if (X[J] > q + c)
                      X[J] += K
          }
          this.aZ(D, F);
          D.Hh = []
      }
      this.Bi(this.QJ, this.Nl.kB, D, F);
      if (n == "cancel")
          this.WS()
  }
  ;
  O.eD.prototype.disable = function(n, z, C, D) {
      this.Gp(n)
  }
  ;
  O.eD.prototype.mY = function(n, z, C, D, F) {
      this.Gp(n);
      var X = n.a.C$(F.x, F.y), K, R, J;
      this.io = X.clone();
      var E = n.LJ()
        , f = E[0]
        , a = E[1];
      if (a.length == 0)
          return;
      var q = 4 * l.D() / n.a.X
        , c = new cc(X.x - q,X.y - q,q * 2,q * 2);
      for (var w = 0; w < a.length; w++) {
          K = this.Nl = f[a[w]];
          R = K.add.vmsk;
          J = j.i.$r(R.g, c);
          if (J[0].length + J[1].length + J[2].length != 0)
              break
      }
      var p = [!1, !1, !1];
      for (var M = 0; M < 3; M++) {
          for (var I = 0; I < J[M].length; I++)
              if (R.Hh.indexOf(J[M][I]) != -1) {
                  J[M] = [J[M][I]];
                  p[M] = !0;
                  break
              }
      }
      if (J[0].length != 0 && (p[0] || !p[1] && !p[2])) {
          var m = J[0][0]
            , A = R.Hh.indexOf(m);
          if (D.r(dM.Ms)) {
              if (A == -1)
                  R.Hh.push(m);
              else {
                  R.Hh.splice(A, 1);
                  n.QV = !0;
                  return
              }
          } else if (A == -1)
              R.Hh = [m];
          this.j3 = m;
          this.WO = 0
      } else if (J[1].length != 0 && (p[1] || !p[2])) {
          this.j3 = J[1][0];
          this.WO = 1
      } else if (J[2].length != 0 && p[2]) {
          this.j3 = J[2][0];
          this.WO = 2
      } else {
          var U = j.i.Lc(R.g, X, !0, q);
          if (U.kB == -1)
              this.B8 = X;
          else {
              R.C = [U.kB];
              R.Hh = []
          }
      }
      if (this.NQ == null) {
          this.NQ = K.add.vmsk.clone();
          this.Tu = JSON.stringify(K.add.vogk)
      }
      this.q0 = new iN(X);
      n.QV = !0
  }
  ;
  O.eD.prototype.Xl = function(n, z, C, D, F) {
      if (n == null)
          return;
      var X = n.a.C$(F.x, F.y)
        , E = this.Nl;
      if (this.j3 != -1) {
          var f = this.NQ.clone()
            , a = E.add.vogk
            , q = f.g[this.j3];
          q = [q.S, q.K1, q.yz][this.WO];
          if (D.r(dM.Ms)) {
              X = this.q0.Nv(X, D);
              X.x += q.x - this.io.x;
              X.y += q.y - this.io.y
          } else {
              if (this.a25.psnap) {
                  X.x = Math.round(X.x);
                  X.y = Math.round(X.y)
              }
              X = O.zh.kq(n, X, C)
          }
          if (this.WO == 0) {
              var c = new b6(1,0,0,1,X.x - q.x,X.y - q.y);
              j.i.i3(f.g, c, null, f.Hh)
          } else {
              var K = f.g[this.j3]
                , R = K.K1
                , J = K.yz;
              if (this.WO == 2) {
                  R = K.yz;
                  J = K.K1
              }
              if (D.r(dM.M2) && (K.type == 1 || K.type == 4))
                  K.type++;
              R.oS(X.x, X.y);
              if (K.type == 1 || K.type == 4) {
                  var w = ir.gn(R, K.S)
                    , p = ir.gn(J, K.S);
                  if (p != 0) {
                      J.x = K.S.x - (R.x - K.S.x) * (p / w);
                      J.y = K.S.y - (R.y - K.S.y) * (p / w)
                  }
              }
          }
          this.aZ(f, a);
          this.Bi(n, E.kB, f, a)
      } else if (this.B8 != null) {
          var I = this.B8;
          n.k.ju = j.K.YQ(new cc(I.x,I.y,X.x - I.x,X.y - I.y));
          n.QV = !0
      } else {
          var m = n.LJ(), A = m[0], U = m[1], E, f, k;
          if (U.length == 0)
              return;
          var r = 4 * l.D() / n.a.X
            , $ = new cc(X.x - r,X.y - r,r * 2,r * 2);
          for (var G = 0; G < U.length; G++) {
              E = A[U[G]];
              f = E.add.vmsk;
              k = j.i.$r(f.g, $);
              if (k[0].length + k[1].length + k[2].length != 0)
                  break
          }
          this.Gp(n);
          for (var M = 0; M < 3; M++) {
              for (var i = 0; i < k[M].length; i++) {
                  var o = k[M][i]
                    , S = f.g[o];
                  S = M == 0 ? S.S : M == 1 ? S.K1 : S.yz;
                  n.k.IW.push(n.k.xZ.length >>> 1);
                  n.k.xZ.push(S.x, S.y);
                  n.QV = !0
              }
          }
      }
  }
  ;
  O.eD.prototype.Gp = function(n) {
      if (n && n.k.xZ.length != 0) {
          n.k.xZ = [];
          n.k.IW = [];
          n.QV = !0
      }
  }
  ;
  O.eD.prototype.yg = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y)
        , E = this.Nl
        , f = E ? E.add.vmsk : null
        , a = E ? E.add.vogk : null;
      if (this.j3 != -1) {
          if (Date.now() - this.b8 < 300) {
              var q = f.g[this.j3]
                , c = this.WO
                , K = null;
              if (c == 0) {
                  var R = q.K1.jm(q.S)
                    , J = q.yz.jm(q.S);
                  if (!R && !J) {
                      K = "Anchor Type";
                      if (q.type == 1 || q.type == 4)
                          q.type++;
                      else {
                          q.type--;
                          q.yz = q.S.add(q.S.s6(q.K1))
                      }
                  } else {
                      K = "Add Handles";
                      if (R && J) {
                          q.K1.x -= 30;
                          q.yz.x += 30
                      } else if (R)
                          q.K1 = q.S.add(q.S.s6(q.yz));
                      else if (J)
                          q.yz = q.S.add(q.S.s6(q.K1))
                  }
              } else {
                  K = "Remove Handle";
                  if (c == 1)
                      q.K1.LP(q.S);
                  else
                      q.yz.LP(q.S)
              }
              this.aZ(f, a);
              this.Bi(n, E.kB, f, a);
              this.hF(n, K, E.kB, this.NQ, f, null, this.Tu, JSON.stringify(a))
          } else if (!this.io.jm(X)) {
              this.hF(n, "Drag Anchors", E.kB, this.NQ, f, null, this.Tu, JSON.stringify(a))
          }
          this.b8 = Date.now()
      } else if (this.B8 != null) {
          var w = this.B8
            , p = new cc(w.x,w.y,X.x - w.x,X.y - w.y);
          if (p.d < 0)
              p.x += p.d;
          if (p.v < 0)
              p.y += p.v;
          p.d = Math.abs(p.d);
          p.v = Math.abs(p.v);
          var I = j.i.$r(f.g, p);
          f.Hh = I[0].concat(D.r(dM.Ms) ? f.Hh : []);
          n.k.ju = null
      }
      this.WS();
      n.QV = !0
  }
  ;
  O.eD.prototype.WS = function() {
      this.Nl = null;
      this.NQ = null;
      this.B8 = null;
      this.j3 = this.WO = -1;
      this.q0 = null
  }
  ;
  O.eD.prototype.aZ = function(n, z) {
      for (var M = 0; M < n.Hh.length; M++) {
          var C = j.i.Tn(n.g, n.Hh[M]);
          j.hL.fu(z, C)
      }
  }
  ;
  O.eD.prototype.iV = function(n, z, C, D) {
      if (n == null)
          return;
      var F = n.LJ()
        , X = F[0]
        , E = F[1];
      if (E.length == 0)
          return;
      var f = X[E[0]]
        , a = f.add.vmsk;
      if (a == null || a.Hh.length == 0)
          return;
      var q = f.add.vogk
        , c = JSON.stringify(q)
        , K = D.Sk();
      if (K.x != 0 || K.y != 0) {
          var R = a.clone()
            , J = a.clone()
            , w = new b6(1,0,0,1,K.x,K.y);
          j.i.i3(J.g, w, null, J.Hh);
          this.aZ(J, q);
          this.Bi(n, f.kB, J, q);
          this.hF(n, "Move Anchors", n.C[0], R, J.clone(), !0, c, JSON.stringify(q))
      }
      if (D.r(dM.as) || D.r(dM.fs)) {
          var R = a.clone()
            , J = a.clone();
          J.g = j.i.a3I(J.g, J.Hh, q);
          var p = j.i.AL(J.g);
          for (var M = 0; M < J.C.length; M++)
              if (J.C[M] >= p) {
                  J.C.splice(M, 1);
                  M--
              }
          J.Hh = [];
          this.Bi(n, f.kB, J, q);
          this.hF(n, "Delete Anchors", f.kB, R, J.clone(), !0, c, JSON.stringify(q))
      }
  }
  ;
  O.eD.prototype.hF = function(n, z, C, D, F, X, E, f) {
      var a = n.$B();
      if (X && a != null && a.F == this && a.data.al_ && a.data.vr == C && JSON.stringify(a.data.iu.Hh) == JSON.stringify(D.Hh)) {
          a.data.sO = F;
          a.data.zt = f
      } else {
          var a = new hi(z,this);
          a.data = {
              vr: C,
              iu: D,
              sO: F,
              al_: X,
              a8E: E,
              zt: f
          };
          n.OV(a)
      }
  }
  ;
  O.Rect = function() {
      O.oE.call(this, [10, 32], O.b_, "tools/rect", !0)
  }
  ;
  O.Rect.prototype = new O.oE;
  O.Rect.prototype.Qt = function(n, z, C) {
      var D = this.AY.crad
        , F = z.x - n.x
        , X = z.y - n.y;
      return [j.i.Ey.Rect(n.x, n.y, F, X, D), j.hL.dt("Rctn", [n.x, n.y, z.x, z.y], [D, D, D, D])]
  }
  ;
  O.mZ = function() {
      O.oE.call(this, [10, 33], O.uX, "tools/ellipse", !0)
  }
  ;
  O.mZ.prototype = new O.oE;
  O.mZ.prototype.Qt = function(n, z, C) {
      var D = z.x - n.x
        , F = z.y - n.y;
      return [j.i.Ey.mZ(n.x, n.y, D, F), j.hL.dt("Elps", [n.x, n.y, z.x, z.y])]
  }
  ;
  O.Qu = function() {
      O.oE.call(this, [10, 34], O.a7, "tools/pshape", !1)
  }
  ;
  O.Qu.prototype = new O.oE;
  O.Qu.prototype.Qt = function(n, z, C) {
      var D = this.AY.pshape, F = this.AY.crad, X = this.AY.irad / 100, E = this.AY.sides, f = this.AY.width, a = this.AY.tsiz, q = this.AY.length, I;
      z = z.clone();
      if (C) {
          if (Math.abs(z.x - n.x) < Math.abs(z.y - n.y))
              z.x = n.x;
          else
              z.y = n.y
      }
      var c = n.x
        , K = n.y
        , R = z.x
        , J = z.y
        , w = Math.sqrt((R - c) * (R - c) + (J - K) * (J - K))
        , p = Math.atan2(-J + K, R - c);
      if (D == 0)
          I = j.i.Ey.Qe(c, K, w, p, E, F);
      if (D == 1)
          I = j.i.Ey.a5V(c, K, w, p, E, F, X);
      if (D == 2)
          I = j.i.Ey.ajA(n.x, n.y, z.x, z.y, f, a / 100);
      if (D == 3)
          I = j.i.Ey.ac5(c, K, w, p, q);
      return [I, j.hL.dt("customShape", [n.x, n.y, z.x, z.y], null, null, null, "--")]
  }
  ;
  O.Qu.prototype.iV = function(n, z, C, D) {
      var F = D.Sk(), X = this.AY, E, f;
      if (F.y != 0) {
          var a = -F.y
            , q = X.pshape;
          if (q < 2) {
              E = "sides";
              f = Math.max(3, Math.min(100, X.sides + a))
          } else if (q == 2) {
              E = "width";
              f = Math.max(1, Math.min(100, X.width + a))
          } else if (q == 3) {
              E = "length";
              f = Math.max(4, Math.min(40, X.length + a))
          }
      }
      if (F.x != 0) {
          E = "pshape";
          f = Math.max(0, Math.min(3, X.pshape + F.x))
      }
      if (E) {
          var c = new u(l.E.P,!0)
            , K = {};
          K[E] = f;
          X[E] = f;
          c.data = {
              e: l.H.b5,
              F: this.id,
              _5: "vals",
              abD: K
          };
          z.f(c);
          this.Xl(n, z, C, D)
      }
  }
  ;
  O._l = function() {
      O.oE.call(this, [10, 35], O.bx, "tools/line", !1)
  }
  ;
  O._l.prototype = new O.oE;
  O._l.prototype.Qt = function(n, z, C) {
      var D = this.AY.width;
      z = z.clone();
      if (C) {
          z = O.rn.dC(n, z)
      }
      return [j.i.Ey._l(n.x, n.y, z.x, z.y, D), j.hL.dt("Ln", null, null, [n.x, n.y, z.x, z.y], D)]
  }
  ;
  O.tB = function() {
      O.oE.call(this, [10, 31], O._k, "tools/cshape", !0)
  }
  ;
  O.tB.prototype = new O.oE;
  O.tB.prototype.Qt = function(n, z, C) {
      var D = this.AY.shape
        , F = D.i6.d / D.i6.v
        , X = Q.qP.$k(D.g);
      z = z.clone();
      if (C) {
          z.y = n.y + (z.x - n.x) / F
      }
      var E = z.x - n.x
        , f = z.y - n.y;
      j.i.i3(X, new b6(E,0,0,f,n.x,n.y));
      return [X, j.hL.dt("customShape", [n.x, n.y, z.x, z.y], null, null, null, D.YZ)]
  }
  ;
  O.o = function(n, z, C) {
      O.gW.call(this, n, z, C);
      this.RF = 0;
      this.W = null;
      this.Z_ = null;
      this.mf = null;
      this.oK = 1;
      this.Eh = !1;
      this.cursor = null;
      this.JI = null;
      this.vT = null;
      this.z5 = !1;
      this.pb = null;
      this.a9U = 0;
      this.gj = null;
      this.Zg = 0;
      this.TX = null;
      this.d6 = null;
      this.TV = null;
      this.UD = null;
      this.aig = null;
      this.Dq = null
  }
  ;
  O.o.prototype = new O.gW;
  O.o.kw = function(n, z) {
      var C = {
          classID: "null",
          null: eW.ek("Dcmn", !0)
      };
      if (n)
          C.Angl = {
              t: "UntF",
              v: {
                  type: "#Ang",
                  val: z
              }
          };
      else
          C.Axis = {
              t: "enum",
              v: {
                  Ornt: z
              }
          };
      return {
          KY: n ? "rotateEventEnum" : "flip",
          cw: C
      }
  }
  ;
  O.o.prototype._V = function(n, z, C, D, F) {
      var X = new u(l.E.P,!0);
      X.data = {
          e: l.H.b5,
          F: this.id,
          Yk: F,
          zf: n,
          mf: C
      };
      z.f(X);
      this.xi = !1
  }
  ;
  O.o.prototype.PU = function(n) {
      return this.d6 && this.d6.eC()
  }
  ;
  O.o.prototype.Nm = function(n, z, C, D, F) {
      this.mf = F;
      if (n.e == "again" && this.gj == null)
          return;
      if (!this.Pp(C, F))
          return;
      if (this.d6) {
          this.Ku(n, this.d6.EA());
          this.SG(C, F, 0, !0);
          this.s_(C);
          return
      }
      this.MV(C, n.b == null, n.b);
      this.yV(C);
      this.Ku(n);
      this.zv(C, z, n.$_, !1)
  }
  ;
  O.o.prototype.Ku = function(n, z) {
      var C = this.TX;
      if (z == null) {
          var D = n.Cx != null ? n.Cx : 4;
          z = this.d6.a0I()[D]
      }
      var F = z.x
        , X = z.y;
      if (n.e == "rot" && n.G != Math.PI && (C.d + C.v & 1) == 1) {
          F = Math.floor(F);
          X = Math.floor(X)
      }
      var E = new b6;
      E.translate(-F, -X);
      if (n.e == "rot")
          E.rotate(n.G);
      if (n.e == "scl")
          E.scale(n.G.x, n.G.y);
      if (n.e == "mat")
          E.concat(n.G);
      E.translate(F, X);
      if (n.e == "again")
          E = this.gj;
      var f = this.d6.O7();
      j.K.Z(f, E, f);
      this.d6.mg(f)
  }
  ;
  O.o.prototype.TU = function() {
      return !0
  }
  ;
  O.o.prototype.Pp = function(n, z) {
      if (n == null)
          return !1;
      if (this.id == O.IL)
          return n.N != null;
      var C = n.pX(!0, null, null, !0);
      if (this.id == O.Ho && n.W[C[0]].rect.kX()) {
          alert("Layer is empty.");
          return !1
      }
      for (var M = 0; M < C.length; M++) {
          var D = n.W[C[M]];
          if (D.Ks(2) || D.Ks(31)) {
              alert(aC.get([6, 57, 0]));
              return !1
          }
          if (D.add.artb) {
              alert("You can not transform the whole artboard");
              return !1
          }
          if (D.add.TySh)
              if (!iW.dP(D.add.TySh, z.E_))
                  return !1;
          if (D.add.SoLd) {
              if (C.length == 1 && !j.Y0.Pb(D.add.SoLd.warp.v) && (D.sN() && D.sN().Ze || D.add.vmsk && D.add.vmsk.Ze)) {
                  alert("Unlink masks before transforming Smart Object");
                  return !1
              }
              if (!n.an8(D.add.SoLd.Idnt.v)) {
                  alert("Unsupported format of the smart object (" + n.H$(D.add.SoLd.Idnt.v)._8 + ")");
                  return !1
              }
          }
      }
      if (n.N == null)
          return !0;
      if (!n.Sp())
          return !1;
      return n.RH()
  }
  ;
  O.o.prototype.mY = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y);
      if (this.Zg == 1) {
          var E = j.V.eL(j.V.qw(this.d6.O7(), this.TX));
          X = j.V.uV(E, X)
      }
      var f = this.Zg == 0 ? this.d6 : this.TV;
      this.Eh = f.mY(n, C, D, X);
      if (this.Eh && f.q8(X)) {
          if (Date.now() - this.a9U < 250)
              this.zv(n, z, null, !0);
          this.a9U = Date.now()
      }
  }
  ;
  O.o.prototype.Ci = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.Gu,
          gc: this.cursor
      };
      n.f(z)
  }
  ;
  O.o.prototype.Xl = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y);
      if (this.Zg == 1) {
          var E = j.V.eL(j.V.qw(this.d6.O7(), this.TX));
          X = j.V.uV(E, X)
      }
      var f = this.Zg == 0 ? this.d6 : this.TV;
      if (!F.Vn) {
          var a = "default";
          if (f) {
              var q = f.Li(X, n.a.X);
              if (q)
                  a = q
          }
          if (a != this.cursor) {
              this.cursor = a;
              this.Ci(z)
          }
      }
      if (!this.Eh)
          return;
      f.Xl(n, C, D, X);
      this.SG(n, C, 0, !0);
      this.s_(n);
      this.OJ(z)
  }
  ;
  O.o.prototype.yg = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y);
      this.d6.yg(n, C, D, X);
      this.Eh = !1
  }
  ;
  O.o.prototype.iV = function(n, z, C, D) {
      if (D.r(dM.BK))
          this.zv(n, z, null, !0);
      else if (D.r(dM.dM))
          this.I_(n, z);
      else {
          var F = this.d6.iV(n, C, D);
          if (F) {
              this.SG(n, C, 0, !0);
              this.OJ(z)
          }
      }
  }
  ;
  O.o.prototype.lO = function(n, z, C, D) {
      if (n.Qk == "commit")
          this.zv(C, z, null, !0);
      else if (n.Qk == "cancel")
          this.I_(C, z);
      else if (n.Qk == "switchWarp") {
          this.Zg = 1 - this.Zg;
          this.a3W();
          this.s_(C);
          this.OJ(z)
      } else if (n.Qk == "wrp") {
          this.TV.rD(n.DH);
          this.s_(C);
          this.SG(C, this.mf, 0, !0)
      } else if (n.Qk == "ctyp") {
          this.d6.ahn(n.bU);
          this.s_(C);
          this.OJ(z)
      } else if (n.Qk == "cen") {
          this.d6.a5S(n.qA);
          this.s_(C);
          this.SG(C, this.mf, 0, !0);
          this.OJ(z)
      } else if (n.Qk == "trn") {
          var F = j.V.aC(n.jZ)
            , X = this.TX
            , E = j.V.qw(this.d6.O7(), this.TX);
          F[6] = E[6],
          F[7] = E[7];
          var f = [X.x, X.y, X.x + X.d, X.y, X.x + X.d, X.y + X.v, X.x, X.y + X.v];
          j.V.Z(F, f);
          this.oK = n.oK;
          this.d6.mg(f);
          this.s_(C);
          this.SG(C, this.mf, 0, !0)
      }
  }
  ;
  O.o.prototype.s_ = function(n) {
      if (this.Zg == 0)
          this.d6.Ww(n, this.mf);
      else {
          this.TV.Ww(n);
          var z = j.V.qw(this.d6.O7(), this.TX);
          j.V.Z(z, n.k.ju.U);
          j.V.Z(z, n.k.rh)
      }
  }
  ;
  O.o.prototype.zv = function(n, z, C, D) {
      this.SG(n, this.mf, this.oK);
      var F = new hi(C ? C : this.name,this);
      if (this.RF == 0)
          F.data = {
              type: this.RF,
              W: this.W,
              pb: this.Z_,
              PV: O.o.LI(n, this.W)
          };
      else if (this.RF == 1) {
          var X = n.W[this.W[0]], E;
          if (X.aU.kl <= 0) {
              E = j.T(X.aU.pK.t());
              j.Ni(X.aU.yx, E, 3)
          } else
              E = n.N.channel;
          var f = {
              rect: X.aU.pK.clone(),
              channel: E
          };
          F.data = {
              type: this.RF,
              b: this.W[0],
              vT: this.vT,
              $l: f,
              JI: this.JI,
              z5: this.z5,
              aU: X.aU,
              pb: this.pb,
              PV: {
                  R: X.aU.pK,
                  Q5: X.aU.yx
              }
          }
      } else if (this.RF == 2) {
          F.data = {
              type: this.RF,
              vT: this.vT,
              $l: {
                  rect: n.N.rect.clone(),
                  channel: n.N.channel.slice(0)
              }
          }
      }
      n.OV(F);
      var a = this.TX
        , q = new ir(a.x + a.d / 2,a.y + a.v / 2)
        , c = j.V.qw(this.d6.O7(), a)
        , K = j.V.BT(c)
        , R = new b6;
      R.translate(q.x, q.y);
      R.concat(K);
      R.translate(-q.x, -q.y);
      K = R.clone();
      var J = -Math.atan2(-K.O, K.nb)
        , w = new b6;
      w.rotate(J);
      K.concat(w);
      function p(A, U) {
          return {
              t: "UntF",
              v: {
                  type: ["#Pxl", "#Prc", "#Ang"][U],
                  val: A
              }
          }
      }
      var I = eW.ek("Lyr", !0);
      if (this.id == O.IL)
          I.v[0] = {
              t: "prop",
              v: {
                  classID: "Chnl",
                  keyID: "fsel"
              }
          };
      var m = {
          classID: "null",
          null: I,
          FTcs: {
              t: "enum",
              v: {
                  QCSt: "Qcsa"
              }
          },
          Intr: {
              t: "enum",
              v: {
                  Intp: "Bcbc"
              }
          },
          Ofst: {
              t: "Objc",
              v: {
                  __name: "Offset",
                  classID: "Ofst",
                  Hrzn: p(R.H1, 0),
                  Vrtc: p(R.Wv, 0)
              }
          },
          Skew: {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Hrzn: p(Math.atan(K.KV) * 180 / Math.PI, 2),
                  Vrtc: p(0, 2)
              }
          },
          Wdth: p(K.nb * 100, 1),
          Hght: p(K.qc * 100, 1),
          Angl: p(J * 180 / Math.PI, 2)
      };
      this.FS = z;
      this.track({
          KY: "transform",
          cw: m
      });
      this.escape(n, z, D)
  }
  ;
  O.o.prototype.I_ = function(n, z) {
      if (this.RF == 0)
          O.o.IN(n, this.W, this.Z_);
      else if (this.RF == 1) {
          var C = n.W[this.W[0]];
          n.N = this.vT;
          if (!this.z5) {
              C.aU.pK = this.pb.R;
              C.aU.yx = this.pb.Q5;
              C.h2(n, 0, 0, n.N)
          } else {
              C.qX(n, this.JI)
          }
          n.J();
          n.U2 = !0
      } else if (this.RF == 2) {
          n.N = this.vT;
          n.U2 = !0
      }
      this.escape(n, z, !0)
  }
  ;
  O.o.prototype.escape = function(n, z, C) {
      this.d6.clear(n);
      this.d6 = null;
      this.TV = null;
      this.Dq = null;
      this.Zg = 0;
      if (C)
          this.hn(z, l.E.P, {
              e: l.H.Gw
          })
  }
  ;
  O.o.prototype.qO = function(n, z) {
      if (n.type == 0)
          O.o.IN(z, n.W, n.PV);
      else {
          if (n.type == 1) {
              var C = z.W[n.b];
              if (n.z5) {
                  C.aU = n.aU
              } else {
                  C.aU.pK = n.PV.R;
                  C.aU.yx = n.PV.Q5
              }
              C.h2(z, 0, 0, z.N);
              z.J()
          }
          z.N = {
              rect: n.$l.rect.clone(),
              channel: n.$l.channel.slice(0)
          };
          z.U2 = !0
      }
  }
  ;
  O.o.prototype.LL = function(n, z) {
      if (n.type == 0)
          O.o.IN(z, n.W, n.pb);
      else {
          if (n.type == 1) {
              var C = z.W[n.b];
              if (n.z5) {
                  C.qX(z, n.JI)
              } else {
                  C.aU.pK = n.pb.R;
                  C.aU.yx = n.pb.Q5;
                  C.h2(z, 0, 0, z.N)
              }
              z.J()
          }
          z.N = n.vT;
          z.U2 = !0
      }
  }
  ;
  O.o.prototype.MV = function(n, z, C) {
      n.LJ();
      var D = [];
      if (C == null)
          for (var M = 0; M < n.ej.length; M++)
              if (n.E1[n.ej[M]].add.vmsk.g.length > 2)
                  D.push(-1 - n.ej[M]);
      var F = []
        , X = n.a.Hg;
      if (X[0] + X[1] + X[2] == 3)
          if (C != null || D.length == 0 || n.Tj != null && n.Tj.length != 0)
              F = n.pX(z, C, null, !0);
      F = F.concat(D);
      for (var M = 0; M < n.Rj.length; M++)
          F.push(-1e3 - n.Rj[M]);
      this.W = F
  }
  ;
  O.o.prototype.enable = function(n, z, C, D, F, X, E) {
      if (this.cursor == null)
          this.cursor = "default";
      this.Ci(z);
      if (this.d6)
          return;
      this.mf = C;
      this.MV(n, !0);
      this.yV(n, X && X.Xt != null && X.Xt != -1 ? X.Xt : null, E);
      this.OJ(z);
      this.s_(n);
      if (X && X.Xt == -1)
          this.lO({
              Qk: "switchWarp"
          }, z, n, D)
  }
  ;
  O.o.prototype.OJ = function(n) {
      var z = {
          e: l.H.b5,
          F: this.id
      };
      if (this.Zg == 0) {
          var C = j.V.qw(this.d6.O7(), this.TX)
            , D = j.V.BT(C);
          z.jZ = {
              A1: D,
              bU: this.d6.a1h(),
              qA: this.d6.EA(),
              R: this.TX.clone()
          }
      } else {
          z.DH = this.TV.hM()
      }
      z.a1Q = this.TV != null;
      this.hn(n, l.E.P, z)
  }
  ;
  O.o.prototype.yV = function(n, z, C) {
      var D = this.id == O.IL
        , F = !0
        , X = this.W[0]
        , E = n.W[X]
        , a = null;
      if (D) {
          this.RF = 2;
          this.vT = n.N
      } else if (n.N && this.W.length == 1 && X >= 0 && !E.rect.kX()) {
          this.RF = 1;
          this.vT = n.N;
          this.JI = E.aU;
          this.z5 = !1;
          if (!E.D6(n, n.N)) {
              this.z5 = !0;
              E.B6(n, n.N, !1)
          }
          this.pb = {
              Q5: E.aU.yx,
              R: E.aU.pK
          }
      } else {
          this.RF = 0;
          this.Z_ = O.o.LI(n, this.W, null, C);
          for (var M = 0; M < this.Z_.length; M++)
              if (this.Z_[M][3] != null)
                  F = !1
      }
      var f = this.RF == 1;
      if (this.Z_ && this.Z_.length == 1) {
          var q = this.Z_[0];
          if (q[3] == null)
              f = !0;
          if (q[4] != null) {
              a = n.W[this.W[0]].add.SoLd;
              if (q[1] || q[2])
                  f = !1
          }
      }
      var c = D ? n.N.rect.clone() : O.o.Td(n, this.W, C);
      this.TX = c;
      if (!D && a) {
          var K = O.o.VV(a.nonAffineTransform);
          this.TX = j.K.AN(j.Y0.ea(a.warp.v));
          if (f)
              this.TV = new dd(a.warp.v);
          this.UD = j.V.qw(K, this.TX);
          this.d6 = new ip(K,!0,!0,F,!1,!1,z)
      } else {
          if (f || D)
              this.TV = new dd(j.Y0.T(this.TX));
          this.UD = [1, 0, 0, 0, 1, 0, 0, 0];
          if (this.id == O.Ho)
              z = 3;
          this.d6 = new ip([c.x, c.y, c.x + c.d, c.y, c.x + c.d, c.y + c.v, c.x, c.y + c.v],!0,!0,F,!1,!1,z)
      }
      this.aig = [1, 0, 0, 0, 1, 0, 0, 0];
      if (this.id == O.Ho) {
          var R, J;
          if (this.Z_) {
              var w = this.Z_[0][0]
                , p = w.LG;
              R = p[0];
              J = p[1]
          } else if (this.pb) {
              R = this.pb.Q5;
              J = this.pb.R
          }
          this.Dq = j.g2.aq4(R, J.d, J.v)
      }
  }
  ;
  O.o.Td = function(n, z, C) {
      if (z == null)
          z = n.pX(!0, null, null, !0);
      var D = new cc
        , F = new cc;
      if (n.N && z.length == 1 && z[0] >= 0)
          D = n.N.rect.clone();
      else
          for (var M = 0; M < z.length; M++) {
              var X = z[M]
                , E = 0 <= X ? n.W[X] : -1e3 < X ? n.E1[-1 - X] : n.fD[-1e3 - X]
                , f = E.add ? E.add.vmsk : null
                , a = 0 <= X ? E.xA(n, z.length == 1, !1, C) : -1e3 < X ? j.i.Rb(f.g, z.length == 1 && f.C.length != 0 ? f.C : null) : E.rect.clone();
              D = D.QH(a);
              if (X > 0 && E.add.artb)
                  F = F.QH(E.qJ())
          }
      return !F.kX() ? F : D
  }
  ;
  O.o.prototype.hn = function(n, z, C, D) {
      var F = new u(z,!0);
      F.data = C;
      if (D)
          F.F = D;
      n.f(F)
  }
  ;
  O.o.LI = function(n, z, C, D) {
      var F = [];
      for (var M = 0; M < z.length; M++) {
          var X = z[M], E, f;
          if (X >= 0) {
              E = n.W[X];
              f = E.wP(n, C, D)
          } else if (X > -1e3) {
              E = n.E1[-1 - X];
              f = [2]
          } else {
              F.push([null, null, null, null, null, null, null, n.fD[-1e3 - X].clone()]);
              continue
          }
          var a = [];
          if (f.indexOf(0) != -1) {
              var q = {
                  LG: [E.buffer.slice(0), E.rect.clone()]
              };
              a.push(q);
              if (E.ei()) {
                  var c = E.yM(n);
                  q.am7 = c.buffer.slice(0);
                  q.ak$ = c.rect.clone()
              }
          } else
              a.push(null);
          if (f.indexOf(1) != -1)
              a.push(E.sN().clone());
          else
              a.push(null);
          if (f.indexOf(2) != -1)
              a.push({
                  x5: E.add.vmsk.clone(),
                  Bt: E.add.vstk ? JSON.parse(JSON.stringify(E.add.vstk)) : null,
                  Ys: E.add.vstk ? O.si.bA(n, X) : null,
                  hL: E.add.vogk ? JSON.parse(JSON.stringify(E.add.vogk)) : null
              });
          else
              a.push(null);
          if (E.add.TySh && a[0]) {
              bZ.FC(E.add.TySh);
              a.push(E.add.TySh.Z.clone())
          } else
              a.push(null);
          if (E.add.SoLd && a[0])
              a.push(JSON.parse(JSON.stringify(E.add.SoLd)));
          else
              a.push(null);
          if (f.indexOf(3) != -1)
              a.push(E.yM(n).z.clone());
          else
              a.push(null);
          if (E.add.lmfx)
              a.push(JSON.stringify(E.add.lmfx));
          else
              a.push(null);
          F.push(a)
      }
      return F
  }
  ;
  O.o.IN = function(n, z, C) {
      for (var M = 0; M < z.length; M++) {
          var D = z[M]
            , F = 0 <= D ? n.W[D] : -1e3 < D ? n.E1[-1 - D] : n.fD[-1e3 - D]
            , X = C[M];
          if (X[0]) {
              F.rect = X[0].LG[1].clone();
              F.buffer = X[0].LG[0].slice(0);
              if (F.ei()) {
                  var E = F.yM(n);
                  E.buffer = X[0].am7.slice(0);
                  E.rect = X[0].ak$.clone()
              }
          }
          if (X[1]) {
              F.sN().channel = X[1].channel.slice(0);
              F.sN().rect = X[1].rect.clone();
              F.sN().fe = !0
          }
          if (X[2]) {
              F.add.vmsk = X[2].x5.clone();
              if (X[2].Ys)
                  O.si.FJ(F, X[2].Ys);
              if (X[2].Bt)
                  F.add.vstk = JSON.parse(JSON.stringify(X[2].Bt));
              if (X[2].hL)
                  F.add.vogk = JSON.parse(JSON.stringify(X[2].hL))
          }
          if (X[3]) {
              F.add.TySh.Z = X[3].clone();
              bZ.O4(F.add.TySh)
          }
          if (X[4]) {
              F.add.SoLd = JSON.parse(JSON.stringify(X[4]))
          }
          if (X[5]) {
              var f = F.yM(n).z;
              f.channel = X[5].channel.slice(0);
              f.rect = X[5].rect.clone()
          }
          if (X[6]) {
              F.add.lmfx = JSON.parse(X[6])
          }
          if (X[7]) {
              F.channel = X[7].channel.slice(0);
              F.rect = X[7].rect.clone();
              F.fe = !0
          }
          if (0 <= D) {
              F.z4(n);
              F.J()
          }
      }
      n.J()
  }
  ;
  O.o.Jr = function(n) {
      var z = n.clone()
        , C = Math.atan2(-z.O, z.nb)
        , D = new b6;
      D.rotate(-C);
      z.concat(D);
      return (Math.abs(z.nb) + Math.abs(z.qc)) / 2
  }
  ;
  O.o.qH = function(n, z, C, D, F, X, E, f, a, q) {
      if (typeof X[0] == "number") {
          var c = [];
          for (var M = 0; M < C.length; M++)
              c[M] = X;
          X = c
      }
      for (var M = 0; M < C.length; M++) {
          var K = X[M]
            , R = j.V.BT(K)
            , J = O.o.Jr(R)
            , w = C[M]
            , p = 0 <= w ? n.W[w] : -1e3 < w ? n.E1[-1 - w] : n.fD[-1e3 - w]
            , I = D[M];
          if (I[0] && p.add.lmfx && f)
              fg.Wj(p.add.lmfx, J);
          if (I[0] && !I[3] && !I[4] && !I[5]) {
              var m = I[0].LG;
              if (a) {
                  var A = a.clone()
                    , U = j.T(A.t() * 4);
                  j.X3(m[0], m[1], U, A);
                  m = [U, A]
              }
              var r = O.o._O(m, F, K, E, F == 0 ? p.buffer.buffer : null, null, null, q);
              if (r) {
                  p.rect = r.rect;
                  p.buffer = r.buffer
              }
          }
          if (I[1])
              O.o.uU(n, I[1], p.sN(), F, K, E);
          if (I[2]) {
              var $ = E && !j.Y0.Pb(E)
                , k = I[2].x5.clone()
                , G = C.length == 1 && k.C.length != 0
                , i = C.length == 1 && k.Hh.length > 1;
              if (i)
                  G = !1;
              var o = G ? k.C : null
                , S = i ? k.Hh : null;
              if ($) {
                  var H = j.Y0.ea(E);
                  j.V.Z(K, H);
                  j.i.aiB(k.g, H, o, S)
              } else
                  j.i.aed(k.g, K, o, S);
              if (p.add.vstk && f) {
                  p.add.vstk.strokeStyleLineWidth.v.val = I[2].Bt.strokeStyleLineWidth.v.val * J;
                  var e = I[2].Ys;
                  if (e && e.p2 == 3) {
                      e = JSON.parse(JSON.stringify(e));
                      var V = e.Ys.phase.v;
                      e.Ys.Scl.v.val = Math.round(e.Ys.Scl.v.val * J);
                      V.Hrzn.v = Math.round(V.Hrzn.v * J);
                      V.Vrtc.v = Math.round(V.Vrtc.v * J);
                      O.si.FJ(p, e)
                  }
              }
              if (p.add.vogk) {
                  p.add.vogk = JSON.parse(JSON.stringify(I[2].hL));
                  if ($ || i)
                      j.hL.aoY(p.add.vogk);
                  else
                      j.hL.Z(p.add.vogk, K, C.length > 1 ? [] : k.C, f)
              }
              k.PJ *= J;
              p.add.vmsk = k;
              if (p.add.vogk)
                  j.hL.Lf(p.add.vogk, p.add.vmsk)
          }
          if (I[3]) {
              var v = I[3].clone();
              v.concat(R);
              p.add.TySh.Z = v;
              bZ.O4(p.add.TySh);
              var B = new fL(p.add.TySh.uR,z.E_)
                , Z = iW.PX(B, p.add.TySh);
              p.rect = Z.R;
              p.buffer = Z.oz
          }
          if (I[4]) {
              var d = p.add.SoLd
                , g = O.o.VV(I[4].nonAffineTransform);
              j.V.Z(K, g);
              var Y = j.K.OH(g);
              if (ip.fx(g)) {
                  if (E) {
                      var y = j.K.AN(j.Y0.ea(I[4].warp.v))
                        , L = j.V.qw(g, y)
                        , _ = j.K.AN(j.Y0.ea(E));
                      g = [_.x, _.y, _.x + _.d, _.y, _.x + _.d, _.y + _.v, _.x, _.y + _.v];
                      j.V.Z(L, g);
                      d.warp.v = E
                  }
                  var b = j.V.qw(g)
                    , x = g;
                  if (!j.V.yj(b)) {
                      b[6] = b[7] = 0;
                      x = [0, 0, 1, 0, 1, 1, 0, 1];
                      j.V.Z(b, x)
                  }
                  d.Trnf = O.o.IO(x);
                  d.nonAffineTransform = O.o.IO(g);
                  if (d.filterFX)
                      d.filterFX = JSON.parse(JSON.stringify(I[4].filterFX));
                  O.o.$W(d, R);
                  p.V_(n, F == 0)
              }
          }
          if (I[5])
              O.o.uU(n, I[5], p.yM(n).z, F, K, E);
          if (I[7])
              O.o.uU(n, I[7], p, F, K, E);
          if (0 <= w) {
              if (F != 0)
                  p.BL();
              p.z4(n);
              p.J()
          }
      }
      n.J()
  }
  ;
  O.o.QQ = function(n, z, C, D, F, X) {
      if (C == null)
          C = !1;
      return O.o._O(n, C ? 0 : 1, j.V.aC(z), null, D, F, X, C)
  }
  ;
  O.o._O = function(n, z, C, D, F, X, E, f) {
      if (f == null)
          f = !1;
      if (f && E)
          throw "e";
      var a = {}
        , R = 0
        , J = .3;
      if (D && !j.Y0.Pb(D)) {
          var q = j.Y0.ea(D);
          j.V.Z(C, q);
          a.rect = j.K.OH(q);
          a.buffer = j.T(a.rect.t() * 4);
          j._N.drawImage(q, n[0], n[1].d, n[1].v, a.buffer, a.rect, z == 0);
          return a
      }
      j.Lp(n);
      var c = n[0]
        , K = n[1]
        , w = K.t() * O.o.Jr(j.V.BT(C));
      if (f && w > 4e6)
          J = w > 8e6 ? 2.2 : 1.2;
      while (R + 3 < n.length && n[R + 3].t() > 16 && j.V.yj(C) && O.o.Jr(j.V.BT(C)) < J) {
          R += 2;
          var p = n[R]
            , I = n[R + 1]
            , m = K.d / I.d
            , A = K.v / I.v;
          C = j.V.Lm(C, [1, 0, K.x, 0, 1, K.y, 0, 0]);
          C = j.V.Lm(C, [m, 0, 0, 0, A, 0, 0, 0]);
          C = j.V.Lm(C, [1, 0, -K.x, 0, 1, -K.y, 0, 0]);
          K = I;
          c = p
      }
      var U = j.V.Lm(C, j.V.aC(new b6(K.d,0,0,K.v,K.x,K.y)))
        , r = [0, 0, 1, 0, 1, 1, 0, 1];
      j.V.Z(U, r);
      a.rect = j.K.OH(r);
      if (E)
          a.rect = a.rect.Yi(E);
      if (f) {
          while ((a.rect.d & 3) != 0)
              a.rect.d++;
          while ((a.rect.v & 3) != 0)
              a.rect.v++
      }
      if (!ip.fx(r) || a.rect.d > 1e5 || a.rect.v > 1e5 || a.rect.t() > 3e4 * 3e4)
          return null;
      var $ = a.rect.t() * 4;
      if (F && F.byteLength >= $ && $ >= F.byteLength >> 2) {
          a.buffer = new Uint8Array(F)
      } else {
          a.buffer = j.T($)
      }
      j.V.drawImage(U, c, K.d, K.v, a.buffer, a.rect, z == 0, X, f);
      if (z == 2 && a.buffer) {
          var k = a.rect.d, G = a.rect.v, i;
          i = [0, -1, 0, -1, 16, -1, 0, -1, 0];
          i = j.nI.lI(i);
          var o = a.buffer.slice(0);
          j.nI.jv(o, a.buffer, k, G, i, 255, !1, !0)
      }
      if (a.buffer)
          return a
  }
  ;
  O.o.uU = function(n, z, C, D, F, X) {
      if (z.color == 255)
          j.eL(z.channel);
      var E = z.rect
        , f = j.T(E.t() * 4);
      j.bl(z.channel, f, 3);
      var a = O.o._O([f, E], D, F, X);
      if (a) {
          C.rect = a.rect;
          C.channel = j.T(a.rect.t());
          j.Ni(a.buffer, C.channel, 3);
          C.fe = !0
      }
      if (z.color == 255) {
          j.eL(z.channel);
          if (a)
              j.eL(C.channel)
      }
  }
  ;
  O.o.$W = function(n, z) {
      var C = n.filterFX;
      if (C)
          C = C.v.filterFXList;
      if (C)
          C = C.v;
      if (C)
          for (var D = 0; D < C.length; D++) {
              var F = C[D].v.Fltr;
              if (F == null || F.v.classID != "rigidTransform")
                  continue;
              F = F.v;
              console.log(F);
              var X = [];
              for (var E = 0; E < 4; E++)
                  X.push(F["PuX" + E].v, F["PuY" + E].v);
              j.K.Z(X, z, X);
              for (var E = 0; E < 4; E++) {
                  F["PuX" + E].v = X[E * 2];
                  F["PuY" + E].v = X[E * 2 + 1]
              }
              var f = ["PinP", "posFinalPins"]
                , a = ["originalVertexArray", "deformedVertexArray"]
                , q = F.puppetShapeList.v;
              for (var c = 0; c < q.length; c++) {
                  var K = q[c].v;
                  for (var R = 0; R < f.length; R++) {
                      var J = O.o.VV(K[f[R]]);
                      j.K.Z(J, z, J);
                      K[f[R]] = O.o.IO(J);
                      var w = new Uint8Array(K[a[R]].v)
                        , p = new Float32Array(w.buffer);
                      j.K.Z(p, z, p);
                      var I = [];
                      for (var m = 0; m < w.length; m++)
                          I[m] = w[m];
                      K[a[R]].v = I
                  }
              }
          }
  }
  ;
  O.o.VV = function(n) {
      var z = []
        , C = n.v.length;
      for (var M = 0; M < C; M++)
          z.push(n.v[M].v);
      return z
  }
  ;
  O.o.IO = function(n) {
      var z = {
          t: "VlLs",
          v: []
      }
        , C = n.length;
      for (var M = 0; M < C; M++)
          z.v.push({
              t: "doub",
              v: n[M]
          });
      return z
  }
  ;
  O.o.prototype.a3W = function() {
      var n = j.K.AN(j.Y0.ea(this.TV.hM()))
        , z = j.V.qw(this.d6.O7(), this.TX)
        , C = [n.x, n.y, n.x + n.d, n.y, n.x + n.d, n.y + n.v, n.x, n.y + n.v];
      j.V.Z(z, C);
      this.d6.mg(C);
      this.TX = n
  }
  ;
  O.o.prototype.SG = function(n, z, C, D) {
      var F = j.V.qw(this.d6.O7(), this.TX);
      F = j.V.Lm(F, j.V.eL(this.UD));
      var X = this.TV ? this.TV.hM() : null;
      if (this.RF == 0) {
          var E = this.gj = j.V.BT(F);
          if (this.id == O.Ho) {
              var f = this.Z_[0][0]
                , a = f.LG
                , q = a[1]
                , c = ~~(q.d * Math.max(0, E.nb))
                , K = ~~(q.v * Math.max(0, E.qc))
                , R = new cc(Math.round(E.nb * q.x + E.H1),Math.round(E.qc * q.y + E.Wv),c,K)
                , J = j.g2.Z(this.Dq, R)
                , w = n.W[this.W[0]];
              w.buffer = J;
              w.rect = R;
              w.J();
              n.J()
          } else
              O.o.qH(n, z, this.W, this.Z_, C, F, X, null, null, D)
      } else if (this.RF == 1) {
          var p = n.W[this.W[0]]
            , q = this.pb.R;
          if (p.kl <= 0) {
              var I = this.pb.Q5
                , m = this.vT
                , A = null;
              if (X && !j.Y0.Pb(X) && !m.rect.jm(q)) {
                  var J = j.T(m.rect.t() * 4);
                  j.X3(I, q, J, m.rect);
                  I = J;
                  q = m.rect
              }
              if (this.id == O.Ho) {
                  var E = this.gj = j.V.BT(F)
                    , c = ~~(q.d * Math.max(0, E.nb))
                    , K = ~~(q.v * Math.max(0, E.qc))
                    , R = new cc(Math.round(E.nb * q.x + E.H1),Math.round(E.qc * q.y + E.Wv),c,K)
                    , J = j.g2.Z(this.Dq, R);
                  A = {
                      buffer: J,
                      rect: R
                  }
              } else
                  A = O.o._O([I, q], C, F, X);
              if (A) {
                  p.aU.yx = A.buffer;
                  p.aU.pK = A.rect;
                  var U = j.T(A.rect.t());
                  j.Ni(p.aU.yx, U, 3);
                  n.N = {
                      channel: U,
                      rect: p.aU.pK.clone()
                  }
              }
          } else {
              var r = j.T(q.t() * 4);
              j.bl(this.pb.Q5, r, 3);
              var A = O.o._O([r, q], C, F, X);
              if (A) {
                  p.aU.yx = j.T(A.rect.t());
                  j.Ni(A.buffer, p.aU.yx, 3);
                  p.aU.pK = A.rect
              }
              this.vI(n, C, F, X)
          }
          p.h2(n, 0, 0, n.N);
          if (C != 0) {
              p.BL();
              j.BL(n.N)
          }
          n.U2 = !0;
          n.J()
      } else if (this.RF == 2)
          this.vI(n, C, F, X)
  }
  ;
  O.o.prototype.vI = function(n, z, C, D) {
      var F = this.vT.rect
        , X = j.T(F.t() * 4);
      j.bl(this.vT.channel, X, 3);
      var E = O.o._O([X, F], z, C, D)
        , f = j.T(E.rect.t());
      j.Ni(E.buffer, f, 3);
      n.N = {
          channel: f,
          rect: E.rect
      };
      n.U2 = !0
  }
  ;
  O.o.prototype.disable = function(n, z, C, D) {
      if (this.d6)
          this.zv(n, z, null, !0)
  }
  ;
  O.pQ = function() {
      O.o.call(this, [10, 16], O.A6, "tools/transform")
  }
  ;
  O.pQ.prototype = new O.o;
  O.Ov = function() {
      O.o.call(this, [7, 10], O.IL, "tools/transform")
  }
  ;
  O.Ov.prototype = new O.o;
  O.Cv = function() {
      O.o.call(this, [10, 48], O.Ho, "tools/transform")
  }
  ;
  O.Cv.prototype = new O.o;
  O.kc = function(n, z, C) {
      O.gW.call(this, [10, 46], O.mz, "tools/transform");
      this.zB = [1, 1, 2, !0];
      this.Pw = "rigidTransform";
      this.VI = null;
      this.aet = null;
      this.xW = null;
      this.Yf = null;
      this.Ml = null;
      this.ED = null;
      this.zV = []
  }
  ;
  O.kc.prototype = new O.gW;
  O.kc.prototype.TU = function() {
      return !0
  }
  ;
  O.kc.H6 = function(n) {
      if (n == null)
          return !1;
      if (n.C.length != 1)
          return !1;
      var z = n.W[n.C[0]];
      return z.add.SoLd || n.Sp(!1)
  }
  ;
  O.kc.prototype.Pp = function(n, z) {
      return O.kc.H6(n)
  }
  ;
  O.kc.prototype.enable = function(n, z, C, D, F, X, E) {
      this.aet = X.LS;
      var f = X.LS, a, p = null;
      if (f) {
          var q = n.W[f.b];
          if (q.add.SoLd.filterFX != null) {
              var c = q.add.SoLd.filterFX.v.filterFXList.v;
              if (c[f.index])
                  a = JSON.parse(JSON.stringify(c[f.index].v.Fltr.v))
          }
      }
      var K = a == null
        , q = n.W[n.C[0]]
        , R = q.buffer
        , J = q.rect
        , w = q.add.SoLd;
      if (w) {
          var I = w.nonAffineTransform.v;
          p = [];
          for (var M = 0; M < 4; M++)
              p.push(I[M * 2].v, I[M * 2 + 1].v);
          if (K)
              this.VA("edit", z);
          var m = q.yM(n);
          R = m.buffer;
          J = m.rect
      }
      this.VI = {
          buffer: R.slice(0),
          rect: J.clone(),
          akD: p
      };
      if (K)
          a = O.kc.IX(this.VI, this.zB);
      this.xW = a;
      this.Yf = O.kc.Eb(this.xW, this.zB);
      this.rb();
      this.mE(n);
      if (K)
          this.mt(z);
      var A = new u(l.E.P,!0);
      A.data = {
          e: l.H.b5,
          F: this.id,
          G6: this.zB
      };
      z.f(A);
      A.data = {
          e: l.H.Gu,
          gc: "default"
      };
      z.f(A)
  }
  ;
  O.kc.prototype.disable = function(n, z, C, D) {
      if (this.Yf)
          this.zv(n, z, !0)
  }
  ;
  O.kc.prototype.rb = function(n) {
      var z = this.Yf;
      this.zV = [];
      for (var M = 0; M < z.length; M++) {
          var C = z[M];
          for (var D = 0; D < C.C.length; D++)
              this.zV.push([M, C.C[M]]);
          C.JP = j.Hl.lS(C);
          if (n)
              j.Hl.HK(C)
      }
  }
  ;
  O.kc.prototype.lO = function(n, z, C, D) {
      if (n.Qk == "commit")
          this.zv(C, z, !0);
      else if (n.Qk == "cancel")
          this.I_(C, z, !0);
      else if (n.Qk == "prm") {
          var F = !1;
          for (var M = 0; M < 3; M++)
              if (this.zB[M] != n.G6[M])
                  F = !0;
          this.zB = n.G6;
          if (F) {
              this.xW = O.kc.IX(this.VI, this.zB, this.xW);
              this.Yf = O.kc.Eb(this.xW, this.zB);
              this.rb(!0);
              this.mt(z)
          }
          this.mE(C)
      } else if (n.Qk == "moveDepth") {
          var X = this.Yf;
          for (var E = 0; E < X.length; E++) {
              var f = X[E];
              for (var M = 0; M < f.C.length; M++) {
                  var a = f.C[M];
                  f.z7[a] += n.aoo ? 1 : -1
              }
          }
          this.mt(z)
      }
  }
  ;
  O.kc.prototype.Gs = function(n, z) {
      return n == dM.as || n == dM.fs
  }
  ;
  O.kc.prototype.iV = function(n, z, C, D) {
      var F = D.Sk();
      if (D.r(dM.BK))
          this.zv(n, z, !0);
      else if (D.r(dM.dM))
          this.I_(n, z, !0);
      else if (D.r(dM.as) || D.r(dM.fs)) {
          var X = this.Yf;
          for (var E = 0; E < X.length; E++) {
              var f = X[E];
              f.C.sort(function(c, K) {
                  return K - c
              });
              for (var M = 0; M < f.C.length; M++) {
                  var a = f.C[M]
                    , q = a * 2;
                  f.z7.splice(a, 1);
                  f.NG.splice(a, 1);
                  f.gG.splice(a, 1);
                  f.Pz.splice(a, 1);
                  f.Iv.splice(q, 2);
                  f.vd.splice(q, 2)
              }
              f.C = [];
              if (f.Pz.length == 0) {
                  f.aM = f.gx.slice(0);
                  f.ud = f.gx.slice(0)
              }
          }
          this.rb(!0);
          this.mt(z);
          this.mE(n)
      } else if (F.x != 0 || F.y != 0) {
          this.bs(n, F.x, F.y, z);
          this.lE = null
      }
  }
  ;
  O.kc.prototype.zv = function(n, z, C) {
      this.VA("confirm", z);
      this.escape(n, z, C)
  }
  ;
  O.kc.prototype.I_ = function(n, z, C) {
      this.VA("cancel", z);
      this.escape(n, z, C)
  }
  ;
  O.kc.prototype.escape = function(n, z, C) {
      n.k.ju = null;
      n.k.xZ = [];
      n.QV = !0;
      this.Yf = null;
      var D = new u(l.E.P,!0);
      D.data = {
          e: l.H.Gw
      };
      if (C)
          z.f(D)
  }
  ;
  O.kc.prototype.mY = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y)
        , E = X.x
        , f = X.y
        , a = this.Yf
        , q = null
        , c = [0, 2, 4, 1.2, 1.2, 1.2]
        , K = -1
        , R = l.D() * 5 / n.a.X;
      for (var M = 0; M < a.length; M++) {
          var J = a[M]
            , w = j.K.ke(J.vd, E, f, R);
          if (w != -1)
              q = [M, w];
          if (K == -1 && j.Hl.Fq.ahD(J.ud, J.dO, E, f))
              K = M
      }
      if (q == null && K != -1) {
          var J = a[K];
          O.kc.uB(J, E, f, E, f, 0);
          q = [K, J.Pz.length - 1];
          J.JP = j.Hl.lS(J)
      }
      this.Ml = X;
      if (q) {
          var p = a[q[0]].C.indexOf(q[1]) != -1;
          if (D.r(dM.Ms) && !p) {
              a[q[0]].C.push(q[1]);
              this.zV.push(q)
          } else if (!p) {
              a[q[0]].C = [q[1]];
              this.zV = [q]
          }
      }
      this.mE(n)
  }
  ;
  O.kc.uB = function(n, z, C, D, F, X) {
      var E = j.K.ke(n.ud, z, C);
      n.Pz.push(E);
      n.vd.push(D, F);
      n.Iv.push(n.ud[E * 2] - z, n.ud[E * 2 + 1] - C);
      n.gG.push(0);
      n.NG.push(!1);
      n.z7.push(X)
  }
  ;
  O.kc.prototype.Xl = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y)
        , E = this.Ml;
      if (E)
          this.bs(n, X.x - E.x, X.y - E.y, z)
  }
  ;
  O.kc.prototype.bs = function(n, z, C, D) {
      var F = {}
        , X = this.zV
        , E = this.Yf;
      if (this.lE == null) {
          this.lE = [];
          for (var M = 0; M < E.length; M++)
              this.lE.push(E[M].vd.slice(0))
      }
      for (var M = 0; M < X.length; M++) {
          var f = this.zV[M]
            , a = f[0]
            , q = E[f[0]]
            , c = f[1] * 2;
          q.vd[c + 0] = this.lE[a][c + 0] + z;
          q.vd[c + 1] = this.lE[a][c + 1] + C;
          F[a] = a
      }
      for (var a in F)
          j.Hl.HK(this.Yf[F[a]]);
      this.mE(n);
      this.mt(D)
  }
  ;
  O.kc.prototype.VA = function(n, z) {
      var C = new u(l.E.M,!0);
      C.F = O.VZ;
      C.data = {
          e: n,
          LS: this.aet,
          Pw: this.Pw,
          b2: this.xW
      };
      z.f(C)
  }
  ;
  O.kc.prototype.yg = function(n, z, C, D, F) {
      this.Ml = null;
      this.lE = null
  }
  ;
  O.kc.prototype.mt = function(n) {
      O.kc.av(this.Yf, this.zB, this.xW);
      this.VA("edit", n)
  }
  ;
  O.kc.prototype.mE = function(n) {
      var z = this.Yf
        , C = this.xW;
      n.k.ju = {
          U: [],
          I: []
      };
      n.k.xZ = [];
      n.k.IW = [];
      for (var M = 0; M < z.length; M++) {
          var D = z[M];
          for (var F = 0; F < D.C.length; F++)
              n.k.IW.push((n.k.xZ.length >>> 1) + D.C[F]);
          n.k.xZ = n.k.xZ.concat(D.vd);
          if (this.zB[3])
              j.K.concat(n.k.ju, j.K.a13(D.ud, D.dO))
      }
      n.QV = !0
  }
  ;
  O.kc.IX = function(n, z, C) {
      var D = n.buffer
        , F = n.rect
        , X = n.akD
        , E = fd.zP("rigidTransform");
      if (X)
          for (var M = 0; M < 4; M++) {
              E["PuX" + M].v = X[M * 2];
              E["PuY" + M].v = X[M * 2 + 1]
          }
      var f = E.puppetShapeList.v
        , a = j.Hl.ajr(D, F.d, F.v, z[1], z[2])
        , q = [];
      for (var c = 0; c < a.length; c++) {
          var K = {
              classID: "puppetShape",
              rigidType: {
                  t: "bool",
                  v: !0
              },
              VrsM: {
                  t: "long",
                  v: 1
              },
              VrsN: {
                  t: "long",
                  v: 0
              },
              originalVertexArray: {
                  t: "tdta",
                  v: []
              },
              deformedVertexArray: {
                  t: "tdta",
                  v: []
              },
              indexArray: {
                  t: "tdta",
                  v: []
              },
              pinOffsets: {
                  t: "VlLs",
                  v: []
              },
              posFinalPins: {
                  t: "VlLs",
                  v: []
              },
              pinVertexIndices: {
                  t: "VlLs",
                  v: []
              },
              PinP: {
                  t: "VlLs",
                  v: []
              },
              PnRt: {
                  t: "VlLs",
                  v: []
              },
              PnOv: {
                  t: "VlLs",
                  v: []
              },
              PnDp: {
                  t: "VlLs",
                  v: []
              },
              meshQuality: {
                  t: "long",
                  v: 2
              },
              meshExpansion: {
                  t: "long",
                  v: 2
              },
              meshRigidity: {
                  t: "long",
                  v: 2
              },
              imageResolution: {
                  t: "doub",
                  v: 72
              },
              selectedPin: {
                  t: "VlLs",
                  v: []
              }
          };
          K.meshBoundaryPath = {
              t: "Objc",
              v: {
                  classID: "pathClass",
                  pathComponents: {
                      t: "VlLs",
                      v: [{
                          t: "Objc",
                          v: {
                              classID: "PaCm",
                              shapeOperation: {
                                  t: "enum",
                                  v: {
                                      shapeOperation: "xor"
                                  }
                              },
                              SbpL: {
                                  t: "VlLs",
                                  v: [{
                                      t: "Objc",
                                      v: {
                                          classID: "Sbpl",
                                          Clsp: {
                                              t: "bool",
                                              v: !0
                                          },
                                          Pts: {
                                              t: "VlLs",
                                              v: []
                                          }
                                      }
                                  }]
                              }
                          }
                      }]
                  }
              }
          };
          var R = a[c];
          f.push({
              t: "Objc",
              v: K
          });
          var J = R.gx.slice(0);
          j.K.Z(J, new b6(1,0,0,1,F.x,F.y), J);
          var w = R.dO;
          for (var M = 0; M < w.length; M += 3) {
              var p = w[M + 1];
              w[M + 1] = w[M + 2];
              w[M + 2] = p
          }
          q.push({
              dO: w,
              gx: J,
              aM: J,
              ud: J,
              Pz: [],
              Iv: [],
              vd: [],
              JP: null,
              C: [],
              gG: [],
              NG: [],
              z7: []
          })
      }
      if (C) {
          var I = O.kc.Eb(C, [])
            , m = q[0];
          for (var M = 0; M < I.length; M++) {
              var A = I[M];
              for (var U = 0; U < A.C.length; U++)
                  m.C.push((m.vd.length >>> 1) + A.C[U]);
              for (var U = 0; U < A.Pz.length; U++) {
                  var r = A.Pz[U] * 2
                    , $ = A.gx[r] - A.Iv[U * 2]
                    , k = A.gx[r + 1] - A.Iv[U * 2 + 1];
                  O.kc.uB(m, $, k, A.vd[U * 2], A.vd[U * 2 + 1], A.z7[U])
              }
          }
      }
      O.kc.av(q, z, E);
      return E
  }
  ;
  O.kc.Eb = function(n, z) {
      var C = O.o.VV
        , D = n.puppetShapeList.v
        , F = [];
      for (var X = 0; X < D.length; X++) {
          var E = D[X].v;
          z[0] = E.meshRigidity.v - 1;
          z[1] = E.meshQuality.v - 1;
          z[2] = E.meshExpansion.v;
          var f = E.pinVertexIndices.v.length
            , a = E.meshBoundaryPath.v.pathComponents.v;
          if (a.length != 0) {
              var q = a[0].v.SbpL.v[0].v.Pts;
              q.v = []
          }
          var c = new Uint32Array(new Uint8Array(E.indexArray.v).buffer)
            , K = new Float32Array(new Uint8Array(E.originalVertexArray.v).buffer)
            , R = new Float32Array(new Uint8Array(E.deformedVertexArray.v).buffer)
            , J = []
            , w = []
            , p = [];
          for (var M = 0; M < c.length; M++)
              J.push(c[M]);
          for (var M = 0; M < K.length; M++) {
              w.push(K[M]);
              p.push(R[M])
          }
          var I = C(E.pinVertexIndices)
            , m = C(E.pinOffsets)
            , A = C(E.posFinalPins)
            , U = C(E.PnRt)
            , r = C(E.PnOv)
            , $ = C(E.PnDp)
            , k = C(E.selectedPin);
          F.push({
              dO: J,
              gx: w,
              aM: p.slice(0),
              ud: p,
              Pz: I,
              Iv: m,
              vd: A,
              JP: null,
              gG: U,
              NG: r,
              z7: $,
              C: k
          })
      }
      return F
  }
  ;
  O.kc.av = function(n, z, C) {
      function D(R, J) {
          var w = [];
          for (var M = 0; M < R.length; M++)
              w.push({
                  t: J,
                  v: R[M]
              });
          return w
      }
      function F(R, J, w) {
          var p = new (w ? Uint32Array : Float32Array)(R)
            , I = new Uint8Array(p.buffer);
          for (var M = 0; M < I.length; M++)
              J[M] = I[M]
      }
      var X = C.puppetShapeList.v;
      for (var E = 0; E < X.length; E++) {
          var f = n[E]
            , a = X[E].v;
          a.meshRigidity.v = z[0] + 1;
          a.meshQuality.v = z[1] + 1;
          a.meshExpansion.v = z[2];
          F(f.dO, a.indexArray.v, !0);
          F(f.gx, a.originalVertexArray.v);
          F(f.ud, a.deformedVertexArray.v);
          var q = [];
          for (var M = 0; M < f.Pz.length; M++) {
              var c = f.Pz[M] * 2
                , K = M * 2;
              q[K] = f.gx[c] - f.Iv[K];
              q[K + 1] = f.gx[c + 1] - f.Iv[K + 1]
          }
          a.PinP.v = D(q, "doub");
          a.pinVertexIndices.v = D(f.Pz, "long");
          a.pinOffsets.v = D(f.Iv, "doub");
          a.posFinalPins.v = D(f.vd, "doub");
          a.PnRt.v = D(f.gG, "long");
          a.PnOv.v = D(f.NG, "bool");
          a.PnDp.v = D(f.z7, "doub");
          a.selectedPin.v = D(f.C, "long")
      }
  }
  ;
  O.NB = function(n, z, C) {
      O.gW.call(this, n ? n : [10, 40], z ? z : O.OR, C ? C : "tools/slice");
      this.B2 = null;
      this.FS = null;
      this.kQ = null;
      this.a4M = null;
      this.q2 = null;
      this.bB = null
  }
  ;
  O.NB.prototype = new O.gW;
  O.NB.Lc = function(n, z) {
      var C = -1;
      for (var M = 0; M < n.length; M++) {
          var D = O.NB.Aa(n, M);
          if (D[0] <= z.x && z.x <= D[2] && D[1] <= z.y && z.y <= D[3]) {
              C = M;
              break
          }
      }
      return C
  }
  ;
  O.NB.prototype.Nm = function(n, z, C, D, F) {
      if (C == null)
          return;
      this.nQ(C);
      if (n.e == "fromAction") {
          var X = C.gS()
            , E = C.m$()
            , f = E == -1 ? new cc(0,0,C.d,C.v) : C.W[E].qJ()
            , a = [f.x, f.x + f.d]
            , q = [f.y, f.y + f.v];
          for (var M = 0; M < X[0].length; M++) {
              var c = X[0][M]
                , K = Math.round(c[1])
                , R = X[1][M];
              if (R != -1 && R != E)
                  continue;
              if (c[0] == 0 && a.indexOf(K) == -1)
                  a.push(K);
              if (c[0] == 1 && q.indexOf(K) == -1)
                  q.push(K)
          }
          a.sort(function(G, i) {
              return G - i
          });
          q.sort(function(G, i) {
              return G - i
          });
          for (var J = 1; J < q.length; J++)
              for (var w = 1; w < a.length; w++) {
                  C.CB.push(O.NB.IS());
                  O.NB.GB(C.CB, C.CB.length - 1, [a[w - 1], q[J - 1], a[w], q[J]]);
                  C.QV = !0
              }
      } else if (n.e == "reorder") {
          if (C.IZ.length == 0)
              return;
          var p = C.CB
            , I = C.IZ;
          I.sort(function(G, i) {
              return G - i
          });
          console.log(I);
          var m = p.slice(0)
            , A = []
            , U = [];
          for (var M = 0; M < I.length; M++) {
              var r = I[M]
                , $ = p[r];
              U.push($);
              m.splice(m.indexOf($), 1)
          }
          var k = Math.max(0, Math.min(m.length, I[0] - n.dir));
          for (var M = 0; M < U.length; M++) {
              m.splice(k + M, 0, U[M]);
              A.push(k + M)
          }
          C.CB = m;
          C.IZ = A
      } else if (n.e == "delete") {
          var p = C.CB.slice(0);
          for (var M = 0; M < C.IZ.length; M++)
              C.CB.splice(C.CB.indexOf(p[C.IZ[M]]), 1);
          C.IZ = []
      } else {
          C.CB[C.IZ[0]].v = n;
          C.QV = !0
      }
      this.mC(C)
  }
  ;
  O.NB.prototype.enable = function(n, z, C, D, F, X) {
      O.gW.prototype.enable.call(this, n, z, C, D, F, X);
      if (!C.mw.CB) {
          var E = new u(l.E.P,!0);
          E.data = {
              e: l.H.W9,
              G6: c1.zS
          };
          z.f(E)
      }
  }
  ;
  O.NB.prototype.disable = function() {
      this.B2 = null;
      this.FS = null
  }
  ;
  O.NB.prototype._V = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y)
        , E = O.NB.Lc(n.CB, X);
      if (E == -1)
          return;
      this.B2 = n;
      this.FS = z;
      n.IZ = [E];
      n.QV = !0;
      if (this.bB == null) {
          this.bB = new gX([{
              name: [5, 4]
          }, {
              name: [8, 11, 1],
              $a: !0
          }]);
          this.bB.s("select", this.tZ, this)
      }
      var f = this.bB;
      f.parent = z;
      f.B();
      f.update(n, C);
      var a = new u(l.E.P,!0);
      a.data = {
          e: l.H.X$,
          uN: f,
          x: F.kD + 2,
          y: F.Bh + 1
      };
      z.f(a)
  }
  ;
  O.NB.prototype.tZ = function(n) {
      var z = this.bB.zK()[0]
        , C = this.B2;
      if (z == 0) {
          this.nQ(C);
          C.CB.splice(C.IZ[0], 1);
          C.IZ = [];
          C.QV = !0;
          this.mC(C)
      }
      if (z == 1) {
          var D = new u(l.E.P,!0);
          D.data = {
              e: l.H.xb,
              gA: "soptions",
              G: C.CB[C.IZ[0]].v
          };
          this.FS.f(D)
      }
  }
  ;
  O.NB.prototype.mY = function(n, z, C, D, F) {
      if (n == null)
          return;
      this.nQ(n);
      var X = n.a.C$(F.x, F.y);
      X = O.zh.kq(n, X, C, [!0, null, !1]);
      X.x = Math.round(X.x);
      X.y = Math.round(X.y);
      this.q2 = X;
      n.CB.unshift(O.NB.IS());
      n.IZ = [0];
      O.NB.GB(n.CB, 0, [X.x, X.y, X.x + 20, X.y + 20]);
      n.QV = !0
  }
  ;
  O.NB.prototype.Xl = function(n, z, C, D, F) {
      if (this.kQ == null)
          return;
      var X = n.a.C$(F.x, F.y)
        , E = this.q2;
      X = O.zh.kq(n, X, C, [!0, null, !1]);
      X.x = Math.round(X.x);
      X.y = Math.round(X.y);
      var f = [E.x, E.y, X.x, X.y];
      O.NB.Md(f);
      O.NB.GB(n.CB, 0, f);
      n.QV = !0
  }
  ;
  O.NB.prototype.yg = function(n, z, C, D, F) {
      this.mC(n);
      this.q2 = null
  }
  ;
  O.NB.prototype.nQ = function(n) {
      this.kQ = JSON.stringify(n.CB);
      this.a4M = JSON.stringify(n.IZ)
  }
  ;
  O.NB.prototype.mC = function(n) {
      var z = JSON.stringify(n.CB);
      if (z != this.kQ) {
          var C = new hi(this.name,this);
          C.data = {
              pb: this.kQ,
              PV: z,
              a66: this.a4M,
              a8p: JSON.stringify(n.IZ)
          };
          n.OV(C)
      }
      this.kQ = null
  }
  ;
  O.NB.prototype.LL = function(n, z) {
      z.CB = JSON.parse(n.pb);
      z.IZ = JSON.parse(n.a66);
      z.QV = !0
  }
  ;
  O.NB.prototype.qO = function(n, z) {
      z.CB = JSON.parse(n.PV);
      z.IZ = JSON.parse(n.a8p);
      z.QV = !0
  }
  ;
  O.NB.prototype.Gs = function(n, z) {
      return z != null && z.IZ.length != 0 && (n == dM.as || n == dM.fs)
  }
  ;
  O.NB.prototype.iV = function(n, z, C, D) {
      if (n == null)
          return;
      if (D.r(dM.as) || D.r(dM.fs))
          this.Nm({
              e: "delete"
          }, z, n, D, C);
      var F = D.Sk();
      if (F.x != 0 || F.y != 0) {
          this.nQ(n);
          O.NB.Qw(n, F);
          this.mC(n)
      }
  }
  ;
  O.NB.prototype.lO = function(n, z, C, D, F) {}
  ;
  O.NB.aoh = function(n, z, C, D) {
      var F = new ir(-z.x,-z.y)
        , X = z.d / C.d
        , E = z.v / C.v
        , f = [0, 0, z.d, z.v];
      for (var M = 0; M < n.length; M++) {
          var a = O.NB.Aa(n, M);
          if (D) {
              a[0] = Math.round(a[0] * X);
              a[1] = Math.round(a[1] * E);
              a[2] = Math.round(a[2] * X);
              a[3] = Math.round(a[3] * E)
          } else {
              O.NB.bi(a, F);
              O.NB.a9p(a, f)
          }
          if (a[0] >= a[2] || a[1] >= a[3]) {
              n.splice(M, 1);
              M--;
              continue
          }
          O.NB.GB(n, M, a)
      }
  }
  ;
  O.NB.Qw = function(n, z) {
      var C = n.CB;
      for (var M = 0; M < n.IZ.length; M++) {
          var D = O.NB.Aa(C, n.IZ[M]);
          O.NB.bi(D, z);
          O.NB.GB(C, n.IZ[M], D)
      }
  }
  ;
  O.NB.a9p = function(n, z) {
      if (n[0] < z[0])
          n[0] = z[0];
      if (n[1] < z[1])
          n[1] = z[1];
      if (z[2] < n[2])
          n[2] = z[2];
      if (z[3] < n[3])
          n[3] = z[3]
  }
  ;
  O.NB.bi = function(n, z) {
      n[0] = Math.round(n[0] + z.x);
      n[2] = Math.round(n[2] + z.x);
      n[1] = Math.round(n[1] + z.y);
      n[3] = Math.round(n[3] + z.y)
  }
  ;
  O.NB.GB = function(n, M, z) {
      var C = n[M].v.bounds.v;
      C.Left.v = z[0];
      C.Top.v = z[1];
      C.Rght.v = z[2];
      C.Btom.v = z[3]
  }
  ;
  O.NB.Aa = function(n, M) {
      var z = n[M].v.bounds.v;
      return [z.Left.v, z.Top.v, z.Rght.v, z.Btom.v, M]
  }
  ;
  O.NB.Md = function(n) {
      if (n[2] < n[0]) {
          var z = n[0];
          n[0] = n[2];
          n[2] = z
      }
      if (n[2] == n[0])
          n[2]++;
      if (n[3] < n[1]) {
          var z = n[1];
          n[1] = n[3];
          n[3] = z
      }
      if (n[3] == n[1])
          n[3]++
  }
  ;
  O.NB.AN = function(n, z) {
      var C = 1e9
        , D = -1e9
        , F = 1e9
        , X = -1e9;
      for (var M = 0; M < z.length; M++) {
          var E = O.NB.Aa(n, z[M]);
          C = Math.min(C, E[0]);
          F = Math.min(F, E[1]);
          D = Math.max(D, E[2]);
          X = Math.max(X, E[3])
      }
      return [C, F, D, X]
  }
  ;
  O.NB.IS = function() {
      return {
          t: "Objc",
          v: {
              classID: "slice",
              sliceID: {
                  t: "long",
                  v: 0
              },
              groupID: {
                  t: "long",
                  v: 0
              },
              origin: {
                  t: "enum",
                  v: {
                      ESliceOrigin: "userGenerated"
                  }
              },
              Type: {
                  t: "enum",
                  v: {
                      ESliceType: "Img"
                  }
              },
              bounds: {
                  t: "Objc",
                  v: {
                      classID: "Rct1",
                      Top: {
                          t: "long",
                          v: 0
                      },
                      Left: {
                          t: "long",
                          v: 0
                      },
                      Btom: {
                          t: "long",
                          v: 0
                      },
                      Rght: {
                          t: "long",
                          v: 0
                      }
                  }
              },
              url: {
                  t: "TEXT",
                  v: ""
              },
              null: {
                  t: "TEXT",
                  v: ""
              },
              Msge: {
                  t: "TEXT",
                  v: ""
              },
              altTag: {
                  t: "TEXT",
                  v: ""
              },
              cellTextIsHTML: {
                  t: "bool",
                  v: !0
              },
              cellText: {
                  t: "TEXT",
                  v: ""
              },
              horzAlign: {
                  t: "enum",
                  v: {
                      ESliceHorzAlign: "default"
                  }
              },
              vertAlign: {
                  t: "enum",
                  v: {
                      ESliceVertAlign: "default"
                  }
              },
              bgColorType: {
                  t: "enum",
                  v: {
                      ESliceBGColorType: "None"
                  }
              },
              topOutset: {
                  t: "long",
                  v: 0
              },
              leftOutset: {
                  t: "long",
                  v: 0
              },
              bottomOutset: {
                  t: "long",
                  v: 0
              },
              rightOutset: {
                  t: "long",
                  v: 0
              }
          }
      }
  }
  ;
  O.yF = function() {
      O.NB.call(this, [10, 41], O.N1, "tools/sselect");
      this.q2 = null;
      this.LD = null;
      this.hi = null;
      this.ED = null;
      this.C6 = !1
  }
  ;
  O.yF.prototype = new O.NB;
  O.yF.prototype.mY = function(n, z, C, D, F) {
      if (n == null)
          return;
      var X = n.a.C$(F.x, F.y)
        , E = O.yF.dH(X, 4 / n.a.X, n.CB, n.IZ);
      E.pop();
      if (E.length != 0) {
          this.q2 = X;
          this.hi = E;
          this.nQ(n);
          return
      }
      var f = n.CB
        , a = O.NB.Lc(f, X);
      if (a == -1)
          n.IZ = [];
      else {
          var q = n.IZ.indexOf(a);
          if (D.r(dM.Ms)) {
              if (q == -1)
                  n.IZ.push(a);
              else
                  n.IZ.splice(q, 1)
          } else {
              n.IZ.sort(function(p, I) {
                  return p - I
              });
              if (q == -1)
                  n.IZ = [a];
              this.q2 = X;
              this.nQ(n);
              this.LD = O.NB.AN(f, n.IZ);
              this.ED = [];
              for (var M = 0; M < n.IZ.length; M++)
                  this.ED.push(O.NB.Aa(f, n.IZ[M]));
              if (D.r(dM.M2)) {
                  var c = f.slice(0)
                    , K = n.IZ
                    , R = [];
                  for (var M = 0; M < K.length; M++) {
                      var a = K[M]
                        , J = c[a]
                        , w = f.indexOf(J);
                      R.push(w);
                      f.splice(w, 0, JSON.parse(JSON.stringify(J)))
                  }
                  n.IZ = R
              }
          }
      }
      n.QV = !0
  }
  ;
  O.yF.prototype.Xl = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y);
      if (this.q2 == null) {
          var E = O.yF.dH(X, 4 / n.a.X, n.CB, n.IZ)
            , f = E.pop()
            , a = E.length == 0 ? "default" : ["ew", "nwse", "ns", "nesw"][f] + "-resize"
            , q = new u(l.E.P,!0);
          q.data = {
              e: l.H.Gu,
              gc: a
          };
          z.f(q);
          return
      }
      if (!this.C6 && X.jm(this.q2))
          return;
      this.C6 = !0;
      var c = n.CB
        , E = this.hi;
      if (E) {
          X = O.zh.kq(n, X, C, [!0, null, !1]);
          var K = Math.round(X.x)
            , R = Math.round(X.y);
          for (var M = 0; M < E.length; M += 2) {
              var J = O.NB.Aa(c, E[M])
                , w = E[M + 1];
              J[w] = (w & 1) == 0 ? K : R;
              O.NB.Md(J);
              O.NB.GB(c, E[M], J)
          }
      } else {
          var p = X.s6(this.q2)
            , I = this.LD.slice(0);
          O.NB.bi(I, p);
          var m = new cc(I[0],I[1],I[2] - I[0],I[3] - I[1])
            , A = O.zh.yl(n, m, C, [!0, null, !1], !0);
          O.zh.lU(n, m, A);
          p.x += A[0];
          p.y += A[1];
          for (var M = 0; M < n.IZ.length; M++)
              O.NB.GB(c, n.IZ[M], this.ED[M]);
          O.NB.Qw(n, p)
      }
      n.QV = !0
  }
  ;
  O.yF.prototype.yg = function(n, z, C, D, F) {
      if (this.q2 == null)
          return;
      this.mC(n);
      n.k.qv = null;
      n.QV = !0;
      this.q2 = null;
      this.hi = null;
      this.ED = null;
      this.C6 = !1
  }
  ;
  O.yF.dH = function(n, z, C, D) {
      var F = n.x
        , X = n.y
        , E = []
        , f = -1
        , a = [];
      for (var M = 0; M < D.length; M++) {
          var q = D[M]
            , c = O.NB.Aa(C, q)
            , K = c[0]
            , R = c[1]
            , J = c[2]
            , w = c[3];
          if (F < K - z || J + z < F || X < R - z || w + z < X)
              continue;
          var p = [F < K + z, X < R + z, J - z < F, w - z < X]
            , I = -1;
          for (var m = 0; m < 4; m++) {
              if (p[m] && p[m + 1 & 3])
                  I = 1 + 2 * (m & 1);
              if (p[m])
                  E.push(q, m)
          }
          if (I == -1) {
              if (p[0] || p[2])
                  I = 0;
              if (p[1] || p[3])
                  I = 2
          }
          if (I != -1) {
              f = I;
              a.push(q)
          }
      }
      var A = E.length;
      for (var M = 0; M < A; M += 2) {
          var q = E[M]
            , U = E[M + 1]
            , r = O.NB.Aa(C, q)[U];
          for (var m = 0; m < D.length; m++) {
              var $ = D[m];
              if (a.indexOf($) != -1)
                  continue;
              var c = O.NB.Aa(C, $);
              if (c[U & 1] == r)
                  E.push($, U & 1);
              if (c[2 + (U & 1)] == r)
                  E.push($, 2 + (U & 1))
          }
      }
      E.push(f);
      return E
  }
  ;
  O.TQ = function() {
      O.lJ.call(this, [10, 44], O.a39, "tools/oselect");
      this.D5 = "crosshair";
      this.ah0 = 0
  }
  ;
  O.TQ.prototype = new O.lJ;
  O.TQ.prototype.Kz = function(n, z, C, D) {
      if (Math.random() < 1 / (1 + this.ah0)) {
          alert("The cross should be fully inside the object.", 3500);
          this.ah0++
      }
  }
  ;
  O.TQ.prototype.kp = function(n, z, C, D) {
      O.WB.uQ(n, O.lJ.y3, this.FS);
      if (!D.Vn || !this.w7)
          return;
      var F = this.Td(n, C, !1)
        , X = F.d
        , E = F.v
        , f = F.x
        , a = F.y
        , q = F.x + X
        , c = F.y + E
        , K = f + X / 2
        , R = a + E / 2
        , J = O.TQ.w3;
      n.k.ju = {
          U: [f, a, q, a, q, c, f, c, K - X * J, R, K + X * J, R, K, R - E * J, K, R + E * J],
          I: "M L L L Z M L M L".split(" ")
      };
      n.QV = !0
  }
  ;
  O.TQ.w3 = .12;
  O.TQ.prototype.xP = function(n, z, C, D) {
      n.k.ju = null;
      n.QV = !0;
      this.finish(n, z, C, D)
  }
  ;
  O.TQ.prototype.getSelection = function(n, z, C, D) {
      if (this.vQ.jm(this.SA) || !this.w7)
          return null;
      var F = this.Td(n, C, !1)
        , X = n.W[n.C[0]];
      if (F.kX() || !F.vE(X.rect))
          return null;
      return O.lJ.W2("ObSl", F)
  }
  ;
  O.WB = function() {
      O.pC.call(this, [10, 37], O.ar, "tools/qselect");
      this.bT = "qselect"
  }
  ;
  O.WB.prototype = new O.pC;
  O.WB.prototype.mY = function(n, z, C, D, F) {
      this.NK(n, C, D, F, 1);
      if (this.kS == null)
          return;
      this.rP(n)
  }
  ;
  O.WB.prototype.Xl = function(n, z, C, D, F) {
      this.tD(n, z, C);
      O.WB.uQ(n, O.lJ.y3, z);
      if (this.I1)
          this.dv(n, C, F);
      if (this.kS == null)
          return;
      if (!F.Vn)
          return;
      var X = this.k0(n, C, D, F);
      if (X != 1)
          this.rP(n)
  }
  ;
  O.WB.uQ = function(n, z, C) {
      if (n && z.key != O.WB.HU(n)) {
          z.key = O.WB.HU(n);
          var D = n.W[n.C[0]].rect.t()
            , X = "Image Analysis ...";
          if (D == 0)
              return;
          var F = D > 1e6
            , E = new u(l.E.P,!0);
          E.data = {
              e: l.H.vY,
              tL: X
          };
          if (F)
              C.f(E);
          setTimeout(function() {
              var f = O.WB.hD(n);
              for (var a in f)
                  z[a] = f[a];
              var E = new u(l.E.P,!0);
              E.data = {
                  e: l.H.MI,
                  tL: X
              };
              if (F)
                  C.f(E)
          }, 30)
      }
  }
  ;
  O.WB.HU = function(n) {
      var z = n.C[0]
        , C = n.W[z]
        , D = C.rect
        , F = D.d
        , X = D.v
        , E = F * X
        , f = C.buffer;
      return [z, D.x, D.y, F, X, f[0], f[1], f[2], f[3]].join(",")
  }
  ;
  O.WB.hD = function(n) {
      var z = n.C[0]
        , C = n.W[z]
        , D = C.rect
        , F = D.d
        , X = D.v
        , E = F * X
        , f = C.buffer
        , a = Date.now()
        , q = j.T(E);
      q.fill(128);
      var c = j.Xd.vD(f, F, X);
      console.log(Date.now() - a);
      var K = {
          key: O.WB.HU(n),
          lN: f,
          rect: D.clone(),
          ob: F,
          ua: X,
          V9: 12,
          abl: !1,
          KQ: q,
          Uv: c,
          N: j.T(E),
          TH: null,
          QK: null,
          ga: null
      };
      O.WB.Gr(K);
      return K
  }
  ;
  O.WB.Gr = function(n, z) {
      var C = n.ob
        , D = n.ua
        , F = 0
        , X = 0
        , E = Date.now()
        , f = n.TH != null && j.Xd.akv(n.Uv.dO, n.TH.dO, n.TH.tA, n.KQ);
      F = Date.now() - E;
      E = Date.now();
      if (!f && !n.abl) {
          n.TH = j.Xd.ev(n.Uv, C, D, n.KQ, n.V9);
          if (!j.Xd.akv(n.Uv.dO, n.TH.dO, n.TH.tA, n.KQ)) {
              n.abl = !0;
              console.log("conflict")
          }
          n.QK = j.Xd.aiT(n.lN, C, D, n.TH.dO, n.TH.tA);
          n.ga = [n.QK[0].slice(0), []];
          X = Date.now() - E;
          E = Date.now()
      }
      var E = Date.now();
      if (z) {
          n.ga[0].set(n.QK[0]);
          var a = n.QK[1]
            , q = n.ga[1];
          for (var c = 0; c < a.length; c++)
              q[c] = a[c].slice(0);
          j.Xd.a6l(n.TH.dO, C, D, n.TH.tA, n.KQ, n.N, n.ga)
      }
  }
  ;
  O.qa = function() {
      O.gW.call(this, "Artboard Tool", O.alj, "tools/artb");
      this.J2 = !1;
      this.d6 = null;
      this.b0 = !1;
      this.ae1 = null;
      this.ZO = 100;
      this.iW = null
  }
  ;
  O.qa.prototype = new O.gW;
  O.qa.CU = function(n, z) {
      var C = n[0]
        , D = 0
        , F = 0;
      if (C == 0)
          F = -1;
      else if (C == 1)
          D = 1;
      else if (C == 2)
          F = 1;
      else
          D = -1;
      return [20 / z.pM, n[1] + D * 60 / z.pM, n[2] + F * 60 / z.pM]
  }
  ;
  O.qa.prototype.oD = function(n, z, C, D) {
      if (!this.J2)
          return;
      if (n == null || n.C.length != 1) {
          this.WS(n);
          return
      }
      var F = n.C[0]
        , X = n.W[F]
        , E = X.add.artb;
      if (E == null) {
          this.WS(n);
          return
      }
      if (this.b0)
          return;
      var f = X.qJ()
        , a = j.K.YQ(f).U
        , q = this.d6 = new ip(a,!0,!1,!1,!0,!1,3,!1);
      q.Ww(n, C, !1);
      var c = {
          U: [1, 0],
          I: ["M"]
      };
      for (var M = 1; M < 30; M++) {
          var K = Math.PI * 2 * M / 30;
          c.U.push(Math.cos(K), Math.sin(K));
          c.I.push("L")
      }
      c.I.push("Z", "M", "L", "M", "L");
      c.U.push(-.5, 0, .5, 0, 0, -.5, 0, .5);
      var R = f.x + f.d / 2
        , J = f.y + f.v / 2
        , w = this.ZO * 1.1
        , p = this.ae1 = [R, f.y, f.x + f.d, J, R, f.y + f.v, f.x, J]
        , I = [0, -w, w, 0, 0, w, -w, 0]
        , m = n.root.children;
      n.k.$N = [];
      for (var M = 0; M < 4; M++) {
          var A = new ir(p[M * 2] + I[M * 2],p[M * 2 + 1] + I[M * 2 + 1])
            , U = !1;
          for (var r = 0; r < m.length; r++) {
              var X = m[r].b;
              if (X.add.artb == null)
                  continue;
              var f = X.qJ();
              if (f.P5(A))
                  U = !0
          }
          if (U) {
              p[M * 2] = 1e9;
              continue
          }
          n.k.$N.push([M, p[M * 2], p[M * 2 + 1]])
      }
  }
  ;
  O.qa.prototype.enable = function(n, z, C, D, F) {
      this.J2 = !0
  }
  ;
  O.qa.prototype.disable = function(n, z, C, D, F) {
      this.J2 = !1;
      this.WS(n)
  }
  ;
  O.qa.prototype.WS = function(n) {
      if (this.d6) {
          this.d6.clear(n);
          this.d6 = null;
          n.k.$N = null
      }
  }
  ;
  O.qa.prototype.mY = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y)
        , E = this.d6;
      if (E) {
          var f = new u(l.E.M)
            , a = E.S2(null, X, n.a.X);
          if (a < 9) {
              this.b0 = E.mY(n, C, D, X, null, !0);
              return
          } else if (E.q8(X)) {
              f.F = O.GR;
              f.data = {
                  e: "disabAuto"
              };
              z.f(f);
              var q = new u(l.E.P);
              q.data = {
                  e: l.H.j9,
                  F: O.GR,
                  a2u: !0
              };
              z.f(q);
              return
          } else {
              var c = -1
                , K = n.k.$N;
              for (var M = 0; M < K.length; M++) {
                  var R = O.qa.CU(K[M], n.a);
                  if (ir.gn(X, new ir(R[1],R[2])) < R[0])
                      c = K[M][0]
              }
              if (c != -1) {
                  var J = n.W[n.C[0]].qJ()
                    , w = J.clone()
                    , p = (c == 0 || c == 2 ? J.v : J.d) + this.ZO;
                  if (c == 0 || c == 3)
                      p = -p;
                  if (c == 0 || c == 2)
                      J.y += p;
                  else
                      J.x += p;
                  if (D.r(dM.M2)) {
                      f.F = O.$w;
                      f.data = {
                          e: Q.BD
                      };
                      z.f(f);
                      O.zh.P7(n, n.pX(null, n.C[0], null, !0), null, J.x - w.x, J.y - w.y);
                      O.Xf.db(n)
                  } else
                      this.fo(n, J, z);
                  return
              }
          }
      }
      this.iW = O.zh.kq(n, X, C)
  }
  ;
  O.qa.prototype.fo = function(n, z, C) {
      var D = n.W.slice(0)
        , F = [n.W.length + 1]
        , X = n.gl();
      X.CZ("Artboard " + (n.root.children.length + 1));
      X.add.lsct = g9.WQ;
      X.zk(z);
      X.Gx = "pass";
      X.j1 = 24;
      if (n.add.artd || z.Yi(new cc(0,0,n.d,n.v)).kX())
          D.push(n.iE());
      else
          D.unshift(n.iE());
      D.push(X);
      var E = new u(l.E.M);
      E.F = O.$w;
      E.data = {
          e: Q.Cw,
          lK: D,
          $l: F,
          $_: "New Artboard"
      };
      C.f(E)
  }
  ;
  O.qa.prototype.Xl = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y)
        , E = this.d6
        , f = this.iW;
      if (E) {
          if (this.b0) {
              E.Xl(n, C, D, X)
          } else {
              var a = E.Li(X, n.a.X);
              if (a == null)
                  a = "default";
              var q = new u(l.E.P,!0);
              q.data = {
                  e: l.H.Gu,
                  gc: a
              };
              z.f(q)
          }
      }
      if (f) {
          var c = this.Aa(n, X, D, C);
          n.k.ju = j.K.YQ(c);
          n.QV = !0;
          O.gW.Fo(F.x + 10, F.y - 10, c, n, C)
      }
  }
  ;
  O.qa.prototype.yg = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y)
        , E = this.iW;
      if (this.b0) {
          this.d6.yg(n, C, D, X);
          this.b0 = !1;
          var f = j.K.OH(this.d6.O7())
            , a = Q.sS(f)
            , q = n.W[n.C[0]]
            , c = JSON.parse(JSON.stringify(q.add.artb));
          c.artboardRect.v = a;
          var K = new u(l.E.M,!0);
          K.F = O.$w;
          K.data = {
              e: Q.w6,
              e0: c
          };
          z.f(K)
      }
      if (E) {
          var R = this.Aa(n, X, D, C);
          if (R.t() > 20)
              this.fo(n, R, z);
          n.k.ju = null;
          n.QV = !0;
          this.iW = null;
          n.k.om = []
      }
  }
  ;
  O.qa.prototype.Aa = function(n, z, C, D) {
      var F = this.iW
        , X = O.zh.kq(n, z, D)
        , E = O.oE.xp(F, X, C, !0);
      F = E[0];
      X = E[1];
      return j.K.OH([F.x, F.y, X.x, X.y])
  }
  ;
  function ip(n, z, C, D, F, X, E, f) {
      this.te = null;
      this.JS = n ? n.slice(0) : null;
      this.Nh = 4;
      this.SA = null;
      this.hP = null;
      this.Et = null;
      this.K5 = -1;
      this.Eg = null;
      this.abW = !1;
      this.a8T = [];
      for (var M = 0; M < 8; M++)
          this.a8T.push(fC.a9G(0, PIMG.rotate, -.5, -.5, -45 - M * 45));
      this.a5g = z;
      this.a95 = C;
      this.aeF = D;
      this.aj3 = F;
      this.al6 = X;
      this.Xt = E;
      this.aaK = f == null ? 1 : f
  }
  ip.prototype.eC = function() {
      return this.K5 != -1
  }
  ;
  ip.prototype.O7 = function() {
      return this.JS.slice(0)
  }
  ;
  ip.prototype.mg = function(n) {
      this.JS = n
  }
  ;
  ip.prototype.a0I = function() {
      return this.nA(this.JS)
  }
  ;
  ip.prototype.a1h = function() {
      return this.Nh
  }
  ;
  ip.prototype.ahn = function(n) {
      this.Nh = n
  }
  ;
  ip.prototype.EA = function(n) {
      if (n == null)
          n = this.JS;
      if (this.Nh == 9)
          return this.SA;
      else
          return this.nA(n)[this.Nh]
  }
  ;
  ip.prototype.a5S = function(n) {
      if (this.Nh == 9)
          this.SA = n.clone();
      else {
          var z = this.EA()
            , C = new b6(1,0,0,1,n.x - z.x,n.y - z.y);
          j.K.Z(this.JS, C, this.JS)
      }
  }
  ;
  ip.prototype.Li = function(n, z, C) {
      var D = this.S2(null, n, z), F;
      if (D == 9)
          return "default";
      if (D == 10) {
          if (C)
              return null;
          return !this.a5g ? "move" : null
      }
      if (D == -1 || D == 4)
          return null;
      if (D == 11) {
          var X = this.EA().s6(n);
          F = 90 - Math.atan2(X.y, X.x) * 180 / Math.PI;
          var E = Math.round(8 * (F / 360));
          E = (E + 8) % 8;
          return this.a8T[E]
      } else {
          var f = this.on(n, this.JS);
          F = [135, 90, 45, 180, 0, 0, 225, 270, 315][D];
          var a = j.V.qw(this.JS);
          F += Math.atan2(-a[3], a[0]) * 180 / Math.PI;
          var q = "ew nesw ns nwse ew nesw ns nwse".split(" ")
            , E = Math.round(8 * (F / 360));
          E = (E + 8) % 8;
          return q[E] + "-resize"
      }
  }
  ;
  ip.prototype.on = function(n, z) {
      var C = j.V.eL(j.V.qw(z))
        , D = new Float64Array(2);
      j.V.hw(n.x, n.y, C, D);
      return new ir(D[0],D[1])
  }
  ;
  ip.prototype.q8 = function(n) {
      var z = this.on(n, this.JS);
      return 0 <= z.x && z.x <= 1 && 0 <= z.y && z.y <= 1
  }
  ;
  ip.prototype.mY = function(n, z, C, D, F, X) {
      this.abW = X;
      this.Eg = D;
      var E = n.a.X, f;
      if (this.JS == null)
          D = O.zh.kq(n, D, z);
      this.Et = D.clone();
      if (this.JS == null) {
          this.Et.offset(1, 1);
          var a = F == null ? 1 : 1 / F;
          this.JS = [D.x, D.y, D.x + 1, D.y, D.x + 1, D.y + a, D.x, D.y + a];
          f = 8
      } else {
          f = this.S2(C, D, E);
          if (0 <= f && f <= 8)
              this.Et = this.nA(this.JS)[f];
          if (f == 9) {
              this.Nh = 9;
              this.SA = D.clone()
          }
      }
      this.te = this.JS.slice(0);
      this.K5 = f;
      this.Ww(n, z);
      this.hP = this.EA();
      return f != -1
  }
  ;
  ip.prototype.S2 = function(n, z, C) {
      var D = -1
        , F = this.nA()
        , X = 6 * l.D() / C;
      if (D == -1)
          if (ir.gn(this.EA(), z) < X)
              D = 9;
      if (D == -1)
          for (var M = 0; M < F.length; M++)
              if (M != 4 && ir.gn(F[M], z) < X)
                  D = M;
      if (D == -1 && n && n.r(dM.M2))
          D = 9;
      if (D == -1 || this.Xt == 4) {
          if (this.q8(z)) {
              if (this.a5g)
                  D = 10
          } else {
              var E = this.on(z, this.JS)
                , f = new cc(0,0,1,1);
              f.TR(.2, .2);
              D = f.P5(E) && this.Xt != 3 ? 11 : 10
          }
      }
      return D
  }
  ;
  ip.prototype.Xl = function(n, z, C, D) {
      if (this.K5 == -1)
          return;
      this.Eg = D;
      var F = C.r(dM.Ms), X = C.r(dM.M2), E = C.r(dM.BO), f = n.a.X, a = this.Et, q = this.K5, c = this.nA(), K = O.zh.kq(n, a, z), R = O.zh.kq(n, D, z), J, w;
      if (q == 9) {
          var c = this.nA()
            , p = -1;
          for (var M = 0; M < c.length; M++)
              if (ir.gn(c[M], R) * f < 10)
                  p = M;
          this.Nh = p == -1 ? 9 : p;
          this.SA = F ? O.rn.dC(K, R) : R.clone()
      } else if (q == 10) {
          w = j.K.AN(this.te);
          var I = w.x
            , m = w.y;
          w.offset(D.x - a.x, D.y - a.y);
          if (this.j8()) {
              w.x = Math.round(w.x);
              w.y = Math.round(w.y)
          }
          J = O.zh.yl(n, w, z);
          var A = new b6(1,0,0,1,w.x - I + J[0],w.y - m + J[1]);
          j.K.Z(this.te, A, this.JS)
      } else if (q == 11) {
          var U = this.EA(this.te)
            , r = U.s6(D)
            , $ = U.s6(a)
            , k = Math.atan2(r.y, r.x)
            , G = Math.atan2($.y, $.x)
            , A = new b6(1,0,0,1,-U.x,-U.y)
            , i = Math.PI / 12;
          if (F)
              A.rotate(Math.round((G - k) / i) * i);
          else
              A.rotate(G - k);
          A.translate(U.x, U.y);
          j.K.Z(this.te, A, this.JS)
      } else {
          var o, S = this.te, H = q == 0 || q == 2 || q == 6 || q == 8;
          if (this.Xt == 1) {
              if (H)
                  F = X = E = !0
          } else if (this.Xt == 2 && H && this.abW != !0)
              E = !0;
          if (this.Xt == 3)
              E = !1;
          if (this.aeF && H && E) {
              var M = [0, 0, 2, 0, 0, 0, 6, 0, 4, 0][q]
                , e = -1
                , V = R.x
                , v = R.y;
              if (F) {
                  var B = M + 6 & 7
                    , Z = M + 10 & 7
                    , d = ip.kW(S[M], S[M + 1], S[B], S[B + 1], R.x, R.y)
                    , g = ip.kW(S[M], S[M + 1], S[Z], S[Z + 1], R.x, R.y)
                    , Y = d[2] < g[2] ? d : g;
                  V = Y[0];
                  v = Y[1];
                  if (X)
                      e = d[2] < g[2] ? B : Z
              } else if (X)
                  e = M + 4 & 7;
              o = S.slice(0);
              if (e != -1) {
                  var y = S[e]
                    , L = S[e + 1]
                    , _ = (S[M] + y) / 2
                    , b = (S[M + 1] + L) / 2;
                  o[e] = _ - (V - _);
                  o[e + 1] = b - (v - b)
              }
              o[M] = V;
              o[M + 1] = v
          } else if (H && X) {
              var U = this.hP
                , x = U.x
                , W = U.y
                , g6 = K.x - x
                , fY = K.y - W
                , f3 = 1
                , hK = 1;
              if (Math.abs(g6) >= 1)
                  f3 = (R.x - x) / g6;
              if (Math.abs(fY) >= 1)
                  hK = (R.y - W) / fY;
              if (F)
                  f3 = hK = (f3 + hK) / 2;
              var s = new b6;
              s.translate(-x, -W);
              s.scale(f3, hK);
              s.translate(x, W);
              o = S.slice(0);
              j.K.Z(o, s, o)
          } else {
              if (this.j8()) {
                  R.x = Math.round(R.x);
                  R.y = Math.round(R.y)
              }
              var P = [0, 1, 2, 5, 8, 7, 6, 3]
                , aF = P[(P.indexOf(q) + 4) % 8]
                , fM = [];
              for (var M = 0; M < 3; M++)
                  for (var e = 0; e < 3; e++)
                      fM.push(new ir(e / 2,M / 2));
              var U = this.hP
                , eA = this.on(R, S)
                , e8 = this.on(a, S)
                , eC = X && (this.Nh == 4 || this.Nh == 9) ? this.on(U, S) : fM[aF]
                , cy = new b6
                , aX = new b6
                , f3 = (eA.x - eC.x) / (e8.x - eC.x);
              if (f3 == 0)
                  f3 = 1e-4;
              var hK = (eA.y - eC.y) / (e8.y - eC.y);
              if (hK == 0)
                  hK = 1e-4;
              if (this.aj3) {
                  f3 = Math.max(f3, 0);
                  hK = Math.max(hK, 0)
              }
              if (q == 0 || q == 2 || q == 6 || q == 8) {
                  if (F || this.al6)
                      cy.scale(f3, f3);
                  else
                      cy.scale(f3, hK)
              }
              if (q == 1 || q == 3 || q == 5 || q == 7) {
                  var j0 = this.al6;
                  if (q == 1 || q == 7)
                      cy.scale(j0 ? hK : 1, hK);
                  else
                      cy.scale(f3, j0 ? f3 : 1);
                  if (this.a95 && E) {
                      if (q == 1 || q == 7)
                          aX.KV = (eA.x - eC.x) / (eA.y - eC.y);
                      else
                          aX.O = (eA.y - eC.y) / (eA.x - eC.x)
                  }
              }
              var s = new b6;
              s.translate(-eC.x, -eC.y);
              s.concat(cy);
              s.concat(aX);
              s.translate(eC.x, eC.y);
              o = [0, 0, 1, 0, 1, 1, 0, 1];
              j.K.Z(o, s, o);
              var Y = j.V.qw(S);
              j.V.Z(Y, o)
          }
          if (ip.fx(o))
              this.JS = o
      }
      this.Ww(n, z);
      if (J)
          O.zh.lU(n, w, J)
  }
  ;
  ip.kW = function(n, z, C, D, F, X) {
      var E = C - n
        , f = D - z
        , a = F - n
        , q = X - z
        , c = E * E + f * f
        , K = a * E + q * f
        , R = K / c
        , J = n + R * E
        , w = z + R * f
        , p = F - J
        , I = X - w;
      return [J, w, Math.sqrt(p * p + I * I)]
  }
  ;
  ip.prototype.j8 = function() {
      var n = this.JS;
      return Math.abs(n[1] - n[3]) < 1e-6 && Math.abs(n[2] - n[4]) < 1e-6 || Math.abs(n[0] - n[2]) < 1e-6 && Math.abs(n[3] - n[5]) < 1e-6
  }
  ;
  ip.fx = function(n) {
      return j.K.vB(n) || j.K.vB([n[6], n[7], n[4], n[5], n[2], n[3], n[0], n[1]])
  }
  ;
  ip.prototype.yg = function(n, z, C, D) {
      this.K5 = -1;
      this.Eg = null;
      n.k.qv = null;
      n.k.om = [];
      n.QV = !0
  }
  ;
  ip.prototype.iV = function(n, z, C) {
      var D = C.Sk();
      if (D.x || D.y) {
          var F = new b6(1,0,0,1,D.x,D.y);
          j.K.Z(this.JS, F, this.JS);
          this.Ww(n, z);
          return !0
      }
      return !1
  }
  ;
  ip.prototype.nA = function(n) {
      if (n == null)
          n = this.JS;
      var z = n[6] - n[0]
        , C = n[7] - n[1]
        , D = n[4] - n[2]
        , F = n[5] - n[3]
        , X = [n[0], n[1], n[2], n[3], n[0] + z / 2, n[1] + C / 2, n[2] + D / 2, n[3] + F / 2, n[6], n[7], n[4], n[5]]
        , E = [];
      for (var M = 0; M < 3; M++) {
          var f = M * 4
            , a = X[f + 0]
            , q = X[f + 1]
            , c = X[f + 2]
            , K = X[f + 3];
          E.push(new ir(a,q));
          E.push(new ir(a + (c - a) / 2,q + (K - q) / 2));
          E.push(new ir(c,K))
      }
      return E
  }
  ;
  ip.prototype.Ww = function(n, z, C) {
      if (C == null)
          C = !1;
      var D = this.nA()
        , F = D[0]
        , X = D[2]
        , E = D[6]
        , f = D[8];
      n.k.ju = {
          I: [],
          U: []
      };
      n.k.ju.I.push("M", "L", "L", "L", "Z");
      n.k.ju.U.push(F.x, F.y, X.x, X.y, f.x, f.y, E.x, E.y);
      var a = this.aaK;
      if (a > 1) {
          var q = X.s6(F)
            , c = E.s6(F)
            , K = f.s6(X)
            , R = f.s6(E);
          for (var M = 1; M < a; M++) {
              n.k.ju.I.push("M", "L", "M", "L");
              var J = M / a;
              n.k.ju.U.push(F.x + q.x * J, F.y + q.y * J, E.x + R.x * J, E.y + R.y * J);
              n.k.ju.U.push(F.x + c.x * J, F.y + c.y * J, X.x + K.x * J, X.y + K.y * J)
          }
      }
      n.a.U3 = new cc(0,0,ir.gn(D[0], D[2]),ir.gn(D[0], D[6]));
      if (this.K5 != -1 && this.K5 < 9 && this.Eg) {
          var w = n.a.Sg(this.Eg.x, this.Eg.y);
          O.gW.Fo(w.x + 10, w.y - 10, n.a.U3, n, z)
      }
      if (!C) {
          n.k.rh = [];
          for (var M = 0; M < D.length; M++)
              if (M != 4)
                  n.k.rh.push(D[M].x, D[M].y);
          var p = this.EA();
          n.k.rh.push(p.x, p.y)
      }
      n.QV = !0
  }
  ;
  ip.prototype.clear = function(n) {
      n.a.U3 = null;
      n.k.qv = null;
      n.k.ju = null;
      n.k.rh = [];
      n.QV = !0
  }
  ;
  function dd(n, z) {
      this.Y0 = null;
      this.K5 = -1;
      this.rD(n)
  }
  dd.prototype.hM = function() {
      return JSON.parse(JSON.stringify(this.Y0))
  }
  ;
  dd.prototype.rD = function(n) {
      this.Y0 = JSON.parse(JSON.stringify(n))
  }
  ;
  dd.prototype.q8 = function(n) {
      return !0
  }
  ;
  dd.prototype.Li = function(n, z) {
      var C = this.S2(n, z);
      if (C == -1)
          return "default";
      return "pointer"
  }
  ;
  dd.prototype.mY = function(n, z, C, D) {
      this.K5 = this.S2(D, n.a.X);
      return this.K5 != -1
  }
  ;
  dd.prototype.S2 = function(n, z) {
      var C = -1
        , D = 20 * l.D()
        , F = this.bf();
      for (var M = 0; M < F.length; M++)
          if (ir.gn(F[M], n) * z < D)
              C = M;
      return C
  }
  ;
  dd.prototype.Xl = function(n, z, C, D) {
      if (this.K5 == -1)
          return;
      var F = n.a.X
        , X = this.K5
        , E = j.Y0.ea(this.Y0);
      E[X * 2] = D.x;
      E[X * 2 + 1] = D.y;
      j.Y0.Mw(E, this.Y0)
  }
  ;
  dd.prototype.yg = function(n, z, C, D) {
      this.K5 = -1;
      n.QV = !0
  }
  ;
  dd.prototype.iV = function(n, z, C) {
      var D = C.Sk();
      if (D.x || D.y) {
          var F = new b6(1,0,0,1,D.x,D.y);
          j.K.Z(this.JS, F, this.JS);
          this.Ww(n)
      }
  }
  ;
  dd.prototype.bf = function(n) {
      var z = j.Y0.ea(this.Y0)
        , C = [];
      for (var M = 0; M < z.length; M += 2)
          C.push(new ir(z[M],z[M + 1]));
      return C
  }
  ;
  dd.prototype.Ww = function(n) {
      var z = this.bf();
      n.k.ju = {
          I: [],
          U: []
      };
      n.k.ju.I.push("M", "C", "C", "C", "C");
      var C = [0, 1, 2, 3, 7, 11, 15, 14, 13, 12, 8, 4, 0];
      for (var M = 0; M < C.length; M++)
          n.k.ju.U.push(z[C[M]].x, z[C[M]].y);
      n.k.ju.I.push("M", "L", "L", "M", "L", "L", "M", "L", "L", "M", "L", "L");
      C = [4, 0, 1, 2, 3, 7, 11, 15, 14, 13, 12, 8];
      for (var M = 0; M < C.length; M++)
          n.k.ju.U.push(z[C[M]].x, z[C[M]].y);
      n.k.rh = [];
      for (var M = 0; M < z.length; M++)
          n.k.rh.push(z[M].x, z[M].y);
      n.QV = !0
  }
  ;
  dd.prototype.clear = function(n) {
      n.k.ju = null;
      n.k.rh = [];
      n.QV = !0
  }
  ;
  var e3 = {};
  e3.bp = function(n) {
      this.id = n;
      this.FS = null
  }
  ;
  e3.bp.prototype.Nm = function(n, z, C, D, F) {}
  ;
  e3.bp.prototype.qO = function(n, z) {}
  ;
  e3.bp.prototype.LL = function(n, z) {}
  ;
  e3.bp.prototype.track = function(n) {
      var z = new u(l.E._R,!0);
      z.data = n;
      n.HV = !0;
      this.FS.f(z)
  }
  ;
  e3.History = function() {
      e3.bp.call(this, O.Ai);
      this.cz = !0;
      this.ala = 0
  }
  ;
  e3.History.prototype = new e3.bp;
  e3.History.prototype.Nm = function(n, z, C, D) {
      C.PL = !0;
      if (n.e == "h_itemchange") {
          if (n.index < C.VU)
              for (var M = C.VU; M > n.index; M--)
                  this.su(C);
          if (n.index > C.VU)
              for (var M = C.VU; M < n.index; M++)
                  this.dy(C)
      }
      if (n.e == "h_stepfwd")
          this.dy(C);
      if (n.e == "h_stepbck")
          this.su(C);
      if (n.e == "h_undoredo") {
          var F = this.cz || this.ala != C.VU;
          if (F) {
              this.su(C);
              F = !1
          } else {
              this.dy(C);
              F = !0
          }
          this.cz = F;
          this.ala = C.VU
      } else
          this.cz = !0
  }
  ;
  e3.History.prototype.su = function(n) {
      if (n.VU == 0)
          return;
      var z = n.history[n.VU];
      z.F.LL(z.data, n);
      n.VU--
  }
  ;
  e3.History.prototype.dy = function(n) {
      if (n.VU == n.history.length - 1)
          return;
      var z = n.history[n.VU + 1];
      z.F.qO(z.data, n);
      n.VU++
  }
  ;
  e3.MP = function() {
      e3.bp.call(this, O.$w);
      this.FS = null
  }
  ;
  e3.MP.prototype = new e3.bp;
  e3.MP.prototype.Nm = function(n, z, C, D, F) {
      this.FS = z;
      var X = n.e
        , E = n.b != null ? n.b : C.C.length != 0 ? C.C[0] : C.W.length - 1
        , f = C.W[E];
      C.uv = !0;
      var a = D.r(dM.M2);
      if (X == Q.O_ && C.N == null)
          X = Q.BD;
      if (X == Q.jT) {
          var q = new hi([6, 33],this)
            , c = f.d4() ? ["pass"].concat(hr.Un) : hr.Un
            , K = n.b != null ? [n.b] : C.C
            , R = JSON.stringify(K)
            , J = [];
          for (var M = 0; M < K.length; M++)
              J.push(C.W[K[M]].Gx);
          q.data = {
              e: X,
              xD: R,
              xE: J,
              Z7: c[n.Z7]
          };
          C.OV(q);
          this.qO(q.data, C);
          this.track(eW.Uz("Md", {
              t: "enum",
              v: {
                  BlnM: hr.SV[n.Z7]
              }
          }))
      }
      if (X == Q.Lh) {
          var q, w = C.$B(), K = n.b != null ? [n.b] : C.C, R = JSON.stringify(K);
          if (w && w.data && w.data.e == X && w.data.xD == R)
              q = w;
          else {
              var p = eW.Uz("Opct", {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 0
                  }
              });
              this.track(p);
              var J = [];
              for (var M = 0; M < K.length; M++)
                  J.push(C.W[K[M]].opacity);
              q = new hi([6, 32],this);
              q.data = {
                  e: X,
                  xD: R,
                  xE: J,
                  Z7: n.Z7,
                  Vo: p.cw
              };
              C.OV(q)
          }
          q.data.Z7 = n.Z7;
          q.data.Vo.T.v.Opct.v.val = Math.round(n.Z7 * 100 / 255);
          this.qO(q.data, C)
      }
      if (X == Q.L7) {
          if (f.add.iOpa == null)
              f.add.iOpa = 255;
          var q, w = C.$B();
          if (w && w.data && w.data.e == X && w.data.b == E)
              q = w;
          else {
              q = new hi("Fill Opacity Change",this);
              q.data = {
                  e: X,
                  b: E,
                  xE: f.add.iOpa,
                  Z7: n.Z7
              };
              C.OV(q)
          }
          q.data.Z7 = n.Z7;
          this.qO(q.data, C)
      }
      if (X == Q.jy) {
          var I = n.Z7, m = n.b != null ? [n.b] : C.C.slice(0), A = [], U = [], q;
          for (var r = 0; r < m.length; r++) {
              var $ = C.W[m[r]];
              if ($.add.lspf == null)
                  $.add.lspf = 0;
              var J = $.add.lspf
                , k = J;
              for (var M = 0; M < I[0].length; M++) {
                  var G = I[1][M]
                    , i = 1 << G;
                  if ((k & i) == 0 && I[0][M])
                      k ^= i;
                  else if ((k & i) != 0 && !I[0][M])
                      k ^= i
              }
              A.push(J);
              U.push(k)
          }
          var w = C.$B()
            , K = JSON.stringify(m);
          if (w && w.data && w.data.e == X && JSON.stringify(w.data.xD) == K) {
              q = w;
              q.data.Z7 = U
          } else {
              var q = new hi([6, 57, 1],this);
              q.data = {
                  e: X,
                  xD: K,
                  xE: A,
                  Z7: U
              };
              C.OV(q)
          }
          this.qO(q.data, C)
      }
      if (X == Q.Q2) {
          var o = "----"
            , S = n.sx
            , k = null;
          for (var M = 0; M < dZ.pl.s$.length; M++)
              if (f.add[dZ.pl.s$[M]])
                  o = dZ.pl.s$[M];
          var H = f.add[o];
          if (S == "TySh")
              k = bZ.uZ(50, 50, F.E$);
          var q = new hi("Layer Type",this);
          q.data = {
              e: X,
              b: E,
              aoc: [o, H],
              sx: [S, k]
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.tk) {
          var m = [];
          if (a) {
              var e = C.$B()
                , V = e ? e.data : null;
              if (e != null && e.F == this && V.e == Q.tk && V.xD.length != 1) {
                  var v = new u(l.E.M);
                  v.F = O.Ai;
                  v.data = {
                      e: "h_stepbck"
                  };
                  z.f(v);
                  if (V.b == E)
                      return
              }
              var B = C.root.H0(E)
                , Z = C.pX(null, E);
              while (B.parent != C.root) {
                  Z.push(B.parent.index);
                  B = B.parent
              }
              for (var M = 0; M < C.W.length; M++) {
                  var d = C.W[M]
                    , g = d.y_()
                    , Y = Z.indexOf(M) != -1;
                  if (!Y && g)
                      m.push(M);
                  if (M == E && !g)
                      m.push(M)
              }
          } else {
              m.push(E);
              var g = C.W[E].y_()
                , p = {
                  KY: g ? "hide" : "show",
                  cw: {
                      classID: g ? "Hd" : "Shw",
                      null: {
                          t: "VlLs",
                          v: [eW.ek("Lyr", !0)]
                      }
                  }
              };
              this.track(p)
          }
          var q = new hi("Layer visibility",this,!0);
          q.data = {
              e: X,
              xD: m,
              b: E
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.XJ) {
          var p = {
              KY: "select",
              cw: {
                  classID: "null",
                  MkVs: {
                      t: "bool",
                      v: !1
                  }
              }
          }, y, escape = !1;
          if (C.a.Hg.join("") != "111") {
              C.a.Hg = [1, 1, 1];
              C.QV = !0
          }
          for (var M = 0; M < C.W.length; M++) {
              var d = C.W[M];
              if (d.ei()) {
                  var L = d.yM(C);
                  if (L && L.z && L.z.ip) {
                      L.z.ip = !1;
                      C.QV = !0
                  }
              }
              var _ = d.sN();
              if (_ && _.ip) {
                  _.ip = !1;
                  C.QV = !0
              }
          }
          if (D.r(dM.BO) || n.agS == 0) {
              var b = C.C.indexOf(E);
              if (b == -1)
                  C.C.push(E);
              else if (C.C.length > 1)
                  C.C.splice(b, 1);
              C.C.sort(function(q, h_) {
                  return q - h_
              });
              p.cw.selectionModifier = {
                  t: "enum",
                  v: {
                      selectionModifierType: "addToSelection"
                  }
              };
              y = E
          } else if (D.r(dM.Ms) && !a && n.Z0 > 0) {
              X = n.Z0 == 1 ? Q.Hp : n.Z0 == 2 ? Q.FT : Q.JV;
              escape = !0
          } else if ((D.r(dM.Ms) || n.agS == 1) && C.C.length > 0) {
              var x = Math.min(E, C.C[0])
                , W = Math.max(E, C.C[C.C.length - 1]);
              C.C = [];
              for (var M = x; M <= W; M++)
                  if (C.W[M].add.lsct != g9.Jg)
                      C.C.push(M);
              p.cw.selectionModifier = {
                  t: "enum",
                  v: {
                      selectionModifierType: "addToSelectionContinuous"
                  }
              };
              y = E
          } else {
              y = E;
              var d = C.W[E];
              if (d && d.d4() && n.a0U)
                  d.add.lsct = g9.WQ;
              else if (C.C.length == 1 && C.C[0] == E && n.Z0 == d.kl) {
                  return
              }
              C.C = [E];
              C.Fp()
          }
          if (y != null && y < C.W.length) {
              p.cw.null = {
                  t: "obj ",
                  v: [{
                      t: "name",
                      v: {
                          classID: "Lyr",
                          val: C.W[y].getName()
                      }
                  }]
              },
              this.track(p)
          }
          if (!escape) {
              console.log("no escape");
              if (C.C.length == 1) {
                  var g6 = C.C[0];
                  for (var M = 0; M < C.W.length; M++) {
                      if (M == g6)
                          continue;
                      var $ = C.W[M];
                      $.kl = 0;
                      $.XE = !1
                  }
                  var f = C.W[g6];
                  if (n.Z0 == 2) {
                      f.XE = !f.XE;
                      C.ej = []
                  } else if (f) {
                      f.kl = n.Z0 <= 0 ? 0 : n.Z0
                  }
              } else
                  for (var M = 0; M < C.W.length; M++) {
                      var $ = C.W[M];
                      $.kl = 0;
                      $.XE = !1
                  }
              C.Tj = null;
              C.PL = !0
          }
      }
      if (X == Q.Hp || X == Q.JV) {
          var fY = X == Q.Hp
            , f3 = fY ? f.sN() : f.yM(C).z;
          if (f3 == null)
              return;
          var q = new hi(f3.isEnabled ? fY ? [6, 15] : [6, 42] : fY ? [6, 14] : [6, 41],this);
          q.data = {
              e: X,
              b: E
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.FT) {
          var f3 = f.add.vmsk;
          if (f3 == null)
              return;
          var q = new hi(f3.isEnabled ? [6, 17] : [6, 16],this);
          q.data = {
              e: X,
              b: E
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.EG) {
          var hK = f.add.lsct == g9.WQ ? g9.cP : g9.WQ;
          if (D.r(dM.BO)) {
              var s = C.root.H0(C.W.indexOf(f)).parent;
              for (var M = 0; M < s.children.length; M++) {
                  var P = s.children[M].b;
                  if (P.d4())
                      P.add.lsct = hK
              }
          } else
              f.add.lsct = hK;
          C.PL = !0
      }
      if (X == Q.CR) {
          if (!C.vw(E))
              return;
          var q = new hi(f.$I ? [6, 19] : [6, 18],this);
          q.data = {
              e: X,
              b: E
          };
          C.OV(q);
          if (n.Z7 == null || n.Z7 != f.$I)
              this.qO(q.data, C);
          this.track({
              KY: "groupEvent",
              cw: {
                  classID: "GrpL",
                  null: {
                      t: "obj ",
                      v: [eW.ek("Lyr", !0)]
                  }
              }
          })
      }
      if (X == Q.h9) {
          if (f.Be())
              f.j1 -= 32;
          else
              f.j1 += 32;
          C.PL = !0
      }
      if (X == Q.JL || X == Q.n1) {
          var q;
          if (X == Q.JL)
              q = new hi(f.add.lmfx.masterFXSwitch.v ? [6, 30] : [6, 29],this);
          if (X == Q.n1)
              q = new hi(f.add.SoLd.filterFX.v.enab.v ? [6, 44] : [6, 43],this);
          q.data = {
              e: X,
              b: E
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.qy || X == Q.g4) {
          var g6 = n.index, q;
          if (X == Q.qy)
              q = new hi(f.add.lmfx[g$.IT[g6[0]]].v[g6[1]].v.enab.v ? [6, 30] : [6, 29],this);
          if (X == Q.g4)
              q = new hi(f.add.SoLd.filterFX.v.filterFXList.v[g6].v.enab.v ? [6, 44] : [6, 43],this);
          q.data = {
              e: X,
              b: E,
              index: n.index
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.Rp) {
          if (n.src == n.uw)
              return;
          var aF = C.W[n.src]
            , fM = C.W[n.uw]
            , eA = aF.add.lmfx ? JSON.stringify(aF.add.lmfx) : ""
            , e8 = fM.add.lmfx ? JSON.stringify(fM.add.lmfx) : "";
          if (fM.add.lmfx == null) {
              fM.add.lmfx = JSON.parse(g$.default);
              for (var M = 0; M < g$.order.length; M++)
                  fM.add.lmfx[g$.IT[M]] = {
                      t: "VlLs",
                      v: []
                  }
          }
          if (n.PD == null) {
              fM.add.lmfx = JSON.parse(eA);
              if (!a)
                  delete aF.add.lmfx
          } else {
              var eC = n.PD[0]
                , cy = g$.IT[eC];
              if (g$.VS.indexOf(g$.order[eC]) == -1)
                  fM.add.lmfx[cy].v = [];
              fM.add.lmfx[cy].v.push(aF.add.lmfx[cy].v[n.PD[1]]);
              if (!a)
                  aF.add.lmfx[cy].v.splice(n.PD[1], 1)
          }
          var j0 = aF.add.lmfx ? JSON.stringify(aF.add.lmfx) : ""
            , aT = fM.add.lmfx ? JSON.stringify(fM.add.lmfx) : "";
          if (!fM.Be())
              fM.j1 += 32;
          var q = new hi("Move Layer Styles",this);
          q.data = {
              e: X,
              na: n.src,
              d3: n.uw,
              a7i: eA,
              a6Z: e8,
              a3O: j0,
              anQ: aT
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.nj) {
          var $ = C.W[n.src]
            , a4 = JSON.stringify($.add.SoLd)
            , f8 = JSON.parse(a4)
            , b3 = f8.filterFX.v.filterFXList.v;
          b3.splice(n.PD, 1);
          var q = new hi([6, 53],this);
          q.data = {
              e: Q.DW,
              Q4: [{
                  vr: n.src,
                  WL: [a4, JSON.stringify(f8)]
              }]
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.zY) {
          var gh = a
            , aF = C.W[n.src]
            , fM = C.W[n.uw]
            , cZ = [];
          if (aF != fM && fM.add.SoLd == null) {
              alert("Target layer is not a smart object!");
              return
          }
          if (aF == fM && !gh && (n.PD == n.M4 || n.PD == -1))
              return;
          var h3 = aF.yM(C)
            , a4 = JSON.stringify(aF.add.SoLd)
            , f8 = JSON.parse(a4)
            , b3 = f8.filterFX.v.filterFXList.v;
          if (aF == fM) {
              b3.splice(n.M4, 0, b3[n.PD]);
              if (!gh)
                  b3.splice(n.PD + (n.PD < n.M4 ? 0 : 1), 1);
              cZ.push({
                  vr: n.src,
                  WL: [a4, JSON.stringify(f8)]
              })
          } else if (n.PD == -1) {
              var ew = f8.filterFX;
              if (!gh) {
                  delete f8.filterFX;
                  cZ.push({
                      vr: n.src,
                      WL: [a4, JSON.stringify(f8)],
                      xJ: [h3, null]
                  })
              }
              var dy = fM.ei() ? fM.yM(C) : null
                , fx = b$.MA(h3)
                , bo = JSON.stringify(fM.add.SoLd)
                , hd = JSON.parse(bo);
              hd.placed.v = fx.id;
              hd.filterFX = ew;
              cZ.push({
                  vr: n.uw,
                  WL: [bo, JSON.stringify(hd)],
                  xJ: [dy, fx]
              })
          } else {
              var gT = b3[n.PD];
              if (!gh) {
                  b3.splice(n.PD, 1);
                  cZ.push({
                      vr: n.src,
                      WL: [a4, JSON.stringify(f8)]
                  })
              }
              var bo = JSON.stringify(fM.add.SoLd)
                , hd = JSON.parse(bo);
              if (hd.filterFX == null)
                  hd.filterFX = fd._z();
              var du = hd.filterFX.v.filterFXList.v;
              du.splice(n.M4, 0, gT);
              var bk = {
                  vr: n.uw,
                  WL: [bo, JSON.stringify(hd)]
              };
              if (!fM.ei()) {
                  var fx = b$.YX(fM.add.SoLd.placed.v);
                  bk.xJ = [null, fx]
              }
              cZ.push(bk)
          }
          var q = new hi([6, 52],this);
          q.data = {
              e: Q.DW,
              Q4: cZ
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.ak) {
          var f3 = f.sN()
            , q = new hi(f3.Ze ? [6, 26] : [6, 25],this);
          q.data = {
              e: X,
              b: E
          };
          C.OV(q);
          this.qO(q.data, C);
          this.track({
              KY: "set",
              cw: {
                  classID: "setd",
                  null: {
                      t: "obj ",
                      v: [eW.ek("Lyr", !0)]
                  },
                  T: {
                      t: "Objc",
                      v: {
                          classID: "Lyr",
                          Usrs: {
                              t: "bool",
                              v: f3.Ze
                          }
                      }
                  }
              }
          })
      }
      if (X == Q.tu) {
          var f3 = f.add.vmsk
            , q = new hi(f3.Ze ? [6, 28] : [6, 27],this);
          q.data = {
              e: X,
              b: E
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.qQ) {
          var i8 = [], q;
          for (var M = 0; M < C.C.length; M++) {
              var r = C.C[M]
                , d = C.W[r];
              if (d.add.vogk)
                  i8.push(r, JSON.stringify(d.add.vogk))
          }
          for (var M = 0; M < C.ej.length; M++) {
              var r = C.ej[M]
                , d = C.E1[r];
              if (d.add.vogk)
                  i8.push(-1 - r, JSON.stringify(d.add.vogk))
          }
          j.hL.aac(C, n.i6, n.aqs);
          var en = [];
          for (var M = 0; M < C.C.length; M++) {
              var r = C.C[M]
                , d = C.W[r];
              if (d.add.vogk)
                  en.push(r, JSON.stringify(d.add.vogk))
          }
          for (var M = 0; M < C.ej.length; M++) {
              var r = C.ej[M]
                , d = C.E1[r];
              if (d.add.vogk)
                  en.push(-1 - r, JSON.stringify(d.add.vogk))
          }
          var w = C.$B();
          if (w && w.data && w.data.e == X) {
              var dW = !0;
              for (var M = 0; M < i8.length; M += 2)
                  if (i8[M] != w.data.AT[M])
                      dW = !1;
              if (dW) {
                  q = w;
                  q.data.iA = en
              }
          }
          if (q == null) {
              var q = new hi([12, 91, 1],this);
              q.data = {
                  e: X,
                  AT: i8,
                  iA: en
              };
              C.OV(q)
          }
          this.qO(q.data, C)
      }
      if (X == Q.w6) {
          var q, w = C.$B();
          if (w && w.data && w.data.e == X && w.data.b == E) {
              q = w;
              q.data.e0 = JSON.stringify(n.e0)
          }
          if (q == null) {
              var q = new hi("Editing Artboard",this);
              q.data = {
                  e: X,
                  b: E,
                  a2y: JSON.stringify(f.add.artb),
                  e0: JSON.stringify(n.e0)
              };
              C.OV(q)
          }
          this.qO(q.data, C)
      }
      if (X == Q.iy) {
          var en = C.fD.slice(0)
            , ix = C.Rj.slice(0)
            , dU = C.N
            , hN = C.N;
          if (n._5 == "fromAction") {
              var a1 = n.G.KY
                , hk = n.G.cw;
              if (a1 == "make" || a1 == "duplicate") {
                  var ax = en.length
                    , bz = !1
                    , fq = !1;
                  if (C.XA())
                      ax--;
                  var ej = new Q.im;
                  ej.name = "Alpha " + (ax + 1);
                  if (a1 == "make") {
                      var cg = hk.Nw.v;
                      ej.color = 255;
                      ix = [ax];
                      ej.ip = !0;
                      ej.gy = cg.Opct.v;
                      if (cg.Nm)
                          ej.name = cg.Nm.v;
                      if (cg.classID == "SCch") {
                          bz = !0;
                          hN = null;
                          ej.Gj = 1
                      }
                  } else {
                      var iw = hk.null.v[0].v;
                      if (iw.keyID == "fsel")
                          bz = !0;
                      else {
                          var fD = O.lJ.Dd(C);
                          hN = O.lJ.QW(C, fD);
                          ej.color = 0;
                          ej.rect = hN.rect;
                          ej.channel = hN.channel
                      }
                  }
                  if (bz) {
                      ej.color = 0;
                      if (C.N) {
                          ej.rect = C.N.rect.clone();
                          ej.channel = C.N.channel.slice(0)
                      }
                      if (fq) {
                          ej.color = 255 - ej.color;
                          j.eL(ej.channel)
                      }
                  }
                  en.splice(ax, 0, ej)
              } else if (a1 == "delete") {
                  var Z = C.Rj;
                  Z.sort(function(q, h_) {
                      return h_ - q
                  });
                  if (Z.length == 0)
                      return;
                  for (var M = 0; M < Z.length; M++)
                      en.splice(Z[M], 1);
                  ix = []
              } else if (a1 == "hide") {
                  en[ix[0]] = en[ix[0]].clone();
                  en[ix[0]].ip = !1
              }
          }
          if (n._5 == "rnm") {
              en[n.kB] = en[n.kB].clone();
              en[n.kB].name = n.name
          }
          var q = new hi("Channel Edit",this);
          q.data = {
              e: X,
              AT: C.fD.slice(0),
              J$: C.Rj.slice(0),
              iA: en,
              Go: ix,
              vT: dU,
              $l: hN
          };
          this.qO(q.data, C);
          C.OV(q)
      }
      if (X == Q.Cw) {
          var q = new hi(n.$_,this);
          q.data = {
              e: Q.Cw,
              x6: C.W.slice(0),
              lK: n.lK,
              X2: C.C.slice(0),
              tK: n.$l
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.Zi) {
          var g8 = C.pX(null, n.b)
            , c8 = 1e10;
          if (g8.length == 0)
              return;
          if (C.W.length == g8.length) {
              alert("Project must have at least 1 layer");
              return
          }
          var ap = [];
          for (var M = 0; M < C.W.length; M++)
              if (g8.indexOf(M) == -1)
                  ap.push(C.W[M]);
          for (var M = 0; M < g8.length; M++)
              c8 = Math.min(c8, g8[M]);
          c8 = Math.max(c8 - 1, 0);
          while (ap[c8].name == "</Layer group>")
              c8++;
          this.track({
              KY: "delete",
              cw: {
                  classID: "Dlt",
                  null: eW.ek("Lyr", !0)
              }
          });
          var q = new hi([6, 31],this);
          q.data = {
              e: Q.Cw,
              x6: C.W.slice(0),
              lK: ap,
              X2: C.C.slice(0),
              tK: [c8]
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.$u) {
          if (!D.r(dM.Ms))
              return;
          var q = new hi("Switch Layer Link",this);
          q.data = {
              e: X,
              b: n.b
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q._n) {
          var Z = n.ajE ? n.ajE : C.C
            , dS = 0
            , c$ = !1;
          if (Z.length == 0)
              return;
          if (Z.length == 1 && C.W[Z[0]].nq == 0) {
              alert(aC.get([15, 7, 5]));
              return
          }
          var iK = [];
          for (var M = 0; M < C.W.length; M++) {
              var ay = C.W[M].nq;
              iK.push(ay);
              dS = Math.max(dS, ay)
          }
          var gP = -1
            , d0 = -1;
          for (var M = 0; M < Z.length; M++) {
              var ay = C.W[Z[M]].nq;
              if (ay == 0)
                  c$ = !0;
              else if (gP == -1 || gP == ay)
                  gP = ay;
              else
                  d0 = ay
          }
          if (!c$)
              for (var M = 0; M < Z.length; M++)
                  C.W[Z[M]].nq = 0;
          else if (gP != -1 && d0 == -1)
              for (var M = 0; M < Z.length; M++)
                  C.W[Z[M]].nq = gP;
          else
              for (var M = 0; M < Z.length; M++)
                  C.W[Z[M]].nq = dS + 1;
          var ff = [];
          for (var M = 0; M < C.W.length; M++) {
              var ay = C.W[M].nq;
              if (ff[ay] == null)
                  ff[ay] = 0;
              ff[ay]++
          }
          for (var M = 0; M < C.W.length; M++) {
              var ay = C.W[M].nq;
              if (ff[ay] == 1)
                  C.W[M].nq = 0
          }
          var ci = iK;
          iK = [];
          for (var M = 0; M < C.W.length; M++) {
              var ay = C.W[M].nq;
              iK.push(ay);
              dS = Math.max(dS, ay)
          }
          var q = new hi(c$ ? [6, 54, 0] : [6, 54, 1],this);
          q.data = {
              e: Q._n,
              a1z: ci,
              amw: iK
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.BD && (n.b != null || C.C.length != 0) || X == Q.B7) {
          var gL = C.rm(X == Q.BD ? n.b : E, null, n.adE);
          if (X == Q.B7) {
              var $ = gL[0]
                , a1 = $.add.SoLd.Idnt.v
                , gw = C.H$(a1).clone();
              $.add.SoLd.Idnt.v = gw.LH = b$.oA() + a1.slice(8);
              C.add.lnk2.push(gw)
          }
          if (X == Q.BD) {
              var bJ = {
                  KY: "duplicate",
                  cw: {
                      classID: "null",
                      null: eW.ek("Lyr", !0)
                  }
              };
              if (n.VY) {
                  gL[0].CZ(n.VY);
                  bJ.Nm = {
                      t: "TEXT",
                      v: n.VY
                  }
              }
              this.track(bJ);
              n.ae8 = n.b
          }
          X = Q.S6;
          n.W = gL;
          n.sI = C;
          n.Op = C
      }
      if (X == Q.S6) {
          var hX, bm, hl = n.sI, b0 = n.Op, aK = 0, gc = 0;
          if (hl != b0) {
              console.log("ADDLAYERS different projs");
              var hX = new cc(0,0,hl.d,hl.v)
                , bm = new cc(0,0,b0.d,b0.v)
                , i3 = []
                , cp = [];
              for (var M = 0; M < n.W.length; M++) {
                  var $ = n.W[M];
                  if ($.add.SoLd == null)
                      continue;
                  var a1 = $.add.SoLd.Idnt.v;
                  if (i3.indexOf(a1) == -1) {
                      i3.push(a1);
                      cp.push(b$.oA() + a1.slice(8))
                  }
                  $.add.SoLd.Idnt.v = cp[i3.indexOf(a1)];
                  var h3 = $.yM(hl);
                  if (h3) {
                      hl.Ix(h3);
                      b0.$n(h3)
                  }
              }
              if (i3.length > 0) {
                  if (b0.add.lnk2 == null)
                      b0.add.lnk2 = [];
                  for (var M = 0; M < i3.length; M++) {
                      var eR = hl.H$(i3[M])
                        , gw = eR.clone();
                      gw.LH = cp[M];
                      b0.add.lnk2.push(gw)
                  }
              }
          }
          var dU = b0.C.slice(0);
          dU.sort(function(q, h_) {
              return q - h_
          });
          var ap = b0.W.slice(0)
            , hN = []
            , hm = -1;
          for (var M = 0; M < dU.length; M++)
              hm = Math.max(hm, dU[M]);
          if (n.ae8 != null)
              hm = n.ae8;
          var ii = hl.m$();
          if (n.K8) {
              hm = n.K8 - 1;
              var fU = b0.W[n.K8].qJ();
              aK += fU.x;
              gc += fU.y
          }
          if (ii != -1) {
              var io = hl.W[ii].qJ();
              aK -= io.x;
              gc -= io.y
          }
          hm++;
          for (var M = 0; M < n.W.length; M++) {
              var d = n.W[M];
              ap.splice(hm, 0, d);
              hN.push(hm);
              hm++
          }
          if (n.W[n.W.length - 1].d4())
              hN = [hm - 1];
          var q = new hi([6, 0],this);
          q.data = {
              e: Q.Cw,
              x6: b0.W.slice(0),
              lK: ap,
              X2: dU,
              tK: hN
          };
          b0.OV(q);
          this.qO(q.data, b0);
          if (aK != 0 || gc != 0)
              O.zh.P7(b0, b0.pX(), null, aK, gc)
      }
      if (X == Q._v) {
          var cJ = n.b != null ? [n.b] : C.pX()
            , ap = C.W.slice(0);
          for (var M = 0; M < cJ.length; M++) {
              var d = C.W[cJ[M]].clone();
              d.TP(C);
              ap.splice(cJ[M], 1, d)
          }
          var q = new hi([6, 8],this);
          q.data = {
              e: Q.Cw,
              x6: C.W.slice(0),
              lK: ap,
              X2: C.C.slice(0),
              tK: C.C.slice(0)
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.Uu) {
          var ap = C.W.slice(0)
            , d = ap[C.C[0]] = ap[C.C[0]].clone()
            , eI = d.add.lmfx
            , dK = 0;
          delete d.add.lmfx;
          var hV = j.T(d.rect.t());
          j.Ni(d.buffer, hV, 3);
          var f2 = fg.va(eI, null, hV, d.rect, C, d.rect).type;
          for (var M = 0; M < g$.order.length; M++) {
              var fJ = g$.order[M]
                , f6 = f2[fJ]
                , db = M > 7;
              for (var ds = 0; ds < f6.length; ds++) {
                  var fa = f6[ds]
                    , K = C.gl();
                  K.Gx = fa.Ga;
                  K.opacity = Math.round(255 * fa.He);
                  K.$I = !db;
                  K.buffer = fa.oz;
                  K.rect = fa.nM;
                  K.rect.offset(d.rect.x, d.rect.y);
                  K.CZ(d.getName() + "'s " + aC.get(g$.names[M]));
                  ap.splice(C.C[0] + (db ? 0 : 1), 0, K);
                  if (db)
                      dK++
              }
          }
          var q = new hi("Styles to Layers",this);
          q.data = {
              e: Q.Cw,
              x6: C.W.slice(0),
              lK: ap,
              X2: C.C.slice(0),
              tK: [C.C[0] + dK]
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.yk) {
          var cJ = C.pX()
            , ap = C.W.slice(0)
            , c2 = new cc(0,0,C.d,C.v);
          for (var M = 0; M < cJ.length; M++) {
              var eN = C.W[cJ[M]]
                , go = eN.y_();
              eN.Hu(!0);
              var hL = C.root.H0(cJ[M]);
              if (eN.d4())
                  continue;
              if (hL == null)
                  continue;
              var d = eN.clone();
              d.TP(C);
              var dA = hL.Td(C, !0)
                , dh = C.W;
              C.Xw([eN]);
              C.J();
              C.h1();
              d.buffer = j.T(dA.t() * 4);
              j.X3(C.Wc(), c2, d.buffer, dA);
              d.rect = dA;
              d.opacity = 255;
              d.add.iOpa = 255;
              d.Gx = "norm";
              d.J();
              d.XB.wD = !0;
              C.Xw(dh);
              if (d.add.lmfx)
                  delete d.add.lmfx;
              d.z = d.Cu = null;
              ap.splice(cJ[M], 1, d);
              d.Hu(go);
              eN.Hu(go)
          }
          var q = new hi([6, 34],this);
          q.data = {
              e: Q.Cw,
              x6: C.W.slice(0),
              lK: ap,
              X2: C.C.slice(0),
              tK: C.C.slice(0)
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q._E) {
          var cJ = C.pX()
            , ap = C.W.slice(0);
          for (var M = 0; M < cJ.length; M++) {
              var d = C.W[cJ[M]]
                , i5 = d.add.TySh;
              if (i5 == null)
                  continue;
              var $ = new fL(i5.uR,F.E_)
                , dq = j.K.jQ(iW.tF($, i5));
              for (var dc in dq) {
                  var i7 = dq[dc]
                    , P = d.clone();
                  delete P.add.TySh;
                  P.j1 = P.j1 | 1 << 4;
                  P.add.SoCo = JSON.parse(JSON.stringify(g$.sQ[0]));
                  var gZ = P.add.SoCo.Clr.v;
                  gZ.Rd.v = parseInt(dc.slice(1, 3), 16);
                  gZ.Grn.v = parseInt(dc.slice(3, 5), 16);
                  gZ.Bl.v = parseInt(dc.slice(5, 7), 16);
                  var hh = new Q.qP;
                  hh.g = j.K.gU(i7, !1);
                  if (P.add.vmsk != null) {
                      P.add.vmsk.a6U();
                      hh.concat(P.add.vmsk)
                  }
                  P.add.vmsk = hh;
                  P.add.vstk = JSON.parse(JSON.stringify(g$.Bt.default));
                  P.CD();
                  P.z4(C);
                  ap.splice(ap.indexOf(d), 0, P)
              }
              ap.splice(ap.indexOf(d), 1)
          }
          var hN = C.C.slice(0);
          for (var M = hN.length - 1; M >= 0; M--)
              if (hN[M] >= ap.length)
                  hN.splice(M, 1);
          var q = new hi([6, 40],this);
          q.data = {
              e: Q.Cw,
              x6: C.W.slice(0),
              lK: ap,
              X2: C.C.slice(0),
              tK: hN
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.Ty) {
          var h4 = C.C.length;
          if (h4 < 2) {
              alert("Select two or more layers.");
              return
          }
          if (!C.Xq())
              return;
          var P = C.W[C.C[0]].clone()
            , ap = [];
          for (var M = 0; M < C.W.length; M++)
              if (C.C.indexOf(M) == -1)
                  ap.push(C.W[M]);
          ap.splice(C.C[0], 0, P);
          for (var M = 1; M < h4; M++)
              if (C.W[C.C[M]].rect.t() > 2e6) {
                  alert("Blended areas are too large.");
                  return
              }
          for (var M = 1; M < h4; M++) {
              var d = C.W[C.C[M]]
                , iU = d.rect.clone();
              iU.TR(1, 1);
              var h_ = j.T(iU.t() * 4);
              j.X3(d.buffer, d.rect, h_, iU);
              P.extend(iU);
              var hS = j.T(iU.t() * 4);
              j.X3(P.buffer, P.rect, hS, iU);
              var q = j.T(iU.t());
              j.Ni(h_, q, 3);
              j.round(q, 200);
              j.bl(q, h_, 3);
              j.$.xN("norm", h_, iU, hS, iU, iU, 1);
              j.YN.n7(hS, q, iU);
              j.X3(hS, iU, P.buffer, P.rect)
          }
          var q = new hi([2, 10, 0],this);
          q.data = {
              e: Q.Cw,
              x6: C.W.slice(0),
              lK: ap,
              X2: C.C.slice(0),
              tK: [C.C[0]]
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.W5) {
          var ap = C.W.slice(0)
            , ix = C.C.slice(0);
          for (var M = 0; M < ap.length; M++) {
              var d = ap[M]
                , cR = d.add.vmsk;
              if (d.Ct() && cR && d.add.vstk.strokeEnabled.v && !d.add.vstk.fillEnabled.v) {
                  var hP = cR.g
                    , e2 = 0
                    , bS = -1;
                  for (var ds = 0; ds < hP.length; ds++) {
                      if ((hP[ds].type == 0 || hP[ds].type == 3) && hP[ds].fT != -1) {
                          e2++;
                          if (hP[ds].type == 3 && bS == -1) {
                              hP[ds].AB = hP[ds].fT = 1;
                              bS = ds
                          }
                      }
                  }
                  if (e2 > 1 && bS != -1) {
                      console.log("separating an open path into a new layer");
                      d = d.clone();
                      cR = d.add.vmsk;
                      hP = cR.g;
                      var K = hP[bS].length
                        , iR = d.clone();
                      iR.add.lyid = C.u8();
                      cR.g = hP.slice(0, 2).concat(hP.slice(bS, bS + K + 1));
                      cR.C = [];
                      d.z4(C);
                      d.J();
                      var ba = iR.add.vmsk.g;
                      iR.add.vmsk.g = ba.slice(0, bS).concat(ba.slice(bS + K + 1, ba.length));
                      iR.add.vmsk.C = [];
                      iR.z4(C);
                      ap[M] = d;
                      ap.splice(M + 1, 0, iR);
                      for (var ds = 0; ds < ix.length; ds++)
                          if (ix[ds] > M)
                              ix[ds]++;
                      var bE = ix.indexOf(M);
                      if (bE != -1) {
                          ix.splice(bE + 1, 0, M + 1)
                      }
                  }
              }
          }
          if (ap.length != C.W.length) {
              var q = new hi("Splitting open paths",this);
              q.data = {
                  e: Q.Cw,
                  x6: C.W.slice(0),
                  lK: ap,
                  X2: C.C.slice(0),
                  tK: ix
              };
              C.OV(q);
              this.qO(q.data, C)
          }
      }
      if (X == Q.un) {
          this.Nm({
              e: Q.W5
          }, z, C, D, F);
          var dU = C.C.slice(0)
            , dh = C.W.slice(0)
            , cJ = C.pX();
          if (cJ.length == 0)
              return;
          C.c8(cJ, !1, n.Zs);
          var q = new hi([6, 36, 0],this);
          q.data = {
              e: Q.Cw,
              x6: dh,
              lK: C.W.slice(),
              X2: dU,
              tK: C.C.slice(0)
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.hV) {
          var a4 = f.add.SoLd;
          if (a4 == null)
              return;
          var a1 = a4.Idnt.v
            , gj = C.H$(a1);
          gj.Wc(!1);
          var ec = gj.qY[0]
            , iU = gj.qY[1];
          if (j.VC(ec)) {
              alert("The smart object contains transparency.");
              return
          }
          var dI = fC.ET("jpg").c0([[ec.buffer]], iU.d, iU.v, [90]);
          this.Nm({
              e: Q.pt,
              JB: C,
              data: new Uint8Array(dI),
              id: a1,
              Zs: "jpg"
          }, z, C, D, F);
          console.log(C.add);
          return
      }
      if (X == Q.pt) {
          var eR = n.JB.H$(n.id)
            , gw = eR.clone();
          gw.raw = n.data;
          if (n._8)
              gw._8 = n._8;
          if (n.Zs) {
              gw.m0 = "    ";
              gw.p2 = "    ";
              gw._8 = gw._8 + "." + n.Zs
          } else {
              gw.m0 = "8BIM";
              gw.p2 = "8BPB";
              gw._8 = gw._8 + ".psd"
          }
          gw.Wc(!1);
          eR.Wc(!1);
          var q = new hi([6, 36, 1],this);
          q.data = {
              e: Q.pt,
              id: n.id,
              Jj: eR,
              w8: gw
          };
          n.JB.OV(q);
          this.qO(q.data, n.JB)
      }
      if (X == Q._b) {
          var q = new hi([6, 36, 4],this);
          q.data = {
              e: X,
              b: E,
              WG: f.add.SoLd.Impr.v.classID,
              Z7: n.Z7
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.w_) {
          var dp, az;
          if (n.sf) {
              dp = n.JB;
              az = n.sf
          } else {
              n.JB.j7();
              n.JB.YE();
              n.JB.J();
              n.JB.h1();
              n.JB.Wc();
              dp = fC.ET("PSD").c0(n.JB, 0, 0, [!0, !0]);
              az = n.JB.name
          }
          if (!(dp instanceof ArrayBuffer))
              throw "e";
          dp = new Uint8Array(dp);
          var b = n.cD != null ? n.cD : C.C[C.C.length - 1] + 1
            , cI = C.AM(dp, az, 0, 0, !0)
            , ap = C.W.slice(0);
          ap.splice(b, 0, cI);
          var q = new hi([6, 36, 2],this);
          q.data = {
              e: Q.Cw,
              x6: C.W.slice(),
              lK: ap,
              X2: C.C.slice(0),
              tK: [ap.indexOf(cI)]
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.t0 && n._5 == "merge") {
          var df = []
            , cU = C.root.children
            , e4 = 0;
          for (var M = 0; M < cU.length; M++) {
              var B = cU[M]
                , d = B.b
                , ce = B.children
                , gf = !0;
              if (!d.d4() || ce.length == 0)
                  continue;
              for (var ds = 0; ds < ce.length; ds++)
                  if (!ce[ds].b.getName().startsWith("_a_")) {
                      gf = !1;
                      break
                  }
              if (gf)
                  df.push(C.W.indexOf(d))
          }
          var hw = [];
          for (var M = 0; M < df.length; M++)
              if (C.C.indexOf(df[M]) != -1)
                  hw.push(df[M]);
          if (hw.length >= 2)
              df = hw;
          if (df.length < 2) {
              alert("At least two animation folders needed (whose layers start with \"_a_\").", 3500);
              return
          }
          var fI = [];
          for (var M = 0; M < df.length; M++)
              fI.push(C.W[df[M]].getName());
          var f6 = [];
          for (var cA = 0; cA < df.length; cA++) {
              var B = C.root.H0(df[cA])
                , bk = [[], [], 0, cA];
              f6.push(bk);
              for (var M = 0; M < B.children.length; M++) {
                  var r = B.children[M].index
                    , d = B.children[M].b
                    , ej = d.getName()
                    , bH = 20
                    , dT = ej.split(",");
                  if (dT.length > 1) {
                      var i4 = parseInt(dT.pop());
                      if (!isNaN(i4) && i4 != 0)
                          bH = i4
                  }
                  bk[0].push(d);
                  bk[1].push(bH);
                  bk[2] += bH
              }
          }
          f6.sort(function(q, h_) {
              return h_[2] - q[2]
          });
          var dE = f6[0]
            , hn = dE[2];
          for (var hM = 1; hM < f6.length; hM++) {
              var bk = f6[hM]
                , fo = 1
                , an = bk[1].slice(0)
                , el = 0;
              while ((fo + 1) * bk[2] <= dE[2]) {
                  fo++;
                  an = an.concat(bk[1])
              }
              bk[1] = an;
              bk[2] *= fo;
              var cO = dE[2] / bk[2];
              for (var M = 0; M < bk[1].length; M++) {
                  var eZ = Math.floor(bk[1][M] * cO);
                  bk[1][M] = eZ;
                  el += eZ
              }
              while (el < hn) {
                  el++;
                  bk[1][bk[1].length - 1]++
              }
              bk[2] = el
          }
          var b9 = []
            , iI = []
            , eZ = [];
          for (var M = 0; M < f6.length; M++) {
              b9.push(0);
              iI.push(0)
          }
          while (e4 < hn) {
              var i6 = 1e9
                , ax = -1;
              for (var M = 0; M < f6.length; M++) {
                  var iL = f6[M][1]
                    , e1 = b9[M];
                  if (e1 != iL.length && iI[M] + iL[e1] < e4 + i6) {
                      ax = M;
                      i6 = iI[M] + iL[e1] - e4
                  }
              }
              iI[ax] += f6[ax][1][b9[ax]];
              b9[ax]++;
              if (i6 != 0) {
                  eZ.push(i6);
                  e4 += i6
              }
          }
          for (var M = 0; M < eZ.length; M++) {
              var ea = eZ[M]
                , bn = ea >>> 1;
              if (ea < 17) {
                  var r = eZ.length - 1;
                  if (M == 0)
                      eZ[1] += ea;
                  else if (M == eZ.length - 1)
                      eZ[r - 1] += ea;
                  else {
                      eZ[M - 1] += bn;
                      eZ[M + 1] += ea - bn
                  }
                  eZ.splice(M, 1);
                  M--
              }
          }
          var go = []
            , c2 = new cc(0,0,C.d,C.v);
          for (var M = 0; M < C.W.length; M++) {
              go[M] = C.W[M].y_();
              C.W[M].Hu(!1)
          }
          var dN = C.C.slice(0);
          C.C = df;
          var g8 = C.pX();
          g8.sort(function(q, h_) {
              return q - h_
          });
          var ap = [];
          for (var M = 0; M < C.W.length; M++) {
              if (g8.indexOf(M) == -1)
                  ap.push(C.W[M])
          }
          f6.sort(function(q, h_) {
              return q[3] - h_[3]
          });
          function gl(iL, a2) {
              var M = 0
                , hv = 0;
              while (hv + iL[M] <= a2) {
                  hv += iL[M];
                  M++
              }
              return M
          }
          e4 = 0;
          ap.splice(g8[0], 0, C.iE());
          for (var es = 0; es < eZ.length; es++) {
              var m = [];
              for (var M = 0; M < f6.length; M++) {
                  var e1 = gl(f6[M][1], e4) % f6[M][0].length
                    , d = f6[M][0][e1];
                  m.push(d)
              }
              var d = C.gl();
              for (var M = 0; M < f6.length; M++) {
                  var hj = m[M]
                    , s = C.W[df[M]];
                  hj.Hu(!0);
                  s.Hu(!0)
              }
              C.J();
              C.h1();
              var ec = C.Wc();
              d.rect = j.xk(ec, c2);
              d.buffer = j.T(d.rect.t() * 4);
              j.X3(ec, c2, d.buffer, d.rect);
              for (var M = 0; M < f6.length; M++) {
                  var hj = m[M]
                    , s = C.W[df[M]];
                  hj.Hu(!1);
                  s.Hu(!1)
              }
              d.Hu(es == 0);
              d.CZ("_a_frm" + es + "," + eZ[es]);
              ap.splice(g8[0] + 1 + es, 0, d);
              e4 += eZ[es]
          }
          var d = C.gl();
          d.CZ(fI.join(" + "));
          d.Gx = "pass";
          d.add.lsct = g9.cP;
          d.j1 = 24;
          ap.splice(g8[0] + 1 + eZ.length, 0, d);
          for (var M = 0; M < C.W.length; M++)
              C.W[M].Hu(go[M]);
          var q = new hi([6, 12, 0],this);
          q.data = {
              e: Q.Cw,
              x6: C.W,
              lK: ap,
              X2: dN,
              tK: [g8[0] + 1 + eZ.length]
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.cm || X == Q.D_ || X == Q.Ck) {
          var dh = C.W.slice(0), dU = C.C.slice(0), ep = !0, cI, hN;
          if (X == Q.cm)
              C.C = [E, E - 1];
          if (X == Q.Ck) {
              C.C = [];
              for (var M = 0; M < C.W.length; M++)
                  if (C.W[M].y_())
                      C.C.push(M)
          }
          var cJ = C.pX();
          cJ.sort(function(q, h_) {
              return q - h_
          });
          var hp = new cc
            , c2 = new cc(0,0,C.d,C.v);
          for (var M = 0; M < cJ.length; M++) {
              var r = cJ[M]
                , d = C.W[r];
              ep = ep && d.Ct() && d.add.vmsk != null;
              hp = hp.QH(C.root.H0(r).Td(C, !0))
          }
          if (ep) {
              cI = C.W[cJ[0]].clone();
              var cR = cI.add.vmsk;
              for (var M = 1; M < cJ.length; M++) {
                  var K = C.W[cJ[M]]
                    , ba = Q.qP.$k(K.add.vmsk.g);
                  cR.g = cR.g.concat(ba.slice(2));
                  cI.add.vogk = cI.add.vogk.concat(JSON.parse(JSON.stringify(K.add.vogk)))
              }
              cI.add.vmsk.fe = !0;
              cI.z4(C)
          } else if (c2._6(hp)) {
              cI = C.gl();
              cI.CZ(C.W[cJ[cJ.length - 1]].getName());
              cI.rect = hp;
              cI.buffer = j.T(hp.t() * 4);
              var hH = C.Wc(cJ);
              j.X3(hH, c2, cI.buffer, hp);
              cI.J()
          } else {
              C.c8(cJ, !0);
              cI = C.W[C.C[0]];
              C.W.splice(C.C[0], 1);
              var f_ = C.H$(cI.add.SoLd.Idnt.v);
              C.add.lnk2.splice(C.add.lnk2.indexOf(f_), 1);
              delete cI.add.SoLd
          }
          var eH = a
            , bF = -1;
          if (n.cw && n.cw.Dplc && n.cw.Dplc.v)
              eH = !0;
          if (eH && X == Q.Ck && C.W[dU[0]].I8() && C.W[dU[0]].rect.kX()) {
              bF = dU[0];
              cI.CZ(C.W[bF].getName())
          }
          var ap = [];
          for (var M = 0; M < C.W.length; M++)
              if (eH || cJ.indexOf(M) == -1)
                  if (M != bF)
                      ap.push(C.W[M]);
          var ab = cJ[cJ.length - 1]
            , h6 = ab == C.W.length - 1 ? null : C.W[ab + 1]
            , bN = h6 ? ap.indexOf(h6) : ap.length;
          ap.splice(bN, 0, cI);
          hN = [bN];
          var q = new hi([6, 12, 0],this);
          q.data = {
              e: Q.Cw,
              x6: dh,
              lK: ap,
              X2: dU,
              tK: hN
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.ZA) {
          var P = C.gl();
          P.rect = new cc(0,0,C.d,C.v);
          P.buffer = j.T(P.rect.t() * 4);
          j.xM(P.buffer, 4294967295);
          j.$.xN("norm", C.Wc(), P.rect, P.buffer, P.rect, P.rect, 1);
          P.CZ("Background");
          P.add.lspf = 1 << 2;
          var q = new hi([6, 12, 1],this);
          q.data = {
              e: Q.Cw,
              x6: C.W.slice(),
              lK: [P],
              X2: C.C.slice(0),
              tK: [0]
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.Hx || X == Q.MC || X == Q.gQ || X == Q.Pv || X == Q.O_) {
          var d = X == Q.O_ ? C.W[C.C[0]].clone() : C.gl(), dR = aC.get([0, 3]), cw = n.VY, gI = !1, eE, dv;
          if (X == Q.gQ)
              dR = aC.get([12, 76, 1]);
          if (X == Q.O_) {
              var eN = C.W[C.C[0]]
                , bb = eN._L(C, C.N);
              if (bb == null) {
                  alert("Copied area is empty");
                  return
              }
              d.rect = bb.rect;
              d.buffer = bb.Q5;
              d.TP(C)
          }
          if (X == Q.Pv) {
              d.rect = e3.MP.Zh(n.i4, C);
              d.buffer = n.i4.buffer.slice(0);
              if (n.g9 && C.N) {
                  d.z = new Q.im;
                  d.z.rect = C.N.rect;
                  d.z.color = 0;
                  d.z.channel = C.N.channel.slice(0)
              }
          }
          if (X == Q.Hx) {
              this.track({
                  KY: "make",
                  cw: {
                      classID: "Mk",
                      null: eW.ek("Lyr")
                  }
              })
          }
          if (X == Q.MC) {
              d.j1 |= 16;
              var g4 = n.cw.Usng.v
                , e7 = g4.Type.v
                , e0 = ad.SZ[e7.classID];
              dR = aC.get(ad.names[e0]);
              if (g4.Nm)
                  cw = g4.Nm.v;
              d.add[e0] = fd.zP(e0);
              if (d.add[e0] == null)
                  d.add[e0] = {};
              for (var iE in e7)
                  d.add[e0][iE] = JSON.parse(JSON.stringify(e7[iE]));
              d.z = e3.MP.G1(C)
          }
          if (X == Q.gQ) {
              d.j1 |= 16;
              var hk = n.cw
                , g4 = hk.Usng.v
                , gu = g4.Type.v
                , ck = g4.Shp;
              if (ck == null) {
                  var gm = C.LJ()
                    , dq = gm[0]
                    , bA = gm[1];
                  if (bA.length != 0) {
                      var aZ = dq[bA[0]].add;
                      d.add.vmsk = aZ.vmsk.clone();
                      d.add.vstk = JSON.parse(JSON.stringify(g$.Bt.default));
                      d.add.vogk = JSON.parse(JSON.stringify(aZ.vogk));
                      C.ej = []
                  } else
                      d.z = e3.MP.G1(C)
              } else {
                  console.log(g4);
                  d.add.vmsk = new Q.qP;
                  d.add.vstk = JSON.parse(JSON.stringify(g4.strokeStyle ? g4.strokeStyle.v : g$.Bt.default));
                  d.add.vogk = [];
                  if (ck) {
                      var b4 = j.hL.gp(ck);
                      if (b4) {
                          d.add.vogk = [b4];
                          d.add.vmsk.g.push({
                              type: 0,
                              fT: 1,
                              length: 0
                          });
                          j.hL.Lf(d.add.vogk, d.add.vmsk)
                      } else {
                          ck = ck.v;
                          var ft = ck.classID;
                          if (ft == "Plgn") {
                              var ah = ck.Cntr.v
                                , io = ck.corner.v;
                              ah = new ir(ah.Hrzn.v.val,ah.Vrtc.v.val);
                              io = new ir(io.Hrzn.v.val,io.Vrtc.v.val);
                              d.add.vmsk.g = j.i.Ey.Qe(ah.x, ah.y, Math.sqrt(io.x * io.x + io.y * io.y), Math.atan2(io.y, io.x), ck.sides.v, 0)
                          } else if (ft == "customShape") {
                              var bl = j.hL.Vj(ck), iB = bl[2] - bl[0], gU = bl[3] - bl[1], dH = F.Vl, dP, b8;
                              for (var M = 0; M < dH.length; M++)
                                  if (dH[M].YZ == ck.Nm.v)
                                      dP = dH[M];
                              if (dP) {
                                  b8 = Q.qP.$k(dP.g);
                                  j.i.i3(b8, new b6(iB,0,0,gU,bl[0],bl[1]))
                              } else
                                  b8 = j.i.Ey.Rect(bl[0], bl[1], iB, gU, 0);
                              d.add.vmsk.g = b8
                          }
                          d.CD()
                      }
                  }
              }
              var cE = {
                  solidColorLayer: 0,
                  gradientLayer: 1,
                  patternLayer: 2
              }[gu.classID]
                , hD = ["SoCo", "GdFl", "PtFl"][cE];
              d.add[hD] = JSON.parse(JSON.stringify(g$.sQ[cE]));
              e3.MP.gM(gu, d.add[hD], cE);
              if (ck == null)
                  dR = aC.get([6, 48, 0, cE]);
              if (hD == "PtFl")
                  C.P2(fg.Ke(d.add[hD].Ptrn.v, F.NC));
              d.z4(C)
          }
          var h4 = e3.MP.x1(C, dR + " ");
          d.CZ(dR + " " + (h4 + 1));
          if (cw)
              d.CZ(cw);
          var b1 = C.C.length == 0 ? C.W.length - 1 : C.C[C.C.length - 1]
            , dj = C.W[b1];
          if (X == Q.gQ && dj.I8() && dj.rect.kX()) {
              gI = !0;
              d.CZ(dj.getName());
              eE = b1
          } else {
              eE = b1 + 1;
              if (dj && dj.add.lsct == g9.WQ)
                  eE--
          }
          if (n.abe)
              eE = Math.max(0, eE - 1);
          var ap = C.W.slice(0);
          ap.splice(eE, gI ? 1 : 0, d);
          var hI = [5, 2];
          if (X == Q.Hx)
              hI = [6, 13];
          if (X == Q.MC)
              hI = [6, 1];
          if (X == Q.gQ) {
              hI = [6, 48, 1];
              var ck = n.cw.Usng.v.Shp;
              if (ck) {
                  var er = {
                      Rctn: [10, 32],
                      Ln: [10, 35],
                      Elps: [10, 33],
                      Plgn: [12, 93, 0],
                      customShape: [10, 31]
                  }[ck.v.classID];
                  if (er)
                      hI = er
              }
          }
          if (X == Q.O_) {
              hI = [6, 49]
          }
          if (X == Q.O_ || X == Q.gQ || X == Q.Pv)
              if (C.N)
                  dv = [C.N, null];
          var q = new hi(hI,this);
          q.data = {
              e: Q.Cw,
              x6: C.W.slice(0),
              lK: ap,
              X2: C.C.slice(0),
              tK: [eE],
              xI: dv
          };
          C.OV(q);
          this.qO(q.data, C);
          if (X == Q.gQ && ck == null && cE != 0 || X == Q.MC) {
              var bu = new u(l.E.P);
              bu.data = {
                  e: l.H.tw,
                  gA: gz.Mq.Lr
              };
              z.f(bu)
          }
      }
      if (X == Q.WH) {
          var d = C.gl();
          d.CZ(aC.get([0, 4]) + " " + C.W.length);
          d.Gx = "pass";
          d.add.lsct = g9.WQ;
          d.j1 = 24;
          var fT = C.iE()
            , b1 = E
            , eE = b1 + 1
            , ap = C.W.slice(0);
          ap.splice(eE, 0, fT, d);
          var q = new hi([6, 20],this);
          q.data = {
              e: Q.Cw,
              x6: C.W.slice(0),
              lK: ap,
              X2: C.C.slice(0),
              tK: [eE + 1]
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.zo || X == Q.jl) {
          var il = X == Q.zo ? n.source : C.C[0], de, bd, eg = C.C.indexOf(il) != -1, dL = a | n.a0D, cv;
          if (eg)
              cv = C.pX();
          else
              cv = C.l3(il);
          cv.sort(function(q, h_) {
              return q - h_
          });
          if (X == Q.zo) {
              de = n.target;
              bd = n.PS > .5
          } else if (n.target != null) {
              de = n.target;
              bd = !0;
              C.dc = !0
          } else {
              var dQ = n._5;
              bd = dQ > 1;
              if (dQ == 0) {
                  de = C.W.length - 1
              }
              if (dQ == 1) {
                  de = cv[cv.length - 1] + 1;
                  var K = C.l3(de);
                  if (K.indexOf(il) == -1)
                      de += K.length - 1
              }
              if (dQ == 2) {
                  de = cv[0] - 1;
                  var K = C.l3(de);
                  if (K.indexOf(il) == -1)
                      de -= K.length - 1
              }
              if (dQ == 3) {
                  de = 0
              }
              if (de < 0 || de > C.W.length - 1)
                  return;
              C.dc = !0
          }
          if (cv.indexOf(de) != -1 && !dL)
              return;
          var aW = C.W[de]
            , ap = [];
          if (dL)
              ap = C.W.slice(0);
          else
              for (var M = 0; M < C.W.length; M++)
                  if (cv.indexOf(M) == -1)
                      ap.push(C.W[M]);
          var bQ = ap.indexOf(aW);
          if (X == Q.zo && aW.d4() && aW.add.lsct == g9.cP && n.PS > .8)
              bQ -= C.l3(de).length - 1;
          var hF = []
            , ai = dL ? C.rm(eg ? null : il) : null;
          for (var M = 0; M < cv.length; M++) {
              var cu = bQ + (bd ? 0 : 1) + M
                , $ = dL ? ai[M] : C.W[cv[M]];
              ap.splice(cu, 0, $);
              hF.push(cu)
          }
          var q = new hi(dL ? [6, 0] : [6, 35],this);
          q.data = {
              e: Q.Cw,
              x6: C.W.slice(0),
              lK: ap,
              X2: C.C.slice(0),
              tK: hF
          };
          C.OV(q);
          this.qO(q.data, C);
          var hk = {
              classID: "move",
              null: eW.ek("Lyr", !0),
              T: {
                  t: "obj ",
                  v: [{
                      t: "indx",
                      v: {
                          classID: "Lyr",
                          val: bQ + (bd ? 0 : 1)
                      }
                  }]
              },
              Adjs: {
                  t: "bool",
                  v: !1
              },
              Vrsn: {
                  t: "long",
                  v: 5
              },
              Dplc: {
                  t: "long",
                  v: dL
              }
          };
          this.track({
              KY: "move",
              cw: hk
          })
      }
      if (X == Q.Ok) {
          if (n.Zv) {
              if (f == null || !f.d4())
                  return;
              var B = C.root.H0(E)
                , cF = C.W.indexOf(B.aoO)
                , ap = C.W.slice(0);
              ap.splice(E, 1);
              ap.splice(cF, 1);
              var ix = [];
              for (var M = cF; M < E - 1; M++)
                  ix.push(M);
              var q = new hi("Ungroup Layers",this);
              q.data = {
                  e: Q.Cw,
                  x6: C.W.slice(0),
                  lK: ap,
                  X2: C.C.slice(0),
                  tK: ix
              };
              C.OV(q);
              this.qO(q.data, C)
          } else {
              var d = C.gl()
                , fB = aC.get([0, 4]) + " ";
              d.CZ(fB + (e3.MP.x1(C, fB) + 1));
              d.Gx = "pass";
              if (n.VY)
                  d.CZ(n.VY);
              d.add.lsct = C.C.length == 1 ? g9.WQ : g9.cP;
              d.j1 = 24;
              var fT = C.iE()
                , cv = C.pX();
              if (cv.length == 0)
                  return;
              cv.sort(function(q, h_) {
                  return q - h_
              });
              var ap = [];
              for (var M = 0; M < C.W.length; M++)
                  if (cv.indexOf(M) == -1)
                      ap.push(C.W[M]);
              var b1 = C.C[C.C.length - 1] - cv.length;
              ap.splice(b1 + 1, 0, fT);
              for (var M = 0; M < cv.length; M++)
                  ap.splice(b1 + 2 + M, 0, C.W[cv[M]]);
              ap.splice(b1 + 2 + cv.length, 0, d);
              var q = new hi([6, 9],this);
              q.data = {
                  e: Q.Cw,
                  x6: C.W.slice(0),
                  lK: ap,
                  X2: C.C.slice(0),
                  tK: [ap.indexOf(d)]
              };
              C.OV(q);
              this.qO(q.data, C);
              var p = {
                  KY: "make",
                  HV: !0
              };
              p.cw = {
                  classID: "Mk",
                  null: eW.ek("layerSection"),
                  From: eW.ek("Lyr", !0),
                  Usng: {
                      t: "Objc",
                      v: {
                          classID: "layerSection",
                          Nm: {
                              t: "TEXT",
                              v: d.getName()
                          }
                      }
                  }
              };
              this.track(p)
          }
      }
      if (X == Q.vp) {
          if (C.C.length != 1)
              return;
          var b = C.C[0]
            , eK = a;
          if (C.W[b].sN() == null) {
              X = Q.HQ;
              n.Xt = C.N ? !eK ? "RvlS" : "HdSl" : !eK ? "RvlA" : "HdAl"
          } else
              X = Q.ix
      }
      if (X == Q.HQ) {
          if (C.C.length != 1)
              return;
          var b = C.C[0]
            , d = C.W[b];
          if (d.add.vmsk && d.z == null)
              d.z4(C);
          var bK = d.sN();
          if (bK == null || n.a6R) {
              var q = new hi([6, 21],this)
                , gx = new Q.im
                , d5 = n.Xt
                , ho = d5 == "RvlS" || d5 == "HdSl";
              if (d5 == "RvlS" || d5 == "HdAl" || d5 == "Trns")
                  gx.color = 0;
              if (ho) {
                  gx.channel = C.N.channel.slice(0);
                  gx.rect = C.N.rect.clone();
                  if (d5 == "HdSl")
                      j.eL(gx.channel)
              }
              if (d5 == "Trns") {
                  gx.rect = d.rect.clone();
                  gx.channel = j.T(d.rect.t());
                  j.Ni(d.buffer, gx.channel, 3)
              }
              q.data = {
                  e: Q.$K,
                  EF: [b, bK, gx],
                  xI: ho ? [C.N, null] : null
              };
              C.OV(q);
              this.qO(q.data, C);
              C.W[b].kl = 1;
              this.track({
                  KY: "make",
                  cw: {
                      __name: "Make",
                      classID: "Mk",
                      Nw: {
                          t: "type",
                          v: {
                              classID: "Chnl"
                          }
                      },
                      At: {
                          t: "obj ",
                          v: [{
                              t: "Enmr",
                              v: {
                                  classID: "Chnl",
                                  typeID: "Chnl",
                                  enum: "Msk"
                              }
                          }]
                      },
                      Usng: {
                          t: "enum",
                          v: {
                              UsrM: d5
                          }
                      }
                  }
              })
          }
      } else if (X == Q.tt) {
          var aF = C.W[n.src]
            , fM = C.W[n.uw]
            , q = new hi([6, 21],this)
            , aR = aF.sN()
            , hA = fM.sN()
            , f3 = [n.src, aR, null, n.uw, hA, aR];
          if (a) {
              var ej = aR.clone();
              f3 = [n.uw, hA, ej];
              if (D.r(dM.Ms)) {
                  j.eL(ej.channel);
                  ej.color = 255 - ej.color
              }
          }
          q.data = {
              e: Q.$K,
              EF: f3
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.wh) {
          if (C.C.length != 1)
              return;
          var b = E
            , fs = C.W[b].sN();
          if (fs != null) {
              var q = new hi([6, 22],this);
              q.data = {
                  e: Q.$K,
                  EF: [E, fs, null]
              };
              C.OV(q);
              this.qO(q.data, C)
          }
      }
      if (X == Q.Xy) {
          var dh = C.W.slice(0)
            , P = f.clone()
            , _ = P.sN();
          j.NI(_.CK(P.rect), P.rect, P.buffer, P.rect);
          e3.MP.L8(C, P);
          P.BL();
          C.W[C.C[0]] = P;
          var q = new hi([5, 8],this);
          q.data = {
              e: Q.Cw,
              x6: dh,
              lK: C.W.slice(),
              X2: C.C.slice(0),
              tK: C.C.slice(0)
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.pE) {
          if (C.C.length != 1)
              return;
          var b = C.C[0];
          if (C.W[b].yM(C).z == null) {
              var q = new hi([6, 45],this);
              q.data = {
                  e: X,
                  b: b,
                  z: new Q.im
              };
              C.OV(q);
              this.qO(q.data, C)
          }
      }
      if (X == Q.tl) {
          if (C.C.length != 1)
              return;
          var b = C.C[0];
          if (C.W[b].yM(C).z != null) {
              var q = new hi([6, 46],this);
              q.data = {
                  e: X,
                  b: b,
                  z: C.W[b].yM(C).z
              };
              C.OV(q);
              this.qO(q.data, C)
          }
      }
      if (X == Q.Tt) {
          if (n.b == null && C.C.length != 1)
              return;
          if (C.W[E].ei()) {
              var q = new hi([6, 47],this)
                , a4 = JSON.stringify(C.W[E].add.SoLd)
                , f8 = JSON.parse(a4);
              delete f8.filterFX;
              q.data = {
                  e: Q.DW,
                  Q4: [{
                      vr: E,
                      WL: [a4, JSON.stringify(f8)],
                      xJ: [C.W[E].yM(C), null]
                  }]
              };
              C.OV(q);
              this.qO(q.data, C)
          }
      }
      if (X == Q.ix) {
          if (C.C.length != 1)
              return;
          if (f.add.vmsk == null) {
              var q = new hi([6, 23],this), hP = C.LJ(), Z = hP[1], hP = hP[0], gx, b4;
              if (n.ahT && Z.length != 0) {
                  var aZ = hP[Z[0]].add;
                  gx = aZ.vmsk.clone();
                  b4 = aZ.vogk
              } else {
                  gx = new Q.qP;
                  b4 = [];
                  gx.g[1].all = n.apa ? 0 : 1
              }
              q.data = {
                  e: X,
                  b: E,
                  Ca: !0,
                  z: gx,
                  hL: JSON.stringify(b4),
                  Bt: null
              };
              if (f.Ct()) {
                  q.data.Bt = JSON.stringify(g$.Bt.default)
              }
              C.OV(q);
              this.qO(q.data, C)
          }
      }
      if (X == Q.Wi) {
          var aF = C.W[n.src]
            , fM = C.W[n.uw];
          if (fM.add.vmsk)
              return;
          var q = new hi([6, 23],this)
            , cR = aF.add.vmsk;
          q.data = {
              b: n.uw,
              Ca: aF.XE,
              z: cR.clone(),
              hL: JSON.stringify(aF.add.vogk),
              Bt: aF.add.vstk ? JSON.stringify(aF.add.vstk) : null
          };
          if (a) {
              q.data.e = Q.ix
          } else {
              q.data.e = X;
              q.data.src = n.src;
              q.data.uw = n.uw
          }
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.AP) {
          if (C.C.length != 1)
              return;
          var d = C.W[E]
            , cR = d.add.vmsk;
          if (cR != null) {
              var q = new hi([6, 24],this);
              q.data = {
                  e: X,
                  b: E,
                  Ca: d.XE,
                  z: cR,
                  hL: JSON.stringify(d.add.vogk),
                  Bt: d.add.vstk ? JSON.stringify(d.add.vstk) : null
              };
              C.OV(q);
              this.qO(q.data, C)
          }
      }
      if (X == Q.LN) {
          var q = new hi("Metadata",this);
          q.data = {
              e: X,
              pb: JSON.stringify(C._q),
              PV: JSON.stringify(n.PV)
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.JK) {
          var br = n.uw ? n.uw : C
            , cV = br.name
            , cw = n.G + ".psd";
          if (cV == cw)
              return;
          var q = new hi([6, 37],this);
          q.data = {
              e: X,
              abc: cV,
              VY: cw
          };
          if (n.aqE != !0)
              br.OV(q);
          this.qO(q.data, br)
      }
      if (X == Q.t0 && n._5.endsWith("makeframes")) {
          var iM = []
            , hC = n._5.startsWith("make");
          for (var M = 0; M < C.C.length; M++) {
              var r = C.C[M]
                , d = C.W[r]
                , eD = d.getName()
                , fA = eD.startsWith("_a_");
              if (hC == fA || d.add.lsct == g9.Jg)
                  continue;
              var eF = hC ? "_a_" + eD : eD.slice(3);
              iM.push([r, eD, eF, d.add.lnsr, null])
          }
          var q = new hi([6, 37],this);
          q.data = {
              e: Q.hS,
              G6: iM
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.hS) {
          var cV = f.getName()
            , cw = n.name.substring(0, 255);
          if (cV == cw)
              return;
          var q = new hi([6, 37],this);
          q.data = {
              e: X,
              G6: [[E, cV, cw, f.add.lnsr, null]]
          };
          C.OV(q);
          this.qO(q.data, C);
          this.track(eW.Uz("Nm", {
              t: "TEXT",
              v: cw
          }))
      }
      if (X == Q.Az) {
          var h7 = C.pX()
            , hs = []
            , fP = [];
          for (var M = 0; M < h7.length; M++) {
              hs.push(C.W[h7[M]].add.lclr);
              fP.push(n.a0C)
          }
          var q = new hi([6, 38],this);
          q.data = {
              e: X,
              W: h7,
              adU: hs,
              ag2: fP
          };
          C.OV(q);
          this.qO(q.data, C)
      }
      if (X == Q.jg) {
          var q = C.history[C.VU];
          if (q != null && q.F == this && q.data.e == X && q.data.b == n.kI && q.data.Z7.ry == n.L0.ry)
              q.data.Z7 = n.L0;
          else {
              q = new hi("Mask Density / Feather",this);
              q.data = {
                  e: X,
                  b: n.kI,
                  WG: C.W[n.kI].xa(n.L0.ry),
                  Z7: n.L0
              };
              C.OV(q)
          }
          this.qO(q.data, C)
      }
      if (X == Q.yA) {
          var hg = JSON.stringify(n.G)
            , aE = JSON.parse(hg)
            , q = C.history[C.VU];
          if (q != null && q.F == this && q.data.e == X && q.data.kA == n.kA && q.data.xD.join(",") == n.xD.join(",")) {
              for (var M = 0; M < n.xD.length; M++)
                  q.data.il[M] = aE;
              if (q.data.cw && aE.p2 != 0)
                  e3.MP.gM(aE.Ys, q.data.cw.T.v, aE.p2 - 1)
          } else {
              q = new hi([11, 6],this);
              q.data = {
                  e: X,
                  xD: n.xD,
                  kA: n.kA,
                  acZ: [],
                  il: []
              };
              var h1 = !1;
              for (var M = 0; M < n.xD.length; M++) {
                  var r = n.xD[M]
                    , d = C.W[r]
                    , fi = n.kA ? O.si.bA(C, r) : JSON.parse(JSON.stringify(d.add.vstk));
                  q.data.acZ.push(fi);
                  q.data.il.push(aE);
                  if (JSON.stringify(fi) != hg)
                      h1 = !0
              }
              if (!h1)
                  return;
              C.OV(q);
              if (n.kA && aE.p2 > 0) {
                  var hk = q.data.cw = {
                      classID: "setd",
                      null: eW.ek("contentLayer", !0),
                      T: {
                          t: "Objc",
                          v: {}
                      }
                  }
                    , hD = ["SoCo", "GdFl", "PtFl"][aE.p2 - 1];
                  e3.MP.gM(aE.Ys, hk.T.v, aE.p2 - 1);
                  this.track({
                      KY: "set",
                      cw: hk
                  })
              }
          }
          if (n.kA && aE.p2 == 3)
              C.P2(fg.Ke(aE.Ys.Ptrn.v, F.NC));
          if (!n.kA) {
              var dF = aE.strokeStyleContent.v;
              if (dF.classID == g$.Bt.UN[2])
                  C.P2(fg.Ke(dF.Ptrn.v, F.NC))
          }
          this.qO(q.data, C)
      }
  }
  ;
  e3.MP.gM = function(n, z, C) {
      var D = [g$.oQ, g$.p_, g$.XK][C];
      if (z.classID == null)
          z.classID = ["solidColorLayer", "gradientLayer", "patternLayer"][C];
      for (var M = 0; M < D.length; M++)
          if (n[D[M]])
              z[D[M]] = JSON.parse(JSON.stringify(n[D[M]]))
  }
  ;
  e3.MP.G1 = function(n) {
      var z = new Q.im;
      if (n.N != null) {
          z.color = 0;
          z.channel = n.N.channel.slice(0);
          z.rect = n.N.rect.clone()
      }
      return z
  }
  ;
  e3.MP.pw = function(n, z, C, D) {
      var F = D.d / C.d
        , X = D.v / C.v
        , E = D.d / 2
        , f = D.v / 2
        , a = j.K.YQ(D).U;
      for (var M = 0; M < n.W.length; M++) {
          var q = n.W[M]
            , c = q.add.SoLd;
          if (c == null || c.Idnt.v != z)
              continue;
          if (F != 1 || X != 1) {
              var K = O.o.VV(c.nonAffineTransform)
                , R = j.V.qw(K, D)
                , J = new b6;
              J.translate(-E, -f);
              J.scale(F, X);
              J.translate(E, f);
              var w = j.V.Lm(R, j.V.aC(J))
                , p = a.slice(0);
              j.V.Z(w, p);
              c.Trnf = O.o.IO(p);
              c.nonAffineTransform = O.o.IO(p)
          }
          q.V_(n)
      }
      n.J()
  }
  ;
  e3.MP.a8Y = function(n, z, C) {
      z.color = 255 - z.color;
      j.eL(z.channel);
      z.fe = !0;
      n.z4(C);
      C.J()
  }
  ;
  e3.MP.prototype.LL = function(n, z) {
      var C = n.e
        , D = z.W[n.b];
      z.uv = !0;
      if (C == Q.pt) {
          z.add.lnk2.splice(z.add.lnk2.indexOf(n.w8), 1, n.Jj);
          e3.MP.pw(z, n.id, n.w8.qY[1], n.Jj.qY[1])
      }
      if (C == Q._b) {
          D.add.SoLd.Impr.v.classID = n.WG;
          D.V_(z)
      }
      if (C == Q.jT) {
          var F = JSON.parse(n.xD);
          for (var M = 0; M < F.length; M++)
              z.W[F[M]].Gx = n.xE[M];
          z.J()
      }
      if (C == Q.Lh) {
          var F = JSON.parse(n.xD);
          for (var M = 0; M < F.length; M++)
              z.W[F[M]].opacity = n.xE[M];
          z.J()
      }
      if (C == Q.jy) {
          var F = JSON.parse(n.xD);
          for (var M = 0; M < F.length; M++)
              if (z.W[F[M]].add.lsct != g9.Jg)
                  z.W[F[M]].add.lspf = n.xE[M]
      }
      if (C == Q.Q2) {
          var X = n.sx
            , E = n.aoc;
          delete D.add[X[0]];
          if (E[0] != "----")
              D.add[E[0]] = E[1]
      }
      if (C == Q.L7) {
          D.add.iOpa = n.xE;
          z.J()
      }
      if (C == Q.tk) {
          for (var M = 0; M < n.xD.length; M++) {
              var f = z.W[n.xD[M]];
              f.Hu(!f.y_())
          }
          z.J()
      }
      if (C == Q.Hp) {
          var a = D.sN();
          a.isEnabled = !a.isEnabled;
          D.z4(z);
          z.J()
      }
      if (C == Q.JV) {
          var a = D.yM(z).z;
          a.isEnabled = !a.isEnabled;
          D.J();
          z.J()
      }
      if (C == Q.FT) {
          var a = D.add.vmsk;
          a.isEnabled = !a.isEnabled;
          if (!a.isEnabled) {
              if (D.Cu) {
                  D.z = D.Cu;
                  D.Cu = null
              } else
                  D.z = null
          } else if (D.z) {
              D.Cu = D.z;
              D.z = null
          }
          D.z4(z);
          z.J()
      }
      if (C == Q.CR) {
          D.$I = !D.$I;
          z.J()
      }
      if (C == Q.JL) {
          D.add.lmfx.masterFXSwitch.v = !D.add.lmfx.masterFXSwitch.v;
          D.XB.wD = !0;
          z.J()
      }
      if (C == Q.n1) {
          D.add.SoLd.filterFX.v.enab.v = !D.add.SoLd.filterFX.v.enab.v;
          D.co(z);
          z.J()
      }
      if (C == Q.qy) {
          var q = n.index
            , c = D.add.lmfx[g$.IT[q[0]]].v[q[1]].v;
          c.enab.v = !c.enab.v;
          D.XB.wD = !0;
          z.J()
      }
      if (C == Q.Rp) {
          var K = z.W[n.na]
            , R = z.W[n.d3]
            , J = n.a7i
            , w = n.a6Z;
          if (J == "")
              delete K.add.lmfx;
          else
              K.add.lmfx = JSON.parse(J);
          if (w == "")
              delete R.add.lmfx;
          else
              R.add.lmfx = JSON.parse(w);
          K.XB.wD = !0;
          R.XB.wD = !0;
          z.J()
      }
      if (C == Q.g4) {
          var p = D.add.SoLd.filterFX.v.filterFXList.v[n.index].v;
          p.enab.v = !p.enab.v;
          D.co(z);
          z.J()
      }
      if (C == Q.KU) {
          D.add.SoLd.filterFX.v = JSON.parse(JSON.stringify(n.akm));
          D.co(z);
          z.J()
      }
      if (C == Q.ak) {
          var a = D.sN();
          a.Ze = !a.Ze
      }
      if (C == Q.tu) {
          var a = D.add.vmsk;
          a.Ze = !a.Ze
      }
      if (C == Q.qQ) {
          var I = n.AT;
          for (var M = 0; M < I.length; M += 2) {
              var m = I[M]
                , f = m >= 0 ? z.W[m] : z.E1[-1 - m];
              f.add.vogk = JSON.parse(I[M + 1]);
              j.hL.Lf(f.add.vogk, f.add.vmsk);
              if (m >= 0)
                  f.z4(z)
          }
          z.J()
      }
      if (C == Q.w6) {
          D.add.artb = JSON.parse(n.a2y);
          z.J();
          O.Xf.db(z)
      }
      if (C == Q.iy) {
          z.N = n.vT;
          z.fD = n.AT.slice(0);
          z.Rj = n.J$.slice(0);
          z.QV = z.PL = !0
      }
      if (C == Q.$u) {
          D.Uq = !D.Uq
      }
      if (C == Q._n) {
          var A = n.a1z;
          for (var M = 0; M < A.length; M++)
              z.W[M].nq = A[M]
      }
      if (C == Q.Cw) {
          if (n.X2)
              z.C = n.X2;
          if (n.xI)
              z.N = n.xI[0];
          z.Tj = null;
          z.J();
          z.Xw(n.x6);
          O.Xf.db(z)
      }
      if (C == Q.$K) {
          for (var M = 0; M < n.EF.length; M += 3)
              e3.MP.L8(z, z.W[n.EF[M]], n.EF[M + 1]);
          if (n.xI) {
              var U = n.xI[0];
              if (U == null)
                  delete z.N;
              else
                  z.N = U
          }
      }
      if (C == Q.pE) {
          D.yM(z).z = null;
          D.J();
          z.J()
      }
      if (C == Q.tl) {
          D.yM(z).z = n.z;
          D.J();
          z.J()
      }
      if (C == Q.DW) {
          e3.MP.P4(z, n.Q4, 0)
      }
      if (C == Q.ix) {
          e3.MP.SI(z, D, !0)
      }
      if (C == Q.Wi) {
          e3.MP.SI(z, z.W[n.uw], n.z.isEnabled);
          e3.MP.Tk(z, z.W[n.src], n)
      }
      if (C == Q.AP) {
          e3.MP.Tk(z, D, n)
      }
      if (C == Q.LN) {
          z._q = JSON.parse(n.pb)
      }
      if (C == Q.JK) {
          z.name = n.abc
      }
      if (C == Q.hS) {
          for (var M = 0; M < n.G6.length; M++) {
              var r = n.G6[M]
                , f = z.W[r[0]];
              f.CZ(r[1]);
              if (r[3])
                  f.add.lnsr = r[3];
              else
                  delete f.add.lnsr
          }
      }
      if (C == Q.Az) {
          for (var M = 0; M < n.W.length; M++)
              z.W[n.W[M]].add.lclr = n.adU[M]
      }
      if (C == Q.yA) {
          var $ = n.acZ;
          for (var M = 0; M < n.xD.length; M++) {
              var f = z.W[n.xD[M]]
                , k = $[M];
              if (!n.kA)
                  f.add.vstk = JSON.parse(JSON.stringify(k));
              else
                  O.si.FJ(f, JSON.parse(JSON.stringify(k)));
              f.rF(z)
          }
          z.J()
      }
      if (C == Q.jg) {
          D.a1(n.WG);
          D.z4(z);
          z.J()
      }
      z.PL = !0
  }
  ;
  e3.MP.prototype.qO = function(n, z) {
      var C = n.e
        , D = z.W[n.b];
      z.uv = !0;
      if (C == Q.pt) {
          z.add.lnk2.splice(z.add.lnk2.indexOf(n.Jj), 1, n.w8);
          e3.MP.pw(z, n.id, n.Jj.qY[1], n.w8.qY[1])
      }
      if (C == Q._b) {
          D.add.SoLd.Impr.v.classID = n.Z7;
          D.V_(z)
      }
      if (C == Q.jT) {
          var F = JSON.parse(n.xD);
          for (var M = 0; M < F.length; M++)
              z.W[F[M]].Gx = n.Z7;
          z.J()
      }
      if (C == Q.Lh) {
          var F = JSON.parse(n.xD);
          for (var M = 0; M < F.length; M++)
              z.W[F[M]].opacity = n.Z7;
          z.J()
      }
      if (C == Q.jy) {
          var F = JSON.parse(n.xD);
          for (var M = 0; M < F.length; M++)
              if (z.W[F[M]].add.lsct != g9.Jg)
                  z.W[F[M]].add.lspf = n.Z7[M]
      }
      if (C == Q.Q2) {
          var X = n.aoc
            , E = n.sx;
          delete D.add[X[0]];
          if (E[0] != "----")
              D.add[E[0]] = E[1]
      }
      if (C == Q.L7) {
          D.add.iOpa = n.Z7;
          z.J()
      }
      if (C == Q.tk) {
          for (var M = 0; M < n.xD.length; M++) {
              var f = z.W[n.xD[M]];
              f.Hu(!f.y_())
          }
          z.J()
      }
      if (C == Q.Hp) {
          var a = D.sN();
          a.isEnabled = !a.isEnabled;
          D.z4(z);
          z.J()
      }
      if (C == Q.JV) {
          var a = D.yM(z).z;
          a.isEnabled = !a.isEnabled;
          D.J();
          z.J()
      }
      if (C == Q.FT) {
          var a = D.add.vmsk;
          a.isEnabled = !a.isEnabled;
          if (!a.isEnabled) {
              if (D.Cu) {
                  D.z = D.Cu;
                  D.Cu = null
              } else
                  D.z = null
          } else if (D.z) {
              D.Cu = D.z;
              D.z = null
          }
          D.z4(z);
          z.J()
      }
      if (C == Q.CR) {
          D.$I = !D.$I;
          z.J()
      }
      if (C == Q.JL) {
          D.add.lmfx.masterFXSwitch.v = !D.add.lmfx.masterFXSwitch.v;
          D.XB.wD = !0;
          z.J()
      }
      if (C == Q.n1) {
          D.add.SoLd.filterFX.v.enab.v = !D.add.SoLd.filterFX.v.enab.v;
          D.co(z);
          z.J()
      }
      if (C == Q.qy) {
          var q = n.index
            , c = D.add.lmfx[g$.IT[q[0]]].v[q[1]].v;
          c.enab.v = !c.enab.v;
          D.XB.wD = !0;
          z.J()
      }
      if (C == Q.Rp) {
          var K = z.W[n.na]
            , R = z.W[n.d3]
            , J = n.a3O
            , w = n.anQ;
          if (J == "")
              delete K.add.lmfx;
          else
              K.add.lmfx = JSON.parse(J);
          if (w == "")
              delete R.add.lmfx;
          else
              R.add.lmfx = JSON.parse(w);
          K.XB.wD = !0;
          R.XB.wD = !0;
          z.J()
      }
      if (C == Q.g4) {
          var p = D.add.SoLd.filterFX.v.filterFXList.v[n.index].v;
          p.enab.v = !p.enab.v;
          D.co(z);
          z.J()
      }
      if (C == Q.KU) {
          D.add.SoLd.filterFX.v = JSON.parse(JSON.stringify(n.a7V));
          D.co(z);
          z.J()
      }
      if (C == Q.ak) {
          var a = D.sN();
          a.Ze = !a.Ze
      }
      if (C == Q.tu) {
          var a = D.add.vmsk;
          a.Ze = !a.Ze
      }
      if (C == Q.qQ) {
          var I = n.iA;
          for (var M = 0; M < I.length; M += 2) {
              var m = I[M]
                , f = m >= 0 ? z.W[m] : z.E1[-1 - m];
              f.add.vogk = JSON.parse(I[M + 1]);
              j.hL.Lf(f.add.vogk, f.add.vmsk);
              if (m >= 0)
                  f.z4(z)
          }
          z.J()
      }
      if (C == Q.w6) {
          D.add.artb = JSON.parse(n.e0);
          z.J();
          O.Xf.db(z)
      }
      if (C == Q.iy) {
          z.N = n.$l;
          z.fD = n.iA.slice(0);
          z.Rj = n.Go.slice(0);
          z.QV = z.PL = !0
      }
      if (C == Q.$u) {
          D.Uq = !D.Uq
      }
      if (C == Q._n) {
          var A = n.amw;
          for (var M = 0; M < A.length; M++)
              z.W[M].nq = A[M]
      }
      if (C == Q.Cw) {
          var U = n.lK, r = 0, $;
          for (var M = 0; M < U.length; M++) {
              var f = U[M]
                , k = f.add.lsct;
              if (k == g9.Jg)
                  r++;
              else if (k == g9.WQ || k == g9.cP)
                  r--;
              if (f.add.artb && r != 0)
                  $ = "Artboards can not be inside folders."
          }
          if ($) {
              z.history.pop();
              z.VU--;
              alert($);
              return
          }
          if (n.tK)
              z.C = n.tK;
          if (n.xI)
              z.N = n.xI[1];
          z.Tj = null;
          z.J();
          z.Xw(n.lK);
          O.Xf.db(z)
      }
      if (C == Q.$K) {
          for (var M = 0; M < n.EF.length; M += 3)
              e3.MP.L8(z, z.W[n.EF[M]], n.EF[M + 2]);
          if (n.xI) {
              var G = n.xI[1];
              if (G == null)
                  delete z.N;
              else
                  z.N = G
          }
      }
      if (C == Q.pE) {
          D.yM(z).z = n.z;
          D.kl = 0;
          D.J();
          z.J()
      }
      if (C == Q.tl) {
          D.yM(z).z = null;
          D.kl = 0;
          D.J();
          z.J()
      }
      if (C == Q.DW) {
          e3.MP.P4(z, n.Q4, 1)
      }
      if (C == Q.ix) {
          e3.MP.Tk(z, D, n)
      }
      if (C == Q.Wi) {
          e3.MP.SI(z, z.W[n.src], n.z.isEnabled);
          e3.MP.Tk(z, z.W[n.uw], n)
      }
      if (C == Q.AP) {
          e3.MP.SI(z, D, n.z.isEnabled)
      }
      if (C == Q.LN) {
          z._q = JSON.parse(n.PV)
      }
      if (C == Q.JK) {
          z.name = n.VY
      }
      if (C == Q.hS) {
          for (var M = 0; M < n.G6.length; M++) {
              var i = n.G6[M]
                , f = z.W[i[0]];
              f.CZ(i[2]);
              if (i[4])
                  f.add.lnsr = i[4];
              else
                  delete f.add.lnsr
          }
      }
      if (C == Q.Az) {
          for (var M = 0; M < n.W.length; M++)
              z.W[n.W[M]].add.lclr = n.ag2[M]
      }
      if (C == Q.yA) {
          var o = n.il;
          for (var M = 0; M < n.xD.length; M++) {
              var f = z.W[n.xD[M]]
                , S = o[M];
              if (!n.kA)
                  f.add.vstk = JSON.parse(JSON.stringify(S));
              else
                  O.si.FJ(f, JSON.parse(JSON.stringify(S)));
              f.rF(z)
          }
          z.J()
      }
      if (C == Q.jg) {
          D.a1(n.Z7);
          D.z4(z);
          z.J()
      }
      z.PL = !0
  }
  ;
  e3.MP.x1 = function(n, z) {
      var C = 0;
      for (var M = 0; M < n.W.length; M++) {
          var D = n.W[M].getName();
          if (D.startsWith(z)) {
              var F = D.slice(z.length).trim()
                , X = parseInt(F);
              if (!isNaN(X) && X + "" == F)
                  C = X
          }
      }
      return C
  }
  ;
  e3.MP.P4 = function(n, z, C) {
      for (var M = 0; M < z.length; M++) {
          var D = z[M]
            , F = n.W[D.vr];
          if (D.WL) {
              F.add.SoLd = JSON.parse(D.WL[C])
          }
          if (D.xJ) {
              if (D.xJ[1 - C] != null)
                  n.Ix(D.xJ[1 - C]);
              if (D.xJ[C] != null)
                  n.$n(D.xJ[C]);
              else
                  F.kl = 0
          }
          F.V_(n)
      }
  }
  ;
  e3.MP.Zh = function(n, z) {
      var C = n.Ma
        , D = n.rect.clone();
      if (C != null && (C.x != z.d || C.y != z.v)) {
          D.x = Math.floor((z.d - D.d) / 2);
          D.y = Math.floor((z.v - D.v) / 2)
      }
      return D
  }
  ;
  e3.MP.agO = function(n, z) {
      if (z.Cu)
          z.Cu = null;
      else
          z.z = null;
      z.z4(n);
      n.J();
      z.kl = 0
  }
  ;
  e3.MP.L8 = function(n, z, C) {
      var D = z.sN();
      if (D == null && C == null)
          return;
      if (D)
          e3.MP.agO(n, z);
      if (C == null)
          return;
      if (z.z)
          z.Cu = C;
      else
          z.z = C;
      z.z4(n);
      n.J()
  }
  ;
  e3.MP.SI = function(n, z, C) {
      if (z.Cu && C) {
          z.z = z.Cu;
          z.Cu = null
      } else if (z.z && C) {
          z.z = null
      }
      delete z.add.vogk;
      delete z.add.vstk;
      delete z.add.vmsk;
      z.z4(n);
      z.XE = !1;
      n.Tj = [];
      n.J()
  }
  ;
  e3.MP.Tk = function(n, z, C) {
      z.add.vogk = JSON.parse(C.hL);
      if (C.Bt)
          z.add.vstk = JSON.parse(C.Bt);
      else
          delete z.add.vstk;
      z.add.vmsk = C.z.clone();
      if (z.z && z.add.vmsk.isEnabled)
          z.Cu = z.z;
      z.z4(n);
      z.XE = C.Ca;
      n.Tj = [n.W.indexOf(z)];
      n.ej = [];
      n.J()
  }
  ;
  e3.X_ = function() {
      e3.bp.call(this, O.pZ);
      this.bb = null;
      this.q1 = null;
      this.SL = null;
      this.g$ = [];
      this.HW = null
  }
  ;
  e3.X_.prototype = new e3.bp;
  e3.X_.prototype.Nm = function(n, z, C, D, F) {
      var X = n.b;
      if (X == null)
          X = C.C[0];
      var E = C.W[X]
        , f = n.kB;
      if (this.bb == null) {
          this.SL = e3.X_.ok(C, E);
          this.bb = JSON.stringify(this.SL);
          if (E.add.lmfx)
              this.q1 = JSON.stringify(E.add.lmfx)
      }
      if (E.add.lmfx == null) {
          E.add.lmfx = JSON.parse(g$.default);
          for (var M = 0; M < g$.order.length; M++)
              E.add.lmfx[g$.IT[M]] = {
                  t: "VlLs",
                  v: []
              }
      }
      if (n.e == "scaleeffects") {
          if (n.G == "confirm" || n.G == "cancel") {
              this.Nm({
                  e: n.G
              }, z, C, D, F);
              return
          }
          E.add.lmfx = JSON.parse(this.q1);
          fg.Wj(E.add.lmfx, n.G / 100)
      } else if (n.e == "changeprop") {
          var a = null;
          if (f != 0) {
              var q = this.g$[f[0]];
              if (q == null)
                  q = g$.g$[f[0]];
              q = JSON.parse(q);
              var c = E.add.lmfx[g$.IT[f[0]]].v;
              if (c[f[1]] == null)
                  c[f[1]] = {
                      t: "Objc",
                      v: q
                  };
              a = c[f[1]].v;
              for (var K in q)
                  if (a[K] == null)
                      a[K] = q[K]
          }
          if (n.e == "changeprop") {
              if (f == 0) {
                  this.SL[n.R1].v = n.G;
                  e3.X_.YT(C, E, this.SL)
              } else if (n.R1 == "lagl") {
                  if (a.uglg && a.uglg.v) {
                      C.z1(n.G.val);
                      this.SL.akO = C.eY()
                  } else
                      a[n.R1].v = n.G
              } else if (n.R1 == "Lald") {
                  if (a.uglg.v) {
                      C.CG(n.G.val);
                      this.SL.an9 = C.Wq()
                  } else
                      a[n.R1].v = n.G
              } else if ((f[0] == 3 || f[0] == 8) && (n.R1 == "Clr" || n.R1 == "Grad")) {
                  if (n.R1 == "Clr") {
                      a.Clr = {
                          t: "Objc",
                          v: n.G
                      };
                      delete a.Grad
                  }
                  if (n.R1 == "Grad") {
                      a.Grad = {
                          t: "Objc",
                          v: n.G
                      };
                      delete a.Clr
                  }
              } else {
                  a[n.R1].v = n.G
              }
              if (f != 0)
                  this.g$[f[0]] = JSON.stringify(a)
          }
          if (f != 0)
              if (a.Ptrn)
                  C.P2(fg.Ke(a.Ptrn.v, F.NC))
      } else if (n.e == "setstl") {
          var R = n.G.Lefx;
          if (R)
              fg.Zm(R, C, F.NC);
          fg.hz(n.G, E);
          this.SL = e3.X_.ok(C, E)
      } else if (n.e == "st_dupsingle") {
          var J = E.add.lmfx[g$.IT[n.Mb[0]]].v;
          if (J[n.Mb[1]] == null)
              return;
          var w = JSON.parse(JSON.stringify(J[n.Mb[1]]));
          J.splice(n.Mb[1], 0, w)
      } else if (n.e == "st_movsingle") {
          var p = n.Mb[1]
            , J = E.add.lmfx[g$.IT[n.Mb[0]]].v;
          if (J[n.Mb[1]] == null)
              return;
          var I = Math.max(0, Math.min(J.length - 1, p + n.a9x))
            , m = J[I];
          J[I] = J[p];
          J[p] = m
      } else if (n.e == "cancel") {
          if (this.q1 == null)
              delete E.add.lmfx;
          else
              E.add.lmfx = JSON.parse(this.q1);
          e3.X_.YT(C, E, JSON.parse(this.bb));
          this.bb = null;
          this.q1 = null
      } else if (n.e == "confirm") {
          var A = JSON.stringify(E.add.lmfx)
            , U = new hi([11, 6],this);
          U.data = {
              W: [X],
              q4: [this.q1],
              _f: [A],
              pI: [this.bb],
              Qv: [JSON.stringify(this.SL)]
          };
          C.OV(U);
          this.bb = null;
          this.q1 = null;
          if (A != null) {
              var r = JSON.parse(A);
              ac.o3(r);
              r.classID = "Lefx";
              delete r.masterFXSwitch;
              var $ = new u(l.E._R);
              $.Wp = !0;
              $.data = {
                  KY: "set",
                  HV: !0
              };
              var k = eW.ek("Lyr", !0);
              k.v.splice(0, 0, {
                  t: "prop",
                  v: {
                      classID: "Prpr",
                      keyID: "Lefx"
                  }
              });
              $.data.cw = {
                  __name: "Set",
                  classID: "setd",
                  null: k,
                  T: {
                      t: "Objc",
                      v: r
                  }
              };
              z.f($)
          }
      } else if (n.e == "st_copy") {
          this.HW = [this.bb, this.q1];
          this.bb = null;
          this.q1 = null
      } else if (n.e == "st_paste" || n.e == "st_clear") {
          if (n.e == "st_paste" && this.HW == null)
              return;
          var G = n.b != null ? [n.b] : C.C.slice(0)
            , i = []
            , o = []
            , S = []
            , H = [];
          for (var M = 0; M < G.length; M++) {
              var E = C.W[G[M]]
                , e = e3.X_.ok(C, E);
              i.push(E.add.lmfx ? JSON.stringify(E.add.lmfx) : null);
              S.push(JSON.stringify(e));
              if (n.e == "st_paste") {
                  o.push(this.HW[1]);
                  H.push(this.HW[0])
              } else {
                  o.push(null);
                  e.lrMd.v = 0;
                  e.Opct.v.val = 100;
                  e.iOpa.v.val = 100;
                  e.blIf = {
                      v: []
                  };
                  for (var V = 0; V < 10; V++)
                      e.blIf.v.push(0, 0, 255, 255);
                  H.push(JSON.stringify(e))
              }
          }
          var U = new hi([11, 6],this);
          U.data = {
              W: G,
              q4: i,
              _f: o,
              pI: S,
              Qv: H
          };
          this.qO(U.data, C);
          C.OV(U);
          this.bb = null;
          this.q1 = null
      } else {
          var v = this.SL
            , r = null;
          if (n.e == "st_delsingle") {
              r = JSON.parse(this.q1);
              r[g$.IT[n.Mb[0]]].v.splice(n.Mb[1], 1);
              r = JSON.stringify(r)
          }
          if (r == null)
              delete E.add.lmfx;
          else
              E.add.lmfx = JSON.parse(r);
          if (v != null)
              e3.X_.YT(C, E, v);
          var U = new hi([11, 6],this);
          U.data = {
              W: [n.b],
              q4: [this.q1],
              _f: [r],
              pI: [this.bb],
              Qv: [JSON.stringify(v)]
          };
          C.OV(U);
          this.bb = null;
          this.q1 = null
      }
      E.XB.wD = !0;
      C.uv = !0;
      C.J()
  }
  ;
  e3.X_.ok = function(n, z) {
      if (z.add.iOpa == null)
          z.add.iOpa = 255;
      if (z.add.brst == null)
          z.add.brst = [1, 1, 1];
      var C = z.d4() ? ["pass"].concat(hr.Un) : hr.Un;
      return {
          lrMd: {
              v: C.indexOf(z.Gx)
          },
          Opct: {
              v: {
                  type: "#Prc",
                  val: Math.round(z.opacity * 100 / 255)
              },
              t: "UntF"
          },
          iOpa: {
              v: {
                  type: "#Prc",
                  val: Math.round(z.add.iOpa * 100 / 255)
              },
              t: "UntF"
          },
          blIf: {
              v: z.s5.slice(0)
          },
          brst: {
              v: z.add.brst
          },
          akO: n.eY(),
          an9: n.Wq(),
          d4: z.d4()
      }
  }
  ;
  e3.X_.YT = function(n, z, C) {
      var D = z.d4() ? ["pass"].concat(hr.Un) : hr.Un;
      z.Gx = D[C.lrMd.v];
      z.opacity = Math.round(C.Opct.v.val * 255 / 100);
      z.add.iOpa = Math.round(C.iOpa.v.val * 255 / 100);
      z.s5 = C.blIf.v.slice(0);
      z.add.brst = C.brst.v.slice(0);
      n.z1(C.akO);
      n.CG(C.an9)
  }
  ;
  e3.X_.prototype.LL = function(n, z) {
      for (var M = 0; M < n.W.length; M++) {
          var C = z.W[n.W[M]]
            , D = n.q4[M];
          if (D == null)
              delete C.add.lmfx;
          else
              C.add.lmfx = JSON.parse(D);
          e3.X_.YT(z, C, JSON.parse(n.pI[M]));
          C.XB.wD = !0
      }
      z.uv = !0;
      z.J()
  }
  ;
  e3.X_.prototype.qO = function(n, z) {
      for (var M = 0; M < n.W.length; M++) {
          var C = z.W[n.W[M]]
            , D = n._f[M];
          if (D == null)
              delete C.add.lmfx;
          else
              C.add.lmfx = JSON.parse(D);
          e3.X_.YT(z, C, JSON.parse(n.Qv[M]));
          C.XB.wD = !0
      }
      z.uv = !0;
      z.J()
  }
  ;
  e3.Bd = function() {
      e3.bp.call(this, O.Os)
  }
  ;
  e3.Bd.prototype = new e3.bp;
  e3.Bd.prototype.Nm = function(n, z, C, D) {
      var F = JSON.parse(JSON.stringify(C.V2))
        , X = JSON.parse(JSON.stringify(C.V2))
        , E = null
        , f = null
        , a = null
        , q = -1
        , c = !1;
      if (n.e == "delLC") {
          var K = e3.Bd.$i(C.V2, n.kB)
            , R = C.V2.lastAppliedComp ? C.V2.lastAppliedComp.v : 0;
          X.list.v.splice(K, 1);
          if (R == n.kB)
              delete X.lastAppliedComp;
          E = "Delete Layer Comp"
      }
      if (n.e == "editLC") {
          var K = e3.Bd.$i(C.V2, n.kB)
            , J = X.list.v[K].v;
          if (n.VY != null)
              J.Nm.v = n.VY;
          if (n.a1C != null) {
              var w = n.a1C
                , p = J.capturedInfo.v
                , I = p & (1 << w) - 1;
              p = p >> w;
              if ((p & 1) == 1)
                  p--;
              else
                  p++;
              J.capturedInfo.v = (p << w) + I
          }
          E = "Layer Comp properties"
      }
      if (n.e == "setLC") {
          e3.Bd.nd(C);
          if (n.kB == 0)
              delete X.lastAppliedComp;
          else
              X.lastAppliedComp = {
                  t: "long",
                  v: n.kB
              };
          E = "Switch Layer Comp";
          c = !0
      }
      if (n.e == "updLC") {
          e3.Bd.nd(C);
          f = e3.Bd.alw(C, n.kB);
          a = e3.Bd.B9(C, n.kB);
          X.lastAppliedComp = {
              t: "long",
              v: n.kB
          };
          E = "Update Layer Comp";
          q = n.kB;
          c = !0
      }
      if (n.e == "addLC") {
          e3.Bd.nd(C);
          var m = 1;
          for (var M = 0; M < X.list.v.length; M++)
              m = Math.max(m, X.list.v[M].v.compID.v) + 1;
          m += Math.floor(Math.random() * 1e4);
          var A = {
              t: "Objc",
              v: {
                  classID: "Comp",
                  Nm: {
                      t: "TEXT",
                      v: "New Comp " + (X.list.v.length + 1)
                  },
                  compID: {
                      t: "long",
                      v: m
                  },
                  capturedInfo: {
                      t: "long",
                      v: 7
                  }
              }
          };
          X.list.v.push(A);
          X.lastAppliedComp = {
              t: "long",
              v: m
          };
          E = "New Layer Comp";
          var U = e3.Bd.B9(C, m);
          e3.Bd.nF(C, U, m)
      }
      var r = new hi(E,this);
      r.data = {
          afD: F,
          aqv: X,
          a4m: f,
          a5Y: a,
          kB: q,
          yH: c
      };
      this.qO(r.data, C);
      C.OV(r)
  }
  ;
  e3.Bd.prototype.qO = function(n, z) {
      z.V2 = n.aqv;
      z.uv = !0;
      if (n.a5Y)
          e3.Bd.nF(z, n.a5Y, n.kB);
      if (n.yH) {
          var C = z.V2.lastAppliedComp ? z.V2.lastAppliedComp.v : 0
            , D = e3.Bd.$i(z.V2, C)
            , F = D == -1 ? null : z.V2.list.v[D].v
            , X = F ? F.capturedInfo.v : 7;
          e3.Bd.nh(z, C, X);
          z.J()
      }
  }
  ;
  e3.Bd.prototype.LL = function(n, z) {
      z.V2 = n.afD;
      z.uv = !0;
      if (n.a4m)
          e3.Bd.nF(z, n.a4m, n.kB);
      if (n.yH) {
          var C = z.V2.lastAppliedComp ? z.V2.lastAppliedComp.v : 0
            , D = e3.Bd.$i(z.V2, C)
            , F = D == -1 ? null : z.V2.list.v[D].v
            , X = F ? F.capturedInfo.v : 7;
          e3.Bd.nh(z, C, X);
          z.J()
      }
  }
  ;
  e3.Bd.nd = function(n) {
      if (n.V2.lastAppliedComp != null || !n.YB)
          return;
      var z = e3.Bd.B9(n, 0);
      e3.Bd.nF(n, z, 0);
      n.YB = !1
  }
  ;
  e3.Bd.lp = function(n, z, C) {
      n.v.Hrzn.v += z;
      n.v.Vrtc.v += C
  }
  ;
  e3.Bd.$i = function(n, z) {
      var C = n.list.v;
      for (var M = 0; M < C.length; M++)
          if (C[M].v.compID.v == z)
              return M;
      return -1
  }
  ;
  e3.Bd.abi = function(n) {
      var z = n.layerSettings.v
        , F = null;
      if (z.length == 0)
          return;
      var C = "compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" ")
        , D = z[0].v;
      if (D.enab == null)
          D.enab = {
              t: "bool",
              v: !0
          };
      if (D.Ofst == null)
          D.Ofst = {
              t: "Objc",
              v: {
                  classID: "null",
                  Hrzn: {
                      t: "long",
                      v: 0
                  },
                  Vrtc: {
                      t: "long",
                      v: 0
                  }
              }
          };
      for (var M = 0; M < z.length; M++) {
          var X = z[M].v;
          if (F == null)
              F = JSON.parse(JSON.stringify(X));
          else
              for (var E = 0; E < C.length; E++) {
                  var f = C[E];
                  if (X[f])
                      F[f] = JSON.parse(JSON.stringify(X[f]))
              }
          z[M].v = JSON.parse(JSON.stringify(F))
      }
  }
  ;
  e3.Bd.hl = function(n, z) {
      var C = n.add.shmd.cmls
        , D = C.layerSettings.v;
      for (var F = 0; F < D.length; F++) {
          var X = D[F].v
            , E = X.compList.v[0].v;
          if (E == z)
              return F
      }
      return -1
  }
  ;
  e3.Bd.uu = function(n, z) {
      var C = e3.Bd.hl(n, z);
      return C == -1 ? null : n.add.shmd.cmls.layerSettings.v[C].v
  }
  ;
  e3.Bd.nh = function(n, z, C) {
      for (var M = 0; M < n.W.length; M++) {
          var D = n.W[M]
            , F = D.add.shmd.cmls;
          if (F == null)
              continue;
          var X = F.layerSettings.v
            , E = e3.Bd.uu(D, z);
          if (E == null) {
              D.Hu(!1);
              continue
          }
          if ((C & 1) != 0) {
              if (E.enab)
                  D.Hu(E.enab.v);
              else
                  D.Hu(!0)
          }
          if ((C & 2) != 0) {
              if (E.Ofst) {
                  var f = E.Ofst.v
                    , a = D.xA(n)
                    , q = Math.round(f.Hrzn.v - a.x)
                    , c = Math.round(f.Vrtc.v - a.y);
                  if (q != 0 || c != 0)
                      O.zh.P7(n, [M], null, q, c)
              }
          }
          if ((C & 4) != 0) {
              if (E.Lefx) {
                  var K = JSON.parse(JSON.stringify(E.Lefx.v));
                  ac.wZ(K);
                  if (JSON.stringify(K) != JSON.stringify(D.add.lmfx)) {
                      D.add.lmfx = K;
                      D.XB.wD = !0
                  }
              } else
                  delete D.add.lmfx;
              if (E.blendOptions) {
                  var R = E.blendOptions.v;
                  if (R.Opct)
                      D.opacity = Math.round(255 * R.Opct.v.val / 100);
                  if (R.fillOpacity)
                      D.add.iOpa = Math.round(255 * R.fillOpacity.v.val / 100);
                  if (R.Md)
                      D.Gx = D.add.lsct == g9.Jg ? "norm" : hr.eS(R.Md.v.BlnM)
              } else {
                  D.opacity = 255;
                  D.Gx = D.d4() ? "pass" : "norm";
                  D.add.iOpa = 255
              }
          }
      }
  }
  ;
  e3.Bd.alw = function(n, z) {
      var C = {};
      for (var M = 0; M < n.W.length; M++) {
          var D = n.W[M];
          if (D.add.shmd == null || D.add.shmd.cmls == null)
              continue;
          C["l" + D.add.lyid] = JSON.parse(JSON.stringify(e3.Bd.uu(D, z)))
      }
      return C
  }
  ;
  e3.Bd.B9 = function(n, z) {
      var C = {};
      for (var M = 0; M < n.W.length; M++) {
          var D = n.W[M]
            , F = D.add.lyid;
          C["l" + F] = e3.Bd._4(n, D, z)
      }
      return C
  }
  ;
  e3.Bd._4 = function(n, z, C) {
      var D = z.add.shmd ? z.add.shmd.cmls : null
        , F = {
          classID: "null"
      }
        , X = z.xA(n)
        , E = {
          t: "Objc",
          v: {
              classID: "null",
              Hrzn: {
                  t: "long",
                  v: X.x
              },
              Vrtc: {
                  t: "long",
                  v: X.y
              }
          }
      };
      F.compList = {
          t: "VlLs",
          v: [{
              t: "long",
              v: C
          }]
      };
      F.enab = {
          t: "bool",
          v: z.y_()
      };
      F.Ofst = JSON.parse(JSON.stringify(E));
      F.FXRefPoint = JSON.parse(JSON.stringify(D && D.origFXRefPoint ? D.origFXRefPoint : E));
      F.blendOptions = {
          t: "Objc",
          v: {
              classID: "null",
              Md: {
                  t: "enum",
                  v: {
                      BlnM: hr.v2(z.Gx)
                  }
              },
              Opct: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 100 * z.opacity / 255
                  }
              },
              fillOpacity: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: z.add.iOpa != null ? 100 * z.add.iOpa / 255 : 100
                  }
              }
          }
      };
      if (z.add.vmsk) {
          F.vectorMask = {
              t: "Objc",
              v: {
                  classID: "null"
              }
          };
          F.vectorMask.v.Ofst = JSON.parse(JSON.stringify(E))
      }
      if (z.add.lmfx) {
          F.Lefx = {
              t: "Objc",
              v: JSON.parse(JSON.stringify(z.add.lmfx))
          };
          ac.o3(F.Lefx.v)
      }
      return F
  }
  ;
  e3.Bd.abr = function(n, z) {
      var C = z.add.lyid;
      if (z.add.shmd == null)
          z.add.shmd = {};
      if (z.add.shmd.cmls == null) {
          z.add.shmd.cmls = {
              classID: "null",
              LyrI: {
                  t: "long",
                  v: C
              },
              layerSettings: {
                  t: "VlLs",
                  v: [{
                      t: "Objc",
                      v: e3.Bd._4(n, z, 0)
                  }]
              }
          }
      }
  }
  ;
  e3.Bd.nF = function(n, z, C) {
      for (var M = 0; M < n.W.length; M++) {
          var D = n.W[M]
            , F = D.add.lyid;
          e3.Bd.abr(n, D);
          var X = D.add.shmd.cmls
            , E = X.layerSettings.v
            , f = z["l" + F];
          if (f != null)
              f = {
                  t: "Objc",
                  v: JSON.parse(JSON.stringify(f))
              };
          var a = e3.Bd.hl(D, C);
          if (a == -1) {
              if (f == null)
                  continue;
              else
                  E.push(f)
          } else {
              if (f == null)
                  E.splice(a, 1);
              else
                  E[a] = f
          }
      }
  }
  ;
  e3.Bd.Io = function(n, z) {
      for (var M = 0; M < n.W.length; M++) {
          var C = n.W[M]
            , D = C.add.lyid;
          if (C.add.shmd == null || C.add.shmd.cmls == null)
              continue;
          var F = C.xA(n)
            , X = Math.round(F.x)
            , E = Math.round(F.y);
          if (!z) {
              X = -X;
              E = -E
          }
          var f = C.add.shmd.cmls
            , a = f.layerSettings.v;
          if (f.origFXRefPoint)
              e3.Bd.lp(f.origFXRefPoint, -X, -E);
          for (var q = 0; q < a.length; q++) {
              var c = a[q].v;
              e3.Bd.lp(c.Ofst, X, E);
              var K = c.imageMask
                , R = c.vectorMask;
              if (K && K.v.Ofst)
                  e3.Bd.lp(K.v.Ofst, X, E);
              if (R && R.v.Ofst)
                  e3.Bd.lp(R.v.Ofst, X, E)
          }
      }
  }
  ;
  e3.Py = function() {
      e3.bp.call(this, O.y$);
      this.PV = null;
      this.MO = null
  }
  ;
  e3.Py.prototype = new e3.bp;
  e3.Py.ku = function(n, z, C, D) {
      if (D)
          z /= 4;
      var F = 0
        , X = 0
        , E = 255
        , f = 0
        , a = 0
        , q = 255;
      while (X + n[F] < z) {
          X += n[F];
          F++
      }
      while (f + n[E] < z) {
          f += n[E];
          E--
      }
      if (D) {
          F -= Math.round(n[F] / (C / 32));
          E += Math.round(n[E] / (C / 32));
          if (F < 0)
              a = Math.round(-F * 255 / (E - F));
          if (E > 255)
              q = 255 - Math.round((E - 255) * 255 / (E - F))
      }
      return [Math.max(F, 0), Math.min(E, 255), a, q, 100]
  }
  ;
  e3.Py.prototype.Nm = function(n, z, C, D, F) {
      var X = n.e;
      if (X == "auto") {
          var E = n.DP
            , f = e3.Py.getData(C);
          for (var M = 0; M < f.length; M++) {
              var a = f[M], q;
              if (E < 3) {} else {
                  var c = fd.zP("hue2");
                  f5.xw(c, 0, [0, -100, 0]);
                  q = ad.bN("hue2", c)
              }
              ad.o$(q, a.Q5, a.yN, a.R)
          }
          e3.Py.mi(C, f);
          e3.Py.k6(C, f, E < 3 ? [4, 16, E] : [19, 7, 0], this);
          C.J()
      }
      if (X == "edit_layer")
          this.aml(n, z, C, D);
      if (X == "edit" || X == "confirm" || X == "cancel")
          this.M3(n, z, C, F, !0);
      if (X == "start") {
          if (C.C.length == 0)
              return;
          var K = C.W[C.C[0]];
          if (K.add.SoLd && K.kl <= 0) {
              var R = new u(l.E.M,!0);
              R.F = O.VZ;
              R.data = {
                  e: "start",
                  Pw: n.cH
              };
              z.f(R);
              return
          }
          if (!C.Xq(z, null, !0))
              return;
          if (t[n.cH] && n.b2 == null) {
              if (C.C.length != 1)
                  alert("Will be applied to " + C.C.length + " layers.");
              var R = new u(l.E.P,!0);
              R.data = {
                  e: l.H.xb,
                  gA: "afw_" + n.cH
              };
              z.f(R)
          } else {
              this.M3({
                  e: "edit",
                  b2: n.b2,
                  Pw: n.cH
              }, z, C, F);
              this.M3({
                  e: "confirm",
                  Pw: n.cH
              }, z, C, F)
          }
      }
  }
  ;
  e3.Py.prototype.aml = function(n, z, C, D) {
      var F = n.e, X = C.C[0], E = C.W[X], f = ad.get(E.add), a = JSON.parse(JSON.stringify(n.G)), K;
      for (var q in ad.SZ)
          if (ad.SZ[q] == f)
              a.classID = q;
      var c = C.history[C.VU];
      if (c && c.F == this && c.data.WG != null && c.data.b == X)
          K = c;
      else {
          var R = new u(l.E._R,!0)
            , J = {
              classID: "setd",
              null: eW.ek("AdjL", !0),
              T: {
                  t: "Objc",
                  v: a
              }
          };
          R.data = {
              HV: !0,
              KY: "set",
              cw: J
          };
          z.f(R);
          var K = new hi([6, 39],this);
          K.data = {
              b: X,
              WG: E.add[f],
              Z7: n.G,
              Vo: J
          };
          C.OV(K)
      }
      K.data.Z7 = n.G;
      K.data.Vo.T.v = a;
      this.qO(K.data, C)
  }
  ;
  e3.Py.getData = function(n, z, C) {
      var D = []
        , F = new cc(0,0,n.d,n.v)
        , X = n.Rj.length != 0 ? [-1 - n.Rj[0]] : n.C;
      for (var M = 0; M < X.length; M++) {
          var E = X[M]
            , f = E < 0 ? null : n.W[E]
            , a = {
              b: E,
              HT: E < 0 ? 1 : f.kl
          };
          D.push(a);
          var q = n.fD[-1 - E];
          if (0 <= E)
              q = f.kl <= 0 ? null : f.kl == 1 ? f.sN() : f.yM(n).z;
          var c = q ? q.rect : f.rect;
          if (n.N)
              a.R = q != null ? n.N.rect.Yi(F) : n.N.rect.Yi(c);
          else
              a.R = z || q != null ? c.QH(F) : c.clone();
          if (C)
              a.R = C[M].R.clone();
          var K = a.R.t();
          a.Q5 = j.T(K * 4);
          if (q)
              O.pC.qd(q.channel, q.rect, q.color, a.Q5, a.R);
          else
              j.X3(f.buffer, c, a.Q5, a.R);
          a.yN = a.Q5.slice(0);
          if (n.N) {
              a.EF = j.T(K);
              j.v8(n.N.channel, n.N.rect, a.EF, a.R)
          }
      }
      return D
  }
  ;
  e3.Py.am1 = function(n, z, C) {
      if (z == null)
          return z;
      var D = ad.k2(n, z), X;
      if (D == -1)
          return z;
      var F = C.length >>> 2
        , E = j.BA(C)
        , f = .001 * F;
      if (D == 0 || D == 2)
          X = [[0, 255, 0, 255, 100], e3.Py.ku(E[1], f, F, D == 2), e3.Py.ku(E[2], f, F, D == 2), e3.Py.ku(E[3], f, F, D == 2)];
      if (D == 1)
          X = [e3.Py.ku(E[0], f * .33, F, !1), [0, 255, 0, 255, 100], [0, 255, 0, 255, 100], [0, 255, 0, 255, 100]];
      var a = fd.zP("levl");
      for (var M = 0; M < 4; M++)
          eJ.xw(a, M, X[M]);
      return a
  }
  ;
  e3.Py.prototype.M3 = function(n, z, C, D) {
      if (this.PV == null) {
          if (n.Pw == "aply")
              C.W[C.C[0]].extend(new cc(0,0,C.d,C.v));
          this.PV = e3.Py.getData(C, null, n.Pw == "fade" ? C.$B().data : null);
          if (n.Pw == "aply")
              this.PV[0].$f = C.Wc()
      }
      if (n.e == "edit") {
          this.MO = [n.Pw, n.b2];
          var F = this.PV[0]
            , X = e3.Py.am1(n.Pw, n.b2, F.Q5)
            , E = ad.bN(n.Pw, X);
          if (n.Pw == "fade" || n.Pw == "aply")
              E = n.b2;
          if (E != null) {
              for (var M = 0; M < this.PV.length; M++) {
                  var f = this.PV[M];
                  if (n.RL)
                      j.YY(f.Q5, f.yN);
                  else if (n.Pw == "fade") {
                      var a = hr.eS(n.b2.Md.v.BlnM)
                        , q = n.b2.Opct.v.val / 100
                        , c = C.$B().data[M];
                      j.YY(c.Q5, f.yN);
                      if (a == "norm")
                          j.$.lY(f.Q5, f.R, f.yN, f.R, null, null, null, f.R, q);
                      else {
                          var K = fg.jG();
                          K.SM = !0;
                          for (var M = 0; M < c.Q5.length; M += 4)
                              if (c.Q5[M + 3] != f.Q5[M + 3]) {
                                  K = null;
                                  break
                              }
                          j.$.xN(a, f.Q5, f.R, f.yN, f.R, f.R, q, K)
                      }
                  } else if (n.Pw == "aply") {
                      E = E.With.v;
                      var R = E.T.v, J, w;
                      if (R[1].t == "name") {
                          var p = 0;
                          for (var I = 0; I < C.W.length; I++)
                              if (C.W[I].getName() == R[1].v.val)
                                  p = I;
                          if (p == f.b) {
                              J = f.Q5;
                              w = f.R
                          } else {
                              var m = C.W[p];
                              J = m.buffer;
                              w = m.rect
                          }
                      } else {
                          w = new cc(0,0,C.d,C.v);
                          J = f.$f
                      }
                      var A = E.Clcl ? E.Clcl.v.Clcn : null
                        , a = A ? hr.eS(A) : "norm"
                        , q = E.Opct ? E.Opct.v.val / 100 : 1
                        , U = ["RGB", "Rd", "Grn", "Bl", "Trsp"].indexOf(R[0].v.enum)
                        , X = E.Invr && E.Invr.v;
                      if (X || U != 0) {
                          J = J.slice(0);
                          if (X)
                              j.af8(J);
                          if (U != 0) {
                              var r = j.T(w.t());
                              j.Ni(J, r, U - 1);
                              if (U == 4)
                                  j.eL(r);
                              for (var I = 0; I < 3; I++)
                                  j.bl(r, J, I)
                          }
                      }
                      if (A == "Sbtr") {
                          var $ = 1 / E.Scl.v
                            , k = E.Ofst.v
                            , G = new Uint8ClampedArray(f.yN.buffer);
                          for (var M = 0; M < J.length; M += 4) {
                              G[M] = (f.Q5[M] - J[M]) * $ + k;
                              G[M + 1] = (f.Q5[M + 1] - J[M + 1]) * $ + k;
                              G[M + 2] = (f.Q5[M + 2] - J[M + 2]) * $ + k
                          }
                      } else {
                          var K = fg.jG();
                          K.SM = E.PrsT && E.PrsT.v;
                          f.yN.fill(0);
                          f.yN.set(f.Q5);
                          j.$.xN(a, J, w, f.yN, f.R, f.R, q, K)
                      }
                  } else
                      ad.o$(E, f.Q5, f.yN, f.R)
              }
              e3.Py.mi(C, this.PV)
          }
      }
      if (n.e == "cancel") {
          e3.Py.ya(C, this.PV);
          this.PV = null
      }
      if (n.e == "confirm") {
          var i = n.Pw == "fade" ? [2, 11] : n.Pw == "aply" ? [2, 12] : ad.names[n.Pw]
            , o = ad.k2(n.Pw, this.MO[1]);
          if (o != -1)
              i = [4, 16, o];
          e3.Py.k6(C, this.PV, i, this);
          this.PV = null;
          if (o == -1)
              e3.Py.hW(z, this.MO)
      }
      C.J()
  }
  ;
  e3.Py.hW = function(n, z) {
      var C = z[0], D = z[1], F, X;
      if (ad.bE[C]) {
          F = ad.bE[C];
          if (t[C])
              X = D
      }
      if (fd.bE[C]) {
          F = fd.bE[C];
          if (t[C])
              X = D
      }
      if (C == "fade") {
          F = "fade";
          X = D
      }
      if (C == "aply") {
          F = "applyImageEvent";
          X = D
      }
      if (F == null)
          return;
      var E = new u(l.E._R,!0);
      E.data = {
          HV: !0,
          KY: F
      };
      if (X) {
          X = JSON.parse(JSON.stringify(X));
          X.classID = "null";
          delete X.__name;
          E.data.cw = X
      }
      n.f(E)
  }
  ;
  e3.Py.ya = function(n, z) {
      e3.Py.if(n, z)
  }
  ;
  e3.Py.k6 = function(n, z, C, D) {
      for (var M = 0; M < z.length; M++) {
          var F = z[M]
            , X = n.W[F.b]
            , E = F.b < 0 ? n.fD[-1 - F.b] : F.HT <= 0 ? null : F.HT == 1 ? X.sN() : X.yM(n).z;
          if (E) {
              E.BL();
              E.fe = !0;
              if (X)
                  X.z4(n)
          } else {
              X.BL();
              X.J()
          }
          delete F.yN;
          delete F.EF
      }
      var f = new hi(C,D);
      f.data = z;
      n.OV(f);
      n.uv = !0
  }
  ;
  e3.Py.mi = function(n, z, C) {
      for (var M = 0; M < z.length; M++) {
          var D = z[M]
            , F = n.W[D.b]
            , X = C ? D.Q5 : D.yN
            , E = D.R;
          if (D.HT == 0) {
              F.extend(E);
              if (D.EF) {
                  j.X3(D.Q5, E, F.buffer, F.rect);
                  j.$.lY(X, E, F.buffer, F.rect, D.EF, E, 0, E, 1)
              } else
                  j.X3(X, E, F.buffer, F.rect)
          } else {
              var f = D.b < 0 ? n.fD[-1 - D.b] : D.HT == 1 ? F.sN() : F.yM(n).z;
              f.extend(E);
              if (D.EF) {
                  var a = j.T(E.t() * 4);
                  j.YY(D.Q5, a);
                  j.$.lY(X, E, a, E, D.EF, E, 0, E, 1);
                  O.pC.Vx(a, E, f)
              } else
                  O.pC.Vx(X, E, f);
              f.fe = !0;
              if (F)
                  F.z4(n)
          }
          if (F)
              F.J()
      }
      if (!C)
          e3.Py._u(n, z)
  }
  ;
  e3.Py.if = function(n, z) {
      for (var M = 0; M < z.length; M++) {
          var C = z[M]
            , D = n.W[C.b]
            , F = C.R
            , X = j.T(F.t() * 4);
          if (C.HT == 0) {
              j.X3(D.buffer, D.rect, X, F);
              D.extend(F);
              j.X3(C.Q5, F, D.buffer, D.rect);
              D.BL()
          } else {
              var E = C.b < 0 ? n.fD[-1 - C.b] : C.HT == 1 ? D.sN() : D.yM(n).z;
              O.pC.qd(E.channel, E.rect, E.color, X, F);
              E.extend(F);
              O.pC.Vx(C.Q5, F, E);
              E.BL();
              E.fe = !0;
              if (D)
                  D.z4(n)
          }
          C.Q5 = X;
          if (D)
              D.J()
      }
      n.uv = !0
  }
  ;
  e3.Py._u = function(n, z) {
      var C = e3.Py.zl(n)
        , D = ~C;
      if (C == 16777215)
          return;
      for (var M = 0; M < z.length; M++) {
          var F = z[M]
            , X = n.W[F.b]
            , E = F.R;
          if (F.HT != 0)
              continue;
          X.extend(E);
          var f = E.x - X.rect.x
            , a = E.y - X.rect.y
            , q = X.rect.d
            , c = new Uint32Array(F.Q5.buffer)
            , K = new Uint32Array(X.buffer.buffer);
          for (var R = 0; R < E.v; R++)
              for (var J = 0; J < E.d; J++) {
                  var w = R * E.d + J
                    , p = (R + a) * q + (J + f);
                  K[p] = K[p] & C | c[w] & D
              }
          X.BL();
          X.J()
      }
      n.J()
  }
  ;
  e3.Py.zl = function(n) {
      var z = n.a.Hg;
      return z[2] * 16711680 | z[1] * 65280 | z[0] * 255
  }
  ;
  e3.Py.prototype.LL = function(n, z) {
      var C = z.W[n.b];
      if (n.WG != null)
          C.add[ad.get(C.add)] = n.WG;
      else
          e3.Py.if(z, n);
      z.J()
  }
  ;
  e3.Py.prototype.qO = function(n, z) {
      var C = z.W[n.b];
      if (n.WG != null)
          C.add[ad.get(C.add)] = n.Z7;
      else
          e3.Py.if(z, n);
      z.J()
  }
  ;
  e3.EL = function() {
      e3.bp.call(this, O.VZ);
      this.PV = null;
      this.oo = null;
      this.e = null;
      this.MO = null
  }
  ;
  e3.EL.prototype = new e3.bp;
  e3.EL.prototype.Nm = function(n, z, C, D, F) {
      if (n.e == "start") {
          if (C.C.length == 0)
              return;
          var X = C.W[C.C[0]];
          if (X.add.SoLd && X.kl <= 0) {} else if (!C.Xq(z, null, !0))
              return;
          var E = n.Pw;
          if ((t[E] || fd.p[E]) && n.b2 == null) {
              if (C.C.length != 1)
                  alert("Will be applied to " + C.C.length + " layers.");
              var f = new u(l.E.P,!0);
              f.data = e3.EL.dI(E, this.gH(C, E));
              z.f(f)
          } else {
              var a = {
                  e: "edit",
                  Pw: E,
                  b2: n.b2,
                  LS: this.gH(C)
              };
              this.Nm(a, z, C, D, F);
              a.e = "confirm";
              delete a.b2;
              this.Nm(a, z, C, D, F)
          }
      }
      if (n.e == "edit" || n.e == "cancel" || n.e == "confirm") {
          if (n.e == "edit")
              this.MO = [n.Pw, n.b2];
          if (n.LS)
              this.aj2(n, C, F);
          else
              this.akc(n, z, C, F)
      }
      if (n.e == "applylast" && this.MO != null) {
          var a = {
              e: "edit",
              Pw: this.MO[0],
              b2: this.MO[1],
              LS: this.gH(C)
          };
          this.Nm(a, z, C, D, F);
          a.e = "confirm";
          delete a.b2;
          this.Nm(a, z, C, D, F)
      }
  }
  ;
  e3.EL.dI = function(n, z) {
      var C = fd.p[n];
      if (C)
          return {
              e: l.H.j9,
              F: C,
              VP: {
                  LS: z
              }
          };
      else
          return {
              e: l.H.xb,
              gA: "afw_" + n,
              LS: z
          }
  }
  ;
  e3.EL.prototype.gH = function(n, z) {
      var C = n.W[n.C[0]], D;
      if (C.add.SoLd && C.kl <= 0) {
          D = {
              b: n.C[0],
              index: 0
          };
          if (C.add.SoLd.filterFX != null) {
              var F = C.add.SoLd.filterFX.v.filterFXList.v;
              D.index = F.length;
              for (var M = 0; M < F.length; M++)
                  if (fd.FE(F[M].v) == z && fd.p[z])
                      D.index = M
          }
      }
      return D
  }
  ;
  e3.EL.prototype.aj2 = function(n, z, C) {
      var D = z.W[n.LS.b]
        , F = n.Pw;
      if (n.e == "edit") {
          if (this.e == null) {
              var X = fd.names[F];
              if (X == null)
                  X = ad.names[F];
              if (F == "blendOptions")
                  X = [14, 10];
              this.e = new hi(X,this);
              this.e.data = {
                  LS: n.LS,
                  aj6: JSON.parse(JSON.stringify(D.add.SoLd))
              }
          }
          if (!D.ei()) {
              D.add.SoLd.filterFX = fd._z();
              this.e.data.xJ = b$.YX(D.add.SoLd.placed.v);
              z.$n(this.e.data.xJ);
              D.V_(z)
          }
          var E = D.add.SoLd.filterFX.v.filterFXList.v;
          if (E[n.LS.index] == null) {
              E.push(fd.HB(F, C))
          }
          if (n.b2) {
              E[n.LS.index].v.enab.v = n.RL != !0;
              if (F == "blendOptions")
                  E[n.LS.index].v.blendOptions.v = n.b2;
              else
                  E[n.LS.index].v.Fltr.v = n.b2
          }
          this.e.data.a7c = JSON.parse(JSON.stringify(D.add.SoLd));
          this.qO(this.e.data, z)
      }
      if (n.e == "cancel") {
          if (this.e)
              this.LL(this.e.data, z);
          this.e = null
      }
      if (n.e == "confirm") {
          if (this.e)
              z.OV(this.e);
          this.e = null
      }
  }
  ;
  e3.EL.prototype.ph = function(n) {
      return {
          h: n >>> 16,
          Q: n >>> 8 & 255,
          O: n & 255
      }
  }
  ;
  e3.EL.prototype.akc = function(n, z, C, D) {
      if (this.PV == null) {
          var F = fd.lH(n.Pw, n.b2);
          this.PV = e3.Py.getData(C, F.x != 0 || F.y != 0)
      }
      if (n.e == "edit") {
          var X = JSON.stringify(n.b2);
          if ((n.b2 == null || X != this.oo) && n.RL != !0)
              for (var M = 0; M < this.PV.length; M++) {
                  var E = this.PV[M]
                    , f = {
                      rect: E.R,
                      buffer: E.Q5
                  }
                    , a = {
                      rect: E.R,
                      buffer: E.yN
                  };
                  fd.o$(n.Pw, f, n.b2, this.ph(D.Du), this.ph(D.ff), a, [C.add.lnk2 ? C.add.lnk2 : [], C.W[C.C[0]].sN(), C.fD]);
                  this.oo = X
              }
          e3.Py.mi(C, this.PV, n.RL)
      }
      if (n.e == "cancel") {
          e3.Py.ya(C, this.PV);
          this.PV = null;
          this.oo = null
      }
      if (n.e == "confirm") {
          e3.Py.k6(C, this.PV, fd.names[n.Pw], this);
          this.PV = null;
          this.oo = null;
          e3.Py.hW(z, this.MO)
      }
      C.J();
      C.uv = !0
  }
  ;
  e3.EL.prototype.LL = function(n, z) {
      if (n.LS) {
          var C = z.W[n.LS.b];
          if (n.xJ)
              z.Ix(n.xJ);
          C.add.SoLd = JSON.parse(JSON.stringify(n.aj6));
          if (C.ei())
              C.co(z);
          else {
              C.V_(z);
              C.kl = 0
          }
      } else
          e3.Py.if(z, n);
      z.J();
      z.uv = !0
  }
  ;
  e3.EL.prototype.qO = function(n, z) {
      if (n.LS) {
          var C = z.W[n.LS.b];
          if (n.xJ)
              z.$n(n.xJ);
          C.add.SoLd = JSON.parse(JSON.stringify(n.a7c));
          if (C.ei())
              C.co(z);
          else
              C.V_(z);
          if (!C.Be())
              C.j1 += 32
      } else
          e3.Py.if(z, n);
      z.J();
      z.uv = !0
  }
  ;
  var c1 = {
      Ui: "0",
      qE: "1",
      ax: "2",
      Cj: "3",
      MS: "4",
      yu: "5",
      ES: "6",
      AU: "7",
      M: "8",
      VE: "8.5",
      C2: "8.8",
      Nc: "9",
      Lg: "10",
      DJ: "11",
      xg: "12",
      mO: "13",
      Px: "14",
      vL: "15",
      yi: "21",
      Za: "22",
      UL: "23",
      eW: "23.0",
      _2: "23.1",
      Di: "23.2",
      c7: "23.3",
      hs: "23.4",
      zS: "23.5",
      M6: "23.6",
      ey: "30",
      dl: "31",
      Yz: "40",
      c9: "41",
      Em: "42"
  };
  c1.AW = {};
  c1.AW[c1.qE] = ["abr", "brushes", ee, [9, 3]];
  c1.AW[c1.ax] = ["grd", "gradients", a0, [12, 37]];
  c1.AW[c1.Cj] = ["shc", "contours", bj, [12, 21]];
  c1.AW[c1.MS] = ["asl", "styles", eU, [12, 22]];
  c1.AW[c1.yu] = ["pat", "patterns", bX, [12, 62]];
  c1.AW[c1.ES] = ["csh", "shapes", eh, [12, 77]];
  c1.AW[c1.AU] = ["aco", "swatches", fN, [9, 8]];
  c1.AW[c1.M] = ["atn", "actions", hY, [9, 9]];
  c1.AW[c1.VE] = ["tpl", "tpresets", eV, [9, 12]];
  c1.AW[c1.C2] = ["icc", "profiles", e_, "ICCs"];
  function hi(n, z, C) {
      if (C == null)
          C = !1;
      this.name = n;
      this.F = z;
      this.l8 = C;
      this.data = null
  }
  var eW = {};
  eW.ek = function(n, z) {
      var C = {
          t: "Clss",
          v: {
              classID: n
          }
      };
      if (z)
          C = {
              t: "Enmr",
              v: {
                  classID: n,
                  typeID: "Ordn",
                  enum: "Trgt"
              }
          };
      return {
          t: "obj ",
          v: [C]
      }
  }
  ;
  eW.Uz = function(n, z) {
      var C = {
          classID: "Lyr"
      };
      C[n] = z;
      return {
          KY: "set",
          cw: {
              classID: "null",
              null: eW.ek("Lyr", !0),
              T: {
                  t: "Objc",
                  v: C
              }
          }
      }
  }
  ;
  eW.ah8 = function(n, z, C, D, F) {
      var X = new u(l.E._R,!0)
        , E = []
        , M = 0
        , f = eW.hX(z, C, D, E);
      while (E.length != 0) {
          var a = E.pop();
          M++;
          if (!a.c)
              continue;
          if (a.KY == "conditional") {
              var q = n.W[n.C[0]]
                , c = a.cw.null.v.Cndt
                , K = !1;
              if (c == "Bckg")
                  K = !1;
              else if (c == "Pxel" && n.Sp(!1))
                  K = !0;
              else if (c == "Adjs" && ad.get(q.add))
                  K = !0;
              else if (c == "Shp" && q.add.vogk)
                  K = !0;
              else if (c == "Grup" && q.d4())
                  K = !0;
              var R = a.cw.then.v;
              if (K)
                  eW.hX(z, R[0].v.val, R[1].v.val, E)
          } else if (a.KY == "stop") {
              if (a.cw.Cntn && a.cw.Cntn.v == !0)
                  window.confirm(a.cw.Msge.v);
              else {
                  alert(a.cw.Msge.v);
                  break
              }
          } else if (a.KY == "play") {
              var J = a.cw.null.v
                , w = new u(l.E.P,!0);
              w.data = {
                  e: l.H.OG,
                  Hc: [J[0].v.val, J[1].v.val]
              };
              F.f(w)
          } else {
              X.data = {
                  KY: a.KY,
                  cw: a.cw
              };
              F.f(X)
          }
      }
  }
  ;
  eW.hX = function(n, z, C, D) {
      var F;
      for (var M = 0; M < n.length; M++) {
          if (n[M].$_ != C)
              continue;
          var X = n[M].Fe;
          for (var E = 0; E < X.length; E++) {
              if (X[E].$_ != z)
                  continue;
              F = X[E].Fe
          }
      }
      var f = F.length;
      for (var M = 0; M < f; M++)
          D.push(F[f - 1 - M])
  }
  ;
  eW.ajl = function(n) {
      var z = n.KY, C = n.cw, D, E, f, a, q, c;
      if (C && C.null)
          D = C.null.v[0];
      if (C && D == null && C.At)
          D = C.At.v[0];
      if (D && D.t == "obj ")
          D = D.v[0];
      var F = D ? D.v.classID : null
        , X = ["purge"];
      if (X.indexOf(z) != -1)
          return z[0].toUpperCase() + z.slice(1);
      c = ad.bE;
      for (E in c)
          if (c[E] == z)
              f = E;
      c = fd.bE;
      for (E in c)
          if (c[E] == z)
              a = E;
      c = g3.bE;
      for (E in c)
          if (c[E] == z)
              q = E;
      if (f) {
          var K = ad.k2(f, C);
          if (K != -1)
              return [4, 16, K];
          return ad.names[f]
      }
      if (a)
          return fd.names[a];
      if (q)
          return g3.names[q];
      var R = eW.nu;
      if (z == "make") {
          if (D) {
              if (F == "AdjL")
                  return [6, 1];
              else if (F == "layerSection")
                  return [6, 9];
              else if (F == "Lyr")
                  return [6, 13];
              else if (F == "Chnl" && D.v.enum == "Msk")
                  return [6, 2];
              else if (F == "contentLayer")
                  return [6, 48, 1];
              else if (F == "BckL")
                  return "Make Background Layer";
              else if (F == "Path")
                  return "Make Path";
              else if (F == "TxLr")
                  return "Make Text Layer";
              else if (F == "slice")
                  return "Make Slices"
          }
          if (C.Nw) {
              F = C.Nw.v.classID;
              if (F == "Dcmn")
                  return [11, 7];
              else if (F == "Chnl" || F == "SCch")
                  return "New Channel"
          }
      } else if (z == "select") {
          if (F == "Chnl")
              return "Select " + (D.v.enum == "Msk" ? "Mask " : "") + "Channel";
          else if (F == "Mn")
              return "Select Panel \"" + D.v.enum + "\"";
          else if (F == "Lyr") {
              if (D.t == "Enmr")
                  return "Select " + {
                      Bckw: "Backward"
                  }[D.v.enum] + " Layer";
              return "Select Layer \"" + D.v.val + "\""
          } else if (F == "Dcmn")
              return "Select Document"
      } else if (R[z] && F == "Chnl") {
          var J = D.v.keyID == "fsel";
          return R[z] + " " + (J ? "Selection" : "Channel")
      } else if (z == "set") {
          if (F == "Lyr")
              return "Set Current Layer";
          else if (F == "AdjL")
              return [6, 39];
          else if (F == "contentLayer")
              return [6, 48, 2];
          else if (F == "Prpr")
              return [11, 6];
          else if (F == "Clr")
              return "Set " + (D.v.keyID == "FrgC" ? "Foreground" : "Background") + " color";
          else if (F == "Brsh")
              return "Set Brush";
          else
              console.log(F)
      } else if (z == "move") {
          if (F == "Lyr")
              return "Move Layer"
      } else if (z == "show" || z == "hide") {
          var w = "";
          if (F == "Lyr")
              +"Layer";
          if (F == "Chnl")
              +"Channel";
          return (z == "show" ? "Show" : "Hide") + " " + w
      } else if (z == "reset") {
          if (F == "Clr")
              return "Reset Colors"
      } else if (z == "exchange") {
          if (F == "Clr")
              return [22, 7, 0]
      } else if (z == "rotateEventEnum")
          return [2, 5];
      else if (z == "flip") {
          var p = C.Axis.v.Ornt == "Hrzn";
          return [[2, 6], [22, 4, p ? 2 : 3]]
      }
      if (F == "Chnl") {
          if (z == "duplicate") {
              if (D.v.keyID == "fsel")
                  return "Selection to Channel";
              else
                  return "Duplicate Channel"
          }
          if (z == "delete")
              return "Delete Channel"
      }
      if (z == "transform")
          return D.v.keyID == "fsel" ? [7, 10] : [10, 16];
      var I = {
          cut: [5, 0],
          copyEvent: [5, 1],
          copyToLayer: [6, 49],
          copyMerged: [5, 7],
          paste: [5, 2],
          close: [1, 12],
          save: [1, 2],
          groupEvent: [6, 18],
          duplicate: [6, 0],
          mergeLayersNew: [6, 12, 0],
          mergeVisible: "Merge Visible",
          flattenImage: [6, 12, 1],
          updatePlacedLayer: [6, 36, 1],
          fade: [2, 11],
          applyImageEvent: [2, 12],
          fill: [2, 3],
          colorRange: [7, 8],
          desaturate: [19, 7, 0],
          delete: C ? [6, 31] : [2, 2],
          align: [20, 4, 0],
          applyLocking: [6, 57, 1],
          crop: [11, 12, 1],
          placedLayerEditContents: "Edit Contents",
          convertMode: "Convert Mode",
          newPlacedLayer: [6, 7],
          canvasSize: [11, 3],
          imageSize: [11, 10],
          rasterizeLayer: [6, 8],
          revealAll: [11, 12, 2],
          conditional: "If"
      }
        , m = I[z];
      if (m == null)
          m = eW.Cg[z];
      if (m)
          return m;
      return z
  }
  ;
  eW.Cg = {
      border: [7, 9],
      smoothness: [19, 3, 0],
      expand: [7, 4],
      contract: [7, 5],
      feather: [7, 6],
      inverse: [7, 2]
  };
  eW.nu = {
      set: "Set",
      add: "Add Transparency",
      addTo: "Add To",
      subtract: "Subtract Transparency",
      subtractFrom: "Subtract From",
      interfaceIconFrameDimmed: "Intersect Transparency",
      interfaceWhite: "Intersect With"
  };
  eW.ann = function(n, z, C, D) {
      var F = n.KY, X = n.cw, E = new u(l.E.M,!0), q, c, K, R, J, m;
      E.F = O.$w;
      var f = new u(l.E.P,!0)
        , a = ["purge", "updatePlacedLayer", "convertMode"];
      if (a.indexOf(F) != -1)
          return;
      J = ad.bE;
      for (q in J)
          if (J[q] == F)
              c = q;
      J = fd.bE;
      for (q in J)
          if (J[q] == F)
              K = q;
      J = g3.bE;
      for (q in J)
          if (J[q] == F)
              R = q;
      if (F == "fade")
          c = F;
      if (F == "applyImageEvent")
          c = "aply";
      if (c) {
          E.F = O.y$;
          E.data = {
              e: "start",
              cH: c,
              b2: X
          }
      } else if (K) {
          E.F = O.VZ;
          E.data = {
              e: "start",
              Pw: K,
              b2: X
          }
      } else if (R) {
          E.F = O.VZ;
          E.data = {
              e: "start",
              Pw: "GEfc",
              b2: X
          }
      } else if (F == "imageSize" || F == "canvasSize" || F == "revealAll" || F == "trim" || F == "crop") {
          E.F = O.bZ;
          E.data = {
              e: "fromAction",
              n8: n
          }
      } else if (F == "fill" || F == "delete" && X == null) {
          E.F = O.qE;
          E.data = {
              e: "fromAction",
              n8: n
          }
      } else if (F == "colorRange") {
          var w = X.Mnm.v
            , p = X.Mxm.v;
          E.F = O.R2;
          E.data = {
              e: "crange",
              yT: {
                  u4: w.Lmnc.v,
                  nb: w.A.v,
                  O: w.B.v
              },
              yp: {
                  u4: p.Lmnc.v,
                  nb: p.A.v,
                  O: p.B.v
              },
              V9: X.Fzns.v / 200
          }
      } else if (eW.Cg[F] || eW.nu[F] && (!1 || X.With && X.With.v[0].v.keyID == "fsel" || X.From && X.From.v[0].v.keyID == "fsel" || X.null && X.null.v[0].v.keyID == "fsel" || X.T.v[0] && X.T.v[0].v.keyID == "fsel")) {
          E.F = O.R2;
          E.data = {
              e: "fromAction",
              n8: n
          }
      }
      var I = {
          copyToLayer: Q.O_,
          mergeLayersNew: D && D.C.length == 1 ? Q.cm : Q.D_,
          rasterizeLayer: Q._v,
          mergeVisible: Q.Ck,
          flattenImage: Q.ZA,
          newPlacedLayer: Q.un
      };
      if (I[F])
          E.data = {
              e: I[F],
              cw: X
          };
      if (E.data) {
          z.f(E);
          return
      }
      if (F == "desaturate") {
          E.F = O.y$;
          E.data = {
              e: "auto",
              DP: 3
          };
          if (D && D.W[D.C[0]].add.SoLd == null)
              z.f(E);
          return
      }
      if (F == "close") {
          if (X.Svng.v.YsN == "Ys") {
              f.data = {
                  e: l.H.AG
              };
              z.f(f)
          }
          f.data = {
              e: l.H.RW,
              VM: D
          };
          z.f(f);
          return
      }
      if (F == "save") {
          f.data = {
              e: l.H.AG
          };
          z.f(f);
          return
      }
      var I = {
          placedLayerEditContents: l.H.Ur,
          copyEvent: l.H.VL,
          paste: l.H.lh
      };
      if (I[F])
          f.data = {
              e: I[F]
          };
      if (f.data) {
          z.f(f);
          return
      }
      if (X.null || X.At)
          m = (X.null ? X.null : X.At).v;
      else
          m = [{
              t: "----",
              v: X
          }];
      if (m[0].t == "obj ") {
          if (m.length != 1)
              throw "e";
          m = m[0].v
      }
      for (var A = 0; A < m.length; A++) {
          var U = m[A]
            , r = U.v.classID;
          E.data = null;
          if (F == "make") {
              if (X.null == null && X.Nw)
                  r = X.Nw.v.classID;
              if (r == "AdjL") {
                  E.data = {
                      e: Q.MC,
                      cw: X
                  }
              } else if (r == "layerSection") {
                  E.data = {
                      e: Q.Ok
                  };
                  if (X.Usng)
                      E.data.VY = X.Usng.v.Nm.v
              } else if (r == "Lyr") {
                  if (X.Usng && X.Usng.v.length == 2)
                      E.data = {
                          e: Q.Uu
                      };
                  else {
                      E.data = {
                          e: Q.Hx
                      };
                      if (X.Usng)
                          E.data.VY = X.Usng.v.Nm.v;
                      if (X.below && X.below.v)
                          E.data.abe = !0
                  }
              } else if (r == "Chnl" && U.v.enum == "Msk") {
                  E.data = {
                      e: Q.HQ,
                      Xt: X.Usng.v.UsrM
                  }
              } else if (r == "Chnl" || r == "SCch") {
                  E.data = {
                      e: Q.iy,
                      _5: "fromAction",
                      G: n
                  }
              } else if (r == "contentLayer") {
                  E.data = {
                      e: Q.gQ,
                      cw: X
                  }
              } else if (r == "BckL") {
                  D.W[D.C[0]].a0g();
                  continue
              } else if (r == "Dcmn") {
                  var $ = X.Nw.v;
                  f.data = {
                      e: l.H.jt,
                      JB: b$.acQ($, C)
                  }
              } else if (r == "Ptrn")
                  f.data = {
                      e: l.H.jc,
                      G6: 0
                  };
              else if (r == "Path") {
                  E.F = O.oa;
                  E.data = {
                      e: "pathedit",
                      _5: "fromsel"
                  }
              } else if (r == "TxLr") {
                  E.F = O.qp;
                  E.data = {
                      e: "fromAction",
                      n8: n
                  }
              } else if (r == "slice") {
                  E.F = O.OR;
                  E.data = {
                      e: "fromAction",
                      n8: n
                  }
              } else {
                  console.log(F, r, X);
                  throw "e"
              }
          } else if (F == "select") {
              var k = {
                  PcTl: O.DM,
                  magicWandTool: O.ss
              };
              if (r == "Lyr") {
                  var G = X.selectionModifier
                    , i = G ? G.v.selectionModifierType : null
                    , o = eW.PY(D, U);
                  if (o == -1) {
                      alert("Layer " + U.v.val + " does not exist.");
                      throw "e"
                  }
                  E.data = {
                      e: Q.XJ,
                      b: o,
                      agS: i ? ["addToSelection", "addToSelectionContinuous"].indexOf(i) : null,
                      Z0: 0,
                      a0U: !0
                  }
              } else if (r == "Chnl") {
                  E.data = {
                      e: Q.XJ,
                      b: o,
                      Z0: 1
                  }
              } else if (r == "Dcmn") {
                  if (z.NY.length < 2)
                      return;
                  f.data = {
                      e: l.H.JJ,
                      dir: X.null.v[0].v.val
                  }
              } else if (k[r]) {
                  f.data = {
                      e: l.H.j9,
                      F: k[r]
                  }
              }
          } else if ((F == "set" || F == "reset" || F == "exchange") && r == "Clr") {
              f.data = {
                  e: l.H.W9,
                  G6: c1.yi,
                  _5: F == "reset" ? 3 : 2
              };
              if (F == "set") {
                  f.data._5 = U.v.keyID == "FrgC" ? 0 : 1;
                  var S = j._.Jo(X.T.v);
                  f.data.G = S.h << 16 | S.Q << 8 | S.O
              }
          } else if (F == "set") {
              if (r == "AdjL") {
                  var H = X.T.v.classID;
                  H = ad.SZ[H];
                  E.F = O.y$;
                  if (H)
                      E.data = {
                          e: "edit_layer",
                          G: X.T.v
                      }
              } else if (r == "Lyr") {
                  var e = X.T.v
                    , o = eW.PY(D, U);
                  if (e.Nm)
                      E.data = {
                          e: Q.hS,
                          name: e.Nm.v
                      };
                  else if (e.Opct)
                      E.data = {
                          e: Q.Lh,
                          Z7: Math.round(e.Opct.v.val * 255 / 100)
                      };
                  else if (e.fillOpacity)
                      E.data = {
                          e: Q.L7,
                          Z7: Math.round(e.fillOpacity.v.val * 255 / 100)
                      };
                  else if (e.Md)
                      E.data = {
                          e: Q.jT,
                          Z7: hr.SV.indexOf(e.Md.v.BlnM) + (D.W[o].d4() ? 1 : 0)
                      };
                  else if (e.Usrs)
                      E.data = {
                          e: Q.ak,
                          b: o
                      };
                  else if (e.Blnd) {
                      E.F = O.pZ;
                      E.data = {
                          e: "setstl",
                          b: o,
                          G: {
                              blendOptions: {
                                  t: "objc",
                                  v: e
                              }
                          }
                      };
                      z.f(E);
                      E.data = {
                          e: "confirm",
                          b: o
                      }
                  } else if (e.Clr) {
                      var V = {
                          Rd: 1,
                          Ylw: 3,
                          Vlt: 6
                      }[e.Clr.v.Clr];
                      if (V == null)
                          throw e.Clr.v.Clr;
                      E.data = {
                          e: Q.Az,
                          a0C: V
                      }
                  } else if (m[0].t == "prop")
                      continue;
                  else {
                      console.log(X);
                      throw "e"
                  }
                  var v = D.W[o];
                  v.a5X()
              } else if (r == "Prpr") {
                  var e = JSON.parse(JSON.stringify(X.T.v));
                  if (U.v.keyID == "TxtS") {
                      var o = eW.PY(D, X.null.v[1])
                        , v = D.W[o]
                        , B = v.add.TySh
                        , Z = JSON.parse(JSON.stringify(B.uR))
                        , d = bZ.T5(Z)
                        , g = bZ.jj(Z, 0, d.length - 2);
                      if (e.Undl && e.Undl.v.Undl == "underlineOnLeftInVertical")
                          g.I$.Underline = !0;
                      bZ.YI(Z, 0, d.length - 1, g);
                      E.F = O.qp;
                      E.data = {
                          e: "newED",
                          t4: o,
                          XF: Z
                      };
                      A = 1e9
                  } else {
                      for (var Y in e)
                          if (e[Y].v) {
                              if (Y == "Scl")
                                  e[Y].v.val = 100;
                              if (e[Y].v.TrnS && e[Y].v.TrnS.v.Crv == null) {
                                  e[Y].v.TrnS = JSON.parse(g$.g$[9]).TrnS
                              }
                          }
                      ac.wZ(e);
                      if (e.masterFXSwitch == null)
                          e.masterFXSwitch = {
                              t: "bool",
                              v: !0
                          };
                      var o = eW.PY(D, X.null.v[1]);
                      E.F = O.pZ;
                      E.data = {
                          e: "setstl",
                          b: o,
                          G: {
                              Lefx: {
                                  t: "objc",
                                  v: e
                              }
                          }
                      };
                      z.f(E);
                      E.data = {
                          e: "confirm",
                          b: o
                      }
                  }
              } else if (r == "contentLayer") {
                  var o = eW.PY(D, U)
                    , e = X.T.v;
                  if (e.classID == "shapeStyle")
                      e = e.FlCn.v;
                  var L = {
                      solidColorLayer: 0,
                      gradientLayer: 1,
                      patternLayer: 2
                  }[e.classID]
                    , K = JSON.parse(JSON.stringify(g$.sQ[L]));
                  e3.MP.gM(e, K, L);
                  E.data = {
                      e: Q.yA,
                      xD: [o],
                      kA: !0,
                      G: {
                          p2: L + 1,
                          Ys: K
                      }
                  }
              } else if (r == "Brsh") {
                  var _ = JSON.parse(JSON.stringify(C.bz.qB))
                    , b = X.T.v;
                  if (b.masterDiameter)
                      _.Brsh.v.Dmtr.v.val = b.masterDiameter.v.val;
                  else
                      console.log("unknown brush parameters");
                  f.data = {
                      e: l.H.W9,
                      G6: c1.Px,
                      BZ: _
                  }
              } else {
                  console.log(U, X);
                  throw r
              }
          } else if (F == "move") {
              if (r == "Lyr") {
                  var e = X.T.v;
                  if (e.classID == "Ofst") {
                      E.data = {
                          e: "trsl",
                          aiU: e.Hrzn.v.val,
                          adP: e.Vrtc.v.val
                      };
                      E.F = O.GR
                  } else {
                      var x, W;
                      if (e[0].t == "Enmr") {
                          if (e[0].v.enum == "Frnt")
                              W = 0;
                          else if (e[0].v.enum == "Prvs")
                              W = 2;
                          else if (e[0].v.enum == "Back")
                              W = 3;
                          else
                              throw "e"
                      } else
                          x = e[0].v.val;
                      E.data = {
                          e: Q.jl,
                          target: x,
                          _5: W,
                          a0D: X.Dplc ? X.Dplc.v : !1
                      }
                  }
              }
          } else if (F == "groupEvent")
              E.data = {
                  e: Q.CR
              };
          else if (F == "show" || F == "hide") {
              if (r == "Lyr") {
                  var o = eW.PY(D, U);
                  if (o == -1)
                      continue;
                  var g6 = D.W[o].y_();
                  if (F == "show" && g6 || F == "hide" && !g6)
                      continue;
                  E.data = {
                      e: Q.tk,
                      b: o
                  }
              } else if (r == "Chnl") {
                  E.data = {
                      e: Q.iy,
                      _5: "fromAction",
                      G: n
                  }
              }
          } else if (F == "rotateEventEnum") {
              E.F = O.bZ;
              var fY = X.Angl.v.val;
              E.data = {
                  e: "rot",
                  $_: [2, 5],
                  G: -fY * Math.PI / 180
              }
          } else if (F == "flip") {
              E.F = O.bZ;
              var f3 = X.Axis.v.Ornt == "Hrzn"
                , hK = f3 ? new ir(-1,1) : new ir(1,-1);
              E.data = {
                  e: "scl",
                  $_: [[2, 6], [22, 4, f3 ? 2 : 3]],
                  G: hK
              }
          } else if (F == "transform") {
              var s = 1
                , P = 1
                , aF = 0
                , fM = 0
                , eA = 0
                , e8 = 0
                , eC = 0;
              if (X.Wdth)
                  s = X.Wdth.v.val / 100;
              if (X.Hght)
                  P = X.Hght.v.val / 100;
              if (X.Skew) {
                  var cy = X.Skew.v;
                  aF = cy.Hrzn.v.val;
                  fM = cy.Vrtc.v.val
              }
              if (X.Ofst) {
                  var j0 = X.Ofst.v;
                  e8 = j0.Hrzn.v.val;
                  eC = j0.Vrtc.v.val
              }
              if (X.Angl)
                  eA = X.Angl.v.val;
              var aT = new b6;
              aT.concat(new b6(s,s * Math.tan(fM * Math.PI / 180),P * Math.tan(aF * Math.PI / 180),P,0,0));
              aT.rotate(-eA * Math.PI / 180);
              aT.translate(e8, eC);
              var a4 = {
                  Qcsa: 4,
                  Qcs0: 0,
                  Qcs1: 2,
                  Qcs2: 8,
                  Qcs3: 6,
                  Qcs4: 1,
                  Qcs5: 5,
                  Qcs6: 7,
                  Qcs7: 3
              }[X.FTcs.v.QCSt];
              if (a4 == null)
                  throw X.FTcs.v.QCSt;
              var U = X.null;
              if (U && U.v instanceof Array)
                  U = U.v[0];
              var o = U ? eW.PY(D, U) : null;
              if (o == -1)
                  o = null;
              E.F = U && U.v.keyID == "fsel" ? O.IL : O.A6;
              E.data = {
                  e: "mat",
                  Cx: a4,
                  G: aT,
                  b: o
              }
          } else if (r == "Chnl") {
              E.data = {
                  e: Q.iy,
                  _5: "fromAction",
                  G: n
              }
          } else if (F == "duplicate")
              E.data = {
                  e: Q.BD,
                  VY: X.Nm ? X.Nm.v : null
              };
          else if (F == "delete")
              E.data = {
                  e: Q.Zi
              };
          else if (F == "align") {
              if (X.Aply && X.Aply.v.projection == "Auto") {
                  E.F = O.bZ;
                  E.data = {
                      e: "auto-align"
                  }
              } else {
                  E.F = O.GR;
                  var c = {
                      AdLf: 0
                  }[X.Usng.v.ADSt];
                  if (c == null)
                      throw "e";
                  E.data = {
                      e: "algn",
                      G: c
                  }
              }
          } else if (F == "applyLocking") {
              var f8 = X.layerLocking.v, b3;
              if (f8.protectTransparency)
                  b3 = [[f8.protectTransparency.v], [0]];
              else if (f8.protectNone)
                  b3 = [[!1, !1, !1, !1], [0, 1, 2, 31]];
              else {
                  console.log(f8);
                  throw "e"
              }
              E.data = {
                  e: Q.jy,
                  Z7: b3
              }
          }
          if (E.data)
              z.f(E);
          else if (f.data)
              z.f(f);
          else {
              console.log(n);
              alert("Unknown action \"" + F + "\"");
              throw "e"
          }
      }
  }
  ;
  eW.PY = function(n, z) {
      var C = z.t
        , D = -1;
      if (C == "name") {
          var F = z.v.val
            , D = -1;
          for (var M = 0; M < n.W.length; M++)
              if (n.W[M].getName() == F) {
                  D = M;
                  break
              }
      }
      if (C == "Enmr" && n.C.length != 0)
          D = n.C[0];
      if (C == "Enmr" && z.v.enum == "Frwr")
          D = n.C[0] + 1;
      if (C == "Enmr" && z.v.enum == "Bckw")
          D = n.C[0] - 1;
      if (C == "prop") {
          if (z.v.keyID == "Bckg")
              D = 0
      }
      return D
  }
  ;
  var ad = {};
  ad.get = function(n) {
      for (var z in ad.names)
          if (n[z] != null)
              return z;
      return null
  }
  ;
  ad.bN = function(n, z) {
      var C = ad.xX, D;
      if (n == "brit") {
          var F = z.Brgh ? z.Brgh.v : 0
            , X = z.Cntr ? z.Cntr.v : 0
            , E = z.useLegacy ? z.useLegacy.v : !1;
          if (E) {
              var f = F / 255
                , a = 1 + X / 100;
              if (a > 1)
                  a = 1 + Math.tan(Math.PI / 2 * X / 101);
              var q = (1 - a) / 2
                , c = j.es.nU(f, f, f)
                , K = [a, 0, 0, q, 0, a, 0, q, 0, 0, a, q, 0, 0, 0, 1]
                , R = j.es.multiply(c, K)
                , J = new j.Dv(256);
              for (var M = 0; M < 256; M++)
                  J.h[M] = M;
              j.es.transform(J, J, R);
              D = {
                  type: C.Ve,
                  PE: J.h,
                  b9: J.h,
                  Ga: J.h,
                  aX: !1,
                  ms: !1
              }
          } else {
              var w = 1024
                , p = -30 + 60 * (X + 100) / 200
                , I = [];
              for (var M = 0; M < 4; M++)
                  I.push(j.E6.Kl(M / 3 * 255, M / 3 * 255, !0));
              I[1].v.Hrzn.v = 64;
              I[1].v.Vrtc.v = 64 - p;
              I[2].v.Hrzn.v = 128 + 64;
              I[2].v.Vrtc.v = 128 + 64 + p;
              I.sort(function(eN, go) {
                  return eN.v.Hrzn.v - go.v.Hrzn.v
              });
              var m = j.E6.o0(I, w);
              function A(eN, w) {
                  var I = []
                    , h = 3;
                  for (var M = 0; M < h + 1; M++)
                      I.push(j.E6.Kl(M / h * 255, M / h * 255, !0));
                  I[1].v.Hrzn.v = 130 - eN * 26;
                  I[1].v.Vrtc.v = 130 + eN * 51;
                  I[2].v.Hrzn.v = 233 - eN * 48;
                  I[2].v.Vrtc.v = 233 + eN * 10;
                  return j.E6.o0(I, w)
              }
              var U = A(Math.abs(F) / 100, w);
              if (F < 0) {
                  var r = []
                    , $ = 1 / w;
                  for (var M = 0; M < w; M++) {
                      var k = M * $
                        , G = M;
                      while (U[G] > k && G > 1)
                          G--;
                      r[M] = G * $
                  }
                  U = r
              }
              var i = new Uint8Array(w);
              for (var M = 0; M < w; M++) {
                  var o = Math.round((w - 1) * U[M]);
                  i[M] = Math.round(255 * m[o])
              }
              D = {
                  type: C.Ve,
                  PE: i,
                  b9: i,
                  Ga: i,
                  aX: !1,
                  ms: !1
              }
          }
      }
      if (n == "levl") {
          var S = [], H, e, c, V, v, B;
          for (var M = 0; M < 4; M++)
              S.push(eJ.sV(z, M));
          H = -S[0][0] / 255;
          e = 1 / (S[0][1] / 255 - S[0][0] / 255);
          c = j.es.multiply(j.es.Nw(e, e, e), j.es.nU(H, H, H));
          V = j.es.Nw(1 / (S[1][1] / 255 - S[1][0] / 255), 1 / (S[2][1] / 255 - S[2][0] / 255), 1 / (S[3][1] / 255 - S[3][0] / 255));
          v = j.es.nU(-S[1][0] / 255, -S[2][0] / 255, -S[3][0] / 255);
          B = j.es.multiply(V, v);
          var i = new j.Dv(256);
          for (var M = 0; M < 256; M++)
              i.h[M] = i.Q[M] = i.O[M] = M;
          var Z = 1 / (S[0][4] / 100)
            , d = 1 / (S[1][4] / 100)
            , g = 1 / (S[2][4] / 100)
            , Y = 1 / (S[3][4] / 100);
          j.es.transform(i, i, B);
          for (var M = 0; M < 256; M++) {
              i.h[M] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(i.h[M] / 255, d))));
              i.Q[M] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(i.Q[M] / 255, g))));
              i.O[M] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(i.O[M] / 255, Y))))
          }
          j.es.transform(i, i, c);
          for (var M = 0; M < 256; M++) {
              i.h[M] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(i.h[M] / 255, Z))));
              i.Q[M] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(i.Q[M] / 255, Z))));
              i.O[M] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(i.O[M] / 255, Z))))
          }
          H = S[0][2] / 255;
          e = S[0][3] / 255 - S[0][2] / 255;
          c = j.es.multiply(j.es.nU(H, H, H), j.es.Nw(e, e, e));
          V = j.es.Nw(S[1][3] / 255 - S[1][2] / 255, S[2][3] / 255 - S[2][2] / 255, S[3][3] / 255 - S[3][2] / 255);
          v = j.es.nU(S[1][2] / 255, S[2][2] / 255, S[3][2] / 255);
          B = j.es.multiply(v, V);
          j.es.transform(i, i, j.es.multiply(c, B));
          D = {
              type: C.Ve,
              PE: i.h,
              b9: i.Q,
              Ga: i.O,
              aX: !1,
              ms: !1
          }
      }
      if (n == "curv") {
          var y = cN.sV(z, 0).length == 256 ? 1 : 0
            , L = [];
          if (y == 0) {
              var _ = j.E6.h4(cN.sV(z, 0), 256);
              for (var M = 1; M < 4; M++) {
                  var x = j.E6.h4(cN.sV(z, M), 256);
                  L.push(j.E6.Wn(x, _))
              }
          } else {
              var W = [];
              for (var M = 0; M < 4; M++) {
                  var g6 = new Uint8Array(256);
                  W.push(g6);
                  var fY = cN.sV(z, M);
                  for (var G = 0; G < 256; G++)
                      g6[G] = fY[G]
              }
              for (var M = 1; M < 4; M++)
                  L.push(j.E6.Wn(W[M], W[0]))
          }
          D = {
              type: C.Ve,
              PE: L[0],
              b9: L[1],
              Ga: L[2],
              aX: !1,
              ms: !1
          }
      }
      if (n == "expA") {
          console.log(z);
          var f3 = z.Exps
            , hK = z.Ofst
            , s = z.gammaCorrection
            , P = f3 ? f3.v : 0
            , aF = hK ? hK.v : 0
            , fM = s ? s.v : 1
            , i = new Uint8Array(256);
          for (var M = 0; M < 256; M++) {
              var z = M / 255
                , e8 = Math.pow(Math.abs(aF), 1 / (Math.PI / 2));
              if (aF > 0) {
                  z = Math.max(aF / Math.E, z);
                  z = z * Math.exp(aF / 1.75 + P / Math.PI);
                  z = (1 - e8) * z + e8 * 1
              } else {
                  z = z * Math.exp(-aF * 1.75 + P / Math.PI);
                  z = z + -e8 * 1.14
              }
              z = Math.pow(z, 1 / fM);
              z = Math.max(0, Math.min(1, z));
              i[M] = Math.round(z * 255)
          }
          D = {
              type: C.Ve,
              PE: i,
              b9: i,
              Ga: i,
              aX: !1,
              ms: !1
          }
      }
      if (n == "vibA") {
          D = {
              type: C.vV,
              G6: [z.vibrance ? z.vibrance.v : 0, z.Strt ? z.Strt.v : 0]
          }
      }
      if (n == "hue2") {
          var eC = []
            , cy = []
            , aX = []
            , j0 = z.Clrz ? z.Clrz.v : !1;
          for (var M = 0; M < 256; M++) {
              eC[M] = M / 255;
              cy[M] = 0;
              aX[M] = 0
          }
          var aT = f5.sV(z, 0)
            , a4 = ad.Sh(aT[1] / 100);
          if (j0) {
              var f8 = aT[0] / 360;
              for (var M = 0; M < 256; M++) {
                  eC[M] = f8;
                  cy[M] = a4
              }
          } else {
              for (var M = 0; M < 256; M++) {
                  var b3 = eC[M]
                    , gh = cy[M];
                  eC[M] += aT[0] / 360;
                  for (var G = 0; G < 6; G++) {
                      var cZ = f5.sV(z, G + 1)
                        , h3 = cZ.gP
                        , ew = cZ.MJ
                        , e8 = 0;
                      for (var dy = 1; dy < 4; dy++)
                          if (ew[dy] < ew[0])
                              ew[dy] += 360;
                      var fx = ew[0]
                        , bo = ew[1]
                        , hd = ew[2]
                        , gT = ew[3]
                        , du = b3 * 360;
                      if (du < ew[0])
                          du += 360;
                      var bk = (du - fx) / (bo - fx)
                        , i8 = (du - hd) / (gT - hd);
                      if (bk < 0)
                          e8 = 0;
                      else if (bk < 1)
                          e8 = bk;
                      else if (i8 < 0)
                          e8 = 1;
                      else if (i8 < 1)
                          e8 = 1 - i8;
                      else
                          e8 = 0;
                      var a = ad.Sh(h3[1] / 100);
                      eC[M] += e8 * h3[0] / 360;
                      cy[M] += e8 * a;
                      aX[M] += e8 * h3[2] / 100
                  }
              }
              for (var M = 0; M < 256; M++) {
                  cy[M] = (1 + cy[M]) * (1 + a4) - 1;
                  aX[M] = Math.max(-1, Math.min(1, aX[M]))
              }
          }
          var en = new Uint8Array(256)
            , dW = new Uint8Array(256)
            , ix = new Uint8Array(256);
          for (var M = 0; M < 256; M++) {
              var dU = eC[M]
                , hN = cy[M]
                , a1 = aX[M];
              if (dU > 1)
                  dU--;
              if (dU < 0)
                  dU++;
              hN = ad.a1Y(hN);
              hN = (1 + hN) * .5;
              a1 = (1 + a1) * .5;
              en[M] = Math.round(255 * dU);
              dW[M] = Math.round(255 * hN);
              ix[M] = Math.round(255 * a1)
          }
          var hk = aT[2] / 100
            , ax = hk < 0 ? -hk : hk
            , ej = hk < 0 ? 0 : 1;
          D = {
              type: C.UE,
              a27: en,
              iU: dW,
              a3Y: ix,
              a1m: ax * ej,
              t6: 1 - ax,
              acf: aT[2] / 100,
              aiC: j0 ? 1 : 0
          }
      }
      if (n == "nvrt") {
          var i = new Uint8Array(256);
          for (var M = 0; M < 256; M++)
              i[M] = 255 - M;
          D = {
              type: C.Ve,
              PE: i,
              b9: i,
              Ga: i,
              aX: !1,
              ms: !1
          }
      }
      if (n == "post") {
          var bz = z.Lvls.v
            , i = new Uint8Array(256)
            , e8 = bz / 255.001
            , fq = 255 / (bz - 1);
          for (var M = 0; M < 256; M++)
              i[M] = Math.floor(M * e8) * fq;
          D = {
              type: C.Ve,
              PE: i,
              b9: i,
              Ga: i,
              aX: !1,
              ms: !1
          }
      }
      if (n == "grdm") {
          var cg = z.Grad.v
            , iw = z.Rvrs
            , fD = j._.fr(cg.Clrs.v, 0, 0)
            , w = 1024
            , g8 = j._.iH(cg, fD, w, iw ? iw.v : !1)
            , ap = j.T(w)
            , c8 = j.T(w)
            , dS = j.T(w);
          j.Ni(g8, ap, 0);
          j.Ni(g8, c8, 1);
          j.Ni(g8, dS, 2);
          D = {
              type: C.Ve,
              PE: ap,
              b9: c8,
              Ga: dS,
              aX: !0,
              ms: !1
          }
      }
      if (n == "selc") {
          var iK = new Float32Array(9 * 3 * 2)
            , ay = z.Am
            , c$ = z.Mthd ? z.Mthd.v.CrcM == "Absl" : !1;
          for (var G = 0; G < 9; G++) {
              var gP = G * 6
                , d0 = ch.sV(z, G)
                , ff = d0[0] / 100
                , ci = d0[1] / 100
                , gL = d0[2] / 100
                , gw = d0[3] / 100;
              if (c$) {
                  iK[gP] = iK[gP + 1] = iK[gP + 2] = 1;
                  iK[gP + 3] = ff * (1 + gw) + gw;
                  iK[gP + 4] = ci * (1 + gw) + gw;
                  iK[gP + 5] = gL * (1 + gw) + gw
              } else {
                  iK[gP + 0] = (1 + ff) * (1 + gw);
                  iK[gP + 1] = (1 + ci) * (1 + gw);
                  iK[gP + 2] = (1 + gL) * (1 + gw)
              }
          }
          D = {
              type: C.D7,
              agd: iK
          }
      }
      if (n == "blwh") {
          var bJ = "Rd Yllw Grn Cyn Bl Mgnt".split(" ")
            , D = []
            , i3 = 0
            , cp = 0;
          for (var M = 0; M < 6; M++)
              D.push(z[bJ[M]].v);
          D.push(z.useTint.v, z.tintColor.v);
          var hX = [];
          for (var M = 0; M < 6; M++)
              hX.push((D[M] - 50) / 50);
          var bm = j._.Jo(D[7]);
          bm.h /= 255;
          bm.Q /= 255;
          bm.O /= 255;
          var hl = j.GV(bm.h, bm.Q, bm.O)
            , a1 = j.xj(j.QX(hl.ua, 1, .5))
            , b0 = hl.ZP * hl.b2;
          if (a1 == .5)
              i3 = cp = .5;
          else {
              i3 = b0 * (.5 - a1) / (.5 / a1 - 1);
              cp = 1 - b0 * (.5 - a1) - 1 / (2 * (1 - a1));
              cp /= 1 - 1 / (2 * (1 - a1))
          }
          D = {
              type: C.dT,
              akW: hX,
              r_: D[6] ? 1 : 0,
              anl: hl.ua,
              xj: a1,
              a32: b0,
              U5: i3,
              aqd: cp
          }
      }
      if (n == "blnc") {
          console.log(z);
          var S = []
            , eR = ["ShdL", "MdtL", "HghL"];
          for (var M = 0; M < 3; M++) {
              if (z[eR[M]] == null) {
                  S[M] = [0, 0, 0];
                  continue
              }
              var bz = z[eR[M]].v
                , hm = bz[0].v / 100
                , aK = bz[1].v / 100
                , gc = bz[2].v / 100
                , ii = z.PrsL == null || z.PrsL.v ? (Math.min(hm, aK, gc) + Math.max(hm, aK, gc)) / 2 : 0;
              S[M] = [hm - ii, aK - ii, gc - ii]
          }
          var L = [j.T(256), j.T(256), j.T(256)];
          for (var G = 0; G < 3; G++)
              for (var M = 0; M < 256; M++) {
                  var k = M * (1 / 255)
                    , fU = 0
                    , p = 0
                    , io = 0;
                  p = S[2][G];
                  io = Math.abs(p);
                  if (p < 0)
                      fU = Math.pow(k, Math.SQRT2);
                  else
                      fU = 1.63 * (Math.pow(k + .04, .5) - .2);
                  k = io * fU + (1 - io) * k;
                  p = S[1][G];
                  io = Math.abs(p);
                  if (p < 0)
                      fU = Math.pow(k, 2);
                  else
                      fU = Math.min(2.35 * (Math.pow(k + .09, .5) - .3), Math.pow(k, 1 / 2));
                  k = io * fU + (1 - io) * k;
                  p = S[0][G];
                  io = Math.abs(p);
                  if (p < 0)
                      fU = k < .4 ? 0 : Math.pow((k - .4) / .6, Math.SQRT2);
                  else
                      fU = Math.pow(k, Math.SQRT2 / 2);
                  k = io * fU + (1 - io) * k;
                  k = Math.max(0, Math.min(1, k));
                  L[G][M] = Math.round(k * 255)
              }
          D = {
              type: C.Ve,
              PE: L[0],
              b9: L[1],
              Ga: L[2],
              aX: !1,
              ms: !1
          }
      }
      if (n == "phfl") {
          var cJ = j._.Jo(z.Clr.v)
            , eI = [cJ.h / 255, cJ.Q / 255, cJ.O / 255]
            , hV = z.Dnst.v / 100
            , L = [j.T(256), j.T(256), j.T(256)];
          for (var G = 0; G < 3; G++)
              for (var M = 0; M < 256; M++) {
                  var k = M * (1 / 255)
                    , bc = k * eI[G];
                  bc = Math.max(0, Math.min(1, bc));
                  k = hV * bc + (1 - hV) * k;
                  L[G][M] = Math.round(k * 255)
              }
          D = {
              type: C.Ve,
              PE: L[0],
              b9: L[1],
              Ga: L[2],
              aX: !1,
              ms: z.PrsL.v
          }
      }
      if (n == "thrs") {
          var i = j.T(256);
          for (var M = z.Lvl.v; M < 256; M++)
              i[M] = 255;
          D = {
              type: C.Ve,
              PE: i,
              b9: i,
              Ga: i,
              aX: !0,
              ms: !1
          }
      }
      if (n == "mixr") {
          var f2 = ad.DL(z)
            , R = [];
          for (var M = 0; M < f2.G.length; M++)
              if (M % 5 != 3)
                  R.push(f2.G[M] / 100);
          if (f2.sv) {
              for (var dK = 1; dK < 3; dK++)
                  for (var k = 0; k < 4; k++)
                      R[dK * 4 + k] = R[k]
          }
          D = {
              type: C.T0,
              A1: R
          }
      }
      if (n == "rplc") {
          var fJ = z.Mnm.v
            , f6 = z.Mxm.v;
          D = {
              type: C.Ik,
              yT: [fJ.Lmnc.v, fJ.A.v, fJ.B.v],
              yp: [f6.Lmnc.v, f6.A.v, f6.B.v],
              shift: [z.H.v / 360, z.Strt.v / 100, z.Lght.v / 100],
              V9: z.Fzns.v / 150
          }
      }
      if (n == "clrL" && z.profile) {
          var db = new Uint8Array(z.profile.v)
            , ds = ICC.R(db.buffer)
            , fa = []
            , c2 = 17
            , fa = ICC.U.sampleLUT(ds, c2);
          D = {
              type: C.Ua,
              Q5: ICC.U.rgba8LUT(fa, c2),
              ap_: fa,
              Mc: c2
          }
      }
      return D
  }
  ;
  ad.k2 = function(n, z) {
      var C = -1;
      if (n != "levl" || z == null)
          C = -1;
      else if (z.Auto)
          C = 0;
      else if (z.AuCo)
          C = 1;
      else if (z.autoBlackWhite)
          C = 2;
      return C
  }
  ;
  ad.xX = {
      Ve: 0,
      UE: 1,
      vV: 2,
      D7: 3,
      dT: 4,
      T0: 5,
      Ik: 6,
      Ua: 7
  };
  ad.Sh = function(n) {
      if (n < 0)
          return n;
      return Math.pow(Math.tan(Math.PI / 2 * n), 1.3)
  }
  ;
  ad.a1Y = function(n) {
      if (n < 0)
          return n;
      n = Math.pow(n, 1 / 1.3);
      return Math.atan2(n, 1) / (Math.PI / 2)
  }
  ;
  ad.o$ = function(n, z, C, D) {
      var F = ad.xX
        , X = Date.now();
      if (N.O3 && D.t() > 300 * 300 && n.type != F.Ve && n.type != F.Ua) {
          D = D.clone();
          D.x = D.y = 0;
          var E = N.kd(0, D.d, D.v);
          E.set(z);
          N.CX(E, D);
          E.rJ(D);
          ad.u$(n, E.fa, D);
          E.get(C);
          return
      }
      if (n.type == F.Ua) {
          var f = n.ap_
            , a = n.Mc;
          ICC.U.applyLUT(f, a, z, C);
          var q = z.length;
          for (var M = 0; M < q; M += 4)
              C[M + 3] = z[M + 3]
      }
      if (n.type == F.T0)
          j.es.Gf(z, C, n.A1);
      if (n.type == F.dT) {
          var c = n.a32
            , K = n.xj
            , R = n.U5
            , J = n.aqd
            , q = z.length;
          for (var M = 0; M < q; M += 4) {
              var D = z[M] * (1 / 255)
                , w = z[M + 1] * (1 / 255)
                , p = z[M + 2] * (1 / 255)
                , I = j.vu(D, w, p)
                , m = 0;
              for (var A = 0; A < 6; A++)
                  m += Math.min(1, 1.7 * (1 - I.rN)) * I.ZP * n.akW[A] * ad.G2(I.ua, A * (1 / 6));
              var U = Math.max(0, Math.min(1, I.rN * (1 + m)));
              if (n.r_ == 1) {
                  var r = 0;
                  if (U < R)
                      r = U * (.5 / K);
                  else if (U < J)
                      r = U + c * (.5 - K);
                  else
                      r = 1 - (1 - U) * .5 / (1 - K);
                  I.ua = n.anl;
                  I.ZP = Math.min(1, c + 3 * c * Math.abs(U - .5 * (R + J)));
                  I.rN = r
              } else {
                  I.ua = 0;
                  I.ZP = 0;
                  I.rN = U
              }
              var $ = j.QX(I.ua, I.ZP, I.rN);
              C[M] = Math.round($.h * 255);
              C[M + 1] = Math.round($.Q * 255);
              C[M + 2] = Math.round($.O * 255)
          }
      }
      if (n.type == F.D7) {
          var k = n.agd
            , q = z.length
            , G = 1 / 255;
          for (var M = 0; M < q; M += 4) {
              var D = z[M] * G
                , w = z[M + 1] * G
                , p = z[M + 2] * G
                , I = j.vu(D, w, p)
                , i = Math.max(D, Math.max(w, p))
                , o = Math.min(D, Math.min(w, p))
                , S = 1 - D
                , H = 1 - w
                , e = 1 - p
                , V = 0
                , v = 0
                , B = 0;
              for (var A = 0; A < 9; A++) {
                  var Z = A * 6
                    , y = 0;
                  if (k[Z] == 1 && k[Z + 1] == 1 && k[Z + 2] == 1 && k[Z + 3] == 0 && k[Z + 4] == 0 && k[Z + 5] == 0)
                      continue;
                  var d = S * k[Z] + k[Z + 3]
                    , g = H * k[Z + 1] + k[Z + 4]
                    , Y = e * k[Z + 2] + k[Z + 5];
                  if (A < 6)
                      y = ad.G2(I.ua, A * (1 / 6)) * I.ZP * 2 * Math.min(I.rN, 1 - I.rN);
                  else if (A == 6)
                      y = Math.max(0, o - .5) * 2;
                  else if (A == 7)
                      y = 1 - (Math.abs(i - .5) + Math.abs(o - .5));
                  else
                      y = Math.max(0, .5 - i) * 2;
                  V += (Math.max(0, Math.min(1, d)) - S) * y;
                  v += (Math.max(0, Math.min(1, g)) - H) * y;
                  B += (Math.max(0, Math.min(1, Y)) - e) * y
              }
              S = Math.max(0, Math.min(1, S + V));
              H = Math.max(0, Math.min(1, H + v));
              e = Math.max(0, Math.min(1, e + B));
              D = 1 - S;
              w = 1 - H;
              p = 1 - e;
              C[M] = Math.round(D * 255);
              C[M + 1] = Math.round(w * 255);
              C[M + 2] = Math.round(p * 255)
          }
      }
      if (n.type == F.Ve) {
          j.amc(z, C, n.PE, n.b9, n.Ga, n.aX, n.ms)
      }
      if (n.type == F.UE) {
          var L = new Uint32Array(z.buffer)
            , _ = new Uint32Array(C.buffer)
            , q = L.length;
          if (ad.ZQ == null) {
              ad.ZQ = new Float64Array(256);
              for (var M = 0; M < 256; M++)
                  ad.ZQ[M] = ad.Sh(-1 + 2 * M / 255)
          }
          var b = ad.ZQ;
          for (var M = 0; M < q; M++) {
              var x = L[M]
                , D = (x & 255) * (1 / 255)
                , w = (x >>> 8 & 255) * (1 / 255)
                , p = (x >>> 16 & 255) * (1 / 255)
                , W = x >>> 24
                , g6 = Math.min(D, w, p)
                , fY = Math.max(D, w, p)
                , f3 = 0
                , hK = 0
                , s = 0;
              f3 = j.vu(D, w, p).ua;
              var P = ~~(f3 * 255 + .5)
                , aF = n.a27[P] * (1 / 255)
                , fM = n.iU[P] * (1 / 255) * 2 - 1
                , eA = n.a3Y[P] * (1 / 255) * 2 - 1
                , m = -eA
                , e8 = g6;
              if (0 < eA) {
                  m = eA;
                  e8 = fY
              }
              var eC = n.a1m + n.t6 * m * e8
                , cy = n.t6 * (1 - m);
              D = eC + cy * D;
              w = eC + cy * w;
              p = eC + cy * p;
              fY = Math.max(D, w, p);
              g6 = Math.min(D, w, p);
              s = (fY + g6) * .5;
              if (fY != g6) {
                  var aX = fY - g6;
                  hK = s > .5 ? aX / (2 - (fY + g6)) : aX / (fY + g6)
              }
              var j0 = fM;
              if (n.aiC == 0) {
                  fM = b[Math.floor((1 + fM) * 127.5)];
                  j0 = Math.min(hK * (1 + fM), 1)
              }
              var $ = j.QX(aF, j0, s);
              D = $.h;
              w = $.Q;
              p = $.O;
              _[M] = W << 24 | p * 255 << 16 | w * 255 << 8 | D * 255
          }
      }
      if (n.type == F.Ik) {
          j.YY(z, C);
          var L = new Uint32Array(z.buffer)
            , _ = new Uint32Array(C.buffer)
            , q = L.length
            , aT = n.V9
            , a4 = 1 / aT
            , f8 = {
              u4: n.yT[0],
              nb: n.yT[1],
              O: n.yT[2]
          }
            , b3 = {
              u4: n.yp[0],
              nb: n.yp[1],
              O: n.yp[2]
          };
          for (var M = 0; M < q; M++) {
              var x = L[M]
                , gh = x & 255
                , cZ = x >>> 8 & 255
                , h3 = x >>> 16 & 255
                , D = gh * (1 / 255)
                , w = cZ * (1 / 255)
                , p = h3 * (1 / 255)
                , W = x >>> 24
                , ew = j.MU(gh, cZ, h3)
                , dy = j.Lx(ew, f8, b3, aT, a4);
              if (dy == 0)
                  continue;
              var I = j.vu(D, w, p)
                , aF = 2 + I.ua + n.shift[0];
              I.ua = aF - ~~aF;
              I.ZP = Math.max(0, Math.min(1, I.ZP + n.shift[1]));
              I.rN = Math.max(0, Math.min(1, I.rN + n.shift[2]));
              var $ = j.QX(I.ua, I.ZP, I.rN);
              D = (1 - dy) * D + dy * $.h;
              w = (1 - dy) * w + dy * $.Q;
              p = (1 - dy) * p + dy * $.O;
              _[M] = W << 24 | p * 255 << 16 | w * 255 << 8 | D * 255
          }
      }
      if (n.type == F.vV) {
          var L = new Uint32Array(z.buffer)
            , _ = new Uint32Array(C.buffer)
            , q = L.length
            , fx = n.G6[0] / 100
            , bo = n.G6[1] / 100;
          for (var M = 0; M < q; M++) {
              var x = L[M]
                , D = (x & 255) * (1 / 255)
                , w = (x >>> 8 & 255) * (1 / 255)
                , p = (x >>> 16 & 255) * (1 / 255)
                , W = x >>> 24
                , I = j.GV(D, w, p)
                , f3 = I.ua
                , hK = I.ZP
                , s = I.b2
                , hd = 0
                , gT = 45 / 360
                , du = f3 < gT ? Math.cos(Math.PI / 2 * (f3 - gT / 2) / (gT / 2)) : 0;
              hK = hK + .2 * (1 - .4 * du) * fx * Math.max(0, Math.sin(hK * Math.PI));
              hK = hK * (1 + bo);
              hK = Math.max(0, Math.min(1, hK));
              var $ = j.X9(f3, hK, s);
              D = $.h;
              w = $.Q;
              p = $.O;
              _[M] = W << 24 | p * 255 << 16 | w * 255 << 8 | D * 255
          }
      }
  }
  ;
  ad.u$ = function(n, z, C) {
      N.cH.u$(n, z)
  }
  ;
  ad.G2 = function(n, z) {
      var C = j.Qg(z, n) * 6;
      return Math.max(0, Math.min(1, C < 0 ? 1 + C : 1 - C))
  }
  ;
  ad.names = {
      brit: [4, 0],
      levl: [4, 1],
      curv: [4, 2],
      expA: [4, 3],
      vibA: [4, 4],
      hue2: [4, 5],
      blnc: [4, 6],
      blwh: [4, 7],
      phfl: [4, 8],
      mixr: [4, 9],
      clrL: [4, 10],
      nvrt: [4, 11],
      post: [4, 12],
      thrs: [4, 13],
      grdm: [4, 14],
      selc: [4, 15],
      rplc: [4, 17]
  };
  ad.L5 = ["expA", "clrL", "selc"];
  ad.Tp = [[13, 1, 1], [13, 1, 3], [13, 1, 4], [13, 1, 11], [13, 1, 5], [13, 1, 12]];
  ad.aly = [[13, 1, 11], [13, 1, 12], [13, 1, 3], [13, 1, 10]];
  ad.Ps = [[13, 1, 1], [13, 1, 4], [13, 1, 5]];
  ad.y7 = {
      BrgC: "brit",
      Lvls: "levl",
      Crvs: "curv",
      Exps: "expA",
      vibrance: "vibA",
      HStr: "hue2",
      ClrB: "blnc",
      BanW: "blwh",
      photoFilter: "phfl",
      Invr: "nvrt",
      Pstr: "post",
      Thrs: "thrs",
      GrMp: "grdm",
      SlcC: "selc",
      ChnM: "mixr",
      colorLookup: "clrL",
      rplc: "rplc"
  };
  ad.SZ = function() {
      var n = JSON.parse(JSON.stringify(ad.y7));
      delete n.GrMp;
      n.GdMp = "grdm";
      return n
  }();
  ad.bE = {
      brit: "brightnessEvent",
      levl: "levels",
      curv: "curves",
      expA: "exposure",
      vibA: "vibrance",
      hue2: "hueSaturation",
      blnc: "colorBalance",
      blwh: "blackAndWhite",
      phfl: "photoFilter",
      mixr: "channelMixer",
      clrL: "colorLookup",
      nvrt: "invert",
      post: "posterization",
      thrs: "thresholdClassEvent",
      grdm: "gradientMapEvent",
      selc: "selectiveColor",
      rplc: "replaceColor"
  };
  ad.keys = {
      levl: [dM.BO, dM.u4],
      curv: [dM.BO, dM.nN],
      hue2: [dM.BO, dM.sy],
      nvrt: [dM.BO, dM.oW],
      blnc: [dM.BO, dM.Gb]
  };
  ad.sD = function(n) {
      var z = fd.zP("mixr");
      z.Mnch = {
          t: "bool",
          v: n.sv
      };
      function C(D, M) {
          var F = {
              classID: "ChMx"
          }
            , X = {
              Rd: 0,
              Grn: 1,
              Bl: 2,
              Cnst: 4
          };
          for (var E in X)
              F[E] = {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: D[M + X[E]]
                  }
              };
          return {
              t: "Objc",
              v: F
          }
      }
      if (n.sv)
          z.Gry = C(n.G, 0);
      else {
          z.Rd = C(n.G, 0);
          z.Grn = C(n.G, 5);
          z.Bl = C(n.G, 10)
      }
      return z
  }
  ;
  ad.DL = function(n) {
      function z(D, F, M) {
          var X = {
              Rd: 0,
              Grn: 1,
              Bl: 2,
              Cnst: 4
          };
          for (var E in X)
              if (D[E])
                  F[M + X[E]] = D[E].v.val
      }
      var C = {
          sv: !1,
          G: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
      };
      if (n.Mnch && n.Mnch.v)
          C.sv = !0;
      if (C.sv)
          z(n.Gry.v, C.G, 0);
      else {
          z(n.Rd.v, C.G, 0);
          z(n.Grn.v, C.G, 5);
          z(n.Bl.v, C.G, 10)
      }
      return C
  }
  ;
  var fd = {};
  fd.FE = function(n) {
      var z = n.filterID.v;
      return z > 16777215 ? T.aq0(z) : n.Fltr.v.classID
  }
  ;
  fd.N6 = [{
      Ys: "GEfc"
  }, {
      Ys: "LnCr"
  }, {
      Ys: "LqFy",
      B$: !0
  }, {
      UP: "3D",
      xQ: ["lightFilterGradient"]
  }, {
      UP: [24, 2],
      xQ: "Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")
  }, {
      UP: [24, 4],
      xQ: "Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")
  }, {
      UP: [24, 6],
      xQ: ["AdNs", "Dspc", "DstS", "Mdn "]
  }, {
      UP: [24, 8],
      xQ: "ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")
  }, {
      UP: [24, 10],
      xQ: ["Clds", "DfrC", "Fbrs", "LnsF"]
  }, {
      UP: [24, 12],
      xQ: ["Shrp", "ShrE", "ShrM", "smartSharpen", "UnsM"]
  }, {
      UP: [24, 14],
      xQ: "Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")
  }, {
      UP: [24, 16],
      xQ: "HghP,Mxm ,Mnm ,Ofst,Rept,Ctoa".split(",")
  }, {
      UP: "Fourier",
      xQ: ["dDFT", "iDFT"]
  }];
  fd.bE = {
      LqFy: "LqFy",
      Avrg: "Avrg",
      "Blr ": "blurEvent",
      BlrM: "blurMethod",
      boxblur: "boxblur",
      GsnB: "gaussianBlur",
      MtnB: "motionBlur",
      RdlB: "radialBlur",
      surfaceBlur: "surfaceBlur",
      lightFilterGradient: "lightFilterGradient",
      adaptCorrect: "adaptCorrect",
      Pnch: "pinch",
      "Plr ": "polar",
      Rple: "ripple",
      "Shr ": "shear",
      Sphr: "spherize",
      Twrl: "twirl",
      Wave: "wave",
      AdNs: "addNoise",
      DstS: "dustAndScratches",
      "Mdn ": "median",
      ClrH: "colorHalftone",
      Crst: "",
      Frgm: "",
      Mztn: "mezzotint",
      "Msc ": "mosaic",
      Pntl: "",
      Clds: "clouds",
      DfrC: "differenceClouds",
      LnsF: "LnsF",
      Shrp: "sharpen",
      ShrM: "sharpenMore",
      smartSharpen: "smartSharpen",
      UnsM: "unsharpMask",
      FndE: "findEdges",
      oilPaint: "oilPaint",
      HghP: "highPass",
      "Mxm ": "maximum",
      "Mnm ": "minimum",
      Ofst: "offset"
  };
  fd.Iz = {
      AddNoise: "AdNs",
      Average: "Avrg",
      Blur: "Blr ",
      BlurMore: "BlrM",
      Clouds: "Clds",
      DifferenceClouds: "DfrC",
      DustAndScratches: "DstS",
      GaussianBlur: "GsnB",
      HighPass: "HghP",
      Maximum: "Mxm ",
      Minimum: "Mnm ",
      MotionBlur: "MtnB",
      Offset: "Ofst",
      Pinch: "Pnch",
      PolarCoordinates: "Plr ",
      Ripple: "Rple",
      Sharpen: "Shrp",
      SharpenMore: "ShrM",
      Twirl: "Twrl",
      UnsharpMask: "UnsM"
  };
  fd.p = {
      rigidTransform: O.mz
  };
  fd.names = {
      lightFilterGradient: "Normal Map",
      rigidTransform: [10, 46],
      LnCr: [24, 1, 1, 0],
      LqFy: [24, 1, 0, 0],
      GEfc: [24, 0],
      Avrg: [24, 3, 0],
      "Blr ": [24, 3, 1],
      BlrM: [24, 3, 2],
      boxblur: [24, 3, 3],
      GsnB: [24, 3, 4],
      Bokh: [24, 3, 5],
      MtnB: [24, 3, 6],
      RdlB: [24, 3, 7],
      surfaceBlur: [24, 3, 10],
      Dspl: [24, 5, 0],
      Pnch: [24, 5, 1],
      "Plr ": [24, 5, 2],
      Rple: [24, 5, 3],
      "Shr ": [24, 5, 4],
      Sphr: [24, 5, 5],
      Twrl: [24, 1, 0, 1, 3],
      Wave: [24, 5, 6],
      ZgZg: "ZigZag",
      AdNs: [24, 7, 0],
      Dspc: [24, 7, 1],
      DstS: [24, 7, 2],
      "Mdn ": [24, 7, 3],
      ClrH: [24, 9, 0],
      Crst: [24, 9, 1],
      Frgm: [24, 9, 3],
      Mztn: [24, 9, 4],
      "Msc ": [24, 9, 5],
      Pntl: [24, 9, 6],
      Clds: [24, 11, 0],
      DfrC: [24, 11, 1],
      Fbrs: "Fibers",
      LnsF: [24, 11, 2],
      Shrp: [24, 13, 0],
      ShrE: [24, 13, 1],
      ShrM: [24, 13, 2],
      smartSharpen: [24, 13, 3],
      UnsM: [24, 13, 4],
      "Dfs ": [24, 15, 0],
      Embs: [24, 15, 1],
      FndE: [24, 15, 3],
      oilPaint: [24, 15, 4],
      Slrz: "Solarize",
      TrcC: "Trace Contour",
      "Wnd ": "Wind",
      HghP: [24, 17, 1],
      "Mxm ": [24, 17, 2],
      "Mnm ": [24, 17, 3],
      Ofst: [24, 17, 4],
      Rept: [24, 17, 5],
      Ctoa: "Color to Alpha",
      dDFT: "Fourier Transform",
      iDFT: "Inverse Fourier Transform",
      adaptCorrect: ["VAR0/VAR1", [19, 6, 0], [19, 6, 2]]
  };
  fd.zP = function(n) {
      var z = null;
      if (n == "GEfc")
          z = {
              __name: "Filter Gallery",
              classID: "GEfc",
              GEfs: {
                  t: "VlLs",
                  v: [{
                      t: "Objc",
                      v: g3.zP("GlwE")
                  }]
              }
          };
      if (n == "LqFy") {
          var C = {
              ob: 5,
              ua: 5,
              map: new Float32Array(5 * 5 * 2)
          }
            , D = new Uint8Array(gE.OK(C))
            , F = [];
          for (var M = 0; M < D.length; M++)
              F.push(D[M]);
          z = {
              __name: "Liquify",
              classID: "LqFy",
              LqMe: {
                  t: "tdta",
                  v: F
              }
          }
      }
      if (n == "rigidTransform") {
          z = {
              __name: "Puppet Warp",
              classID: "rigidTransform",
              null: {
                  t: "obj ",
                  v: [{
                      t: "Enmr",
                      v: {
                          classID: "Lyr",
                          typeID: "Ordn",
                          enum: "Trgt"
                      }
                  }]
              },
              rigidType: {
                  t: "bool",
                  v: !0
              },
              puppetShapeList: {
                  t: "VlLs",
                  v: []
              },
              PuX0: {
                  t: "doub",
                  v: 0
              },
              PuX1: {
                  t: "doub",
                  v: 1e3
              },
              PuX2: {
                  t: "doub",
                  v: 1e3
              },
              PuX3: {
                  t: "doub",
                  v: 0
              },
              PuY0: {
                  t: "doub",
                  v: 0
              },
              PuY1: {
                  t: "doub",
                  v: 0
              },
              PuY2: {
                  t: "doub",
                  v: 1e3
              },
              PuY3: {
                  t: "doub",
                  v: 1e3
              }
          }
      }
      if (n == "LnCr")
          z = {
              __name: "Lens Correction",
              classID: "LnCr",
              LnAg: {
                  t: "bool",
                  v: !0
              },
              LnAc: {
                  t: "bool",
                  v: !1
              },
              LnAv: {
                  t: "bool",
                  v: !1
              },
              LnAs: {
                  t: "bool",
                  v: !1
              },
              LnIp: {
                  t: "bool",
                  v: !1
              },
              LnFo: {
                  t: "doub",
                  v: 0
              },
              LnPr: {
                  t: "TEXT",
                  v: ""
              },
              LnIa: {
                  t: "doub",
                  v: 0
              },
              LnI0: {
                  t: "doub",
                  v: 0
              },
              LnI1: {
                  t: "doub",
                  v: 0
              },
              LnI2: {
                  t: "doub",
                  v: 0
              },
              LnI3: {
                  t: "doub",
                  v: 1
              },
              LnRa: {
                  t: "doub",
                  v: 0
              },
              LnVp: {
                  t: "doub",
                  v: 0
              },
              LnHp: {
                  t: "doub",
                  v: 0
              },
              LnSi: {
                  t: "doub",
                  v: 100
              },
              LnFt: {
                  t: "long",
                  v: 2
              },
              LnSb: {
                  t: "doub",
                  v: 0
              },
              LnSt: {
                  t: "long",
                  v: 50
              },
              LnRc: {
                  t: "doub",
                  v: 0
              },
              LnGm: {
                  t: "doub",
                  v: 0
              },
              LnBy: {
                  t: "doub",
                  v: 0
              },
              LnNa: {
                  t: "long",
                  v: 64
              },
              LnIh: {
                  t: "long",
                  v: 0
              },
              LnIv: {
                  t: "long",
                  v: 0
              },
              LnIs: {
                  t: "Objc",
                  v: {
                      classID: "RGBC",
                      Rd: {
                          t: "doub",
                          v: 127
                      },
                      Grn: {
                          t: "doub",
                          v: 127
                      },
                      Bl: {
                          t: "doub",
                          v: 127
                      }
                  }
              },
              LnNm: {
                  t: "bool",
                  v: !1
              }
          };
      if (n == "adaptCorrect")
          z = {
              __name: "Shadow/Highlight",
              classID: "adaptCorrect",
              sdwM: {
                  t: "Objc",
                  v: {
                      __name: "Parameters",
                      classID: "adaptCorrectTones",
                      Amnt: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 50
                          }
                      },
                      Wdth: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 25
                          }
                      },
                      Rds: {
                          t: "long",
                          v: 12
                      }
                  }
              },
              hglM: {
                  t: "Objc",
                  v: {
                      __name: "Parameters",
                      classID: "adaptCorrectTones",
                      Amnt: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 0
                          }
                      },
                      Wdth: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 0
                          }
                      },
                      Rds: {
                          t: "long",
                          v: 0
                      }
                  }
              },
              BlcC: {
                  t: "doub",
                  v: 0
              },
              WhtC: {
                  t: "doub",
                  v: 0
              },
              Cntr: {
                  t: "long",
                  v: 0
              },
              ClrC: {
                  t: "long",
                  v: 0
              }
          };
      if (n == "Dfs ")
          z = {
              __name: "Diffuse",
              classID: "Dfs",
              Md: {
                  t: "enum",
                  v: {
                      DfsM: "Nrml"
                  }
              },
              FlRs: {
                  t: "long",
                  v: 14061024
              }
          };
      if (n == "Fbrs")
          z = {
              __name: "Fibers",
              classID: "Fbrs",
              Vrnc: {
                  t: "long",
                  v: 10
              },
              Strg: {
                  t: "long",
                  v: 1
              },
              RndS: {
                  t: "long",
                  v: 8438429
              }
          };
      if (n == "Embs")
          z = {
              __name: "Emboss",
              classID: "Embs",
              Angl: {
                  t: "long",
                  v: 45
              },
              Hght: {
                  t: "long",
                  v: 5
              },
              Amnt: {
                  t: "long",
                  v: 100
              }
          };
      if (n == "oilPaint")
          z = {
              __name: "Oil Paint",
              classID: "oilPaint",
              lightingOn: {
                  t: "bool",
                  v: !0
              },
              stylization: {
                  t: "doub",
                  v: 3
              },
              brushScale: {
                  t: "doub",
                  v: 1
              },
              microBrush: {
                  t: "doub",
                  v: 0
              },
              LghD: {
                  t: "long",
                  v: 45
              },
              specularity: {
                  t: "doub",
                  v: 1
              },
              cleanliness: {
                  t: "doub",
                  v: 2
              }
          };
      if (n == "TrcC")
          z = {
              __name: "Trace Contour",
              classID: "TrcC",
              Lvl: {
                  t: "long",
                  v: 128
              },
              Edg: {
                  t: "enum",
                  v: {
                      CntE: "Lwr"
                  }
              }
          };
      if (n == "Wnd ")
          z = {
              __name: "Wind",
              classID: "Wnd",
              WndM: {
                  t: "enum",
                  v: {
                      WndM: "Wnd"
                  }
              },
              Drct: {
                  t: "enum",
                  v: {
                      Drct: "Rght"
                  }
              }
          };
      if (n == "lightFilterGradient")
          z = {
              __name: "Generate Normals",
              classID: "lightFilterGradient",
              blur: {
                  t: "doub",
                  v: 0
              },
              textureScale: {
                  t: "doub",
                  v: 1
              },
              Scl: {
                  t: "doub",
                  v: 1
              },
              Dtl: {
                  t: "VlLs",
                  v: [{
                      t: "doub",
                      v: 1
                  }, {
                      t: "doub",
                      v: 1
                  }, {
                      t: "doub",
                      v: 1
                  }]
              }
          };
      if (n == "boxblur")
          z = {
              __name: "Box Blur",
              classID: "boxblur",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 15
                  }
              }
          };
      if (n == "GsnB")
          z = {
              __name: "Gaussian Blur",
              classID: "GsnB",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 7.2
                  }
              }
          };
      if (n == "Bokh")
          z = {
              __name: "Lens Blur",
              classID: "Bokh",
              BkDi: {
                  t: "enum",
                  v: {
                      BtDi: "BeIn"
                  }
              },
              BkDp: {
                  t: "long",
                  v: 0
              },
              BkDs: {
                  t: "bool",
                  v: !1
              },
              BkIs: {
                  t: "enum",
                  v: {
                      BtIs: "BeS6"
                  }
              },
              BkIb: {
                  t: "doub",
                  v: 30
              },
              BkIc: {
                  t: "long",
                  v: 0
              },
              BkIr: {
                  t: "long",
                  v: 0
              },
              BkSb: {
                  t: "doub",
                  v: 0
              },
              BkSt: {
                  t: "long",
                  v: 255
              },
              BkNa: {
                  t: "long",
                  v: 0
              },
              BkNt: {
                  t: "enum",
                  v: {
                      BtNt: "BeNu"
                  }
              },
              BkNm: {
                  t: "bool",
                  v: !1
              }
          };
      if (n == "MtnB")
          z = {
              __name: "Motion Blur",
              classID: "MtnB",
              Angl: {
                  t: "long",
                  v: 0
              },
              Dstn: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 4
                  }
              }
          };
      if (n == "RdlB")
          z = {
              __name: "Radial Blur",
              classID: "RdlB",
              Amnt: {
                  t: "long",
                  v: 10
              },
              BlrM: {
                  t: "enum",
                  v: {
                      BlrM: "Spn"
                  }
              },
              BlrQ: {
                  t: "enum",
                  v: {
                      BlrQ: "Gd"
                  }
              },
              Cntr: {
                  t: "Objc",
                  v: {
                      classID: "Pnt",
                      Hrzn: {
                          t: "doub",
                          v: .5
                      },
                      Vrtc: {
                          t: "doub",
                          v: .5
                      }
                  }
              }
          };
      if (n == "surfaceBlur")
          z = {
              __name: "Surface Blur",
              classID: "surfaceBlur",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 15
                  }
              },
              Thsh: {
                  t: "long",
                  v: 15
              }
          };
      if (n == "Dspl")
          z = {
              __name: "Displace",
              classID: "Dspl",
              HrzS: {
                  t: "long",
                  v: 10
              },
              VrtS: {
                  t: "long",
                  v: 10
              },
              DspM: {
                  t: "enum",
                  v: {
                      DspM: "StrF"
                  }
              },
              UndA: {
                  t: "enum",
                  v: {
                      UndA: "RptE"
                  }
              },
              DspF: {
                  t: "Pth ",
                  v: {
                      sig: "txtu",
                      pth: "file.psd\0"
                  }
              }
          };
      if (n == "Pnch")
          z = {
              __name: "Pinch",
              classID: "Pnch",
              Amnt: {
                  t: "long",
                  v: -100
              }
          };
      if (n == "Plr ")
          z = {
              __name: "Polar Coordinates",
              classID: "Plr",
              Cnvr: {
                  t: "enum",
                  v: {
                      Cnvr: "RctP"
                  }
              }
          };
      if (n == "Rple")
          z = {
              __name: "Ripple",
              classID: "Rple",
              Amnt: {
                  t: "long",
                  v: 999
              },
              RplS: {
                  t: "enum",
                  v: {
                      RplS: "Mdm"
                  }
              }
          };
      if (n == "Shr ")
          z = {
              __name: "Shear",
              classID: "Shr",
              ShrP: {
                  t: "VlLs",
                  v: [{
                      t: "Objc",
                      v: {
                          classID: "Pnt",
                          Hrzn: {
                              t: "doub",
                              v: 0
                          },
                          Vrtc: {
                              t: "doub",
                              v: 1
                          }
                      }
                  }, {
                      t: "Objc",
                      v: {
                          classID: "Pnt",
                          Hrzn: {
                              t: "doub",
                              v: 0
                          },
                          Vrtc: {
                              t: "doub",
                              v: 128
                          }
                      }
                  }]
              },
              UndA: {
                  t: "enum",
                  v: {
                      UndA: "WrpA"
                  }
              },
              ShrS: {
                  t: "long",
                  v: 0
              },
              ShrE: {
                  t: "long",
                  v: 1
              }
          };
      if (n == "Sphr")
          z = {
              __name: "Spherize",
              classID: "Sphr",
              Amnt: {
                  t: "long",
                  v: 100
              },
              SphM: {
                  t: "enum",
                  v: {
                      SphM: "Nrml"
                  }
              }
          };
      if (n == "Twrl")
          z = {
              __name: "Twirl",
              classID: "Twrl",
              Angl: {
                  t: "long",
                  v: 90
              }
          };
      if (n == "Wave")
          z = {
              __name: "Wave",
              classID: "Wave",
              Wvtp: {
                  t: "enum",
                  v: {
                      Wvtp: "WvSn"
                  }
              },
              NmbG: {
                  t: "long",
                  v: 1
              },
              WLMn: {
                  t: "long",
                  v: 101
              },
              WLMx: {
                  t: "long",
                  v: 102
              },
              AmMn: {
                  t: "long",
                  v: 36
              },
              AmMx: {
                  t: "long",
                  v: 37
              },
              SclH: {
                  t: "long",
                  v: 100
              },
              SclV: {
                  t: "long",
                  v: 100
              },
              UndA: {
                  t: "enum",
                  v: {
                      UndA: "WrpA"
                  }
              },
              RndS: {
                  t: "long",
                  v: 743887
              }
          };
      if (n == "ZgZg")
          z = {
              __name: "ZigZag",
              classID: "ZgZg",
              Amnt: {
                  t: "long",
                  v: 50
              },
              NmbR: {
                  t: "long",
                  v: 10
              },
              ZZTy: {
                  t: "enum",
                  v: {
                      ZZTy: "ArnC"
                  }
              }
          };
      if (n == "AdNs")
          z = {
              __name: "Add Noise",
              classID: "AdNs",
              Dstr: {
                  t: "enum",
                  v: {
                      Dstr: "Unfr"
                  }
              },
              Nose: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 20
                  }
              },
              Mnch: {
                  t: "bool",
                  v: !1
              },
              FlRs: {
                  t: "long",
                  v: 100691320
              }
          };
      if (n == "DstS")
          z = {
              __name: "Dust & Scratches",
              classID: "DstS",
              Rds: {
                  t: "long",
                  v: 2
              },
              Thsh: {
                  t: "long",
                  v: 26
              }
          };
      if (n == "Mdn ")
          z = {
              __name: "Median",
              classID: "Mdn",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 7
                  }
              }
          };
      if (n == "ClrH")
          z = {
              __name: "Color Halftone",
              classID: "ClrH",
              Rds: {
                  t: "long",
                  v: 8
              },
              Ang1: {
                  t: "long",
                  v: 10
              },
              Ang2: {
                  t: "long",
                  v: 40
              },
              Ang3: {
                  t: "long",
                  v: 70
              },
              Ang4: {
                  t: "long",
                  v: 80
              }
          };
      if (n == "Crst")
          z = {
              __name: "Crystallize",
              classID: "Crst",
              ClSz: {
                  t: "long",
                  v: 10
              },
              FlRs: {
                  t: "long",
                  v: 1554929224
              }
          };
      if (n == "Mztn")
          z = {
              __name: "Mezzotint",
              classID: "Mztn",
              MztT: {
                  t: "enum",
                  v: {
                      MztT: "FnDt"
                  }
              },
              FlRs: {
                  t: "long",
                  v: 204994187
              }
          };
      if (n == "Msc ")
          z = {
              __name: "Mosaic",
              classID: "Msc",
              ClSz: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 12
                  }
              }
          };
      if (n == "Pntl")
          z = {
              __name: "Pointillize",
              classID: "Pntl",
              ClSz: {
                  t: "long",
                  v: 10
              },
              FlRs: {
                  t: "long",
                  v: 1554929236
              }
          };
      if (n == "LnsF")
          z = {
              __name: "Lens Flare",
              classID: "LnsF",
              Brgh: {
                  t: "long",
                  v: 100
              },
              FlrC: {
                  t: "Objc",
                  v: {
                      classID: "Pnt",
                      Hrzn: {
                          t: "doub",
                          v: .19140625
                      },
                      Vrtc: {
                          t: "doub",
                          v: .185628741979599
                      }
                  }
              },
              Lns: {
                  t: "enum",
                  v: {
                      Lns: "Zm"
                  }
              }
          };
      if (n == "smartSharpen")
          z = {
              __name: "Smart Sharpen",
              classID: "smartSharpen",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              useLegacy: {
                  t: "bool",
                  v: !1
              },
              Amnt: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 150
                  }
              },
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 1
                  }
              },
              noiseReduction: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 0
                  }
              },
              blur: {
                  t: "enum",
                  v: {
                      blurType: "GsnB"
                  }
              }
          };
      if (n == "UnsM")
          z = {
              __name: "Unsharp Mask",
              classID: "UnsM",
              Amnt: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 142
                  }
              },
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 4.5
                  }
              },
              Thsh: {
                  t: "long",
                  v: 0
              }
          };
      if (n == "HghP")
          z = {
              __name: "High Pass",
              classID: "HghP",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 3
                  }
              }
          };
      if (n == "Mxm ")
          z = {
              __name: "Maximum",
              classID: "Mxm",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 9
                  }
              }
          };
      if (n == "Mnm ")
          z = {
              __name: "Minimum",
              classID: "Mnm",
              Rds: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 14
                  }
              }
          };
      if (n == "Ofst")
          z = {
              __name: "Offset",
              classID: "Ofst",
              Hrzn: {
                  t: "long",
                  v: 144
              },
              Vrtc: {
                  t: "long",
                  v: 278
              },
              Fl: {
                  t: "enum",
                  v: {
                      FlMd: "Wrp"
                  }
              }
          };
      if (n == "Rept")
          z = {
              __name: "Repeat",
              classID: "Rept",
              Scl: {
                  v: {
                      type: "#Prc",
                      val: 100
                  },
                  t: "UntF"
              },
              Rsft: {
                  v: {
                      type: "#Prc",
                      val: 0
                  },
                  t: "UntF"
              },
              SpcX: {
                  v: {
                      type: "#Prc",
                      val: 0
                  },
                  t: "UntF"
              },
              SpcY: {
                  v: {
                      type: "#Prc",
                      val: 0
                  },
                  t: "UntF"
              },
              SpcC: {
                  t: "bool",
                  v: !1
              },
              Angl: {
                  t: "long",
                  v: 0
              }
          };
      if (n == "Ctoa")
          z = {
              __name: "Color to Alpha",
              classID: "Ctoa",
              Trsp: {
                  v: {
                      type: "#Prc",
                      val: 0
                  },
                  t: "UntF"
              },
              Opct: {
                  v: {
                      type: "#Prc",
                      val: 100
                  },
                  t: "UntF"
              },
              Clr: {
                  v: {
                      classID: "RGBC",
                      Rd: {
                          v: 0,
                          t: "doub"
                      },
                      Grn: {
                          v: 0,
                          t: "doub"
                      },
                      Bl: {
                          v: 0,
                          t: "doub"
                      }
                  },
                  t: "Objc"
              }
          };
      if (n == "brit")
          z = {
              __name: "Brightness/Contrast",
              classID: "BrgC",
              Brgh: {
                  t: "long",
                  v: 0
              },
              Cntr: {
                  t: "long",
                  v: 0
              },
              useLegacy: {
                  t: "bool",
                  v: !1
              }
          };
      if (n == "levl")
          z = {
              __name: "Levels",
              classID: "Lvls",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              Adjs: {
                  t: "VlLs",
                  v: []
              }
          };
      if (n == "curv")
          z = {
              __name: "Curves",
              classID: "Crvs",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              Adjs: {
                  t: "VlLs",
                  v: []
              }
          };
      if (n == "expA")
          z = {
              __name: "Exposure",
              classID: "Exps",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              Exps: {
                  t: "doub",
                  v: 0
              },
              Ofst: {
                  t: "doub",
                  v: 0
              },
              gammaCorrection: {
                  t: "doub",
                  v: 1
              }
          };
      if (n == "vibA")
          z = {
              __name: "Vibrance",
              classID: "vibrance",
              vibrance: {
                  t: "long",
                  v: 0
              },
              Strt: {
                  t: "long",
                  v: 0
              }
          };
      if (n == "hue2")
          z = {
              __name: "Hue/Saturation",
              classID: "HStr",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              Clrz: {
                  t: "bool",
                  v: !1
              },
              Adjs: {
                  t: "VlLs",
                  v: []
              }
          };
      if (n == "blnc")
          z = {
              __name: "Color Balance",
              classID: "ClrB",
              ShdL: {
                  t: "VlLs",
                  v: [{
                      t: "long",
                      v: 0
                  }, {
                      t: "long",
                      v: 0
                  }, {
                      t: "long",
                      v: 0
                  }]
              },
              MdtL: {
                  t: "VlLs",
                  v: [{
                      t: "long",
                      v: 0
                  }, {
                      t: "long",
                      v: 0
                  }, {
                      t: "long",
                      v: 0
                  }]
              },
              HghL: {
                  t: "VlLs",
                  v: [{
                      t: "long",
                      v: 0
                  }, {
                      t: "long",
                      v: 0
                  }, {
                      t: "long",
                      v: 0
                  }]
              },
              PrsL: {
                  t: "bool",
                  v: !0
              }
          };
      if (n == "blwh")
          z = {
              __name: "Black & White",
              classID: "BanW",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              Rd: {
                  t: "long",
                  v: 40
              },
              Yllw: {
                  t: "long",
                  v: 85
              },
              Grn: {
                  t: "long",
                  v: 204
              },
              Cyn: {
                  t: "long",
                  v: 60
              },
              Bl: {
                  t: "long",
                  v: 20
              },
              Mgnt: {
                  t: "long",
                  v: 80
              },
              useTint: {
                  t: "bool",
                  v: !0
              },
              tintColor: {
                  t: "Objc",
                  v: {
                      classID: "RGBC",
                      Rd: {
                          t: "doub",
                          v: 0
                      },
                      Grn: {
                          t: "doub",
                          v: 0
                      },
                      Bl: {
                          t: "doub",
                          v: 0
                      }
                  }
              }
          };
      if (n == "phfl")
          z = {
              __name: "Photo Filter",
              classID: "photoFilter",
              Clr: {
                  t: "Objc",
                  v: {
                      classID: "LbCl",
                      Lmnc: {
                          t: "doub",
                          v: 67.06
                      },
                      A: {
                          t: "doub",
                          v: 32
                      },
                      B: {
                          t: "doub",
                          v: 120
                      }
                  }
              },
              Dnst: {
                  t: "long",
                  v: 80
              },
              PrsL: {
                  t: "bool",
                  v: !0
              }
          };
      if (n == "grdm")
          z = {
              __name: "Gradient Map",
              classID: "GrMp",
              Rvrs: {
                  t: "bool",
                  v: !1
              },
              Grad: JSON.parse(g$.g$[6]).Grad
          };
      if (n == "selc")
          z = {
              __name: "Selective Color",
              classID: "SlcC",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindCustom"
                  }
              },
              Mthd: {
                  t: "enum",
                  v: {
                      CrcM: "Rltv"
                  }
              },
              ClrC: {
                  t: "VlLs",
                  v: []
              }
          };
      if (n == "thrs")
          z = {
              __name: "Threshold",
              classID: "Thrs",
              Lvl: {
                  t: "long",
                  v: 128
              }
          };
      if (n == "mixr")
          z = {
              __name: "Channel Mixer",
              classID: "ChnM",
              presetKind: {
                  t: "enum",
                  v: {
                      presetKindType: "presetKindDefault"
                  }
              },
              Rd: {
                  t: "Objc",
                  v: {
                      classID: "ChMx",
                      Rd: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 100
                          }
                      }
                  }
              },
              Grn: {
                  t: "Objc",
                  v: {
                      classID: "ChMx",
                      Grn: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 100
                          }
                      }
                  }
              },
              Bl: {
                  t: "Objc",
                  v: {
                      classID: "ChMx",
                      Bl: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 100
                          }
                      }
                  }
              }
          };
      if (n == "clrL")
          z = {
              __name: "Color Lookup",
              classID: "colorLookup"
          };
      if (n == "post")
          z = {
              __name: "Posterize",
              classID: "Pstr",
              Lvls: {
                  t: "long",
                  v: 3
              }
          };
      if (n == "rplc")
          z = {
              __name: "Replace Color",
              classID: "RplC",
              Fzns: {
                  t: "long",
                  v: 55
              },
              Mnm: {
                  t: "Objc",
                  v: {
                      classID: "LbCl",
                      Lmnc: {
                          t: "doub",
                          v: 73.1
                      },
                      A: {
                          t: "doub",
                          v: 23.95
                      },
                      B: {
                          t: "doub",
                          v: 8.03
                      }
                  }
              },
              Mxm: {
                  t: "Objc",
                  v: {
                      classID: "LbCl",
                      Lmnc: {
                          t: "doub",
                          v: 73
                      },
                      A: {
                          t: "doub",
                          v: 23
                      },
                      B: {
                          t: "doub",
                          v: 8
                      }
                  }
              },
              H: {
                  t: "long",
                  v: -22
              },
              Strt: {
                  t: "long",
                  v: 0
              },
              Lght: {
                  t: "long",
                  v: 0
              }
          };
      if (n == "fade")
          z = {
              __name: "Fade",
              classID: "fade",
              Opct: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 100
                  }
              },
              Md: {
                  t: "enum",
                  v: {
                      BlnM: "Nrml"
                  }
              }
          };
      if (n == "aply")
          z = {
              classID: "null",
              With: {
                  t: "Objc",
                  v: {
                      classID: "Clcl",
                      T: {
                          t: "obj ",
                          v: [{
                              t: "Enmr",
                              v: {
                                  classID: "Chnl",
                                  typeID: "Chnl",
                                  enum: "RGB"
                              }
                          }, {
                              t: "Enmr",
                              v: {
                                  classID: "Lyr",
                                  typeID: "Ordn",
                                  enum: "Mrgd"
                              }
                          }]
                      },
                      Invr: {
                          t: "bool",
                          v: !1
                      },
                      Clcl: {
                          t: "enum",
                          v: {
                              Clcn: "Nrml"
                          }
                      },
                      Opct: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 100
                          }
                      },
                      PrsT: {
                          t: "bool",
                          v: !1
                      }
                  }
              }
          };
      if (n == "blendOptions")
          z = {
              classID: "blendOptions",
              Opct: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 100
                  }
              },
              Md: {
                  t: "enum",
                  v: {
                      BlnM: "Nrml"
                  }
              }
          };
      return z
  }
  ;
  fd.QP = {
      sAdNs: function(n, z) {
          z[0] = n.Nose.v.val;
          z[1] = ["Gsn", "Unfr"].indexOf(n.Dstr.v.Dstr);
          z[2] = n.Mnch.v
      },
      gAdNs: function(n, z) {
          n.Nose.v.val = z[0];
          n.Dstr.v.Dstr = ["Gsn", "Unfr"][z[1]];
          n.Mnch.v = z[2]
      },
      sDstS: function(n, z) {
          z[0] = n.Rds.v;
          z[1] = n.Thsh.v
      },
      gDstS: function(n, z) {
          n.Rds.v = z[0];
          n.Thsh.v = z[1]
      },
      sGsnB: function(n, z) {
          z[0] = n.Rds.v.val
      },
      gGsnB: function(n, z) {
          n.Rds.v.val = z[0]
      },
      sHghP: function(n, z) {
          z[0] = n.Rds.v.val
      },
      gHghP: function(n, z) {
          n.Rds.v.val = z[0]
      },
      "sMxm ": function(n, z) {
          z[0] = n.Rds.v.val
      },
      "gMxm ": function(n, z) {
          n.Rds.v.val = z[0]
      },
      "sMnm ": function(n, z) {
          z[0] = n.Rds.v.val
      },
      "gMnm ": function(n, z) {
          n.Rds.v.val = z[0]
      },
      sMtnB: function(n, z) {
          z[0] = n.Angl.v;
          z[1] = n.Dstn.v.val
      },
      gMtnB: function(n, z) {
          n.Angl.v = typeof z[0] == "number" ? z[0] : z[0].tq;
          n.Dstn.v.val = z[1]
      },
      sOfst: function(n, z) {
          z[0] = n.Hrzn.v;
          z[1] = n.Vrtc.v;
          z[2] = ["Rpt", "Bckg", "Wrp"].indexOf(n.Fl.v.FlMd)
      },
      gOfst: function(n, z) {
          n.Hrzn.v = z[0];
          n.Vrtc.v = z[1];
          n.Fl.v.FlMd = ["Rpt", "Bckg", "Wrp"][z[2]]
      },
      sPnch: function(n, z) {
          z[0] = n.Amnt.v
      },
      gPnch: function(n, z) {
          n.Amnt.v = z[0]
      },
      "sPlr ": function(n, z) {
          z[0] = ["RctP", "PlrR"].indexOf(n.Cnvr.v.Cnvr)
      },
      "gPlr ": function(n, z) {
          n.Cnvr.v.Cnvr = ["RctP", "PlrR"][z[0]]
      },
      sRple: function(n, z) {
          z[0] = n.Amnt.v;
          z[1] = ["Sml", "Mdm", "Lrg"].indexOf(n.RplS.v.RplS)
      },
      gRple: function(n, z) {
          n.Amnt.v = z[0];
          n.RplS.v.RplS = ["Sml", "Mdm", "Lrg"][z[1]]
      },
      sTwrl: function(n, z) {
          z[0] = n.Angl.v
      },
      gTwrl: function(n, z) {
          n.Angl.v = z[0]
      },
      sZgZg: function(n, z) {
          z[0] = n.Amnt.v;
          z[1] = n.NmbR.v;
          z[2] = ["ArnC", "OtFr", "PndR"].indexOf(n.ZZTy.v.ZZTy)
      },
      gZgZg: function(n, z) {
          n.Amnt.v = z[0];
          n.NmbR.v = z[1];
          n.ZZTy.v.ZZTy = ["ArnC", "OtFr", "PndR"][z[2]]
      },
      sUnsM: function(n, z) {
          z[0] = n.Amnt.v.val;
          z[1] = n.Rds.v.val;
          z[2] = n.Thsh.v
      },
      gUnsM: function(n, z) {
          n.Amnt.v.val = z[0];
          n.Rds.v.val = z[1];
          n.Thsh.v = z[2]
      }
  };
  fd.a1$ = function(n) {
      var z = new ir(0,0);
      if (n.enab.v == !1)
          return z;
      var C = n.filterFXList.v;
      for (var M = 0; M < C.length; M++) {
          var D = C[M].v;
          if (D.enab.v == !1)
              continue;
          var F = fd.FE(D)
            , X = fd.lH(F, D.Fltr ? D.Fltr.v : null);
          if (X.x > z.x)
              z.x = X.x;
          if (X.y > z.y)
              z.y = X.y
      }
      return z
  }
  ;
  fd.lH = function(n, z) {
      var C = 0
        , D = 0;
      if (["GsnB", "boxblur", "smartSharpen", "UnsM", "HghP"].indexOf(n) != -1) {
          var F = z.Rds.v.val;
          C = D = F * 2.57
      }
      if (n == "MtnB")
          C = D = z.Dstn.v.val;
      if ("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm".split(",").indexOf(n) != -1) {
          C = D = 1e4
      }
      if (n == "GEfc")
          return g3.lH(z);
      return new ir(Math.ceil(C),Math.ceil(D))
  }
  ;
  fd._z = function() {
      return {
          t: "Objc",
          v: {
              classID: "filterFXStyle",
              enab: {
                  t: "bool",
                  v: !0
              },
              validAtPosition: {
                  t: "bool",
                  v: !0
              },
              filterMaskEnable: {
                  t: "bool",
                  v: !0
              },
              filterMaskLinked: {
                  t: "bool",
                  v: !0
              },
              filterMaskExtendWithWhite: {
                  t: "bool",
                  v: !0
              },
              filterFXList: {
                  t: "VlLs",
                  v: []
              }
          }
      }
  }
  ;
  fd.HB = function(n, z) {
      var C = {
          h: z.Du >> 16,
          Q: z.Du >> 8 & 255,
          O: z.Du & 255
      }
        , D = {
          h: z.ff >> 16,
          Q: z.ff >> 8 & 255,
          O: z.ff & 255
      }
        , F = fd.names[n];
      if (F == null)
          F = ad.names[n];
      var X = n;
      for (var E in ad.y7)
          if (ad.y7[E] == n)
              X = E;
      var f = {
          t: "Objc",
          v: {
              classID: "filterFX",
              Nm: {
                  t: "TEXT",
                  v: aC.get(F)
              },
              blendOptions: {
                  t: "Objc",
                  v: {
                      classID: "blendOptions",
                      Opct: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 100
                          }
                      },
                      Md: {
                          t: "enum",
                          v: {
                              BlnM: "Nrml"
                          }
                      }
                  }
              },
              enab: {
                  t: "bool",
                  v: !0
              },
              hasoptions: {
                  t: "bool",
                  v: !0
              },
              FrgC: {
                  t: "Objc",
                  v: j._.w9(C)
              },
              BckC: {
                  t: "Objc",
                  v: j._.w9(D)
              },
              filterID: {
                  t: "long",
                  v: X.length == 4 ? T.ane(X) : 777
              }
          }
      }
        , a = fd.zP(n);
      if (a)
          f.v.Fltr = {
              t: "Objc",
              v: a
          };
      return f
  }
  ;
  fd.oX = function(n, z, C, D, F, X, E, f) {
      var a = C * D * 4;
      j.LC.ahz(n, z, C, D, F, X, E)
  }
  ;
  fd.JF = function(n, z, C, D) {
      j.Wx(C);
      if (n < 1) {
          var F = Math.round(n * 5)
            , X = [1, 2, 1, 2, [40, 26, 13, 6, 4, 2][F], 2, 1, 2, 1];
          X = j.nI.lI(X);
          var E = C.slice(0);
          j.nI.jv(E, C, D.d, D.v, X, 255)
      } else
          z(C, D, n);
      j.Xi(C)
  }
  ;
  fd.a8H = function(n, z, C, D) {
      for (var M = 0; M < n.length; M++) {
          C[M] = n[M] * (1 / 255);
          D[M] = 0
      }
      FFT.fft2d(C, D);
      var F = z >>> 1
        , X = 16384
        , E = 128
        , a = 100;
      while (E < z) {
          E <<= 1;
          X <<= 2
      }
      var f = 255 / Math.log(X)
        , q = -100;
      for (var c = 0; c < z; c++)
          for (var K = 0; K < F; K++) {
              var R = z + F + c & z - 1
                , J = C[R * z + K]
                , w = D[R * z + K]
                , p = Math.sqrt(J * J + w * w)
                , I = Math.atan2(w, J);
              n[c * z + K] = Math.round(f * Math.log(p + 1));
              n[c * z + F + K] = Math.round((Math.PI + I) * (255 * .5 / Math.PI))
          }
  }
  ;
  fd.aaD = function(n, z, C, D) {
      C.fill(0);
      D.fill(0);
      var F = z >>> 1
        , X = 16384
        , E = 128;
      while (E < z) {
          E <<= 1;
          X <<= 2
      }
      var f = 255 / Math.log(X)
        , a = []
        , q = []
        , c = [];
      for (var M = 0; M < 256; M++) {
          a[M] = Math.exp(M / f) - 1;
          var K = M * (2 * Math.PI / 255) - Math.PI;
          q[M] = Math.sin(K);
          c[M] = Math.cos(K)
      }
      for (var R = 0; R < z; R++)
          for (var J = 0; J < F; J++) {
              var w = z + F + R & z - 1
                , p = a[n[R * z + J]]
                , K = n[R * z + F + J]
                , I = p * c[K]
                , m = p * q[K];
              C[w * z + J] = I;
              D[w * z + J] = m;
              if (J != 0) {
                  var A = w == 0 ? w * z + z - J : (z - w) * z + (z - J);
                  C[A] = I;
                  D[A] = -m
              }
          }
      FFT.ifft2d(C, D);
      for (var M = 0; M < n.length; M++) {
          n[M] = Math.max(0, Math.min(255, ~~(.5 + 255 * C[M])))
      }
  }
  ;
  fd.QM = new ArrayBuffer(512);
  fd.a28 = function(n) {
      var z = fd.QM
        , C = n.length;
      if (z.byteLength < C)
          fd.QM = z = new ArrayBuffer(C);
      var D = new Uint8Array(z);
      for (var M = 0; M < C; M += 4) {
          D[M] = n[M];
          D[M + 1] = n[M + 1];
          D[M + 2] = n[M + 2];
          D[M + 3] = n[M + 3]
      }
      return z
  }
  ;
  fd.o$ = function(n, z, C, D, F, X, E) {
      if (X == null)
          X = {
              buffer: j.T(z.buffer.length),
              rect: z.rect.clone()
          };
      j.YY(z.buffer, X.buffer);
      var f = C && C.RndS ? C.RndS.v >>> 1 : 0;
      if (n == "GEfc") {
          var a = [];
          if (C.GEfs) {
              var q = C.GEfs.v;
              for (var M = 0; M < q.length; M++) {
                  var c = q[M].v;
                  if (c.GELv && c.GELv.v == !1)
                      continue;
                  a.push(c)
              }
          } else
              a = [C];
          for (var M = 0; M < a.length; M++) {
              var K;
              if (M == 0)
                  g3.o$(n, z, a[M], D, F, X, E);
              else {
                  if (K == null)
                      K = {
                          buffer: j.T(z.buffer.length),
                          rect: z.rect.clone()
                      };
                  j.YY(X.buffer, K.buffer);
                  g3.o$(n, K, a[M], D, F, X, E)
              }
          }
      }
      if (n == "adaptCorrect") {
          var R = z.rect
            , J = R.d
            , w = R.v
            , p = J * w
            , I = p * 4
            , m = C.sdwM.v
            , A = m.Amnt.v.val / 100
            , U = m.Wdth.v.val / 100
            , r = m.Rds.v
            , $ = C.hglM.v
            , k = $.Amnt.v.val / 100
            , G = $.Wdth.v.val / 100
            , i = $.Rds.v;
          j.pF.ap0(z.buffer, X.buffer, J, w, A, U, r, k, G, i, C.ClrC.v / 100, C.Cntr.v / 100)
      }
      if (n == "Fbrs") {
          var R = z.rect
            , J = R.d
            , w = R.v;
          j.l.aat(z.buffer, J, w, X.buffer, [C.Vrnc.v, C.Strg.v, f]);
          var o = j.T(J * w);
          j.Ni(X.buffer, o, 0);
          j.eL(o);
          g3.Gm(o, X.buffer, D, F)
      }
      if (n == "Frgm") {
          var R = z.rect
            , J = R.d
            , w = R.v
            , S = z.buffer.slice(0);
          j.Wx(S);
          j.l.agQ(S, J, w, X.buffer);
          j.Xi(X.buffer)
      }
      if (n == "Dfs ") {
          var R = z.rect
            , J = R.d
            , w = R.v
            , H = ["Nrml", "DrkO", "LghO", "anisotropic"].indexOf(C.Md.v.DfsM);
          if (H < 3)
              j.l.ajN(z.buffer, J, w, X.buffer, [H]);
          else {
              var e = [1.4, 1.6, 1, 4, !1, 2, [0, 0, .001]]
                , R = z.rect.clone();
              R.x = R.y = 0;
              j.cx.filter(z.buffer, R, X.buffer, e)
          }
      }
      if (n == "TrcC") {
          var R = z.rect
            , J = R.d
            , V = J << 2
            , w = R.v
            , v = C.Lvl.v
            , B = C.Edg.v.CntE == "Lwr"
            , Z = z.buffer
            , d = X.buffer;
          j.xM(d, 16777215, 4278190080);
          function g(ab, h6) {
              y(ab, h6);
              y(ab + 1, h6 + 1);
              y(ab + 2, h6 + 2)
          }
          function Y(ab, h6) {
              L(ab, h6);
              L(ab + 1, h6 + 1);
              L(ab + 2, h6 + 2)
          }
          function y(ab, h6) {
              var fb = Z[ab]
                , c2 = Z[h6];
              if (fb >= v && c2 < v)
                  d[ab] = 0;
              if (fb < v && c2 >= v)
                  d[h6] = 0
          }
          function L(ab, h6) {
              var fb = Z[ab]
                , c2 = Z[h6];
              if (fb > v && c2 <= v)
                  d[h6] = 0;
              if (fb <= v && c2 > v)
                  d[ab] = 0
          }
          if (B)
              for (var b = 1; b < w; b++)
                  for (var x = 1; x < J; x++) {
                      var W = b * J + x << 2;
                      g(W, W - 4);
                      g(W, W - V)
                  }
          else
              for (var b = 1; b < w; b++)
                  for (var x = 1; x < J; x++) {
                      var W = b * J + x << 2;
                      Y(W, W - 4);
                      Y(W, W - V)
                  }
      }
      if (n == "Embs") {
          var R = z.rect
            , J = R.d
            , w = R.v
            , g6 = -C.Angl.v * Math.PI / 180
            , fY = C.Hght.v
            , f3 = C.Amnt.v / 100;
          fY /= 2;
          var hK = Math.cos(g6) * fY
            , s = Math.sin(g6) * fY
            , Z = z.buffer
            , d = X.buffer;
          d.fill(0);
          var P = new Uint32Array(Z.buffer)
            , aF = new Uint8Array(4)
            , fM = new Uint32Array(aF.buffer);
          for (var b = 0; b < w; b++)
              for (var x = 0; x < J; x++) {
                  var eA = 0
                    , e8 = 0
                    , eC = 0;
                  if (0 <= x + hK && x + hK < J && 0 <= b + s && b + s < w) {
                      j.V.AO(x + hK + .5, b + s + .5, P, J, w, fM, 0, 0);
                      eA += aF[0] - 128;
                      e8 += aF[1] - 128;
                      eC += aF[2] - 128
                  }
                  if (0 <= x - hK && x - hK < J && 0 <= b - s && b - s < w) {
                      j.V.AO(x - hK + .5, b - s + .5, P, J, w, fM, 0, 0);
                      eA -= aF[0] - 128;
                      e8 -= aF[1] - 128;
                      eC -= aF[2] - 128
                  }
                  var W = b * J + x << 2;
                  d[W] = Math.max(0, Math.min(255, eA * f3 + 128));
                  d[W + 1] = Math.max(0, Math.min(255, e8 * f3 + 128));
                  d[W + 2] = Math.max(0, Math.min(255, eC * f3 + 128));
                  d[W + 3] = Z[W + 3]
              }
      }
      if (n == "ShrE") {
          var R = z.rect
            , J = R.d
            , w = R.v;
          j.l.alS(z.buffer, J, w, X.buffer)
      }
      if (n == "Dspc") {
          var R = z.rect
            , J = R.d
            , w = R.v;
          j.l.aeP(z.buffer, J, w, X.buffer)
      }
      if (n == "Slrz") {
          var cy = X.buffer
            , aX = 128;
          for (var M = 0; M < cy.length; M += 4) {
              if (cy[M] > aX)
                  cy[M] = 255 - cy[M];
              if (cy[M + 1] > aX)
                  cy[M + 1] = 255 - cy[M + 1];
              if (cy[M + 2] > aX)
                  cy[M + 2] = 255 - cy[M + 2]
          }
      }
      if (n == "Wnd ") {
          var R = z.rect
            , J = R.d
            , w = R.v
            , j0 = ["Wnd", "Blst", "Stgr"]
            , aT = C.WndM.v.WndM;
          j.l.gA(z.buffer, J, w, X.buffer, [j0.indexOf(aT), C.Drct.v.Drct != "Left"])
      }
      if (n == "Bokh") {
          var R = z.rect
            , J = R.d
            , w = R.v
            , p = J * w
            , I = p * 4
            , a4 = z.buffer.slice(0)
            , f8 = C.BkDi.v.BtDi
            , b3 = C.BkDc
            , gh = C.BkDp.v / 255;
          if (f8 == "BeIn")
              gh = 0;
          var cZ = 57 * (.3 + .7 * ((J + w) / 2) / 1750) * (C.BkIb.v / 100) * (1 + .2 * Math.pow(gh, .1))
            , h = parseInt(C.BkIs.v.BtIs.slice(3))
            , h3 = -C.BkIr.v * Math.PI / 180
            , ew = [];
          for (var M = 0; M < 8; M++) {
              var dy = h3 + M * (Math.PI * 2 / h)
                , fx = h3 + (M + 1) * (Math.PI * 2 / h)
                , bo = Math.cos(dy)
                , hd = Math.sin(dy)
                , gT = Math.cos(fx)
                , du = Math.sin(fx)
                , bk = [0, 0, 0];
              j.A1.jU([[bo, hd, 1, 0], [gT, du, 1, 0], [1, 1, 1, 1]], bk);
              if (bk[2] > 0) {
                  bk[0] *= -1;
                  bk[1] *= -1;
                  bk[2] *= -1
              }
              ew.push(bk[0], bk[1], bk[2], 0)
          }
          if (f8 == "BeIn") {
              j.xM(a4, 0, 16777215);
              gh = 1
          } else if (f8 == "BeIt" && b3.v.BtDc == "BeCt") {} else {
              var i8;
              if (f8 == "BeIt" && b3.v.BtDc == "BeCm")
                  i8 = E[1];
              else if (f8 == "BeIa")
                  i8 = E[2][b3.v];
              if (i8 == null) {
                  j.xM(a4, 0, 16777215)
              } else {
                  var en;
                  if (i8.rect.jm(R))
                      en = i8.channel;
                  else
                      en = i8.CK(R);
                  j.bl(en, a4, 3)
              }
          }
          if (N.O3) {
              var dW = a4
                , ix = J
                , dU = w
                , hN = 1
                , a1 = (C.BkSb.v == 0 || C.BkSt.v == 255) && f8 == "BeIn";
              if (!a1) {
                  var hk = 0;
                  for (var M = 0; M < I; M += 4)
                      hk += Math.abs(gh - a4[M + 3] * (1 / 255));
                  hk = hk / p * cZ;
                  var ax = 3.14 * hk * hk * J * w / 3e6;
                  if (ax > 2e3) {
                      alert("too large radius");
                      return
                  }
              }
              while (a1 && 3 * (cZ / hN) * (cZ / hN) * J * w > 500 * 2e3 * 2e3) {
                  var ej = j.V0(a4, new cc(0,0,ix,dU));
                  a4 = ej.oz;
                  ix = ej.rect.d;
                  dU = ej.rect.v;
                  hN *= 2
              }
              var bz = Date.now()
                , fq = N.kd(0, ix, dU);
              fq.set(a4);
              var cg = N.kd(1, J, w);
              N.CX(cg);
              N.filter.u$({
                  type: N.filter._0,
                  d8: new Float32Array([1 / ix, 1 / dU]),
                  afa: gh,
                  apv: cZ / hN,
                  aj7: new Float32Array([C.BkSb.v / 100, C.BkSt.v / 255]),
                  a54: new Float32Array([C.BkNa.v / 100, C.BkNt.v.BtNt == "BeNu" ? 0 : 1, C.BkNm.v ? 1 : 0]),
                  aav: new Float32Array(ew.slice(0, 16)),
                  abJ: new Float32Array(ew.slice(16))
              }, fq.S9);
              cg.get(X.buffer);
              var iw = X.buffer;
              for (var M = 0; M < I; M += 4)
                  iw[M + 3] = z.buffer[M + 3]
          }
      }
      if (n == "rigidTransform") {
          var bz = Date.now()
            , fD = fd.a28
            , fq = z.buffer.slice(0)
            , ay = 0
            , c$ = 0;
          j.Wx(fq);
          j.xM(X.buffer, 0);
          var J = z.rect.d
            , w = z.rect.v
            , g8 = C.puppetShapeList.v
            , ap = []
            , c8 = []
            , dS = []
            , iK = [];
          for (var gP = 0; gP < g8.length; gP++) {
              var d0 = g8[gP].v
                , ff = ay * 2
                , ci = c$ * 3
                , gL = d0.originalVertexArray.v.length >>> 2
                , gw = d0.indexArray.v.length >>> 2
                , hX = new Float32Array(fD(d0.originalVertexArray.v));
              for (var M = 0; M < gL; M++)
                  ap[ff + M] = hX[M];
              var bm = new Float32Array(fD(d0.deformedVertexArray.v));
              for (var M = 0; M < gL; M++)
                  c8[ff + M] = bm[M];
              var hl = new Uint32Array(fD(d0.indexArray.v));
              for (var M = 0; M < gw; M++)
                  dS[ci + M] = ay + hl[M];
              var b0 = []
                , i3 = []
                , cp = d0.PnDp.v;
              for (var M = 0; M < cp.length; M++) {
                  b0.push(d0.pinVertexIndices.v[M].v);
                  i3.push(cp[M].v)
              }
              var eR = j.Hl.a0p(hX, hl, b0, i3);
              for (var M = 0; M < eR.length; M++)
                  iK[ay + M] = eR[M];
              ay += gL >>> 1;
              c$ += ~~(gw / 3)
          }
          var hm = z.rect
            , J = hm.d
            , w = hm.v;
          j.Hl.PX(fq, J, w, X.buffer, J, w, ap, c8, iK, dS);
          j.Xi(X.buffer)
      }
      if (n == "lightFilterGradient") {
          function aK(dh) {
              var fb = 1 / Math.sqrt(dh[0] * dh[0] + dh[1] * dh[1] + dh[2] * dh[2]);
              dh[0] *= fb;
              dh[1] *= fb;
              dh[2] *= fb
          }
          var J = z.rect.d
            , w = z.rect.v
            , p = J * w
            , bz = Date.now()
            , gc = j.T(p)
            , c2 = .3
            , eN = .7;
          j.Fd(X.buffer, gc);
          var ii = j.T(p);
          j.Y7.c_(gc, ii, X.rect, 16);
          var fU = j.T(p);
          j.Y7.c_(gc, fU, X.rect, 8);
          var io = gc
            , cJ = new Float32Array(p)
            , eI = C.Dtl.v
            , hV = eI[2].v
            , bc = eI[1].v
            , f2 = eI[0].v
            , dK = C.Scl.v * 40 * C.textureScale.v / (hV + bc + f2);
          hV *= dK;
          bc *= dK;
          f2 *= dK;
          for (var M = 0; M < p; M++) {
              var fJ = ii[M] * (1 / 255)
                , f6 = fU[M] * (1 / 255)
                , db = io[M] * (1 / 255);
              db = db * db;
              cJ[M] = hV * fJ + bc * f6 + f2 * db
          }
          var ds = C.blur.v;
          if (ds != 0) {
              var fa = cJ.slice(0);
              j.Y7.el(fa, cJ, X.rect, ds)
          }
          var go = J - 1
            , hL = w - 1;
          for (var b = 1; b < hL; b++)
              for (var x = 1; x < go; x++) {
                  var M = b * J + x
                    , W = M * 4
                    , dA = cJ[M]
                    , hK = c2 * (cJ[M + 1] - dA) + eN * (dA - cJ[M - 1])
                    , s = c2 * (cJ[M + J] - dA) + eN * (dA - cJ[M - J])
                    , dh = [1, 0, hK]
                    , i5 = [0, 1, s];
                  aK(dh);
                  aK(i5);
                  var fx = dh[0]
                    , dq = dh[2]
                    , dc = i5[1]
                    , i7 = i5[2]
                    , gZ = -dq * dc
                    , hh = -fx * i7
                    , h4 = fx * dc;
                  X.buffer[W] = ~~(127.5 + gZ * 127.5);
                  X.buffer[W + 1] = ~~(127.5 + hh * 127.5);
                  X.buffer[W + 2] = ~~(127.5 + h4 * 127.5)
              }
      }
      if (n == "dDFT" || n == "iDFT") {
          function iU(h) {
              if (h == 0)
                  return 1;
              h--;
              h |= h >> 1;
              h |= h >> 2;
              h |= h >> 4;
              h |= h >> 8;
              h |= h >> 16;
              return h + 1
          }
          var J = z.rect.d
            , w = z.rect.v
            , h_ = iU(Math.max(J, w))
            , hS = h_ >>> 1
            , cR = new cc(0,0,h_,h_)
            , hP = new cc(0,0,J,w);
          hP.y = h_ - w >>> 1;
          var e2 = J >>> 1
            , bS = new cc(0,hP.y,e2,w)
            , iR = new j.Dv(J * w);
          j.I6(z.buffer, iR);
          var ba = new Float64Array(h_ * h_)
            , bE = new Float64Array(h_ * h_)
            , en = j.T(h_ * h_);
          FFT.init(h_);
          var gj = [iR.h, iR.Q, iR.O];
          for (var M = 0; M < 3; M++) {
              var ec = gj[M];
              en.fill(0);
              if (n == "dDFT") {
                  j.v8(ec, hP, en, cR);
                  fd.a8H(en, h_, ba, bE);
                  j.v8(en, cR, ec, hP, bS);
                  bS.x += e2;
                  cR.x -= hS - e2;
                  j.v8(en, cR, ec, hP, bS);
                  bS.x -= e2;
                  cR.x += hS - e2
              } else {
                  j.v8(ec, hP, en, cR, bS);
                  bS.x += hS;
                  hP.x += hS - e2;
                  j.v8(ec, hP, en, cR, bS);
                  bS.x -= hS;
                  hP.x -= hS - e2;
                  fd.aaD(en, h_, ba, bE);
                  j.v8(en, cR, ec, hP)
              }
          }
          j.JD(iR, X.buffer)
      }
      if (n == "Avrg") {
          var dI = 0
            , dp = 0
            , az = 0
            , cI = 0
            , df = 1;
          for (var M = 0; M < z.buffer.length; M += 4) {
              var cU = z.buffer[M + 3];
              az += z.buffer[M] * cU;
              dp += z.buffer[M + 1] * cU;
              dI += z.buffer[M + 2] * cU;
              cI += cU
          }
          var ce = 1 / cI;
          dI = Math.round(df * (dI * ce) + (1 - df) * 255);
          dp = Math.round(df * (dp * ce) + (1 - df) * 255);
          az = Math.round(df * (az * ce) + (1 - df) * 255);
          j.xM(X.buffer, dI << 16 | dp << 8 | az, 4278190080)
      }
      if (["GsnB", "boxblur", "smartSharpen", "UnsM", "HghP"].indexOf(n) != -1) {
          var gf = C.Rds.v.val
            , hw = n == "boxblur" ? j.Y7.UW : j.Y7.a4h;
          fd.JF(gf, hw, X.buffer, X.rect);
          if (n == "UnsM" || n == "smartSharpen") {
              var f3 = C.Amnt.v.val / 100
                , fI = 0;
              if (n == "UnsM")
                  fI = C.Thsh.v;
              else
                  f3 *= .75;
              for (var M = 0; M < z.buffer.length; M++) {
                  if ((M & 3) == 3) {
                      X.buffer[M] = z.buffer[M];
                      continue
                  }
                  var cA = z.buffer[M]
                    , bH = X.buffer[M]
                    , dT = f3 * (cA - bH);
                  if (dT > 0)
                      dT = Math.max(0, dT - fI);
                  else
                      dT = Math.min(0, dT + fI);
                  X.buffer[M] = Math.max(0, Math.min(255, cA + dT))
              }
          }
          if (n == "HghP")
              for (var M = 0; M < z.buffer.length; M++) {
                  if ((M & 3) == 3) {
                      X.buffer[M] = z.buffer[M];
                      continue
                  }
                  var cA = z.buffer[M]
                    , bH = X.buffer[M];
                  X.buffer[M] = Math.max(0, Math.min(255, 128 + cA - bH))
              }
      }
      if (n == "surfaceBlur") {
          var hm = C.Rds.v.val
            , i4 = C.Thsh.v
            , J = z.rect.d
            , w = z.rect.v;
          fd.oX(z.buffer, X.buffer, J, w, hm, j.LC.QL, [i4], 2)
      }
      if (n == "AdNs") {
          var dE = new Uint8ClampedArray(X.buffer.buffer), hn = 255 * C.Nose.v.val / 100, hM;
          if (C.Dstr.v.Dstr == "Gsn")
              hM = function() {
                  return (Math.random() + Math.random() + Math.random() + Math.random() - 2) * 2
              }
              ;
          else
              hM = function() {
                  return Math.random() * 2 - 1
              }
              ;
          for (var M = 0; M < dE.length; M += 4) {
              var hm = dE[M], fo = dE[M + 1], an = dE[M + 2], cO, el, eZ;
              if (C.Mnch.v) {
                  cO = el = eZ = hM()
              } else {
                  cO = hM();
                  el = hM();
                  eZ = hM()
              }
              hm += hn * cO;
              fo += hn * el;
              an += hn * eZ;
              dE[M] = hm;
              dE[M + 1] = fo;
              dE[M + 2] = an
          }
      }
      if (n == "Mdn " || n == "DstS" || n == "Mxm " || n == "Mnm ") {
          var hm = 0;
          if (n == "Mdn " || n == "Mxm " || n == "Mnm ")
              hm = C.Rds.v.val;
          if (n == "DstS")
              hm = C.Rds.v;
          j.LC.l0 = .5;
          var hw = j.LC.FK;
          if (n == "Mxm ")
              hw = j.LC.bH;
          if (n == "Mnm ")
              hw = j.LC.pN;
          var J = z.rect.d
            , w = z.rect.v
            , e4 = {
              "Mdn ": 0,
              "Mxm ": 1,
              "Mnm ": 1,
              DstS: 2
          }[n];
          fd.oX(z.buffer, X.buffer, J, w, hm, hw, [], e4);
          if (n == "DstS") {
              var i4 = C.Thsh.v;
              for (var M = 0; M < J * w * 4; M++) {
                  var b9 = Math.abs(z.buffer[M] - X.buffer[M]);
                  if (b9 <= i4)
                      X.buffer[M] = z.buffer[M]
              }
          }
      }
      if (n == "ClrH") {
          var bS = z.rect.clone();
          bS.x = bS.y = 0;
          var hm = C.Rds.v;
          hm = Math.round(hm * Math.sqrt(2));
          var J = bS.d
            , w = bS.v
            , iR = new j.Dv(J * w);
          j.I6(z.buffer, iR);
          j.eL(iR.h);
          j.eL(iR.Q);
          j.eL(iR.O);
          var iI = l.w("canvas", "");
          iI.width = J;
          iI.height = w;
          var i6 = iI.getContext("2d")
            , iw = j.T(J * w * 4);
          for (var iL = 0; iL < 3; iL++) {
              var en = iL == 0 ? iR.h : iL == 1 ? iR.Q : iR.O
                , g6 = Math.PI * C["Ang" + (iL + 1)].v / 180
                , e1 = new b6(1 / hm,0,0,1 / hm,0,0);
              e1.rotate(g6);
              j.bl(en, iw, 3);
              var aF = O.o.QQ([iw, bS], e1, !0)
                , hP = aF.rect;
              i6.clearRect(0, 0, J, w);
              var ea = Math.sin(g6)
                , bw = Math.cos(g6);
              for (var M = 0; M < hP.v; M++)
                  for (var bn = 0; bn < hP.d; bn++) {
                      var x = (bn + hP.x + .5) * hm
                        , b = (M + hP.y + .5) * hm
                        , dN = x
                        , gl = b;
                      x = bw * dN - ea * gl;
                      b = ea * dN + bw * gl;
                      var p = aF.buffer[(M * hP.d + bn << 2) + 3] * (1 / 255)
                        , gf = hm * Math.sqrt(p * (1 / Math.PI));
                      i6.beginPath();
                      i6.arc(x, b, gf, 0, 2 * Math.PI);
                      i6.fill()
                  }
              var es = i6.getImageData(0, 0, J, w);
              j.Ni(es.data, en, 3)
          }
          j.eL(iR.h);
          j.eL(iR.Q);
          j.eL(iR.O);
          j.JD(iR, X.buffer)
      }
      if (n == "Crst" || n == "Pntl") {
          var J = z.rect.d
            , w = z.rect.v
            , hw = n == "Crst" ? j.D3.a5Z : j.D3.ans;
          hw(z.buffer, J, w, X.buffer, C.ClSz.v, [Math.round(F.h), Math.round(F.Q), Math.round(F.O)])
      }
      if (n == "Mztn") {
          var J = z.rect.d
            , w = z.rect.v
            , p = J * w
            , iR = new j.Dv(p)
            , hj = [iR.h, iR.Q, iR.O];
          j.I6(z.buffer, iR);
          var aT = C.MztT.v.MztT
            , ep = {
              FnDt: [.1, 0, .3, 1.4],
              MdmD: [.9, 0, .1, 1.4],
              GrnD: [3, 0, .2, 1.4],
              CrsD: [7, 0, .1, 1.4],
              ShrL: [0, 10, .16, 3],
              MdmL: [0, 22, .06, 3],
              LngL: [0, 25, .01, 4.5],
              ShSt: [3, 10, .05, 4.4],
              MdmS: [4, 25, .15, 4],
              LngS: [4, 30, .05, 4]
          }[aT]
            , bz = Date.now()
            , hp = [];
          for (var M = 0; M < p; M++) {
              hp[M] = Math.random()
          }
          var p = J * w
            , hH = Math.round(p * ep[0])
            , f_ = p - J - 1;
          for (var M = 0; M < hH; M++) {
              var eH = Math.random()
                , bF = 1;
              if (eH < .5) {
                  bF = J;
                  eH *= 2
              } else
                  eH = 2 * (eH - .5);
              var ab = Math.floor(eH * f_)
                , h6 = ab + bF;
              hp[ab] = hp[h6]
          }
          var bN = Math.round(J * ep[1]);
          for (var b = 0; b < w; b++)
              for (var M = 0; M < bN; M++) {
                  var eH = j.$.WP(b * p + M)
                    , ab = b * J + Math.floor(eH * (J - 1));
                  hp[ab] = hp[ab + 1]
              }
          var dR = new Float64Array(256);
          for (var M = 0; M < 256; M++) {
              var cw = M / 255
                , bb = 2 * (cw < .5 ? cw : 1 - cw);
              bb = ep[2] + Math.pow(bb, ep[3]) * (1 - ep[2]);
              cw = cw < .5 ? bb * .5 : 1 - bb * .5;
              dR[M] = cw
          }
          for (var g4 = 0; g4 < 3; g4++) {
              var en = hj[g4];
              for (var b = 0; b < w; b++) {
                  for (var x = 0; x < J; x++) {
                      var M = b * J + x
                        , e7 = en[M]
                        , cw = dR[e7]
                        , eH = hp[M];
                      en[M] = eH > cw ? 0 : 255
                  }
              }
          }
          j.JD(iR, X.buffer)
      }
      if (n == "Msc ") {
          var e0 = C.ClSz.v.val
            , J = z.rect.d
            , w = z.rect.v
            , iE = Math.ceil(J / e0)
            , gu = Math.ceil(w / e0)
            , ck = j.T(iE * gu * 4);
          j.scale.nx(z.buffer, J, w, ck, iE, gu, 1 / e0);
          j.scale.nx(ck, iE, gu, X.buffer, J, w, e0)
      }
      if (n == "Clds" || n == "DfrC") {
          var J = X.rect.d
            , w = X.rect.v
            , p = J * w
            , gm = j.T(p);
          if (n == "Clds")
              j.xM(X.buffer, 4278190080);
          var bA = j.T(256 * 4);
          for (var M = 0; M < 256; M++) {
              var W = M << 2
                , aZ = M / 255
                , hl = 1 - aZ;
              bA[W] = Math.round(aZ * D.h + hl * F.h);
              bA[W + 1] = Math.round(aZ * D.Q + hl * F.Q);
              bA[W + 2] = Math.round(aZ * D.O + hl * F.O)
          }
          j.l.ajx(z.buffer, J, w, gm);
          var b4 = X.buffer;
          for (var M = 0; M < p; M++) {
              var W = M << 2
                , g4 = gm[M] << 2
                , hm = bA[g4]
                , fo = bA[g4 + 1]
                , an = bA[g4 + 2];
              if (n == "Clds") {
                  b4[W] = hm;
                  b4[W + 1] = fo;
                  b4[W + 2] = an
              } else {
                  b4[W] = Math.abs(b4[4 * M] - hm);
                  b4[W + 1] = Math.abs(b4[4 * M + 1] - fo);
                  b4[W + 2] = Math.abs(b4[4 * M + 2] - an)
              }
          }
      }
      if (n == "LnsF") {
          var J = z.rect.d
            , w = z.rect.v
            , aT = ["Zm", "Nkn", "Nkn1", "PnVs"].indexOf(C.Lns.v.Lns)
            , ft = C.FlrC.v
            , ah = [Math.min(aT, 2), C.Brgh.v / 100, ft.Hrzn.v, ft.Vrtc.v]
            , bz = Date.now();
          j.afV(z.buffer, J, w, X.buffer, ah)
      }
      var bl = ["Blr ", "BlrM", "Shrp", "ShrM"].indexOf(n);
      if (bl != -1) {
          var iB = bl > 1
            , J = z.rect.d
            , w = z.rect.v
            , gU = j.nI.Bk[bl]
            , dH = z.buffer.slice(0);
          if (!iB)
              j.Wx(dH);
          j.nI.jv(dH, X.buffer, J, w, gU, 255, !1, iB);
          if (!iB)
              j.Xi(X.buffer)
      }
      if (n == "MtnB") {
          var dP = -C.Angl.v * Math.PI / 180
            , b8 = C.Dstn.v.val / 2
            , bz = Date.now()
            , J = z.rect.d
            , w = z.rect.v
            , R = z.rect.clone();
          R.x = R.y = 0;
          if (N.O3) {
              var bz = Date.now()
                , cE = X.buffer;
              cE.set(z.buffer);
              j.Wx(cE);
              var hD = N.kd(0, J, w);
              hD.set(cE);
              var Z = j.T(4);
              Z[0] = Math.round(128 + 127 * Math.cos(dP));
              Z[1] = Math.round(128 + 127 * Math.sin(dP));
              new Uint32Array(cE.buffer).fill(new Uint32Array(Z.buffer)[0]);
              var b1 = N.kd(1, J, w);
              b1.set(cE);
              N.CX(hD, R);
              hD.rJ(R);
              N.filter.u$({
                  type: N.filter.QS,
                  _P: b1.S9,
                  d8: new Float32Array([1 / J, 1 / w]),
                  abt: b8 / 2,
                  adj: 1
              }, hD.fa);
              hD.get(cE);
              j.Xi(cE)
          } else {
              var e1 = new b6;
              e1.rotate(dP);
              var aF = O.o.QQ([z.buffer, z.rect], e1, !1, null, !0);
              fd.JF(b8, j.Y7.Vt, aF.buffer, aF.rect);
              e1.eL();
              aF = O.o.QQ([aF.buffer, aF.rect], e1, !1, X.buffer.buffer, !0, X.rect)
          }
          console.log(Date.now() - bz)
      }
      if (n == "RdlB") {
          var J = z.rect.d
            , w = z.rect.v
            , f3 = C.Amnt.v
            , dj = C.BlrM.v.BlrM == "Zm"
            , iL = C.Cntr.v
            , gI = iL.Hrzn.v
            , eE = iL.Vrtc.v
            , hK = Math.max(gI, 1 - gI) * J
            , s = Math.max(eE, 1 - eE) * w
            , gf = Math.sqrt(hK * hK + s * s)
            , hI = 2 * Math.PI * gf * 1.5
            , dv = Math.round(hI)
            , er = Math.round(gf)
            , bS = new cc(0,0,dv,er)
            , bu = j.T(dv * er * 4)
            , fT = dj ? 4 : 1
            , il = dj ? .6 : 8 * ((J + w) / 2) / 1400
            , de = .1
            , hN = 1
            , bd = 1;
          j.V.u_(z.buffer, J, w, bu, dv, er, gI, eE, fT, de, hN, bd);
          var eg = dj ? j.T(dv * er * 4) : null;
          if (dj) {
              j.V._w(bu, eg, dv, er);
              var dL = eg;
              eg = bu;
              bu = dL;
              bS.d = er;
              bS.v = dv
          }
          fd.JF(il * f3, j.Y7.Vt, bu, bS);
          if (dj) {
              j.V._w(bu, eg, er, dv);
              var dL = eg;
              eg = bu;
              bu = dL;
              bS.d = dv;
              bS.v = er
          }
          j.V.VK(bu, dv, er, X.buffer, J, w, gI, eE, fT, de, hN, bd)
      }
      if (n == "Plr ") {
          var J = z.rect.d
            , w = z.rect.v;
          if (C.Cnvr.v.Cnvr == "RctP")
              j.V.VK(z.buffer, J, w, X.buffer, J, w, .5, .5, 1, 0, 2, J / w);
          else
              j.V.u_(z.buffer, J, w, X.buffer, J, w, .5, .5, 1, 0, 2, J / w)
      }
      if (n == "FndE") {
          var J = z.rect.d
            , w = z.rect.v;
          j.nI.RK(z.buffer, X.buffer, J, w)
      }
      if (n == "oilPaint") {
          var g6 = C.LghD.v * Math.PI / 180
            , cv = [Math.cos(g6), Math.sin(g6), .001]
            , e = [C.stylization.v, C.cleanliness.v, C.brushScale.v, C.microBrush.v, C.lightingOn.v, C.specularity.v, cv]
            , R = z.rect.clone();
          R.x = R.y = 0;
          j.cx.filter(z.buffer, R, X.buffer, e)
      }
      if (n == "Ofst") {
          var J = z.rect.d
            , w = z.rect.v
            , dQ = new Uint32Array(z.buffer.buffer)
            , bQ = new Uint32Array(X.buffer.buffer)
            , dN = C.Hrzn.v
            , gl = C.Vrtc.v
            , hF = C.Fl.v.FlMd;
          j.xM(bQ, 0);
          if (hF == "Bckg" || hF == "Rpt") {
              var bS = z.rect.clone();
              bS.offset(dN, gl);
              j.X3(dQ, bS, bQ, X.rect)
          }
          if (hF == "Rpt") {
              var bo, hd, gT, du, ai;
              dN = Math.max(-J, Math.min(J, dN));
              gl = Math.max(-w, Math.min(w, gl));
              bo = dN > 0 ? dN : 0;
              gT = dN > 0 ? J : J + dN;
              hd = gl > 0 ? 0 : gl + w;
              du = gl > 0 ? gl : w;
              ai = gl > 0 ? 0 : J * (w - 1);
              for (var b = hd; b < du; b++)
                  for (var x = bo; x < gT; x++)
                      bQ[b * J + x] = dQ[ai + x - dN];
              bo = dN > 0 ? 0 : J + dN;
              gT = dN > 0 ? dN : J;
              hd = gl > 0 ? gl : 0;
              du = gl > 0 ? w : w + gl;
              ai = dN > 0 ? 0 : J - 1;
              for (var b = hd; b < du; b++)
                  for (var x = bo; x < gT; x++)
                      bQ[b * J + x] = dQ[ai + J * (b - gl)];
              if (dN >= 0 && gl >= 0) {
                  bo = 0;
                  gT = dN;
                  hd = 0;
                  du = gl;
                  ai = 0
              }
              if (dN >= 0 && gl < 0) {
                  bo = 0;
                  gT = dN;
                  hd = w + gl;
                  du = w;
                  ai = J * (w - 1)
              }
              if (dN < 0 && gl >= 0) {
                  bo = J + dN;
                  gT = J;
                  hd = 0;
                  du = gl;
                  ai = J - 1
              }
              if (dN < 0 && gl < 0) {
                  bo = J + dN;
                  gT = J;
                  hd = w + gl;
                  du = w;
                  ai = J * w - 1
              }
              for (var b = hd; b < du; b++)
                  for (var x = bo; x < gT; x++)
                      bQ[b * J + x] = dQ[ai]
          }
          if (hF == "Wrp") {
              dN = (dN + 100 * J) % J;
              gl = (gl + 100 * w) % w;
              var bS = new cc(dN - J,gl - w,J,w);
              j.X3(dQ, bS, bQ, X.rect);
              bS.offset(J, 0);
              j.X3(dQ, bS, bQ, X.rect);
              bS.offset(0, w);
              j.X3(dQ, bS, bQ, X.rect);
              bS.offset(-J, 0);
              j.X3(dQ, bS, bQ, X.rect)
          }
      }
      if (n == "Rept") {
          var cu = C.Rsft.v.val / 100
            , cF = C.SpcX.v.val / 100;
          cF = Math.max(cF, -.99);
          var fB = C.SpcY.v.val / 100;
          fB = Math.max(fB, -.99);
          var hN = C.Scl.v.val / 100
            , e1 = new b6;
          e1.rotate(C.Angl.v * Math.PI / 180);
          e1.scale(hN, hN);
          var eK = {
              buffer: z.buffer,
              rect: z.rect
          };
          j.iw(eK);
          if (eK.rect.kX()) {
              eK.buffer = z.buffer;
              eK.rect = z.rect
          }
          var b4 = eK.buffer
            , bS = eK.rect
            , bK = j.xk(b4, bS, 0)
            , gx = new Uint32Array(b4.buffer)[0];
          if (!bK.kX() && !bK.jm(bS)) {
              var d5 = j.T(bK.t() * 4);
              j.X3(b4, bS, d5, bK);
              b4 = d5;
              bS = bK
          }
          bS.x = bS.y = 0;
          gx = cF == 0 && fB == 0 || C.SpcC.v ? gx : 0;
          function e9(x) {
              return x < 0 ? Math.ceil(x) : Math.floor(x)
          }
          var aR = e1.JT(new ir(bS.d,0));
          aR.x = e9(aR.x);
          aR.y = e9(aR.y);
          var hA = e1.JT(new ir(0,bS.v));
          hA.x = e9(hA.x);
          hA.y = e9(hA.y);
          var aF = O.o.QQ([b4, bS], e1, !1)
            , hP = aF.rect
            , d = aF.buffer
            , fs = Math.round(hP.x)
            , br = Math.round(hP.y)
            , cV = Math.max(X.rect.d, X.rect.v) / Math.min(bS.d * hN * (1 + cF), bS.v * hN * (1 + fB));
          cV = Math.ceil(cV * 1.7);
          j.xM(X.buffer, gx);
          for (var b = -cV; b < cV; b++) {
              for (var x = -cV; x < cV; x++) {
                  var iM = (x + b * cu) * (1 + cF)
                    , hC = b * (1 + fB);
                  hP.x = fs + Math.round(iM * aR.x + hC * hA.x);
                  hP.y = br + Math.round(iM * aR.y + hC * hA.y);
                  if (hP.vE(X.rect))
                      j.$.xN("norm", d, hP, X.buffer, X.rect, hP, 1)
              }
          }
      }
      if (n == "Ctoa") {
          var F = j._.Jo(C.Clr.v)
            , i4 = C.Trsp.v.val / 100
            , eD = C.Opct.v.val / 100;
          i4 = eD == 0 ? 0 : i4 / eD;
          var J = z.rect.d
            , w = z.rect.v
            , fA = ~~F.h
            , eF = ~~F.Q
            , h7 = ~~F.O
            , ai = z.buffer
            , hs = X.buffer;
          for (var b = 0; b < w; b++)
              for (var x = 0; x < J; x++) {
                  var M = b * J + x
                    , W = M << 2
                    , bS = ai[W]
                    , fP = ai[W + 1]
                    , b4 = ai[W + 2]
                    , hg = Math.abs(fA - bS)
                    , aE = Math.abs(eF - fP)
                    , h1 = Math.abs(h7 - b4)
                    , fi = Math.max(hg, aE, h1) * (1 / 255);
                  fi = Math.max(0, Math.min(1, fi / eD));
                  var dF = fi == 0 ? 0 : 1 / fi
                    , a2 = i4 == 1 ? 1 : Math.max(0, Math.min(1, (fi - i4) / (1 - i4)));
                  hs[W] = Math.max(0, Math.min(255, (bS - fA * (1 - fi)) * dF));
                  hs[W + 1] = Math.max(0, Math.min(255, (fP - eF * (1 - fi)) * dF));
                  hs[W + 2] = Math.max(0, Math.min(255, (b4 - h7 * (1 - fi)) * dF));
                  hs[W + 3] = ~~(.5 + a2 * 255)
              }
      }
      if ("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg".split(",").indexOf(n) != -1) {
          var hv = E[0], J = z.rect.d, w = z.rect.v, dR, bV = 0;
          if (n == "LqFy")
              dR = gE.vC(new Uint8Array(C.LqMe.v).buffer);
          else {
              var ae = 3;
              dR = {
                  ob: Math.floor(J / ae),
                  ua: Math.floor(w / ae)
              };
              dR.map = new Float32Array(dR.ob * dR.ua * 2);
              if (n == "LnCr") {
                  var gI = .5 * (dR.ob - 1)
                    , eE = .5 * (dR.ua - 1)
                    , aB = Math.max(Math.abs(0 - gI), Math.abs(1 - gI))
                    , cz = Math.max(Math.abs(0 - eE), Math.abs(1 - eE))
                    , f4 = Math.sqrt(aB * aB + cz * cz)
                    , fu = 0
                    , fv = 0
                    , fV = -1
                    , b_ = 2
                    , hN = C.LnSi.v / 100
                    , dj = 1 / hN
                    , aV = C.LnIa.v / 100
                    , fE = aV == 0 ? 1e-6 : aV * 4.6
                    , gW = dj / f4;
                  for (var b = 0; b < dR.ua; b++) {
                      for (var x = 0; x < dR.ob; x++) {
                          var hK = (x - gI) * gW
                            , s = (b - eE) * gW
                            , hm = Math.sqrt(hK * hK + s * s) * fE
                            , dw = Math.atan(hm)
                            , hB = aV > 0 ? dw / hm : hm / dw
                            , bd = gI + f4 * hB * hK
                            , b2 = eE + f4 * hB * s
                            , M = b * dR.ob + x << 1;
                          dR.map[M] = bd - x;
                          dR.map[M + 1] = b2 - b
                      }
                  }
              } else if (n == "Dspl" && hv.length != 0) {
                  bV = C.UndA.v.UndA == "WrpA" ? 2 : 1;
                  var gi = C.DspF.v.pth, cl;
                  for (var M = 0; M < hv.length; M++)
                      if (hv[M].LH == gi)
                          cl = hv[M];
                  if (cl == null)
                      cl = hv[0];
                  cl.Wc();
                  var hg = cl.qY[1]
                    , dm = j.T(hg.t());
                  j.Fd(cl.qY[0], dm);
                  var gr = hg.d
                    , c0 = hg.v;
                  dR = {
                      ob: gr,
                      ua: c0
                  };
                  dR.map = new Float32Array(dR.ob * dR.ua * 2);
                  var a8 = 2.54 * C.HrzS.v * gr / J
                    , d_ = 2.54 * C.VrtS.v * c0 / w;
                  for (var b = 0; b < dR.ua; b++) {
                      for (var x = 0; x < dR.ob; x++) {
                          var b9 = -.5 + dm[b * gr + x] * (1 / 255)
                            , M = b * dR.ob + x << 1;
                          dR.map[M] = b9 * a8;
                          dR.map[M + 1] = b9 * d_
                      }
                  }
              } else if (n == "Pnch" || n == "Twrl" || n == "Sphr" || n == "ZgZg") {
                  var f3 = 1
                    , dP = Math.PI
                    , bf = 0
                    , gp = 1
                    , hz = 0
                    , iL = 3
                    , e0 = 1.53
                    , hB = 1;
                  if (n == "Pnch" || n == "Sphr" || n == "ZgZg")
                      f3 = C.Amnt.v / 100;
                  if (n == "ZgZg") {
                      gp = C.NmbR.v;
                      hz = ["ArnC", "OtFr", "PndR"].indexOf(C.ZZTy.v.ZZTy)
                  }
                  if (n == "Twrl")
                      dP = C.Angl.v * Math.PI / 180;
                  if (n == "Sphr")
                      bf = ["Nrml", "HrzO", "VrtO"].indexOf(C.SphM.v.SphM);
                  function hw(x) {
                      x = Math.pow(x, 1 - x * .3 - x * x * (x * x) * .5);
                      return -.225 * Math.sin(x * Math.PI)
                  }
                  function fh(w, fb, hm, bo, hd, gT, du, hB) {
                      var hK = gT - bo
                        , s = du - hd
                        , d3 = bo - w
                        , gD = hd - fb
                        , aZ = hK * hK + s * s
                        , an = 2 * (hK * d3 + s * gD)
                        , iL = d3 * d3 + gD * gD - hm * hm
                        , aw = Math.sqrt(an * an - 4 * aZ * iL)
                        , gF = hB / (2 * aZ)
                        , hO = (-an + aw) * gF
                        , ij = (-an - aw) * gF;
                      return hB * Math.min(hO, ij)
                  }
                  var iE = dR.ob
                    , gu = dR.ua
                    , d$ = dR.ob / 2
                    , hL = dR.ua / 2
                    , fX = 1 / d$
                    , hm = Math.sqrt(iL * iL + 1) / iL
                    , ec = iL + Math.sqrt(1 / (iL * iL));
                  if (f3 < 0) {
                      iL = 1.72;
                      hm = 1;
                      ec = iL;
                      e0 = -1;
                      hB = -1
                  }
                  for (var b = 0; b < gu; b++) {
                      var s = (b - hL) / hL;
                      for (var x = 0; x < iE; x++) {
                          var hK = (x - d$) * fX;
                          if (bf == 1)
                              s = 0;
                          else if (bf == 2)
                              hK = 0;
                          var am = Math.sqrt(hK * hK + s * s);
                          if (am < 1 && am != 0) {
                              var M = b * dR.ob + x << 1;
                              if (n == "Pnch") {
                                  var c9 = -f3 * hw(am) / am;
                                  dR.map[M] = hK * c9 * d$;
                                  dR.map[M + 1] = s * c9 * hL
                              } else if (n == "Sphr") {
                                  var dL = fh(0, ec, hm, 0, 0, am, iL, hB)
                                    , gB = e0 * f3 * (dL - 1);
                                  dR.map[M] = hK * gB * d$;
                                  dR.map[M + 1] = s * gB * hL
                              } else if (n == "Twrl") {
                                  var g6 = Math.atan2(s, hK) - dP * (1 - am) * (1 - am)
                                    , cW = Math.cos(g6)
                                    , cq = Math.sin(g6);
                                  dR.map[M] = (am * cW - hK) * d$;
                                  dR.map[M + 1] = (am * cq - s) * hL
                              } else if (n == "ZgZg") {
                                  var cW = 0
                                    , cq = 0
                                    , bC = f3 * (.5 - .5 * Math.cos(am * gp * 2 * Math.PI)) * (1 - am);
                                  if (hz == 0) {
                                      var g6 = Math.atan2(s, hK) - 3.5 * bC;
                                      cW = am * Math.cos(g6);
                                      cq = am * Math.sin(g6)
                                  }
                                  if (hz == 1) {
                                      bC = 100 / J * bC / am;
                                      cW = (1 - bC) * hK;
                                      cq = (1 - bC) * s
                                  }
                                  if (hz == 2) {
                                      var cn = 512 / J * bC * Math.PI / 4;
                                      cW = cn + hK;
                                      cq = cn + s
                                  }
                                  dR.map[M] = (cW - hK) * d$;
                                  dR.map[M + 1] = (cq - s) * hL
                              }
                          }
                      }
                  }
              } else if (n == "Shr ") {
                  var bW = JSON.parse(JSON.stringify(C.ShrP.v));
                  j.E6.Z(bW, new b6(0,255 / 127,255 / 127,0,-2,0));
                  var g_ = j.E6.o0(bW, dR.ua, !0);
                  bV = C.UndA.v.UndA == "WrpA" ? 2 : 1;
                  for (var b = 0; b < dR.ua; b++) {
                      var hK = -g_[b] * dR.ob;
                      for (var x = 0; x < dR.ob; x++) {
                          var M = b * dR.ob + x << 1;
                          dR.map[M] = hK
                      }
                  }
              } else if (n == "Wave") {
                  var eu = C.NmbG.v
                    , cP = C.WLMn.v
                    , iF = C.WLMx.v
                    , bg = C.AmMn.v * (Math.PI / 4)
                    , iD = C.AmMx.v * (Math.PI / 4)
                    , gs = C.SclH.v / 100
                    , hu = C.SclV.v / 100
                    , aT = C.Wvtp.v.Wvtp
                    , bC = Math.sin;
                  if (aT == "WvTr")
                      bC = function(x) {
                          x *= 2 / Math.PI;
                          return -.5 + Math.abs(x % 2 - 1)
                      }
                      ;
                  if (aT == "WvSq")
                      bC = function(x) {
                          x *= 2 / Math.PI;
                          return 1 + 2 * Math.floor(x % 2 - 1)
                      }
                      ;
                  var iZ = []
                    , aj = new j.$.uc(C.RndS.v);
                  for (var M = 0; M < eu; M++) {
                      iZ.push(aj.get() * 10);
                      iZ.push(Math.PI * ae / (cP + aj.get() * (iF - cP)));
                      iZ.push(gs * (bg + aj.get() * (iD - bg)) / ae);
                      iZ.push(aj.get() * 10);
                      iZ.push(Math.PI * ae / (cP + aj.get() * (iF - cP)));
                      iZ.push(hu * (bg + aj.get() * (iD - bg)) / ae)
                  }
                  var bq = []
                    , fc = []
                    , iV = Math.max(dR.ob, dR.ua);
                  for (var M = 0; M < iV; M++) {
                      var hK = 0
                        , s = 0;
                      for (var bn = 0; bn < eu; bn++) {
                          var bI = bn * 6;
                          hK += iZ[bI + 2] * bC(iZ[bI] + M * iZ[bI + 1]);
                          s += iZ[bI + 5] * bC(iZ[bI + 3] + M * iZ[bI + 4])
                      }
                      bq[M] = s;
                      fc[M] = hK
                  }
                  for (var b = 0; b < dR.ua; b++) {
                      for (var x = 0; x < dR.ob; x++) {
                          var M = b * dR.ob + x << 1;
                          dR.map[M] = fc[b];
                          dR.map[M + 1] = bq[x]
                      }
                  }
                  bV = C.UndA.v.UndA == "WrpA" ? 2 : 1
              } else if (n == "Rple") {
                  bV = 1;
                  var f3 = C.Amnt.v / 100
                    , dr = 4
                    , aY = [0, -.19, -.29, -.32, .92, .37, .93, .54, -.54, .42, -.29, -.58, -.67, .85, 0, .64]
                    , a_ = 1
                    , ek = 1
                    , d3 = 0
                    , by = ["Sml", "Mdm", "Lrg"].indexOf(C.RplS.v.RplS);
                  if (by == 0) {
                      a_ = 1;
                      ek = .2;
                      d3 = 3
                  }
                  if (by == 2) {
                      a_ = 1;
                      ek = 2;
                      d3 = -1;
                      aY = aY.reverse()
                  }
                  var hW = function(x, b) {
                      var iL = Math.cos
                        , dK = 0;
                      for (var M = 0; M < dr; M++)
                          for (var bn = 0; bn < dr; bn++)
                              dK += aY[M * dr + bn] * iL(x * (M + d3) - b * (bn + d3));
                      return dK
                  }
                    , bM = Math.floor(50 / ae)
                    , ev = new Float32Array(bM * bM * 2)
                    , dg = ek * f3 * .5 / ae;
                  for (var b = 0; b < bM; b++)
                      for (var x = 0; x < bM; x++) {
                          var gI = a_ * x * 2 * Math.PI / bM
                            , eE = a_ * b * 2 * Math.PI / bM
                            , fO = hW(gI, eE)
                            , hK = (hW(gI + .01, eE) - fO) * 100
                            , s = (hW(gI, eE + .01) - fO) * 100
                            , M = (b * bM + x) * 2;
                          ev[M] = hK * dg;
                          ev[M + 1] = s * dg
                      }
                  for (var b = 0; b < dR.ua; b++)
                      for (var x = 0; x < dR.ob; x++) {
                          var cq = b % bM
                            , cW = x % bM
                            , M = b * dR.ob + x << 1
                            , cT = cq * bM + cW << 1;
                          dR.map[M] = ev[cT];
                          dR.map[M + 1] = ev[cT + 1]
                      }
              }
          }
          j.tI.SP(z.buffer, X.buffer, J, w, null, dR.map, dR.ob, dR.ua, bV)
      }
      return X
  }
  ;
  var g3 = {};
  g3.fZ = "BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");
  g3.wu = "LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
  g3.DI = ["ScrC", "ScrD", "ScrL"];
  g3.I7 = ["SDRD", "SDHz", "SDLD", "SDVt"];
  g3._C = "TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
  g3.CV = "LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");
  g3.xn = "GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
  g3.bE = {
      PntD: "paintDaubs"
  };
  g3.N6 = ["Artistic", "Brush Strokes", [24, 4], "Sketch", [24, 14], [12, 67]];
  g3.names = {
      ClrP: [0, "Colored Pencil"],
      DryB: [0, "Dry Brush"],
      FlmG: [0, "Film Grain"],
      Frsc: [0, "Fresco"],
      NGlw: [0, "Neon Glow"],
      PntD: [0, "Paint Daubs"],
      PltK: [0, "Palette Knife"],
      PlsW: [0, "Plastic Wrap"],
      PstE: [0, "Poster Edges"],
      RghP: [0, "Rough Pastels"],
      SmdS: [0, "Smudge Stick"],
      Spng: [0, "Sponge"],
      Undr: [0, "Underpainting"],
      Wtrc: [0, "Watercolor"],
      AccE: [1, "Accented Edges"],
      AngS: [1, "Angled Strokes"],
      Crsh: [1, "Crosshatch"],
      DrkS: [1, "Dark Strokes"],
      InkO: [1, "Ink Outlines"],
      Spt: [1, "Spatter"],
      SprS: [1, "Sprayed Strokes"],
      Smie: [1, "Sumi-e"],
      DfsG: [2, "Diffuse Glow"],
      Gls: [2, "Glass"],
      OcnR: [2, "Ocean Ripple"],
      BsRl: [3, "Bas Relief"],
      ChlC: [3, "Chalk & Charcoal"],
      Chrc: [3, "Charcoal"],
      Chrm: [3, "Chrome"],
      CntC: [3, "Cont\xE9 Crayon"],
      GraP: [3, "Graphic Pen"],
      HlfS: [3, "Halftone Pattern"],
      NtPr: [3, "Note Paper"],
      Phtc: [3, "Photocopy"],
      Plst: [3, "Plaster"],
      Rtcl: [3, "Reticulation"],
      Stmp: [3, "Stamp"],
      TrnE: [3, "Torn Edges"],
      WtrP: [3, "Water Paper"],
      GlwE: [4, "Glowing Edges"],
      Crql: [5, "Craquelure"],
      Grn: [5, "Grain"],
      MscT: [5, "Mosaic Tiles"],
      Ptch: [5, "Patchwork"],
      StnG: [5, "Stained Glass"],
      Txtz: [5, "Texturizer"]
  };
  g3.zP = function(n) {
      var z;
      if (n == "ClrP")
          z = {
              Pncl: {
                  t: "long",
                  v: 4
              },
              StrP: {
                  t: "long",
                  v: 8
              },
              PprB: {
                  t: "long",
                  v: 25
              }
          };
      if (n == "DryB")
          z = {
              BrsS: {
                  t: "long",
                  v: 4
              },
              BrsD: {
                  t: "long",
                  v: 4
              },
              Txtr: {
                  t: "long",
                  v: 2
              }
          };
      if (n == "FlmG")
          z = {
              Grn: {
                  t: "long",
                  v: 4
              },
              HghA: {
                  t: "long",
                  v: 0
              },
              Intn: {
                  t: "long",
                  v: 10
              },
              FlRs: {
                  t: "long",
                  v: 23068185
              }
          };
      if (n == "Frsc")
          z = {
              BrsS: {
                  t: "long",
                  v: 2
              },
              BrsD: {
                  t: "long",
                  v: 8
              },
              Txtr: {
                  t: "long",
                  v: 1
              }
          };
      if (n == "NGlw")
          z = {
              Sz: {
                  t: "long",
                  v: 5
              },
              Brgh: {
                  t: "long",
                  v: 15
              },
              Clr: {
                  t: "Objc",
                  v: {
                      classID: "RGBC",
                      Rd: {
                          t: "doub",
                          v: 0
                      },
                      Grn: {
                          t: "doub",
                          v: 0
                      },
                      Bl: {
                          t: "doub",
                          v: 255
                      }
                  }
              }
          };
      if (n == "PntD")
          z = {
              Sz: {
                  t: "long",
                  v: 10
              },
              Shrp: {
                  t: "long",
                  v: 10
              },
              BrsT: {
                  t: "enum",
                  v: {
                      BrsT: "BrSm"
                  }
              }
          };
      if (n == "PltK")
          z = {
              StrS: {
                  t: "long",
                  v: 25
              },
              StDt: {
                  t: "long",
                  v: 3
              },
              Sftn: {
                  t: "long",
                  v: 2
              }
          };
      if (n == "PlsW")
          z = {
              HghS: {
                  t: "long",
                  v: 20
              },
              Dtl: {
                  t: "long",
                  v: 4
              },
              Smth: {
                  t: "long",
                  v: 5
              }
          };
      if (n == "PstE")
          z = {
              EdgT: {
                  t: "long",
                  v: 2
              },
              EdgI: {
                  t: "long",
                  v: 1
              },
              Pstr: {
                  t: "long",
                  v: 2
              }
          };
      if (n == "RghP")
          z = {
              StrL: {
                  t: "long",
                  v: 6
              },
              StDt: {
                  t: "long",
                  v: 4
              },
              TxtT: {
                  t: "enum",
                  v: {
                      TxtT: "TxCa"
                  }
              },
              Scln: {
                  t: "long",
                  v: 100
              },
              Rlf: {
                  t: "long",
                  v: 20
              },
              LghD: {
                  t: "enum",
                  v: {
                      LghD: "LDBt"
                  }
              },
              InvT: {
                  t: "bool",
                  v: !1
              }
          };
      if (n == "SmdS")
          z = {
              StrL: {
                  t: "long",
                  v: 2
              },
              HghA: {
                  t: "long",
                  v: 0
              },
              Intn: {
                  t: "long",
                  v: 10
              },
              FlRs: {
                  t: "long",
                  v: 6399750
              }
          };
      if (n == "Spng")
          z = {
              BrsS: {
                  t: "long",
                  v: 2
              },
              Dfnt: {
                  t: "long",
                  v: 12
              },
              Smth: {
                  t: "long",
                  v: 5
              },
              FlRs: {
                  t: "long",
                  v: 218877241
              }
          };
      if (n == "Undr")
          z = {
              BrsS: {
                  t: "long",
                  v: 6
              },
              TxtC: {
                  t: "long",
                  v: 16
              },
              TxtT: {
                  t: "enum",
                  v: {
                      TxtT: "TxCa"
                  }
              },
              Scln: {
                  t: "long",
                  v: 100
              },
              Rlf: {
                  t: "long",
                  v: 4
              },
              LghD: {
                  t: "enum",
                  v: {
                      LghD: "LDTp"
                  }
              },
              InvT: {
                  t: "bool",
                  v: !1
              }
          };
      if (n == "Wtrc")
          z = {
              BrsD: {
                  t: "long",
                  v: 9
              },
              ShdI: {
                  t: "long",
                  v: 1
              },
              Txtr: {
                  t: "long",
                  v: 3
              }
          };
      if (n == "AccE")
          z = {
              EdgW: {
                  t: "long",
                  v: 2
              },
              EdgB: {
                  t: "long",
                  v: 38
              },
              Smth: {
                  t: "long",
                  v: 5
              }
          };
      if (n == "AngS")
          z = {
              DrcB: {
                  t: "long",
                  v: 50
              },
              StrL: {
                  t: "long",
                  v: 15
              },
              Shrp: {
                  t: "long",
                  v: 3
              }
          };
      if (n == "Crsh")
          z = {
              StrL: {
                  t: "long",
                  v: 9
              },
              Shrp: {
                  t: "long",
                  v: 6
              },
              Strg: {
                  t: "long",
                  v: 1
              }
          };
      if (n == "DrkS")
          z = {
              Blnc: {
                  t: "long",
                  v: 5
              },
              BlcI: {
                  t: "long",
                  v: 6
              },
              WhtI: {
                  t: "long",
                  v: 2
              }
          };
      if (n == "InkO")
          z = {
              StrL: {
                  t: "long",
                  v: 4
              },
              DrkI: {
                  t: "long",
                  v: 20
              },
              LghI: {
                  t: "long",
                  v: 10
              }
          };
      if (n == "Smie")
          z = {
              StrW: {
                  t: "long",
                  v: 10
              },
              StrP: {
                  t: "long",
                  v: 5
              },
              Cntr: {
                  t: "long",
                  v: 16
              }
          };
      if (n == "Spt")
          z = {
              SprR: {
                  t: "long",
                  v: 10
              },
              Smth: {
                  t: "long",
                  v: 5
              },
              FlRs: {
                  t: "long",
                  v: 10738420
              }
          };
      if (n == "SprS")
          z = {
              StrL: {
                  t: "long",
                  v: 12
              },
              SprR: {
                  t: "long",
                  v: 7
              },
              SDir: {
                  t: "enum",
                  v: {
                      StrD: "SDRD"
                  }
              },
              FlRs: {
                  t: "long",
                  v: 893120664
              }
          };
      if (n == "DfsG")
          z = {
              Grns: {
                  t: "long",
                  v: 6
              },
              GlwA: {
                  t: "long",
                  v: 10
              },
              ClrA: {
                  t: "long",
                  v: 15
              },
              FlRs: {
                  t: "long",
                  v: 325892160
              }
          };
      if (n == "Gls")
          z = {
              Dstr: {
                  t: "long",
                  v: 3
              },
              Smth: {
                  t: "long",
                  v: 1
              },
              TxtT: {
                  t: "enum",
                  v: {
                      TxtT: "TxTL"
                  }
              },
              Scln: {
                  t: "long",
                  v: 100
              },
              InvT: {
                  t: "bool",
                  v: !1
              }
          };
      if (n == "OcnR")
          z = {
              RplS: {
                  t: "long",
                  v: 5
              },
              RplM: {
                  t: "long",
                  v: 15
              },
              FlRs: {
                  t: "long",
                  v: 64008840
              }
          };
      if (n == "BsRl")
          z = {
              Dtl: {
                  t: "long",
                  v: 11
              },
              Smth: {
                  t: "long",
                  v: 7
              },
              LghD: {
                  t: "enum",
                  v: {
                      LghD: "LDBt"
                  }
              }
          };
      if (n == "ChlC")
          z = {
              ChrA: {
                  t: "long",
                  v: 6
              },
              ChlA: {
                  t: "long",
                  v: 6
              },
              StrP: {
                  t: "long",
                  v: 1
              },
              FlRs: {
                  t: "long",
                  v: 314004633
              }
          };
      if (n == "Chrc")
          z = {
              ChAm: {
                  t: "long",
                  v: 1
              },
              Dtl: {
                  t: "long",
                  v: 5
              },
              LgDr: {
                  t: "long",
                  v: 50
              },
              GELv: {
                  t: "bool",
                  v: !0
              }
          };
      if (n == "Chrm")
          z = {
              Dtl: {
                  t: "long",
                  v: 4
              },
              Smth: {
                  t: "long",
                  v: 4
              }
          };
      if (n == "CntC")
          z = {
              FrgL: {
                  t: "long",
                  v: 11
              },
              BckL: {
                  t: "long",
                  v: 7
              },
              TxtT: {
                  t: "enum",
                  v: {
                      TxtT: "TxCa"
                  }
              },
              Scln: {
                  t: "long",
                  v: 100
              },
              Rlf: {
                  t: "long",
                  v: 4
              },
              LghD: {
                  t: "enum",
                  v: {
                      LghD: "LDTp"
                  }
              },
              InvT: {
                  t: "bool",
                  v: !1
              }
          };
      if (n == "GraP")
          z = {
              StrL: {
                  t: "long",
                  v: 7
              },
              LgDr: {
                  t: "long",
                  v: 50
              },
              SDir: {
                  t: "enum",
                  v: {
                      StrD: "SDRD"
                  }
              },
              FlRs: {
                  t: "long",
                  v: 55993248
              }
          };
      if (n == "HlfS")
          z = {
              HlSz: {
                  t: "long",
                  v: 1
              },
              Cntr: {
                  t: "long",
                  v: 5
              },
              ScrT: {
                  t: "enum",
                  v: {
                      ScrT: "ScrD"
                  }
              }
          };
      if (n == "NtPr")
          z = {
              ImgB: {
                  t: "long",
                  v: 25
              },
              Grns: {
                  t: "long",
                  v: 10
              },
              Rlf: {
                  t: "long",
                  v: 11
              },
              FlRs: {
                  t: "long",
                  v: 52642770
              }
          };
      if (n == "Phtc")
          z = {
              Dtl: {
                  t: "long",
                  v: 10
              },
              Drkn: {
                  t: "long",
                  v: 4
              }
          };
      if (n == "Plst")
          z = {
              ImgB: {
                  t: "long",
                  v: 20
              },
              Smth: {
                  t: "long",
                  v: 2
              },
              LghP: {
                  t: "enum",
                  v: {
                      LghP: "LPTp"
                  }
              }
          };
      if (n == "Rtcl")
          z = {
              Dnst: {
                  t: "long",
                  v: 12
              },
              BlcL: {
                  t: "long",
                  v: 40
              },
              WhtL: {
                  t: "long",
                  v: 5
              },
              FlRs: {
                  t: "long",
                  v: 301835400
              }
          };
      if (n == "Stmp")
          z = {
              LgDr: {
                  t: "long",
                  v: 25
              },
              Smth: {
                  t: "long",
                  v: 4
              }
          };
      if (n == "TrnE")
          z = {
              ImgB: {
                  t: "long",
                  v: 25
              },
              Smth: {
                  t: "long",
                  v: 11
              },
              Cntr: {
                  t: "long",
                  v: 17
              },
              FlRs: {
                  t: "long",
                  v: 461109340
              }
          };
      if (n == "WtrP")
          z = {
              FbrL: {
                  t: "long",
                  v: 15
              },
              Brgh: {
                  t: "long",
                  v: 60
              },
              Cntr: {
                  t: "long",
                  v: 80
              },
              FlRs: {
                  t: "long",
                  v: 83852682
              }
          };
      if (n == "GlwE")
          z = {
              EdgW: {
                  t: "long",
                  v: 1
              },
              EdgB: {
                  t: "long",
                  v: 10
              },
              Smth: {
                  t: "long",
                  v: 1
              }
          };
      if (n == "Crql")
          z = {
              CrcS: {
                  t: "long",
                  v: 15
              },
              CrcD: {
                  t: "long",
                  v: 6
              },
              CrcB: {
                  t: "long",
                  v: 9
              },
              FlRs: {
                  t: "long",
                  v: 495615720
              }
          };
      if (n == "Grn")
          z = {
              Intn: {
                  t: "long",
                  v: 40
              },
              Cntr: {
                  t: "long",
                  v: 50
              },
              Grnt: {
                  t: "enum",
                  v: {
                      Grnt: "GrnR"
                  }
              },
              FlRs: {
                  t: "long",
                  v: 217582197
              }
          };
      if (n == "MscT")
          z = {
              TlSz: {
                  t: "long",
                  v: 12
              },
              GrtW: {
                  t: "long",
                  v: 3
              },
              LghG: {
                  t: "long",
                  v: 9
              },
              FlRs: {
                  t: "long",
                  v: 25445584
              }
          };
      if (n == "Ptch")
          z = {
              SqrS: {
                  t: "long",
                  v: 4
              },
              Rlf: {
                  t: "long",
                  v: 8
              },
              FlRs: {
                  t: "long",
                  v: 383529723
              }
          };
      if (n == "StnG")
          z = {
              ClSz: {
                  t: "long",
                  v: 10
              },
              BrdT: {
                  t: "long",
                  v: 4
              },
              LghI: {
                  t: "long",
                  v: 0
              },
              FlRs: {
                  t: "long",
                  v: 319935998
              }
          };
      if (n == "Txtz")
          z = {
              TxtT: {
                  t: "enum",
                  v: {
                      TxtT: "TxBr"
                  }
              },
              Scln: {
                  t: "long",
                  v: 100
              },
              Rlf: {
                  t: "long",
                  v: 10
              },
              LghD: {
                  t: "enum",
                  v: {
                      LghD: "LDBL"
                  }
              },
              InvT: {
                  t: "bool",
                  v: !1
              }
          };
      z.__name = "Filter Gallery";
      z.classID = "GEfc";
      z.GEfk = {
          t: "enum",
          v: {
              GEft: n
          }
      };
      z.GELv = {
          t: "bool",
          v: !0
      };
      return z
  }
  ;
  g3.aX = function(n, z) {
      for (var M = 0; M < z.length; M++)
          ~~(z[M] = (n[4 * M] + n[4 * M + 1] + n[4 * M + 2]) * (1 / 3))
  }
  ;
  g3.o$ = function(n, z, C, D, F, X, E) {
      n = C.GEfk.v.GEft;
      var f = z.rect
        , a = f.d
        , q = f.v
        , c = a * q
        , K = C.FlRs ? C.FlRs.v >>> 1 : 0;
      function R(fx) {
          return fx.h << 24 | fx.Q << 16 | fx.O << 8 | 255
      }
      if (n == "ClrP")
          j.l.a3u(z.buffer, a, q, X.buffer, [C.Pncl.v, C.StrP.v, C.PprB.v]);
      if (n == "DryB")
          j.l.a99(z.buffer, a, q, X.buffer, [C.BrsS.v, C.BrsD.v, C.Txtr.v]);
      if (n == "FlmG")
          j.l.afM(z.buffer, a, q, X.buffer, [C.Grn.v, C.HghA.v, C.Intn.v, K]);
      if (n == "Frsc")
          j.l.an$(z.buffer, a, q, X.buffer, [C.BrsS.v, C.BrsD.v, C.Txtr.v]);
      if (n == "NGlw")
          j.l.aci(z.buffer, a, q, X.buffer, [C.Sz.v, C.Brgh.v, R(j._.Jo(C.Clr.v)), R(D), R(F)]);
      if (n == "PltK")
          j.l.a3A(z.buffer, a, q, X.buffer, [C.StrS.v, C.StDt.v, C.Sftn.v]);
      if (n == "PstE")
          j.l.a04(z.buffer, a, q, X.buffer, [C.EdgT.v, C.EdgI.v, C.Pstr.v]);
      if (n == "RghP")
          j.l.amh(z.buffer, a, q, X.buffer, [C.StrL.v, C.StDt.v, g3._C.indexOf(C.TxtT.v.TxtT), C.Scln.v, C.Rlf.v, g3.wu.indexOf(C.LghD.v.LghD), C.InvT.v]);
      if (n == "SmdS")
          j.l.a8d(z.buffer, a, q, X.buffer, [C.StrL.v, C.HghA.v, C.Intn.v, C.FlRs.v, K]);
      if (n == "Spng")
          j.l.a3t(z.buffer, a, q, X.buffer, [C.BrsS.v, C.Dfnt.v, C.Smth.v, C.FlRs.v, K]);
      if (n == "Undr")
          j.l.a4Q(z.buffer, a, q, X.buffer, [C.BrsS.v, C.TxtC.v, g3._C.indexOf(C.TxtT.v.TxtT), C.Scln.v, C.Rlf.v, g3.wu.indexOf(C.LghD.v.LghD), C.InvT.v]);
      if (n == "Wtrc")
          j.l.a4d(z.buffer, a, q, X.buffer, [C.BrsD.v, C.ShdI.v, C.Txtr.v]);
      if (n == "AccE")
          j.l.a9B(z.buffer, a, q, X.buffer, [C.EdgW.v, C.EdgB.v, C.Smth.v]);
      if (n == "AngS")
          j.l.adi(z.buffer, a, q, X.buffer, [C.DrcB.v, C.StrL.v, C.Shrp.v]);
      if (n == "Crsh")
          j.l.anD(z.buffer, a, q, X.buffer, [C.StrL.v, C.Shrp.v, C.Strg.v]);
      if (n == "DrkS")
          j.l.apw(z.buffer, a, q, X.buffer, [C.Blnc.v, C.BlcI.v, C.WhtI.v]);
      if (n == "InkO")
          j.l.a30(z.buffer, a, q, X.buffer, [C.StrL.v, C.DrkI.v, C.LghI.v]);
      if (n == "Smie")
          j.l.agZ(z.buffer, a, q, X.buffer, [C.StrW.v, C.StrP.v, C.Cntr.v]);
      if (n == "DfsG")
          j.l.a79(z.buffer, a, q, X.buffer, [C.Grns.v, C.GlwA.v, C.ClrA.v, R(F), K]);
      if (n == "CntC")
          j.l.ago(z.buffer, a, q, X.buffer, [C.FrgL.v, C.BckL.v, g3._C.indexOf(C.TxtT.v.TxtT), C.Scln.v, C.Rlf.v, g3.wu.indexOf(C.LghD.v.LghD), C.InvT.v, R(F), R(D)]);
      if (n == "ChlC")
          j.l.agx(z.buffer, a, q, X.buffer, [C.ChrA.v, C.ChlA.v, C.StrP.v, K, R(F), R(D)]);
      var J = n == "GraP" || n == "Chrc" || n == "Plst" || n == "Rtcl" || n == "Stmp" || n == "TrnE";
      if (J) {
          var w = j.T(a * q);
          if (n == "GraP")
              j.l.ain(z.buffer, a, q, X.buffer, [C.StrL.v, C.LgDr.v, g3.I7.indexOf(C.SDir.v.StrD), K]);
          if (n == "Chrc")
              j.l.a9b(z.buffer, a, q, X.buffer, [C.ChAm.v, C.Dtl.v, C.LgDr.v]);
          if (n == "Plst")
              j.l.afg(z.buffer, a, q, X.buffer, [C.ImgB.v, g3.CV.indexOf(C.LghP.v.LghP), C.Smth.v]);
          if (n == "Rtcl")
              j.l.aq9(z.buffer, a, q, X.buffer, [C.Dnst.v, C.BlcL.v, C.WhtL.v, K]);
          if (n == "Stmp")
              j.l.a1b(z.buffer, a, q, X.buffer, [C.LgDr.v, C.Smth.v]);
          if (n == "TrnE")
              j.l.ae$(z.buffer, a, q, X.buffer, [C.ImgB.v, C.Smth.v, C.Cntr.v, K]);
          j.Ni(X.buffer, w, 0);
          g3.Gm(w, X.buffer, D, F)
      }
      if (n == "NtPr")
          j.l.a5r(z.buffer, a, q, X.buffer, [C.ImgB.v, C.Grns.v, C.Rlf.v, R(D), R(F), K]);
      if (n == "WtrP")
          j.l.ak8(z.buffer, a, q, X.buffer, [C.FbrL.v, C.Brgh.v, C.Cntr.v, K >>> 1]);
      if (n == "Crql")
          j.l.a9e(z.buffer, a, q, X.buffer, [C.CrcS.v, C.CrcD.v, C.CrcB.v, K]);
      if (n == "Grn")
          j.l.a9m(z.buffer, a, q, X.buffer, [C.Intn.v, g3.xn.indexOf(C.Grnt.v.Grnt), C.Cntr.v, R(D), R(F), K]);
      if (n == "MscT")
          j.l.amX(z.buffer, a, q, X.buffer, [C.TlSz.v, C.GrtW.v, C.LghG.v, K]);
      if (n == "Ptch")
          j.l.akS(z.buffer, a, q, X.buffer, [C.SqrS.v, C.Rlf.v, K]);
      if (n == "Phtc") {
          function p(du, bk, f, gw) {
              j.Y7.Pn(du, bk, f, gw);
              for (var M = 0; M < c; M++)
                  bk[M] = Math.max(0, Math.min(255, 128 + du[M] - bk[M]))
          }
          var I = C.Dtl.v
            , m = C.Drkn.v
            , A = j.T(c);
          j.Fd(z.buffer, A);
          var U = j.T(c);
          p(A, U, f, 1);
          var r = j.T(c);
          p(A, r, f, I);
          for (var M = 0; M < c; M++)
              A[M] = Math.max(0, Math.min(255, 255 - (U[M] - r[M]) * m));
          g3.Gm(A, X.buffer, D, F)
      }
      if (n == "Spt" || n == "SprS") {
          var $, k = 1, G = 1;
          $ = {
              ob: Math.floor(a / G),
              ua: Math.floor(q / G)
          };
          $.map = new Float32Array($.ob * $.ua * 2);
          var i = new j.$.uc(C.FlRs.v)
            , o = new Float32Array(8192)
            , S = C.SprR.v
            , H = S < 20 ? .018 * S : .36 + (S - 20) * .128;
          if (n == "SprS") {
              H = .07 + [0, .02, .04, .06, .08, .1, .12, .14, .16, .18, .2, .22, .24, .26, .28, .3, .34, .38, .5, .65, .75, .85, 1, 1.5, 2.2, 3][S]
          }
          for (var M = 0; M < 8192; M++)
              o[M] = (-1 + 2 * i.get()) * H * 70;
          for (var e = 0; e < q; e++)
              for (var V = 0; V < a; V++) {
                  var v = e * a + V << 1;
                  $.map[v] = o[v % 7919];
                  $.map[v + 1] = o[(v + 1) % 7919]
              }
          var B = $.map.slice(0)
            , Z = n == "Spt" ? C.Smth.v - 1 : 1;
          if (n == "Spt" && Z != 0) {
              g3.oU($.map, B, a, q, Z);
              g3.$d(B, $.map, a, q, Z)
          }
          if (n == "SprS") {
              var d = C.StrL.v >>> 1
                , g = d == 0 ? 2 : 1;
              g3.oU($.map, B, a, q, g);
              g3.$d(B, $.map, a, q, g);
              if (d != 0) {
                  var Y = g3.I7.indexOf(C.SDir.v.StrD)
                    , y = [1, 1, 1, 0][Y]
                    , L = [-1, 0, 1, 1][Y]
                    , _ = 2 * d + 1
                    , b = 1 / _;
                  for (var e = 0; e < q; e++)
                      for (var V = 0; V < a; V++) {
                          var v = e * a + V << 1
                            , x = 0
                            , W = 0;
                          for (var M = 0; M < _; M++) {
                              var g6 = Math.max(0, Math.min(a - 1, V - (d + M) * y))
                                , fY = Math.max(0, Math.min(q - 1, e - (d + M) * L))
                                , f3 = fY * a + g6 << 1;
                              x += $.map[f3];
                              W += $.map[f3 + 1]
                          }
                          B[v] = x * b;
                          B[v + 1] = W * b
                      }
                  $.map = B
              }
          }
          j.tI.SP(z.buffer, X.buffer, a, q, null, $.map, $.ob, $.ua, k)
      }
      if (n == "BsRl" || n == "PlsW" || n == "Chrm") {
          var hK = Date.now()
            , s = j.T(c)
            , P = s.slice(0);
          j.Fd(z.buffer, s);
          var I = C.Dtl.v
            , aF = C.Smth.v;
          if (I != 15) {
              j.Y7.c_(s, P, f, Math.round((15 - I) * .5));
              j.YY(P, s)
          }
          var fM = 1.4 / a
            , eA = 1.4 / q
            , e8 = new Float32Array(c)
            , eC = new Float32Array(c)
            , cy = new Float32Array(X.buffer.buffer);
          for (var e = 0; e < q; e++)
              for (var V = 0; V < a; V++) {
                  var M = e * a + V
                    , y = V == a - 1 ? s[M] - s[M - 1] : s[M + 1] - s[M]
                    , L = e == q - 1 ? s[M] - s[M - a] : s[M + a] - s[M]
                    , aX = V * fM - .7
                    , j0 = e * eA - .7;
                  e8[M] = y == 0 ? aX : y * .4;
                  eC[M] = L == 0 ? j0 : L * .4
              }
          if (n == "BsRl") {
              var aT = (2 + g3.wu.indexOf(C.LghD.v.LghD)) * Math.PI * .25
                , x = Math.cos(aT);
              if (Math.abs(x) < .1)
                  x = 0;
              x = Math.sign(x);
              var W = Math.sin(aT);
              if (Math.abs(W) < .1)
                  W = 0;
              W = Math.sign(W);
              var a4 = 1 / (x * x + W * W);
              for (var e = 0; e < q; e++)
                  for (var V = 0; V < a; V++) {
                      var M = e * a + V
                        , f8 = Math.max(-1, Math.min(1, x * e8[M]))
                        , b3 = Math.max(-1, Math.min(1, W * eC[M]));
                      P[M] = 128 + 127 * (f8 + b3) * a4
                  }
              if (aF != 1) {
                  j.Y7.c_(P, s, f, Math.round((aF - 1) * .5));
                  j.YY(s, P)
              }
              g3.Gm(P, X.buffer, D, F)
          } else {
              if (n == "Chrm")
                  aF = 5 + aF;
              if (aF > 1)
                  g3.JF(e8, eC, cy, f, aF - 1);
              if (n == "PlsW") {
                  var gh = new Uint8Array(e8.buffer);
                  for (var M = 0; M < c; M++) {
                      var cZ = M << 2
                        , y = e8[M]
                        , L = eC[M]
                        , h3 = 1 / (Math.sqrt(1 + y * y) * Math.sqrt(1 + L * L))
                        , ew = h3 * h3
                        , dy = ew * ew
                        , fx = ~~(255 * (dy * dy * ew));
                      gh[cZ + 0] = fx;
                      gh[cZ + 1] = fx;
                      gh[cZ + 2] = fx;
                      gh[cZ + 3] = fx
                  }
                  X.buffer.set(z.buffer);
                  j.$.xN("norm", gh, f, X.buffer, f, f, C.HghS.v / 20)
              } else if (n == "Chrm") {
                  var bo = X.buffer
                    , hd = a >>> 1
                    , gT = q >>> 1;
                  for (var M = 0; M < c; M++) {
                      var cZ = M << 2
                        , y = e8[M]
                        , L = eC[M]
                        , du = {
                          x: 1,
                          y: 0,
                          C4: y
                      };
                      fg.eh(du);
                      var bk = {
                          x: 0,
                          y: 1,
                          C4: L
                      };
                      fg.eh(bk);
                      var i8 = fg.In(du, bk)
                        , en = 1 / i8.C4
                        , dW = ~~Math.max(0, Math.min(a - 1, hd - i8.x * en * hd))
                        , ix = ~~Math.max(0, Math.min(q - 1, gT - i8.y * en * gT))
                        , fx = s[ix * a + dW];
                      bo[cZ + 0] = fx;
                      bo[cZ + 1] = fx;
                      bo[cZ + 2] = fx
                  }
              }
          }
      }
      if (n == "Gls" || n == "OcnR" || n == "Txtz") {
          var dU = n == "OcnR" ? 2 : g3._C.indexOf(C.TxtT.v.TxtT), hN = g3.sg(dU), a1 = hN[0], s = hN[1], hk = a1.d, ax = a1.v, _ = 24, c8 = 0, dS, iK;
          function ej(go, hL, dA) {
              return ~~(bz * (go + hL) + 8192) & 127
          }
          var e8 = new Float32Array(c)
            , eC = new Float32Array(c)
            , cy = new Float32Array(X.buffer.buffer)
            , bz = n == "OcnR" ? 1 / (1 + (C.RplS.v - 1) * .1) : 100 / C.Scln.v;
          if (dU == 3)
              bz *= 32 / 22.2;
          var hK = Date.now()
            , fq = bz
            , fM = 1.4 / a
            , eA = 1.4 / q;
          if (n == "Txtz") {
              fq *= 1 / 255;
              _ = 256
          }
          for (var e = 0; e < q; e++) {
              var cg = ej(e, f.y, ax)
                , fY = cg + 1 & 127;
              for (var V = 0; V < a; V++) {
                  var M = e * a + V
                    , iw = ej(V, f.x, hk)
                    , g6 = iw + 1 & 127
                    , fD = 0
                    , g8 = 0
                    , ap = 0;
                  if (n == "Txtz") {
                      fD = j.V.i5(bz * V, bz * e, s, 128, 128);
                      g8 = j.V.i5(bz * V, bz * e + 1, s, 128, 128);
                      ap = j.V.i5(bz * V + 1, bz * e, s, 128, 128)
                  } else {
                      fD = s[cg * hk + iw];
                      g8 = s[fY * hk + iw];
                      ap = s[cg * hk + g6]
                  }
                  e8[M] = Math.max(-_, Math.min((ap - fD) * fq, _));
                  eC[M] = Math.max(-_, Math.min((g8 - fD) * fq, _))
              }
          }
          if (n == "Txtz")
              g3.gu(e8, eC, cy, f, 6);
          else
              g3.JF(e8, eC, cy, f, n == "Txtz" ? 1 : n == "OcnR" ? 3.5 / bz : C.Smth.v);
          if (n == "Txtz")
              c8 = C.InvT.v ? -1 : 1;
          else if (n == "Gls") {
              c8 = [1, .4, .5, .5][dU] * (Math.exp(C.Dstr.v * .155) - 1);
              if (C.InvT.v)
                  c8 = -c8
          } else {
              c8 = .5 * (Math.exp(C.RplM.v * .155) - 1)
          }
          var bo = X.buffer;
          if (n == "Txtz") {
              var aT = (2 + g3.wu.indexOf(C.LghD.v.LghD)) * Math.PI * .25
                , x = Math.cos(aT)
                , W = Math.sin(aT);
              dS = {
                  x: x,
                  y: W,
                  C4: 0
              };
              fg.eh(dS);
              iK = C.Rlf.v;
              iK = iK / 4 + Math.max(0, (iK - 35) * 2)
          }
          function ay(du, bk, gP) {
              var eR = j.$.overF(bk, du, 1)
                , go = (1 - gP) * du + gP * (gP * bk + (1 - gP) * eR);
              return go * 255
          }
          for (var e = 0; e < q; e++)
              for (var V = 0; V < a; V++) {
                  var M = e * a + V
                    , cZ = M << 2
                    , y = e8[M]
                    , L = eC[M]
                    , du = {
                      x: 1,
                      y: 0,
                      C4: y
                  };
                  fg.eh(du);
                  var bk = {
                      x: 0,
                      y: 1,
                      C4: L
                  };
                  fg.eh(bk);
                  var i8 = fg.In(du, bk);
                  if (n == "Txtz") {
                      var c$ = fg.a3r(i8, dS) * c8
                        , gP = 1
                        , fx = 1;
                      if (c$ < 0) {
                          fx = 0;
                          c$ = -c$
                      }
                      gP = Math.min(1, c$ * iK);
                      bo[cZ + 0] = ~~ay(z.buffer[cZ] * (1 / 255), fx, gP);
                      bo[cZ + 1] = ~~ay(z.buffer[cZ + 1] * (1 / 255), fx, gP);
                      bo[cZ + 2] = ~~ay(z.buffer[cZ + 2] * (1 / 255), fx, gP)
                  } else {
                      var en = c8 / i8.C4
                        , dW = ~~Math.max(0, Math.min(a - 1, V - i8.x * en))
                        , ix = ~~Math.max(0, Math.min(q - 1, e - i8.y * en))
                        , d0 = ix * a + dW << 2;
                      bo[cZ + 0] = z.buffer[d0];
                      bo[cZ + 1] = z.buffer[d0 + 1];
                      bo[cZ + 2] = z.buffer[d0 + 2]
                  }
              }
      }
      if (n == "PntD") {
          var ff = C.Shrp.v * .4
            , ci = C.BrsT.v.BrsT
            , gL = {
              BrSm: [.75],
              BrsL: [.85],
              BrDR: [.68],
              BrsW: [.75],
              BrbW: [.78],
              BrSp: [.62]
          }[ci]
            , gw = Math.round(C.Sz.v * .5);
          j.LC.l0 = gL[0];
          var hX = j.LC.FK;
          fd.oX(z.buffer, X.buffer, a, q, gw, hX, [], 0);
          var bm = [-.7, -1, -.7, -1, 10, -1, -.7, -1, -.7];
          bm = j.nI.lI(bm);
          var hl = X.buffer.slice(0);
          j.nI.jv(hl, X.buffer, a, q, bm, 0);
          for (var M = 0; M < z.buffer.length; M++) {
              var b0 = X.buffer[M] - hl[M];
              X.buffer[M] = Math.max(0, Math.min(255, hl[M] + ff * b0))
          }
      }
      if (n == "GlwE") {
          var i3 = X.buffer.slice(0);
          j.LC.l0 = .5;
          var hX = j.LC.FK;
          fd.oX(z.buffer, i3, a, q, C.Smth.v >>> 1, hX, [], 0);
          j.nI.RK(i3, X.buffer, a, q);
          j.YY(X.buffer, i3);
          j.eL(i3);
          j.xM(i3, 4278190080, 16777215);
          fd.oX(i3, X.buffer, a, q, C.EdgW.v >>> 1, j.LC.bH, [], 0);
          var cp = C.EdgB.v / 10;
          for (var M = 0; M < i3.length; M++) {
              if ((M & 3) == 3)
                  continue;
              var eR = X.buffer[M];
              X.buffer[M] = Math.max(0, Math.min(255, eR * cp))
          }
      }
      if (n == "StnG") {
          j.D3.aoN(z.buffer, a, q, X.buffer, C.ClSz.v, [Math.round(D.h), Math.round(D.Q), Math.round(D.O)], C.BrdT.v)
      }
      if (n == "HlfS") {
          var hm = C.HlSz.v
            , aK = hm * 2 + 1
            , gc = C.Cntr.v
            , ii = g3.DI.indexOf(C.ScrT.v.ScrT)
            , c = a * q
            , fU = c * 4
            , io = j.T(c)
            , cJ = z.buffer
            , dK = 0
            , fJ = 0;
          g3.aX(cJ, io);
          var eI = io.slice(0);
          j.Y7.hI(eI, io, f, hm);
          var hV = Math.PI / aK
            , bc = new Float64Array(a)
            , x = new Float64Array(a)
            , f2 = new Float64Array(2 * a);
          for (var V = 0; V < a; V++) {
              var iw = (V - (a >>> 1)) * hV;
              bc[V] = iw * iw;
              x[V] = Math.cos(iw);
              var y = V << 1;
              f2[y] = Math.sin(y * (1 / 4.5));
              f2[y + 1] = Math.sin((y + 1) * (1 / 4.5))
          }
          for (var e = 0; e < q; e++) {
              var cg = (e - (q >>> 1)) * hV
                , W = Math.cos(cg)
                , f6 = cg * cg;
              for (var V = 0; V < a; V++) {
                  var fx = W;
                  if (ii == 0) {
                      var db = .5 + Math.sqrt(bc[V] + f6) * 4.5;
                      fx = f2[~~db]
                  } else if (ii == 1) {
                      fx = x[V] * W
                  }
                  var M = e * a + V
                    , ds = io[M] * (.75 + .25 * fx)
                    , gP = cJ[(M << 2) + 3] * (1 / 255)
                    , fa = Math.max(0, Math.min(255, ~~ds));
                  dK += fa * gP,
                  fJ += gP;
                  io[M] = fa
              }
          }
          dK /= fJ;
          var c2 = 128 + 1.26 * (dK - 128)
            , cp = .08 + .25 * Math.abs((128 - dK) / 128)
            , eN = 1 + cp * gc;
          for (var M = 0; M < c; M++) {
              var ds = c2 + (io[M] - c2) * eN;
              io[M] = Math.max(0, Math.min(255, ~~ds))
          }
          if (gc > 46)
              j.round(io);
          g3.Gm(io, X.buffer, D, F)
      }
      for (var M = 0; M < z.buffer.length; M += 4)
          X.buffer[M + 3] = z.buffer[M + 3]
  }
  ;
  g3.Gm = function(n, z, C, D) {
      var F = n.length
        , X = C.h
        , E = C.Q
        , f = C.O
        , a = D.h
        , q = D.Q
        , c = D.O;
      for (var M = 0; M < F; M++) {
          var K = n[M] * (1 / 255)
            , R = 1 - K
            , J = M << 2;
          z[J] = ~~(X * R + a * K);
          z[J + 1] = ~~(E * R + q * K);
          z[J + 2] = ~~(f * R + c * K)
      }
  }
  ;
  g3.sg = function(n) {
      if (n == 6)
          n = 2;
      var z = "blocks canvas frosted tinylens brick burlap".split(" ")[n];
      if (g3.F$ == null)
          g3.F$ = [];
      if (g3.F$[n] == null) {
          var C, D;
          if (n == 2) {
              D = new cc(0,0,128,128);
              var F = fd.zP("AdNs");
              F.Mnch.v = !0;
              F.Dstr.v.Dstr = "Gsn";
              F.Nose.v.val = 50;
              var C = j.T(D.t() * 4)
                , X = C.slice(0);
              new Uint32Array(X.buffer).fill(4286611584);
              fd.o$("AdNs", {
                  buffer: X,
                  rect: D
              }, F, 0, 0, {
                  buffer: C,
                  rect: D
              })
          } else {
              var E = fC.Ej.get("tex/" + z, !0)[0];
              D = E.Pi;
              C = new Uint8Array(E.data)
          }
          var f = j.T(D.t());
          j.Ni(C, f, 0);
          g3.F$[n] = [D, f]
      }
      return g3.F$[n]
  }
  ;
  g3.JF = function(n, z, C, D, F) {
      if (F <= 1) {
          F = Math.round(F);
          g3.gu(n, z, C, D, [1, 16, 4][F]);
          return
      }
      var X = F * .42;
      if (n) {
          j.Y7.el(n, C, D, X, 3);
          n.set(C)
      }
      if (z) {
          j.Y7.el(z, C, D, X, 3);
          z.set(C)
      }
  }
  ;
  g3.gu = function(n, z, C, D, F) {
      var X = j.nI.lI([1, 2, 1, 2, F, 2, 1, 2, 1]);
      if (n) {
          C.set(n);
          j.nI.kN(n, C, D.d, D.v, X);
          n.set(C)
      }
      if (z) {
          C.set(z);
          j.nI.kN(z, C, D.d, D.v, X);
          z.set(C)
      }
  }
  ;
  g3.lH = function(n) {
      if (n == null)
          return new ir(0,0);
      var z = 0
        , C = n.GEfs ? n.GEfs.v : [{
          v: n
      }];
      for (var M = 0; M < C.length; M++) {
          var D = C[M].v
            , X = 1e4;
          if (D.GELv && !D.GELv.v)
              continue;
          var F = D.GEfk.v.GEft;
          if (F == "GlwE" || F == "Phtc" || F == "BsRl" || F == "PlsW" || F == "Chrm" || F == "Gls" || F == "OcnR")
              X = 0;
          z = Math.max(z, X)
      }
      return new ir(z,z)
  }
  ;
  g3.An = function(n) {
      var z = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        , C = [0, .6, .7, .8, 1, 1.2, 1.4, 1.6, 1.8, 2, 2.2, 2.6, 3, 4, 5][n];
      for (var M = 0; M < 13; M++) {
          var D = M - 6;
          z[M] = 1 / (C * Math.sqrt(2 * Math.PI)) * Math.exp(-.5 * (D / C) * (D / C))
      }
      return z
  }
  ;
  g3.oU = function(n, z, C, D, F) {
      var X = g3.An(F)
        , E = 6
        , f = 13;
      for (var a = 0; a < D; a++)
          for (var q = 0; q < C; q++) {
              var c = a * C + q << 1
                , K = 0
                , R = 0;
              for (var M = 0; M < f; M++) {
                  var J = q + M - E
                    , w = J < 0 ? 0 : J >= C ? C - 1 : J
                    , p = (a * C + w) * 2
                    , I = X[M];
                  K += I * n[p];
                  R += I * n[p + 1]
              }
              z[c] = K;
              z[c + 1] = R
          }
  }
  ;
  g3.$d = function(n, z, C, D, F) {
      var X = g3.An(F)
        , E = 6
        , f = 13;
      for (var a = 0; a < D; a++)
          for (var q = 0; q < C; q++) {
              var c = a * C + q << 1
                , K = 0
                , R = 0;
              for (var M = 0; M < f; M++) {
                  var J = a + M - E
                    , w = J < 0 ? 0 : J >= D ? D - 1 : J
                    , p = (w * C + q) * 2
                    , I = X[M];
                  K += I * n[p];
                  R += I * n[p + 1]
              }
              z[c] = K;
              z[c + 1] = R
          }
  }
  ;
  function hr() {}
  hr.a4 = [2, 5, 5, 7, 4, 4];
  hr.Un = "norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
  hr.SV = "Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
  hr.K6 = [[15, 10, 0], [15, 10, 1], [15, 10, 2], [15, 10, 3], [15, 10, 4], [15, 10, 5], [15, 10, 6], [15, 10, 7], [15, 10, 8], [15, 10, 9], [15, 10, 10], [15, 10, 11], [15, 10, 12], [15, 10, 13], [15, 10, 14], [15, 10, 15], [15, 10, 16], [15, 10, 17], [15, 10, 18], [15, 10, 19], [15, 10, 20], [15, 10, 21], [15, 10, 22], [15, 10, 23], [15, 10, 24], [15, 10, 25], [15, 10, 26]];
  hr.rl = ["normal", null, "darken", "multiply", "color-burn", null, null, "lighten", "screen", "color-dodge", null, null, "overlay", "soft-light", "hard-light", null, null, null, null, "difference", "exclusion", null, null, "hue", "saturation", "color", "luminosity"];
  hr.eS = function(n) {
      if (n == "passThrough")
          return "pass";
      return hr.Un[hr.SV.indexOf(n)]
  }
  ;
  hr.v2 = function(n) {
      if (n == "pass")
          return "passThrough";
      return hr.SV[hr.Un.indexOf(n)]
  }
  ;
  hr.getName = function(n) {
      return hr.K6[hr.Un.indexOf(n)]
  }
  ;
  function Q() {
      this.rect = null;
      this.Gx = "norm";
      this.opacity = 255;
      this.$I = !1;
      this.j1 = 0;
      this.nq = 0;
      this.Uq = !0;
      this.s5 = [];
      for (var M = 0; M < 10; M++)
          this.s5.push(0, 0, 255, 255);
      this.name = null;
      this.add = {};
      this.buffer = null;
      this.iz = null;
      this.uq = null;
      this.z = null;
      this.Cu = null;
      this.a78 = 30;
      this.Y2 = Q.jJ();
      this.ajK = Q.jJ();
      this.acV = Q.jJ();
      this.a45 = Q.jJ();
      this.kl = 0;
      this.XE = !1;
      this.aU = null;
      this.XB = new Q.kh
  }
  Q.jJ = function() {
      var n = l.w("canvas");
      n.width = n.height = 30;
      return n.getContext("2d")
  }
  ;
  Q.kh = function() {
      this.oe = !0;
      this.wD = !0;
      this.Ug = j.T(0);
      this.acE = j.T(0);
      this.CT = null;
      this.CJ = {};
      this.a8_ = null;
      this.aj = null;
      this.Mh = null;
      this.ug = null;
      this.pp = null;
      this.SD = null;
      this.HL = null;
      this.Fj = null;
      this.mI = null;
      this.K9 = null;
      this.dm = null;
      this.sT = null;
      this.oG = !1
  }
  ;
  Q.kh.prototype.XX = function() {
      this.oe = !1;
      this.wD = !1;
      this.CT = null;
      this.oG = N.O3
  }
  ;
  Q.kh.prototype.a3o = function() {
      fg.e3(this.CJ);
      this.Ug = j.T(0);
      this.acE = j.T(0);
      if (this.ug)
          this.ug.delete();
      if (this.pp)
          this.pp.delete();
      this.ug = null;
      this.pp = null;
      var n = [this.SD, this.HL, this.Fj, this.mI, this.K9, this.dm];
      for (var M = 0; M < 6; M++)
          if (n[M] != null && n[M]instanceof N.Dv)
              n[M].delete();
      this.SD = null;
      this.HL = null;
      this.Fj = null;
      this.mI = null;
      this.K9 = null;
      this.dm = null
  }
  ;
  Q.prototype.J = function(n) {
      if (n == null)
          n = this.rect.clone();
      if (this.XB.CT == null)
          this.XB.CT = n;
      else
          this.XB.CT = this.XB.CT.QH(n)
  }
  ;
  Q.prototype.d4 = function() {
      return this.add.lsct == g9.WQ || this.add.lsct == g9.cP
  }
  ;
  Q.prototype.Ct = function() {
      var n = this.add;
      return n.SoCo != null || n.GdFl != null || n.PtFl != null
  }
  ;
  Q.prototype.ZI = function() {
      var n = this.add.lmfx;
      if (n == null)
          return;
      var z = ["GrFl", "patternFill"];
      for (var M = 0; M < z.length; M++) {
          var C = g$.IT[g$.order.indexOf(z[M])]
            , D = n[C].v;
          if (D.length == 0)
              continue;
          for (var F = 0; F < D.length; F++) {
              var X = D[F].v;
              if (X.enab.v && (X.Algn == null || !X.Algn.v))
                  this.XB.wD = !0
          }
      }
  }
  ;
  Q.prototype.Wb = function() {
      var n = this.z;
      if (this.Ct())
          n = this.sN();
      if (!N.O3)
          return n.v$();
      if (this.XB.pp == null || this.XB.oe || N.O3 != this.XB.oG) {
          if (this.XB.pp)
              this.XB.pp.delete();
          this.XB.pp = new N.Sr(n.Td().d,n.Td().v);
          this.XB.pp.set(n.v$())
      }
      return this.XB.pp
  }
  ;
  Q.prototype.HO = function(n) {
      var z = this.rect
        , C = this.buffer;
      if (!N.O3) {
          var D = this.yG(n, C, z);
          if (D) {
              C = D.oz;
              z = D.rect
          }
          return C
      }
      if (this.XB.CT != null || N.O3 != this.XB.oG) {
          var D = this.yG(n, C, z);
          if (D) {
              C = D.oz;
              z = D.rect
          }
          var F = z;
          if (N.O3 != this.XB.oG || this.XB.ug == null || this.XB.ug.d != F.d || this.XB.ug.v != F.v) {
              if (this.XB.ug)
                  this.XB.ug.delete();
              this.XB.ug = new N.Dv(F.d,F.v);
              this.XB.ug.set(C)
          } else {
              var X = this.XB.CT.clone();
              X.offset(-z.x, -z.y);
              this.XB.ug.set(C, X)
          }
      }
      return this.XB.ug
  }
  ;
  Q.prototype.ge = function() {
      var n = this.z;
      if (this.Ct())
          n = this.sN();
      return n != null && n.isEnabled && (n.Jo() == 0 || n.Jo() != 0 && !n.rect.kX())
  }
  ;
  Q.prototype.yG = function(n, z, C) {
      if (this.ei()) {
          var D = this.yM(n);
          if (D.z && D.z.isEnabled && (!D.z.rect.kX() || D.z.color == 0)) {
              var F = this.add.SoLd.filterFX.v;
              D.z.Eo = F.filterMaskDensity ? F.filterMaskDensity.v : 255;
              D.z.PJ = F.filterMaskFeather ? F.filterMaskFeather.v : 0;
              var X = D.buffer
                , E = D.z.CK(C);
              j.eL(E);
              z = z.slice(0);
              j.$.lY(X, D.rect, z, C, E, C, 0, C, 1);
              return {
                  oz: z,
                  rect: C
              }
          }
      }
  }
  ;
  Q.prototype.aiG = function() {
      var n = {
          z$: !1,
          nX: !1,
          R8: 0,
          Cn: 0
      };
      if (this.add.vmsk && this.add.vmsk.isEnabled)
          n.nX = !0;
      if (this.sN() && this.sN().isEnabled)
          n.z$ = !0;
      if (n.z$ && n.nX) {
          n.R8 = this.sN().rect.x - this.add.vmsk.sN().rect.x;
          n.Cn = this.sN().rect.y - this.add.vmsk.sN().rect.y
      }
      return n
  }
  ;
  Q.prototype.z4 = function(n) {
      if (this.add.lsct == g9.Jg)
          return;
      var z = this
        , C = this.sN() != null && this.sN().fe
        , D = this.add.vmsk != null && this.add.vmsk.fe
        , F = this.aiG()
        , X = JSON.stringify(F) != this.XB.a8_ || F.z$ && C || F.nX && D;
      if (X) {
          if (F.nX) {
              var E = this.add.vmsk.sN();
              if (F.z$) {
                  this.z = this.sN().Lm(E);
                  this.XB.aj = new ir(this.z.rect.x - this.sN().rect.x,this.z.rect.y - this.sN().rect.y)
              } else
                  this.z = E
          }
          if (this.z)
              this.XB.oe = !0;
          if (this.z)
              this.XB.Mh = new ir(this.rect.x - this.z.rect.x,this.rect.y - this.z.rect.y);
          if (F.z$)
              this.sN().fe = !1;
          if (F.nX)
              this.add.vmsk.fe = !1;
          this.J()
      } else {
          if (F.z$ && F.nX) {
              this.z.rect.x = this.sN().rect.x + this.XB.aj.x;
              this.z.rect.y = this.sN().rect.y + this.XB.aj.y
          }
      }
      if (z.Ct()) {
          this.rF(n)
      }
      if (z.I8()) {
          var f;
          if (this.z)
              f = new ir(this.rect.x - this.z.rect.x,this.rect.y - this.z.rect.y);
          if (this.z && this.z.isEnabled && (this.XB.Mh == null || !f.jm(this.XB.Mh))) {
              this.XB.Mh = f;
              this.J();
              this.XB.oe = !0
          }
      }
      if (ad.get(z.add) != null)
          this.XB.oe = !0;
      this.XB.a8_ = JSON.stringify(F)
  }
  ;
  Q.prototype.rF = function(n) {
      var z = this, C = z.add.vstk, D = new cc(0,0,n.d,n.v), F, X = z.add.vmsk ? this.add.vmsk.sN() : null, a = !0;
      if (X && X.isEnabled && X.Jo() == 0)
          F = X.Td().clone();
      else
          F = D;
      var E = z.sN();
      if (E && E.isEnabled && E.Jo() == 0)
          F = F.Yi(z.z.Td());
      var f = X && C;
      if (C && (!C.strokeEnabled.v || C.strokeStyleLineWidth.v.val == 0))
          f = !1;
      if (C && !C.fillEnabled.v && f)
          a = !1;
      var q = j.T(F.t() * 4);
      if (a) {
          if (z.add.SoCo)
              fg.Xu(q, z.add.SoCo.Clr.v);
          if (z.add.GdFl) {
              var c = X && X.color == 0 ? j.i.Rb(z.add.vmsk.g, null, !0) : null;
              fg.PZ(z.add.GdFl, q, F, n, null, c)
          }
          if (z.add.PtFl)
              fg.hG(z.add.PtFl, q, F, n, z.add.fxrp)
      }
      if (X) {
          var K = X.Eo;
          if (f)
              X.Eo = 255;
          var R = j.T(F.t());
          if (X.Jo() != 0)
              R.fill(Math.round(X.Jo()));
          if (X && X.isEnabled) {
              var J = X.Td()
                , w = X.v$();
              if (J.jm(F))
                  j.YY(w, R);
              else
                  j.v8(w, J, R, F)
          }
          if (z.add.SoCo && a) {
              j.bl(R, q, 3)
          } else
              j.NI(R, F, q, F);
          if (f)
              X.Eo = K
      }
      z.buffer = q;
      z.rect = F;
      if (f) {
          var p = g$.Bt.pA.indexOf(C.strokeStyleLineAlignment.v.strokeStyleLineAlignment)
            , I = C.strokeStyleContent.v
            , m = g$.Bt.UN.indexOf(I.classID)
            , A = this.add.vmsk.sN(C);
          if (z.rect.jm(D))
              z.rect = z.rect;
          else if (p != 0) {
              var U = z.rect.QH(A.Td())
                , r = j.T(U.t() * 4);
              j.X3(z.buffer, z.rect, r, U);
              z.buffer = r;
              z.rect = U
          }
          var K = A.Eo;
          A.Eo = 255;
          var $ = A.CK(z.rect);
          A.Eo = K;
          if (A.color == 255)
              j.eL($);
          var k = j.T(z.rect.t() * 4);
          if (m == 0)
              fg.Xu(k, I.Clr.v);
          if (m == 1)
              fg.PZ(I, k, z.rect, n, null, X.color == 0 ? X.rect : null);
          if (m == 2)
              fg.hG(I, k, z.rect, n, z.add.fxrp);
          var G = C.strokeStyleOpacity.v.val / 100;
          if (G != 1)
              j.bc($, G);
          j.bl($, k, 3);
          if (A.color == 255)
              p = 2 - p;
          if (p == 0) {
              j.$.xN("norm", k, z.rect, z.buffer, z.rect, z.rect, 1);
              j.NI(R, z.rect, z.buffer, z.rect)
          }
          if (p == 1) {
              j.$.xN("norm", k, z.rect, z.buffer, z.rect, z.rect, 1)
          }
          if (p == 2) {
              j.eL(R);
              j.$.lY(k, z.rect, z.buffer, z.rect, R, F, 255, z.rect, 1, !1);
              j.eL(R)
          }
          if (A.Eo != 255) {
              var i = k.slice(0);
              j.xM(i, 4278190080, 16777215);
              j.$.xN("norm", i, z.rect, z.buffer, z.rect, z.rect, 1 - A.Eo / 255)
          }
          K = X.Eo;
          X.Eo = 255;
          this.acE = X.CK(z.rect);
          X.Eo = K
      }
      this.J()
  }
  ;
  Q.prototype.V_ = function(n, z) {
      var C = this
        , D = C.add.SoLd.Idnt.v
        , F = C.add.SoLd
        , X = j.K.AN(O.o.VV(F.nonAffineTransform))
        , E = n.bG(D, F.Crop ? F.Crop.v : null, [X.d, X.v], F.Impr.v.classID);
      if (E == null)
          return;
      var f = E.qY;
      F.Sz.v.Wdth.v = f[1].d;
      F.Sz.v.Hght.v = f[1].v;
      var a = F.warp.v
        , q = O.o.VV(F.nonAffineTransform)
        , c = j.V.qw(q, f[1]);
      if (a && !j.Y0.Pb(a)) {
          var X = j.K.AN(j.Y0.ea(a))
            , K = X.x
            , R = X.y
            , J = 1 / X.d
            , w = 1 / X.v;
          c = j.V.qw(q);
          c = j.V.Lm(c, [J, 0, -K * J, 0, w, -R * w, 0, 0])
      }
      var p = O.o._O(f, z ? 0 : 1, c, a, null, null, null, z);
      if (p == null) {
          C.buffer = j.T();
          C.rect = new cc
      } else if (C.ei()) {
          var I = C.yM(n);
          I.buffer = p.buffer;
          I.rect = p.rect.clone();
          this.co(n, z)
      } else {
          C.buffer = p.buffer;
          C.rect = p.rect
      }
      C.z4(n);
      C.J();
      n.J()
  }
  ;
  Q.prototype.co = function(n, z) {
      if (z == null)
          z = !1;
      var C = this.yM(n)
        , D = this.add.SoLd.filterFX.v
        , F = fd.a1$(D)
        , X = new cc(0,0,n.d,n.v)
        , E = C.rect.QH(X)
        , f = C.rect.clone();
      f.TR(F.x, F.y);
      var a = {
          buffer: null,
          rect: E.Yi(f)
      };
      a.buffer = j.T(a.rect.t() * 4);
      j.X3(C.buffer, C.rect, a.buffer, a.rect);
      if (D.enab.v && z == !1) {
          var q = D.filterFXList.v;
          for (var M = 0; M < q.length; M++) {
              var c = q[M].v;
              if (c.enab.v == !1)
                  continue;
              var K = c.blendOptions.v
                , R = hr.eS(K.Md.v.BlnM)
                , J = K.Opct.v.val / 100
                , w = j._.Jo(c.FrgC.v)
                , p = j._.Jo(c.BckC.v)
                , I = fd.FE(c)
                , m = {
                  buffer: j.T(a.buffer.length),
                  rect: a.rect.clone()
              }
                , A = c.Fltr ? c.Fltr.v : null;
              if (ad.y7[I] != null) {
                  var U = ad.y7[I]
                    , r = ad.bN(U, A);
                  if (r)
                      ad.o$(r, a.buffer, m.buffer, a.rect)
              } else
                  fd.o$(I, a, A, w, p, m, [n.add.lnk2 ? n.add.lnk2 : [], this.sN(), n.fD]);
              if (R == "norm" && J == 1)
                  a = m;
              else if (R == "norm") {
                  j.$.lY(m.buffer, m.rect, a.buffer, a.rect, null, null, null, a.rect, J)
              } else {
                  j.$.xN(R, m.buffer, m.rect, a.buffer, a.rect, a.rect, J)
              }
          }
      }
      this.rect = a.rect;
      this.buffer = a.buffer;
      this.BL();
      this.J();
      n.J()
  }
  ;
  Q.prototype.B6 = function(n, z, C) {
      this.aU = this.gN(n, z, C)
  }
  ;
  Q.prototype._L = function(n, z) {
      var C = this.gN(n, z, !0);
      if (C == null)
          return null;
      var D = {
          Z0: C.kl,
          Q5: C.yx,
          rect: C.pK
      };
      if (D.Z0 == 1 || D.Z0 == 3) {
          var F = D.rect
            , X = j.T(F.d * F.v * 4);
          j.bl(D.Q5, X, 0);
          j.bl(D.Q5, X, 1);
          j.bl(D.Q5, X, 2);
          j.zy(n.N.channel, n.N.rect, X, F);
          D.Q5 = X
      }
      return D
  }
  ;
  Q.prototype.gN = function(n, z, C) {
      var D, F, X, E, f, a, q;
      if (this.kl <= 0) {
          var c = j.T(this.rect.t());
          j.Ni(this.buffer, c, 3);
          D = j.Ar.n$(z, {
              channel: c,
              rect: this.rect
          }, "intersection");
          if (D == null)
              return null;
          var K = j.ae(D.channel, D.rect);
          E = D.rect.clone();
          f = this.rect.clone();
          F = j.T(E.t() * 4);
          j.X3(this.buffer, f, F, E);
          j.bl(D.channel, F, 3);
          X = this.buffer.slice(0);
          if (!C) {
              var R = z.channel.slice(0);
              j.eL(R);
              j.NI(R, z.rect, X, f)
          }
          a = this.buffer.slice(0);
          q = this.rect.clone()
      }
      if (this.kl == 1 || this.kl == 3) {
          var J = this.kl == 1 ? this.sN() : this.yM(n).z;
          E = z.rect.clone();
          f = J.rect.clone();
          F = J.KP(E);
          var X = J.channel.slice(0);
          if (!C)
              j.$.qj(J.color == 255 ? j.nO(E.t()) : j.mo(E.t()), E, X, f, z.channel, E, 1);
          a = J.channel.slice(0);
          q = J.rect.clone()
      }
      return {
          kl: this.kl,
          yx: F,
          pK: E,
          i6: X,
          zQ: f,
          ys: a,
          IG: q
      }
  }
  ;
  Q.prototype.qX = function(n, z) {
      var C = this.aU;
      if (C.kl == 0) {
          this.rect = C.IG;
          this.buffer = C.ys;
          this.J()
      }
      if (C.kl == 1 || C.kl == 3) {
          var D = C.kl == 1 ? this.sN() : this.yM(n).z;
          D.channel = C.ys;
          D.rect = C.IG;
          if (this.kl == 1) {
              D.fe = !0;
              this.z4(n)
          }
          if (this.kl == 3)
              this.J()
      }
      this.aU = z
  }
  ;
  Q.prototype.D6 = function(n, z) {
      if (this.kl <= 0 && z.rect.jm(this.rect)) {
          var C = j.T(this.rect.t());
          j.Ni(this.buffer, C, 3);
          if (j.jm(n.N.channel, C)) {
              var D = this.rect
                , F = this.buffer;
              this.aU = {
                  kl: this.kl,
                  yx: F.slice(0),
                  pK: D.clone(),
                  i6: j.T(0),
                  zQ: new cc,
                  ys: j.T(0),
                  IG: new cc
              };
              return !0
          }
      }
      var X = this.aU;
      if (X == null)
          return !1;
      if (X.kl != this.kl)
          return !1;
      if (!z.rect.jm(X.pK))
          return !1;
      var E = X.zQ.QH(X.pK);
      if (X.kl <= 0) {
          if (!E.jm(this.rect))
              return !1;
          var f = j.T(X.yx.length >> 2);
          j.Ni(X.yx, f, 3);
          if (!j.jm(z.channel, f))
              return !1;
          var a = j.T(E.d * E.v * 4);
          j.X3(X.i6, X.zQ, a, E);
          j.$.xN("norm", X.yx, X.pK, a, E, E, 1);
          return j.jm(a, this.buffer)
      }
      if (X.kl == 1 || X.kl == 3) {
          var q = X.kl == 1 ? this.sN() : this.yM(n).z;
          if (!E.jm(q.rect))
              return !1;
          var c = j.T(E.t());
          c.fill(q.color);
          j.v8(X.i6, X.zQ, c, E);
          j.$.qj(X.yx, X.pK, c, E, z.channel, E, 1);
          return j.jm(c, q.channel)
      }
  }
  ;
  Q.prototype.h2 = function(n, z, C, D) {
      var F = this.aU;
      F.pK.offset(z, C);
      var X = F.zQ.QH(F.pK);
      if (F.kl <= 0) {
          var E = j.T(X.t() * 4);
          j.X3(F.i6, F.zQ, E, X);
          j.$.xN("norm", F.yx, F.pK, E, X, X, 1);
          this.buffer = E;
          this.rect = X;
          this.J()
      } else {
          var f = this.kl == 1 ? this.sN() : this.yM(n).z
            , a = j.T(X.t());
          a.fill(f.color);
          j.v8(F.i6, F.zQ, a, X);
          j.$.qj(F.yx, F.pK, a, X, D.channel, X, 1);
          f.channel = a;
          f.rect = X.clone();
          if (this.kl == 1) {
              f.fe = !0;
              this.z4(n)
          }
          if (this.kl == 3)
              this.J()
      }
  }
  ;
  Q.prototype.dj = function() {
      var n = [-1, 0, 1, 2];
      if (this.z)
          n.push(-2);
      if (this.Cu)
          n.push(-3);
      return n
  }
  ;
  Q.prototype.getName = function() {
      return this.add.luni ? this.add.luni : this.name
  }
  ;
  Q.prototype.CZ = function(h) {
      this.add.luni = this.name = h
  }
  ;
  Q.prototype.UA = function(n) {
      var z = this.add.lnsr
        , C = this.add.TySh;
      if (z == "rend" && C)
          this.CZ(bZ.T5(C.uR).replace(/(?:\r\n|\r|\n)/g, " ").slice(0, 32))
  }
  ;
  Q.prototype.y_ = function() {
      return (this.j1 & 1 << 1) == 0
  }
  ;
  Q.prototype.I8 = function() {
      return (this.j1 & 1 << 4) == 0
  }
  ;
  Q.prototype.Be = function() {
      return (this.j1 & 1 << 5) != 0
  }
  ;
  Q.prototype.a0g = function() {
      var n = this;
      if (n.add.lnsr != "bgnd") {
          n.add.lnsr = "bgnd";
          n.CZ("Background");
          n.add.lspf = 1 << 2
      }
  }
  ;
  Q.prototype.a5X = function() {
      var n = this;
      if (n.add.lnsr == "bgnd") {
          delete n.add.lnsr;
          n.CZ("Layer 0");
          n.add.lspf = 0
      }
  }
  ;
  Q.prototype.Ks = function(n) {
      var z = this.add.lspf;
      return z == null ? !1 : (z >> n & 1) != 0
  }
  ;
  Q.prototype.Hu = function(n) {
      if (n && !this.y_())
          this.j1 -= 2;
      if (!n && this.y_())
          this.j1 += 2
  }
  ;
  Q.prototype.BM = function() {
      var n = this.add.lmfx;
      if (n == null)
          return !1;
      for (var z in n) {
          if (z == "masterFXSwitch")
              continue;
          if (z == "Scl")
              continue;
          if (z == "classID")
              continue;
          if (n[z].v.length > 0)
              return !0
      }
      return !1
  }
  ;
  Q.prototype.ei = function() {
      return this.add.SoLd != null && this.add.SoLd.filterFX != null
  }
  ;
  Q.prototype.LE = function() {
      var n = this.add.lmfx;
      if (n == null)
          return !1;
      if (!n.masterFXSwitch.v)
          return !1;
      for (var z in n) {
          if (z == "masterFXSwitch")
              continue;
          if (z == "Scl")
              continue;
          if (z == "classID")
              continue;
          var C = n[z].v;
          for (var M = 0; M < C.length; M++)
              if (C[M].v.enab.v)
                  return !0
      }
      return !1
  }
  ;
  Q.prototype.xA = function(n, z, C, D) {
      var F = new cc
        , X = this.wP(n, C, D);
      if (X.indexOf(0) != -1)
          F = F.QH(this.rect);
      if (X.indexOf(1) != -1)
          F = F.QH(this.sN().Td());
      if (X.indexOf(2) != -1) {
          var E = this.add.vmsk, f;
          if (z) {
              if (E.Hh.length > 1) {
                  var a = j.i.fA(E.g, null, E.Hh);
                  f = j.K.AN(a)
              } else
                  f = j.i.Rb(E.g, E.C.length != 0 ? E.C : null)
          } else
              f = j.i.Rb(E.g);
          F = F.QH(f)
      }
      if (X.indexOf(3) != -1)
          F = F.QH(this.yM(n).z.Td());
      if (X.length == 0 && this.Ct())
          F = new cc(0,0,n.d,n.v);
      return F
  }
  ;
  Q.prototype.q9 = function() {
      var n = this.add.artb
        , z = n.artboardBackgroundType.v
        , C = 0;
      if (z == 1)
          C = 4294967295;
      else if (z == 2)
          C = 4278190080;
      else if (z == 3)
          C = 0;
      else if (z == 4) {
          C = n.Clr.v;
          C = 255 << 24 | C.Bl.v << 16 | C.Grn.v << 8 | C.Rd.v
      } else
          throw z;
      return C
  }
  ;
  Q.prototype.qJ = function() {
      var n = this.add.artb.artboardRect.v
        , z = n.Btom.v
        , C = n.Left.v
        , D = n.Rght.v
        , top = n.Top.v;
      return new cc(C,top,D - C,z - top)
  }
  ;
  Q.prototype.zk = function(n) {
      var z = Q.sS(n);
      if (this.add.artb == null)
          this.add.artb = {
              classID: "artboard",
              artboardRect: {
                  t: "Objc",
                  v: null
              },
              artboardBackgroundType: {
                  t: "long",
                  v: 1
              }
          };
      this.add.artb.artboardRect.v = z
  }
  ;
  Q.sS = function(n) {
      var z = {
          classID: "classFloatRect",
          Top: {
              t: "doub",
              v: 0
          },
          Left: {
              t: "doub",
              v: 0
          },
          Btom: {
              t: "doub",
              v: 0
          },
          Rght: {
              t: "doub",
              v: 0
          }
      };
      z.Btom.v = n.y + n.v;
      z.Left.v = n.x;
      z.Rght.v = n.x + n.d;
      z.Top.v = n.y;
      return z
  }
  ;
  Q.prototype.wP = function(n, z, C) {
      var D = []
        , F = this
        , X = this.XE;
      if (!z && F.XE && C) {
          D.push(2)
      } else if (F.kl <= 0 || z) {
          if (F.I8())
              if (!this.rect.kX())
                  D.push(0);
          if (F.sN() && !F.sN().rect.kX())
              if (F.sN().Ze || z)
                  D.push(1);
          if (F.add.vmsk)
              if (F.add.vmsk.Ze || z)
                  D.push(2);
          if (F.ei() && F.yM(n).z && !F.yM(n).z.rect.kX())
              D.push(3)
      } else if (F.kl == 1) {
          D.push(1);
          if (F.sN().Ze && !F.sN().rect.kX()) {
              if (F.I8())
                  if (!this.rect.kX())
                      D.push(0);
              if (F.add.vmsk)
                  if (F.add.vmsk.Ze)
                      D.push(2)
          }
      } else if (F.kl == 3 && !F.yM(n).z.rect.kX())
          D.push(3);
      if (F.add.artb && D.indexOf(0) == -1)
          D.push(0);
      D.sort();
      return D
  }
  ;
  Q.prototype.sN = function() {
      var n = this;
      return n.Cu ? n.Cu : n.add.vmsk && n.add.vmsk.isEnabled ? null : n.z
  }
  ;
  Q.prototype.yM = function(n) {
      var z = this.add.SoLd.placed.v
        , C = n.add.FEid;
      if (C == null)
          return null;
      for (var M = 0; M < C.length; M++)
          if (C[M].id == z)
              return C[M];
      return null
  }
  ;
  Q.prototype.extend = function(n) {
      j.amo(this, n)
  }
  ;
  Q.prototype.OF = function(n, z, C) {
      var D = n.clone();
      if (this.LE()) {
          var F = this.add.lmfx
            , X = z.root.H0(z.W.indexOf(this))
            , E = F.gradientFillMulti.v
            , f = !1;
          for (var M = 0; M < E.length; M++)
              if (E[M].v.enab.v && E[M].v.Algn.v)
                  f = !0;
          if (f)
              D = D.QH(X.Td(z, !1));
          var a = fg.akL(this, z, C);
          D.offset(a.x, a.y);
          D.d += a.d;
          D.v += a.v
      }
      return D
  }
  ;
  Q.prototype.BL = function() {
      if (this.I8())
          j.iw(this);
      var n = this.sN();
      if (n)
          n.BL()
  }
  ;
  Q.prototype.clone = function() {
      var n = new Q;
      n.rect = this.rect.clone();
      n.buffer = this.buffer.slice(0);
      n.Gx = this.Gx;
      n.opacity = this.opacity;
      n.$I = this.$I;
      n.j1 = this.j1;
      n.name = this.name;
      n.s5 = this.s5.slice(0);
      if (this.z)
          n.z = this.z.clone();
      if (this.Cu)
          n.Cu = this.Cu.clone();
      for (var z in this.add)
          n.add[z] = ac.clone(z, this.add[z]);
      return n
  }
  ;
  Q.prototype.TP = function(n) {
      var z = this;
      if (z.add.TySh)
          delete z.add.TySh;
      if (z.add.SoLd) {
          var C = this.yG(n, this.buffer, this.rect);
          if (C) {
              this.buffer = C.oz;
              this.rect = C.rect;
              this.J()
          }
          delete z.add.SoLd
      }
      if (z.add.SoCo || z.add.GdFl || z.add.PtFl) {
          if (z.add.vogk)
              delete z.add.vogk;
          if (z.add.SoCo)
              delete z.add.SoCo;
          if (z.add.GdFl)
              delete z.add.GdFl;
          if (z.add.PtFl)
              delete z.add.PtFl;
          if (z.add.vmsk) {
              console.log(z.Cu, z.z);
              delete z.add.vmsk;
              if (z.Cu == null && z.z)
                  delete z.z;
              else if (z.Cu != null && z.z != null) {
                  z.z = z.Cu;
                  delete z.Cu
              }
          }
      }
      if (!z.d4() && ad.get(z.add) == null && !this.I8())
          this.j1 -= 16
  }
  ;
  Q.prototype.xa = function(n) {
      var z = 255
        , C = 0;
      if (n == 2) {
          var D = this.add.SoLd.filterFX.v;
          if (D.filterMaskDensity)
              z = D.filterMaskDensity.v;
          if (D.filterMaskFeather)
              C = D.filterMaskFeather.v
      } else {
          var F = n == 0 ? this.sN() : this.add.vmsk;
          z = F.Eo;
          C = F.PJ
      }
      return {
          ry: n,
          Jh: z,
          sq: C
      }
  }
  ;
  Q.prototype.a1 = function(n) {
      if (n.ry == 2) {
          var z = this.add.SoLd.filterFX.v;
          if (n.Jh == 255)
              delete z.filterMaskDensity;
          else
              z.filterMaskDensity = {
                  t: "long",
                  v: n.Jh
              };
          if (n.sq == 0)
              delete z.filterMaskFeather;
          else
              z.filterMaskFeather = {
                  t: "doub",
                  v: n.sq
              };
          this.J()
      } else {
          var C = n.ry == 0 ? this.sN() : this.add.vmsk;
          C.Eo = n.Jh;
          C.PJ = n.sq;
          C.fe = !0
      }
  }
  ;
  Q.prototype.CD = function() {
      var n = this
        , z = n.add.vmsk;
      if (z == null)
          return;
      n.add.vogk = Q.CD(z.g)
  }
  ;
  Q.CD = function(n) {
      var z = []
        , C = j.i.AL(n);
      for (var D = 0; D < C; D++)
          z.push(j.hL.mo());
      return z
  }
  ;
  var g9 = {
      n3: 0,
      WQ: 1,
      cP: 2,
      Jg: 3
  };
  Q.im = function() {
      this.name = "Mask";
      this.ip = !1;
      this.Ym = {
          h: 255,
          Q: 0,
          O: 0
      };
      this.gy = 50;
      this.Gj = 0;
      this.color = 255;
      this.Ze = !0;
      this.isEnabled = !0;
      this.CC = !1;
      this.Eo = 255;
      this.PJ = 0;
      this.rect = new cc;
      this.channel = j.T(0);
      this.rI = null;
      this.af3 = null;
      this.fe = !0
  }
  ;
  Q.im.prototype.Lm = function(n) {
      if (!this.isEnabled)
          return n;
      var z = new Q.im;
      z.color = Math.round(this.Jo() * n.Jo() / 255);
      if (this.Jo() == 0 && n.Jo() == 0)
          z.rect = this.Td().Yi(n.Td());
      else if (n.Jo() == 0)
          z.rect = n.Td().clone();
      else if (this.Jo() == 0)
          z.rect = this.Td().clone();
      else
          z.rect = this.Td().QH(n.Td());
      z.channel = this.CK(z.rect);
      z.Eo = 255;
      z.PJ = 0;
      var C = n.CK(z.rect);
      j.acH(C, z.rect, z.channel, z.rect);
      return z
  }
  ;
  Q.im.prototype.Td = function() {
      if (this.PJ == 0)
          return this.rect;
      var n = Math.ceil(this.PJ * 2.2)
        , z = this.rect.clone();
      z.TR(n, n);
      return z
  }
  ;
  Q.im.prototype.v$ = function() {
      if (this.PJ == 0 && this.Eo == 255)
          return this.channel;
      if (this.PJ == 0) {
          var n = this.channel.slice(0);
          j.eL(n);
          j.bc(n, this.Eo / 255);
          j.eL(n);
          return n
      }
      var z = this.Td()
        , C = this.KP(z)
        , n = j.T(z.t());
      j.Y7.c_(C, n, z, this.PJ);
      if (this.Eo != 255) {
          j.eL(n);
          j.bc(n, this.Eo / 255);
          j.eL(n)
      }
      return n
  }
  ;
  Q.im.prototype.Jo = function() {
      return Math.round(255 - (255 - this.color) * (this.Eo / 255))
  }
  ;
  Q.im.prototype.extend = function(n) {
      j.extend(this, n, this.color)
  }
  ;
  Q.im.prototype.BL = function() {
      if (this.color == 255)
          j.eL(this.channel);
      j.BL(this);
      if (this.color == 255)
          j.eL(this.channel)
  }
  ;
  Q.im.prototype.clone = function() {
      var n = new Q.im;
      n.name = this.name;
      n.ip = this.ip;
      n.Ym = this.Ym;
      n.gy = this.gy;
      n.Gj = this.Gj;
      n.color = this.color;
      n.Ze = this.Ze;
      n.isEnabled = this.isEnabled;
      n.CC = this.CC;
      n.Eo = this.Eo;
      n.PJ = this.PJ;
      n.rect = this.rect.clone();
      n.channel = this.channel.slice(0);
      return n
  }
  ;
  Q.im.prototype.KP = function(n, z) {
      if (z == null)
          z = j.T(n.t());
      z.fill(this.color);
      j.v8(this.channel, this.rect, z, n);
      return z
  }
  ;
  Q.im.prototype.CK = function(n, z) {
      var C = this.Td()
        , D = this.v$();
      if (z == null)
          z = j.T(n.t());
      z.fill(this.Jo());
      j.v8(D, C, z, n);
      return z
  }
  ;
  Q.qP = function() {
      this.Ze = !0;
      this.isEnabled = !0;
      this.Eo = 255;
      this.PJ = 0;
      this.g = [{
          type: 6
      }, {
          type: 8,
          all: 0
      }];
      this.JS = [-3, -3];
      this.LQ = !1;
      this.Cu = null;
      this.fe = !0;
      this.C = [];
      this.Hh = []
  }
  ;
  Q.qP.prototype.offset = function(n, z) {
      this.Cu = this.sN();
      j.i.i3(this.g, new b6(1,0,0,1,n,z));
      this.Cu.rect.offset(n, z)
  }
  ;
  Q.qP.prototype.sN = function(n) {
      if (!this.fe && this.Cu && n == null) {
          this.Cu.isEnabled = this.isEnabled;
          return this.Cu
      }
      var z = j.i.Rb(this.g)
        , C = "strokeStyleLineAlignment"
        , D = "strokeStyleLineJoinType";
      if (z.t() > 3e4 * 3e4)
          z = new cc(0,0,100,100);
      if (n && n[C].v[C] != "strokeStyleAlignInside") {
          var F = 1;
          if (n[D].v[D] == "strokeStyleMiterJoin") {
              var X = j.i.a8a(this.g)
                , E = X / 2
                , f = Math.sin(E)
                , a = Math.cos(E);
              a /= f;
              f = 1;
              var F = Math.sqrt(a * a + f * f);
              if (isNaN(F) || F < 1)
                  F = 1
          }
          F *= n[C].v[C] == "strokeStyleAlignOutside" ? 1 : .5;
          var q = Math.ceil(n.strokeStyleLineWidth.v.val * F);
          q = Math.min(q, 600);
          z.TR(q, q)
      }
      z = j.K.HM(z);
      var c = new Q.im;
      c.color = j.i.Kq(this.g) ? 0 : 255;
      c.Ze = this.Ze;
      c.isEnabled = this.isEnabled;
      c.CC = !0;
      c.rect = z;
      c.Eo = this.Eo;
      c.PJ = this.PJ;
      c.channel = j.T(c.rect.t());
      if (!z.kX())
          j.i.a9y(this.g, c.channel, c.rect, n);
      if (n == null) {
          this.Cu = c;
          this.fe = !1
      }
      return c
  }
  ;
  Q.qP.prototype.clone = function() {
      var n = new Q.qP;
      n.Ze = this.Ze;
      n.isEnabled = this.isEnabled;
      n.Eo = this.Eo;
      n.PJ = this.PJ;
      n.g = Q.qP.$k(this.g);
      n.JS = this.JS.slice(0);
      n.LQ = this.LQ;
      n.C = this.C.slice(0);
      n.Hh = this.Hh.slice(0);
      return n
  }
  ;
  Q.qP.prototype.concat = function(n) {
      var z = n.g.slice(2);
      if (z.length == 0)
          return;
      z[0].fT = 3;
      this.g = this.g.concat(z)
  }
  ;
  Q.qP.$k = function(n) {
      var z = [];
      for (var M = 0; M < n.length; M++) {
          var C = n[M];
          if (C.type > 5 || C.type == 0 || C.type == 3)
              z.push(JSON.parse(JSON.stringify(C)));
          else
              z.push({
                  type: C.type,
                  K1: C.K1.clone(),
                  S: C.S.clone(),
                  yz: C.yz.clone()
              })
      }
      return z
  }
  ;
  Q.qP.abL = function(n, z, C) {
      if (n.length != z.length)
          return !1;
      for (var M = 2; M < n.length; M++) {
          var D = n[M]
            , F = z[M];
          if (D.type != F.type)
              return !1;
          if (D.type == 0 || D.type == 3) {
              if (D.length != F.length || !C && D.fT != F.fT)
                  return !1
          } else if (!D.K1.jm(F.K1) || !D.S.jm(F.S) || !D.yz.jm(F.yz))
              return !1
      }
      return !0
  }
  ;
  Q.qP.prototype.a6U = function() {
      var n = this.g;
      for (var M = 3; M < n.length; M++)
          if (n[M].type == 0 || n[M].type == 3)
              n[M].fT = -1
  }
  ;
  Q.dR = function() {
      this.type = null;
      this.DY = 2;
      this.LH = null;
      this._8 = "";
      this.p2 = "";
      this.m0 = "";
      this.open = 0;
      this.raw = null;
      this.qY = null;
      this.aoy = ""
  }
  ;
  Q.dR.prototype.clone = function() {
      var n = new Q.dR;
      n.type = this.type;
      n.DY = this.DY;
      n.LH = this.LH;
      n._8 = this._8;
      n.p2 = this.p2;
      n.m0 = this.m0;
      n.open = this.open;
      n.raw = new Uint8Array(this.raw.buffer.slice(0));
      return n
  }
  ;
  Q.dR.prototype.Wc = function(n, z, C) {
      if (C == null)
          C = "none";
      var D = this
        , F = fC.Nj(D.raw.buffer)
        , X = F == "svg" || F == "pdf";
      if (D.qY) {
          var E = z && X && Math.max(D.qY[1].d, D.qY[1].v) < Math.max(z[0], z[1]);
          if (!E && C == this.aoy)
              return
      }
      this.aoy = C;
      if (!X)
          n = 0;
      if (F == null) {
          alert("Unsupported format: " + T.uL(D.raw, 0, 4));
          return null
      }
      var f = fC.ET(F);
      if (f.Jz) {
          var a = new b$(name + (F == "psd" ? "" : "-" + F) + ".psd"), q;
          f.c3(D.raw.buffer, a, z);
          var c = new cc(0,0,a.d,a.v);
          if ("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(C) != -1) {
              var K = [];
              for (var M = 0; M < a.W.length; M++) {
                  var R = a.W[M]
                    , J = R.buffer;
                  if (!R.rect.jm(c)) {
                      J = j.T(c.t() * 4);
                      j.X3(R.buffer, R.rect, J, c);
                      console.log("resizing")
                  }
                  K.push(J)
              }
              q = j.T(c.t() * 4);
              j.stack.stack(K, q, C)
          } else {
              for (var M = 0; M < a.W.length; M++)
                  if (a.W[M].Ct())
                      a.W[M].z4(a);
              a.j7();
              a.J();
              a.h1();
              q = a.Wc()
          }
          D.qY = [q, c]
      } else if (f) {
          var w = f.c3(D.raw.buffer)[0];
          D.qY = [new Uint8Array(w.data), w.Pi]
      }
      if (D.qY) {
          if (n == 1) {
              var J = D.qY[0]
                , p = D.qY[1]
                , I = j.T(p.t());
              j.Ni(J, I, 3);
              var m = j.ae(I, p)
                , A = j.T(m.t() * 4);
              j.X3(J, p, A, m);
              D.qY = [A, m]
          }
          j.Lp(D.qY)
      }
  }
  ;
  Q.BD = "0";
  Q.Zi = "2";
  Q._n = "2.5";
  Q.$u = "2.6";
  Q.un = "3";
  Q.pt = "4";
  Q._b = "4.5";
  Q.hV = "4.6";
  Q.w_ = "5";
  Q.B7 = "5.5";
  Q._v = "6";
  Q.yk = "7";
  Q.Uu = "7.5";
  Q.cm = "8";
  Q.D_ = "9";
  Q.Ck = "9.3";
  Q.ZA = "9.5";
  Q.t0 = "9.6";
  Q.Hp = "10";
  Q.FT = "11";
  Q.JV = "12";
  Q.HQ = "13";
  Q.wh = "13.1";
  Q.tt = "13.2";
  Q.Xy = "13.3";
  Q.$K = "13.4";
  Q.ix = "14";
  Q.AP = "14.1";
  Q.Wi = "14.2";
  Q.ak = "17";
  Q.tu = "18";
  Q.vp = "19";
  Q.qQ = "19.5";
  Q.iy = "19.6";
  Q.w6 = "19.7";
  Q.jT = "20";
  Q.Lh = "21";
  Q.jy = "21.5";
  Q.L7 = "22";
  Q.Q2 = "22.5";
  Q.tk = "23";
  Q.ab3 = "24";
  Q.XJ = "25";
  Q.EG = "26";
  Q.h9 = "27";
  Q.JL = "28";
  Q.qy = "29";
  Q.S6 = "30";
  Q.CR = "31";
  Q.Hx = "32";
  Q.WH = "33";
  Q.MC = "34";
  Q.Pv = "35";
  Q.zo = "36";
  Q.Rp = "36.5";
  Q.Ok = "37";
  Q.jl = "37.5";
  Q.acz = "37.6";
  Q.hS = "38";
  Q.JK = "38.5";
  Q.LN = "38.6";
  Q.Cw = "39";
  Q.Az = "40";
  Q._E = "41";
  Q.Ty = "42";
  Q.n1 = "50";
  Q.g4 = "51";
  Q.pE = "52";
  Q.tl = "53";
  Q.Tt = "54";
  Q.zY = "54.5";
  Q.nj = "54.6";
  Q.KU = "54.7";
  Q.DW = "54.8";
  Q.yA = "55";
  Q.gQ = "56";
  Q.O_ = "57";
  Q.jg = "58";
  Q.W5 = "59";
  function fK() {
      this.depth = 0;
      this.index = -1;
      this.b = null;
      this.aoO = null;
      this.Gv = -1;
      this.children = null;
      this.parent = null;
      this.RA = null
  }
  fK.prototype.Oo = function(n, z) {
      if (this.depth != 0)
          n.push(this.b.getName());
      if (this.children)
          for (var M = 0; M < this.children.length; M++)
              this.children[M].Oo(n, z);
      if (n.length > z.b2.length)
          z.b2 = n.slice(0);
      if (this.depth != 0)
          n.pop()
  }
  ;
  fK.prototype.apj = function() {
      var n = 0;
      if (this.b.d4()) {
          for (var M = 0; M < this.children.length; M++)
              n += this.children[M].apj()
      } else if (this.b.buffer)
          n += this.b.buffer.length;
      return n
  }
  ;
  fK.prototype.H0 = function(n) {
      var z = this.RA[n];
      return this.RA[n]
  }
  ;
  fK.prototype.dn = function(n, z) {
      var C = this.b;
      if (!C.y_() || C.Ks(2) || C.Ks(31))
          return null;
      if (C.ge()) {
          var D = C.z.rect.vE(n);
          if (!D && C.z.color == 0)
              return
      }
      if (C.d4()) {
          for (var M = 0; M < this.children.length; M++) {
              var h = this.children[M];
              h.dn(n, z)
          }
      } else if (C.rect.vE(n))
          z.push(this.index)
  }
  ;
  fK.prototype.Lc = function(n, z) {
      var C = this.b;
      if (!C.y_() || C.Ks(2) || C.Ks(31))
          return null;
      if (C.ge()) {
          if (C.z.rect.P5(n)) {
              if (!j.Lc(n, C.z.channel, C.z.rect))
                  return null
          } else if (C.z.color == 0)
              return null
      }
      if (C.d4()) {
          if (C.add.artb && !C.qJ().P5(n))
              return null;
          for (var M = this.children.length - 1; M >= 0; M--) {
              var h = this.children[M]
                , D = h.Lc(n, z);
              if (D && z == null)
                  return D
          }
          return null
      } else if (C.add.TySh && C.rect.P5(n) || j.a2G(n, C.buffer, C.rect)) {
          if (z == null)
              return this;
          else
              z.push(this.index)
      }
      return null
  }
  ;
  fK.prototype.am9 = function(n) {
      var z = this.b;
      if (!z.y_() || z.Ks(2) || z.Ks(31))
          return null;
      var C = z.add.vmsk;
      if (C && C.isEnabled) {
          var D = j.i.Lc(C.g, n).kB;
          if (D != -1)
              return {
                  a5y: this,
                  alC: D
              }
      }
      if (z.d4()) {
          if (z.add.artb && !z.qJ().P5(n))
              return null;
          for (var M = this.children.length - 1; M >= 0; M--) {
              var h = this.children[M]
                , F = h.am9(n);
              if (F)
                  return F
          }
          return null
      }
      return null
  }
  ;
  fK.prototype.Yy = function(n, z) {
      n.push(this.index);
      if (this.b.d4()) {
          n.push(this.Gv);
          if (z)
              if (this.b.kl == 1 && this.b.sN().Ze == !1)
                  return;
          for (var M = 0; M < this.children.length; M++)
              this.children[M].Yy(n)
      }
  }
  ;
  fK.prototype.qK = function(n, z, C) {
      var D = this.b, F, X;
      if (D.d4() && D.add.artb != null)
          z = D.qJ();
      if (z.d > z.v) {
          F = C;
          X = Math.floor(C * (z.v / z.d))
      } else {
          F = Math.floor(C * (z.d / z.v));
          X = C
      }
      if (D.Ct() && D.add.vmsk == null || D.add.TySh)
          F = X = Math.max(X, 16);
      else {
          F = Math.max(F, 6);
          X = Math.max(X, 6)
      }
      var E = X
        , f = D.Ct() && D.add.vmsk;
      if (f) {
          var a = D.rect.clone(), K, R;
          if (a.kX())
              a = new cc(0,0,20,20);
          var q = a.d
            , c = a.v;
          if (q > c) {
              K = C;
              R = Math.floor(C * (c / q))
          } else {
              K = Math.floor(C * (q / c));
              R = C
          }
          if (K * R == 0)
              K = R = 16;
          j.Qx.TG(D.Y2, K, R, a, D.buffer, D.rect, !1);
          j.Qx.al2(D.Y2, K, R);
          E = R
      } else if (D.add.TySh) {
          j.Qx.a92(D.Y2, E, E, D.add.TySh)
      } else if (D.add.SoCo) {
          E = Math.max(16, Math.min(F, X));
          j.Qx.agr(D.Y2, E, E, D.add.SoCo)
      } else if (D.add.GdFl) {
          j.Qx.ahc(D.Y2, E, E, D.add.GdFl)
      } else if (D.add.PtFl) {
          j.Qx.a8R(D.Y2, E, E, D.add.PtFl, n)
      } else if (ad.get(D.add) != null) {
          j.Qx.ai6(D.Y2, E, E, D.add)
      } else if (D.add.SoLd) {
          j.Qx.TG(D.Y2, F, X, z, D.buffer, D.rect, !1);
          j.Qx.ad8(D.Y2, F, X, D.add.SoLd)
      } else if (D.d4()) {
          E = 16
      } else {
          if (D.I8())
              j.Qx.TG(D.Y2, F, X, z, D.buffer, D.rect, !1);
          else {
              j.Qx.ali(D.Y2, E, E)
          }
      }
      var J = D.sN();
      if (J)
          j.Qx.fd(D.ajK, F, X, z, J);
      if (D.ei() && D.yM(n) && D.yM(n).z) {
          var w = D.yM(n).z;
          j.Qx.fd(D.a45, F, X, z, w)
      }
      if (!f && D.add.vmsk) {
          j.Qx.fd(D.acV, F, X, z, D.add.vmsk.sN(), !0)
      }
      if (D.add.vmsk || J)
          E = Math.max(E, X);
      D.a78 = Math.max(E, 16);
      if (D.d4() && D.add.lsct == g9.WQ)
          for (var M = 0; M < this.children.length; M++)
              this.children[M].qK(n, z, C)
  }
  ;
  fK.prototype.Ts = function(n, z, C, D) {
      this.depth = C;
      var F = n[z];
      if (D == null)
          D = [];
      this.RA = D;
      if (F.add.lsct == g9.Jg) {
          this.aoO = F;
          this.Gv = z - 1;
          this.children = [];
          var M = z + 1;
          while (!0) {
              var X = n[M];
              if (X == null)
                  console.log(M, n.length);
              if (X.add.lsct == g9.WQ || X.add.lsct == g9.cP) {
                  if (F.add.lyid == X.add.lyid)
                      F.add.lyid += 16777215;
                  this.b = X;
                  this.index = M - 1;
                  D[this.index] = this;
                  D[z - 1] = this;
                  break
              }
              var E = new fK;
              E.parent = this;
              M = E.Ts(n, M, C + 1, D);
              this.children.push(E)
          }
          return M + 1
      } else {
          this.b = F;
          this.index = z - 1;
          D[this.index] = this;
          return z + 1
      }
  }
  ;
  fK.prototype.qq = function(n, z, C, D) {
      var F = this.H0(C)
        , X = n;
      while (F.parent != null) {
          X = F.b.OF(X, z, D);
          F = F.parent
      }
      return X
  }
  ;
  fK.prototype.Td = function(n, z) {
      var C = this.b
        , D = new cc;
      if (!C.y_())
          return D;
      var F = C.sN();
      if (C.d4())
          for (var M = 0; M < this.children.length; M++) {
              var X = this.children[M].Td(n, !0);
              D = D.QH(X)
          }
      else if (ad.get(C.add) != null)
          D = C.ge() && C.z.color == 0 ? C.z.Td().clone() : new cc(0,0,n.d,n.v);
      else if (C.Ct() && C.add.vmsk && C.add.vmsk.isEnabled && C.add.vstk) {
          D = C.rect.clone()
      } else if (C.Ct() && F && F.isEnabled && F.Jo() != 0)
          D = new cc(0,0,n.d,n.v);
      else {
          D = C.xA(n, !1, !0);
          if (C.add.vmsk)
              D = j.K.HM(D)
      }
      return z ? C.OF(D, n) : D
  }
  ;
  fK.prototype.VT = function(n, z, C, D, F) {
      var X = this.b
        , E = fg.ok(X);
      if (!X.y_())
          return;
      if (X.opacity == 255) {
          this.UC(n, z, C, D, F);
          return
      }
      var f = n.slice(0);
      this.UC(f, z, C, D, F);
      j.$.lY(f, z, n, z, null, null, 0, C, X.opacity / 255, X.Gx == "diss")
  }
  ;
  fK.prototype.UC = function(n, z, C, D, F) {
      var X = this.b, E = fg.ok(X), f = ad.get(X.add) != null, K, w;
      if (X.d4() && X.Gx == "pass" && !X.ge() && !(F.length > 0 || E.fill != 1 || X.LE())) {
          this.O$(n, z, C, D);
          return
      }
      var a = X.d4() && X.Gx == "pass" && (F.length > 0 || E.fill != 1 || X.LE())
        , q = X.rect
        , c = X.buffer;
      if (X.d4()) {
          q = this.Td(D, !1);
          var R = j.T(q.t() * 4);
          K = j.T(q.t());
          this.O$(R, q, C, D);
          j.Ni(R, K, 3)
      } else if (f) {
          q = z.clone();
          K = j.T(q.t());
          K.fill(255)
      } else {
          q = X.rect;
          K = j.T(q.t());
          j.Ni(c, K, 3)
      }
      if (X.ge()) {
          var J = X.z.CK(q);
          j.wz(J, K)
      }
      if (X.LE())
          w = fg.va(X.add.lmfx, X.add.fxrp, K, q, D);
      if (X.LE())
          fg.TF(X.add.lmfx, w, q, n, z, C);
      if (X.d4()) {
          c = j.T(q.t() * 4);
          if (X.Gx == "pass")
              j.X3(n, z, c, q);
          if (a) {
              var R = j.T(q.t() * 4);
              this.O$(R, q, C, D);
              var p = j.T(q.t());
              j.Ni(R, p, 3);
              j.NI(p, q, c, q)
          }
          this.O$(c, q, C, D)
      }
      if (f) {
          c = n.slice(0);
          j.xM(c, 4278190080, 16777215);
          var I = ad.get(X.add)
            , m = ad.bN(I, X.add[I]);
          ad.o$(m, c, c, q)
      }
      var A = c.slice(0);
      j.xM(A, 4278190080, 16777215);
      for (var M = 0; M < F.length; M++)
          F[M].VT(A, q, C, D, []);
      var U = j.T(q.t() * 4);
      j.X3(n, z, U, q);
      if (f)
          E.SM = !0;
      j.$.xN(X.Gx == "pass" ? "norm" : X.Gx, A, q, U, q, C, 1, E);
      if (X.LE()) {
          var r = X.XB.CJ.type.FrFX
            , $ = null;
          if (r.length != 0) {
              $ = r[0];
              for (var M = 0; M < r.length; M++)
                  if (r[M].yd.d > $.yd.d)
                      $ = r[M];
              var k = j.T($.yd.d * $.yd.v * 4);
              j.X3(n, z, k, $.yd)
          }
          fg.P0(X.add.lmfx, w, q, n, z, C, U, k, $ ? $.yd : null)
      }
      j.$.lY(U, q, n, z, K, q, 0, C, 1, X.Gx == "diss")
  }
  ;
  fK.prototype.O$ = function(n, z, C, D) {
      var F = this.children;
      for (var M = 0; M < F.length; M++) {
          var X = [];
          for (var E = M + 1; E < F.length; E++)
              if (F[E].b.$I)
                  X.push(F[E]);
              else
                  break;
          F[M].VT(n, z, C, D, X);
          M += X.length
      }
  }
  ;
  fK.sy = {
      delete: function(n) {
          if (n && n.d)
              n.delete()
      },
      T: function(n, z) {
          return N.O3 ? new N.Dv(n,z) : j.T(n * z * 4)
      },
      fC: function(n, z, C) {
          if (N.O3) {
              if (n == null || n.d != z || n.v != C) {
                  fK.sy.delete(n);
                  return new N.Dv(z,C)
              }
          } else {
              if (n == null || !(n instanceof Uint8Array) || n.length != z * C * 4) {
                  fK.sy.delete(n);
                  return j.T(z * C * 4)
              }
          }
          return n
      },
      v8: function(n, z, C, D, F) {
          (N.O3 ? N.i9 : j.X3)(n, z, C, D, F)
      },
      lY: function(n, z, C, D, F, X, E, f, M, a, q) {
          (N.O3 ? N.$.JG : j.$.lY)(n, z, C, D, F, X, E, f, M, a, q)
      },
      xN: function(n, z, C, D, F, X, E, f) {
          if (N.O3)
              N.$.vl(n, z, C, D, F, X, E, f);
          else
              j.$.xN(n, z, C, D, F, X, E, f)
      },
      xM: function(n, z, C) {
          if (N.O3) {
              N.CX(n);
              N.jz(z, C)
          } else
              j.xM(n, z, C)
      },
      afE: function(n, z, C, D, F) {
          if (N.O3) {
              N.$.JG(null, null, D, F, n, z, C, F, 1, !1)
          } else {
              if (C == 255)
                  j.NI(n, z, D, F);
              else {
                  var X = j.T(z.t());
                  j.nV(D, F, X, z);
                  j.wz(n, X);
                  j.xM(D, 0, 16777215);
                  j.zy(X, z, D, F)
              }
          }
      },
      HJ: function(n, z, C, D) {
          if (N.O3)
              N.$.JG(null, null, C, D, n, z, 0, D, 1, !1);
          else
              j.HJ(n, z, C, D)
      }
  };
  fK.prototype.s9 = function(n, z, C, D, F, X) {
      var E = typeof X == "number";
      if (!this.b.d4() && (E && this.index > X || !E && X.indexOf(this.index) == -1)) {
          return
      }
      var f = this.b
        , a = fg.ok(f)
        , q = fK.sy
        , c = f.Ct() ? f.sN() : f.z;
      if (!f.y_())
          return;
      if (f.ge() && c.rect.kX()) {
          return
      }
      if (f.add.vstk == null && this.Td(D, !1).kX()) {
          return
      }
      var K = this.Td(D, !0).Yi(C);
      if (!z.jm(C) && !C.vE(K))
          return;
      if (f.d4() && f.add.artb) {
          var R = f.qJ();
          C = C.Yi(R)
      }
      var J = fK.PC(f, F, a);
      if (!J) {
          this.Fs(n, z, C, D, F, X);
          return
      }
      f.XB.SD = q.fC(f.XB.SD, K.d, K.v);
      q.v8(n, z, f.XB.SD, K, C);
      this.Fs(f.XB.SD, K, C, D, F, X);
      q.lY(f.XB.SD, K, n, z, null, null, 0, C, f.opacity / 255, f.Gx == "diss", a.ql)
  }
  ;
  fK.PC = function(n, z, C) {
      if (C.ql[0] * C.ql[1] * C.ql[2] == 0)
          return !0;
      return n.opacity != 255 && (z.length != 0 || n.d4() || n.LE())
  }
  ;
  fK.a9i = {
      XB: {}
  };
  fK.prototype.Fs = function(n, z, C, D, F, X) {
      var E = this.b, f = fg.ok(E), a = ad.get(E.add) != null, q = fK.sy, c = fK.PC(E, F, f), K = c ? 1 : E.opacity / 255, R = E.Ct() ? E.sN() : E.z, J = E.d4() && E.Gx == "pass" && !(F.length > 0 || f.fill != 1 || E.LE()), w = !E.d4() && !a && !E.LE() && F.length == 0, p = a && !E.LE() && F.length == 0, $ = null, k = null, G = null, H;
      if (J || w || p) {
          var I = n
            , m = z;
          if (E.ge()) {
              m = this.Td(D, !1);
              I = E.XB.mI = q.fC(E.XB.mI, m.d, m.v);
              q.v8(n, z, E.XB.mI, m)
          }
          if (J)
              this.xu(I, m, C, D, X);
          if (w)
              q.xN(E.Gx, E.HO(D), E.rect, I, m, C, K, f);
          if (p) {
              var A = E.ge() && R.Jo() == 0 ? R.Td().clone() : m.clone()
                , U = E.XB;
              if (A.jm(new cc(0,0,D.d,D.v)))
                  U = fK.a9i;
              U.Fj = this.tg(I, m, U.Fj, A, E.add);
              f.SM = !0;
              q.xN(E.Gx, U.Fj, A, I, m, C, K, f)
          }
          if (E.ge())
              q.lY(I, m, n, z, E.Wb(), R.Td(), R.Jo(), C, 1, E.Gx == "diss");
          E.XB.XX();
          return
      }
      var r = E.d4() && E.Gx == "pass" && (F.length > 0 || f.fill != 1 || E.LE())
        , A = E.rect;
      if (E.d4()) {
          A = this.Td(D, !1);
          G = E.XB.Fj = q.fC(E.XB.Fj, A.d, A.v);
          q.xM(G, 0);
          this.xu(G, A, A, D, X);
          k = q.fC(E.XB.HL, A.d, A.v);
          q.v8(G, A, k, A)
      } else if (a) {
          A = E.ge() && R.Jo() == 0 ? R.Td().clone() : z.clone();
          k = q.fC(E.XB.HL, A.d, A.v);
          q.xM(k, 4294967295)
      } else {
          A = E.rect;
          $ = E.HO(D);
          k = q.fC(E.XB.HL, A.d, A.v);
          q.v8($, A, k, A)
      }
      E.XB.HL = k;
      if (E.ge())
          q.afE(E.Wb(), R.Td(), R.Jo(), k, A);
      if (E.LE())
          if (E.XB.CT || E.XB.wD || E.XB.oG != N.O3 || E.XB.oe || E.d4()) {
              var i = j.T(A.d * A.v);
              if (fg.Hz(E.add.lmfx)) {
                  if (N.O3) {
                      if (!E.d4() && E.sN() == null && E.rect.jm(A) && E.add.vmsk == null)
                          j.Ni(E.buffer, i, 3);
                      else {
                          var o = j.T(A.d * A.v * 4);
                          k.get(o);
                          j.Ni(o, i, 3)
                      }
                  } else
                      j.Ni(k, i, 3)
              }
              if (E.XB.wD || E.XB.oG != N.O3 || !j.jm(i, E.XB.Ug)) {
                  var S = null;
                  if (E.Ct() && E.add.vmsk && E.add.vmsk.isEnabled && E.add.vmsk.sN().color == 0)
                      S = E.add.vmsk.sN().rect;
                  fg.a8M(E.XB.CJ, i, A, E.add.lmfx, E.add.fxrp, D, S);
                  E.XB.Ug = i;
                  E.XB.abR = A
              }
          }
      if (E.LE())
          fg.TF(E.add.lmfx, E.XB.CJ, A, n, z, C);
      if (E.d4()) {
          $ = q.fC(E.XB.mI, A.d, A.v);
          q.xM($, 0);
          if (E.Gx == "pass")
              q.v8(n, z, $, A);
          if (r)
              q.HJ(G, A, $, A);
          this.xu($, A, C, D, X);
          E.XB.mI = $
      }
      if (a) {
          $ = E.XB.mI = this.tg(n, z, E.XB.mI, A, E.add)
      }
      if (E.d4() || a)
          H = $;
      else {
          H = q.fC(E.XB.mI, A.d, A.v);
          q.v8($, A, H, A, C);
          E.XB.mI = H
      }
      q.xM(H, 4278190080, 16777215);
      for (var M = 0; M < F.length; M++)
          F[M].s9(H, A, C, D, [], X);
      var e = E.XB.K9 = q.fC(E.XB.K9, A.d, A.v);
      q.v8(n, z, e, A, C);
      if (a)
          f.SM = !0;
      q.xN(E.Gx == "pass" ? "norm" : E.Gx, H, A, e, A, C, 1, f);
      if (E.LE()) {
          var V = E.XB.CJ.type.FrFX
            , v = null;
          if (V.length != 0) {
              v = V[0];
              for (var M = 0; M < V.length; M++)
                  if (V[M].yd.d > v.yd.d)
                      v = V[M];
              E.XB.dm = q.fC(E.XB.dm, v.yd.d, v.yd.v);
              q.v8(n, z, E.XB.dm, v.yd, C);
              E.XB.sT = q.fC(E.XB.sT, v.yd.d, v.yd.v)
          }
          fg.P0(E.add.lmfx, E.XB.CJ, A, n, z, C, e, E.XB.dm, E.XB.sT, v ? v.yd : null)
      }
      if (!N.O3) {
          var B = j.T(A.t());
          j.Ni(k, B, 3);
          k = B
      }
      q.lY(e, A, n, z, k, A, 0, C, 1, E.Gx == "diss");
      E.XB.XX()
  }
  ;
  fK.prototype.tg = function(n, z, C, D, F) {
      var X = ad.get(F), E;
      if (X)
          E = ad.bN(X, F[X]);
      var f = fK.sy;
      C = f.fC(C, D.d, D.v);
      if (!(N.O3 && z.jm(D)))
          f.v8(n, z, C, D);
      if (E) {
          if (N.O3) {
              var a = D.clone();
              a.x = a.y = 0;
              if (z.jm(D)) {
                  N.CX(C, a);
                  ad.u$(E, n.S9, a)
              } else {
                  N.CX(C, D);
                  C.rJ(D);
                  ad.u$(E, C.fa, a)
              }
          } else
              ad.o$(E, C, C, D)
      }
      return C
  }
  ;
  fK.prototype.xu = function(n, z, C, D, F) {
      var X = this.children;
      for (var M = 0; M < X.length; M++) {
          var E = [];
          for (var f = M + 1; f < X.length; f++)
              if (X[f].b.$I)
                  E.push(X[f]);
              else
                  break;
          X[M].s9(n, z, C, D, E, F);
          M += E.length
      }
  }
  ;
  function b$(n) {
      this.dL = "psd";
      this.ze = !1;
      this.name = n;
      this.t5 = -1;
      this.wa = null;
      this.Hq = null;
      this.YM = null;
      this.RD = null;
      this.d = 0;
      this.v = 0;
      this.W = [];
      this.hJ = {};
      this.add = {};
      this.buffer = null;
      this.hC = 4;
      this.tf = null;
      this.$M = 72;
      this._q = {};
      this.C = [];
      this.Ea = [];
      this.CB = [];
      this.IZ = [];
      this.E1 = [b$.j4("Work Path")];
      this.ej = [];
      this.Tj = null;
      this.V2 = {
          classID: "CompList",
          list: {
              t: "VlLs",
              v: []
          }
      };
      this.root = null;
      this.nB = null;
      this.Jf = !1;
      this.a36 = !1;
      this.ac2 = !1;
      this.YB = !1;
      this.U2 = !1;
      this.QV = !1;
      this.PL = !1;
      this.uv = !1;
      this.HP = !1;
      this.dc = !1;
      this.CT = null;
      this.KE = null;
      this.aU = {};
      this.N = null;
      this.fD = [];
      this.Rj = [];
      this.k = {
          fR: {},
          rh: [],
          ajL: [],
          xZ: [],
          IW: [],
          ju: null,
          EH: null,
          qv: null,
          S7: null,
          an: [],
          om: [],
          $N: null
      };
      this.history = [new hi([1, 0],null)];
      this.VU = 0;
      this.No = 0;
      this.a = new eT(this)
  }
  b$.prototype.gS = function() {
      var n = this.Ea
        , z = [];
      for (var M = 0; M < n.length; M++)
          z[M] = -1;
      var C = this.root.children;
      for (var M = 0; M < C.length; M++) {
          var D = C[M]
            , F = D.b.add.artb;
          if (F == null)
              continue;
          var X = F.guideIndeces;
          X = X ? X.v : [];
          for (var E = 0; E < X.length; E++)
              z[X[E].v] = D.index
      }
      return [JSON.parse(JSON.stringify(n)), z]
  }
  ;
  b$.prototype.la = function(n) {
      this.Ea = JSON.parse(JSON.stringify(n[0]));
      var z = n[1]
        , C = this.root.children;
      for (var M = 0; M < C.length; M++) {
          var D = C[M]
            , F = D.b.add.artb;
          if (F == null)
              continue;
          F.guideIndeces = {
              t: "VlLs",
              v: []
          }
      }
      for (var M = 0; M < z.length; M++)
          if (z[M] != -1)
              this.W[z[M]].add.artb.guideIndeces.v.push({
                  t: "long",
                  v: M
              })
  }
  ;
  b$.prototype.vK = function(n) {
      var z = this;
      if (n[0])
          z.add.lnk2 = n[0];
      else
          delete z.add.lnk2;
      if (n[1])
          z.add.FEid = n[1];
      else
          delete z.add.FEid;
      if (n[2])
          z.add.Patt = n[2];
      else
          delete z.add.Patt
  }
  ;
  b$.prototype.agB = function(n) {
      var z = this
        , C = []
        , D = []
        , F = []
        , J = null
        , w = null
        , p = null;
      for (var M = 0; M < n.length; M++) {
          var X = n[M];
          if (X.add.SoLd) {
              C.push(X.add.SoLd.Idnt.v);
              D.push(X.add.SoLd.placed.v)
          }
          if (X.add.PtFl)
              F.push(X.add.PtFl.Ptrn.v.Idnt.v);
          if (X.add.lmfx) {
              for (var E = 0; E < g$.IT.length; E++) {
                  var f = X.add.lmfx[g$.IT[E]].v;
                  for (var a = 0; a < f.length; a++)
                      if (f[a].v.Ptrn)
                          F.push(f[a].v.Ptrn.v.Idnt.v)
              }
          }
          var q = X.add.vstk;
          if (q && q.strokeStyleContent.v.classID == "patternLayer") {
              F.push(q.strokeStyleContent.v.Ptrn.v.Idnt.v)
          }
      }
      var c = z.add.lnk2
        , K = z.add.FEid
        , R = z.add.Patt;
      if (c) {
          J = [];
          for (var M = 0; M < c.length; M++)
              if (C.indexOf(c[M].LH) != -1)
                  J.push(c[M]);
          if (J.length == 0)
              J = null
      }
      if (K) {
          w = [];
          for (var M = 0; M < K.length; M++)
              if (D.indexOf(K[M].id) != -1)
                  w.push(K[M]);
          if (w.length == 0)
              w = null
      }
      if (R) {
          p = [];
          for (var M = 0; M < R.length; M++)
              if (F.indexOf(R[M].id) != -1)
                  p.push(R[M]);
          if (p.length == 0)
              p = null
      }
      return [J, w, p]
  }
  ;
  b$.prototype.XA = function() {
      var n = this.fD
        , z = this.fD.length;
      if (z != 0 && n[z - 1].name == "Quick Mask")
          return n[z - 1]
  }
  ;
  b$.prototype.Pm = function() {
      return this.dL == l.jb("% |/!)") || this.dL == l.Aq("gP")
  }
  ;
  b$.prototype.Jy = function(n) {
      var z = this.add.artd;
      if (n != 0)
          this.add.artd = {
              classID: "null",
              Cnt: {
                  t: "long",
                  v: n
              },
              autoExpandOffset: {
                  t: "Objc",
                  v: {
                      classID: "Pnt",
                      Hrzn: {
                          t: "doub",
                          v: 0
                      },
                      Vrtc: {
                          t: "doub",
                          v: 0
                      }
                  }
              },
              origin: {
                  t: "Objc",
                  v: {
                      classID: "Pnt",
                      Hrzn: {
                          t: "doub",
                          v: 0
                      },
                      Vrtc: {
                          t: "doub",
                          v: 0
                      }
                  }
              },
              autoExpandEnabled: {
                  t: "bool",
                  v: !0
              },
              autoNestEnabled: {
                  t: "bool",
                  v: !0
              },
              autoPositionEnabled: {
                  t: "bool",
                  v: !0
              }
          };
      else
          delete this.add.artd
  }
  ;
  b$.prototype.$n = function(n) {
      if (this.add.FEid == null)
          this.add.FEid = [];
      if (this.add.FEid.indexOf(n) == -1)
          this.add.FEid.push(n)
  }
  ;
  b$.prototype.Ix = function(n) {
      var z = this.add.FEid.indexOf(n);
      this.add.FEid.splice(z, 1);
      if (this.add.FEid.length == 0)
          delete this.add.FEid
  }
  ;
  b$.prototype.J = function(n) {
      if (n == null)
          n = new cc(0,0,this.d,this.v);
      if (this.CT == null)
          this.CT = n;
      else
          this.CT = this.CT.QH(n)
  }
  ;
  b$.prototype.aih = function(n) {
      return this.CT != null
  }
  ;
  b$.prototype.vw = function(n) {
      var z = this.W[n]
        , C = this.root.H0(n);
      if (C == null)
          return !1;
      if (z.d4() || C.parent.children.indexOf(C) == 0)
          return !1;
      return !0
  }
  ;
  b$.a1l = function(n) {
      if (n.add.lnk2)
          for (var M = 0; M < n.add.lnk2.length; M++) {
              var z = n.add.lnk2[M].LH;
              n.add.lnk2[M].LH = b$.oA() + z.slice(8);
              for (var C = 0; C < n.W.length; C++) {
                  var D = n.W[C].add.SoLd;
                  if (D && D.Idnt.v == z)
                      D.Idnt.v = n.add.lnk2[M].LH
              }
          }
  }
  ;
  b$.prototype.nv = function(n, z, C) {
      n.sort(function(K, R) {
          return K - R
      });
      var top = n[n.length - 1]
        , D = this.W.slice(0)
        , F = this.C.slice(0)
        , X = []
        , E = [];
      for (var M = 0; M < this.W.length; M++) {
          if (n.indexOf(M) != -1)
              E.push(this.W[M]);
          else
              X.push(this.W[M])
      }
      this.Xw(E);
      this.C = [];
      var f = this.root.Td(this, !0);
      if (z)
          f = f.Yi(z);
      if (C)
          f = f.QH(C);
      if (f.kX())
          f = new cc(0,0,100,100);
      var a = new cc(-f.x,-f.y,this.d,this.v)
        , q = new Uint8Array(fC.ET("PSD").c0(this, 0, 0, [!0, !1]));
      this.Xw(D);
      this.C = F;
      var c = new b$(this.W[top].getName());
      fC.ET("PSD").c3(q.buffer, c);
      delete c.add.artd;
      c.CB = [];
      c.Xw(c.W);
      c.la([[], []]);
      b$.a1l(c);
      O.Xf.r1(c, f);
      c.J();
      c.h1();
      c.Wc();
      return [c, f, X, top]
  }
  ;
  b$.prototype.c8 = function(n, z, C) {
      var D = this.nv(n), F = D[0], X = D[1], E = D[2], top = D[3], f;
      if (C == "jpg")
          f = new Uint8Array(fC.ET("JPG").c0([[F.Wc().buffer]], F.d, F.v, [80]));
      else
          f = new Uint8Array(fC.ET("PSD").c0(F, null, null, [!0, !1]));
      if (z)
          E = this.W.slice(0);
      var a = this.AM(f, F.name, X.x, X.y);
      if (top == this.W.length - 1)
          E.push(a);
      else
          E.splice(z ? top + 1 : top - n.length + 1, 0, a);
      this.Xw(E);
      this.C = [E.indexOf(a)]
  }
  ;
  b$.oA = function() {
      var n = "";
      for (var M = 0; M < 8; M++)
          n += Math.floor(Math.random() * 16).toString(16);
      return n
  }
  ;
  b$.prototype.P2 = function(n) {
      if (n == null)
          return;
      if (this.add.Patt == null)
          this.add.Patt = [];
      var z = this.add.Patt;
      for (var M = 0; M < z.length; M++)
          if (z[M].id == n.id)
              return;
      z.push(n)
  }
  ;
  b$.prototype.AM = function(n, z, C, D, F) {
      if (this.add.lnk2 == null)
          this.add.lnk2 = [];
      var X = null
        , K = !1;
      for (var M = 0; M < this.add.lnk2.length; M++)
          if (j.jm(n, this.add.lnk2[M].raw)) {
              X = this.add.lnk2[M].LH;
              break
          }
      if (X == null) {
          var E = fC.Nj(n.buffer);
          X = b$.oA() + "-d71c-11e5-b1ae-a548a96e5f9f";
          var f = new Q.dR;
          f.LH = X;
          f.m0 = E == "psd" ? "8BIM" : "    ";
          f._8 = z + "." + E;
          f.p2 = E == "psd" ? "8BPB" : "    ";
          f.open = 0;
          f.raw = n;
          f.type = "liFD";
          f.DY = 2;
          this.add.lnk2.push(f)
      }
      var a = this.bG(X)
        , q = b$.oA() + "-d71c-11e5-b1ae-a548a96e5f9f"
        , c = this.gl();
      c.CZ(z);
      if (a != null) {
          var R = c.rect = a.qY[1].clone();
          c.rect.offset(C, D);
          var J = Math.max(R.d / this.d, R.v / this.v)
            , K = F && J > 1.0001;
          if (K) {
              R.d = Math.round(R.d / J);
              R.v = Math.round(R.v / J);
              R.x = Math.round((this.d - R.d) / 2);
              R.y = Math.round((this.v - R.v) / 2)
          } else if (F && fC.Nj(n.buffer) == "pdf" && this.$M != 144) {
              var J = 144 / this.$M;
              R.d = Math.round(R.d / J);
              R.v = Math.round(R.v / J);
              K = !0
          }
          c.buffer = j.T(c.rect.t() * 4);
          if (!K)
              j.YY(a.qY[0], c.buffer)
      }
      c.add.SoLd = {
          classID: "null",
          Idnt: {
              t: "TEXT",
              v: X
          },
          Impr: {
              t: "Objc",
              v: {
                  __name: "None",
                  classID: "none"
              }
          },
          placed: {
              t: "TEXT",
              v: q
          },
          PgNm: {
              t: "long",
              v: 1
          },
          totalPages: {
              t: "long",
              v: 1
          },
          frameStep: {
              t: "Objc",
              v: {
                  classID: "null",
                  numerator: {
                      t: "long",
                      v: 0
                  },
                  denominator: {
                      t: "long",
                      v: 600
                  }
              }
          },
          duration: {
              t: "Objc",
              v: {
                  classID: "null",
                  numerator: {
                      t: "long",
                      v: 0
                  },
                  denominator: {
                      t: "long",
                      v: 600
                  }
              }
          },
          frameCount: {
              t: "long",
              v: 1
          },
          Annt: {
              t: "long",
              v: 16
          },
          Type: {
              t: "long",
              v: 2
          },
          Trnf: null,
          nonAffineTransform: null,
          warp: {
              t: "Objc",
              v: j.Y0.T(a ? a.qY[1] : c.rect)
          },
          Sz: {
              t: "Objc",
              v: {
                  classID: "Pnt",
                  Wdth: {
                      t: "doub",
                      v: c.rect.d
                  },
                  Hght: {
                      t: "doub",
                      v: c.rect.v
                  }
              }
          },
          Rslt: {
              t: "UntF",
              v: {
                  type: "#Rsl",
                  val: 72
              }
          }
      };
      var w = j.K.YQ(c.rect).U;
      c.add.SoLd.Trnf = O.o.IO(w);
      c.add.SoLd.nonAffineTransform = O.o.IO(w);
      if (K)
          c.V_(this, !1);
      return c
  }
  ;
  b$.prototype.Wc = function(n) {
      if (n != null) {
          this.J();
          this.h1(n);
          var z = this.buffer;
          if (N.O3)
              this.nB.get(z);
          else
              z = z.slice(0);
          this.J();
          this.h1();
          return z
      }
      if (this.CT) {
          this.h1();
          this.CT = null
      }
      if (N.O3 && this.KE) {
          this.nB.get(this.buffer);
          this.KE = null;
          this.PL = !0
      }
      return this.buffer
  }
  ;
  b$.prototype.l5 = function() {
      for (var M = 0; M < this.W.length; M++)
          this.W[M].ZI();
      this.J()
  }
  ;
  b$.prototype.a0 = function() {
      for (var M = 0; M < this.W.length; M++)
          if (this.W[M].add.lmfx)
              this.W[M].XB.wD = !0
  }
  ;
  b$.prototype.u8 = function() {
      var n = this.hJ.r1044;
      if (n == null) {
          n = this.hJ.r1044 = new Uint8Array(4);
          var z = 0;
          for (var M = 0; M < this.W.length; M++)
              z = Math.max(z, this.W[M].add.lyid);
          T._g(n, 0, z)
      }
      var C = T.q(n, 0);
      T._g(n, 0, C + 1);
      return C + 1
  }
  ;
  b$.prototype.Sp = function(n, z, C) {
      if (n == null)
          n = !0;
      var D = this;
      if (D.Rj.length != 0)
          return !0;
      if (D.C.length != 1) {
          if (n)
              alert(D.C.length == 0 ? "Select a layer first." : "More than one layer selected.");
          return !1
      }
      return this.Xq(n, z, C)
  }
  ;
  b$.prototype.Xq = function(n, z, C) {
      if (n == null)
          n = !0;
      if (z == null)
          z = !1;
      var D = this;
      if (D.Rj.length != 0)
          return !0;
      for (var M = 0; M < D.C.length; M++) {
          var F = D.W[D.C[M]]
            , X = z || F.kl <= 0;
          if (F.add.lsct != null && F.add.lsct != g9.n3 && F.kl != 1) {
              if (n)
                  alert(aC.get([15, 7, 2]));
              return !1
          }
          if (X && !F.I8()) {
              if (n)
                  alert(aC.get([15, 7, 2]));
              return !1
          }
          if (X && F.add.TySh) {
              return this.CS(n, [15, 7, 3], C)
          }
          if (X && F.add.SoLd) {
              return this.CS(n, [15, 7, 4], C)
          }
          if (F.Ks(1) || F.Ks(31)) {
              if (n)
                  alert(aC.get([6, 57, 0]));
              return !1
          }
      }
      return !0
  }
  ;
  b$.prototype.CS = function(n, z, C) {
      if (n && typeof n == "object") {
          var D = window.confirm(aC.get(z) + ". " + aC.get([6, 8]) + "?");
          if (D) {
              var F = new u(l.E._R,!0);
              F.data = {
                  KY: "rasterizeLayer",
                  cw: {
                      classID: "rasterizeLayer",
                      null: eW.ek("Lyr", !0)
                  }
              };
              n.f(F)
          }
          return C ? D : !1
      }
      if (n)
          alert(aC.get(z));
      return !1
  }
  ;
  b$.prototype.xl = function(n) {
      var z = this.root.H0(n);
      if (z.parent)
          return z.b.y_() && this.xl(z.parent.index);
      else
          return z.b.y_()
  }
  ;
  b$.prototype.m$ = function() {
      var n = this;
      if (n.add.artd && n.C.length != 0) {
          var z = n.root.H0(n.C[0]);
          while (z.parent.parent)
              z = z.parent;
          if (z.b.add.artb)
              return z.index
      }
      return -1
  }
  ;
  b$.prototype.RH = function() {
      var n = this.W[this.C[0]];
      if (n.kl <= 0 && !n.rect.vE(this.N.rect)) {
          alert("Selected area is empty.");
          return !1
      }
      if (this.C.length == 1 && this.N) {
          var z = j.T(this.N.channel.length);
          j.nV(n.buffer, n.rect, z, this.N.rect);
          j.wz(this.N.channel, z);
          if (j.wq(z, 0)) {
              alert("Selected area is empty.");
              return !1
          }
      }
      return !0
  }
  ;
  b$.prototype.eY = function() {
      if (this.hJ["r" + 1037] == null)
          this.z1(30);
      return T.Rt(this.hJ["r" + 1037], 0)
  }
  ;
  b$.prototype.z1 = function(n) {
      if (this.hJ["r" + 1037] == null)
          this.hJ["r" + 1037] = new Uint8Array(4);
      if (T.Rt(this.hJ["r" + 1037], 0) == n)
          return;
      T.ta(this.hJ["r" + 1037], 0, n);
      this.a0()
  }
  ;
  b$.prototype.Wq = function() {
      if (this.hJ["r" + 1049] == null)
          this.CG(30);
      return T.Rt(this.hJ["r" + 1049], 0)
  }
  ;
  b$.prototype.CG = function(n) {
      if (this.hJ["r" + 1049] == null)
          this.hJ["r" + 1049] = new Uint8Array(4);
      if (T.Rt(this.hJ["r" + 1049], 0) == n)
          return;
      T.ta(this.hJ["r" + 1049], 0, n);
      this.a0()
  }
  ;
  b$.prototype.H$ = function(n) {
      if (this.add.lnk2 == null)
          return null;
      for (var M = 0; M < this.add.lnk2.length; M++)
          if (this.add.lnk2[M].LH == n)
              return this.add.lnk2[M];
      return null
  }
  ;
  b$.prototype.an8 = function(n) {
      var z = this.H$(n);
      if (z == null)
          return !1;
      var C = fC.Nj(z.raw.buffer);
      if (C == null)
          return !1;
      if (fC.ET(C) != null || C == "psd")
          return !0;
      return !1
  }
  ;
  b$.prototype.bG = function(n, z, C, D) {
      var F = this.H$(n);
      if (F == null)
          return null;
      F.Wc(z, C, D);
      if (F.qY)
          return F
  }
  ;
  b$.prototype.Ul = function() {
      var n = this.d
        , z = this.v;
      if (N.O3 && this.nB == null)
          this.nB = new N.Dv(n,z,!0);
      if (this.buffer == null || this.buffer.length != n * z * 4 || N.O3 && (this.nB.d != n || this.nB.v != z)) {
          this.buffer = j.T(n * z * 4);
          if (this.nB)
              this.nB.delete();
          if (N.O3)
              this.nB = new N.Dv(n,z,!0)
      }
  }
  ;
  b$.prototype.aek = function() {
      this.Ul();
      if (N.O3) {
          this.nB.set(this.buffer)
      }
  }
  ;
  b$.prototype.h1 = function(n) {
      var z = this.d
        , C = this.v
        , D = new cc(0,0,z,C)
        , F = D.Yi(this.CT);
      this.Ul();
      if (F.kX())
          return;
      if (!F.jm(D)) {
          if (!N.O3) {
              var X = j.mo(F.t() * 4);
              j.X3(X, F, this.buffer, D)
          }
          if (N.O3) {
              N.CX(this.nB, F);
              N.jz(0)
          }
      } else {
          if (N.O3) {
              this.nB.set(null)
          } else {
              this.buffer.fill(0)
          }
      }
      var E = Date.now()
        , f = N.O3 ? this.nB : this.buffer;
      if (n == null)
          n = 1e9;
      var a = this.root.children;
      for (var M = 0; M < a.length; M++) {
          var q = a[M].b;
          if (q.y_() && q.add.artb) {
              var c = q.qJ()
                , K = F.Yi(c)
                , R = q.q9();
              if (R != 0) {
                  if (N.O3) {
                      N.CX(f, K);
                      N.jz(R);
                      N.jz(R)
                  } else
                      j.aj_(f, D, K, R)
              }
          }
      }
      this.root.s9(f, D, F, this, [], n);
      this.KE = this.CT.clone()
  }
  ;
  b$.prototype.gl = function(n) {
      var z = new Q;
      z.rect = new cc(0,0,0,0);
      z.buffer = j.T(1);
      z.add.luni = new ir(0,0);
      if (n != !0)
          z.add.lyid = this.u8();
      z.add.lsct = g9.n3;
      z.add.lclr = 0;
      z.add.fxrp = new ir(0,0);
      return z
  }
  ;
  b$.prototype.iE = function(n) {
      var z = this.gl(n);
      z.CZ("</Layer group>");
      z.add.lsct = g9.Jg;
      z.j1 = 24;
      return z
  }
  ;
  b$.prototype.eq = function() {
      return this.VU != this.No
  }
  ;
  b$.prototype.OV = function(n) {
      while (this.history.length > this.VU + 1)
          this.history.pop();
      if (this.No > this.VU)
          this.No = -1;
      if (n.F.id != O.Os) {
          this.YB = !0;
          if (this.V2.lastAppliedComp) {
              delete this.V2.lastAppliedComp;
              this.PL = !0
          }
      }
      this.history.push(n);
      this.VU++;
      this.PL = !0;
      var z = a5.Mx() ? 60 : 30
        , C = 0;
      for (var M = this.history.length - 1; M >= 0; M--) {
          var D = this.history[M];
          if (D.l8)
              continue;
          C++;
          if (C == z) {
              this.VU -= M;
              this.history = this.history.slice(M);
              break
          }
      }
  }
  ;
  b$.prototype.$B = function() {
      if (this.VU != this.history.length - 1)
          return null;
      return this.history[this.history.length - 1]
  }
  ;
  b$.prototype.pX = function(n, z, C, D) {
      if (n == null)
          n = !1;
      var F = z != null ? [z] : this.C.slice(0);
      if (D) {
          var X = [];
          for (var M = 0; M < F.length; M++) {
              var E = this.W[F[M]]
                , f = E.nq;
              if (E.Uq && f != 0 && X.indexOf(f) == -1)
                  X.push(f)
          }
          if (X.length != 0)
              for (var M = 0; M < this.W.length; M++) {
                  var E = this.W[M]
                    , f = E.nq;
                  if (E.Uq && f != 0 && X.indexOf(f) != -1 && F.indexOf(M) == -1)
                      F.push(M)
              }
      }
      var a = [];
      for (var M = 0; M < F.length; M++) {
          var q = this.l3(F[M], n);
          for (var c = 0; c < q.length; c++)
              if (a.indexOf(q[c]) == -1)
                  a.push(q[c]);
          if (C) {
              var h = this.root.H0(F[M]);
              while (h.parent != null && h.parent.parent != null) {
                  h = h.parent;
                  if (a.indexOf(h.index) == -1) {
                      a.push(h.index, h.Gv)
                  }
              }
          }
      }
      return a
  }
  ;
  b$.prototype.rm = function(n, z, C) {
      var D = this
        , F = D.pX(!1, n, null, C);
      F.sort(function(A, U) {
          return A - U
      });
      var X = {};
      for (var E = 0; E < D.W.length; E++) {
          var f = D.W[E].getName();
          X[f] = !0
      }
      var a = [];
      for (var M = 0; M < F.length; M++) {
          var q = D.W[F[M]].clone(), p, I;
          q.add.lyid = D.u8();
          q.add.lspf = 0;
          if (q.ei()) {
              var c = q.yM(D)
                , K = b$.MA(c);
              D.$n(K);
              q.add.SoLd.placed.v = K.id
          }
          q.z4(D);
          var R = q.getName()
            , J = R.length;
          while (48 <= R.charCodeAt(J - 1) && R.charCodeAt(J - 1) <= 57)
              J--;
          var w = parseInt(R.slice(J));
          if (isNaN(w)) {
              if (R.endsWith(" copy")) {
                  w = 1;
                  p = R.slice(0, R.length - 5)
              } else {
                  w = 0;
                  p = R
              }
          } else if (R.slice(0, J).endsWith(" copy ")) {
              w = w;
              p = R.slice(0, J - 6)
          } else {
              w = 0;
              p = R
          }
          w++;
          while (!0) {
              I = p + " copy" + (w == 1 ? "" : " " + w);
              if (X[I] == null)
                  break;
              w++
          }
          var m = F.indexOf(this.root.H0(F[M]).parent.index) != -1;
          if (z != !0 && !m)
              q.CZ(I);
          X[I] = !0;
          a.push(q)
      }
      return a
  }
  ;
  b$.MA = function(n) {
      return {
          id: b$.oA() + n.id.slice(8),
          buffer: n.buffer.slice(0),
          rect: n.rect.clone(),
          z: n.z ? n.z.clone() : null
      }
  }
  ;
  b$.YX = function(n) {
      return {
          id: n,
          rect: new cc,
          buffer: j.T(1),
          z: new Q.im
      }
  }
  ;
  b$.j4 = function(n, z) {
      if (z == null)
          z = {
              vmsk: new Q.qP
          };
      if (z.vogk == null) {
          z.vogk = [];
          var C = j.i.AL(z.vmsk.g);
          for (var D = 0; D < C; D++)
              z.vogk.push(j.hL.mo())
      }
      return {
          name: n,
          kB: 0,
          add: z
      }
  }
  ;
  b$.prototype.LJ = function(n) {
      var z = []
        , C = []
        , D = this
        , X = 0;
      for (var M = 1; M < D.E1.length; M++) {
          var F = D.E1[M];
          F.kB = -1 - M;
          z.push(F);
          if (D.ej.indexOf(M) != -1)
              C.push(z.length - 1)
      }
      if (D.E1[0].add.vmsk.g.length > 2) {
          var F = D.E1[0];
          F.kB = -1;
          z.push(F);
          if (D.ej.indexOf(0) != -1)
              C.push(z.length - 1)
      }
      var E = D.Tj == null;
      if (E)
          D.Tj = [];
      for (var M = D.C.length - 1; M >= 0; M--) {
          var f = D.W[D.C[M]]
            , a = f.add.TySh;
          if (f.add.vmsk != null && (f.XE || f.Ct())) {
              var F = b$.j4("\"" + f.getName() + "\" Shape Path", f.add);
              F.kB = D.C[M];
              z.push(F);
              if (E)
                  D.Tj.push(X);
              if (D.Tj.indexOf(X) != -1)
                  C.push(z.length - 1);
              X++
          }
          if (n != !0 && a && a.add && j.Y0.Pb(a.iK)) {
              var F = b$.j4("\"" + f.getName().slice(0, 10) + "..\" Text Path", a.add);
              F.kB = 1e6 + D.C[M];
              z.push(F);
              C.push(z.length - 1);
              X++
          }
      }
      if (C.length == 0 && n) {
          D.E1[0].kB = -1;
          D.ej = [0];
          C.push(z.length);
          z.push(D.E1[0])
      }
      return [z, C]
  }
  ;
  b$.prototype.l3 = function(M, n) {
      var z = []
        , h = this.root.H0(M);
      if (h)
          h.Yy(z, n);
      return z
  }
  ;
  b$.prototype.YE = function() {
      this.root.qK(this, new cc(0,0,this.d,this.v), 32)
  }
  ;
  b$.prototype.Xw = function(n) {
      for (var M = 0; M < this.W.length; M++) {
          var z = this.W[M];
          if (n.indexOf(z) == -1) {
              z.XB.a3o();
              z.J()
          }
      }
      this.W = n.slice(0);
      this.j7()
  }
  ;
  b$.prototype.j7 = function() {
      var n = this.W
        , z = n.length;
      this.root = new fK;
      var C = this.gl(!0);
      C.Gx = "pass";
      C.add.lsct = g9.WQ;
      var D = this.iE(!0)
        , F = [D];
      for (var M = 0; M < z; M++)
          F.push(n[M]);
      F.push(C);
      this.root.Ts(F, 0, 0);
      if (this.C.length == 0)
          this.C = [z - 1]
  }
  ;
  b$.prototype.Fp = function() {
      if (this.C.length != 1)
          return;
      var n = this.root.H0(this.C[0]);
      while (n.parent != null) {
          var z = n.parent.b;
          z.add.lsct = g9.WQ;
          n = n.parent
      }
      this.QV = this.a7G = !0
  }
  ;
  b$.prototype.aeD = function() {
      this.j7();
      var n = [this.root]
        , gb = 0;
      while (n.length != 0) {
          var top = n.pop();
          gb++;
          if (top.b.add.lsct == g9.WQ)
              for (var M = 0; M < top.children.length; M++)
                  n.push(top.children[M])
      }
      if (gb > 1e3) {
          var z = this.root.children;
          for (var M = 0; M < z.length; M++)
              if (z[M].b.add.lsct == g9.WQ)
                  z[M].b.add.lsct = g9.cP
      }
  }
  ;
  b$.QG = function(n, z, C, D, F, X) {
      var E = {
          __name: "Make",
          classID: "Mk",
          Nw: {
              t: "Objc",
              v: {
                  classID: "Dcmn",
                  Nm: {
                      t: "TEXT",
                      v: D
                  },
                  artboard: {
                      t: "bool",
                      v: X
                  },
                  Md: {
                      t: "type",
                      v: {
                          classID: "RGBM"
                      }
                  },
                  Wdth: {
                      t: "UntF",
                      v: {
                          type: "#Rlt",
                          val: n
                      }
                  },
                  Hght: {
                      t: "UntF",
                      v: {
                          type: "#Rlt",
                          val: z
                      }
                  },
                  Rslt: {
                      t: "UntF",
                      v: {
                          type: "#Rsl",
                          val: C
                      }
                  },
                  pixelScaleFactor: {
                      t: "doub",
                      v: 1
                  },
                  Fl: {
                      t: "enum",
                      v: {
                          Fl: F
                      }
                  },
                  Dpth: {
                      t: "long",
                      v: 8
                  },
                  profile: {
                      t: "TEXT",
                      v: "sRGB IEC61966-2.1"
                  }
              }
          }
      };
      return {
          KY: "make",
          cw: E
      }
  }
  ;
  b$.acQ = function(n, z) {
      var C = 0
        , D = 0
        , F = 72
        , X = z.agV
        , E = n.preset && n.preset.v == "Clipboard";
      if (E) {
          C = X.d;
          D = X.v
      } else {
          C = n.Wdth.v.val;
          D = n.Hght.v.val;
          F = n.Rslt.v.val
      }
      var f = new b$((n.Nm ? n.Nm.v : aC.get([11, 7])) + ".psd");
      f.d = C;
      f.v = D;
      f.$M = F;
      var a = n.Fl ? n.Fl.v.Fl : "Wht";
      if (n.artboard && n.artboard.v) {
          var q = f.gl();
          q.CZ("Artboard 1");
          q.add.lsct = g9.WQ;
          q.zk(new cc(0,0,C,D));
          q.add.artb.artboardBackgroundType = {
              t: "long",
              v: {
                  Wht: 1,
                  Blck: 2,
                  Trns: 3,
                  BckC: 1
              }[a]
          };
          q.Gx = "pass";
          q.j1 = 24;
          f.Xw([f.iE(), q]);
          f.Jy(1)
      } else {
          var c = f.gl();
          c.CZ("Background");
          f.Xw([c]);
          c.add.lspf = 1 << 2;
          if (a != "Trns") {
              var K = z.ff;
              K = (K & 255) << 16 | (K >>> 8 & 255) << 8 | K >>> 16;
              c.rect = new cc(0,0,C,D);
              c.buffer = j.T(C * D * 4);
              j.xM(c.buffer, {
                  Wht: 4294967295,
                  Blck: 4278190080,
                  BckC: 255 << 24 | K
              }[a])
          }
      }
      f.buffer = j.T(C * D * 4);
      return f
  }
  ;
  function eT(n) {
      this.JB = n;
      this.X = 0;
      this.pM = 1;
      this.A = new ir(0,0);
      this.dz = new ir(0,0);
      this.aV = 0;
      this.Hg = [1, 1, 1];
      this.Fe = new cc(0,0,1,1);
      this.aht = new cc(0,0,n.d,n.v);
      this.U3 = null;
      this.NZ = null;
      this.GE = new Uint32Array(0);
      this.aI = null;
      this.mP = null;
      this.ws = j.T(0);
      this.fV = null;
      this.NO = null
  }
  eT.prototype.fk = function(n) {
      var z = new b6
        , C = this.Fe
        , D = this.JB
        , F = n ? this.pM : this.X
        , X = n ? this.dz : this.A
        , E = Math.round((C.d - D.d * F) / 2 + X.x)
        , f = Math.round((C.v - D.v * F) / 2 + X.y);
      z.translate(-E, -f);
      z.scale(1 / F, 1 / F);
      var a = D.d / 2
        , q = D.v / 2;
      z.translate(-a, -q);
      z.rotate(this.aV);
      z.translate(a, q);
      return z
  }
  ;
  eT.prototype.N8 = function(n) {
      var z = this.Fe
        , C = this.JB
        , D = Math.atan2(-n.O, n.nb)
        , F = C.d / 2
        , X = C.v / 2;
      n.translate(-F, -X);
      n.rotate(-D);
      n.translate(F, X);
      var E = 1 / n.Jr();
      n.scale(E, E);
      var f = -n.H1
        , a = -n.Wv
        , q = Math.round(f - (z.d - C.d * E) / 2)
        , c = Math.round(a - (z.v - C.v * E) / 2);
      if (Math.abs(E - Math.round(E)) < 1e-6)
          E = Math.round(E);
      this.aV = D;
      this.X = E;
      this.A = new ir(q,c)
  }
  ;
  eT.prototype.C$ = function(n, z) {
      var C = this.fk();
      return C.JT(new ir(n,z))
  }
  ;
  eT.prototype.Sg = function(n, z) {
      var C = this.fk();
      C.eL();
      return C.JT(new ir(n,z))
  }
  ;
  function g$() {}
  g$.order = "ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");
  g$.IT = "ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
  g$.names = [[14, 4], [14, 9], [14, 1], [14, 3], [14, 8], [14, 5], [14, 6], [14, 7], [14, 2], [14, 0]];
  g$.VS = ["DrSh", "IrSh", "SoFi", "GrFl", "FrFX"];
  g$.oQ = ["Clr"];
  g$.p_ = "Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
  g$.XK = ["Ptrn", "Scl", "Algn", "phase"];
  g$.LX = {
      jw: "{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",
      fP: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",
      KH: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",
      mA: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"
  };
  g$.LX.jw = "\"Clr\": " + g$.LX.jw;
  g$.LX._ = "\"Grad\":" + g$.LX.fP + ",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
  g$.LX.mA = "\"Ptrn\":" + g$.LX.mA + ",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
  g$.default = "{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
  g$.g$ = ["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}", "{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"}," + g$.LX.jw + "," + g$.LX._ + "," + g$.LX.mA + "}", "{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}", "{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}", "{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}", "{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"}," + g$.LX.jw + "}", "{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"}," + g$.LX._ + "}", "{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"}," + g$.LX.mA + "}", "{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}", "{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
  g$._ = {
      types: "Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),
      names: [[19, 0, 0], [19, 0, 1], [19, 0, 2], [19, 0, 3], [19, 0, 4], [19, 0, 5]]
  };
  g$.stroke = {
      types: ["InsF", "CtrF", "OutF"],
      names: [[19, 5, 2], [19, 5, 1], [19, 5, 0]],
      Na: ["SClr", "GrFl", "Ptrn"],
      a1Z: [[13, 0], [12, 37], [12, 62]]
  };
  g$.Is = {
      types: ["SfBL", "PrBL"],
      names: [[19, 1, 0], [19, 1, 1]],
      Ip: ["SrcC", "SrcE"],
      alg: [[19, 5, 1], [12, 69]]
  };
  g$.en = {
      types: ["OtrB", "InrB", "Embs", "PlEb", "strokeEmboss"],
      style: [[19, 2, 0], [19, 2, 1], [19, 2, 2], [19, 2, 3], [19, 2, 4]],
      eN: ["SfBL", "PrBL", "Slmt"],
      ab8: [[19, 3, 0], [19, 3, 1], [19, 3, 2]],
      dir: [[19, 4, 0], [19, 4, 1]]
  };
  g$.Bt = {
      BB: ["strokeStyleButtCap", "strokeStyleRoundCap", "strokeStyleSquareCap"],
      pA: ["strokeStyleAlignInside", "strokeStyleAlignCenter", "strokeStyleAlignOutside"],
      join: ["strokeStyleMiterJoin", "strokeStyleRoundJoin", "strokeStyleBevelJoin"],
      UN: ["solidColorLayer", "gradientLayer", "patternLayer"],
      default: {
          classID: "strokeStyle",
          strokeStyleVersion: {
              t: "long",
              v: 2
          },
          strokeEnabled: {
              t: "bool",
              v: !1
          },
          fillEnabled: {
              t: "bool",
              v: !0
          },
          strokeStyleLineWidth: {
              t: "UntF",
              v: {
                  type: "#Pnt",
                  val: 4.38
              }
          },
          strokeStyleLineDashOffset: {
              t: "UntF",
              v: {
                  type: "#Pnt",
                  val: 0
              }
          },
          strokeStyleMiterLimit: {
              t: "doub",
              v: 100
          },
          strokeStyleLineCapType: {
              t: "enum",
              v: {
                  strokeStyleLineCapType: "strokeStyleButtCap"
              }
          },
          strokeStyleLineJoinType: {
              t: "enum",
              v: {
                  strokeStyleLineJoinType: "strokeStyleMiterJoin"
              }
          },
          strokeStyleLineAlignment: {
              t: "enum",
              v: {
                  strokeStyleLineAlignment: "strokeStyleAlignCenter"
              }
          },
          strokeStyleScaleLock: {
              t: "bool",
              v: !1
          },
          strokeStyleStrokeAdjust: {
              t: "bool",
              v: !1
          },
          strokeStyleLineDashSet: {
              t: "VlLs",
              v: []
          },
          strokeStyleBlendMode: {
              t: "enum",
              v: {
                  BlnM: "Nrml"
              }
          },
          strokeStyleOpacity: {
              t: "UntF",
              v: {
                  type: "#Prc",
                  val: 100
              }
          },
          strokeStyleContent: {
              t: "Objc",
              v: JSON.parse("{\"classID\":\"solidColorLayer\"," + g$.LX.jw + "}")
          },
          strokeStyleResolution: {
              t: "doub",
              v: 72
          }
      }
  };
  g$.sQ = [{
      classID: "null",
      Clr: JSON.parse(g$.g$[5]).Clr
  }, {
      classID: "null",
      Grad: JSON.parse(g$.g$[6]).Grad,
      Dthr: {
          t: "bool",
          v: !1
      },
      Rvrs: {
          t: "bool",
          v: !1
      },
      Angl: {
          t: "UntF",
          v: {
              type: "#Ang",
              val: 60
          }
      },
      Type: {
          t: "enum",
          v: {
              GrdT: "Lnr"
          }
      },
      Algn: {
          t: "bool",
          v: !0
      },
      Scl: {
          t: "UntF",
          v: {
              type: "#Prc",
              val: 100
          }
      },
      Ofst: {
          t: "Objc",
          v: {
              classID: "Pnt",
              Hrzn: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 0
                  }
              },
              Vrtc: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 0
                  }
              }
          }
      }
  }, {
      classID: "null",
      Ptrn: JSON.parse(g$.g$[7]).Ptrn,
      Algn: {
          v: !0,
          t: "bool"
      },
      Scl: {
          v: {
              type: "#Prc",
              val: 100
          },
          t: "UntF"
      },
      phase: {
          v: {
              classID: "Pnt",
              Hrzn: {
                  v: 0,
                  t: "doub"
              },
              Vrtc: {
                  v: 0,
                  t: "doub"
              }
          },
          t: "Objc"
      }
  }];
  var fg = {};
  fg.ds = function(n, z) {
      function C(n, R) {
          if (n == null)
              return null;
          var J = n[R].v, w;
          if (J.length != 0) {
              w = J[0].v;
              if (!w.enab.v)
                  w = null
          }
          return w
      }
      var D = z.SoCo
        , F = z.GdFl
        , X = C(n, "solidFillMulti")
        , E = C(n, "gradientFillMulti");
      if (X == null && E == null)
          return [D, F];
      var f = fg.a6t;
      if (D && X && E == null) {
          var a = JSON.parse(JSON.stringify(D));
          a.Clr.v = f(X.Clr.v, D.Clr.v, X);
          return [a, null]
      }
      if (F && X && E == null) {
          var q = JSON.parse(JSON.stringify(F))
            , c = q.Grad.v.Clrs.v;
          for (var M = 0; M < c.length; M++) {
              var K = c[M].v.Clr;
              K.v = f(X.Clr.v, K.v, X)
          }
          return [null, q]
      }
      if (D && E) {
          var q = JSON.parse(JSON.stringify(E))
            , c = q.Grad.v.Clrs.v;
          for (var M = 0; M < c.length; M++) {
              var K = c[M].v.Clr;
              K.v = f(K.v, D.Clr.v, E)
          }
          return [null, q]
      }
      return [X, E]
  }
  ;
  fg.abm = {
      oI: j.T(4),
      U$: j.T(4),
      h: new cc(0,0,1,1)
  };
  fg.a6t = function(n, z, C) {
      var D = hr.eS(C.Md.v.BlnM)
        , F = C.Opct.v.val / 100
        , X = fg.abm;
      n = j._.Jo(n);
      z = j._.Jo(z);
      X.oI[0] = n.h;
      X.oI[1] = n.Q;
      X.oI[2] = n.O;
      X.oI[3] = 255;
      X.U$[0] = z.h;
      X.U$[1] = z.Q;
      X.U$[2] = z.O;
      X.U$[3] = 255;
      j.$.xN(D, X.oI, X.h, X.U$, X.h, X.h, F);
      return {
          classID: "RGBC",
          Rd: {
              t: "doub",
              v: X.U$[0]
          },
          Grn: {
              t: "doub",
              v: X.U$[1]
          },
          Bl: {
              t: "doub",
              v: X.U$[2]
          }
      }
  }
  ;
  fg.Cr = function(n, z, C) {
      var D = n;
      n = n.slice(0);
      var F = hr.Un[hr.SV.indexOf(z.Md.v.BlnM)]
        , X = j._.Jo(z.Clr.v)
        , E = 4278190080 | Math.round(X.O) << 16 | Math.round(X.Q) << 8 | Math.round(X.h)
        , f = j.T(C.t() * 4);
      j.xM(f, E);
      j.$.xN(F, f, C, n, C, C, z.Opct.v.val / 100);
      for (var M = 0; M < n.length; M += 4)
          n[M + 3] = D[M + 3];
      return n
  }
  ;
  fg.Wj = function(n, z) {
      var C = ["Sz", "blur", "Sftn", "Dstn"];
      for (var M = 0; M < g$.order.length; M++) {
          var D = g$.order[M]
            , F = n[g$.IT[M]].v;
          for (var X = 0; X < F.length; X++) {
              var E = F[X].v;
              for (var f = 0; f < C.length; f++) {
                  var a = E[C[f]];
                  if (a) {
                      var q = a.v.val
                        , c = q;
                      c = Math.max(q == 0 ? 0 : 1, c * z);
                      if (D == "ChFX")
                          c = Math.min(c, 250);
                      if (D == "ebbl") {
                          if (C[f] == "blur")
                              c = Math.min(c, 250);
                          if (C[f] == "Sftn")
                              c = Math.min(c, 16)
                      }
                      a.v.val = Math.round(c)
                  }
              }
              if (D == "ebbl" || D == "patternFill" || D == "FrFX")
                  if (E.Ptrn && E.Scl)
                      E.Scl.v.val = Math.max(1, Math.min(1e3, E.Scl.v.val * z))
          }
      }
  }
  ;
  fg.akL = function(n, z, C) {
      var D = new cc(-.5,-.5,1,1)
        , F = n.add.lmfx;
      for (var M = 0; M < g$.order.length; M++) {
          var X = g$.order[M]
            , E = F[g$.IT[M]].v;
          for (var f = 0; f < E.length; f++) {
              var a = E[f].v, R;
              if (!a.enab.v)
                  continue;
              var q = a.blur ? a.blur.v.val + 1 : 0
                , c = a.Ckmt ? a.Ckmt.v.val / 100 : 0
                , K = Math.round(q * c);
              if (X == "DrSh" || X == "IrSh" && C) {
                  R = new cc(-.5,-.5,1,1);
                  R.TR(q, q);
                  fg.sW(R, a, z, 0)
              }
              if (X == "OrGl" || X == "IrGl" && C) {
                  R = new cc(-.5,-.5,1,1);
                  R.TR(q, q)
              }
              if (X == "FrFX") {
                  var J = fg.s3(a)
                    , w = J[1];
                  if (C)
                      w = Math.max(J[0], w);
                  R = new cc(-.5,-.5,1,1);
                  R.TR(Math.ceil(w), Math.ceil(w))
              }
              if (X == "ebbl") {
                  var q = a.blur.v.val
                    , p = a.bvlS.v.BESl;
                  if (p == "Embs" || p == "PlEb")
                      q /= 2;
                  var I = ["OtrB", "InrB", "Embs", "PlEb", "strokeEmboss"]
                    , m = ["SfBL", "PrBL", "Slmt"]
                    , A = ["In", "Out"]
                    , U = a.bvlT.v.bvlT != "SfBL" ? q : q * .43
                    , r = Math.round(q);
                  R = new cc(-r - 1,-r - 1,2 * r + 2,2 * r + 2)
              }
              if (C && X == "ChFX") {
                  R = new cc(-.5,-.5,1,1);
                  R.TR(q, q);
                  var $ = R.clone();
                  fg.sW(R, a, z, 0);
                  fg.sW($, a, z, Math.PI);
                  R = R.QH($)
              }
              if (R)
                  D = D.QH(R)
          }
      }
      if (D.x != Math.ceil(D.x)) {
          D.x = Math.ceil(D.x);
          D.d -= 1
      }
      if (D.y != Math.ceil(D.y)) {
          D.y = Math.ceil(D.y);
          D.v -= 1
      }
      D.d = Math.floor(D.d);
      D.v = Math.floor(D.v);
      return D
  }
  ;
  fg.s3 = function(n) {
      var z = 0
        , C = 0
        , D = n.Styl.v.FStl
        , F = n.Sz.v.val;
      if (D == "OutF")
          C = F;
      if (D == "InsF")
          z = F;
      if (D == "CtrF")
          z = C = F / 2;
      return [z, C]
  }
  ;
  fg.e3 = function(n) {
      if (n.all == null)
          return;
      for (var M = 0; M < n.all.length; M++) {
          var z = n.all[M];
          if (z.zZ)
              z.zZ.delete();
          if (z.ce)
              z.ce.delete();
          if (z.Ec)
              z.Ec.delete()
      }
  }
  ;
  fg.a8M = function(n, z, C, D, F, X, E) {
      fg.e3(n);
      var f = fg.va(D, F, z, C, X, E);
      n.type = f.type,
      n.all = f.all;
      if (N.O3)
          for (var M = 0; M < n.all.length; M++) {
              var a = n.all[M];
              a.zZ = new N.Dv(a.nM.d,a.nM.v);
              a.zZ.set(a.oz);
              delete a.oz;
              if (a.wF) {
                  a.ce = new N.Sr(a.nM.d,a.nM.v);
                  a.ce.set(a.wF);
                  delete a.wF
              }
              if (a.UY) {
                  a.Ec = new N.Sr(a.nM.d,a.nM.v);
                  a.Ec.set(a.UY);
                  delete a.UY
              }
          }
  }
  ;
  fg.Hz = function(n) {
      for (var M = 0; M < g$.order.length; M++) {
          var z = g$.order[M]
            , C = g$.IT[M]
            , D = n[C].v;
          for (var F = 0; F < D.length; F++) {
              var X = D[F].v;
              if (X.enab.v && ["patternFill", "GrFl", "SoFi"].indexOf(z) == -1)
                  return !0
          }
      }
      return !1
  }
  ;
  fg.va = function(n, z, C, D, F, X) {
      if (X == null)
          X = D;
      var E = 0
        , f = 0;
      for (var M = 0; M < g$.order.length; M++) {
          var a = g$.order[M]
            , q = g$.IT[M]
            , c = n[q].v;
          for (var K = 0; K < c.length; K++) {
              var R = c[K].v;
              if (a == "DrSh" && R.enab.v && R.Ckmt.v.val > 0 && R.blur.v.val > 0)
                  E = Math.max(E, Math.ceil(R.Ckmt.v.val * R.blur.v.val / 100));
              if (a == "OrGl" && R.enab.v && R.Ckmt.v.val > 0 && R.blur.v.val > 0 && R.GlwT.v.BETE == "SfBL")
                  E = Math.max(E, Math.ceil(R.Ckmt.v.val * R.blur.v.val / 100));
              if (a == "OrGl" && R.enab.v && R.blur.v.val > 0 && R.GlwT.v.BETE == "PrBL")
                  E = Math.max(E, R.blur.v.val);
              if (a == "FrFX" && R.enab.v && R.Sz.v.val > 0) {
                  if (R.Styl.v.FStl == "OutF")
                      E = Math.max(E, R.Sz.v.val);
                  if (R.Styl.v.FStl == "CtrF")
                      E = Math.max(E, Math.ceil(R.Sz.v.val / 2));
                  f = Math.max(f, fg.s3(R)[1])
              }
          }
      }
      var J = new fg.aH(C,D,E,fg.Hz(n))
        , w = -D.x
        , p = -D.y
        , I = {
          type: {},
          all: []
      };
      for (var m = 0; m < g$.order.length; m++) {
          var a = g$.order[m]
            , q = g$.IT[m];
          I.type[a] = [];
          for (var A = n[q].v.length - 1; A >= 0; A--) {
              var U = n[q].v[A].v;
              if (!U.enab.v)
                  continue;
              var r = U.blur ? U.blur.v.val : 0
                , $ = U.Ckmt ? U.Ckmt.v.val / 100 : 0
                , k = r * $;
              if (a == "DrSh") {
                  var G = J.e8(k, r - k, !0)
                    , i = G.DO
                    , o = G.R;
                  o.offset(w, p);
                  fg.Br(i, U, !1);
                  fg.sW(o, U, F, 0);
                  var S = j.T(o.t() * 4);
                  fg.Xu(S, U.Clr.v);
                  j.bl(i, S, 3);
                  var H = {
                      oz: S,
                      nM: o,
                      Ga: hr.eS(U.Md.v.BlnM),
                      He: U.Opct.v.val / 100,
                      a16: U.layerConceals.v
                  };
                  I.type[a].push(H);
                  I.all.push(H)
              }
              if (a == "IrSh") {
                  var G = J.e8(k, r - k, !1);
                  fg.sW(G.R, U, F, 0);
                  var o = J.rect().clone()
                    , i = j.T(o.t());
                  i.fill(255);
                  j.v8(G.DO, G.R, i, o);
                  fg.Br(i, U, !0);
                  var S = j.T(o.t() * 4);
                  fg.Xu(S, U.Clr.v);
                  j.bl(i, S, 3);
                  o.offset(w, p);
                  var H = {
                      oz: S,
                      nM: o,
                      Ga: hr.eS(U.Md.v.BlnM),
                      He: U.Opct.v.val / 100
                  };
                  I.type[a].push(H);
                  I.all.push(H)
              }
              if (a == "GrFl") {
                  var S = j.T(J.rect().t() * 4);
                  fg.PZ(U, S, J.rect(), F, null, X);
                  var o = J.rect().clone();
                  o.offset(w, p);
                  var H = {
                      oz: S,
                      nM: o,
                      Ga: hr.eS(U.Md.v.BlnM),
                      He: U.Opct.v.val / 100
                  };
                  I.type[a].push(H);
                  I.all.push(H)
              }
              if (a == "SoFi") {
                  var S = j.T(J.DO().length * 4);
                  fg.Xu(S, U.Clr.v);
                  var o = J.rect().clone();
                  o.offset(w, p);
                  var H = {
                      oz: S,
                      nM: o,
                      Ga: hr.eS(U.Md.v.BlnM),
                      He: U.Opct.v.val / 100
                  };
                  I.type[a].push(H);
                  I.all.push(H)
              }
              if (a == "ebbl") {
                  var e = !1;
                  if (e)
                      console.log(U);
                  var V = Date.now()
                    , v = U.bvlS.v.BESl;
                  if (v == "strokeEmboss") {
                      var B = n.frameFXMulti.v;
                      if (B.length == 0)
                          continue;
                      B = B[0].v;
                      if (!B.enab.v)
                          continue;
                      var Z = B.Styl.v.FStl;
                      if (Z == "OutF")
                          v = "OtrB";
                      if (Z == "CtrF")
                          v = "Embs";
                      if (Z == "InsF")
                          v = "InrB"
                  }
                  var r = U.blur.v.val;
                  if (r == 0)
                      r = .7;
                  if (v == "Embs" || v == "PlEb")
                      r /= 2;
                  var d = ["OtrB", "InrB", "Embs", "PlEb", "strokeEmboss"]
                    , g = ["SfBL", "PrBL", "Slmt"]
                    , Y = ["In", "Out"]
                    , y = U.bvlT.v.bvlT != "SfBL" ? r : r * .45
                    , L = Math.round(r)
                    , _ = J.rect().clone()
                    , b = _.clone();
                  b.TR(L, L);
                  var x = b.d
                    , g6 = b.v
                    , fY = x * g6
                    , f3 = j.T(fY);
                  j.v8(J.DO(), _, f3, b);
                  var hK = new Float64Array(fY)
                    , s = new Float64Array(fY);
                  j.style.A0(f3, hK, x, g6);
                  j.eL(f3);
                  j.style.A0(f3, s, x, g6);
                  if (e)
                      console.log("distTransform computed", Date.now() - V);
                  for (var M = 0; M < fY; M++)
                      s[M] = s[M] - hK[M];
                  for (var M = 0; M < fY; M++) {
                      var P = s[M];
                      if (P < -y)
                          s[M] = -y;
                      else if (P > y)
                          s[M] = y
                  }
                  if (e)
                      console.log("summing + cropping", Date.now() - V);
                  if (U.bvlT.v.bvlT == "SfBL") {
                      var aF = Math.pow(r * .21, 1.22);
                      if (!0)
                          aF = Math.max(aF, 2);
                      var fM = j.Y7.CM(aF, 2);
                      j.Y7.Lo(s, hK, b, fM[0] >>> 1);
                      j.Y7.Lo(hK, s, b, fM[1] >>> 1)
                  }
                  if (e)
                      console.log("blurring", Date.now() - V);
                  var eA = s
                    , e8 = eA.slice(0);
                  if (U.useShape.v) {
                      var eC = Math.min(100, U.Inpr.v.val + 1) / 100;
                      if (v != "OtrB" && v != "InrB")
                          eC = 1;
                      var cy = j.E6.o0(U.MpgS.v.Crv.v, 2e3)
                        , aX = Math.round(2e3 / eC);
                      cy = j.E6.a2g(cy, aX, v == "InrB");
                      var j0 = .5 / y;
                      for (var M = 0; M < fY; M++) {
                          var aT = eA[M]
                            , a4 = .99999 * (aT + y) * j0;
                          eA[M] = -y + 2 * y * cy[~~(a4 * (aX - 1))]
                      }
                      if (e)
                          console.log("applying shape", Date.now() - V)
                  }
                  if (U.useTexture.v) {
                      var f8 = j.T(x * g6 * 4);
                      fg.hG(U, f8, b, F, z);
                      var b3 = j.T(x * g6);
                      j.Fd(f8, b3);
                      var gh = j.T(x * g6);
                      j.Y7.hI(b3, gh, b, 1);
                      b3 = gh;
                      var cZ = r * U.textureDepth.v.val * (1 / 100) * (1 / 255);
                      if (U.InvT.v)
                          cZ = -cZ;
                      for (var M = 0; M < fY; M++)
                          eA[M] += -cZ * b3[M];
                      if (e)
                          console.log("applying texture", Date.now() - V)
                  }
                  var h3 = (U.bvlT.v.bvlT == "SfBL" ? 1 : .5) * (U.bvlD.v.BESs == "In" ? 1 : -1) * U.srgR.v.val / 100;
                  for (var M = 0; M < fY; M++)
                      eA[M] *= h3;
                  if (e)
                      console.log("scaling", Date.now() - V);
                  var ew = U.uglg && U.uglg.v ? F.eY() : U.lagl.v.val;
                  ew = ew * (Math.PI / 180);
                  var dy = U.uglg && U.uglg.v ? F.Wq() : U.Lald.v.val;
                  dy = dy * (Math.PI / 180);
                  var fx = Math.cos(ew) * Math.cos(dy)
                    , bo = -Math.sin(ew) * Math.cos(dy)
                    , hd = Math.sin(dy)
                    , gT = new Float64Array(fY)
                    , du = new Float64Array(fY)
                    , bk = v == "PlEb";
                  for (var i8 = 0; i8 < g6; i8++)
                      for (var en = 0; en < x; en++) {
                          var M = i8 * x + en
                            , dW = 0
                            , ix = 0
                            , dU = 1;
                          if (i8 != 0 && i8 != g6 - 1 && en != 0 && en != x - 1) {
                              var hN = eA[M - x - 1]
                                , a1 = eA[M - x + 1]
                                , hk = eA[M + x - 1]
                                , ax = eA[M + x + 1];
                              dW = -.125 * (a1 + 2 * eA[M + 1] + ax - (hN + 2 * eA[M - 1] + hk));
                              ix = -.125 * (hk + 2 * eA[M + x] + ax - (hN + 2 * eA[M - x] + a1))
                          } else {
                              var ej = eA[M];
                              ix = -(i8 == 0 ? eA[M + x] - ej : i8 == g6 - 1 ? ej - eA[M - x] : .5 * (eA[M + x] - eA[M - x]));
                              dW = -(en == 0 ? eA[M + 1] - ej : en == x - 1 ? ej - eA[M - 1] : .5 * (eA[M + 1] - eA[M - 1]))
                          }
                          var bz = 1 / Math.sqrt(dW * dW + ix * ix + 1);
                          dW *= bz;
                          ix *= bz;
                          dU *= bz;
                          var fq = dW * fx + ix * bo + dU * hd
                            , cg = fq;
                          if (bk)
                              cg = -dW * fx - ix * bo + dU * hd;
                          if (fq > 0)
                              gT[M] = fq;
                          if (cg > 0)
                              du[M] = cg
                      }
                  if (e)
                      console.log("raycasting", Date.now() - V);
                  if (U.Sftn.v.val != 0) {
                      j.Y7.el(gT, hK, b, U.Sftn.v.val * .43);
                      var iw = hK
                        , hK = gT
                        , gT = iw;
                      if (bk) {
                          j.Y7.el(du, hK, b, U.Sftn.v.val * .43);
                          var iw = hK
                            , hK = du
                            , du = iw
                      } else
                          j.YY(gT, du)
                  }
                  if (e)
                      console.log("softening", Date.now() - V);
                  var cy = j.E6.o0(U.TrnS.v.Crv.v, 1024);
                  for (var M = 0; M < fY; M++) {
                      gT[M] = cy[~~(gT[M] * 1024)];
                      du[M] = cy[~~(du[M] * 1024)]
                  }
                  if (e)
                      console.log("contour remap", Date.now() - V);
                  x = Math.round(x);
                  g6 = Math.round(g6);
                  var fD = j.T(x * g6 * 4);
                  fg.Xu(fD, U.hglC.v);
                  var g8 = j.T(x * g6 * 4);
                  fg.Xu(g8, U.sdwC.v);
                  var ap = j.T(x * g6 * 4);
                  fg.Xu(ap, U.hglC.v);
                  var c8 = j.T(x * g6 * 4);
                  fg.Xu(c8, U.sdwC.v);
                  var dS = 1 / hd
                    , iK = 1 / (1 - hd)
                    , j0 = 1 / y
                    , ay = new Float64Array(1e3);
                  for (var M = 0; M < 1e3; M++)
                      ay[M] = Math.pow(M * .001, .2);
                  for (var i8 = 0; i8 < g6; i8++)
                      for (var en = 0; en < x; en++) {
                          var M = i8 * x + en
                            , c$ = 4 * M + 3
                            , gP = 0
                            , d0 = 0;
                          gP = gT[M];
                          d0 = du[M];
                          var ff = Math.max(0, Math.min(.9999, (e8[M] + y * .993) * j0));
                          ff = ay[Math.floor(ff * 1e3)];
                          var ci = ff * (1 - Math.min(1, gP * dS))
                            , gL = ff * (1 - Math.min(1, (1 - gP) * iK))
                            , gw = ff * (1 - Math.min(1, d0 * dS))
                            , bJ = ff * (1 - Math.min(1, (1 - d0) * iK));
                          g8[c$] = Math.round(255 * ci);
                          fD[c$] = Math.round(255 * gL);
                          c8[c$] = Math.round(255 * gw);
                          ap[c$] = Math.round(255 * bJ)
                      }
                  if (e)
                      console.log("baking textures", Date.now() - V);
                  b = J.rect().clone();
                  b.TR(L, L);
                  b.offset(w, p);
                  var hX = {
                      afU: U.bvlS.v.BESl == "strokeEmboss"
                  };
                  if (["InrB", "Embs", "PlEb"].indexOf(v) != -1) {
                      hX.eA = {
                          oz: fD,
                          nM: b,
                          Ga: hr.eS(U.hglM.v.BlnM),
                          He: U.hglO.v.val / 100
                      };
                      hX.Qr = {
                          oz: g8,
                          nM: b,
                          Ga: hr.eS(U.sdwM.v.BlnM),
                          He: U.sdwO.v.val / 100
                      };
                      I.all.push(hX.eA, hX.Qr)
                  }
                  if (["OtrB", "Embs", "PlEb"].indexOf(v) != -1) {
                      hX.rt = {
                          oz: ap,
                          nM: b,
                          Ga: hr.eS(U.hglM.v.BlnM),
                          He: U.hglO.v.val / 100
                      };
                      hX.H3 = {
                          oz: c8,
                          nM: b,
                          Ga: hr.eS(U.sdwM.v.BlnM),
                          He: U.sdwO.v.val / 100
                      };
                      I.all.push(hX.rt, hX.H3)
                  }
                  if (e)
                      console.log(Date.now() - V);
                  I.type[a].push(hX)
              }
              if (a == "patternFill") {
                  var bm = J.rect()
                    , S = j.T(bm.t() * 4);
                  fg.hG(U, S, bm, F, z);
                  var o = bm.clone();
                  o.offset(w, p);
                  var H = {
                      oz: S,
                      nM: o,
                      Ga: hr.eS(U.Md.v.BlnM),
                      He: U.Opct.v.val / 100
                  };
                  I.type[a].push(H);
                  I.all.push(H)
              }
              if (a == "ChFX") {
                  var S = j.T(J.DO().length * 4);
                  fg.Xu(S, U.Clr.v);
                  var r = U.blur.v.val
                    , hl = J.rect().clone();
                  hl.TR(r, r);
                  var b0 = j.T(hl.t())
                    , i3 = j.T(hl.t());
                  j.v8(J.DO(), J.rect(), i3, hl);
                  j.Y7.c_(i3, b0, hl, r * .43);
                  var cp = j.E6.h4(U.MpgS.v.Crv.v, 256, !0);
                  j.HE(b0, cp);
                  var eR = j.T(J.DO().length)
                    , hm = j.T(J.DO().length)
                    , aK = J.rect().clone();
                  fg.sW(aK, U, F, 0);
                  j.v8(b0, hl, eR, aK);
                  aK = J.rect().clone();
                  fg.sW(aK, U, F, Math.PI);
                  j.v8(b0, hl, hm, aK);
                  var gc = eR.length;
                  for (var M = 0; M < gc; M++)
                      S[4 * M + 3] = Math.abs(eR[M] - hm[M]);
                  if (U.Invr.v)
                      for (var M = 0; M < gc; M++)
                          S[4 * M + 3] = 255 - S[4 * M + 3];
                  var o = J.rect().clone();
                  o.offset(w, p);
                  var H = {
                      oz: S,
                      nM: o,
                      Ga: hr.eS(U.Md.v.BlnM),
                      He: U.Opct.v.val / 100
                  };
                  I.type[a].push(H);
                  I.all.push(H)
              }
              if (a == "OrGl") {
                  var G;
                  if (U.GlwT.v.BETE == "SfBL")
                      G = J.e8(k, r - k, !0);
                  else
                      G = J.hv(r, $, !0);
                  var i = G.DO
                    , o = G.R
                    , ii = i.slice(0);
                  fg.Fk(i, U);
                  var S = j.T(o.t() * 4);
                  if (U.Grad == null) {
                      fg.Xu(S, U.Clr.v);
                      fg.Br(i, U, !1)
                  } else {
                      fg.Br(i, U, null);
                      var fU = {
                          ZO: i,
                          uH: 255,
                          SJ: 0,
                          C0: o
                      };
                      fg.PZ(U, S, o, F, fU);
                      var io = U.Nose.v.val / 100
                        , cJ = o.d;
                      for (var M = 0; M < ii.length; M++) {
                          var eI = 255
                            , hV = ii[M];
                          if (hV < 32) {
                              var bc = (hV + ii[M - 1] + ii[M + 1] + ii[M - cJ] + ii[M + cJ]) * .2 - 1;
                              eI = Math.min(255, Math.round(Math.max(0, bc) * 8))
                          }
                          i[M] = eI
                      }
                      fg.vk(i, U)
                  }
                  j.bl(i, S, 3);
                  o.offset(w, p);
                  var H = {
                      oz: S,
                      nM: o,
                      Ga: hr.eS(U.Md.v.BlnM),
                      He: U.Opct.v.val / 100
                  };
                  I.type[a].push(H);
                  I.all.push(H)
              }
              if (a == "IrGl") {
                  var G;
                  if (U.GlwT.v.BETE == "SfBL")
                      G = J.e8(k, r - k, !1);
                  else
                      G = J.hv(r, $, !1);
                  var i = G.DO
                    , o = G.R;
                  fg.Fk(i, U);
                  if (U.glwS.v.IGSr == "SrcC")
                      j.eL(i);
                  var S = j.T(o.t() * 4);
                  if (U.Grad == null) {
                      fg.Xu(S, U.Clr.v);
                      fg.Br(i, U, !0)
                  } else {
                      fg.Br(i, U, null);
                      var fU = {
                          ZO: i,
                          uH: 255,
                          SJ: 0,
                          C0: o
                      };
                      fg.PZ(U, S, o, F, fU);
                      i.fill(255);
                      fg.vk(i, U)
                  }
                  j.bl(i, S, 3);
                  o.offset(w, p);
                  var H = {
                      oz: S,
                      nM: o,
                      Ga: hr.eS(U.Md.v.BlnM),
                      He: U.Opct.v.val / 100
                  };
                  I.type[a].push(H);
                  I.all.push(H)
              }
              if (a == "FrFX") {
                  var f2 = fg.s3(U)
                    , dK = f2[0]
                    , fJ = f2[1]
                    , o = J.rect().clone()
                    , f6 = null
                    , db = null;
                  o.TR(Math.ceil(f), Math.ceil(f));
                  if (fJ > 0) {
                      var G = J.e8(fJ, 0, !0);
                      db = G.DO;
                      if (db.length < o.t()) {
                          db = j.T(o.t());
                          j.v8(G.DO, G.R, db, o)
                      }
                  }
                  if (dK > 0) {
                      var G = J.e8(dK, 0, !1);
                      f6 = j.T(o.t());
                      f6.fill(255);
                      j.v8(G.DO, G.R, f6, o)
                  }
                  o.offset(w, p);
                  var S = j.T(o.t() * 4)
                    , ds = U.PntT.v.FrFl;
                  if (ds == "SClr")
                      fg.Xu(S, U.Clr.v);
                  if (ds == "GrFl")
                      fg.PZ(U, S, o, F, J.a15(dK, fJ));
                  if (ds == "Ptrn")
                      fg.hG(U, S, o, F, z);
                  var H = {
                      oz: S,
                      nM: o,
                      Ga: hr.eS(U.Md.v.BlnM),
                      He: U.Opct.v.val / 100,
                      UY: db,
                      wF: f6
                  };
                  I.type[a].push(H);
                  I.all.push(H)
              }
          }
      }
      return I
  }
  ;
  fg.eh = function(n) {
      var z = 1 / Math.sqrt(n.x * n.x + n.y * n.y + n.C4 * n.C4);
      n.x *= z;
      n.y *= z;
      n.C4 *= z
  }
  ;
  fg.In = function(n, z) {
      return {
          x: n.y * z.C4 - n.C4 * z.y,
          y: n.C4 * z.x - n.x * z.C4,
          C4: n.x * z.y - n.y * z.x
      }
  }
  ;
  fg.a3r = function(n, z) {
      return n.x * z.x + n.y * z.y + n.C4 * z.C4
  }
  ;
  fg.vk = function(n, z) {
      var C = z.Nose.v.val / 100;
      if (C > 0)
          for (var M = 0; M < n.length; M++) {
              var D = n[M];
              D = Math.min(510 - (1 + C) * j.style.WP(M), D);
              n[M] = D
          }
  }
  ;
  fg.ok = function(n) {
      var z = fg.jG()
        , C = n.s5
        , D = !1;
      for (var M = 0; M < 32; M += 8)
          if (C[M] + C[M + 1] + C[4] + C[5] != 0 || C[M + 2] + C[M + 3] + C[6] + C[7] != 1020)
              D = !0;
      if (D) {
          C = C.slice(0);
          for (var M = 0; M < 40; M += 4) {
              var F = C[M] / 255
                , X = C[M + 1] / 255
                , E = C[M + 2] / 255
                , f = C[M + 3] / 255;
              C[M] = F - 1e-4;
              C[M + 1] = F == X ? 1e9 : 1 / (X - (F - 1e-4));
              C[M + 2] = E == f ? -1e9 : 1 / (E - (f + 1e-4));
              C[M + 3] = f + 1e-4
          }
      }
      var a = n.add.iOpa != null ? n.add.iOpa / 255 : z.fill
        , q = n.add.vstk;
      if (q && !q.fillEnabled.v && (!q.strokeEnabled.v || q.strokeStyleLineWidth.v.val == 0))
          a = 0;
      return {
          fill: a,
          YL: D ? C : null,
          ql: n.add.brst != null ? n.add.brst : z.ql,
          a8l: n.add.knko != null ? n.add.knko : z.a8l,
          style: !1,
          SM: !1
      }
  }
  ;
  fg.jG = function() {
      return {
          fill: 1,
          YL: null,
          ql: [1, 1, 1],
          a8l: 0,
          style: !1,
          SM: !1
      }
  }
  ;
  fg.Ke = function(n, z) {
      if (z == null)
          return null;
      var C = n.Idnt.v
        , D = null;
      for (var M = 0; M < z.length; M++)
          if (z[M].id == C)
              return z[M];
      return null
  }
  ;
  fg.Zm = function(n, z, C) {
      var D = ["patternFillMulti", "ebblMulti", "frameFXMulti"];
      for (var M = 0; M < D.length; M++) {
          var F = n.v[D[M]].v;
          for (var X = 0; X < F.length; X++)
              if (F[X].v.Ptrn)
                  z.P2(fg.Ke(F[X].v.Ptrn.v, C))
      }
  }
  ;
  fg.aiP = function(n, z, C) {
      var D = ["patternFillMulti", "ebblMulti", "frameFXMulti"];
      for (var M = 0; M < D.length; M++) {
          var F = n.v[D[M]].v;
          for (var X = 0; X < F.length; X++)
              if (F[X].v.Ptrn) {
                  var E = F[X].v.Ptrn.v
                    , f = fg.Ke(E, C)
                    , a = fg.Ke(E, z.add.Patt);
                  if (f == null && a)
                      C.push(a)
              }
      }
  }
  ;
  fg.hG = function(n, z, C, D, F) {
      var X = fg.Ke(n.Ptrn.v, D.add.Patt);
      if (X != null && !C.kX()) {
          var E = X.Tc
            , f = E[0]
            , a = E[1]
            , q = 0;
          j.Lp(E);
          var c = n.Scl.v.val / 100;
          while ((c < .3 || c == .5) && E[q + 2]) {
              c *= a.d / E[q + 3].d;
              q += 2;
              f = E[q];
              a = E[q + 1]
          }
          var K = j.scale.hG(f, a.d, a.v)
            , R = -C.x + n.phase.v.Hrzn.v - 1
            , J = -C.y + n.phase.v.Vrtc.v - 1;
          if (n.Algn != null && !n.Algn.v) {} else {
              R += F.x;
              J += F.y
          }
          j.scale.Bu(K, z, C.d, C.v, c, c, R + 1, J + 1)
      }
  }
  ;
  fg.PZ = function(n, z, C, D, F, X) {
    debugger
      if (X == null)
          X = C;
      var E = n.Type ? n.Type.v.GrdT : "shapeburst"
        , f = n.Algn && n.Algn.v ? X : new cc(0,0,D.d,D.v)
        , a = n.Angl ? j._.mu(n, f) : [new ir(0,0), new ir(100,0)]
        , q = a[0].x
        , c = a[0].y
        , K = a[1].x - q
        , R = a[1].y - c
        , J = Math.sqrt(K * K + R * R);
      J = 1 / (2 * J * J);
      var w = [K * J, R * J, -R * J, K * J]
        , p = n.Rvrs ? n.Rvrs.v : !1
        , I = n.Dthr ? n.Dthr.v : !1;
      j._.R4(n.Grad.v, z, C, w, q, c, p, g$._.types.indexOf(E), 0, 0, F, I)
  }
  ;
  fg.a0m = function(n, z) {
      for (var M = 0; M < n.all.length; M++) {
          var C = n.all[M];
          C.yd = C.nM.clone();
          C.yd.offset(z.x, z.y)
      }
  }
  ;
  fg.TF = function(n, z, C, D, F, X) {
      var E = N.O3 ? fg.f1 : fg.kJ;
      fg.a0m(z, C);
      var f = z.type.DrSh;
      for (var M = 0; M < f.length; M++)
          if (!f[M].a16)
              E(f[M], D, F, X)
  }
  ;
  fg.P0 = function(n, z, C, D, F, X, E, f, a, q) {
      var c = C, K = N.O3 ? fg.f1 : fg.kJ, R = N.O3 ? N.$.JG : j.$.lY, J;
      J = z.type.DrSh;
      for (var M = 0; M < J.length; M++)
          if (J[M].a16)
              K(J[M], D, F, X);
      J = z.type.OrGl;
      for (var M = 0; M < J.length; M++)
          K(J[M], D, F, X);
      var w = "patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
      for (var p = 0; p < w.length; p++) {
          var J = z.type[w[p]];
          for (var M = 0; M < J.length; M++)
              K(J[M], E, c, X)
      }
      var I = z.type.ebbl[0]
        , m = I != null && I.afU;
      J = z.type.FrFX;
      for (var M = 0; M < J.length; M++) {
          var A = J[M];
          fK.sy.v8(f, q, a, q, X);
          K(A, a, q, X);
          if (m && M == J.length - 1) {
              if (I.H3)
                  K(I.H3, a, q, X);
              if (I.rt)
                  K(I.rt, a, q, X);
              if (I.Qr)
                  K(I.Qr, a, q, X);
              if (I.eA)
                  K(I.eA, a, q, X)
          }
          if (A.wF || A.ce)
              R(a, q, E, c, N.O3 ? A.ce : A.wF, A.yd, 0, X, 1);
          if (A.UY || A.Ec)
              R(a, q, D, F, N.O3 ? A.Ec : A.UY, A.yd, 0, X, 1)
      }
      if (!m && I != null) {
          if (I.H3)
              K(I.H3, D, F, X);
          if (I.rt)
              K(I.rt, D, F, X);
          if (I.Qr)
              K(I.Qr, E, c, X);
          if (I.eA)
              K(I.eA, E, c, X)
      }
  }
  ;
  fg.kJ = function(n, z, C, D) {
      var F = fg.jG();
      F.fill = n.He;
      F.style = !0;
      j.$.xN(n.Ga, n.oz, n.yd, z, C, D, 1, F)
  }
  ;
  fg.f1 = function(n, z, C, D) {
      var F = fg.jG();
      F.fill = n.He;
      F.style = !0;
      N.$.vl(n.Ga, n.zZ, n.yd, z, C, D, 1, F)
  }
  ;
  fg.Fk = function(n, z) {
      var C = 1 - z.Inpr.v.val / 100
        , D = 1 + Math.tan(C * (Math.PI / 2))
        , F = n.length;
      for (var M = 0; M < F; M++)
          n[M] = Math.min(255, Math.round(n[M] * D))
  }
  ;
  fg.Br = function(n, z, C) {
      var D = z.blur.v.val
        , F = Math.round(D * (z.Ckmt.v.val / 100));
      if (D > F) {
          var X = j.E6.h4(z.TrnS.v.Crv.v, 256, !0);
          j.HE(n, X)
      }
      if (C != null && z.Nose.v.val > 0)
          j.style.yQ(n, z.Nose.v.val / 100, C)
  }
  ;
  fg.Xu = function(n, z, C) {
      if (C == null)
          C = 255;
      var D = j._.Jo(z)
        , F = C << 24 | D.O << 16 | D.Q << 8 | D.h
        , X = new Uint32Array(n.buffer);
      X.fill(F)
  }
  ;
  fg.sW = function(n, z, C, D) {
      var F = z.uglg && z.uglg.v ? C.eY() : z.lagl.v.val;
      F = F * Math.PI / 180 + D;
      var X = Math.cos(F) * z.Dstn.v.val
        , E = Math.sin(F) * z.Dstn.v.val;
      n.x -= Math.round(X);
      n.y += Math.round(E)
  }
  ;
  fg.Bc = function(n) {
      if (n == null)
          return null;
      var z = n.frameFXMulti.v;
      if (z.length == 0)
          return null;
      z = z[0].v;
      var C = JSON.parse(JSON.stringify(g$.Bt.default));
      fg.Zz(z, C);
      return C
  }
  ;
  fg.Zz = function(n, z) {
      var C = g$.stroke.Na.indexOf(n.PntT.v.FrFl)
        , D = [g$.oQ, g$.p_, g$.XK][C]
        , F = z.strokeStyleContent.v = {
          classID: g$.Bt.UN[C]
      };
      for (var M = 0; M < D.length; M++)
          F[D[M]] = n[D[M]];
      z.strokeEnabled = n.enab;
      z.strokeStyleLineWidth = n.Sz;
      z.strokeStyleLineAlignment.v.strokeStyleLineAlignment = g$.Bt.pA[g$.stroke.types.indexOf(n.Styl.v.FStl)];
      z.strokeStyleOpacity = n.Opct;
      z.strokeStyleBlendMode = n.Md
  }
  ;
  fg.br = function(n, z) {
      var C = [];
      for (var M = 0; M < n.length; M++)
          C.push({
              t: "UntF",
              v: {
                  type: "#Nne",
                  val: Math.round(n[M] * z)
              }
          });
      return C
  }
  ;
  fg.aH = function(n, z, C, D) {
      this.Ne = z.clone();
      this.alh = z.clone();
      this.alh.TR(C, C);
      if (D) {
          this.Ne.TR(1, 1);
          this.Sj = j.T(this.Ne.t());
          j.v8(n, z, this.Sj, this.Ne)
      } else
          this.Sj = n;
      this.J9 = null;
      this.k$ = null;
      this.ez = null
  }
  ;
  fg.aH.prototype.DO = function() {
      return this.Sj
  }
  ;
  fg.aH.prototype.rect = function() {
      return this.Ne
  }
  ;
  fg.aH.prototype.L_ = function() {
      return this.alh
  }
  ;
  fg.aH.prototype.Zv = function() {
      if (this.J9)
          return this.J9;
      this.J9 = this.DO().slice(0);
      j.eL(this.J9);
      return this.J9
  }
  ;
  fg.aH.prototype.i0 = function() {
      if (this.k$)
          return this.k$;
      this.k$ = new Float64Array(this.rect().t());
      j.style.A0(this.Zv(), this.k$, this.rect().d, this.rect().v);
      return this.k$
  }
  ;
  fg.aH.prototype.$0 = function() {
      if (this.ez)
          return this.ez;
      var n = this.L_()
        , z = j.T(n.t());
      j.v8(this.DO(), this.rect(), z, n);
      this.ez = new Float64Array(n.t());
      j.style.A0(z, this.ez, n.d, n.v);
      return this.ez
  }
  ;
  fg.aH.prototype.a15 = function(n, z) {
      var C = {
          uH: -z,
          SJ: n,
          C0: null,
          ZO: null
      };
      if (z == 0) {
          C.C0 = this.rect();
          C.ZO = this.i0();
          return C
      }
      var D = this.$0().slice(0)
        , F = this.L_();
      C.C0 = F;
      C.ZO = D;
      for (var M = 0; M < D.length; M++)
          D[M] = -D[M];
      if (n == 0)
          return C;
      var X = this.i0()
        , E = this.rect();
      for (var f = 0; f < E.v; f++)
          for (var a = 0; a < E.d; a++) {
              var q = f * E.d + a
                , c = (f + E.y - F.y) * F.d + a + E.x - F.x;
              D[c] += X[q]
          }
      return C
  }
  ;
  fg.aH.prototype.e8 = function(n, z, C) {
      var D = Math.ceil(n + z)
        , F = {
          R: this.rect().clone(),
          DO: null
      };
      F.R.TR(D, D);
      F.DO = j.T(F.R.t());
      if (n == 0 && z == 0)
          j.YY(C ? this.DO() : this.Zv(), F.DO);
      else {
          var X = j.T(F.R.t());
          j.v8(this.DO(), this.rect(), X, F.R);
          if (!C)
              j.eL(X);
          if (n != 0) {
              if (C)
                  j.style.Xx(X, F.R, this.$0(), this.L_(), n);
              else
                  j.style.Xx(X, F.R, this.i0(), this.rect(), n)
          }
          if (z != 0)
              j.Y7.c_(X, F.DO, F.R, Math.max(1, z * .43));
          else
              F.DO = X
      }
      return F
  }
  ;
  fg.aH.prototype.hv = function(n, z, C) {
      var D = n * (z - .5)
        , F = {
          R: this.rect().clone(),
          DO: null
      };
      if (C)
          F.R.TR(n, n);
      F.DO = j.T(F.R.t());
      var X = F.R.d
        , E = F.R.v
        , f = C ? this.$0() : this.i0()
        , a = C ? this.L_() : this.rect()
        , q = F.R
        , c = q.Yi(a)
        , X = c.d
        , E = c.v
        , K = c.x - q.x
        , R = c.y - q.y
        , J = c.x - a.x
        , w = c.y - a.y
        , p = 1 - z * 2;
      for (var I = 0; I < E; I++)
          for (var m = 0; m < X; m++) {
              var A = f[(I + w) * a.d + m + J]
                , U = A / n;
              F.DO[(I + R) * q.d + m + K] = Math.max(0, Math.min(255, 255 - 255 * ((U + p) / (1 + p))))
          }
      return F
  }
  ;
  fg.hz = function(n, z, C) {
      var D = n.Lefx
        , F = n.blendOptions;
      if (D) {
          var X = z.add.lmfx;
          if (C == null)
              C = X ? X.Scl.v.val : 100;
          z.add.lmfx = JSON.parse(JSON.stringify(D.v));
          if (z.add.lmfx.Scl == null)
              z.add.lmfx.Scl = {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 100
                  }
              };
          fg.Wj(z.add.lmfx, C / z.add.lmfx.Scl.v.val);
          if (X)
              z.add.lmfx.Scl.v.val = X.Scl.v.val
      } else
          delete z.add.lmfx;
      if (F) {
          F = F.v;
          if (F.Md)
              z.Gx = hr.eS(F.Md.v.BlnM);
          if (F.Opct)
              z.opacity = Math.round(F.Opct.v.val * 255 / 100);
          if (F.fillOpacity)
              z.add.iOpa = Math.round(F.fillOpacity.v.val * 255 / 100);
          if (F.Blnd) {
              var E = [];
              for (var M = 0; M < 10; M++)
                  E.push(0, 0, 255, 255);
              var f = F.Blnd.v
                , a = "SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
              for (var M = 0; M < f.length; M++) {
                  var q = f[M].v
                    , c = 8 * ["Gry", "Rd", "Grn", "Bl"].indexOf(q.Chnl.v[0].v.enum);
                  for (var K = 0; K < 8; K++) {
                      E[c + K] = q[a[K]].v
                  }
              }
              z.s5 = E
          }
      }
  }
  ;
  fg.dW = function(n) {
      var z = "SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ")
        , C = []
        , D = n.s5;
      for (var M = 0; M < 4; M++) {
          var F = M * 8;
          if (D[F] + D[F + 1] + D[F + 4] + D[F + 5] == 0 && D[F + 2] + D[F + 3] + D[F + 6] + D[F + 7] == 4 * 255)
              continue;
          var X = {
              t: "Objc",
              v: {
                  classID: "Blnd",
                  Chnl: {
                      t: "obj ",
                      v: [{
                          t: "Enmr",
                          v: {
                              classID: "Chnl",
                              typeID: "Chnl",
                              enum: ["Gry", "Rd", "Grn", "Bl"][M]
                          }
                      }]
                  }
              }
          };
          C.push(X);
          for (var E = 0; E < 8; E++)
              X.v[z[E]] = {
                  t: "long",
                  v: D[M * 8 + E]
              }
      }
      var f = {
          classID: "blendOptions"
      };
      if (n.Gx != "norm")
          f.Md = {
              t: "enum",
              v: {
                  BlnM: hr.v2(n.Gx)
              }
          };
      if (n.opacity != 255)
          f.Opct = {
              t: "UntF",
              v: {
                  type: "#Prc",
                  val: Math.round(n.opacity * 100 / 255)
              }
          };
      if (n.add.iOpa != null)
          f.fillOpacity = {
              t: "UntF",
              v: {
                  type: "#Prc",
                  val: Math.round(n.add.iOpa * 100 / 255)
              }
          };
      if (C.length != 0)
          f.Blnd = {
              t: "VlLs",
              v: C
          };
      var a = {
          lg: {
              classID: "null",
              Idnt: {
                  t: "TEXT",
                  v: b$.oA() + "-bd9f-11d5-b8ba-b73f8571793d"
              },
              Nm: {
                  t: "TEXT",
                  v: "Custom Style"
              }
          },
          _i: {
              classID: "Styl",
              blendOptions: {
                  t: "Objc",
                  v: f
              }
          }
      }
        , q = n.add.lmfx;
      if (q)
          a._i.Lefx = {
              t: "Objc",
              v: q
          };
      return a
  }
  ;
  function gK() {}
  gK.SE = function(n) {
      return JSON.parse(JSON.stringify(n))
  }
  ;
  gK.pO = function(n) {
      var z = gK.SE(gK.a9O)
        , C = z.Brsh.v;
      if (n != null) {
          delete C.Hrdn;
          C.classID = "sampledBrush";
          C.Nm = {
              t: "TEXT",
              v: "layer.png"
          },
          C.sampledData = {
              t: "TEXT",
              v: n
          }
      }
      return z
  }
  ;
  gK.a9O = {
      classID: "brushPreset",
      Nm: {
          t: "TEXT",
          v: "Custom Brush"
      },
      Brsh: {
          t: "Objc",
          v: {
              classID: "computedBrush",
              Dmtr: {
                  t: "UntF",
                  v: {
                      type: "#Pxl",
                      val: 15
                  }
              },
              Hrdn: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 100
                  }
              },
              Angl: {
                  t: "UntF",
                  v: {
                      type: "#Ang",
                      val: 0
                  }
              },
              Rndn: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 100
                  }
              },
              Spcn: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: 25
                  }
              },
              Intr: {
                  t: "bool",
                  v: !0
              },
              flipX: {
                  t: "bool",
                  v: !1
              },
              flipY: {
                  t: "bool",
                  v: !1
              }
          }
      },
      useTipDynamics: {
          t: "bool",
          v: !1
      },
      useScatter: {
          t: "bool",
          v: !1
      },
      dualBrush: {
          t: "Objc",
          v: {
              classID: "dualBrush",
              useDualBrush: {
                  t: "bool",
                  v: !1
              }
          }
      },
      brushGroup: {
          t: "Objc",
          v: {
              classID: "brushGroup",
              useBrushGroup: {
                  t: "bool",
                  v: !1
              }
          }
      },
      useTexture: {
          t: "bool",
          v: !1
      },
      usePaintDynamics: {
          t: "bool",
          v: !1
      },
      useColorDynamics: {
          t: "bool",
          v: !1
      },
      Wtdg: {
          t: "bool",
          v: !1
      },
      Nose: {
          t: "bool",
          v: !1
      },
      Rpt: {
          t: "bool",
          v: !1
      }
  };
  gK.eh = {};
  gK.eh.check = function(n) {
      var z = gK.eh.$$;
      for (var M = 0; M < z.length; M++)
          if (n[z[M]] == null)
              n[z[M]] = JSON.parse(gK.eh.Vw[z[M]]);
      var C = [];
      for (var M = 0; M < z.length; M++)
          C.push(z[M]);
      var D = gK.eh.TS;
      for (var M = 0; M < D.length; M++) {
          var F = D[M][0]
            , X = D[M][1]
            , E = !0;
          for (var f = 0; f < F.length; f++)
              E = E && n[F[f]].v == !0;
          if (E)
              for (var f = 0; f < X.length; f++) {
                  if (n[X[f]] == null)
                      console.log("Missing conditional parameter " + X[f]);
                  else
                      C.push(X[f])
              }
      }
      for (var a in n)
          if (C.indexOf(a) == -1)
              console.log("Extra parameter " + a);
      n = n.Brsh.v;
      z = gK.eh.BZ.$$;
      for (var M = 0; M < z.length; M++)
          if (n[z[M]] == null)
              n[z[M]] = JSON.parse(gK.eh.BZ.Vw[z[M]]);
      C = [];
      for (var M = 0; M < z.length; M++)
          if (n[z[M]])
              C.push(z[M]);
          else
              console.log("Missing default parameter " + z[M]);
      D = gK.eh.BZ.am$[n.classID];
      for (var M = 0; M < D.length; M++)
          if (n[D[M]] == null && D[M] != "dtipsGridSize" && D[M] != "dtipsErodibleTipHeightMap" && n.agU != 1)
              console.log("Missing conditional parameter " + D[M]);
          else
              C.push(D[M]);
      for (var a in n)
          if (C.indexOf(a) == -1)
              console.log("Extra parameter " + a)
  }
  ;
  gK.eh.Yp = function(n) {
      var z = gK.eh.TS;
      for (var M = 0; M < z.length; M++) {
          var C = z[M][0]
            , D = z[M][1]
            , F = !0;
          for (var X = 0; X < C.length; X++)
              F = F && n[C[X]] && n[C[X]].v == !0;
          if (F) {
              for (var X = 0; X < D.length; X++)
                  if (n[D[X]] == null) {
                      n[D[X]] = JSON.parse(gK.eh.Vw[D[X]])
                  }
          } else
              for (var X = 0; X < D.length; X++)
                  if (n[D[X]] != null) {
                      delete n[D[X]]
                  }
      }
  }
  ;
  gK.eh.BZ = {};
  gK.eh.BZ.$$ = "classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
  gK.eh.BZ.Vw = {
      flipX: "{\"t\":\"bool\",\"v\":false}",
      flipY: "{\"t\":\"bool\",\"v\":false}"
  };
  gK.eh.BZ.am$ = {
      computedBrush: ["Hrdn", "Rndn"],
      sampledBrush: ["Nm", "Rndn", "sampledData"],
      dBrush: "Shp Dnst Lngt clumping thickness stiffness physics".split(" "),
      dTips: "dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")
  };
  gK.eh.TS = [[["useTipDynamics"], "flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")], [["usePaintDynamics"], ["prVr", "opVr", "wtVr", "mxVr"]], [["useBrushPose"], "overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")], [["useTexture"], "TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")], [["useColorDynamics"], "clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")], [["useScatter"], ["Cnt", "countDynamics", "bothAxes", "scatterDynamics"]], [["useScatter", "bothAxes"], ["Spcn"]]];
  gK.eh.$$ = "classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
  gK.eh.Vw = {
      useBrushSize: "{\"t\":\"bool\",\"v\":false}",
      useBrushPose: "{\"t\":\"bool\",\"v\":false}",
      brushGroup: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",
      flipX: "{\"t\":\"bool\",\"v\":false}",
      flipY: "{\"t\":\"bool\",\"v\":false}",
      brushProjection: "{\"t\":\"bool\",\"v\":false}",
      minimumDiameter: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
      minimumRoundness: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",
      tiltScale: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",
      szVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      angleDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      roundnessDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      prVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      opVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      wtVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      mxVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      overridePoseAngle: "{\"t\":\"bool\",\"v\":false}",
      overridePoseTiltX: "{\"t\":\"bool\",\"v\":true}",
      overridePoseTiltY: "{\"t\":\"bool\",\"v\":true}",
      overridePosePressure: "{\"t\":\"bool\",\"v\":true}",
      brushPosePressure: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",
      brushPoseTiltX: "{\"t\":\"long\",\"v\":0}",
      brushPoseTiltY: "{\"t\":\"long\",\"v\":0}",
      brushPoseAngle: "{\"t\":\"long\",\"v\":0}",
      TxtC: "{\"t\":\"bool\",\"v\":false}",
      interpretation: "{\"t\":\"bool\",\"v\":true}",
      textureBlendMode: "{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",
      textureDepth: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",
      minimumDepth: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",
      textureDepthDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      Txtr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",
      textureScale: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",
      InvT: "{\"t\":\"bool\",\"v\":false}",
      textureBrightness: "{\"t\":\"long\",\"v\":14}",
      textureContrast: "{\"t\":\"long\",\"v\":100}",
      Cnt: "{\"t\":\"doub\",\"v\":4}",
      countDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      bothAxes: "{\"t\":\"bool\",\"v\":false}",
      scatterDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      clVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
      H: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
      Strt: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
      Brgh: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",
      purity: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
      colorDynamicsPerTip: "{\"t\":\"bool\",\"v\":false}"
  };
  function iN(n, z) {
      this.anF = n;
      this.aV = z == null ? 0 : z;
      this.dir = 0
  }
  iN.prototype.Nv = function(n, z) {
      var C = this.anF
        , D = new ir(n.x - C.x,n.y - C.y)
        , F = new b6;
      F.rotate(-this.aV);
      D = F.JT(D);
      if (this.dir == 0 && !C.jm(n))
          this.dir = Math.abs(D.x) < Math.abs(D.y) ? 1 : 2;
      if (z.r(dM.Ms)) {
          if (this.dir == 1)
              D.x = 0;
          if (this.dir == 2)
              D.y = 0
      }
      F.eL();
      D = F.JT(D);
      var X = new ir(C.x + D.x,C.y + D.y);
      return X
  }
  ;
  function fz(n, z, C, D, F, X, E, f) {
      this.np = z;
      this.gi = C;
      this.ff = X;
      this.Hc = D;
      if (D.IY == null)
          D.IY = [!1, !0];
      this.BP = null;
      this.S1 = null;
      this.ct = 0;
      this.api = 0;
      this.agF = 0;
      this.qD = 0;
      this.Kd = 0;
      this.aeB = E;
      this.Pi = new cc;
      this.p4 = new cc;
      this.rect = new cc;
      if (f != null) {
          this.oz = f
      } else {
          var a = fz.E5;
          if (a.length != E.t() * 4)
              a = j.T(E.t() * 4);
          else
              a.fill(0);
          this.oz = fz.E5 = a
      }
      this.rect = E.clone();
      this.NV = [];
      this.n4 = [];
      this.SA = null;
      this.Du = 0;
      this.O = null;
      this.J1 = "";
      this.bg = null;
      this.WT(n, F)
  }
  fz.E5 = j.T(16);
  fz.prototype.WT = function(n, z) {
      this.Du = z;
      this.O = n;
      this.J1 = JSON.stringify(n) + JSON.stringify(this.Hc.eU);
      this.bg = fz.aqI(n, this.np, this.gi)
  }
  ;
  fz.prototype.moveTo = function(n, z, C) {
      C = this.EK(C);
      this.ct = C;
      var D = new ir(n,z)
        , F = this.O.Brsh.v.Dmtr.v.val;
      this.BP = D.clone();
      this.S1 = D.clone();
      this.SA = D.clone();
      this.NV = [n, z];
      this.n4 = [C];
      var X = this.Hc.IY;
      if (this.Hc.Fb != fz.nk)
          this.u3(this.lF(D, this.Hf() * (X[1] ? C : 1), this.Hc.IV * (X[0] ? C * .5 : 1), new ir(0,0)));
      this.qD = D.clone()
  }
  ;
  fz.prototype.lineTo = function(n, z, C) {
      C = this.EK(C);
      var D = this.NV
        , F = D.length
        , X = D[F - 2]
        , E = D[F - 1];
      if (n == X && z == E)
          return;
      var f = this.O.Brsh.v.Dmtr.v.val
        , a = Math.ceil(f) + 1
        , q = new cc(Math.round(X),Math.round(E),0,0);
      q.TR(a, a);
      var c = new cc(Math.round(n),Math.round(z),0,0);
      c.TR(a, a);
      this.bv(q.QH(c));
      this.NV.push(n, z);
      this.n4.push(C);
      F += 2;
      if (F >= 6)
          this.u3(this.sP(F))
  }
  ;
  fz.prototype.EK = function(n) {
      if (n == null)
          n = 1;
      n = Math.max(.05, Math.min(5, n));
      if (isNaN(n)) {
          alert("Pressure is not a number");
          throw "e"
      }
      return n
  }
  ;
  fz.prototype.u3 = function(n) {
      this.Pi = n;
      this.p4 = this.p4.QH(n)
  }
  ;
  fz.prototype.finish = function() {
      var n = this.NV, z = n.length, C;
      if (z == 4)
          C = this.RC(n[z - 2], n[z - 1], this.n4[(z >> 1) - 1], !0);
      if (z > 4)
          C = this.sP(z + 2);
      if (C)
          this.u3(C)
  }
  ;
  fz.prototype.sP = function(n) {
      var z = this.NV
        , C = this.n4
        , D = z[n - 6]
        , F = z[n - 5]
        , X = z[n - 4]
        , E = z[n - 3]
        , f = C[(n >> 1) - 3]
        , a = C[(n >> 1) - 2]
        , q = new ir(0,0)
        , c = new ir(0,0);
      if (8 <= n)
          q = fz.vF(z[n - 8], z[n - 7], D, F, X, E);
      if (n <= z.length)
          c = fz.vF(z[n - 2], z[n - 1], X, E, D, F);
      var K = D + q.x
        , R = F + q.y
        , J = X + c.x
        , w = E + c.y
        , p = new cc;
      for (var M = 0; M < 10; M++) {
          var I = (M + 1) * .1
            , m = 1 - I
            , A = m * m * m * D + 3 * I * m * m * K + 3 * I * I * m * J + I * I * I * X
            , U = m * m * m * F + 3 * I * m * m * R + 3 * I * I * m * w + I * I * I * E
            , r = this.RC(A, U, f + I * (a - f));
          p = p.QH(r)
      }
      return p
  }
  ;
  fz.vF = function(n, z, C, D, F, X) {
      var E = n - C
        , f = z - D
        , a = F - C
        , q = X - D
        , c = Math.sqrt(E * E + f * f)
        , K = Math.sqrt(a * a + q * q)
        , R = Math.acos((E * a + f * q) / (c * K)) / Math.PI
        , J = .35
        , w = .1;
      R = w + R * (J - w);
      var p = F - n
        , I = X - z
        , m = Math.sqrt(p * p + I * I)
        , A = R * K / m;
      return new ir(p * A,I * A)
  }
  ;
  fz.prototype.RC = function(n, z, C, D) {
      var F = new cc
        , X = this.Hc.a1v;
      if (X == null)
          X = 0;
      if (X == 0 || D) {
          F = this.Rk(n, z, C);
          return F
      }
      var E = this.SA
        , f = n - E.x
        , a = z - E.y
        , q = Math.sqrt(f * f + a * a);
      f /= q;
      a /= q;
      if (q > X) {
          var c = E.x + f * (q - X)
            , K = E.y + a * (q - X);
          F = this.Rk(c, K, C);
          this.SA.oS(c, K)
      }
      return F
  }
  ;
  fz.prototype.Rk = function(n, z, C) {
      var D = new cc
        , F = new ir(n,z)
        , X = this.O.Brsh.v.Dmtr.v.val
        , E = this.Hc.Fb
        , f = F.s6(this.S1);
      f.normalize(1);
      var a = ir.gn(this.S1, F)
        , q = -this.api
        , c = this.S1.clone()
        , K = this.Hc.IY;
      while (!0) {
          var R = this.ct + (C - this.ct) * (Math.max(0, q) / a)
            , J = this.Hf() * (K[1] ? R : 1)
            , w = this.abp() * (J + this.agF) / 2;
          if (E == fz.nk)
              w = 1;
          if (q + w < a) {
              q += w;
              var p = new ir(this.S1.x + f.x * q,this.S1.y + f.y * q)
                , A = 1;
              if (E == fz.nk) {
                  var I = c.clone();
                  I.x += f.x > 0 ? 1 : -1;
                  var m = c.clone();
                  m.y += f.y > 0 ? 1 : -1;
                  if (ir.gn(I, p) < ir.gn(m, p))
                      p = I;
                  else
                      p = m;
                  q = ir.gn(p, this.S1)
              }
              if (this.O.useScatter.v == !0) {
                  A = this.O.Cnt.v;
                  var U = this.O.countDynamics.v.jitter.v.val / 100
                    , r = U * (-1 + 2 * this.QU());
                  A += Math.round(A * r)
              }
              for (var M = 0; M < A; M++) {
                  var $ = this.lF(p, J, this.Hc.IV * (K[0] ? R * .5 : 1), f);
                  D = D.QH($)
              }
              c = p
          } else
              break
      }
      this.api = a - q;
      this.S1 = F;
      this.ct = C;
      return D
  }
  ;
  fz.prototype.abp = function() {
      var n = this.O.Brsh.v
        , z = n.Spcn.v.val
        , C = Math.max(5, n.Rndn.v.val);
      return C / 100 * (z / 100)
  }
  ;
  fz.prototype.Hf = function() {
      var n = this.O
        , z = n.Brsh.v.Dmtr.v.val;
      if (n.useTipDynamics.v) {
          var C = z * (n.minimumDiameter.v.val / 100);
          z = C + (z - C) * (1 - this.QU() * (n.szVr.v.jitter.v.val / 100))
      }
      return z
  }
  ;
  fz.prototype.lF = function(n, z, C, D) {
      C = Math.min(1, C);
      var F = this.O
        , X = this.O.Brsh.v
        , E = X.Dmtr.v.val
        , f = this.Hc
        , a = f.Fb
        , q = f.aiV
        , c = new b6;
      c.translate(-this.bg.Ol.d / 2, -this.bg.Ol.v / 2);
      c.scale(1 / this.bg.ads, 1 / this.bg.ads);
      c.scale(z / E, z / E);
      c.scale(1, Math.max(5, X.Rndn.v.val) / 100);
      if (F.useTipDynamics.v) {
          var K = F.minimumRoundness.v.val / 100;
          c.scale(1, K + (1 - K) * Math.round(100 - this.QU() * F.roundnessDynamics.v.jitter.v.val) / 100);
          c.rotate((-.5 + this.QU()) * 4 * Math.PI * (F.angleDynamics.v.jitter.v.val / 100))
      }
      c.rotate(X.Angl.v.val * (Math.PI / 180));
      if (F.useScatter.v) {
          var R = (-1 + 2 * this.QU()) * F.scatterDynamics.v.jitter.v.val / 100;
          c.translate(-R * z * D.y, R * z * D.x)
      }
      c.translate(n.x, n.y);
      var J = this.a93(c, n);
      this.bv(J.rect);
      var w = J.rect.clone();
      if (a == null) {
          var p = this.Jo(F);
          j.xM(J.QA, Math.round(p.O * 255) << 16 | Math.round(p.Q * 255) << 8 | Math.round(p.h * 255) << 0, 4278190080);
          if (this.p4.kX() && this.rect.jm(J.rect) && C == 1)
              this.oz = J.QA.slice(0);
          else
              j.$.aqy(J.QA, J.rect, this.oz, this.rect, J.rect, C)
      }
      if (a == fz.nk) {
          var I = new ir(J.rect.x + J.rect.d / 2,J.rect.y + J.rect.v / 2)
            , m = Math.round(I.x - this.qD.x)
            , A = Math.round(I.y - this.qD.y)
            , U = J.rect.clone();
          U.offset(-m, -A);
          var r = U.Yi(this.rect);
          r.offset(m, A);
          j.X3(this.oz, this.rect, J.QA, U);
          j.$.x7(J.QA, J.rect, this.oz, this.rect, J.KQ, J.rect, C)
      }
      if (a == fz.lX || a == fz.MG || a == fz.Ow) {
          var $ = J.rect.Yi(this.rect), k;
          if ($.jm(J.rect))
              k = J.KQ;
          else {
              k = j.T($.t());
              j.v8(J.KQ, J.rect, k, $)
          }
          var G = j.T($.t() * 4);
          j.X3(this.oz, this.rect, G, $);
          if (a == fz.MG) {
              var i = G.slice(0)
                , o = j.nI.lI([-1, -1, -1, -1, 25, -1, -1, -1, -1]);
              j.nI.jv(G, i, $.d, $.v, o, 0);
              j.YY(i, G)
          } else if (a == fz.Ow) {
              var S = fd.zP("UnsM");
              S.Amnt.v.val = 15;
              S.Thsh.v = 0;
              S.Rds.v.val = 5;
              var i = j.T(G.length);
              fd.o$("UnsM", {
                  buffer: G,
                  rect: $
              }, S, 0, 0, {
                  buffer: i,
                  rect: $
              });
              j.YY(i, G)
          } else {
              fd.JF(1, j.Y7.UW, G, $)
          }
          j.$.x7(G, $, this.oz, this.rect, k, $, C)
      }
      this.agF = z;
      this.qD = I;
      return w
  }
  ;
  fz.prototype.Jo = function(n) {
      var z = fz.pV(this.Du);
      if (n.useColorDynamics && n.useColorDynamics.v) {
          var C = 1 - this.QU() * n.clVr.v.jitter.v.val / 100
            , D = fz.pV(this.ff);
          z.h = C * z.h + (1 - C) * D.h;
          z.Q = C * z.Q + (1 - C) * D.Q;
          z.O = C * z.O + (1 - C) * D.O;
          var F = (-.5 + this.QU()) * n.H.v.val / 100
            , X = (-1 + 2 * this.QU()) * n.Strt.v.val / 100
            , E = (-1 + 2 * this.QU()) * n.Brgh.v.val / 100
            , f = j.GV(z.h, z.Q, z.O);
          f.ua = (f.ua + F + 1) % 1;
          f.ZP = f.ZP + X;
          if (f.ZP < 0)
              f.ZP = -f.ZP;
          if (f.ZP > 1)
              f.ZP = 1 - (f.ZP - 1);
          f.b2 = f.b2 + E;
          if (f.b2 < 0)
              f.b2 = -f.b2;
          if (f.b2 > 1)
              f.b2 = 1 - (f.b2 - 1);
          z = j.X9(f.ua, f.ZP, f.b2)
      }
      return z
  }
  ;
  fz.prototype.eh = function(n) {
      return Math.max(0, Math.min(1, n))
  }
  ;
  fz.prototype.QU = function() {
      this.Kd++;
      return fz.hash(this.Kd)
  }
  ;
  fz.pV = function(n) {
      return {
          h: (n >> 16 & 255) / 255,
          Q: (n >> 8 & 255) / 255,
          O: (n >> 0 & 255) / 255
      }
  }
  ;
  fz.hash = function(n) {
      n = n ^ 61 ^ n >> 16;
      n = n + (n << 3);
      n = n ^ n >> 4;
      n = n * 668265261;
      n = n ^ n >> 15;
      return (n & 16777215) / 16777215
  }
  ;
  fz.Cp = [];
  fz.a0q = function(n, h) {
      var z = n.Jr()
        , C = h.Jr();
      if (z < C) {
          var D = z;
          z = C;
          C = D
      }
      var F = n.nb - h.nb
        , X = n.O - h.O
        , E = n.KV - h.KV
        , f = n.qc - h.qc;
      return C != 0 && z - C < .025 && Math.max(F * F, X * X, E * E, f * f) <= .01
  }
  ;
  fz.prototype.a93 = function(n, z) {
      var C = null, X;
      for (var M = 0; M < fz.Cp.length; M++)
          if (fz.Cp[M].J1 == this.J1) {
              C = fz.Cp[M];
              fz.Cp.splice(M, 1)
          }
      if (C == null)
          C = {
              BQ: [],
              J1: this.J1,
              BC: 0,
              t: 0
          };
      var D = C.BQ
        , F = this.Hc.eU;
      if (F) {
          n = n.clone();
          n.H1 = Math.floor(n.H1);
          n.Wv = Math.floor(n.Wv)
      }
      var E = fz.JQ(n.H1, n.Wv);
      for (var M = 0; M < D.length; M++) {
          var f = D[M];
          if (!fz.a0q(f.f7, n))
              continue;
          if (fz.a8t(f.nH, E) < .2 || f.rect.t() > 2500) {
              X = f;
              break
          }
      }
      var a = Math.round(this.O.Brsh.v.Dmtr.v.val);
      if (X) {
          X.rect.x = Math.round(X.TX.x - X.f7.H1 + n.H1);
          X.rect.y = Math.round(X.TX.y - X.f7.Wv + n.Wv);
          if (F) {
              X.rect.x = Math.round(z.x - X.rect.d / 2);
              X.rect.y = Math.round(z.y - X.rect.v / 2)
          }
          X.BC = Date.now()
      } else {
          var q;
          if (F && a <= 3) {
              q = {
                  buffer: j.T(a * a * 4),
                  rect: new cc(Math.round(z.x - a / 2),Math.round(z.y - a / 2),a,a)
              };
              j.xM(q.buffer, 4278190080)
          } else if (n.nb == 1 && n.O == 0 && n.KV == 0 && n.qc == 1) {
              q = {
                  buffer: this.bg.QA,
                  rect: this.bg.Ol.clone()
              };
              q.rect.x = Math.round(n.H1);
              q.rect.y = Math.round(n.Wv)
          } else
              q = O.o.QQ([this.bg.QA, this.bg.Ol], n);
          if (F) {
              for (var M = 0; M < q.buffer.length; M++)
                  q.buffer[M] = q.buffer[M] > 127 ? 255 : 0
          }
          if (q == null)
              q = {
                  buffer: j.T(0),
                  rect: new cc
              };
          var c = n.H1 - Math.floor(n.H1)
            , K = n.Wv - Math.floor(n.Wv);
          X = {
              QA: q.buffer,
              KQ: j.T(q.rect.t()),
              rect: q.rect,
              TX: q.rect.clone(),
              f7: n,
              nH: fz.JQ(n.H1, n.Wv),
              BC: Date.now()
          };
          j.Ni(X.QA, X.KQ, 3);
          D.push(X);
          C.t += q.rect.t();
          if (D.length > 2e3 || C.t > 100 * 100 * 400) {
              console.log("pruning", C.t, D.length);
              D.sort(function(J, w) {
                  return w.BC - J.BC
              });
              while (D.length > 1e3 || C.t > 100 * 100 * 200) {
                  var R = D.pop();
                  C.t -= R.rect.t()
              }
          }
      }
      C.BQ = D;
      C.BC = Date.now();
      fz.Cp.push(C);
      fz.Cp.sort(function(J, w) {
          return w.BC - J.BC
      });
      while (fz.Cp.length > 3)
          fz.Cp.pop();
      return X
  }
  ;
  fz.JQ = function(n, z) {
      return new ir(n - Math.floor(n),z - Math.floor(z))
  }
  ;
  fz.a8t = function(n, z) {
      var C = z.x
        , D = z.y
        , F = Math.abs(C - n.x)
        , X = Math.abs(D - n.y);
      if (Math.abs(C - 1 - n.x) < F)
          C--;
      else if (Math.abs(C + 1 - n.x) < F)
          C++;
      if (Math.abs(D - 1 - n.y) < X)
          D--;
      else if (Math.abs(D + 1 - n.y) < X)
          D++;
      F = n.x - C;
      X = n.y - D;
      return Math.sqrt(F * F + X * X)
  }
  ;
  fz.prototype.bv = function(n) {}
  ;
  fz.aqI = function(n, z, C) {
      var D, F, X, E = n.Brsh.v.Dmtr.v.val;
      if (n.Brsh.v.classID == "computedBrush") {
          var f = n.Brsh.v.Hrdn.v.val / 100
            , a = 1 + .55 * (1 - f);
          X = E < 100 ? 1.2 : 1;
          var q = Math.round(X * E * a);
          F = new cc(0,0,q,q);
          D = j.T(q * q * 4);
          var c = new Uint32Array(D.buffer)
            , K = q / 2
            , R = a / K
            , J = Date.now()
            , w = fz.Ex(f)
            , p = Math.round(8e3 / K)
            , z = w[0]
            , I = w[1] - p
            , m = w[2] + p
            , A = Math.min(q, (q >>> 1) + 1);
          for (var M = 0; M < A; M++) {
              var U = R * (M - K + .25);
              U *= U;
              var r = R * (M - K + .75);
              r *= r;
              var $ = M * q
                , k = (q - 1 - M) * q;
              for (var G = 0; G < A; G++) {
                  var i = R * (G - K + .25)
                    , o = Math.floor(Math.sqrt(i * i + U) * (4e3 / 1.55));
                  if (m < o)
                      continue;
                  else if (o < I) {
                      var S = 4278190080;
                      while (G < A) {
                          var H = q - 1 - G;
                          c[$ + G] = S;
                          c[$ + H] = S;
                          c[k + G] = S;
                          c[k + H] = S;
                          G++
                      }
                      break
                  } else {
                      var e = R * (G - K + .75)
                        , V = Math.floor(Math.sqrt(e * e + U) * (4e3 / 1.55))
                        , v = Math.floor(Math.sqrt(i * i + r) * (4e3 / 1.55))
                        , B = Math.floor(Math.sqrt(e * e + r) * (4e3 / 1.55))
                        , S = ~~(.5 + 255 * .25 * (z[o] + z[V] + z[v] + z[B])) << 24
                        , H = q - 1 - G;
                      c[$ + G] = S;
                      c[$ + H] = S;
                      c[k + G] = S;
                      c[k + H] = S
                  }
              }
          }
      }
      if (n.Brsh.v.classID == "sampledBrush") {
          var Z;
          for (var M = 0; M < z.length; M++)
              if (z[M].id == n.Brsh.v.sampledData.v)
                  Z = z[M];
          F = new cc(0,0,Z.R.d,Z.R.v);
          X = Math.max(F.d, F.v) / E;
          D = j.T(F.t() * 4);
          j.bl(Z.channel, D, 3)
      }
      while (Math.min(F.d, F.v) > E * 2) {
          var d = new cc(F.x,F.y,Math.floor(F.d / 2),Math.floor(F.v / 2))
            , g = O.o.QQ([D, F], new b6(d.d / F.d,0,0,d.v / F.v,0,0));
          X *= d.d / F.d;
          F = g.rect;
          D = g.buffer
      }
      return {
          ads: X,
          Ol: F,
          QA: D
      }
  }
  ;
  fz.XT = [];
  fz.Ex = function(n) {
      if (fz.XT[n])
          return fz.XT[n];
      var z = Math.pow(n, .55)
        , C = new Float64Array(8e3)
        , D = 0
        , F = 8e3;
      for (var M = 0; M < 8e3; M++) {
          var X = fz.ap4(M * (1.55 / 4e3), z);
          if (X >= 1)
              D = M;
          else if (X <= 0 && F == 8e3)
              F = M;
          C[M] = X
      }
      var E = [C, D, F];
      fz.XT[n] = E;
      return E
  }
  ;
  fz.ap4 = function(n, z) {
      var C = n < z ? 1 : fz.ako((n - z) / Math.pow(1.001 - z, .86));
      return C
  }
  ;
  fz.ako = function(n) {
      var z = n * .85;
      return Math.exp(-(z * z) * (1 / (2 * .4 * .4))) * (1 / (.4 * Math.sqrt(2 * Math.PI)))
  }
  ;
  fz.prototype.Td = function() {
      return this.rect.clone()
  }
  ;
  fz.prototype.Co = function() {
      return this.Pi.Yi(this.rect)
  }
  ;
  fz.prototype._$ = function() {
      return this.p4.Yi(this.rect)
  }
  ;
  fz.prototype.MR = function() {
      return this.oz
  }
  ;
  fz.sL = null;
  fz.f0 = null;
  fz.qK = function(n, z, C, D, F, X) {
      debugger
      var E = fz.sL
        , f = fz.f0;
      if (E == null) {
          fz.sL = E = l.w("canvas", "");
          fz.f0 = f = E.getContext("2d")
      }
      if (X == null)
          X = D;
      if (E.width != X || E.height != F) {
          E.width = X;
          E.height = F
      } else
          f.clearRect(0, 0, X, F);
      f.fillStyle = "#000000";
      f.font = Math.floor(10 * l.D()) + "px sans-serif";
      var a = n.Brsh.v.Dmtr.v.val
        , q = "" + a
        , c = f.measureText(q);
      f.fillText(q, (D - c.width) / 2, F - 2);
      var K = D
        , R = F - 10 * l.D()
        , J = Math.min(K, R)
        , w = n.Brsh.v.classID;
      if (w == "computedBrush") {
          f.translate(K / 2, R / 2);
          f.rotate(-n.Brsh.v.Angl.v.val * Math.PI / 180);
          f.scale(1, .1 + .9 * n.Brsh.v.Rndn.v.val / 100);
          var p = Math.min(.95 * J / 2, a / 2) + .5
            , I = .9 * n.Brsh.v.Hrdn.v.val / 100
            , m = f.createRadialGradient(0, 0, 0, 0, 0, p);
          m.addColorStop(I, "rgba(0,0,0,1)");
          m.addColorStop((.5 + I) / 1.5, "rgba(0,0,0,.5)");
          m.addColorStop(1, "rgba(0,0,0,0)");
          f.fillStyle = m;
          f.fillRect(-p, -p, 2 * p, 2 * p);
          f.setTransform(1, 0, 0, 1, 0, 0)
      } else if (w == "sampledBrush") {
          var A, G = 0;
          for (var M = 0; M < z.length; M++)
              if (z[M].id == n.Brsh.v.sampledData.v)
                  A = z[M];
          var U = A.akQ;
          if (U == null) {
              U = A.akQ = [A.channel, A.R];
              j.aA(U)
          }
          var r = A.channel
            , $ = A.R.d
            , k = A.R.v;
          while (($ > K || k > R) && U[G + 2]) {
              G += 2;
              r = U[G];
              $ = U[G + 1].d;
              k = U[G + 1].v
          }
          if ($ * k != 0) {
              var i = j.T($ * k * 4);
              j.bl(r, i, 3);
              var o = new ImageData(new Uint8ClampedArray(i.buffer),$,k);
              f.putImageData(o, Math.round((K - $) / 2), Math.round((R - k) / 2))
          }
      } else {}
      return E.toDataURL()
  }
  ;
  fz.ec = function(n, z, C, D) {
      if (C == 0)
          C = 1;
      var F = n.Brsh.v, X = F.Dmtr.v.val, E = F.Dmtr.v.val = Math.min(D != null ? Math.round(D * 2.6) : 3e3, X * C), f = F.Hrdn ? F.Hrdn.v.val / 100 : 1, a = D != null ? D : Math.round(E * (1 + .55 * (1 - f))) + 4, K;
      a = Math.max(15, Math.min(a, 3e3));
      var q = new cc(0,0,a,a)
        , c = new fz(n,z,null,{
          IV: 1
      },16711712,0,q);
      F.Dmtr.v.val = X;
      c.moveTo(q.d / 2, q.v / 2);
      var R = c.MR()
        , J = c.Td();
      if (q.jm(J))
          K = R;
      else {
          K = j.T(q.t() * 4);
          j.X3(R, J, K, q)
      }
      return [K, q, E]
  }
  ;
  fz.WX = function(n, z, C, D) {
      var F = fz.ec(n, z, C)
        , X = F[0].slice(0)
        , E = F[1]
        , f = F[2]
        , a = E.t()
        , q = j.T(a);
      j.Ni(X, q, 3);
      var c = j.T(a);
      j.N.afs(q, c, E);
      if (f < 3 || j.wq(c, 0) || D && f > 12) {
          var K = E.d
            , R = K >>> 1
            , J = c
            , w = 255;
          for (var M = 0; M < 4; M++) {
              J[K * (R - 6 + M) + R] = w;
              J[K * R + R - 6 + M] = w;
              J[K * R + R + 6 - M] = w;
              J[K * (R + 6 - M) + R] = w
          }
      }
      var p = [1, 2, 1, 2, 8, 2, 1, 2, 1];
      p = j.nI.lI(p);
      j.nI.Te(c, q, E.d, E.v, p);
      j.xM(X, 4294967295);
      j.bl(q, X, 3);
      for (var M = 0; M < a; M++)
          if (c[M] == 255) {
              X[M << 2] = X[(M << 2) + 1] = X[(M << 2) + 2] = 0;
              X[(M << 2) + 3] = 255
          }
      return {
          $f: X,
          R: E,
          qA: new ir(E.d / 2,E.v / 2)
      }
  }
  ;
  fz.nk = "0";
  fz.lX = "1";
  fz.MG = "2";
  fz.Ow = "3";
  var iW = {};
  iW.sL = document.createElement("canvas");
  iW.f0 = iW.sL.getContext("2d");
  iW.PX = function(n, z) {
      var C = n.cs(), f;
      if (C.x == Infinity || C.kX())
          return {
              oz: j.T(0),
              R: new cc,
              jk: new cc
          };
      var D = n.cs()
        , F = iW.tF(n, z)
        , X = j.K.OH(F.U);
      if (X.kX())
          return {
              oz: j.T(0),
              R: new cc,
              jk: new cc
          };
      var E = j.ur(X.d, X.v);
      E.translate(-X.x, -X.y);
      iW.ahg(F, E);
      if (n.I$.length != 0) {
          var a = bZ.UM(z)
            , q = E.getImageData(0, 0, X.d, X.v);
          f = new Uint8Array(q.data.buffer);
          if (a == 0)
              for (var M = 0; M < f.length; M += 4)
                  f[M + 3] = f[M + 3] > 80 ? 255 : 0;
          if (a == 3)
              for (var M = 0; M < f.length; M += 4)
                  f[M + 3] = Math.min(255, f[M + 3] * 1.5)
      } else
          f = j.T(X.t() * 4);
      E.resetTransform();
      E.beginPath();
      return {
          oz: f,
          R: X,
          jk: D
      }
  }
  ;
  iW.tF = function(n, z) {
      var C = z.Z
        , D = z.uR
        , F = bZ.UM(z)
        , X = Math.max(C.O * C.O, C.KV * C.KV) < 1e-9 ? C : null;
      if (F == 3 || F == 4)
          X = null;
      var E = {
          I: [],
          U: []
      };
      iW.anp(n, E, X);
      E = iW.se(E, z, n);
      return E
  }
  ;
  iW.se = function(n, z, C) {
      if (n == null)
          return n;
      if (C && C.PE)
          j.K.Z(n.U, C.PE, n.U);
      if (C && !j.Y0.Pb(z.iK)) {
          var D = bZ.Td(z, C);
          if (!D.kX()) {
              if (n.I) {
                  n = j.K.yX(n);
                  var F = Math.min(D.d, D.v) / 8;
                  if (F < 1)
                      F = 1;
                  n = j.K.py(n, F)
              }
              var X = j.Y0.ea(z.iK, D);
              j._N.Z(X, n.U, D)
          }
      }
      var E = z.Z;
      j.K.Z(n.U, E, n.U);
      return n
  }
  ;
  iW.ahg = function(n, z) {
      Typr.U.pathToContext({
          crds: n.U,
          cmds: n.I
      }, z)
  }
  ;
  iW.dP = function(n, z) {
      if (!fL.eQ())
          return;
      var C = n.uR
        , D = C.ResourceDict.FontSet
        , F = C.ResourceDict.StyleSheetSet[0].StyleSheetData
        , X = C.EngineDict.StyleRun.RunLengthArray
        , E = C.EngineDict.StyleRun.RunArray
        , f = bZ.T5(C)
        , a = !0
        , q = {}
        , c = 0;
      for (var M = 0; M < E.length; M++) {
          var K = E[M].StyleSheet.StyleSheetData.Font;
          if (K == null)
              K = F.Font;
          for (var R = 0; R < X[M]; R++) {
              var J = f.charCodeAt(c + R)
                , w = K + "," + (J > 128 ? J : -1);
              if (q[w] == null) {
                  q[w] = 1;
                  if (z.V4(D[K].Name, J) == null)
                      a = !1
              }
          }
          c += X[M]
      }
      return a
  }
  ;
  iW.anp = function(n, z, C) {
      var D = new b6;
      for (var M = 0; M < n.t_.length; M++)
          iW.aql(n.I$, n.t_[M], z, D, C)
  }
  ;
  iW.aql = function(n, z, C, D, F) {
      D.translate(z.nH.x, z.nH.y);
      for (var M = 0; M < z.Lt.length; M++) {
          var X = {}
            , E = z.Lt[M];
          if (!E.wX)
              break;
          var f = D.clone();
          f.translate(E.nH.x, E.nH.y);
          if (F) {
              var a = F.Wv + f.Wv * F.qc;
              f.Wv = (Math.round(a) - F.Wv) / F.qc
          }
          for (var q = E.start; q < E.end; q++)
              iW.afr(n, z.rv[q], z, X, C, f)
      }
      D.translate(-z.nH.x, -z.nH.y)
  }
  ;
  iW.ajo = "()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
  iW.afr = function(n, z, C, D, F, X) {
      X.translate(z.nH.x, z.nH.y);
      for (var E = z.ly; E <= z.KL; E++) {
          var f = C.u0[E]
            , a = f.R.d
            , q = n[C.a2t + f.ZB];
          if (q.zI == "\n")
              continue;
          var c = q.k4.FontSize / q.at.head.unitsPerEm
            , K = bZ.Jo(q.k4)
            , R = (Math.round(K.h) << 16) + (Math.round(K.Q) << 8) + Math.round(K.O);
          F.I.push("#" + j.JY(R));
          var J = X.clone();
          J.translate(f.nH.x + f.R8 * c, f.nH.y - f.Cn * c);
          var w = new b6;
          w.scale(c, -c);
          if (q.qt == 1 && iW.ajo.indexOf(q.zI) != -1)
              w.concat(new b6(-1,0,0,1,a,0));
          if (q.k4.FauxItalic)
              w.concat(new b6(1,0,-Math.tan(.18),1,0,0));
          w.translate(0, q.wb);
          w.scale(q.scale.x, q.scale.y);
          if (q.k4.BaselineShift != null)
              w.translate(0, -q.k4.BaselineShift);
          if (f.aV != 0) {
              w.rotate(-f.aV)
          }
          w.concat(J);
          if (f.path.I.length != 0 && q.zI != "\t") {
              if (q.k4.FauxBold) {
                  var p = q.k4.FontSize / 2048 * 27 * q.scale.x;
                  w.H1 += p;
                  j.K.concat(F, f.path, w);
                  w.H1 -= p + p;
                  j.K.concat(F, f.path, w)
              } else
                  j.K.concat(F, f.path, w)
          }
          if (q.zI != "\n") {
              if (q.k4.Underline) {
                  if (D.Sx == null)
                      D.Sx = q.at.post.underlineThickness;
                  if (D.a51 == null)
                      D.a51 = q.at.post.underlinePosition;
                  var I = 0
                    , m = D.a51 - D.Sx / 2
                    , A = f.kD * 1.05
                    , U = -D.Sx;
                  j.K.concat(F, {
                      I: ["M", "L", "L", "L", "Z"],
                      U: [I, m, I + A, m, I + A, m + U, I, m + U]
                  }, w)
              }
              if (q.k4.Strikethrough) {
                  var r = q.at["OS/2"].yStrikeoutSize
                    , $ = q.at["OS/2"].yStrikeoutPosition
                    , I = 0
                    , m = $ + r / 2
                    , A = f.kD * 1.05
                    , U = -r;
                  j.K.concat(F, {
                      I: ["M", "L", "L", "L", "Z"],
                      U: [I, m, I + A, m, I + A, m + U, I, m + U]
                  }, w)
              }
          }
          F.I.push("X")
      }
      X.translate(-z.nH.x, -z.nH.y)
  }
  ;
  function fL(n, z) {
      var C = bZ.wT(n), D, F, X = bZ.w$(n), E = n._LineOrientation == 2 ? new b6 : null, c;
      if (n.Curve)
          F = fL.D1(n.Curve);
      if (C != 0) {
          D = new cc(X[0],X[1],X[2],X[3]);
          if (E) {
              var f = D.d;
              D.d = D.v;
              D.v = f;
              E.translate(0, -X[2])
          }
          if (C == 2) {
              D.d = F[5] - F[4];
              D.v = 9999
          }
      }
      this.t_ = [];
      this.I$ = [];
      this.Gj = C;
      this.PE = E;
      var a = this.aey = bZ.T5(n)
        , q = -1;
      for (var M = 0; M < a.length; M++) {
          var K = c
            , R = bZ.EQ(n, M);
          if (R != q) {
              q = R;
              K = c = bZ.a5O(n, M)
          }
          var J = {
              zI: a.charAt(M),
              k4: K,
              at: null,
              RZ: -1,
              wb: 0,
              scale: new ir(0,0),
              k5: 0,
              lineHeight: 0,
              qt: 0
          }
            , w = n.ResourceDict.FontSet[K.Font].Name
            , p = J.at = z.V4(w, a.charCodeAt(M));
          J.scale.x = K.HorizontalScale == null ? 1 : K.HorizontalScale;
          J.scale.y = K.VerticalScale == null ? 1 : K.VerticalScale;
          var I = p["OS/2"]
            , m = p.hhea;
          if (K.FontCaps == 1 && J.zI != J.zI.toUpperCase()) {
              var A = I.sxHeight ? I.sxHeight / I.sTypoAscender : .76;
              J.scale.x *= A;
              J.scale.y *= A
          }
          var U = 1 / p.head.unitsPerEm * K.FontSize;
          if (K.FontBaseline == 1) {
              var A = n.ResourceDict.SuperscriptSize;
              J.scale.x *= A;
              J.scale.y *= A;
              J.wb -= n.ResourceDict.SuperscriptPosition * K.FontSize
          }
          if (K.FontBaseline == 2) {
              var A = n.ResourceDict.SubscriptSize;
              J.scale.x *= A;
              J.scale.y *= A;
              J.wb += n.ResourceDict.SubscriptPosition * K.FontSize
          }
          J.k5 = fL.k5(p, w, K);
          J.lineHeight = K.FontSize * 1.2;
          if (K.AutoLeading == !1)
              J.lineHeight = K.Leading;
          if (J.lineHeight == 0)
              J.lineHeight = .01;
          this.I$.push(J)
      }
      var r = this.t_
        , $ = [0];
      for (var M = 0; M < n.EngineDict.ParagraphRun.RunLengthArray.length; M++) {
          var k = new fL.P8(n,z,this.I$,M,D,$,C == 1 ? F : null);
          r.push(k)
      }
      if (E) {
          if (C == 0)
              E.translate(0, r[0].rv[0].k5 / 2);
          E.rotate(-Math.PI / 2)
      }
      if (C == 2) {
          var G = n.Curve.Points
            , i = F[0]
            , o = F[1]
            , S = F[2]
            , H = F[3]
            , e = F[4]
            , V = F[5];
          for (var M = 0; M < r.length; M++)
              for (var v = 0; v < r[M].Lt.length; v++)
                  if (!(M == 0 && v == 0))
                      r[M].Lt[v].wX = !1;
          var k = r[0]
            , B = k.Lt[0];
          k.nH.oS(0, 0);
          B.nH.oS(0, 0);
          for (var v = B.start; v < B.end; v++) {
              var Z = k.rv[v]
                , d = Z.nH.x;
              Z.nH.x = 0;
              for (var g = Z.ly; g <= Z.KL; g++) {
                  var Y = k.u0[g]
                    , L = Y.R.d / 2;
                  Y.nH.x += d;
                  var _ = fL.anS(i, (e + Y.nH.x + L) % H);
                  Y.nH.x = _[0] - L * _[2];
                  Y.nH.y = _[1] - L * _[3];
                  Y.aV = Math.atan2(_[3], _[2])
              }
          }
      }
  }
  fL.k5 = function(n, z, C) {
      var D = n["OS/2"]
        , F = n.hhea
        , X = 0
        , X = 0
        , E = [];
      E.push(D && D.sxHeight && z.toLowerCase().indexOf("capitals") != -1 ? D.sxHeight : 0);
      E.push(D && D.sCapHeight ? D.sCapHeight : 0);
      E.push(D && D.sTypoAscender ? D.sTypoAscender : 0);
      E.push(F.ascender ? F.ascender : 0);
      for (var f = 0; f < E.length; f++)
          if (E[f] != 0) {
              X = E[f];
              break
          }
      var a = 1 / n.head.unitsPerEm * C.FontSize;
      X = X * a;
      if (X < C.FontSize * .6)
          X = C.FontSize * .75;
      return X
  }
  ;
  fL.prototype.ajR = function() {
      return !this.s4(0)
  }
  ;
  fL.prototype.amt = function() {
      return this.s4(1)
  }
  ;
  fL.prototype.s4 = function(n) {
      var z = this.t_
        , C = !0
        , D = 0;
      for (var M = 0; M < z.length; M++) {
          var F = z[M].Lt
            , X = F.length;
          D += X;
          for (var E = 0; E < X; E++)
              C &= F[E].wX
      }
      return [C, D][n]
  }
  ;
  fL.D1 = function(n) {
      var z = n.Points
        , C = z.length
        , D = C >>> 3
        , F = n.TextOnPathTRange
        , X = n.Reversed
        , c = 0
        , K = 0;
      if (X) {
          var E = z.slice(0);
          for (var M = 0; M < C; M += 2) {
              E[M] = z[C - 2 - M];
              E[M + 1] = z[C - 1 - M]
          }
          z = E;
          F = [D - F[1] % D, D - F[0] % D]
      }
      var f = []
        , a = [0]
        , q = [0];
      for (var M = 0; M < C; M += 8) {
          var R = z[M + 6] - z[M + 0]
            , J = z[M + 7] - z[M + 1]
            , w = Math.round(4 * Math.sqrt(R * R + J * J));
          for (var p = 0; p < w; p++) {
              var I = p / w
                , m = 1 - I
                , A = m * m * m * z[M + 0] + 3 * m * m * I * z[M + 2] + 3 * m * I * I * z[M + 4] + I * I * I * z[M + 6]
                , U = m * m * m * z[M + 1] + 3 * m * m * I * z[M + 3] + 3 * m * I * I * z[M + 5] + I * I * I * z[M + 7];
              f.push(A, U);
              if (M + p != 0) {
                  var R = A - c
                    , J = U - K;
                  q.push(q[q.length - 1] + Math.sqrt(R * R + J * J));
                  a.push((M >>> 3) + I)
              }
              c = A;
              K = U
          }
      }
      var r = q.length
        , $ = q[r - 1]
        , k = fL.c4(F[0], a)
        , G = fL.c4(F[1] % D, a)
        , i = q[k % r]
        , o = q[G % r];
      if (i >= o)
          o += $;
      return [f, a, q, $, i, o]
  }
  ;
  fL.c4 = function(n, z) {
      var M = 0;
      while (z[M] < n)
          M++;
      return M
  }
  ;
  fL.anS = function(n, z) {
      var C = 0, M = 0, D, F, X;
      while (C < z) {
          D = n[M + 2] - n[M];
          F = n[M + 3] - n[M + 1];
          X = Math.sqrt(D * D + F * F);
          C += X;
          M += 2
      }
      return [n[M], n[M + 1], D / X, F / X]
  }
  ;
  fL.prototype.acP = function(n) {
      return this.I$[n]
  }
  ;
  fL.prototype.apW = function(n) {
      for (var z = 0; z < this.t_.length; z++) {
          var C = this.t_[z];
          for (var D = 0; D < C.Lt.length; D++) {
              var F = C.Lt[D]
                , X = C.rv[F.start].start
                , E = C.rv[F.end - 1].end;
              if (X < n && n < E)
                  return [X, E - 1]
          }
      }
      return [0, 1]
  }
  ;
  fL.prototype.qU = function(n, z) {
      var C = -1
        , D = this.t_;
      if (this.Gj == 2) {
          var F = 1e9
            , X = 0
            , E = D[0]
            , f = E.Lt[0];
          for (var a = f.start; a < f.end; a++) {
              var q = E.rv[a];
              for (var c = q.ly; c <= q.KL; c++) {
                  var K = E.u0[c]
                    , R = K.R.d
                    , J = n.x - K.nH.x
                    , w = n.y - K.nH.y
                    , p = J * J + w * w;
                  if (p < F) {
                      F = p;
                      X = K.ZB
                  }
              }
          }
          if (X != 0 && this.aey.codePointAt(X - 1) > 65535)
              X--;
          return X
      }
      for (var I = 0; I < D.length; I++) {
          var E = D[I];
          for (var m = 0; m < E.Lt.length; m++) {
              C++;
              var f = E.Lt[m]
                , A = E.Lt[m + 1];
              if (A == null && I < D.length - 1)
                  A = D[I + 1].Lt[0];
              if (z != null) {
                  if (C != z)
                      continue
              } else {
                  if (A != null && E.nH.y + f.nH.y < n.y)
                      continue
              }
              for (var a = f.start; a < f.end; a++) {
                  var q = E.rv[a];
                  for (var c = q.ly; c <= q.KL; c++) {
                      var K = E.u0[c]
                        , R = K.R.d
                        , U = E.nH.x + f.nH.x + q.nH.x
                        , r = U + K.nH.x
                        , $ = U + (c < q.KL ? E.u0[c + 1].nH.x : K.nH.x + R);
                      if (n.x <= $ || a + 1 == f.end && c == q.KL) {
                          var k = E.a2t + K.ZB
                            , G = this.I$[k]
                            , i = G.qt & 1;
                          if (G.zI != "\n" && (i == 0 && n.x > r + R / 2 || i == 1 && n.x < r + R / 2))
                              k += this.aey.codePointAt(k) > 65535 ? 2 : 1;
                          return k
                      }
                  }
              }
          }
      }
  }
  ;
  fL.prototype.wH = function(n) {
      var z = {
          R: new cc,
          SX: 0
      }
        , C = 0;
      for (var D = 0; D < this.t_.length; D++) {
          var F = this.t_[D];
          for (var X = 0; X < F.Lt.length; X++) {
              var E = F.Lt[X];
              z.SX = C;
              C++;
              for (var f = E.start; f < E.end; f++) {
                  var a = F.rv[f];
                  for (var q = a.start; q < a.end; q++) {
                      if (q == n) {
                          var c = this.I$[q]
                            , K = c.RZ
                            , R = F.u0[K].ZB
                            , J = 1;
                          while (F.u0[K] != null && F.u0[K].ZB == R) {
                              var w = F.u0[K]
                                , p = F.nH.x + E.nH.x + a.nH.x + w.nH.x
                                , I = F.nH.y + E.nH.y + a.nH.y + w.nH.y;
                              z.R = z.R.QH(new cc(p,I - c.lineHeight,w.R.d,c.lineHeight));
                              z.aV = w.aV;
                              K += J
                          }
                          return z
                      }
                  }
              }
          }
      }
  }
  ;
  fL.prototype.cs = function() {
      var n = Infinity
        , z = Infinity
        , C = -Infinity
        , D = -Infinity;
      for (var M = 0; M < this.t_.length; M++) {
          var F = this.t_[M];
          for (var X = 0; X < F.Lt.length; X++) {
              var E = F.Lt[X];
              if (!E.wX)
                  break;
              for (var f = E.start; f < E.end; f++) {
                  var a = F.rv[f];
                  for (var q = a.ly; q <= a.KL; q++) {
                      var c = F.u0[q]
                        , K = c.R
                        , R = F.nH.x + E.nH.x + a.nH.x + c.nH.x
                        , J = F.nH.y + E.nH.y + a.nH.y + c.nH.y;
                      n = Math.min(n, R + K.x);
                      z = Math.min(z, J + K.y);
                      C = Math.max(C, R + K.x + K.d);
                      D = Math.max(D, J + K.y + K.v)
                  }
              }
          }
      }
      return new cc(n,z,C - n,D - z)
  }
  ;
  fL.mU = function(n) {
      return 19968 <= n && n <= 40959 || 12288 <= n && n <= 12543
  }
  ;
  fL.adp = function(n, z, C, D, F, X, E) {
      var f = [X]
        , a = 0;
      for (var M = X; M < E; M++) {
          if (C[M] == null)
              console.log(M, X, E, C);
          var q = C[M].zI
            , c = q.charCodeAt(0);
          if (c == 32 || c == 9) {
              f.push(a, M, 1, M + 1);
              a = 0
          } else if (c == 3851) {
              f.push(a + 1, M + 1);
              a = 0
          } else if (fL.mU(c)) {
              f.push(a, M);
              a = 1
          } else if (M != X && C[M].qt != C[M - 1].qt) {
              f.push(a, M);
              a = 1
          } else
              a++
      }
      f.push(a);
      var K = [];
      for (var M = 0; M < f.length; M += 2) {
          var R = f[M]
            , J = f[M + 1];
          if (J == 0)
              continue;
          K.push(new fL.a8j(n,z,C,D,F,R,J))
      }
      return K
  }
  ;
  fL.a7B = function(n, z, C, D, F, X, E) {
      var f = [0, z ? z.d : 1e9]
        , a = [];
      if (D) {
          var q = n[X].k5
            , c = F + (F == 0 ? q : n[X].lineHeight)
            , K = c - q * .9
            , R = j.K.Lv(D[0], K)
            , J = R.length
            , w = j.K.Lv(D[0], c)
            , p = w.length;
          if (J != 0 && p != 0) {
              var I = 0
                , m = 0;
              f = [];
              while (I < J && m < p) {
                  var A = Math.max(R[I], w[m])
                    , U = R[I + 1]
                    , r = w[m + 1]
                    , $ = Math.min(U, r);
                  if (A < $)
                      f.push(A, $);
                  if (U < r)
                      I += 2;
                  else
                      m += 2
              }
          }
      }
      for (var k = 0; k < f.length; k += 2) {
          var G = f[k + 1] - f[k]
            , i = 0
            , o = X
            , S = z ? G - C.StartIndent - C.EndIndent - (X == 0 ? C.FirstLineIndent : 0) : Infinity;
          while (X != n.length) {
              var H = n[X]
                , e = i == 0 || (H.mb || H.QE) || i + H.R.d < S;
              if (!e)
                  break;
              i += H.R.d;
              X++
          }
          a.push(X - o)
      }
      E[0] = a;
      E[1] = f;
      E[2] = X
  }
  ;
  fL.abn = function(n, z) {
      var C = n.length
        , D = new Uint32Array(C)
        , F = new Uint8Array(C)
        , X = 0;
      for (var M = 0; M < C; M++) {
          F[M] = 0;
          var E = n.charCodeAt(M);
          D[M] = E;
          if (E > X)
              X = E
      }
      if (X > 1424)
          F = fL.an_(D, z);
      return F
  }
  ;
  fL.P8 = function(n, z, C, D, F, X, E) {
      this.rv = [];
      this.Lt = [];
      this.nH = new ir(0,0);
      this.u0 = null;
      this.rv = null;
      this.k4 = bZ.aad(n, D);
      var f = this.k4
        , K = 0
        , w = ""
        , U = 0
        , r = 1
        , _ = 0;
      if (D != 0) {
          var a = f.SpaceBefore;
          if (a != null)
              X[0] += a
      }
      var q = n.EngineDict.ParagraphRun.RunLengthArray
        , c = q[D];
      for (var M = 0; M < D; M++)
          K += q[M];
      var R = f._Direction ? f._Direction : 0;
      this.a2t = K;
      var J = bZ.T5(n).slice(K, K + c);
      for (var p = 0; p < J.length; p++) {
          var I = J.charAt(p);
          w += C[K + p].k4.FontCaps == 0 ? I : I.toUpperCase()
      }
      J = w;
      var m = fL.abn(J, R)
        , A = []
        , $ = m[M] & 1
        , k = C[K].at;
      C[K].qt = m[0];
      for (var M = 1; M < J.length; M++) {
          var I = C[K + M]
            , G = m[M];
          I.qt = G;
          if (G != $ || I.at != k) {
              A.push(U, r);
              U = M;
              r = 1;
              $ = G;
              k = I.at
          } else
              r++
      }
      A.push(U, r);
      var i = this.u0 = [];
      for (var M = 0; M < A.length; M += 2) {
          var o = A[M]
            , S = A[M + 1]
            , H = (C[K + o].qt & 1) == 0
            , e = J.slice(o, o + S)
            , V = Typr.U.shapeHB(C[K + o].at, e, H)
            , v = []
            , d = 0;
          for (var p = 0; p < V.length; p++) {
              var B = V[p];
              v.push({
                  Q: B.g,
                  ZB: B.cl,
                  kD: B.ax,
                  Bh: B.ay,
                  R8: B.dx,
                  Cn: B.dy
              })
          }
          V = v;
          var Z = V.slice(0);
          if (!H)
              Z.reverse();
          for (var p = 0; p < e.length; p++) {
              while (d + 1 < Z.length && Z[d + 1].ZB <= p) {
                  d++
              }
              while (d > 0 && Z[d - 1].ZB == p)
                  d--;
              C[K + o + p].RZ = i.length + (H ? d : Z.length - d - 1)
          }
          for (var p = 0; p < V.length; p++) {
              i.push(V[p]);
              V[p].ZB += o;
              var I = C[K + V[p].ZB];
              if (I.zI == "\n")
                  V[p].kD = 0;
              if (I.zI == "\t")
                  V[p].kD = I.at.head.unitsPerEm * 36 / I.k4.FontSize
          }
      }
      var g = bZ.Ez(f)
        , Y = this.rv = fL.adp(n, z, C, K, i, K, K + c)
        , L = this.Lt
        , b = -1
        , w = [null, null, 0];
      while (_ < Y.length) {
          fL.a7B(Y, F, f, E, X[0], _, w);
          b++;
          var x = {
              start: _,
              end: 0,
              R: new cc,
              nH: new ir(0,0),
              wX: !0
          }
            , aT = 0
            , a4 = 0;
          L.push(x);
          x.end = w[2];
          var W = x.end == Y.length;
          function g6(Z, o, gh) {
              var cZ = gh - o >>> 1;
              for (var M = 0; M < cZ; M++) {
                  var h3 = Z[o + M];
                  Z[o + M] = Z[gh - 1 - M];
                  Z[gh - 1 - M] = h3
              }
          }
          for (var fY = 1; fY < 5; fY++) {
              var f3 = -1;
              for (var M = x.start; M < x.end; M++) {
                  var G = C[Y[M].start].qt;
                  if (f3 == -1 && G >= fY)
                      f3 = M;
                  else if (f3 != -1 && G < fY) {
                      g6(Y, f3, M);
                      f3 = -1
                  }
              }
              var hK = x.end;
              if (R == 0 && Y[hK - 1].mb)
                  hK--;
              if (f3 != -1)
                  g6(Y, f3, hK)
          }
          var s = w[0]
            , P = w[1]
            , f3 = _
            , aF = _;
          for (var fM = 0; fM < s.length; fM++) {
              var eA = P[fM * 2 + 1] - P[fM * 2]
                , e8 = 0;
              f3 = aF;
              aF += s[fM];
              var eC = this.a3c(f3, aF, Y, R, F != null);
              if (F) {
                  if (g == 1 || W && g == 4)
                      e8 = eC[1] + (eA - eC[0]);
                  if (g == 2 || W && g == 5)
                      e8 = eC[1] + (eA - eC[0]) / 2;
                  if (b == 0)
                      e8 += f.FirstLineIndent;
                  e8 += f.StartIndent
              } else {
                  if (g == 0)
                      e8 = f.StartIndent + f.FirstLineIndent;
                  if (g == 1)
                      e8 = -eC[0] - f.EndIndent;
                  if (g == 2)
                      e8 = -eC[0] / 2
              }
              e8 += P[fM * 2];
              if (F && g > 2 && (g == 6 || !W))
                  this.ail(f3, aF, Y, eA, R, e8);
              else {
                  var cy = e8;
                  for (var M = f3; M < aF; M++) {
                      var aX = Y[M]
                        , j0 = aX.R.d;
                      aX.nH.x = cy;
                      if (aX.Z5 == "\t")
                          j0 = Math.ceil((cy + 4) / 36) * 36 - cy;
                      cy += j0
                  }
              }
          }
          _ = x.end;
          for (var M = x.start; M < x.end; M++) {
              var f8 = Y[M].R.clone();
              f8.cj(Y[M].nH);
              x.R = x.R.QH(f8);
              aT = Math.max(aT, Y[M].k5);
              a4 = Math.max(a4, Y[M].lineHeight)
          }
          x.nH.y = b == 0 ? 0 : L[b - 1].nH.y + a4;
          if (b == 0) {
              if (D == 0 && F)
                  X[0] += aT;
              if (D != 0)
                  X[0] += a4;
              this.nH.y = X[0]
          } else
              X[0] += a4;
          if (F)
              x.wX = this.nH.y + x.nH.y < F.y + F.v
      }
      var b3 = f.SpaceAfter;
      if (b3 != null)
          X[0] += b3
  }
  ;
  fL.P8.prototype.a3c = function(n, z, C, D, F) {
      var X = 0
        , E = 0;
      for (var M = n; M < z; M++)
          X += C[M].R.d;
      if (F) {
          if (D == 0)
              for (var M = z - 1; M >= n; M--)
                  if (C[M].mb || C[M].QE)
                      X -= C[M].R.d;
                  else
                      break;
          if (D == 1)
              for (var M = n; M < z; M++)
                  if (C[M].mb || C[M].QE) {
                      var f = C[M].R.d;
                      X -= f;
                      E -= f
                  } else
                      break
      }
      return [X, E]
  }
  ;
  fL.P8.prototype.ail = function(n, z, C, D, F, X) {
      var E = 0
        , f = 0
        , a = 0
        , q = 0;
      for (var M = n; M < z; M++)
          if (C[M].mb)
              a++;
          else {
              E += C[M].R.d;
              f++
          }
      if (F == 0)
          for (var M = z - 1; M >= n; M--)
              if (C[M].mb || C[M].QE) {
                  if (C[M].mb) {
                      a--
                  }
              } else
                  break;
      if (F == 1)
          for (var M = n; M < z; M++)
              if (C[M].mb || C[M].QE) {
                  if (C[M].mb) {
                      a--;
                      q++
                  }
              } else
                  break;
      if (f <= 1 || a == 0) {
          if (f == 1)
              C[n].nH.x = X;
          return
      }
      var c = (D - E) / a
        , K = -q * c;
      for (var M = n; M < z; M++) {
          if (C[M].mb)
              this.u0[C[M].ly].R.d = C[M].R.d = c;
          C[M].nH.x = X + K;
          K += C[M].R.d
      }
  }
  ;
  fL.a8j = function(n, z, C, D, F, X, E) {
      this.Z5 = "";
      for (var M = 0; M < E; M++)
          this.Z5 += C[X + M].zI;
      this.mb = E == 1 && (C[X].zI == " " || C[X].zI == "\t");
      this.QE = E == 1 && C[X].zI == "\n";
      this.start = X;
      this.end = X + E;
      this.R = new cc;
      this.nH = new ir(0,0);
      this.k5 = 0;
      this.lineHeight = 0;
      var f = 0
        , a = 0;
      if (E == 0) {
          this.lineHeight = C[X].lineHeight;
          this.k5 = C[X].k5;
          this.R = new cc(0,-C[X].lineHeight,0,C[X].lineHeight)
      }
      var q = C[X].RZ
        , c = C[X + E - 1].RZ;
      if (c < q) {
          var K = q;
          q = c;
          c = K
      }
      while (c + 1 < F.length && F[c].ZB == F[c + 1].ZB) {
          c++
      }
      this.ly = q;
      this.KL = c;
      for (var R = q; R <= c; R++) {
          var J = F[R]
            , w = C[D + J.ZB]
            , p = 1 / w.at.head.unitsPerEm * w.k4.FontSize
            , U = 0;
          if (!w.k4.AutoKerning)
              f += w.k4.Kerning * 2 * p * w.scale.x;
          var I = J.kD * p * w.scale.x;
          J.nH = new ir(f,0);
          J.aV = 0;
          J.R = new cc(0,-w.lineHeight,I,w.lineHeight);
          var m = Typr.U.glyphToPath(w.at, J.Q);
          J.path = {
              I: m.cmds,
              U: m.crds
          };
          var A = J.R.clone();
          A.cj(J.nH);
          if (w.k4.Tracking != null)
              U = w.k4.Tracking * .001 * w.k4.FontSize;
          if (w.k4.FauxBold == !0)
              U += .027 * w.k4.FontSize;
          f += I + U;
          if (E == 1 && w.zI == " ")
              A.d += 2 * U;
          else if (E == 1 && w.zI != null && fL.mU(w.zI.charCodeAt(0)))
              A.d += U;
          this.R = this.R.QH(A);
          this.k5 = Math.max(this.k5, w.k5);
          this.lineHeight = Math.max(this.lineHeight, w.lineHeight)
      }
  }
  ;
  fL.Gq = 0;
  fL.eQ = function() {
      if (fL.Gq == 2)
          return !0;
      if (fL.Gq == 1)
          return !1;
      fL.Gq = 1;
      function n() {
          fetch("code/external/fribidi.wasm").then(function(z) {
              return z.arrayBuffer()
          }).then(function(z) {
              return WebAssembly.instantiate(z)
          }).then(function(z) {
              var C = z.instance.exports
                , D = C.memory
                , F = 16
                , X = 256
                , E = 1
                , f = F | X
                , a = F | X | E;
              fL.an_ = function(c, K) {
                  var R = c.length
                    , J = R * 4 + 4 + R * 4 + R * 4 + R;
                  fC.MW(C, J + R + 1e7);
                  var w = new Uint8Array(D.buffer)
                    , p = new Uint32Array(D.buffer)
                    , I = C.calloc(J, 1)
                    , m = I + R * 4
                    , A = m + 4
                    , U = A + R * 4
                    , r = U + R * 4;
                  p.set(c, I >>> 2);
                  p[m >>> 2] = K == 0 ? f : a;
                  C.fribidi_get_bidi_types(I, R, A);
                  C.fribidi_get_bracket_types(I, R, A, U);
                  C.fribidi_get_par_embedding_levels_ex(A, U, R, m, r);
                  var $ = w.slice(r, r + R);
                  C.free(I);
                  return $
              }
              ;
              fL.Gq = 2;
              var q = new u(l.E.P,!0);
              q.data = {
                  e: l.H.W9,
                  wa: "add",
                  G6: c1.Lg,
                  TT: null
              };
              ht.sM.f(q)
          })
      }
      Typr.U.initHB("code/external/hb.wasm", n);
      return !1
  }
  ;
  function bZ() {}
  bZ.SE = function(n) {
      return JSON.parse(JSON.stringify(n))
  }
  ;
  bZ.oR = function(n, z) {
      for (var C in z)
          n[C] = z[C]
  }
  ;
  bZ.uZ = function(n, z, C) {
      var D = bZ.H7();
      if (C)
          bZ.YI(D, 0, 0, C);
      var F = {
          Z: new b6(1,0,0,1,Math.round(n),Math.round(z)),
          uR: D
      };
      F.aK = bZ.BF();
      F.iK = j.Y0.T();
      F.jk = new cc;
      return F
  }
  ;
  bZ.ep = function(n) {
      var z = ["CharacterDirection", 0];
      for (var M = 0; M < z.length; M += 2) {
          if (n[z[M]] != null && n[z[M]] != z[M + 1]) {
              throw "e";
              console.log(z[M], n[z[M]])
          }
      }
      if (n instanceof Array)
          for (var M = 0; M < n.length; M++)
              bZ.ep(n[M]);
      else if (n instanceof Object)
          for (var C in n)
              bZ.ep(n[C])
  }
  ;
  bZ.Ez = function(n, z) {
      if (z == null)
          z = n.Justification;
      var C = n._Direction ? n._Direction : 0;
      if (C == 1) {
          if (z == 0 || z == 3)
              z++;
          else if (z == 1 || z == 4)
              z--
      }
      return z
  }
  ;
  bZ.FC = function(n) {
      if (n.add == null)
          return;
      var z = n.uR
        , C = z.Curve
        , D = n.add.vmsk
        , F = D.g
        , X = j.K.Gi(F, !0).U
        , E = n.Z.clone();
      E.eL();
      j.K.Z(X, E, X);
      var f = X.slice(0, 8);
      for (var a = 8; a < X.length; a += 6)
          f.push(X[a - 2], X[a - 1], X[a], X[a + 1], X[a + 2], X[a + 3], X[a + 4], X[a + 5]);
      C.Points = f;
      C.TextOnPathTRange = D.JS.slice(0);
      C.Reversed = D.LQ;
      if (bZ.wT(z) == 1) {
          var C = fL.D1(z.Curve)
            , q = j.K.AN(C[0]);
          bZ.u6(z, [0, 0, q.d, q.v].map(Math.round));
          for (var M = 0; M < f.length; M += 2) {
              f[M] -= q.x;
              f[M + 1] -= q.y
          }
          var c = new b6(1,0,0,1,q.x,q.y);
          c.concat(n.Z);
          n.Z = c
      }
  }
  ;
  bZ.O4 = function(n) {
      if (n.add == null)
          return;
      var z = n.add.vmsk
        , C = n.uR.Curve
        , D = C.Points
        , F = {
          I: ["M"],
          U: [D[0], D[1]]
      };
      for (var M = 0; M < D.length; M += 8) {
          F.I.push("C");
          F.U.push(D[M + 2], D[M + 3], D[M + 4], D[M + 5], D[M + 6], D[M + 7])
      }
      j.K.Z(F.U, n.Z, F.U);
      var X = j.K.gU(F, !0);
      z.g = X;
      z.LQ = C.Reversed;
      z.JS = C.TextOnPathTRange.slice(0);
      n.add.vogk = Q.CD(X)
  }
  ;
  bZ.Jo = function(n) {
      var z = {
          h: 0,
          Q: 0,
          O: 0
      };
      if (n.FillColor) {
          var C = n.FillColor
            , D = C.Values;
          if (C.Type == 1)
              z = {
                  h: D[1] * 255,
                  Q: D[2] * 255,
                  O: D[3] * 255
              };
          else if (C.Type == 2) {
              var F = {
                  classID: "CMYC",
                  Cyn: {
                      t: "doub",
                      v: D[1] * 100
                  },
                  Mgnt: {
                      t: "doub",
                      v: D[2] * 100
                  },
                  Ylw: {
                      t: "doub",
                      v: D[3] * 100
                  },
                  Blck: {
                      t: "doub",
                      v: D[4] * 100
                  }
              };
              z = j._.Jo(F)
          } else
              console.log("Unknown color type")
      }
      return z
  }
  ;
  bZ.a0W = function(n) {
      for (var M = 0; M < n.length; M++) {
          var z = n[M].StyleSheet.StyleSheetData
            , C = z.FillColor;
          if (C && C.Type == 2) {
              var D = bZ.Jo(z);
              C.Type = 1;
              C.Values = [1, D.h / 255, D.Q / 255, D.O / 255]
          }
      }
  }
  ;
  bZ.Td = function(n, z) {
      var C;
      if (bZ.wT(n.uR) == 1) {
          var D = bZ.w$(n.uR);
          C = new cc(0,0,D[2] - D[0],D[3] - D[1])
      } else
          C = z.cs();
      return C
  }
  ;
  bZ.Lm = function(n) {
      var z = n[0];
      for (var M = 0; M < n.length; M++)
          z = bZ.a18(z, n[M]);
      return z
  }
  ;
  bZ.a18 = function(n, z) {
      var C = {};
      for (var D in n)
          if (JSON.stringify(n[D]) == JSON.stringify(z[D]))
              C[D] = n[D];
      return C
  }
  ;
  bZ.I9 = function(n, z) {
      var C = n.qR
        , D = -1;
      for (var M = 0; M < C.length; M++)
          if (C[M].Name == z)
              D = M;
      if (D == -1) {
          D = C.length;
          C.push({
              FontType: 1,
              Name: z,
              Script: 0,
              Synthetic: 0
          })
      }
      n.I$.Font = D
  }
  ;
  bZ.T5 = function(n) {
      return n.EngineDict.Editor.Text.replace(/\r/g, "\n").replace(/\u0003/g, "\n")
  }
  ;
  bZ.Uw = function(n, z) {
      n.EngineDict.Editor.Text = z.replace(/\n/g, "\r")
  }
  ;
  bZ.wT = function(n) {
      return n.Curve && n.Curve.TextOnPathTRange[0] >= 0 ? 2 : n.EngineDict.Rendered.Shapes.Children[0].ShapeType
  }
  ;
  bZ.qf = function(n, z) {
      var C = n.EngineDict.Rendered.Shapes.Children[0];
      C.ShapeType = z;
      var D = C.Cookie.Photoshop;
      D.ShapeType = z;
      D.Base.ShapeType = z;
      if (z == 0) {
          delete D.BoxBounds;
          D.PointBase = [0, 0]
      }
      if (z == 1) {
          delete D.PointBase;
          D.BoxBounds = [0, 0, 1, 1]
      }
  }
  ;
  bZ.w$ = function(n) {
      return n.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds
  }
  ;
  bZ.u6 = function(n, z) {
      n.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds = z
  }
  ;
  bZ.a5O = function(n, z) {
      return bZ.aam(n, bZ.EQ(n, z))
  }
  ;
  bZ.EQ = function(n, z) {
      var C = n.EngineDict.StyleRun.RunLengthArray;
      return bZ.p$(C, z).gm
  }
  ;
  bZ.aam = function(n, z) {
      var C = n.ResourceDict.StyleSheetSet[0].StyleSheetData
        , D = {};
      for (var F in C)
          D[F] = C[F];
      var X = n.EngineDict.StyleRun.RunArray[z].StyleSheet.StyleSheetData;
      bZ.oR(D, X);
      return D
  }
  ;
  bZ.aad = function(n, z) {
      var C = n.ResourceDict.ParagraphSheetSet[0].Properties
        , D = {};
      for (var F in C)
          D[F] = C[F];
      var X = n.EngineDict.ParagraphRun.RunArray[z].ParagraphSheet.Properties;
      bZ.oR(D, X);
      var E = ["StartIndent", "EndIndent", "FirstLineIndent"];
      for (var M = 0; M < 3; M++)
          if (D[E[M]] == null)
              D[E[M]] = 0;
      return D
  }
  ;
  bZ.rZ = function(n, z, C) {
      if (C == "")
          return;
      var D = bZ.T5(n);
      bZ.Uw(n, D.substring(0, z) + C + D.substring(z, D.length));
      var F = n.EngineDict.StyleRun
        , X = F.RunLengthArray
        , E = bZ.p$(X, z - 1);
      X[E.gm] += C.length;
      var f = n.EngineDict.ParagraphRun
        , X = f.RunLengthArray
        , a = bZ.p$(X, z)
        , q = C.split("\n");
      if (q.length == 1) {
          X[a.gm] += C.length;
          return
      }
      X.splice(a.gm + 1, 0, X[a.gm] - (z - a.sw));
      f.RunArray.splice(a.gm + 1, 0, bZ.SE(f.RunArray[a.gm]));
      X[a.gm] -= X[a.gm + 1];
      X[a.gm] += q[0].length + 1;
      for (var M = 1; M < q.length - 1; M++) {
          f.RunArray.splice(a.gm + M, 0, bZ.SE(f.RunArray[a.gm + M - 1]));
          f.RunLengthArray.splice(a.gm + M, 0, q[M].length + 1)
      }
      X[a.gm + q.length - 1] += q[q.length - 1].length
  }
  ;
  bZ.Bg = function(n, z, C) {
      var D = bZ.T5(n);
      bZ.Uw(n, D.substring(0, z) + D.substring(C, D.length));
      bZ.go(n.EngineDict.ParagraphRun, z, C, !0);
      bZ.go(n.EngineDict.StyleRun, z, C, !1)
  }
  ;
  bZ.go = function(n, z, C, D) {
      var F = n.RunLengthArray
        , X = bZ.p$(F, z)
        , E = bZ.p$(F, C)
        , f = [];
      for (var M = 0; M < F.length; M++)
          for (var a = 0; a < F[M]; a++)
              f.push(M);
      f.splice(z, C - z);
      var q = [];
      for (var M = 0; M < F.length; M++)
          q.push(0);
      for (var M = 0; M < f.length; M++)
          q[f[M]]++;
      for (var M = 0; M < F.length; M++) {
          if (q[M] == 0) {
              q.splice(M, 1);
              F.splice(M, 1);
              n.RunArray.splice(M, 1);
              M--
          } else if (q[M] < F[M])
              F[M] = q[M]
      }
      if (D && X.gm != E.gm && X.sw != z) {
          F[X.gm] += F[X.gm + 1];
          F.splice(X.gm + 1, 1);
          n.RunArray.splice(X.gm + 1, 1)
      }
  }
  ;
  bZ.YI = function(n, z, C, D) {
      var F = n.EngineDict.Editor.Text.length;
      if (C == F - 2)
          C++;
      if (D.I$.Font != null)
          n.ResourceDict.FontSet = D.qR.slice(0);
      if (z <= C)
          bZ.FA(n.EngineDict.StyleRun, D.I$, z, C, !0);
      bZ.FA(n.EngineDict.ParagraphRun, D.t_, z, C, !1)
  }
  ;
  bZ.FA = function(n, z, C, D, F) {
      var X = n.RunLengthArray;
      if (F) {
          var E = bZ.p$(X, C);
          if (E.sw != C) {
              var f = X[E.gm];
              X.splice(E.gm, 0, C - E.sw);
              X[E.gm + 1] = f - X[E.gm];
              n.RunArray.splice(E.gm + 1, 0, bZ.SE(n.RunArray[E.gm]))
          }
          var a = bZ.p$(X, D);
          if (a.sw + X[a.gm] - 1 != D) {
              var f = X[a.gm];
              X.splice(a.gm, 0, D - a.sw + 1);
              X[a.gm + 1] = f - X[a.gm];
              n.RunArray.splice(a.gm + 1, 0, bZ.SE(n.RunArray[a.gm]))
          }
      }
      var E = bZ.p$(X, C)
        , a = bZ.p$(X, D);
      if (F)
          for (var M = E.gm; M <= a.gm; M++)
              bZ.oR(n.RunArray[M].StyleSheet.StyleSheetData, z);
      else
          for (var M = E.gm; M <= a.gm; M++)
              bZ.oR(n.RunArray[M].ParagraphSheet.Properties, z)
  }
  ;
  bZ.ae2 = function(n, z, C) {
      var D = n.EngineDict.StyleRun.RunLengthArray
        , F = []
        , X = 0;
      for (var M = 0; M < D.length; M++) {
          var E = D[M];
          for (var f = 0; f < E; f++)
              if (z <= X + f && X + f < C)
                  F.push(M);
          X += E
      }
      var a = F[0]
        , q = [];
      for (var M = 0; M < F.length; M++) {
          var c = F[M] - a;
          if (c == q.length)
              q.push(0);
          q[c]++
      }
      return q
  }
  ;
  bZ.aq8 = function(n) {
      var z = n.EngineDict.StyleRun
        , C = z.RunArray
        , D = z.RunLengthArray;
      for (var M = 0; M < D.length - 1; M++) {
          var F = C[M].StyleSheet.StyleSheetData
            , X = C[M + 1].StyleSheet.StyleSheetData;
          if (JSON.stringify(F) == JSON.stringify(X)) {
              C.splice(M + 1, 1);
              D[M] += D[M + 1];
              D.splice(M + 1, 1);
              M--
          }
      }
  }
  ;
  bZ.UM = function(n) {
      var z = n.aK.AntA.v.Annt;
      z = ["Anno", "antiAliasSharp", "AnCr", "AnSt", "AnSm"].indexOf(z);
      if (z == -1)
          z = 1;
      return z
  }
  ;
  bZ.FI = function(n, z) {
      n.aK.AntA.v.Annt = ["Anno", "antiAliasSharp", "AnCr", "AnSt", "AnSm"][z]
  }
  ;
  bZ.jj = function(n, z, C) {
      var D = {
          qR: n.ResourceDict.FontSet.slice(0),
          I$: [],
          t_: []
      }
        , F = n.EngineDict.StyleRun.RunLengthArray
        , X = bZ.p$(F, z).gm
        , E = bZ.p$(F, C).gm;
      for (var M = X; M <= E; M++) {
          var f = bZ.SE(n.ResourceDict.StyleSheetSet[0].StyleSheetData)
            , a = n.EngineDict.StyleRun.RunArray;
          if (a.length == 0)
              continue;
          var q = a[M].StyleSheet.StyleSheetData;
          bZ.oR(f, q);
          D.I$.push(f)
      }
      var c = n.EngineDict.ParagraphRun.RunLengthArray
        , K = bZ.p$(c, z).gm
        , R = bZ.p$(c, C).gm;
      for (var M = K; M <= R; M++) {
          var J = n.EngineDict.ParagraphRun.RunArray;
          if (J.length == 0)
              continue;
          D.t_.push(bZ.SE(J[M].ParagraphSheet.Properties))
      }
      D.I$ = D.I$.length == 0 ? {} : bZ.Lm(D.I$);
      D.t_ = D.t_.length == 0 ? {} : bZ.Lm(D.t_);
      return D
  }
  ;
  bZ.KF = function(n, z) {
      var C, D;
      C = ["FontSize", "Leading", "BaselineShift"];
      D = n.I$;
      for (var M = 0; M < C.length; M++)
          if (D[C[M]] != null)
              D[C[M]] *= z;
      C = ["StartIndent", "EndIndent", "FirstLineIndent", "SpaceBefore", "SpaceAfter"];
      D = n.t_;
      for (var M = 0; M < C.length; M++)
          if (D[C[M]] != null)
              D[C[M]] *= z
  }
  ;
  bZ.a5z = function() {
      return bZ.jj(bZ.od, 0, 0)
  }
  ;
  bZ.BF = function() {
      return {
          classID: "TxLr",
          Txt: {
              t: "TEXT",
              v: "\0"
          },
          textGridding: {
              t: "enum",
              v: {
                  textGridding: "None"
              }
          },
          Ornt: {
              t: "enum",
              v: {
                  Ornt: "Hrzn"
              }
          },
          AntA: {
              t: "enum",
              v: {
                  Annt: "antiAliasSharp"
              }
          },
          TextIndex: {
              t: "long",
              v: 0
          }
      }
  }
  ;
  bZ.p$ = function(n, z) {
      var C = 0
        , M = 0;
      while (C + n[M] <= z) {
          C += n[M];
          M++
      }
      return {
          gm: M,
          sw: C
      }
  }
  ;
  bZ.H7 = function() {
      var n = bZ.SE(this.od);
      return n
  }
  ;
  bZ.vq = {
      Justification: 0,
      FirstLineIndent: 0,
      StartIndent: 0,
      EndIndent: 0,
      SpaceBefore: 0,
      SpaceAfter: 0,
      AutoHyphenate: !1,
      HyphenatedWordSize: 6,
      PreHyphen: 2,
      PostHyphen: 2,
      ConsecutiveHyphens: 8,
      Zone: 36,
      WordSpacing: [.8, 1, 1.33],
      LetterSpacing: [0, 0, 0],
      GlyphSpacing: [1, 1, 1],
      AutoLeading: 1.2,
      LeadingType: 0,
      Hanging: !1,
      Burasagari: !1,
      KinsokuOrder: 0,
      EveryLineComposer: !1,
      _Direction: 0,
      _ComposerEngine: 1
  };
  bZ.a3V = {
      Font: 0,
      FontSize: 12,
      FauxBold: !1,
      FauxItalic: !1,
      AutoLeading: !0,
      Leading: 0,
      HorizontalScale: 1,
      VerticalScale: 1,
      Tracking: 0,
      AutoKerning: !0,
      Kerning: 0,
      BaselineShift: 0,
      FontCaps: 0,
      FontBaseline: 0,
      Underline: !1,
      Strikethrough: !1,
      Ligatures: !0,
      DLigatures: !1,
      BaselineDirection: 2,
      Tsume: 0,
      StyleRunAlignment: 2,
      Language: 0,
      NoBreak: !1,
      FillColor: {
          Type: 1,
          Values: [1, 0, 0, 0]
      },
      StrokeColor: {
          Type: 1,
          Values: [1, 0, 0, 0]
      },
      FillFlag: !0,
      StrokeFlag: !1,
      FillFirst: !0,
      YUnderline: 1,
      OutlineWidth: 1,
      CharacterDirection: 0,
      HindiNumbers: !1,
      Kashida: 1,
      DiacriticPos: 2
  };
  bZ.od = {
      EngineDict: {
          Editor: {
              Text: "\n"
          },
          ParagraphRun: {
              DefaultRunData: {
                  ParagraphSheet: {
                      DefaultStyleSheet: 0,
                      Properties: {}
                  },
                  Adjustments: {
                      Axis: [1, 0, 1],
                      XY: [0, 0]
                  }
              },
              RunArray: [{
                  ParagraphSheet: {
                      DefaultStyleSheet: 0,
                      Properties: JSON.parse(JSON.stringify(bZ.vq))
                  },
                  Adjustments: {
                      Axis: [1, 0, 1],
                      XY: [0, 0]
                  }
              }],
              RunLengthArray: [1],
              IsJoinable: 1
          },
          StyleRun: {
              DefaultRunData: {
                  StyleSheet: {
                      StyleSheetData: {}
                  }
              },
              RunArray: [{
                  StyleSheet: {
                      StyleSheetData: {
                          Font: 0,
                          FontSize: 24,
                          AutoKerning: !0,
                          Kerning: 0
                      }
                  }
              }],
              RunLengthArray: [1],
              IsJoinable: 2
          },
          GridInfo: {
              GridIsOn: !1,
              ShowGrid: !1,
              GridSize: 18,
              GridLeading: 22,
              GridColor: {
                  Type: 1,
                  Values: [0, 0, 0, 1]
              },
              GridLeadingFillColor: {
                  Type: 1,
                  Values: [0, 0, 0, 1]
              },
              AlignLineHeightToGridFlags: !1
          },
          AntiAlias: 4,
          UseFractionalGlyphWidths: !0,
          Rendered: {
              Version: 1,
              Shapes: {
                  WritingDirection: 0,
                  Children: [{
                      ShapeType: 0,
                      Procession: 0,
                      Lines: {
                          WritingDirection: 0,
                          Children: []
                      },
                      Cookie: {
                          Photoshop: {
                              ShapeType: 0,
                              PointBase: [0, 0],
                              Base: {
                                  ShapeType: 0,
                                  TransformPoint0: [1, 0],
                                  TransformPoint1: [0, 1],
                                  TransformPoint2: [0, 0]
                              }
                          }
                      }
                  }]
              }
          }
      },
      ResourceDict: {
          KinsokuSet: [{
              Name: "PhotoshopKinsokuHard",
              NoStart: "\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",
              NoEnd: "\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",
              Keep: "\u2015\u2025",
              Hanging: "\u3001\u3002.,"
          }, {
              Name: "PhotoshopKinsokuSoft",
              NoStart: "\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",
              NoEnd: "\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",
              Keep: "\u2015\u2025",
              Hanging: "\u3001\u3002.,"
          }],
          MojiKumiSet: [{
              InternalName: "Photoshop6MojiKumiSet1"
          }, {
              InternalName: "Photoshop6MojiKumiSet2"
          }, {
              InternalName: "Photoshop6MojiKumiSet3"
          }, {
              InternalName: "Photoshop6MojiKumiSet4"
          }],
          TheNormalStyleSheet: 0,
          TheNormalParagraphSheet: 0,
          ParagraphSheetSet: [{
              Name: "Normal RGB",
              DefaultStyleSheet: 0,
              Properties: JSON.parse(JSON.stringify(bZ.vq))
          }],
          StyleSheetSet: [{
              Name: "Normal RGB",
              StyleSheetData: JSON.parse(JSON.stringify(bZ.a3V))
          }],
          FontSet: [{
              Name: "DejaVuSans",
              Script: 0,
              FontType: 1,
              Synthetic: 0
          }, {
              Name: "AdobeInvisFont",
              Script: 0,
              FontType: 0,
              Synthetic: 0
          }, {
              Name: "MyriadHebrew-Regular",
              Script: 6,
              FontType: 0,
              Synthetic: 0
          }],
          SuperscriptSize: .583,
          SuperscriptPosition: .333,
          SubscriptSize: .583,
          SubscriptPosition: .333,
          SmallCapSize: .7
      }
  };
  var cH = {};
  cH.a0N = function(n) {
      var z = cH.agl(n._0, n._1);
      cH.ano(z, n._0);
      return z
  }
  ;
  cH.aaB = function(n, z, C) {
      var D = {};
      D._98 = {
          _0: "i7"
      };
      D._0 = cH.aoC(n, z, C ? C._0 : null);
      D._1 = cH.ad9(n, z, D._0, C ? C._1 : null);
      return D
  }
  ;
  cH.aoC = function(n, z, C) {
      var D = {};
      D._1 = cH.ap$(n, C ? C._1 : null);
      D._2 = {
          _0: [{
              _0: {
                  _0: "s"
              }
          }],
          _1: [{
              _0: "i0"
          }]
      };
      D._3 = JSON.parse(JSON.stringify(cH.acx));
      D._4 = JSON.parse(JSON.stringify(cH.aq1));
      D._5 = cH.ajz(n, D._1._0, C ? C._5 : null);
      D._6 = cH.a7X(n, C ? C._6 : null);
      D._8 = cH.adR(n, z, C ? C._8 : null);
      D._9 = cH.ao6;
      return D
  }
  ;
  cH.ano = function(n, z) {
      cH.a80(n, z._5, z._1._0)
  }
  ;
  cH.ap$ = function(n, z) {
      var C = []
        , D = [];
      for (var M = 0; M < n.length; M++) {
          var F = n[M].ResourceDict.FontSet;
          for (var X = 0; X < F.length; X++) {
              var E = F[X];
              if (D.indexOf(E.Name) != -1)
                  continue;
              C.push(E);
              D.push(E.Name)
          }
      }
      var f = {
          _0: []
      };
      for (var M = 0; M < C.length; M++) {
          var a = C[M]
            , q = {
              _0: {
                  _99: "/CoolTypeFont",
                  _0: {
                      _0: "s" + a.Name,
                      _1: "i" + a.Script,
                      _2: "i" + a.FontType
                  }
              }
          };
          if (a.Script == 0)
              delete q._0._0._1;
          f._0.push(q)
      }
      return f
  }
  ;
  cH.ajz = function(n, z, C) {
      var D = {
          _0: [],
          _1: []
      }
        , F = {
          _0: JSON.parse(JSON.stringify(cH.aB))
      };
      cH.rd(F._0, n[0].ResourceDict.StyleSheetSet[0], z, n[0].ResourceDict.FontSet);
      D._0.push(F);
      D._1.push({
          _0: "i0"
      });
      D._0.push({
          _0: {
              _0: "sNone",
              _5: "i0",
              _6: {}
          }
      });
      D._1.push({
          _0: "i1"
      });
      return D
  }
  ;
  cH.a80 = function(n, z, C) {
      var D = z._0[0];
      for (var M = 0; M < n.length; M++)
          cH.Hk(D._0, n[M].ResourceDict.StyleSheetSet[0], C, n[M].ResourceDict.FontSet)
  }
  ;
  cH.a7X = function(n, z) {
      var C = {
          _0: [],
          _1: []
      }
        , D = {
          _0: JSON.parse(JSON.stringify(cH.$b))
      };
      cH.nP(D._0, n[0].ResourceDict.ParagraphSheetSet[0]);
      C._0.push(D);
      C._1.push({
          _0: "i0"
      });
      D = {
          _0: JSON.parse(JSON.stringify(cH.$b))
      };
      cH.nP(D._0, n[0].ResourceDict.ParagraphSheetSet[0]);
      D._0._0 = "sBasic Paragraph";
      D._0._6 = "i0";
      C._0.push(D);
      C._1.push({
          _0: "i1"
      });
      return C
  }
  ;
  cH.adR = function(n, z, C) {
      var D = {
          _0: []
      };
      for (var M = 0; M < n.length; M++) {
          var F = n[M].Curve
            , X = {};
          D._0.push({
              _0: X
          });
          var E = bZ.wT(n[M]);
          X._2 = {};
          X._2._0 = "i" + E;
          if (n[M]._LineOrientation == 2)
              X._2._1 = "i2";
          if (E == 0) {
              X._2._6 = ["f-1", "f-1"];
              X._2._11 = {
                  _4: "i-1",
                  _7: !1
              }
          } else if (E == 1 && F == null) {
              var f = bZ.w$(n[M])
                , a = f[2]
                , q = f[3];
              X._1 = {
                  _0: cH.ul("f", [0, 0, 0, 0, a, 0, a, 0, a, 0, a, 0, a, q, a, q, a, q, a, q, 0, q, 0, q, 0, q, 0, q, 0, 0, 0, 0])
              };
              X._2._6 = ["f-2", "f-2"];
              X._2._11 = {
                  _4: "i-2",
                  _7: !1
              }
          } else if (E == 1) {
              var f = bZ.w$(n[M])
                , a = f[2]
                , q = f[3];
              X._1 = {
                  _0: cH.ul("f", F.Points)
              };
              X._2._6 = ["f-3", "f-3"];
              X._2._11 = {
                  _4: "i-3",
                  _7: !1
              }
          } else if (E == 2) {
              X._1 = {
                  _0: cH.ul("f", F.Points)
              };
              X._2._6 = cH.ul("f", F.TextOnPathTRange);
              X._2._11 = {
                  _0: F.Reversed,
                  _3: "i0",
                  _5: "f0",
                  _7: !1
              }
          }
      }
      return D
  }
  ;
  cH.ad9 = function(n, z, C, D) {
      var F = {};
      F._0 = JSON.parse(JSON.stringify(cH.a17));
      F._1 = cH.aoT(n, z, C, D ? D._1 : null);
      F._2 = JSON.parse(JSON.stringify(cH.aB._6));
      F._3 = JSON.parse(JSON.stringify(cH.$b._5));
      return F
  }
  ;
  cH.agl = function(n, z) {
      return cH.a0P(n, z._1)
  }
  ;
  cH.aoT = function(n, z, C, D) {
      var F = []
        , X = C._1._0;
      for (var M = 0; M < n.length; M++) {
          var E = n[M]
            , f = {
              _0: {}
          };
          F.push(f);
          var a = D ? D[M] : null;
          f._0._0 = "s" + E.EngineDict.Editor.Text;
          f._0._0 = f._0._0;
          var q = {
              _0: []
          };
          f._0._5 = q;
          var c = E.EngineDict.ParagraphRun;
          for (var K = 0; K < c.RunArray.length; K++) {
              var R = {
                  _0: {}
              };
              q._0.push(R);
              R._0._0 = {
                  _0: "s",
                  _5: {},
                  _6: "i1"
              };
              cH.nP(R._0._0, c.RunArray[K].ParagraphSheet);
              R._1 = "i" + c.RunLengthArray[K]
          }
          var J = {
              _0: []
          };
          f._0._6 = J;
          var w = a ? a._0._6 : null;
          c = E.EngineDict.StyleRun;
          for (var K = 0; K < c.RunArray.length; K++) {
              var p = {
                  _0: {}
              };
              J._0.push(p);
              var I = w ? w._0 : null;
              p._0._0 = {
                  _0: "s",
                  _5: "i1",
                  _6: {}
              };
              cH.rd(p._0._0, c.RunArray[K].StyleSheet, X, E.ResourceDict.FontSet, I ? p._0._0 : null);
              p._1 = "i" + c.RunLengthArray[K]
          }
          f._0._10 = {
              _0: "i4",
              _2: !0
          };
          f._1 = cH.view.aeO(E, null, M, null)
      }
      return F
  }
  ;
  cH.a0P = function(n, z) {
      var C = []
        , D = n._1._0;
      for (var M = 0; M < z.length; M++) {
          var F = bZ.H7();
          C.push(F);
          var X = z[M];
          F.EngineDict.Editor.Text = X._0._0.slice(1);
          var E = F.EngineDict.ParagraphRun.RunArray[0]
            , f = F.EngineDict.ParagraphRun
            , a = X._0._5;
          if (a)
              for (var q = 0; q < a._0.length; q++) {
                  var c = a._0[q];
                  f.RunLengthArray[q] = parseInt(c._1.slice(1));
                  f.RunArray[q] = JSON.parse(JSON.stringify(E));
                  cH.a2h(c._0._0, f.RunArray[q].ParagraphSheet)
              }
          else {
              f.RunLengthArray[0] = bZ.T5(F).length
          }
          var K = X._0._6;
          f = F.EngineDict.StyleRun;
          if (K)
              for (var q = 0; q < K._0.length; q++) {
                  var R = K._0[q];
                  f.RunLengthArray[q] = parseInt(R._1.slice(1));
                  f.RunArray[q] = {
                      StyleSheet: {
                          StyleSheetData: {}
                      }
                  };
                  cH.Hk(R._0._0, f.RunArray[q].StyleSheet, D, F.ResourceDict.FontSet)
              }
          else {
              f.RunLengthArray[0] = bZ.T5(F).length;
              f.RunArray[0] = {
                  StyleSheet: {
                      StyleSheetData: {}
                  }
              }
          }
      }
      return C
  }
  ;
  cH.rd = function(n, z, C, D, F) {
      n._0 = "s" + (z.Name ? z.Name : "");
      var X = n._6
        , E = F ? F._6 : null
        , f = z.StyleSheetData;
      if (f.Font == null)
          return;
      var a = D[f.Font].Name
        , q = -1;
      for (var M = 0; M < C.length; M++)
          if ("s" + a == C[M]._0._0._0) {
              q = M;
              break
          }
      X._0 = "i" + q;
      if (f.FontSize != null)
          X._1 = "f" + f.FontSize;
      if (f.FauxBold != null)
          X._2 = f.FauxBold;
      if (f.FauxItalic != null)
          X._3 = f.FauxItalic;
      if (f.AutoLeading != null)
          X._4 = f.AutoLeading;
      if (f.Leading != null)
          X._5 = "f" + f.Leading;
      if (f.HorizontalScale != null)
          X._6 = "f" + f.HorizontalScale;
      if (f.VerticalScale != null)
          X._7 = "f" + f.VerticalScale;
      if (f.Tracking != null)
          X._8 = "i" + f.Tracking;
      if (f.BaselineShift != null)
          X._9 = "f" + f.BaselineShift;
      if (f.AutoKerning != null)
          X._11 = "i" + (f.AutoKerning ? 1 : 0);
      if (f.FontCaps != null)
          X._12 = "i" + f.FontCaps;
      if (f.FontBaseline != null)
          X._13 = "i" + f.FontBaseline;
      if (f.Strikethrough != null)
          X._15 = "i" + (f.Strikethrough ? 1 : 0);
      if (f.Underline != null)
          X._16 = "i" + (f.Underline ? 2 : 0);
      if (f.Ligatures != null)
          X._18 = f.Ligatures;
      if (f.DLigatures != null)
          X._19 = f.DLigatures;
      if (f.BaselineDirection != null)
          X._35 = "i" + f.BaselineDirection;
      if (f.Language != null)
          X._38 = "i" + f.Language;
      if (f.FillColor != null)
          X._53 = {
              _99: "/SimplePaint",
              _0: {
                  _0: "i1",
                  _1: cH.ul("f", f.FillColor.Values)
              }
          }
  }
  ;
  cH.Hk = function(n, z, C, D) {
      var F = n._6;
      if (F == null)
          return;
      var X = z.StyleSheetData;
      if (F._0) {
          var E = parseInt(F._0.slice(1))
            , f = C[E]._0._0._0.slice(1);
          bZ.I9({
              I$: X,
              qR: D
          }, f)
      }
      if (F._1 != null)
          X.FontSize = parseFloat(F._1.slice(1));
      if (F._2 != null)
          X.FauxBold = F._2;
      if (F._3 != null)
          X.FauxItalic = F._3;
      if (F._4 != null)
          X.AutoLeading = F._4;
      if (F._5 != null)
          X.Leading = parseFloat(F._5.slice(1));
      if (F._6 != null)
          X.HorizontalScale = parseFloat(F._6.slice(1));
      if (F._7 != null)
          X.VerticalScale = parseFloat(F._7.slice(1));
      if (F._8 != null)
          X.Tracking = parseFloat(F._8.slice(1));
      if (F._9 != null)
          X.BaselineShift = parseFloat(F._9.slice(1));
      if (F._11 != null)
          X.AutoKerning = parseFloat(F._11.slice(1)) == 1;
      if (F._12 != null)
          X.FontCaps = parseFloat(F._12.slice(1));
      if (F._13 != null)
          X.FontBaseline = parseFloat(F._13.slice(1));
      if (F._15 != null)
          X.Strikethrough = parseFloat(F._15.slice(1)) == 1;
      if (F._16 != null)
          X.Underline = parseFloat(F._16.slice(1)) == 1;
      if (F._18 != null)
          X.Ligatures = F._18;
      if (F._19 != null)
          X.DLigatures = F._19;
      if (F._35 != null)
          X.BaselineDirection = parseFloat(F._35.slice(1));
      if (F._38 != null)
          X.Language = parseFloat(F._38.slice(1));
      var a = F._53;
      if (a) {
          var q = a._0._0
            , c = a._0._1
            , K = [1, 0, 0, 0]
            , R = [];
          for (var M = 0; M < c.length; M++)
              R[M] = parseFloat(c[M].slice(1));
          if (q == "i0")
              K[1] = K[2] = K[3] = R[1];
          else if (q == "i1")
              K = R;
          else if (q == "i2")
              K = [1].concat(UDOC.C.cmykToRgb(R.slice(1)));
          else
              console.log("unknown color type", q, R);
          X.FillColor = {
              Type: 1,
              Values: K
          }
      }
  }
  ;
  cH.nP = function(n, z) {
      n._0 = "s" + (z.Name ? z.Name : "");
      var C = n._5
        , D = z.Properties;
      if (D.Justification != null)
          C._0 = "i" + D.Justification;
      if (D.FirstLineIndent != null)
          C._1 = "f" + D.FirstLineIndent;
      if (D.StartIndent != null)
          C._2 = "f" + D.StartIndent;
      if (D.EndtIndent != null)
          C._3 = "f" + D.EndtIndent;
      if (D.SpaceBefore != null)
          C._4 = "f" + D.SpaceBefore;
      if (D.SpaceAfter != null)
          C._5 = "f" + D.SpaceAfter;
      if (D.AutoHyphenate != null)
          C._9 = D.AutoHyphenate;
      if (D._Direction != null)
          C._33 = "i" + D._Direction;
      if (D._ComposerEngine != null)
          C._35 = "i" + D._ComposerEngine
  }
  ;
  cH.a2h = function(n, z) {
      var C = n._5;
      if (C == null)
          return;
      var D = z.Properties;
      if (C._0)
          D.Justification = parseInt(C._0.slice(1))
  }
  ;
  cH.ul = function(n, z) {
      var C = [];
      for (var M = 0; M < z.length; M++)
          C.push(n + z[M]);
      return C
  }
  ;
  cH.acx = {
      _0: [{
          _0: {
              _0: "sPhotoshop6MojiKumiSet4",
              _5: {
                  _0: "i0",
                  _3: "i2"
              }
          }
      }, {
          _0: {
              _0: "sPhotoshop6MojiKumiSet3",
              _5: {
                  _0: "i0",
                  _3: "i4"
              }
          }
      }, {
          _0: {
              _0: "sPhotoshop6MojiKumiSet2",
              _5: {
                  _0: "i0",
                  _3: "i3"
              }
          }
      }, {
          _0: {
              _0: "sPhotoshop6MojiKumiSet1",
              _5: {
                  _0: "i0",
                  _3: "i1"
              }
          }
      }, {
          _0: {
              _0: "sYakumonoHankaku",
              _5: {
                  _0: "i0",
                  _3: "i1"
              }
          }
      }, {
          _0: {
              _0: "sGyomatsuYakumonoHankaku",
              _5: {
                  _0: "i0",
                  _3: "i3"
              }
          }
      }, {
          _0: {
              _0: "sGyomatsuYakumonoZenkaku",
              _5: {
                  _0: "i0",
                  _3: "i4"
              }
          }
      }, {
          _0: {
              _0: "sYakumonoZenkaku",
              _5: {
                  _0: "i0",
                  _3: "i2"
              }
          }
      }],
      _1: [{
          _0: "i0"
      }, {
          _0: "i1"
      }, {
          _0: "i2"
      }, {
          _0: "i3"
      }, {
          _0: "i4"
      }, {
          _0: "i5"
      }, {
          _0: "i6"
      }, {
          _0: "i7"
      }]
  };
  cH.aq1 = {
      _0: [{
          _0: {
              _0: "sNone",
              _5: {
                  _0: "s",
                  _1: "s",
                  _2: "s",
                  _3: "s",
                  _4: "i0"
              }
          }
      }, {
          _0: {
              _0: "sPhotoshopKinsokuHard",
              _5: {
                  _0: "s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                  _1: "s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",
                  _2: "s\u2014\u2025\u2026",
                  _3: "s\u3001\u3002\uFF0C\uFF0E",
                  _4: "i1"
              }
          }
      }, {
          _0: {
              _0: "sPhotoshopKinsokuSoft",
              _5: {
                  _0: "s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                  _1: "s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",
                  _2: "s\u2014\u2025\u2026",
                  _3: "s\u3001\u3002\uFF0C\uFF0E",
                  _4: "i2"
              }
          }
      }, {
          _0: {
              _0: "sHard",
              _5: {
                  _0: "s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                  _1: "s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",
                  _2: "s\u2014\u2025\u2026",
                  _3: "s\u3001\u3002\uFF0C\uFF0E",
                  _4: "i1"
              }
          }
      }, {
          _0: {
              _0: "sSoft",
              _5: {
                  _0: "s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                  _1: "s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",
                  _2: "s\u2014\u2025\u2026",
                  _3: "s\u3001\u3002\uFF0C\uFF0E",
                  _4: "i2"
              }
          }
      }],
      _1: [{
          _0: "i0"
      }, {
          _0: "i1"
      }, {
          _0: "i2"
      }, {
          _0: "i3"
      }, {
          _0: "i4"
      }]
  };
  cH.aB = {
      _0: "sNormal RGB",
      _6: {
          _0: "i0",
          _1: "f12",
          _2: !1,
          _3: !1,
          _4: !0,
          _5: "f0",
          _6: "f1",
          _7: "f1",
          _8: "i0",
          _9: "f0",
          _10: "f0",
          _11: "i1",
          _12: "i0",
          _13: "i0",
          _14: "i0",
          _15: "i0",
          _16: "i0",
          _17: "f0",
          _18: !0,
          _19: !1,
          _20: !1,
          _21: !1,
          _22: !1,
          _23: !1,
          _24: !1,
          _25: !1,
          _26: !1,
          _27: !1,
          _28: !1,
          _29: !1,
          _30: "i0",
          _31: !1,
          _32: !1,
          _33: !1,
          _34: !1,
          _35: "i2",
          _36: "f0",
          _37: "i2",
          _38: "i0",
          _39: "i0",
          _40: !1,
          _41: "i2",
          _42: "i0",
          _43: {
              _0: "f.5"
          },
          _44: "i2",
          _45: "i2",
          _46: "i7",
          _47: "i0",
          _48: "i0",
          _49: "f-1",
          _50: "f-1",
          _51: "i0",
          _52: !1,
          _53: {
              _99: "/SimplePaint",
              _0: {
                  _0: "i1",
                  _1: ["f1", "f0", "f0", "f0"]
              }
          },
          _54: {
              _99: "/SimplePaint",
              _0: {
                  _0: "i1",
                  _1: ["f1", "f0", "f0", "f0"]
              }
          },
          _55: {
              _99: "/SimpleBlender"
          },
          _56: !0,
          _57: !1,
          _58: !0,
          _59: !1,
          _60: !1,
          _61: "i0",
          _62: "i0",
          _63: "f1",
          _64: "f4",
          _65: "f0",
          _66: [],
          _67: [],
          _68: "i0",
          _69: "i0",
          _70: "i0",
          _71: "i4",
          _72: "f0",
          _73: "f0",
          _74: !1,
          _75: !1,
          _76: !1,
          _77: !0,
          _78: !0,
          _79: {
              _99: "/SimplePaint",
              _0: {
                  _0: "i1",
                  _1: ["f1", "f1", "f1", "f0"]
              }
          },
          _80: !1,
          _81: "i0",
          _82: "f3",
          _83: "f3",
          _84: !1,
          _85: "i0",
          _86: {
              _99: "/SimpleCustomFeature"
          },
          _87: "f100",
          _88: !0
      }
  };
  cH.$b = {
      _0: "sNormal RGB",
      _5: {
          _0: "i0",
          _1: "f0",
          _2: "f0",
          _3: "f0",
          _4: "f0",
          _5: "f0",
          _6: "i1",
          _7: "f1.2",
          _8: "i0",
          _9: !0,
          _10: "i6",
          _11: "i2",
          _12: "i2",
          _13: "i0",
          _14: "f36",
          _15: !0,
          _16: "f.5",
          _17: ["f.8", "f1", "f1.33"],
          _18: ["f0", "f0", "f0"],
          _19: ["f1", "f1", "f1"],
          _20: "i6",
          _21: !1,
          _22: "i0",
          _23: !0,
          _24: "i0",
          _25: "i0",
          _27: "/nil",
          _26: !1,
          _28: "/nil",
          _29: !1,
          _30: {},
          _31: "f36",
          _32: {},
          _33: "i0",
          _34: "i7",
          _35: "i1",
          _36: "/nil",
          _37: "i0",
          _38: !1,
          _39: "i0",
          _40: "i2"
      }
  };
  cH.ao6 = {
      _0: [{
          _0: {
              _0: "skPredefinedNumericListStyleTag",
              _6: "i1"
          }
      }, {
          _0: {
              _0: "skPredefinedUppercaseAlphaListStyleTag",
              _6: "i2"
          }
      }, {
          _0: {
              _0: "skPredefinedLowercaseAlphaListStyleTag",
              _6: "i3"
          }
      }, {
          _0: {
              _0: "skPredefinedUppercaseRomanNumListStyleTag",
              _6: "i4"
          }
      }, {
          _0: {
              _0: "skPredefinedLowercaseRomanNumListStyleTag",
              _6: "i5"
          }
      }, {
          _0: {
              _0: "skPredefinedBulletListStyleTag",
              _6: "i6"
          }
      }],
      _1: [{
          _0: "i0"
      }, {
          _0: "i1"
      }, {
          _0: "i2"
      }, {
          _0: "i3"
      }, {
          _0: "i4"
      }, {
          _0: "i5"
      }]
  };
  cH.a17 = {
      _0: {
          _0: "i1",
          _1: [{
              _0: "s ",
              _1: "s1"
          }, {
              _0: "s\r",
              _1: "s6"
          }, {
              _0: "s\t",
              _1: "s0"
          }, {
              _0: "s\u2029",
              _1: "s5"
          }, {
              _0: "s\x03",
              _1: "s5"
          }, {
              _0: "s\u3000",
              _1: "s1"
          }, {
              _0: "s\xAD",
              _1: "s3"
          }]
      },
      _1: "i0",
      _2: "i0",
      _3: "f.583",
      _4: "f.333",
      _5: "f.583",
      _6: "f.333",
      _7: "f.7",
      _8: !0,
      _9: [{
          _0: "i0",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i1",
          _1: "s\u201D",
          _2: "s\u201D",
          _3: "s\u2019",
          _4: "s\u2019"
      }, {
          _0: "i2",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i3",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i4",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i5",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i6",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2039",
          _4: "s\u203A"
      }, {
          _0: "i7",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i8",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i9",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i10",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i11",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i12",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i13",
          _1: "s\u201D",
          _2: "s\u201D",
          _3: "s\u2019",
          _4: "s\u2019"
      }, {
          _0: "i14",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i15",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i16",
          _1: "s\u201D",
          _2: "s\u201D",
          _3: "s\u2019",
          _4: "s\u2019"
      }, {
          _0: "i17",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i18",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i19",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i20",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i21",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i22",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i23",
          _1: "s\u201E",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i24",
          _1: "s\u201E",
          _2: "s\u201D",
          _3: "s\u201A",
          _4: "s\u2019"
      }, {
          _0: "i25",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2039",
          _4: "s\u203A"
      }, {
          _0: "i26",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i27",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i28",
          _1: "s\u201E",
          _2: "s\u201D",
          _3: "s\u2019",
          _4: "s\u2019"
      }, {
          _0: "i29",
          _1: "s\u301D",
          _2: "s\u301E"
      }, {
          _0: "i30",
          _1: "s\u300C",
          _2: "s\u300D"
      }, {
          _0: "i31",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i32",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i33",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i34",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i35",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i36",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i37",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i38",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i39",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s<",
          _4: "s>"
      }, {
          _0: "i40",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i41",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s<",
          _4: "s>"
      }, {
          _0: "i42",
          _1: "s\u201E",
          _2: "s\u201C",
          _3: "s\u201A",
          _4: "s\u2018"
      }, {
          _0: "i43",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }, {
          _0: "i44",
          _1: "s\xAB",
          _2: "s\xBB",
          _3: "s\u2039",
          _4: "s\u203A"
      }, {
          _0: "i45",
          _1: "s\u201C",
          _2: "s\u201D",
          _3: "s\u2018",
          _4: "s\u2019"
      }],
      _15: {
          _0: "sWinSoft"
      },
      _16: !1
  };
  var a3 = {};
  a3.Dg = function(n) {
      return a3.y6(n, a3.ue, 0)
  }
  ;
  a3.a38 = function(n) {
      return a3.dE(n, a3.ue)
  }
  ;
  a3.y6 = function(n, z, C) {
      var D;
      if (typeof n == "string")
          return n;
      if (n instanceof Array) {
          D = [];
          for (var M = 0; M < n.length; M++)
              D[M] = a3.y6(n[M], z, C + 1)
      } else {
          D = {};
          var F = {};
          for (var X in z) {
              var E = z[X]
                , f = "_" + E[0];
              if (n[f] != null) {
                  D[X] = E[1] ? a3.y6(n[f], E[1], C + 1) : n[f];
                  F[f] = !0
              }
          }
          for (var X in n) {
              if (F[X] == null) {
                  console.log(z, F);
                  console.log(X, n);
                  throw "e"
              }
          }
      }
      return D
  }
  ;
  a3.dE = function(n, z) {
      var C;
      if (typeof n == "string")
          return n;
      else if (n instanceof Array) {
          C = [];
          for (var M = 0; M < n.length; M++)
              C[M] = a3.dE(n[M], z)
      } else {
          C = {};
          var D = {};
          for (var F in z) {
              var X = z[F]
                , E = "_" + X[0];
              if (n[F] != null) {
                  C[E] = X[1] ? a3.dE(n[F], X[1]) : n[F];
                  D[F] = !0
              }
          }
          for (var F in n) {
              if (D[F] == null) {
                  console.log(z, D);
                  console.log(F, n);
                  throw "e"
              }
          }
      }
      return C
  }
  ;
  a3.cy = {
      _Color: [0, {
          _Type: [0],
          _Values: [1]
      }],
      _CAIKnownStyleID: [5],
      _StreamTag: [99]
  };
  a3.SV = {
      _Font: [0],
      _FontSize: [1],
      _FauxBold: [2],
      _FauxItalic: [3],
      _AutoLeading: [4],
      _Leading: [5],
      _HorizontalScale: [6],
      _VerticalScale: [7],
      _Tracking: [8],
      _BaselineShift: [9],
      _CharacterRotation: [10],
      _AutoKern: [11],
      _FontCaps: [12],
      _FontBaseline: [13],
      _FontOTPosition: [14],
      _StrikethroughPosition: [15],
      _UnderlinePosition: [16],
      _UnderlineOffset: [17],
      _Ligatures: [18],
      _DiscretionaryLigatures: [19],
      _ContextualLigatures: [20],
      _AlternateLigatures: [21],
      _OldStyle: [22],
      _Fractions: [23],
      _Ordinals: [24],
      _Swash: [25],
      _Titling: [26],
      _ConnectionForms: [27],
      _StylisticAlternates: [28],
      _Ornaments: [29],
      _FigureStyle: [30],
      _ProportionalMetrics: [31],
      _Kana: [32],
      _Italics: [33],
      _Ruby: [34],
      _BaselineDirection: [35],
      _Tsume: [36],
      _StyleRunAlignment: [37],
      _Language: [38],
      _JapaneseAlternateFeature: [39],
      _EnableWariChu: [40],
      _WariChuLineCount: [41],
      _WariChuLineGap: [42],
      _WariChuSubLineAmount: [43, {
          _WariChuSubLineScale: [0]
      }],
      _WariChuWidowAmount: [44],
      _WariChuOrphanAmount: [45],
      _WariChuJustification: [46],
      _TCYUpDownAdjustment: [47],
      _TCYLeftRightAdjustment: [48],
      _LeftAki: [49],
      _RightAki: [50],
      _JiDori: [51],
      _NoBreak: [52],
      _FillColor: [53, a3.cy],
      _StrokeColor: [54, a3.cy],
      _Blend: [55, {
          _3: [3],
          _StreamTag: [99]
      }],
      _FillFlag: [56],
      _StrokeFlag: [57],
      _FillFirst: [58],
      _FillOverPrint: [59],
      _StrokeOverPrint: [60],
      _LineCap: [61],
      _LineJoin: [62],
      _LineWidth: [63],
      _MiterLimit: [64],
      _LineDashOffset: [65],
      _LineDashArray: [66],
      _Type1EncodingNames: [67],
      _Kashidas: [68],
      _DirOverride: [69],
      _DigitSet: [70],
      _DiacVPos: [71],
      _DiacXOffset: [72],
      _DiacYOffset: [73],
      _OverlapSwash: [74],
      _JustificationAlternates: [75],
      _StretchedAlternates: [76],
      _FillVisibleFlag: [77],
      _StrokeVisibleFlag: [78],
      _FillBackgroundColor: [79, a3.cy],
      _FillBackgroundFlag: [80],
      _UnderlineStyle: [81],
      _DashedUnderlineGapLength: [82],
      _DashedUnderlineDashLength: [83],
      _SlashedZero: [84],
      _StylisticSets: [85],
      _CustomFeature: [86, {
          _StreamTag: [99]
      }],
      _MarkYDistFromBaseline: [87],
      _AutoMydfb: [88]
  };
  a3.rj = {
      _Justification: [0],
      _FirstLineIndent: [1],
      _StartIndent: [2],
      _EndIndent: [3],
      _SpaceBefore: [4],
      _SpaceAfter: [5],
      _DropCaps: [6],
      _AutoLeading: [7],
      _LeadingType: [8],
      _AutoHyphenate: [9],
      _HyphenatedWordSize: [10],
      _PreHyphen: [11],
      _PostHyphen: [12],
      _ConsecutiveHyphens: [13],
      _Zone: [14],
      _HyphenateCapitalized: [15],
      _HyphenationPreference: [16],
      _WordSpacing: [17],
      _LetterSpacing: [18],
      _GlyphSpacing: [19],
      _SingleWordJustification: [20],
      _Hanging: [21],
      _AutoTCY: [22],
      _KeepTogether: [23],
      _BurasagariType: [24],
      _KinsokuOrder: [25],
      _Kinsoku: [27],
      _KurikaeshiMojiShori: [26],
      _MojiKumiTable: [28],
      _EveryLineComposer: [29],
      _TabStops: [30],
      _DefaultTabWidth: [31],
      _DefaultStyle: [32, a3.SV],
      _ParagraphDirection: [33],
      _JustificationMethod: [34],
      _ComposerEngine: [35],
      _ListStyle: [36],
      _ListTier: [37],
      _ListSkip: [38],
      _ListOffset: [39],
      _KashidaWidth: [40]
  };
  a3.HY = {
      _Name: [0],
      _Features: [5, a3.rj],
      _Parent: [6],
      _97: [97]
  };
  a3.xt = {
      _Name: [0],
      _Parent: [5],
      _Features: [6, a3.SV],
      _97: [97]
  };
  a3.ue = {
      _98: [98, {
          _0: [0]
      }],
      _DocumentResources: [0, {
          _0: [0],
          _FontSet: [1, {
              _Resources: [0, {
                  _Resource: [0, {
                      _StreamTag: [99],
                      _Identifier: [0, {
                          _Name: [0],
                          _ScriptType: [1],
                          _Type: [2],
                          _Synthetic: [3],
                          _4: [4],
                          _MMAxis: [5]
                      }],
                      _97: [97]
                  }]
              }],
              _DisplayList: [1, {
                  _Resource: [0]
              }]
          }],
          _MojiKumiCodeToClassSet: [2, {
              _Resources: [0, {
                  _Resource: [0, {
                      _Name: [0],
                      _Members: [5],
                      _97: [97]
                  }]
              }],
              _DisplayList: [1, {
                  _Resource: [0]
              }]
          }],
          _MojiKumiTableSet: [3, {
              _Resources: [0, {
                  _Resource: [0, {
                      _Name: [0],
                      _Members: [5, {
                          _CodeToClass: [0],
                          _AutoTsume: [1, {
                              _TsumeMappings: [0, {
                                  _Before: [0],
                                  _After: [1],
                                  _Code: [2]
                              }]
                          }],
                          _Table: [2, {
                              _DataArray: [0, {
                                  _SparseArray: [0, {
                                      _Index: [0],
                                      _Elements: [1, {
                                          _P: [0],
                                          _Data: [1, {
                                              _A: [0, {
                                                  _R: [0],
                                                  _P: [1]
                                              }],
                                              _B: [1, {
                                                  _R: [0],
                                                  _P: [1]
                                              }]
                                          }]
                                      }]
                                  }]
                              }]
                          }],
                          _PredefinedTag: [3]
                      }],
                      _97: [97]
                  }]
              }],
              _DisplayList: [1, {
                  _Resource: [0]
              }]
          }],
          _KinsokuSet: [4, {
              _Resources: [0, {
                  _Resource: [0, {
                      _Name: [0],
                      _Data: [5, {
                          _NoStart: [0],
                          _NoEnd: [1],
                          _Keep: [2],
                          _Hanging: [3],
                          _PredefinedTag: [4]
                      }],
                      _97: [97]
                  }]
              }],
              _DisplayList: [1, {
                  _Resource: [0]
              }]
          }],
          _StyleSheetSet: [5, {
              _Resources: [0, {
                  _Resource: [0, a3.xt]
              }],
              _DisplayList: [1, {
                  _Resource: [0]
              }]
          }],
          _ParagraphSheetSet: [6, {
              _Resources: [0, {
                  _Resource: [0, a3.HY]
              }],
              _DisplayList: [1, {
                  _Resource: [0]
              }]
          }],
          _TextFrameSet: [8, {
              _Resources: [0, {
                  _Resource: [0, {
                      _0: [0],
                      _Bezier: [1, {
                          _Points: [0]
                      }],
                      _Data: [2, {
                          _Type: [0],
                          _LineOrientation: [1],
                          _FrameMatrix: [2],
                          _TextOnPathTRange: [6],
                          _RowGutter: [7],
                          _ColumnGutter: [8],
                          _FirstBaselineAlignment: [10, {
                              _Flag: [0],
                              _Min: [1]
                          }],
                          _PathData: [11, {
                              _Reversed: [0],
                              _2: [2],
                              _3: [3],
                              _Spacing: [4],
                              _5: [5],
                              _6: [6],
                              _7: [7]
                          }],
                          _12: [12]
                      }],
                      _97: [97]
                  }]
              }]
          }],
          _ListStyleSet: [9, {
              _Resources: [0, {
                  _Resource: [0, {
                      _Name: [0],
                      _5: [5, {
                          _0: [0],
                          _1: [1],
                          _2: [2],
                          _3: [3],
                          _5: [5, {
                              _0: [0],
                              _1: [1],
                              _3: [3],
                              _99: [99]
                          }],
                          _6: [6]
                      }],
                      _PredefinedTag: [6]
                  }]
              }],
              _DisplayList: [1, {
                  _Resource: [0]
              }]
          }]
      }],
      _DocumentObjects: [1, {
          _DocumentSettings: [0, {
              _HiddenGlyphFont: [0, {
                  _AlternateGlyphFont: [0],
                  _WhitespaceCharacterMapping: [1, {
                      _WhitespaceCharacter: [0],
                      _AlternateCharacter: [1]
                  }]
              }],
              _NormalStyleSheet: [1],
              _NormalParagraphSheet: [2],
              _SuperscriptSize: [3],
              _SuperscriptPosition: [4],
              _SubscriptSize: [5],
              _SubscriptPosition: [6],
              _SmallCapSize: [7],
              _UseSmartQuotes: [8],
              _SmartQuoteSets: [9, {
                  _Language: [0],
                  _OpenDoubleQuote: [1],
                  _CloseDoubleQuote: [2],
                  _OpenSingleQuote: [3],
                  _CloseSingleQuote: [4]
              }],
              _11: [11],
              _LinguisticSettings: [15, {
                  _PreferredProvider: [0],
                  _LinguisticProviderInfo: [1]
              }],
              _UseSmartLists: [16],
              _DefaultStoryDir: [17],
              _GreekingSize: [20]
          }],
          _TextObjects: [1, {
              _Model: [0, {
                  _Text: [0],
                  _ParagraphRun: [5, {
                      _RunArray: [0, {
                          _RunData: [0, {
                              _ParagraphSheet: [0, a3.HY]
                          }],
                          _Length: [1]
                      }]
                  }],
                  _StyleRun: [6, {
                      _RunArray: [0, {
                          _RunData: [0, {
                              _StyleSheet: [0, a3.xt]
                          }],
                          _Length: [1]
                      }]
                  }],
                  _FirstKern: [7],
                  _8: [8],
                  _9: [9],
                  _StorySheet: [10, {
                      _AntiAlias: [0],
                      _UseFractionalGlyphWidths: [2],
                      _3: [3],
                      _4: [4]
                  }],
                  _KernRun: [15],
                  _AlternateGlyphRun: [16],
                  _HyperlinkRun: [17]
              }],
              _View: [1, {
                  _Frames: [0, {
                      _Resource: [0]
                  }],
                  _RenderedData: [1, {
                      _RunArray: [0, {
                          _RunData: [0, {
                              _0: [0],
                              _LineCount: [1]
                          }],
                          _Length: [1]
                      }]
                  }],
                  _Strikes: [2]
              }],
              _OpticalAlignment: [2]
          }],
          _OriginalNormalStyleFeatures: [2, a3.SV],
          _OriginalNormalParagraphFeatures: [3, a3.rj]
      }]
  };
  cH.view = {};
  cH.view.aeO = function(n, z, C, D) {
      var F = {}
        , X = bZ.wT(n);
      F._0 = [{
          _0: "i" + C
      }];
      return F
  }
  ;
  function CSS() {}
  CSS.a2U = function(n, z) {
      var C = n.add
        , D = C.vmsk
        , F = C.vstk
        , X = C.lmfx
        , E = C.TySh
        , f = []
        , a = CSS.adW(X, C);
      if (n.Ct() && D) {
          var q = j.i.Rb(D.g);
          if (!q.kX()) {
              f.push("width: " + Math.round(q.d) + "px");
              f.push("height: " + Math.round(q.v) + "px")
          }
          var c = j.i.abS(D.g);
          if (c > 0)
              f.push("border-radius: " + Math.round(c) + "px")
      } else if (E) {
          var K = E.uR;
          if (bZ.wT(K) == 1) {
              var q = bZ.w$(K);
              f.push("width: " + Math.round(q[2]) + "px");
              f.push("height: " + Math.round(q[3]) + "px")
          }
          CSS.$J(f, bZ.jj(K, 0, 0), E.Z, !1, !1, a[0])
      }
      var R = []
        , J = X ? X.dropShadowMulti.v : 0;
      for (var M = 0; M < J.length; M++) {
          var w = J[M].v;
          if (w.enab.v) {
              var p = w.Dstn.v.val
                , I = w.lagl.v.val * Math.PI / 180;
              if (w.uglg && w.uglg.v)
                  I = z.eY() * Math.PI / 180;
              var m = p * Math.cos(I)
                , A = p * Math.sin(I);
              R.push("drop-shadow(" + (m == 0 ? "0 " : CSS.Ki(-m) + "px ") + (A == 0 ? "0 " : CSS.Ki(A) + "px ") + w.blur.v.val / 2 + "px " + CSS.$e(w.Clr.v, w.Opct.v.val / 100) + ")")
          }
      }
      if (R.length != 0)
          f.push("filter: " + R.join(" "));
      if (E == null)
          CSS.aqw(a, f);
      if (F == null || !F.strokeEnabled.v)
          F = fg.Bc(X);
      if (F && F.strokeEnabled.v) {
          var U = F.strokeStyleContent.v
            , r = U.classID
            , $ = g$.Bt.BB.indexOf(F.strokeStyleLineCapType.v.strokeStyleLineCapType)
            , k = g$.Bt.join.indexOf(F.strokeStyleLineJoinType.v.strokeStyleLineJoinType)
            , G = F.strokeStyleOpacity.v.val / 100
            , i = F.strokeStyleLineWidth.v.val
            , o = "";
          if (r == "solidColorLayer")
              o = CSS.$e(U.Clr.v, G);
          f.push("border: " + i + "px solid " + o)
      }
      return f
  }
  ;
  CSS.adW = function(n, z) {
      var C = fg.ds(n, z), D = C[0], F = C[1], X, E;
      if (D) {
          X = CSS.$e(D.Clr.v, z.iOpa != null ? z.iOpa / 255 : 1)
      } else if (F) {
          E = CSS.l2(F)
      }
      return [X, E]
  }
  ;
  CSS.aqw = function(n, z) {
      if (n[0])
          z.push("background-color: " + n[0]);
      if (n[1])
          z.push("background-image: " + n[1])
  }
  ;
  CSS.WD = {
      aliceblue: "#f0f8ff",
      antiquewhite: "#faebd7",
      aqua: "#00ffff",
      aquamarine: "#7fffd4",
      azure: "#f0ffff",
      beige: "#f5f5dc",
      bisque: "#ffe4c4",
      black: "#000000",
      blanchedalmond: "#ffebcd",
      blue: "#0000ff",
      blueviolet: "#8a2be2",
      brown: "#a52a2a",
      burlywood: "#deb887",
      cadetblue: "#5f9ea0",
      chartreuse: "#7fff00",
      chocolate: "#d2691e",
      coral: "#ff7f50",
      cornflowerblue: "#6495ed",
      cornsilk: "#fff8dc",
      crimson: "#dc143c",
      cyan: "#00ffff",
      darkblue: "#00008b",
      darkcyan: "#008b8b",
      darkgoldenrod: "#b8860b",
      darkgray: "#a9a9a9",
      darkgreen: "#006400",
      darkgrey: "#a9a9a9",
      darkkhaki: "#bdb76b",
      darkmagenta: "#8b008b",
      darkolivegreen: "#556b2f",
      darkorange: "#ff8c00",
      darkorchid: "#9932cc",
      darkred: "#8b0000",
      darksalmon: "#e9967a",
      darkseagreen: "#8fbc8f",
      darkslateblue: "#483d8b",
      darkslategray: "#2f4f4f",
      darkslategrey: "#2f4f4f",
      darkturquoise: "#00ced1",
      darkviolet: "#9400d3",
      deeppink: "#ff1493",
      deepskyblue: "#00bfff",
      dimgray: "#696969",
      dimgrey: "#696969",
      dodgerblue: "#1e90ff",
      firebrick: "#b22222",
      floralwhite: "#fffaf0",
      forestgreen: "#228b22",
      fuchsia: "#ff00ff",
      gainsboro: "#dcdcdc",
      ghostwhite: "#f8f8ff",
      gold: "#ffd700",
      goldenrod: "#daa520",
      gray: "#808080",
      green: "#008000",
      greenyellow: "#adff2f",
      grey: "#808080",
      honeydew: "#f0fff0",
      hotpink: "#ff69b4",
      indianred: "#cd5c5c",
      indigo: "#4b0082",
      ivory: "#fffff0",
      khaki: "#f0e68c",
      lavender: "#e6e6fa",
      lavenderblush: "#fff0f5",
      lawngreen: "#7cfc00",
      lemonchiffon: "#fffacd",
      lightblue: "#add8e6",
      lightcoral: "#f08080",
      lightcyan: "#e0ffff",
      lightgoldenrodyellow: "#fafad2",
      lightgray: "#d3d3d3",
      lightgreen: "#90ee90",
      lightgrey: "#d3d3d3",
      lightpink: "#ffb6c1",
      lightsalmon: "#ffa07a",
      lightseagreen: "#20b2aa",
      lightskyblue: "#87cefa",
      lightslategray: "#778899",
      lightslategrey: "#778899",
      lightsteelblue: "#b0c4de",
      lightyellow: "#ffffe0",
      lime: "#00ff00",
      limegreen: "#32cd32",
      linen: "#faf0e6",
      magenta: "#ff00ff",
      maroon: "#800000",
      mediumaquamarine: "#66cdaa",
      mediumblue: "#0000cd",
      mediumorchid: "#ba55d3",
      mediumpurple: "#9370db",
      mediumseagreen: "#3cb371",
      mediumslateblue: "#7b68ee",
      mediumspringgreen: "#00fa9a",
      mediumturquoise: "#48d1cc",
      mediumvioletred: "#c71585",
      midnightblue: "#191970",
      mintcream: "#f5fffa",
      mistyrose: "#ffe4e1",
      moccasin: "#ffe4b5",
      navajowhite: "#ffdead",
      navy: "#000080",
      oldlace: "#fdf5e6",
      olive: "#808000",
      olivedrab: "#6b8e23",
      orange: "#ffa500",
      orangered: "#ff4500",
      orchid: "#da70d6",
      palegoldenrod: "#eee8aa",
      palegreen: "#98fb98",
      paleturquoise: "#afeeee",
      palevioletred: "#db7093",
      papayawhip: "#ffefd5",
      peachpuff: "#ffdab9",
      peru: "#cd853f",
      pink: "#ffc0cb",
      plum: "#dda0dd",
      powderblue: "#b0e0e6",
      purple: "#800080",
      rebeccapurple: "#663399",
      red: "#ff0000",
      rosybrown: "#bc8f8f",
      royalblue: "#4169e1",
      saddlebrown: "#8b4513",
      salmon: "#fa8072",
      sandybrown: "#f4a460",
      seagreen: "#2e8b57",
      seashell: "#fff5ee",
      sienna: "#a0522d",
      silver: "#c0c0c0",
      skyblue: "#87ceeb",
      slateblue: "#6a5acd",
      slategray: "#708090",
      slategrey: "#708090",
      snow: "#fffafa",
      springgreen: "#00ff7f",
      steelblue: "#4682b4",
      tan: "#d2b48c",
      teal: "#008080",
      thistle: "#d8bfd8",
      tomato: "#ff6347",
      turquoise: "#40e0d0",
      violet: "#ee82ee",
      wheat: "#f5deb3",
      white: "#ffffff",
      whitesmoke: "#f5f5f5",
      yellow: "#ffff00",
      yellowgreen: "#9acd32"
  };
  CSS.Ki = function(h) {
      return "" + parseFloat(h.toFixed(3))
  }
  ;
  CSS.yP = function(n) {
      if (n == null)
          return {
              h: 0,
              Q: 0,
              O: 0
          };
      var z = n.indexOf("(");
      if (z != -1) {
          var C = n.slice(z + 1, n.length - 1).split(",");
          for (var M = 0; M < C.length; M++) {
              var D = C[M].trim();
              C[M] = parseFloat(D) * (D.endsWith("%") ? 255 / 100 : 1)
          }
          return {
              h: C[0],
              Q: C[1],
              O: C[2]
          }
      }
      if (n.charAt(0) != "#") {
          var F = CSS.WD;
          if (F[n])
              n = F[n];
          else
              console.log("unknown color " + n)
      }
      n = n.slice(1);
      if (n.length == 3)
          n = n[0] + n[0] + n[1] + n[1] + n[2] + n[2];
      n = parseInt(n, 16);
      return {
          h: n >> 16 & 255,
          Q: n >> 8 & 255,
          O: n & 255
      }
  }
  ;
  CSS.$e = function(n, z) {
      return CSS.mk(j._.Jo(n), z)
  }
  ;
  CSS.mk = function(n, z) {
      if (z == null)
          z = 1;
      var C = Math.round(n.h)
        , D = Math.round(n.Q)
        , F = Math.round(n.O)
        , X = C << 16 | D << 8 | F;
      return z == 1 ? "#" + j.JY(X) : "rgba(" + C + "," + D + "," + F + "," + z + ")"
  }
  ;
  CSS.l2 = function(n) {
    debugger
      var z = n.Grad.v;
      if (z.Clrs == null)
          return "";
      var C = z.Clrs.v.slice(0)
        , D = z.Trns.v.slice(0)
        , F = n.Ofst.v
        , X = n.Type.v.GrdT == "Rdl" ? 1 : 0
        , E = (X == 1 ? "radial" : "linear") + "-gradient"
        , f = X == 0 ? Math.round(-n.Angl.v.val + 90) + "deg" : "circle at center"
        , a = n.Rvrs.v;
      if (a) {
          C.reverse();
          D.reverse()
      }
      for (var M = 0; M < C.length; M++) {
          var q = C[M].v
            , c = M < D.length ? D[M].v.Opct.v.val / 100 : 1
            , K = q.Lctn.v / 4096;
          if (a)
              K = 1 - K;
          f += ", " + CSS.$e(q.Clr.v, c) + " " + Math.round(K * 100) + "%"
      }
      return E + "(" + f + ")"
  }
  ;
  CSS.$J = function(n, z, C, D, F, X) {
      var E = z.I$
        , f = D ? 1 : O.o.Jr(C)
        , a = Math.round(E.FontSize * f);
      n.push("font-size: " + a + "px");
      var q = E.Tracking;
      if (!D && q != null && q != 0)
          n.push("letter-spacing: " + Math.round(q * a / 1e3) + "px");
      if (!E.AutoLeading)
          n.push("line-height: " + Math.round(E.Leading * f) + "px");
      if (E.Strikethrough)
          n.push("text-decoration: line-through");
      var c = bZ.Jo(E);
      c = [c.h, c.Q, c.O].map(Math.round);
      n.push((D ? "fill: " : "color: ") + (X ? X : "#" + j.JY(c[0] << 16 | c[1] << 8 | c[2])));
      var K = z.qR[E.Font].Name;
      if (K) {
          var R = ht.sM.V4(K)
            , J = ""
            , w = null
            , p = null;
          if (R != null && K != ht.N9(R))
              R = null;
          if (F && R)
              J += "\"" + K + "\", ";
          var I = K.toLowerCase();
          if (R) {
              w = ht.tC(R)[0];
              if (R["OS/2"])
                  p = R["OS/2"].usWeightClass
          } else {
              w = CSS.a74(K);
              if (I.indexOf("light") != -1)
                  p = 300;
              else if (I.indexOf("medium") != -1)
                  p = 500;
              else if (I.indexOf("black") != -1 || I.indexOf("extrabold") != -1)
                  p = 800;
              else if (I.indexOf("bold") != -1)
                  p = "bold"
          }
          if (w != null)
              J += "\"" + w + "\"";
          if (p != null)
              n.push("font-weight: " + p);
          if (I.indexOf("italic") != -1 || I.indexOf("oblique") != -1)
              n.push("font-style: italic");
          if (J)
              n.push("font-family: " + J)
      }
      var m = z.t_.Justification;
      if (m != null && m != 0)
          if (D)
              n.push("text-anchor: " + ["start", "end", "middle"][m % 3]);
          else
              n.push("text-align: " + ["left", "right", "center"][m % 3])
  }
  ;
  CSS.a74 = function(n) {
      n = n.split("-")[0];
      while (n.endsWith("MT") || n.endsWith("PS"))
          n = n.slice(0, n.length - 2);
      var z = !0;
      for (var M = 0; M < n.length; M++) {
          var C = n.charAt(M);
          if (!z && C.toLowerCase() != C) {
              n = n.slice(0, M) + " " + n.slice(M);
              M++;
              z = !0
          } else
              z = !1
      }
      return n
  }
  ;
  function dZ() {}
  dZ.E8 = {
      document: !0,
      parent: !0,
      top: !0,
      eval: !0,
      postMessage: !0,
      UTIF: !0,
      PIMG: !0,
      LNG: !0,
      FNTS: !0
  };
  dZ.Bo = function(n, z) {
      var C = Date.now(), D;
      try {
          D = acorn.parse(n)
      } catch (aC) {
          console.log(aC);
          return
      }
      var F = JSON.parse(JSON.stringify(dZ.pl.DE));
      F.__return = !1;
      F.__break = !1;
      F.__throw = !1;
      F.__fs = {};
      F.__window = {};
      dZ.eval(D, z, F);
      var X = F.__fs;
      if (Object.keys(X).length != 0) {
          var E = UZIP.encode(X);
          di.save(E, "output.zip")
      }
  }
  ;
  dZ.eval = function(n, z, C) {
      var D = n.type;
      if (!1) {} else if (D == "Program" || D == "BlockStatement") {
          var F = n.body;
          for (var M = 0; M < F.length; M++) {
              var X = F[M].type;
              if (X == "FunctionDeclaration")
                  C[F[M].id.name] = F[M]
          }
          for (var M = 0; M < F.length; M++) {
              var X = F[M].type
                , E = dZ.eval(F[M], z, C);
              if (C.__return || C.__break || C.__throw)
                  return E
          }
      } else if (D == "ReturnStatement") {
          C.__return = !0;
          return n.argument ? dZ.ie(n.argument, z, C) : null
      } else if (D == "BreakStatement") {
          C.__break = !0
      } else if (D == "VariableDeclaration") {
          var f = n.declarations;
          for (var M = 0; M < f.length; M++)
              dZ.eval(f[M], z, C)
      } else if (D == "VariableDeclarator") {
          C[n.id.name] = n.init ? dZ.ie(n.init, z, C) : null
      } else if (D == "FunctionDeclaration") {
          C[n.id.name] = n
      } else if (D == "MemberExpression") {
          var a = dZ.ie(n.object, z, C), q = n.computed ? dZ.ie(n.property, z, C) : dZ.eval(n.property, z, C), E;
          if (a.Hg != null)
              E = dZ.pl.R1(a, q, z, C);
          else if (a == window && dZ.E8[q]) {} else
              E = a[q];
          return E
      } else if (D == "ArrayExpression") {
          var c = []
            , K = n.elements;
          for (var M = 0; M < K.length; M++)
              c.push(dZ.ie(K[M], z, C));
          return c
      } else if (D == "ObjectExpression") {
          var c = {}
            , K = n.properties;
          for (var M = 0; M < K.length; M++) {
              var R = K[M]
                , J = K[M].key.name ? K[M].key.name : K[M].key.value;
              c[J] = dZ.ie(K[M].value, z, C)
          }
          return c
      } else if (D == "ExpressionStatement") {
          return dZ.eval(n.expression, z, C)
      } else if (D == "NewExpression") {
          var w = n.arguments
            , p = n.callee
            , I = p.type
            , m = []
            , c = null;
          for (var M = 0; M < w.length; M++)
              m.push(dZ.ie(w[M], z, C));
          if (I == "Identifier")
              c = dZ.pl.a9r(p.name, m, z, C);
          else
              throw "e";
          if (c == null)
              throw "new " + p.name;
          return c
      } else if (D == "CallExpression") {
          var w = n.arguments
            , p = n.callee
            , I = p.type
            , A = {};
          for (var U in C)
              A[U] = C[U];
          var m = [];
          for (var M = 0; M < w.length; M++)
              m.push(dZ.ie(w[M], z, C));
          if (I == "Identifier") {
              var r = p.name
                , $ = C[r];
              if ($) {
                  if ($.params) {
                      var k = $.params;
                      for (var M = 0; M < k.length; M++)
                          A[k[M].name] = m[M];
                      return dZ.eval($.body, z, A)
                  } else {
                      return $.apply(null, m)
                  }
              } else if (dZ.pl.aqk.indexOf(r) != -1)
                  return dZ.pl.cB({
                      Hg: "Application"
                  }, r, m, z, C);
              else if (window[r] == null)
                  console.log("Unknown function " + r);
              else if (dZ.E8[r])
                  alert(r + "() not available");
              else {
                  var G = window[r].apply(window, m);
                  return G
              }
          } else if (I == "MemberExpression") {
              var a = dZ.ie(p.object, z, C)
                , q = p.computed ? dZ.ie(p.property, z, C) : dZ.eval(p.property, z, C);
              if (a == window && dZ.E8[q])
                  return;
              if (a.Hg != null)
                  return dZ.pl.cB(a, q, m, z, C);
              else
                  return a[q].apply(a, m)
          } else if (I == "FunctionExpression") {
              return dZ.eval(p.body, z, C)
          } else
              console.log(n)
      } else if (D == "AssignmentExpression") {
          var i = n.operator
            , o = n.left
            , S = o.type
            , H = dZ.ie(o, z, C)
            , e = dZ.ie(n.right, z, C)
            , E = null;
          if (!1) {} else if (i == "=")
              E = e;
          else if (i == "+=")
              E = H + e;
          else if (i == "-=")
              E = H - e;
          else if (i == "*=")
              E = H * e;
          else if (i == "/=")
              E = H / e;
          else if (i == "%=")
              E = H % e;
          else if (i == "&=")
              E = H & e;
          else if (i == "|=")
              E = H | e;
          else if (i == "&&=")
              E = H && e;
          else if (i == "||=")
              E = H || e;
          else
              console.log(n);
          if (S == "Identifier") {
              var V = o.name;
              if (C.hasOwnProperty(V))
                  C[V] = E;
              else
                  C.__window[V] = E
          } else if (S == "MemberExpression") {
              var v = dZ.eval(o.property, z, C)
                , B = dZ.ie(o.object, z, C);
              if (B.Hg != null)
                  dZ.pl.a4p(B, v, E, z, C);
              else
                  B[v] = E
          } else
              console.log(n)
      } else if (D == "Identifier")
          return n.name;
      else if (D == "Literal")
          return n.value;
      else if (D == "UpdateExpression") {
          var i = n.operator
            , Z = n.argument.name
            , c = dZ.ie(n.argument, z, C);
          if (!1) {} else if (i == "++") {
              C[Z]++;
              return n.prefix ? C[Z] : C[Z] - 1
          } else if (i == "--") {
              C[Z]--;
              return n.prefix ? C[Z] : C[Z] + 1
          } else
              console.log(n)
      } else if (D == "UnaryExpression") {
          var i = n.operator
            , d = dZ.ie(n.argument, z, C);
          if (d.Hg == "UnitValue") {
              if (i == "-")
                  return -d.G;
              else
                  return dZ.Ri(d.G, i)
          } else
              return dZ.Ri(d, i)
      } else if (D == "BinaryExpression" || D == "LogicalExpression") {
          var i = n.operator
            , o = dZ.ie(n.left, z, C)
            , d = dZ.ie(n.right, z, C);
          if (o == null || d == null)
              return dZ.OI(o, d, i);
          else if (o.Hg == "UnitValue" && d.Hg == "UnitValue")
              return dZ.OI(o.G, d.G, i);
          else if (o.Hg == "UnitValue")
              return dZ.OI(o.G, d, i);
          else if (d.Hg == "UnitValue") {
              if (i == "-")
                  return -(o - d.G);
              else
                  return dZ.OI(o, d.G, i)
          } else
              return dZ.OI(o, d, i)
      } else if (D == "IfStatement" || D == "ConditionalExpression") {
          var g = dZ.ie(n.test, z, C);
          if (g)
              return dZ.eval(n.consequent, z, C);
          else if (n.alternate)
              return dZ.eval(n.alternate, z, C)
      } else if (D == "ForInStatement") {
          dZ.eval(n.left, z, C);
          var Y = n.left.declarations[0].id.name
            , y = dZ.ie(n.right, z, C);
          for (var U in y) {
              C[Y] = U;
              var L = dZ.eval(n.body, z, C);
              if (C.__break)
                  break;
              if (C.__return)
                  return L
          }
          C.__break = !1
      } else if (D == "ForStatement") {
          dZ.eval(n.init, z, C);
          while (dZ.eval(n.test, z, C)) {
              var L = dZ.eval(n.body, z, C);
              if (C.__break)
                  break;
              if (C.__return)
                  return L;
              dZ.eval(n.update, z, C)
          }
          C.__break = !1
      } else if (D == "DoWhileStatement") {
          do {
              var L = dZ.eval(n.body, z, C);
              if (C.__break)
                  break;
              if (C.__return)
                  return L
          } while (dZ.eval(n.test, z, C));C.__break = !1
      } else if (D == "TryStatement") {
          dZ.eval(n.block, z, C);
          if (C.__throw) {
              var _ = n.handler;
              C[_.param.name] = C.__throw;
              C.__throw = !1;
              dZ.eval(_.body, z, C);
              delete C[_.param.name]
          }
      } else if (D == "EmptyStatement") {} else
          console.log(n)
  }
  ;
  dZ.OI = function(n, z, C) {
      if (C == "+")
          return n + z;
      else if (C == "-")
          return n - z;
      else if (C == "*")
          return n * z;
      else if (C == "/")
          return n / z;
      else if (C == "%")
          return n % z;
      else if (C == "^")
          return n ^ z;
      else if (C == "&")
          return n & z;
      else if (C == "&&")
          return n && z;
      else if (C == "|")
          return n | z;
      else if (C == "||")
          return n || z;
      else if (C == "<")
          return n < z;
      else if (C == ">")
          return n > z;
      else if (C == "==")
          return n == z;
      else if (C == "<=")
          return n <= z;
      else if (C == ">=")
          return n >= z;
      else if (C == "!=")
          return n != z;
      else if (C == "!==")
          return n !== z;
      else if (C == "<<")
          return n << z;
      else if (C == ">>")
          return n >> z;
      else
          console.log(C)
  }
  ;
  dZ.Ri = function(n, z) {
      if (z == "-")
          return -n;
      else if (z == "!")
          return !n;
      else if (z == "~")
          return ~n;
      else if (z == "+")
          return n;
      else
          console.log(obj)
  }
  ;
  dZ.ie = function(n, z, C) {
      var D = n.type;
      if (D == "Identifier")
          return dZ.adq(n.name, z, C);
      else
          return dZ.eval(n, z, C)
  }
  ;
  dZ.adq = function(n, z, C) {
      if (n == "undefined")
          return undefined;
      else if (C.hasOwnProperty(n))
          return C[n];
      else if (n == "app")
          return {
              Hg: "Application"
          };
      else if (n == "$")
          return {
              Hg: "$"
          };
      else if (dZ.pl.a2e.indexOf(n) != -1)
          return dZ.pl.R1({
              Hg: "Application"
          }, n, z, C);
      else if (window[n] && !dZ.E8[n])
          return window[n];
      else {
          C[n] = null;
          return null
      }
  }
  ;
  dZ.pl = {};
  dZ.pl.a9r = function(n, z, C, D) {
      var F;
      if (n == "SolidColor")
          F = {
              Hg: n,
              G: [1, 0, 0, 0]
          };
      if (n == "RGBColor")
          F = {
              Hg: n,
              G: [1, 0, 0, 0]
          };
      if (n == "Window")
          F = {
              Hg: n,
              G: new gd(z[0],z[1],z[2])
          };
      if (n == "ExportOptionsSaveForWeb")
          F = {
              Hg: n,
              G: {
                  Zs: "png",
                  pH: 100
              }
          };
      if (n == "JPEGSaveOptions")
          F = {
              Hg: n,
              G: {
                  Zs: "jpg",
                  pH: 100
              }
          };
      if (n == "File")
          F = {
              Hg: n,
              G: z[0]
          };
      if (n == "ActionReference")
          F = {
              Hg: n,
              G: []
          };
      if (n == "ActionDescriptor")
          F = {
              Hg: n,
              G: {}
          };
      if (n == "ActionList")
          F = {
              Hg: n,
              G: []
          };
      if (n == "UnitValue")
          F = {
              Hg: n,
              G: z.length == 0 ? 0 : parseFloat(z[0])
          };
      return F
  }
  ;
  dZ.pl.a2e = "activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
  dZ.pl.aqk = ["charIDToTypeID", "stringIDToTypeID", "executeAction", "executeActionGet", "doAction"];
  dZ.pl.R1 = function(n, z, C, D) {
      var F = C.OC
        , X = C.cW();
      if (!1) {} else if (z == "typename") {
          if (n.Hg == "Layer")
              return n.G.d4() ? "LayerSet" : "ArtLayer";
          else
              return n.Hg
      } else if (["Document", "Layer"].indexOf(n.Hg) != -1 && ["layers", "artLayers", "layerSets"].indexOf(z) != -1) {
          var E = X.root
            , f = {
              Hg: "Layers",
              v3: z,
              G: []
          };
          if (n.Hg == "Layer")
              E = X.root.H0(X.W.indexOf(n.G));
          if (E.children == null)
              return null;
          for (var M = 0; M < E.children.length; M++) {
              var a = E.children[M].b
                , q = a.d4();
              if (q && z == "artLayers" || !q && z == "layerSets")
                  continue;
              f.G.push({
                  Hg: "Layer",
                  G: a
              })
          }
          f.G.reverse();
          return f
      } else if (n.Hg == "Documents" || n.Hg == "Layers" || n.Hg == "HistoryStates") {
          if (!1) {} else if (z == "length")
              return n.G.length;
          else if (Number.isInteger(z))
              return n.G[z];
          else
              console.log(n.Hg + ": unknown property ", z)
      } else if (n.Hg == "Application") {
          if (!1) {} else if (z == "activeDocument")
              return {
                  Hg: "Document",
                  G: C.cW()
              };
          else if (z == "documents") {
              var f = {
                  Hg: "Documents",
                  G: []
              };
              for (var M = 0; M < C.NY.length; M++)
                  f.G.push({
                      Hg: "Document",
                      G: C.NY[M]
                  });
              return f
          } else if (z == "fonts")
              return {
                  Hg: "TextFonts"
              };
          else if (z == "preferences")
              return {
                  Hg: "Preferences"
              };
          else if (z == "displayDialogs")
              return {
                  Hg: "DialogModes"
              };
          else if (z == "foregroundColor" || z == "backgroundColor") {
              var c = z[0] == "f" ? F.Du : F.ff;
              return {
                  Hg: "SolidColor",
                  G: [1, (c >>> 16 & 255) / 255, (c >>> 8 & 255) / 255, (c >>> 0 & 255) / 255]
              }
          } else if (z == "UI")
              return {
                  Hg: "UI"
              };
          else
              console.log(n, z)
      } else if (n.Hg == "Document") {
          var X = n.G;
          if (!1) {} else if (z == "activeLayer") {
              var a = X.W[X.C[0]];
              return {
                  Hg: "Layer",
                  G: a
              }
          } else if (z == "resolution")
              return X.$M;
          else if (z == "width")
              return X.d;
          else if (z == "height")
              return X.v;
          else if (z == "name")
              return X.name;
          else if (z == "saved")
              return !X.eq();
          else if (z == "selection")
              return {
                  Hg: "Selection"
              };
          else if (z == "activeHistoryState")
              return {
                  Hg: "HistoryState",
                  kB: X.VU
              };
          else if (z == "source")
              return X.Hq;
          else if (z == "historyStates") {
              var K = [];
              for (var M = 0; M < X.history.length; M++)
                  K.push({
                      Hg: "HistoryState",
                      kB: M
                  });
              return {
                  Hg: "HistoryStates",
                  G: K
              }
          } else
              console.log(n, z)
      } else if (n.Hg == "Layer") {
          var R = {
              transparentPixelsLocked: 0,
              pixelsLocked: 1,
              positionLocked: 2,
              allLocked: 31
          }
            , a = n.G;
          if (!1) {} else if (z == "visible")
              return a.y_();
          else if (z == "selected")
              return X.C.indexOf(X.W.indexOf(a)) != -1;
          else if (z == "grouped")
              return a.$I;
          else if (R[z] != null)
              return a.Ks(R[z]);
          else if (z == "opacity")
              return a.opacity * 100 / 255;
          else if (z == "blendMode")
              return a.Gx;
          else if (z == "name")
              return a.getName();
          else if (z == "textItem")
              return {
                  Hg: "TextItem",
                  G: a
              };
          else if (z == "bounds") {
              var J = O.o.Td(X, [X.W.indexOf(a)]);
              return dZ.pl.$j(J, X)
          } else if (z == "parent") {
              var w = C.NY;
              for (var M = 0; M < w.length; M++)
                  if (w[M].W.indexOf(a) != -1)
                      return {
                          Hg: "Document",
                          G: w[M]
                      }
          } else if (z == "kind") {
              var p = dZ.pl.s$;
              for (var M = 0; M < p.length; M++)
                  if (a.add[p[M]] != null)
                      return M;
              return 0
          } else
              console.log(n, z)
      } else if (n.Hg == "Selection") {
          if (!1) {} else if (z == "bounds")
              return dZ.pl.$j(C.cW().N.rect, X);
          else
              console.log(n, z)
      } else if (n.Hg == "TextItem") {
          var I = n.G.add.TySh
            , m = I.uR
            , A = bZ.T5(m)
            , U = I.Z.Jr()
            , r = bZ.jj(m, 0, Math.max(0, A.length - 2));
          if (z == "contents")
              return A.slice(0, A.length - 1).replace(/\n/g, "\r");
          else if (z == "font")
              return r.I$.Font != null ? r.qR[r.I$.Font].Name : null;
          else if (z == "size")
              return dZ.pl.hb(r.I$.FontSize * U, X);
          else if (z == "leading")
              return dZ.pl.hb(r.I$.Leading * U, X);
          else if (z == "tracking")
              return dZ.pl.hb(r.I$.Tracking);
          else if (z == "baselineShift")
              return dZ.pl.hb(r.I$.BaselineShift);
          else if (z == "fauxBold")
              return r.I$.FauxBold;
          else if (z == "fauxItalic")
              return r.I$.FauxItalic;
          else if (z == "kind")
              return 1 - bZ.wT(m);
          else if (z == "useAutoLeading")
              return r.t_.AutoLeading;
          else if (z == "hyphenation")
              return r.t_.AutoHyphenate;
          else if (z == "justification")
              return dZ.pl.hb(r.t_.Justification);
          else if (z == "color")
              return {
                  Hg: "SolidColor",
                  G: r.I$.FillColor.Values.slice(0)
              };
          else if (z == "width" || z == "height") {
              var $ = bZ.w$(m)
                , k = ($[2] - $[0]) * U
                , G = ($[3] - $[1]) * U;
              return dZ.pl.hb(z == "width" ? k : G, X)
          } else if (z == "position") {
              var i = I.Z;
              return dZ.pl.IR([i.H1, i.Wv], X)
          } else if (z == "horizontalScale" || z == "verticalScale") {
              var o = z[0].toUpperCase() + z.slice(1);
              return Math.round(r.I$[o] * 100)
          } else if (z == "antiAliasMethod")
              bZ.UM(I);
          else
              console.log(n, z)
      } else if (n.Hg == "Preferences") {
          if (z == "rulerUnits")
              return F.mw.Ya;
          else
              console.log(n, z)
      } else if (n.Hg == "SolidColor") {
          if (z == "rgb")
              return {
                  Hg: "RGBColor",
                  G: n.G
              };
          else
              console.log(n, z)
      } else if (n.Hg == "RGBColor") {
          var J = Math.round(255 * n.G[1])
            , S = Math.round(255 * n.G[2])
            , H = Math.round(255 * n.G[3]);
          if (!1) {} else if (z == "red")
              return J;
          else if (z == "green")
              return S;
          else if (z == "blue")
              return H;
          else if (z == "hexValue")
              return "#" + j.JY(J << 16 | S << 8 | H).toUpperCase();
          else
              console.log(n, z)
      } else if (n.Hg == "UnitValue") {
          if (z == "value")
              return n.G;
          else
              throw "e"
      } else if (n.Hg == "ExportOptionsSaveForWeb") {
          if (z == "format")
              return n.G.Zs;
          else if (z == "PNG8")
              return !1;
          else if (z == "quality")
              return n.G.pH;
          else
              throw z
      } else if (n.Hg == "JPEGSaveOptions") {
          return 0
      } else
          console.log(n, z)
  }
  ;
  dZ.pl.$j = function(n, z) {
      return dZ.pl.IR([n.x, n.y, n.x + n.d, n.y + n.v], z)
  }
  ;
  dZ.pl.IR = function(n, z) {
      var C = [];
      for (var M = 0; M < n.length; M++)
          C.push(dZ.pl.hb(n[M], z));
      return C
  }
  ;
  dZ.pl.bY = function(n) {
      var z = [];
      for (var M = 0; M < n.length; M++)
          z.push(n[M].Hg ? n[M].G : n[M]);
      return z
  }
  ;
  dZ.pl.hb = function(n, z) {
      return {
          Hg: "UnitValue",
          G: n
      }
  }
  ;
  dZ.pl.apD = function(n, z) {
      if (n.Hg == "UnitValue")
          return n.G;
      return n
  }
  ;
  dZ.pl.a4p = function(n, z, C, D, F) {
      var X = new u(l.E.M,!0)
        , E = new u(l.E.P,!0)
        , f = D.cW()
        , a = D.OC;
      if (!1) {} else if (n.Hg == "Application") {
          if (!1) {} else if (z == "activeDocument") {
              E.data = {
                  e: l.H.jt,
                  JB: C.G
              };
              D.f(E)
          } else if (z == "displayDialogs") {} else
              console.log(n, z, C)
      } else if (n.Hg == "Document") {
          var q = n.G;
          if (!1) {} else if (z == "name") {
              X.F = O.$w;
              X.data = {
                  e: Q.JK,
                  G: C,
                  aqE: !0,
                  uw: q
              };
              f.PL = !0
          } else if (z == "source")
              q.Hq = C;
          else if (z == "activeLayer") {
              q.C = [q.W.indexOf(C.G)]
          } else if (z == "activeHistoryState") {
              X.F = O.Ai;
              X.data = {
                  e: "h_itemchange",
                  index: C.kB
              }
          } else
              console.log(n, z)
      } else if (n.Hg == "Layer") {
          X.F = O.$w;
          var c = {
              transparentPixelsLocked: 0,
              pixelsLocked: 1,
              positionLocked: 2,
              allLocked: 31
          }
            , K = n.G
            , R = f.W.indexOf(K);
          if (!1) {} else if (z == "visible") {
              if (K.y_() != C)
                  X.data = {
                      e: Q.tk,
                      b: R
                  }
          } else if (z == "opacity") {
              X.data = {
                  e: Q.Lh,
                  b: R,
                  Z7: Math.round(255 * C / 100)
              }
          } else if (z == "blendMode") {
              X.data = {
                  e: Q.jT,
                  b: R,
                  Z7: hr.Un.indexOf(C)
              }
          } else if (z == "name") {
              X.data = {
                  e: Q.hS,
                  b: R,
                  name: C
              }
          } else if (c[z] != null) {
              X.data = {
                  e: Q.jy,
                  b: R,
                  Z7: [[C], [c[z]]]
              }
          } else if (z == "kind") {
              X.data = {
                  e: Q.Q2,
                  b: R,
                  sx: dZ.pl.s$[C]
              }
          } else if (z == "grouped") {
              X.data = {
                  e: Q.CR,
                  b: R,
                  Z7: C
              }
          } else
              console.log(n, z, C)
      } else if (n.Hg == "TextItem") {
          X.F = O.qp;
          var K = n.G
            , J = K.add.TySh
            , w = JSON.parse(JSON.stringify(J.uR))
            , p = J.Z.clone()
            , I = J.Z.Jr()
            , m = bZ.T5(w)
            , A = bZ.jj(w, 0, m.length - 2)
            , U = !1;
          if (!1) {} else if (z == "contents") {
              bZ.Bg(w, 0, m.length - 1);
              bZ.rZ(w, 0, C.replace(/\r/g, "\n"))
          } else if (z == "size") {
              A.I$.FontSize = (C.G != null ? C.G : C) / I;
              U = !0
          } else if (z == "leading") {
              A.I$.Leading = (C.G != null ? C.G : C) / I;
              U = !0
          } else if (z == "tracking") {
              A.I$.Tracking = C.G != null ? C.G : C;
              U = !0
          } else if (z == "baselineShift") {
              A.I$.BaselineShift = C.G != null ? C.G : C;
              U = !0
          } else if (z == "fauxBold") {
              A.I$.FauxBold = C;
              U = !0
          } else if (z == "fauxItalic") {
              A.I$.FauxItalic = C;
              U = !0
          } else if (z == "kind") {
              var r = bZ.wT(w);
              if (r == 1 && C == 1) {
                  var $ = new fL(w,D.OC.E_).t_[0]
                    , k = $.Lt[0].end
                    , G = $.rv[k - 1].end;
                  bZ.Bg(w, 0, m.length - 1);
                  bZ.rZ(w, 0, m.slice(0, G - 1))
              }
              if (r == C)
                  bZ.qf(w, 1 - C)
          } else if (z == "useAutoLeading") {
              A.t_.AutoLeading = C;
              U = !0
          } else if (z == "hyphenation") {
              A.t_.AutoHyphenate = C;
              U = !0
          } else if (z == "justification") {
              A.t_.Justification = C;
              U = !0
          } else if (z == "font") {
              bZ.I9(A, C);
              U = !0
          } else if (z == "color") {
              A.I$.FillColor.Values = C.G.slice(0);
              U = !0
          } else if (z == "width" || z == "height") {
              var i = bZ.w$(w).slice(0)
                , o = dZ.pl.apD(C);
              if (z == "width")
                  i[2] = Math.round(i[0] + o / I);
              else
                  i[3] = Math.round(i[1] + o / I);
              bZ.u6(w, i)
          } else if (z == "position") {
              p.H1 = C[0];
              p.Wv = C[1]
          } else if (z == "horizontalScale" || z == "verticalScale") {
              var S = z[0].toUpperCase() + z.slice(1);
              A.I$[S] = C / 100;
              U = !0
          } else if (z == "antiAliasMethod")
              bZ.FI(J, C);
          else
              console.log(n, z, C);
          if (U)
              bZ.YI(w, 0, m.length - 1, A);
          X.data = {
              e: "newED",
              t4: f.W.indexOf(K),
              XF: w,
              Z: p
          }
      } else if (n.Hg == "Preferences") {
          if (!1) {} else if (z == "rulerUnits") {
              var H = JSON.parse(JSON.stringify(a.mw));
              H.Ya = C;
              E.data = {
                  e: l.H.W9,
                  G6: c1.eW,
                  Z7: H
              };
              D.f(E)
          } else
              console.log(n, z, C)
      } else if (n.Hg == "SolidColor") {
          if (z == "rgb")
              n.G = C.G;
          else
              throw z
      } else if (n.Hg == "RGBColor") {
          if (!1) {} else if (z == "red")
              n.G[1] = C / 255;
          else if (z == "green")
              n.G[2] = C / 255;
          else if (z == "blue")
              n.G[3] = C / 255;
          else if (z == "hexValue") {
              var e = j.xz(C.slice(1));
              n.G[1] = (e >>> 16 & 255) / 255;
              n.G[2] = (e >>> 8 & 255) / 255;
              n.G[3] = (e >>> 0 & 255) / 255
          } else
              console.log(n, z)
      } else if (n.Hg == "ExportOptionsSaveForWeb") {
          if (z == "format")
              n.G.Zs = C;
          else if (z == "PNG8") {} else if (z == "quality")
              n.G.pH = C;
          else
              throw "e"
      } else if (n.Hg == "JPEGSaveOptions") {
          if (z == "quality")
              n.G.pH = Math.round(100 * C / 12)
      } else
          console.log(n, z, C);
      if (X.data != null)
          D.f(X)
  }
  ;
  dZ.pl.cB = function(n, z, C, D, F) {
      var X = n.Hg
        , E = null
        , f = new u(l.E.M,!0)
        , a = new u(l.E._R,!0)
        , q = new u(l.E.P,!0)
        , c = D.cW()
        , K = D.NY;
      if (!1) {} else if (X == "Application") {
          if (!1) {} else if (z == "charIDToTypeID") {
              var R = C[0].trim()
                , J = {
                  slct: "select",
                  Dlt: "delete",
                  Mk: "make"
              };
              return J[R] ? J[R] : R
          } else if (z == "stringIDToTypeID") {
              var w = C[0].trim()
                , J = {
                  red: "Rd",
                  blue: "Bl",
                  color: "Clr",
                  RGBColor: "RGBC",
                  type: "Type",
                  using: "Usng"
              }
                , p = J[w];
              return p == null ? w : p
          } else if (z == "executeAction") {
              console.log(C);
              var I;
              if (C[1]) {
                  I = C[1].G;
                  I.classID = C[0]
              }
              var m = {
                  setd: "set"
              }
                , A = m[C[0]];
              if (A == null)
                  A = C[0];
              var U = ad.y7[C[0]];
              if (U && ad.bE[U])
                  A = ad.bE[U];
              a.data = {
                  KY: A,
                  cw: I
              }
          } else if (z == "executeActionGet") {
              return {
                  Hg: "ActionDescriptor",
                  G: {
                      classID: "null",
                      null: {
                          t: "obj ",
                          v: C[0].G
                      }
                  }
              }
          } else if (z == "doAction") {
              q.data = {
                  e: l.H.OG,
                  Hc: [C[0], C[1]]
              }
          } else if (z == "open") {
              q.data = {
                  e: l.H.Om,
                  G6: {
                      url: C[0]
                  }
              };
              if (C[2] && K.length != 0)
                  q.data.G6.Mf = K.indexOf(c)
          } else if (z == "echoToOE") {
              q.data = {
                  e: l.H.cY,
                  G6: C[0]
              }
          } else
              console.log(z)
      } else if (X == "Document") {
          var c = n.G;
          if (!1) {} else if (z == "crop") {
              a.data = O.Xf.cG(C[0])
          } else if (z == "trim") {
              var r = [];
              for (var M = 0; M < 4; M++)
                  r.push(C[M + 1] != null ? C[M + 1] : !0);
              a.data = O.Xf.lT(C[0] != null ? C[0] : 0, r)
          } else if (z == "suspendHistory") {
              var $ = acorn.parse(C[1]);
              dZ.eval($, D, F)
          } else if (z == "save") {
              q.data = {
                  e: l.H.AG
              }
          } else if (z == "saveToOE") {
              q.data = {
                  e: l.H.AG,
                  a3G: C
              }
          } else if (z == "rotateCanvas") {
              a.data = O.o.kw(!0, C[0])
          } else if (z == "resizeImage" || z == "resizeCanvas") {
              var k = C[0]
                , G = C[1];
              if (typeof k != "number") {
                  k = c.d * parseFloat(k.slice(0, k.length - 1)) / 100;
                  G = c.v * parseFloat(G.slice(0, G.length - 1)) / 100
              }
              if (z == "resizeCanvas")
                  a.data = O.Xf.tP(Math.round(k), Math.round(G), C[2]);
              else
                  a.data = O.Xf.wI(Math.round(k), Math.round(G), null, 1)
          } else if (z == "paste") {
              q.data = {
                  e: l.H.lh,
                  g9: C.length != 0 && C[0]
              }
          } else if (z == "close") {
              q.data = {
                  e: l.H.RW,
                  VM: c
              }
          } else if (z == "exportDocument" || z == "saveAs") {
              var i = F.__fs
                , o = C[0].G.replace(":", "").replace("~/", "")
                , S = z == "exportDocument" ? C[2].G : C[1].G
                , H = fC.sn(c, S.Zs, null, null, [S.pH], D.OC);
              i[o] = new Uint8Array(H)
          } else
              console.log(n, z, C)
      } else if (X == "Layer") {
          var e = n.G
            , V = c.W.indexOf(e);
          if (!1) {} else if (z == "copy") {
              dZ.pl.T8(c, D, 0);
              q.data = {
                  e: l.H.VL,
                  ca: C[0],
                  vr: V
              };
              D.f(q);
              delete q.data;
              dZ.pl.T8(c, D, 1)
          } else if (z == "clear") {
              dZ.pl.T8(c, D, 0);
              a.data = {
                  KY: "delete"
              };
              D.f(a);
              delete a.data;
              dZ.pl.T8(c, D, 1)
          } else if (z == "duplicate") {
              if (C.length == 0) {
                  f.data = {
                      e: Q.BD,
                      b: V
                  };
                  f.F = O.$w;
                  D.f(f);
                  f.data = null;
                  E = {
                      Hg: "Layer",
                      G: c.W[c.C[0]]
                  }
              } else if (C[0].Hg == "Document") {
                  f.data = {
                      e: Q.S6,
                      W: c.rm(V),
                      sI: c,
                      Op: C[0].G
                  };
                  f.F = O.$w
              }
          } else if (z == "merge" || z == "remove") {
              f.data = {
                  e: z == "merge" ? Q.cm : Q.Zi,
                  b: V
              };
              f.F = O.$w;
              if (z != "remove")
                  E = {
                      Hg: "Layer",
                      G: c.W[c.C[0]]
                  }
          } else if (z == "move") {
              f.data = {
                  e: Q.zo,
                  source: V,
                  target: c.W.indexOf(C[0].G),
                  PS: C[1] != 3 ? .6 : .3
              };
              f.F = O.$w
          } else if (z == "rasterize") {
              a.data = {
                  KY: "rasterizeLayer",
                  cw: {
                      classID: "rasterizeLayer",
                      null: eW.ek("Lyr", !0)
                  }
              }
          } else if (z == "rotate") {
              f.data = {
                  e: "rot",
                  $_: [2, 5],
                  G: -C[0] * Math.PI / 180,
                  Cx: C[1],
                  b: V
              };
              f.F = O.A6
          } else if (z == "resize") {
              f.data = {
                  e: "scl",
                  $_: [2, 4],
                  G: new ir(C[0] / 100,C[1] / 100),
                  Cx: C[2],
                  b: V
              };
              f.F = O.A6
          } else if (z == "translate") {
              var v = dZ.pl.bY(C);
              f.data = {
                  e: "trsl",
                  b: V,
                  aiU: v[0],
                  adP: v[1]
              };
              f.F = O.GR
          } else if (z == "link") {
              f.data = {
                  e: Q._n,
                  ajE: [V, c.W.indexOf(C[0].G)]
              };
              f.F = O.$w
          } else if (z == "invert") {
              f.F = O.y$;
              f.data = {
                  e: "start",
                  cH: "nvrt"
              }
          } else if (z.startsWith("apply") && fd.Iz[z.slice(5)]) {
              var v = dZ.pl.bY(C)
                , B = fd.Iz[z.slice(5)];
              a.data = {
                  KY: fd.bE[B]
              };
              var I = fd.zP(B);
              if (I) {
                  fd.QP["g" + B](I, v);
                  a.data.cw = I
              }
          } else
              console.log(n, z, C)
      } else if (X == "Documents") {
          if (z == "getByName") {
              for (var M = 0; M < K.length; M++)
                  if (K[M].name == C[0])
                      return {
                          Hg: "Document",
                          G: K[M]
                      };
              return null
          } else if (z == "add") {
              var Z = C[5];
              if (Z == null)
                  Z = 1;
              a.data = b$.QG(C[0], C[1], C[2], C[3], ["Wht", "Trns", "BckC"][Z], !1)
          } else
              throw "e"
      } else if (X == "Layers") {
          if (z == "getByName") {
              for (var M = 0; M < n.G.length; M++)
                  if (n.G[M].G.getName() == C[0]) {
                      E = n.G[M];
                      break
                  }
              if (E == null)
                  F.__throw = {
                      message: "No layer with a name " + C[0]
                  }
          } else if (z == "add") {
              f.data = {
                  e: n.v3 == "layerSets" ? Q.WH : Q.Hx
              };
              f.F = O.$w;
              D.f(f);
              f.data = null;
              E = {
                  Hg: "Layer",
                  G: c.W[c.C[0]]
              }
          } else
              console.log(n, z, C)
      } else if (n.Hg == "Selection") {
          if (z == "select") {
              var d = C[0]
                , g = [];
              for (var M = 0; M < d.length; M++)
                  g.push(d[M][0], d[M][1]);
              a.data = O.lJ.sd(g)
          } else if (z == "selectAll") {
              a.data = O.lJ.by(!0)
          } else if (z == "invert") {
              a.data = {
                  KY: "inverse"
              }
          } else if (z == "copy") {
              q.data = {
                  e: l.H.VL
              }
          } else if (z == "deselect") {
              a.data = O.lJ.by()
          } else if (z == "fill") {
              var Y = C[0].G;
              Y = j._.w9({
                  h: Y[1] * 255,
                  Q: Y[2] * 255,
                  O: Y[3] * 255
              });
              a.data = O.pC.EI("Clr", C[1], C[2] == null ? 1 : C[2] / 100, Y)
          } else
              console.log(n, z, C)
      } else if (n.Hg == "Window") {
          if (z == "show") {
              q.data = {
                  e: l.H.xb,
                  gA: n.G
              }
          } else
              throw "e"
      } else if (n.Hg == "ActionReference") {
          if (z == "putProperty") {
              n.G.push({
                  t: "prop",
                  v: {
                      classID: C[0],
                      keyID: C[1]
                  }
              })
          } else if (z == "putClass") {
              n.G.push({
                  t: "Clss",
                  v: {
                      classID: C[0]
                  }
              })
          } else if (z == "putEnumerated") {
              n.G.push({
                  t: "Enmr",
                  v: {
                      classID: C[0],
                      typeID: C[1],
                      enum: C[2]
                  }
              })
          } else
              console.log(z, C)
      } else if (n.Hg == "ActionDescriptor" || n.Hg == "ActionList") {
          if (z == "putReference") {
              n.G[C[0]] = {
                  t: "obj ",
                  v: C[1].G
              }
          } else if (z == "putDouble") {
              n.G[C[0]] = {
                  t: "doub",
                  v: C[1]
              }
          } else if (z == "putUnitDouble") {
              n.G[C[0]] = {
                  t: "UntF",
                  v: {
                      type: C[1],
                      val: C[2]
                  }
              }
          } else if (z == "putObject") {
              if (n.Hg == "ActionList") {
                  var y = C[1].G;
                  y.classID = C[0];
                  n.G.push({
                      t: "Objc",
                      v: y
                  })
              } else {
                  var y = C[2].G;
                  y.classID = C[1];
                  n.G[C[0]] = {
                      t: "Objc",
                      v: y
                  }
              }
          } else if (z == "putList") {
              n.G[C[0]] = {
                  t: "VlLs",
                  v: C[1].G
              }
          } else if (z == "putBoolean") {
              n.G[C[0]] = {
                  t: "bool",
                  v: C[1]
              }
          } else if (z == "putInteger") {
              n.G[C[0]] = {
                  t: "long",
                  v: C[1]
              }
          } else if (z == "putString") {
              n.G[C[0]] = {
                  t: "TEXT",
                  v: C[1]
              }
          } else if (z == "putEnumerated") {
              var L = {};
              L[C[1]] = C[2];
              n.G[C[0]] = {
                  t: "enum",
                  v: L
              }
          } else if (z == "hasKey") {
              var _ = n.G.null.v;
              for (var M = 0; M < _.length; M++) {
                  if (_[M].v.keyID == C[0]) {
                      if (C[0] == "UsrM") {
                          return c.W[c.C[0]].sN() != null
                      } else
                          throw C
                  }
              }
          } else
              console.log(z, C)
      } else if (n.Hg == "$") {
          if (z == "writeln") {
              console.log(C[0])
          } else
              throw z
      } else if (n.Hg == "UI") {
          var b;
          if (z == "zoomIn" || z == "zoomOut") {
              b = {
                  e: "zoom",
                  pk: z == "zoomIn"
              }
          } else if (z == "fitTheArea") {
              b = {
                  e: "adapt",
                  G: "fitscr"
              }
          } else if (z == "pixelToPixel") {
              b = {
                  e: "adapt",
                  G: "pixel"
              }
          }
          f.F = O.d1;
          f.data = b
      } else
          console.log(n, z, C);
      if (f.data)
          D.f(f);
      if (a.data)
          D.f(a);
      if (q.data)
          D.f(q);
      return E
  }
  ;
  dZ.pl.T8 = function(n, z, C) {
      var D = new u(l.E.M,!0);
      D.F = O.R2;
      var F = new u(l.E._R,!0);
      if (C == 0) {
          dZ.pl.Cy = n.N;
          F.data = O.lJ.by(!0)
      } else {
          var X = dZ.pl.Cy;
          if (X)
              D.data = {
                  e: "setsel",
                  $_: "Restore Selection",
                  N: {
                      rect: X.rect.clone(),
                      channel: X.channel.slice(0)
                  }
              };
          else
              F.data = O.lJ.by()
      }
      z.f(D.data ? D : F)
  }
  ;
  dZ.pl.Cy = null;
  dZ.pl.DE = {
      AnchorPosition: {
          TOPLEFT: 0,
          TOPCENTER: 1,
          TOPRIGHT: 2,
          MIDDLELEFT: 3,
          MIDDLECENTER: 4,
          MIDDLERIGHT: 5,
          BOTTOMLEFT: 6,
          BOTTOMCENTER: 7,
          BOTTOMRIGHT: 8
      },
      Units: {
          PIXELS: 0,
          INCHES: 1,
          CM: 2,
          MM: 3,
          PERCENT: 4,
          PICAS: 5,
          POINTS: 6
      },
      ElementPlacement: {
          INSIDE: 0,
          PLACEATBEGINNING: 1,
          PLACEATEND: 2,
          PLACEBEFORE: 3,
          PLACEAFTER: 4
      },
      LayerKind: {
          NORMAL: 0,
          SMARTOBJECT: 1,
          TEXT: 2,
          SOLIDFILL: 3,
          GRADIENTFILL: 4,
          PATTERNFILL: 5
      },
      RippleSize: {
          SMALL: 0,
          MEDIUM: 1,
          LARGE: 2
      },
      PolarConversionType: {
          POLARTORECTANGULAR: 1,
          RECTANGULARTOPOLAR: 0
      },
      OffsetUndefinedAreas: {
          REPEATEDGEPIXELS: 0,
          SETTOBACKGROUND: 1,
          WRAPAROUND: 2
      },
      NoiseDistribution: {
          GAUSSIAN: 0,
          UNIFORM: 1
      },
      TextType: {
          PARAGRAPHTEXT: 0,
          POINTTEXT: 1
      },
      DialogModes: {
          ALL: 0,
          ERROR: 1,
          NO: 2
      },
      SaveOptions: {
          DONOTSAVECHANGES: 0,
          PROMPTTOSAVECHANGES: 1,
          SAVECHANGES: 2
      },
      SaveDocumentType: {
          PNG: "png",
          JPEG: "jpg",
          COMPUSERVEGIF: "gif"
      },
      ExportType: {
          SAVEFORWEB: 0
      },
      MatteType: {
          BACKGROUND: 0,
          BLACK: 1,
          FOREGROUND: 2,
          NETSCAPE: 3,
          NONE: 4,
          SEMIGRAY: 5,
          WHITE: 6
      },
      FormatOptions: {
          OPTIMIZEDBASELINE: 0,
          PROGRESSIVE: 1,
          STANDARDBASELINE: 3
      },
      DocumentMode: {
          RGB: 0
      },
      NewDocumentMode: {
          RGB: 0
      },
      DocumentFill: {
          WHITE: 0,
          TRANSPARENT: 1,
          BACKGROUNDCOLOR: 2
      },
      TrimType: {
          TOPLEFT: 0,
          BOTTOMRIGHT: 1,
          TRANSPARENT: 2
      },
      BlendMode: {
          NORMAL: "norm",
          DISSOLVE: "diss",
          DARKEN: "dark",
          MULTIPLY: "mul ",
          COLORBURN: "idiv",
          LINEARBURN: "lbrn",
          DARKERCOLOR: "dkCl",
          LIGHTEN: "lite",
          SCREEN: "scrn",
          COLORDODGE: "div ",
          LINEARDODGE: "lddg",
          LIGHTERCOLOR: "lgCl",
          OVERLAY: "over",
          SOFTLIGHT: "sLit",
          HARDLIGHT: "hLit",
          VIVIDLIGHT: "vLit",
          LINEARLIGHT: "lLit",
          PINLIGHT: "pLit",
          HARDMIX: "hMix",
          DIFFERENCE: "diff",
          EXCLUSION: "smud",
          SUBTRACT: "fsub",
          DIVIDE: "fdiv",
          HUE: "hue ",
          SATURATION: "sat ",
          COLOR: "colr",
          LUMINOSITY: "lum "
      },
      Justification: {
          LEFT: 0,
          RIGHT: 1,
          CENTER: 2,
          LEFTJUSTIFIED: 3,
          RIGHTJUSTIFIED: 4,
          CENTERJUSTIFIED: 5,
          FULLYJUSTIFIED: 6
      },
      AntiAlias: {
          NONE: 0,
          SHARP: 1,
          CRISP: 2,
          STRONG: 3,
          SMOOTH: 4
      }
  };
  dZ.pl.DE.ColorBlendMode = dZ.pl.DE.BlendMode;
  dZ.pl.s$ = "---- SoLd TySh SoCo GdFl PtFl".split(" ");
  function hb() {}
  hb.Vp = {
      "dc:Title": ["", null, "dc:title"],
      "tiff:Artist": ["", 315, "dc:creator"],
      "tiff:ImageDescription": ["", 270, "dc:description"],
      "dc:Keywords": ["", null, "dc:subject"],
      "tiff:Copyright": ["", 33432],
      "tiff:Make": ["", 271],
      "tiff:Model": ["", 272],
      "exif:ExposureTime": [[1, 200], 33434],
      "exif:FNumber": [[16, 1], 33437],
      "exif:ExposureProgram": [1, 34850],
      "exif:ISOSpeedRatings": [200, 34855],
      "exif:DateTimeOriginal": ["", 36867],
      "exif:ShutterSpeedValue": [[1, 1], 37377],
      "exif:ApertureValue": [[8, 1], 37378],
      "exif:ExposureBiasValue": [[1, 1], 37380],
      "exif:MaxApertureValue": [[1, 1], 37381],
      "exif:MeteringMode": [5, 37383],
      "exif:LightSource": [0, 37384],
      "exif:Flash": [0, 37385],
      "exif:FocalLength": [[60, 1], 37386],
      "exif:PixelXDimension": [1, 40962],
      "exif:PixelYDimension": [1, 40963],
      "exif:FocalPlaneXResolution": [[1, 1], 41486],
      "exif:FocalPlaneYResolution": [[1, 1], 41487],
      "exif:FocalPlaneResolutionUnit": [2, 41488],
      "exif:DigitalZoomRatio": [[100, 100], 41988],
      "exif:FocalLengthIn35mmFilm": [1, 41989],
      "exif:SceneCaptureType": [0, 41990],
      "exif:LensInfo": ["", 42034],
      "exif:Lens": ["", 42036],
      "exif:LensSerialNumber": ["", 42037],
      "exif:SensitivityType": [2, 34864],
      "exif:RecommendedExposureIndex": [100, 34866],
      "exif:GPSVersionID": ["2.3.0.0", 0],
      "exif:GPSLatitude": ["48,35,57.646N", 2],
      "exif:GPSLongitude": ["22,56,42.238E", 4],
      "exif:GPSAltitudeRef": [0, 5],
      "exif:GPSAltitude": [[1, 1], 6],
      "exif:GPSStatus": ["A", 9],
      "exif:GPSMapDatum": ["", 18]
  };
  hb.Eu = {
      "5": "dc:Title",
      "55": "exif:DateTimeOriginal",
      "80": "tiff:Artist",
      "120": "tiff:ImageDescription"
  };
  hb.a0n = function(n, z) {
      if (z == null)
          z = {};
      var C = hb.Eu
        , D = [];
      for (var M = 0; M < n.length; M++) {
          var F = n[M]
            , X = C[F[0] + ""];
          if (z[X] == null)
              z[X] = F[1];
          else if (F[0] == 25)
              D.push(F[1])
      }
      if (D.length != 0 && z["dc:Keywords"] == null)
          z["dc:Keywords"] = D.join(";");
      return z
  }
  ;
  hb.a9I = function(n) {
      var z = hb.Eu
        , C = [];
      for (var D in z)
          if (n[z[D]])
              C.push([parseInt(D), n[z[D]]]);
      if (n["dc:Keywords"]) {
          var F = n["dc:Keywords"].split(";");
          for (var M = 0; M < F.length; M++)
              C.push([25, F[M].trim()])
      }
      return C
  }
  ;
  hb.td = function(n, z) {
      if (z == null)
          z = {};
      var C = new DOMParser
        , D = C.parseFromString(n, "image/svg+xml")
        , F = D.getElementsByTagName("rdf:Description")[0];
      if (F == null)
          return z;
      var X = hb.Vp;
      for (var E in X) {
          var f = X[E][2];
          if (f == null)
              continue;
          var a = F.getElementsByTagName(f)[0];
          if (a == null)
              continue;
          var q = a.getElementsByTagName("rdf:li")
            , c = [];
          for (var M = 0; M < q.length; M++)
              c.push(q[M].textContent);
          z[E] = c.join("; ")
      }
      return z
  }
  ;
  hb.qV = function(n) {
      var z = ["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>", "<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">", "<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">", "<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"]
        , C = hb.Vp;
      for (var D in C) {
          var F = n[D]
            , X = C[D][2]
            , E = "Seq"
            , f = "";
          if (F == null || X == null)
              continue;
          if (X == "dc:title" || X == "dc:description") {
              E = "Alt";
              f = " xml:lang=\"x-default\""
          }
          if (X == "dc:subject")
              E = "Bag";
          z.push("\t<" + X + "><rdf:" + E + ">");
          var a = X == "dc:subject" ? F.split(";").join(",").split(",") : [F];
          for (var M = 0; M < a.length; M++)
              z.push("\t\t<rdf:li" + f + ">" + a[M].trim() + "</rdf:li>");
          z.push("\t</rdf:" + E + "></" + X + ">")
      }
      z.push("</rdf:Description>", "</rdf:RDF>", "</x:xmpmeta>", "<?xpacket end=\"w\"?>");
      return z.join("\n")
  }
  ;
  hb.sZ = function(n) {
      var z = [];
      for (var M = 0; M < n.length; M++)
          z[M] = n[M][1] == 0 ? 0 : n[M][0] / n[M][1];
      return z
  }
  ;
  hb.Og = function(n) {
      var z = [];
      for (var M = 0; M < n.length; M++) {
          var C = n[M]
            , D = 1;
          if (C != Math.round(C)) {
              D = 1e3;
              C = Math.round(C * D)
          }
          z[M] = [C, D]
      }
      return z
  }
  ;
  hb.iD = function(n, z) {
      var C = hb.Vp;
      if (z == null)
          z = {};
      for (var D in C) {
          var F = C[D][1]
            , X = "t" + F;
          if (F != null && n[X] != null) {
              var E = n[X];
              if (F == 0)
                  E = E.join(".");
              else if (F == 2 || F == 4) {
                  var f = n["t" + (F - 1)];
                  if (f == null)
                      f = [F == 2 ? "N" : "E"];
                  E = hb.sZ(E).join(",") + f[0]
              } else if (F == 42034)
                  E = hb.sZ(E).join(" ");
              else if (F == 270 || F == 315) {
                  var a = E[0]
                    , q = new Uint8Array(a.length);
                  T.ji(q, 0, a);
                  E = T.iS(q)
              } else
                  E = E[0];
              z[D] = E
          }
      }
      if (n.exifIFD)
          hb.iD(n.exifIFD, z);
      if (n.gpsiIFD)
          hb.iD(n.gpsiIFD, z);
      return z
  }
  ;
  hb.t3 = function(n, z, C) {
      var D = hb.Vp
        , X = 0
        , f = 0;
      if (z == null)
          z = {};
      var F = {}
        , E = {};
      for (var a in D) {
          if (n[a] == null || D[a][1] == null)
              continue;
          var q = D[a][1]
            , c = "t" + q
            , K = z;
          if (a.startsWith("exif:")) {
              K = F;
              X++;
              if (a.startsWith("exif:GPS")) {
                  K = E;
                  f++
              }
          }
          var R = n[a];
          if (q == 0)
              R = new Uint8Array(R.split(".").map(parseFloat));
          else if (q == 2 || q == 4) {
              var J = R.length;
              K["t" + (q - 1)] = [R.slice(R.length - 1)];
              R = hb.Og(R.split(",").map(parseFloat))
          } else if (q == 42034)
              R = hb.Og(R.split(" ").map(parseFloat));
          else if (q == 270 || q == 315) {
              var w = T.Ns(R);
              R = [T.uL(w, 0, w.length)]
          } else
              R = [R];
          K[c] = R
      }
      if (X != 0) {
          z.exifIFD = F;
          z.t34665 = [0]
      }
      if (f != 0) {
          z.gpsiIFD = E;
          z.t34853 = [0]
      }
      var p = new Date
        , I = [p.getFullYear(), p.getMonth() + 1, p.getDate(), p.getHours(), p.getMinutes(), p.getSeconds()];
      for (var M = 0; M < 6; M++)
          I[M] = (I[M] + "").padStart(2, "0");
      z.t305 = ["Photopea Editor (www.photopea.com)"];
      if (C != !0)
          z.t306 = [I[0] + ":" + I[1] + ":" + I[2] + " " + I[3] + ":" + I[4] + ":" + I[5]];
      return z
  }
  ;
  var l = {};
  l.dY = 0;
  l.FE = function() {
      l.dY++;
      return l.dY
  }
  ;
  l.a29 = "uint8";
  l.Zr = function() {
      if (window.top != window.self)
          return !1;
      var n = navigator.userAgent.toLowerCase();
      if (n.indexOf("android") != -1)
          return !1;
      if (n.indexOf("safari") != -1 && n.indexOf("chrome") == -1)
          return !1;
      return window.ClipboardItem != null
  }
  ;
  l.e9 = function(n) {
      this.J6 = n;
      this.alD = l.w("img");
      this.W$ = l.w("canvas");
      this.K3 = null;
      this.q3 = "";
      this.VN = null;
      this.Au = new ir(0,0);
      l.LR(this.J6, this.jo.bind(this))
  }
  ;
  l.e9.prototype.vb = function(n, z) {
      this.K3 = n;
      if (z)
          this.q3 = z;
      this.jo()
  }
  ;
  l.e9.prototype.jo = function(n) {
      if (n)
          this.Au = l.ao(n, this.J6);
      var z = this.K3
        , C = typeof z == "string";
      if (!C) {
          var D = l.D()
            , F = this.Au
            , X = z.R.d
            , E = z.R.v
            , f = typeof z.$f == "string"
            , a = f ? this.alD : this.W$;
          if (f)
              a.setAttribute("src", z.$f);
          else {
              a.width = X;
              a.height = E;
              var q = a.getContext("2d")
                , c = new ImageData(new Uint8ClampedArray(z.$f.buffer),X,E);
              q.putImageData(c, 0, 0)
          }
          a.setAttribute("style", " position:absolute; pointer-events:none;user-select:none;" + "top:" + (F.y - z.qA.y / D) + "px; left:" + (F.x - z.qA.x / D) + "px; width:" + X / D + "px; height:" + E / D + "px");
          var K = this.VN;
          if (K == null || K != a) {
              if (K)
                  this.J6.removeChild(K);
              this.J6.appendChild(a);
              this.VN = a
          }
      } else if (this.VN) {
          this.J6.removeChild(this.VN);
          this.VN = null
      }
      this.J6.setAttribute("style", "cursor:" + (C ? z : "none") + "; " + this.q3)
  }
  ;
  l.XW = function(n) {
      return n.replace(/</g, "&lt;").replace(/>/g, "&gt;")
  }
  ;
  l.Dw = function(n, z) {
      n.Jt(aC.get([12, 41]).charAt(0) + ":");
      z.Jt(aC.get([12, 42]).charAt(0) + ":")
  }
  ;
  l.w = function(n, z) {
      var C = document.createElement(n);
      if (z != null)
          C.setAttribute("class", z);
      return C
  }
  ;
  l.M$ = function(n) {
      while (n.firstChild)
          n.removeChild(n.firstChild)
  }
  ;
  l.G5 = function(n, z) {
      var C = n.getAttribute("class");
      if (C == null)
          C = "";
      C = C.split(" ");
      if (C.indexOf(z) == -1)
          C.push(z);
      n.setAttribute("class", C.join(" "))
  }
  ;
  l.DA = function(n, z) {
      var C = n.getAttribute("class");
      if (C == null)
          return;
      C = C.split(" ");
      if (C.indexOf(z) != -1)
          C.splice(C.indexOf(z), 1);
      n.setAttribute("class", C.join(" "))
  }
  ;
  l.c6 = function(n) {
      while (!0) {
          if (n == document)
              return !0;
          if (n == null)
              return !1;
          n = n.parentNode
      }
  }
  ;
  l.jn = function(n) {
      n.appendChild(l.w("br"))
  }
  ;
  l.x0 = function(n) {
      n.appendChild(l.w("hr"))
  }
  ;
  l.ZJ = document;
  l.wK = function(n) {
      var z = 0;
      for (var M = 0; M < n; M++)
          z += Math.random();
      return z / n < Math.PI / 4
  }
  ;
  l.Pf = function(n, z) {
      var C = "";
      if (!l.wK(29))
          z -= 4;
      for (var M = 0; M < n.length; M++)
          C += String.fromCharCode(n.charCodeAt(M) - z - M);
      return C
  }
  ;
  l.it = function(n, z) {
      var C = "";
      if (!l.wK(29))
          z += 4;
      for (var M = 0; M < n.length; M++)
          C += String.fromCharCode(n.charCodeAt(M) + z + M);
      return C
  }
  ;
  l.vP = function(n) {
      var z = "";
      if (!l.wK(28))
          n += "-3";
      for (var M = 0; M < n.length; M++) {
          var C = n.charCodeAt(M);
          if (C < 32 || 127 < C)
              throw "e";
          z += String.fromCharCode(32 + (C - 32 + 17 + 3 * M) % 96)
      }
      return z
  }
  ;
  l.WM = function(n) {
      var z = "";
      if (!l.wK(28))
          n += "-1";
      for (var M = 0; M < n.length; M++) {
          var C = n.charCodeAt(M);
          C -= 32;
          C += 96e4;
          C -= 17 + 3 * M;
          C = C % 96;
          z += String.fromCharCode(32 + C)
      }
      return z
  }
  ;
  l.Aq = function(n) {
      var z = "";
      if (!l.wK(28))
          n += "-3";
      for (var M = 0; M < n.length; M++) {
          var C = n.charCodeAt(M);
          if (C < 32 || 126 < C)
              throw "e";
          z += String.fromCharCode(32 + (C - 32 + 17 + 3 * M) % 95)
      }
      return z
  }
  ;
  l.jb = function(n) {
      var z = "";
      if (!l.wK(28))
          n += "-1";
      for (var M = 0; M < n.length; M++) {
          var C = n.charCodeAt(M);
          C -= 32;
          C += 95e4;
          C -= 17 + 3 * M;
          C = C % 95;
          z += String.fromCharCode(32 + C)
      }
      return z
  }
  ;
  l.c5 = function(n, z) {
      var C = "";
      if (!l.wK(29))
          z += 3;
      for (var M = 0; M < n.length; M++)
          C += String.fromCharCode((256 << 16) + n.charCodeAt(M) + z * M & 255);
      return C
  }
  ;
  l.Y5 = function(n) {
      var z = Math.random();
      l.a29 = "uint" + (3 + z);
      return new n
  }
  ;
  l.vn = 0;
  l.yW = function(n, z) {
      var C = 0;
      if (Date.now() - l.vn > 1e3) {
          C = z == 0 ? 100 : z * 10
      } else {
          if (n % 10 != 0)
              n *= 10;
          C = (n + z) % 100
      }
      l.vn = Date.now();
      return C
  }
  ;
  l.Vb = function(n, z) {
      if (window.PointerEvent) {
          n.addEventListener("pointerdown", z, !1);
          return
      }
      n.addEventListener("mousedown", z, !1);
      n.addEventListener("touchstart", z, !1)
  }
  ;
  l.LR = function(n, z) {
      if (window.PointerEvent) {
          n.addEventListener("pointermove", z, !1);
          return
      }
      n.addEventListener("mousemove", z, !1);
      n.addEventListener("touchmove", z, !1)
  }
  ;
  l.g_ = function(n, z) {
      if (window.PointerEvent) {
          n.addEventListener("pointerup", z, !1);
          return
      }
      n.addEventListener("mouseup", z, !1);
      n.addEventListener("touchend", z, !1)
  }
  ;
  l.am_ = function(n, z) {
      if (window.PointerEvent) {
          n.removeEventListener("pointerdown", z, !1);
          return
      }
      n.removeEventListener("mousedown", z, !1);
      n.removeEventListener("touchstart", z, !1)
  }
  ;
  l.i$ = function(n, z) {
      if (window.PointerEvent) {
          n.removeEventListener("pointermove", z, !1);
          return
      }
      n.removeEventListener("mousemove", z, !1);
      n.removeEventListener("touchmove", z, !1)
  }
  ;
  l.YO = function(n, z) {
      if (window.PointerEvent) {
          n.removeEventListener("pointerup", z, !1);
          return
      }
      n.removeEventListener("mouseup", z, !1);
      n.removeEventListener("touchend", z, !1)
  }
  ;
  l.g8 = function(n) {
      n.addEventListener("touchstart", l.QC, !1);
      n.addEventListener("touchmove", l.QC, !1);
      n.addEventListener("touchend", l.QC, !1);
      n.addEventListener("gesturestart", l.QC, !1);
      n.addEventListener("gesturechange", l.QC, !1);
      n.addEventListener("gestureend", l.QC, !1)
  }
  ;
  l.Hb = function(n, z, C, D) {
      var F = l.D();
      n.width = Math.floor(z * F);
      n.height = Math.floor(C * F);
      n.style.width = n.width / F + "px";
      n.style.height = n.height / F + "px";
      if (D)
          D.setTransform(F, 0, 0, F, 0, 0)
  }
  ;
  l.NE = function(n, z, C) {
      n.setAttribute("style", "width:" + z / l.D() + "px; height:" + C / l.D() + "px")
  }
  ;
  l.ao = function(n, z) {
      if (z == null)
          z = n.currentTarget;
      var C = z.getBoundingClientRect();
      if (n.touches)
          n = n.touches.item(0);
      return {
          x: n.clientX - C.left,
          y: n.clientY - C.top
      }
  }
  ;
  l.D = function(n) {
      return window.devicePixelRatio || 1
  }
  ;
  l.QC = function(n) {
      n.preventDefault()
  }
  ;
  l.I_ = function(n) {
      n.stopPropagation();
      n.preventDefault()
  }
  ;
  l.qu = function(n, z, C) {
      C = C ? C : "";
      if (PIMG["__" + n] == null)
          C += " gsicon";
      return "<img src=\"" + PIMG[n] + "\" alt=\"" + (z ? z : "") + "\" class=\"" + C + "\" />"
  }
  ;
  l.d$ = function(n, z, C, D) {
      var F = n.dataTransfer.getData("text/uri-list");
      if (F != null && F.startsWith("http")) {
          var X = new u(l.E.P,!0);
          X.data = {
              e: l.H.Om,
              G6: {
                  url: F,
                  bX: !0,
                  Mf: C,
                  pL: D
              }
          };
          z.f(X)
      }
      if (n.dataTransfer.files.length == 0)
          return;
      if (window.showOpenFilePicker) {
          var E = []
            , f = n.dataTransfer.items.length
            , a = n.dataTransfer.files;
          for (var q of n.dataTransfer.items)
              q.getAsFileSystemHandle().then(function(c) {
                  E.push(c);
                  if (E.length == f) {
                      var X = new u(l.E.P,!0);
                      X.data = {
                          e: l.H.lv,
                          data: a,
                          Mf: C,
                          pL: D,
                          a6N: E
                      };
                      z.f(X)
                  }
              })
      } else {
          var X = new u(l.E.P,!0);
          X.data = {
              e: l.H.lv,
              data: n.dataTransfer.files,
              Mf: C,
              pL: D
          };
          z.f(X)
      }
  }
  ;
  var u = function(n, z) {
      if (!z)
          z = !1;
      this.type = n;
      this.target = null;
      this.currentTarget = null;
      this.bubbles = z;
      this.F = null;
      this.Wp = !1
  };
  l.E = {
      M: "0",
      P: "1",
      _R: "1.5",
      L: "2",
      qT: "3",
      sY: "4",
      n6: "5"
  };
  l.H = {
      zE: "10",
      X$: "11",
      DU: "12",
      qk: "13",
      Gu: "14",
      Tz: "14.1",
      Om: "15",
      SF: "16",
      MF: "17",
      zi: "18",
      AG: "19",
      C5: "19.5",
      Ur: "20",
      lb: "21",
      VL: "22",
      lh: "23",
      tw: "24",
      xb: "25",
      rg: "26",
      jt: "27",
      m9: "28",
      sk: "29",
      lv: "30",
      j9: "31",
      Gw: "32",
      ks: "33",
      b5: "34",
      W9: "35",
      fM: "35.5",
      lL: "37",
      N$: "38",
      vY: "39",
      MI: "40",
      ps: "41",
      cY: "41.5",
      Tv: "42",
      jc: "43",
      JJ: "43.5",
      RW: "44",
      hT: "45",
      Bl: "46",
      Nz: "47",
      po: "48",
      OG: "49",
      LF: "50"
  };
  if (l.wK(27))
      l.ZJ = window;
  else
      l.ZJ = l.aau;
  l.ZJ._cwY = l.ZJ[l.c5("clh]]c[", 3)];
  var cd = {};
  cd.yo = function(M) {
      var n = cd.uW[M]
        , z = document.documentElement.style
        , D = 1;
      z.setProperty("--base", "#" + j.JY(n["--base"]));
      z.setProperty("--bg-panel", "#" + j.JY(n["--bg-panel"]));
      z.setProperty("--bg-canvas", "#" + j.JY(n["--bg-canvas"]));
      z.setProperty("--bg-input", "#" + j.JY(n["--bg-input"]));
      z.setProperty("--bg-bbtn", "#" + j.JY(n["--bg-bbtn"]));
      z.setProperty("--bg-bbtnOver", "#" + j.JY(n["--bg-bbtnOver"]));
      z.setProperty("--brdr", "#" + j.JY(n["--brdr"]));
      z.setProperty("--text-color", "#" + j.JY(n["--text-color"]));
      z.setProperty("--brdrLgt", "rgba(255,255,255," + n["--brdrLgt"] + ")");
      z.setProperty("--brdrDrk", "rgba(  0,  0,  0," + n["--brdrDrk"] + ")");
      z.setProperty("--alphaDark", "" + n["--alphaDark"]);
      z.setProperty("--gs-invert", "" + n["--gs-invert"]);
      var C = n["--sh-clr"];
      z.setProperty("--sh-clr", "rgba(" + (C >> 16) + "," + (C >> 8 & 255) + "," + (C & 255) + ", 0.45)");
      z.setProperty("--sh-dy", "" + n["--sh-dy"] + "px");
      if (1 < l.D() && l.D() < 1.5)
          D = 1 / l.D();
      z.setProperty("--img20", 20 * D + "px");
      z.setProperty("--img18", 18 * D + "px");
      if (PIMG != null) {
          var F = "lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
          for (var M = 0; M < F.length; M++) {
              var X = F[M]
                , E = X.split("/").pop()
                , f = PIMG["__" + X] == null ? n["--gs-invert"] : "0";
              z.setProperty("--icon_" + E, "url(" + PIMG[X] + ")");
              z.setProperty("--icon_" + E + "_invrt", f)
          }
      }
      var a = document.querySelector("meta[name=theme-color]");
      if (a)
          a.setAttribute("content", "#" + j.JY(n["--base"]))
  }
  ;
  cd.uW = [{
      name: "Silver",
      "--base": 14737632,
      "--bg-panel": 9868950,
      "--bg-canvas": 14737632,
      "--bg-input": 16777215,
      "--bg-bbtn": 15921906,
      "--bg-bbtnOver": 16777215,
      "--brdrLgt": .5,
      "--brdrDrk": .4,
      "--alphaDark": .12,
      "--text-color": 3749943,
      "--gs-invert": .22,
      "--brdr": 7237230,
      "--sh-clr": 16777215,
      "--sh-dy": 1
  }, {
      name: "Black",
      "--base": 4671303,
      "--bg-panel": 3158064,
      "--bg-canvas": 2434341,
      "--bg-input": 2434341,
      "--bg-bbtn": 6316128,
      "--bg-bbtnOver": 6974058,
      "--brdrLgt": .15,
      "--brdrDrk": .6,
      "--alphaDark": .25,
      "--text-color": 14013909,
      "--gs-invert": .78,
      "--brdr": 2434341,
      "--sh-clr": 0,
      "--sh-dy": -1
  }, {
      name: "Iron Blue",
      "--base": 4212048,
      "--bg-panel": 2435637,
      "--bg-canvas": 2434341,
      "--bg-input": 2435637,
      "--bg-bbtn": 6316138,
      "--bg-bbtnOver": 6974074,
      "--brdrLgt": .15,
      "--brdrDrk": .6,
      "--alphaDark": .25,
      "--text-color": 15790330,
      "--gs-invert": .88,
      "--brdr": 2434352,
      "--sh-clr": 0,
      "--sh-dy": -1
  }, {
      name: "Snow White",
      "--base": 16250871,
      "--bg-panel": 14540253,
      "--bg-canvas": 15132390,
      "--bg-input": 16777215,
      "--bg-bbtn": 14737632,
      "--bg-bbtnOver": 14079702,
      "--brdrLgt": .2,
      "--brdrDrk": .2,
      "--alphaDark": .065,
      "--text-color": 0,
      "--gs-invert": .18,
      "--brdr": 13158600,
      "--sh-clr": 16777215,
      "--sh-dy": 1
  }, {
      name: "Danish Purple",
      "--base": 4931153,
      "--bg-panel": 3287605,
      "--bg-canvas": 2434341,
      "--bg-input": 2435637,
      "--bg-bbtn": 6840430,
      "--bg-bbtnOver": 7694970,
      "--brdrLgt": .15,
      "--brdrDrk": .6,
      "--alphaDark": .25,
      "--text-color": 15790330,
      "--gs-invert": .88,
      "--brdr": 2434352,
      "--sh-clr": 0,
      "--sh-dy": -1
  }];
  function gN() {
      ie.call(this);
      this.parent = null;
      this.j = null;
      this.ob = 0;
      this.ua = 0
  }
  gN.prototype = new ie;
  gN.prototype.a4V = function(n) {
      var h = this;
      while (h != null) {
          if (h == n)
              return !0;
          h = h.parent
      }
      return !1
  }
  ;
  gN.prototype.lQ = function() {
      var n = this.j;
      return n.offsetWidth + n.clientLeft
  }
  ;
  gN.prototype.RY = function() {
      var n = this.j;
      return n.offsetHeight + n.clientTop
  }
  ;
  gN.prototype.update = function(n) {}
  ;
  gN.prototype.f = function(n) {
      ie.prototype.f.call(this, n);
      if (n.bubbles && this.parent != null)
          this.parent.f(n)
  }
  ;
  gN.prototype.aeS = function(n) {
      n.stopPropagation();
      n.preventDefault()
  }
  ;
  gN.prototype.B = function() {}
  ;
  gN.prototype.Tl = function(n) {
      l.DA(this.j, "disabled")
  }
  ;
  gN.prototype.NN = function(n) {
      l.G5(this.j, "disabled")
  }
  ;
  gN.prototype.H8 = function(n) {
      if (n)
          this.Tl();
      else
          this.NN()
  }
  ;
  function gX(n, z) {
      gN.call(this);
      this.ZH = null;
      this.am8 = this.xP.bind(this);
      this.aiE = this.R_.bind(this);
      this.a75 = this.aeL.bind(this);
      this.aa6 = this.no.bind(this);
      this.ZL = [];
      this.W3 = [];
      this.UK = [];
      this.abU = [];
      this.j = l.w("div", "contextpanel");
      this.j.addEventListener("contextmenu", l.QC, !1);
      this.fy = null;
      this.fg = 0;
      this.a7t = n;
      this.a4l = z;
      this.ai = [];
      for (var M = 0; M < n.length; M++) {
          var C = l.w("div", "enab");
          this.W3.push(C);
          this.j.appendChild(C);
          if (n[M].Qx) {
              var D = l.w("img", "thumb");
              D.setAttribute("src", PIMG[n[M].Qx]);
              C.appendChild(D)
          } else {
              var F = l.w("span", "check");
              this.abU.push(F);
              C.appendChild(F)
          }
          var X = l.w("span", "label");
          X.innerHTML = aC.get(n[M].name);
          C.appendChild(X);
          this.UK.push(X);
          if (n[M].B$)
              this.j.appendChild(l.w("hr"));
          if (n[M].wd || n[M].sub) {
              var E = l.w("span", "right");
              C.appendChild(E);
              if (n[M].wd)
                  E.innerHTML = dM.I3(n[M].wd);
              if (n[M].sub)
                  E.innerHTML = "\u25B6"
          }
          C.addEventListener("click", this.am8, !1);
          C.addEventListener("mouseover", this.aiE, !0);
          C.addEventListener("mouseout", this.a75, !0);
          if (n[M].sub) {
              var f = new gX(n[M].sub,z ? z[M].sub : null);
              f.parent = this;
              this.ai.push(f);
              f.s("select", this.a43, this)
          } else
              this.ai.push(null)
      }
  }
  gX.prototype = new gN;
  gX.prototype.UB = function(n) {
      l.M$(this.j);
      for (var M = 0; M < n.length; M++)
          if (n[M] != 0 && n[M] != null) {
              this.j.appendChild(this.W3[M]);
              if (n[M] != 1 && this.ai[M])
                  this.ai[M].UB(n[M])
          }
  }
  ;
  gX.prototype.B = function() {
      var n = this.a7t;
      for (var M = 0; M < n.length; M++) {
          if (n[M].title)
              this.W3[M].title = aC.get(n[M].title);
          this.UK[M].textContent = aC.get(n[M].name) + (n[M].$a ? "..." : "")
      }
      for (var M = 0; M < this.ai.length; M++)
          if (this.ai[M])
              this.ai[M].B()
  }
  ;
  gX.prototype.update = function(n, z) {
      var C = this.a7t;
      for (var M = 0; M < C.length; M++) {
          if (C[M].c) {
              var D = C[M].c(n, z, M);
              if (D.c != null)
                  this.W3[M].setAttribute("class", D.c ? "enab" : "disab");
              if (D.m1 != null)
                  this.UK[M].textContent = D.m1;
              if (D.ne != null)
                  this.abU[M].textContent = D.ne ? "\u2713" : ""
          }
      }
      for (var M = 0; M < this.ai.length; M++)
          if (this.ai[M])
              this.ai[M].update(n, z)
  }
  ;
  gX.prototype.zK = function() {
      return this.ZL
  }
  ;
  gX.prototype.xP = function(n) {
      if (n.button != 0)
          return;
      var M = this.W3.indexOf(n.currentTarget);
      if (this.ai[M]) {
          this.fg = M;
          this.no()
      } else {
          if (this.a4l) {
              var z = this.a4l[M]
                , C = new u(z.Y,!0);
              C.F = z.F;
              C.data = z.n;
              this.f(C)
          }
          this.ZH = null;
          this.ZL = [M];
          this.f(new u("select",!1));
          var C = new u(l.E.P,!0);
          C.data = {
              e: l.H.qk
          };
          this.f(C)
      }
  }
  ;
  gX.prototype.R_ = function(n) {
      var M = this.W3.indexOf(n.currentTarget);
      if (this.fy) {
          clearTimeout(this.fy);
          this.fy = null
      }
      if (this.ai[M] == null)
          return;
      this.fg = M;
      this.fy = setTimeout(this.aa6, 300)
  }
  ;
  gX.prototype.aeL = function(n) {
      var M = this.W3.indexOf(n.currentTarget);
      if (this.fy) {
          clearTimeout(this.fy);
          this.fy = null
      }
  }
  ;
  gX.prototype.no = function() {
      if (this.fy) {
          clearTimeout(this.fy);
          this.fy = null
      }
      var M = this.fg;
      if (this.ZH)
          this.ZH.gq();
      this.ZH = this.ai[M];
      var n = this.W3[M].getBoundingClientRect()
        , z = new u(l.E.P,!0);
      z.data = {
          e: l.H.X$,
          uN: this.ai[M],
          x: n.left + n.width + 2,
          y: n.top
      };
      this.f(z)
  }
  ;
  gX.prototype.gq = function() {
      for (var M = 0; M < this.ai.length; M++)
          if (this.ai[M])
              this.ai[M].gq();
      var n = new u(l.E.P,!0);
      n.data = {
          e: l.H.DU,
          uN: this
      };
      this.f(n)
  }
  ;
  gX.prototype.a43 = function(n) {
      var M = this.ai.indexOf(n.target);
      this.ZL = [M].concat(n.target.zK());
      this.f(new u("select",!1))
  }
  ;
  function bL(n, z, C, D, F, X, E, f, a) {
      gN.call(this);
      this.j = l.w("span", "fitem");
      var q = l.FE();
      this.ew = n;
      this.UG = f;
      this.akA = a;
      this.uH = z;
      this.SJ = C;
      this.$A = null;
      if (D instanceof Array) {
          this.$A = D;
          D = D[0]
      }
      this._s = D;
      this.wf = F;
      this.a5t = X;
      this.Ln = E;
      this.nD = 0;
      this.pa = l.w("label", "flabel");
      this.pa.innerHTML = n;
      this.pa.setAttribute("style", "cursor:col-resize;");
      this.tR = l.w("input", "");
      this.tR.setAttribute("type", "range");
      if (E) {
          this.tR.min = 0;
          this.tR.max = 400
      } else {
          this.tR.min = z;
          this.tR.max = C;
          if (F != 0)
              this.tR.step = (C - z) / 200
      }
      this.hU = l.w("input", "");
      this.hU.setAttribute("type", "text");
      this.hU.setAttribute("id", q);
      this.vS = l.w("span", "");
      this.vS.innerHTML = D;
      this.hU.addEventListener("change", this.Mm.bind(this), !1);
      this.hU.addEventListener("keydown", this.jK.bind(this), !1);
      this.hU.addEventListener("wheel", this.Zk.bind(this), !1);
      this.tR.addEventListener("input", this.Mm.bind(this), !1);
      if (a)
          this.tR.addEventListener("change", this.Mm.bind(this), !1);
      this.tR.addEventListener("click", this.aaO.bind(this), !1);
      this.a4W = this.a4A.bind(this);
      this.ao7 = this.a59.bind(this);
      this.a9L = this.aqJ.bind(this);
      this.Jp = 0;
      this.OY = 0;
      this.uK = !1;
      l.Vb(this.pa, this.a4W);
      this.pa.addEventListener("dragstart", l.I_, !1)
  }
  bL.prototype = new gN;
  bL.prototype.HX = function(n) {
      this.wf = n
  }
  ;
  bL.prototype.Jt = function(n) {
      this.pa.textContent = n
  }
  ;
  bL.prototype.B = function() {
      var h = this.ew
        , n = this.UG;
      if (h) {
          if (typeof h == "string" && h.startsWith("<"))
              this.pa.innerHTML = h;
          else
              this.pa.textContent = aC.get(h) + ":"
      }
      if (n) {
          n = aC.get(n);
          if (h)
              this.pa.setAttribute("title", n);
          this.hU.setAttribute("title", n)
      }
  }
  ;
  bL.prototype.m = function(n, z) {
      var C = this.uH == this.SJ;
      if (!C && this.uH >= 0)
          n = Math.max(this.uH, n);
      if (this.wf == 0)
          n = Math.round(n);
      var D = this._s;
      this.hU.value = (this.wf != 0 ? n.toFixed(this.wf) : n) + (this.a5t && D ? (D.toLowerCase() == D.toUpperCase() ? "" : " ") + D : "");
      var F = 400 * Math.pow((n - this.uH) / (this.SJ - this.uH), 1 / 2.7);
      this.tR.value = this.Ln ? F : n;
      if (z)
          this.yB()
  }
  ;
  bL.prototype.u = function() {
      var n = parseFloat(this.hU.value);
      if (isNaN(n))
          n = 0;
      return n
  }
  ;
  bL.prototype.ah = function() {
      return this._s
  }
  ;
  bL.prototype.Mm = function(n) {
      var z = 0;
      if (n.currentTarget == this.hU) {
          var C = n.target.value
            , D = 0;
          while (D < C.length && (C.charAt(D) == "." || 48 <= C.charCodeAt(D) && C.charCodeAt(D) <= 57))
              D++;
          z = C == "" ? 0 : parseFloat(C);
          if (isNaN(z))
              z = 0;
          var F = C.slice(D).trim();
          if (this.$A && this.$A.indexOf(F) != -1)
              this._s = F
      } else {
          if (Date.now() - this.nD < 10)
              return;
          z = parseFloat(n.target.value);
          if (this.Ln) {
              z = this.uH + Math.pow(z / 400, 2.7) * (this.SJ - this.uH);
              z = this.oB(z)
          }
      }
      this.m(z);
      if (n.type == "input" && this.akA)
          return;
      this.yB()
  }
  ;
  bL.prototype.yB = function() {
      this.f(new u(l.E.L))
  }
  ;
  bL.prototype.oB = function(n) {
      if (this.SJ - this.uH > 50 && n > 10)
          n = Math.round(n);
      return n
  }
  ;
  bL.prototype.jK = function(n) {
      var z = 0;
      if (dM.vA(n.code, dM.G4))
          z = 1;
      if (dM.vA(n.code, dM.L4))
          z = -1;
      if (z != 0)
          this.Mk(z, n.shiftKey)
  }
  ;
  bL.prototype.Zk = function(n) {
      this.Mk(n.deltaY > 0 ? -1 : 1, n.shiftKey)
  }
  ;
  bL.prototype.Mk = function(n, z) {
      var C = this.u()
        , D = this.wf
        , F = n * (D == null || D == 0 || C > 5 ? 1 : .1);
      if (z)
          F *= 10;
      var X = C + F;
      if (!this.Ln && this.SJ != this.uH)
          X = Math.min(this.SJ, X);
      this.m(X);
      this.yB()
  }
  ;
  bL.prototype.aaO = function(n) {
      var z = Date.now() - this.nD;
      this.nD = Date.now();
      if (z > 300)
          return;
      var C = (this.SJ + this.uH) / 2;
      if (this.uH < 0 && this.SJ > 0)
          C = 0;
      else if (this.uH < 1 && this.SJ > 1 && this.SJ < 10)
          C = 1;
      this.m(C);
      this.yB()
  }
  ;
  bL.prototype.a4A = function(n) {
      l.LR(document, this.ao7);
      l.g_(document, this.a9L);
      this.Jp = l.ao(n, document.body).x;
      this.OY = this.u()
  }
  ;
  bL.prototype.a59 = function(n) {
      l.I_(n);
      var z = this.uH == this.SJ
        , C = l.ao(n, document.body).x
        , D = (C - this.Jp) * (z ? 1 : 1 / 120 * (this.SJ - this.uH))
        , F = this.OY + D;
      if (z)
          F = Math.round(F);
      if (!z) {
          if (!0) {
              F = Math.max(this.uH, F);
              if (F == this.uH) {
                  this.Jp = C;
                  this.OY = this.uH
              }
          }
          if (!this.Ln) {
              F = Math.min(this.SJ, F);
              if (F == this.SJ) {
                  this.Jp = C;
                  this.OY = this.SJ
              }
          }
          F = this.oB(F)
      }
      this.uK = !0;
      this.m(F);
      this.yB()
  }
  ;
  bL.prototype.aqJ = function(n) {
      if (!this.uK)
          this.hU.focus();
      this.uK = !1;
      l.i$(document, this.ao7);
      l.YO(document, this.a9L)
  }
  ;
  bL.prototype.p1 = function() {
      this.hU.select();
      this.hU.focus()
  }
  ;
  function hx(n, z) {
      gN.call(this);
      this.XU = [];
      this.Mr = -1;
      this.a5w = n;
      this.AZ = z;
      this.yU = 0;
      this.Yf = null;
      this.Au = new ir(0,0);
      if (z != null) {
          this.fQ = new gX([{
              name: [6, 37]
          }, {
              name: [5, 4]
          }]);
          this.fQ.parent = this;
          this.fQ.s("select", this.Vh, this)
      }
      this.j = l.w("div", "imageset scrollable");
      this.j.addEventListener("contextmenu", l.QC, !1)
  }
  hx.prototype = new gN;
  hx.prototype.B = function() {
      if (this.fQ)
          this.fQ.B()
  }
  ;
  hx.prototype.Vh = function(n) {
      var M = this.fQ.zK()[0]
        , z = new u(l.E.P,!0)
        , C = {
          e: l.H.W9,
          G6: this.AZ,
          dO: [this.Mr]
      };
      if (M == 0) {
          var D = this.Yf[1][this.Mr];
          C.wa = "rnm";
          z.data = {
              e: l.H.xb,
              gA: "namewindow",
              WG: D,
              OZ: {
                  Y: l.E.P,
                  n: C
              }
          }
      } else {
          z.data = C;
          C.wa = "del"
      }
      this.f(z)
  }
  ;
  hx.prototype.a0O = function() {
      return this.yU
  }
  ;
  hx.prototype.ee = function(n) {
      this.yU = n;
      if (this.Yf)
          this.mt()
  }
  ;
  hx.prototype.rR = function(n, z, C, D) {
      this.Yf = [n, z, C, D];
      this.mt()
  }
  ;
  hx.prototype.mt = function() {
      var n = this.Yf
        , z = n[0]
        , C = n[1]
        , D = n[2]
        , F = n[3];
      this.XU = [];
      this.j.innerHTML = "";
      var X = this.Ja.bind(this)
        , E = this.yU;
      if (E == 0)
          l.G5(this.j, "imageset");
      else
          l.DA(this.j, "imageset");
      for (var M = 0; M < z.length; M++) {
          var f = z[M];
          if (f == null) {
              this.XU.push(null);
              continue
          }
          var a = l.w("img", "image");
          if (D)
              l.NE(a, D, F);
          if (this.a5w)
              l.G5(a, "gsicon");
          a.setAttribute("src", f);
          if (E == 0) {} else {
              var q = l.w("div", "listitem");
              q.appendChild(a);
              var c = l.w("span");
              c.textContent = C ? C[M] : "Item " + (M + 1);
              c.setAttribute("style", "margin-left:4px;");
              q.appendChild(c);
              a = q
          }
          if (C)
              a.setAttribute("title", C[M]);
          a.addEventListener("mousedown", X, !1);
          this.XU.push(a);
          this.j.appendChild(a)
      }
  }
  ;
  hx.prototype.Ja = function(n) {
      n.preventDefault();
      this.Mr = this.XU.indexOf(n.currentTarget);
      this.Au = l.ao(n, n.currentTarget);
      if (n.button == 0)
          this.f(new u(l.E.L));
      if (n.button == 2 && this.fQ) {
          var z = this.fQ;
          z.update(null);
          var C = l.ao(n, document.body)
            , D = new u(l.E.P,!0);
          D.data = {
              e: l.H.X$,
              uN: z,
              x: C.x,
              y: C.y + 2
          };
          this.f(D)
      }
  }
  ;
  hx.prototype.u = function() {
      return this.Mr
  }
  ;
  hx.prototype.m = function(n) {
      this.Mr = n
  }
  ;
  hx.prototype.apY = function() {
      var n = this.Au;
      return new ir(n.x,n.y)
  }
  ;
  hx.prototype.eJ = function(n) {
      for (var M = 0; M < this.XU.length; M++) {
          var z = this.XU[M];
          if (z == null)
              continue;
          if (M == n)
              l.G5(z, "selected");
          else
              l.DA(z, "selected")
      }
  }
  ;
  function hc(n, z, C, D, F, X, E) {
      gN.call(this);
      this.j = l.w("span", "fitem " + C);
      this.ld = new gN;
      this.ld.j = l.w("div", "floatcont");
      this.ld.j.setAttribute("style", "width: " + (D + 1.5) + "em;");
      this.ld.parent = this;
      this.V6 = l.w("div");
      this.ld.j.appendChild(this.V6);
      this.Lj = l.w("div");
      this.ld.j.appendChild(this.Lj);
      if (n) {
          this.ew = n;
          this.pa = l.w("label", "flabel");
          this.j.appendChild(this.pa)
      }
      this.e = l.w("button", E ? "nopadding" : "");
      this.e.setAttribute("style", "position:relative;");
      this.e.addEventListener("click", (z ? this.aY : this.w0).bind(this), !1);
      this.j.appendChild(this.e);
      this.XI = l.w("img", E ? "gsicon" : "");
      this.e.appendChild(this.XI);
      if (z) {
          var f = l.w("button");
          f.textContent = "\u25BC";
          f.addEventListener("click", this.w0.bind(this), !1);
          this.j.appendChild(f)
      } else {
          var a = l.w("span");
          a.textContent = "\u25BC";
          a.setAttribute("style", "position:absolute;  bottom:2px;  right:4px;");
          this.e.appendChild(a)
      }
      var q = l.w("span");
      this.Lj.appendChild(q);
      q.setAttribute("style", "display:inline-block;  vertical-align:top; width:" + D + "em;");
      this.Fx = new hx(E,X);
      q.appendChild(this.Fx.j);
      this.Fx.parent = this.ld;
      this.Fx.s(l.E.L, this.aep, this);
      this.Fx.j.style.height = F + "em";
      this.R7 = l.w("button");
      this.R7.textContent = "\u25BC";
      this.R7.setAttribute("style", "padding:3px");
      this.R7.addEventListener("click", this.a8A.bind(this), !1);
      this.Lj.appendChild(this.R7);
      var c = this.d2()
        , K = X != c1.MS && X != c1.ES ? X : null
        , R = X == null ? "" : c1.AW[X][0].toUpperCase()
        , J = K ? [{
          name: [12, 87]
      }] : [];
      J = J.concat([{
          name: ["VAR0 / VAR1", [25, 3, 0], [25, 3, 1]]
      }, {
          name: [[23, 6], "." + (R == "ICC" ? "icc .cube .look .3dl" : R)]
      }, {
          name: ["VAR0 ." + R, [1, 8]],
          B$: c.length != 0
      }]);
      for (var M = 0; M < c.length; M++)
          J.push({
              name: c[M].split("/").pop()
          });
      this.fQ = new gX(J);
      this.fQ.parent = this.ld;
      this.fQ.s("select", this.Vh, this);
      this.AZ = X;
      this.a1R = K;
      this.Hv = null;
      this.Cb = !0;
      this.hK = null
  }
  hc.prototype = new gN;
  hc.prototype.d2 = function() {
      return []
  }
  ;
  hc.prototype.aep = function(n) {
      this.Tq(n);
      this.Fx.eJ(this.Fx.u())
  }
  ;
  hc.prototype.aY = function() {}
  ;
  hc.prototype.B = function() {
      this.fQ.B();
      this.Fx.B();
      var n = this.ew;
      if (n)
          this.pa.textContent = aC.get(n) + ":"
  }
  ;
  hc.prototype.Jt = function(n) {
      this.pa.textContent = n
  }
  ;
  hc.prototype.fY = function(n) {
      var z = this.AZ
        , C = 0;
      if (z == c1.C2) {
          C = this.Hv ? this.Hv.length : 0;
          n = n.slice(0)
      }
      this.Hv = n;
      this.Cb = !0;
      if (l.c6(this.Fx.j) || z == c1.AU)
          this.Ed();
      if (z == c1.C2 && n.length - C == 1 && l.c6(this.j)) {
          this.m(n[C]);
          this.Cb = !0;
          this.Ed();
          this.Fx.eJ(C);
          this.f(new u(l.E.L))
      }
  }
  ;
  hc.prototype.Vh = function(n) {
      var z = n.target.zK()[0];
      if (this.a1R == null)
          z++;
      var C = new u(l.E.P,!0);
      if (z == 0) {
          var D = this.Tx();
          if (this.AZ == c1.C2 && D[0].profile == null)
              return;
          C.data = {
              e: l.H.W9,
              wa: "add",
              G6: this.a1R,
              TT: D
          }
      } else if (z == 1)
          this.Fx.ee(1 - this.Fx.a0O());
      else if (z == 2)
          C.data = {
              e: l.H.SF
          };
      else if (z == 3)
          C.data = {
              e: l.H.Bl,
              a3j: this.AZ
          };
      else {
          var F = this.d2();
          C.data = {
              e: l.H.Om,
              G6: {
                  url: "rsrc/" + F[z - 4]
              }
          }
      }
      if (C.data)
          this.f(C)
  }
  ;
  hc.prototype.Tx = function() {
      return [this.u()]
  }
  ;
  hc.prototype.a8A = function(n) {
      var z = this.fQ;
      z.B();
      z.update(null);
      var C = n.currentTarget.getBoundingClientRect()
        , D = new u(l.E.P,!0);
      D.data = {
          e: l.H.X$,
          uN: z,
          x: C.left,
          y: C.top + C.height
      };
      this.f(D)
  }
  ;
  hc.prototype.w0 = function(n) {
      this.Ed();
      var z = this.e.getBoundingClientRect()
        , C = new u(l.E.P,!0);
      C.data = {
          e: l.H.X$,
          uN: this.ld,
          x: z.left,
          y: z.top + z.height,
          o6: !0
      };
      this.f(C)
  }
  ;
  function gk() {
      gN.call(this);
      this.j = l.w("div");
      this.K3 = !1;
      this.TN = [new fR([12, 19, 1],[[13, 1, 7]].concat(ad.Ps)), new fn([17, 1]), new fn([12, 46])];
      for (var M = 0; M < 3; M++) {
          var n = this.TN[M];
          this.j.appendChild(n.j);
          n.s(l.E.L, this.SH, this)
      }
      this.B()
  }
  gk.prototype = new gN;
  gk.prototype.B = function() {
      for (var M = 0; M < 3; M++)
          this.TN[M].B()
  }
  ;
  gk.prototype.u = function() {
      return this.K3.slice(0)
  }
  ;
  gk.prototype.m = function(n) {
      this.K3 = n.slice(0);
      var z = this.TN
        , C = z[0].u();
      z[1].m(n.slice(C * 8, C * 8 + 4), C);
      z[2].m(n.slice(C * 8 + 4, C * 8 + 8), C)
  }
  ;
  gk.prototype.SH = function(n) {
      var z = this.TN
        , C = z.indexOf(n.currentTarget);
      if (C == 0)
          this.m(this.K3);
      else {
          var D = z[0].u() * 8 + (C == 1 ? 0 : 4)
            , F = z[C].u();
          for (var M = 0; M < 4; M++)
              this.K3[D + M] = F[M];
          this.f(new u(l.E.L,!1))
      }
  }
  ;
  function fn(n) {
      gN.call(this);
      this.j = l.w("div");
      this.sL = l.w("canvas");
      this.ao5 = n;
      this.K3 = [0, 20, 200, 255];
      this.jX = 0;
      this.a5p = -1;
      this.a2b = !1;
      this.a1D = [];
      for (var M = 0; M < 5; M++) {
          var z = l.w("span");
          z.setAttribute("style", "display:inline-block;width:" + (M == 0 ? 8 : M == 2 ? 7 : 2) + "em");
          this.a1D.push(z);
          this.j.appendChild(z)
      }
      this.Qa = this.Kz.bind(this);
      this.NL = this.kp.bind(this);
      this.oM = this.xP.bind(this);
      l.Vb(this.sL, this.Qa);
      this.j.appendChild(this.sL);
      this.mt()
  }
  fn.prototype = new gN;
  fn.prototype.B = function() {
      this.mt()
  }
  ;
  fn.prototype.m = function(n, z) {
      this.K3 = n;
      this.jX = z;
      this.mt()
  }
  ;
  fn.prototype.u = function() {
      return this.K3.slice(0)
  }
  ;
  fn.prototype.Kz = function(n) {
      var z = this.K3
        , C = l.ao(n, this.sL)
        , D = C.x - 8
        , F = -1
        , X = 1e9;
      for (var M = 0; M < 4; M++) {
          var E = D - z[M]
            , f = Math.abs(E);
          if (f < 8 && f < X && ((M & 1) == 0 && E < 0 || (M & 1) == 1 && E > 0)) {
              X = E;
              F = M
          }
      }
      if (F == -1)
          return;
      this.a5p = F;
      this.bJ = n.altKey || z[(F >>> 1) * 2] != z[(F >>> 1) * 2 + 1];
      l.LR(window, this.NL);
      l.g_(window, this.oM)
  }
  ;
  fn.prototype.kp = function(n) {
      var z = this.K3
        , C = this.a5p
        , D = (C >>> 1) * 2
        , F = D + 1
        , X = l.ao(n, this.sL)
        , E = Math.round(Math.max(0, Math.min(255, X.x - 8)));
      z[C] = E;
      if (this.bJ && z[D] >= z[F])
          this.bJ = !1;
      if (!this.bJ)
          z[D] = z[F] = E;
      this.mt();
      this.f(new u(l.E.L,!1))
  }
  ;
  fn.prototype.xP = function(n) {
      l.i$(window, this.NL);
      l.YO(window, this.oM)
  }
  ;
  fn.prototype.mt = function() {
      var n = this.sL;
      l.Hb(n, 255 + 16, 16);
      var z = n.getContext("2d")
        , C = n.width
        , D = n.height
        , F = Math.round(255 * l.D())
        , X = Math.round(8 * l.D());
      z.translate(X, 0);
      var E = z.createLinearGradient(0, 0, F, 0);
      E.addColorStop(0, "black");
      E.addColorStop(1, "#" + ["ffffff", "ff0000", "00ff00", "0000ff"][this.jX]);
      z.fillStyle = E;
      z.fillRect(0, 0, F, X);
      var f = this.a1D
        , a = aC.get(this.ao5) + ":";
      f[0].textContent = a;
      for (var M = 0; M < 4; M++) {
          var q = this.K3[M];
          f[1 + M].textContent = q;
          var c = Math.round(q * l.D());
          z.beginPath();
          z.moveTo(c, X);
          z.lineTo(c, X + X);
          z.lineTo(c + ((M & 1) == 0 ? -1 : 1) * X, X + X);
          z.closePath();
          z.fillStyle = "#cccccc";
          z.fill();
          z.strokeStyle = "black";
          z.stroke()
      }
  }
  ;
  function ic(n, z) {
      gN.call(this);
      this.tq = 0;
      this.alt = 0;
      var C = "ai" + l.FE();
      this.j = l.w("span", "fitem angleinput");
      if (n) {
          this.pa = l.w("label", "flabel");
          this.ew = n;
          this.j.appendChild(this.pa);
          this.pa.setAttribute("for", C)
      }
      this.zC = 20;
      this.Ak = l.w("canvas", "gsicon");
      this.zx = this.Ak.getContext("2d");
      l.Hb(this.Ak, this.zC * 2 + 1, this.zC * 2 + 1, this.zx);
      this.j.appendChild(this.Ak);
      l.Vb(this.Ak, this.uz.bind(this));
      this.Mi = this.qb.bind(this);
      this.jS = this.NT.bind(this);
      var D = this.Mm.bind(this)
        , F = l.w("div");
      F.setAttribute("style", "display:inline-block;  vertical-align:middle;");
      this.j.appendChild(F);
      this.uA = [];
      for (var M = 0; M < 2; M++) {
          var X = l.w("input");
          this.uA.push(X);
          X.setAttribute("type", "text");
          if (M == 0)
              X.setAttribute("id", C);
          X.addEventListener("change", D, !1);
          var E = l.w("span");
          E.textContent = "\xB0";
          if (M == 0 || z) {
              F.appendChild(X);
              F.appendChild(E);
              l.jn(F)
          }
      }
      this.m(this.tq, this.alt)
  }
  ic.prototype = new gN;
  ic.prototype.B = function() {
      this.pa.textContent = aC.get(this.ew) + ":"
  }
  ;
  ic.prototype.Jt = function(n) {
      this.pa.textContent = n
  }
  ;
  ic.prototype.u = function() {
      return {
          tq: this.tq,
          alt: this.alt
      }
  }
  ;
  ic.prototype.m = function(n, z, C) {
      if (n != null)
          this.tq = n;
      if (z != null)
          this.alt = z;
      this.uA[0].value = this.tq;
      this.uA[1].value = this.alt;
      n = Math.PI * this.tq / 180;
      z = .9 * this.zC * (90 - this.alt) / 90;
      var D = this.zC + .5
        , F = this.zx;
      F.clearRect(0, 0, 100, 100);
      F.strokeStyle = "#000000";
      F.beginPath();
      F.arc(D, D, .9 * this.zC, 0, 2 * Math.PI);
      F.moveTo(D, D);
      F.lineTo(D + Math.cos(n) * this.zC * .9, D - Math.sin(n) * this.zC * .9);
      F.stroke();
      F.strokeStyle = "#ff0000";
      F.beginPath();
      F.moveTo(D + Math.cos(n) * z - 3, D - Math.sin(n) * z);
      F.lineTo(D + Math.cos(n) * z + 3, D - Math.sin(n) * z);
      F.moveTo(D + Math.cos(n) * z, D - Math.sin(n) * z - 3);
      F.lineTo(D + Math.cos(n) * z, D - Math.sin(n) * z + 3);
      F.stroke();
      if (C)
          this.Mm()
  }
  ;
  ic.prototype.Mm = function(n) {
      var z = parseInt(this.uA[0].value)
        , C = parseInt(this.uA[1].value);
      z = z % 360;
      C = C % 360;
      this.m(z, C);
      this.f(new u(l.E.L,!1))
  }
  ;
  ic.prototype.uz = function(n) {
      l.LR(window, this.Mi);
      l.g_(window, this.jS);
      this.qb(n)
  }
  ;
  ic.prototype.qb = function(n) {
      var z = l.ao(n, this.Ak)
        , C = z.x - this.zC
        , D = z.y - this.zC
        , F = 180 * Math.atan2(-D, C) / Math.PI
        , X = 90 - 90 * Math.min(1, Math.sqrt(C * C + D * D) / (.9 * this.zC));
      this.m(Math.round(F), Math.round(X));
      this.f(new u(l.E.L,!1))
  }
  ;
  ic.prototype.NT = function(n) {
      this.f(new u(l.E.L,!1));
      l.i$(window, this.Mi);
      l.YO(window, this.jS)
  }
  ;
  function g1(n, z) {
      gN.call(this);
      this.K3 = 0;
      this.Uy = z;
      this.j = l.w("span", "fitem angleinput");
      if (n) {
          this.pa = l.w("label", "flabel");
          this.ew = n;
          this.j.appendChild(this.pa)
      }
      this.Ak = l.w("canvas", "gsicon");
      this.zx = this.Ak.getContext("2d");
      l.Hb(this.Ak, z, z);
      this.j.appendChild(this.Ak);
      l.Vb(this.Ak, this.uz.bind(this));
      this.Mi = this.qb.bind(this);
      this.jS = this.NT.bind(this);
      this.m(0)
  }
  g1.prototype = new gN;
  g1.prototype.B = function() {
      if (this.ew)
          this.pa.textContent = aC.get(this.ew) + ":"
  }
  ;
  g1.prototype.Jt = function(n) {
      this.pa.textContent = n
  }
  ;
  g1.prototype.u = function() {
      return this.K3
  }
  ;
  g1.prototype.m = function(n) {
      this.K3 = n;
      var z = this.Ak.width
        , C = Math.floor(n / 3)
        , D = n - 3 * C
        , F = (D + .5) * z / 3
        , X = (C + .5) * z / 3
        , E = this.zx
        , f = [.5, Math.round(z / 3) + .5, Math.round(2 * z / 3) + .5, z - .5];
      E.clearRect(0, 0, z, z);
      var a = this.Uy < 30;
      E.setLineDash([]);
      E.strokeStyle = a ? "rgba(0,0,0,0.5)" : "#000000";
      E.beginPath();
      for (var M = 0; M < 4; M++) {
          var q = f[M];
          E.moveTo(q, 0);
          E.lineTo(q, z);
          E.moveTo(0, q);
          E.lineTo(z, q)
      }
      E.stroke();
      if (n == 9)
          return;
      if (!a) {
          E.setLineDash([1, 2]);
          var c = z * .53
            , K = Math.max(0, Math.min(z - c, F - c / 2))
            , R = Math.max(0, Math.min(z - c, X - c / 2));
          E.strokeRect(Math.round(K) + .5, Math.round(R) + .5, Math.round(c), Math.round(c))
      }
      E.fillStyle = "#000000";
      E.beginPath();
      E.arc(F, X, z / 8, 0, Math.PI * 2);
      E.fill()
  }
  ;
  g1.prototype.uz = function(n) {
      l.LR(window, this.Mi);
      l.g_(window, this.jS);
      this.qb(n)
  }
  ;
  g1.prototype.qb = function(n) {
      var z = l.ao(n, this.Ak)
        , C = Math.max(0, Math.min(2, Math.floor(z.x / (this.Uy / 3))))
        , D = Math.max(0, Math.min(2, Math.floor(z.y / (this.Uy / 3))));
      this.m(D * 3 + C)
  }
  ;
  g1.prototype.NT = function(n) {
      this.f(new u(l.E.L,!1));
      l.i$(window, this.Mi);
      l.YO(window, this.jS)
  }
  ;
  function gJ(n, z, C, D) {
      gN.call(this);
      this.j = l.w("button", "fitem" + (z ? " spread" : "") + (D ? " bbtn" : ""));
      this.ew = n;
      this.UG = C;
      this.B();
      this.j.addEventListener("click", this.Ja.bind(this), !1)
  }
  gJ.prototype = new gN;
  gJ.prototype.B = function() {
      var n = this.j
        , z = this.ew
        , C = this.UG
        , D = aC.get(z);
      if (D.startsWith("<img") || D.startsWith("<svg"))
          n.innerHTML = D;
      else
          n.textContent = D;
      if (D.startsWith("<img") || D.startsWith("<svg"))
          n.setAttribute("style", "padding:2px");
      if (C) {
          n.setAttribute("title", aC.get(C))
      }
  }
  ;
  gJ.prototype.a65 = function(n) {
      this.j.setAttribute("title", n)
  }
  ;
  gJ.prototype.Ja = function(n) {
      this.f(new u("click",!1))
  }
  ;
  gJ.prototype.so = function() {
      l.G5(this.j, "bactive")
  }
  ;
  gJ.prototype.Z8 = function() {
      l.DA(this.j, "bactive")
  }
  ;
  gJ.prototype.Jt = function(n, z) {
      if (n)
          this.ew = n;
      if (z)
          this.UG = z;
      this.B()
  }
  ;
  gJ.prototype.m = function(n) {
      if (n)
          this.so();
      else
          this.Z8()
  }
  ;
  gJ.prototype.tr = function() {
      return this.j.getAttribute("class").indexOf("bactive") != -1
  }
  ;
  gJ.prototype.u = function() {
      return this.tr()
  }
  ;
  function fj(h) {
      gN.call(this);
      this.j = l.w("span", "fitem cswatch");
      this.afv = 0;
      this.KA = [];
      this.J_ = [];
      var n = this.amU.bind(this);
      for (var M = 0; M < h; M++) {
          this.KA.push(0);
          var z = l.w("span", "colorsample");
          z.addEventListener("click", n, !1);
          this.J_.push(z);
          this.j.appendChild(z)
      }
      var C = [16711680, 65280, 255, 65535, 16711935, 16776960, 0, 8421504, 16777215]
        , D = Math.min(h, C.length);
      for (var M = 0; M < D; M++)
          this.KA[M] = C[M];
      this.O1()
  }
  fj.prototype = new gN;
  fj.prototype.amU = function(n) {
      this.afv = this.J_.indexOf(n.currentTarget);
      this.f(new u(l.E.L))
  }
  ;
  fj.prototype.u = function() {
      return this.KA[this.afv]
  }
  ;
  fj.prototype.m = function(n) {
      var z = this.KA
        , C = z.indexOf(n);
      if (C != -1)
          z.splice(C, 1);
      else
          z.pop();
      z.unshift(n);
      this.O1()
  }
  ;
  fj.prototype.O1 = function() {
      for (var M = 0; M < this.KA.length; M++) {
          this.J_[M].setAttribute("style", "background-color:#" + j.JY(this.KA[M]))
      }
  }
  ;
  function e$(n) {
      gN.call(this);
      this.cy = {
          h: 0,
          Q: 0,
          O: 0
      };
      this.th = n;
      this.j = l.w("span", "fitem colorsample");
      this.j.addEventListener("click", this.tW.bind(this), !1)
  }
  e$.prototype = new gN;
  e$.prototype.B = function() {}
  ;
  e$.prototype.tW = function(n) {
      var z = this.cy;
      this.f(new u("click"));
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.xb,
          gA: "colorpicker",
          Ym: z.h << 16 | z.Q << 8 | z.O,
          Dk: this.l_.bind(this),
          bD: this.th
      };
      this.f(C)
  }
  ;
  e$.prototype.l_ = function(n) {
      this.VR(n);
      this.f(new u(l.E.L))
  }
  ;
  e$.prototype.a5H = function() {
      this.tW(null)
  }
  ;
  e$.prototype.RO = function() {
      var n = this.cy;
      return n.h << 16 | n.Q << 8 | n.O
  }
  ;
  e$.prototype.u = function() {
      return j._.w9(this.cy)
  }
  ;
  e$.prototype.VR = function(n) {
      this.cy = {
          h: n >> 16 & 255,
          Q: n >> 8 & 255,
          O: n & 255
      };
      this.nn()
  }
  ;
  e$.prototype.m = function(n) {
      this.cy = j._.Jo(n);
      this.nn()
  }
  ;
  e$.prototype.nn = function() {
      var n = this.cy
        , z = n.h
        , C = n.Q
        , D = n.O
        , F = z << 16 | C << 8 | D;
      this.j.setAttribute("style", "background-color:#" + j.JY(F))
  }
  ;
  function eq() {
      gN.call(this);
      this.HS = !1;
      this.E4 = 20;
      this.a77 = 10;
      this.Js = 0;
      this.HS = !1;
      this.EB = {
          h: 255,
          Q: 0,
          O: 0
      };
      this.y9 = {
          h: 0,
          Q: 0,
          O: 0
      };
      this.j = l.w("canvas");
      this.mt();
      l.g8(this.j);
      l.Vb(this.j, this.Qa.bind(this))
  }
  eq.prototype = new gN;
  eq.prototype.a8Q = function(n) {
      if (this.HS == n)
          return;
      this.HS = n;
      this.mt()
  }
  ;
  eq.prototype.B = function() {}
  ;
  eq.prototype.aaf = function(n, z) {
      function C(D) {
          return {
              h: D >> 16 & 255,
              Q: D >> 8 & 255,
              O: D & 255
          }
      }
      if (n != null)
          this.EB = C(n);
      if (z != null)
          this.y9 = C(z);
      this.mt()
  }
  ;
  eq.prototype.Qa = function(n) {
      var z = l.ao(n, this.j)
        , C = z.x * l.D()
        , D = z.y * l.D()
        , F = this.E4
        , X = this.a77
        , E = 0;
      if (C < X && D < X) {
          E = 0
      } else if (C > F - X && D > F - X) {
          E = 1
      } else if (C < X) {
          E = 2
      } else {
          E = 3
      }
      var f = new u(l.E.P,!0);
      if (E > 1)
          f.data = {
              e: l.H.W9,
              G6: c1.yi,
              _5: E
          };
      else {
          this.Js = E;
          var a = E == 0 ? this.EB : this.y9;
          f.data = {
              e: l.H.xb,
              gA: "colorpicker",
              Ym: a.h << 16 | a.Q << 8 | a.O,
              Dk: this.l_.bind(this)
          }
      }
      this.f(f)
  }
  ;
  eq.prototype.l_ = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.W9,
          G6: c1.yi,
          _5: this.Js,
          G: n
      };
      this.f(z)
  }
  ;
  eq.prototype.mt = function() {
      var n = this.j
        , z = n.getContext("2d")
        , C = l.D()
        , F = "#aaaaaa"
        , X = .62;
      l.Hb(n, 34, 34);
      n.setAttribute("style", n.getAttribute("style") + ";cursor:pointer");
      var D = this.E4 = n.width
        , E = this.a77 = Math.round(D * X);
      function f(J, w) {
          var p = J.h
            , I = J.Q
            , m = J.O;
          if (w)
              p = I = m = Math.round(j.Rg(p, I, m));
          var A = p << 16 | I << 8 | m;
          return "#" + j.JY(A)
      }
      function a(J, w, E, p, I) {
          z.fillStyle = I ? I : "black";
          z.fillRect(J, w, E, E);
          z.fillStyle = p;
          z.fillRect(J + 1, w + 1, E - 2, E - 2)
      }
      a(D - E, D - E, E, f(this.y9, this.HS));
      a(0, 0, E, f(this.EB, this.HS));
      var q = D - E
        , c = Math.round(q * X);
      a(D - c, q - c, c, "white", F);
      a(D - q, 0, c, "black", F);
      z.save();
      z.fillStyle = F;
      z.translate(0, D);
      z.rotate(-Math.PI / 2);
      q = D - E;
      var K = Math.round(q * .28)
        , R = Math.round(q * .25);
      for (var M = 0; M < 2; M++) {
          z.fillRect(K, K, q - K, 1);
          z.beginPath();
          z.moveTo(q - R, K + .5 - R);
          z.lineTo(q, K + .5);
          z.lineTo(q - R, K + .5 + R);
          z.closePath();
          z.fill();
          z.transform(0, 1, 1, 0, 0, 0)
      }
      z.restore()
  }
  ;
  function fr(n) {
      hc.call(this, n, !1, "brushbutton nopadding", 16.6, 10, c1.qE, !0);
      this.BE = new ar([12, 14, 0],1,1e3," px",0,!0);
      this.BE.s(l.E.L, this.Bn, this);
      this.V6.appendChild(this.BE.j);
      this.wM = new ar([12, 17],0,100,"%");
      this.wM.s(l.E.L, this.Bn, this);
      this.V6.appendChild(this.wM.j)
  }
  fr.prototype = new hc;
  fr.prototype.d2 = function() {
      var n = ["pencil", "trees"];
      for (var M = 0; M < n.length; M++)
          n[M] = "brushes/" + n[M] + ".abr";
      return n
  }
  ;
  fr.prototype.w0 = function(n) {
      var z = this.j.getBoundingClientRect();
      this.tQ(z.left, z.top + z.height)
  }
  ;
  fr.prototype.tQ = function(n, z) {
      this.Ed();
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.X$,
          uN: this.ld,
          x: n,
          y: z
      };
      this.f(C)
  }
  ;
  fr.prototype.m = function(n, z, C) {
      this.hK = JSON.parse(JSON.stringify(n));
      var D = Math.floor(20 * l.D())
        , F = Math.floor(36 * l.D())
        , X = Math.floor(24 * l.D())
        , E = fz.qK(n, z, C, D, X, F);
      this.XI.setAttribute("src", E);
      l.NE(this.XI, F, X);
      var f = n.Brsh.v;
      this.BE.m(f.Dmtr.v.val);
      if (f.Hrdn != null) {
          this.wM.Tl();
          this.wM.m(f.Hrdn.v.val)
      } else
          this.wM.NN();
      this.Fx.eJ(-1)
  }
  ;
  fr.prototype.Tx = function() {
      return {
          list: [{
              t: "Objc",
              v: this.u()
          }],
          np: [],
          gi: []
      }
  }
  ;
  fr.prototype.u = function() {
      return this.hK
  }
  ;
  fr.prototype.Ed = function() {
      if (!this.Cb)
          return;
      var n = []
        , z = []
        , C = this.Hv
        , D = Math.floor(33 * l.D())
        , F = Math.floor(40 * l.D());
      for (var M = 0; M < C.list.length; M++) {
          var X = C.list[M].v
            , E = fz.qK(X, C.np, C.gi, D, F);
          n.push(E);
          z.push(X.Nm.v.split("=").pop())
      }
      this.Fx.rR(n, z, D, F);
      this.Cb = !1
  }
  ;
  fr.prototype.Tq = function(n) {
      var z = this.Hv;
      this.m(z.list[this.Fx.u()].v, z.np, z.gi);
      this.f(new u(l.E.L))
  }
  ;
  fr.prototype.B = function() {
      hc.prototype.B.call(this);
      this.BE.B();
      this.wM.B()
  }
  ;
  fr.prototype.Bn = function(n) {
      var z = this.Hv
        , C = this.hK;
      C.Brsh.v.Dmtr.v.val = this.BE.u();
      if (C.Brsh.v.Hrdn != null)
          C.Brsh.v.Hrdn.v.val = this.wM.u();
      this.m(C, z.np, z.gi);
      this.f(new u(l.E.L))
  }
  ;
  function ei(n) {
      hc.call(this, n, !0, "contourbutton", 17, 10.5, c1.Cj)
  }
  ei.prototype = new hc;
  ei.prototype.Tq = function(n) {
      this.m(this.Hv[n.target.u()]);
      this.f(new u(l.E.L))
  }
  ;
  ei.prototype.aY = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.xb,
          gA: "contoureditor",
          Fe: this.hK,
          response: this.aa_.bind(this)
      };
      this.f(z)
  }
  ;
  ei.prototype.aa_ = function(n) {
      this.m(n);
      this.f(new u(l.E.L))
  }
  ;
  ei.prototype.Ed = function() {
      if (!this.Cb)
          return;
      var n = Math.floor(38 * l.D())
        , z = Math.floor(38 * l.D())
        , C = []
        , D = []
        , F = this.Hv;
      for (var M = 0; M < F.length; M++) {
          D.push(F[M].Nm ? F[M].Nm.v : "");
          C.push(j.E6.qK(F[M].Crv.v, n, z))
      }
      this.Fx.rR(C, D, n, z);
      this.Cb = !1
  }
  ;
  ei.prototype.m = function(n) {
      this.hK = JSON.parse(JSON.stringify(n));
      var z = this.hK.Crv.v;
      for (var M = 0; M < z.length; M++)
          if (z[M].v.Cnty == null)
              z[M].v.Cnty = {
                  t: "bool",
                  v: !0
              };
      this.p0()
  }
  ;
  ei.prototype.p0 = function() {
      var n = Math.floor(30 * l.D())
        , z = Math.floor(30 * l.D())
        , C = j.E6.qK(this.hK.Crv.v, n, z);
      this.XI.setAttribute("src", C);
      l.NE(this.XI, n, z)
  }
  ;
  ei.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.hK))
  }
  ;
  function c7(n) {
      gN.call(this);
      this.Dl = null;
      this.VJ = null;
      this.Sq = null;
      this.Dc = null;
      this.adz = [];
      this.aar = [];
      this.j = l.w("span", "fitem fillbutton");
      this.ld = new gN;
      this.ld.j = l.w("div", "floatcont form");
      this.ld.j.setAttribute("style", "width: 21em;");
      this.ld.parent = this;
      this.o4 = n;
      this.pa = this.pa = l.w("label", "flabel");
      this.j.appendChild(this.pa);
      this.Ak = l.w("canvas");
      this.zx = this.Ak.getContext("2d");
      this.aod = null;
      this.j.appendChild(this.Ak);
      this.Ak.addEventListener("click", this.w0.bind(this), !1);
      this.r0 = new b7([12, 66],["", "Color", "Grad", "Patt"]);
      this.ld.j.appendChild(this.r0.j);
      this.r0.s(l.E.L, this.SH, this);
      this.ld.j.appendChild(l.w("hr"));
      this.a1o = l.w("span");
      this.y5 = new e$(!0);
      this.y5.parent = this.ld;
      this.y5.s(l.E.L, this.SH, this);
      this._F = new fj(10);
      this._F.s(l.E.L, this.SH, this);
      this.e5 = l.w("div", "marged hiline");
      this.e5.appendChild(this.y5.j);
      l.jn(this.e5);
      this.e5.appendChild(this._F.j);
      this.tT = new bt("GrFl",!0);
      this.tT.parent = this.ld;
      this.tT.s(l.E.L, this.SH, this);
      this.Va = l.w("div", "marged hiline");
      var z = "Grad Type Algn Angl Rvrs Scl Ofst".split(" ");
      for (var M = 0; M < z.length; M++) {
          var C = this.tT.in[z[M]].j;
          this.Va.appendChild(C)
      }
      this.vM = new bt("patternFill",!0);
      this.vM.parent = this.ld;
      this.vM.s(l.E.L, this.SH, this);
      this.KB = l.w("div", "marged hiline");
      var z = ["Ptrn", "Scl", "Algn", "phase"];
      for (var M = 0; M < z.length; M++) {
          var C = this.vM.in[z[M]].j;
          this.KB.appendChild(C)
      }
  }
  c7.prototype = new gN;
  c7.prototype.vi = function(n, z) {
      if (z == c1.yu) {
          this.adz = [];
          this.aar = [];
          if (this.Dl)
              this.m(this.Sq, this.u(), this.Dl)
      }
      this.VJ = n;
      this.tT.vi(n, z);
      this.vM.vi(n, z)
  }
  ;
  c7.prototype.B = function() {
      this.pa.textContent = aC.get(this.o4) + ": ";
      this.r0.B();
      this.y5.B();
      this.tT.B();
      this.vM.B()
  }
  ;
  c7.prototype.SH = function(n) {
      var z = n.currentTarget;
      if (z == this.r0) {
          var C = this.r0.u()
            , D = {
              p2: C,
              Ys: this.Dl[C]
          };
          if (C > 0 && D.Ys == null)
              D.Ys = JSON.parse(JSON.stringify(g$.sQ[C - 1]));
          if (this.Dl)
              this.m(this.Sq, D, this.Dl)
      }
      if (z == this._F)
          this.y5.VR(z.u());
      this.f(new u(l.E.L,!1))
  }
  ;
  c7.prototype.w0 = function(n) {
      var z = this.Ak.getBoundingClientRect()
        , C = new u(l.E.P,!0);
      C.data = {
          e: l.H.X$,
          uN: this.ld,
          x: z.left,
          y: z.top + z.height + 4
      };
      this.f(C);
      this._F.m(this.y5.RO())
  }
  ;
  c7.prototype.m = function(n, z, C) {
      this.Dl = C;
      this.Sq = n;
      var D = [[13, 1, 0], [13, 0], [12, 37], [12, 62]], F = this.adz, X = this.aar, E = !1, c;
      for (var M = 0; M < 4; M++) {
          var f = {
              p2: M,
              Ys: C[M]
          }
            , a = c7.CF(f);
          if (X[M] == a)
              continue;
          E = !0;
          var q = c7.pD(null, f, this.VJ, this.Sq, 22, 22, !1);
          F[M] = "<img width=\"22\" height=\"22\" src=\"" + q + "\" />";
          X[M] = a
      }
      if (E)
          this.r0.us(F, D);
      this.r0.m(z.p2);
      var a = c7.CF(z);
      if (a != this.aod)
          c7.pD(this.zx, z, this.VJ, this.Sq, 30, 23, !0);
      this.aod = a;
      var K = z.p2;
      if (K == 0) {
          c = this.a1o
      }
      if (K == 1) {
          this.y5.m(z.Ys.Clr.v);
          c = this.e5
      }
      if (K == 2) {
          this.tT.update(n, z.Ys);
          c = this.Va
      }
      if (K == 3) {
          this.vM.update(n, z.Ys);
          c = this.KB
      }
      if (c != this.Dc) {
          if (this.Dc != null) {
              this.ld.j.removeChild(this.Dc)
          }
          this.ld.j.appendChild(c);
          this.Dc = c
      }
  }
  ;
  c7.prototype.u = function() {
      var n = {
          p2: this.r0.u()
      };
      if (n.p2 == 1) {
          n.Ys = JSON.parse(JSON.stringify(g$.sQ[0]));
          n.Ys.Clr.v = this.y5.u()
      }
      if (n.p2 == 2) {
          n.Ys = this.tT.u()
      }
      if (n.p2 == 3) {
          n.Ys = this.vM.u()
      }
      return n
  }
  ;
  c7.CF = function(n) {
      var z = n.p2
        , C = n.Ys
        , D = "empty";
      if (z == 1) {
          D = j._.Jo(C.Clr.v);
          D = D.h + "," + D.Q + "," + D.O
      }
      if (z == 2)
          D = JSON.stringify(C.Grad.v);
      if (z == 3)
          D = C.Ptrn.v.Idnt.v;
      return D
  }
  ;
  c7.pD = function(n, z, C, D, F, X, E) {
      if (n == null)
          n = c7.zx;
      var f = Math.floor(F * l.D()), a = Math.floor(X * l.D()), q = n.canvas, c;
      q.width = f;
      q.height = a;
      l.NE(q, f, a);
      var K = z.p2;
      if (K == 0) {
          n.fillStyle = "#ffffff";
          n.fillRect(0, 0, f, a);
          n.strokeStyle = "#ff0000";
          n.lineWidth = 2;
          n.moveTo(0, 0);
          n.lineTo(f, a);
          n.moveTo(0, a);
          n.lineTo(f, 0);
          n.stroke()
      }
      if (K == 1) {
          var R = z.Ys.Clr.v;
          R = j._.Jo(R);
          n.fillStyle = "#" + j.JY(R.h << 16 | R.Q << 8 | R.O);
          n.fillRect(0, 0, f, a)
      }
      if (K == 2) {
          O.rn.qK(z.Ys.Grad.v, f, a, 0, C.Du, C.ff, q)
      }
      if (K == 3) {
          var J = z.Ys.Ptrn.v, w;
          if (D != null)
              w = fg.Ke(J, D.add.Patt);
          if (w == null)
              w = fg.Ke(J, C.NC);
          eP.qK(w, f, a, q)
      }
      if (E) {
          n.beginPath();
          n.strokeStyle = "#000000";
          n.fillStyle = "#ffffff";
          n.lineWidth = 2;
          var p = f * .7
            , I = Math.floor(a * .7)
            , m = 7 * l.D();
          n.moveTo(p, I);
          n.lineTo(p + m, I);
          n.lineTo(p + m / 2, I + m / 2);
          n.closePath();
          n.stroke();
          n.fill()
      }
      if (n == c7.zx)
          return q.toDataURL()
  }
  ;
  c7.zx = l.w("canvas").getContext("2d");
  function eP(n) {
      hc.call(this, n, !1, "patternbutton", 18, 10, c1.yu);
      this.ux = null
  }
  eP.prototype = new hc;
  eP.prototype.Tq = function(n) {
      var z = this.Hv[this.Fx.u()];
      this.hK = {
          classID: "Ptrn",
          Nm: {
              t: "TEXT",
              v: z.name
          },
          Idnt: {
              t: "TEXT",
              v: z.id
          }
      };
      this.f(new u(l.E.L));
      this.p0()
  }
  ;
  eP.m8 = !1;
  eP.prototype.Ed = function() {
      if (!this.Cb)
          return;
      var n = this.Hv;
      if (n == null || !eP.m8) {
          var z = new u(l.E.P,!0);
          z.data = {
              e: l.H.Om,
              G6: {
                  url: "rsrc/basic/basic.pat"
              }
          };
          this.f(z);
          eP.m8 = !0;
          return
      }
      var C = Math.floor(34 * l.D())
        , D = Math.floor(34 * l.D())
        , F = []
        , X = [];
      for (var M = 0; M < n.length; M++) {
          F.push(eP.qK(n[M], C, D));
          X.push(n[M].name)
      }
      this.Fx.rR(F, X, C, D);
      this.Cb = !1
  }
  ;
  eP.prototype.m = function(n, z) {
      if (this.hK && n.Idnt.v == this.hK.Idnt.v)
          return;
      this.hK = JSON.parse(JSON.stringify(n));
      this.p0(z)
  }
  ;
  eP.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.hK))
  }
  ;
  eP.prototype.Tx = function() {
      return this.ux ? [this.ux] : []
  }
  ;
  eP.prototype.p0 = function(n) {
      var z = Math.floor(50 * l.D()), C = Math.floor(50 * l.D()), D;
      if (n != null)
          D = fg.Ke(this.hK, n.add.Patt);
      if (D == null)
          D = fg.Ke(this.hK, this.Hv);
      this.ux = D;
      var F = eP.qK(D, z, C);
      this.XI.setAttribute("src", F);
      l.NE(this.XI, z, C)
  }
  ;
  eP.sL = l.w("canvas", "");
  eP.qK = function(n, z, C, D) {
      if (D == null)
          D = eP.sL;
      var F = D.getContext("2d");
      D.width = z;
      D.height = C;
      if (n) {
          var X = n.Tc[1]
            , E = X.d
            , f = X.v
            , a = n.Tc[0]
            , q = Math.min(z / E, C / f)
            , c = q;
          if (c * E < 2)
              c = 2 / E;
          var K = q;
          if (K * f < 2)
              K = 2 / f;
          var R = O.o.QQ([a, X], new b6(c,0,0,K,0,0), !1)
            , J = R.rect.d
            , w = R.rect.v
            , p = F.createImageData(J, w);
          j.YY(R.buffer, p.data);
          F.putImageData(p, Math.floor((z - J) / 2), Math.floor((C - w) / 2))
      }
      return D.toDataURL()
  }
  ;
  function dY(n) {
      hc.call(this, n, !1, "patternbutton", 24.2, 17, c1.MS);
      this.Fn = ""
  }
  dY.prototype = new hc;
  dY.prototype.Tq = function(n) {
      this.hK = JSON.parse(JSON.stringify(this.Hv[0][this.Fx.u()]));
      this.f(new u(l.E.L))
  }
  ;
  dY.prototype.Ed = function() {
      var n = this.Hv;
      if (n == null || !this.Cb)
          return;
      var z = Math.floor(50 * l.D())
        , C = Math.floor(50 * l.D())
        , D = []
        , F = [];
      for (var M = 0; M < n[0].length; M++) {
          D.push(dY.qK(this.Hv[0][M]._i, z, C, this.Hv[1]));
          F.push(n[0][M].lg.Nm.v.split("=").pop())
      }
      this.Fx.rR(D, F, z, C);
      this.Cb = !1
  }
  ;
  dY.prototype.m = function(n, z, C, D) {
      var F = JSON.stringify(n._i) + "," + C + "," + D;
      if (this.Fn != F) {
          this.Fn = F;
          this.hK = JSON.parse(JSON.stringify(n));
          this.p0(z, C, D)
      }
      this.Fx.eJ(-1)
  }
  ;
  dY.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.hK))
  }
  ;
  dY.prototype.p0 = function(n, z, C) {
      var D = Math.floor(68 * l.D())
        , F = Math.floor(68 * l.D())
        , X = dY.qK(this.hK._i, D, F, n ? n : this.Hv[1], z, C);
      this.XI.setAttribute("src", X);
      l.NE(this.XI, D, F)
  }
  ;
  dY.qK = function(n, z, C, D, F, X) {
      var E = new b$;
      E.d = z;
      E.v = C;
      E.buffer = j.T(z * C * 4);
      E.add.Patt = D;
      E.z1(F == null ? 90 : F);
      E.CG(X == null ? 30 : X);
      var f = new cc(0,0,Math.round(z * .5),Math.round(C * .5));
      f.x = Math.round((z - f.d) / 2);
      f.y = Math.round((C - f.v) / 2);
      var a = E.gl();
      a.rect = f;
      a.buffer = j.T(f.t() * 4);
      j.xM(a.buffer, 4284045657);
      fg.hz(n, a, .5 * 100);
      E.W.push(a);
      E.j7();
      E.J();
      var q = N.O3;
      N.O3 = !1;
      E.h1();
      var c = E.Wc();
      N.O3 = q;
      var K = fC.J0(c.buffer, E.d, E.v);
      return K
  }
  ;
  function iS(n) {
      hc.call(this, null, !1, "tpresetbutton", 18, 24, c1.VE, !0);
      l.DA(this.j, "fitem");
      this.Fx.ee(1);
      this.id = n;
      this.p0();
      this.uY = new eS([15, 7, 9]);
      this.uY.m(!0);
      this.uY.s(l.E.L, this.aaV, this);
      this.Lj.appendChild(this.uY.j)
  }
  iS.prototype = new hc;
  iS.prototype.agM = function(n) {
      if (this.id == n)
          return;
      this.id = n;
      this.fY(this.Hv)
  }
  ;
  iS.prototype.Tq = function(n) {
      var z = this.Hv[this.Fx.u()]
        , C = new u(l.E.P,!0);
      C.data = {
          e: l.H.W9,
          wa: "set",
          G6: c1.VE,
          TT: z
      };
      this.f(C)
  }
  ;
  iS.prototype.B = function() {
      hc.prototype.B.call(this);
      this.uY.B()
  }
  ;
  iS.prototype.aaV = function() {
      this.Cb = !0;
      this.Ed()
  }
  ;
  iS.prototype.Ed = function() {
      if (!this.Cb)
          return;
      var n = Math.floor(16 * l.D())
        , z = Math.floor(16 * l.D())
        , C = []
        , D = []
        , F = this.Hv
        , X = this.uY.u();
      for (var M = 0; M < F.length; M++) {
          var E = O.Dx(F[M]);
          if (!X || E == this.id) {
              D.push(F[M][0] ? F[M][0].split("=").pop() : "");
              C.push(E == -1 ? "" : PIMG[O.jN[E][0]])
          } else {
              C.push(null);
              D.push(null)
          }
      }
      this.Fx.rR(C, D, n, z);
      this.Cb = !1
  }
  ;
  iS.prototype.p0 = function() {
      var n = this.XI;
      n.setAttribute("src", PIMG[O.jN[this.id][0]]);
      l.G5(n, "toolicon")
  }
  ;
  iS.prototype.Tx = function() {
      return null
  }
  ;
  iS.ue = {};
  iS.qK = function(n, z, C) {
      var D = iS.f0
        , F = iS.ue
        , X = j.JY(n.h << 16 | n.Q << 8 | n.O);
      if (F[X])
          return F[X];
      if (D == null) {
          var E = l.w("canvas");
          D = iS.f0 = E.getContext("2d")
      }
      var E = D.canvas;
      E.width = z;
      E.height = C;
      D.fillStyle = "#" + X;
      D.fillRect(0, 0, z, C);
      var f = F[X] = E.toDataURL();
      return f
  }
  ;
  function ed(n, z) {
      gN.call(this);
      this.j = l.w("span", "fitem curveeditor");
      this.Cp = null;
      this.af1 = 0;
      this.jX = "";
      this.mode = 0;
      this.PF = n;
      this.a4O = z;
      this.iF = null;
      this.BW = null;
      this.aqM = 0;
      this.aes = 0;
      this.S1 = new ir;
      this.Ev = this.qb.bind(this);
      this.Mt = this.NT.bind(this);
      this.Ak = l.w("canvas", "");
      this.zx = this.Ak.getContext("2d");
      l.g8(this.Ak);
      l.Hb(this.Ak, 256, 256, this.zx);
      this.j.appendChild(this.Ak);
      l.Vb(this.Ak, this.uz.bind(this))
  }
  ed.prototype = new gN;
  ed.prototype.m = function(n, M) {
      var z = JSON.stringify(n);
      if (z == JSON.stringify(this.iF))
          return;
      this.mode = n.length == 256 ? 1 : 0;
      this.iF = JSON.parse(z);
      if (M != null)
          this.BW = this.iF[M];
      this.yH()
  }
  ;
  ed.prototype.u7 = function(n, z, C) {
      this.Cp = n;
      this.af1 = z;
      this.jX = C;
      this.yH()
  }
  ;
  ed.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.iF))
  }
  ;
  ed.prototype.j5 = function() {
      return this.iF.indexOf(this.BW)
  }
  ;
  ed.prototype.uz = function(n) {
      var z = l.ao(n, this.Ak)
        , C = z.x
        , D = 256 - z.y;
      if (this.PF) {
          var F = C;
          C = 256 - D;
          D = F
      }
      this.S1.oS(C, D);
      if (this.mode == 0) {
          var X = 0, E = 1e9, K;
          for (var M = 0; M < this.iF.length; M++) {
              var f = this.iF[M].v
                , a = f.Hrzn.v - C
                , q = f.Vrtc.v - D
                , c = Math.sqrt(a * a + q * q);
              if (c < E) {
                  E = c;
                  X = M
              }
          }
          if (E < 15)
              K = this.iF[X];
          else {
              K = j.E6.Kl(C, D, !0);
              this.iF.push(K);
              this.iF.sort(function(R, J) {
                  return R.v.Hrzn.v - J.v.Hrzn.v
              })
          }
          this.BW = K;
          this.aes = this.iF.slice(0)
      }
      l.LR(document.body, this.Ev);
      l.g_(document.body, this.Mt);
      this.qb(n)
  }
  ;
  ed.prototype.qb = function(n) {
      var z = l.ao(n, this.Ak)
        , C = z.x
        , D = 256 - z.y;
      if (this.PF) {
          var F = C;
          C = 256 - D;
          D = F
      }
      if (this.mode == 0) {
          var X = this.iF
            , E = this.BW
            , f = this.aes
            , a = f.indexOf(E)
            , q = X.indexOf(E) != -1
            , c = f.length - 1
            , K = C;
          if (a == 0) {
              K = Math.max(0, Math.min(f[1].v.Hrzn.v - 1, C))
          } else if (a == c) {
              K = Math.min(255, Math.max(f[c - 1].v.Hrzn.v + 1, C))
          } else {
              var R = C < 0 || C > 255 || D < 0 || D > 255;
              if (C <= f[a - 1].v.Hrzn.v || C >= f[a + 1].v.Hrzn.v)
                  R = !0;
              if (!R && !q)
                  X.splice(a, 0, E);
              if (R && q)
                  X.splice(a, 1)
          }
          if (!this.a4O)
              E.v.Hrzn.v = Math.round(K);
          E.v.Vrtc.v = Math.max(0, Math.min(255, Math.round(D)))
      } else {
          C = Math.round(C);
          D = Math.round(D);
          C = Math.max(0, Math.min(255, C));
          D = Math.max(0, Math.min(255, D));
          var J = this.S1.x
            , w = C
            , p = this.S1.y
            , I = D;
          if (C < this.S1.x) {
              w = J;
              J = C;
              I = p;
              p = D
          }
          this.iF[C] = D;
          if (J != w)
              for (var m = J; m <= w; m++)
                  this.iF[m] = Math.round(p + (m - J) * (I - p) / (w - J))
      }
      this.S1.oS(C, D);
      this.yH();
      this.f(new u(l.E.L))
  }
  ;
  ed.prototype.NT = function(n) {
      l.i$(document.body, this.Ev);
      l.YO(document.body, this.Mt);
      this.f(new u(l.E.L))
  }
  ;
  ed.prototype.yH = function() {
      var n = this.zx;
      n.fillStyle = "#ffffff";
      n.fillRect(0, 0, 256, 256);
      if (this.Cp) {
          n.translate(0, 256);
          n.scale(1, -1);
          cf.sr(n, this.Cp, 5700 / this.af1, this.jX);
          n.scale(1, -1);
          n.translate(0, -256)
      }
      n.strokeStyle = "#aaaaaa";
      n.lineWidth = 1;
      n.beginPath();
      for (var M = 1; M < 4; M++) {
          n.moveTo(0, 64 * M - .5);
          n.lineTo(255, 64 * M - .5);
          n.moveTo(64 * M - .5, 0);
          n.lineTo(64 * M - .5, 255)
      }
      n.stroke();
      if (this.PF) {
          n.save();
          n.transform(0, 1, -1, 0, 256, 0)
      }
      if (this.mode == 0) {
          var z = this.iF
            , C = j.E6.h4(z, 256);
          n.strokeStyle = "#000000";
          n.beginPath();
          n.moveTo(0, 255.5 - C[0]);
          for (var M = 0; M < 256; M++)
              n.lineTo(M, 255.5 - C[M]);
          n.stroke();
          n.lineWidth = 2;
          for (var M = 0; M < z.length; M++) {
              var D = z[M].v;
              n.fillStyle = this.BW == z[M] ? "#333" : "#fff";
              n.beginPath();
              n.moveTo(D.Hrzn.v, 255.5 - D.Vrtc.v);
              n.arc(D.Hrzn.v, 255.5 - D.Vrtc.v, 3, 0, 2 * Math.PI);
              n.stroke();
              n.fill()
          }
      } else {
          var C = this.iF;
          n.strokeStyle = "#000000";
          n.beginPath();
          n.moveTo(0, 255.5 - C[0]);
          for (var M = 0; M < 256; M++)
              n.lineTo(M, 255.5 - C[M]);
          n.stroke()
      }
      if (this.PF)
          n.restore()
  }
  ;
  function cf(n, z) {
      gN.call(this);
      this.j = l.w("span", "");
      this.nS = new fR([12, 4],["RGB", [13, 1, 1], [13, 1, 4], [13, 1, 5], [12, 82]]);
      this.nS.s(l.E.L, this.mt, this);
      this.j.appendChild(this.nS.j);
      l.jn(this.j);
      this.sL = l.w("canvas");
      var C = this.sL;
      this.j.appendChild(C);
      C.width = Math.round(n * l.D());
      C.height = Math.round(100 * l.D());
      l.NE(C, C.width, C.height);
      this.f0 = C.getContext("2d");
      this.Cp = null;
      this.aJ = 0;
      this.a1A = null;
      this.ajw = [];
      this.Sb = [];
      var D = ["Mean:", "Pixels:"]
        , F = this.j;
      for (var M = 0; M < D.length; M++) {
          var X = new be(D[M]);
          this.ajw.push(X);
          if (z)
              F.appendChild(X.j);
          var E = new be("hi");
          this.Sb.push(E);
          if (z)
              F.appendChild(E.j);
          l.jn(F)
      }
  }
  cf.prototype = new gN;
  cf.prototype.B = function() {
      this.nS.B()
  }
  ;
  cf.prototype.ee = function(n) {
      this.nS.m(n);
      this.mt()
  }
  ;
  cf.prototype.m = function(n, z) {
      this.Cp = n;
      this.a1A = z;
      this.mt()
  }
  ;
  cf.prototype.VR = function(n) {
      if (n == this.aJ)
          return;
      this.aJ = n;
      this.mt()
  }
  ;
  cf.prototype.mt = function() {
      if (this.Cp == null)
          return;
      var n = this.sL
        , z = this.f0
        , C = this.Cp
        , D = this.a1A
        , F = this.nS.u()
        , X = 6e3 / C[4]
        , E = "#" + j.JY(this.aJ)
        , f = cf.sr;
      n.width = n.width;
      z.setTransform(n.width / 256, 0, 0, -n.height / 100, 0, n.height);
      z.globalCompositeOperation = "lighter";
      if (F == 0)
          f(z, C[0], X / 3, E);
      else if (F < 4)
          f(z, C[F], X, E);
      else {
          f(z, C[1], X, "#ff0000");
          f(z, C[2], X, "#00ff00");
          f(z, C[3], X, "#0000ff")
      }
      z.setTransform(1, 0, 0, 1, 0, 0);
      if (D != null) {
          var a = 0;
          for (var M = 0; M < 256; M++)
              a += M * C[F][M];
          if (F == 0)
              a /= 3;
          this.Sb[0].m((a / D).toFixed(1) + "");
          this.Sb[1].m(D + "")
      }
  }
  ;
  cf.sr = function(n, z, C, D) {
      n.beginPath();
      n.moveTo(0, 0);
      for (var F = 0; F < 256; F++)
          n.lineTo(F, z[F] * C);
      n.lineTo(256, 0);
      n.closePath();
      n.fillStyle = D;
      n.fill()
  }
  ;
  function a7(n) {
      gN.call(this);
      this.qg = {
          h: 0,
          Q: 0,
          O: 0
      };
      if (Math.abs(n - 256 / l.D()) < 10)
          n = 256 / l.D();
      var z = this.j = l.w("div", "flexrow");
      this.UU = new ir;
      this.YJ = new ir;
      this.Mi = this.Yh.bind(this);
      this.jS = this.abq.bind(this);
      this.Ak = l.w("canvas", "");
      this.zx = this.Ak.getContext("2d");
      this.Ak.width = this.Ak.height = 256;
      this.ape = this.zx.getImageData(0, 0, 256, 256);
      this.a3M = -1;
      l.g8(this.Ak);
      l.Vb(this.Ak, this.akZ.bind(this));
      z.appendChild(this.Ak);
      this.aoJ = this.I2.bind(this);
      this.aqh = this.a6D.bind(this);
      this.lz = l.w("canvas", "");
      this.al = this.lz.getContext("2d");
      this.lz.width = 20;
      this.lz.height = 256;
      this.a72 = this.al.getImageData(0, 0, 20, 256);
      this.a64(this.a72.data, 20, 256);
      l.g8(this.lz);
      l.Vb(this.lz, this.a5D.bind(this));
      z.appendChild(this.lz);
      this.Ak.setAttribute("style", "width:" + n + "px; height:" + n + "px");
      this.lz.setAttribute("style", "width:16px; height:" + n + "px")
  }
  a7.prototype = new gN;
  a7.prototype.IP = function(n, z) {
      this.Ak.style.width = n - 16 + "px"
  }
  ;
  a7.prototype.m = function(n) {
      this.qg = n;
      this.update()
  }
  ;
  a7.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.qg))
  }
  ;
  a7.prototype.update = function() {
      var n = this.qg
        , z = j.GV(n.h, n.Q, n.O);
      if (z.b2 == 0)
          z.ZP = this.UU.x / 255;
      if (z.ZP == 0 || z.b2 == 0)
          z.ua = (255 - this.eh(this.YJ.y)) / 255;
      if (z.b2 != 0)
          this.UU.x = z.ZP * 255;
      this.UU.y = (1 - z.b2) * 255;
      this.YJ.y = (1 - z.ua) * 255;
      var C = this.ape;
      if (Math.abs(z.ua - this.a3M) > .002) {
          this.anO(C.data, 256, 256, z.ua);
          this.a3M = z.ua
      }
      this.zx.putImageData(C, 0, 0);
      this.zx.strokeStyle = "#000000";
      this.zx.beginPath();
      this.zx.arc(this.UU.x + 1, this.UU.y + 1, 5, 0, 2 * Math.PI);
      this.zx.stroke();
      this.zx.strokeStyle = "#ffffff";
      this.zx.beginPath();
      this.zx.arc(this.UU.x, this.UU.y, 5, 0, 2 * Math.PI);
      this.zx.stroke();
      var C = this.a72;
      this.al.putImageData(C, 0, 0);
      this.al.strokeStyle = "#ffffff";
      this.al.beginPath();
      this.al.moveTo(0, this.YJ.y);
      this.al.lineTo(20, this.YJ.y);
      this.al.lineWidth = 2;
      this.al.stroke()
  }
  ;
  a7.prototype.anO = function(n, z, C, D) {
      var F = 1 / z
        , X = 1 / C;
      for (var E = 0; E < C; E++)
          for (var f = 0; f < z; f++) {
              var a = j.X9(D, f * F, (C - E - 1) * X)
                , M = E * z + f << 2;
              n[M + 0] = ~~(a.h * 255);
              n[M + 1] = ~~(a.Q * 255);
              n[M + 2] = ~~(a.O * 255);
              n[M + 3] = 255
          }
  }
  ;
  a7.prototype.a64 = function(n, z, C) {
      var D = new Uint32Array(n.buffer);
      for (var F = 0; F < C; F++) {
          var X = j.X9(1 - F / C, 1, 1)
            , E = 255 << 24 | X.O * 255 << 16 | X.Q * 255 << 8 | X.h * 255;
          for (var f = 0; f < z; f++)
              D[F * z + f] = E
      }
  }
  ;
  a7.prototype.akZ = function(n) {
      l.LR(window, this.Mi);
      l.g_(window, this.jS);
      this.Yh(n)
  }
  ;
  a7.prototype.abq = function(n) {
      l.i$(window, this.Mi);
      l.YO(window, this.jS)
  }
  ;
  a7.prototype.Yh = function(n) {
      var z = l.ao(n, this.Ak);
      z.x = z.x * (256 / parseFloat(this.Ak.style.width));
      z.y = z.y * (256 / parseFloat(this.Ak.style.height));
      this.UU.oS(this.eh(z.x), this.eh(z.y));
      this.yB()
  }
  ;
  a7.prototype.yB = function() {
      this.qg = this.a9F();
      this.f(new u(l.E.L))
  }
  ;
  a7.prototype.a9F = function() {
      var n = j.X9((255 - this.eh(this.YJ.y)) / 255, this.xq(this.UU.x / 255), this.xq(1 - this.UU.y / 255));
      return {
          h: n.h,
          Q: n.Q,
          O: n.O
      }
  }
  ;
  a7.prototype.a5D = function(n) {
      l.LR(window, this.aoJ);
      l.g_(window, this.aqh);
      this.I2(n)
  }
  ;
  a7.prototype.a6D = function(n) {
      l.i$(window, this.aoJ);
      l.YO(window, this.aqh)
  }
  ;
  a7.prototype.I2 = function(n) {
      var z = l.ao(n, this.lz);
      z.y = z.y * (256 / parseFloat(this.lz.style.height));
      this.YJ.oS(this.eh(z.x), this.eh(z.y));
      this.yB()
  }
  ;
  a7.prototype.eh = function(n) {
      return Math.max(0, Math.min(255, n))
  }
  ;
  a7.prototype.xq = function(n) {
      return Math.max(0, Math.min(1, n))
  }
  ;
  function b7(n, z, C) {
      gN.call(this);
      if (!z)
          return;
      this.Mr = 0;
      this.j = l.w("span", "fitem bbmenu");
      if (n) {
          this.ew = n;
          this.pa = l.w("label", "flabel");
          this.pa.textContent = n + ":";
          this.j.appendChild(this.pa)
      }
      this.te = [];
      this.QN = null;
      this.us(z, C);
      this.m(0)
  }
  b7.prototype = new gN;
  b7.prototype.Jt = function(n) {
      this.ew = n;
      this.B()
  }
  ;
  b7.prototype.B = function() {
      if (this.ew != null) {
          this.pa.textContent = aC.get(this.ew) + ": "
      }
      for (var M = 0; M < this.te.length; M++)
          this.te[M].B()
  }
  ;
  b7.prototype.u = function() {
      return this.Mr
  }
  ;
  b7.prototype.us = function(n, z) {
      while (this.te.length > 0)
          this.j.removeChild(this.te.pop().j);
      this.QN = n;
      for (var M = 0; M < n.length; M++) {
          var C = new gJ(n[M],!1,z ? z[M] : null);
          C.s("click", this.Mm, this);
          this.j.appendChild(C.j);
          this.te.push(C)
      }
      this.B()
  }
  ;
  b7.prototype.m = function(n) {
      this.Mr = n;
      for (var M = 0; M < this.te.length; M++)
          this.te[M].Z8();
      this.te[n].so()
  }
  ;
  b7.prototype.Mm = function(n) {
      var M = this.te.indexOf(n.target);
      this.m(M);
      this.f(new u(l.E.L,!1))
  }
  ;
  function h$(n, z, C, D) {
      if (D == null)
          D = 16;
      var F = h$.W$
        , X = F.getContext("2d")
        , E = D >>> 1;
      F.width = F.height = D;
      var f = [];
      for (var M = 0; M < z.length; M++) {
          if (z[M] == "checker") {
              X.fillStyle = "white";
              X.fillRect(0, 0, D, D);
              X.fillStyle = "#bbbbbb";
              X.fillRect(E, 0, E, E);
              X.fillRect(0, E, E, E)
          } else if (z[M].startsWith("#")) {
              X.fillStyle = z[M];
              X.fillRect(0, 0, D, D)
          }
          if (z[M][0] == "-")
              f.push(z[M].slice(1));
          else if (z[M] == "checker" || z[M].startsWith("#"))
              f.push("<img src=\"" + F.toDataURL() + "\" />");
          else
              f.push("<img src=\"" + z[M] + "\" class=\"autoscale gsicon\" />")
      }
      b7.call(this, n, f, C)
  }
  h$.prototype = new b7;
  h$.W$ = l.w("canvas");
  function fR(n, z, C, D) {
      gN.call(this);
      if (!z)
          return;
      if (C == null)
          C = !1;
      this.Mr = 0;
      this.amJ = C;
      this.ew = n;
      this.Eu = null;
      this.al$ = D;
      var F = "dd" + l.FE();
      this.j = l.w("span", "fitem ddmenu");
      if (n && !C) {
          this.pa = l.w("label", "flabel");
          this.j.appendChild(this.pa);
          this.pa.setAttribute("for", F)
      }
      this.oN = l.w("select", "bbtn");
      this.oN.setAttribute("id", F);
      this.j.appendChild(this.oN);
      this.oN.addEventListener("change", this.Mm.bind(this), !1);
      this.te = [];
      this.QN = null;
      this.us(z, D);
      this.B()
  }
  fR.prototype = new gN;
  fR.prototype.Jt = function(n) {
      this.ew = n;
      this.B()
  }
  ;
  fR.prototype.B = function() {
      if (this.ew != null) {
          var n = aC.get(this.ew);
          if (this.amJ)
              this.oN.setAttribute("title", n);
          else
              this.pa.textContent = n + ":"
      }
      if (this.QN)
          this.us(this.QN, this.al$);
      this.m(this.Mr)
  }
  ;
  fR.prototype.u = function() {
      return this.Mr
  }
  ;
  fR.prototype.us = function(n, z) {
      l.M$(this.oN);
      var C = []
        , D = 0;
      if (z) {
          C.push(z[0]);
          for (var M = 1; M < z.length; M++)
              C.push(C[M - 1] + z[M])
      }
      this.QN = n;
      this.Eu = [];
      this.al$ = z;
      for (var M = 0; M < n.length; M++) {
          var F = l.w("option");
          F.textContent = aC.get(n[M]);
          F.setAttribute("value", M);
          this.oN.appendChild(F);
          this.te.push(F);
          this.Eu.push(M + D);
          if (C.indexOf(M + 1) != -1 && M != n.length - 1) {
              var X = l.w("option");
              X.setAttribute("disabled", "");
              X.textContent = "";
              this.oN.appendChild(X);
              D++
          }
      }
  }
  ;
  fR.prototype.m = function(n) {
      this.Mr = n;
      this.oN.selectedIndex = this.Eu[n]
  }
  ;
  fR.prototype.Mm = function(n) {
      this.Mr = this.Eu.indexOf(this.oN.selectedIndex);
      this.f(new u(l.E.L,!1))
  }
  ;
  function cX() {
      gN.call(this);
      this.mf = null;
      this.i7 = new d2;
      this.i7.s(l.E.L, this.a4e, this);
      this.i7.parent = this;
      this.gb = new c5([12, 14, 0],1,150,"px",0,!0);
      this.gb.s(l.E.L, this.f4, this);
      this.gb.parent = this;
      this.p3 = new c5([16, 0],.01,100,"px",2,!0,null,5);
      this.p3.s(l.E.L, this.f4, this);
      this.p3.parent = this;
      this.AV = new eS("Auto");
      this.AV.s(l.E.L, this.f4, this);
      this.j_ = new c5([16, 1],-500,5e3,"%",0,!0);
      this.j_.s(l.E.L, this.f4, this);
      this.j_.parent = this;
      this.WC = new c5("\u2B0D",1,300,"%",null,null,null,null,[[2, 7], [22, 4, 3]]);
      this.WC.s(l.E.L, this.f4, this);
      this.WC.parent = this;
      this.u2 = new c5("\u2B0C",1,300,"%",null,null,null,null,[[2, 7], [22, 4, 2]]);
      this.u2.s(l.E.L, this.f4, this);
      this.u2.parent = this;
      this.Wy = new c5([16, 2],-10,10,"px");
      this.Wy.s(l.E.L, this.f4, this);
      this.Wy.parent = this;
      this.Wm = new e$(!0);
      this.Wm.s(l.E.L, this.ak0, this);
      this.Wm.parent = this;
      this.KM = new gJ("<img src=\"" + PIMG["type/bold"] + "\" class=\"autoscale gsicon\" />");
      this.yh = new gJ("<img src=\"" + PIMG["type/italic"] + "\" class=\"autoscale gsicon\" />");
      this.UX = new gJ("<img src=\"" + PIMG["type/caps"] + "\" class=\"autoscale gsicon\" />");
      this.Wh = new gJ("<img src=\"" + PIMG["type/scaps"] + "\" class=\"autoscale gsicon\" />");
      this.nw = new gJ("<img src=\"" + PIMG["type/sub"] + "\" class=\"autoscale gsicon\" />");
      this.N3 = new gJ("<img src=\"" + PIMG["type/sup"] + "\" class=\"autoscale gsicon\" />");
      this.Wl = new gJ("<img src=\"" + PIMG["type/under"] + "\" class=\"autoscale gsicon\" />");
      this.OS = new gJ("<img src=\"" + PIMG["type/strike"] + "\" class=\"autoscale gsicon\" />");
      var n = [this.KM, this.yh, this.UX, this.Wh, this.nw, this.N3, this.Wl, this.OS];
      for (var M = 0; M < n.length; M++)
          n[M].s("click", this.afw, this);
      this.kv = new gJ("<img src=\"" + PIMG["par/left"] + "\" class=\"autoscale gsicon\" />");
      this.M7 = new gJ("<img src=\"" + PIMG["par/right"] + "\" class=\"autoscale gsicon\" />");
      this.FD = new gJ("<img src=\"" + PIMG["par/center"] + "\" class=\"autoscale gsicon\" />");
      this.akj = new gJ("<img src=\"" + PIMG["par/jleft"] + "\" class=\"autoscale gsicon\" />");
      this.ap9 = new gJ("<img src=\"" + PIMG["par/jright"] + "\" class=\"autoscale gsicon\" />");
      this.ac8 = new gJ("<img src=\"" + PIMG["par/jcenter"] + "\" class=\"autoscale gsicon\" />");
      this.ag0 = new gJ("<img src=\"" + PIMG["par/jall"] + "\" class=\"autoscale gsicon\" />");
      this.QY = [this.kv, this.M7, this.FD, this.akj, this.ap9, this.ac8, this.ag0];
      for (var M = 0; M < this.QY.length; M++)
          this.QY[M].s("click", this.f4, this);
      var z = ["lind", "rind", "flind", "bind", "aind"]
        , C = [];
      for (var M = 0; M < 5; M++)
          C.push("<img src=\"" + PIMG["par/" + z[M]] + "\" class=\"autoscale gsicon\" /> ");
      this.jr = new c5(C[0],-20,20,"px");
      this.jr.s(l.E.L, this.f4, this);
      this.jr.parent = this;
      this.sC = new c5(C[1],-20,20,"px");
      this.sC.s(l.E.L, this.f4, this);
      this.sC.parent = this;
      this.j$ = new c5(C[2],-20,20,"px");
      this.j$.s(l.E.L, this.f4, this);
      this.j$.parent = this;
      this.AF = new c5(C[3],-20,20,"px");
      this.AF.s(l.E.L, this.f4, this);
      this.AF.parent = this;
      this.YW = new c5(C[4],-20,20,"px");
      this.YW.s(l.E.L, this.f4, this);
      this.YW.parent = this;
      this.lC = new b7([12, 33],["Abc ...", "... \u0623\u064A \u0628\u064A"]);
      this.lC.s(l.E.L, this.f4, this);
      this.lC.parent = this
  }
  cX.prototype = new gN;
  cX.prototype.B = function() {
      this.i7.B();
      this.gb.B();
      this.p3.B();
      this.j_.B();
      this.Wy.B();
      this.WC.B();
      this.u2.B();
      this.lC.B()
  }
  ;
  cX.prototype.m = function(n, z, C) {
      this.E$ = JSON.parse(JSON.stringify(n));
      var D = this.E$
        , F = D.I$
        , X = D.t_;
      this.KM.m(F.FauxBold != null ? F.FauxBold : !1);
      this.yh.m(F.FauxItalic != null ? F.FauxItalic : !1);
      this.UX.m(F.FontCaps == 2);
      this.Wh.m(F.FontCaps == 1);
      this.N3.m(F.FontBaseline == 1);
      this.nw.m(F.FontBaseline == 2);
      this.Wl.m(F.Underline);
      this.OS.m(F.Strikethrough);
      this.i7.m(F.Font == null ? null : D.qR[F.Font].Name, z, C);
      var E = F.FontSize == null ? 20 : F.FontSize;
      this.gb.m(E);
      var f = F.Tracking;
      this.j_.m(f == null ? 0 : f);
      this.p3.m(F.Leading != null && F.Leading != 0 ? F.Leading : E);
      this.AV.m(F.AutoLeading);
      this.WC.m((F.VerticalScale != null ? F.VerticalScale : 0) * 100);
      this.u2.m((F.HorizontalScale != null ? F.HorizontalScale : 0) * 100);
      this.Wy.m(F.BaselineShift != null ? F.BaselineShift : 0);
      if (F.FillColor) {
          var a = bZ.Jo(F);
          this.Wm.VR(Math.round(a.h) << 16 | Math.round(a.Q) << 8 | Math.round(a.O))
      } else
          this.Wm.VR(0);
      var q = X._Direction != null ? X._Direction : 0
        , c = bZ.Ez(X);
      for (var M = 0; M < this.QY.length; M++)
          this.QY[M].m(c == M);
      this.lC.m(q);
      this.jr.m(X.StartIndent != null ? X.StartIndent : 0);
      this.sC.m(X.EndIndent != null ? X.EndIndent : 0);
      this.j$.m(X.FirstLineIndent != null ? X.FirstLineIndent : 0);
      this.AF.m(X.SpaceBefore != null ? X.SpaceBefore : 0);
      this.YW.m(X.SpaceAfter != null ? X.SpaceAfter : 0)
  }
  ;
  cX.prototype.a8 = function() {
      var n = new u(l.E.P,!0);
      n.data = {
          e: l.H.W9,
          G6: c1.DJ,
          E$: this.E$
      };
      this.f(n);
      var n = new u(l.E.M,!0);
      n.F = O.qp;
      n.data = {
          e: "updateStyles"
      };
      this.f(n)
  }
  ;
  cX.prototype.afw = function(n) {
      var z = this.E$.I$
        , C = n.target
        , D = !C.tr();
      if (C == this.KM)
          z.FauxBold = D;
      if (C == this.yh)
          z.FauxItalic = D;
      if (C == this.UX)
          z.FontCaps = D ? 2 : 0;
      if (C == this.Wh)
          z.FontCaps = D ? 1 : 0;
      if (C == this.N3)
          z.FontBaseline = D ? 1 : 0;
      if (C == this.nw)
          z.FontBaseline = D ? 2 : 0;
      if (C == this.Wl)
          z.Underline = D;
      if (C == this.OS)
          z.Strikethrough = D;
      this.a8()
  }
  ;
  cX.prototype.f4 = function(n) {
      var z = this.E$.I$
        , C = this.E$.t_
        , D = n.target;
      if (D == this.j_) {
          var F = this.j_.u();
          z.Tracking = F
      }
      if (D == this.p3) {
          z.AutoLeading = !1;
          z.Leading = this.p3.u()
      }
      if (D == this.AV) {
          z.AutoLeading = this.AV.u()
      }
      if (D == this.gb)
          z.FontSize = D.u();
      if (D == this.WC)
          z.VerticalScale = D.u() / 100;
      if (D == this.u2)
          z.HorizontalScale = D.u() / 100;
      if (D == this.Wy)
          z.BaselineShift = D.u();
      if (this.QY.indexOf(D) != -1) {
          C.Justification = bZ.Ez(C, this.QY.indexOf(D))
      }
      if (D == this.jr)
          C.StartIndent = D.u();
      if (D == this.sC)
          C.EndIndent = D.u();
      if (D == this.j$)
          C.FirstLineIndent = D.u();
      if (D == this.AF)
          C.SpaceBefore = D.u();
      if (D == this.YW)
          C.SpaceAfter = D.u();
      if (D == this.lC)
          C._Direction = D.u();
      this.a8()
  }
  ;
  cX.prototype.a4e = function(n) {
      var z = this.E$
        , C = this.i7.u()
        , D = -1;
      for (var M = 0; M < z.qR.length; M++)
          if (z.qR[M].Name == C)
              D = M;
      if (D == -1) {
          D = z.qR.length;
          var F = JSON.parse(JSON.stringify(z.qR[0]));
          F.Name = C;
          z.qR.splice(D, 0, F)
      }
      z.I$.Font = D;
      this.a8()
  }
  ;
  cX.prototype.ak0 = function(n) {
      var z = this.Wm.RO()
        , C = {
          Type: 1,
          Values: [1, (z >> 16 & 255) / 255, (z >> 8 & 255) / 255, (z >> 0 & 255) / 255]
      };
      for (var M = 0; M < 4; M++)
          C.Values[M] = Math.round(C.Values[M] * 1e3) / 1e3;
      this.E$.I$.FillColor = C;
      this.a8()
  }
  ;
  function d2() {
      gN.call(this);
      this.j = l.w("span", "fontinput");
      this.gJ = null;
      this.cl = null;
      this.kR = null;
      this.Xj = "";
      this.XU = {};
      this.GN = [];
      this.anW = {};
      this.or = !1;
      this.mR = l.w("button", "fitem");
      this.mR.setAttribute("style", "width:9em;");
      this.mR.textContent = "Family Name \u25BC";
      this.j.appendChild(this.mR);
      l.Vb(this.mR, this.rB.bind(this));
      this.tm = new gN;
      this.tm.parent = this;
      this.tm.j = l.w("div", "floatcont");
      this.tm.j.addEventListener("keyup", this.abY.bind(this), !1);
      this.Ng = new d1(6.8);
      this.tm.j.appendChild(this.Ng.alH());
      this.Ng.parent = this.tm;
      this.Ng.s(l.E.L, this.Bq, this);
      var n = l.w("div", "form");
      this.tm.j.appendChild(n);
      this.Il = new gJ(l.qu("tools/cshape", null, "autoscale"),!1,"Show Favorites Only");
      this.Il.s("click", this.ahE, this);
      n.appendChild(this.Il.j);
      this.fi = new ik([12, 86],null,9);
      this.fi.s("input", this.Pu, this);
      n.appendChild(this.fi.j);
      var z = this.acl = new gJ([[23, 6], [22, 6, 0]],!1,"Load OTF / TTF file from your computer",!0);
      z.s("click", this.afk, this);
      z.j.style.marginLeft = "1.5em";
      n.appendChild(z.j);
      this.gk = l.w("span", "fitem imageset scrollable marged");
      this.gk.style.height = "30em";
      this.tm.j.appendChild(this.gk);
      this.aq = l.w("button", "fitem");
      this.aq.setAttribute("style", "width:7em;");
      this.aq.textContent = "SubFamily Name \u25BC";
      this.j.appendChild(this.aq);
      l.Vb(this.aq, this.rB.bind(this));
      this.mn = new gN;
      this.mn.parent = this;
      this.mn.j = l.w("div", "floatcont");
      this.L1 = l.w("span", "fitem imageset scrollable marged");
      this.mn.j.appendChild(this.L1)
  }
  d2.prototype = new gN;
  d2.prototype.abY = function(n) {
      var z = 0;
      if (dM.vA(n.code, dM.G4))
          z = -1;
      if (dM.vA(n.code, dM.L4))
          z = 1;
      if (z != 0) {
          var C = this.GN
            , D = C.length
            , F = this.gJ.Z3()[this.kR];
          if (F == null && D == 0)
              return;
          var X = C.indexOf(F[0]);
          if (X == -1)
              return;
          X = (X + z + D) % D;
          this.zd(C[X], null)
      }
  }
  ;
  d2.prototype.afk = function() {
      var n = new u(l.E.P,!0);
      n.data = {
          e: l.H.SF,
          aoP: ".otf,.ttf,.ttc"
      };
      this.f(n)
  }
  ;
  d2.prototype.B = function() {
      this.Ng.B();
      this.acl.B();
      this.Il.Jt(l.qu("tools/cshape", null, "autoscale"))
  }
  ;
  d2.prototype.ahE = function(n) {
      this.Il.m(!this.Il.tr());
      this.Bq()
  }
  ;
  d2.prototype.Pu = function(n) {
      this.Xj = this.fi.u().toLowerCase();
      this.Bq()
  }
  ;
  d2.prototype.rB = function(n) {
      l.I_(n);
      var z = n.currentTarget
        , C = z.getBoundingClientRect()
        , D = z == this.mR
        , F = D ? this.tm : this.mn;
      if (l.c6(F.j)) {
          this.Kg(F);
          return
      }
      if (!D && this.gJ.Z3()[this.kR] == null)
          return;
      var X = new u(l.E.P,!0);
      X.data = {
          e: l.H.X$,
          uN: F,
          x: C.left,
          y: C.top + C.height
      };
      this.f(X);
      if (D) {
          this.Bq();
          this.fi.p1()
      }
  }
  ;
  d2.prototype.a7a = function(n) {
      var z = n.currentTarget.firstChild.nextSibling.textContent;
      if (n.target.tagName.toLowerCase() == "button") {
          var C = this.cl.slice(0)
            , D = C.indexOf(z);
          if (D == -1) {
              C = C.slice(Math.max(0, C.length - 29));
              C.push(z)
          } else
              C.splice(D, 1);
          var F = new u(l.E.P,!0);
          F.data = {
              e: l.H.W9,
              G6: c1.vL,
              Z7: C
          };
          this.f(F);
          this.or = !0;
          this.Bq()
      } else {
          this.zd(z, null);
          this.fi.p1()
      }
  }
  ;
  d2.prototype.a3m = function(n) {
      this.zd(null, n.currentTarget.firstChild.textContent)
  }
  ;
  d2.prototype.zd = function(n, z) {
      var C = n == null ? this.mn : this.tm
        , D = this.gJ;
      if (n == null)
          n = D.Z3()[this.kR][0];
      else {
          var F = D.wy(n)
            , X = D.Z3()[this.kR];
          z = ht.Np(F, X ? X[1] : "regular")
      }
      var E = D.aa(n, z)[2];
      this.m(E, D);
      this.f(new u(l.E.L,!1));
      this.Kg(C);
      this.Bq()
  }
  ;
  d2.prototype.Kg = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.DU,
          uN: n
      };
      this.f(z)
  }
  ;
  d2.prototype.u = function() {
      return this.kR
  }
  ;
  d2.prototype.m = function(n, z, C) {
      var D = this.gJ;
      if (n != null)
          this.kR = n;
      else
          n = this.kR;
      this.gJ = z;
      this.cl = C;
      if (n != null) {
          var F = z.Z3()[n], X, E;
          if (F == null) {
              X = "- " + n;
              E = "-------"
          } else {
              X = F[0];
              E = F[1];
              var f = z.wy(X);
              f.sort(ht.aiy);
              var a = f.indexOf(E)
                , q = this.a3m.bind(this);
              this.L1.textContent = "";
              for (var M = 0; M < f.length; M++) {
                  var F = z.aa(X, f[M]);
                  if (!this.Ng.UI(F))
                      continue;
                  var c = this.Jm(F, F[1], q, !1);
                  this.L1.appendChild(c)
              }
          }
          this.mR.textContent = X.substring(0, 15) + " \u25BC";
          this.mR.setAttribute("title", X + ", \"" + n + "\"");
          this.aq.textContent = E.substring(0, 10) + " \u25BC";
          this.aq.setAttribute("title", E)
      }
  }
  ;
  d2.prototype.Bq = function() {
      var n = this.gJ.Z3()[this.kR]
        , z = this.cl
        , C = null
        , D = this.gJ.apQ()
        , F = this.a7a.bind(this);
      this.GN = [];
      for (var X in D) {
          var E = ht.Np(D[X], "regular")
            , f = this.gJ.aa(X, E)
            , a = z.indexOf(X) != -1
            , q = !0;
          if (this.Xj.length > 0 && f[0].toLowerCase().indexOf(this.Xj) == -1)
              q = !1;
          else if (!this.Ng.UI(f))
              q = !1;
          else if (this.Il.tr() && !a)
              q = !1;
          var c = this.XU[X];
          if (c == null) {
              var c = this.Jm(f, X, F, !0);
              this.XU[X] = c;
              this.gk.appendChild(c)
          }
          if (q)
              this.GN.push(X);
          var K = q ? "" : "display:none; "
            , R = "opacity: " + (a ? "1" : "0.2");
          if (n && n[0] == X) {
              K += "background-color:rgba(0,0,0,0.13);";
              C = c
          }
          if (this.anW[X] != K + R) {
              c.setAttribute("style", K);
              c.firstChild.setAttribute("style", R);
              this.anW[X] = K + R
          }
      }
      if (C && !this.or)
          this.gk.scrollTop = C.offsetTop - 210;
      this.or = !1
  }
  ;
  d2.prototype.Jm = function(n, z, C, D) {
      var F = l.w("div", "fontitem")
        , a = "";
      F.addEventListener("click", C, !1);
      if (D)
          F.appendChild(l.w("button", "star"));
      var X = l.w("span", "label");
      X.setAttribute("title", z);
      X.textContent = z;
      F.appendChild(X);
      var E = l.D()
        , f = 1 / E
        , q = ht.Z6 * f
        , c = ht.Sf * f;
      if (1 < E && E < 1.5)
          a = "width:" + q + "px; height:" + c + "px;";
      var K = l.w("span", "thumb gsicon");
      if (n.a7I) {
          a += "background: url(" + n.a7I + ");";
          if (1 < E && E < 1.5)
              a += "background-size: " + q + "px " + c + "px;"
      } else {
          var R = Math.ceil(FNTS.list.length / ht.cols)
            , J = Math.floor(n.kB / R)
            , w = n.kB % R
            , p = J * ht.Z6
            , I = w * ht.Sf;
          if (1 < E && E < 1.5) {
              a += "background-size: " + ht.cols * q + "px " + R * c + "px;";
              p *= f;
              I *= f
          }
          a += "background-position:-" + p + "px -" + I + "px;"
      }
      K.setAttribute("style", a);
      F.appendChild(K);
      return F
  }
  ;
  function d1(n) {
      gN.call(this);
      this.j = l.w("button", "fitem bbtn");
      this.j.addEventListener("click", this.a07.bind(this), !1);
      this.ld = new gN;
      this.ld.j = l.w("div", "floatcont");
      this.ld.parent = this;
      this.wV = l.w("div", "flexrow");
      this.ld.j.appendChild(this.wV);
      this.I5 = [];
      this._7 = [];
      var z = this.wV
        , C = l.w("div", "")
        , D = l.w("div", "");
      z.appendChild(C);
      z.appendChild(D);
      this.N6 = [];
      for (var M = 0; M < FNTS.cats.length; M++)
          this.N6.push({
              name: FNTS.cats[M],
              index: M,
              b4: 0
          });
      this.oF = new eS([7, 0]);
      this.oF.s(l.E.L, this.a8e, this);
      C.appendChild(this.oF.j);
      this.GP = l.w("div", "vlist marged scrollable");
      this.GP.setAttribute("style", "width:10.85em; height:" + n + "em; ");
      C.appendChild(this.GP);
      this.ng = [];
      for (var M = 0; M < this.N6.length; M++) {
          var F = this.N6[M]
            , X = new eS(F.name);
          this.ng.push(X);
          X.s(l.E.L, this.a2Q, this);
          X.m(!0);
          this.GP.appendChild(X.j);
          this.I5.push(1)
      }
      this.amV = new eS([7, 0]);
      this.amV.s(l.E.L, this.a1n, this);
      this.Cc = l.w("div", "vlist marged scrollable");
      this.Cc.setAttribute("style", "width:8.6em; height:" + (n + 1.5) + "em; ");
      D.appendChild(this.Cc);
      this.EN = [];
      for (var M = 0; M < FNTS.subsetNames.length; M++) {
          var X = new eS(FNTS.subsetNames[M]);
          this.EN.push(X);
          X.s(l.E.L, this.a7S, this);
          X.m(!1);
          this.Cc.appendChild(X.j);
          this._7.push(0)
      }
  }
  d1.prototype = new gN;
  d1.prototype.agw = function(n) {
      var z = this.EN;
      for (var M = 0; M < z.length; M++) {
          var C = (n >>> M & 1) == 1;
          this._7[M] = C;
          z[M].m(C)
      }
  }
  ;
  d1.prototype.alH = function() {
      return this.wV
  }
  ;
  d1.prototype.B = function() {
      this.j.textContent = aC.get([25, 1, 0]) + " \u25BC";
      this.oF.B();
      this.amV.B()
  }
  ;
  d1.prototype.a07 = function(n) {
      var z = this.j.getBoundingClientRect()
        , C = new u(l.E.P,!0);
      C.data = {
          e: l.H.X$,
          uN: this.ld,
          x: z.left,
          y: z.top + z.height,
          o6: !1
      };
      this.f(C)
  }
  ;
  d1.prototype.UI = function(n) {
      if (this.I5[n[4]] == 0)
          return !1;
      else
          for (var z = 0; z < this._7.length; z++)
              if (this._7[z] == 1 && (n[3] >>> z & 1) == 0)
                  return !1;
      return !0
  }
  ;
  d1.prototype.a8e = function(n) {
      var z = n.target.u()
        , C = this.ng
        , D = this.I5;
      for (var M = 0; M < C.length; M++) {
          C[M].m(z);
          D[M] = z ? 1 : 0
      }
      this.f(new u(l.E.L,!1))
  }
  ;
  d1.prototype.a1n = function(n) {
      var z = n.target.u()
        , C = this.EN
        , D = this._7;
      for (var M = 0; M < C.length; M++) {
          C[M].m(z);
          D[M] = z ? 1 : 0
      }
      this.f(new u(l.E.L,!1))
  }
  ;
  d1.prototype.a2Q = function(n) {
      var M = this.ng.indexOf(n.target)
        , z = this.N6[M].index;
      this.I5[z] = 1 - this.I5[z];
      this.f(new u(l.E.L,!1))
  }
  ;
  d1.prototype.a7S = function(n) {
      var M = this.EN.indexOf(n.target);
      this._7[M] = 1 - this._7[M];
      this.f(new u(l.E.L,!1))
  }
  ;
  function hy(n, z, C) {
      hc.call(this, z, !0, "gradientbutton", 18, 10, c1.ax);
      this.Du = -1;
      this.ff = -1;
      this.ani = null;
      this.afX = n;
      this.th = C
  }
  hy.prototype = new hc;
  hy.prototype.Tq = function(n) {
      var z = this.Hv;
      this.m(z[this.Fx.u()]);
      this.f(new u(l.E.L))
  }
  ;
  hy.prototype.aY = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.xb,
          gA: "gradienteditor",
          _: this.hK,
          Dk: this.ae6.bind(this),
          bD: this.th
      };
      this.f(z)
  }
  ;
  hy.prototype.ae6 = function(n) {
      this.m(n);
      this.f(new u(l.E.L))
  }
  ;
  hy.prototype.Ed = function() {
      if (!this.Cb)
          return;
      var n = Math.floor(36 * l.D())
        , z = Math.floor(36 * l.D())
        , C = []
        , D = []
        , F = this.Hv;
      for (var M = 0; M < F.length; M++) {
          var X = F[M];
          D.push(X.Nm ? X.Nm.v.split("=").pop() : "");
          var E = O.rn.qK(X, n, z, Math.PI / 4, this.Du, this.ff);
          C.push(E)
      }
      this.Fx.rR(C, D, n, z);
      this.Cb = !1
  }
  ;
  hy.prototype.fF = function(n, z) {
      this.yq(this.hK, n, z)
  }
  ;
  hy.prototype.m = function(n) {
      this.yq(n, this.Du, this.ff)
  }
  ;
  hy.prototype.yq = function(n, z, C) {
      this.Du = z;
      this.ff = C;
      if (n == null)
          return;
      var D = JSON.stringify(n)
        , F = D + z + "," + C;
      if (F == this.ani)
          return;
      this.ani = F;
      this.hK = JSON.parse(D);
      var X = Math.floor(80 * l.D())
        , E = Math.floor(16 * l.D())
        , f = O.rn.qK(this.hK, X, E, 0, this.Du, this.ff);
      this.XI.setAttribute("src", f);
      l.NE(this.XI, X, E)
  }
  ;
  hy.prototype.u = function() {
      var n;
      if (this.afX)
          n = O.rn.a60(this.hK, this.Du, this.ff);
      else
          n = JSON.parse(JSON.stringify(this.hK));
      return n
  }
  ;
  function aI(n) {
      hc.call(this, n, !1, "swatchbutton", 16, 8.75, c1.AU)
  }
  aI.prototype = new hc;
  aI.prototype.Tq = function(n) {
      this.m(this.Hv[n.target.u()]);
      this.f(new u(l.E.L))
  }
  ;
  aI.prototype.Ed = function() {
      if (!this.Cb)
          return;
      var n = Date.now()
        , z = Math.floor(10 * l.D())
        , C = Math.floor(10 * l.D())
        , D = []
        , F = []
        , X = this.Hv;
      for (var M = 0; M < X.length; M++) {
          F.push(X[M].UP ? X[M].UP.split("=").pop() : "");
          D.push(aI.qK(X[M], z, C))
      }
      this.Fx.rR(D, F, z, C);
      this.Cb = !1
  }
  ;
  aI.prototype.m = function(n) {
      this.hK = JSON.parse(JSON.stringify(n));
      this.p0()
  }
  ;
  aI.prototype.p0 = function() {
      var n = Math.floor(24 * l.D())
        , z = Math.floor(20 * l.D())
        , C = aI.qK(this.hK, n, z);
      this.XI.setAttribute("src", C);
      l.NE(this.XI, n, z)
  }
  ;
  aI.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.hK))
  }
  ;
  aI.ue = {};
  aI.qK = function(n, z, C) {
      var D = aI.f0
        , F = aI.ue
        , X = j.JY(n.h << 16 | n.Q << 8 | n.O);
      if (F[X])
          return F[X];
      if (D == null) {
          var E = l.w("canvas");
          D = aI.f0 = E.getContext("2d")
      }
      var E = D.canvas;
      E.width = z;
      E.height = C;
      D.fillStyle = "#" + X;
      D.fillRect(0, 0, z, C);
      var f = F[X] = E.toDataURL();
      return f
  }
  ;
  function eS(n, z, C) {
      gN.call(this);
      this.j = l.w("span", "fitem cbox");
      if (z == null)
          z = !0;
      if (C == null)
          C = "flabel";
      var D = "cb" + l.FE();
      this.hU = l.w("input", "");
      this.hU.setAttribute("type", "checkbox");
      this.hU.setAttribute("id", D);
      this.j.appendChild(this.hU);
      this.ew = n;
      this.pa = l.w("label", C);
      if (z)
          this.pa.setAttribute("for", D);
      this.j.appendChild(this.pa);
      this.B();
      this.hU.addEventListener("change", this.Mm.bind(this), !1)
  }
  eS.prototype = new gN;
  eS.prototype.Rd = function() {
      return this.ew
  }
  ;
  eS.prototype.Jt = function(n) {
      this.pa.textContent = n
  }
  ;
  eS.prototype.B = function() {
      var n = this.ew;
      if (typeof n == "string" && n.startsWith("<"))
          this.pa.innerHTML = n;
      else
          this.pa.textContent = aC.get(n)
  }
  ;
  eS.prototype.so = function() {
      this.hU.checked = !0
  }
  ;
  eS.prototype.Z8 = function() {
      this.hU.checked = !1
  }
  ;
  eS.prototype.tr = function() {
      return this.hU.checked
  }
  ;
  eS.prototype.m = function(n) {
      this.hU.checked = n
  }
  ;
  eS.prototype.u = eS.prototype.tr;
  eS.prototype.Mm = function(n) {
      this.f(new u(l.E.L,!1))
  }
  ;
  function ez(n, z, C, D) {
      gN.call(this);
      this.j = l.w("span", "fitem mbox");
      this.a6J = C;
      if (n) {
          this.ew = n;
          this.pa = l.w("label", "flabel");
          this.j.appendChild(this.pa)
      }
      this.U4 = z;
      this.yJ = [];
      for (var M = 0; M < z.length; M++) {
          var F = C ? new gJ(z[M],!1,D ? D[M] : null) : new eS(z[M],!0,"");
          F.s(C ? "click" : l.E.L, this.Mm, this);
          this.yJ.push(F);
          this.j.appendChild(F.j)
      }
      this.B()
  }
  ez.prototype = new gN;
  ez.prototype.m = function(n) {
      for (var z = 0; z < this.U4.length; z++)
          this.yJ[z].m(n[z])
  }
  ;
  ez.prototype.u = function() {
      var n = [];
      for (var z = 0; z < this.U4.length; z++)
          n[z] = this.yJ[z].u();
      return n
  }
  ;
  ez.prototype.B = function() {
      if (this.ew)
          this.pa.innerHTML = aC.get(this.ew) + ": ";
      for (var n = 0; n < this.yJ.length; n++)
          this.yJ[n].B()
  }
  ;
  ez.prototype.Mm = function(n) {
      var M = this.yJ.indexOf(n.currentTarget);
      if (this.a6J)
          this.yJ[M].m(!this.yJ[M].u());
      this.f(new u(l.E.L,!1))
  }
  ;
  function iT(n, z, C, D, F, X) {
      bL.call(this, n, z, C, D, F, !1, X);
      this.j.appendChild(this.pa);
      var E = l.w("span", "rangecont");
      this.j.appendChild(E);
      E.appendChild(this.tR);
      this.j.appendChild(this.hU);
      this.hU.setAttribute("style", "width:3.3em");
      if (this._s)
          this.j.appendChild(this.vS)
  }
  iT.prototype = new bL;
  function aJ(n, z, C, D) {
      if (n == null)
          n = !1;
      if (z == null)
          z = !1;
      if (C == null)
          C = !1;
      gN.call(this);
      this.Zd = new ir;
      this.L0 = new ir;
      this.oH = 72;
      this.SC = 72;
      this.Ub = !0;
      this.j = l.w("span", "");
      this.CQ = new c5([12, 41],0,0,null,0,!1,!0);
      this.j.appendChild(this.CQ.j);
      this.CQ.s(l.E.L, this.SH, this);
      var F = ["px", "%"];
      if (n)
          F = F.concat(["mm", "in"]);
      this.ed = new fR(null,F);
      this.j.appendChild(this.ed.j);
      l.jn(this.j);
      this.ed.s(l.E.L, this.SH, this);
      this.Jc = new c5([12, 42],0,0,null,0,!1,!0);
      this.j.appendChild(this.Jc.j);
      this.Jc.s(l.E.L, this.SH, this);
      var X = new gJ("\u21F5",!1,null,!0);
      X.s("click", this.a8U, this);
      this.KO = new gJ("<img src=\"" + PIMG["lrs/chain"] + "\" class=\"autoscale gsicon\" />",!1,[12, 51]);
      this.KO.s("click", this.SH, this);
      this.abP = new be("");
      if (z) {
          this.j.appendChild(this.KO.j);
          this.j.appendChild(this.abP.j);
          this.KO.so()
      } else
          this.j.appendChild(X.j);
      this.VH = new c5("DPI",0,0,null,3,!1,!0,4);
      if (n && D == null) {
          l.jn(this.j);
          this.j.appendChild(this.VH.j)
      }
      this.VH.s(l.E.L, this.SH, this);
      this.vZ = new eS([12, 23, 1]);
      this.vZ.s(l.E.L, this.SH, this);
      if (C) {
          l.jn(this.j);
          this.j.appendChild(this.vZ.j)
      }
      l.jn(this.j)
  }
  aJ.prototype = new gN;
  aJ.prototype.ahQ = function() {
      this.Ub = !1;
      if (this.ed.u() == 0) {
          this.ed.m(3);
          this.up()
      }
  }
  ;
  aJ.prototype.a3f = function() {
      this.Ub = !0
  }
  ;
  aJ.prototype.a6x = function(n) {
      this.KO.m(n)
  }
  ;
  aJ.prototype.B = function() {
      this.CQ.B();
      this.Jc.B();
      this.VH.B();
      this.KO.B();
      this.vZ.B()
  }
  ;
  aJ.prototype.a8U = function(n) {
      var z = this.L0.x;
      this.L0.x = this.L0.y;
      this.L0.y = z;
      this.up();
      this.f(new u(l.E.L,!1))
  }
  ;
  aJ.prototype.SH = function(n) {
      if (n.target == this.ed && !this.Ub && this.ed.u() == 0)
          this.ed.m(3);
      if (n.target == this.ed || n.target == this.vZ) {
          this.up();
          return
      }
      if (n.target == this.KO)
          n.target.m(!n.target.u());
      var z = this.Zd
        , C = parseFloat(this.CQ.u());
      if (isNaN(C))
          C = 1;
      var D = parseFloat(this.Jc.u());
      if (isNaN(D))
          D = 1;
      var F = this.ed.u();
      if (this.Ub) {
          var X = this.SC;
          if (F == 1) {
              C = this.Zd.x * (C / 100);
              D = this.Zd.y * (D / 100)
          }
          var E = [1, 1, 25.4 / X, 1 / X][F];
          C /= E;
          D /= E;
          if (this.vZ.u()) {
              C += this.Zd.x;
              D += this.Zd.y
          }
          if (n.target == this.VH) {
              var f = this.VH.u();
              if (!0) {
                  var a = f / X;
                  C *= a;
                  D *= a
              }
              X = f
          }
          if (this.KO.u()) {
              if (n.target == this.CQ)
                  D = C * (z.y / z.x);
              else
                  C = D * (z.x / z.y)
          }
          C = Math.max(Math.abs(C), 1);
          D = Math.max(Math.abs(D), 1)
      } else {
          var X = this.oH;
          if (n.target == this.VH)
              X = this.VH.u();
          else {
              if (this.KO.u()) {
                  if (n.target == this.CQ)
                      D = C * (z.y / z.x);
                  else
                      C = D * (z.x / z.y)
              }
              var E = [1, 1, 25.4 / X, 1 / X][F]
                , q = C / (F == 1 ? 100 : z.x * E);
              X = X / q
          }
          C = z.x;
          D = z.y
      }
      this.L0 = new ir(Math.round(C),Math.round(D));
      this.SC = X;
      this.up();
      this.f(new u(l.E.L,!1))
  }
  ;
  aJ.prototype.a7w = function(M) {
      this.ed.m(M);
      this.up()
  }
  ;
  aJ.prototype.m = function(n, z, C) {
      if (C != !0)
          this.Zd = n.clone();
      this.L0 = n.clone();
      if (z != null) {
          this.oH = z;
          this.SC = z
      }
      this.up()
  }
  ;
  aJ.prototype.up = function() {
      var n = this.L0.x
        , z = this.L0.y
        , C = this.SC
        , D = (n / z).toFixed(3);
      while (D.charAt(D.length - 1) == "0")
          D = D.substring(0, D.length - 1);
      if (D.charAt(D.length - 1) == ".")
          D = D.substring(0, D.length - 1);
      var F = "  " + D + " : 1"
        , X = function(c, K) {
          while (K != 0) {
              var R = K;
              K = c % K;
              c = R
          }
          return c
      }
        , E = X(n, z);
      if (Math.min(n, z) / E < 10)
          F = "  " + Math.round(n / E) + " : " + Math.round(z / E);
      this.abP.m(F);
      if (this.vZ.u()) {
          n -= this.Zd.x;
          z -= this.Zd.y
      }
      var f = this.ed.u();
      if (f == 1) {
          if (this.Ub) {
              n = 100 * n / this.Zd.x;
              z = 100 * z / this.Zd.y
          } else {
              n = z = 100 * this.oH / this.SC
          }
      } else {
          n = Math.round(n);
          z = Math.round(z)
      }
      var a = [1, 1, 25.4 / C, 1 / C][f];
      n *= a;
      z *= a;
      var q = f == 1 || f == 3 ? 2 : 0;
      this.CQ.HX(q);
      this.Jc.HX(q);
      this.CQ.m(n);
      this.Jc.m(z);
      this.VH.m(C)
  }
  ;
  aJ.prototype.u = function() {
      return this.L0.clone()
  }
  ;
  aJ.prototype.Y$ = function() {
      return this.SC
  }
  ;
  function aa(n, z) {
      gN.call(this);
      var C = n == 0 ? ["W", "H", "X", "Y"] : ["\u250F", "\u2513", "\u2517", "\u251B"];
      this.Zg = n;
      this.apr = z;
      this.nZ = 1;
      this.Yd = [1, 1, 0];
      var D = this.j = l.w("div", "numlist")
        , F = this.Mn = [];
      for (var M = 0; M < 4; M++) {
          var X = new c5(C[M],0,0,null,2,!1,!0,4);
          X.s(l.E.L, this.SH, this);
          D.appendChild(X.j);
          F[M] = X;
          if (M == 1 || M == 3)
              l.jn(D)
      }
      F[4] = new eS(n == 0 ? [12, 51] : [12, 91, 2]);
      F[4].m(!0);
      D.appendChild(F[4].j)
  }
  aa.prototype = new gN;
  aa.prototype.B = function() {
      var n = this.Mn;
      for (var M = 0; M < 5; M++)
          n[M].B();
      if (this.Zg == 0)
          l.Dw(n[0], n[1])
  }
  ;
  aa.prototype.m = function(n, z) {
      if (z)
          this.Yd = z;
      z = this.Yd;
      this.nZ = n[0] / n[1];
      for (var M = 0; M < 4; M++) {
          var C = this.Mn[M];
          C.HX(z[2] == 0 && this.apr ? 0 : 2);
          C.m(j.ST.a5I(n[M], z[0], z[1], z[2]))
      }
  }
  ;
  aa.prototype.u = function() {
      var n = []
        , z = this.Yd;
      for (var M = 0; M < 4; M++) {
          var C = j.ST.Ge(this.Mn[M].u(), z[0], z[1], z[2]);
          n[M] = this.apr ? Math.round(C) : C
      }
      return n
  }
  ;
  aa.prototype.SH = function(n) {
      var z = this.Zg
        , C = this.Mn.indexOf(n.currentTarget)
        , D = this.u()
        , F = this.Mn[4].u();
      if (z == 0) {
          D[0] = Math.max(1, D[0]);
          D[1] = Math.max(1, D[1]);
          if (F && C == 0)
              D[1] = D[0] / this.nZ;
          if (F && C == 1)
              D[0] = D[1] * this.nZ
      }
      if (z == 1) {
          D[C] = Math.max(0, D[C]);
          if (F)
              for (var M = 0; M < 4; M++)
                  D[M] = D[C]
      }
      this.m(D);
      this.f(new u(l.E.L,!1))
  }
  ;
  function eM() {
      gN.call(this);
      this.lA = 0;
      this.Sb = [0, 0, 1, 1, 100, 100];
      this.j = l.w("span", "fitem");
      this.zM = new fR(null,[[12, 89, 0], [12, 89, 1], [12, 89, 2]]);
      this.j.appendChild(this.zM.j);
      this.zM.s(l.E.L, this.SH, this);
      this.CQ = new c5("W",0,0,null,0,!1,!0);
      this.j.appendChild(this.CQ.j);
      this.CQ.s(l.E.L, this.SH, this);
      this.Jc = new c5("H",0,0,null,0,!1,!0);
      this.j.appendChild(this.Jc.j);
      this.Jc.s(l.E.L, this.SH, this);
      this.m({
          x2: 0,
          x: 0,
          y: 0
      })
  }
  eM.prototype = new gN;
  eM.prototype.B = function() {
      l.Dw(this.CQ, this.Jc);
      this.zM.B()
  }
  ;
  eM.prototype.SH = function(n) {
      if (n.target == this.zM) {
          var z = this.u()
            , C = this.Sb;
          C[this.lA * 2] = z.x;
          C[this.lA * 2 + 1] = z.y;
          this.lA = z.x2;
          this.m({
              x2: z.x2,
              x: C[z.x2 * 2],
              y: C[z.x2 * 2 + 1]
          })
      }
      if (this.CQ.u() < 1)
          this.CQ.m(1);
      if (this.Jc.u() < 1)
          this.Jc.m(1);
      this.f(new u(l.E.L,!1))
  }
  ;
  eM.prototype.m = function(n) {
      this.zM.m(n.x2);
      this.CQ.m(n.x);
      this.Jc.m(n.y);
      if (n.x2 == 0) {
          this.CQ.NN();
          this.Jc.NN()
      } else {
          this.CQ.Tl();
          this.Jc.Tl()
      }
  }
  ;
  eM.prototype.u = function() {
      return {
          x2: this.zM.u(),
          x: this.CQ.u(),
          y: this.Jc.u()
      }
  }
  ;
  function be(n, z) {
      gN.call(this);
      this.ew = n;
      this.j = l.w("span", "labelitem fitem" + (z ? " spread" : ""));
      this.B()
  }
  be.prototype = new gN;
  be.prototype.m = function(n) {
      this.j.textContent = n
  }
  ;
  be.prototype.u = function() {
      return this.j.textContent
  }
  ;
  be.prototype.Tl = function() {
      this.j.removeAttribute("disabled")
  }
  ;
  be.prototype.NN = function() {
      this.j.setAttribute("disabled", "")
  }
  ;
  be.prototype.Jt = function(n) {
      this.j.textContent = n
  }
  ;
  be.prototype.B = function() {
      this.j.textContent = aC.get(this.ew)
  }
  ;
  be.prototype.Rd = function() {
      return this.ew
  }
  ;
  function bT(n) {
      gN.call(this);
      this.j = l.w("span", "");
      this.ams = n;
      this.V1 = new iT("Off X",-100,100,n ? "%" : "px",0,!1);
      this.oV = new iT("Off Y",-100,100,n ? "%" : "px",0,!1);
      this.V1.s(l.E.L, this.SH, this);
      this.oV.s(l.E.L, this.SH, this);
      this.j.appendChild(this.V1.j);
      this.j.appendChild(this.oV.j)
  }
  bT.prototype = new gN;
  bT.prototype.B = function() {
      this.V1.B();
      this.oV.B()
  }
  ;
  bT.prototype.SH = function(n) {
      this.f(new u(l.E.L,!1))
  }
  ;
  bT.prototype.acb = function(n) {
      this.V1.m(n.x);
      this.oV.m(n.y)
  }
  ;
  bT.prototype.a0b = function() {
      return new ir(this.V1.u(),this.oV.u())
  }
  ;
  bT.prototype.m = function(n, z) {
      var C = n.Hrzn.v
        , D = n.Vrtc.v;
      if (this.ams) {
          C = C.val;
          D = D.val
      }
      this.V1.m(C);
      this.oV.m(D);
      if (z)
          this.SH()
  }
  ;
  bT.prototype.u = function() {
      var n = this.V1.u()
        , z = this.oV.u();
      if (this.ams)
          return {
              classID: "Pnt",
              Hrzn: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: n
                  }
              },
              Vrtc: {
                  t: "UntF",
                  v: {
                      type: "#Prc",
                      val: z
                  }
              }
          };
      else
          return {
              classID: "Pnt",
              Hrzn: {
                  v: n,
                  t: "doub"
              },
              Vrtc: {
                  v: z,
                  t: "doub"
              }
          }
  }
  ;
  function c5(n, z, C, D, F, X, E, f, a) {
      bL.call(this, n, z, C, D, F, !0, X, a);
      l.G5(this.j, "rangedropinput");
      this.j.appendChild(this.pa);
      this.hU.setAttribute("style", "width:" + (f ? f : 3.3) + "em");
      this.j.appendChild(this.hU);
      this.akx = l.w("span", "rangecont");
      this.akx.appendChild(this.tR);
      this.aO = l.w("button");
      this.aO.innerHTML = "\u25BC";
      l.Vb(this.aO, this.apB.bind(this));
      if (E != !0)
          this.j.appendChild(this.aO);
      this.Mp = new gN;
      this.Mp.j = this.akx
  }
  c5.prototype = new bL;
  c5.prototype.apB = function(n) {
      if (l.c6(this.Mp.j))
          return;
      n.stopPropagation();
      var z = this.j.getBoundingClientRect();
      this.tR.setAttribute("style", "width:" + z.width + "px;");
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.X$,
          uN: this.Mp,
          x: z.left,
          y: z.top + z.height
      };
      this.f(C)
  }
  ;
  function e5() {
      gN.call(this);
      this.j = l.w("span", "fitem strokebutton");
      this.zj = [[null, null, null, ""], [null, 0, null, "4 2"], [1, 1, null, "0 2"]];
      this.Rz = JSON.parse(JSON.stringify(g$.Bt.default));
      this.IH = l.w("button");
      this.j.appendChild(this.IH);
      this.IH.addEventListener("click", this.w0.bind(this), !1);
      var n = l.w("canvas", "gsicon");
      this.zx = n.getContext("2d");
      this.IH.appendChild(n);
      var z = l.w("span");
      z.textContent = " \u25BC";
      this.IH.appendChild(z);
      this.ld = new gN;
      this.ld.parent = this;
      this.ld.j = l.w("div", "floatcont form");
      var C = this.ld.j;
      C.setAttribute("style", "width: 14em;");
      this.XU = [new fR([12, 40],[[19, 5, 2], [19, 5, 1], [19, 5, 0]]), new b7([19, 9, 0],["<img src=\"" + PIMG["caps/butt"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["caps/round"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["caps/square"] + "\" class=\"autoscale gsicon\" />"]), new b7([19, 9, 1],["<img src=\"" + PIMG["joins/miter"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["joins/round"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["joins/bevel"] + "\" class=\"autoscale gsicon\" />"]), new ik([19, 9, 2])];
      for (var M = 0; M < this.XU.length; M++) {
          var D = this.XU[M];
          C.appendChild(D.j);
          var F = M < 4 ? l.E.L : "click";
          D.s(F, this.SH, this)
      }
      l.jn(C);
      this.J_ = [];
      var X = this.abZ.bind(this);
      for (var M = 0; M < this.zj.length; M++) {
          var E = l.w("button", "fitem");
          this.J_.push(E);
          C.appendChild(E);
          E.addEventListener("click", X, !1);
          var n = l.w("canvas", "gsicon")
            , f = n.getContext("2d");
          E.appendChild(n);
          this.Ig(f, 40, 20, this.zj[M])
      }
  }
  e5.prototype = new gN;
  e5.prototype.w0 = function(n) {
      var z = this.IH.getBoundingClientRect()
        , C = new u(l.E.P,!0);
      C.data = {
          e: l.H.X$,
          uN: this.ld,
          x: z.left,
          y: z.top + z.height + 4
      };
      this.f(C)
  }
  ;
  e5.prototype.SH = function(n) {
      var z = this.XU
        , C = z.indexOf(n.target)
        , D = [];
      for (var M = 0; M < 4; M++)
          D.push(z[M].u());
      this.Rz = this._e(D);
      this.f(new u(l.E.L,!1))
  }
  ;
  e5.prototype.abZ = function(n) {
      var z = this.J_.indexOf(n.currentTarget);
      this.m(this._e(this.zj[z]));
      this.f(new u(l.E.L,!1))
  }
  ;
  e5.prototype._e = function(n) {
      var z = JSON.parse(JSON.stringify(this.Rz))
        , C = n[0]
        , D = n[1]
        , F = n[2]
        , X = n[3];
      if (C != null)
          z.strokeStyleLineAlignment.v.strokeStyleLineAlignment = g$.Bt.pA[C];
      if (D != null)
          z.strokeStyleLineCapType.v.strokeStyleLineCapType = g$.Bt.BB[D];
      if (F != null)
          z.strokeStyleLineJoinType.v.strokeStyleLineJoinType = g$.Bt.join[F];
      var E = z.strokeStyleLineDashSet.v = [];
      X = X.split(" ");
      while ((X.length & 1) != 0)
          X.pop();
      for (var M = 0; M < X.length; M++)
          E.push({
              t: "UntF",
              v: {
                  type: "#Nne",
                  val: parseInt(X[M])
              }
          });
      return z
  }
  ;
  e5.prototype.B = function() {
      for (var M = 0; M < this.XU.length; M++)
          this.XU[M].B()
  }
  ;
  e5.prototype.m = function(n) {
      this.Rz = JSON.parse(JSON.stringify(n));
      var z = g$.Bt.pA.indexOf(n.strokeStyleLineAlignment.v.strokeStyleLineAlignment)
        , C = g$.Bt.BB.indexOf(n.strokeStyleLineCapType.v.strokeStyleLineCapType)
        , D = g$.Bt.join.indexOf(n.strokeStyleLineJoinType.v.strokeStyleLineJoinType)
        , F = []
        , X = n.strokeStyleLineDashSet.v;
      for (var E = 0; E < X.length; E++)
          F.push(X[E].v.val);
      var f = this.XU;
      f[0].m(z);
      f[1].m(C);
      f[2].m(D);
      f[3].m(F.join(" "));
      var a = [];
      for (var M = 0; M < 4; M++)
          a.push(f[M].u());
      this.Ig(this.zx, 40, 16, a)
  }
  ;
  e5.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.Rz))
  }
  ;
  e5.prototype.Ig = function(n, z, C, D) {
      var F = D[0]
        , X = D[1]
        , E = D[2]
        , f = D[3].split(" ").map(parseFloat);
      l.Hb(n.canvas, z, C);
      var a = Math.min(5, this.Rz.strokeStyleLineWidth.v.val);
      for (var M = 0; M < f.length; M++)
          f[M] *= a;
      n.clearRect(0, 0, z, C);
      n.setLineDash(f);
      n.lineCap = ["butt", "round", "square"][X];
      n.lineJoin = ["miter", "round", "bevel"][E];
      n.lineWidth = a;
      n.beginPath();
      n.moveTo(0, C / 2);
      n.lineTo(z * 2, C / 2);
      n.stroke()
  }
  ;
  function eb(n) {
      hc.call(this, n, !1, "contourbutton", 34, 16, c1.ES);
      this.fi = new ik([12, 86],null,16);
      this.fi.s("input", this.Pu, this);
      this.ld.j.appendChild(this.fi.j);
      this.As = null;
      this.Xj = "";
      this.MT = null;
      this.m(eh.zP())
  }
  eb.prototype = new hc;
  eb.prototype.B = function() {
      hc.prototype.B.call(this);
      this.fi.B()
  }
  ;
  eb.prototype.Tq = function(n) {
      this.m(this.As[n.target.u()]);
      this.f(new u(l.E.L))
  }
  ;
  eb.prototype.Pu = function(n) {
      this.Xj = this.fi.u().toLowerCase();
      this.MY()
  }
  ;
  eb.m8 = !1;
  eb.prototype.Ed = function() {
      if (!this.Cb)
          return;
      var n = this.Hv;
      if (n == null || !eb.m8) {
          var z = new u(l.E.P,!0);
          z.data = {
              e: l.H.Om,
              G6: {
                  url: "rsrc/basic/fa_basic.csh"
              }
          };
          this.f(z);
          eb.m8 = !0
      } else {
          var C = Math.floor(38 * l.D())
            , D = Math.floor(38 * l.D());
          this.MT = [];
          for (var M = 0; M < n.length; M++)
              this.MT.push(eb.l4(n[M], C, D));
          this.MY();
          this.Cb = !1
      }
  }
  ;
  eb.prototype.MY = function() {
      var n = Math.floor(38 * l.D())
        , z = Math.floor(38 * l.D());
      this.As = [];
      var C = []
        , D = []
        , F = this.Hv;
      for (var M = 0; M < F.length; M++) {
          if (F[M].YZ.toLowerCase().indexOf(this.Xj) == -1)
              continue;
          this.As.push(F[M]);
          C.push(this.MT[M]);
          D.push(F[M].YZ)
      }
      this.Fx.rR(C, D, n, z)
  }
  ;
  eb.prototype.m = function(n) {
      this.hK = eb.clone(n);
      this.p0()
  }
  ;
  eb.prototype.p0 = function() {
      var n = Math.floor(23 * l.D())
        , z = Math.floor(23 * l.D())
        , C = eb.l4(this.hK, n, z);
      this.XI.setAttribute("src", C);
      l.NE(this.XI, n, z)
  }
  ;
  eb.prototype.u = function() {
      return eb.clone(this.hK)
  }
  ;
  eb.clone = function(n) {
      return {
          YZ: n.YZ,
          lg: n.lg,
          g: Q.qP.$k(n.g),
          i6: n.i6.clone()
      }
  }
  ;
  eb.sL = null;
  eb.dp = null;
  eb.l4 = function(n, z, C) {
      var D = Q.qP.$k(n.g)
        , F = n.i6
        , X = Math.min(z / F.d, C / F.v) * .9
        , E = new b6;
      E.translate(-.5, -.5);
      E.scale(.95, .95);
      E.translate(.5, .5);
      E.scale(X * F.d, X * F.v);
      j.i.i3(D, E);
      var f = new Q.qP;
      f.g = D;
      var a = f.sN();
      a.rect.x = Math.floor((z - a.rect.d) / 2);
      a.rect.y = Math.floor((C - a.rect.v) / 2);
      var q = j.T(a.rect.t() * 4);
      j.xM(q, 4278190080);
      j.eL(a.channel);
      j.bl(a.channel, q, 0);
      j.bl(a.channel, q, 1);
      j.bl(a.channel, q, 2);
      var c = eb;
      if (c.sL == null)
          c.sL = l.w("canvas");
      var K = c.sL
        , R = K.getContext("2d");
      if (K.width != z || K.height != C || c.dp == null) {
          K.width = z;
          K.height = C;
          c.dp = R.createImageData(z, C)
      }
      var J = c.dp;
      j.xM(J.data, 4294967295);
      j.X3(q, a.rect, J.data, new cc(0,0,z,C));
      R.putImageData(J, 0, 0);
      return K.toDataURL()
  }
  ;
  function iG(n) {
      hc.call(this, n, !1, "ICCButton", 16, 12, c1.C2, !0);
      this.Fx.ee(1)
  }
  iG.prototype = new hc;
  iG.prototype.d2 = function() {
      var n = "Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
      for (var M = 0; M < n.length; M++)
          n[M] = "luts/" + n[M] + ".CUBE";
      return n
  }
  ;
  iG.prototype.Tq = function(n) {
      this.m(this.Hv[n.target.u()]);
      this.f(new u(l.E.L))
  }
  ;
  iG.prototype.Ed = function() {
      if (!this.Cb)
          return;
      var n = Math.floor(1 * l.D())
        , z = Math.floor(1 * l.D())
        , C = []
        , D = []
        , F = this.Hv;
      for (var M = 0; M < F.length; M++) {
          var X = F[M].Nm.v.split("\\").pop().split("/").pop();
          D.push(X);
          C.push(iG.qK(F[M], n, z))
      }
      this.Fx.rR(C, D, n, z);
      this.Cb = !1
  }
  ;
  iG.prototype.m = function(n) {
      this.hK = JSON.parse(JSON.stringify(n));
      this.p0()
  }
  ;
  iG.qK = function(n, z, C) {
      var D = l.w("canvas")
        , E = "ICC / 3DL / look / cube";
      D.width = z;
      D.height = C;
      var F = D.getContext("2d")
        , X = Math.floor(14 * l.D());
      F.font = X + "px sans-serif";
      if (n.Nm)
          E = n.Nm.v.split("\\").pop().split("/").pop();
      F.fillText(E, 10, X);
      return D.toDataURL()
  }
  ;
  iG.prototype.p0 = function() {
      var n = Math.floor(120 * l.D())
        , z = Math.floor(20 * l.D());
      this.XI.setAttribute("src", iG.qK(this.hK, n, z));
      l.NE(this.XI, n, z)
  }
  ;
  iG.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.hK))
  }
  ;
  function he() {
      gN.call(this);
      this.qg = null;
      this.j = l.w("span", "fitem");
      this.be = new c7([14, 9]);
      this.sa = new c5(null,0,150,"pt",1,!0,null,null,[19, 2, 5]);
      this.JM = new e5;
      this.bk = [this.be, this.sa, this.JM];
      for (var M = 0; M < this.bk.length; M++) {
          var n = this.bk[M];
          this.j.appendChild(n.j);
          n.parent = this;
          n.s(l.E.L, this.SH, this)
      }
  }
  he.prototype = new gN;
  he.prototype.B = function() {
      for (var M = 0; M < this.bk.length; M++)
          this.bk[M].B()
  }
  ;
  he.prototype.vi = function(n, z) {
      this.be.vi(n, z)
  }
  ;
  he.prototype.SH = function(n) {
      var z = this.qg
        , C = this.be.u()
        , D = C.p2;
      z.strokeEnabled.v = D != 0;
      if (D != 0) {
          z.strokeStyleContent.v = C.Ys;
          C.Ys.classID = g$.Bt.UN[D - 1]
      }
      z.strokeStyleLineWidth.v.val = this.sa.u();
      if (n.target == this.JM)
          z = this.JM.u();
      this.qg = z;
      this.f(new u(l.E.L,!1))
  }
  ;
  he.prototype.m = function(n, z, C) {
      this.qg = JSON.parse(JSON.stringify(z));
      var D = z.strokeEnabled.v
        , F = z.strokeStyleContent.v
        , X = D ? {
          p2: 1 + g$.Bt.UN.indexOf(F.classID),
          Ys: F
      } : {
          p2: 0
      };
      this.be.m(n, X, C);
      this.sa.m(z.strokeStyleLineWidth.v.val);
      this.JM.m(z)
  }
  ;
  he.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.qg))
  }
  ;
  function gG(n) {
      gN.call(this);
      this.j = l.w("span", "fitem");
      this.aQ = null;
      if (n) {
          this.aQ = new be("");
          this.j.appendChild(this.aQ.j)
      }
      this.vc = ["front", "union", "difference", "intersection"];
      var z = [[18, 0], [18, 1], [18, 2], [18, 3]];
      this.W3 = [];
      this.dK = 0;
      for (var M = 0; M < this.vc.length; M++) {
          var C = new gJ("<img src=\"" + PIMG["set/" + this.vc[M]] + "\" class=\"autoscale gsicon\" />",!1,z[M]);
          C.s("click", this.apR, this);
          this.j.appendChild(C.j);
          this.W3.push(C)
      }
      this.W3[0].so()
  }
  gG.prototype = new gN;
  gG.prototype.a0h = function() {
      return this.dK
  }
  ;
  gG.prototype.u = function() {
      return this.vc[this.dK]
  }
  ;
  gG.prototype.m = function(n) {
      this.dK = this.vc.indexOf(n);
      for (var M = 0; M < this.W3.length; M++)
          this.W3[M].Z8();
      this.W3[this.dK].so()
  }
  ;
  gG.prototype.apR = function(n) {
      this.m(this.vc[this.W3.indexOf(n.currentTarget)]);
      this.f(new u(l.E.L,!1))
  }
  ;
  gG.prototype.B = function() {
      if (this.aQ)
          this.aQ.m(aC.get([12, 36]) + ":");
      for (var M = 0; M < this.W3.length; M++)
          this.W3[M].B()
  }
  ;
  function ik(n, z, C, D) {
      gN.call(this);
      var F = l.FE()
        , X = "";
      this.j = l.w("span", "fitem tinput");
      if (n) {
          this.ew = n;
          this.pa = l.w("label", "flabel");
          this.j.appendChild(this.pa);
          this.pa.setAttribute("for", F);
          this.B()
      }
      if (D == null) {
          this.hU = l.w("input", "");
          this.hU.setAttribute("type", "text")
      } else
          this.hU = l.w("textarea", "scrollable");
      this.hU.setAttribute("id", F);
      if (C)
          X += "width:" + C + "em;";
      if (D) {
          this.hU.setAttribute("rows", D)
      }
      if (X != "")
          this.hU.setAttribute("style", X);
      this.j.appendChild(this.hU);
      if (z) {
          this.vS = l.w("span", "");
          this.vS.textContent = z;
          this.j.appendChild(this.vS)
      }
      this.hU.addEventListener("change", this.Mm.bind(this), !1);
      this.hU.addEventListener("input", this.aqR.bind(this), !1)
  }
  ik.prototype = new gN;
  ik.prototype.B = function() {
      if (this.ew)
          this.pa.textContent = aC.get(this.ew) + ":"
  }
  ;
  ik.prototype.Jt = function(n) {
      this.pa.textContent = n
  }
  ;
  ik.prototype.m = function(n) {
      this.hU.value = n == null ? "" : n
  }
  ;
  ik.prototype.u = function() {
      return this.hU.value
  }
  ;
  ik.prototype.p1 = function() {
      this.hU.select();
      this.hU.focus()
  }
  ;
  ik.prototype.Mm = function(n) {
      this.f(new u(l.E.L,!1))
  }
  ;
  ik.prototype.aqR = function(n) {
      this.f(new u("input",!1))
  }
  ;
  function ar(n, z, C, D, F, X, E) {
      bL.call(this, n, z, C, D, F, !0, X, null, E);
      l.G5(this.j, "trangeinput");
      this.j.appendChild(this.pa);
      this.j.appendChild(this.hU);
      var f = l.w("span", "rangecont");
      this.j.appendChild(f);
      f.appendChild(this.tR);
      this.tR.setAttribute("style", "width:97%;")
  }
  ar.prototype = new bL;
  function e6() {
      gN.call(this);
      this.Yf = [16, !0, !0];
      this.j = l.w("span", "");
      this.TN = [new c5([12, 24],0,255), new eS("Anti-alias"), new eS([12, 25])];
      for (var M = 0; M < 3; M++) {
          var n = this.TN[M];
          n.parent = this;
          n.m(this.Yf[M]);
          this.j.appendChild(n.j);
          n.s(l.E.L, this.SH, this)
      }
  }
  e6.prototype = new gN;
  e6.prototype.SH = function() {
      for (var M = 0; M < 3; M++)
          this.Yf[M] = this.TN[M].u();
      this.f(new u(l.E.L,!1))
  }
  ;
  e6.prototype.m = function(n) {
      this.Yf = n.slice(0);
      for (var M = 0; M < 3; M++)
          this.TN[M].m(n[M])
  }
  ;
  e6.prototype.u = function() {
      return this.Yf.slice(0)
  }
  ;
  e6.prototype.B = function() {
      for (var M = 0; M < 3; M++)
          this.TN[M].B()
  }
  ;
  function f9(n, z) {
      gN.call(this);
      if (z == null)
          z = !1;
      this.MT = [];
      this.aoV = 0;
      this.aie = 0;
      this.oJ = 0;
      this.a6 = [];
      this.K6 = [];
      for (var C in j.Y0.type) {
          if (C == "warpCustom" && !z)
              continue;
          this.a6.push(C);
          this.K6.push(j.Y0.type[C])
      }
      this.j = l.w("span", "fitem warpbutton");
      this.ld = new gN;
      this.ld.j = l.w("div", "floatcont");
      if (n) {
          this.aQ = n;
          this.pa = l.w("label", "flabel");
          this.j.appendChild(this.pa)
      }
      this.e = l.w("button");
      this.j.appendChild(this.e);
      this.e.addEventListener("click", this.w0.bind(this), !1);
      this.vm = new hx(!0);
      this.ld.j.appendChild(this.vm.j);
      this.vm.s(l.E.L, this.ahF, this);
      this.B()
  }
  f9.prototype = new gN;
  f9.prototype.Jt = function(n) {
      this.pa.textContent = n
  }
  ;
  f9.prototype.B = function() {
      if (this.aQ)
          this.pa.innerHTML = aC.get(this.aQ) + ":";
      this.MT = [];
      var n = l.w("canvas", "")
        , z = n.getContext("2d")
        , C = 0;
      z.font = Math.floor(13 * l.D()) + "px sans-serif";
      for (var M = 0; M < this.a6.length; M++) {
          C = Math.max(C, z.measureText(aC.get(j.Y0.type[this.a6[M]])).width)
      }
      var D = this.aoV = Math.floor(50 * l.D() + C)
        , F = this.aie = Math.floor(23 * l.D());
      n.width = D;
      n.height = F;
      this.ld.j.setAttribute("style", "width:" + Math.floor(8 + D / l.D()) + "px;");
      z.font = Math.floor(13 * l.D()) + "px sans-serif";
      z.lineWidth = 1;
      z.strokeStyle = "#000000";
      var X = Math.floor(16 * l.D())
        , E = new cc(0,0,X,X);
      for (var M = 0; M < this.a6.length; M++) {
          var f = this.a6[M];
          z.clearRect(0, 0, n.width, n.height);
          var a = j.Y0.Y0(E, f, !0, .3, 0, 0)
            , q = j.K.YQ(E);
          q.I.push("M", "L", "M", "L");
          q.U.push(0, X / 2, X, X / 2);
          q.U.push(X / 2, 0, X / 2, X);
          q = j.K.yX(q);
          q = j.K.py(q, X / 5);
          j._N.Z(a, q.U, E);
          j.K.Z(q.U, new b6(1,0,0,1,Math.floor(8 * l.D()) + .5,Math.floor(3 * l.D()) + .5), q.U);
          z.beginPath();
          Typr.U.pathToContext({
              cmds: q.I,
              crds: q.U
          }, z);
          z.stroke();
          z.fillText(aC.get(j.Y0.type[f]), Math.floor(40 * l.D()), Math.floor(16 * l.D()));
          this.MT.push(n.toDataURL())
      }
      this.vm.rR(this.MT, null, D, F);
      this.p0()
  }
  ;
  f9.prototype.w0 = function(n) {
      var z = this.e.getBoundingClientRect()
        , C = new u(l.E.P,!0);
      C.data = {
          e: l.H.X$,
          uN: this.ld,
          x: z.left,
          y: z.top + z.height + 4
      };
      this.f(C)
  }
  ;
  f9.prototype.ahF = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.DU,
          uN: this.ld
      };
      this.f(z);
      this.oJ = n.target.u();
      this.p0();
      this.f(new u(l.E.L))
  }
  ;
  f9.prototype.p0 = function() {
      this.vm.eJ(this.oJ);
      this.e.innerHTML = "<img src=\"" + this.MT[this.oJ] + "\" class=\"gsicon\" />";
      var n = this.aoV
        , z = this.aie;
      l.NE(this.e.firstChild, n, z)
  }
  ;
  f9.prototype.u = function() {
      return this.a6[this.oJ]
  }
  ;
  f9.prototype.m = function(n) {
      this.oJ = this.a6.indexOf(n);
      this.p0()
  }
  ;
  function bi(n, z, C) {
      gN.call(this);
      if (n == null)
          n = !1;
      if (z == null)
          z = !1;
      if (C == null)
          C = !1;
      this.anu = z;
      this.Y0 = null;
      this.xx = new f9([12, 22],C);
      this.xx.parent = this;
      this.xx.s(l.E.L, this.a8, this);
      this.mG = new fR([22, 0],[[22, 4, 0], [22, 4, 1]]);
      this.mG.s(l.E.L, this.a8, this);
      var D = n ? c5 : ar;
      this.wA = new D([22, 1],-100,100,"%");
      this.SU = new D("Horizontal Distortion:",-100,100,"%");
      this.E3 = new D("Vertical Distortion:",-100,100,"%");
      this.wA.parent = this.SU.parent = this.E3.parent = this;
      this.wA.s(l.E.L, this.a8, this);
      this.SU.s(l.E.L, this.a8, this);
      this.E3.s(l.E.L, this.a8, this)
  }
  bi.prototype = new gN;
  bi.prototype.B = function() {
      this.xx.B();
      this.mG.B();
      this.wA.B();
      var n = this.anu ? 1 : 100;
      this.SU.Jt(aC.get([22, 2]).substring(0, n) + ":");
      this.E3.Jt(aC.get([22, 3]).substring(0, n) + ":")
  }
  ;
  bi.prototype.a8 = function() {
      var n = this.Y0
        , z = this.xx.u()
        , C = n.warpStyle.v.warpStyle;
      if (z == "warpCustom")
          j.Y0.Mw(j.Y0.ea(n), n);
      else
          delete n.customEnvelopeWarp;
      n.warpStyle.v.warpStyle = this.xx.u();
      n.warpRotate.v.Ornt = ["Hrzn", "Vrtc"][this.mG.u()];
      n.warpValue.v = this.wA.u();
      n.warpPerspective.v = this.SU.u();
      n.warpPerspectiveOther.v = this.E3.u();
      if (z == "warpNone" || z == "warpCustom") {
          n.warpValue.v = 0;
          n.warpPerspective.v = 0;
          n.warpPerspectiveOther.v = 0
      } else if (C == "warpNone" || C == "warpCustom")
          n.warpValue.v = 50;
      this.f(new u(l.E.L,!1));
      this.m(n)
  }
  ;
  bi.prototype.u = function(n) {
      return JSON.parse(JSON.stringify(this.Y0))
  }
  ;
  bi.prototype.m = function(n) {
      this.Y0 = JSON.parse(JSON.stringify(n));
      this.xx.m(n.warpStyle.v.warpStyle);
      this.mG.m(n.warpRotate.v.Ornt == "Hrzn" ? 0 : 1);
      this.wA.m(n.warpValue.v);
      this.SU.m(n.warpPerspective.v);
      this.E3.m(n.warpPerspectiveOther.v);
      var z = n.warpStyle.v.warpStyle
        , C = z == "warpNone" || z == "warpCustom"
        , D = [this.mG, this.wA, this.SU, this.E3];
      for (var M = 0; M < D.length; M++)
          if (C)
              D[M].NN();
          else
              D[M].Tl()
  }
  ;
  function aN(n) {
      gN.call(this);
      this.j = l.w("div");
      this.bP = n;
      this.ik = null;
      this.Au = new ir(0,0);
      this.q3 = "position:relative;overflow:hidden;";
      this.Yg = null;
      this.w1 = new l.e9(this.j);
      this.oY("grab");
      this.we = l.w("canvas", "canv");
      this.j.appendChild(this.we);
      this.zx = this.we.getContext("2d");
      this.amu = null;
      this.uI = null;
      this.XR = null;
      this.oh = 0;
      this.Sw = 0;
      this.VB = 0;
      this.a9n = this.gv.bind(this);
      this.agA = null;
      this.a = new eT({
          d: 1,
          v: 1
      });
      this.sh = null;
      this.ac = null;
      this.aiQ = this.Kz.bind(this);
      this.aex = this.kp.bind(this);
      this.aio = this.xP.bind(this);
      this.aaw = this.Zk.bind(this);
      this.adt = 0;
      this.gE = null;
      this.ZW(this.we);
      this.my(this)
  }
  aN.prototype = new gN;
  aN.prototype.iV = function(n) {
      var z = this.Yg
        , C = null;
      if (n.r(dM.ye)) {
          C = "grab";
          if (n.r(dM.BO)) {
              C = "zoom-in";
              if (n.r(dM.M2))
                  C = "zoom-out"
          }
      }
      this.ik = C;
      if (C)
          z = C;
      this.w1.vb(z, this.q3);
      if (n.r(dM.BO)) {
          var D = 0;
          if (n.r(dM.Dm))
              D = 1;
          if (n.r(dM.wj))
              D = -1;
          if (D != 0) {
              this.f6(new ir(this.we.width / 2,this.we.height / 2), D == 1)
          }
      }
  }
  ;
  aN.prototype.oY = function(n) {
      this.Yg = n;
      if (this.ik)
          return;
      this.w1.vb(n, this.q3)
  }
  ;
  aN.prototype.ZW = function(n) {
      l.Vb(n, this.aiQ);
      l.g8(n);
      n.addEventListener("wheel", this.aaw, !1)
  }
  ;
  aN.prototype.my = function(n) {
      n.s("viewchange", this.ags, this)
  }
  ;
  aN.prototype.ags = function(n) {
      var z = this.a.X
        , C = n.currentTarget.fj();
      this.a.X = C.X;
      this.a.A = C.A.clone();
      if (z != C.X)
          this.pr();
      this.yH()
  }
  ;
  aN.prototype.fj = function() {
      return {
          X: this.a.X,
          A: this.a.A
      }
  }
  ;
  aN.prototype.m = function(n, z) {
      var C = n[0].Pi;
      if (this.uI != null && this.uI[0].Pi.jm(C)) {} else {
          this.a.JB = {
              d: C.d,
              v: C.v
          };
          this.a.A = new ir(0,0);
          this.a.X = 1
      }
      this.uI = n;
      this.pr();
      this.h0();
      this.oh = 0;
      this.Sw = 0;
      this.VB = z == null ? 0 : z;
      this.gv()
  }
  ;
  aN.prototype.Zk = function(n) {
      n.preventDefault();
      if (n.deltaY == 0 || Date.now() - this.adt < 100)
          return;
      var z = l.ao(n);
      z.x = l.D() * z.x;
      z.y = l.D() * z.y;
      this.adt = Date.now();
      this.f6(z, n.deltaY < 0)
  }
  ;
  aN.prototype.f6 = function(n, z) {
      O.TM.gr(this.a, n, z);
      this.vo()
  }
  ;
  aN.prototype.afy = function() {
      var n = this.a
        , z = n.JB;
      this.a.X = O.TM.pB(z.d, z.v, n.Fe.d, n.Fe.v);
      this.vo()
  }
  ;
  aN.prototype.vo = function() {
      this.pr();
      this.f(new u("viewchange"));
      this.f(new u("zoom"))
  }
  ;
  aN.prototype.pr = function() {
      this.XR = [];
      var n = this.a.X;
      for (var M = 0; M < this.uI.length; M++) {
          var z = this.uI[M], C = new Uint8Array(z.data), D;
          if (n >= 1)
              D = {
                  oz: C,
                  rect: z.Pi
              };
          else
              D = j.a03(C, z.Pi, n);
          this.XR.push(D)
      }
  }
  ;
  aN.prototype.h0 = function() {
      clearTimeout(this.agA)
  }
  ;
  aN.prototype.yH = function() {
      if (this.uI == null || !l.c6(this.we))
          return;
      var n = this.amu, z = this.we.width, C = this.we.height, w, p;
      if (n == null || n.width != z || n.height != C) {
          n = this.amu = this.zx.createImageData(z, C);
          console.log("creating image data")
      }
      var D = this.uI[this.oh]
        , F = this.XR[this.oh]
        , X = this.a
        , E = X.JB
        , f = X.Fe
        , a = f.d
        , q = f.v
        , c = E.d * X.X
        , K = E.v * X.X
        , R = Math.round((a - c) / 2 + X.A.x)
        , J = Math.round((q - K) / 2 + X.A.y);
      if (X.X <= 1) {
          p = F.rect.clone();
          p.x = R;
          p.y = J;
          c = p.d;
          K = p.v;
          w = F.oz
      } else {
          var I = 1 / X.X
            , m = new cc(Math.floor((f.x - R) * I),Math.floor((f.y - J) * I),Math.ceil(f.d * I) + 1,Math.ceil(f.v * I) + 1)
            , A = new cc(0,0,m.d * X.X,m.v * X.X);
          A.x = m.x * X.X + R;
          A.y = m.y * X.X + J;
          if (X.GE == null || X.GE.length != m.t() * 4) {
              X.GE = j.T(m.t() * 4)
          }
          if (X.NZ == null || X.NZ.length != A.t() * 4) {
              X.NZ = j.T(A.t() * 4)
          }
          j.xM(X.GE, 0);
          j.X3(F.oz, F.rect, X.GE, m);
          j.scale.nx(X.GE, m.d, m.v, X.NZ, A.d, A.v, X.X);
          w = X.NZ;
          p = A
      }
      var U = new Uint8Array(n.data.buffer);
      j.BJ(U, a, q, 8, -R, -J);
      j.$.xN("norm", w, p, U, f, f, 1);
      this.zx.setTransform(1, 0, 0, 1, 0, 0);
      this.zx.putImageData(n, 0, 0);
      this.zx.clearRect(R - 1e3, J, 1e3, K);
      this.zx.clearRect(R + c, J, 1e3, K);
      this.zx.clearRect(R - 1e3, J - 1e3, c + 2e3, 1e3);
      this.zx.clearRect(R - 1e3, J + K, c + 2e3, 1e3);
      var r = aN.Y6(X.X, "#ffffff");
      this.zx.putImageData(r, 0, X.Fe.v - r.height)
  }
  ;
  aN.AD = {};
  aN.Y6 = function(n, z) {
      var C = "z" + n + "," + z
        , D = aN.AD[C];
      if (D)
          return D;
      var F = Math.round(50 * l.D())
        , X = Math.round(18 * l.D())
        , E = l.w("canvas")
        , f = E.getContext("2d");
      E.width = F;
      E.height = X;
      f.fillStyle = "rgba(1,1,1,1)";
      f.fillRect(0, 0, F, X);
      f.font = Math.round(11 * l.D()) + "px monospace";
      f.fillStyle = z;
      var a = n * 100;
      if (a < 100)
          a = a.toFixed(2);
      else
          a = Math.round(a);
      a = a + "%";
      var q = f.measureText(a).width;
      f.fillText(a, (F - q) / 2, Math.round(X * .7));
      D = aN.AD[C] = f.getImageData(0, 0, F, X);
      return D
  }
  ;
  aN.prototype.gv = function() {
      var n = this.uI
        , z = n.length
        , C = this.oh
        , D = this.uI[C]
        , F = (C + 1) % z;
      this.yH();
      if (z != 1 && n[F].Pi.jm(D.Pi)) {
          var X = D.Dt ? parseInt(D.Dt.split(",").pop()) : 30;
          if (X == 0)
              X = 16;
          if (F == 0)
              this.Sw++;
          if (this.VB == 0 || this.Sw < this.VB)
              this.agA = setTimeout(this.a9n, X)
      }
      this.oh = F
  }
  ;
  aN.prototype.IP = function(n, z) {
      if (n <= 0 || z <= 0)
          return;
      var C = Math.floor(n * l.D())
        , D = Math.floor(z * l.D());
      this.a.Fe = new cc(0,0,C,D);
      this.we.width = C;
      this.we.height = D;
      this.we.setAttribute("style", "width:" + C / l.D() + "px; height:" + D / l.D() + "px; display:block;");
      this.yH()
  }
  ;
  aN.prototype.Kz = function(n) {
      this.gE = n.target;
      l.LR(window, this.aex);
      l.g_(window, this.aio);
      this.sh = l.ao(n, this.we);
      this.sh.x *= l.D();
      this.sh.y *= l.D();
      this.Au = this.sh;
      this.ac = this.a.A.clone();
      if (this.bP && this.gE == this.we && !this.ik)
          this.f(new u("mousedown"))
  }
  ;
  aN.prototype.kp = function(n) {
      var z = this.a
        , C = this.ik
        , D = this.uI[this.oh].Pi.clone();
      D.d *= z.X;
      D.v *= z.X;
      var F = l.ao(n, this.we);
      F.x *= l.D();
      F.y *= l.D();
      this.Au = F;
      if (this.bP && this.gE == this.we && !C)
          this.f(new u("mousemove"));
      else if ((C == "grab" || C == null) && !z.Fe._6(D)) {
          var X = F.x - this.sh.x
            , E = F.y - this.sh.y;
          z.A.x = this.ac.x + Math.round(X);
          z.A.y = this.ac.y + Math.round(E);
          this.f(new u("viewchange"))
      }
  }
  ;
  aN.prototype.xP = function(n) {
      l.i$(window, this.aex);
      l.YO(window, this.aio);
      var z = this.ik;
      if (n.detail > 1) {
          this.a.X = 1;
          this.a.A.oS(0, 0);
          this.yH()
      }
      if (this.bP && this.gE == this.we && !this.ik)
          this.f(new u("mouseup"));
      else {
          if (z == "zoom-in" || z == "zoom-out")
              this.f6(this.Au, z == "zoom-in")
      }
  }
  ;
  aN.prototype.Eq = function() {
      return this.a.C$(this.Au.x, this.Au.y)
  }
  ;
  function b5() {
      gN.call(this);
      this.gh = null;
      this.E4 = null;
      this._U = null;
      this.da = null;
      this.a8K = "";
      this.Yl = [];
      this.n5 = 0;
      this.A4 = [];
      this.rY = 0;
      this.VJ = null;
      var n = this.j = l.w("div", "")
        , z = this.ae9 = l.w("div", "form");
      z.setAttribute("style", "line-height:0; margin-bottom:0.5em;");
      n.appendChild(z);
      var C = this.aQ = l.w("span");
      z.appendChild(C);
      C.setAttribute("style", "font-size:1.2em; font-weight:bold; margin-right:3em;");
      var D = this.a50 = new eS([25, 2, 0]);
      D.m(!0);
      z.appendChild(D.j);
      D.s(l.E.L, this.O1, this);
      var F = this.U7 = new eS([25, 2, 1]);
      F.m(!0);
      z.appendChild(F.j);
      F.s(l.E.L, this.O1, this);
      var X = new be(" ");
      z.appendChild(X.j);
      var E = this.eZ = new ik([25, 1, 1]);
      z.appendChild(E.j);
      E.s(l.E.L, this.O1, this);
      this.Ng = new d1(14);
      this.Ng.agw(3);
      z.appendChild(this.Ng.j);
      this.Ng.parent = this;
      this.Ng.s(l.E.L, this.agp, this);
      var f = this.aba = new gJ([25, 1, 2],null,null,!0);
      z.appendChild(f.j);
      f.s("click", this.GK, this);
      this.aeH = this.ahx.bind(this);
      this.Aw = l.w("div", "svggallery scrollable");
      n.appendChild(this.Aw);
      this.Aw.addEventListener("scroll", this.ai4.bind(this))
  }
  b5.prototype = new gN;
  b5.prototype.vi = function(n) {
      this.a7o = n
  }
  ;
  b5.prototype.B = function() {
      this.aQ.textContent = aC.get([25, 0]);
      this.Ng.B();
      this.a50.B();
      this.U7.B();
      this.eZ.B();
      this.aba.B()
  }
  ;
  b5.prototype.IP = function(n, z) {
      z -= 26;
      this.gh = new ir(n,z);
      this.ae9.setAttribute("style", "width:" + n + "px");
      this.Aw.setAttribute("style", "width:" + n + "px; height:" + z + "px");
      if (l.c6(this.j))
          this.O1()
  }
  ;
  b5.prototype.m = function(n) {
      this.E4 = n;
      this.O1()
  }
  ;
  b5.prototype.ai4 = function(n) {
      var z = this.Aw;
      if (z.scrollTop + z.clientHeight + 10 >= z.scrollHeight) {
          this.O1(!0)
      }
  }
  ;
  b5.prototype.agp = function(n) {
      this._U = null;
      this.O1()
  }
  ;
  b5.prototype.ahx = function(n) {
      if (Date.now() - this.rY < 2e3)
          return;
      this.rY = Date.now();
      this.n5 = this.A4.indexOf(n.currentTarget);
      var z = this.GA(this.E4.x, this.E4.y);
      if (z[1]) {
          var C = z[1].largeImageURL
            , D = new XMLHttpRequest;
          D.responseType = "arraybuffer";
          D.open("GET", C, !0);
          D.onload = this.ap3.bind(this);
          D.send();
          return
      }
      this.tb(z)
  }
  ;
  b5.prototype.ap3 = function(n) {
      var z = n.target.response
        , C = fC.Nj(z)
        , D = fC.ET(C)
        , F = D.c3(z)
        , X = this.GA(this.E4.x, this.E4.y, [z, F[0].Pi.d, F[0].Pi.v]);
      this.tb(X)
  }
  ;
  b5.prototype.tb = function(n) {
      var z = n[0]
        , C = fC.Nj(z)
        , D = fC.ET(C)
        , F = new b$("template.psd");
      D.c3(z, F);
      var X = new u("tempready",!0);
      X.data = {
          JB: F
      };
      this.f(X)
  }
  ;
  b5.prototype.GK = function(n) {
      var z = n.target;
      this.Yl = [];
      this.O1()
  }
  ;
  b5.prototype.ais = function(n) {
      var z = JSON.parse(n.target.response);
      this.da = z.hits;
      this.O1()
  }
  ;
  b5.prototype.O1 = function(n) {
      if (this.E4 == null || this.gh == null || this.a7o == null)
          return;
      if (this.gh.x <= 0)
          return;
      var z = this.E4.x
        , C = this.E4.y;
      if (Math.min(z, C) < 50)
          return;
      if (n != !0) {
          this.A4 = [];
          l.M$(this.Aw);
          this.Aw.scrollTop = 0
      }
      if (this.A4.length > 300)
          return;
      var D = Math.min(1, 300 / Math.max(z, C))
        , F = this.gh.clone();
      F.x -= 20;
      var X = Math.max(1, Math.floor(F.x / (z * D)))
        , E = Math.max(1, Math.ceil(F.y / (C * D)));
      D = F.x / X / z;
      var f = X * E;
      if (this._U == null) {
          var a = this.a7o.E_.Z3();
          this._U = [];
          for (var q in a) {
              var c = a[q]
                , K = c[3];
              if (!this.Ng.UI(c))
                  continue;
              if (c[5] == null || c[5].slice(0, 2) == "gf")
                  continue;
              this._U.push(c)
          }
          if (this._U.length == 0)
              this._U.push(a.DejaVuSans)
      }
      var R = this.U7.u()
        , J = this.eZ.u().trim();
      this.eZ.H8(R);
      if (R && (this.da == null || J != this.a8K)) {
          var w = new XMLHttpRequest
            , p = "https://pixabay.com/api/?image_type=photo" + (J == "" ? "" : "&q=" + encodeURIComponent(J)) + "&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
          if (J == "")
              p += "&safesearch=true";
          if (J == "")
              p = "plugins/gallery.json";
          w.open("GET", p, !0);
          w.onload = this.ais.bind(this);
          w.onerror = function($) {
              console.log($.target.response)
          }
          ;
          w.send();
          this.a8K = J;
          return
      }
      D *= (z * D - 5) / (z * D);
      var I = this.A4.length;
      for (var M = 0; M < f; M++) {
          var m = this.n5 = I + M;
          if (this.Yl[m] == null)
              this.Yl[m] = Math.floor(Math.random() * 4294967295);
          var A = this.GA(Math.round(z * D), Math.round(C * D))
            , U = A[0];
          U = T.iS(new Uint8Array(U));
          var r = l.w("span");
          r.innerHTML = U;
          this.A4.push(r);
          this.Aw.appendChild(r);
          r.addEventListener("click", this.aeH, !1)
      }
  }
  ;
  b5.prototype.GA = function(n, z, C) {
      var D = this.U7.u()
        , F = this.a50.u()
        , X = D && this.da.length != 0 ? this.da : null;
      if (F && !D)
          X = null;
      if (F && D && (this.n5 & 1) == 0)
          X = null;
      return iz.Ey(n, z, this.Yl[this.n5], this._U, C ? C : X)
  }
  ;
  function bs() {
      gN.call(this);
      this.j = l.w("div");
      this.sM = null;
      this.adZ = null;
      this.ib = -1;
      this.G$ = {
          JPG: [{
              Wd: new ar([12, 52, 0],0,100,"%",null,null,!0),
              FV: 70
          }, {
              Wd: new eS("attach metadata"),
              FV: !1
          }],
          TIFF: [{
              Wd: new eS("attach metadata"),
              FV: !1
          }],
          WEBP: [{
              Wd: new ar([12, 52, 0],0,100,"%",null,null,!0),
              FV: 70
          }],
          GIF: [{
              Wd: new ar([12, 52, 0],0,100,"%",null,null,!0),
              FV: 100
          }],
          PNG: [{
              Wd: new ar([12, 52, 0],0,100,"%",null,null,!0),
              FV: 100
          }, {
              Wd: new eS("don't use palettes"),
              FV: !1
          }],
          PDF: [{
              Wd: new ik([12, 52, 1]),
              FV: ""
          }, {
              Wd: new ar([12, 52, 0],0,100,"%",null,null,!0),
              FV: 100
          }, {
              Wd: new eS("rasterize all"),
              FV: !1
          }, {
              Wd: new eS("rasterize text"),
              FV: !1
          }, {
              Wd: new eS("vectorize text"),
              FV: !1
          }],
          EMF: [{
              Wd: new ik([12, 52, 1]),
              FV: ""
          }, {
              Wd: new eS("rasterize all"),
              FV: !1
          }, {
              Wd: new eS("rasterize text"),
              FV: !1
          }, {
              Wd: new eS("vectorize text"),
              FV: !1
          }],
          SVG: [{
              Wd: new eS("add raster graphics"),
              FV: !0
          }, {
              Wd: new eS("add hidden layers"),
              FV: !1
          }, {
              Wd: new eS("vectorize text"),
              FV: !1
          }, {
              Wd: new eS("rasterize text"),
              FV: !1
          }, {
              Wd: new eS("add layer names"),
              FV: !0
          }, {
              Wd: new eS("pretty-print"),
              FV: !0
          }],
          RAW: [{
              Wd: new b7([12, 72],["1", "3", "4"]),
              FV: 2
          }, {
              Wd: new b7([12, 34],["8 Bits", "16 Bits"]),
              FV: 0
          }, {
              Wd: new b7("Byte Order",["12-34", "34-12"]),
              FV: 0
          }],
          anim: [{
              Wd: new ar("Speed",10,800,"%",null,!0,!0),
              FV: 100
          }, {
              Wd: new c5("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),
              FV: 0
          }, {
              Wd: new eS("reverse frames"),
              FV: !1
          }, {
              Wd: new eS("boomerang"),
              FV: !1
          }],
          slcs: [{
              Wd: new eS("As Slices"),
              FV: !0
          }],
          artb: [{
              Wd: new eS("As Artboards"),
              FV: !0
          }]
      };
      for (var n in this.G$) {
          var z = this.G$[n];
          for (var M = 0; M < z.length; M++) {
              z[M].Wd.m(z[M].FV);
              z[M].Wd.s(l.E.L, this.k1, this)
          }
      }
  }
  bs.prototype = new gN;
  bs.prototype.a5T = function() {
      this.ib = -1
  }
  ;
  bs.prototype.B = function() {
      for (var n in this.G$)
          for (var M = 0; M < this.G$[n].length; M++)
              this.G$[n][M].Wd.B()
  }
  ;
  bs.prototype.k1 = function() {
      this.O1();
      this.f(new u(l.E.L,!1))
  }
  ;
  bs.prototype.O1 = function() {
      var n = this.sM
        , z = n[0]
        , C = n[1]
        , D = n[2]
        , F = n[3]
        , X = this.G$[z];
      if (X == null)
          X = [];
      else
          X = X.slice(0);
      if (C)
          X = X.concat(this.G$.anim);
      if (["GIF", "PNG", "JPG"].indexOf(z) != -1 && D)
          X = X.concat(this.G$.slcs);
      else if (["GIF", "PNG", "JPG"].indexOf(z) != -1 && F)
          X = X.concat(this.G$.artb);
      if (z + " " + C + " " + F != this.ib) {
          this.ib = z + " " + C + " " + F;
          l.M$(this.j);
          for (var M = 0; M < X.length; M++) {
              if (z == "PDF" && !F && M == 0)
                  continue;
              this.j.appendChild(X[M].Wd.j);
              l.jn(this.j)
          }
      }
      var E = this.adZ = [];
      for (var M = 0; M < X.length; M++)
          E.push(X[M].Wd.u())
  }
  ;
  bs.prototype._x = function(n, z, C, D) {
      this.sM = [n, z, C, D];
      this.O1()
  }
  ;
  bs.prototype.u = function() {
      return this.adZ.slice(0)
  }
  ;
  function ey() {
      gN.call(this);
      this.j = l.w("span", "fitem");
      this.K3 = !1;
      this.t$ = new gJ("No",!1,"Cancel");
      this.K0 = new gJ("Yes",!1,"Confirm");
      this.j.appendChild(this.t$.j);
      this.j.appendChild(this.K0.j);
      this.t$.s("click", this.jA, this);
      this.K0.s("click", this.jA, this);
      this.B()
  }
  ey.prototype = new gN;
  ey.prototype.B = function() {
      this.t$.Jt(l.qu("cross", null, "autoscale"));
      this.K0.Jt(l.qu("checkmark", null, "autoscale"))
  }
  ;
  ey.prototype.jA = function(n) {
      this.K3 = n.target == this.K0;
      this.f(new UIEvent("click"))
  }
  ;
  ey.prototype.u = function() {
      return this.K3
  }
  ;
  function t(n) {
      gN.call(this);
      this.TW = n;
      this.j = l.w("div", "");
      this.vx = [];
      this.dQ = null;
      this.a2E = []
  }
  t.prototype = new gN;
  t.prototype.Nk = function(n) {}
  ;
  t.prototype.FU = function() {
      return !1
  }
  ;
  t.prototype.IP = function(n, z) {}
  ;
  t.prototype.vi = function(n, z) {}
  ;
  t.prototype.u7 = function(n) {}
  ;
  t.prototype.m = function(n, z, C, D, F, X) {
      var E = []
        , f = this.vx
        , a = 0
        , q = fd.QP["s" + this.TW];
      q ? q(n, E, X) : this.bQ(n, E, X);
      for (var M = 0; M < f.length; M++)
          if (!(f[M]instanceof be))
              f[M].m(E[a++]);
      if (n.RndS)
          this.dQ = n.RndS.v
  }
  ;
  t.prototype.u = function() {
      var n = fd.zP(this.TW)
        , z = []
        , C = this.vx
        , D = 0;
      for (var M = 0; M < C.length; M++)
          if (!(C[M]instanceof be))
              z[D++] = C[M].u();
      var F = fd.QP["g" + this.TW];
      F ? F(n, z) : this.iT(n, z);
      if (n.RndS)
          n.RndS.v = this.dQ;
      return n
  }
  ;
  t.prototype.iV = function(n) {}
  ;
  t.prototype.a8 = function(n) {
      if (n && n.target instanceof gJ) {
          this.dQ = Math.floor(Math.random() * 4294967295)
      }
      var z = this.a2E;
      for (var M = 0; M < z.length; M += 2) {
          var C = this.vx[z[M]]
            , D = this.vx[z[M + 1]]
            , F = C.u()
            , X = D.u();
          if (n.target == C)
              D.m(Math.max(F, X));
          else
              C.m(Math.min(F, X))
      }
      this.f(new u(l.E.L))
  }
  ;
  t.prototype.B = function() {
      for (var M = 0; M < this.vx.length; M++)
          this.vx[M].B()
  }
  ;
  t.prototype.Yw = function(n) {
      l.G5(this.j, "form");
      var z = this.vx;
      for (var M = 0; M < z.length; M++) {
          var C = z[M];
          C.parent = this;
          C.s(l.E.L, this.a8, this);
          this.j.appendChild(C.j);
          if (C instanceof eS && z[M + 1]instanceof e$)
              continue;
          if (n && n.indexOf(M) != -1)
              l.x0(this.j);
          else
              l.jn(this.j)
      }
      var D = fd.zP(this.TW);
      if (D.RndS) {
          var F = new gJ("Randomize",null,null,!0);
          this.j.appendChild(F.j);
          F.s("click", this.a8, this)
      }
  }
  ;
  t.prototype.qI = function() {
      return !1
  }
  ;
  t.prototype.mY = function(n, z, C, D, F) {}
  ;
  t.prototype.Xl = function(n, z, C, D, F) {}
  ;
  t.prototype.yg = function(n, z, C, D, F) {}
  ;
  t.prototype.iT = function(n, z) {}
  ;
  t.prototype.bQ = function(n, z) {}
  ;
  t.Bokh = function() {
      t.call(this, "Bokh");
      this.vx = [new fR("Depth Map",["A", "b"]), new ar("Focal Distance",0,255), new fR([12, 76, 1],"Triangle (3),Square (4),Pentagon (5),Hexagon (6),Heptagon (7),Octagon (8)".split(",")), new ar([12, 56],0,100), new ar([12, 15],0,360), new ar([12, 2],0,100), new ar([4, 13],0,255), new ar([24, 6],0,100), new b7([12, 58],[[12, 59, 0], [12, 59, 1]]), new eS([12, 60])];
      this.Yw([4, 6])
  }
  ;
  t.Bokh.prototype = new t;
  t.Bokh.prototype.bQ = function(n, z, C) {
      var D = [[22, 5, 0], [6, 5, 3], [6, 2]]
        , F = n.BkDi.v.BtDi
        , X = n.BkDc
        , E = 0;
      if (F == "BeIn")
          E = 0;
      else if (F == "BeIt" && X.v.BtDc == "BeCt")
          E = 1;
      else if (F == "BeIt" && X.v.BtDc == "BeCm")
          E = 2;
      else
          E = 3 + X.v;
      for (var M = 0; M < C[1].length; M++)
          D.push(C[1][M].name);
      this.vx[0].us(D, [3]);
      z[0] = E;
      z[1] = n.BkDp.v;
      z[2] = parseInt(n.BkIs.v.BtIs.slice(3)) - 3;
      z[3] = n.BkIb.v;
      z[4] = n.BkIr.v;
      z[5] = n.BkSb.v;
      z[6] = n.BkSt.v;
      z[7] = n.BkNa.v;
      z[8] = n.BkNt.v.BtNt == "BeNu" ? 0 : 1;
      z[9] = n.BkNm.v
  }
  ;
  t.Bokh.prototype.iT = function(n, z) {
      var C;
      if (z[0] == 0) {
          C = "BeIn";
          delete n.BkDc
      } else if (z[0] < 3) {
          C = "BeIt";
          n.BkDc = {
              t: "enum",
              v: {
                  BtDc: ["BeCt", "BeCm"][z[0] - 1]
              }
          }
      } else {
          C = "BeIa";
          n.BkDc = {
              t: "long",
              v: z[0] - 3
          }
      }
      n.BkDi.v.BtDi = C;
      n.BkDp.v = z[1];
      n.BkIs.v.BtIs = "BeS" + (3 + z[2]);
      n.BkIb.v = z[3];
      n.BkIr.v = z[4];
      n.BkSb.v = z[5];
      n.BkSt.v = z[6];
      n.BkNa.v = z[7];
      n.BkNt.v.BtNt = ["BeNu", "BeNg"][z[8]];
      n.BkNm.v = z[9]
  }
  ;
  t.oilPaint = function() {
      t.call(this, "oilPaint");
      this.vx = [new ar([12, 56],.1,10,"px",!0), new ar("Cleanliness",0,10,"px",!0), new ar([12, 38],.1,10,null,!0), new ar("Bristle Detail",0,10,null,!0), new eS("Lighting"), new ar("Shine",0,10,null,!0), new ic([12, 15])];
      this.Yw()
  }
  ;
  t.oilPaint.prototype = new t;
  t.oilPaint.prototype.bQ = function(n, z) {
      var C = "stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
      for (var M = 0; M < C.length; M++)
          z[M] = n[C[M]].v;
      z[6] = n.LghD.v
  }
  ;
  t.oilPaint.prototype.iT = function(n, z) {
      var C = "stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
      for (var M = 0; M < C.length; M++)
          n[C[M]].v = z[M];
      n.LghD.v = z[6].tq
  }
  ;
  t.TrcC = function() {
      t.call(this, "TrcC");
      this.vx = [new ar("Level",0,255), new b7([12, 69],[[19, 4, 1], [19, 4, 0]])];
      this.Yw()
  }
  ;
  t.TrcC.prototype = new t;
  t.TrcC.prototype.bQ = function(n, z) {
      z[0] = n.Lvl.v;
      z[1] = ["Lwr", "Upr"].indexOf(n.Edg.v.CntE)
  }
  ;
  t.TrcC.prototype.iT = function(n, z) {
      n.Lvl.v = z[0];
      n.Edg.v.CntE = ["Lwr", "Upr"][z[1]]
  }
  ;
  t["Dfs "] = function() {
      t.call(this, "Dfs ");
      this.vx = [new b7([12, 36],[[15, 10, 0], [15, 10, 6], [15, 10, 11], "Anisotropic"])];
      this.Yw()
  }
  ;
  t["Dfs "].prototype = new t;
  t["Dfs "].prototype.bQ = function(n, z) {
      z[0] = ["Nrml", "DrkO", "LghO", "anisotropic"].indexOf(n.Md.v.DfsM)
  }
  ;
  t["Dfs "].prototype.iT = function(n, z) {
      n.Md.v.DfsM = ["Nrml", "DrkO", "LghO", "anisotropic"][z[0]]
  }
  ;
  t.Embs = function() {
      t.call(this, "Embs");
      this.vx = [new ic([12, 15]), new ar([12, 42],1,100,"px"), new ar([12, 57],1,500,"%")];
      this.Yw()
  }
  ;
  t.Embs.prototype = new t;
  t.Embs.prototype.bQ = function(n, z) {
      z[0] = n.Angl.v;
      z[1] = n.Hght.v;
      z[2] = n.Amnt.v
  }
  ;
  t.Embs.prototype.iT = function(n, z) {
      n.Angl.v = z[0].tq;
      n.Hght.v = z[1];
      n.Amnt.v = z[2]
  }
  ;
  t["Wnd "] = function() {
      t.call(this, "Wnd ");
      this.vx = [new b7([12, 32],["Wind", "Blast", "Stagger"]), new b7([12, 33],["From the Right", "From the Left"])];
      this.Yw()
  }
  ;
  t["Wnd "].prototype = new t;
  t["Wnd "].prototype.bQ = function(n, z) {
      z[0] = ["Wnd", "Blst", "Stgr"].indexOf(n.WndM.v.WndM);
      z[1] = ["Left", "Rght"].indexOf(n.Drct.v.Drct)
  }
  ;
  t["Wnd "].prototype.iT = function(n, z) {
      n.WndM.v.WndM = ["Wnd", "Blst", "Stgr"][z[0]];
      n.Drct.v.Drct = ["Left", "Rght"][z[1]]
  }
  ;
  t.lightFilterGradient = function() {
      t.call(this, "lightFilterGradient");
      this.vx = [new ar([24, 3, 1],0,100,"px",1,!0), new ar([12, 38],0,200,"%"), new eS([4, 11]), new ar("High",0,100,"%"), new ar("Medium",0,100,"%"), new ar("Low",0,100,"%")];
      this.Yw()
  }
  ;
  t.lightFilterGradient.prototype = new t;
  t.lightFilterGradient.prototype.bQ = function(n, z) {
      z[0] = n.blur.v;
      z[1] = n.textureScale.v * 100;
      z[2] = n.Scl.v == -1;
      var C = n.Dtl.v;
      z[3] = C[0].v * 100;
      z[4] = C[1].v * 100;
      z[5] = C[2].v * 100
  }
  ;
  t.lightFilterGradient.prototype.iT = function(n, z) {
      n.blur.v = z[0];
      n.textureScale.v = z[1] / 100;
      n.Scl.v = z[2] ? -1 : 1;
      var C = n.Dtl.v;
      C[0].v = z[3] / 100;
      C[1].v = z[4] / 100;
      C[2].v = z[5] / 100
  }
  ;
  t.Fbrs = function() {
      t.call(this, "Fbrs");
      this.vx = [new ar("Variance",1,64), new ar("Strength",1,64)];
      this.Yw()
  }
  ;
  t.Fbrs.prototype = new t;
  t.Fbrs.prototype.bQ = function(n, z) {
      z[0] = n.Vrnc.v;
      z[1] = n.Strg.v
  }
  ;
  t.Fbrs.prototype.iT = function(n, z) {
      n.Vrnc.v = z[0];
      n.Strg.v = z[1]
  }
  ;
  t.LnsF = function() {
      t.call(this, "LnsF");
      this.vx = [new ar([12, 2],10,300,"%"), new b7([12, 44],["Lens 1", "Lens 2", "Lens 3", "Lens 4"]), new ar("Position X",0,100,"%"), new ar("Position Y",0,100,"%")];
      this.Yw()
  }
  ;
  t.LnsF.prototype = new t;
  t.LnsF.prototype.bQ = function(n, z) {
      z[0] = n.Brgh.v;
      z[1] = ["Zm", "Nkn", "Nkn1", "PnVs"].indexOf(n.Lns.v.Lns);
      var C = n.FlrC.v;
      z[2] = Math.round(C.Hrzn.v * 100);
      z[3] = Math.round(C.Vrtc.v * 100)
  }
  ;
  t.LnsF.prototype.iT = function(n, z) {
      n.Brgh.v = z[0];
      n.Lns.v.Lns = ["Zm", "Nkn", "Nkn1", "PnVs"][z[1]];
      var C = n.FlrC.v;
      C.Hrzn.v = z[2] / 100;
      C.Vrtc.v = z[3] / 100
  }
  ;
  t.LnsF.prototype.qI = function() {
      return !0
  }
  ;
  t.LnsF.prototype.mY = function(n, z, C, D, F) {
      this.xH = !0;
      this.IC(n, F)
  }
  ;
  t.LnsF.prototype.Xl = function(n, z, C, D, F) {
      if (!this.xH)
          return;
      this.IC(n, F)
  }
  ;
  t.LnsF.prototype.yg = function(n, z, C, D, F) {
      this.xH = !1
  }
  ;
  t.LnsF.prototype.IC = function(n, z) {
      var C = n.a.C$(z.x, z.y);
      function D(F, X) {
          return Math.round(Math.max(0, Math.min(100, 100 * F / X)))
      }
      this.vx[2].m(D(C.x, n.d));
      this.vx[3].m(D(C.y, n.v));
      this.a8()
  }
  ;
  t.blendOptions = function() {
      t.call(this, "blendOptions");
      this.vx.push(new fR([12, 19, 0],hr.K6,!1,hr.a4));
      this.vx.push(new ar([12, 0],0,100,"%"));
      this.Yw()
  }
  ;
  t.blendOptions.prototype = new t;
  t.blendOptions.prototype.bQ = function(n, z) {
      z[0] = hr.SV.indexOf(n.Md.v.BlnM);
      z[1] = n.Opct.v.val
  }
  ;
  t.blendOptions.prototype.iT = function(n, z) {
      n.Md.v.BlnM = hr.SV[z[0]];
      n.Opct.v.val = z[1]
  }
  ;
  t.LnCr = function() {
      t.call(this, "LnCr");
      this.vx = [new ar([12, 57],-100,100), new ar([12, 38],10,150,"%")];
      this.Yw()
  }
  ;
  t.LnCr.prototype = new t;
  t.LnCr.prototype.bQ = function(n, z) {
      z[0] = n.LnIa.v;
      z[1] = n.LnSi.v
  }
  ;
  t.LnCr.prototype.iT = function(n, z) {
      n.LnIa.v = z[0];
      n.LnSi.v = z[1]
  }
  ;
  t.adaptCorrect = function() {
      t.call(this, "adaptCorrect");
      var n = iT;
      this.vx = [new be([19, 6, 0]), new n([12, 57],0,100,"%"), new n("Tone",0,100,"%"), new n([12, 56],0,200,"px"), new be([19, 6, 2]), new n([12, 57],0,100,"%"), new n("Tone",0,100,"%"), new n([12, 56],0,200,"px"), new be([3]), new n([13, 0],-100,100)];
      this.Yw([3, 7])
  }
  ;
  t.adaptCorrect.prototype = new t;
  t.adaptCorrect.prototype.bQ = function(n, z) {
      var C = n.sdwM.v;
      z[0] = C.Amnt.v.val;
      z[1] = C.Wdth.v.val;
      z[2] = C.Rds.v;
      var C = n.hglM.v;
      z[3] = C.Amnt.v.val;
      z[4] = C.Wdth.v.val;
      z[5] = C.Rds.v;
      z[6] = n.ClrC.v
  }
  ;
  t.adaptCorrect.prototype.iT = function(n, z) {
      var C = n.sdwM.v;
      C.Amnt.v.val = z[0];
      C.Wdth.v.val = z[1];
      C.Rds.v = z[2];
      var C = n.hglM.v;
      C.Amnt.v.val = z[3];
      C.Wdth.v.val = z[4];
      C.Rds.v = z[5];
      n.ClrC.v = z[6]
  }
  ;
  t.boxblur = function() {
      t.call(this, "boxblur");
      this.vx = [new ar([12, 56],1,200," px")];
      this.Yw()
  }
  ;
  t.boxblur.prototype = new t;
  t.boxblur.prototype.bQ = function(n, z) {
      z[0] = n.Rds.v.val
  }
  ;
  t.boxblur.prototype.iT = function(n, z) {
      n.Rds.v.val = z[0]
  }
  ;
  t.GsnB = function() {
      t.call(this, "GsnB");
      this.vx = [new ar([12, 56],.1,400,"px",1,!0)];
      this.Yw()
  }
  ;
  t.GsnB.prototype = new t;
  t.MtnB = function() {
      t.call(this, "MtnB");
      this.vx = [new ic([12, 15]), new ar([12, 28],1,100," px")];
      this.Yw()
  }
  ;
  t.MtnB.prototype = new t;
  t.RdlB = function() {
      t.call(this, "RdlB");
      this.vx = [new ar([12, 57],1,100), new b7([12, 36],["Spin", "Zoom"]), new iT("Off X",0,1,null,2), new iT("Off Y",0,1,null,2)];
      this.Yw()
  }
  ;
  t.RdlB.prototype = new t;
  t.RdlB.prototype.bQ = function(n, z) {
      z[0] = n.Amnt.v;
      z[1] = ["Spn", "Zm"].indexOf(n.BlrM.v.BlrM);
      z[2] = n.Cntr.v.Hrzn.v;
      z[3] = n.Cntr.v.Vrtc.v
  }
  ;
  t.RdlB.prototype.iT = function(n, z) {
      n.Amnt.v = z[0];
      n.BlrM.v.BlrM = ["Spn", "Zm"][z[1]];
      n.Cntr.v.Hrzn.v = z[2];
      n.Cntr.v.Vrtc.v = z[3]
  }
  ;
  t.Dspl = function() {
      t.call(this, "Dspl");
      this.vx = [new fR([6, 36, 3],["a", "b"]), new ar([22, 4, 0],-100,100,"px"), new ar([22, 4, 1],-100,100,"px"), new fR([24, 18, 0],[[24, 18, 3], [24, 18, 2]])];
      this.Yw()
  }
  ;
  t.Dspl.prototype = new t;
  t.Dspl.prototype.bQ = function(n, z, C) {
      this.aqr = [];
      this.pj = [];
      var D = -1
        , F = C ? C[0] : null;
      if (F == null)
          F = this.agI;
      else
          this.agI = F;
      if (F)
          for (var M = 0; M < F.length; M++) {
              var X = F[M];
              this.aqr.push(X._8.trim());
              this.pj.push(X.LH);
              if (X.LH == n.DspF.v.pth)
                  D = M
          }
      this.vx[0].us(this.aqr);
      z[0] = D == -1 ? 0 : D;
      z[1] = n.HrzS.v;
      z[2] = n.VrtS.v;
      z[3] = ["WrpA", "RptE"].indexOf(n.UndA.v.UndA)
  }
  ;
  t.Dspl.prototype.iT = function(n, z) {
      if (this.pj.length == 0)
          return;
      n.DspF.v.pth = this.pj[z[0]];
      n.HrzS.v = z[1];
      n.VrtS.v = z[2];
      n.UndA.v.UndA = ["WrpA", "RptE"][z[3]]
  }
  ;
  t.Pnch = function() {
      t.call(this, "Pnch");
      this.vx = [new ar([12, 57],-100,100,"%")];
      this.Yw()
  }
  ;
  t.Pnch.prototype = new t;
  t["Plr "] = function() {
      t.call(this, "Plr ");
      this.vx = [new b7(null,["Rect to Polar", "Polar to Rect"])];
      this.Yw()
  }
  ;
  t["Plr "].prototype = new t;
  t.Rple = function() {
      t.call(this, "Rple");
      this.vx = [new ar([12, 57],-999,999), new fR([12, 14, 0],[[19, 8, 0], [19, 8, 1], [19, 8, 2]])];
      this.Yw()
  }
  ;
  t.Rple.prototype = new t;
  t["Shr "] = function() {
      t.call(this, "Shr ");
      this.vx = [new ed(!0,!0), new fR([24, 18, 0],[[24, 18, 3], [24, 18, 2]])];
      this.Yw()
  }
  ;
  t["Shr "].prototype = new t;
  t["Shr "].prototype.bQ = function(n, z) {
      var C = new b6(0,255 / 127,255 / 127,0,-2,128)
        , D = JSON.parse(JSON.stringify(n.ShrP.v));
      j.E6.Z(D, C);
      z[0] = D;
      z[1] = ["WrpA", "RptE"].indexOf(n.UndA.v.UndA)
  }
  ;
  t["Shr "].prototype.iT = function(n, z) {
      var C = new b6(0,255 / 127,255 / 127,0,-2,128);
      C.eL();
      j.E6.Z(z[0], C);
      n.ShrP.v = z[0];
      n.ShrE.v = z[0].length - 1;
      n.UndA.v.UndA = ["WrpA", "RptE"][z[1]]
  }
  ;
  t.Sphr = function() {
      t.call(this, "Sphr");
      this.vx = [new ar([12, 57],-100,100), new fR([12, 36],["Normal", [22, 4, 0], [22, 4, 1]])];
      this.Yw()
  }
  ;
  t.Sphr.prototype = new t;
  t.Sphr.prototype.bQ = function(n, z) {
      z[0] = n.Amnt.v;
      z[1] = ["Nrml", "HrzO", "VrtO"].indexOf(n.SphM.v.SphM)
  }
  ;
  t.Sphr.prototype.iT = function(n, z) {
      n.Amnt.v = z[0];
      n.SphM.v.SphM = ["Nrml", "HrzO", "VrtO"][z[1]]
  }
  ;
  t.Twrl = function() {
      t.call(this, "Twrl");
      this.vx = [new ar([12, 15],-999,999)];
      this.Yw()
  }
  ;
  t.Twrl.prototype = new t;
  t.Wave = function() {
      t.call(this, "Wave");
      this.a2E = [1, 2, 3, 4];
      this.vx = [new ar("Number of Generators",1,100), new iT("Min Length",1,999), new iT("Max Length",1,999), new iT("Min Ampl.",1,999), new iT("Max Ampl.",1,999), new iT("Scale X",1,100,"%"), new iT("Scale Y",1,100,"%"), new b7([12, 44],["Sine", "Triangle", [12, 93, 3]]), new fR([24, 18, 0],[[24, 18, 3], [24, 18, 2]]), new ik("Randomizer Seed")];
      this.Yw()
  }
  ;
  t.Wave.prototype = new t;
  t.Wave.prototype.bQ = function(n, z) {
      z[0] = n.NmbG.v;
      z[1] = n.WLMn.v;
      z[2] = n.WLMx.v;
      z[3] = n.AmMn.v;
      z[4] = n.AmMx.v;
      z[5] = n.SclH.v;
      z[6] = n.SclV.v;
      z[7] = ["WvSn", "WvTr", "WvSq"].indexOf(n.Wvtp.v.Wvtp);
      z[8] = ["WrpA", "RptE"].indexOf(n.UndA.v.UndA);
      z[9] = n.RndS.v
  }
  ;
  t.Wave.prototype.iT = function(n, z) {
      n.NmbG.v = z[0];
      n.WLMn.v = z[1];
      n.WLMx.v = z[2];
      n.AmMn.v = z[3];
      n.AmMx.v = z[4];
      n.SclH.v = z[5];
      n.SclV.v = z[6];
      n.Wvtp.v.Wvtp = ["WvSn", "WvTr", "WvSq"][z[7]];
      n.UndA.v.UndA = ["WrpA", "RptE"][z[8]];
      var C = parseInt(z[9]);
      if (isNaN(C))
          C = 248325464;
      C = Math.max(0, Math.min(268435455, C));
      n.RndS.v = C;
      this.vx[9].m(C)
  }
  ;
  t.ZgZg = function() {
      t.call(this, "ZgZg");
      this.vx = [new ar([12, 57],-100,100), new ar("Ridges",0,20), new fR([12, 22],["Around Center", "Out From Center", "Pond Ripples"])];
      this.Yw()
  }
  ;
  t.ZgZg.prototype = new t;
  t.surfaceBlur = function() {
      t.call(this, "surfaceBlur");
      this.vx = [new ar([12, 56],1,200," px"), new ar([4, 13],1,255," px")];
      this.Yw()
  }
  ;
  t.surfaceBlur.prototype = new t;
  t.surfaceBlur.prototype.bQ = function(n, z) {
      z[0] = n.Rds.v.val;
      z[1] = n.Thsh.v
  }
  ;
  t.surfaceBlur.prototype.iT = function(n, z) {
      n.Rds.v.val = z[0];
      n.Thsh.v = z[1]
  }
  ;
  t.AdNs = function() {
      t.call(this, "AdNs");
      this.vx = [new ar([12, 57],0,200," %"), new fR([12, 58],[[12, 59, 1], [12, 59, 0]]), new eS([12, 60])];
      this.Yw()
  }
  ;
  t.AdNs.prototype = new t;
  t.DstS = function() {
      t.call(this, "DstS");
      this.vx = [new ar([12, 56],1,200," px"), new ar([4, 13],1,255," px")];
      this.Yw()
  }
  ;
  t.DstS.prototype = new t;
  t["Mdn "] = function() {
      t.call(this, "Mdn ");
      this.vx = [new ar([12, 56],1,200," px")];
      this.Yw()
  }
  ;
  t["Mdn "].prototype = new t;
  t["Mdn "].prototype.bQ = function(n, z) {
      z[0] = n.Rds.v.val
  }
  ;
  t["Mdn "].prototype.iT = function(n, z) {
      n.Rds.v.val = z[0]
  }
  ;
  t.ClrH = function() {
      t.call(this, "ClrH");
      this.vx = [new ar([12, 56],4,100," px")];
      for (var M = 1; M < 4; M++)
          this.vx.push(new ar("Angle " + M,0,90," \xB0"));
      this.Yw()
  }
  ;
  t.ClrH.prototype = new t;
  t.ClrH.prototype.bQ = function(n, z) {
      z[0] = n.Rds.v;
      for (var M = 1; M < 4; M++)
          z[M] = n["Ang" + M].v
  }
  ;
  t.ClrH.prototype.iT = function(n, z) {
      n.Rds.v = z[0];
      for (var M = 1; M < 4; M++)
          n["Ang" + M].v = z[M]
  }
  ;
  t.ClrH.prototype.B = function() {
      var n = this.vx;
      n[0].B();
      for (var M = 1; M < 4; M++)
          n[M].Jt(aC.get([12, 15]) + " " + M)
  }
  ;
  t.Crst = function() {
      t.call(this, "Crst");
      this.vx = [new ar([12, 61],3,100," px")];
      this.Yw()
  }
  ;
  t.Crst.prototype = new t;
  t.Crst.prototype.bQ = function(n, z) {
      z[0] = n.ClSz.v
  }
  ;
  t.Crst.prototype.iT = function(n, z) {
      n.ClSz.v = z[0]
  }
  ;
  t.Mztn = function() {
      t.call(this, "Mztn");
      this.vx.push(new fR([12, 44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4, 3, 3]));
      this.pj = "FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");
      this.Yw()
  }
  ;
  t.Mztn.prototype = new t;
  t.Mztn.prototype.bQ = function(n, z) {
      z[0] = this.pj.indexOf(n.MztT.v.MztT)
  }
  ;
  t.Mztn.prototype.iT = function(n, z) {
      n.MztT.v.MztT = this.pj[z[0]]
  }
  ;
  t["Msc "] = function() {
      t.call(this, "Msc ");
      this.vx = [new ar([12, 61],2,200," px")];
      this.Yw()
  }
  ;
  t["Msc "].prototype = new t;
  t["Msc "].prototype.bQ = function(n, z) {
      z[0] = n.ClSz.v.val
  }
  ;
  t["Msc "].prototype.iT = function(n, z) {
      n.ClSz.v.val = z[0]
  }
  ;
  t.Pntl = function() {
      t.call(this, "Pntl");
      this.vx = [new ar([12, 61],3,100," px")];
      this.Yw()
  }
  ;
  t.Pntl.prototype = new t;
  t.Pntl.prototype.bQ = function(n, z) {
      z[0] = n.ClSz.v
  }
  ;
  t.Pntl.prototype.iT = function(n, z) {
      n.ClSz.v = z[0]
  }
  ;
  t.smartSharpen = function() {
      t.call(this, "smartSharpen");
      this.vx = [new ar([12, 57],1,200,"%"), new ar([12, 56],0,200,"px",1,!0)];
      this.Yw()
  }
  ;
  t.smartSharpen.prototype = new t;
  t.smartSharpen.prototype.bQ = function(n, z) {
      z[0] = n.Amnt.v.val;
      z[1] = n.Rds.v.val
  }
  ;
  t.smartSharpen.prototype.iT = function(n, z) {
      n.Amnt.v.val = z[0];
      n.Rds.v.val = z[1]
  }
  ;
  t.UnsM = function() {
      t.call(this, "UnsM");
      this.vx = [new ar([12, 57],1,200," %"), new ar([12, 56],.1,400,"px",1,!0), new ar([4, 13],0,255," ")];
      this.Yw()
  }
  ;
  t.UnsM.prototype = new t;
  t.HghP = function() {
      t.call(this, "HghP");
      this.vx = [new ar([12, 56],.1,400,"px",1,!0)];
      this.Yw()
  }
  ;
  t.HghP.prototype = new t;
  t["Mxm "] = function() {
      t.call(this, "Mxm ");
      this.vx = [new ar([12, 56],1,200," px")];
      this.Yw()
  }
  ;
  t["Mxm "].prototype = new t;
  t["Mnm "] = function() {
      t.call(this, "Mnm ");
      this.vx = [new ar([12, 56],1,200," px")];
      this.Yw()
  }
  ;
  t["Mnm "].prototype = new t;
  t.Ofst = function() {
      t.call(this, "Ofst");
      this.vx = [new ar([22, 4, 0],-1024,1024," px"), new ar([22, 4, 1],-1024,1024," px"), new fR([24, 18, 0],[[24, 18, 2], [24, 18, 1], [24, 18, 3]])];
      this.Yw()
  }
  ;
  t.Ofst.prototype = new t;
  t.Rept = function() {
      t.call(this, "Rept");
      this.vx = [new iT([12, 38],1,300," %"), new iT("Row Shift",-50,50," %"), new iT("Space X",-99,200," %"), new iT("Space Y",-99,200," %"), new eS([4, 16, 2]), new ic([12, 15])];
      this.Yw()
  }
  ;
  t.Rept.prototype = new t;
  t.Rept.prototype.bQ = function(n, z) {
      z[0] = n.Scl.v.val;
      z[1] = n.Rsft.v.val;
      z[2] = n.SpcX.v.val;
      z[3] = n.SpcY.v.val;
      z[4] = n.SpcC.v;
      z[5] = n.Angl.v
  }
  ;
  t.Rept.prototype.iT = function(n, z) {
      n.Scl.v.val = z[0];
      n.Rsft.v.val = z[1];
      n.SpcX.v.val = z[2];
      n.SpcY.v.val = z[3];
      n.SpcC.v = z[4];
      n.Angl.v = z[5].tq;
      return n
  }
  ;
  t.Ctoa = function() {
      t.call(this, "Ctoa");
      this.vx = [new be([13, 0]), new e$(!0), new ar(["VAR0 VAR1", "Transparency", [4, 13]],0,100," %"), new ar(["VAR0 VAR1", [12, 0], [4, 13]],0,100," %")];
      this.Yw()
  }
  ;
  t.Ctoa.prototype = new t;
  t.Ctoa.prototype.bQ = function(n, z) {
      z[0] = n.Clr.v;
      z[1] = n.Trsp.v.val;
      z[2] = n.Opct.v.val
  }
  ;
  t.Ctoa.prototype.iT = function(n, z) {
      n.Clr.v = z[0];
      n.Trsp.v.val = z[1];
      n.Opct.v.val = z[2]
  }
  ;
  t.LqFy = function() {
      t.call(this, "LqFy");
      this.JO = !1;
      this.Eg = null;
      this.a6k = null;
      this.F = 0;
      this.p = {
          M5: [[{
              F: {
                  id: 0,
                  name: [24, 1, 0, 1, 0],
                  GH: "liq/smudge"
              }
          }], [{
              F: {
                  id: 1,
                  name: [24, 1, 0, 1, 1],
                  GH: "liq/reconstruct"
              }
          }], [{
              F: {
                  id: 2,
                  name: [24, 1, 0, 1, 2],
                  GH: "liq/smooth"
              }
          }], [{
              F: {
                  id: 3,
                  name: [24, 1, 0, 1, 3],
                  GH: "liq/twirl"
              }
          }], [{
              F: {
                  id: 4,
                  name: [24, 1, 0, 1, 4],
                  GH: "liq/shrink"
              }
          }], [{
              F: {
                  id: 5,
                  name: [24, 1, 0, 1, 5],
                  GH: "liq/blow"
              }
          }], [{
              F: {
                  id: 6,
                  name: [24, 1, 0, 1, 6],
                  GH: "liq/pleft"
              }
          }]],
          keys: []
      };
      this.UR = new eQ(this.p,!1);
      this.UR.xS(0);
      this.UR.s(l.E.P, this.ack, this);
      this.m7 = gK.pO();
      this.ue = null;
      this.rw = [];
      this.XL = -1;
      this.C0 = null;
      this.a2P = null;
      this.OW = null;
      this.Vz = null;
      this.c2 = null;
      var n = l.w("div", "flexrow");
      this.J6 = n;
      this.j.appendChild(n);
      n.appendChild(this.UR.j);
      this.view = new aN(!0);
      this.view.IP(100, 100);
      this.view.s("mousedown", this.Kz, this);
      this.view.s("mousemove", this.kp, this);
      this.view.s("mouseup", this.xP, this);
      this.view.s("zoom", this.Ci, this);
      n.appendChild(this.view.j);
      var z = l.w("div", "form");
      n.appendChild(z);
      this.Qo = z;
      z.style.width = "230px";
      this.yJ = [new ar([12, 14, 0],0,1e3,null,!1,!0), new ar([12, 74],0,100,null,!1,!1), new ar([12, 84],0,100,null,!1,!1), new eS([12, 46]), new ar([12, 0],0,100,null,!1,!1)];
      var C = this.m7.Brsh.v;
      C.Dmtr.v.val = 100;
      var D = [100, 50, 100, !1, 100];
      for (var M = 0; M < this.yJ.length; M++) {
          var F = this.yJ[M];
          F.m(D[M]);
          F.s(l.E.L, this.aog, this);
          z.appendChild(F.j)
      }
      var X = new gJ("Reset",!0,null,!0);
      X.s("click", this.GK, this);
      z.appendChild(X.j);
      this.ab = new gN;
      this.ab.j = l.w("div", "floatcont");
      this.e2 = new gJ("Menu",!1,null,!0);
      this.e2.s("click", this.adu, this);
      var E = this.e2.j;
      E.setAttribute("style", "position:absolute; right:13px; top:47px")
  }
  ;
  t.LqFy.prototype = new t;
  t.LqFy.prototype.FU = function() {
      return !0
  }
  ;
  t.LqFy.prototype.Nk = function(n) {
      this.Qo.appendChild(n)
  }
  ;
  t.LqFy.prototype.adu = function(n) {
      var z = this.e2.j.getBoundingClientRect();
      this.ab.j.appendChild(this.Qo);
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.X$,
          uN: this.ab,
          x: z.right + z.width - 290,
          y: z.top + z.height
      };
      this.f(C)
  }
  ;
  t.LqFy.prototype.iV = function(n) {
      this.JO = n.r(dM.M2);
      var z = O.pC.YV(this.m7, n);
      if (z != null) {
          this.m7 = z;
          this.Ci();
          this.yJ[0].m(z.Brsh.v.Dmtr.v.val)
      } else if (n.r(dM.BO) && n.r(dM.cf)) {
          var C = this.rw;
          if (n.r(dM.Ms)) {
              if (this.XL + 1 < C.length)
                  this.XL++
          } else if (this.XL > 0)
              this.XL--;
          this.ue.map = C[this.XL].slice(0);
          this.mt(null)
      } else
          this.view.iV(n)
  }
  ;
  t.LqFy.prototype.ack = function(n) {
      if (n.data.e == l.H.j9) {
          this.F = n.data.F;
          this.UR.xS(this.F)
      }
  }
  ;
  t.LqFy.prototype.aog = function(n) {
      var z = n.currentTarget
        , M = this.yJ.indexOf(z)
        , C = this.m7.Brsh.v;
      if (M == 0) {
          C.Dmtr.v.val = z.u();
          this.Ci()
      }
      if (M > 2)
          this.mt(null)
  }
  ;
  t.LqFy.prototype.wW = function() {
      var n = this.rw;
      this.XL++;
      n[this.XL] = this.ue.map.slice(0);
      while (n.length > this.XL + 1)
          n.pop();
      while (n.length > 50) {
          n = n.slice(1);
          this.XL--
      }
  }
  ;
  t.LqFy.prototype.Kz = function(n) {
      this.mQ();
      this.Eg = this.view.Eq();
      this.a6k = new ir(0,0);
      this.s(l.E.n6, this.Rm, this)
  }
  ;
  t.LqFy.prototype.kp = function(n) {
      var z = this.view.Eq()
        , C = new ir(z.x - this.Eg.x,z.y - this.Eg.y);
      if (this.F == 0 || this.F == 6)
          this.ny(C);
      this.Eg = z
  }
  ;
  t.LqFy.prototype.xP = function(n) {
      this.wW();
      this.mQ()
  }
  ;
  t.LqFy.prototype.mQ = function() {
      if (this.Gz(l.E.n6, this.Rm))
          this.removeEventListener(l.E.n6, this.Rm, this)
  }
  ;
  t.LqFy.prototype.Rm = function(n) {
      if (this.F != 0 && this.F != 6)
          this.ny(new ir(0,0))
  }
  ;
  t.LqFy.prototype.ny = function(n) {
      var z = this.ue
        , C = z.ob / this.C0.d
        , D = this.Eg
        , F = this.m7.Brsh.v
        , X = F.Dmtr.v.val
        , E = Date.now()
        , f = z.ob
        , a = z.ua
        , q = Math.sqrt(n.x * n.x + n.y * n.y)
        , c = Math.max(1, Math.ceil(q / 2))
        , K = n.x / c
        , R = n.y / c
        , J = D.clone()
        , w = this.F
        , p = this.yJ[1].u() / 100
        , I = this.yJ[2].u() / 100
        , m = [.005, .015, 0, 0, .2, .2, .01, .01, .05, .35, .1, .1, .005, .015]
        , A = m[w * 2]
        , U = m[w * 2 + 1]
        , r = (1 - p) * A + p * U
        , $ = X * C / 2;
      for (var M = 0; M < c; M++) {
          var k = [];
          J.x += K;
          J.y += R;
          j.tI.a9A(z.map, f, a, w, J.x * C, J.y * C, $, p, I, K * C, R * C, k, this.JO);
          j.tI.a2n(f, a, z.map, k, 2 * r * I)
      }
      var G = new cc(0,0,f,a)
        , i = new cc(D.x * C,D.y * C,0,0);
      i.TR(X * C * .5, X * C * .5);
      var o = i.clone();
      o.offset(n.x * C, n.y * C);
      i = i.QH(o);
      var S = new cc(i.x / C,i.y / C,i.d / C,i.v / C);
      S = j.K.HM(S).Yi(this.C0);
      this.mt(S)
  }
  ;
  t.LqFy.prototype.Ci = function() {
      var n = fz.WX(this.m7, null, this.view.fj().X);
      this.view.oY(n)
  }
  ;
  t.LqFy.prototype.m = function(n, z, C, D, F) {
      C = C.clone();
      if (z == null)
          return;
      if (!D.jm(C)) {
          var X = C.QH(D)
            , E = j.T(X.t() * 4);
          j.X3(z, C, E, X);
          z = E;
          C = X
      }
      C.x = C.y = 0;
      this.OW = z;
      this.a2P = F;
      this.c2 = z.slice(0);
      this.Vz = z.slice(0);
      this.C0 = C;
      this.ue = gE.vC(new Uint8Array(n.LqMe.v).buffer);
      var f = C.d
        , a = C.v;
      if (this.ue.ob / f < .22) {
          this.ue = {
              ob: Math.floor(f / 4),
              ua: Math.floor(a / 4)
          };
          this.ue.map = new Float32Array(this.ue.ob * this.ue.ua * 2)
      }
      this.rw = [];
      this.XL = -1;
      this.wW();
      this.mt(null);
      this.Ci()
  }
  ;
  t.LqFy.prototype.u = function() {
      this.mQ();
      var n = fd.zP("LqFy")
        , z = new Uint8Array(gE.OK(this.ue))
        , C = [];
      for (var M = 0; M < z.length; M++)
          C.push(z[M]);
      n.LqMe.v = C;
      return n
  }
  ;
  t.LqFy.prototype.IP = function(n, z) {
      this.UR.IP(n, z);
      var C = this.e2.j
        , D = this.Qo;
      this.J6.appendChild(D);
      this.J6.appendChild(C);
      if (n > 450) {
          D.style.marginLeft = "1em";
          this.J6.removeChild(C);
          this.view.IP(n - 238 - 45, z)
      } else {
          D.style.marginLeft = "";
          this.J6.removeChild(D);
          this.view.IP(n - 40, z)
      }
  }
  ;
  t.LqFy.prototype.B = function() {
      this.UR.B();
      for (var M = 0; M < this.yJ.length; M++)
          this.yJ[M].B()
  }
  ;
  t.LqFy.prototype.GK = function() {
      this.mQ();
      this.ue.map.fill(0);
      this.wW();
      this.mt(null)
  }
  ;
  t.LqFy.prototype.mt = function(n) {
      var z = this.C0
        , C = this.OW
        , D = this.c2
        , F = this.ue;
      j.tI.SP(C, this.Vz, z.d, z.v, n, F.map, F.ob, F.ua, 0);
      if (this.yJ[3].tr()) {
          j.X3(this.a2P, z, D, z, n ? n : z);
          j.$.xN("norm", this.Vz, z, D, z, n ? n : z, this.yJ[4].u() / 100)
      } else
          j.YY(this.Vz, D);
      this.view.m([{
          Pi: z,
          data: D.buffer
      }])
  }
  ;
  t.GEfc = function() {
      t.call(this, "GEfc");
      this.PR = 0;
      this.kY = 0;
      this.OW = null;
      this.c2 = null;
      this.C0 = null;
      this.VJ = null;
      this.L0 = null;
      this.XS = 0;
      var n = l.w("div", "flexrow");
      this.J6 = n;
      this.j.appendChild(n);
      this.view = new aN;
      this.view.IP(100, 100);
      n.appendChild(this.view.j);
      this.NP = "";
      this.Kx = 270;
      var z = this.a9q = l.w("div", "form scrollable");
      n.appendChild(z);
      z.setAttribute("style", "width:" + this.Kx + "px;  margin-left:1em");
      var C = l.w("div", "form");
      n.appendChild(C);
      C.setAttribute("style", "width:230px;  margin-left:1em");
      this.nr = {};
      for (var D in g3.names) {
          var F = new t.GEfc.DZ(D);
          F.parent = this;
          this.nr[D] = F;
          F.s(l.E.L, this.iv, this)
      }
      this.xr = l.w("div");
      C.appendChild(this.xr);
      this.xr.style.marginBottom = "1.5em";
      this.$y = l.w("div");
      this.$y.style.height = "16.3em";
      C.appendChild(this.$y);
      l.jn(C);
      this.Mo = l.w("div", "lpbody scrollable");
      this.y0 = l.w("div", "lpfoot");
      C.appendChild(this.Mo);
      C.appendChild(this.y0);
      this.s("click", this.aqe, this);
      this.qh = [];
      eB.fN([[5, 3], [5, 4]], this.qh, this.y0, this.Bz.bind(this))
  }
  ;
  t.GEfc.prototype = new t;
  t.GEfc.prototype.FU = function() {
      return !0
  }
  ;
  t.GEfc.prototype.Nk = function(n) {
      this.xr.appendChild(n)
  }
  ;
  t.GEfc.prototype.vi = function(n, z) {
      this.VJ = n
  }
  ;
  t.GEfc.prototype.IP = function(n, z) {
      this.PR = n;
      this.kY = z;
      this.a9q.style.height = z + "px";
      this.view.IP(n - 240 - this.Kx - 10, z);
      this.Mo.style.height = z - this.$y.getBoundingClientRect().height - 106 + "px"
  }
  ;
  t.GEfc.prototype.a9z = function() {
      var n = fC.Ej.get("img/beach", !0)[0]
        , z = n.Pi
        , C = this.a9q
        , D = Math.floor(l.D() * (this.Kx - 40) / 3)
        , F = ~~(D * .7)
        , X = new cc(0,0,D,F)
        , E = j.T(D * F * 4)
        , f = E.slice(0)
        , a = Math.round(10 * l.D())
        , q = new ImageData(new Uint8ClampedArray(f.buffer),D,F);
      j.X3(new Uint8Array(n.data), z, E, new cc(Math.round((z.d - D) / 2),Math.round((z.v - F) / 2),D,F));
      var c = l.w("canvas")
        , K = c.getContext("2d");
      c.width = D;
      c.height = F + Math.round(a * 1.5);
      K.font = a + "px sans-serif";
      this.pq = {};
      var R = this.al5.bind(this);
      for (var M = 0; M < g3.N6.length; M++) {
          var J = g3.N6[M]
            , w = l.w("div");
          C.appendChild(w);
          w.setAttribute("style", "background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
          w.textContent = aC.get(J);
          for (var p in g3.names) {
              var I = g3.names[p];
              if (I[0] != M)
                  continue;
              g3.o$(p, {
                  rect: X,
                  buffer: E
              }, g3.zP(p), {
                  h: 0,
                  Q: 0,
                  O: 0
              }, {
                  h: 255,
                  Q: 255,
                  O: 255
              }, {
                  rect: X,
                  buffer: f
              }, {});
              K.fillStyle = "black";
              K.fillRect(0, 0, 500, 500);
              K.putImageData(q, 0, 0);
              var m = aC.get(I[1]);
              K.fillStyle = "white";
              K.fillText(m, (D - K.measureText(m).width) / 2, F + Math.round(a * 1.1));
              var A = l.w("div");
              C.appendChild(A);
              A.setAttribute("style", "display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
              A.addEventListener("click", R, !1);
              var w = l.w("img");
              A.appendChild(w);
              w.setAttribute("src", c.toDataURL());
              w.setAttribute("style", "width:" + D / l.D() + "px; margin-bottom:0px;");
              this.pq[p] = A
          }
      }
  }
  ;
  t.GEfc.prototype.al5 = function(n) {
      var z;
      for (var C in this.pq)
          if (this.pq[C] == n.currentTarget)
              this.NP = C;
      this.iv()
  }
  ;
  t.GEfc.prototype.Bz = function(n) {
      var z = eB.rG(this.qh, n)
        , C = this.L0.GEfs.v
        , D = C[this.XS].v;
      if (z == 0) {
          C.push(JSON.parse(JSON.stringify(C[this.XS])));
          this.XS = C.length - 1
      } else if (C.length > 1) {
          C.splice(this.XS, 1);
          if (this.XS == C.length)
              this.XS--
      }
      this.Tw();
      this.mt()
  }
  ;
  t.GEfc.prototype.iv = function(n) {
      var z = this.NP, C;
      if (n == null)
          C = g3.zP(z);
      else
          C = this.nr[z].u();
      this.L0.GEfs.v[this.XS].v = C;
      this.Tw();
      this.mt()
  }
  ;
  t.GEfc.prototype.m = function(n, z, C, D, F) {
      if (this.pq == null)
          this.a9z();
      n = this.L0 = JSON.parse(JSON.stringify(n));
      if (n.GEfs == null)
          n = this.L0 = {
              __name: "Filter Gallery",
              classID: "GEfc",
              GEfs: {
                  t: "VlLs",
                  v: [{
                      t: "Objc",
                      v: n
                  }]
              }
          };
      var X = n.GEfs.v;
      for (var M = 0; M < X.length; M++)
          if (X[M].v.GELv == null)
              X[M].v.GELv = {
                  t: "bool",
                  v: !0
              };
      this.XS = X.length - 1;
      this.Tw();
      C = C.clone();
      if (z == null)
          return;
      if (!D.jm(C) && g3.lH(n).x != 0) {
          var E = C.QH(D)
            , f = j.T(E.t() * 4);
          j.X3(z, C, f, E);
          z = f;
          C = E
      }
      C.x = C.y = 0;
      this.OW = z;
      this.c2 = z.slice(0);
      this.C0 = C;
      this.mt()
  }
  ;
  t.GEfc.prototype.aqe = function(n) {
      var z = n.data
        , M = z.kB
        , C = this.L0.GEfs.v;
      if (z.UJ) {
          C[M].v.GELv.v = !C[M].v.GELv.v;
          this.mt()
      } else
          this.XS = M;
      this.Tw()
  }
  ;
  t.GEfc.prototype.Tw = function() {
      var n = this.L0.GEfs.v
        , z = n[this.XS].v
        , C = z.GEfk.v.GEft
        , D = this.$y;
      if (g3.names[C] == null) {
          alert("Unsupported gallery filter");
          l.M$(D)
      } else {
          this.NP = C;
          for (var F in this.pq)
              l.DA(this.pq[F], "selected");
          l.G5(this.pq[C], "selected");
          var X = this.nr[C];
          X.m(z);
          if (D.firstChild != X.j) {
              l.M$(D);
              D.appendChild(X.j)
          }
      }
      var E = [];
      for (var M = 0; M < n.length; M++) {
          var f = n[M].v
            , a = g3.names[f.GEfk.v.GEft]
            , q = new hJ(M,!0,!0,null,a ? a[1] : "Filter",M == this.XS,f.GELv.v);
          q.parent = this;
          E.push(q.j)
      }
      l.M$(this.Mo);
      E.reverse();
      for (var M = 0; M < E.length; M++)
          this.Mo.appendChild(E[M]);
      this.IP(this.PR, this.kY)
  }
  ;
  t.GEfc.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.L0))
  }
  ;
  t.GEfc.prototype.mt = function(n) {
      var z = this.C0
        , C = this.OW
        , D = this.c2
        , F = this.NP
        , X = this.L0
        , E = this.VJ;
      function f(a) {
          return {
              h: a >>> 16,
              Q: a >>> 8 & 255,
              O: a & 255
          }
      }
      fd.o$("GEfc", {
          rect: this.C0,
          buffer: this.OW
      }, X, f(E.Du), f(E.ff), {
          rect: this.C0,
          buffer: this.c2
      }, null);
      this.view.m([{
          Pi: z,
          data: D.buffer
      }])
  }
  ;
  t.GEfc.prototype.B = function() {
      for (var n in this.nr)
          this.nr[n].B();
      eB.MM(this.qh, ["lrs/newlayer", "lrs/bin"])
  }
  ;
  t.GEfc.DZ = function(n) {
      gN.call(this);
      this.UN = n;
      this.j = l.w("div");
      this.ns = {};
      var z = g3.zP(n);
      for (var C in z) {
          var D = null;
          if (C == "__name" || C == "classID" || C == "GEfk" || C == "GELv" || ["FlRs"].indexOf(C) != -1)
              continue;
          else if (C == "EdgW")
              D = new ar("Edge Width",1,14);
          else if (C == "EdgB")
              D = new ar("Edge Brightness",0,n == "AccE" ? 50 : 20);
          else if (C == "Smth")
              D = new ar([19, 3, 3],1,n == "Stmp" ? 50 : 15);
          else if (C == "ClSz")
              D = new ar([12, 61],3,100);
          else if (C == "BrdT")
              D = new ar([7, 9],1,20);
          else if (C == "HghS")
              D = new ar([12, 64],0,20);
          else if (C == "HlSz")
              D = new ar([12, 14, 0],1,15);
          else if (C == "Cntr")
              D = new ar([12, 3, 0],0,n == "WtrP" ? 100 : 50);
          else if (C == "Shrp")
              D = new ar("Sharpness",0,40);
          else if (C == "SprR")
              D = new ar("Spray Radius",0,25);
          else if (C == "LgDr")
              D = new ar("Light/Dark Balance",0,n == "Stmp" ? 50 : 100);
          else if (C == "Drkn")
              D = new ar("Darkness",1,50);
          else if (C == "Dstr")
              D = new ar("Distortion",0,20);
          else if (C == "Scln")
              D = new ar([12, 38],50,200);
          else if (C == "Rlf")
              D = new ar("Relief",0,n == "Ptch" || n == "NtPr" ? 25 : 50);
          else if (C == "ChAm")
              D = new ar("Thickness",1,7);
          else if (C == "Pncl")
              D = new ar([19, 2, 5],1,30);
          else if (C == "StrP")
              D = new ar("Stroke Pressure",0,15);
          else if (C == "PprB")
              D = new ar("Paper Brightness",0,50);
          else if (C == "BrsS")
              D = new ar("Brush Size",0,10);
          else if (C == "BrsD")
              D = new ar("Brush Detail",0,10);
          else if (C == "Txtr")
              D = new ar([12, 67],1,3);
          else if (C == "Grn")
              D = new ar("Grain",0,20);
          else if (C == "HghA")
              D = new ar("Highlight Area",0,20);
          else if (C == "Intn")
              D = new ar("Intensity",0,10);
          else if (C == "Brgh")
              D = new ar("Glow Brightness",0,n == "WtrP" ? 100 : 50);
          else if (C == "StrS")
              D = new ar("Stroke Size",1,50);
          else if (C == "StDt")
              D = new ar("Stroke Detail",1,3);
          else if (C == "Sftn")
              D = new ar("Softness",0,10);
          else if (C == "EdgT")
              D = new ar("Edge Thickness",0,10);
          else if (C == "EdgI")
              D = new ar("Edge Intensity",0,10);
          else if (C == "Pstr")
              D = new ar("Posterization",0,6);
          else if (C == "Dfnt")
              D = new ar("Definition",0,25);
          else if (C == "TxtC")
              D = new ar("Texture Coverage",0,50);
          else if (C == "ShdI")
              D = new ar("Shadow Intensity",0,10);
          else if (C == "DrcB")
              D = new ar("Direction Balance",0,100);
          else if (C == "Strg")
              D = new ar("Strength",1,3);
          else if (C == "Blnc")
              D = new ar("Balance",0,10);
          else if (C == "BlcI")
              D = new ar("Black Intensity",0,10);
          else if (C == "WhtI")
              D = new ar("White Intensity",0,10);
          else if (C == "DrkI")
              D = new ar("Dark Intensity",0,50);
          else if (C == "LghI")
              D = new ar("Light Intensity",0,50);
          else if (C == "StrW")
              D = new ar("Stroke Width",3,15);
          else if (C == "Grns")
              D = new ar("Graininess",0,n == "NtPr" ? 20 : 10);
          else if (C == "GlwA")
              D = new ar("Glow Amount",0,20);
          else if (C == "ClrA")
              D = new ar("Clear Amount",0,20);
          else if (C == "ChrA")
              D = new ar("Charcoal Area",0,20);
          else if (C == "ChlA")
              D = new ar("Chalk Area",0,20);
          else if (C == "FrgL")
              D = new ar("Foreground Level",1,15);
          else if (C == "BckL")
              D = new ar("Background Level",1,15);
          else if (C == "WhtL")
              D = new ar("Background Level",0,50);
          else if (C == "BlcL")
              D = new ar("Foreground Level",0,50);
          else if (C == "ImgB")
              D = new ar("Image Balance",0,50);
          else if (C == "Dnst")
              D = new ar([12, 74],0,50);
          else if (C == "FbrL")
              D = new ar("Fiber Length",3,50);
          else if (C == "CrcS")
              D = new ar("Crack Sapcing",2,100);
          else if (C == "CrcD")
              D = new ar("Crack Depth",0,10);
          else if (C == "CrcB")
              D = new ar("Crack Brightness",0,10);
          else if (C == "TlSz")
              D = new ar("Tile Size",2,100);
          else if (C == "GrtW")
              D = new ar("Grout Width",1,15);
          else if (C == "LghG")
              D = new ar("Lighten Grout",0,10);
          else if (C == "SqrS")
              D = new ar("Square Size",0,10);
          else if (C == "RplS")
              D = new ar("Ripple Size",1,15);
          else if (C == "RplM")
              D = new ar("Ripple Magnitude",0,20);
          else if (C == "Sz")
              D = n == "NGlw" ? new ar("Glow Size",-24,24) : new ar([12, 14, 0],1,50);
          else if (C == "Dtl")
              D = n == "Chrc" ? new ar("Detail",0,5) : new ar("Detail",1,15);
          else if (C == "StrL")
              D = n == "InkO" ? new ar("Stroke Length",1,50) : new ar("Stroke Length",0,20);
          else if (C == "TxtT")
              D = new fR([12, 67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
          else if (C == "BrsT")
              D = new fR("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
          else if (C == "Grnt")
              D = new fR("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
          else if (C == "SDir")
              D = new fR([12, 33],["Right Diagonal", "Horizontal", "Left Diagonal", "Vertical"]);
          else if (C == "ScrT")
              D = new fR([12, 62],["Circle", "Dot", [10, 35]]);
          else if (C == "LghD" || C == "LghP")
              D = new fR("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
          else if (C == "Clr")
              D = new e$("Glow Color");
          else if (C == "InvT")
              D = new eS([4, 11]);
          else
              console.log(C);
          D.s(l.E.L, this.yB, this);
          D.parent = this;
          this.ns[C] = D;
          this.j.appendChild(D.j)
      }
  }
  ;
  t.GEfc.DZ.prototype = new gN;
  t.GEfc.DZ.prototype.yB = function(n) {
      this.f(new u(l.E.L,!1))
  }
  ;
  t.GEfc.MQ = "Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS".split(" ");
  t.GEfc.DZ.prototype.m = function(n) {
      for (var z in this.ns) {
          var C;
          if (t.GEfc.MQ.indexOf(z) != -1)
              C = n[z].v;
          else if (z == "TxtT")
              C = g3._C.indexOf(n[z].v[z]);
          else if (z == "BrsT")
              C = g3.fZ.indexOf(n[z].v[z]);
          else if (z == "LghD")
              C = g3.wu.indexOf(n[z].v[z]);
          else if (z == "LghP")
              C = g3.CV.indexOf(n[z].v[z]);
          else if (z == "Grnt")
              C = g3.xn.indexOf(n[z].v[z]);
          else if (z == "ScrT")
              C = g3.DI.indexOf(n[z].v[z]);
          else if (z == "SDir")
              C = g3.I7.indexOf(n[z].v.StrD);
          this.ns[z].m(C)
      }
  }
  ;
  t.GEfc.DZ.prototype.u = function() {
      var n = g3.zP(this.UN);
      for (var z in this.ns) {
          var C = this.ns[z].u();
          if (t.GEfc.MQ.indexOf(z) != -1)
              n[z].v = C;
          else if (z == "TxtT")
              n[z].v[z] = g3._C[C];
          else if (z == "BrsT")
              n[z].v[z] = g3.fZ[C];
          else if (z == "LghD")
              n[z].v[z] = g3.wu[C];
          else if (z == "LghP")
              n[z].v[z] = g3.CV[C];
          else if (z == "Grnt")
              n[z].v[z] = g3.xn[C];
          else if (z == "ScrT")
              n[z].v[z] = g3.DI[C];
          else if (z == "SDir")
              n[z].v.StrD = g3.I7[C]
      }
      return n
  }
  ;
  t.GEfc.DZ.prototype.B = function() {
      for (var n in this.ns)
          this.ns[n].B()
  }
  ;
  t.blnc = function() {
      t.call(this);
      var n = this.j;
      this.K3 = null;
      this.Ux = new fR([12, 12],[[19, 6, 0], [19, 6, 1], [19, 6, 2]]);
      this.Ux.s(l.E.L, this.mt, this);
      n.appendChild(this.Ux.j);
      this.gP = [];
      for (var M = 0; M < 3; M++) {
          var z = new ar(ad.Ps[M],-100,100);
          z.s(l.E.L, this.a8, this);
          this.gP.push(z);
          n.appendChild(z.j)
      }
      this.cM = new eS([13, 4]);
      this.cM.s(l.E.L, this.a8, this);
      n.appendChild(this.cM.j)
  }
  ;
  t.blnc.prototype = new t;
  t.blnc.prototype.B = function() {
      this.Ux.B();
      for (var M = 0; M < 3; M++)
          this.gP[M].B();
      this.cM.B()
  }
  ;
  t.blnc.prototype.m = function(n) {
      this.K3 = JSON.parse(JSON.stringify(n));
      this.mt()
  }
  ;
  t.blnc.prototype.u = function(n) {
      var z = ["ShdL", "MdtL", "HghL"]
        , C = this.K3[z[this.Ux.u()]].v;
      for (var M = 0; M < 3; M++)
          C[M].v = this.gP[M].u();
      this.K3.PrsL.v = this.cM.u();
      return JSON.parse(JSON.stringify(this.K3))
  }
  ;
  t.blnc.prototype.mt = function(n) {
      var z = ["ShdL", "MdtL", "HghL"]
        , C = this.K3[z[this.Ux.u()]].v;
      for (var M = 0; M < 3; M++)
          this.gP[M].m(C[M].v);
      this.cM.m(this.K3.PrsL.v)
  }
  ;
  t.brit = function() {
      t.call(this, "brit");
      this.vx.push(new ar([12, 2],-150,150,""));
      this.vx.push(new ar([12, 3, 0],-100,100,""));
      this.vx.push(new eS([12, 3, 1]));
      this.Yw()
  }
  ;
  t.brit.prototype = new t;
  t.brit.prototype.bQ = function(n, z) {
      z[0] = n.Brgh ? n.Brgh.v : 0;
      z[1] = n.Cntr ? n.Cntr.v : 0;
      z[2] = n.useLegacy ? n.useLegacy.v : !1
  }
  ;
  t.brit.prototype.iT = function(n, z) {
      n.Brgh.v = z[0];
      n.Cntr.v = z[1];
      n.useLegacy.v = z[2]
  }
  ;
  t.curv = function() {
      t.call(this);
      this.value = null;
      this.BQ = null;
      var n = this.j;
      this.wY = new fR([12, 4],["RGB", [13, 1, 1], [13, 1, 4], [13, 1, 5]]);
      this.wY.s(l.E.L, this.yH, this);
      n.appendChild(this.wY.j);
      this.zM = new fR(null,["Spline", "Sketch"]);
      this.zM.s(l.E.L, this.alI, this);
      n.appendChild(this.zM.j);
      this.cn = new ed;
      this.cn.s(l.E.L, this.yK, this);
      n.appendChild(this.cn.j);
      this.yf = null;
      this.ahw = 0;
      this.px = 0;
      this.ml = new h$("Sample from image",["-\u2195", "#000000", "#888888", "#ffffff"]);
      n.appendChild(this.ml.j)
  }
  ;
  t.curv.prototype = new t;
  t.curv.prototype.B = function() {
      this.wY.B()
  }
  ;
  t.curv.prototype.alI = function(n) {
      var z = cN.sV(this.value, 0)
        , C = z.length == 256 ? 1 : 0
        , D = this.zM.u();
      if (C == D)
          return;
      var F = fd.zP("curv");
      if (D == 1) {
          var X = [];
          for (var M = 0; M < 256; M++)
              X.push(M);
          cN.xw(F, 0, X)
      }
      this.m(F);
      this.a8()
  }
  ;
  t.curv.prototype.yK = function() {
      cN.xw(this.value, this.wY.u(), this.cn.u());
      this.a8()
  }
  ;
  t.curv.prototype.yH = function() {
      var n = this.wY.u()
        , z = cN.sV(this.value, n)
        , C = z.length == 256 ? 1 : 0;
      this.zM.m(C);
      if (this.BQ)
          this.cn.u7(this.BQ[n], this.BQ[4] * [1, .33, .33, .33][n], ["#ccc", "#fcc", "#cfc", "#ccf"][n]);
      this.cn.m(z)
  }
  ;
  t.curv.prototype.qI = function() {
      return !0
  }
  ;
  t.curv.prototype.mY = function(n, z, C, D, F) {
      var X = this.value;
      this.value = fd.zP("curv");
      this.a8();
      var E = O.zu.tM(n, F, 1)
        , f = this.yf = [E >>> 16 & 255, E >>> 8 & 255, E & 255];
      this.ahw = F.y;
      if (this.ml.u() == 0) {
          var a = (f[0] + f[1] + f[2]) / 3
            , q = this.wY.u()
            , c = cN.sV(X, q)
            , K = q == 0 ? a : f[q - 1]
            , R = -1;
          for (var M = 0; M < c.length; M++)
              if (c[M].v.Hrzn.v == K)
                  R = M;
          if (R == -1) {
              var J = JSON.parse(JSON.stringify(c[0]));
              J.v.Hrzn.v = K;
              J.v.Vrtc.v = K;
              c.push(J);
              c.sort(function(w, p) {
                  return w.v.Hrzn.v - p.v.Hrzn.v
              });
              cN.xw(X, q, c);
              this.px = c.indexOf(J)
          } else
              this.px = R
      }
      this.m(X);
      this.a8()
  }
  ;
  t.curv.prototype.Xl = function(n, z, C, D, F) {
      if (this.yf == null)
          return;
      if (this.ml.u() == 0) {
          var X = this.value
            , E = this.wY.u()
            , f = cN.sV(X, E)
            , a = f[this.px];
          a.v.Vrtc.v = Math.max(0, Math.min(255, Math.round(a.v.Hrzn.v + (this.ahw - F.y))));
          cN.xw(X, E, f);
          this.m(X);
          this.a8()
      }
  }
  ;
  t.curv.prototype.yg = function(n, z, C, D, F) {
      var X = this.value
        , E = this.yf
        , f = (E[0] + E[1] + E[2]) / 3
        , a = this.ml.u() - 1;
      if (a == -1) {} else
          for (var M = 0; M < 3; M++) {
              var q = cN.sV(X, 1 + M);
              if (a == 0)
                  q[0].v.Hrzn.v = E[M];
              if (a == 1) {
                  var c = Math.log(E[M] / 255) / Math.log(f / 255)
                    , K = Math.min(999, Math.max(10, Math.round(100 * c)));
                  if (q.length == 2)
                      q.splice(1, 0, JSON.parse(JSON.stringify(q[0])));
                  q[1].v.Hrzn.v = 127 - Math.log(K / 100) * 127;
                  q[1].v.Vrtc.v = 127
              }
              if (a == 2)
                  q[q.length - 1].v.Hrzn.v = E[M];
              cN.xw(X, 1 + M, q)
          }
      this.m(X);
      this.a8();
      this.yf = null
  }
  ;
  t.curv.prototype.m = function(n) {
      this.value = n;
      this.yH()
  }
  ;
  t.curv.prototype.u7 = function(n) {
      this.BQ = n;
      this.yH()
  }
  ;
  t.curv.prototype.u = function(n) {
      return JSON.parse(JSON.stringify(this.value))
  }
  ;
  t.expA = function() {
      t.call(this, "expA");
      this.vx.push(new ar([12, 5],-20,20,null,3));
      this.vx.push(new ar([12, 6],-.5,.5,null,3));
      this.vx.push(new ar([12, 7],.01,6.99,null,3));
      this.Yw()
  }
  ;
  t.expA.prototype = new t;
  t.expA.prototype.bQ = function(n, z) {
      z[0] = n.Exps.v;
      z[1] = n.Ofst.v;
      z[2] = n.gammaCorrection.v
  }
  ;
  t.expA.prototype.iT = function(n, z) {
      n.Exps.v = z[0];
      n.Ofst.v = z[1];
      n.gammaCorrection.v = z[2]
  }
  ;
  t.grdm = function() {
      t.call(this, "grdm");
      this.vx.push(new hy(!0,null,!0));
      this.vx.push(new eS([12, 23, 0]));
      this.Yw()
  }
  ;
  t.grdm.prototype = new t;
  t.grdm.prototype.bQ = function(n, z) {
      z[0] = n.Grad.v;
      z[1] = n.Rvrs ? n.Rvrs.v : !1
  }
  ;
  t.grdm.prototype.iT = function(n, z) {
      n.Grad.v = z[0];
      n.Rvrs = {
          t: "bool",
          v: z[1]
      }
  }
  ;
  t.grdm.prototype.vi = function(n, z) {
      this.vx[0].fF(n.Du, n.ff);
      if (z == c1.Ui || z == c1.yi || z == c1.ax)
          this.vx[0].fY(n.Gt)
  }
  ;
  t.selc = function() {
      t.call(this);
      var n = this.j;
      this.ML = [];
      this.Lw = null;
      this.Ux = new fR([12, 82],ad.Tp.concat([[13, 1, 8], [13, 1, 13], [13, 1, 10]]));
      this.Ux.s(l.E.L, this.yB, this);
      n.appendChild(this.Ux.j);
      for (var M = 0; M < 4; M++) {
          var z = new ar(ad.aly[M],-100,100,"%");
          z.s(l.E.L, this.yB, this);
          this.ML.push(z);
          n.appendChild(z.j)
      }
      this.XZ = new eS([13, 3]);
      n.appendChild(this.XZ.j);
      this.XZ.s(l.E.L, this.yB, this)
  }
  ;
  t.selc.prototype = new t;
  t.selc.prototype.B = function() {
      this.Ux.B();
      this.XZ.B();
      for (var M = 0; M < 4; M++)
          this.ML[M].B()
  }
  ;
  t.selc.prototype.m = function(n) {
      this.Lw = JSON.parse(JSON.stringify(n));
      this.mt()
  }
  ;
  t.selc.prototype.u = function(n) {
      return JSON.parse(JSON.stringify(this.Lw))
  }
  ;
  t.selc.prototype.yB = function(n) {
      if (n.target != this.Ux) {
          var z = this.Lw
            , C = [];
          for (var M = 0; M < 4; M++)
              C[M] = this.ML[M].u();
          ch.xw(z, this.Ux.u(), C);
          z.Mthd = {
              t: "enum",
              v: {
                  CrcM: this.XZ.u() ? "Absl" : "Rltv"
              }
          }
      }
      this.mt();
      this.a8()
  }
  ;
  t.selc.prototype.mt = function() {
      var n = this.Lw
        , z = ch.sV(n, this.Ux.u());
      for (var M = 0; M < 4; M++)
          this.ML[M].m(z[M]);
      this.XZ.m(n.Mthd ? n.Mthd.v.CrcM == "Absl" : !1)
  }
  ;
  t.blwh = function() {
      t.call(this, "blwh");
      this.vx.push(new eS([12, 11]));
      this.vx.push(new e$(!0));
      for (var M = 0; M < 6; M++)
          this.vx.push(new ar(ad.Tp[M],-200,300));
      this.Yw()
  }
  ;
  t.blwh.prototype = new t;
  t.blwh.prototype.bQ = function(n, z) {
      z[0] = n.useTint.v;
      z[1] = n.tintColor.v;
      var C = "Rd Yllw Grn Cyn Bl Mgnt".split(" ");
      for (var M = 0; M < 6; M++)
          z[2 + M] = n[C[M]].v
  }
  ;
  t.blwh.prototype.iT = function(n, z) {
      n.useTint.v = z[0];
      n.tintColor.v = z[1];
      var C = "Rd Yllw Grn Cyn Bl Mgnt".split(" ");
      for (var M = 0; M < 6; M++)
          n[C[M]].v = z[2 + M]
  }
  ;
  t.hue2 = function() {
      t.call(this);
      this.value = null;
      this.V1 = null;
      this.a2S = null;
      var n = this.j;
      this.Ux = new fR([12, 12],["Master"].concat(ad.Tp));
      this.Ux.s(l.E.L, this.yH, this);
      n.appendChild(this.Ux.j);
      this.B1 = new ar([12, 8],-180,180);
      this.B1.s(l.E.L, this.DD, this);
      n.appendChild(this.B1.j);
      this.HC = new ar([12, 9],-100,100);
      this.HC.s(l.E.L, this.DD, this);
      n.appendChild(this.HC.j);
      this.Pd = new ar([12, 10],-100,100);
      this.Pd.s(l.E.L, this.DD, this);
      n.appendChild(this.Pd.j);
      this.ZS = new eS([12, 11]);
      this.ZS.s(l.E.L, this.aj8, this);
      n.appendChild(this.ZS.j);
      this.aok = new be("...",!0);
      n.appendChild(this.aok.j)
  }
  ;
  t.hue2.prototype = new t;
  t.hue2.prototype.B = function() {
      this.B1.B();
      this.HC.B();
      this.Pd.B();
      this.ZS.B();
      this.Ux.B()
  }
  ;
  t.hue2.prototype.aj8 = function(n) {
      var z = this.ZS.u();
      this.value.Clrz.v = z;
      if (z)
          this.Ux.m(0);
      this.yH();
      this.a8()
  }
  ;
  t.hue2.prototype.DD = function(n) {
      var z = this.value.Clrz.v
        , C = this.Ux.u()
        , D = f5.sV(this.value, C)
        , F = C == 0 ? D : D.gP;
      F[0] = this.B1.u();
      var X = this.HC.u();
      F[1] = z ? Math.max(0, X) : X;
      F[2] = this.Pd.u();
      f5.xw(this.value, C, D);
      this.yH();
      this.a8()
  }
  ;
  t.hue2.prototype.yH = function() {
      var n = this.value.Clrz ? this.value.Clrz.v : !1
        , F = "";
      this.ZS.m(n);
      if (n)
          this.Ux.NN();
      else
          this.Ux.Tl();
      var z = this.Ux.u()
        , C = f5.sV(this.value, z)
        , D = z == 0 ? C : C.gP;
      this.B1.m(D[0]);
      this.HC.m(D[1]);
      this.Pd.m(D[2]);
      if (!n) {
          F += aC.get([5, 8]) + ": ";
          var z = this.Ux.u();
          if (z == 0)
              F += aC.get([13, 2]);
          else
              F += C.MJ
      }
      this.aok.m(F)
  }
  ;
  t.hue2.prototype.qI = function() {
      return !0
  }
  ;
  t.hue2.prototype.mY = function(n, z, C, D, F) {
      var X = this.value;
      this.value = fd.zP("hue2");
      this.a8();
      var E = O.zu.tM(n, F, 1)
        , f = [E >>> 16 & 255, E >>> 8 & 255, E & 255]
        , a = j.GV(f[0] / 255, f[1] / 255, f[2] / 255);
      this.Ux.m(1 + Math.round(a.ua * 6) % 6);
      this.m(X);
      this.a8();
      this.V1 = F.x;
      this.a2S = this.HC.u()
  }
  ;
  t.hue2.prototype.Xl = function(n, z, C, D, F) {
      if (this.V1 != null) {
          var X = F.x - this.V1;
          X = Math.max(-100, Math.min(100, this.a2S + .5 * X));
          this.HC.m(X);
          this.DD()
      }
  }
  ;
  t.hue2.prototype.yg = function(n, z, C, D, F) {
      this.V1 = null
  }
  ;
  t.hue2.prototype.m = function(n) {
      this.value = JSON.parse(JSON.stringify(n));
      this.yH()
  }
  ;
  t.hue2.prototype.u = function(n) {
      return JSON.parse(JSON.stringify(this.value))
  }
  ;
  t.levl = function() {
      t.call(this);
      this.value = null;
      this.BQ = null;
      this.Ef = [new ir(0,0), new ir(0,0), new ir(0,0), new ir(0,0), new ir(0,0)];
      this.ru = -1;
      this.Ev = this.qb.bind(this);
      this.Mt = this.NT.bind(this);
      var n = this.j;
      this.wY = new fR([12, 4],["RGB", [13, 1, 1], [13, 1, 4], [13, 1, 5]]);
      this.wY.s(l.E.L, this.yH, this);
      n.appendChild(this.wY.j);
      var z = l.w("div", "");
      n.appendChild(z);
      var C = l.w("div", "");
      n.appendChild(C);
      this.Ak = l.w("canvas");
      z.appendChild(this.Ak);
      this.zx = this.Ak.getContext("2d");
      this.kK = new ir(256,120);
      this.Ak.setAttribute("style", "display:block");
      l.Hb(this.Ak, this.kK.x, this.kK.y, this.zx);
      l.g8(this.Ak);
      l.Vb(this.Ak, this.uz.bind(this));
      this.lz = l.w("canvas", "");
      C.appendChild(this.lz);
      this.al = this.lz.getContext("2d");
      this.pv = new ir(this.kK.x,40);
      this.lz.setAttribute("style", "display:block");
      l.Hb(this.lz, this.pv.x, this.pv.y, this.al);
      l.g8(this.lz);
      l.Vb(this.lz, this.aoH.bind(this));
      var D = this.a9d = [];
      for (var M = 0; M < 5; M++) {
          var F = new ik(null,null,3);
          D.push(F);
          F.s(l.E.L, this.aku, this);
          (M < 2 || M == 4 ? z : C).appendChild(F.j)
      }
      z.appendChild(D[1].j);
      D[4].j.setAttribute("style", "margin: 0 4.7em");
      D[3].j.setAttribute("style", "margin:0 0 0 13em");
      this.ml = new h$("Sample from image",["#000000", "#888888", "#ffffff"]);
      n.appendChild(this.ml.j)
  }
  ;
  t.levl.prototype = new t;
  t.levl.prototype.B = function() {
      this.wY.B()
  }
  ;
  t.levl.prototype.aku = function(n) {
      var z = [];
      for (var M = 0; M < 5; M++) {
          var C = 255
            , D = 1;
          if (M == 4) {
              C = 999;
              D = 100
          }
          var F = parseFloat(this.a9d[M].u());
          z[M] = Math.max(0, Math.min(C, F * D))
      }
      eJ.xw(this.value, this.wY.u(), z);
      this.yH();
      this.a8()
  }
  ;
  t.levl.prototype.yH = function(n) {
      var z = this.kK.x
        , C = this.kK.y
        , D = this.wY.u()
        , F = this.zx;
      F.clearRect(0, 0, z, C);
      F.fillStyle = "#cccccc";
      F.fillRect(8, 8, z - 16, C - 16 - 8);
      if (this.BQ) {
          if (D == 0) {
              this.BQ[0].fill(0);
              var X = JSON.parse(JSON.stringify(this.value));
              eJ.xw(X, 0, [0, 255, 0, 255, 100]);
              var E = ad.bN("levl", X)
                , f = [E.PE, E.b9, E.Ga];
              for (var a = 0; a < 3; a++) {
                  var q = this.BQ[1 + a]
                    , c = f[a];
                  for (var M = 0; M < 256; M++)
                      this.BQ[0][c[M]] += q[M]
              }
          }
          var K = this.BQ[D]
            , R = 0;
          for (var M = 0; M < K.length; M++)
              R += K[M];
          F.fillStyle = "#333333";
          F.beginPath();
          F.moveTo(8, C - 16);
          for (var M = 0; M < 256; M++) {
              var J = 55 * K[M] / R;
              F.lineTo(8 + M / 256 * (z - 16), Math.max(8, C - 16 - C * J))
          }
          F.lineTo(z - 8, C - 16);
          F.closePath();
          F.fill()
      }
      var w = eJ.sV(this.value, D);
      for (var M = 0; M < 5; M++)
          this.a9d[M].m(w[M] / (M == 4 ? 100 : 1));
      this.Ef[0].oS(8 + w[0] / 255 * (z - 16), C - 14);
      this.Ef[1].oS(8 + w[1] / 255 * (z - 16), C - 14);
      var p = Math.log(w[4] / 100) / Math.log(9.99);
      p = .5 - p / 2;
      this.Ef[4].oS(this.Ef[0].x + p * (this.Ef[1].x - this.Ef[0].x), C - 14);
      this.p8(F, this.Ef[0], "#000000");
      this.p8(F, this.Ef[1], "#ffffff");
      this.p8(F, this.Ef[4], "#777777");
      var z = this.pv.x
        , C = this.pv.y;
      F = this.al;
      F.clearRect(0, 0, z, C);
      var I = F.createLinearGradient(0, 0, z - 16, 0);
      I.addColorStop(0, "black");
      I.addColorStop(1, "white");
      F.fillStyle = I;
      F.fillRect(8, 8, z - 16, 16);
      this.Ef[2].oS(8 + w[2] / 255 * (z - 16), C - 14);
      this.Ef[3].oS(8 + w[3] / 255 * (z - 16), C - 14);
      this.p8(F, this.Ef[2], "#000000");
      this.p8(F, this.Ef[3], "#ffffff")
  }
  ;
  t.levl.prototype.p8 = function(n, z, C) {
      n.fillStyle = C;
      n.fillRect(z.x - 5, z.y, 10, 10)
  }
  ;
  t.levl.prototype.uz = function(n) {
      var z = l.ao(n, this.Ak)
        , C = this.Tg([0, 1, 4], z);
      if (C != -1)
          this.ru = C;
      this.z3()
  }
  ;
  t.levl.prototype.aoH = function(n) {
      var z = l.ao(n, this.lz)
        , C = this.Tg([2, 3], z);
      if (C != -1)
          this.ru = C;
      this.z3()
  }
  ;
  t.levl.prototype.Tg = function(n, z) {
      var C = -1
        , D = 1e9;
      for (var M = 0; M < n.length; M++) {
          var F = Math.abs(this.Ef[n[M]].x - z.x);
          if (F < D) {
              D = F;
              C = n[M]
          }
      }
      return D < 16 ? C : -1
  }
  ;
  t.levl.prototype.z3 = function(n) {
      if (this.ru == -1)
          return;
      l.LR(document.body, this.Ev);
      l.g_(document.body, this.Mt)
  }
  ;
  t.levl.prototype.qb = function(n) {
      var z = eJ.sV(this.value, this.wY.u())
        , C = l.ao(n, this.ru == 2 && this.ru == 3 ? this.lz : this.Ak)
        , D = 255 * (C.x - 8) / (this.kK.x - 16);
      D = Math.max(0, Math.min(255, D));
      if (this.ru == 0)
          D = Math.min(D, z[1] - 2);
      if (this.ru == 1)
          D = Math.max(D, z[0] + 2);
      if (this.ru != 4)
          z[this.ru] = Math.round(D);
      else {
          var F = (D - z[0]) / (z[1] - z[0]);
          F = 1 - 2 * F;
          F = Math.pow(9.99, F);
          z[4] = Math.min(999, Math.max(10, Math.round(F * 100)))
      }
      eJ.xw(this.value, this.wY.u(), z);
      this.yH();
      this.a8()
  }
  ;
  t.levl.prototype.NT = function(n) {
      l.i$(document.body, this.Ev);
      l.YO(document.body, this.Mt);
      this.ru = -1
  }
  ;
  t.levl.prototype.qI = function() {
      return !0
  }
  ;
  t.levl.prototype.yg = function(n, z, C, D, F) {
      var X = this.value
        , E = this.ml.u();
      this.value = fd.zP("levl");
      this.a8();
      var f = O.zu.tM(n, F, 1)
        , a = [f >>> 16 & 255, f >>> 8 & 255, f & 255];
      for (var M = 0; M < 3; M++) {
          var q = eJ.sV(X, 1 + M);
          if (E == 0)
              q[0] = a[M];
          if (E == 1) {
              var c = Math.log(a[M] / 255) / Math.log((a[0] + a[1] + a[2]) * .333 / 255);
              q[4] = Math.min(999, Math.max(10, Math.round(100 * c)))
          }
          if (E == 2)
              q[1] = a[M];
          eJ.xw(X, 1 + M, q)
      }
      this.m(X);
      this.a8()
  }
  ;
  t.levl.prototype.m = function(n) {
      this.value = n;
      this.yH()
  }
  ;
  t.levl.prototype.u7 = function(n) {
      this.BQ = n;
      this.yH()
  }
  ;
  t.levl.prototype.u = function(n) {
      return JSON.parse(JSON.stringify(this.value))
  }
  ;
  t.phfl = function() {
      t.call(this, "phfl");
      this.vx.push(new e$);
      this.vx.push(new ar([12, 74],0,100,"%"));
      this.vx.push(new eS([13, 4]));
      this.Yw()
  }
  ;
  t.phfl.prototype = new t;
  t.phfl.prototype.bQ = function(n, z) {
      z[0] = n.Clr.v;
      z[1] = n.Dnst.v;
      z[2] = n.PrsL.v
  }
  ;
  t.phfl.prototype.iT = function(n, z) {
      var C = j._.Jo(z[0])
        , D = n.Clr.v
        , F = j.MU(C.h, C.Q, C.O);
      D.Lmnc.v = F.u4;
      D.A.v = F.nb;
      D.B.v = F.O;
      n.Dnst.v = z[1];
      n.PrsL.v = z[2]
  }
  ;
  t.vibA = function() {
      t.call(this, "vibA");
      this.vx.push(new ar([12, 13],-100,100,null));
      this.vx.push(new ar([12, 9],-100,100,null));
      this.Yw()
  }
  ;
  t.vibA.prototype = new t;
  t.vibA.prototype.bQ = function(n, z) {
      z[0] = n.vibrance ? n.vibrance.v : 0;
      z[1] = n.Strt ? n.Strt.v : 0
  }
  ;
  t.vibA.prototype.iT = function(n, z) {
      n.vibrance.v = z[0];
      n.Strt.v = z[1]
  }
  ;
  t.thrs = function() {
      t.call(this, "thrs");
      this.vx.push(new ar([4, 13],1,255,null));
      this.Yw()
  }
  ;
  t.thrs.prototype = new t;
  t.thrs.prototype.bQ = function(n, z) {
      z[0] = n.Lvl.v
  }
  ;
  t.thrs.prototype.iT = function(n, z) {
      n.Lvl.v = z[0]
  }
  ;
  t.mixr = function() {
      t.call(this);
      var n = this.j;
      this.ML = [];
      this.Lw = null;
      this.Ux = new fR([12, 4],[[13, 1, 1], [13, 1, 4], [13, 1, 5]]);
      this.Ux.s(l.E.L, this.yB, this);
      n.appendChild(this.Ux.j);
      l.jn(n);
      this.sv = new eS([12, 60]);
      n.appendChild(this.sv.j);
      this.sv.s(l.E.L, this.yB, this);
      for (var M = 0; M < 4; M++) {
          var z = new ar([[13, 1, 1], [13, 1, 4], [13, 1, 5], [13, 2]][M],-200,200,"%");
          z.s(l.E.L, this.yB, this);
          this.ML.push(z);
          n.appendChild(z.j)
      }
  }
  ;
  t.mixr.prototype = new t;
  t.mixr.prototype.B = function() {
      this.Ux.B();
      this.sv.B();
      for (var M = 0; M < 4; M++)
          this.ML[M].B()
  }
  ;
  t.mixr.prototype.m = function(n) {
      this.Lw = JSON.parse(JSON.stringify(n));
      this.mt()
  }
  ;
  t.mixr.prototype.u = function(n) {
      return JSON.parse(JSON.stringify(this.Lw))
  }
  ;
  t.mixr.prototype.yB = function(n) {
      if (n.target != this.Ux) {
          var z = ad.DL(this.Lw);
          if (n.target == this.sv) {
              z.sv = this.sv.u();
              if (z.sv)
                  z.G = [40, 40, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
              else
                  z.G = [100, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0]
          } else {
              var C = (z.sv ? 0 : this.Ux.u()) * 5
                , M = this.ML.indexOf(n.target);
              z.G[C + (M < 3 ? M : 4)] = n.target.u()
          }
          this.Lw = ad.sD(z)
      }
      this.mt();
      this.a8()
  }
  ;
  t.mixr.prototype.mt = function() {
      var n = ad.DL(this.Lw);
      this.sv.m(n.sv);
      var z = (n.sv ? 0 : this.Ux.u()) * 5;
      for (var M = 0; M < 4; M++)
          this.ML[M].m(n.G[z + (M < 3 ? M : 4)])
  }
  ;
  t.post = function() {
      t.call(this, "post");
      this.vx.push(new ar([4, 1],2,255,null));
      this.Yw()
  }
  ;
  t.post.prototype = new t;
  t.post.prototype.bQ = function(n, z) {
      z[0] = n.Lvls.v
  }
  ;
  t.post.prototype.iT = function(n, z) {
      n.Lvls.v = z[0]
  }
  ;
  t.clrL = function() {
      t.call(this, "clrL");
      this.vx.push(new iG("LUTs"));
      this.Yw()
  }
  ;
  t.clrL.prototype = new t;
  t.clrL.prototype.bQ = function(n, z) {
      z[0] = n
  }
  ;
  t.clrL.prototype.iT = function(n, z) {
      var C = z[0];
      for (var D in C)
          n[D] = C[D]
  }
  ;
  t.clrL.prototype.vi = function(n, z) {
      if (z == c1.Ui || z == c1.C2)
          this.vx[0].fY(n.a5m)
  }
  ;
  t.rplc = function() {
      t.call(this, "rplc");
      this.vx.push(new ar([12, 92],0,200));
      this.vx.push(new e$);
      this.vx.push(new ar([12, 8],-180,180));
      this.vx.push(new ar([12, 9],-100,100));
      this.vx.push(new ar([12, 10],-100,100));
      this.Yw()
  }
  ;
  t.rplc.prototype = new t;
  t.rplc.prototype.bQ = function(n, z) {
      z[0] = n.Fzns.v;
      z[1] = n.Mxm.v;
      z[2] = n.H.v;
      z[3] = n.Strt.v;
      z[4] = n.Lght.v
  }
  ;
  t.rplc.prototype.iT = function(n, z) {
      function C(F, X) {
          X.Lmnc.v = F.u4;
          X.A.v = F.nb;
          X.B.v = F.O
      }
      n.Fzns.v = z[0];
      n.H.v = z[2];
      n.Strt.v = z[3];
      n.Lght.v = z[4];
      var D = j._.Jo(z[1])
        , F = j.MU(D.h, D.Q, D.O);
      C(F, n.Mnm.v);
      C(F, n.Mxm.v)
  }
  ;
  t.fade = function() {
      t.call(this, "fade");
      this.vx.push(new ar([12, 0],0,100,"%"));
      this.vx.push(new fR([12, 19, 0],hr.K6,!1,hr.a4));
      this.Yw()
  }
  ;
  t.fade.prototype = new t;
  t.fade.prototype.bQ = function(n, z) {
      z[0] = n.Opct.v.val;
      z[1] = hr.SV.indexOf(n.Md.v.BlnM)
  }
  ;
  t.fade.prototype.iT = function(n, z) {
      n.Opct.v.val = z[0];
      n.Md.v.BlnM = hr.SV[z[1]]
  }
  ;
  t.aply = function() {
      t.call(this, "aply");
      this.vx.push(new fR([0, 3],[]));
      this.vx.push(new fR([12, 4],["RGB"].concat(ad.Ps).concat(["Transparency"])));
      this.vx.push(new eS([4, 11]));
      this.vx.push(new fR([12, 19, 0],hr.K6,!1,hr.a4));
      this.vx.push(new ar([12, 0],0,100,"%"));
      this.vx.push(new eS("Preserve Transparency"));
      this.Yw([2]);
      this.Vq = null
  }
  ;
  t.aply.prototype = new t;
  t.aply.prototype.bQ = function(n, z, C) {
      if (C) {
          var D = C[2].W
            , F = this.Vq = [];
          for (var M = 0; M < D.length; M++)
              F.push(D[M].getName());
          F.reverse();
          this.vx[0].us([[5, 7]].concat(F), [1, F.length])
      } else
          var F = this.Vq;
      n = n.With.v;
      var X = n.T.v;
      z[0] = X[1].t == "name" ? 1 + F.indexOf(X[1].v.val) : 0;
      z[1] = ["RGB", "Rd", "Grn", "Bl", "Trsp"].indexOf(X[0].v.enum);
      z[2] = n.Invr.v;
      z[3] = hr.SV.indexOf(n.Clcl.v.Clcn);
      z[4] = n.Opct.v.val;
      z[5] = n.PrsT.v
  }
  ;
  t.aply.prototype.iT = function(n, z) {
      n = n.With.v;
      var C = n.T.v;
      if (z[0] == 0)
          C[1] = {
              t: "Enmr",
              v: {
                  classID: "Lyr",
                  typeID: "Ordn",
                  enum: "Mrgd"
              }
          };
      else
          C[1] = {
              t: "name",
              v: {
                  classID: "Lyr",
                  val: this.Vq[this.Vq.length - 1 - z[0]]
              }
          };
      C[0].v.enum = ["RGB", "Rd", "Grn", "Bl", "Trsp"][z[1]];
      n.Invr.v = z[2];
      n.Clcl.v.Clcn = hr.SV[z[3]];
      n.Opct.v.val = z[4];
      n.PrsT.v = z[5]
  }
  ;
  function da(n, z) {
      gN.call(this);
      if (n == null)
          return;
      this.id = z;
      this.GQ = n;
      this.kC = null;
      this.j = l.w("div", "window " + z);
      this.ahr = null;
      this.A5 = l.w("div", "whead");
      this.akX = l.w("span", "wname");
      this.A5.appendChild(this.akX);
      this.j.appendChild(this.A5);
      this.Qa = this.ap6.bind(this);
      this.NL = this.a3D.bind(this);
      this.oM = this.apn.bind(this);
      l.g8(this.A5);
      l.Vb(this.A5, this.Qa);
      this.JW = l.w("span", "cross");
      this.A5.appendChild(this.JW);
      da.prototype.B.call(this);
      l.g_(this.JW, this.DQ.bind(this));
      this.body = l.w("div", "body");
      this.j.appendChild(this.body)
  }
  da.prototype = new gN;
  da.prototype.TU = function() {
      return !1
  }
  ;
  da.prototype.qI = function() {
      return !1
  }
  ;
  da.prototype.B = function() {
      if (this.GQ == null)
          return;
      this.akX.textContent = aC.get(this.GQ);
      var n = PIMG.__cross == null ? "filter:invert(1);" : "";
      this.JW.setAttribute("style", "background-image:url(" + PIMG.cross + ");" + n)
  }
  ;
  da.prototype.mY = function(n, z, C, D, F) {}
  ;
  da.prototype.Nq = function(n, z, C, D, F) {}
  ;
  da.prototype.Xl = function(n, z, C, D, F) {}
  ;
  da.prototype.yg = function(n, z, C, D, F) {}
  ;
  da.prototype._V = function(n, z, C, D, F) {}
  ;
  da.prototype.iV = function(n, z, C, D) {
      if (D.r(dM.BK) && this.G8)
          this.G8();
      if (D.r(dM.BO)) {
          var F = new u(l.E.M);
          F.Wp = !0;
          O.TM.cv(D, F);
          if (F.data)
              z.f(F)
      }
  }
  ;
  da.prototype.Gs = function(n) {
      return !1
  }
  ;
  da.prototype.z_ = function(n, z) {
      return !0
  }
  ;
  da.prototype.vb = function(n, z, C, D) {}
  ;
  da.prototype.vi = function(n, z) {}
  ;
  da.prototype.JX = function(n, z) {
      return null
  }
  ;
  da.prototype.a5E = function(n) {
      return this.ahr
  }
  ;
  da.prototype.IP = function() {}
  ;
  da.prototype.close = function() {
      this.f(new u(l.E.qT))
  }
  ;
  da.prototype.ap6 = function(n) {
      this.kC = l.ao(n, this.j);
      l.LR(window, this.NL);
      l.g_(window, this.oM)
  }
  ;
  da.prototype.a3D = function(n) {
      var z = this.j.parentNode
        , C = l.ao(n, z)
        , D = Math.round(C.x - this.kC.x)
        , F = z.offsetTop + Math.max(0, Math.min(window.innerHeight - 36, Math.round(C.y - this.kC.y)));
      this.ahr = new ir(D,F);
      this.j.style.left = D + "px";
      this.j.style.top = F + "px"
  }
  ;
  da.prototype.apn = function(n) {
      l.i$(window, this.NL);
      l.YO(window, this.oM)
  }
  ;
  da.prototype.DQ = function(n) {
      this.f(new u("closebtn"));
      this.close()
  }
  ;
  function hQ() {
      da.call(this, [0, 13, 0], "account");
      this.PH = l.w("div", "form padded scrollable");
      this.PH.setAttribute("style", "max-width:48em;  max-height:33em;");
      this.body.appendChild(this.PH);
      this.D9 = [new hQ.bh, new hQ.e6(hQ.anj), new hQ.e6(hQ.afZ)];
      for (var M = 0; M < this.D9.length; M++)
          this.D9[M].parent = this;
      this.s("showpage", this.amv, this)
  }
  hQ.prototype = new da;
  hQ.prototype.amv = function(n) {
      l.M$(this.PH);
      this.PH.scrollTop = 0;
      this.PH.appendChild(this.D9[n.data.kB].j)
  }
  ;
  hQ.prototype.B = function() {
      da.prototype.B.call(this);
      for (var M = 0; M < this.D9.length; M++)
          this.D9[M].B()
  }
  ;
  hQ.prototype.vb = function(n, z, C) {
      l.M$(this.PH);
      var D = this.D9[0];
      this.PH.appendChild(D.j);
      D.vb();
      this.B()
  }
  ;
  hQ.prototype.vi = function(n, z) {
      this.vb(null, null, null)
  }
  ;
  hQ.bh = function() {
      gN.call(this);
      this.j = l.w("div");
      var n = this.j, z, C, D = "background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
      this.ZN = l.w("div");
      n.appendChild(this.ZN);
      this.lB = new gJ([0, 11],!1,null,!0);
      this.lB.j.setAttribute("style", "background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
      this.lB.s("click", this.KS, this);
      n.appendChild(this.lB.j);
      this.qr = new gJ([0, 13, 1],!1,null,!0);
      this.qr.s("click", this.ov, this);
      n.appendChild(this.qr.j);
      this.AX = new gJ("Business Terms",!1,null,!0);
      this.AX.s("click", this.a14, this);
      n.appendChild(this.AX.j);
      z = l.w("h2");
      z.innerHTML = "Account types";
      n.appendChild(z);
      C = l.w("table");
      C.innerHTML = "\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
      n.appendChild(C);
      var F = this.amn = [[9, 30, 1], [10, 90, 1], [40, 365, 1], [15, 30, 5], [30, 90, 5], [120, 365, 5], [50, 30, 20], [100, 90, 20], [400, 365, 20], [40, 30, 1e3], [80, 90, 1e3], [300, 365, 1e3], [100, 30, 5e3], [200, 90, 5e3], [700, 365, 5e3], [200, 30, 2e4], [400, 90, 2e4], [1400, 365, 2e4]];
      this.fX = [];
      for (var M = 0; M < F.length; M++)
          this.fX.push(new gJ("Buy: $" + F[M][0],!1,null,!0));
      for (var M = 0; M < this.fX.length; M++) {
          this.fX[M].j.setAttribute("style", D);
          this.fX[M].s("click", this.a7M, this)
      }
      z = l.w("h2");
      z.innerHTML = "Go Premium";
      n.appendChild(z);
      this.ls = new gJ("...",!0);
      this.ls.j.setAttribute("style", D);
      n.appendChild(this.ls.j);
      C = this.rV(3, ["Single user", this.fX[0], this.fX[1], this.fX[2], "Team of 5", this.fX[3], this.fX[4], this.fX[5], "Team of 20", this.fX[6], this.fX[7], this.fX[8]]);
      n.appendChild(C);
      this.ao2 = new eS("I accept",!0,"");
      n.appendChild(this.ao2.j);
      this.wE = new gJ([0, 13, 1],!1,null,!0);
      this.wE.s("click", this.ov, this);
      n.appendChild(this.wE.j);
      this.Wo = new gJ("I have a key",!1,null,!0);
      this.Wo.j.setAttribute("style", D + " margin-left:18.9em;");
      this.Wo.s("click", this.a7M, this);
      n.appendChild(this.Wo.j);
      z = l.w("h2");
      z.textContent = "Team Settings";
      n.appendChild(z);
      this.DB = new eS("Join a team");
      n.appendChild(this.DB.j);
      this.DB.s(l.E.L, this.Hi, this);
      this.Hs = new ik("Email of a leader",null,14);
      n.appendChild(this.Hs.j);
      l.jn(n);
      this.Yv = new eS("Start a team");
      n.appendChild(this.Yv.j);
      this.Yv.s(l.E.L, this.Hi, this);
      var X = new be("Emails of other members:");
      n.appendChild(X.j);
      l.jn(n);
      this.HD = l.w("textarea");
      this.HD.setAttribute("rows", 3);
      this.HD.setAttribute("cols", 70);
      this.HD.setAttribute("style", "display:block;tab-size:4;");
      n.appendChild(this.HD);
      var E = new gJ("Save Team Settings",!1,null,!0);
      n.appendChild(E.j);
      E.s("click", this.aop, this);
      var f = this.a2Y = new gJ("More about Teams",!1,null,!0);
      n.appendChild(f.j);
      f.s("click", this.q6, this);
      z = l.w("h2");
      z.innerHTML = "Distributor Account";
      n.appendChild(z);
      this.zp = new gJ("...",!0);
      this.zp.j.setAttribute("style", D);
      n.appendChild(this.zp.j);
      C = this.rV(3, ["1000 views/month", this.fX[9], this.fX[10], this.fX[11], "5000 views/month", this.fX[12], this.fX[13], this.fX[14], "20000 views/month", this.fX[15], this.fX[16], this.fX[17]]);
      n.appendChild(C);
      this.AK = new ik("Domain name (e.g. domain.com)",null,14);
      n.appendChild(this.AK.j);
      l.jn(n);
      var E = new gJ("Save Domain Settings",!1,null,!0);
      E.so();
      n.appendChild(E.j);
      E.s("click", this.akM, this);
      var f = new gJ("More about Distributors",!1,null,!0);
      n.appendChild(f.j);
      f.s("click", this.q6, this)
  }
  ;
  hQ.bh.prototype = new gN;
  hQ.bh.prototype.ov = function(n) {
      var z = new u("showpage",!0);
      z.data = {
          kB: 1
      };
      this.f(z)
  }
  ;
  hQ.bh.prototype.a14 = function(n) {
      var z = new u("showpage",!0);
      z.data = {
          kB: 2
      };
      this.f(z)
  }
  ;
  hQ.bh.prototype.B = function() {
      this.lB.Jt(a5.Zj() ? aC.get([0, 11]) : aC.get([0, 10]));
      this.wE.B();
      this.qr.B();
      this.AX.B()
  }
  ;
  hQ.bh.prototype.q6 = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.lL,
          link: "https://www.photopea.com/api/accounts#" + (n.target == this.a2Y ? "teams" : "distributors")
      };
      this.f(z)
  }
  ;
  hQ.bh.prototype.Hi = function(n) {
      var z = n.currentTarget == this.DB;
      this.DB.m(z);
      this.Yv.m(!z)
  }
  ;
  hQ.bh.prototype.aop = function(n) {
      var z = this.DB.u()
        , C = this.Hs.u().trim()
        , D = this.HD.value.trim();
      if (C.length > 60) {
          alert("Too long email address");
          return
      }
      if (D.length > 600) {
          alert("Too many team members");
          return
      }
      D = D.split(",").join(" ").trim();
      D = D.replace(/\s+/g, " ");
      if (D == "")
          D = [];
      else
          D = D.split(" ");
      var F = a5.fO();
      if (F == null)
          F = {};
      if (F.acc == null)
          F.acc = {};
      F.acc.team = {
          jin: z,
          ldr: C,
          mmb: D
      };
      a5.dZ(F, this.wm.bind(this));
      alert("Saved!");
      this.vb()
  }
  ;
  hQ.bh.prototype.akM = function(n) {
      var z = this.AK.u().trim();
      if (!a5.Zj()) {
          alert("You have to log in first.");
          return
      }
      if (a5.Ko().distrib == "0") {
          alert("Order a distributor account first.");
          return
      }
      var C = a5.fO();
      if (C == null)
          C = {};
      if (C.acc == null)
          C.acc = {};
      if (z == "")
          delete C.acc.dname;
      else
          C.acc.dname = z;
      a5.dZ(C, this.wm.bind(this));
      alert("Saved!");
      this.vb()
  }
  ;
  hQ.bh.prototype.vb = function() {
      if (a5.Zj()) {
          var n = a5.Ko();
          if (n == null)
              return;
          this.ZN.innerHTML = "<span style=\"font-size:1.5em; margin-right:0.7em;\">" + n.name + "</span> " + n.email + " <br/>"
      } else
          this.ZN.innerHTML = "Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
      var z = a5.Zj() && a5.Mx();
      this.ls.j.style.display = z ? "block" : "none";
      if (z) {
          var C = parseInt(n[l.WM("!&|'&50")]) - Date.now() * (1 / 1e3), D = parseInt(n.ptype), F;
          if (D == -1)
              F = "member of a team";
          else if (D == 1)
              F = "Single user";
          else
              F = "Team of " + D;
          this.ls.Jt("Premium active for " + Math.round(C / (60 * 60 * 24)) + " more days! (" + F + ")")
      }
      var X = a5.Zj() && n.distrib * 1e3 > Date.now();
      this.zp.j.style.display = X ? "block" : "none";
      if (X) {
          var C = parseInt(n.distrib) - Date.now() / 1e3
            , D = parseInt(n.ptype);
          this.zp.Jt("Distributor active for " + Math.round(C / (60 * 60 * 24)) + " more days! (" + D + " visitos)")
      }
      var E = a5.fO();
      if (E && E.acc && E.acc.team) {
          var f = E.acc.team;
          this.DB.m(f.jin);
          this.Yv.m(!f.jin);
          this.Hs.m(f.ldr);
          this.HD.value = f.mmb.join(", ")
      } else {
          this.DB.m(!0);
          this.Yv.m(!1);
          this.Hs.m("");
          this.HD.value = ""
      }
      if (E && E.acc && E.acc.dname)
          this.AK.m(E.acc.dname);
      else
          this.AK.m("")
  }
  ;
  hQ.bh.prototype.rV = function(n, z) {
      var C = l.w("table");
      C.innerHTML = "\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> " + (n == 3 ? "<th>365 days</th>" : "") + " </tr>\t\t\t\t</table>\t\t\t";
      for (var M = 0; M < z.length; M += n + 1) {
          var D = l.w("tr"), F;
          C.appendChild(D);
          F = l.w("td", "left");
          D.appendChild(F);
          F.innerHTML = "<b>" + z[M] + "</b>";
          for (var X = 0; X < n; X++) {
              F = l.w("td");
              D.appendChild(F);
              F.appendChild(z[M + 1 + X].j)
          }
      }
      return C
  }
  ;
  hQ.bh.prototype.a7M = function(n) {
      var z = this.fX.indexOf(n.currentTarget)
        , D = 30
        , F = 1;
      if (!a5.Zj()) {
          alert("You must log in before buying Premium");
          return
      }
      if (this.ao2.u() == !1 && z < 9) {
          alert("You must accept Terms of Service");
          return
      }
      var C = a5.Zj() && a5.Mx();
      if (z != -1) {
          var X = this.amn[z];
          D = X[1];
          F = X[2]
      }
      if (C && F < 1e3) {
          alert("You already have premium.");
          return
      }
      if (z == -1) {
          var E = prompt("Please enter your key");
          if (E != null) {
              a5.a0j(E, this.wm.bind(this));
              this.f2()
          }
          return
      }
      if (D == 30 && F == 1) {
          var f = confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
          if (!f)
              return
      }
      a5.order(D, F, this.wm.bind(this));
      this.f2()
  }
  ;
  hQ.bh.prototype.wm = function(n) {
      if (a5.Zj() && a5.Ko().msg)
          alert(a5.Ko().msg);
      this.vb();
      this.f2()
  }
  ;
  hQ.bh.prototype.KS = function(n) {
      if (a5.Zj()) {
          a5.acW();
          this.f2();
          this.vb(null, null, null)
      } else
          a5.KS(this.ai1.bind(this))
  }
  ;
  hQ.bh.prototype.ai1 = function() {
      var n = new u(l.E.P,!0);
      n.data = {
          e: l.H.amm
      };
      this.f(n)
  }
  ;
  hQ.bh.prototype.f2 = function() {
      var n = new u(l.E.P,!0);
      n.data = {
          e: l.H.N$
      };
      this.f(n)
  }
  ;
  hQ.e6 = function(n) {
      gN.call(this);
      this.j = l.w("div");
      var z = this.j
        , C = this.adA = new gJ([0, 13, 2],!1,null,!0);
      C.s("click", this.anf, this);
      z.appendChild(C.j);
      var D = l.w("div");
      D.innerHTML = n;
      z.appendChild(D)
  }
  ;
  hQ.e6.prototype = new gN;
  hQ.e6.prototype.anf = function(n) {
      var z = new u("showpage",!0);
      z.data = {
          kB: 0
      };
      this.f(z)
  }
  ;
  hQ.e6.prototype.B = function() {
      this.adA.B()
  }
  ;
  hQ.afZ = "\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
  hQ.anj = "\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
  function iQ() {
      da.call(this, [11, 14], "addguides");
      this.B2;
      this.VJ = {
          mw: {
              Ya: 0
          }
      };
      this.kg = null;
      var n = l.w("div", "form");
      this.body.appendChild(n);
      this.Jc = new ik([22, 4, 0],null,16);
      this.Jc.s(l.E.L, this.tn, this);
      this.Ic = new ik([22, 4, 1],null,16);
      this.Ic.s(l.E.L, this.tn, this);
      this.nz = new fR(null,j.ST.lG);
      this.nz.s(l.E.L, this.tn, this);
      n.appendChild(this.Jc.j);
      n.appendChild(this.nz.j);
      l.jn(n);
      n.appendChild(this.Ic.j);
      this.K0 = new gJ("OK",!0,null,!0);
      this.K0.s("click", this.G8, this);
      n.appendChild(this.K0.j);
      this.s("closebtn", this.abK, this)
  }
  iQ.prototype = new da;
  iQ.prototype.z_ = function(n, z) {
      return n != null
  }
  ;
  iQ.prototype.TU = function() {
      return !0
  }
  ;
  iQ.prototype.B = function() {
      da.prototype.B.call(this);
      this.Jc.B();
      this.Ic.B();
      this.nz.B()
  }
  ;
  iQ.prototype.vi = function(n, z) {
      var C = n.mw.Ya;
      this.VJ.mw.Ya = C;
      this.nz.m(C)
  }
  ;
  iQ.prototype.vb = function(n, z) {
      this.B2 = n;
      this.kg = JSON.stringify(n.gS());
      this.O1()
  }
  ;
  iQ.prototype.O1 = function() {
      var n = this.B2
        , z = n.Ea
        , C = function(D, F, n, X, E) {
          var f = [];
          for (var M = 0; M < D.length; M++)
              if (D[M][0] == F)
                  f.push(j.ST.aN(D[M][1], n.$M, X, E));
          return f.join(", ")
      };
      this.Jc.m(C(z, 0, n, this.VJ, n.d));
      this.Ic.m(C(z, 1, n, this.VJ, n.v))
  }
  ;
  iQ.prototype.tn = function(n) {
      if (n && n.currentTarget == this.nz)
          this.VJ.mw.Ya = this.nz.u();
      else {
          var z = this.a8$()
            , C = this.B2;
          C.la(z);
          C.QV = !0
      }
      this.O1()
  }
  ;
  iQ.prototype.a8$ = function() {
      var n = []
        , z = [];
      for (var C = 0; C < 2; C++) {
          var D = C == 0 ? this.Jc : this.Ic
            , F = C == 0 ? this.B2.d : this.B2.v
            , X = D.u().replace(/,/g, " ").replace(/  +/g, " ").trim()
            , E = X == "" ? [] : X.split(" ");
          for (var M = 0; M < E.length; M++) {
              n.push([C, j.ST.a0i(E[M], this.B2.$M, this.VJ, F)]);
              z.push(-1)
          }
      }
      return [n, z]
  }
  ;
  iQ.prototype.abK = function(n) {
      var z = this.B2;
      z.la(JSON.parse(this.kg));
      z.QV = !0;
      this.B2 = null
  }
  ;
  iQ.prototype.G8 = function(n) {
      this.tn(n);
      var z = new u(l.E.M,!0);
      z.F = O.GR;
      z.data = {
          e: "gids",
          Mz: JSON.parse(this.kg),
          By: this.B2.gS()
      };
      this.B2 = null;
      this.close();
      this.f(z)
  }
  ;
  function at(n) {
      var z = fd.names[n];
      if (z == null)
          z = ad.names[n];
      if (n == "aply")
          z = "Apply Image";
      if (n == "fade")
          z = [2, 11];
      if (n == "blendOptions")
          z = [14, 10];
      da.call(this, z, "afw_" + n);
      this.Pw = n;
      this.LS = null;
      this.ka = null;
      this.cn = new t[n];
      this.cn.s(l.E.L, this.a8, this);
      this.cn.parent = this;
      this.body.appendChild(this.cn.j);
      this.rp = new eS([24, 18, 5]);
      this.rp.m(!0);
      this.rp.s(l.E.L, this.a8, this);
      this.he = new gJ("Reset",!0,null,!0);
      this.he.s("click", this.GK, this);
      this.K0 = new gJ("OK",!0,null,!0);
      this.K0.s("click", this.G8, this);
      if (this.Bs())
          this.cn.Nk(this.K0.j);
      else {
          l.G5(this.cn.j, "form");
          l.G5(this.body, "flexrow");
          this.cn.j.setAttribute("style", "width:24em");
          var C = l.w("div");
          this.body.appendChild(C);
          C.setAttribute("style", "width:8em; margin-left:1em; line-height:2.3em");
          C.appendChild(this.K0.j);
          C.appendChild(this.he.j);
          C.appendChild(this.rp.j)
      }
      this.s("closebtn", this.e$, this)
  }
  at.prototype = new da;
  at.prototype.TU = function() {
      return !0
  }
  ;
  at.prototype.Bs = function() {
      return this.cn != null && this.cn.FU()
  }
  ;
  at.prototype.JX = function() {
      return this.Bs() ? new ir(0,0) : da.prototype.JX()
  }
  ;
  at.prototype.qI = function() {
      return this.cn.qI()
  }
  ;
  at.prototype.mY = function(n, z, C, D, F) {
      this.cn.mY(n, z, C, D, F)
  }
  ;
  at.prototype.Xl = function(n, z, C, D, F) {
      this.cn.Xl(n, z, C, D, F)
  }
  ;
  at.prototype.yg = function(n, z, C, D, F) {
      this.cn.yg(n, z, C, D, F)
  }
  ;
  at.prototype.z_ = function(n, z) {
      if (this.Pw == "fade")
          return at.acj(n);
      return !0
  }
  ;
  at.prototype.GK = function(n) {
      this.cn.m(fd.zP(this.Pw));
      this.a8()
  }
  ;
  at.prototype.a8 = function(n) {
      this.sl({
          e: "edit",
          b2: this.cn.u(),
          RL: !this.rp.u()
      })
  }
  ;
  at.prototype.e$ = function(n) {
      this.sl({
          e: "cancel"
      })
  }
  ;
  at.prototype.G8 = function(n) {
      if (!this.rp.u()) {
          this.rp.m(!0);
          this.a8()
      }
      this.ka = this.cn.u();
      if (this.Bs())
          this.a8();
      this.sl({
          e: "confirm"
      });
      this.close()
  }
  ;
  at.prototype.B = function() {
      da.prototype.B.call(this);
      this.rp.B();
      if (this.cn)
          this.cn.B()
  }
  ;
  at.prototype.vi = function(n, z) {
      if (this.cn)
          this.cn.vi(n, z)
  }
  ;
  at.prototype.iV = function(n, z, C, D) {
      if (this.Bs())
          this.cn.iV(D);
      else
          da.prototype.iV.call(this, n, z, C, D)
  }
  ;
  at.prototype.vb = function(n, z, C, D) {
      this.LS = z.LS;
      var F = n.add.lnk2 ? n.add.lnk2 : [], X, E, f = new cc(0,0,n.d,n.v), a = n.W[n.C[0]], q = null;
      X = a.buffer;
      E = a.rect;
      if (this.Bs())
          q = n.Wc(n.C[0] - 1);
      var c = fd.zP(this.Pw)
        , K = [F, n.fD, n];
      if (z.LS == null) {
          this.cn.m(c, X, E, f, q, K);
          if (ad.names[this.Pw]) {
              if (D.r(dM.M2) && this.ka)
                  this.cn.m(this.ka);
              var R = e3.Py.getData(n)
                , J = j.BA(R[0].Q5);
              this.cn.u7(J)
          }
      } else {
          var w = !1
            , a = n.W[this.LS.b];
          if (a.ei()) {
              var p = a.yM(n);
              X = p.buffer;
              E = p.rect;
              var I = a.add.SoLd.filterFX.v.filterFXList.v;
              if (I[this.LS.index]) {
                  var m = I[this.LS.index].v;
                  this.cn.m(this.Pw == "blendOptions" ? m.blendOptions.v : m.Fltr.v, X, E, f, q, K);
                  this.cn.u7(j.BA(X));
                  w = !0
              }
          }
          if (!w) {
              this.cn.m(c, X, E, f, q, K);
              this.cn.u7(j.BA(X))
          }
      }
      if (!this.Bs())
          this.a8()
  }
  ;
  at.prototype.sl = function(n) {
      var z = new u(l.E.M,!0);
      n.Pw = this.Pw;
      n.LS = this.LS;
      z.data = n;
      z.F = fd.names[this.Pw] || this.LS ? O.VZ : O.y$;
      z.Wp = !0;
      this.f(z)
  }
  ;
  at.prototype.IP = function(n, z) {
      z = z - 26;
      n = n - 26;
      this.cn.IP(n, z)
  }
  ;
  at.acj = function(n) {
      if (n == null)
          return !1;
      var z = n.$B();
      if (z == null || !(z.data instanceof Array) || z.data.length != n.C.length)
          return !1;
      for (var M = 0; M < z.data.length; M++) {
          var C = z.data[M];
          if (C.b < 0 && n.fD[-1 - C.b])
              return !0;
          if (C.b == null || n.W[C.b] == null || n.W[C.b].kl != C.HT)
              return !1;
          if (n.C.indexOf(C.b) == -1)
              return !1
      }
      return !0
  }
  ;
  function a$() {
      da.call(this, [11, 0], "camera");
      this.data = null;
      this.W7 = new ir(1,1);
      this.a4S = [];
      var n = l.w("div", "form hbar");
      this.body.appendChild(n);
      this.agf = new fR(null,[]);
      this.Lb = new fR([21, 0],[[21, 2], [21, 1]]);
      n.appendChild(this.Lb.j);
      this.Sn = new fR(null,[]);
      this.Sn.s(l.E.L, this.alm, this);
      n.appendChild(this.Sn.j);
      this.B4 = new gJ([11, 0],!1,null,!0);
      this.B4.s("click", this.aa9, this);
      n.appendChild(this.B4.j);
      this.dk = new be("");
      n.appendChild(this.dk.j);
      this.stream = null;
      this.zs = l.w("video", "");
      this.zs.setAttribute("autoplay", "true");
      this.body.appendChild(this.zs);
      this.a5N = this.apb.bind(this);
      this.alX = this.akr.bind(this);
      this.a7A = this.agn.bind(this);
      this.s("closebtn", this.a4K, this)
  }
  a$.prototype = new da;
  a$.prototype.B = function() {
      da.prototype.B.call(this);
      this.Lb.B();
      this.B4.B();
      this.IP(this.ob, this.ua)
  }
  ;
  a$.prototype.Wc = function() {
      var n = this.zs.videoWidth
        , z = this.zs.videoHeight
        , C = l.w("canvas", "");
      C.width = n;
      C.height = z;
      var D = C.getContext("2d");
      D.drawImage(this.zs, 0, 0, n, z);
      var F = D.getImageData(0, 0, n, z);
      return {
          Pi: new cc(0,0,n,z),
          data: F.data.buffer
      }
  }
  ;
  a$.prototype.aa9 = function(n) {
      if (this.Lb.u() == 0)
          this.akb();
      else
          this.akK()
  }
  ;
  a$.prototype.akK = function() {
      var n = this.Wc()
        , z = {
          buffer: new Uint8Array(n.data),
          rect: n.Pi
      }
        , C = new u(l.E.M,!0);
      C.Wp = !0;
      C.F = O.$w;
      C.data = {
          e: Q.Pv,
          i4: z
      };
      this.f(C);
      alert(aC.get([21, 4]))
  }
  ;
  a$.prototype.akb = function() {
      var n = this.Wc()
        , z = fC.Wu("camera", [n])
        , C = new u(l.E.P,!0);
      C.data = {
          e: l.H.jt,
          JB: z
      };
      this.f(C);
      alert(aC.get([21, 5]))
  }
  ;
  a$.prototype.vb = function(n, z, C) {
      navigator.mediaDevices.enumerateDevices().then(this.a9P.bind(this))
  }
  ;
  a$.prototype.a9P = function(n) {
      var z = this.a4S = []
        , C = [];
      for (var M = 0; M < n.length; M++)
          if (n[M].kind == "videoinput") {
              z.push(n[M]);
              C.push("Camera " + z.length)
          }
      this.Sn.us(C);
      this.Sn.m(0);
      this.alm()
  }
  ;
  a$.prototype.alm = function(n) {
      this.a4K();
      var z = {
          video: {
              deviceId: this.a4S[this.Sn.u()].deviceId,
              width: {
                  ideal: 8e3
              },
              height: {
                  ideal: 8e3
              }
          }
      };
      if (navigator.mediaDevices.getUserMedia)
          navigator.mediaDevices.getUserMedia(z).then(this.a5N).catch(this.alX);
      else
          navigator.webkitGetUserMedia(z, this.a5N, this.alX)
  }
  ;
  a$.prototype.apb = function(n) {
      this.stream = n;
      this.zs.srcObject = n;
      this.zs.addEventListener("loadedmetadata", this.a7A, !1)
  }
  ;
  a$.prototype.agn = function(n) {
      this.zs.play();
      this.IP(this.ob, this.ua)
  }
  ;
  a$.prototype.JX = function(n, z) {
      return new ir(0,0)
  }
  ;
  a$.prototype.IP = function(n, z) {
      var C = this.zs.videoWidth
        , D = this.zs.videoHeight;
      this.dk.m(C + " x " + D + " px");
      this.dk.j.setAttribute("style", "position:absolute;  left:14px; bottom:10px; z-index:1;");
      this.W7.oS(C, D);
      this.ob = n;
      this.ua = z;
      var F = n - 28
        , X = z - 28 - 30
        , E = this.W7.x / this.W7.y;
      if (F / X > E)
          F = X * E;
      else
          X = F / E;
      this.zs.setAttribute("style", "display: block; width: " + Math.round(F) + "px; height:" + Math.round(X) + "px;")
  }
  ;
  a$.prototype.akr = function(n) {
      console.log("error", n);
      alert(aC.get([21, 6]));
      this.close()
  }
  ;
  a$.prototype.a4K = function(n) {
      if (this.stream != null) {
          var z = this.stream.getTracks();
          for (var M = 0; M < z.length; M++)
              z[M].stop();
          this.stream = null
      }
  }
  ;
  function eo() {
      da.call(this, [7, 8], "crange");
      this.B2 = null;
      this.LW = {
          u4: 73,
          nb: 4.45,
          O: 4
      };
      this.mj = {
          u4: 73,
          nb: 4.45,
          O: 4
      };
      var n = l.w("div", "form");
      n.setAttribute("style", "width:18em");
      this.body.appendChild(n);
      this.$E = new ar([12, 92],0,200);
      this.$E.m(40);
      this.$E.s(l.E.L, this.mt, this);
      n.appendChild(this.$E.j);
      this.sL = l.w("canvas");
      n.appendChild(this.sL);
      this.n_ = new b7([12, 36],[[18, 0], "\uFF0B", "\u2014"]);
      n.appendChild(this.n_.j);
      this.GI = new gJ("OK",!0,null,!0);
      this.GI.s("click", this.G8, this);
      this.body.appendChild(this.GI.j)
  }
  eo.prototype = new da;
  eo.prototype.z_ = function(n, z) {
      return n != null
  }
  ;
  eo.prototype.qI = function() {
      return !0
  }
  ;
  eo.prototype.TU = function() {
      return !0
  }
  ;
  eo.prototype.B = function() {
      da.prototype.B.call(this);
      this.$E.B();
      this.n_.B()
  }
  ;
  eo.prototype.mY = function(n, z, C, D, F) {
      var X = n.a.C$(F.x, F.y);
      this.a1E(X.x, X.y)
  }
  ;
  eo.prototype.a1E = function(n, z) {
      var C = Math.min
        , D = Math.max
        , F = this.B2
        , X = D(0, C(F.d - 1, Math.floor(n)))
        , E = D(0, C(F.v - 1, Math.floor(z)))
        , f = F.Wc()
        , a = (E * F.d + X) * 4
        , q = f[a]
        , c = f[a + 1]
        , K = f[a + 2]
        , R = j.MU(q, c, K)
        , J = this.n_.u()
        , w = this.LW
        , p = this.mj;
      if (J == 0) {
          this.LW = JSON.parse(JSON.stringify(R));
          this.mj = R
      } else if (J == 1) {
          w.u4 = C(w.u4, R.u4);
          w.nb = C(w.nb, R.nb);
          w.O = C(w.O, R.O);
          p.u4 = D(p.u4, R.u4);
          p.nb = D(p.nb, R.nb);
          p.O = D(p.O, R.O)
      } else if (J == 2) {
          var I = (w.u4 + p.u4) / 2
            , m = (w.nb + p.nb) / 2
            , A = (w.O + p.O) / 2;
          if (R.u4 < I)
              w.u4 = D(w.u4, R.u4 + 10);
          else
              p.u4 = C(p.u4, R.u4 - 10);
          if (R.nb < m)
              w.nb = D(w.nb, R.nb + 1);
          else
              p.nb = C(p.nb, R.nb - 1);
          if (R.O < A)
              w.O = D(w.O, R.O + 1);
          else
              p.O = C(p.O, R.O - 1)
      }
      this.mt()
  }
  ;
  eo.prototype.G8 = function(n) {
      var z = new u(l.E.M,!0);
      z.F = O.R2;
      z.data = {
          e: "crange",
          yT: this.LW,
          yp: this.mj,
          V9: this.$E.u() / 200
      };
      z.Wp = !0;
      this.f(z);
      this.close()
  }
  ;
  eo.prototype.vb = function(n, z) {
      this.B2 = n;
      this.a1E(0, 0)
  }
  ;
  eo.prototype.mt = function() {
      var n = this.B2
        , z = O.lJ.tx(n, this.LW, this.mj, this.$E.u() / 200)
        , C = z.rect
        , D = z.channel
        , F = this.sL
        , X = F.getContext("2d")
        , E = Math.floor(230 * l.D())
        , f = Math.floor(E * (C.v / C.d));
      F.width = E;
      F.height = f;
      l.NE(F, E, f);
      var a = j.T(D.length * 4);
      j.xM(a, 4294967295);
      for (var M = 0; M < 3; M++)
          j.bl(D, a, M);
      var q = O.o.QQ([a, C], new b6(E / C.d,0,0,f / C.v,0,0))
        , c = q.rect
        , K = new ImageData(new Uint8ClampedArray(q.buffer.buffer),c.d,c.v);
      X.putImageData(K, 0, 0)
  }
  ;
  function fG() {
      da.call(this, [12, 76, 1], "createshape");
      this.Yf = null;
      var n = l.w("div", "form");
      n.setAttribute("style", "width:20em");
      this.body.appendChild(n);
      this.CQ = new c5([12, 41],0,0,null,0,!1,!0);
      n.appendChild(this.CQ.j);
      l.jn(n);
      this.Jc = new c5([12, 42],0,0,null,0,!1,!0);
      n.appendChild(this.Jc.j);
      l.jn(n);
      this.et = new eS([19, 5, 3]);
      n.appendChild(this.et.j);
      this.CQ.m(100);
      this.Jc.m(100);
      this.K0 = new gJ("OK",!0,null,!0);
      this.K0.s("click", this.G8, this);
      n.appendChild(this.K0.j)
  }
  fG.prototype = new da;
  fG.prototype.G8 = function(n) {
      this.Yf.apl(this.Yf.a1K, this.CQ.u(), this.Jc.u(), this.et.u());
      this.close()
  }
  ;
  fG.prototype.B = function() {
      if (this.Yf)
          this.GQ = aC.get([5, 3]) + ": " + aC.get(this.Yf.agY);
      da.prototype.B.call(this);
      this.CQ.B();
      this.Jc.B();
      this.et.B()
  }
  ;
  fG.prototype.vb = function(n, z) {
      this.Yf = z;
      this.B()
  }
  ;
  function h2() {
      da.call(this, [11, 1], "colorpicker");
      this.hr = null;
      this.qg = null;
      this.m_ = null;
      this.vW = !1;
      this.th = !1;
      var n = l.w("div", "flexrow"), X, E;
      this.body.appendChild(n);
      this.Y3 = new a7(256);
      this.Y3.s(l.E.L, this.pz, this);
      n.appendChild(this.Y3.j);
      var z = l.w("div", "form");
      z.setAttribute("style", "width:14.5em; margin-left:1em;");
      n.appendChild(z);
      this.abI = l.w("div", "full");
      z.appendChild(this.abI);
      this.alo = l.w("div", "full");
      z.appendChild(this.alo);
      var C = l.w("div", "flexrow");
      z.appendChild(C);
      var D = l.w("div")
        , F = l.w("div");
      C.appendChild(D);
      C.appendChild(F);
      X = ["R", "G", "B"];
      E = D;
      this.Fw = [];
      for (var M = 0; M < 3; M++) {
          var f = new c5(X[M] + ":",0,255,null,0,!1,!0);
          this.Fw.push(f);
          f.s(l.E.L, this.ag3, this);
          E.appendChild(f.j)
      }
      X = ["H", "S", "B"];
      E = F;
      this.Ac = [];
      for (var M = 0; M < 3; M++) {
          var a = 0
            , q = 360
            , c = "\xB0";
          if (M != 0) {
              q = 100;
              c = "%"
          }
          var f = new c5(X[M] + ":",a,q,c,0,!1,!0);
          this.Ac.push(f);
          f.s(l.E.L, this.a1B, this);
          E.appendChild(f.j)
      }
      this.Jc = new ik("Hex",null,6);
      this.Jc.s(l.E.L, this.A_, this);
      z.appendChild(this.Jc.j);
      this.Fr = l.w("input", "fitem");
      this.Fr.setAttribute("type", "color");
      this.Fr.setAttribute("style", "width:50px");
      this.Fr.addEventListener("change", this.A_.bind(this), !1);
      z.appendChild(this.Fr);
      this.lV = new fj(9);
      this.lV.s(l.E.L, this.A_, this);
      z.appendChild(this.lV.j);
      this.K0 = new gJ("OK",!0,null,!0);
      this.K0.s("click", this.G8, this);
      z.appendChild(this.K0.j);
      this.s("closebtn", this.e$, this);
      this.GM = !1
  }
  h2.prototype = new da;
  h2.prototype.qI = function() {
      return !0
  }
  ;
  h2.prototype.IP = function(n, z) {
      this.Y3.IP(Math.min(256, n - 226), z)
  }
  ;
  h2.prototype.pz = function(n) {
      this.qg = this.Y3.u();
      this.update()
  }
  ;
  h2.prototype.mY = function(n, z, C, D, F) {
      this.GM = !0;
      this.a9T(n, F)
  }
  ;
  h2.prototype.Xl = function(n, z, C, D, F) {
      if (!this.GM)
          return;
      this.a9T(n, F)
  }
  ;
  h2.prototype.yg = function(n, z, C, D, F) {
      this.GM = !1
  }
  ;
  h2.prototype.a9T = function(n, z) {
      var C = O.zu.tM(n, z, 1)
        , D = C & 255
        , F = C >> 8 & 255
        , X = C >> 16 & 255;
      this.qg = {
          h: X / 255,
          Q: F / 255,
          O: D / 255
      };
      this.update()
  }
  ;
  h2.prototype.ag3 = function(n) {
      var z = this.Fw
        , C = this.eh(parseInt(z[0].u()))
        , D = this.eh(parseInt(z[1].u()))
        , F = this.eh(parseInt(z[2].u()));
      this.qg = {
          h: C / 255,
          Q: D / 255,
          O: F / 255
      };
      this.update()
  }
  ;
  h2.prototype.a1B = function(n) {
      var z = this.Ac
        , C = this.xq(parseInt(z[0].u()) / 360)
        , D = this.xq(parseInt(z[1].u()) / 100)
        , F = this.xq(parseInt(z[2].u()) / 100);
      this.qg = j.X9(C, D, F);
      this.update()
  }
  ;
  h2.prototype.A_ = function(n) {
      var z;
      if (n.currentTarget == this.lV)
          z = this.lV.u();
      else {
          z = n.currentTarget == this.Jc ? this.Jc.u() : this.Fr.value;
          if (z.charAt(0) == "#")
              z = z.slice(1);
          if (z.length == 3)
              z = z[0] + z[0] + z[1] + z[1] + z[2] + z[2];
          z = j.xz(z)
      }
      this.qg = {
          h: (z >> 16 & 255) / 255,
          Q: (z >> 8 & 255) / 255,
          O: (z & 255) / 255
      };
      this.update()
  }
  ;
  h2.prototype.ri = function(n) {
      var z = n.h
        , C = n.Q
        , D = n.O;
      return Math.round(z * 255) << 16 | Math.round(C * 255) << 8 | Math.round(D * 255)
  }
  ;
  h2.prototype.G8 = function(n) {
      this.a9J();
      var z = this.ri(this.qg);
      this.m_(z);
      this.close();
      this.th = !1;
      this.qg = null
  }
  ;
  h2.prototype.e$ = function(n) {
      this.a9J();
      if (this.vW)
          this.m_(this.ri(this.hr));
      this.th = !1;
      this.qg = null
  }
  ;
  h2.prototype.a9J = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.Tz
      };
      this.f(z)
  }
  ;
  h2.prototype.vi = function(n, z) {
      if (z != c1.yi)
          return;
      var C = n.Du;
      this.lV.m(C);
      if (this.qg != null) {
          this.qg = {
              h: (C >> 16 & 255) / 255,
              Q: (C >> 8 & 255) / 255,
              O: (C >> 0 & 255) / 255
          };
          this.update()
      }
  }
  ;
  h2.prototype.vb = function(n, z) {
      var C = z.Ym
        , D = {
          h: (C >> 16 & 255) / 255,
          Q: (C >> 8 & 255) / 255,
          O: (C >> 0 & 255) / 255
      };
      if (this.qg == null) {
          var F = new u(l.E.P,!0);
          F.data = {
              e: l.H.Gu,
              gc: "crosshair",
              push: !0
          };
          this.f(F);
          this.GM = !1;
          this.m_ = z.Dk;
          this.vW = !1;
          this.th = z.bD;
          this.hr = JSON.parse(JSON.stringify(D));
          this.alo.setAttribute("style", "height:3em;background-color:#" + j.JY(C) + ";")
      }
      this.qg = D;
      this.update()
  }
  ;
  h2.prototype.update = function() {
      var n = this.qg
        , z = this.ri(n)
        , C = this.Fw;
      C[0].m(Math.round(n.h * 255));
      C[1].m(Math.round(n.Q * 255));
      C[2].m(Math.round(n.O * 255));
      this.Jc.m(j.JY(z));
      this.Fr.value = "#" + j.JY(z);
      this.abI.setAttribute("style", "height:3em;background-color:#" + j.JY(z) + ";");
      var D = j.GV(n.h, n.Q, n.O);
      C = this.Ac;
      C[0].m(Math.round(D.ua * 360));
      C[1].m(Math.round(D.ZP * 100));
      C[2].m(Math.round(D.b2 * 100));
      this.Y3.m(n);
      if (this.th) {
          this.m_(this.ri(this.qg));
          this.vW = !0
      }
  }
  ;
  h2.prototype.eh = function(n) {
      return Math.max(0, Math.min(255, n))
  }
  ;
  h2.prototype.xq = function(n) {
      return Math.max(0, Math.min(1, n))
  }
  ;
  function fZ() {
      da.call(this, [11, 2], "contoureditor");
      this.a9_ = null;
      this.bS = null;
      this.response = null;
      this.eH = l.w("div", "cell");
      this.body.appendChild(this.eH);
      this.bB = l.w("div", "cell padded");
      this.body.appendChild(this.bB);
      var n = l.w("div", "bordered padded vmargin");
      this.eH.appendChild(n);
      this.cn = new ed;
      this.cn.s(l.E.L, this.yK, this);
      n.appendChild(this.cn.j);
      this.K0 = new gJ("OK",!0,null,!0);
      this.K0.s("click", this.close, this);
      this.bB.appendChild(this.K0.j);
      this.coords = l.w("div", "");
      this.coords.setAttribute("style", "width:250px");
      this.eH.appendChild(this.coords);
      this.$v = new ik("X (in)","%",4);
      this.G7 = new ik("Y (out)","%",4);
      this.KN = new eS([19, 3, 0]);
      this.$v.s(l.E.L, this.H4, this);
      this.G7.s(l.E.L, this.H4, this);
      this.KN.s(l.E.L, this.H4, this);
      this.coords.appendChild(this.$v.j);
      this.coords.appendChild(this.KN.j);
      this.coords.appendChild(this.G7.j);
      this.s("closebtn", this.I_, this)
  }
  fZ.prototype = new da;
  fZ.prototype.B = function() {
      da.prototype.B.call(this);
      this.KN.B()
  }
  ;
  fZ.prototype.yK = function(n) {
      this.bS.Crv.v = this.cn.u();
      this.response(this.bS);
      this.TB()
  }
  ;
  fZ.prototype.I_ = function(n) {
      this.response(this.a9_)
  }
  ;
  fZ.prototype.vb = function(n, z) {
      this.a9_ = JSON.parse(JSON.stringify(z.Fe));
      this.bS = z.Fe;
      this.response = z.response;
      this.cn.m(this.bS.Crv.v);
      this.TB()
  }
  ;
  fZ.prototype.TB = function() {
      var M = this.cn.j5();
      this.coords.setAttribute("class", M == -1 ? "disabled" : "");
      if (M == -1)
          return;
      var n = this.bS.Crv.v[M].v;
      this.$v.m(Math.round(n.Hrzn.v * (100 / 255)));
      this.G7.m(Math.round(n.Vrtc.v * (100 / 255)));
      this.KN.m(n.Cnty.v)
  }
  ;
  fZ.prototype.H4 = function(n) {
      var M = this.cn.j5()
        , z = this.bS.Crv.v[M];
      z.v.Hrzn.v = parseFloat(this.$v.u()) * (255 / 100);
      z.v.Vrtc.v = parseFloat(this.G7.u()) * (255 / 100);
      z.v.Cnty.v = this.KN.u();
      this.bS.Crv.v.sort(function(C, D) {
          return C.v.Hrzn.v - D.v.Hrzn.v
      });
      this.cn.m(this.bS.Crv.v, this.bS.Crv.v.indexOf(z));
      this.TB();
      this.response(this.bS)
  }
  ;
  function iq() {
      da.call(this, [11, 3], "csize");
      this.Ib = 0;
      this.PH = l.w("div", "form");
      this.PH.setAttribute("style", "width:22em");
      this.body.appendChild(this.PH);
      this.nc = new aJ(!0,!0,!0,!0);
      this.nc.a6x(!1);
      this.PH.appendChild(this.nc.j);
      this.Ae = new b7("Align with",[[8, 7], [12, 6]]);
      this.Ae.s(l.E.L, this.aoD, this);
      this.uy = new g1([12, 23, 2],41);
      this.PH.appendChild(this.uy.j);
      this.uy.m(4);
      this.Ab = new bT(!1);
      this.Ab.acb(new ir(0,0));
      this.GI = new gJ("OK",!0,null,!0);
      this.GI.s("click", this.G8, this);
      this.body.appendChild(this.GI.j)
  }
  iq.prototype = new da;
  iq.prototype.z_ = function(n, z) {
      return n != null
  }
  ;
  iq.prototype.TU = function() {
      return !0
  }
  ;
  iq.prototype.aoD = function() {
      var n = [this.uy.j, this.Ab.j];
      this.PH.removeChild(n[this.Ib]);
      this.Ib = this.Ae.u();
      this.PH.appendChild(n[this.Ib])
  }
  ;
  iq.prototype.B = function() {
      da.prototype.B.call(this);
      this.nc.B();
      this.Ae.B();
      this.uy.B();
      this.Ab.B()
  }
  ;
  iq.prototype.G8 = function(n) {
      var z = this.nc.u()
        , C = z.x
        , D = z.y
        , F = new u(l.E._R,!0);
      F.data = O.Xf.tP(C, D, this.uy.u());
      this.close();
      this.f(F)
  }
  ;
  iq.prototype.vb = function(n, z) {
      this.nc.m(new ir(n.d,n.v), n.$M)
  }
  ;
  function af() {
      da.call(this, [11, 4], "duplinto");
      this.VM = null;
      this.pU = null;
      this.zJ = null;
      var n = l.w("div", "form");
      n.setAttribute("style", "max-width:26em");
      this.body.appendChild(n);
      this.Fm = new fR([12, 43],["abc", "def"]);
      this.Fm.s(l.E.L, this.yB, this);
      n.appendChild(this.Fm.j);
      l.jn(n);
      this.Ou = new fR("Artboard",["abc", "def"]);
      this.Ou.s(l.E.L, this.yB, this);
      n.appendChild(this.Ou.j);
      l.jn(n);
      this.Gl = new ik([12, 48],null,14);
      n.appendChild(this.Gl.j);
      this.K0 = new gJ("OK",!0,null,!0);
      this.K0.s("click", this.G8, this);
      n.appendChild(this.K0.j)
  }
  af.prototype = new da;
  af.prototype.TU = function() {
      return !0
  }
  ;
  af.prototype.B = function() {
      da.prototype.B.call(this);
      this.Fm.B();
      this.Gl.B()
  }
  ;
  af.prototype.yB = function(n) {
      if (n && n.target == this.Ou)
          return;
      var z = this.Fm.u()
        , C = this.pU[z]
        , D = this.VM
        , F = C != null && C.add.artd != null;
      for (var M = 0; M < D.C.length; M++)
          if (D.W[D.C[M]].add.artb)
              F = !1;
      this.Gl.H8(z == this.pU.length);
      this.Ou.H8(F);
      if (F) {
          var X = C.root.children
            , E = []
            , f = this.zJ = [];
          for (var M = 0; M < X.length; M++) {
              var a = X[M].b;
              if (a.add.artb)
                  E.push(a.getName());
              f.push(X[M].index)
          }
          this.Ou.us(E)
      } else
          this.zJ = null
  }
  ;
  af.prototype.vb = function(n, z, C) {
      this.VM = n;
      this.pU = C;
      this.Gl.m(n.C.length == 0 ? "Layer" : n.W[n.C[0]].getName());
      var D = [];
      for (var M = 0; M < C.length; M++)
          D.push(C[M].name);
      D.push([11, 7]);
      this.Fm.us(D);
      this.Fm.m(C.indexOf(n));
      this.yB(null)
  }
  ;
  af.prototype.G8 = function(n) {
      var z = this.Fm.u();
      if (z == this.pU.length) {
          var C = new b$(this.Gl.u() + ".psd")
            , D = this.VM.d
            , F = this.VM.v
            , X = this.VM.m$();
          if (X != -1) {
              var E = this.VM.W[X].qJ();
              D = E.d;
              F = E.v
          }
          C.d = D;
          C.v = F;
          C.buffer = j.T(C.d * C.v * 4);
          var f = C.gl();
          f.CZ("Background");
          C.Xw([f]);
          var a = new u(l.E.P,!0);
          a.Wp = !0;
          a.data = {
              e: l.H.jt,
              JB: C
          };
          this.f(a)
      }
      var q = this.VM.rm(null, this.VM != this.pU[z])
        , a = new u(l.E.M,!0);
      a.data = {
          e: Q.S6,
          W: q,
          sI: this.VM,
          Op: this.pU[z]
      };
      if (this.zJ)
          a.data.K8 = this.zJ[this.Ou.u()];
      a.F = O.$w;
      a.Wp = !0;
      this.f(a);
      this.close()
  }
  ;
  function d7() {
      da.call(this, [1, 9], "eassets");
      this.VJ = null;
      this.QJ = null;
      var n = l.w("div", "form");
      n.setAttribute("style", "width:32em");
      this.body.appendChild(n);
      this.tL = l.w("span");
      n.appendChild(this.tL);
      l.jn(n);
      this.lE = [new eS("Only layers / folders, whose name starts with \"-e-\""), new eS("Remove parts outside the canvas"), new eS("Trim transparent parts")];
      for (var M = 0; M < 3; M++) {
          var z = this.lE[M];
          z.m(!0);
          z.s(l.E.L, this.O1, this);
          n.appendChild(z.j);
          l.jn(n)
      }
      this.x4 = new ez([12, 14, 0],["1x", "2x", "3x", "4x"]);
      this.x4.m([!0, !1, !1, !1]);
      n.appendChild(this.x4.j);
      l.x0(n);
      this.En = ["PNG", "JPG", "SVG"];
      this.i8 = new fR([12, 50],this.En);
      this.i8.s(l.E.L, this.apO, this);
      n.appendChild(this.i8.j);
      this.cF = new bs;
      n.appendChild(this.cF.j);
      this.GI = new gJ([1, 9],!0,null,!0);
      this.GI.s("click", this.G8, this);
      n.appendChild(this.GI.j);
      this.s("closebtn", this.xC, this)
  }
  d7.prototype = new da;
  d7.prototype.apO = function(n) {
      this.cF._x(this.En[this.i8.u()])
  }
  ;
  d7.prototype.xC = function(n) {
      this.QJ = null
  }
  ;
  d7.prototype.B = function() {
      da.prototype.B.call(this);
      this.i8.B();
      this.x4.B();
      this.GI.B();
      this.cF.B()
  }
  ;
  d7.prototype.vb = function(n, z, C) {
      this.QJ = n;
      this.O1()
  }
  ;
  d7.prototype.O1 = function(n) {
      var z = this.a7j()
        , C = "- - - " + z.length + " exportable layers";
      this.tL.textContent = C;
      this.apO(null)
  }
  ;
  d7.prototype.a7j = function() {
      var n = this.lE[0].u()
        , z = []
        , C = this.QJ;
      for (var M = 0; M < C.W.length; M++) {
          var D = C.W[M]
            , F = D.getName();
          if (!n && !D.d4() && !D.rect.kX() || F.startsWith("-e"))
              z.push(M)
      }
      return z
  }
  ;
  d7.prototype.vi = function(n, z) {
      this.VJ = n
  }
  ;
  d7.prototype.G8 = function(n) {
      var z = this.QJ
        , C = [this.En[this.i8.u()]]
        , D = [this.cF.u()]
        , F = this.x4.u()
        , X = {}
        , E = {}
        , f = this.a7j();
      if (f.length == 0) {
          alert("No layers to export.");
          return
      }
      var a = [this.lE[1].u(), this.lE[2].u()];
      for (var M = 0; M < f.length; M++) {
          var q = f[M]
            , c = z.W[q]
            , K = c.getName();
          if (E[K] != null) {
              E[K]++;
              K += " " + E[K]
          } else
              E[K] = 1;
          var R = c.y_();
          c.Hu(!0);
          for (var J = 0; J < F.length; J++) {
              if (!F[J])
                  continue;
              var w = J + 1
                , p = O.zh.sJ(z, C, w, this.VJ, q, D, a);
              for (var I = 0; I < C.length; I++) {
                  var m = C[I]
                    , A = K.slice(K.startsWith("-e-") ? 3 : 0) + (w == 1 ? "" : "-" + w + "x") + "." + m.toLowerCase();
                  if (p[I])
                      X[A] = new Uint8Array(p[I])
              }
          }
          c.Hu(R)
      }
      var U = UZIP.encode(X)
        , r = new u(l.E.P,!0);
      r.data = {
          e: l.H.rg,
          data: U,
          name: "assets.zip"
      };
      this.f(r)
  }
  ;
  function aO() {
      da.call(this, "Export Color Lookup Tables", "exlut");
      this.VJ = null;
      this.QJ = null;
      var n = l.w("div", "form");
      n.setAttribute("style", "width:20em");
      this.body.appendChild(n);
      this.lE = [new c5("Grid Points",1,256), new b7([12, 50],[".CUBE"])];
      var z = [16, 0];
      for (var M = 0; M < this.lE.length; M++) {
          var C = this.lE[M];
          C.m(z[M]);
          C.parent = this;
          C.s(l.E.L, this.O1, this);
          n.appendChild(C.j);
          l.jn(n)
      }
      this.GI = new gJ("OK",!0,null,!0);
      this.GI.s("click", this.G8, this);
      n.appendChild(this.GI.j);
      this.s("closebtn", this.xC, this)
  }
  aO.prototype = new da;
  aO.prototype.z_ = function(n, z) {
      if (Math.min(n.d, n.v) < 16) {
          alert("The document must be at least 16 x 16 pixels.", 3200);
          return !1
      }
      if (n.W.length < 2) {
          alert("There must be a background layer and some adjustment layers.", 3200);
          return !1
      }
      return !0
  }
  ;
  aO.prototype.xC = function(n) {
      this.QJ = null
  }
  ;
  aO.prototype.vi = function(n, z) {
      this.VJ = n
  }
  ;
  aO.prototype.vb = function(n, z, C) {
      this.QJ = n
  }
  ;
  aO.prototype.G8 = function() {
      var n = this.QJ
        , z = this.lE[0].u()
        , C = []
        , D = new cc(0,0,n.d,n.v)
        , F = j.T(z * z * 4)
        , X = F.slice(0)
        , E = new cc(n.d - z >>> 1,n.v - z >>> 1,z,z)
        , f = n.W[0]
        , a = f.buffer
        , q = f.rect;
      f.rect = E;
      f.buffer = F;
      for (var c = 0; c < z; c++) {
          this.a4v(z, c, F);
          f.J(E);
          n.J(E);
          var K = n.Wc();
          j.X3(K, D, X, E);
          for (var R = 0; R < z; R++)
              for (var J = 0; J < z; J++) {
                  var w = R * z + J << 2;
                  C.push(X[w] / 255, X[w + 1] / 255, X[w + 2] / 255)
              }
      }
      var p = e_.a1a(C, z, n.name);
      di.save(p, n.name.split(".")[0] + ".CUBE");
      f.buffer = a;
      f.rect = q;
      f.J();
      n.J()
  }
  ;
  aO.prototype.a4v = function(n, z, C) {
      var D = 255 / (n - 1)
        , F = Math.round(z * D);
      for (var X = 0; X < n; X++)
          for (var E = 0; E < n; E++) {
              var f = X * n + E << 2;
              C[f] = Math.round(E * D);
              C[f + 1] = Math.round(X * D);
              C[f + 2] = F;
              C[f + 3] = 255
          }
  }
  ;
  aO.prototype.B = function() {
      da.prototype.B.call(this);
      for (var M = 0; M < this.lE.length; M++)
          this.lE[M].B()
  }
  ;
  function as() {
      da.call(this, [1, 14], "finfo");
      this.Zw = null;
      this.ue = null;
      this.lk = null;
      this.PH = l.w("div", "form scrollable label12");
      this.PH.setAttribute("style", "width:35em;  height:38em;  margin-bottom:8px");
      this.body.appendChild(this.PH);
      var n = l.w("div", "form");
      this.body.appendChild(n);
      this.o9 = new fR(null,["Hello"]);
      n.appendChild(this.o9.j);
      this.a37 = new gJ("Add Parameter",!1,null,!0);
      n.appendChild(this.a37.j);
      this.a37.s("click", this.wS, this);
      this.KZ = new gJ("=== S A V E ===",!1,null,!0);
      n.appendChild(this.KZ.j);
      this.KZ.s("click", this.SR, this);
      this.ac0 = ""
  }
  as.prototype = new da;
  as.prototype.JX = function(n, z) {
      return n < 450 || z < 450 ? new ir(0,0) : new ir(150,100)
  }
  ;
  as.prototype.wS = function(n) {
      if (this.lk.length == 0)
          return;
      var z = this.lk[this.o9.u()]
        , C = this.iI();
      C[z] = hb.Vp[z][0];
      this.XH(C);
      this.ue[z].j.scrollIntoView();
      this.ue[z].p1()
  }
  ;
  as.prototype.qs = function(n) {
      var z = this.iI();
      delete z[n.currentTarget.a2A];
      this.XH(z)
  }
  ;
  as.prototype.SR = function(n) {
      var z = this.iI()
        , C = this.Zw
        , D = !0;
      for (var F in C)
          if (JSON.stringify(C[F]) != JSON.stringify(z[F]))
              D = !1;
      for (var F in z)
          if (JSON.stringify(C[F]) != JSON.stringify(z[F]))
              D = !1;
      if (D)
          return;
      var X = new u(l.E.M,!0);
      X.F = O.$w;
      X.data = {
          e: Q.LN,
          PV: z
      };
      this.f(X);
      this.Zw = z;
      this.XH(z)
  }
  ;
  as.an3 = function(n) {
      function z(F) {
          var X = F.toLowerCase();
          return F == X
      }
      var C = n.split(":").pop();
      for (var D = 1; D < C.length - 1; D++) {
          if (C[D] == C[D].toUpperCase() && (z(C[D + 1]) || z(C[D - 1]))) {
              C = C.slice(0, D) + " " + C.slice(D);
              D++
          }
      }
      return C
  }
  ;
  as.prototype.vb = function(n, z) {
      this.Zw = n._q;
      this.XH(n._q)
  }
  ;
  as.prototype.XH = function(n) {
      var z = this.PH
        , F = 0;
      l.M$(z);
      var C = this.ue = {}
        , D = ["tiff", "exif", "exif:GPS"]
        , X = this.lk = []
        , E = [];
      for (var f in hb.Vp) {
          var a = as.an3(f)
            , q = 0
            , c = 15
            , K = null;
          if (n[f] == null) {
              X.push(f);
              E.push(a);
              continue
          }
          for (var M = 0; M < D.length; M++)
              if (f.startsWith(D[M]))
                  q = M;
          if (q != F) {
              l.x0(z);
              F = q
          }
          if (f == "tiff:ImageDescription" || f == "dc:Keywords") {
              c = 18.5;
              K = 3
          }
          var R = new ik(a,null,c,K);
          C[f] = R;
          var J = n[f];
          if (J instanceof Array)
              J = J[1] == 0 ? "---" : J[0] + "/" + J[1];
          var w = new gJ("\u2716",null,aC.get([5, 4]));
          z.appendChild(w.j);
          w.s("click", this.qs, this);
          w.a2A = f;
          R.m(J);
          z.appendChild(R.j);
          l.jn(z);
          if (f == "exif:GPSLongitude" && n["exif:GPSLatitude"]) {
              this.ac0 = as.a5d(n["exif:GPSLatitude"]) + "," + as.a5d(n["exif:GPSLongitude"]);
              var p = new gJ("Show on map",!1,null,!0);
              z.appendChild(p.j);
              l.jn(z);
              p.s("click", this.a3a, this)
          }
      }
      this.o9.us(E);
      this.o9.m(0)
  }
  ;
  as.prototype.iI = function() {
      var n = this.ue
        , z = hb.Vp
        , C = {};
      for (var D in z) {
          var F = z[D][0]
            , X = typeof F;
          if (F == null || n[D] == null)
              continue;
          var E = n[D].u()
            , f = "The value of \"" + as.an3(D) + "\" must ";
          if (X == "number") {
              E = parseFloat(E);
              if (isNaN(E)) {
                  alert(f + "be a number.");
                  E = F
              }
          } else if (F instanceof Array && F.length == 2) {
              if (E.indexOf("/") == -1) {
                  alert(f + "be a fraction.");
                  E = F.slice(0)
              } else {
                  E = E.split("/").map(parseFloat);
                  if (isNaN(E[0]) || isNaN(E[1])) {
                      E = F.slice(0)
                  }
              }
          }
          C[D] = E
      }
      return C
  }
  ;
  as.a5d = function(n) {
      var z = n.length
        , C = n.slice(0, z - 1).split(",").map(parseFloat)
        , D = n.slice(z - 1)
        , F = C[0] + C[1] / 60 + C[2] / 3600;
      if (D != "N" && D != "E")
          F = -F;
      return F
  }
  ;
  as.prototype.a3a = function(n) {
      window.open("https://maps.google.com?q=" + this.ac0, "Map")
  }
  ;
  function d6() {
      da.call(this, [11, 5], "gradienteditor");
      this.hr = null;
      this.qg = null;
      this.uJ = null;
      this.m_ = null;
      this.vW = !1;
      this.th = !1;
      l.G5(this.body, "form");
      this.AH = null;
      this.aD = null;
      this.wg = -1;
      this.$P = -1;
      this.nD = 0;
      this.Ev = this.qb.bind(this);
      this.Mt = this.NT.bind(this);
      this.Ak = l.w("canvas", "");
      this.zx = this.Ak.getContext("2d");
      this.Ak.setAttribute("style", "display:block");
      this.cu = null;
      l.g8(this.Ak);
      l.Vb(this.Ak, this.uz.bind(this));
      this.ay = new c5([19, 3, 3],0,100,"%");
      this.ay.s(l.E.L, this.kG, this);
      this.ay.parent = this;
      this.body.appendChild(this.ay.j);
      l.jn(this.body);
      this.p6 = new be([12, 0]);
      this.body.appendChild(this.p6.j);
      this.Gd = l.w("div", "bordered padded noalign");
      this.body.appendChild(this.Gd);
      this.IV = new c5([12, 0],0,100,"%");
      this.IV.parent = this;
      this.IV.s(l.E.L, this.kG, this);
      this.Gd.appendChild(this.IV.j);
      this.xY = new c5([12, 40],0,100,"%");
      this.xY.parent = this;
      this.xY.s(l.E.L, this.kG, this);
      this.Gd.appendChild(this.xY.j);
      this.xd = new gJ([5, 4],!1,null,!0);
      this.xd.s("click", this.agL, this);
      this.Gd.appendChild(this.xd.j);
      this.body.appendChild(this.Ak);
      l.jn(this.body);
      this.agE = new be([13, 0]);
      this.body.appendChild(this.agE.j);
      this.Jn = l.w("div", "bordered padded noalign");
      this.body.appendChild(this.Jn);
      this.Nh = new fR([12, 44],[[12, 45], [12, 46], [12, 47]]);
      this.Nh.s(l.E.L, this.kG, this);
      this.Jn.appendChild(this.Nh.j);
      this.Sz = new e$(!0);
      this.Sz.parent = this;
      this.Sz.s(l.E.L, this.kG, this);
      this.Jn.appendChild(this.Sz.j);
      this.qZ = new c5([12, 40],0,100,"%");
      this.qZ.parent = this;
      this.qZ.s(l.E.L, this.kG, this);
      this.Jn.appendChild(this.qZ.j);
      this.$Z = new gJ([5, 4],!1,null,!0);
      this.$Z.s("click", this.aj1, this);
      this.Jn.appendChild(this.$Z.j);
      this.K0 = new gJ("OK",!0,null,!0);
      this.K0.s("click", this.G8, this);
      this.body.appendChild(this.K0.j);
      this.s("closebtn", this.e$, this)
  }
  d6.prototype = new da;
  d6.prototype.e$ = function(n) {
      if (this.vW)
          this.m_(this.hr)
  }
  ;
  d6.prototype.B = function() {
      da.prototype.B.call(this);
      this.ay.B();
      this.p6.B();
      this.agE.B();
      this.xd.B();
      this.$Z.B();
      this.IV.B();
      this.xY.B();
      this.Nh.B();
      this.qZ.B()
  }
  ;
  d6.prototype.vi = function(n, z) {
      this.uJ = n
  }
  ;
  d6.prototype.vb = function(n, z) {
      this.qg = JSON.parse(JSON.stringify(z._));
      this.hr = JSON.parse(JSON.stringify(z._));
      this.AH = this.aD = null;
      this.m_ = z.Dk;
      this.vW = !1;
      this.th = z.bD;
      this.yH();
      this.hp()
  }
  ;
  d6.prototype.G8 = function(n) {
      var z = this.qg;
      this.m_(z);
      this.close()
  }
  ;
  d6.prototype.Gs = function(n) {
      return n == dM.as || n == dM.fs
  }
  ;
  d6.prototype.iV = function(n, z, C, D) {
      if (D.r(dM.as) || D.r(dM.fs)) {
          if (this.aD)
              this.agL();
          if (this.AH)
              this.aj1()
      }
  }
  ;
  d6.prototype.agL = function(n) {
      var z = this.qg.Trns.v;
      if (this.aD == null || z.length == 1)
          return;
      z.splice(z.indexOf(this.aD), 1);
      this.aD = null;
      this.yH();
      this.hp()
  }
  ;
  d6.prototype.aj1 = function(n) {
      var z = this.qg.Clrs.v;
      if (this.AH == null || z.length == 1)
          return;
      z.splice(z.indexOf(this.AH), 1);
      this.AH = null;
      this.yH();
      this.hp()
  }
  ;
  d6.prototype.yH = function() {
      var n = this.Ak
        , z = this.zx
        , C = l.D();
      n.width = Math.floor(410 * C);
      n.height = Math.floor(90 * C);
      l.NE(n, n.width, n.height);
      this.cu = new cc(0,0,Math.floor(380 * C),Math.floor(32 * C));
      this.cu.x = Math.floor((this.Ak.width - this.cu.d) / 2);
      this.cu.y = Math.floor((this.Ak.height - this.cu.v) / 2);
      var D = this.cu
        , F = D.d
        , X = D.v
        , E = D.x
        , f = D.y
        , a = new cc(0,0,F,X)
        , q = z.getImageData(0, 0, F, X)
        , c = new Uint8Array(q.data.buffer);
      j.BJ(c, F, X, 8);
      var K = j.T(F * X * 4);
      j._.R4(this.qg, K, a, [1 / F, 0, 0, 1 / X], F / 2, X / 2, !1, 0, this.uJ.Du, this.uJ.ff);
      j.$.xN("norm", K, D, c, D, D, 1);
      z.clearRect(0, 0, n.width, n.height);
      z.putImageData(q, E, f);
      var R = this.qg.Trns.v
        , J = this.qg.Clrs.v
        , w = j._.fr(J, this.uJ.Du, this.uJ.ff)
        , p = Math.round(6 * l.D())
        , I = Math.round(14 * l.D())
        , m = this.aD ? this.aD.v : null
        , A = this.AH ? this.AH.v : null;
      for (var M = 0; M < R.length; M++) {
          var U = R[M].v
            , r = Math.round(255 - 255 * U.Opct.v.val / 100);
          if ((U == m || R[M - 1] && R[M - 1].v == m || M == this.$P) && M != 0) {
              z.fillStyle = "#000000";
              z.fillRect(E - 3 + F * (R[M - 1].v.Lctn.v + (U.Lctn.v - R[M - 1].v.Lctn.v) * U.Mdpn.v / 100) / 4096, f - 6 - 2, 6, 6)
          }
          if (U == m) {
              z.fillStyle = "#ffffff";
              z.fillRect(E - p + F * (U.Lctn.v / 4096) - 2, f - 2 - I - 2, 2 * p + 4, I + 4)
          }
          z.fillStyle = "rgb(" + r + "," + r + "," + r + ")";
          z.fillRect(E - p + F * (U.Lctn.v / 4096), f - 2 - I, 2 * p, I)
      }
      for (var M = 0; M < J.length; M++) {
          var $ = J[M].v
            , k = w[M];
          if (($ == A || J[M - 1] && J[M - 1].v == A || M == this.wg) && M != 0) {
              z.fillStyle = "#000000";
              z.fillRect(E - 3 + F * (J[M - 1].v.Lctn.v + ($.Lctn.v - J[M - 1].v.Lctn.v) * $.Mdpn.v / 100) / 4096, f + X + 2, 6, 6)
          }
          if ($ == A) {
              z.fillStyle = "#ffffff";
              z.fillRect(E - p + F * ($.Lctn.v / 4096) - 2, f + X + 2 - 2, 2 * p + 4, I + 4)
          }
          z.fillStyle = "rgb(" + Math.round(k.h) + ", " + Math.round(k.Q) + "," + Math.round(k.O) + ")";
          z.fillRect(E - p + F * ($.Lctn.v / 4096), f + X + 2, 2 * p, I)
      }
      if (this.th) {
          this.m_(this.qg);
          this.vW = !0
      }
  }
  ;
  d6.prototype.hp = function() {
      this.ay.m(Math.round(100 * this.qg.Intr.v / 4096));
      var n = this.qg.Trns.v
        , z = this.qg.Clrs.v
        , C = this.aD != null
        , D = this.$P != -1;
      this.IV.H8(C);
      this.xY.H8(C || D);
      this.xd.H8(C);
      if (C) {
          this.Gd.setAttribute("style", "");
          var F = this.aD.v;
          this.xY.m(Math.round(100 * F.Lctn.v / 4096));
          this.IV.m(F.Opct.v.val)
      }
      if (D)
          this.xY.m(n[this.$P].v.Mdpn.v);
      var C = this.AH != null
        , D = this.wg != -1;
      this.Nh.H8(C);
      this.Sz.H8(C);
      this.qZ.H8(C || D);
      this.$Z.H8(C);
      if (C) {
          this.Jn.setAttribute("style", "");
          var X = this.AH.v;
          this.qZ.m(Math.round(100 * X.Lctn.v / 4096));
          var E = X.Type.v.Clry;
          this.Nh.m(["FrgC", "BckC", "UsrS"].indexOf(E));
          if (E == "FrgC")
              this.Sz.VR(this.uJ.Du);
          if (E == "BckC")
              this.Sz.VR(this.uJ.ff);
          if (E == "UsrS")
              this.Sz.m(X.Clr.v)
      }
      if (D)
          this.qZ.m(z[this.wg].v.Mdpn.v)
  }
  ;
  d6.prototype.kG = function(n) {
      var z = Math.round(4096 * this.ay.u() / 100);
      this.qg.Intr.v = z;
      var C = this.qg.Trns.v
        , D = this.qg.Clrs.v;
      if (this.aD != null) {
          var F = this.aD.v;
          F.Lctn.v = Math.round(4096 * (this.xY.u() / 100));
          F.Opct.v.val = this.IV.u()
      }
      if (this.AH != null) {
          var X = this.AH.v;
          X.Lctn.v = Math.round(4096 * (this.qZ.u() / 100));
          if (n.target == this.Sz)
              this.Nh.m(2);
          var E = this.Nh.u();
          X.Type.v.Clry = ["FrgC", "BckC", "UsrS"][E];
          if (E == 2)
              X.Clr = {
                  t: "Objc",
                  v: this.Sz.u()
              };
          else if (X.Clr)
              delete X.Clr
      }
      if (this.$P != -1)
          C[this.$P].v.Mdpn.v = this.xY.u();
      if (this.wg != -1)
          D[this.wg].v.Mdpn.v = this.qZ.u();
      this.yH()
  }
  ;
  d6.prototype.uz = function(n) {
      var z = l.ao(n, this.Ak)
        , C = this.cu
        , D = (z.x * l.D() - C.x) / C.d
        , F = (z.y * l.D() - C.y) / C.v
        , X = this.qg.Trns.v
        , E = this.qg.Clrs.v
        , f = null
        , a = null
        , q = -1
        , c = -1;
      if (F < 1)
          for (var M = 0; M < X.length; M++) {
              var K = X[M].v;
              if (Math.abs(K.Lctn.v / 4096 - D) < .02)
                  f = X[M];
              if (M > 0)
                  if (Math.abs((X[M - 1].v.Lctn.v + (K.Lctn.v - X[M - 1].v.Lctn.v) * K.Mdpn.v / 100) / 4096 - D) < .01)
                      q = M
          }
      if (F > 0)
          for (var M = 0; M < E.length; M++) {
              var R = E[M].v;
              if (Math.abs(R.Lctn.v / 4096 - D) < .02)
                  a = E[M];
              if (M > 0)
                  if (Math.abs((E[M - 1].v.Lctn.v + (R.Lctn.v - E[M - 1].v.Lctn.v) * R.Mdpn.v / 100) / 4096 - D) < .01)
                      c = M
          }
      if (a == null && f == null && q == -1 && c == -1) {
          if (F < 0) {
              var K = {
                  t: "Objc",
                  v: {
                      classID: "TrnS",
                      Opct: {
                          t: "UntF",
                          v: {
                              type: "#Prc",
                              val: 100
                          }
                      },
                      Lctn: {
                          t: "long",
                          v: 0
                      },
                      Mdpn: {
                          t: "long",
                          v: 50
                      }
                  }
              };
              K.v.Lctn.v = Math.round(D * 4096);
              X.push(K);
              X.sort(this.cq);
              f = K
          }
          if (F > 1) {
              var E = this.qg.Clrs.v
                , J = j._.fr(E, this.uJ.Du, this.uJ.ff)
                , w = j._.ie(this.qg, J, D)
                , R = {
                  t: "Objc",
                  v: {
                      classID: "Clrt",
                      Clr: {
                          t: "Objc",
                          v: j._.w9({
                              h: w & 255,
                              Q: w >> 8 & 255,
                              O: w >> 16 & 255
                          })
                      },
                      Type: {
                          t: "enum",
                          v: {
                              Clry: "UsrS"
                          }
                      },
                      Lctn: {
                          t: "long",
                          v: 0
                      },
                      Mdpn: {
                          t: "long",
                          v: 50
                      }
                  }
              };
              R.v.Lctn.v = Math.round(D * 4096);
              E.push(R);
              E.sort(this.cq);
              a = R
          }
      }
      if (a != null)
          c = -1;
      if (f != null)
          q = -1;
      if (a != null || f != null || q > -1 || c > -1) {
          this.aD = f;
          this.AH = a;
          this.$P = q;
          this.wg = c;
          this.hp();
          this.yH();
          l.LR(window, this.Ev);
          l.g_(window, this.Mt)
      }
  }
  ;
  d6.prototype.qb = function(n) {
      var z = l.ao(n, this.Ak)
        , C = this.cu
        , D = (z.x * l.D() - C.x) / C.d
        , F = (z.y * l.D() - C.y) / C.v;
      D = Math.max(0, Math.min(1, D));
      var X = this.qg.Trns.v
        , E = this.qg.Clrs.v;
      if (this.aD != null) {
          var f = this.aD.v;
          f.Lctn.v = Math.round(4096 * D);
          var a = X.indexOf(this.aD);
          if (a != -1 && F < -1 && X.length > 1)
              X.splice(a, 1);
          if (a == -1 && F > -1)
              X.push(this.aD);
          X.sort(this.cq)
      }
      if (this.AH != null) {
          var q = this.AH.v;
          q.Lctn.v = Math.round(4096 * D);
          var c = E.indexOf(this.AH);
          if (c != -1 && F > 1.5 && E.length > 1)
              E.splice(c, 1);
          if (c == -1 && F < 1.5)
              E.push(this.AH);
          E.sort(this.cq)
      }
      if (this.$P > -1) {
          var f = X[this.$P].v;
          f.Mdpn.v = Math.max(5, Math.min(95, Math.round(100 * (D * 4096 - X[this.$P - 1].v.Lctn.v) / (f.Lctn.v - X[this.$P - 1].v.Lctn.v))))
      }
      if (this.wg > -1) {
          var q = E[this.wg].v;
          q.Mdpn.v = Math.max(5, Math.min(95, Math.round(100 * (D * 4096 - E[this.wg - 1].v.Lctn.v) / (q.Lctn.v - E[this.wg - 1].v.Lctn.v))))
      }
      if (this.aD != null || this.AH != null || this.$P > -1 || this.wg > -1) {
          this.hp();
          this.yH()
      }
  }
  ;
  d6.prototype.NT = function(n) {
      l.i$(window, this.Ev);
      l.YO(window, this.Mt);
      if (Date.now() - this.nD < 300) {
          if (this.wg != -1 || this.$P != -1) {
              var z = (this.wg != -1 ? this.qg.Clrs.v[this.wg] : this.qg.Trns.v[this.$P]).v;
              z.Mdpn.v = 50;
              this.hp();
              this.yH()
          } else if (this.AH != null)
              this.Sz.a5H()
      }
      this.nD = Date.now()
  }
  ;
  d6.prototype.cq = function(n, z) {
      return n.v.Lctn.v - z.v.Lctn.v
  }
  ;
  function eX() {
      da.call(this, [11, 10], "isize");
      this.PH = l.w("div", "form");
      this.PH.setAttribute("style", "width:20em");
      this.body.appendChild(this.PH);
      this.nc = new aJ(!0,!0);
      this.PH.appendChild(this.nc.j);
      this.ZU = new eS("Resample");
      this.ZU.m(!0);
      this.PH.appendChild(this.ZU.j);
      this.ZU.s(l.E.L, this.a90, this);
      this.zM = new fR([12, 14, 1],[[12, 14, 2], [12, 14, 3], "Bicubic Sharper"]);
      this.zM.m(1);
      this.PH.appendChild(this.zM.j);
      this.GI = new gJ("OK",!0,null,!0);
      this.GI.s("click", this.G8, this);
      this.body.appendChild(this.GI.j)
  }
  eX.prototype = new da;
  eX.prototype.z_ = function(n, z) {
      return n != null
  }
  ;
  eX.prototype.TU = function() {
      return !0
  }
  ;
  eX.prototype.a90 = function(n) {
      var z = this.ZU.u()
        , C = this.nc
        , D = this.zM;
      if (z)
          D.Tl();
      else
          D.NN();
      if (z)
          C.a3f();
      else
          C.ahQ()
  }
  ;
  eX.prototype.B = function() {
      da.prototype.B.call(this);
      this.zM.B();
      this.nc.B()
  }
  ;
  eX.prototype.G8 = function(n) {
      this.close();
      var z = this.nc.u()
        , C = z.x
        , D = z.y
        , F = this.zM.u();
      if (!this.ZU.u())
          F = null;
      var X = new u(l.E._R,!0);
      X.data = O.Xf.wI(C, D, this.nc.Y$(), F);
      this.f(X)
  }
  ;
  eX.prototype.vb = function(n, z) {
      this.nc.m(new ir(n.d,n.v), n.$M)
  }
  ;
  function dO() {
      da.call(this, "Import RAW", "importraw");
      var n = l.w("div", "flexrow")
        , z = l.w("div");
      z.setAttribute("style", "margin-bottom: 1em");
      this.body.appendChild(n);
      this.body.appendChild(z);
      var C = l.w("div", "form");
      C.setAttribute("style", "width:18em");
      n.appendChild(C);
      var D = l.w("div", "form");
      D.setAttribute("style", "width:15em");
      n.appendChild(D);
      this.Yf = null;
      this.a3d = null;
      this.XI = null;
      this.qW = null;
      this.ahl = [];
      var F = [];
      for (var M = 0; M < dO.Mu.length; M++)
          F.push(dO.Mu[M] + " Bits");
      var X = this.zB = [new aJ(!0,null,null,!0), new c5([12, 72],1,8), new eS("Last one is Transparency"), new b7([12, 34],F), new b7("Byte Order",["12-34", "34-12"]), new fR("Guesses",[])];
      for (var M = 0; M < X.length; M++) {
          var E = X[M];
          E.parent = this;
          E.s(l.E.L, M == 5 ? this.aiD : this.yB, this);
          var f = M == 0 ? C : M == 5 ? z : D;
          f.appendChild(E.j)
      }
      this.sL = l.w("canvas");
      this.f0 = this.sL.getContext("2d");
      this.body.appendChild(this.sL);
      this.GI = new gJ("OK",!0,null,!0);
      this.GI.s("click", this.G8, this);
      this.body.appendChild(this.GI.j)
  }
  dO.prototype = new da;
  dO.prototype.B = function() {
      da.prototype.B.call(this);
      var n = this.zB;
      for (var M = 0; M < n.length; M++)
          n[M].B()
  }
  ;
  dO.prototype.G8 = function(n) {
      this.close();
      var z = this.zB[0].u()
        , C = fC.Wu(this.a3d, [{
          data: this.XI,
          Pi: new cc(0,0,z.x,z.y)
      }]);
      if (this.qW)
          C.fD = this.qW;
      var D = new u(l.E.P,!0);
      D.data = {
          e: !0 ? l.H.jt : l.H.m9,
          JB: C
      };
      this.f(D)
  }
  ;
  dO.Mu = [8, 16];
  dO.prototype.vb = function(n, z) {
      this.Yf = new Uint8Array(z.TE);
      this.a3d = z._8;
      var C = this.Yf.length
        , D = [1, 3, 4]
        , F = 0
        , X = 0
        , E = 1
        , f = 1
        , a = this.ahl = [];
      for (var q = 0; q < 3; q++) {
          for (var c = 0; c < 2; c++) {
              var K = dO.Mu[c]
                , R = D[q]
                , J = R * K
                , w = Math.round(C * 8 / J);
              if (w != C * 8 / J)
                  continue;
              for (var p = 0; p <= 4e3; p++)
                  for (var I = 0; I <= 4e3; I++)
                      if (p * I == w) {
                          var m = 0;
                          if (p == I)
                              m += 64;
                          if (Math.round(p / 100) == p / 100 && Math.round(I / 100) == I / 100)
                              m += 32;
                          if (Math.round(p / 10) == p / 10 && Math.round(I / 10) == I / 10)
                              m += 16;
                          if (Math.round(p / 2) == p / 2 && Math.round(I / 2) == I / 2)
                              m += 8;
                          a.push([p, I, R, K, m])
                      }
          }
      }
      var A = function(k, G) {
          if (G[4] != k[4])
              return G[4] - k[4];
          var i = Math.max(k[0], k[1]) / Math.min(k[0], k[1])
            , o = Math.max(G[0], G[1]) / Math.min(G[0], G[1]);
          if (i != o)
              return i - o;
          return G[0] - k[0]
      };
      a.sort(A);
      var U = this.zB
        , r = [];
      for (var M = 0; M < a.length; M++) {
          var $ = a[M];
          r.push($[0] + " x " + $[1] + ", " + $[2] + "ch, " + $[3] + "-bit")
      }
      U[5].us(r);
      U[5].m(0);
      this.aiD(null)
  }
  ;
  dO.prototype.aiD = function(n) {
      var z = this.zB
        , C = this.ahl[this.zB[5].u()];
      z[0].m(new ir(C[0],C[1]), 72);
      z[1].m(C[2]);
      z[3].m(dO.Mu.indexOf(C[3]));
      this.yB()
  }
  ;
  dO.prototype.yB = function(n) {
      var z = this.zB
        , C = z[0].u()
        , D = C.x
        , F = C.y
        , X = dO.Mu[z[3].u()]
        , E = this.Yf;
      if (X == 16 && z[4].u() == 1) {
          E = E.slice(0);
          for (var M = 0; M < E.length; M += 2) {
              var f = E[M];
              E[M] = E[M + 1];
              E[M + 1] = f
          }
      }
      var a = this.XI = this.c3(E, D, F, z[1].u(), X, z[2].u())
        , q = this.sL
        , c = this.f0
        , K = [a, new cc(0,0,D,F)];
      j.Lp(K);
      for (var M = 0; M < K.length; M += 2)
          if (K[M + 1].v < 300) {
              a = K[M];
              D = K[M + 1].d;
              F = K[M + 1].v;
              break
          }
      q.width = D;
      q.height = F;
      l.NE(q, D, F);
      var R = new ImageData(new Uint8ClampedArray(a.buffer),D,F);
      c.putImageData(R, 0, 0)
  }
  ;
  dO.prototype.c3 = function(n, z, C, D, F, X) {
      this.qW = null;
      var E = []
        , f = z * C;
      for (var a = 0; a < D; a++) {
          var q = j.T(f);
          E.push(q);
          if (F == 8)
              for (var M = 0; M < f; M++)
                  q[M] = n[M * D + a];
          else if (F == 16)
              for (var M = 0; M < f; M++)
                  q[M] = n[(M * D + a) * 2]
      }
      var c = j.T(f * 4);
      new Uint32Array(c.buffer).fill(4278190080);
      if (X) {
          j.bl(E.pop(), c, 3);
          D--
      }
      if (D == 0) {} else if (D == 1)
          j.Vv(E[0], c);
      else {
          j.bl(E[0], c, 0);
          j.bl(E[1], c, 1);
          if (D > 2) {
              j.bl(E[2], c, 2);
              if (D > 3) {
                  this.qW = [];
                  for (var M = 3; M < D; M++) {
                      var K = new Q.im;
                      K.name = "Alpha " + (M - 2);
                      K.rect = new cc(0,0,z,C);
                      K.channel = E[M];
                      this.qW.push(K)
                  }
              }
          }
      }
      return c
  }
  ;
  function bt(n, z, C) {
      gN.call(this);
      this.j = l.w("div", "");
      this.SV = n;
      this.in = null;
      this.eV = z == null ? !1 : z;
      this.WK = null;
      this.GF = C;
      this.lj = [];
      this.lq = [];
      this.IE = [];
      this.XU = [];
      this.uO = 0;
      this.in = this.a0$(bt.XU[n]);
      this.Yw();
      this.yY = null;
      this.a3N;
      this.ajW
  }
  bt.prototype = new gN;
  bt.prototype.mY = function(n, z, C, D, F) {
      this.yY = F;
      this.a3N = JSON.parse(JSON.stringify(this.WK));
      if (this.in.lagl)
          this.ajW = this.in.lagl.u()
  }
  ;
  bt.prototype.Xl = function(n, z, C, D, F) {
      var X = this.yY
        , E = this.SV
        , f = this.a3N;
      if (X == null)
          return;
      var a = (F.x - X.x) / n.a.X
        , q = (F.y - X.y) / n.a.X;
      if (E == "GrFl") {
          var c = JSON.parse(JSON.stringify(f.Ofst.v));
          c.Hrzn.v.val += a * .5;
          c.Vrtc.v.val += q * .5;
          this.in.Ofst.m(c, !0)
      }
      if (E == "patternFill") {
          var c = JSON.parse(JSON.stringify(f.phase.v));
          c.Hrzn.v += a;
          c.Vrtc.v += q;
          this.in.phase.m(c, !0)
      }
      if (E == "DrSh" || E == "IrSh" || E == "ChFX") {
          var K = f.Dstn.v.val
            , R = this.ajW.tq * Math.PI / 180
            , J = -Math.cos(R) * K + a
            , w = Math.sin(R) * K + q;
          this.in.Dstn.m(Math.sqrt(J * J + w * w), !0);
          this.in.lagl.m(Math.atan2(w, -J) * 180 / Math.PI, null, !0)
      }
  }
  ;
  bt.prototype.yg = function(n, z, C, D, F) {
      this.yY = null
  }
  ;
  bt.prototype.aeG = function() {
      for (var M = 0; M < this.XU.length; M++) {
          l.DA(this.XU[M], "selected");
          if (this.IE[M]instanceof eS)
              this.IE[M].m(!1)
      }
  }
  ;
  bt.prototype.a8n = function(n) {
      var z = this.aqL.bind(this);
      for (var M = 0; M < this.IE.length; M++) {
          var C = l.w("div", "listitem");
          this.XU.push(C);
          if (M > 0)
              C.textContent = "\u2003";
          C.appendChild(this.IE[M].j);
          if (g$.VS.indexOf(this.SV) != -1) {
              var D = new gJ("+");
              D.so();
              D.j.style.float = "right";
              C.appendChild(D.j);
              var F = new gJ("\u2B0D");
              F.so();
              F.j.style.float = "right";
              F.j.style["margin-right"] = "2px";
              C.appendChild(F.j)
          }
          C.addEventListener("click", z, !1);
          n.appendChild(C)
      }
  }
  ;
  bt.SQ = function(n, z) {
      var C = z.getBoundingClientRect();
      return (n.clientY - C.top) / C.height
  }
  ;
  bt.prototype.aqL = function(n) {
      var z = n.target.tagName.toLowerCase();
      if (z == "input") {
          return
      }
      if (z == "button") {
          var C = new u(l.E.M,!0)
            , D = n.target.textContent == "+"
            , F = D ? 0 : bt.SQ(n, n.target) < .5 ? -1 : 1;
          if (D)
              C.data = {
                  e: "st_dupsingle",
                  b: this.parent.data.b,
                  Mb: this.GF
              };
          else
              C.data = {
                  e: "st_movsingle",
                  b: this.parent.data.b,
                  Mb: this.GF,
                  a9x: F
              };
          C.F = O.pZ;
          C.Wp = !0;
          this.f(C);
          C = new u("redrawall",!0);
          C.data = {
              a9x: F
          };
          this.f(C);
          return
      }
      l.I_(n);
      this.fh();
      this.uO = this.XU.indexOf(n.currentTarget);
      this.f(new u("showme"))
  }
  ;
  bt.prototype.fh = function() {
      if (this.in.enab && this.in.enab.u() == !1)
          this.sl({
              R1: "enab",
              G: !0
          })
  }
  ;
  bt.prototype.anY = function() {
      var n = this.XU[this.uO];
      if (n)
          l.G5(n, "selected");
      return this.lq[this.uO]
  }
  ;
  bt.prototype.a0$ = function(n) {
      var z = {};
      for (var M = 0; M < n.length; M++) {
          var C = n[M]
            , D = null;
          if (C == "----")
              D = {
                  j: l.w("hr")
              };
          if (C == "\n")
              D = {
                  j: l.w("br")
              };
          if (C == "blOptions")
              D = new be([14, 10]);
          if (C == "brst")
              D = new ez([12, 72],["R", "G", "B"]);
          if (C == "knko")
              D = new fR("Knockout",[[13, 1, 0], "Shallow", "Deep"]);
          if (C == "enab")
              D = new eS(g$.names[g$.order.indexOf(this.SV)]);
          if (C == "lrMd" || C == "Md")
              D = new fR([12, 19, 0],hr.K6,!1,hr.a4);
          if (C == "Opct")
              D = new iT([12, 0],0,100,"%");
          if (C == "iOpa")
              D = new iT([12, 26],0,100,"%");
          if (C == "blIf")
              D = new gk;
          if (C == "ShdN")
              D = new iT([12, 68],0,100,"%");
          if (C == "lagl" || C == "Angl")
              D = new ic([12, 15],this.SV == "ebbl");
          if (C == "uglg")
              D = new eS([12, 27]);
          if (C == "Dstn")
              D = new iT([12, 28],0,200,"px");
          if (C == "Ckmt")
              D = new iT([12, 29],0,100,"%");
          if (C == "blur")
              D = new iT([12, 14, 0],0,200,"px");
          if (C == "TrnS" || C == "MpgS")
              D = new ei([12, 21]);
          if (C == "Nose")
              D = new iT([12, 30],0,100,"%");
          if (C == "layerConceals")
              D = new eS([12, 31]);
          if (C == "AntA" || C == "antialiasGloss")
              D = new eS("Anti-alias");
          if (C == "GlwT")
              D = new fR([12, 32],g$.Is.names);
          if (C == "glwS")
              D = new fR([12, 70],g$.Is.alg);
          if (C == "Inpr")
              D = new iT([12, 12],1,100,"%");
          if (C == "bvlS")
              D = new fR([12, 22],g$.en.style);
          if (C == "bvlT")
              D = new fR([12, 32],g$.en.ab8);
          if (C == "bvlD")
              D = new fR(null,g$.en.dir);
          if (C == "srgR")
              D = new iT([12, 34],0,1e3,"%");
          if (C == "Sftn")
              D = new iT([12, 35],0,20,"px");
          if (C == "Lald")
              D = z.lagl;
          if (C == "hglM" || C == "sdwM")
              D = new fR([12, 36],hr.K6,!1,hr.a4);
          if (C == "hglC" || C == "sdwC")
              D = new e$;
          if (C == "hglO" || C == "sdwO")
              D = new iT([12, 0],0,100,"%");
          if (C == "Invr" || C == "InvT")
              D = new eS([4, 11]);
          if (C == "Sz")
              D = new iT([12, 14, 0],1,200,"px");
          if (C == "Styl")
              D = new fR([12, 40],g$.stroke.names);
          if (C == "PntT")
              D = new fR([12, 66],g$.stroke.a1Z);
          if (C == "Clr")
              D = new e$(!0);
          if (C == "Grad") {
              D = new hy(!0,[12, 37],!0);
              D.m(JSON.parse(g$.LX.fP).v)
          }
          if (C == "Rvrs")
              D = new eS([12, 23, 0]);
          if (C == "Dthr")
              D = new eS("Dither");
          if (C == "Type")
              D = new fR([12, 22],g$._.names.slice(0, this.SV == "FrFX" ? 6 : 5));
          if (C == "Ptrn")
              D = new eP([12, 62]);
          if (C == "Scl")
              D = new iT([12, 38],10,500,"%",0,!0);
          if (C == "Algn")
              D = new eS([12, 39]);
          if (C == "Ofst")
              D = new bT(!0);
          if (C == "phase")
              D = new bT(!1);
          if (C == "useShape")
              D = new eS([12, 21]);
          if (C == "useTexture")
              D = new eS([12, 67]);
          if (C == "textureDepth")
              D = new iT([12, 34],-300,300,"%");
          var F = C == "----" || C == "\n" ? C + M : C;
          if (D != null)
              z[F] = D
      }
      return z
  }
  ;
  bt.prototype.aqT = function(n) {
      var z = this.lq[this.uO];
      for (var M = 0; M < n.length; M++) {
          var C = this.in[n[M]];
          if (C && z.contains(C.j))
              z.removeChild(C.j)
      }
  }
  ;
  bt.prototype.aaY = function(n) {
      var z = this.lq[this.uO];
      for (var M = 0; M < n.length; M++) {
          var C = this.in[n[M]];
          if (C && !z.contains(C.j))
              z.appendChild(C.j)
      }
  }
  ;
  bt.prototype.vi = function(n, z) {
      if (this.in == null)
          return;
      var C = z == c1.Ui;
      if (this.in.Grad) {
          this.in.Grad.fF(n.Du, n.ff);
          if (C || z == c1.yi || z == c1.ax)
              this.in.Grad.fY(n.Gt)
      }
      if (this.in.Ptrn) {
          if (C || z == c1.yu)
              this.in.Ptrn.fY(n.NC)
      }
      if (this.in.TrnS) {
          if (C || z == c1.Cj)
              this.in.TrnS.fY(n.sB)
      }
      if (this.in.MpgS) {
          if (C || z == c1.Cj)
              this.in.MpgS.fY(n.sB)
      }
  }
  ;
  bt.prototype.B = function() {
      for (var M = 0; M < this.lj.length; M++)
          this.lj[M].B();
      for (var n in this.in)
          if (this.in[n]instanceof gN)
              this.in[n].B()
  }
  ;
  bt.prototype.Yw = function() {
      for (var n in this.in) {
          var z = this.in[n];
          z.parent = this;
          if (z instanceof gN)
              z.s(l.E.L, this.aqY, this);
          if (this.lq.length == 0 || n == "useShape" || n == "useTexture") {
              var C = new be(z.Rd())
                , D = l.w("div", "bordered padded");
              if (this.eV == !1) {
                  D.appendChild(C.j);
                  D.appendChild(l.w("hr", ""))
              }
              this.lj.push(C);
              this.lq.push(D);
              this.IE.push(z)
          } else
              this.lq[this.lq.length - 1].appendChild(z.j)
      }
  }
  ;
  bt.prototype.update = function(n, z) {
      if (this.in == null)
          return;
      this.WK = JSON.parse(JSON.stringify(z));
      for (var C in z) {
          if ("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(C) != -1)
              this.in[C].m(z[C].v.val);
          if ("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(C) != -1) {
              this.in[C].m(z[C].v, n)
          }
          if (["Md", "hglM", "sdwM"].indexOf(C) != -1)
              this.in[C].m(hr.SV.indexOf(z[C].v.BlnM));
          if (C == "lrMd") {
              var D = (z.d4 ? [[15, 10, 27]] : []).concat(hr.K6)
                , F = (z.d4 ? [1] : []).concat(hr.a4);
              this.in[C].us(D, F);
              this.in[C].m(z[C].v)
          }
          if (C == "lagl") {
              var X = z.uglg && z.uglg.v ? n.eY() : z.lagl.v.val;
              this.in[C].m(X)
          }
          if (C == "Lald") {
              var X = z.uglg && z.uglg.v ? n.Wq() : z.Lald.v.val;
              this.in[C].m(null, X)
          }
          if (C == "Type")
              this.in[C].m(g$._.types.indexOf(z.Type.v.GrdT));
          if (C == "Styl")
              this.in[C].m(g$.stroke.types.indexOf(z.Styl.v.FStl));
          if (C == "PntT") {
              var E = g$.stroke.Na.indexOf(z.PntT.v.FrFl);
              this.in[C].m(E);
              if (!this.eV) {
                  this.aqT(g$.oQ.concat(g$.p_.concat(g$.XK)));
                  this.aaY([g$.oQ, g$.p_, g$.XK][E])
              }
          }
          if (C == "GlwT")
              this.in[C].m(g$.Is.types.indexOf(z.GlwT.v.BETE));
          if (C == "glwS")
              this.in[C].m(g$.Is.Ip.indexOf(z.glwS.v.IGSr));
          if (C == "bvlS")
              this.in[C].m(g$.en.types.indexOf(z.bvlS.v.BESl));
          if (C == "bvlT")
              this.in[C].m(g$.en.eN.indexOf(z.bvlT.v.bvlT));
          if (C == "bvlD")
              this.in[C].m(["In", "Out"].indexOf(z.bvlD.v.BESs))
      }
  }
  ;
  bt.prototype.aqY = function(n) {
      for (var z in this.in) {
          if (this.in[z] != n.target)
              continue;
          var C = null
            , D = !1;
          if ("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(z) != -1)
              C = {
                  type: "#Prc",
                  val: n.target.u()
              };
          if (["Dstn", "Ckmt", "blur", "Sz", "Sftn"].indexOf(z) != -1)
              C = {
                  type: "#Pxl",
                  val: n.target.u()
              };
          if (["Angl", "lagl"].indexOf(z) != -1)
              C = {
                  type: "#Ang",
                  val: n.target.u().tq
              };
          if ("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(z) != -1)
              C = n.target.u();
          if (["Md", "hglM", "sdwM"].indexOf(z) != -1)
              C = {
                  BlnM: hr.SV[n.target.u()]
              };
          if (z == "uglg") {
              C = n.target.u();
              D = !0
          }
          if (z == "PntT") {
              C = {
                  FrFl: g$.stroke.Na[n.target.u()]
              };
              D = !0
          }
          if (z == "Lald")
              C = {
                  type: "#Ang",
                  val: n.target.u().alt
              };
          if (z == "Type")
              C = {
                  GrdT: g$._.types[n.target.u()]
              };
          if (z == "Styl")
              C = {
                  FStl: g$.stroke.types[n.target.u()]
              };
          if (z == "GlwT")
              C = {
                  BETE: g$.Is.types[n.target.u()]
              };
          if (z == "glwS")
              C = {
                  IGSr: g$.Is.Ip[n.target.u()]
              };
          if (z == "bvlS")
              C = {
                  BESl: g$.en.types[n.target.u()]
              };
          if (z == "bvlT")
              C = {
                  bvlT: g$.en.eN[n.target.u()]
              };
          if (z == "bvlD")
              C = {
                  BESs: ["In", "Out"][n.target.u()]
              };
          this.sl({
              R1: z,
              G: C
          });
          if (D) {
              if (this.eV)
                  this.update(null, this.WK);
              else {
                  var F = this.parent
                    , X = F.JB
                    , E = this.GF
                    , f = X.W[F.data.b].add.lmfx[g$.IT[E[0]]].v[E[1]].v;
                  this.update(X, f)
              }
          }
      }
  }
  ;
  bt.prototype.sl = function(n) {
      if (this.WK && this.WK[n.R1])
          this.WK[n.R1].v = n.G;
      if (this.eV) {
          this.f(new u(l.E.L))
      } else {
          n.e = "changeprop";
          n.b = this.parent.data.b;
          n.kB = this.GF;
          var z = new u(l.E.M,!0);
          z.data = n;
          z.F = O.pZ;
          z.Wp = !0;
          this.f(z);
          this.f(new u("afterchange",!0))
      }
  }
  ;
  bt.prototype.u = function() {
      return JSON.parse(JSON.stringify(this.WK))
  }
  ;
  bt.XU = {
      bops: "blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),
      DrSh: "enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),
      IrSh: "enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),
      OrGl: ["enab", "Md", "Opct", "Nose", "\n", "Clr", "Grad", "----", "GlwT", "Ckmt", "blur", "TrnS", "Inpr", "ShdN"],
      IrGl: ["enab", "Md", "Opct", "Nose", "\n", "Clr", "Grad", "----", "GlwT", "glwS", "Ckmt", "blur", "TrnS", "Inpr", "ShdN"],
      ebbl: ["enab", "bvlS", "bvlT", "bvlD", "srgR", "blur", "Sftn", "----", "lagl", "Lald", "uglg", "TrnS", "\n", "hglM", "hglC", "hglO", "sdwM", "sdwC", "sdwO", "useShape", "MpgS", "Inpr", "useTexture", "Ptrn", "Scl", "textureDepth", "InvT", "Algn", "phase"],
      SoFi: ["enab", "Md", "Opct"].concat(g$.oQ),
      GrFl: ["enab", "Md", "Opct"].concat(g$.p_),
      patternFill: ["enab", "Md", "Opct"].concat(g$.XK),
      ChFX: "enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),
      FrFX: ["enab", "Sz", "Styl", "\n", "Md", "Opct", "PntT", "\n"].concat(g$.oQ.concat(g$.p_.concat(g$.XK)))
  };
  function gR() {
      da.call(this, [11, 6], "layerstyle");
      this.a9$ = -1;
      this.data = {};
      this.JB = null;
      this.VJ = null;
      this.Cl = [];
      this.Er = [];
      l.G5(this.body, "flexrow");
      this.eH = l.w("div", "bordered");
      this.eH.setAttribute("style", "min-width:13em;");
      this.body.appendChild(this.eH);
      this.v1 = l.w("div", "");
      this.v1.setAttribute("style", "width:25em; padding-left: 1em;");
      this.body.appendChild(this.v1);
      this.bB = l.w("div", "form");
      this.bB.setAttribute("style", "padding-left: 1em; width:7em;");
      this.body.appendChild(this.bB);
      this.K0 = new gJ("OK",!0,null,!0);
      this.K0.s("click", this.G8, this);
      this.bB.appendChild(this.K0.j);
      this.pY = new gJ([12, 87],!0,null,!0);
      this.pY.s("click", this.a0u, this);
      this.bB.appendChild(this.pY.j);
      this.Xb = new dY;
      this.Xb.parent = this;
      this.Xb.s(l.E.L, this.a42, this);
      this.bB.appendChild(this.Xb.j);
      this.s("closebtn", this.e$, this);
      this.s("redrawall", this.aj0, this)
  }
  gR.prototype = new da;
  gR.prototype.TU = function() {
      return !0
  }
  ;
  gR.prototype.qI = function() {
      return !0
  }
  ;
  gR.prototype.mY = function(n, z, C, D, F) {
      var X = this.dA();
      if (X)
          X.mY(n, z, C, D, F)
  }
  ;
  gR.prototype.Xl = function(n, z, C, D, F) {
      var X = this.dA();
      if (X)
          X.Xl(n, z, C, D, F)
  }
  ;
  gR.prototype.yg = function(n, z, C, D, F) {
      var X = this.dA();
      if (X)
          X.yg(n, z, C, D, F)
  }
  ;
  gR.prototype.dA = function(n) {
      if (n == null)
          n = this.data.index;
      return n == null ? null : n == 0 ? this.Cl[0] : this.Er[n[0]][n[1]]
  }
  ;
  gR.prototype.a42 = function(n) {
      var z = this.Xb.u();
      this.sl({
          e: "setstl",
          G: z._i
      });
      this.aj0(null)
  }
  ;
  gR.prototype.a0u = function(n) {
      var z = this.JB
        , C = this.data.b;
      if (C == null)
          C = z.C[0];
      var D = this.JB.W[C]
        , F = fg.dW(D)
        , X = new u(l.E.P,!0);
      X.data = {
          e: l.H.W9,
          wa: "add",
          G6: c1.MS,
          TT: [JSON.parse(JSON.stringify(F))]
      };
      this.f(X)
  }
  ;
  gR.prototype.adw = function(n) {
      this.data.index = n.currentTarget.GF;
      this.TA(n.currentTarget.GF)
  }
  ;
  gR.prototype.aj0 = function(n) {
      this.vb(this.JB, this.data)
  }
  ;
  gR.prototype.TA = function(n, z) {
      l.M$(this.v1);
      for (var M = 0; M < this.Cl.length; M++)
          this.Cl[M].aeG();
      var C = this.dA(n);
      this.v1.appendChild(C.anY());
      if (z)
          C.fh();
      var D = this.JB;
      if (D) {
          var F = D.W[this.data.b];
          this.Cl[0].update(D, e3.X_.ok(D, F));
          var X = F.add.lmfx;
          if (X == null)
              return;
          for (var M = 0; M < g$.order.length; M++) {
              var E = X[g$.IT[M]].v;
              for (var f = 0; f < E.length; f++)
                  this.Er[M][f].update(D, E[f].v)
          }
      }
      if (z)
          C.fh()
  }
  ;
  gR.prototype.B = function() {
      da.prototype.B.call(this);
      this.pY.B();
      this.Xb.B();
      for (var M = 0; M < this.Cl.length; M++)
          this.Cl[M].B()
  }
  ;
  gR.prototype.vb = function(n, z) {
      var C = z.b == null;
      this.data.b = z.b;
      this.data.index = z.index;
      z = this.data;
      this.JB = n;
      if (C)
          z.b = n.C.length == 0 ? n.W.length - 1 : n.C[0];
      l.M$(this.eH);
      var D = n.W[z.b].add.lmfx;
      this._A();
      this.Cl = [new bt("bops",!1,0)];
      this.Er = [];
      for (var M = 0; M < g$.order.length; M++) {
          this.Er.push([]);
          var F = D == null ? [] : D[g$.IT[M]].v;
          for (var X = 0; X < F.length; X++) {
              var E = new bt(g$.order[M],!1,[M, X]);
              this.Cl.push(E);
              this.Er[M].push(E)
          }
          if (F.length == 0) {
              var E = new bt(g$.order[M],!1,[M, 0]);
              this.Cl.push(E);
              this.Er[M].push(E)
          }
      }
      this.B();
      this.al3(this.VJ, c1.Ui);
      for (var M = 0; M < this.Cl.length; M++) {
          this.Cl[M].parent = this;
          this.Cl[M].a8n(this.eH);
          this.Cl[M].s("showme", this.adw, this)
      }
      if (z.index == null || z.index == 0 || !C && D[g$.IT[z.index[0]]].v.length == 0) {
          this.TA(0)
      } else
          this.TA(z.index, C);
      this.s("afterchange", this._A, this)
  }
  ;
  gR.prototype._A = function(n) {
      var z = this.JB
        , C = this.data.b;
      if (C == null)
          C = z.C[0];
      var D = this.JB.W[C]
        , F = fg.dW(D);
      this.Xb.m(F, z.add.Patt ? z.add.Patt : [], z.eY(), z.Wq())
  }
  ;
  gR.prototype.vi = function(n, z) {
      this.VJ = n;
      this.al3(n, z);
      if (z == c1.MS || z == c1.Ui) {
          this.Xb.fY([n.CJ, n.NC])
      }
      if (z == c1.ES) {}
  }
  ;
  gR.prototype.al3 = function(n, z) {
      for (var M = 0; M < this.Cl.length; M++)
          this.Cl[M].vi(n, z)
  }
  ;
  gR.prototype.e$ = function(n) {
      this.sl({
          e: "cancel"
      })
  }
  ;
  gR.prototype.G8 = function(n) {
      this.sl({
          e: "confirm"
      });
      this.close()
  }
  ;
  gR.prototype.sl = function(n) {
      n.b = this.data.b;
      var z = new u(l.E.M,!0);
      z.data = n;
      z.F = O.pZ;
      z.Wp = !0;
      this.f(z);
      this._A()
  }
  ;
  gR.EV = function(n) {
      var z = [{
          name: [14, 10],
          B$: !0
      }];
      for (var M = 0; M < g$.names.length; M++)
          z.push({
              name: g$.names[M]
          });
      if (n) {
          z[z.length - 1].B$ = !0;
          z.push({
              name: "Scale Effects",
              c: function(C) {
                  return {
                      c: C != null && C.C.length != 0 && C.W[C.C[0]].BM()
                  }
              }
          });
          z.push({
              name: ["VAR0 VAR1", [12, 49], [9, 1]],
              c: function(C) {
                  return {
                      c: C != null && C.C.length != 0 && C.W[C.C[0]].add.lmfx != null
                  }
              }
          })
      }
      return z
  }
  ;
  gR.wk = function(n) {
      var z = [{
          Y: l.E.P,
          n: {
              e: l.H.xb,
              gA: "layerstyle"
          }
      }];
      for (var M = 0; M < g$.names.length; M++)
          z.push({
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "layerstyle",
                  index: [M, 0]
              }
          });
      if (n) {
          z.push({
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "scaleeffects",
                  WG: 100,
                  OZ: {
                      Y: l.E.M,
                      F: O.pZ,
                      n: {
                          e: "scaleeffects"
                      }
                  }
              }
          });
          var C = {
              classID: "Mk",
              null: eW.ek("Lyr"),
              Usng: {
                  t: "obj ",
                  v: [{
                      t: "prop",
                      v: {
                          classID: "Prpr",
                          keyID: "Lefx"
                      }
                  }, {
                      t: "Enmr",
                      v: {
                          classID: "Lyr",
                          typeID: "Ordn",
                          enum: "Trgt"
                      }
                  }]
              }
          };
          z.push({
              Y: l.E._R,
              n: {
                  KY: "make",
                  cw: C
              }
          })
      }
      return z
  }
  ;
  gR.ajb = function(n) {
      var z = [];
      if (n)
          z.push({
              name: [6, 48, 0, 0],
              $a: !0
          }, {
              name: [6, 48, 0, 1],
              $a: !0
          }, {
              name: [6, 48, 0, 2],
              $a: !0,
              B$: !0
          });
      for (var C in ad.names)
          z.push({
              name: ad.names[C],
              B$: ad.L5.indexOf(C) != -1,
              $a: t[C] != null
          });
      return z
  }
  ;
  gR.a1p = function(n) {
      var z = [];
      if (n) {
          z.push({
              Y: l.E.M,
              F: O.b_,
              n: {
                  e: "newfill",
                  Gj: 0
              }
          });
          for (var M = 1; M < 3; M++)
              z.push({
                  Y: l.E._R,
                  n: O.oE.EI(M)
              })
      }
      for (var C in ad.names) {
          var D = fd.zP(C);
          if (D == null)
              D = {};
          for (var F in ad.SZ)
              if (ad.SZ[F] == C)
                  D.classID = F;
          var X = {
              KY: "make",
              cw: {
                  classID: "Mk",
                  null: eW.ek("AdjL"),
                  Usng: {
                      t: "Objc",
                      v: {
                          classID: "AdjL",
                          Type: {
                              t: "Objc",
                              v: D
                          }
                      }
                  }
              }
          };
          z.push({
              Y: l.E._R,
              n: X
          })
      }
      return z
  }
  ;
  function ef() {
      da.call(this, "Merge Channels", "mergechannels");
      this.HI = null;
      var n = l.w("div", "form");
      this.body.appendChild(n);
      this.zB = [];
      for (var M = 0; M < 3; M++) {
          var z = new fR(ad.Ps[M],[]);
          this.zB.push(z);
          n.appendChild(z.j);
          l.jn(n)
      }
      this.K0 = new gJ("OK",!0,null,!0);
      this.K0.s("click", this.G8, this);
      n.appendChild(this.K0.j)
  }
  ef.prototype = new da;
  ef.prototype.B = function() {
      da.prototype.B.call(this);
      for (var M = 0; M < 3; M++)
          this.zB[M].B()
  }
  ;
  ef.prototype.vb = function(n, z, C, D) {
      this.HI = C;
      var F = [];
      for (var M = 0; M < C.length; M++)
          F.push(C[M].name);
      for (var M = 0; M < 3; M++) {
          var X = this.zB[M];
          X.us(F);
          X.m(Math.min(M, C.length - 1))
      }
  }
  ;
  ef.prototype.G8 = function(n) {
      var z = this.HI
        , C = z[0]
        , D = new u(l.E._R,!0);
      D.data = b$.QG(C.d, C.v, C.$M, "Merged Document", "Wht", !1);
      this.f(D);
      var F = [];
      for (var M = 0; M < 3; M++)
          F.push(z[this.zB[M].u()].Wc());
      var C = z[z.length - 1]
        , X = C.W[0]
        , E = X.buffer;
      for (var M = 0; M < E.length; M += 4) {
          E[M] = F[0][M];
          E[M + 1] = F[1][M];
          E[M + 2] = F[2][M]
      }
      X.J();
      C.J();
      this.close()
  }
  ;
  function dB() {
      da.call(this, [1, 10], "script");
      var n = l.w("div", "form");
      n.setAttribute("style", "width:44em");
      this.body.appendChild(n);
      this.VJ = null;
      this.J_ = [];
      this.H5 = [];
      this.agj;
      var z = this.KZ = new gJ([1, 2],!1,null,!0);
      z.s("click", this.SR, this);
      n.appendChild(z.j);
      var C = new gJ("JS Reference",!1,null,!0);
      C.s("click", this.anb, this);
      n.appendChild(C.j);
      n.appendChild(new be("Demos:").j);
      this.a2X = [];
      var D = dB.Jw;
      for (var M = 0; M < D.length; M++) {
          var F = new gJ(D[M].sO,!1,null,!0);
          this.a2X.push(F);
          n.appendChild(F.j);
          F.s("click", this.an1, this)
      }
      this.HD = l.w("textarea");
      this.HD.setAttribute("rows", 16);
      this.HD.setAttribute("style", "display:block;tab-size:4; font-family:monospace;width:100%;");
      n.appendChild(this.HD);
      var X = new gJ("Run",!0,null,!0);
      X.s("click", this.G8, this);
      n.appendChild(X.j);
      this.akd = l.w("div");
      n.appendChild(this.akd)
  }
  dB.prototype = new da;
  dB.prototype.B = function() {
      this.KZ.B()
  }
  ;
  dB.prototype.SR = function() {
      var n = this.agj;
      if (n == null)
          n = "script.jsx";
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.xb,
          gA: "namewindow",
          WG: n.slice(0, n.length - 4),
          dX: this.af9.bind(this)
      };
      this.f(z)
  }
  ;
  dB.prototype.af9 = function(n) {
      var z = this.HD.value
        , C = T.Ns(z)
        , D = new u(l.E.P,!0);
      D.data = {
          e: l.H.Nz,
          TE: C.buffer,
          L9: n + ".jsx",
          a2f: !0
      };
      this.f(D)
  }
  ;
  dB.prototype.akI = function(n) {
      var M = this.J_.indexOf(n.target)
        , z = this.agj = this.H5[M]
        , C = this.VJ.$H.Rr[z]
        , D = new Uint8Array(C)
        , F = T.iS(D, 0, D.length);
      this.HD.value = F
  }
  ;
  dB.prototype.vb = function(n, z, C) {
      this.HD.value = dB.Jw[0].V3;
      this.a0H()
  }
  ;
  dB.prototype.a0H = function() {
      var n = this.VJ.$H
        , z = this.akd;
      l.M$(z);
      this.J_ = [];
      this.H5 = [];
      z.textContent = "Saved scripts: ";
      for (var C in n.Rr) {
          if (C.endsWith(".jsx")) {
              var D = new gJ(C,!1,null,!0);
              this.J_.push(D);
              this.H5.push(C);
              D.s("click", this.akI, this);
              z.appendChild(D.j)
          }
      }
  }
  ;
  dB.prototype.vi = function(n, z) {
      this.VJ = n;
      if (z == c1.Em)
          this.a0H()
  }
  ;
  dB.prototype.anb = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.lL,
          link: "https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"
      };
      this.f(z)
  }
  ;
  dB.prototype.G8 = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.ps,
          rW: this.HD.value
      };
      this.f(z)
  }
  ;
  dB.prototype.an1 = function(n) {
      var z = this.a2X.indexOf(n.currentTarget);
      this.HD.value = dB.Jw[z].V3
  }
  ;
  dB.Jw = [{
      sO: "Hello",
      V3: "\nalert(\"Hello Photopea!\");\n"
  }, {
      sO: "Process Layers",
      V3: "\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n" + "\t//lays[i].visible = false;\n" + "\t//lays[i].opacity = 50;\n" + "\tlays[i].name = \"My Layer \"+i;\n}"
  }, {
      sO: "Clone Layers",
      V3: "\nvar orig = app.activeDocument.activeLayer;\n" + "var cnt = 12;\n" + "var angle = Math.floor(360 / cnt);\n" + "\n" + "for(var i=1; i<cnt; i++)\n" + "{\n" + "\tvar nlay = orig.duplicate();\n" + "\t//nlay.translate(30*i, 20*i);\n" + "\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n" + "}"
  }];
  function iC() {
      da.call(this, [11, 7], "newproject");
      this.data = null;
      this.HI = null;
      var n = l.w("div", "flexrow");
      this.Rw = n;
      this.body.appendChild(n);
      var z = l.w("div", "form");
      this.PH = z;
      n.appendChild(z);
      this.Gl = new ik([12, 48]);
      z.appendChild(this.Gl.j);
      l.jn(z);
      this.nc = new aJ(!0);
      this.nc.m(new ir(1280,720), 72);
      this.nc.s(l.E.L, this.Oh, this);
      z.appendChild(this.nc.j);
      this.cp = new fR([12, 46],[[13, 1, 8], [13, 1, 10], [13, 1, 9], [12, 46]]);
      z.appendChild(this.cp.j);
      this.U8 = new eS("Artboards");
      z.appendChild(this.U8.j);
      this.GI = new gJ([12, 49],!0,null,!0);
      this.GI.s("click", this.G8, this);
      z.appendChild(this.GI.j);
      var C = iC.Yf
        , D = [];
      for (var M = 0; M < C.length; M++)
          D.push(C[M].name);
      this.oO = new b7(null,D);
      this.oO.s(l.E.L, this.ag_, this);
      z.appendChild(this.oO.j);
      this.oO.j.style["margin-top"] = "1em";
      this.Q0 = new hx(!0);
      this.Q0.s(l.E.L, this.ab2, this);
      z.appendChild(this.Q0.j);
      this.ag_();
      this.k7 = new b5;
      this.k7.parent = this;
      this.k7.j.setAttribute("style", "margin-left:1em");
      this.k7.s("tempready", this.aaU, this)
  }
  iC.prototype = new da;
  iC.prototype.vi = function(n, z) {
      this.k7.vi(n)
  }
  ;
  iC.prototype.JX = function(n, z) {
      return new ir(Math.max(0, Math.min(70, (n - 690) / 2)),n > z ? Math.max(0, Math.min(50, (z - 400) / 2)) : 0)
  }
  ;
  iC.prototype.IP = function(n, z) {
      this.PH.setAttribute("style", "width:" + Math.min(n, 338) + "px");
      this.Q0.j.style.height = z - 260 + "px";
      var C = this.k7.j
        , D = C.parentNode;
      if (n < 500) {
          if (D != null)
              this.Rw.removeChild(C)
      } else {
          if (D == null)
              this.Rw.appendChild(C)
      }
      this.k7.IP(n - 360, z - 35)
  }
  ;
  iC.prototype.Oh = function() {
      this.k7.m(this.nc.u())
  }
  ;
  iC.prototype.ab2 = function(n) {
      var z = this.Q0.u()
        , C = iC.Yf[this.oO.u()].gP[z]
        , D = C[4];
      if (D == 0)
          D = 72;
      var F = C[1]
        , X = C[2]
        , E = ["px", "%", "mm", "in"].indexOf(C[3])
        , f = [1, 1, 25.4 / D, 1 / D][E];
      F /= f;
      X /= f;
      this.nc.m(new ir(Math.round(F),Math.round(X)), D);
      this.nc.a7w(E);
      this.Q0.eJ(z);
      this.Oh()
  }
  ;
  iC.prototype.ag_ = function(n) {
      var z = iC.Yf[this.oO.u()].gP
        , C = []
        , D = []
        , F = Math.round(106 * l.D())
        , X = Math.round(106 * l.D())
        , E = 0;
      for (var M = 0; M < z.length; M++)
          E = Math.max(E, z[M][1], z[M][2]);
      for (var M = 0; M < z.length; M++) {
          var f = z[M]
            , a = f[1] + " x " + f[2] + " " + f[3];
          if (f[3] == "in")
              a = (f[1] * 25.4).toFixed(0) + " x " + (f[2] * 25.4).toFixed(0) + " mm";
          if (f[3] == "mm")
              a = (f[1] / 25.4).toFixed(1) + " x " + (f[2] / 25.4).toFixed(1) + " in";
          if (f[4])
              a = a + " @ " + f[4] + " ppi";
          D.push(a);
          C.push(iC.qK(f, F, X, E))
      }
      this.Q0.rR(C, D, F, X)
  }
  ;
  iC.qK = function(n, z, C, D) {
      var F = l.w("canvas", "")
        , X = F.getContext("2d");
      F.width = z;
      F.height = C;
      var E = Math.round(z / 8)
        , f = Math.floor(11 * l.D())
        , a = n[1]
        , q = n[2];
      X.fillStyle = "#000000";
      X.font = Math.round(f * .9) + "px \"Open Sans\", Sans-Serif";
      var c = a + " x " + q + " " + n[3]
        , K = X.measureText(c);
      X.fillText(c, Math.round((z - K.width) / 2), C - Math.round(E / 2));
      if (n[0] != null) {
          X.font = "bold " + f + "px \"Open Sans\", Sans-Serif";
          var c = n[0]
            , K = X.measureText(c);
          X.fillText(c, Math.round((z - K.width) / 2), C - Math.round(E / 2) - Math.round(f * 1.3))
      }
      C -= Math.round(2.5 * f);
      var R = Math.min((z - E) / a, (C - E) / q);
      R *= .5 + .5 * (Math.max(a, q) / D);
      var J = (z - a * R) / 2
        , w = (C - q * R) / 2;
      X.strokeRect(Math.round(J) + .5, Math.round(w) + .5, Math.round(a * R), Math.round(q * R));
      return F.toDataURL()
  }
  ;
  iC.prototype.B = function() {
      da.prototype.B.call(this);
      this.nc.B();
      this.Gl.B();
      this.cp.B();
      this.GI.B();
      this.Gl.m(aC.get([11, 7]));
      this.oO.B();
      this.U8.B();
      this.k7.B()
  }
  ;
  iC.prototype.G8 = function(n) {
      var z = this.nc.u()
        , C = z.x
        , D = z.y;
      this.close();
      var F = new u(l.E._R,!0);
      F.data = b$.QG(C, D, this.nc.Y$(), this.Gl.u(), ["Wht", "Blck", "Trns", "BckC"][this.cp.u()], this.U8.u());
      this.f(F);
      this.a9l()
  }
  ;
  iC.prototype.aaU = function(n) {
      var z = n.data.JB;
      z.$M = this.nc.Y$();
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.jt,
          JB: z
      };
      this.f(C);
      this.close();
      this.a9l()
  }
  ;
  iC.prototype.a9l = function() {
      var n = this.HI[this.HI.length - 1]
        , z = this.data.aaj;
      if (z)
          au.Ot(function() {
              var C = new XMLHttpRequest
                , D = "https://www.googleapis.com/drive/v3/files?" + au.KG();
              C.open("POST", D, !0);
              C.setRequestHeader("Content-Type", "application/json");
              C.addEventListener("load", function(F) {
                  var X = JSON.parse(F.target.response);
                  n.RD = {
                      file: X,
                      MH: "psd"
                  };
                  alert(n.name + " created in Google Drive")
              });
              C.send(JSON.stringify({
                  name: n.name,
                  a6L: [z]
              }))
          })
  }
  ;
  iC.prototype.vb = function(n, z, C, D) {
      this.HI = C;
      if (n != null && n.N != null) {
          var F = new cc(0,0,n.d,n.v).Yi(n.N.rect);
          this.nc.m(new ir(F.d,F.v))
      }
      this.data = z;
      this.Oh();
      this.Gl.p1();
      if (l.Zr())
          di.aaA(this.aom.bind(this))
  }
  ;
  iC.prototype.aom = function(n) {
      if (n == "granted")
          di.Wr(this, this.ahh.bind(this))
  }
  ;
  iC.prototype.ahh = function(n, z) {
      this.nc.m(new ir(z.d,z.v))
  }
  ;
  iC.Yf = [{
      name: "Social",
      gP: [["FB Page Cover", 1640, 664, "px", 0], ["FB Shared Image", 1200, 630, "px", 0], ["FB Event Image", 1920, 1080, "px", 0], ["FB Group Header", 1640, 856, "px", 0], ["Instagram", 1080, 1080, "px", 0], ["Insta Story", 1080, 1920, "px", 0], ["Youtube Profile", 800, 800, "px", 0], ["Youtube Cover", 2560, 1440, "px", 0], ["Twitter Profile", 400, 400, "px", 0], ["Twitter Header", 1500, 500, "px", 0]]
  }, {
      name: [12, 88, 4],
      gP: [["A3", 297, 420, "mm", 300], ["A4", 210, 297, "mm", 300], ["A5", 148, 210, "mm", 300], ["B3", 353, 500, "mm", 300], ["B4", 250, 353, "mm", 300], ["B5", 176, 250, "mm", 300], ["Letter", 8.5, 11, "in", 300], ["Ledger", 11, 17, "in", 300], ["Business Card", 3.5, 2, "in", 300]]
  }, {
      name: [12, 88, 0],
      gP: [["Wallet", 2, 3, "in", 300], ["Enprint", 3.5, 5, "in", 300], [null, 5, 7, "in", 300], [null, 8, 12, "in", 300], [null, 12, 18, "in", 300], [null, 16, 24, "in", 300], [null, 20, 30, "in", 300], [null, 24, 36, "in", 300]]
  }, {
      name: [12, 88, 1],
      gP: [["VGA", 640, 480, "px", 0], ["XGA", 1024, 768, "px", 0], ["HD", 1280, 720, "px", 0], [null, 1366, 768, "px", 0], [null, 1600, 900, "px", 0], ["Full HD", 1920, 1080, "px", 0], ["2K", 2048, 1080, "px", 0], ["UHD", 3840, 2160, "px", 0], ["4K", 4096, 2160, "px", 0]]
  }, {
      name: [12, 88, 2],
      gP: [["iPhone 4", 640, 900, "px", 326], ["iPhone 5", 640, 1136, "px", 326], ["iPhone 6 7 8", 750, 1334, "px", 326], ["iPhone 6+ 7+ 8+", 1080, 1920, "px", 401], ["iPhone X", 1125, 2436, "px", 458], ["Samsung A5", 720, 1280, "px", 0], ["Samsung S5", 1080, 1920, "px", 0], ["Samsung S6", 1440, 2560, "px", 0], ["Samsung S8+", 1440, 2560, "px", 0], ["Google Pixel", 1080, 1920, "px", 0], ["iPad Mini 4", 1536, 2048, "px", 0], ["iPad Air 2", 1536, 2048, "px", 0], ["iPad Pro 9.7\"", 1536, 2048, "px", 0], ["iPad Pro 10.5\"", 1668, 2224, "px", 0], ["iPad Pro 12.9\"", 2048, 2732, "px", 0]]
  }, {
      name: [12, 88, 3],
      gP: [["Small Square", 200, 200, "px", 0], ["Square", 250, 250, "px", 0], ["Medium Rect", 300, 250, "px", 0], ["Large Rect", 336, 280, "px", 0], ["Mobile Leaderboard", 320, 50, "px", 0], ["Large Mobile", 320, 100, "px", 0], ["Banner", 468, 60, "px", 0], ["Leaderboard", 728, 90, "px", 0], ["Large Leaderboard", 970, 90, "px", 0], ["Billboard", 970, 250, "px", 0], ["Vertical Rect", 240, 400, "px", 0], ["Skyscraper", 120, 600, "px", 0], ["Wide Skyscraper", 160, 600, "px", 0], ["Half Page", 300, 600, "px", 0], ["Portrait", 300, 1050, "px", 0]]
  }, {
      name: "2\u1D3A",
      gP: [[null, 16, 16, "px", 0], [null, 32, 32, "px", 0], [null, 64, 64, "px", 0], [null, 128, 128, "px", 0], [null, 256, 256, "px", 0], [null, 512, 512, "px", 0], [null, 1024, 1024, "px", 0], [null, 2048, 2048, "px", 0], [null, 4096, 4096, "px", 0]]
  }];
  function bx(n, z, C) {
      da.call(this, z, "sel_" + n);
      this.e = n;
      var D = l.w("div", "form");
      this.body.appendChild(D);
      this.Gl = new c5(z,0,255,null,0,!1,!0);
      D.appendChild(this.Gl.j);
      this.Gl.m(1);
      var F = l.w("span");
      F.textContent = C;
      D.appendChild(F);
      l.jn(D);
      this.a6n = new eS("Apply at canvas bounds");
      if (n != "border")
          D.appendChild(this.a6n.j);
      this.K0 = new gJ("OK",!0,null,!0);
      this.K0.s("click", this.G8, this);
      D.appendChild(this.K0.j)
  }
  bx.prototype = new da;
  bx.prototype.z_ = function(n, z) {
      if (n == null)
          return;
      if (n.N == null)
          alert("No selection!");
      return n.N != null
  }
  ;
  bx.prototype.G8 = function(n) {
      var z = new u(l.E._R,!0);
      z.data = O.lJ.anU(this.e, this.Gl.u(), this.a6n.u());
      z.Wp = !0;
      this.f(z);
      this.close()
  }
  ;
  bx.prototype.B = function() {
      da.prototype.B.call(this);
      if (this.Gl)
          this.Gl.B()
  }
  ;
  bx.prototype.vb = function(n, z) {}
  ;
  function hq(n, z, C, D, F) {
      da.call(this, C, z);
      this.th = F;
      this.Yf = null;
      this.PH = l.w("div", "form");
      this.body.appendChild(this.PH);
      this.Gl = n == 0 ? new ik(C) : new iT(C,0,500,D,1);
      this.Gl.s(l.E.L, this.k1, this);
      this.PH.appendChild(this.Gl.j);
      this.K0 = new gJ("OK",!0,null,!0);
      this.K0.s("click", this.G8, this);
      this.PH.appendChild(this.K0.j);
      this.s("closebtn", this.e$, this)
  }
  hq.prototype = new da;
  hq.prototype.TU = function() {
      return !0
  }
  ;
  hq.prototype.k1 = function(n) {
      var z = this.Gl.u();
      if (this.th)
          this.o2(z)
  }
  ;
  hq.prototype.e$ = function(n) {
      if (this.th)
          this.o2("cancel")
  }
  ;
  hq.prototype.G8 = function(n) {
      if (this.th)
          this.o2("confirm");
      else
          this.o2(this.Gl.u());
      this.close()
  }
  ;
  hq.prototype.o2 = function(n) {
      if (this.Yf.dX)
          this.Yf.dX(n);
      else if (this.Yf.OZ) {
          var z = this.Yf.OZ
            , C = new u(z.Y,!0);
          C.F = z.F;
          C.data = z.n;
          C.data.G = n;
          C.Wp = !0;
          this.f(C)
      }
  }
  ;
  hq.prototype.B = function() {
      da.prototype.B.call(this);
      if (this.Gl)
          this.Gl.B()
  }
  ;
  hq.prototype.vb = function(n, z) {
      this.Yf = z;
      this.Gl.m(z.WG);
      this.Gl.p1();
      this.k1(null)
  }
  ;
  function g2() {
      da.call(this, [1, 5], "open_from_url");
      this.Mf = null;
      var n = l.w("div", "form");
      this.body.appendChild(n);
      this.sH = new ik("URL",null,22);
      n.appendChild(this.sH.j);
      l.jn(n);
      this.jh = new b7([21, 0],[[21, 2], [21, 1]]);
      n.appendChild(this.jh.j);
      this.GI = new gJ("OK",!0,null,!0);
      this.GI.s("click", this.G8, this);
      n.appendChild(this.GI.j)
  }
  g2.prototype = new da;
  g2.prototype.B = function() {
      da.prototype.B.call(this);
      this.jh.B()
  }
  ;
  g2.prototype.vb = function(n, z, C) {
      this.sH.p1();
      this.Mf = null;
      if (n && C.indexOf(n) != -1)
          this.Mf = C.indexOf(n)
  }
  ;
  g2.prototype.G8 = function(n) {
      var z = new u(l.E.P,!0)
        , C = this.sH.u();
      z.data = {
          e: l.H.Om,
          G6: {
              url: C,
              bX: !0,
              Mf: this.jh.u() == 1 ? this.Mf : null
          }
      };
      this.f(z);
      this.close()
  }
  ;
  function c4() {
      da.call(this, [12, 79], "preferences");
      this.VJ = null;
      var n = l.w("div", "form");
      this.body.appendChild(n);
      this.XU = [new eS([8, 2]), new eS([8, 4]), new fR([12, 80, 3],[[12, 93, 3], [12, 80, 4]]), new iT([12, 80, 5],1,100,null,2), new fR(null,j.ST.lG), new fR([12, 80, 6],j.ST.lG)];
      for (var M = 0; M < this.XU.length; M++) {
          var z = this.XU[M];
          n.appendChild(z.j);
          if (M != 3)
              l.jn(n);
          z.s(l.E.L, this.tn, this)
      }
  }
  c4.prototype = new da;
  c4.prototype.B = function() {
      da.prototype.B.call(this);
      for (var M = 0; M < this.XU.length; M++)
          this.XU[M].B()
  }
  ;
  c4.prototype.vb = function(n, z, C) {}
  ;
  c4.prototype.vi = function(n, z) {
      this.VJ = n;
      this.XU[0].m(n.mw.Ea);
      this.XU[1].m(n.mw.Da);
      this.XU[2].m(n.mw.YF);
      this.XU[3].m(n.mw.um);
      this.XU[4].m(n.mw.ic);
      this.XU[5].m(n.mw.Ya)
  }
  ;
  c4.prototype.tn = function(n) {
      var z = this.XU
        , C = JSON.parse(JSON.stringify(this.VJ.mw));
      C.Ea = z[0].u();
      C.Da = z[1].u();
      C.YF = z[2].u();
      C.um = z[3].u();
      C.ic = z[4].u();
      C.Ya = z[5].u();
      if (C.ic != 4)
          C.um = Math.round(C.um);
      var D = new u(l.E.P,!0);
      D.data = {
          e: l.H.W9,
          G6: c1.eW,
          Z7: C
      };
      this.f(D)
  }
  ;
  function iY() {
      da.call(this, [11, 8], "saveforweb");
      this.acX = "";
      this.s("closebtn", function() {
          this.rq.h0()
      }, this);
      this.Uy = new ir(512,512);
      this.JB = null;
      this.MZ = null;
      this.a4s = null;
      this.VJ = null;
      l.G5(this.body, "flexrow");
      var n = l.w("div")
        , z = l.w("div");
      this.body.appendChild(n);
      this.body.appendChild(z);
      this.Jn = l.w("div", "imgcont");
      n.appendChild(this.Jn);
      this.rq = new aN;
      this.rq.IP(this.Uy.x, this.Uy.y);
      this._X = l.w("span");
      n.appendChild(this._X);
      this.PH = l.w("div", "form cell");
      this.PH.setAttribute("style", "width:15em; padding-left:1em;");
      z.appendChild(this.PH);
      this.pW = new fR([12, 50],fC.ja());
      this.PH.appendChild(this.pW.j);
      this.pW.s(l.E.L, this.O1, this);
      this.nc = new aJ(!0,!0,!1,!0);
      this.nc.s(l.E.L, this.O1, this);
      this.PH.appendChild(this.nc.j);
      this.cF = new bs;
      this.cF.s(l.E.L, this.O1, this);
      this.PH.appendChild(this.cF.j);
      this.YD = new gJ([1, 2],!0,null,!0);
      this.YD.s("click", this.G8, this);
      this.PH.appendChild(this.YD.j)
  }
  iY.prototype = new da;
  iY.prototype.z_ = function(n, z) {
      return n != null
  }
  ;
  iY.prototype.B = function() {
      da.prototype.B.call(this);
      this.nc.B();
      this.pW.B();
      this.cF.B();
      this.YD.B()
  }
  ;
  iY.prototype.G8 = function(n) {
      var z = this.JB.name.split(".")[0]
        , C = fC.ja()[this.pW.u()]
        , D = C == "JPG" || C == "PNG" || C == "GIF"
        , F = fC.ET(C)
        , X = "." + C.toLowerCase()
        , E = this.MZ
        , f = z + X
        , a = this.JB
        , q = a.CB;
      if (q.length != 0 && D && this.cF.u().pop()) {
          var c = "<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n"
            , K = []
            , R = {}
            , J = new cc(0,0,a.d,a.v)
            , w = a.Wc();
          for (var M = 0; M < q.length; M++)
              K.push(O.NB.Aa(q, M));
          K.reverse();
          var p = j.rect._T([0, 0, a.d, a.v], K);
          for (var M = 0; M < p.length; M++) {
              var I = p[M]
                , m = new cc(I[0],I[1],I[2] - I[0],I[3] - I[1])
                , A = I.length == 5 ? q[I[4]].v : null
                , U = j.T(m.t() * 4);
              j.X3(w, J, U, m);
              var r = "img/img" + (M + 1) + X;
              R[r] = new Uint8Array(F.c0([[U.buffer, 0]], m.d, m.v, this.cF.u()));
              c += "<div style=\"background-image:url('" + r + "'); left:" + m.x + "px; top:" + m.y + "px; width:" + m.d + "px; height:" + m.v + "px\">";
              if (A && A.url.v != "")
                  c += "\n\t<a href=\"" + A.url.v + "\" target=\"" + A.null.v + "\" style=\"display:block;width:100%;height:100%;\"></a>\n";
              c += "</div>\n"
          }
          c += "</body>\n</html>\n";
          var $ = j.T(Math.round(c.length * 1.5))
            , k = T.w4(c, $, 0);
          R["index.html"] = $.slice(0, k);
          E = UZIP.encode(R);
          f = z + ".zip"
      } else if (a.add.artd && a.add.artd.Cnt.v > 1 && D && this.cF.u().pop()) {
          var R = {}
            , J = new cc(0,0,a.d,a.v)
            , w = a.Wc()
            , G = a.root.children;
          for (var M = 0; M < G.length; M++) {
              var i = G[M].b;
              if (i.add.artb == null)
                  continue;
              var o = i.qJ()
                , S = j.T(o.t() * 4);
              j.X3(w, J, S, o);
              R[i.getName() + X] = new Uint8Array(F.c0([[S.buffer, 0]], o.d, o.v, this.cF.u()))
          }
          E = UZIP.encode(R);
          f = z + ".zip"
      }
      if (a.ze) {
          var H = new XMLHttpRequest;
          H.open("GET", "/papi/img/update.php?act=1&id=" + a.ze + "&rnd=" + Math.random());
          H.send()
      }
      var e = new u(l.E.P,!0);
      e.data = {
          e: l.H.rg,
          data: E,
          name: f
      };
      this.f(e);
      this.rq.h0();
      this.close()
  }
  ;
  iY.prototype.vb = function(n, z) {
      if (z.Zs != null)
          this.pW.m(z.Zs);
      this.JB = n;
      var C = n.d + "," + n.v;
      if (C != this.acX) {
          this.acX = C;
          this.nc.m(new ir(n.d,n.v), n.$M)
      }
      this.cF.a5T();
      this.O1(null, !0)
  }
  ;
  iY.prototype.JX = function(n, z) {
      return new ir(Math.max(0, Math.min(150, (n - 770) / 2)),Math.max(0, Math.min(150, (z - 590) / 2)))
  }
  ;
  iY.prototype.IP = function(n, z) {
      this.ob = n;
      this.ua = z;
      this.Uy.x = Math.min(512, n - 26 - 214);
      this.Uy.y = Math.min(512, z - 45);
      if (this.JB == null)
          return;
      var C = this.nc.u()
        , n = C.x
        , z = C.y
        , D = fC.ja()[this.pW.u()]
        , F = fC.ET(D)
        , K = "<span style=\"width:"
        , R = "display:inline-block; text-align:right;\">";
      if (F.Jz) {
          var X = n, E = z, f;
          if (D == "PDF" || F.RL) {
              X = this.Uy.x;
              E = this.Uy.y
          } else {
              X = Math.min(n + 20, this.Uy.x);
              E = Math.min(z + 20, this.Uy.y)
          }
          this.Jn.firstChild.setAttribute("style", "display:block; width:" + X + "px; height:" + E + "px;")
      } else {
          if (F.RL) {
              X = this.Uy.x;
              E = this.Uy.y
          } else {
              var a = this.a4s
                , q = a[0].Pi
                , X = q.d
                , E = q.v;
              this.rq.IP(Math.max(50, Math.min(X / l.D(), this.Uy.x)), Math.max(50, Math.min(E / l.D(), this.Uy.y)))
          }
      }
      var c = this.MZ.byteLength
        , J = D + ":" + K + 64 + "px;" + R + iY.ha(c) + "</span>";
      if (this.Uy.x > 200)
          J += K + 90 + "px; opacity:" + .5 + ";" + R + c.toLocaleString() + " B</span>";
      this._X.innerHTML = J
  }
  ;
  iY.ha = function(n) {
      var z = n.toString(2)
        , C = 0;
      while (C + 10 < z.length)
          C += 10;
      var D = (n / Math.pow(2, C)).toFixed(1)
        , F = "B KB MB GB TB PB".split(" ")[Math.floor(C / 10)];
      return D + " " + F
  }
  ;
  iY.prototype.vi = function(n, z) {
      this.VJ = n
  }
  ;
  iY.prototype.O1 = function(n, z) {
      var C = this.JB
        , D = this.nc.u()
        , F = D.x
        , X = D.y
        , E = this.pW.u()
        , f = fC.ja()[E]
        , a = fC.nT(C)[0].length
        , q = ["GIF", "PNG", "WEBP"].indexOf(f) != -1 && a > 1
        , p = "";
      if (q && z && (a > 4 && F * X > 1024 * 1024 || F * X * a > 800 * 800 * 50)) {
          var c = 1;
          while (Math.max(F >>> c, X >>> c) > 800)
              c++;
          var K = window.confirm("Your animation is large (" + F + " x " + X + " px). Press \"OK\" to scale it to " + (100 >>> c) + "%. Press \"Cancel\" to keep the size.");
          if (K) {
              this.nc.m(new ir(F >>> c,X >>> c), null, !0);
              F = F >>> c;
              X = X >>> c
          }
      }
      var R = C.add.artd
        , J = R != null && R.Cnt.v > 1;
      this.cF._x(f, q, C.CB.length != 0, J);
      var w = this.cF.u();
      this.MZ = fC.sn(C, f, F, X, w, this.VJ);
      if (this.MZ == null) {
          this.JB = null;
          return
      }
      l.M$(this.Jn);
      this.rq.h0();
      var I = fC.ET(f);
      if (I.RL) {
          this.Jn.innerHTML = "<div></div>";
          p += "width:0px"
      } else if (I.Jz) {
          var m = F, A = X, U;
          if (f == "PDF") {
              U = URL.createObjectURL(new Blob([this.MZ],{
                  type: "application/pdf"
              }))
          } else {
              U = URL.createObjectURL(new Blob([this.MZ],{
                  type: "image/svg+xml"
              }))
          }
          this.Jn.innerHTML = "<iframe src=\"" + U + "\"></iframe>"
      } else {
          var r = this.a4s = I.c3(this.MZ)
            , $ = r[0].Pi
            , m = $.d
            , A = $.v;
          this.rq.m(r, r.length > 1 ? w[w.length - 3] : 0);
          this.Jn.appendChild(this.rq.j);
          p = "background: rgba(0,0,0,0);"
      }
      this.Jn.setAttribute("style", "display:block; background-size:" + 16 / l.D() + "px;" + p);
      this.IP(this.ob, this.ua)
  }
  ;
  function fp() {
      da.call(this, [11, 13], "shortcuts");
      var n = this.Rw = l.w("div", "scrollable");
      n.setAttribute("style", "min-width:700px; max-height:500px; padding:1.5em");
      this.body.appendChild(n);
      this.apg()
  }
  fp.prototype = new da;
  fp.prototype.B = function() {
      da.prototype.B.call(this);
      this.apg()
  }
  ;
  fp.prototype.apg = function() {
      var n = "<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">"
        , z = ""
        , C = dM
        , D = C.BO
        , F = C.Ms
        , X = C.M2;
      z += "<h2 style=\"margin-top:0;\">Main Menu</h2>";
      z += n;
      z += this.A$([[0, 0], "---", [1, 0], [D, C.LK], [1, 2], [D, C.a$], [1, 3], [F, D, C.a$], [1, 8], [X, F, D, C.a$], [0, 1], "---", [2, 0], [F, D, C.cf], [2, 1], [D, C.cf], [5, 0], [D, C.ft], [5, 1], [D, C.ph], [5, 2], [D, C.NH], [2, 2], "Delete", [2, 3], [X, C.fs], [10, 16], [X, D, C.XB], [12, 79], [D, C.tA], [3], "---", [4, 1], [D, C.u4], [4, 2], [D, C.nN], [4, 5], [D, C.sy], [4, 11], [D, C.oW], [0, 3], "---", [6, 0], [D, C.LZ], [6, 6, 0], [X, D, C.dh], [6, 9], [D, C.dh], [6, 10], [D, C.E], [0, 5], "---", [7, 0], [D, C.H], [7, 1], [D, C.kt], [7, 2], [F, D, C.oW], [0, 7], "---", [8, 0], [D, C.Dm], [8, 1], [D, C.wj], [8, 3], [D, C.Mq], [8, 2], [D, C.bM], [8, 4], [D, C.FP], [11, 13], "?"]);
      z += "</div>";
      z += "<h2 style=\"margin-top:1.5em;\">Navigation</h2>";
      z += n;
      z += this.A$(["Vertical scroll", "Wheel", "Horizontal scroll", [D, "Wheel"], "Zooming", [X, "Wheel"]]);
      z += "</div>";
      z += "<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
      z += n;
      z += this.A$([[10, 11], [D], [10, 7], "Space", [10, 17], [D, C.ye]]);
      z += "</div>";
      z += "<h2 style=\"margin-top:1.5em;\">Tools</h2>";
      z += n;
      var E = fp.p
        , f = [];
      for (var M = 0; M < E.length; M += 3)
          if (E[M + 1])
              f.push(E[M], E[M + 1]);
      f = f.concat([[24, 16], "---", [22, 7, 1], "D", [22, 7, 0], "X", [6, 6, 1], "Q", "Decrease Brush Size", "[", "Increase Brush Size", "]", "Decrease Hardness", "{", "Increase Hardness", "}"]);
      z += this.A$(f);
      z += "</div>";
      this.Rw.innerHTML = z
  }
  ;
  fp.prototype.A$ = function(n) {
      var z = ""
        , C = !0;
      for (var M = 0; M < n.length; M += 2) {
          var D = n[M]
            , F = dM.I3(n[M + 1]);
          if (F == null) {
              C = !1;
              continue
          }
          var X = l.XW(aC.get(D));
          if (F == "---") {
              if (!C)
                  z += "<br/>";
              z += "<div style=\"font-weight:bold; border-bottom: 1px solid;\">" + X + "</div>"
          } else
              z += "<div>" + X + " <span style=\"float:right; font-weight:bold;\">" + F + "</span> </div>";
          C = !1
      }
      return z
  }
  ;
  fp.p = [[10, 11], "V", 0, [10, 15], "M", 1, [10, 4], "M", 2, [10, 9], "L", 5, [10, 14], "L", 6, [10, 10], "L", 7, [10, 44], "W", 3, [10, 37], "W", 8, [10, 12], "W", 9, [10, 2], "C", 10, [10, 39], "C", 11, [10, 40], "C", 12, [10, 41], "C", 13, [10, 5], "I", 14, [10, 36], "I", 16, [10, 24], "J", 18, [10, 25], "J", 19, [10, 26], "J", 20, [10, 43], "J", 22, [10, 0], "B", 23, [10, 38], "B", 24, [10, 42], "B", 25, [10, 1], "S", 27, [10, 3], "E", 31, [10, 45], "E", 32, [10, 6], "G", 34, [10, 13], "G", 35, [10, 18], null, 36, [10, 19], null, 37, [10, 20], null, 38, [10, 21], "O", 39, [10, 22], "O", 40, [10, 23], "O", 41, [10, 8], "T", 47, [10, 29], "P", 42, [10, 30], "P", 43, [10, 27], "A", 51, [10, 28], "A", 52, [10, 32], "U", 54, [10, 33], "U", 55, [10, 35], "U", 57, [10, 34], "U", 56, [10, 31], "U", 58, [10, 7], "H", 59, [10, 17], "Z", 61];
  function cr() {
      da.call(this, [8, 11, 1], "soptions");
      this.L0 = null;
      var n = l.w("div", "form");
      n.style.width = "20em";
      this.body.appendChild(n);
      this.pT = {
          Nm: [12, 48],
          url: "URL",
          null: [12, 71]
      };
      this.XU = {};
      for (var z in this.pT) {
          var C = new ik(this.pT[z],null,15);
          this.XU[z] = C;
          n.appendChild(C.j)
      }
      var D = new gJ("OK",!0,null,!0);
      D.s("click", this.G8, this);
      n.appendChild(D.j)
  }
  cr.prototype = new da;
  cr.prototype.vb = function(n, z, C) {
      var D = z.G;
      this.L0 = JSON.stringify(D);
      for (var F in this.pT) {
          if (D[F])
              this.XU[F].m(D[F].v)
      }
  }
  ;
  cr.prototype.G8 = function(n) {
      var z = JSON.parse(this.L0);
      for (var C in this.pT) {
          var D = this.XU[C].u();
          z[C] = {
              t: "TEXT",
              v: D
          }
      }
      var F = new u(l.E.M,!0);
      F.F = O.OR;
      F.data = z;
      F.Wp = !0;
      this.f(F);
      this.close()
  }
  ;
  function gq() {
      da.call(this, [2, 3], "fill");
      this.VJ = null;
      this.B2 = null;
      var n = l.w("div", "form padded");
      n.style.width = "22em";
      this.body.appendChild(n);
      this.QD = "FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
      this.r0 = new fR([2, 3],[[12, 45], [12, 46], [12, 47], [13, 1, 10], [13, 1, 7], [13, 1, 8], [6, 48, 0, 3]]);
      this.r0.s(l.E.L, this.a3x, this);
      n.appendChild(this.r0.j);
      this.Jn = l.w("span");
      n.appendChild(this.Jn);
      this.jw = new e$;
      this.jw.parent = this;
      this.jw.VR(0);
      this.Kk = new fR([12, 19, 0],hr.K6,!1,hr.a4);
      n.appendChild(this.Kk.j);
      this.lw = new iT([12, 0],0,100,"%",0,!1);
      this.lw.m(100);
      n.appendChild(this.lw.j);
      this.WV = new eS("Preserve Transparency");
      this.WV.m(!1);
      n.appendChild(this.WV.j);
      this.GI = new gJ("OK",!0,null,!0);
      this.GI.s("click", this.G8, this);
      this.body.appendChild(this.GI.j)
  }
  gq.prototype = new da;
  gq.prototype.z_ = function(n, z) {
      return n != null
  }
  ;
  gq.prototype.TU = function() {
      return !0
  }
  ;
  gq.prototype.a3x = function() {
      var n = this.r0.u() == 2
        , z = this.jw.j
        , C = this.Jn;
      if (n)
          C.appendChild(z);
      else if (C.contains(z))
          C.removeChild(z)
  }
  ;
  gq.prototype.B = function() {
      da.prototype.B.call(this);
      this.r0.B();
      this.Kk.B();
      this.lw.B()
  }
  ;
  gq.prototype.G8 = function(n) {
      if (!this.B2.Sp())
          return;
      var z = new u(l.E._R,!0)
        , C = this.r0.u();
      z.data = O.pC.EI(this.QD[C], hr.Un[this.Kk.u()], this.lw.u() / 100, this.jw.u(), this.WV.u());
      this.close();
      this.f(z)
  }
  ;
  gq.prototype.vb = function(n, z) {
      this.B2 = n
  }
  ;
  gq.prototype.vi = function(n, z) {
      this.VJ = n
  }
  ;
  function dk() {
      da.call(this, [14, 9], "stroke");
      this.VJ = null;
      this.PH = l.w("div", "form");
      this.PH.setAttribute("style", "width:24em");
      this.body.appendChild(this.PH);
      this.JM = new bt("FrFX",!0);
      this.JM.parent = this;
      var n = ["Sz", "Styl", "Md", "Opct"].concat(g$.oQ);
      for (var M = 0; M < n.length; M++) {
          var z = this.JM.in[n[M]].j;
          this.PH.appendChild(z)
      }
      this.IQ = !1;
      this.GI = new gJ("OK",!0,null,!0);
      this.GI.s("click", this.G8, this);
      this.body.appendChild(this.GI.j)
  }
  dk.prototype = new da;
  dk.prototype.z_ = function(n, z) {
      return n != null
  }
  ;
  dk.prototype.TU = function() {
      return !0
  }
  ;
  dk.prototype.B = function() {
      da.prototype.B.call(this);
      this.JM.B()
  }
  ;
  dk.prototype.G8 = function(n) {
      var z = new u(l.E.M,!0);
      z.F = O.V5;
      z.data = {
          e: "stroke",
          ae3: this.JM.u()
      };
      this.close();
      this.f(z)
  }
  ;
  dk.prototype.vb = function(n, z) {
      if (!this.IQ) {
          var C = g$.g$[g$.order.indexOf("FrFX")];
          C = JSON.parse(C);
          this.JM.update(n, C);
          this.IQ = !0
      }
      var C = this.JM.u()
        , D = this.VJ.Du;
      C.Clr.v = j._.w9({
          h: D >> 16 & 255,
          Q: D >> 8 & 255,
          O: D & 255
      });
      this.JM.update(n, C)
  }
  ;
  dk.prototype.vi = function(n, z) {
      this.VJ = n
  }
  ;
  function aL() {
      da.call(this, [11, 9], "textwarp");
      this.XU = new bi;
      this.XU.s(l.E.L, this.a8, this);
      this.XU.parent = this;
      this.PH = l.w("div", "form");
      this.PH.setAttribute("style", "width:20em");
      this.body.appendChild(this.PH);
      this.PH.appendChild(this.XU.xx.j);
      this.PH.appendChild(this.XU.mG.j);
      this.PH.appendChild(this.XU.wA.j);
      this.PH.appendChild(this.XU.SU.j);
      this.PH.appendChild(this.XU.E3.j);
      this.GI = new gJ("OK",!0,null,!0);
      this.GI.s("click", this.G8, this);
      this.PH.appendChild(this.GI.j);
      this.s("closebtn", this.e$, this)
  }
  aL.prototype = new da;
  aL.prototype.TU = function() {
      return !0
  }
  ;
  aL.prototype.B = function() {
      da.prototype.B.call(this);
      this.XU.B()
  }
  ;
  aL.prototype.a8 = function(n) {
      var z = this.XU.u();
      this.o2({
          e: "warp",
          Y0: z
      })
  }
  ;
  aL.prototype.o2 = function(n) {
      var z = new u(l.E.M,!0);
      z.F = O.qp;
      z.data = n;
      z.Wp = !0;
      this.f(z)
  }
  ;
  aL.prototype.e$ = function(n) {
      this.o2({
          e: "warpCancel"
      })
  }
  ;
  aL.prototype.G8 = function(n) {
      this.o2({
          e: "warpConfirm"
      });
      this.close()
  }
  ;
  aL.prototype.vb = function(n, z) {
      var C = n.W[n.C[0]];
      this.XU.m(C.add.TySh.iK)
  }
  ;
  function f7() {
      da.call(this, "Raw Photopea", "rawpea");
      this.XI = null;
      this.iR = null;
      this.eE = null;
      this.sF = 0;
      this.$c = null;
      this.$q = null;
      this.a9o = 500;
      this.a6g = 500;
      this.s("closebtn", this.WS, this);
      l.G5(this.body, "flexrow");
      var n = l.w("div")
        , z = l.w("div")
        , D = "<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
      z.setAttribute("style", "padding-left: 1em");
      this.body.appendChild(n);
      this.body.appendChild(z);
      this.sL = l.w("canvas");
      n.appendChild(this.sL);
      this.Cp = new cf(225);
      this.Cp.ee(4);
      z.appendChild(this.Cp.j);
      this.PH = l.w("div");
      this.PH.setAttribute("style", "width:18em;");
      z.appendChild(this.PH);
      this.ajT = new be("Hi",!0);
      this.PH.appendChild(this.ajT.j);
      this.ns = [new ar("Temperature",2e3,13e3), new ar("Tint",-150,150), new ar([4, 3],-4,4,null,!0), new ar([12, 3, 0],-100,100)];
      for (var M = 0; M < this.ns.length; M++) {
          var C = this.ns[M];
          C.m(0);
          C.s(l.E.L, this.mt, this);
          this.PH.appendChild(C.j);
          if (M == 1)
              this.PH.appendChild(l.w("hr"))
      }
      this.GI = new gJ([1, 0],!0,null,!0);
      this.GI.s("click", this.G8, this);
      this.PH.appendChild(this.GI.j);
      this.Wt = new gJ(D + " JPG",!0,null,!0);
      this.Wt.s("click", this.amA, this);
      this.PH.appendChild(this.Wt.j);
      this.Wt.j.style.marginTop = "6px"
  }
  f7.prototype = new da;
  f7.prototype.JX = function() {
      return new ir(0,0)
  }
  ;
  f7.prototype.IP = function(n, z) {
      this.a9o = n - 274;
      this.a6g = z - 32;
      if (this.XI)
          this.ahM()
  }
  ;
  f7.prototype.B = function() {
      da.prototype.B.call(this);
      this.GI.B();
      for (var M = 0; M < this.ns.length; M++)
          this.ns[M].B()
  }
  ;
  f7.prototype.amA = function(n) {
      var z = this.XI
        , C = this.iR
        , D = j.T(z.width * z.height * 4);
      j.xM(D, 4294967295);
      j.raw.eP(C, D, z, this.qw());
      var F = fC.ET("JPG").c0([[D.buffer]], C.js, C.Xr, [85])
        , X = new u(l.E.P,!0);
      X.data = {
          e: l.H.rg,
          data: F,
          name: "photo.jpg"
      };
      this.f(X)
  }
  ;
  f7.prototype.G8 = function(n) {
      var z = this.XI
        , C = this.iR
        , D = j.T(z.width * z.height * 4);
      j.xM(D, 4294967295);
      j.raw.eP(C, D, z, this.qw());
      var F = hb.iD(z)
        , z = {
          Pi: new cc(0,0,C.js,C.Xr),
          data: D.buffer,
          _q: F
      }
        , X = fC.Wu("Raw Photo", [z])
        , E = new u(l.E.P,!0);
      E.data = {
          e: l.H.jt,
          JB: X
      };
      this.f(E);
      this.WS();
      this.close()
  }
  ;
  f7.prototype.WS = function() {
      this.XI = null;
      this.iR = null;
      this.$c = null;
      this.$q = null
  }
  ;
  f7.prototype.vb = function(n, z, C, D) {
      this.XI = z.$f;
      this.iR = j.raw.a7n(this.XI);
      var F = this.iR;
      this.ajT.m(F.js + " x " + F.Xr + ", " + (F.js * F.Xr / 1e6).toFixed(1) + " MPx");
      var X = j.raw.aqm(z.$f);
      this.eE = ca.O6(X);
      this.ns[0].m(this.eE.r5);
      this.ns[1].m(this.eE.r_);
      for (var M = 2; M < this.ns.length; M++)
          this.ns[M].m(0);
      this.ahM()
  }
  ;
  f7.prototype.vi = function(n, z) {
      this.Cp.VR(cd.uW[n.GT]["--text-color"])
  }
  ;
  f7.prototype.ahM = function() {
      var n = this.iR
        , z = n.js
        , C = n.Xr
        , D = 1;
      while (z / D > this.a9o * l.D() || C / D > this.a6g * l.D())
          D++;
      var F = Math.floor(z / D)
        , X = Math.floor(C / D);
      this.$c = {
          oz: new Float32Array(F * X * 3),
          js: F,
          Xr: X
      };
      var E = this.sL.getContext("2d");
      this.$q = E.createImageData(F, X);
      j.xM(this.$q.data, 4294967295);
      var f = 1 / (D * D);
      for (var a = 0; a < X; a++)
          for (var q = 0; q < F; q++) {
              var c = 0
                , K = 0
                , R = 0
                , J = (q + 1) * D
                , w = (a + 1) * D;
              for (var p = a * D; p < w; p++)
                  for (var I = q * D; I < J; I++) {
                      var m = (p * z + I) * 3;
                      c += this.iR.oz[m];
                      K += this.iR.oz[m + 1];
                      R += this.iR.oz[m + 2]
                  }
              var A = (a * F + q) * 3;
              this.$c.oz[A] = c * f;
              this.$c.oz[A + 1] = K * f;
              this.$c.oz[A + 2] = R * f
          }
      this.mt()
  }
  ;
  f7.prototype.mt = function() {
      var n = this.XI
        , z = this.$c.js
        , C = this.$c.Xr
        , D = z * C
        , F = this.sL
        , X = F.getContext("2d");
      F.width = z;
      F.height = C;
      l.NE(F, z, C);
      j.raw.eP(this.$c, new Uint8Array(this.$q.data.buffer), n, this.qw());
      X.putImageData(this.$q, 0, 0);
      var E = j.BA(this.$q.data);
      for (var M = 0; M < 4; M++)
          for (var f = 1; f < 256; f++)
              if (E[M][f] == 0)
                  E[M][f] = E[M][f - 1];
      for (var M = 0; M < 4; M++)
          for (var f = 1; f < 256; f++)
              if (E[M][f] == 0)
                  E[M][f] = E[M][f - 1];
      this.Cp.m(E)
  }
  ;
  f7.prototype.qw = function() {
      var n = [];
      for (var M = 0; M < this.ns.length; M++)
          n.push(this.ns[M].u());
      return n
  }
  ;
  function ha() {
      da.call(this, [11, 11], "vbitmap");
      this.Yf = null;
      this.J8 = null;
      this.WF = null;
      this.YP = null;
      this.QJ = null;
      this.zT = this.yH.bind(this);
      this.PH = l.w("div", "form hbar");
      this.body.appendChild(this.PH);
      this.Vi = new iT([12, 82],2,50,null);
      this.Vi.s(l.E.L, this.yH, this);
      this.PH.appendChild(this.Vi.j);
      this.zB = "";
      this.cU = new eS([12, 81]);
      this.cU.s(l.E.L, this.yH, this);
      this.PH.appendChild(this.cU.j);
      this.Aj = new eS("Segmentize");
      this.Aj.s(l.E.L, this.yH, this);
      this.PH.appendChild(this.Aj.j);
      this.GI = new gJ("OK",!1,null,!0);
      this.GI.s("click", this.G8, this);
      this.PH.appendChild(this.GI.j);
      var n = l.w("div", "flexrow")
        , z = 16;
      this.body.appendChild(n);
      this.$p = new aN;
      this.$p.s("viewchange", this.aiJ, this);
      this.we = l.w("canvas");
      this.we.setAttribute("style", "margin-left: 1px; cursor:grab;");
      this.zx = this.we.getContext("2d");
      var C = j.T(16 * 16 * 4);
      j.BJ(C, z, z, 8);
      this.ts = j.scale.hG(C, z, z);
      this.$p.ZW(this.we);
      n.appendChild(this.$p.j);
      n.appendChild(this.we)
  }
  ha.prototype = new da;
  ha.prototype.JX = function() {
      return new ir(0,0)
  }
  ;
  ha.prototype.TU = function() {
      return !0
  }
  ;
  ha.prototype.IP = function(n, z) {
      z = z - 26 - 30;
      n = Math.floor((n - 28) / 2);
      l.Hb(this.we, n, z);
      this.$p.IP(n, z)
  }
  ;
  ha.prototype.iV = function(n, z, C, D) {
      this.$p.iV(D)
  }
  ;
  ha.prototype.B = function() {
      da.prototype.B.call(this);
      this.Vi.B();
      this.cU.B();
      this.Aj.B();
      this.GI.B()
  }
  ;
  ha.prototype.vb = function(n, z) {
      this.QJ = n;
      var C = n.W[n.C[0]]
        , D = j.Xd.A9(C.buffer.buffer, C.rect.d, C.rect.v).amB
        , F = D / ((C.rect.d - 2) * (C.rect.v - 2));
      this.cU.m(F < .75);
      this.Aj.m(!1);
      var X = C.rect.clone();
      X.x = X.y = 0;
      this.Yf = {
          Pi: X,
          data: C.buffer.buffer.slice(0)
      };
      this.J8 = null;
      this.$p.m([this.Yf]);
      this.Vi.m(20);
      setTimeout(this.zT, 20)
  }
  ;
  ha.prototype.yH = function() {
      var n = !0
        , z = Date.now()
        , C = this.Yf
        , D = this.cU.u()
        , F = this.Aj.u()
        , X = D || F
        , E = D + "," + F;
      if (X && (this.J8 == null || this.zB != E)) {
          this.zB = E;
          console.log("recomputing");
          var f = new Uint8Array(C.data.slice(0))
            , a = 15
            , q = 35
            , c = C.Pi.d
            , K = C.Pi.v;
          if (D) {
              fd.oX(f, f, c, K, a, j.LC.QL, [q], 2)
          }
          if (n) {
              console.log("denoise", Date.now() - z);
              z = Date.now()
          }
          if (F) {
              var R = j.Xd.vD(f, c, K)
                , J = R.tA
                , w = new Uint8Array(J * 4);
              for (var M = 0; M < J; M++) {
                  var p = M * 4
                    , I = M * 6
                    , m = 1 / R.yt[I + 5];
                  w[p] = R.yt[I] * m;
                  w[p + 1] = R.yt[I + 1] * m;
                  w[p + 2] = R.yt[I + 2] * m
              }
              for (var M = 0; M < f.length; M += 4) {
                  var A = R.dO[M >>> 2] * 4;
                  f[M] = w[A];
                  f[M + 1] = w[A + 1];
                  f[M + 2] = w[A + 2]
              }
          }
          this.J8 = {
              Pi: C.Pi.clone(),
              data: f.buffer
          };
          if (n) {
              console.log("segm", Date.now() - z);
              z = Date.now()
          }
      }
      if (X)
          C = this.J8;
      var f = new Uint8Array(C.data)
        , c = C.Pi.d
        , K = C.Pi.v;
      for (var M = 0; M < f.length; M += 4) {
          if (f[M + 3] < 10)
              f[M] = f[M + 1] = f[M + 2] = f[M + 3] = 0
      }
      var U = j.Xd.a1P(f, c, K, this.Vi.u(), X ? .1 : 2e-4);
      if (n) {
          console.log("doclipart", Date.now() - z);
          z = Date.now()
      }
      var r = U.dO.slice(0);
      for (var M = 0; M < r.length; M++)
          r[M]++;
      var $ = new Uint8Array((c + 2) * (K + 2));
      j.v8(r, new cc(1,1,c,K), $, new cc(0,0,c + 2,K + 2));
      var k = Math.round((c + 2) * (K + 2) / 1e4)
        , G = aD.sU($, c + 2, K + 2, Math.min(12, k))
        , i = aD.LJ(G)
        , o = new b6(1,0,0,1,-1,-1);
      for (var M = 0; M < i.length; M++)
          j.K.Z(i[M].path.U, o, i[M].path.U);
      this.YP = i;
      this.WF = U;
      if (n) {
          console.log("trace", Date.now() - z);
          z = Date.now()
      }
      for (var M = 0; M < i.length; M++) {
          var S = i[M];
          for (var H = M + 1; H < i.length; H++) {
              var e = i[H];
              if (U.TH[e.color - 1].est.q[3] > .05 || e.parent != M)
                  continue;
              var V = e.path.I.slice(1);
              V.reverse();
              V = ["M"].concat(V);
              var v = []
                , G = e.path.U.length;
              for (var B = 0; B < G; B += 2) {
                  v[B] = e.path.U[G - 2 - B];
                  v[B + 1] = e.path.U[G - 2 - B + 1]
              }
              j.K.concat(S.path, {
                  U: v,
                  I: V
              })
          }
      }
      for (var M = 0; M < i.length; M++) {
          var S = i[M]
            , Z = U.TH[S.color - 1].est.q;
          if (Z[3] <= .05) {
              i.splice(M, 1);
              M--;
              continue
          }
      }
      for (var M = 1; M < i.length; M++) {
          var d = i[M - 1]
            , S = i[M];
          if (d.color == S.color) {
              j.K.concat(d.path, S.path);
              i.splice(M, 1);
              M--;
              continue
          }
      }
      this.aiJ()
  }
  ;
  ha.prototype.aiJ = function(n) {
      if (this.YP == null)
          return;
      var z = this.Yf.Pi.d
        , C = this.Yf.Pi.v
        , D = this.YP
        , F = this.WF.TH
        , X = this.zx
        , E = this.$p.fj();
      X.setTransform(1, 0, 0, 1, 0, 0);
      X.clearRect(0, 0, X.canvas.width, X.canvas.height);
      X.translate(X.canvas.width / 2, X.canvas.height / 2);
      X.scale(E.X, E.X);
      X.translate(E.A.x / E.X - z / 2, E.A.y / E.X - C / 2);
      X.scale(1 / E.X, 1 / E.X);
      X.fillStyle = this.ts;
      X.fillRect(0, 0, z * E.X, C * E.X);
      X.scale(E.X, E.X);
      var f = [];
      for (var M = 0; M < F.length; M++) {
          var a = F[M].est.q;
          f.push({
              h: Math.round(255 * a[0]),
              Q: Math.round(255 * a[1]),
              O: Math.round(255 * a[2]),
              nb: Math.round(255 * a[3])
          })
      }
      for (var M = 0; M < D.length; M++) {
          var q = D[M]
            , a = f[q.color - 1];
          if (a.nb == 0)
              continue;
          X.fillStyle = "rgba(" + a.h + "," + a.Q + "," + a.O + "," + a.nb / 255 + ")";
          X.beginPath();
          Typr.U.pathToContext({
              crds: q.path.U,
              cmds: q.path.I
          }, X);
          X.fill()
      }
  }
  ;
  ha.prototype.G8 = function(n) {
      var z = this.YP
        , C = z.length == 1
        , D = this.QJ
        , F = D.C[0]
        , X = D.W[F]
        , E = D.W.slice(0, F);
      if (!C)
          E.push(D.iE());
      for (var M = 0; M < z.length; M++) {
          var f = z[M]
            , a = this.WF.TH[f.color - 1].est.q;
          j.K.Z(f.path.U, new b6(1,0,0,1,X.rect.x,X.rect.y), f.path.U);
          var q = D.gl();
          q.CZ("Path " + M);
          E.push(q);
          q.opacity = Math.round(a[3] * 255);
          q.j1 |= 16;
          q.add.SoCo = {
              classID: "null",
              Clr: {
                  t: "Objc",
                  v: j._.w9({
                      h: 255 * a[0],
                      Q: 255 * a[1],
                      O: 255 * a[2]
                  })
              }
          };
          q.add.vmsk = new Q.qP;
          q.add.vstk = JSON.parse(JSON.stringify(g$.Bt.default));
          q.add.vmsk.g = j.K.gU(f.path, !1);
          q.add.vogk = [];
          q.CD();
          q.z4(D)
      }
      var c = E[E.length - 1];
      if (!C) {
          var q = D.gl();
          q.CZ(X.getName());
          q.add.lsct = g9.WQ;
          q.Gx = "pass";
          q.j1 = 24;
          E.push(q);
          c = q
      }
      var K = X.add.lmfx;
      if (K)
          c.add.lmfx = JSON.parse(JSON.stringify(K));
      for (var M = F + 1; M < D.W.length; M++)
          E.push(D.W[M]);
      var R = new u(l.E.M,!0);
      R.Wp = !0;
      R.F = O.$w;
      R.data = {
          e: Q.Cw,
          lK: E,
          $l: [F + z.length + (C ? -1 : 1)],
          $_: [11, 11]
      };
      this.f(R);
      this.close()
  }
  ;
  function aq(n) {
      da.call(this, [[7, 11], [7, 13]][n], ["redge", "magiccut"][n]);
      this.Zg = n;
      this.Yf = {};
      this.kS = null;
      this.mf = null;
      this.QJ = null;
      this.cX = null;
      this.Ml = null;
      this.rw = [];
      this.XL = -1;
      this.PH = l.w("div", "form hbar");
      this.body.appendChild(this.PH);
      this.LD = new fr;
      this.LD.parent = this;
      this.LD.s(l.E.L, this.Ci, this);
      this.PH.appendChild(this.LD.j);
      var z = n == 0 ? ["#ffffff", "#888888", "#000000"] : ["#00dd00", "#888888", "#ff0000"];
      z = z.concat(PIMG["tools/hand"], PIMG.zoomIn, PIMG.zoomOut);
      var C = n == 0 ? [[12, 45], "Unknown", [12, 46]] : [[12, 45], "Erase", [12, 46]];
      this.Qf = new h$(null,z,C,28);
      this.Qf.s(l.E.L, this.iV, this);
      this.PH.appendChild(this.Qf.j);
      this.TK = new c5([7, 9],0,50,null);
      this.TK.parent = this;
      this.TK.s(l.E.L, [this.aqq, this.yH][n], this);
      this.PH.appendChild(this.TK.j);
      var D = this.a4u = new gJ([2, 2],!1,null,!0);
      D.s("click", this.WS, this);
      this.PH.appendChild(D.j);
      var F = this.ajn = new gJ([12, 90],!1,null,!0);
      F.s("click", function(a) {
          alert(n == 0 ? aC.get([15, 7, 1]) : "Mark the object with Green, background with Red. Two colors should never touch.", 5e3)
      }, this);
      this.PH.appendChild(F.j);
      var X = new gJ("Tutorial",!1,null,!0);
      X.s("click", this.abu, this);
      this.PH.appendChild(X.j);
      var E = l.w("span", "form");
      this.PH.appendChild(E);
      E.setAttribute("style", "position:absolute;  right:0px");
      this.QF = new h$([12, 46],["checker", "#ffffff", "#000000"]);
      this.QF.s(l.E.L, this.ac3, this);
      E.appendChild(this.QF.j);
      this.Fa = new fR(null,[[6, 13], [6, 2], [17, 2]]);
      E.appendChild(this.Fa.j);
      this.GI = new gJ("OK",!1,null,!0);
      this.GI.s("click", this.G8, this);
      E.appendChild(this.GI.j);
      var f = l.w("div", "flexrow");
      this.body.appendChild(f);
      this.EP = new aN(!0);
      this.Ds = new aN;
      this.EP.my(this.Ds);
      this.Ds.my(this.EP);
      this.EP.s("mousedown", this.Kz, this);
      this.EP.s("mousemove", this.kp, this);
      this.EP.s("mouseup", this.xP, this);
      this.EP.s("zoom", this.Ci, this);
      this.Ds.s("zoom", this.Ci, this);
      f.appendChild(this.EP.j);
      f.appendChild(this.Ds.j)
  }
  aq.prototype = new da;
  aq.prototype.z_ = function(n, z) {
      var C = n != null && !n.W[n.C[0]].rect.kX();
      if (!C)
          alert("The layer is empty.");
      return C
  }
  ;
  aq.prototype.JX = function() {
      return new ir(0,0)
  }
  ;
  aq.prototype.TU = function() {
      return !0
  }
  ;
  aq.prototype.IP = function(n, z) {
      z = z - 26 - 33;
      n = Math.floor((n - 28) / 2);
      this.EP.IP(n, z);
      this.Ds.IP(n, z)
  }
  ;
  aq.prototype.B = function() {
      da.prototype.B.call(this);
      this.LD.B();
      this.TK.B();
      this.GI.B();
      this.QF.B();
      this.Fa.B();
      this.a4u.B();
      this.ajn.B()
  }
  ;
  aq.prototype.abu = function(n) {
      window.open("//www.photopea.com/" + ["learn/refine-edge", "tuts/magic-cut-remove-image-background-online"][this.Zg], "_blank")
  }
  ;
  aq.prototype.vi = function(n, z) {
      this.mf = n;
      if (z == c1.qE || z == c1.Ui) {
          this.LD.fY(n.bz);
          this.LD.m(gK.pO(), n.bz.np, n.bz.gi)
      }
  }
  ;
  aq.prototype.iV = function(n, z, C, D) {
      var F = this.Qf.u();
      if (D == null) {
          var D = new dM;
          if (F >= 3)
              D.St("Space");
          if (F >= 4) {
              D.St("ControlLeft");
              if (F == 5)
                  D.St("AltLeft")
          }
          this.EP.iV(D);
          return
      }
      this.cX = D;
      var X = O.pC.YV(this.LD.u(), D);
      if (X != null) {
          this.LD.m(X);
          this.Ci()
      } else if (D.r(dM.BO) && D.r(dM.cf)) {
          var E = this.rw
            , f = 0;
          if (D.r(dM.Ms)) {
              if (this.XL + 1 < E.length)
                  f = 1
          } else if (this.XL > 0)
              f = -1;
          if (f != 0) {
              this.XL += f;
              var a = this.XL
                , q = this.Yf;
              if (f == 1)
                  j.X3(E[a][2], E[a][0], q.nW, q.rect);
              else
                  j.X3(E[a + 1][1], E[a + 1][0], q.nW, q.rect);
              q.FL = q.rect;
              this.yH()
          }
      } else if (F < 3)
          this.EP.iV(D)
  }
  ;
  aq.prototype.wW = function(n) {
      var z = this.Yf
        , C = this.rw
        , D = j.T(n.t() * 4);
      j.X3(z.Ha, z.rect, D, n);
      z.Ha = null;
      var F = j.T(n.t() * 4);
      j.X3(z.nW, z.rect, F, n);
      this.XL++;
      C[this.XL] = [n.clone(), D, F];
      while (C.length > this.XL + 1)
          C.pop();
      while (C.length > 50) {
          C = C.slice(1);
          this.XL--
      }
  }
  ;
  aq.prototype.Ci = function() {
      var n = this.mf
        , z = fz.WX(this.LD.u(), n.bz.np, this.EP.fj().X);
      this.EP.oY(z)
  }
  ;
  aq.prototype.Kz = function(n) {
      var z = this.mf
        , C = this.Yf
        , D = this.cX
        , F = this.LD.u()
        , X = this.EP.Eq()
        , E = [16777215, 8421504, 0][this.Qf.u()];
      this.kS = new fz(F,z.bz.list[0].np,z.bz.list[0].gi,{
          IV: 1,
          eU: !0
      },E,z.ff,C.rect);
      C.Ha = C.nW.slice(0);
      if (D != null && D.r(dM.Ms) && this.Ml) {
          this.kS.moveTo(this.Ml.x, this.Ml.y);
          this.kS.lineTo(X.x, X.y)
      } else
          this.kS.moveTo(X.x, X.y);
      this.a6e()
  }
  ;
  aq.prototype.kp = function(n) {
      var z = this.Yf
        , C = this.EP.Eq();
      this.kS.lineTo(C.x, C.y);
      this.a6e()
  }
  ;
  aq.prototype.xP = function(n) {
      this.Ml = this.EP.Eq();
      this.wW(this.kS._$());
      this.yH()
  }
  ;
  aq.prototype.a6e = function() {
      var n = this.Yf
        , z = this.kS
        , C = z.Co();
      if (C.kX())
          return;
      n.FL = C;
      j.$.xN("norm", z.MR(), z.Td(), n.nW, n.rect, C, 1);
      this.acC()
  }
  ;
  aq.prototype.WS = function(n) {
      var z = this.Yf;
      z.Ha = z.nW.slice(0);
      z.FL = z.rect;
      j.xM(z.nW, [4278190080, 4292730333][this.Zg]);
      this.wW(z.rect);
      this.yH()
  }
  ;
  aq.prototype.vb = function(n, z) {
      this.QJ = n;
      var C = n.W[n.C[0]]
        , D = C.rect.clone()
        , F = D.d
        , X = D.v;
      this.TK.m(this.Zg == 0 ? 3 : F * X < 3e6 ? 3 : 0);
      this.Qf.m(n.N == null ? 0 : 1);
      this.TK.NN();
      if (this.Zg == 0 && n.N != null || this.Zg == 1)
          this.TK.Tl();
      var E = this.Zg
        , f = j.T(D.t())
        , a = new Float32Array(D.t());
      if (E == 0 && n.N) {
          j.v8(n.N.channel, n.N.rect, f, D);
          var q = j.T(D.t());
          for (var c = 0; c < X; c++)
              for (var K = 0; K < F; K++) {
                  var M = c * F + K
                    , R = f[M];
                  if (K > 0 && f[M - 1] != R || K < F - 1 && f[M + 1] != R || c > 0 && f[M - F] != R || c < X - 1 && f[M + F] != R)
                      q[M] = 255
              }
          j.style.A0(q, a, F, X)
      } else
          a.fill(1e9);
      D.x = D.y = 0;
      this.Yf = {
          rect: D,
          oz: C.buffer,
          vT: f,
          S7: a,
          SD: j.T(D.t() * 4),
          HL: j.T(D.t() * 4),
          nW: j.T(D.t() * 4),
          Ha: null,
          GY: null,
          FL: D,
          ajf: {}
      };
      if (E == 0)
          this.aqq();
      else {
          this.Yf.ajf = O.WB.hD(n);
          var J = this.Yf.nW;
          j.xM(J, 4287137928);
          var w = j.sR.getSelection(C.buffer, F, X)
            , p = Math.round(F / 60)
            , I = Math.round(.7 * X);
          for (var c = 0; c < X; c++)
              for (var K = 0; K < F; K++) {
                  var m = (c * F + K) * 4
                    , A = w[m >>> 2];
                  A = A > 128 ? 255 : 128;
                  if (c < p || c < I && (K < p || K > F - 1 - p))
                      A = 0;
                  J[m] = J[m + 1] = J[m + 2] = A
              }
          this.yH()
      }
      this.rw = [1];
      this.XL = 0;
      this.EP.afy();
      var U = this.LD.u();
      U.Brsh.v.Dmtr.v.val = Math.round(D.d / (E == 0 ? 10 : 20));
      this.LD.m(U);
      this.Ci()
  }
  ;
  aq.prototype.aqq = function() {
      var n = this.Yf
        , z = n.rect.t()
        , C = this.TK.u()
        , D = n.vT.slice(0);
      for (var M = 0; M < z; M++)
          if (n.S7[M] < C)
              D[M] = 128;
      j.xM(n.nW, 4294967295);
      j.bl(D, n.nW, 0);
      j.bl(D, n.nW, 1);
      j.bl(D, n.nW, 2);
      n.FL = n.rect;
      this.yH()
  }
  ;
  aq.prototype.yH = function() {
      var n = this.Yf, F, f, a = 0, q = 0, c = 0;
      this.acC();
      var z = n.rect
        , C = z.d
        , D = z.v
        , X = j.T(z.t())
        , E = n.oz;
      j.Ni(n.nW, X, 0);
      for (var M = 0; M < X.length; M++) {
          if (E[(M << 2) + 3] != 255)
              continue;
          var K = X[M];
          if (K == 0)
              a++;
          else if (K == 255)
              q++;
          else
              c++
      }
      if (a * q * c != 0) {
          if (this.Zg == 0)
              f = j.wJ.wJ(z, E, X);
          else {
              var R = this.Qf.u();
              for (var J = 1; J < D; J++)
                  for (var w = 1; w < C; w++) {
                      var M = J * C + w
                        , p = X[M]
                        , I = X[M - 1];
                      if (p == 0 && I == 255 || p == 255 && I == 0) {
                          F = "The Red and Green should never touch! Erase it with Grey.";
                          break
                      }
                  }
              var m = Date.now()
                , A = this.Yf.ajf;
              j.YY(X, A.KQ);
              O.WB.Gr(A, !0);
              var U = Math.ceil(this.TK.u() / 2);
              if (U == 0) {
                  f = E.slice(0);
                  j.bl(A.N, f, 3)
              } else {
                  var r = A.N.slice(0)
                    , $ = A.N.slice(0);
                  for (var k = 0; k < U; k++) {
                      for (var J = 1; J < D - 1; J++)
                          for (var w = 1; w < C - 1; w++) {
                              var M = J * z.d + w
                                , G = r[M];
                              if (r[M - C] != G || r[M - 1] != G || r[M + 1] != G || r[M + C] != G)
                                  $[M] = 128;
                              else
                                  $[M] = G
                          }
                      var i = r;
                      r = $;
                      $ = i
                  }
                  f = j.wJ.wJ(z, E, r, 20, !1)
              }
          }
      } else {
          f = E.slice(0);
          j.bl(X, f, 3)
      }
      for (var M = 3; M < f.length; M += 4)
          if (f[M] > E[M])
              f[M] = E[M];
      if (z.jm(n.rect))
          n.GY = f;
      else
          j.X3(f, z, n.GY, n.rect);
      this.ac3();
      if (F)
          alert(F, 4e3)
  }
  ;
  aq.prototype.acC = function(n) {
      var z = this.Yf
        , C = z.FL;
      j.X3(z.oz, z.rect, z.SD, z.rect, C, !0);
      var D = z.nW;
      if (this.Zg == 1) {
          var F = new Uint32Array(256);
          F[0] = 4278190335;
          F[255] = 4278255360;
          var X = z.rect.t();
          D = D.slice(0);
          var E = new Uint32Array(D.buffer);
          for (var M = 0; M < X; M += 2) {
              E[M] = F[E[M] & 255];
              E[M + 1] = F[E[M + 1] & 255]
          }
      }
      j.$.xN("norm", D, z.rect, z.SD, z.rect, C, .3);
      this.EP.m([{
          Pi: z.rect,
          data: z.SD.buffer
      }])
  }
  ;
  aq.prototype.ac3 = function(n) {
      var z = this.Yf;
      j.xM(z.HL, [0, 4294967295, 4278190080][this.QF.u()]);
      j.$.xN("norm", z.GY, z.rect, z.HL, z.rect, z.rect, 1);
      this.Ds.m([{
          Pi: z.rect,
          data: z.HL.buffer
      }])
  }
  ;
  aq.prototype.G8 = function(n) {
      var z = this.QJ
        , C = this.Yf
        , D = this.Fa.u()
        , F = z.W[z.C[0]]
        , X = new u(l.E.M,!0);
      X.Wp = !0;
      var E = F.rect.clone();
      if (D == 0 && F.y_() || D != 0 && !F.y_()) {
          X.F = O.$w;
          X.data = {
              e: Q.tk,
              b: z.C[0]
          };
          this.f(X)
      }
      if (z.N != null) {
          X.F = O.R2;
          X.data = {
              e: "fromAction",
              n8: O.lJ.by()
          };
          this.f(X)
      }
      if (D == 0) {
          var f = z.W.slice(0)
            , a = z.gl();
          a.CZ(F.getName());
          f.splice(z.C[0] + 1, 0, a);
          a.rect = E;
          a.buffer = C.GY;
          a.J();
          X.F = O.$w;
          X.data = {
              e: Q.Cw,
              lK: f,
              $l: [z.C[0] + 1],
              $_: [7, 11]
          };
          this.f(X)
      }
      if (D == 1) {
          var q = F.sN();
          X.F = O.$w;
          X.data = {
              e: Q.HQ,
              a6R: !0
          };
          this.f(X);
          var c = F.sN();
          c.channel = j.T(E.t());
          c.rect = E;
          c.color = 0;
          c.fe = !0;
          j.Ni(C.GY, c.channel, 3);
          if (q) {
              var K = c.Lm(q);
              c.rect = K.rect;
              c.channel = K.channel;
              c.color = K.color
          }
          c.BL();
          F.z4()
      }
      if (D == 2) {
          var R = {
              rect: E,
              channel: j.T(E.t())
          };
          j.Ni(C.GY, R.channel, 3);
          X.F = O.R2;
          X.data = {
              e: "setsel",
              N: R,
              $_: this.GQ
          };
          this.f(X)
      }
      this.close()
  }
  ;
  function dV() {
      da.call(this, [1, 13], "locstor");
      this.VJ = null;
      this.a6 = [];
      var n = this.body
        , z = l.w("p");
      z.textContent = "These files are loaded every time you start Photopea.";
      n.appendChild(z);
      this.a2D = 0;
      this.Lz = l.w("span");
      n.appendChild(this.Lz);
      this.Lz.setAttribute("style", "display:inline-block;  width:12em;  font-weight:bold;");
      var C = l.w("span", "form");
      n.appendChild(C);
      this.qs = new gJ([5, 4],!1,null,!0);
      this.qs.s("click", this.afQ, this);
      C.appendChild(this.qs.j);
      this.acD = new gJ("Get all as ZIP",!1,null,!0);
      this.acD.s("click", this.SR, this);
      C.appendChild(this.acD.j);
      this.X1 = new hx(!0);
      this.X1.parent = this;
      this.X1.ee(1);
      this.X1.s(l.E.L, this.akz, this);
      n.appendChild(this.X1.j);
      this.X1.j.setAttribute("style", "width: 40em; height: 25em")
  }
  dV.prototype = new da;
  dV.prototype.B = function() {
      da.prototype.B.call(this);
      this.Lz.textContent = aC.get([13, 2]) + ": " + iY.ha(this.a2D);
      this.qs.B()
  }
  ;
  dV.prototype.vi = function(n, z) {
      this.VJ = n;
      if (z == c1.Em)
          this.vb()
  }
  ;
  dV.prototype.vb = function(n, z) {
      var C = this.VJ.$H.Rr
        , a = 0;
      this.a6 = [];
      for (var D in C)
          this.a6.push(D);
      this.a6.sort(function(c, K) {
          c = c.split(".");
          K = K.split(".");
          return c[1] == K[1] ? c[0] < K[0] ? -1 : 1 : c[1] < K[1] ? -1 : 1
      });
      var F = Math.floor(100 * l.D())
        , X = Math.floor(16 * l.D())
        , E = []
        , f = [];
      for (var M = 0; M < this.a6.length; M++) {
          var D = this.a6[M]
            , q = dV.qK(D, C[D], F, X);
          E.push(q);
          f.push(D);
          a += C[D].byteLength
      }
      this.X1.rR(E, f, F, X);
      this.a2D = a;
      this.B()
  }
  ;
  dV.prototype.akz = function(n) {
      this.X1.eJ(this.X1.u())
  }
  ;
  dV.prototype.afQ = function(n) {
      var M = this.X1.u();
      if (M == -1) {
          alert("Select a file first.");
          return
      }
      this.X1.m(-1);
      var z = this.VJ.$H.Rr;
      delete z[this.a6[M]];
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.W9,
          G6: c1.Em
      };
      this.f(C)
  }
  ;
  dV.prototype.SR = function(n) {
      var z = this.VJ.$H.Rr
        , C = {};
      for (var D in z)
          C[D] = new Uint8Array(z[D]);
      var F = UZIP.encode(C);
      di.save(F, "resources.zip")
  }
  ;
  dV.qK = function(n, z, C, D) {
      var F = l.w("canvas")
        , f = 0;
      F.width = C;
      F.height = D;
      var X = F.getContext("2d")
        , E = n.split(".").pop().toLowerCase();
      for (var M = 0; M < E.length; M++)
          f += E.charCodeAt(M) * 613 << 8 * M;
      X.fillStyle = "#" + j.JY(f & 16777215);
      X.fillRect(0, 0, 20, D);
      var a = Math.floor(14 * l.D());
      X.fillStyle = "#000000";
      X.font = "bold " + a + "px sans-serif";
      var q = (D - a) / 2
        , c = iY.ha(z.byteLength)
        , K = X.measureText(c);
      X.fillText(c, C - 12 - K.width, D - q);
      return F.toDataURL()
  }
  ;
  function gd(n, z, C) {
      da.call(this, z, "cwindow");
      this.aeQ = new ir(C[0],C[1] - 33);
      this.PH = l.w("div", "form");
      this.PH.setAttribute("style", "width:" + (C[2] - C[0]) + "px; height:" + (C[3] - C[1]) + "px");
      this.body.appendChild(this.PH)
  }
  gd.prototype = new da;
  gd.prototype.JX = function(n, z) {
      return this.aeQ.clone()
  }
  ;
  function bv() {
      da.call(this, ["PSD VAR0", [25, 0]], "templates");
      this.Aw = null;
      this.Ly = 0;
      this.Fl = null;
      this.body.setAttribute("style", "padding:0");
      this.Ij = new gJ("Add Templates",null,null,!0);
      this.body.appendChild(this.Ij.j);
      this.Ij.s("click", this.afx, this);
      this.Ij.j.setAttribute("style", "position:absolute; margin-top: -28px;  margin-left:150px");
      this.af0 = new gJ("New Template",null,null,!0);
      this.af0.s("click", this.a26, this);
      this.fn = l.w("iframe", "scrollable");
      this.fn.setAttribute("style", "border:none; margin:0; padding:0;");
      this.vj = l.w("div", "form scrollable padded");
      this.cn = l.w("div", "form scrollable padded label12");
      var n = []
        , z = bv.N6;
      this.W1 = [];
      for (var C in z) {
          var D = parseInt(C.slice(1))
            , F = D % 10 == 0 ? "" : "\u2800\u2800- ";
          n.push(F + z[C]);
          this.W1.push(D)
      }
      this.WW = [new ik("Name",null,30), new ik("Description",null,30,4), new ik("File"," www.Photopea.com#i...",17), new ik("Thumbnail URL","* Use Imgur.com etc., ratio 3:2",17), new fR("Category",n), new gJ("<< Back",null,null,!0), new gJ("Save",null,null,!0), new be("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."), new be("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
      for (var M = 0; M < this.WW.length; M++) {
          var X = this.WW[M];
          this.cn.appendChild(X.j);
          X.parent = this;
          if (M != 5)
              l.jn(this.cn);
          if (X instanceof gJ)
              X.s("click", this.ajc, this)
      }
      this.body.appendChild(this.fn)
  }
  bv.prototype = new da;
  bv.prototype.JX = function(n, z) {
      return new ir(0,0)
  }
  ;
  bv.prototype.IP = function(n, z) {
      z = z - 4;
      n = n;
      var C = this.vj;
      C.style.width = n - 12 + "px";
      C.style.height = z - 12 + "px";
      var C = this.cn;
      C.style.width = n - 12 + "px";
      C.style.height = z - 12 + "px";
      var C = this.fn;
      C.style.width = n + "px";
      C.style.height = z + "px"
  }
  ;
  bv.prototype.B = function() {
      da.prototype.B.call(this)
  }
  ;
  bv.prototype.vb = function(n, z, C, D) {
      this.afx(null, !1)
  }
  ;
  bv.prototype.afx = function(n, z) {
      var C = z != null ? z : l.c6(this.fn);
      if (C) {
          if (!a5.Zj()) {
              alert("You need to log in first!");
              return
          }
          var D = a5.fO();
          this.Aw = D.tpl ? D.tpl.list : [];
          this.Ka()
      } else {
          this.fn.setAttribute("src", "");
          this.fn.setAttribute("src", "plugins/tpls")
      }
      this.body.removeChild(this.body.children[this.body.children.length - 1]);
      this.body.appendChild(C ? this.vj : this.fn);
      this.Ij.Jt(C ? "All Templates" : "Add Templates")
  }
  ;
  bv.prototype.Ka = function() {
      var n = this.Aw
        , z = this.vj;
      l.M$(z);
      var C = l.w("h1");
      C.textContent = "Share your PSD templates with the world!";
      var D = l.w("h3");
      D.textContent = "Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
      z.appendChild(C);
      z.appendChild(D);
      z.appendChild(this.af0.j);
      for (var M = 0; M < n.length; M++) {
          var F = n[M]
            , X = l.w("div");
          z.appendChild(X);
          X.setAttribute("style", "clear:both;");
          var E = l.w("img");
          X.appendChild(E);
          E.setAttribute("src", F.thmb);
          E.setAttribute("style", "height:10em; float:left; margin-right: 1em; margin-bottom:1em;");
          var f = l.w("h3");
          X.appendChild(f);
          f.textContent = F.name;
          var a = l.w("p");
          X.appendChild(a);
          a.textContent = F.desc;
          for (var q = 0; q < 2; q++) {
              var c = new gJ(q == 0 ? "Edit" : "Delete",null,null,!0);
              c.adg = M;
              c.Bp = q == 0;
              c.s("click", this.abA, this);
              X.appendChild(c.j)
          }
      }
  }
  ;
  bv.prototype.a26 = function(n) {
      this.Fl = {
          catg: 0,
          desc: "",
          file: "",
          name: "",
          thmb: "",
          utme: ""
      };
      this.Bp()
  }
  ;
  bv.prototype.abA = function(n) {
      this.Ly = n.target.adg;
      if (!n.target.Bp) {
          this.Aw.splice(this.Ly, 1);
          this.SR();
          this.Ka();
          return
      }
      this.Bp()
  }
  ;
  bv.prototype.Bp = function() {
      this.body.removeChild(this.vj);
      this.body.appendChild(this.cn);
      var n = ["name", "desc", "file", "thmb"]
        , z = this.Fl ? this.Fl : this.Aw[this.Ly];
      for (var M = 0; M < 4; M++) {
          var C = z[n[M]];
          if (C != "" && M == 2)
              C = "https://photopea.com#i" + C;
          this.WW[M].m(C)
      }
      this.WW[4].m(this.W1.indexOf(z.catg))
  }
  ;
  bv.prototype.ajc = function(n) {
      if (this.WW.indexOf(n.target) == 6) {
          var z = this.WW[3].u().trim()
            , C = z.startsWith("http") && (z.endsWith(".jpeg") || z.endsWith(".jpg") || z.endsWith(".png"));
          if (!C) {
              alert("Thumbnail URL is incorrect.");
              return
          }
          var D = new XMLHttpRequest
            , F = "mirror.php?url=" + encodeURIComponent(z);
          D.open("GET", F);
          D.responseType = "arraybuffer";
          D.onload = this.acO.bind(this);
          D.send()
      } else
          this.WS()
  }
  ;
  bv.prototype.acO = function(n) {
      var z = n.target.response
        , C = z.byteLength;
      if (C > 2e5) {
          alert("Thumbnail is too large (" + iY.ha(C) + "). Make it under 200 kB.");
          return
      }
      var D = ["name", "desc", "file", "thmb"]
        , F = this.Fl ? this.Fl : this.Aw[this.Ly];
      for (var M = 0; M < 4; M++) {
          var X = this.WW[M].u().trim();
          if (X.length == 0) {
              alert("One of values is empty.");
              return
          }
          if (M == 2) {
              var E = X.split("#i");
              if (E.length != 2 || E[1].length != 8) {
                  alert("File ID is incorrect.");
                  return
              }
              X = E.pop()
          }
          F[D[M]] = X
      }
      F.catg = this.W1[this.WW[4].u()];
      if (F.utme.length == 0)
          F.utme = "" + Math.round(Date.now() / 1e3);
      if (this.Fl)
          this.Aw.push(this.Fl);
      this.SR();
      this.WS()
  }
  ;
  bv.prototype.WS = function() {
      this.Fl = null;
      this.body.removeChild(this.cn);
      this.body.appendChild(this.vj);
      this.Ka()
  }
  ;
  bv.prototype.SR = function() {
      var n = a5.fO();
      if (this.Aw.length == 0)
          delete n.tpl;
      else
          n.tpl = {
              list: JSON.parse(JSON.stringify(this.Aw))
          };
      a5.dZ(n, function() {
          alert("Saved.")
      })
  }
  ;
  bv.N6 = {
      c0: "Mockups",
      c1: "Mobile & Web",
      c2: "Print",
      c3: "Product",
      c10: "Social Media",
      c11: "Youtube",
      c12: "Instagram",
      c13: "Facebook",
      c20: "Print",
      c21: "Cards",
      c22: "Invitations",
      c23: "Brochures",
      c30: "Mobile",
      c40: "Websites",
      c50: "Presentations",
      c60: "Other"
  };
  function et() {
      da.call(this, "Make Selection", "makesel");
      this.VJ = null;
      var n = l.w("div", "form");
      this.body.appendChild(n);
      this.mD = new eS("Anti-Alias");
      this.mD.m(!0);
      n.appendChild(this.mD.j);
      l.jn(n);
      this.rk = new gG(!0);
      n.appendChild(this.rk.j);
      this.GI = new gJ("OK",!0,null,!0);
      this.GI.s("click", this.G8, this);
      this.body.appendChild(this.GI.j)
  }
  et.prototype = new da;
  et.prototype.B = function() {
      da.prototype.B.call(this);
      this.rk.B()
  }
  ;
  et.prototype.G8 = function(n) {
      var z = new u(l.E.M,!0);
      z.F = O.R2;
      z.data = {
          e: "frompath",
          Hc: [null, 0, this.rk.a0h(), !this.mD.u()]
      };
      this.close();
      this.f(z)
  }
  ;
  function dD() {
      da.call(this, ["VAR0 PSD/PSB", [1, 2]], "savepsb");
      this.B2 = null;
      this.LX = null;
      this.qM = null;
      var n = l.w("div", "form");
      n.setAttribute("style", "width:20em");
      this.body.appendChild(n);
      this.mF = new b7([12, 50],["PSD", "PSB"]);
      this.mF.s(l.E.L, this.O1, this);
      n.appendChild(this.mF.j);
      l.x0(n);
      var z = new be("Minify the file");
      n.appendChild(z.j);
      l.jn(n);
      var C = ["Blank preview image", "ZIP for pixel data", "Remove Smart Object pixels", "Put the file into ZIP"];
      this.aP = [];
      for (var M = 0; M < C.length; M++) {
          var D = new eS(C[M]);
          this.aP.push(D);
          n.appendChild(D.j);
          D.s(l.E.L, this.O1, this)
      }
      l.x0(n);
      this.na = new be("aa.psd");
      this.d3 = new be("10 kB");
      n.appendChild(this.d3.j);
      this.apm = new be("1000 B");
      n.appendChild(this.apm.j);
      this.K0 = new gJ([1, 2],!0,null,!0);
      this.K0.s("click", this.G8, this);
      n.appendChild(this.K0.j);
      this.s("closebtn", this.e$, this)
  }
  dD.prototype = new da;
  dD.prototype.vb = function(n, z, C, D) {
      for (var M = 0; M < this.aP.length; M++)
          this.aP[M].m(!1);
      this.B2 = n;
      this.O1()
  }
  ;
  dD.prototype.G8 = function() {
      di.save(this.LX, this.qM)
  }
  ;
  dD.prototype.e$ = function() {
      this.B2 = null;
      this.LX = null
  }
  ;
  dD.prototype.O1 = function() {
      var n = this.B2
        , z = [!1, !1, !1, !1];
      for (var M = 0; M < 3; M++)
          z[M] = this.aP[M].u();
      var C = this.aP[3].u()
        , D = z[3] = this.mF.u() == 1
        , F = n.name.slice(0, n.name.length - 3)
        , X = this.LX = fC.ET("PSD").c0(n, 0, 0, z)
        , h = this.qM = F + "ps" + (D ? "b" : "d");
      if (C) {
          var E = {};
          E[h] = new Uint8Array(X);
          X = this.LX = UZIP.encode(E);
          h = this.qM = F + "zip"
      }
      this.na.m(h);
      this.d3.m(iY.ha(X.byteLength));
      this.d3.j.style["font-size"] = "2em";
      this.apm.m(" \u2001 " + X.byteLength + " B");
      this.K0.Jt(aC.get([1, 2]) + " \"" + h + "\"")
  }
  ;
  dD.prototype.B = function() {
      da.prototype.B.call(this);
      this.K0.B()
  }
  ;
  function gz(n, z, C, D) {
      gN.call(this);
      this.name = n;
      this.ahJ = C;
      this.xG = D;
      this.kF = l.w("div", "");
      this.kF.setAttribute("draggable", "true");
      this.II = l.w("div", "pbody");
      this.LA = new gJ("",!1,"");
      this.LA.parent = this;
      this.aii = l.w("span", "cross");
      this.o4 = l.w("span", "label");
      var F = this.anL.bind(this);
      this.kF.addEventListener("mousedown", this.a7T.bind(this), !1);
      this.kF.addEventListener("contextmenu", F, !1);
      this.LA.j.addEventListener("contextmenu", F, !1);
      this.aii.addEventListener("mousedown", this.xC.bind(this), !1);
      this.kF.appendChild(this.o4);
      if (z)
          this.kF.appendChild(this.aii);
      this.Mr = !1;
      this.Im = new gX([{
          name: [1, 12]
      }]);
      this.Im.s("select", this.xC, this);
      this.o4.textContent = n
  }
  gz.prototype = new gN;
  gz.prototype.R$ = function() {
      return null
  }
  ;
  gz.prototype.yb = function() {
      return new ir(0,0)
  }
  ;
  gz.prototype.B = function() {
      var n = aC.get(this.name)
        , z = this.ob == 0 ? 22 : Math.round(2 + this.ob / 50)
        , C = n.length > z;
      this.o4.textContent = C ? n.slice(0, z - 2) : n;
      if (C)
          for (var D = 0; D < 2; D++) {
              var F = l.w("span");
              F.textContent = n.charAt(z - 2 + D);
              F.setAttribute("style", "opacity:" + (.6 - D * .4));
              this.o4.appendChild(F)
          }
      var X = n.split(" ")
        , E = X.length == 2 ? X[0].substring(0, 2) + X[1][0] : n.substring(0, 3);
      if (E.charCodeAt(0) >= 11776)
          E = E.substring(0, 1);
      var f = this.ahJ;
      if (f == null)
          this.LA.Jt(E, n);
      else {
          if (f.indexOf("\"") == -1)
              this.LA.Jt("<img src=\"" + f + "\" alt=\"" + n + "\" height=\"20\" />", n)
      }
  }
  ;
  gz.prototype.enable = function() {
      this.II.setAttribute("class", "pbody")
  }
  ;
  gz.prototype.disable = function() {
      this.II.setAttribute("class", "pbody disabled")
  }
  ;
  gz.prototype.vi = function(n, z) {}
  ;
  gz.prototype.vb = function(n, z, C) {}
  ;
  gz.prototype._c = function(n) {}
  ;
  gz.prototype.IP = function(n, z) {}
  ;
  gz.prototype.A3 = function(n) {
      this.name = n;
      this.B()
  }
  ;
  gz.prototype.iN = function() {}
  ;
  gz.prototype.a7T = function(n) {
      if (n.button == 0)
          this.f(new u("select",!1))
  }
  ;
  gz.prototype.anL = function(n) {
      l.I_(n);
      if (this.xG != null && isNaN(this.xG))
          return;
      var z = l.ao(n, document.body)
        , C = this.Im;
      C.update(null);
      C.B();
      C.parent = this;
      var D = new u(l.E.P,!0);
      D.data = {
          e: l.H.X$,
          uN: C,
          x: z.x + 1,
          y: z.y + 1
      };
      this.f(D)
  }
  ;
  gz.prototype.aqz = function() {
      this.xC({})
  }
  ;
  gz.prototype.xC = function(n) {
      if (n.stopPropagation)
          n.stopPropagation();
      if (this.xG != null && !isNaN(this.xG)) {
          var z = new u(l.E.P,!0);
          z.data = {
              e: l.H.DU,
              uN: this.Im
          };
          this.f(z);
          z.data = {
              e: l.H.W9,
              G6: c1.Nc,
              G: parseFloat(this.xG),
              wa: "del"
          };
          this.f(z)
      } else if (this.a9t())
          this.f(new u(l.E.qT,!1))
  }
  ;
  gz.prototype.a9t = function(n) {
      return !0
  }
  ;
  gz.prototype.mY = function(n, z, C, D, F) {}
  ;
  gz.prototype.Xl = function(n, z, C, D, F) {}
  ;
  gz.prototype.yg = function(n, z, C, D, F) {}
  ;
  gz.H2 = function(n, z) {
      if (n.childElementCount != 0)
          return;
      var C = n.textContent;
      this.fB = this.ap7.bind(this);
      this.a8u = this.aeX.bind(this);
      this.eX = z;
      this.RT = n;
      this.agX = C;
      var D = l.w("input", "");
      D.setAttribute("type", "text");
      D.setAttribute("size", "10");
      D.setAttribute("value", C);
      l.M$(n);
      n.appendChild(D);
      D.select();
      D.focus();
      n.addEventListener("keyup", this.fB, !1);
      document.body.addEventListener("mousedown", this.a8u, !1)
  }
  ;
  gz.H2.prototype.ap7 = function(n) {
      var z = dM.vA
        , C = z(n.code, dM.BK);
      if (z(n.code, dM.dM) || C)
          this.aje(C)
  }
  ;
  gz.H2.prototype.aeX = function(n) {
      var z = n.target;
      if (z.tagName && z.tagName.toLowerCase() == "input")
          return;
      this.aje(!0)
  }
  ;
  gz.H2.prototype.aje = function(n) {
      var z = this.RT;
      z.removeEventListener("keyup", this.fB);
      document.body.removeEventListener("mousedown", this.a8u);
      if (n) {
          var C = z.firstChild.value;
          this.eX(C)
      } else {
          l.M$(z);
          z.textContent = this.agX
      }
  }
  ;
  gz.Mq = {
      Ai: "0",
      ace: "1",
      $w: "2",
      aqQ: "3",
      aqH: "4",
      Lr: "5",
      CSS: "6",
      qE: "7",
      adJ: "8",
      aiq: "9",
      a3y: "10",
      a9c: "11",
      adv: "12",
      yi: "13",
      VE: "14",
      a5U: "15",
      aao: "16",
      c7: "17",
      a3J: "19",
      alE: "20"
  };
  function hG() {
      gz.call(this, [9, 9], !1, null, gz.Mq.a9c);
      this.VJ = null;
      this.v7 = [0, 0];
      this.sM = l.w("div", "padded scrollable");
      this.sM.setAttribute("style", "width:260px;  height:260px");
      this.II.appendChild(this.sM);
      this.s(l.E.L, this.k1, this);
      this.y0 = l.w("div", "lpfoot");
      this.II.appendChild(this.y0);
      this.J_ = [];
      var n = "<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">"
        , z = "</svg>"
        , C = n + "<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />" + z
        , D = n + "<path d=\"M0,2 L14,9 L0,16 Z\" />" + z;
      this.ajS = n + "<circle cx=\"7\" cy=\"9\" r=\"6\" />" + z;
      this.apA = n + "<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />" + z;
      var F = [this.ajS, D, "lrs/folder", "lrs/newlayer", "lrs/bin", C]
        , X = [[15, 8, 0], [5, 8], [15, 8, 1], [15, 8, 2], [5, 4], [1, 2]];
      for (var M = 0; M < F.length; M++) {
          var E = F[M];
          if (1 < M && M != F.length - 1)
              E = "<img src=\"" + PIMG[F[M]] + "\" class=\"gsicon\" />";
          var f = new gJ(E,!1,X[M]);
          f.s("click", this.an0, this);
          this.y0.appendChild(f.j);
          this.J_.push(f)
      }
  }
  hG.prototype = new gz("");
  hG.prototype.B = function() {
      gz.prototype.B.call(this);
      for (var M = 0; M < this.J_.length; M++)
          this.J_[M].B()
  }
  ;
  hG.prototype.an0 = function(n) {
      var M = this.J_.indexOf(n.currentTarget)
        , z = this.v7
        , C = this.VJ
        , D = C.XG;
      if (M == 0) {
          var F, X = C.IB;
          if (D.length == 0) {
              alert("Create an Action Set first.");
              return
          }
          if (z.length < 2) {
              alert("Select a target action first.");
              return
          }
          if (X == null) {
              F = this.apA;
              X = this.v7
          } else {
              F = this.ajS;
              X = null
          }
          this.J_[0].Jt(F);
          C.IB = X
      } else if (M == 1)
          this.a2p();
      else if (M == 2 || M == 3) {
          var E = {
              $_: "Action Set " + D.length,
              Fe: [],
              exp: !0
          };
          if (M == 2 || D.length == 0) {
              z = [D.length];
              D.push(E)
          }
          if (M == 3) {
              var f = D[z[0]].Fe;
              z = [z[0], f.length];
              f.push({
                  $_: "Action " + f.length,
                  color: 0,
                  Fe: [],
                  aqt: !1,
                  shift: !1,
                  exp: !0,
                  kB: f.length
              })
          }
          this.v7 = z;
          this.mt()
      } else if (M == 4) {
          var a;
          if (z.length == 1)
              a = D;
          else if (z.length == 2)
              a = D[z[0]].Fe;
          else
              a = D[z[0]].Fe[z[1]].Fe;
          var q = z.length - 1;
          a.splice(z[q], 1);
          if (a.length == 0)
              z.pop();
          else
              while (z[q] >= a.length)
                  z[q]--;
          if (z.length == 0)
              z.push(0);
          this.mt()
      } else if (M == 5) {
          if (D.length == 0) {
              alert("No Actions Present.");
              return
          }
          var c = new u(l.E.P,!0);
          c.data = {
              e: l.H.Bl,
              a3j: c1.M,
              Mb: z[0]
          };
          this.f(c)
      }
  }
  ;
  hG.prototype.k1 = function(n) {
      var z = this.VJ.XG
        , C = n.data.e
        , D = n.data.TC;
      if (C == "sel")
          this.v7 = D;
      if (C == "fold") {
          if (D.length == 1)
              z[D[0]].exp = !z[D[0]].exp;
          else
              z[D[0]].Fe[D[1]].exp = !z[D[0]].Fe[D[1]].exp
      }
      if (C == "enab") {
          var F = z[D[0]].Fe[D[1]].Fe[D[2]];
          F.c = !F.c
      }
      if (C == "nchange") {
          if (D.length == 1)
              z[D[0]].$_ = n.data.VY;
          else
              z[D[0]].Fe[D[1]].$_ = n.data.VY
      }
      this.mt()
  }
  ;
  hG.prototype.vi = function(n, z) {
      this.VJ = n;
      if (z == c1.M || z == c1.Ui)
          this.mt()
  }
  ;
  hG.prototype.mt = function() {
      if (this.VJ == null)
          return;
      l.M$(this.sM);
      var n = this.VJ.XG;
      if (n.length == 0)
          return;
      var z = JSON.stringify(this.v7);
      for (var M = 0; M < n.length; M++) {
          var C = n[M]
            , D = new hG.NR([M],z,C.exp,C.$_.split("=").pop());
          D.parent = this;
          this.sM.appendChild(D.j);
          if (!C.exp)
              continue;
          for (var F = 0; F < C.Fe.length; F++) {
              var X = C.Fe[F]
                , D = new hG.NR([M, F],z,X.exp,X.$_.split("=").pop());
              D.parent = this;
              this.sM.appendChild(D.j);
              if (!X.exp)
                  continue;
              for (var E = 0; E < X.Fe.length; E++) {
                  var f = X.Fe[E]
                    , D = new hG.NR([M, F, E],z,null,aC.get(eW.ajl(f)),f.c);
                  D.parent = this;
                  this.sM.appendChild(D.j)
              }
          }
      }
  }
  ;
  hG.prototype.a2p = function() {
      var n = this.VJ.XG
        , z = this.v7;
      if (n.length == 0) {
          alert("No Actions Present");
          return
      }
      if (z.length == 1) {
          alert("Select an Action first");
          return
      }
      if (this.VJ.IB != null) {
          alert("You can not apply actions while recording actions");
          return
      }
      if (z.length == 1)
          z.push(0);
      var C = n[z[0]]
        , D = C.Fe[z[1]]
        , F = new u(l.E.P,!0);
      F.data = {
          e: l.H.OG,
          Hc: [D.$_, C.$_]
      };
      this.f(F)
  }
  ;
  hG.NR = function(n, z, C, D, F) {
      gN.call(this);
      this.TC = n;
      var X = this.TC.length - 1;
      this.j = l.w("div", "layeritem" + (JSON.stringify(n) == z ? " selected" : ""));
      this.A5 = l.w("div", "head");
      this.j.appendChild(this.A5);
      this.A5.setAttribute("style", "height:24px");
      this.os = l.w("div", "headL");
      this.A5.appendChild(this.os);
      if (X != 0) {
          var E = l.w("div");
          E.style.width = X * 20 + "px";
          this.os.appendChild(E)
      }
      if (C != null) {
          var f = this.a4N = l.w("div", C ? "open" : "closed");
          this.os.appendChild(f)
      } else {
          var a = this.a3B = l.w("div", "cmark");
          a.setAttribute("style", "background-size:12px 12px; opacity:" + (F ? 1 : .3));
          this.os.appendChild(a)
      }
      if (X == 0) {
          var q = l.w("div", "folder");
          this.os.appendChild(q)
      }
      var c = this.o4 = l.w("div", "label");
      c.textContent = D;
      this.os.appendChild(c);
      this.j.addEventListener("mouseup", this.l7.bind(this), !1)
  }
  ;
  hG.NR.prototype = new gN;
  hG.NR.prototype.l7 = function(n) {
      if (n.detail == 1 && n.target.tagName.toLowerCase() != "input") {
          var z = "sel";
          if (n.target == this.a4N)
              z = "fold";
          if (n.target == this.a3B)
              z = "enab";
          var C = new u(l.E.L,!0);
          C.data = {
              e: z,
              TC: this.TC
          };
          this.f(C)
      } else if (this.TC.length < 3)
          var D = new gz.H2(this.o4,this.eX.bind(this))
  }
  ;
  hG.NR.prototype.eX = function(n) {
      var z = new u(l.E.L,!0);
      z.data = {
          e: "nchange",
          VY: n,
          TC: this.TC
      };
      this.f(z)
  }
  ;
  function gY() {
      gz.call(this, [9, 3], !1, null, gz.Mq.qE);
      this.Hv = null;
      this.BZ = null;
      this.VJ = null
  }
  gY.prototype = new gz("");
  gY.prototype.T4 = function() {
      var n = l.w("div", "");
      this.II.appendChild(n);
      this.eH = l.w("div", "bordered cell");
      this.eH.setAttribute("style", "width:10em; height:28.5em;");
      n.appendChild(this.eH);
      this.XU = [];
      this.GO = null;
      this.uS = [];
      var z = this.agN.bind(this);
      this.Cl = [new gY.Xn, new gY.I4, new gY.Ut, new gY.P6];
      for (var M = 0; M < this.Cl.length; M++) {
          var C = l.w("div", "listitem")
            , D = this.Cl[M].sf
            , F = null;
          if (M == 0) {
              this.GO = new be(D);
              C.appendChild(this.GO.j)
          } else {
              F = new eS(D,!1);
              F.s(l.E.L, this.agq, this);
              C.appendChild(F.j)
          }
          this.uS.push(F);
          this.eH.appendChild(C);
          this.XU.push(C);
          C.addEventListener("click", z, !1)
      }
      this.v1 = l.w("div", "cell padded");
      n.appendChild(this.v1);
      for (var M = 0; M < this.Cl.length; M++)
          this.Cl[M].s("brushchange", this.aeW, this);
      this.setItem(0);
      this.Ak = l.w("canvas", "");
      this.Ak.width = Math.floor(380 * l.D());
      this.Ak.height = Math.floor(80 * l.D());
      l.NE(this.Ak, this.Ak.width, this.Ak.height);
      n.appendChild(this.Ak);
      this.zx = this.Ak.getContext("2d");
      this.yH()
  }
  ;
  gY.prototype.iN = function() {
      if (!l.c6(this.II))
          return;
      if (this.eH) {
          this.yH();
          return
      }
      this.T4();
      this.B();
      this.vi(this.VJ, c1.Ui)
  }
  ;
  gY.prototype.B = function() {
      gz.prototype.B.call(this);
      if (this.eH == null)
          return;
      this.GO.B();
      for (var M = 1; M < this.uS.length; M++)
          this.uS[M].B();
      for (var M = 0; M < this.Cl.length; M++)
          this.Cl[M].B()
  }
  ;
  gY.prototype.aeW = function(n) {
      var z = this.Cl.indexOf(n.currentTarget)
        , C = JSON.parse(JSON.stringify(this.Cl[z].BZ))
        , D = new u(l.E.P,!0);
      D.data = {
          e: l.H.W9,
          G6: c1.Px,
          BZ: C
      };
      this.f(D)
  }
  ;
  gY.prototype.agq = function(n) {
      this.a8z(this.uS.indexOf(n.currentTarget), n.currentTarget.tr())
  }
  ;
  gY.prototype.agN = function(n) {
      var M = this.XU.indexOf(n.currentTarget);
      if (n.target.tagName.toLowerCase() == "input")
          return;
      if (this.uS[M] && !this.uS[M].tr()) {
          this.uS[M].so();
          this.a8z(M, !0)
      }
      this.setItem(M)
  }
  ;
  gY.prototype.a8z = function(n, z) {
      this.Cl[n].P9(z)
  }
  ;
  gY.prototype.setItem = function(n) {
      for (var M = 0; M < this.Cl.length; M++)
          this.XU[M].setAttribute("class", "listitem");
      if (this.v1.firstChild)
          this.v1.removeChild(this.v1.firstChild);
      this.XU[n].setAttribute("class", "listitem selected");
      this.v1.appendChild(this.Cl[n].j)
  }
  ;
  gY.prototype.vi = function(n, z) {
      this.VJ = n;
      if (this.eH == null)
          return;
      if (z == c1.qE || z == c1.Ui) {
          this.Hv = n.bz;
          for (var M = 0; M < this.Cl.length; M++)
              this.Cl[M].fY(this.Hv)
      }
      if (z == c1.Px || z == c1.Ui) {
          this.BZ = n.bz.qB;
          this.yH()
      }
      if (z == c1.yi)
          this.yH()
  }
  ;
  gY.prototype.yH = function() {
      if (this.BZ)
          this.enable();
      else {
          this.disable();
          return
      }
      if (!l.c6(this.II))
          return;
      var n = this.VJ;
      for (var M = 0; M < this.Cl.length; M++) {
          this.Cl[M].m(this.BZ);
          if (this.uS[M])
              this.uS[M].m(this.Cl[M].tr())
      }
      var z = JSON.parse(JSON.stringify(this.BZ));
      z.Brsh.v.Dmtr.v.val = Math.min(z.Brsh.v.Dmtr.v.val, 50);
      var C = new cc(0,0,this.Ak.width,this.Ak.height)
        , D = new fz(z,this.Hv ? this.Hv.np : null,this.Hv ? this.Hv.gi : null,{
          IV: 1
      },n.Du,n.ff,C)
        , F = 40 * l.D()
        , X = 300 * l.D();
      D.moveTo(F, F);
      for (var M = 0; M <= X; M += 10)
          D.lineTo(F + M, F + 20 * Math.sin(2 * Math.PI * M / X));
      D.finish();
      var E = this.zx.createImageData(C.d, C.v);
      j.X3(D.MR(), D.Td(), E.data, C);
      this.zx.putImageData(E, 0, 0)
  }
  ;
  gY.L6 = function(n) {
      gN.call(this);
      this.sf = n;
      this.j = l.w("div", "");
      this.BZ = null
  }
  ;
  gY.L6.prototype = new gN;
  gY.L6.prototype.fY = function(n) {}
  ;
  gY.L6.prototype.m = function(n) {
      this.BZ = JSON.parse(JSON.stringify(n));
      this.j.setAttribute("class", this.tr() ? "" : "disabled");
      this.yH()
  }
  ;
  gY.L6.prototype.P9 = function(n) {}
  ;
  gY.L6.prototype.tr = function() {
      return !1
  }
  ;
  gY.L6.prototype.B = function() {}
  ;
  gY.L6.prototype.yH = function() {}
  ;
  gY.L6.prototype.Zy = function() {
      this.f(new u("brushchange"))
  }
  ;
  gY.Xn = function() {
      gY.L6.call(this, [15, 0]);
      this.Hv = null;
      this.anT = null;
      this.b$ = new hx(!0);
      this.j.appendChild(this.b$.j);
      this.b$.s(l.E.L, this.adC, this);
      this.b$.j.style.height = "10.7em";
      this.mS = new ar([12, 14, 0],1,1e3," px",0,!0);
      this.mS.s(l.E.L, this.a33, this);
      this.iG = new ar([12, 15],0,359," \xB0");
      this.iG.s(l.E.L, this.abV, this);
      this.iZ = new ar([12, 16],0,100," %");
      this.iZ.s(l.E.L, this.a3s, this);
      this.HZ = new ar([12, 17],0,100," %");
      this.HZ.s(l.E.L, this.afo, this);
      this.Zl = new ar([12, 18],1,300," %");
      this.Zl.s(l.E.L, this.aa8, this);
      this.XU = [this.mS, this.iG, this.iZ, this.HZ, this.Zl]
  }
  ;
  gY.Xn.prototype = new gY.L6;
  gY.Xn.prototype.B = function() {
      this.mS.B();
      this.iG.B();
      this.iZ.B();
      this.HZ.B();
      this.Zl.B()
  }
  ;
  gY.Xn.prototype.tr = function() {
      return !0
  }
  ;
  gY.Xn.prototype.fY = function(n) {
      this.Hv = n;
      var z = []
        , C = Math.floor(30 * l.D())
        , D = Math.floor(40 * l.D());
      for (var M = 0; M < n.list.length; M++) {
          var F = n.list[M].v
            , X = fz.qK(F, n.np, n.gi, C, D);
          z.push(X)
      }
      this.b$.rR(z, null, C, D)
  }
  ;
  gY.Xn.prototype.yH = function() {
      var n = this.BZ.Brsh.v
        , z = n.classID != this.anT;
      this.anT = n.classID;
      if (z)
          for (var M = 0; M < this.XU.length; M++)
              if (this.j.contains(this.XU[M].j))
                  this.j.removeChild(this.XU[M].j);
      this.mS.m(n.Dmtr.v.val);
      if (z)
          this.j.appendChild(this.mS.j);
      this.iG.m(n.Angl.v.val);
      if (z)
          this.j.appendChild(this.iG.j);
      if (n.classID == "computedBrush" || n.classID == "sampledBrush") {
          this.iZ.m(n.Rndn.v.val);
          if (z)
              this.j.appendChild(this.iZ.j)
      }
      if (n.classID == "computedBrush") {
          this.HZ.m(n.Hrdn.v.val);
          if (z)
              this.j.appendChild(this.HZ.j)
      }
      this.Zl.m(n.Spcn.v.val);
      if (z)
          this.j.appendChild(this.Zl.j)
  }
  ;
  gY.Xn.prototype.adC = function(n) {
      this.BZ = this.Hv.list[this.b$.u()].v;
      this.Zy()
  }
  ;
  gY.Xn.prototype.a33 = function(n) {
      this.BZ.Brsh.v.Dmtr.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.Xn.prototype.abV = function(n) {
      this.BZ.Brsh.v.Angl.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.Xn.prototype.a3s = function(n) {
      this.BZ.Brsh.v.Rndn.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.Xn.prototype.afo = function(n) {
      this.BZ.Brsh.v.Hrdn.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.Xn.prototype.aa8 = function(n) {
      this.BZ.Brsh.v.Spcn.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.I4 = function() {
      gY.L6.call(this, [15, 1]);
      this.U_ = new ar([15, 4, 0],0,100,"%");
      this.U_.s(l.E.L, this.aiM, this);
      this.j.appendChild(this.U_.j);
      this.mr = new ar([15, 4, 1],0,100,"%");
      this.mr.s(l.E.L, this.aju, this);
      this.j.appendChild(this.mr.j);
      this.ht = new ar([15, 4, 2],0,100,"%");
      this.ht.s(l.E.L, this.aq6, this);
      this.j.appendChild(this.ht.j);
      this.uM = new ar([15, 4, 3],0,100,"%");
      this.uM.s(l.E.L, this.a3v, this);
      this.j.appendChild(this.uM.j);
      this.k_ = new ar([15, 4, 4],1,100,"%");
      this.k_.s(l.E.L, this.agK, this);
      this.j.appendChild(this.k_.j)
  }
  ;
  gY.I4.prototype = new gY.L6;
  gY.I4.prototype.B = function() {
      this.U_.B();
      this.mr.B();
      this.ht.B();
      this.uM.B();
      this.k_.B()
  }
  ;
  gY.I4.prototype.tr = function() {
      return this.BZ.useTipDynamics.v
  }
  ;
  gY.I4.prototype.P9 = function(n) {
      this.BZ.useTipDynamics.v = n;
      gK.eh.Yp(this.BZ);
      this.Zy()
  }
  ;
  gY.I4.prototype.yH = function() {
      var n = this.BZ;
      if (n.useTipDynamics.v == !1)
          return;
      this.U_.m(n.szVr.v.jitter.v.val);
      this.mr.m(n.minimumDiameter.v.val);
      this.ht.m(n.angleDynamics.v.jitter.v.val);
      this.uM.m(n.roundnessDynamics.v.jitter.v.val);
      this.k_.m(n.minimumRoundness.v.val)
  }
  ;
  gY.I4.prototype.aiM = function(n) {
      this.BZ.szVr.v.jitter.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.I4.prototype.aju = function(n) {
      this.BZ.minimumDiameter.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.I4.prototype.aq6 = function(n) {
      this.BZ.angleDynamics.v.jitter.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.I4.prototype.a3v = function(n) {
      this.BZ.roundnessDynamics.v.jitter.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.I4.prototype.agK = function(n) {
      this.BZ.minimumRoundness.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.Ut = function() {
      gY.L6.call(this, [15, 2]);
      this.ot = new ar([15, 5, 0],0,1e3," %");
      this.ot.s(l.E.L, this.amZ, this);
      this.j.appendChild(this.ot.j);
      this.s7 = new ar([15, 5, 1],1,20);
      this.s7.s(l.E.L, this.ahi, this);
      this.j.appendChild(this.s7.j);
      this.Us = new ar([15, 5, 2],0,100," %");
      this.Us.s(l.E.L, this.adY, this);
      this.j.appendChild(this.Us.j)
  }
  ;
  gY.Ut.prototype = new gY.L6;
  gY.Ut.prototype.B = function() {
      this.ot.B();
      this.s7.B();
      this.Us.B()
  }
  ;
  gY.Ut.prototype.tr = function() {
      return this.BZ.useScatter.v
  }
  ;
  gY.Ut.prototype.P9 = function(n) {
      this.BZ.useScatter.v = n;
      gK.eh.Yp(this.BZ);
      this.Zy()
  }
  ;
  gY.Ut.prototype.yH = function() {
      var n = this.BZ;
      if (n.useScatter.v == !1)
          return;
      this.ot.m(n.scatterDynamics.v.jitter.v.val);
      this.s7.m(n.Cnt.v);
      this.Us.m(n.countDynamics.v.jitter.v.val)
  }
  ;
  gY.Ut.prototype.amZ = function(n) {
      this.BZ.scatterDynamics.v.jitter.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.Ut.prototype.ahi = function(n) {
      this.BZ.Cnt.v = n.target.u();
      this.Zy()
  }
  ;
  gY.Ut.prototype.adY = function(n) {
      this.BZ.countDynamics.v.jitter.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.P6 = function() {
      gY.L6.call(this, [15, 3]);
      this.Db = new ar([15, 6, 0],0,100," %");
      this.Db.s(l.E.L, this.alQ, this);
      this.j.appendChild(this.Db.j);
      this.B1 = new ar([15, 6, 1],0,100," %");
      this.B1.s(l.E.L, this.aqp, this);
      this.j.appendChild(this.B1.j);
      this.Ch = new ar([15, 6, 2],0,100," %");
      this.Ch.s(l.E.L, this.a7J, this);
      this.j.appendChild(this.Ch.j);
      this.kV = new ar([15, 6, 3],0,100," %");
      this.kV.s(l.E.L, this.aks, this);
      this.j.appendChild(this.kV.j)
  }
  ;
  gY.P6.prototype = new gY.L6;
  gY.P6.prototype.B = function() {
      this.Db.B();
      this.B1.B();
      this.Ch.B();
      this.kV.B()
  }
  ;
  gY.P6.prototype.tr = function() {
      return this.BZ.useColorDynamics.v
  }
  ;
  gY.P6.prototype.P9 = function(n) {
      this.BZ.useColorDynamics.v = n;
      gK.eh.Yp(this.BZ);
      this.Zy()
  }
  ;
  gY.P6.prototype.yH = function() {
      var n = this.BZ;
      if (n.useColorDynamics.v == !1)
          return;
      this.Db.m(n.clVr.v.jitter.v.val);
      this.B1.m(n.H.v.val);
      this.Ch.m(n.Strt.v.val);
      this.kV.m(n.Brgh.v.val)
  }
  ;
  gY.P6.prototype.alQ = function(n) {
      this.BZ.clVr.v.jitter.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.P6.prototype.aqp = function(n) {
      this.BZ.H.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.P6.prototype.a7J = function(n) {
      this.BZ.Strt.v.val = n.target.u();
      this.Zy()
  }
  ;
  gY.P6.prototype.aks = function(n) {
      this.BZ.Brgh.v.val = n.target.u();
      this.Zy()
  }
  ;
  function g0() {
      gz.call(this, [9, 0], !1, null, gz.Mq.Ai);
      this.II.setAttribute("style", "min-width:200px;");
      this.J6 = l.w("div", "hpbody scrollable");
      this.J6.style.height = "160px";
      this.II.appendChild(this.J6);
      this.aqu = -1;
      this.$x = [];
      this.WP = ""
  }
  g0.prototype = new gz("");
  g0.prototype.vb = function(n) {
      if (n == null) {
          l.M$(this.J6);
          this.WP = "";
          return
      }
      l.M$(this.J6);
      var z = 0;
      for (var M = 0; M < n.history.length; M++)
          if (M <= n.VU && !n.history[M].l8)
              z = M;
      for (var M = 0; M < n.history.length; M++) {
          var C = n.history[M];
          if (C.l8)
              continue;
          var D = new dX(C,M,z);
          D.parent = this;
          this.J6.appendChild(D.j);
          this.$x.push(D)
      }
      if (n.VU == n.history.length - 1)
          this.iN()
  }
  ;
  g0.prototype.iN = function() {
      this.J6.scrollTop = this.J6.scrollHeight
  }
  ;
  g0.prototype.B = function() {
      gz.prototype.B.call(this);
      for (var M = 0; M < this.$x.length; M++)
          this.$x[M].B()
  }
  ;
  function dX(n, M, z) {
      gN.call(this);
      this.index = M;
      this.j = l.w("div", M == z ? "listitem selected" : "listitem");
      this.ew = n.name;
      this.B();
      if (M > z)
          this.j.style.opacity = .4;
      this.j.addEventListener("click", this.mY.bind(this), !1)
  }
  dX.prototype = new gN;
  dX.prototype.B = function() {
      this.j.textContent = aC.get(this.ew)
  }
  ;
  dX.prototype.mY = function(n) {
      if (this.index == this.parent.aqu)
          return;
      this.sl({
          e: "h_itemchange",
          index: this.index
      })
  }
  ;
  dX.prototype.sl = function(n) {
      var z = new u(l.E.M,!0);
      z.data = n;
      z.F = O.Ai;
      this.f(z)
  }
  ;
  function eY() {
      gz.call(this, [9, 10], !1, null, gz.Mq.aqH);
      var n = l.w("div", "padded");
      this.II.appendChild(n);
      this.Cp = new cf(256,!0);
      n.appendChild(this.Cp.j);
      this.B2 = null
  }
  eY.prototype = new gz("");
  eY.prototype.vb = function(n) {
      this.B2 = n;
      this.mt()
  }
  ;
  eY.prototype.mt = function() {
      var n = this.B2;
      if (!l.c6(this.II))
          return;
      if (n == null || n.C.length == 0) {
          this.Cp.m(j.BA(j.T(4)));
          return
      }
      var z = n.Wc()
        , C = new cc(0,0,n.d,n.v)
        , D = C.t();
      if (n.N) {
          var F = n.N.rect
            , X = j.T(F.t() * 4);
          j.X3(z, C, X, F);
          j.hQ(n.N.channel, X);
          z = X;
          C = F;
          var E = n.N.channel;
          D = 0;
          for (var M = 0; M < E.length; M++)
              D += E[M];
          D = Math.round(D / 255)
      }
      var f = j.BA(z);
      f[0][255] += 3 * (D - f[5]);
      for (var M = 1; M < 4; M++)
          f[M][255] += D - f[5];
      this.Cp.m(f, D)
  }
  ;
  eY.prototype.vi = function(n, z) {
      this.Cp.VR(cd.uW[n.GT]["--text-color"])
  }
  ;
  eY.prototype.B = function() {
      gz.prototype.B.call(this);
      this.Cp.B()
  }
  ;
  eY.prototype.iN = function() {
      this.mt()
  }
  ;
  function i9() {
      gz.call(this, [9, 8], !1, null, gz.Mq.ace);
      this.sM = l.w("div", "padded");
      this.II.appendChild(this.sM);
      this.MO = new fj(10);
      this.sM.appendChild(this.MO.j);
      this.sM.appendChild(l.w("hr"));
      this.Sv = new aI;
      this.Sv.parent = this;
      this.sM.appendChild(this.Sv.Lj);
      this.MO.s(l.E.L, this.ahv, this);
      this.Sv.s(l.E.L, this.ahv, this)
  }
  i9.prototype = new gz("");
  i9.prototype.ahv = function(n) {
      var z;
      if (n.target == this.MO)
          z = this.MO.u();
      else {
          var C = this.Sv.u();
          z = Math.round(C.h) << 16 | Math.round(C.Q) << 8 | Math.round(C.O)
      }
      var D = new u(l.E.P,!0);
      D.data = {
          e: l.H.W9,
          G6: c1.yi,
          _5: 0,
          G: z
      };
      this.f(D)
  }
  ;
  i9.prototype.vi = function(n, z) {
      var C = n.Du
        , D = z == c1.Ui;
      if (z == c1.yi || D) {
          this.MO.m(C);
          this.Sv.m({
              h: C >>> 16 & 255,
              Q: C >>> 8 & 255,
              O: C >>> 0 & 255,
              UP: "Color #" + j.JY(C)
          })
      }
      if (z == c1.AU || D) {
          var F = n.aeC;
          this.Sv.fY(F)
      }
  }
  ;
  function eB() {
      gz.call(this, [12, 72], !1, null, gz.Mq.aao);
      this.Oj = null;
      this.Sq = null;
      this.J6 = l.w("div", "lpbody scrollable");
      this.y0 = l.w("div", "lpfoot");
      this.II.appendChild(this.J6);
      this.II.appendChild(this.y0);
      this.v6 = [];
      this.s("click", this.ma, this);
      this.qh = [];
      eB.fN([[17, 2], "Save Selection as Channel", [5, 3], [5, 4]], this.qh, this.y0, this.Bz.bind(this), this._j.bind(this));
      this.Vf = new gX([{
          name: "Merge Channels",
          $a: !0
      }]);
      this.Vf.s("select", this.Vh, this)
  }
  eB.prototype = new gz("");
  eB.prototype.Vh = function(n) {
      if (this.Sq == null)
          return;
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.xb,
          gA: "mergechannels"
      };
      this.f(z)
  }
  ;
  eB.prototype.R$ = function() {
      return this.Vf
  }
  ;
  eB.fN = function(n, z, C, D, F) {
      for (var M = 0; M < n.length; M++) {
          var X = new gJ("W",!1,n[M]);
          z.push(X);
          l.Vb(X.j, D);
          C.appendChild(X.j);
          var E = X.j;
          E.addEventListener("drop", F, !1);
          E.addEventListener("dragover", function(f) {
              f.preventDefault()
          }, !1);
          E.addEventListener("dragenter", l.I_, !1)
      }
  }
  ;
  eB.rG = function(n, z) {
      for (var M = 0; M < n.length; M++)
          if (n[M].j == z.currentTarget)
              return M
  }
  ;
  eB.prototype.Bz = function(n) {
      var z = eB.rG(this.qh, n);
      if (z == 0)
          this.f(hJ.OD(!0, null, n));
      else {
          z--;
          var C = new u(l.E._R,!0)
            , D = {
              classID: "null"
          };
          if (z == 0)
              D.null = {
                  t: "obj ",
                  v: [{
                      t: "prop",
                      v: {
                          classID: "Chnl",
                          keyID: "fsel"
                      }
                  }]
              };
          else if (z == 1)
              D.Nw = {
                  t: "Objc",
                  v: {
                      classID: "Chnl",
                      ClrI: {
                          t: "enum",
                          v: {
                              MskI: "SlcA"
                          }
                      },
                      Opct: {
                          t: "long",
                          v: 50
                      }
                  }
              };
          else
              D.null = eW.ek("Chnl", !0);
          C.data = {
              KY: ["duplicate", "make", "delete"][z],
              cw: D
          };
          this.f(C)
      }
  }
  ;
  eB.prototype._j = function(n) {
      var z = eB.rG(this.qh, n);
      if (z == 2) {
          var C = new u(l.E._R,!0)
            , D = {
              classID: "null"
          };
          D.null = eW.ek("Chnl", !0);
          C.data = {
              KY: "duplicate",
              cw: D
          };
          this.f(C)
      } else
          this.Bz(n)
  }
  ;
  eB.prototype.jJ = function(M) {
      var n = this.v6
        , z = n[M];
      if (z == null) {
          var C = l.w("canvas");
          z = C.getContext("2d");
          n.push(z)
      }
      return z
  }
  ;
  eB.prototype.ma = function(n) {
      var z = this.Oj.slice(0)
        , C = n.data.kB
        , D = z[0] + z[1] + z[2]
        , F = this.Sq;
      if (-5 < C && C < 0) {
          var X = -C - 1;
          if (n.data.UJ) {
              if (X == 0)
                  z = D == 3 ? [0, 0, 0] : [1, 1, 1];
              else {
                  if (z[X - 1] == 0)
                      z[X - 1] = 1;
                  else if (!0)
                      z[X - 1] = 0
              }
          } else {
              if (X == 0)
                  z = [1, 1, 1];
              else {
                  z = [0, 0, 0];
                  z[X - 1] = 1
              }
              F.Rj = []
          }
          var E = new u(l.E.M,!0);
          E.F = O.z6;
          E.data = {
              e: "setcls",
              Hg: z
          };
          this.f(E);
          return
      }
      if (-1 < C) {
          var f = F.W[C]
            , a = f.kl == 1 ? f.sN() : f.yM(F).z;
          if (n.data.UJ)
              a.ip = !a.ip;
          else {
              for (var M = 0; M < F.fD.length; M++)
                  F.fD[M].ip = !1;
              F.Rj = []
          }
      } else {
          var q = -C - 5
            , a = F.fD[q];
          if (n.data.UJ)
              a.ip = !a.ip;
          else {
              for (var M = 0; M < F.fD.length; M++)
                  F.fD[M].ip = !1;
              a.ip = !0;
              F.Rj = [q]
          }
      }
      F.QV = F.PL = !0
  }
  ;
  eB.prototype.iN = function() {
      this.O1()
  }
  ;
  eB.prototype.vb = function(n) {
      this.Sq = n;
      this.O1()
  }
  ;
  eB.prototype.O1 = function() {
      var n = this.Sq
        , z = this.J6
        , f = 34
        , a = 34
        , J = 4;
      l.M$(z);
      if (n == null || !l.c6(z))
          return;
      var C = n.d
        , D = n.v
        , F = new cc(0,0,C,D)
        , X = this.Oj = n.a.Hg.slice(0)
        , E = X[0] + X[1] + X[2];
      if (C > D)
          a = Math.round(a * D / C);
      else
          f = Math.round(f * C / D);
      var q = ["RGB"].concat(ad.Ps);
      for (var M = 0; M < 4; M++) {
          var c = this.jJ(M);
          j.Qx.TG(c, f, a, F, n.Wc(), F, !1, M == 0 ? null : M - 1);
          var K = M == 0 ? E == 3 : X[M - 1] == 1
            , R = new hJ(-1 - M,!0,!0,c,q[M],K,K);
          R.parent = this;
          z.appendChild(R.j)
      }
      for (var M = 0; M < n.C.length; M++) {
          var w = n.W[n.C[M]]
            , p = w.kl;
          if (p != 1 && p != 3)
              continue;
          var I = p == 1 ? w.sN() : w.yM(n).z
            , c = this.jJ(J + M);
          J++;
          j.Qx.fd(c, f, a, F, I);
          var R = new hJ(n.C[M],!0,!0,c,w.getName() + (p == 1 ? "" : " Filter") + " Mask",!0,I.ip);
          R.parent = this;
          z.appendChild(R.j)
      }
      for (var M = 0; M < n.fD.length; M++) {
          var I = n.fD[M]
            , c = this.jJ(J + M);
          j.Qx.fd(c, f, a, F, I);
          var R = new hJ(-5 - M,!0,I.name == "Quick Mask",c,I.name,n.Rj.indexOf(M) != -1,I.ip,O.$w,{
              e: Q.iy,
              _5: "rnm",
              kB: M
          });
          R.parent = this;
          z.appendChild(R.j)
      }
  }
  ;
  eB.prototype.IP = function(n, z) {
      this.J6.style.height = z - 9 - 25 + "px"
  }
  ;
  eB.prototype.B = function() {
      gz.prototype.B.call(this);
      this.O1();
      eB.MM(this.qh, ["lrs/makesel", "lrs/mask", "lrs/newlayer", "lrs/bin"])
  }
  ;
  eB.MM = function(n, z) {
      for (var M = 0; M < n.length; M++) {
          var C = n[M];
          C.Jt(l.qu(z[M]))
      }
  }
  ;
  function hJ(n, z, C, D, F, X, E, f, a) {
      gN.call(this);
      this.j = l.w("div", "layeritem");
      this.a7v = n;
      this.a4L = z;
      this.f0 = D;
      this.a9a = f;
      this.acT = a;
      this.A5 = l.w("div", X ? "head selected" : "head");
      this.A5.setAttribute("style", "height: " + 40 + "px");
      var q = l.w("div", "headL")
        , c = l.w("div", "headR")
        , K = 15;
      this.j.appendChild(this.A5);
      this.A5.appendChild(q);
      this.A5.appendChild(c);
      this.Zx = l.w("div", "eye");
      if (1 < l.D() && l.D() < 1.5)
          K = K / l.D();
      this.Zx.setAttribute("style", "background-size: " + K + "px " + K + "px;");
      this.Zx.style.opacity = E ? 1 : .2;
      if (z)
          q.appendChild(this.Zx);
      this.Q6 = l.w("div", "thumb");
      if (D)
          this.Q6.appendChild(D.canvas);
      q.appendChild(this.Q6);
      this.zL = l.w("div", "label");
      if (C)
          this.zL.style.fontStyle = "italic";
      this.zL.textContent = aC.get(F);
      q.appendChild(this.zL);
      var R = this.A5;
      R.setAttribute("draggable", "true");
      this.A5.addEventListener("mousedown", this.a1W.bind(this), !1);
      if (!C)
          this.A5.addEventListener("mouseup", this.amd.bind(this), !1)
  }
  hJ.prototype = new gN;
  hJ.prototype.eX = function(n) {
      var z = new u(l.E.M,!0);
      z.F = this.a9a;
      z.data = this.acT;
      z.data.name = n;
      this.f(z)
  }
  ;
  hJ.prototype.a1W = function(n) {
      var z = n.ctrlKey || n.metaKey
        , C = this.a7v;
      if (z && n.target == this.f0.canvas) {
          this.f(hJ.OD(this.a4L, C, n))
      } else {
          var D = new u("click",!0);
          D.data = {
              kB: C,
              UJ: n.target == this.Zx,
              zz: z
          };
          this.f(D)
      }
  }
  ;
  hJ.prototype.amd = function(n) {
      if (n.detail == 2 && n.target == this.zL) {
          var z = new gz.H2(this.zL,this.eX.bind(this))
      }
  }
  ;
  hJ.OD = function(n, z, C) {
      var D = 0;
      if (C.shiftKey)
          D++;
      if (C.altKey)
          D += 2;
      var F = new u(l.E.M,!0);
      F.F = O.R2;
      if (n) {
          if (-5 < z && z < 0) {
              F = new u(l.E._R,!0);
              F.data = O.lJ.JU(D, ["RGB", "Rd", "Grn", "Bl"][-1 - z])
          } else
              F.data = {
                  e: "fromchannel",
                  Hc: [z, 0, D]
              }
      } else
          F.data = {
              e: "frompath",
              Hc: [z, 0, D]
          };
      return F
  }
  ;
  function dl() {
      gz.call(this, [8, 9], !1, null, gz.Mq.c7);
      this.Oj = null;
      this.Sq = null;
      this.J6 = l.w("div", "lpbody scrollable");
      this.y0 = l.w("div", "lpfoot");
      this.II.appendChild(this.J6);
      this.II.appendChild(this.y0);
      this.II.addEventListener("click", this.anB.bind(this), !1);
      this.v6 = [];
      this.s("click", this.ma, this);
      this.qh = [];
      eB.fN([[17, 2], "Selection to Path", [5, 3], [5, 4]], this.qh, this.y0, this.Bz.bind(this), this._j.bind(this))
  }
  dl.prototype = new gz("");
  dl.prototype.Bz = function(n) {
      var z = eB.rG(this.qh, n), C;
      if (z == 0)
          C = hJ.OD(!1, null, n);
      else if (z == 1) {
          C = new u(l.E._R,!0);
          C.data = {
              KY: "make",
              cw: {
                  classID: "null",
                  null: {
                      t: "obj ",
                      v: [{
                          t: "Clss",
                          v: {
                              classID: "Path"
                          }
                      }]
                  },
                  From: {
                      t: "obj ",
                      v: [{
                          t: "prop",
                          v: {
                              classID: "csel",
                              keyID: "fsel"
                          }
                      }]
                  },
                  Tlrn: {
                      t: "UntF",
                      v: {
                          type: "#Pxl",
                          val: 2
                      }
                  }
              }
          }
      } else {
          var C = new u(l.E.M,!0);
          C.F = O.oa;
          C.data = {
              e: "pathedit",
              _5: ["new", "del"][z - 2]
          }
      }
      this.f(C)
  }
  ;
  dl.prototype._j = function(n) {
      this.Bz(n)
  }
  ;
  dl.prototype.jJ = function(M) {
      var n = this.v6
        , z = n[M];
      if (z == null) {
          var C = l.w("canvas");
          z = C.getContext("2d");
          n.push(z)
      }
      return z
  }
  ;
  dl.prototype.anB = function(n) {
      if (n.target == this.J6) {
          var z = this.Sq;
          z.ej = [];
          z.Tj = [];
          z.PL = !0;
          z.QV = !0
      }
  }
  ;
  dl.prototype.ma = function(n) {
      var z = n.data.kB, C = this.Sq, D = n.data.zz, F = 0, X, E;
      if (z < 0) {
          F = -1 - z;
          X = C.ej;
          E = C.Tj
      } else {
          var f = C.LJ()[0];
          for (var M = 0; M < f.length; M++) {
              var a = f[M].kB;
              if (a == z)
                  break;
              if (a >= 0)
                  F++
          }
          X = C.Tj;
          E = C.ej
      }
      if (D) {
          var q = X.indexOf(F);
          if (q == -1)
              X.push(F);
          else
              X.splice(q, 1)
      } else {
          while (X.length != 0)
              X.pop();
          while (E.length != 0)
              E.pop();
          X.push(F)
      }
      C.PL = !0;
      C.QV = !0
  }
  ;
  dl.prototype.iN = function() {
      this.O1()
  }
  ;
  dl.prototype.vb = function(n) {
      this.Sq = n;
      this.O1()
  }
  ;
  dl.prototype.O1 = function() {
      var n = this.Sq
        , z = this.J6
        , f = 34
        , a = 34;
      l.M$(z);
      if (n == null || !l.c6(z))
          return;
      var C = n.d
        , D = n.v
        , F = new cc(0,0,C,D)
        , X = this.Oj = n.a.Hg.slice(0)
        , E = X[0] + X[1] + X[2];
      if (C > D)
          a = Math.round(a * D / C);
      else
          f = Math.round(f * C / D);
      var q = n.LJ()
        , c = q[0];
      for (var M = 0; M < c.length; M++) {
          var K = c[M]
            , R = this.jJ(M);
          j.Qx.aot(R, f, a, F, K.add.vmsk);
          var J = new hJ(K.kB,!1,K.kB >= 0,R,K.name,q[1].indexOf(M) != -1,!1,O.oa,{
              e: "pathedit",
              _5: "rnm",
              kB: K.kB
          });
          J.parent = this;
          z.appendChild(J.j)
      }
  }
  ;
  dl.prototype.IP = function(n, z) {
      this.J6.style.height = z - 9 - 25 + "px"
  }
  ;
  dl.prototype.B = function() {
      gz.prototype.B.call(this);
      this.O1();
      eB.MM(this.qh, ["lrs/makesel", "lrs/makepath", "lrs/newlayer", "lrs/bin"])
  }
  ;
  function bh(n) {
      gz.call(this, [9, n ? 4 : 5], !1, null, n ? gz.Mq.aiq : gz.Mq.a3y);
      this.II.setAttribute("style", "min-width:240px;");
      this.a58 = n;
      this.DF = null;
      this.VJ = null
  }
  bh.prototype = new gz("");
  bh.prototype.T4 = function() {
      this.DF = new cX;
      var n = this.DF
        , z = this.II;
      n.parent = this;
      if (this.a58) {
          var C = l.w("div", "marged");
          z.appendChild(C);
          C.appendChild(n.i7.j);
          z.appendChild(l.w("hr"));
          var D = l.w("div", "marged");
          z.appendChild(D);
          D.appendChild(n.gb.j);
          D.appendChild(n.j_.j);
          var F = l.w("div", "marged");
          z.appendChild(F);
          F.appendChild(n.p3.j);
          F.appendChild(n.AV.j);
          z.appendChild(l.w("hr"));
          var X = l.w("div", "marged");
          z.appendChild(X);
          X.appendChild(n.WC.j);
          X.appendChild(n.u2.j);
          var E = l.w("div", "marged");
          z.appendChild(E);
          E.appendChild(n.Wy.j);
          E.appendChild(n.Wm.j);
          z.appendChild(l.w("hr"));
          var f = l.w("div", "marged");
          z.appendChild(f);
          f.appendChild(n.KM.j);
          f.appendChild(n.yh.j);
          f.appendChild(n.UX.j);
          f.appendChild(n.Wh.j);
          f.appendChild(n.N3.j);
          f.appendChild(n.nw.j);
          f.appendChild(n.Wl.j);
          f.appendChild(n.OS.j)
      } else {
          var C = l.w("div", "marged");
          z.appendChild(C);
          C.appendChild(n.kv.j);
          C.appendChild(n.FD.j);
          C.appendChild(n.M7.j);
          C.appendChild(n.akj.j);
          C.appendChild(n.ac8.j);
          C.appendChild(n.ap9.j);
          C.appendChild(n.ag0.j);
          z.appendChild(l.w("hr"));
          var D = l.w("div", "marged");
          z.appendChild(D);
          D.appendChild(n.jr.j);
          D.appendChild(n.sC.j);
          D.appendChild(n.j$.j);
          z.appendChild(l.w("hr"));
          var F = l.w("div", "marged");
          z.appendChild(F);
          F.appendChild(n.AF.j);
          F.appendChild(n.YW.j);
          F.appendChild(n.lC.j)
      }
  }
  ;
  bh.prototype.iN = function() {
      if (!l.c6(this.II))
          return;
      if (this.DF == null) {
          this.T4();
          var n = this.VJ;
          if (n)
              this.DF.m(n.E$, n.E_, n.t9);
          this.DF.B()
      }
  }
  ;
  bh.prototype.B = function() {
      gz.prototype.B.call(this);
      if (this.DF)
          this.DF.B()
  }
  ;
  bh.prototype.vi = function(n, z) {
      this.VJ = n;
      if (z != c1.Ui && z != c1.DJ && z != c1.Lg && z != c1.vL)
          return;
      if (this.DF)
          this.DF.m(n.E$, n.E_, n.t9)
  }
  ;
  function gg() {
      gz.call(this, [9, 13], !1, null, gz.Mq.a3J);
      this.VJ = null;
      this.a47 = null;
      this.alM = null;
      this.rC = null;
      this.aqC = null;
      this.Q8 = Math.round(290 * l.D());
      this.OO = 8;
      this.a4Y = 4;
      this.xU = new fR(null,["Hi", "Hello"]);
      this.xU.s(l.E.L, this.Yq, this);
      var n = this.uH = new gJ("-",null,null,!0);
      n.s("click", this.acI, this);
      var z = this.afF = new gJ("+",null,null,!0);
      z.s("click", this.acI, this);
      this.Fx = new hx(!1);
      this.Fx.s(l.E.L, this.tW, this);
      this.Fx.j.style.height = 20 + "em";
      var C = l.w("div", "padded");
      C.setAttribute("style", "width:" + (this.Q8 + 10) / l.D() + "px;");
      this.II.appendChild(C);
      var top = l.w("div");
      top.setAttribute("style", "margin-bottom:0.5em");
      C.appendChild(top);
      top.appendChild(this.xU.j);
      top.appendChild(n.j);
      top.appendChild(z.j);
      C.appendChild(this.Fx.j)
  }
  gg.prototype = new gz("");
  gg.prototype.tW = function(n) {
      var z = this.Fx.u() * this.OO * this.a4Y
        , C = Math.floor(this.Q8 / this.OO) / l.D()
        , D = this.Fx.apY();
      z += Math.floor(D.y / C) * this.OO;
      z += Math.floor(D.x / C);
      var F = this.rC[this.xU.u()];
      if (z >= F.length)
          return;
      var X = F[z]
        , E = this.aqC[X];
      if (E.pR.length == 0) {
          alert("No known character for this glyph");
          return
      }
      var f = String.fromCodePoint(E.pR[0])
        , a = new u(l.E.M,!0);
      a.F = O.qp;
      a.data = {
          e: "insertText",
          G: f
      };
      this.f(a)
  }
  ;
  gg.prototype.acI = function(n) {
      this.OO += n.target == this.uH ? 1 : -1;
      this.OO = Math.max(1, Math.min(20, this.OO));
      this.Yq()
  }
  ;
  gg.prototype.iN = function() {
      this.vi(this.VJ)
  }
  ;
  gg.prototype.vi = function(n, z) {
      this.VJ = n;
      if (!l.c6(this.II))
          return;
      var C = n.E$
        , D = C.I$.Font
        , a = 0;
      if (D == null)
          return;
      var F = C.qR[D].Name;
      if (this.a47 == F)
          return;
      var D = n.E_.V4(F);
      if (D == null)
          return;
      var X = D.maxp.numGlyphs
        , E = this.aqC = new Array(X);
      for (var M = 0; M < X; M++)
          E[M] = {
              pR: []
          };
      var f = Date.now()
        , q = new Uint8Array(1048575);
      for (var M = 0; M < 1048575; M++) {
          var c = Typr.U.codeToGlyph(D, M);
          if (c != 0 && c < X) {
              q[M] = 1;
              if (E[c].pR.length == 0)
                  a++;
              E[c].pR.push(M)
          }
      }
      var K = gg.N6
        , R = [];
      for (var M = 0; M < K.length; M++)
          R.push([]);
      for (var c = 1; c < X; c++) {
          R[0].push(c);
          var J = E[c].pR[0];
          if (J == null) {
              continue
          }
          for (var w = 1; w < K.length; w++) {
              var p = K[w].V7;
              for (var M = 0; M < p.length; M += 2)
                  if (p[M] <= J && J <= p[M + 1]) {
                      R[w].push(c);
                      break
                  }
          }
      }
      this.rC = R;
      var I = [];
      for (var M = 0; M < K.length; M++)
          I.push(K[M].sO + " (" + R[M].length + ")");
      var m = this.xU.u();
      this.xU.us(I);
      this.xU.m(m);
      this.a47 = F;
      this.alM = D;
      this.Yq()
  }
  ;
  gg.prototype.Yq = function(n) {
      var z = this.rC[this.xU.u()]
        , C = z.length
        , D = this.alM
        , F = Typr.U
        , X = Math.floor(this.Q8 / this.OO)
        , E = X
        , f = E * .8
        , a = E * .8 / D.head.unitsPerEm
        , q = []
        , c = l.w("canvas")
        , K = c.getContext("2d")
        , R = this.OO
        , J = Math.ceil(C / R)
        , w = this.a4Y;
      c.width = X * R;
      c.height = E * w;
      K.strokeStyle = "rgba(0,0,0,0.3)";
      var p = Date.now();
      for (var I = 0; I < J; I += w) {
          K.fillStyle = "white";
          K.fillRect(0, 0, R * X, E * w);
          for (var m = 0; m < w; m++) {
              for (var A = 0; A < R; A++) {
                  var M = z[(I + m) * R + A];
                  if (M == null)
                      break;
                  var U = F.glyphToPath(D, M)
                    , r = j.K.AN(U.crds);
                  if (!r.kX()) {
                      K.fillStyle = "#252525";
                      K.beginPath();
                      var $ = A * X + (X - r.d * a) * .5 - r.x * a
                        , k = m * E + f;
                      K.translate($, k);
                      K.scale(a, -a);
                      F.pathToContext(U, K);
                      K.scale(1 / a, -1 / a);
                      K.translate(-$, -k);
                      K.fill()
                  }
              }
          }
          K.beginPath();
          for (var A = 0; A < R; A++) {
              var G = A * X + X + .5;
              K.moveTo(G, 0);
              K.lineTo(G, E * w)
          }
          for (var m = 0; m < w; m++) {
              var i = m * E + E + .5;
              K.moveTo(0, i);
              K.lineTo(R * X, i)
          }
          K.stroke();
          q.push(c.toDataURL("image/png"))
      }
      this.Fx.rR(q, null, X * R, E * w)
  }
  ;
  gg.N6 = [{
      sO: "All Glyphs"
  }, {
      sO: "Basic Latin, Latin 1",
      V7: [0, 127, 128, 143]
  }, {
      sO: "Latin Extended-A",
      V7: [256, 383]
  }, {
      sO: "Latin Extended-B",
      V7: [384, 591]
  }, {
      sO: "Punctuations",
      V7: [33, 35, 37, 39, 42, 42, 44, 44, 46, 47, 58, 59, 63, 63, 64, 64, 92, 92, 161, 161, 167, 167, 182, 183, 191, 191, 894, 894, 903, 903, 1370, 1375, 1417, 1417, 8192, 8303, 11776, 11903]
  }, {
      sO: "Greek",
      V7: [880, 1023]
  }, {
      sO: "Cyrillic",
      V7: [1024, 1279]
  }, {
      sO: "Hebrew",
      V7: [1424, 1535]
  }, {
      sO: "Arabic",
      V7: [1536, 1791]
  }, {
      sO: "Emoji",
      V7: [9728, 10095, 127744, 129535]
  }];
  function fk() {
      gz.call(this, [13, 0], !1, null, gz.Mq.yi);
      this.fG = 0;
      this.ajs = 0;
      this.VJ = null;
      var n = l.w("div", "flexrow padded");
      this.II.appendChild(n);
      var z = l.w("div");
      n.appendChild(z);
      this.Ue = [];
      for (var M = 0; M < 2; M++) {
          var C = new e$;
          this.Ue.push(C);
          C.s("click", this.ac4, this);
          z.appendChild(C.j)
      }
      this.Y3 = new a7(192);
      this.Y3.s(l.E.L, this.pz, this);
      n.appendChild(this.Y3.j)
  }
  fk.prototype = new gz("");
  fk.prototype.ac4 = function(n) {
      this.fG = this.Ue.indexOf(n.currentTarget);
      this.mt()
  }
  ;
  fk.prototype.pz = function(n) {
      var z = this.Y3.u();
      this.Y3.m(z);
      var C = Math.round(z.h * 255) << 16 | Math.round(z.Q * 255) << 8 | Math.round(z.O * 255)
        , D = new u(l.E.P,!0);
      D.data = {
          e: l.H.W9,
          G6: c1.yi,
          _5: this.fG,
          G: C
      };
      this.f(D);
      this.ajs = Date.now()
  }
  ;
  fk.prototype.mt = function() {
      var n = this.VJ
        , z = this.fG
        , C = [n.Du, n.ff];
      for (var M = 0; M < 2; M++) {
          var D = this.Ue[M]
            , F = D.j.style;
          D.VR(C[M]);
          if (M == z)
              F.filter = "drop-shadow(0 0 1px #000000)"
      }
      var X = C[z];
      if (Date.now() - this.ajs > 100)
          this.Y3.m({
              h: (X >>> 16) / 255,
              Q: (X >>> 8 & 255) / 255,
              O: (X & 255) / 255
          })
  }
  ;
  fk.prototype.vi = function(n, z) {
      this.VJ = n;
      if (z == c1.Ui || z == c1.yi)
          this.mt()
  }
  ;
  fk.prototype.iN = function() {
      this.mt()
  }
  ;
  function aH() {
      gz.call(this, "CSS", !1, null, gz.Mq.CSS);
      this.B2 = null;
      var n = l.w("div", "padded");
      this.II.appendChild(n);
      this.HD = l.w("textarea");
      this.HD.setAttribute("rows", 16);
      this.HD.setAttribute("style", "display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
      n.appendChild(this.HD)
  }
  aH.prototype = new gz("");
  aH.prototype.vb = function(n) {
      this.B2 = n;
      this.mt()
  }
  ;
  aH.prototype.vi = function(n, z) {
      if (z == c1.Lg)
          this.mt()
  }
  ;
  aH.prototype.mt = function() {
      var n = this.B2;
      if (n == null || n.C.length == 0)
          return;
      if (!l.c6(this.II))
          return;
      var z = n.W[n.C[0]]
        , C = CSS.a2U(z, n);
      if (C.length != 0)
          this.HD.value = C.join(";\n") + ";";
      else
          this.HD.value = ""
  }
  ;
  aH.prototype.iN = function() {
      this.mt()
  }
  ;
  function dx() {
      gz.call(this, [9, 6], !1, null, gz.Mq.aqQ);
      this.II.setAttribute("style", "min-width:240px;");
      this.B2 = null;
      this.VJ = null;
      var n = l.w("div", "marged row");
      this.II.appendChild(n);
      var z = l.w("div", "cell");
      z.setAttribute("style", "width:10em");
      n.appendChild(z);
      var C = l.w("div", "cell");
      C.setAttribute("style", "width:10em");
      n.appendChild(C);
      this.a3e = [];
      for (var M = 0; M < 4; M++) {
          var D = new be("");
          this.a3e.push(D);
          z.appendChild(D.j);
          l.jn(z)
      }
      this.II.appendChild(l.w("hr", ""));
      var F = l.w("div", "marged row");
      this.II.appendChild(F);
      var z = l.w("div", "cell");
      z.setAttribute("style", "width:10em");
      var C = l.w("div", "cell");
      C.setAttribute("style", "width:10em");
      F.appendChild(z);
      F.appendChild(C);
      this.$v = new be("");
      z.appendChild(this.$v.j);
      l.jn(z);
      this.G7 = new be("");
      z.appendChild(this.G7.j);
      this.CQ = new be("");
      C.appendChild(this.CQ.j);
      l.jn(C);
      this.Jc = new be("");
      C.appendChild(this.Jc.j);
      this.$v.m("X: 100 px");
      this.G7.m("Y: 100 px");
      this.CQ.m("W: 0");
      this.Jc.m("H: 0")
  }
  dx.prototype = new gz("");
  dx.prototype.Xl = function(n, z, C, D, F) {
      if (!l.c6(this.II) || n == null)
          return;
      var X = n.a.C$(F.x, F.y)
        , E = new ir(Math.floor(X.x),Math.floor(X.y));
      if (!F.Vn) {
          var f = 0
            , a = 0
            , q = 0
            , c = 0
            , K = this.a3e;
          if (!F.Vn && !n.aih() && new cc(0,0,n.d - 1,n.v - 1).P5(E)) {
              var R = n.Wc()
                , M = n.d * E.y + E.x << 2;
              f = R[M + 0];
              a = R[M + 1];
              q = R[M + 2];
              c = R[M + 3]
          }
          K[0].m("R: " + f);
          K[1].m("G: " + a);
          K[2].m("B: " + q);
          K[3].m("A: " + c)
      }
      this.$v.m("X: " + j.ST.aN(E.x, n.$M, C, n.d));
      this.G7.m("Y: " + j.ST.aN(E.y, n.$M, C, n.v));
      this.Xo()
  }
  ;
  dx.prototype.Xo = function() {
      var n = this.B2
        , z = this.VJ
        , C = 0
        , D = 0;
      if (n && z) {
          if (n.a.U3) {
              C = n.a.U3.d;
              D = n.a.U3.v
          } else if (n.N) {
              C = n.N.rect.d;
              D = n.N.rect.v
          }
          C = j.ST.aN(Math.abs(C), n.$M, z, n.d);
          D = j.ST.aN(Math.abs(D), n.$M, z, n.v)
      }
      this.CQ.m(aC.get([12, 41]).charAt(0) + ": " + C);
      this.Jc.m(aC.get([12, 42]).charAt(0) + ": " + D)
  }
  ;
  dx.prototype.B = function() {
      gz.prototype.B.call(this);
      this.Xo()
  }
  ;
  dx.prototype.vb = function(n, z, C) {
      this.B2 = n;
      this.VJ = C;
      this.Xo()
  }
  ;
  function ih() {
      gz.call(this, [9, 1], !1, null, gz.Mq.$w);
      this.z2 = null;
      this.JB = null;
      this.pU = null;
      this.A5 = l.w("div", "lphead");
      this.J6 = l.w("div", "lpbody scrollable");
      this.y0 = l.w("div", "lpfoot");
      this.s2 = new fR(null,hr.K6,!1,hr.a4);
      this.s2.s(l.E.L, this.a8F, this);
      this.A5.appendChild(this.s2.j);
      this.Gh = new c5([12, 0],0,100,"%",0);
      this.Gh.s(l.E.L, this.abb, this);
      this.Gh.parent = this;
      this.A5.appendChild(this.Gh.j);
      this.RR = new ez([6, 57, 2],["<img src=\"" + PIMG.trsp3 + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["tools/brush"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.pos + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["lrs/lock"] + "\" class=\"autoscale gsicon\" />"],!0,["Transparency", [12, 76, 2], [12, 40], [7, 0]]);
      this.RR.s(l.E.L, this.aq2, this);
      this.A5.appendChild(this.RR.j);
      this.dV = new c5([12, 26],0,100,"%",0);
      this.dV.s(l.E.L, this.apS, this);
      this.dV.parent = this;
      this.A5.appendChild(this.dV.j);
      this.qh = [];
      this.fN();
      this.II.appendChild(this.A5);
      this.II.appendChild(this.J6);
      this.J6.addEventListener("dragover", function(C) {
          C.preventDefault()
      }, !1);
      this.J6.addEventListener("dragenter", l.I_, !1);
      this.J6.addEventListener("drop", this.anP.bind(this), !1);
      this.II.appendChild(this.y0);
      this.II.addEventListener("contextmenu", l.I_, !1);
      var n = gR.EV(!0)
        , z = gR.wk(!0);
      this.a5a = new gX(n,z);
      var n = [{
          name: [14, 10]
      }, {
          name: [14, 11],
          B$: !0
      }, {
          name: [6, 0]
      }, {
          name: [11, 4]
      }, {
          name: [5, 4],
          B$: !0
      }, {
          name: [6, 7]
      }, {
          name: "New Smart Obj. via Copy",
          c: function(C) {
              return {
                  c: C.W[C.C[0]].add.SoLd != null
              }
          },
          B$: !0
      }, {
          name: [6, 8],
          c: function(C) {
              var D = C.W[C.C[0]];
              if (D.add.TySh || D.add.SoLd || D.add.SoCo || D.add.GdFl || D.add.PtFl)
                  return {
                      c: !0
                  };
              return {
                  c: !1
              }
          }
      }, {
          name: [6, 34],
          c: function(C) {
              var D = C.W[C.C[0]];
              return {
                  c: D.add.lmfx != null && !D.d4()
              }
          }
      }, {
          name: [6, 40],
          B$: !0,
          c: function(C) {
              var D = C.W[C.C[0]];
              return {
                  c: D.add.TySh != null
              }
          }
      }, {
          name: "",
          B$: !0,
          c: function(C) {
              var D = C.W[C.C[0]]
                , F = D.add.TySh
                , X = F ? F.uR : null;
              return {
                  c: F != null && X.Curve == null,
                  m1: aC.get(F && bZ.wT(X) == 0 ? [16, 3, 1] : [16, 3, 0])
              }
          }
      }, {
          name: [6, 6, 0],
          B$: !0,
          c: function(C) {
              return {
                  c: C.vw(C.C[0]),
                  ne: C.W[C.C[0]].$I
              }
          }
      }, {
          name: [11, 6],
          B$: !0,
          sub: [{
              name: [5, 1],
              c: function(C) {
                  var D = C.W[C.C[0]];
                  return {
                      c: D.add.lmfx != null
                  }
              }
          }, {
              name: [5, 2]
          }, {
              name: [2, 2],
              c: function(C) {
                  var D = C.W[C.C[0]];
                  return {
                      c: D.add.lmfx != null
                  }
              }
          }]
      }, {
          name: [6, 10],
          c: function(C) {
              return {
                  c: C.C.length == 1 && C.C[0] != 0 && !C.W[C.C[0]].d4()
              }
          }
      }, {
          name: [6, 12, 0],
          c: function(C) {
              return {
                  c: C.C.length > 1 || C.W[C.C[0]].d4()
              }
          }
      }, {
          name: [6, 12, 1],
          B$: !0
      }, {
          name: [13, 0],
          sub: function() {
              var C = [[13, 1, 0], [13, 1, 1], [13, 1, 2], [13, 1, 3], [13, 1, 4], [13, 1, 5], [13, 1, 6], [13, 1, 7]]
                , D = [];
              for (var M = 0; M < C.length; M++)
                  D.push({
                      name: C[M]
                  });
              return D
          }()
      }]
        , z = [{
          Y: l.E.P,
          n: {
              e: l.H.xb,
              gA: "layerstyle"
          }
      }, {
          Y: l.E.M,
          F: O.R2,
          n: {
              e: "fromlayer",
              Hc: [null, 0, 0]
          }
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.BD
          }
      }, {
          Y: l.E.P,
          n: {
              e: l.H.xb,
              gA: "duplinto"
          }
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.Zi
          }
      }, {
          Y: l.E._R,
          n: {
              KY: "newPlacedLayer"
          }
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.B7
          }
      }, {
          Y: l.E._R,
          n: {
              KY: "rasterizeLayer",
              cw: {
                  classID: "rasterizeLayer",
                  null: eW.ek("Lyr", !0)
              }
          }
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.yk
          }
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q._E
          }
      }, {
          Y: l.E.M,
          F: O.qp,
          n: {
              e: "switchPntPrgr"
          }
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.CR
          }
      }, {
          sub: [{
              Y: l.E.M,
              F: O.pZ,
              n: {
                  e: "st_copy"
              }
          }, {
              Y: l.E.M,
              F: O.pZ,
              n: {
                  e: "st_paste"
              }
          }, {
              Y: l.E.M,
              F: O.pZ,
              n: {
                  e: "st_clear"
              }
          }]
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.cm
          }
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.D_
          }
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.ZA
          }
      }, {
          sub: function() {
              var C = [];
              for (var M = 0; M < 8; M++)
                  C.push({
                      Y: l.E.M,
                      F: O.$w,
                      n: {
                          e: Q.Az,
                          a0C: M
                      }
                  });
              return C
          }()
      }];
      this.v1 = new gX(n,z);
      var n = [{
          name: [6, 45],
          c: function(C) {
              var D = C.W[C.C[0]];
              return {
                  c: D.yM(C).z == null
              }
          }
      }, {
          name: [6, 47]
      }]
        , z = [{
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.pE
          }
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.Tt
          }
      }];
      this.alz = new gX(n,z);
      var n = [{
          name: "enab/disab",
          c: function(C) {
              return {
                  m1: aC.get(C.W[C.C[0]].sN().isEnabled ? [6, 15] : [6, 14])
              }
          }
      }, {
          name: [6, 22]
      }, {
          name: [5, 8],
          c: function(C) {
              return {
                  c: C.Sp(!1, !0)
              }
          }
      }]
        , z = [{
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.Hp
          }
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.wh
          }
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.Xy
          }
      }];
      this.afS = new gX(n,z);
      var n = [{
          name: "enab/disab",
          c: function(C) {
              return {
                  m1: aC.get(C.W[C.C[0]].yM(C).z.isEnabled ? [6, 42] : [6, 41])
              }
          }
      }, {
          name: [6, 46]
      }]
        , z = [{
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.JV
          }
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.tl
          }
      }];
      this.akg = new gX(n,z);
      var n = [{
          name: "enab/disab",
          c: function(C) {
              return {
                  m1: aC.get(C.W[C.C[0]].add.vmsk.isEnabled ? [6, 17] : [6, 16])
              }
          }
      }, {
          name: [6, 24]
      }]
        , z = [{
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.FT
          }
      }, {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.AP
          }
      }];
      this.apf = new gX(n,z);
      this.aaR = new gX(gR.ajb(!0),gR.a1p(!0));
      this.a1U = new gX(gR.EV(),gR.wk());
      this.s("rclick", this.ahy, this)
  }
  ih.prototype = new gz("");
  ih.prototype.anP = function(n) {
      l.I_(n);
      var z = n.dataTransfer.getData("Text")
        , C = 1
        , D = 0;
      if (z == "") {
          l.d$(n, this, this.pU.indexOf(this.JB), D + (C > .5 ? 0 : 1))
      } else if (z != "--panel") {
          var z = JSON.parse(z)
            , F = z.Gj;
          if (F == "l")
              this.sl({
                  e: Q.zo,
                  source: z.Mb,
                  target: D,
                  PS: C
              })
      }
  }
  ;
  ih.prototype.yb = function() {
      return new ir(253,0)
  }
  ;
  ih.prototype.ahy = function(n) {
      var z = this.JB, C = n.data, F;
      if (z.C.indexOf(C.b) == -1) {
          var D = {
              e: Q.XJ,
              b: n.target.RT.index,
              Z0: C.kl
          };
          this.sl(D)
      }
      if (z.C.indexOf(C.b) == -1)
          return;
      if (C.kl == 1) {
          F = this.afS
      } else if (C.kl == 2) {
          F = this.apf
      } else if (C.kl == 3) {
          F = this.akg
      } else if (C.kl == 4) {
          F = this.alz
      } else if (C.kl == 5) {
          F = this.a5a
      } else {
          F = this.v1
      }
      F.B();
      F.update(z);
      F.parent = this;
      var X = new u(l.E.P,!0);
      X.data = {
          e: l.H.X$,
          uN: F,
          x: C.rH.x + 1,
          y: C.rH.y + 1
      };
      this.f(X)
  }
  ;
  ih.prototype.B = function() {
      gz.prototype.B.call(this);
      this.s2.B();
      this.Gh.B();
      this.RR.B();
      this.dV.B();
      if (this.JB)
          this.vb(this.JB);
      var n = "lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
      for (var M = 0; M < this.qh.length; M++) {
          var z = this.qh[M];
          z.Jt(l.qu(n[M]))
      }
  }
  ;
  ih.prototype.vb = function(n, z) {
      if (n && !n.uv)
          return;
      if (n == null)
          l.G5(this.II, "disabled");
      else
          l.DA(this.II, "disabled");
      this.JB = n;
      this.pU = z;
      if (this.z2 != null) {
          this.J6.removeChild(this.z2.J6);
          this.z2 = null
      }
      if (n == null)
          return;
      this.z2 = new a9(n.root,this,n,{
          Ym: 0
      });
      this.J6.appendChild(this.z2.J6);
      if (n.C.length == 0 || n.W[n.C[0]] == null)
          l.G5(this.A5, "disabled");
      else {
          l.DA(this.A5, "disabled");
          if (n.C.length == 1 && n.dc)
              this.z2.aeU(n.C);
          var C = n.W[n.C[0]];
          if (C.d4()) {
              this.s2.us([[15, 10, 27]].concat(hr.K6), [1].concat(hr.a4));
              var D = hr.Un.indexOf(C.Gx);
              this.s2.m(D + 1)
          } else {
              this.s2.us(hr.K6, hr.a4);
              var D = hr.Un.indexOf(C.Gx);
              this.s2.m(D)
          }
          this.Gh.m(Math.round(100 * C.opacity / 255));
          this.RR.m([C.Ks(0), C.Ks(1), C.Ks(2), C.Ks(31)]);
          this.dV.m(Math.round(100 * (C.add.iOpa != null ? C.add.iOpa / 255 : 1)))
      }
  }
  ;
  ih.prototype.IP = function(n, z) {
      var C = this.A5.getBoundingClientRect().height
        , D = 59;
      if (C > 70)
          D = 84;
      if (C > 100)
          D = 108;
      var F = z - (D + 37);
      this.J6.style.height = F + "px"
  }
  ;
  ih.prototype.a8F = function(n) {
      this.sl({
          e: Q.jT,
          Z7: this.s2.u()
      })
  }
  ;
  ih.prototype.abb = function(n) {
      this.sl({
          e: Q.Lh,
          Z7: Math.round(255 * this.Gh.u() / 100)
      })
  }
  ;
  ih.prototype.aq2 = function(n) {
      this.sl({
          e: Q.jy,
          Z7: [this.RR.u(), [0, 1, 2, 31]]
      })
  }
  ;
  ih.prototype.apS = function(n) {
      this.sl({
          e: Q.L7,
          Z7: Math.round(255 * this.dV.u() / 100)
      })
  }
  ;
  ih.prototype.ahu = function(n) {
      this.a5f(n, this.aaR)
  }
  ;
  ih.prototype.a2B = function(n) {
      this.a5f(n, this.a1U)
  }
  ;
  ih.prototype.a5f = function(n, z) {
      var C = n.currentTarget;
      if (l.c6(z.j))
          return;
      n.stopPropagation();
      var D = C.getBoundingClientRect();
      z.B();
      z.update(this.JB);
      z.parent = this;
      var F = new u(l.E.P,!0);
      F.data = {
          e: l.H.X$,
          uN: z,
          x: D.left,
          y: D.top,
          adk: !0
      };
      this.f(F)
  }
  ;
  ih.prototype.alb = function(n) {
      this.sl({
          e: Q.vp
      })
  }
  ;
  ih.prototype.a9H = function(n) {
      this.sl({
          e: this.JB.C.length > 1 ? Q.Ok : Q.WH
      })
  }
  ;
  ih.prototype.alv = function(n) {
      this.sl({
          e: Q.Hx
      })
  }
  ;
  ih.prototype.amq = function(n) {
      this.sl({
          e: Q.Zi
      })
  }
  ;
  ih.prototype.abM = function(n) {
      this.sl({
          e: Q._n
      })
  }
  ;
  ih.prototype.sl = function(n) {
      var z = new u(l.E.M,!0);
      z.data = n;
      z.F = O.$w;
      this.f(z)
  }
  ;
  ih.prototype.fN = function() {
      var n = [[6, 54, 0], [11, 6], [6, 1], [6, 21], [6, 20], [6, 13], [6, 31]]
        , z = [this.abM, this.a2B, this.ahu, this.alb, this.a9H, this.alv, this.amq]
        , C = this.acN.bind(this);
      for (var M = 0; M < n.length; M++) {
          var D = new gJ("W",!1,n[M]);
          this.qh.push(D);
          l.Vb(D.j, z[M].bind(this));
          this.y0.appendChild(D.j);
          if (M >= n.length - 3) {
              var F = D.j;
              F.addEventListener("drop", C, !1);
              F.addEventListener("dragover", function(X) {
                  X.preventDefault()
              }, !1);
              F.addEventListener("dragenter", l.I_, !1)
          }
      }
  }
  ;
  ih.prototype.acN = function(n) {
      l.I_(n);
      var z = 0
        , C = this.qh;
      while (C[z].j != n.currentTarget)
          z++;
      C[z].Z8();
      var D = n.dataTransfer.getData("Text");
      if (D == "")
          return;
      var D = JSON.parse(D);
      if (D.Gj == "l") {
          var F = {
              e: [Q.Ok, Q.BD, Q.Zi][z - 4]
          };
          if (this.JB.C.indexOf(D.Mb) == -1)
              F.b = D.Mb;
          this.sl(F)
      }
      if (z != 6)
          return;
      if (D.Gj == "sm" || D.Gj == "s") {
          var X = new u(l.E.M,!0);
          X.F = O.pZ;
          X.data = {
              e: D.Gj == "sm" ? "st_clear" : "st_delsingle",
              b: D.Mb,
              Mb: D.PD
          };
          this.f(X)
      }
      if (D.Gj == "fm" || D.Gj == "f") {
          this.sl({
              e: D.Gj == "fm" ? Q.Tt : Q.nj,
              src: D.Mb,
              PD: D.PD
          })
      }
      if (D.Gj == "m" || D.Gj == "vm") {
          this.sl({
              e: D.Gj == "m" ? Q.wh : Q.AP,
              b: D.Mb
          })
      }
  }
  ;
  function a9(n, z, C, D) {
      gN.call(this);
      this.parent = z;
      this.RT = n;
      this.ZY = [];
      this.j = l.w("div", "layeritem");
      var F = n.b
        , A = 15
        , b = !1;
      this.A5 = l.w("div", C.C.indexOf(n.index) != -1 ? "head selected" : "head");
      if (n.b.add.artb != null)
          l.G5(this.A5, "artb");
      this.A5.setAttribute("style", "height: " + (F.a78 + 10) + "px");
      var X = l.w("div", "headL")
        , E = l.w("div", "headR")
        , f = l.w("div", "lpineck");
      this.J6 = l.w("div", "lpibody");
      this.j.appendChild(this.A5);
      this.A5.appendChild(X);
      this.A5.appendChild(E);
      if (F.BM() || F.ei())
          if (F.Be())
              this.j.appendChild(f);
      var a = this.A5;
      a.setAttribute("draggable", "true");
      a.addEventListener("dragstart", this.ih.bind(this), !1);
      a.addEventListener("drop", this.Mp.bind(this), !1);
      a.addEventListener("dragover", this.OA.bind(this), !1);
      a.addEventListener("dragenter", l.I_, !1);
      a.addEventListener("dragleave", this.x9.bind(this), !1);
      var q = []
        , c = [null, null, null, null]
        , K = l.w("div");
      this.Zx = l.w("div", "eye");
      K.appendChild(this.Zx);
      var R = l.w("div", "space");
      this.zL = l.w("div", "label");
      this.zL.setAttribute("style", "max-width:calc(100% - " + (96 + n.depth * 20) + "px)");
      this.zL.textContent = F.getName();
      this.Fy = l.w("div", "lock");
      this.a5A = l.w("div", "lrfx");
      this.Q9 = l.w("div", "arfx");
      var J = this.ad4.bind(this)
        , w = this.agm.bind(this);
      this.A5.addEventListener("click", w, !1);
      this.A5.addEventListener("contextmenu", J, !1);
      var p = [0, 16711680, 16748544, 16763904, 4513024, 22015, 11141375, 7829367]
        , I = F.add.lclr == null ? 0 : p[F.add.lclr];
      if (I == 0)
          I = D.Ym;
      var m = [I >> 16, I >> 8 & 255, I & 255];
      for (var M = 0; M < 3; M++) {
          m[M] = Math.round(.5 * m[M] + .5 * 220)
      }
      if (1 < l.D() && l.D() < 1.5)
          A = A / l.D();
      K.setAttribute("style", "background-color:rgba(" + m.join(",") + "," + (I == 0 ? 0 : 1) + ");");
      this.Zx.setAttribute("style", "background-size: " + A + "px " + A + "px;");
      var U = this.a7q.bind(this);
      K.addEventListener("mousedown", U, !1);
      K.addEventListener("mouseover", U, !1);
      this.zL.addEventListener("pointerup", this.ac7.bind(this), !1);
      this.Q9.addEventListener("click", this.a6W.bind(this), !1);
      q[0] = K;
      q[1] = R;
      q[10] = this.zL;
      function r(fY, f3, a) {
          var hK = f3.canvas;
          if (a)
              fY.setAttribute("draggable", "true");
          fY.appendChild(hK);
          hK.setAttribute("style", hK.getAttribute("style") + "; pointer-events:none")
      }
      if (F.d4()) {
          var $ = l.w("div", "arrow")
            , k = l.w("div", "folder");
          $.addEventListener("click", this.a5P.bind(this), !1);
          q[2] = $;
          q[3] = k;
          if (F.add.lsct == g9.WQ) {
              for (var M = n.children.length - 1; M >= 0; M--) {
                  var G = new a9(n.children[M],z,C,{
                      Ym: I
                  });
                  this.ZY.push(G);
                  this.J6.appendChild(G.j)
              }
              this.j.appendChild(this.J6)
          }
          $.setAttribute("class", F.add.lsct == g9.WQ ? "open" : "closed")
      } else {
          this.Q6 = l.w("div", "thumb");
          q[5] = this.Q6;
          r(this.Q6, F.Y2)
      }
      var i = F.sN();
      if (i) {
          this.am = l.w("div", "chain");
          this.zb = l.w("div", "thumb");
          r(this.zb, n.b.ajK, !0);
          this.am.style.opacity = i.Ze ? 1 : 0;
          this.am.addEventListener("click", this.any.bind(this), !1)
      }
      var o = F.Ct() && F.add.vmsk;
      if (F.add.vmsk && !o) {
          this.ZF = l.w("div", "chain");
          this.V8 = l.w("div", "thumb");
          r(this.V8, n.b.acV, !0);
          this.ZF.style.opacity = F.add.vmsk.Ze ? 1 : 0;
          this.ZF.addEventListener("click", this.aap.bind(this), !1)
      }
      if (F.ei() && F.yM(C).z) {
          this.Re = l.w("div", "thumb");
          r(this.Re, n.b.a45, !1);
          this.Re.addEventListener("click", w, !1);
          this.Re.addEventListener("contextmenu", J, !1)
      }
      if (F.BM()) {
          this.agJ = f;
          f.addEventListener("contextmenu", J, !1);
          var S = new ih.pJ(aC.get([12, 1]),"sm","layerstyle",n.depth,0,null);
          S.parent = this;
          f.appendChild(S.j);
          var H = F.add.lmfx
            , e = H.masterFXSwitch.v;
          S.Hu(e);
          for (var M = 0; M < g$.order.length; M++) {
              var V = H[g$.IT[M]].v;
              if (V.length == 0)
                  continue;
              for (var v = 0; v < V.length; v++) {
                  var S = new ih.pJ(aC.get(g$.names[M]),"s","layerstyle",n.depth,1,[M, v]);
                  S.Hu(e && V[v].v.enab.v);
                  S.parent = this;
                  f.appendChild(S.j)
              }
          }
      }
      if (F.ei()) {
          var S = new ih.pJ(aC.get([12, 55]),"fm",null,n.depth,0,-1,F.yM(C).z ? this.Re : null);
          S.parent = this;
          f.appendChild(S.j);
          this.ac_ = S.j;
          this.ac_.addEventListener("contextmenu", J, !1);
          var H = F.add.SoLd.filterFX.v
            , B = H.filterFXList.v
            , e = H.enab.v;
          S.Hu(e);
          for (var M = B.length - 1; M >= 0; M--) {
              var Z = B[M].v
                , d = fd.FE(Z);
              if (ad.y7[d])
                  d = ad.y7[d];
              var g = Z.Nm.v;
              if (fd.names[d])
                  g = aC.get(fd.names[d]);
              if (ad.names[d])
                  g = aC.get(ad.names[d]);
              var Y = "afw_" + d
                , S = new ih.pJ(g,"f",Y,n.depth,1,M);
              S.Hu(e && Z.enab.v);
              S.parent = this;
              f.appendChild(S.j)
          }
      }
      if (C.W.indexOf(F) == C.C[0]) {
          var y = F.kl, L;
          if (y <= 0)
              L = this.Q6;
          else if (y == 1)
              L = this.zb;
          else if (y == 3)
              L = this.Re;
          if (L)
              L.setAttribute("class", "thumb active");
          if (F.XE && this.V8)
              this.V8.setAttribute("class", "thumb active")
      }
      K.style.opacity = F.y_() ? 1 : .25;
      R.setAttribute("style", "width:" + Math.max(0, n.depth - 1) * 18 + "px");
      var _ = F.add.lspf != null && F.add.lspf != 0;
      this.Fy.style.opacity = F.Ks(31) ? 1 : .5;
      q[4] = F.$I ? l.w("div", "clipp") : null;
      q[6] = i ? this.am : null;
      q[7] = i ? this.zb : null;
      q[8] = F.add.vmsk && !o ? this.ZF : null;
      q[9] = F.add.vmsk && !o ? this.V8 : null;
      var x = F.nq
        , W = C.C;
      if (x != 0)
          for (var M = 0; M < W.length; M++)
              if (C.W[W[M]].nq == x) {
                  b = !0;
                  break
              }
      if (b) {
          c[0] = l.w("div", F.Uq ? "link" : "linkX");
          c[0].addEventListener("click", this.aaH.bind(this), !1)
      }
      c[1] = _ ? this.Fy : null;
      c[2] = F.BM() ? this.a5A : null;
      c[3] = F.BM() || F.ei() ? this.Q9 : null;
      this.Q9.setAttribute("class", F.Be() ? "arfx open  gsicon" : "arfx closed  gsicon");
      var g6 = q;
      for (var M = 0; M < g6.length; M++)
          if (g6[M])
              X.appendChild(g6[M]);
      g6 = c;
      for (var M = 0; M < g6.length; M++)
          if (g6[M])
              E.appendChild(g6[M])
  }
  a9.prototype = new gN;
  a9.prototype.aeU = function(n) {
      var z = this.RT.index;
      if (n.indexOf(z) != -1) {
          if (this.j.scrollIntoView)
              this.j.scrollIntoView({
                  block: "nearest"
              })
      }
      for (var M = 0; M < this.ZY.length; M++)
          this.ZY[M].aeU(n)
  }
  ;
  a9.SQ = function(n, z) {
      var C = z.getBoundingClientRect();
      return (n.clientY - C.top) / C.height
  }
  ;
  a9.prototype.ih = function(n) {
      n.stopPropagation();
      var z = n.target == this.zb ? "m" : n.target == this.V8 ? "vm" : "l";
      n.dataTransfer.setData("Text", JSON.stringify({
          Gj: z,
          Mb: this.RT.index
      }))
  }
  ;
  a9.prototype.x9 = function(n) {
      l.I_(n);
      this.DR()
  }
  ;
  a9.prototype.Mp = function(n) {
      l.I_(n);
      this.DR();
      var z = n.dataTransfer.getData("Text")
        , C = this.parent.JB
        , D = a9.SQ(n, this.A5)
        , F = this.RT.index;
      if (D > .8) {
          var X = !0
            , E = C.root.H0(F);
          while (E.parent != null) {
              var f = E.parent
                , a = f.children;
              if (a.indexOf(E) != 0)
                  X = !1;
              E = E.parent
          }
          if (X) {
              F = 0;
              D = 1
          }
      }
      if (z == "") {
          l.d$(n, this, this.parent.pU.indexOf(C), F + (D > .5 ? 0 : 1))
      } else if (z != "--panel") {
          var z = JSON.parse(z)
            , q = z.Gj;
          if (q == "l")
              this.sl({
                  e: Q.zo,
                  source: z.Mb,
                  target: F,
                  PS: D
              });
          else if (q == "m" || q == "vm")
              this.sl({
                  e: q == "m" ? Q.tt : Q.Wi,
                  src: z.Mb,
                  uw: F
              });
          else
              a9.a3k(n, z, this)
      }
  }
  ;
  a9.a3k = function(n, z, C, D) {
      var F = z.Gj
        , X = C.RT.index
        , E = z.Mb;
      if (F == "s" || F == "sm")
          C.sl({
              e: Q.Rp,
              src: E,
              uw: X,
              PD: z.PD
          });
      if (F == "f" || F == "fm")
          C.sl({
              e: Q.zY,
              src: E,
              uw: X,
              PD: z.PD,
              M4: D == null ? 0 : D
          })
  }
  ;
  a9.prototype.OA = function(n) {
      l.I_(n);
      var z = a9.SQ(n, this.A5)
        , C = this.RT.b.d4() && .5 < z && z < .8;
      this.DR();
      var D = "inset 0 " + (C ? 0 : z > .5 ? -3 : 3) + "px " + (C ? "5px black" : "0 rgba(0,0,0,0.5)");
      this.A5.style.boxShadow = D
  }
  ;
  a9.prototype.DR = function(n) {
      this.A5.style.boxShadow = ""
  }
  ;
  a9.ae5 = -1;
  a9.Le = !1;
  a9.a2j = function(n) {
      a9.Le = !1;
      document.body.removeEventListener("mouseup", a9.a2j)
  }
  ;
  a9.prototype.a7q = function(n) {
      if (n.button != 0)
          return;
      if (n.type == "mousedown") {
          a9.Le = !0;
          document.body.addEventListener("mouseup", a9.a2j, !1)
      }
      if (n.type == "mouseover" && (!a9.Le || a9.ae5 == this.RT.index))
          return;
      l.I_(n);
      this.sl({
          e: Q.tk,
          b: this.RT.index
      });
      a9.ae5 = this.RT.index
  }
  ;
  a9.prototype.a5P = function(n) {
      l.I_(n);
      this.sl({
          e: Q.EG,
          b: this.RT.index
      })
  }
  ;
  a9.prototype.any = function(n) {
      this.sl({
          e: Q.ak,
          b: this.RT.index
      })
  }
  ;
  a9.prototype.aap = function(n) {
      this.sl({
          e: Q.tu,
          b: this.RT.index
      })
  }
  ;
  a9.rY = 0;
  a9.prototype.ac7 = function(n) {
      var z = a9.rY;
      a9.rY = Date.now();
      if (Date.now() - z > 300)
          return;
      n.preventDefault();
      n.stopPropagation();
      this.A5.setAttribute("draggable", "false");
      var C = new gz.H2(this.zL,this.eX.bind(this))
  }
  ;
  a9.prototype.eX = function(n) {
      this.sl({
          e: Q.hS,
          b: this.RT.index,
          name: n
      })
  }
  ;
  a9.prototype.a6W = function(n) {
      this.sl({
          e: Q.h9,
          b: this.RT.index
      })
  }
  ;
  a9.prototype.aaH = function(n) {
      this.sl({
          e: Q.$u,
          b: this.RT.index
      })
  }
  ;
  a9.prototype.ad4 = function(n) {
      if (this.ae_(n, n.target, this.kl(n)))
          return;
      var z = n.sourceCapabilities;
      if (z)
          z = z.firesTouchEvents;
      if (n.button != 2 && z != !0)
          return;
      var C = this.kl(n);
      if (C != 3 && n.currentTarget == this.ac_)
          C = 4;
      if (n.target == this.a5A || n.currentTarget == this.agJ)
          C = 5;
      var D = new u("rclick",!0);
      D.data = {
          b: this.RT.index,
          kl: C,
          rH: l.ao(n, document.body)
      };
      this.f(D)
  }
  ;
  a9.prototype.kl = function(n) {
      var z = n.target
        , C = z;
      return C == this.V8 ? 2 : C == this.zb ? 1 : C == this.Q6 ? 0 : C == this.Re ? 3 : -1
  }
  ;
  a9.prototype.agm = function(n) {
      var z = n.target, c;
      if (z == this.Zx || z == this.Q9 || z == this.am || z == this.ZF || z.tagName && z.tagName.toLowerCase() == "input")
          return;
      var C = this.kl(n)
        , D = this.parent.JB
        , F = this.RT.index
        , X = D.W[F];
      if (z == this.Fy) {
          this.sl({
              e: Q.jy,
              b: F,
              Z7: [[!1, !1, !1, !1, !1], [0, 1, 2, 3, 31]]
          });
          return
      }
      if (n.button == 0 && n.detail == 2) {
          if (z == this.zL)
              return;
          var E = new u(l.E.M,!0)
            , f = new u(l.E.P,!0)
            , a = new u(l.E._R,!0);
          if (C == 0 && X.add.SoCo) {
              var q = j._.Jo(X.add.SoCo.Clr.v);
              f.data = {
                  e: l.H.xb,
                  gA: "colorpicker",
                  Ym: q.h << 16 | q.Q << 8 | q.O,
                  Dk: function(J) {
                      var w = j._.w9({
                          O: J & 255,
                          Q: J >>> 8 & 255,
                          h: J >> 16 & 255
                      });
                      w = {
                          classID: "null",
                          Clr: {
                              t: "Objc",
                              v: w
                          }
                      };
                      var p = new u(l.E.M,!0);
                      p.F = O.$w;
                      p.data = {
                          e: Q.yA,
                          xD: [F],
                          kA: !0,
                          G: {
                              p2: 1,
                              Ys: w
                          }
                      };
                      this.f(p)
                  }
                  .bind(this),
                  bD: !0
              }
          } else if (C == 0 && (ad.get(X.add) || X.add.SoCo || X.add.GdFl || X.add.PtFl))
              f.data = {
                  e: l.H.tw,
                  gA: gz.Mq.Lr
              };
          else if (C != 0 && C != -1)
              f.data = {
                  e: l.H.tw,
                  gA: gz.Mq.Lr
              };
          else if (C == 0 && X.add.SoLd)
              a.data = {
                  KY: "placedLayerEditContents",
                  cw: {
                      classID: "placedLayerEditContents"
                  }
              };
          else if (C == 0 && X.add.TySh) {
              E.F = O.qp;
              E.data = {
                  e: "editCurr",
                  cD: F
              }
          } else
              f.data = {
                  e: l.H.xb,
                  gA: "layerstyle",
                  b: F
              };
          this.f(a.data ? a : f.data ? f : E);
          return
      }
      if (this.ae_(n, z, C))
          return;
      if (n.button != 0)
          return;
      if (C == 1 || C == 3) {
          var K = C == 3 ? X.yM(D).z : X.sN();
          c = K.ip ? D.a.Hg.join("") == "111" ? 1 : 2 : 0
      }
      var R = {
          e: Q.XJ,
          b: F,
          Z0: C
      };
      this.sl(R);
      if (n.altKey) {
          if (C == 1 || C == 3) {
              var E = new u(l.E.M,!0);
              E.F = O.d1;
              E.data = {
                  e: "mskView",
                  G: c != 0 ? 0 : n.shiftKey ? 1 : 2
              };
              this.f(E)
          } else {
              this.sl({
                  e: Q.CR,
                  b: F
              })
          }
          return
      }
  }
  ;
  a9.prototype.ae_ = function(n, z, C) {
      if ((n.ctrlKey || n.metaKey) && (C == 0 || C == 1 || C == 2)) {
          var D = 0;
          if (n.shiftKey)
              D++;
          if (n.altKey)
              D += 2;
          var F = new u(l.E.M,!0);
          F.F = O.R2;
          F.data = {
              e: "fromlayer",
              Hc: [this.RT.index, C, D]
          };
          this.f(F);
          return !0
      }
      return !1
  }
  ;
  a9.prototype.sl = function(n) {
      var z = new u(l.E.M,!0);
      z.data = n;
      z.F = O.$w;
      this.f(z)
  }
  ;
  ih.pJ = function(n, z, C, D, F, X, E) {
      gN.call(this);
      this.acF = z;
      this.Rv = C;
      this.index = X;
      this.j = l.w("div", "styleitem");
      this.A5 = l.w("div", "head");
      this.a4w = null;
      if (z == "f") {
          var f = this.a4w = l.w("div", "headR");
          f.textContent = "\u2699";
          this.A5.appendChild(f)
      }
      this.RM = l.w("div", "eye gsicon");
      this.zL = l.w("div", "label");
      this.j.appendChild(this.A5);
      this.A5.appendChild(this.RM);
      if (E) {
          this.zb = E;
          this.A5.appendChild(this.zb);
          this.A5.setAttribute("style", "height: " + (E.firstChild.height / l.D() + 10) + "px")
      }
      this.zL.innerHTML = n;
      this.j.setAttribute("style", "margin-left: " + (24 + D * 16 + F * 22) + "px");
      this.A5.appendChild(this.zL);
      this.RM.addEventListener("click", this.aq3.bind(this), !1);
      var a = this.j;
      a.setAttribute("draggable", "true");
      a.addEventListener("dragstart", this.ih.bind(this), !1);
      if (!0) {
          a.addEventListener("drop", this.Mp.bind(this), !1);
          a.addEventListener("dragover", this.OA.bind(this), !1);
          a.addEventListener("dragenter", l.I_, !1);
          a.addEventListener("dragleave", this.x9.bind(this), !1)
      }
      this.j.addEventListener("click", this.yg.bind(this), !1)
  }
  ;
  ih.pJ.prototype = new gN;
  ih.pJ.prototype.ih = function(n) {
      n.stopPropagation();
      n.dataTransfer.setData("Text", JSON.stringify({
          Gj: this.acF,
          Mb: this.parent.RT.index,
          PD: this.index
      }))
  }
  ;
  ih.pJ.prototype.x9 = function(n) {
      l.I_(n);
      this.DR()
  }
  ;
  ih.pJ.prototype.Mp = function(n) {
      l.I_(n);
      this.DR();
      var z = n.dataTransfer.getData("Text");
      if (z == "")
          return;
      var z = JSON.parse(z);
      a9.a3k(n, z, this.parent, this.index + (a9.SQ(n, this.A5) > .5 ? 0 : 1))
  }
  ;
  ih.pJ.prototype.OA = function(n) {
      l.I_(n);
      var z = a9.SQ(n, this.A5) > .5;
      this.DR();
      var C = "border-" + (z ? "bottom" : "top");
      this.A5.style[C] = "0.2em solid rgba(0,0,0,0.5)"
  }
  ;
  ih.pJ.prototype.DR = function(n) {
      this.A5.style.border = "none"
  }
  ;
  ih.pJ.prototype.Hu = function(n) {
      var z = 15;
      if (1 < l.D() && l.D() < 1.5)
          z = z / l.D();
      this.RM.setAttribute("style", "background-size: " + z + "px " + z + "px;");
      this.RM.style.opacity = n ? 1 : .2
  }
  ;
  ih.pJ.prototype.yg = function(n) {
      if (n.target == this.RM)
          return;
      var z = this.parent.RT.index;
      if (n.detail != 1 && this.Rv != null) {
          var z = this.parent.RT.index
            , C = new u(l.E.P,!0);
          if (this.Rv.indexOf("afw_") == 0) {
              var D = this.Rv.slice(4)
                , F = t[D] || fd.p[D]
                , X = n.target == this.a4w;
              if (!X && !F)
                  return;
              C.data = e3.EL.dI(X ? "blendOptions" : D, {
                  b: z,
                  index: this.index
              })
          } else
              C.data = {
                  e: l.H.xb,
                  gA: this.Rv,
                  b: z,
                  index: this.index
              };
          this.f(C)
      } else {
          if (n.target.getAttribute("class") != "thumb")
              this.parent.sl({
                  e: Q.XJ,
                  b: z,
                  Z0: 0
              })
      }
  }
  ;
  ih.pJ.prototype.aq3 = function(n) {
      var z = {
          fm: Q.n1,
          f: Q.g4,
          sm: Q.JL,
          s: Q.qy
      }[this.acF];
      this.parent.sl({
          e: z,
          b: this.parent.RT.index,
          index: this.index
      })
  }
  ;
  function aM() {
      gz.call(this, "Guide Guy", !1, null, gz.Mq.a5U);
      this.B2 = null;
      this.yJ = [];
      var n = l.w("div", "form padded");
      this.II.appendChild(n);
      n.setAttribute("style", "width:200px");
      this.II.appendChild(n);
      var z = l.w("canvas")
        , C = z.getContext("2d");
      z.width = z.height = 160;
      var D = [32, 0, 16, 160, 0, 32, 160, 16, 0, 112, 160, 16]
        , F = "Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(",")
        , X = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
      for (var M = 0; M < 10; M++) {
          C.clearRect(0, 0, 160, 160);
          C.setTransform(1, 0, 0, 1, 80, 80);
          C.rotate((M & 3) * Math.PI / 2);
          C.translate(-80, -80);
          C.fillStyle = "rgba(0,0,0,0.3)";
          if (M < 4) {
              for (var E = 0; E < 12; E += 4) {
                  C.fillStyle = E == 0 ? "#000000" : "rgba(0,0,0,0.3)";
                  C.fillRect(D[E], D[E + 1], D[E + 2], D[E + 3])
              }
          } else if (M < 6) {
              var f = 8 * 6;
              C.fillRect(0, 0, f, 160);
              C.fillRect(8 * 7, 0, f, 160);
              C.fillStyle = "#000000";
              C.fillRect(8 * 14, 0, f, 160)
          } else if (M < 8) {
              C.fillRect(0, 0, 16, 160);
              C.fillRect(160 - 16, 0, 16, 160);
              C.fillRect(32, 0, 160 - 64, 160);
              C.fillStyle = "#000000";
              C.fillRect(32, 80 - 8, 160 - 64, 8 * 1)
          } else {
              C.fillRect(0, 0, 8 * 7, 160);
              C.fillRect(8 * 13, 0, 160, 160);
              C.fillStyle = "#000000";
              C.fillRect(8 * 7, 80 - 8, 8 * 6, 8 * 1)
          }
          var a = "<img src=\"" + z.toDataURL() + "\" class=\"autoscale gsicon\" /> "
            , q = new c5(a,0,200,M == 4 || M == 5 ? null : "px",null,null,null,4,F[M]);
          q.parent = this;
          q.s(l.E.L, this.anq, this);
          q.m(X[M]);
          q.B();
          this.yJ.push(q);
          n.appendChild(q.j)
      }
      var c = ["Add Guides", "Clear Guides"];
      this.J_ = [];
      for (var M = 0; M < c.length; M++) {
          var K = new gJ(c[M],!0,null,!0);
          this.J_.push(K);
          K.s("click", this.S4, this);
          n.appendChild(K.j)
      }
      for (var M = 0; M < 6; M++) {
          C.setTransform(1, 0, 0, 1, 80, 80);
          C.rotate(Math.floor(M / 3) * Math.PI / 2);
          C.translate(-80, -80);
          C.clearRect(0, 0, 160, 160);
          C.fillStyle = "rgba(0,0,0,0.3)";
          C.fillRect(0, 0, 160, 160);
          C.clearRect(16, 16, 128, 128);
          C.fillStyle = "#000000";
          var R = M % 3;
          C.fillRect([0, 9, 18][R] * 8, 0, 16, 160);
          var a = "<img src=\"" + z.toDataURL() + "\" class=\"autoscale gsicon\" /> "
            , K = new gJ(a,!1,null,!1);
          this.J_.push(K);
          K.s("click", this.S4, this);
          n.appendChild(K.j)
      }
  }
  aM.prototype = new gz("");
  aM.prototype.anq = function(n) {
      var z = this.yJ
        , C = z.indexOf(n.target)
        , D = Math.floor(C / 2)
        , F = C & 1
        , X = [];
      for (var M = 0; M < 4; M++)
          X.push(z[2 * M + F].u());
      var E = -1;
      if (D == 2 && X[2] != 0 && X[3] != 0 && X[4] != 0)
          E = 4;
      if (D == 3 && X[3] != 0 && X[2] != 0 && X[4] != 0)
          E = 4;
      if (D == 4 && X[4] != 0 && X[2] != 0 && X[3] != 0)
          E = 3;
      if (E != -1)
          z[2 * E + F].m(0)
  }
  ;
  aM.prototype.S4 = function(n) {
      var z = this.B2
        , C = this.J_.indexOf(n.target)
        , D = [[], []];
      if (z == null)
          return;
      var F = z.N ? z.N.rect : new cc(0,0,z.d,z.v)
        , X = F.d
        , E = F.v;
      if (C == 0) {
          var f = [[], []];
          for (var M = 0; M < this.yJ.length; M++)
              f[M & 1].push(this.yJ[M].u());
          var a = [aM.abk(f[0], F.x, F.x + X), aM.abk(f[1], F.y, F.y + E)];
          D = aM.aif(a);
          O.zh.fU(D, z.gS())
      } else if (C == 1) {} else {
          C -= 2;
          var q = Math.floor(C / 3)
            , a = [[], []];
          a[q].push([F.x, F.x + X / 2, F.x + X, F.y, F.y + E / 2, F.y + E][C]);
          D = aM.aif(a);
          O.zh.fU(D, z.gS())
      }
      this.anh(D)
  }
  ;
  aM.aif = function(n) {
      var z = []
        , C = [];
      for (var D = 0; D < 2; D++)
          for (var M = 0; M < n[D].length; M++) {
              z.push([D, n[D][M]]);
              C.push(-1)
          }
      return [z, C]
  }
  ;
  aM.prototype.ahZ = function(n) {
      var z = this.a5_.indexOf(n.target)
  }
  ;
  aM.prototype.anh = function(n) {
      var z = new u(l.E.M,!0);
      z.F = O.GR;
      z.data = {
          e: "gids",
          By: n
      };
      this.f(z)
  }
  ;
  aM.abk = function(n, z, C) {
      var D = []
        , F = n[2]
        , X = n[3]
        , E = n[4]
        , f = 0;
      if (F == 0)
          f++;
      if (X == 0)
          f++;
      if (E == 0)
          f++;
      if (f > 1 && F == 0 && X == 0) {
          if (n[0] != 0)
              D.push(z + n[0]);
          if (n[1] != 0)
              D.push(C - n[1]);
          return D
      }
      var a = C - z - n[0] - n[1];
      if (F == 0) {
          if (E == 0) {
              F = Math.floor(a / X);
              E = (a - F * X) / (F - 1)
          } else {
              F = 1;
              while (X * F + E * (F - 1) + X + E <= a)
                  F++
          }
      } else if (F != 0 && X != 0) {
          if (F * X > a)
              F = Math.floor(a / X);
          E = (a - F * X) / (F - 1)
      }
      D.push(z + n[0], C - n[1]);
      var X = (a - E * (F - 1)) / F;
      for (var M = 1; M < F; M++) {
          if (E == 0)
              D.push(z + n[0] + M * X);
          else
              D.push(z + n[0] + M * X + (M - 1) * E, z + n[0] + M * X + M * E)
      }
      return D
  }
  ;
  aM.prototype.vb = function(n) {
      this.B2 = n
  }
  ;
  function iu() {
      gz.call(this, [9, 2], !1, null, gz.Mq.Lr);
      this.a4a = null;
      this.QJ = null;
      this.VJ = null;
      this.af6 = -1
  }
  iu.prototype = new gz("");
  iu.prototype.T4 = function() {
      this.sM = l.w("div", "padded");
      this.sM.style.width = "22em";
      this.II.appendChild(this.sM);
      var n = l.w("span", "fitem");
      this.sM.appendChild(n);
      this.Nu = [new gJ([0, 3]), new gJ([12, 73]), new gJ([12, 91, 0])];
      for (var M = 0; M < this.Nu.length; M++) {
          var z = this.Nu[M];
          z.s("click", this.ach, this);
          n.appendChild(z.j)
      }
      this.sM.appendChild(l.w("hr"));
      this.PA = new iu.n0;
      this.PA.parent = this;
      this.oy = new iu.g1;
      this.oy.parent = this;
      this.rM = new iu.dD;
      this.rM.parent = this;
      this.a5$ = [this.PA, this.oy, this.rM];
      this.sM.appendChild(this.PA.j)
  }
  ;
  iu.prototype.ach = function(n) {
      var M = this.Nu.indexOf(n.currentTarget);
      this.ra(M);
      this.amb(M == 1 ? this.oy.C3 : -1)
  }
  ;
  iu.prototype.ra = function(n) {
      for (var M = 0; M < 3; M++) {
          this.Nu[M].Z8();
          var z = this.a5$[M].j;
          if (z.parentNode == this.sM && M != n)
              this.sM.removeChild(z);
          if (z.parentNode != this.sM && M == n)
              this.sM.appendChild(z)
      }
      this.Nu[n].so()
  }
  ;
  iu.prototype.amb = function(n) {
      var z = this.QJ.C[0]
        , C = this.QJ.W[z]
        , D = n + 1;
      if (n == 1 && C.XE)
          return;
      var F = new u(l.E.M,!0);
      F.F = O.$w;
      if (n != 1 && C.XE) {
          F.data = {
              e: Q.XJ,
              b: z,
              Z0: 2
          };
          this.f(F)
      }
      F.data = {
          e: Q.XJ,
          b: z,
          Z0: D
      };
      this.f(F)
  }
  ;
  iu.prototype.B = function() {
      gz.prototype.B.call(this);
      if (this.sM == null)
          return;
      this.vb(this.QJ);
      for (var M = 0; M < 3; M++) {
          this.Nu[M].B();
          this.a5$[M].B()
      }
  }
  ;
  iu.prototype.iN = function() {
      if (!l.c6(this.II))
          return;
      if (this.sM == null) {
          this.T4();
          this.vi(this.VJ, c1.Ui);
          this.vb(this.a4a);
          this.B()
      }
  }
  ;
  iu.prototype.vb = function(n) {
      this.a4a = n;
      if (this.sM == null)
          return;
      this.PA.vb(n);
      this.oy.vb(n);
      this.rM.vb(n);
      if (n == null || n.C.length == 0 || n.W[n.C[0]] == null) {
          l.G5(this.II, "disabled");
          this.QJ = null;
          return
      } else
          l.DA(this.II, "disabled");
      var z = n.C[0]
        , C = n.W[z]
        , D = n.LJ()
        , F = D[0]
        , X = D[1];
      if (X.length != 0) {
          var E = F[X[0]]
            , f = E.add.vogk
            , a = !1;
          if (f)
              for (var M = 0; M < f.length; M++) {
                  var q = f[M].v
                    , c = q.keyShapeInvalidated;
                  if (c && c.v || q.keyOriginType == null)
                      continue;
                  a = !0;
                  z = E.kB
              }
      }
      if (n != this.QJ || this.af6 != z) {
          this.QJ = n;
          this.af6 = z;
          if (a)
              this.ra(2);
          else if (C.kl < 1 && !C.XE)
              this.ra(0);
          else
              this.ra(1)
      }
      this.Nu[1].H8(this.oy.C3 != -1);
      this.Nu[2].H8(a)
  }
  ;
  iu.prototype.vi = function(n, z) {
      this.VJ = n;
      if (this.PA)
          this.PA.vi(n, z);
      if (this.rM)
          this.rM.vi(n, z)
  }
  ;
  iu.n0 = function() {
      gN.call(this);
      this.j = l.w("div", "form");
      this.aeK = new be("Hello");
      this.he = new gJ("Reset",null,null,!0);
      this.he.j.style.a3P = "right";
      this.he.s("click", this.GK, this);
      this.j.appendChild(this.aeK.j);
      this.j.appendChild(this.he.j);
      this.dJ = null;
      this.JE = null;
      this.QJ = null;
      this.VJ = null;
      this.afA = -1;
      this.a4q = null;
      this.y5 = new e$(!0);
      this.y5.parent = this;
      this.y5.s(l.E.L, this.a7U, this);
      this.e5 = l.w("div", "marged hiline");
      this.e5.appendChild(this.y5.j);
      this.tT = new bt("GrFl",!0);
      this.tT.parent = this;
      this.tT.s(l.E.L, this.aiH, this);
      this.Va = l.w("div", "marged hiline");
      var n = "Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
      for (var M = 0; M < n.length; M++) {
          var z = this.tT.in[n[M]].j;
          this.Va.appendChild(z)
      }
      this.vM = new bt("patternFill",!0);
      this.vM.parent = this;
      this.vM.s(l.E.L, this.a6y, this);
      this.KB = l.w("div", "marged hiline");
      var n = ["Ptrn", "Scl", "Algn", "phase"];
      for (var M = 0; M < n.length; M++) {
          var z = this.vM.in[n[M]].j;
          this.KB.appendChild(z)
      }
      this.cc = {};
      for (var C in ad.names) {
          if (t[C] == null)
              continue;
          this.cc[C] = new t[C];
          this.cc[C].s(l.E.L, this.a0e, this);
          this.cc[C].parent = this
      }
      var D = this.a8m = l.w("div", "marged hiline");
      this.BN = new aa(0,!0);
      D.appendChild(this.BN.j);
      this.BN.s(l.E.L, this.Q3, this);
      this.wS = new fR([12, 46],[[13, 1, 8], [13, 1, 10], [13, 1, 9], [12, 47]]);
      this.wS.s(l.E.L, this.Q3, this);
      D.appendChild(this.wS.j);
      this.wO = new e$(!1);
      this.wO.parent = this;
      this.wO.s(l.E.L, this.Q3, this);
      D.appendChild(this.wO.j)
  }
  ;
  iu.n0.prototype = new gN;
  iu.n0.prototype.GK = function(n) {
      var z = this.QJ
        , C = z.W[z.C[0]]
        , D = ad.get(C.add);
      this.JE.m(fd.zP(D));
      this.a0e()
  }
  ;
  iu.n0.prototype.B = function() {
      for (var n in this.cc)
          this.cc[n].B();
      this.tT.B();
      this.vM.B();
      this.wS.B();
      this.BN.B()
  }
  ;
  iu.n0.prototype.Q3 = function(n) {
      var z = this.BN.u()
        , C = Q.sS(new cc(z[2],z[3],z[0],z[1]))
        , D = this.wS.u()
        , F = {
          classID: "artboard",
          artboardRect: {
              t: "Objc",
              v: C
          },
          Clr: {
              t: "Objc",
              v: this.wO.u()
          },
          artboardBackgroundType: {
              t: "long",
              v: D + 1
          }
      }
        , X = new u(l.E.M,!0);
      X.F = O.$w;
      X.data = {
          e: Q.w6,
          e0: F
      };
      this.f(X)
  }
  ;
  iu.n0.prototype.a7U = function(n) {
      var z = this.QJ
        , C = z.C[0];
      if (z.W[C].add.SoCo == null)
          return;
      var D = JSON.parse(JSON.stringify(z.W[C].add.SoCo));
      D.Clr.v = this.y5.u();
      this.KT({
          p2: 1,
          Ys: D
      })
  }
  ;
  iu.n0.prototype.aiH = function(n) {
      var z = this.QJ
        , C = z.C[0];
      if (z.W[C].add.GdFl == null)
          return;
      this.KT({
          p2: 2,
          Ys: this.tT.u()
      })
  }
  ;
  iu.n0.prototype.a6y = function(n) {
      this.KT({
          p2: 3,
          Ys: this.vM.u()
      })
  }
  ;
  iu.n0.prototype.KT = function(n) {
      this.a0z(O.$w, {
          e: Q.yA,
          xD: [this.QJ.C[0]],
          kA: !0,
          G: n
      })
  }
  ;
  iu.n0.prototype.a0e = function(n) {
      this.a0z(O.y$, {
          e: "edit_layer",
          G: this.JE.u()
      })
  }
  ;
  iu.n0.prototype.a0z = function(n, z) {
      var C = new u(l.E.M,!0);
      C.F = n;
      C.data = z;
      this.f(C)
  }
  ;
  iu.n0.prototype.vb = function(n, z) {
      var C = aC.get([0, 3])
        , D = !1
        , F = null;
      this.QJ = n;
      if (n && n.W.length > 0 && n.C.length != 0 && n.W[n.C[0]]) {
          var X = n.W[n.C[0]]
            , E = ad.get(X.add);
          if (E != null && this.cc[E] != null) {
              F = this.cc[E].j;
              this.JE = this.cc[E];
              this.cc[E].m(X.add[E]);
              if (n.C[0] != this.afA) {
                  var f = n.Wc(n.C[0] - 1);
                  this.a4q = j.BA(f)
              }
              this.cc[E].u7(this.a4q);
              C = aC.get(ad.names[E]);
              D = !0
          }
          if (X.add.SoCo) {
              F = this.e5;
              this.y5.m(X.add.SoCo.Clr.v);
              C = aC.get([6, 48, 0, 0])
          }
          if (X.add.GdFl) {
              F = this.Va;
              this.tT.update(n, X.add.GdFl);
              C = aC.get([6, 48, 0, 1])
          }
          if (X.add.PtFl) {
              F = this.KB;
              this.vM.update(n, X.add.PtFl);
              C = aC.get([6, 48, 0, 2])
          }
          if (X.add.artb) {
              var a = X.add.artb
                , q = X.qJ();
              F = this.a8m;
              this.wS.m(a.artboardBackgroundType.v - 1);
              if (a.Clr)
                  this.wO.m(a.Clr.v);
              this.BN.m([q.d, q.v, q.x, q.y], [n.$M, n.d, this.VJ.mw.Ya]);
              C = "Artboard"
          }
          this.afA = n.C[0]
      }
      if (F != this.dJ) {
          if (this.dJ)
              this.j.removeChild(this.dJ);
          if (F != null)
              this.j.appendChild(F);
          this.dJ = F
      }
      this.aeK.m(C);
      this.he.j.style.display = D ? "" : "none"
  }
  ;
  iu.n0.prototype.vi = function(n, z) {
      this.VJ = n;
      this.tT.vi(n, z);
      this.vM.vi(n, z);
      if (z == c1.eW)
          this.vb(this.QJ, n);
      for (var C in this.cc)
          this.cc[C].vi(n, z)
  }
  ;
  iu.g1 = function() {
      gN.call(this);
      this.j = l.w("div", "form");
      this.QJ = null;
      this.C3 = 0;
      var n = l.w("span", "fitem");
      this.j.appendChild(n);
      this.Nu = [new gJ([6, 2]), new gJ([6, 3]), new gJ([6, 50])];
      for (var M = 0; M < this.Nu.length; M++) {
          var z = this.Nu[M];
          z.s("click", this.aoK, this);
          n.appendChild(z.j)
      }
      this.Jh = new ar([12, 74],0,255);
      this.Jh.s(l.E.L, this.yB, this);
      this.j.appendChild(this.Jh.j);
      this.sq = new ar([7, 6],0,500,"px",2,!0);
      this.sq.s(l.E.L, this.yB, this);
      this.j.appendChild(this.sq.j);
      this.Jx = new gJ([4, 11],null,null,!0);
      this.Jx.s("click", this.a7s, this)
  }
  ;
  iu.g1.prototype = new gN;
  iu.g1.prototype.a7s = function() {
      var n = new u(l.E.M,!0);
      n.F = O.y$;
      n.data = {
          e: "start",
          cH: "nvrt"
      };
      this.f(n)
  }
  ;
  iu.g1.prototype.yB = function(n) {
      var z = this.Jh.u()
        , C = this.sq.u()
        , D = new u(l.E.M,!0);
      D.F = O.$w;
      D.data = {
          e: Q.jg,
          kI: this.QJ.C[0],
          L0: {
              ry: this.C3,
              Jh: z,
              sq: C
          }
      };
      this.f(D)
  }
  ;
  iu.g1.prototype.B = function() {
      for (var M = 0; M < this.Nu.length; M++)
          this.Nu[M].B();
      this.Jh.B();
      this.sq.B();
      this.Jx.B()
  }
  ;
  iu.g1.prototype.vb = function(n) {
      this.QJ = n;
      this.O1()
  }
  ;
  iu.g1.prototype.aoK = function(n) {
      this.O1(this.Nu.indexOf(n.currentTarget));
      this.parent.amb(this.C3)
  }
  ;
  iu.g1.prototype.O1 = function(n) {
      var z = this.QJ
        , C = this.Nu;
      for (var M = 0; M < 3; M++) {
          var D = C[M];
          D.Z8();
          D.NN()
      }
      if (z == null || z.W.length == 0 || z.C.length == 0 || z.W[z.C[0]] == null)
          return;
      var F = -1
        , X = z.W[z.C[0]];
      if (X.ei() && X.yM(z).z != null) {
          C[2].Tl();
          F = 2
      }
      if (X.add.vmsk) {
          C[1].Tl();
          F = 1
      }
      if (X.sN()) {
          C[0].Tl();
          F = 0
      }
      if (n != null)
          F = n;
      else if (X.XE)
          F = 1;
      else if (X.kl == 3)
          F = 2;
      else if (X.kl == 1)
          F = 0;
      this.C3 = F;
      if (F == -1) {
          this.Jh.NN();
          this.sq.NN();
          return
      }
      var E = X.xa(F);
      this.Jh.Tl();
      this.sq.Tl();
      this.Jh.m(E.Jh);
      this.sq.m(E.sq);
      C[F].so();
      var f = this.Jx.j;
      if (F == 0)
          this.j.appendChild(f);
      else if (f.parentNode == this.j)
          this.j.removeChild(f)
  }
  ;
  iu.dD = function() {
      gN.call(this);
      this.j = l.w("div", "form");
      this.B2 = null;
      this.VJ = null;
      this.LD = new aa(0,!1);
      this.LD.s(l.E.L, this.akT, this);
      this.mv = new aa(1,!0);
      this.mv.s(l.E.L, this.akT, this)
  }
  ;
  iu.dD.prototype = new gN;
  iu.dD.prototype.B = function() {
      this.LD.B();
      this.mv.B()
  }
  ;
  iu.dD.prototype.akT = function(n) {
      var z = [null, null, null, null]
        , C = [null, null, null, null]
        , D = n.target.u();
      if (n.target == this.LD) {
          z[0] = D[2];
          z[1] = D[3];
          z[2] = z[0] + D[0];
          z[3] = z[1] + D[1]
      } else {
          C = D;
          var F = C[3];
          C[3] = C[2];
          C[2] = F
      }
      var X = new u(l.E.M,!0);
      X.F = O.$w;
      X.data = {
          e: Q.qQ,
          i6: z,
          aqs: C
      };
      this.f(X)
  }
  ;
  iu.dD.prototype.vb = function(n) {
      this.B2 = n;
      if (n == null)
          return;
      var z = this.VJ
        , C = j.hL.qw(n)
        , D = C[0]
        , F = C[1]
        , X = this.LD.j
        , E = this.mv.j
        , f = X.parentNode != null
        , a = E.parentNode != null
        , q = [n.$M, n.d, z.mw.Ya];
      if (D) {
          if (!f)
              this.j.appendChild(X);
          this.LD.m([D[2] - D[0], D[3] - D[1], D[0], D[1]], q)
      } else if (f)
          this.j.removeChild(X);
      if (F) {
          if (!a)
              this.j.appendChild(E);
          var c = F[2];
          F[2] = F[3];
          F[3] = c;
          this.mv.m(F, q)
      } else if (a)
          this.j.removeChild(E)
  }
  ;
  iu.dD.prototype.vi = function(n, z) {
      this.VJ = n;
      this.vb(this.B2)
  }
  ;
  function bG(n) {
      gz.call(this, n.name, !0);
      this.JB = n;
      this.mf = null;
      this.P$ = [];
      this.og = !1;
      this.Eg = {
          x: 0,
          y: 0,
          Vn: !1
      };
      this.VQ = document.createElement("canvas");
      this.Kb = this.VQ.getContext("2d");
      this.we = document.createElement("canvas");
      this.Fe = this.we.getContext("2d");
      var z = 16
        , C = j.T(16 * 16 * 4);
      j.BJ(C, z, z, 8);
      this.ts = j.scale.hG(C, z, z);
      this.ahV = this.Kz.bind(this);
      this.bj = this.kp.bind(this);
      this.a2R = this.xP.bind(this);
      var D = this.II;
      l.Vb(D, this.ahV);
      l.LR(D, this.bj);
      D.addEventListener("wheel", this.Zk.bind(this), !1);
      D.addEventListener("contextmenu", this.a24.bind(this), !1);
      var F = this.a0o.bind(this);
      D.addEventListener("gesturestart", F, !1);
      D.addEventListener("gesturechange", F, !1);
      D.addEventListener("gestureend", F, !1);
      this.ON = 0;
      this.alx = "";
      this.oG = 4;
      l.g8(D)
  }
  bG.prototype = new gz;
  bG.prototype.a0o = function(n) {
      if (n.type == "gesturestart")
          this.sF = n.scale;
      if (n.type == "gesturechange") {
          var z = new u("mouse",!0);
          z.action = "scroll";
          z.zz = !0;
          this.dq(n, z);
          var C = (this.sF - n.scale) / this.sF;
          z.jO = new ir(0,100 * C);
          this.sF = n.scale;
          this.f(z)
      }
  }
  ;
  bG.prototype.a9t = function() {
      if (this.JB.eq())
          return window.confirm(aC.get([22, 6, 3]) + " " + this.JB.name + ". " + aC.get([22, 6, 4]));
      return !0
  }
  ;
  bG.prototype.QC = function(n) {
      n.preventDefault()
  }
  ;
  bG.prototype.uk = function(n) {
      var z = -1
        , C = this.P$;
      for (var M = 0; M < C.length; M++)
          if (C[M].pointerId == n.pointerId)
              z = M;
      return z
  }
  ;
  bG.NU = function(n) {
      var z = n.pointerType
        , C = window.__kb;
      return z == "touch" && C.r(dM.a8q)
  }
  ;
  bG.prototype.Kz = function(n) {
      if (bG.NU(n))
          return;
      var z = this.uk(n);
      if (z != -1)
          this.P$[z] = n;
      else
          this.P$.push(n);
      if (this.P$.length == 1) {
          var C = n.button != null && n.button != 0 ? "rdown" : "down"
            , D = new u("mouse",!0);
          D.action = C;
          this.dq(n, D);
          this.f(D);
          l.i$(this.II, this.bj);
          l.LR(window, this.bj);
          l.g_(window, this.a2R)
      }
      if (this.P$.length == 2) {
          this.amI("multidown");
          this.og = !0
      }
  }
  ;
  bG.prototype.kp = function(n) {
      if (bG.NU(n))
          return;
      var z = this.uk(n);
      if (z != -1)
          this.P$[z] = n;
      if (this.P$.length > 1) {
          this.amI("multimove")
      }
      if (this.og)
          return;
      var C = new u("mouse",!0);
      C.action = "move";
      this.dq(n, C);
      this.f(C);
      if (this.mf && this.mf.MB && !this.Eg.Vn)
          this.mt()
  }
  ;
  bG.prototype.xP = function(n) {
      if (bG.NU(n))
          return;
      var z = this.P$
        , C = this.uk(n);
      z.splice(C, 1);
      if (z.length == 0) {
          var D = n.button != null && n.button > 0 ? "rup" : "up"
            , F = new u("mouse",!0);
          F.action = D;
          this.dq(n, F);
          this.f(F);
          l.i$(window, this.bj);
          l.YO(window, this.a2R);
          l.LR(this.II, this.bj);
          this.og = !1
      }
  }
  ;
  bG.prototype.Zk = function(n) {
      this.QC(n);
      if (n.deltaX == 0 && n.deltaY == 0)
          return;
      var z = new u("mouse",!0);
      z.action = "scroll";
      z.zz = n.ctrlKey;
      this.dq(n, z);
      this.f(z)
  }
  ;
  bG.prototype.a24 = function(n) {
      l.I_(n);
      var z = n.sourceCapabilities;
      if (z)
          z = z.firesTouchEvents;
      if (z) {
          var C = new u("mouse",!0);
          this.dq(n, C);
          C.action = "rdown";
          this.f(C);
          C.action = "rup";
          this.f(C)
      }
  }
  ;
  bG.prototype.amI = function(n) {
      var z = this.P$
        , C = l.D()
        , D = [];
      for (var M = 0; M < z.length; M++) {
          var F = D[M] = l.ao(z[M], this.II);
          F.x *= C;
          F.y *= C
      }
      var X = new u("mouse",!0);
      X.action = n;
      X.hd = D;
      this.f(X)
  }
  ;
  bG.prototype.dq = function(n, z, C) {
      var D = this.P$.length != 0;
      if (z.action != "up") {
          var F = l.D();
          if (C == null)
              C = l.ao(n, this.II);
          this.Eg = z.cb = {
              x: F * C.x,
              y: F * C.y,
              Vn: D
          };
          var X = l.ao(n, document.body);
          z.cb.kD = X.x;
          z.cb.Bh = X.y
      } else
          this.Eg = z.cb = {
              x: this.Eg.x,
              y: this.Eg.y,
              Vn: D
          };
      z.cb.Fg = .5;
      if (n.pressure != null && n.pressure != 0)
          z.cb.Fg = n.pressure;
      if (n.pointerType == "mouse")
          z.cb.Fg *= 2;
      if (n.deltaX != null) {
          var E = n.deltaMode == 0 ? 1 : 40;
          z.jO = new ir(n.deltaX * E,n.deltaY * E)
      }
  }
  ;
  bG.prototype.vi = function(n, z) {
      this.mf = n
  }
  ;
  bG.prototype.vb = function(n) {
      this.iN();
      this.mt()
  }
  ;
  bG.prototype.IP = function(n, z) {
      if (n <= 0 || z <= 0)
          return;
      this.ob = n;
      this.ua = z;
      var C = this.JB
        , D = l.D();
      C.a.Fe.d = Math.floor(n * D);
      C.a.Fe.v = Math.floor(z * D);
      l.Hb(this.we, n, z);
      l.Hb(this.VQ, n, z);
      l.Hb(N.ur(), n, z);
      if (C.a.X == 0)
          C.a.X = O.TM.pB(C.d, C.v, n * D, z * D);
      this.mt()
  }
  ;
  bG.prototype.iN = function() {
      var n = this.II.firstChild;
      if (!N.O3 && n == N.ur() || N.O3 && n == this.we)
          this.II.removeChild(n);
      var z = N.O3 ? N.ur() : this.we;
      if (!l.c6(z))
          this.II.appendChild(z)
  }
  ;
  bG.prototype.mt = function() {
      if (N.O3 != this.oG) {
          this.ON = 0;
          this.alx = ""
      }
      this.oG = N.O3;
      if (this.mf == null)
          return;
      if (N.O3)
          this.ag5();
      else
          this.zT();
      var n = this.JB;
      this.ON = n.a.X;
      this.alx = JSON.stringify(n.a.Hg)
  }
  ;
  bG.prototype.ag5 = function() {
      if (N.O3 && bG.aeJ == null)
          bG.aeJ = new bG.fK(!1);
      if (N.O3 && bG.a98 == null)
          bG.a98 = [new bG.fK(!0,2), new bG.fK(!0,8), new bG.fK(!0,32), new bG.fK(!0,128)];
      var n = this.JB, q, R = 0;
      if (n.nB == null)
          return;
      var z = n.a
        , C = z.Fe.d
        , D = z.Fe.v
        , F = N.f0;
      this.Fe.clearRect(0, 0, C, D);
      var X = this.alu(n);
      if (z.NO == null)
          z.NO = new N.Dv(C,D);
      if (X)
          z.NO.set(this.we);
      else {
          N.CX(z.NO);
          N.jz(1)
      }
      var E = z.Sg(0, 0)
        , f = new b6;
      f.scale(C, D);
      f.concat(z.fk(!0));
      f.scale(1 / n.d, 1 / n.v);
      var a = [f.nb, f.O, 0, f.KV, f.qc, 0, f.H1, f.Wv, 1];
      if (bG.and == null)
          bG.and = new Float32Array(4 * 1024);
      var c = [0, 0, 0, 0]
        , K = bG.and;
      if (n.add.artd) {
          K.fill(0);
          c = bG.km(n);
          var J = n.d
            , w = n.v
            , A = 0;
          for (var M = 0; M < n.W.length; M++) {
              var p = n.W[M]
                , I = p.add.artb;
              if (I == null || !p.y_())
                  continue;
              var m = p.qJ();
              K[R] = m.x / J;
              K[R + 1] = m.y / w;
              K[R + 2] = m.d / J;
              K[R + 3] = m.v / w;
              R += 4;
              if (R == K.length)
                  break
          }
          if (R > 2 * 4)
              A++;
          if (R > 8 * 4)
              A++;
          if (R > 32 * 4)
              A++;
          q = bG.a98[A];
          K = new Float32Array(K.buffer,0,[2, 8, 32, 128][A] * 4)
      } else
          q = bG.aeJ;
      N.Zf(C, D);
      N.jz(0);
      N.Zf(C, D);
      q.XQ();
      q.g0(z.NO.S9, n.nB.S9, new Float32Array(a), new Float32Array([C / 8, D / 8, E.x / C, E.y / D]), n.d, n.v, 1 / n.a.X, C, D, new Float32Array(c), K, new Float32Array(j.es._w(j.es.XP(z.Hg))));
      F.drawArrays(F.TRIANGLES, 0, 6)
  }
  ;
  bG.km = function(n) {
      return [0, 0, 0, 0]
  }
  ;
  bG.apF = function(n) {
      var z = j._.Jo(n.v)
        , C = [z.h / 255, z.Q / 255, z.O / 255, 1];
      for (var M = 0; M < 4; M++)
          C[M] = Math.min(1, C[M]);
      return C
  }
  ;
  bG.lN = function(n, z) {
      var C = n[2] * 255;
      if (N.O3)
          C = z ? 0 : Math.max(1, C);
      return "rgba(" + n[0] * 255 + "," + n[1] * 255 + "," + C + "," + n[3] + ")"
  }
  ;
  bG.Ap = function(n) {
      if (N.O3)
          for (var M = 0; M < n.length; M += 4) {
              if (n[M + 2] == 0)
                  n[M + 2] = 3
          }
  }
  ;
  bG.prototype.zT = function() {
      var n = this.JB;
      if (n.buffer == null)
          return;
      var z = n.a
        , C = z.Fe
        , D = C.d
        , F = C.v
        , X = new cc(0,0,n.d,n.v);
      this.Kb.clearRect(0, 0, D, F);
      this.Fe.clearRect(0, 0, D, F);
      var E = z.fk(!0)
        , f = E.clone();
      f.eL();
      if (n.add.artd == null) {
          this.Fe.save();
          var a = f.JT(new ir(0,0));
          f.translate(-a.x, -a.y);
          this.Fe.translate(Math.round(a.x), Math.round(a.y));
          this.Fe.fillStyle = this.ts;
          this.Ew(j.K.YQ(X), f, this.Fe);
          this.Fe.fill();
          this.Fe.restore()
      } else {
          this.Fe.fillStyle = bG.lN(bG.km(n));
          this.Fe.fillRect(0, 0, D, F);
          this.Fe.save();
          this.Fe.setTransform(f.nb, f.O, f.KV, f.qc, f.H1, f.Wv);
          var q = n.root.children;
          for (var M = 0; M < q.length; M++) {
              var c = q[M].b;
              if (c.add.artb == null || !c.y_())
                  continue;
              var K = c.qJ()
                , R = c.q9();
              if (R != 0)
                  continue;
              this.Fe.fillStyle = "white";
              this.Fe.fillRect(K.x, K.y, K.d, K.v)
          }
          this.Fe.restore()
      }
      if (z.ws.length != C.t()) {
          z.ws = j.T(C.t());
          z.fV = j.T(C.t() * 4)
      }
      z.fV.fill(0);
      j.scale.anA(n.buffer, X, E, z.fV, C);
      if (z.Hg[0] + z.Hg[1] + z.Hg[2] != 3)
          j.es.Gf(z.fV, z.fV, j.es.XP(z.Hg));
      this.Kb.putImageData(new ImageData(new Uint8ClampedArray(z.fV.buffer),C.d,C.v), 0, 0);
      this.Fe.drawImage(this.VQ, 0, 0);
      this.Fe.getImageData(0, 0, 1, 1);
      this.alu(n)
  }
  ;
  bG.prototype.alu = function(n) {
      var z = n.a
        , C = z.Hg[0] + z.Hg[1] + z.Hg[2]
        , D = !1
        , F = [];
      for (var M = 0; M < n.C.length; M++) {
          var X = n.W[n.C[M]];
          if (X == null)
              continue;
          var E = X.kl;
          if (E != 1 && E != 3)
              continue;
          var f = E == 1 ? X.sN() : X.yM(n).z;
          if (f.ip)
              F.push(f)
      }
      for (var M = 0; M < n.fD.length; M++)
          if (n.fD[M].ip)
              F.push(n.fD[M]);
      for (var M = 0; M < F.length; M++) {
          var f = F[M];
          this.alq(f, z, F.length == 1 && C == 0 ? 2 : 1, f.color, f.Ym);
          D = !0
      }
      var a = this.mf;
      D = this.aiX(n, this.Fe, z) || D;
      if (n.N && a.iC && a.mw.PN) {
          this.alq(n.N, z, 0, 0, null);
          D = !0
      }
      return D
  }
  ;
  bG.prototype.alq = function(n, z, C, D, F) {
      var X = 0, R, J;
      if (F)
          X = Math.round(F.O) << 16 | Math.round(F.Q) << 8 | Math.round(F.h);
      var E = z.fk(!0)
        , f = z.Fe
        , a = new cc(0,0,z.JB.d,z.JB.v);
      if (z.ws.length != f.t()) {
          z.ws = j.T(f.t());
          z.fV = j.T(f.t() * 4)
      }
      z.ws.fill(D);
      z.fV.fill(0);
      var q = n.channel
        , c = n.rect;
      j.scale.Z(q, c, E, z.ws, f);
      if (C == 0)
          j.N.agi(z.ws, z.fV, f, f);
      else
          j.N.a68(z.ws, z.fV, f, f, C, X);
      bG.Ap(z.fV);
      var K = new ImageData(new Uint8ClampedArray(z.fV.buffer),f.d,f.v);
      this.Kb.putImageData(K, 0, 0);
      this.Fe.save();
      if (C == 0) {
          R = f.clone();
          R.TR(-1, -1);
          J = new b6
      } else {
          R = new cc(0,0,a.d,a.v);
          J = E.clone();
          J.eL()
      }
      this.Ew(j.K.YQ(R), J, this.Fe);
      this.Fe.clip();
      this.Fe.drawImage(this.VQ, 0, 0);
      this.Fe.restore()
  }
  ;
  bG.prototype.aiX = function(n, z, C) {
      var D = n.k.EH != null || n.k.ju != null || n.k.qv != null || n.k.an.length != 0 || n.k.om.length != 0
        , F = this.mf
        , X = F.mw
        , E = cd.uW[F.GT]
        , f = Math.round(12 * l.D())
        , a = f / n.a.X
        , q = C.fk(!0);
      q.eL();
      z.save();
      z.setTransform(q.nb, q.O, q.KV, q.qc, q.H1, q.Wv);
      if (n.add.artd) {
          var c = bG.km(n)[0];
          c = c < .5 ? c + .5 : c - .5;
          c = "" + Math.round(c * 255).toString(16);
          while (c.length < 2)
              c = "0" + c;
          z.fillStyle = "#" + c + c + c;
          z.font = a + "px sans-serif";
          for (var M = 0; M < n.W.length; M++) {
              var K = n.W[M];
              if (K.add.artb == null || !K.y_())
                  continue;
              var R = K.qJ();
              z.fillText(K.getName(), R.x, R.y - 6 / C.X);
              D = !0
          }
      }
      var J = bG.lN([.1, .5, 1, 1])
        , w = bG.lN([1, 1, 1, 1]);
      if (F.iC && X.E1) {
          z.fillStyle = z.strokeStyle = J;
          z.lineWidth = 1.5 / C.X;
          var p = n.LJ()
            , I = p[0]
            , m = p[1];
          for (var A = 0; A < m.length; A++) {
              var K = I[m[A]]
                , U = K.add.vmsk
                , r = U.g
                , $ = j.K.Gi(r);
              this.Ew($, null, z);
              z.stroke();
              D = !0;
              var k = 3 * l.D() / C.X
                , G = r.length - 3;
              for (var M = 0; M < U.JS.length; M++) {
                  var i = j.i.Jq(r, U.JS[M]);
                  if (i == null)
                      continue;
                  var o = i.x
                    , S = i.y;
                  z.beginPath();
                  var H = M == 0;
                  if (U.LQ)
                      H = !H;
                  if (H) {
                      z.moveTo(o - k, S - k);
                      z.lineTo(o + k, S + k);
                      z.moveTo(o - k, S + k);
                      z.lineTo(o + k, S - k);
                      z.stroke()
                  } else {
                      z.arc(o, S, k * 1, 0, 2 * Math.PI);
                      z.fill()
                  }
                  D = !0
              }
              if (n.C.length != 1)
                  continue;
              var e = -1;
              for (var M = 0; M < r.length; M++) {
                  if (r[M].type > 5)
                      continue;
                  if (r[M].type == 0 || r[M].type == 3) {
                      if (r[M].fT != -1)
                          e++;
                      continue
                  }
                  if (U.C.indexOf(e) != -1) {
                      var o = r[M].S.x
                        , S = r[M].S.y;
                      z.fillRect(o - k * .8, S - k * .8, 2 * k * .8, 2 * k * .8)
                  }
                  if (U.Hh.indexOf(M) != -1) {
                      var V = [r[M].S];
                      z.beginPath();
                      z.moveTo(r[M].K1.x, r[M].K1.y);
                      z.lineTo(r[M].S.x, r[M].S.y);
                      z.lineTo(r[M].yz.x, r[M].yz.y);
                      z.stroke();
                      if (!r[M].S.jm(r[M].K1))
                          V.push(r[M].K1);
                      if (!r[M].S.jm(r[M].yz))
                          V.push(r[M].yz);
                      for (var v = 0; v < V.length; v++) {
                          var i = V[v]
                            , o = i.x
                            , S = i.y;
                          if (v == 0 && (r[M].type == 2 || r[M].type == 5))
                              z.fillRect(o - 1.2 * k, S - 1.2 * k, 2.4 * k, 2.4 * k);
                          else {
                              z.beginPath();
                              z.arc(o, S, k * 1.2, 0, 2 * Math.PI);
                              z.fill();
                              if (v != 0)
                                  z.fillStyle = w;
                              z.beginPath();
                              z.arc(o, S, k * .8, 0, 2 * Math.PI);
                              z.fill();
                              z.fillStyle = J
                          }
                      }
                  }
                  D = !0
              }
          }
      }
      z.lineWidth = 1 / C.X;
      if (n.k.$N) {
          z.fillStyle = z.strokeStyle = J;
          var B = {
              U: [],
              I: []
          }
            , Z = bG.adc;
          if (Z == null) {
              Z = bG.adc = {
                  U: [1, 0],
                  I: ["M"]
              };
              for (var M = 1; M < 30; M++) {
                  var d = Math.PI * 2 * M / 30;
                  Z.U.push(Math.cos(d), Math.sin(d));
                  Z.I.push("L")
              }
              Z.I.push("Z", "M", "L", "M", "L");
              Z.U.push(-.5, 0, .5, 0, 0, -.5, 0, .5)
          }
          for (var M = 0; M < n.k.$N.length; M++) {
              var g = O.qa.CU(n.k.$N[M], C)
                , Y = new b6(g[0],0,0,g[0],g[1],g[2]);
              j.K.concat(B, Z, Y)
          }
          this.Ew(B, null, z);
          z.stroke();
          D = !0
      }
      z.fillStyle = z.strokeStyle = bG.lN([0, 0, 0, 1], !0);
      var y = new b6(1,0,0,1,.5 / C.X,.5 / C.X);
      if (n.k.EH) {
          this.Ew(n.k.EH, null, z);
          z.fill()
      }
      if (n.k.ju) {
          this.Ew(n.k.ju, y, z);
          z.stroke()
      }
      for (var L in n.k.fR)
          if (n.k.fR[L].ju) {
              this.Ew(n.k.fR[L].ju, null, z);
              z.stroke();
              D = !0
          }
      z.beginPath();
      var k = (4 * l.D() + .5) / C.X
        , _ = n.k.rh;
      for (var M = 0; M < _.length; M += 2) {
          D = !0;
          var o = _[M]
            , S = _[M + 1];
          z.rect(o - k, S - k, 2 * k, 2 * k)
      }
      z.stroke();
      var _ = n.k.ajL;
      z.beginPath();
      var k = 4 * l.D() / C.X;
      for (var M = 0; M < _.length; M += 2) {
          D = !0;
          var o = _[M]
            , S = _[M + 1];
          z.moveTo(o + k, S);
          z.arc(o, S, k, 0, 2 * Math.PI)
      }
      z.fill();
      var _ = n.k.xZ;
      z.fillStyle = bG.lN([1, 1, 1, 1]);
      z.beginPath();
      var k = 6 * l.D() / C.X;
      for (var M = 0; M < _.length; M += 2) {
          D = !0;
          var o = _[M]
            , S = _[M + 1];
          z.moveTo(o + k, S);
          z.arc(o, S, k, 0, 2 * Math.PI)
      }
      z.fill();
      var k = 4 * l.D() / C.X;
      for (var M = 0; M < _.length; M += 2) {
          D = !0;
          var o = _[M]
            , S = _[M + 1];
          z.fillStyle = bG.lN(n.k.IW.indexOf(M >>> 1) != -1 ? [0, .6, 1, 1] : [.7, .7, .7, 1]);
          z.beginPath();
          z.moveTo(o + k, S);
          z.arc(o, S, k, 0, 2 * Math.PI);
          z.fill()
      }
      if (n.k.an.length != 0) {
          for (var M = 0; M < n.k.an.length; M++) {
              var b = n.k.an[M]
                , x = b[1];
              z.putImageData(new ImageData(new Uint8ClampedArray(b[0].buffer),x.d,x.v), x.x, x.y)
          }
      }
      var W = .5 / C.X;
      z.lineWidth = 1 / C.X;
      if (n.k.S7) {
          D = !0;
          var g6 = n.k.S7
            , fY = g6.ci
            , $ = {
              I: [],
              U: []
          };
          for (var M = 0; M < g6.If.length; M++)
              j.K.concat($, j.K.YQ(g6.If[M]));
          $.U = $.U.concat(fY);
          for (var M = 0; M < fY.length; M += 4) {
              $.I.push("M", "L")
          }
          for (var M = 0; M < $.U.length; M++) {
              $.U[M] += W
          }
          z.strokeStyle = bG.lN([.9, .2, .2, 1]);
          this.Ew($, null, z);
          z.stroke();
          var f3 = l.D()
            , hK = 2 / C.X;
          z.font = a * .9 + "px sans-serif";
          for (var M = 0; M < fY.length; M += 4) {
              var o = fY[M]
                , S = fY[M + 1]
                , s = fY[M + 2]
                , P = fY[M + 3]
                , fM = Math.sqrt((P - S) * (P - S) + (s - o) * (s - o));
              fM = j.ST.aN(fM, n.$M, F, S == P ? n.d : n.v);
              var eA = new ir((o + s) / 2,(S + P) / 2);
              z.fillStyle = bG.lN([.9, .2, .2, 1]);
              var e8 = z.measureText(fM).width;
              z.fillRect(eA.x - e8 / 2 - hK * f3, eA.y - 3.5 * hK * f3, e8 + 2 * hK * f3, 7 * hK * f3);
              z.fillStyle = bG.lN([1, 1, 1, 1]);
              z.save();
              z.translate(eA.x - e8 / 2, eA.y + 2 * hK * f3);
              z.scale(.1, .1);
              z.font = a * 9 + "px sans-serif";
              z.fillText(fM, 0, 0);
              z.restore()
          }
      }
      if (F.iC) {
          if (X.Da) {
              var eC = j.ST.Ge(X.um, n.$M, n.d, X.ic)
                , cy = eC;
              if (X.ic == 4)
                  cy *= n.v / n.d;
              this.BJ(n, z, eC, cy, 1, X.YF);
              D = !0
          }
          if (X.Qp && n.a.X > 7) {
              this.BJ(n, z, 1, 1, .5, X.YF);
              D = !0
          }
          if (X.Ea) {
              var aX = n.gS()
                , j0 = n.m$()
                , aT = Math.max(n.a.Fe.d, n.a.Fe.v) / n.a.X;
              aT = Math.max(Math.max(n.d, n.v) * 2, aT);
              z.beginPath();
              z.strokeStyle = bG.lN([0, 1, 1, 1]);
              for (var M = 0; M < aX[0].length; M++) {
                  var a4 = aX[0][M]
                    , f8 = aX[1][M];
                  if (f8 != -1 && f8 != j0)
                      continue;
                  if (a4[0] == 0) {
                      var b3 = Math.round(a4[1]) + W;
                      z.moveTo(b3, -aT);
                      z.lineTo(b3, aT)
                  } else {
                      var gh = Math.round(a4[1]) + W;
                      z.moveTo(-aT, gh);
                      z.lineTo(aT, gh)
                  }
                  D = !0
              }
              z.stroke()
          }
          var cZ = n.CB;
          if (X.CB && cZ.length != 0) {
              z.font = a * .8 + "px sans-serif";
              var h3 = []
                , ew = [];
              for (var M = 0; M < cZ.length; M++) {
                  var dy = O.NB.Aa(cZ, M);
                  h3.push(dy);
                  if (n.IZ.indexOf(M) != -1)
                      ew.push(dy)
              }
              h3.reverse();
              var fx = Date.now();
              h3 = j.rect._T([0, 0, n.d, n.v], h3);
              for (var v = 0; v < 2; v++)
                  for (var M = 0; M < h3.length; M++) {
                      var bo = h3[M]
                        , e = bo[4]
                        , hd = e != null ? cZ[e] : null;
                      if (hd && v == 0 || hd == null && v == 1)
                          continue;
                      var o = Math.round(bo[0])
                        , S = Math.round(bo[1])
                        , s = Math.round(bo[2])
                        , P = Math.round(bo[3]);
                      z.strokeStyle = z.fillStyle = bG.lN(hd ? [0, .7, .7, 1] : [.8, .8, .8, 1]);
                      z.strokeRect(o + W, S + W, s - o, P - S);
                      var gT = M + 1
                        , du = z.measureText(gT)
                        , e8 = du.width;
                      z.fillRect(o, S, e8 + a / 2, a);
                      z.fillStyle = bG.lN([1, 1, 1, 1]);
                      z.fillText(gT, o + a / 4, S + a * .8)
                  }
              var hK = 2 / n.a.X
                , bk = 2 * hK;
              for (var M = 0; M < ew.length; M++) {
                  var bo = ew[M]
                    , o = Math.round(bo[0])
                    , S = Math.round(bo[1])
                    , s = Math.round(bo[2])
                    , P = Math.round(bo[3]);
                  z.strokeStyle = z.fillStyle = bG.lN([0, .7, .7, 1]);
                  z.strokeRect(o + W, S + W, s - o, P - S);
                  var i8 = [o, S, s, S, s, P, o, P];
                  for (var en = 0; en < i8.length; en += 2) {
                      var b3 = i8[en]
                        , gh = i8[en + 1]
                        , dW = i8[en + 2 & 7]
                        , ix = i8[en + 3 & 7];
                      z.fillRect(b3 - hK, gh - hK, bk, bk);
                      z.fillRect(Math.round((b3 + dW) / 2) - hK, Math.round((gh + ix) / 2) - hK, bk, bk)
                  }
              }
              D = !0
          }
      }
      z.strokeStyle = bG.lN([1, 0, 0, 1]);
      if (n.k.qv) {
          this.Ew(n.k.qv, y, z);
          z.stroke()
      }
      z.restore();
      if (F.MB) {
          if (n.a.aI == null || n.a.aI.width != n.a.Fe.d || n.a.mP.height != n.a.Fe.v) {
              n.a.aI = z.createImageData(n.a.Fe.d, j.ST.$F);
              n.a.mP = z.createImageData(j.ST.$F, n.a.Fe.v)
          }
          var E = cd.uW[F.GT]
            , dU = 0
            , hN = 0
            , a1 = n.d;
          if (n.m$() != -1) {
              var R = n.W[n.m$()].qJ();
              dU = R.x;
              hN = R.y;
              a1 = R.d
          }
          dU *= C.X;
          hN *= C.X;
          var C = n.a
            , hk = C.X * n.d / 2
            , ax = C.X * n.v / 2
            , ej = [1, n.$M, n.$M / 2.54, n.$M / 25.4, a1 / 100][X.Ya]
            , bz = C.X
            , fq = C.A.clone()
            , cg = C.aV;
          C.X *= ej;
          C.A.x += dU + hk * ej - hk;
          C.A.y += hN + ax * ej - ax;
          C.aV = 0;
          j.ST.a7O(C, E["--text-color"], E["--bg-input"], Math.floor(this.Eg.x), Math.floor(this.Eg.y));
          C.X = bz;
          C.A = fq;
          C.aV = cg;
          var iw = aN.Y6(C.X, bG.lN([1, 1, 1, 1]));
          bG.Ap(n.a.mP.data);
          bG.Ap(n.a.aI.data);
          z.putImageData(n.a.mP, 0, 0);
          z.putImageData(n.a.aI, 0, 0);
          z.putImageData(iw, 0, n.a.Fe.v - iw.height)
      }
      if (n.k.om.length != 0) {
          for (var M = 0; M < n.k.om.length; M++) {
              var b = n.k.om[M]
                , x = b[1];
              z.putImageData(new ImageData(new Uint8ClampedArray(b[0].buffer),x.d,x.v), x.x, x.y)
          }
      }
      return D || F.MB
  }
  ;
  bG.prototype.BJ = function(n, z, C, D, F, X) {
      while (C * n.a.X < 4) {
          C *= 2;
          D *= 2
      }
      var E = n.d
        , f = n.v
        , a = .5 / n.a.X;
      z.strokeStyle = bG.lN([.5, .5, .5, F], !0);
      z.save();
      z.rect(0, 0, E, f);
      z.clip();
      z.beginPath();
      for (var q = 0; q <= E; q += C) {
          z.moveTo(q + a, 0);
          z.lineTo(q + a, f)
      }
      if (X == 0) {
          for (var c = 0; c <= f; c += D) {
              z.moveTo(0, c + a);
              z.lineTo(E, c + a)
          }
      } else {
          D *= Math.sqrt(4 / 3);
          var K = D * Math.floor(E / D)
            , R = E * (D / (2 * C));
          for (var c = -K; c <= f + K; c += D) {
              z.moveTo(0, c);
              z.lineTo(E, c - R);
              z.moveTo(0, c);
              z.lineTo(E, c + R)
          }
      }
      z.stroke();
      z.restore()
  }
  ;
  bG.prototype.Ew = function(n, z, C) {
      C.beginPath();
      var D = j.K.clone(n);
      if (z)
          j.K.Z(D.U, z, D.U);
      Typr.U.pathToContext({
          cmds: D.I,
          crds: D.U
      }, C)
  }
  ;
  bG.fK = function(n, z) {
      N.zH.call(this);
      this.a1u = n;
      var C = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t" + (n ? "uniform vec4 bgClr;  uniform vec4 ars[" + z + "]; " : "") + "\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t" + N.gw.hH + "\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); " + (n ? "\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<" + z + "; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(1.0,1.0,1.0,1.0); }\t\t\t\t\t}\t\t\t\t" : "\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t") + "\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}"
        , D = "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
      this.Yw(C, D)
  }
  ;
  bG.fK.prototype = new N.zH;
  bG.fK.prototype.g0 = function(n, z, C, D, F, X, E, f, a, q, c, K) {
      this.jp("tmat gsize source target contSizeZoom cnvSize bgClr ars ctrn".split(" "));
      var R = N.f0
        , J = this.sy;
      R.uniformMatrix3fv(J.tmat, !1, C);
      R.uniform4fv(J.gsize, D);
      R.uniform3f(J.contSizeZoom, F, X, E);
      R.uniform2f(J.cnvSize, f, a);
      R.uniformMatrix4fv(J.ctrn, !1, K);
      if (this.a1u) {
          R.uniform4fv(J.ars, c);
          R.uniform4fv(J.bgClr, q)
      }
      R.uniform1i(J.source, 0);
      R.uniform1i(J.target, 1);
      R.activeTexture(R.TEXTURE0);
      R.bindTexture(R.TEXTURE_2D, n);
      R.activeTexture(R.TEXTURE1);
      R.bindTexture(R.TEXTURE_2D, z);
      R.activeTexture(R.TEXTURE0)
  }
  ;
  function hf() {
      gz.call(this, [9, 7], !1, null, gz.Mq.adJ);
      this.II.setAttribute("style", "min-width:240px;");
      this.QJ = null;
      this.$G = -1;
      this.a2L = [];
      this.J6 = l.w("div", "scrollable");
      this.J6.style.height = "160px";
      this.II.appendChild(this.J6);
      this.y0 = l.w("div", "lpfoot");
      this.II.appendChild(this.y0);
      this.J_ = [];
      var n = ["reload", "lrs/newlayer", "lrs/bin"]
        , z = [[5, 10], [5, 3], [5, 4]];
      for (var M = 0; M < n.length; M++) {
          var C = new gJ("<img src=\"" + PIMG[n[M]] + "\" class=\"gsicon\" />",!1,z[M]);
          C.s("click", this.afb, this);
          this.y0.appendChild(C.j);
          this.J_.push(C)
      }
  }
  hf.prototype = new gz("");
  hf.prototype.sl = function(n) {
      var z = new u(l.E.M,!0);
      z.data = n;
      z.F = O.Os;
      this.f(z)
  }
  ;
  hf.prototype.afb = function(n) {
      var M = this.J_.indexOf(n.currentTarget);
      if (M != 1)
          if (this.$G == -1)
              return;
      this.sl({
          e: ["updLC", "addLC", "delLC"][M],
          kB: this.$G
      });
      if (M == 2)
          this.$G = -1
  }
  ;
  hf.prototype.B = function() {
      gz.prototype.B.call(this);
      for (var M = 0; M < this.J_.length; M++)
          this.J_[M].B()
  }
  ;
  hf.prototype.vb = function(n) {
      if (n == null)
          l.G5(this.II, "disabled");
      else
          l.DA(this.II, "disabled");
      this.QJ = n;
      l.M$(this.J6);
      if (n == null)
          return;
      var z = n.V2.lastAppliedComp ? n.V2.lastAppliedComp.v : 0
        , C = n.V2.list.v.slice(0);
      C.unshift({
          v: {
              Nm: {
                  v: "Last Document State"
              },
              compID: {
                  v: 0
              },
              capturedInfo: {
                  v: 0
              }
          }
      });
      for (var M = 0; M < C.length; M++) {
          var D = C[M].v
            , F = new ex(D.Nm.v,D.compID.v,D.capturedInfo.v,z,this.$G);
          F.s("activate", this.l7, this);
          F.parent = this;
          this.J6.appendChild(F.j);
          this.a2L.push(F)
      }
  }
  ;
  hf.prototype.l7 = function(n) {
      this.$G = n.currentTarget.kB;
      this.vb(this.QJ)
  }
  ;
  function ex(n, M, z, C, D) {
      gN.call(this);
      this.kB = M;
      this.j = l.w("div", "head listitem" + (M == D ? " selected" : ""));
      var F = M == C
        , X = new gJ(F ? "\u2713" : "\u2014");
      if (F)
          X.so();
      this.j.appendChild(X.j);
      X.s("click", this.nh, this);
      var E = this.o4 = l.w("span");
      E.textContent = n;
      this.j.appendChild(E);
      this.J_ = [];
      if (M != 0) {
          this.j.addEventListener("mouseup", this.l7.bind(this), !1);
          this.ajZ = l.w("span", "headR");
          this.j.appendChild(this.ajZ);
          var f = ["lrs/eye", "pos", "lrs/fx"]
            , a = ["Visibility", "Position", "Appearance"];
          for (var q = 0; q < f.length; q++) {
              var c = new gJ("<img src=\"" + PIMG[f[q]] + "\" class=\"autoscale gsicon\" />",!1,a[q]);
              if ((z >> q & 1) == 0)
                  c.j.setAttribute("style", "opacity:0.3");
              c.s("click", this.acR, this);
              this.ajZ.appendChild(c.j);
              this.J_.push(c)
          }
      }
  }
  ex.prototype = new gN;
  ex.prototype.l7 = function(n) {
      if (n.target != this.o4 && n.target != this.j)
          return;
      if (n.detail == 1)
          this.f(new u("activate",!1));
      else {
          var z = new gz.H2(this.o4,this.eX.bind(this))
      }
  }
  ;
  ex.prototype.acR = function(n) {
      var M = this.J_.indexOf(n.currentTarget);
      this.sl({
          e: "editLC",
          a1C: M,
          kB: this.kB
      })
  }
  ;
  ex.prototype.eX = function(n) {
      this.sl({
          e: "editLC",
          VY: n,
          kB: this.kB
      })
  }
  ;
  ex.prototype.nh = function(n) {
      this.sl({
          e: "setLC",
          kB: this.kB
      })
  }
  ;
  ex.prototype.sl = function(n) {
      var z = new u(l.E.M,!0);
      z.data = n;
      z.F = O.Os;
      this.f(z)
  }
  ;
  function aA() {
      gz.call(this, [9, 11], !1, null, gz.Mq.adv);
      var n = l.w("div", "padded");
      n.setAttribute("style", "min-width:15em");
      this.II.appendChild(n);
      var z = l.w("div");
      n.appendChild(z);
      z.setAttribute("style", "cursor:grab;");
      this.sL = l.w("canvas");
      this.sL.width = 100;
      z.appendChild(this.sL);
      l.g8(this.sL);
      l.Vb(this.sL, this.Qa.bind(this));
      this.QI = new iT(null,0,O.TM.FY.length - 1);
      this.QI.s(l.E.L, this.a34, this);
      n.appendChild(this.QI.j);
      this.alk = this.NL.bind(this);
      this.a3l = this.oM.bind(this);
      this.B2 = null
  }
  aA.prototype = new gz("");
  aA.prototype.IP = function(n, z) {
      this.mt()
  }
  ;
  aA.prototype.a34 = function(n) {
      var z = this.QI.u()
        , C = this.B2
        , D = O.TM.FY[O.TM.FY.length - 1 - z]
        , F = new u(l.E.M,!0);
      F.F = O.d1;
      F.data = {
          e: "zoom",
          X: D
      };
      this.f(F)
  }
  ;
  aA.prototype.Qa = function(n) {
      if (this.B2 == null)
          return;
      l.LR(window, this.alk);
      l.g_(window, this.a3l)
  }
  ;
  aA.prototype.NL = function(n) {
      var z = l.ao(n, this.sL)
        , C = this.B2
        , D = this.sL.width
        , F = this.sL.height
        , X = (z.x * l.D() - D / 2) / D
        , E = (z.y * l.D() - F / 2) / F
        , f = l.D() * C.a.X
        , a = Math.round(-C.a.X * C.d * X)
        , q = Math.round(-C.a.X * C.v * E);
      O.gR.BV(C, a, q)
  }
  ;
  aA.prototype.oM = function(n) {
      l.i$(window, this.alk);
      l.YO(window, this.a3l)
  }
  ;
  aA.prototype.vb = function(n) {
      if (n == null && this.B2 != null)
          this.sL.width = 100;
      this.B2 = n;
      this.mt()
  }
  ;
  aA.prototype.mt = function() {
      var n = this.B2
        , D = 0;
      if (n == null || n.a.X == 0)
          return;
      var z = n.a;
      if (!l.c6(this.II))
          return;
      this.QI.m(O.TM.FY.length - 1 - O.TM.au(z.X));
      var C = 300 * l.D()
        , F = [n.Wc(), new cc(0,0,n.d,n.v)];
      j.Lp(F);
      while (Math.max(F[D + 1].d, F[D + 1].v) > C) {
          D += 2
      }
      var X = F[D]
        , E = F[D + 1]
        , f = E.d
        , a = E.v
        , q = this.sL;
      q.width = f;
      q.height = a;
      l.NE(q, f, a);
      var c = q.getContext("2d")
        , K = c.createImageData(f, a);
      j.YY(X, K.data);
      c.putImageData(K, 0, 0);
      var R = z.Fe
        , J = z.C$(R.x, R.y)
        , w = z.C$(R.x + R.d, R.y + R.v)
        , p = f / n.d;
      c.scale(p, p);
      c.lineWidth = 4 / p;
      c.strokeStyle = "#ff0000";
      c.strokeRect(J.x, J.y, w.x - J.x, w.y - J.y)
  }
  ;
  aA.prototype.vi = function(n, z) {}
  ;
  aA.prototype.iN = function() {
      this.mt()
  }
  ;
  function h5(n, z) {
      if (n == null) {
          gz.call(this);
          return
      }
      gz.call(this, n.name, !1, n.icon, z);
      var C = this.aoM = l.w("iframe", "padded");
      C.setAttribute("src", n.url);
      C.setAttribute("style", "width:" + n.width + "px; height:" + n.height + "px");
      this.II.appendChild(C)
  }
  h5.prototype = new gz("");
  h5.prototype._c = function(n) {
      if (l.c6(this.aoM))
          this.aoM.contentWindow.postMessage(n, "*")
  }
  ;
  function ge() {
      gz.call(this, [9, 12], !1, null, gz.Mq.VE);
      this.VJ = null;
      this.AS = new iS(O.qE);
      this.AS.parent = this;
      var n = l.w("div", "padded");
      n.setAttribute("style", "width:20em");
      this.II.appendChild(n);
      n.appendChild(this.AS.Lj)
  }
  ge.prototype = new gz("");
  ge.prototype.iN = function() {
      this.AS.fY(this.VJ.KI)
  }
  ;
  ge.prototype.vi = function(n, z) {
      this.VJ = n;
      if (z == c1.Ui || z == c1.VE)
          this.AS.fY(n.KI)
  }
  ;
  ge.prototype.IP = function(n, z) {
      this.AS.agM(this.VJ.ND)
  }
  ;
  ge.prototype.B = function() {
      gz.prototype.B.call(this);
      this.AS.B()
  }
  ;
  var aG = function() {
      var n = []
        , z = null
        , C = null
        , D = null
        , F = [[100, 180, 255], [100, 255, 100], [255, 200, 100], [200, 100, 255], [255, 100, 200]];
      function X() {
          gz.call(this, "Memory", !1, null, gz.Mq.alE);
          var J = l.w("div", "padded");
          this.II.appendChild(J);
          C = new gJ(["<< VAR0", [0, 13, 2]],!1,null,!0);
          C.addEventListener("click", function(w) {
              n.pop();
              f()
          });
          J.appendChild(C.j);
          z = l.w("div", "scrollable");
          z.setAttribute("style", "width:20em;  height:26em; margin-top:8px;");
          J.appendChild(z)
      }
      X.prototype = new gz("");
      X.prototype.vb = function(J, w, p) {
          D = w;
          this.iN()
      }
      ;
      X.prototype.iN = function() {
          C.H8(!1);
          if (!l.c6(z))
              return;
          var J = {
              L9: "Total:",
              ID: []
          };
          for (var M = 0; M < D.length; M++)
              J.ID.push(q(D[M]));
          R(J);
          n = [J];
          f()
      }
      ;
      X.prototype.B = function() {
          gz.prototype.B.call(this);
          C.B()
      }
      ;
      function E(J) {
          var w = J.currentTarget
            , M = 0;
          while ((w = w.previousSibling) != null)
              M++;
          n.push(n[n.length - 1].ID[M - 1]);
          f()
      }
      function f() {
          C.H8(n.length > 1);
          var J = n[n.length - 1];
          l.M$(z);
          a(J, z, 0);
          J.ID.sort(function(w, p) {
              return p.r9[0] - w.r9[0]
          });
          for (var M = 0; M < J.ID.length; M++)
              a(J.ID[M], z, 1)
      }
      function a(J, w, p) {
          var I = iY.ha
            , m = p != 0 && J.ID
            , A = "margin-left:" + p * 10 + "px; margin-bottom:8px; padding:3px 5px;";
          if (m)
              A += "cursor:pointer;";
          if (J.Gj != null)
              A += "background-color:rgba(" + F[J.Gj].join(",") + ",0.2);";
          var U = l.w("div");
          w.appendChild(U);
          U.setAttribute("style", A);
          U.innerHTML = c(J.L9) + "<br />" + "RAM: <b>" + I(J.r9[0]) + "</b>\u2001GPU: <b>" + I(J.r9[1]) + "</b>";
          if (m)
              U.addEventListener("click", E, !1)
      }
      function q(J) {
          var w = {
              L9: J.name,
              ID: [],
              Gj: 0
          }
            , p = N.O3 ? 1 : 0
            , I = 1 - p
            , m = {
              L9: "Final Image",
              r9: [J.d * J.v * 4, p * J.d * J.v * 4],
              Gj: 2
          };
          w.ID.push(m);
          for (var M = 0; M < J.W.length; M++) {
              var A = K(J.W[M]);
              if (A.ID.length != 0)
                  w.ID.push(A)
          }
          var U = J.add.lnk2;
          if (U)
              for (var M = 0; M < U.length; M++) {
                  var A = U[M]
                    , r = {
                      L9: A._8,
                      ID: [],
                      Gj: 4
                  }
                    , $ = 0;
                  r.ID.push({
                      L9: "Raw file",
                      r9: [A.raw.length, 0]
                  });
                  if (A.qY)
                      for (var k = 0; k < A.qY.length; k += 2)
                          $ += A.qY[k].length;
                  if ($ != 0)
                      r.ID.push({
                          L9: "Decoded pixels",
                          r9: [$, 0]
                      });
                  R(r);
                  w.ID.push(r)
              }
          R(w);
          return w
      }
      function c(J) {
          return J.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/'/g, "&#039;")
      }
      function K(J) {
          var w = {
              L9: J.getName(),
              ID: [],
              Gj: 1
          }
            , p = N.O3 ? 1 : 0
            , I = 1 - p
            , m = J.rect.t();
          if (m != 0)
              w.ID.push({
                  L9: "Layer pixels",
                  r9: [m * 4, p * m * 4]
              });
          if (J.add.lmfx && J.XB.CJ.type) {
              var A = J.XB.CJ.type
                , k = 0;
              for (var U in A) {
                  var r = 0;
                  for (var $ = 0; $ < A[U].length; $++)
                      if (U == "ebbl") {
                          if (A[U][$].eA)
                              r += A[U][$].eA.nM.t();
                          if (A[U][$].Qr)
                              r += A[U][$].Qr.nM.t();
                          if (A[U][$].rt)
                              r += A[U][$].rt.nM.t();
                          if (A[U][$].H3)
                              r += A[U][$].H3.nM.t()
                      } else
                          r += A[U][$].nM.t();
                  if (r != 0)
                      w.ID.push({
                          L9: aC.get(g$.names[g$.order.indexOf(U)]),
                          r9: [I * r * 4, p * r * 4],
                          Gj: 3
                      })
              }
              if (J.XB.SD)
                  k += m;
              if (J.XB.HL)
                  k += m;
              if (J.XB.Fj)
                  k += m;
              if (J.XB.Fj)
                  k += m;
              if (J.XB.mI)
                  k += m;
              if (J.XB.K9)
                  k += m;
              var G = J.XB.Ug ? J.XB.Ug.length : 0;
              if (k + G != 0)
                  w.ID.push({
                      L9: "Additional Blending Data",
                      r9: [I * k * 4 + G, p * k * 4]
                  })
          }
          var i = J.sN()
            , o = i ? i.rect.t() : 0;
          if (o != 0) {
              w.ID.push({
                  L9: "Raster Mask",
                  r9: [o, 0]
              })
          }
          var i = J.add.vmsk
            , o = i && i.Cu ? i.Cu.rect.t() : 0;
          if (o != 0) {
              w.ID.push({
                  L9: "Vector Mask",
                  r9: [o, 0]
              })
          }
          R(w);
          return w
      }
      function R(J) {
          J.r9 = [0, 0];
          for (var M = 0; M < J.ID.length; M++) {
              J.r9[0] += J.ID[M].r9[0];
              J.r9[1] += J.ID[M].r9[1]
          }
      }
      return X
  }();
  function fF() {
      gN.call(this);
      this.F = 0;
      this.GH = null;
      this.j = l.w("div", "toolconf");
      this.AS = null;
      this.Nt = null;
      this.body = new l.w("div","body")
  }
  fF.prototype = new gN;
  fF.prototype.aoU = function(n, z) {
      this.F = n;
      this.GH = z;
      if (O.jN[n]) {
          var C = this.AS = new iS(n);
          this.j.appendChild(C.j);
          C.parent = this
      } else {
          this.Nt = l.w("div");
          this.j.appendChild(this.Nt)
      }
      this.j.appendChild(this.body);
      this.B()
  }
  ;
  fF.prototype.ant = function(n, z) {}
  ;
  fF.prototype.afP = function(n) {}
  ;
  fF.prototype.vi = function(n, z) {
      if (z == c1.Ui || z == c1.VE)
          if (this.AS)
              this.AS.fY(n.KI)
  }
  ;
  fF.prototype.mW = function(n) {}
  ;
  fF.prototype.B = function() {
      if (this.AS)
          this.AS.B();
      else
          this.Nt.innerHTML = l.qu(this.GH, null, "toolicon");
      this.Sa()
  }
  ;
  fF.prototype.Sa = function() {}
  ;
  function aQ() {
      fF.call(this)
  }
  aQ.prototype = new fF;
  aQ.prototype.mW = function(n) {}
  ;
  function aS(n) {
      fF.call(this);
      if (n == null)
          return;
      this.VJ = null;
      this.yJ = {};
      for (var M = 0; M < n.length; M++) {
          var z = n[M]
            , C = null;
          if (z == "brush") {
              C = new fr
          }
          if (z == "bmode") {
              C = new fR([12, 19, 0],hr.K6,!1,hr.a4)
          }
          if (z == "bmode0") {
              C = new fR([12, 19, 0],hr.K6.slice(23),!1)
          }
          if (z == "emode") {
              C = new fR([12, 36],[[9, 3], [10, 38]])
          }
          if (z == "opacity") {
              C = new c5([12, 0],0,100,"%");
              C.m(100)
          }
          if (z == "flow") {
              C = new c5([12, 63],0,100,"%");
              C.m(100)
          }
          if (z == "smth") {
              C = new c5([19, 3, 0],0,100,"%");
              C.m(0)
          }
          if (z == "samp") {
              C = new fR("Sampling",["Brush Center", "Start of Stroke", "Background Color"])
          }
          if (z == "wconf") {
              C = new e6;
              C.m([40, !0, !0])
          }
          if (z == "strn") {
              C = new c5([12, 64],1,100,"%");
              C.m(50)
          }
          if (z == "smode") {
              C = new fR([12, 36],[[19, 7, 0], [19, 7, 1]]);
              C.m(1)
          }
          if (z == "pdetail") {
              C = new eS([12, 65]);
              C.so()
          }
          if (z == "rng") {
              C = new fR([12, 12],[[19, 6, 0], [19, 6, 1], [19, 6, 2]]);
              C.m(1)
          }
          if (z == "expo") {
              C = new c5([12, 5],0,100,"%");
              C.m(50)
          }
          if (z == "algnd") {
              C = new eS([12, 75]);
              C.m(!1)
          }
          if (z == "sfrom") {
              C = new fR([12, 70],[[17, 1], [17, 3], [17, 0]])
          }
          if (z == "alt") {
              C = new ez(null,["Alt"],!0,["Select Source"])
          }
          if (z == "qsmode") {
              C = new b7([12, 36],["<img src=\"" + PIMG["set/front"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.zoomIn + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.zoomOut + "\" class=\"autoscale gsicon\" />"],[[5, 3], [18, 1], [18, 2]])
          }
          if (z == "redge") {
              C = new gJ([7, 11],!1,null,!0)
          }
          if (z == "setop") {
              C = new gG
          }
          if (z == "patch") {
              C = new b7(null,[[12, 70], [12, 71]])
          }
          if (z == "prsr") {
              C = new ez(null,["<img src=\"" + PIMG.prsO + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.prsS + "\" class=\"autoscale gsicon\" />"],!0,[[15, 9, 0], [15, 9, 1]]);
              C.m([!1, !0])
          }
          C.parent = this;
          this.body.appendChild(C.j);
          this.yJ[z] = C;
          if (z == "brush")
              C.s(l.E.L, this.adM, this);
          else if (z == "redge")
              C.s("click", this.Qb, this);
          else
              C.s(l.E.L, this.jF, this)
      }
  }
  aS.prototype = new fF;
  aS.prototype.ant = function(n, z) {
      n = n[1];
      var C = this.yJ;
      if (n.Md)
          C.bmode.m(hr.SV.indexOf(n.Md.v.BlnM));
      if (n.Opct)
          C.opacity.m(n.Opct.v);
      if (n.flow)
          C.flow.m(n.flow.v);
      if (n.Brsh)
          C.brush.m(n, z.bz.np, z.bz.gi);
      if (n.FrgC) {
          var D = j._.Jo(n.FrgC.v)
            , F = new u(l.E.P,!0);
          F.data = {
              e: l.H.W9,
              G6: c1.yi,
              _5: 0,
              G: D.h << 16 | D.Q << 8 | D.O
          };
          this.f(F)
      }
      this.adM();
      this.jF()
  }
  ;
  aS.prototype.afP = function() {
      if (O.jN[this.F] == null)
          return null;
      var n = this.yJ
        , z = JSON.parse(JSON.stringify(n.brush.u()));
      z.classID = O.jN[this.F][1][0];
      if (n.bmode)
          z.Md = {
              t: "enum",
              v: {
                  BlnM: hr.SV[n.bmode.u()]
              }
          };
      if (n.opacity)
          z.Opct = {
              t: "long",
              v: n.opacity.u()
          };
      if (n.flow)
          z.flow = {
              t: "long",
              v: n.flow.u()
          };
      var C = this.VJ.Du;
      C = {
          h: C >>> 16,
          Q: C >>> 8 & 255,
          O: C & 255
      };
      z.FrgC = {
          t: "Objc",
          v: j._.w9(C)
      };
      return ["Brush Preset " + z.Brsh.v.Dmtr.v.val, z]
  }
  ;
  aS.prototype.Qb = function() {
      var n = new u(l.E.P,!0);
      n.data = {
          e: l.H.xb,
          gA: "redge"
      };
      this.f(n)
  }
  ;
  aS.prototype.Sa = function() {
      for (var n in this.yJ)
          this.yJ[n].B()
  }
  ;
  aS.prototype.mW = function(n) {
      if (n.a91 == "showBrushOpts") {
          this.yJ.brush.tQ(n.rH.x, n.rH.y)
      }
      for (var z in n.iA) {
          var C = n.iA[z];
          if (z != "qsmode")
              C *= 100;
          if (this.yJ[z])
              this.yJ[z].m(C)
      }
  }
  ;
  aS.prototype.vi = function(n, z) {
      fF.prototype.vi.call(this, n, z);
      this.VJ = n;
      var C = this.yJ.brush;
      if (C == null)
          return;
      if (z == c1.Ui || z == c1.qE)
          C.fY(n.bz);
      if (z == c1.Px) {
          C.m(n.bz.qB, n.bz.np, n.bz.gi)
      }
  }
  ;
  aS.prototype.adM = function() {
      var n = new u(l.E.P,!0);
      n.data = {
          e: l.H.W9,
          G6: c1.Px,
          BZ: this.yJ.brush.u()
      };
      this.f(n)
  }
  ;
  aS.prototype.jF = function() {
      var n = new u(l.E.P,!0);
      n.data = {
          e: l.H.ks,
          F: this.F
      };
      for (var z in this.yJ) {
          if (z == "brush" || z == "redge")
              continue;
          var C = this.yJ[z].u();
          if (["opacity", "flow", "smth", "strn", "expo"].indexOf(z) != -1)
              n.data[z] = C / 100;
          else if (z == "bmode")
              n.data.bmode = hr.Un[C];
          else if (z == "bmode0")
              n.data.bmode = hr.Un[23 + C];
          else
              n.data[z] = C
      }
      this.f(n)
  }
  ;
  function gQ(n, z) {
      fF.call(this);
      if (n)
          return;
      this.yJ = {};
      for (var M = 0; M < z.length; M++) {
          var C = z[M]
            , D = null;
          if (C == "op")
              D = new gG;
          if (C == "feat") {
              D = new c5([7, 6],0,100,"px");
              D.m(0)
          }
          if (C == "redge")
              D = new gJ([7, 11],!1,null,!0);
          if (C == "wconf")
              D = new e6;
          if (C == "cstr")
              D = new eM;
          if (C == "anta") {
              D = new eS("Anti-alias");
              D.m(!0)
          }
          if (C == "redge")
              D.s("click", this.Qb, this);
          else
              D.s(l.E.L, this.jF, this);
          D.parent = this;
          this.body.appendChild(D.j);
          this.yJ[C] = D
      }
  }
  gQ.prototype = new fF;
  gQ.prototype.mW = function(n) {
      if (n.He != null)
          this.yJ.op.m(n.He);
      else if (n.VP) {
          for (var z in n.VP)
              if (this.yJ[z])
                  this.yJ[z].m(n.VP[z])
      } else {
          var C = gQ.T2;
          if (C == null) {
              var D = c_.a7e(!0);
              C = gQ.T2 = new gX(D.items,D.eo)
          }
          C.B();
          C.parent = this;
          C.update(n.zf, n.mf);
          var F = new u(l.E.P,!0);
          F.data = {
              e: l.H.X$,
              uN: C,
              x: n.Yk.kD + 2,
              y: n.Yk.Bh + 1
          };
          this.f(F)
      }
  }
  ;
  gQ.prototype.Sa = function() {
      for (var n in this.yJ)
          this.yJ[n].B()
  }
  ;
  gQ.prototype.Qb = function() {
      var n = new u(l.E.P,!0);
      n.data = {
          e: l.H.xb,
          gA: "redge"
      };
      this.f(n)
  }
  ;
  gQ.prototype.jF = function() {
      var n = new u(l.E.P,!0);
      n.data = {
          e: l.H.ks,
          F: this.F,
          VP: {}
      };
      for (var z in this.yJ)
          n.data.VP[z] = this.yJ[z].u();
      this.f(n)
  }
  ;
  function dJ() {
      aS.call(this, ["brush", "strn"])
  }
  dJ.prototype = new aS;
  function cD() {
      aS.call(this, "brush bmode opacity flow smth prsr".split(" "))
  }
  cD.prototype = new aS;
  function eL() {
      aS.call(this, ["brush", "bmode0", "samp", "wconf"])
  }
  eL.prototype = new aS;
  function a6() {
      aS.call(this, ["brush"])
  }
  a6.prototype = new aS;
  function c6() {
      aS.call(this, ["brush", "bmode", "opacity", "smth", "prsr"])
  }
  c6.prototype = new aS;
  function hZ() {
      aS.call(this, ["brush", "rng", "expo"])
  }
  hZ.prototype = new aS;
  function iy() {
      aS.call(this, "brush bmode opacity algnd sfrom alt".split(" "))
  }
  iy.prototype = new aS;
  function g7(n) {
      fF.call(this);
      if (n == null)
          return;
      var z = l.w("span", "fitem");
      this.body.appendChild(z);
      var C = [[17, 0], [17, 1], [11, 12, 0], [17, 2]];
      this.Nu = [];
      for (var M = 0; M < C.length; M++) {
          var D = new gJ(C[M],!1,null,!0);
          this.Nu.push(D);
          D.s("click", this.acu, this);
          if (!n || M == 1)
              z.appendChild(D.j)
      }
      this.bC = new eM;
      this.bC.s(l.E.L, this.amK, this);
      if (!n)
          this.body.appendChild(this.bC.j);
      this.iJ = new eS("Delete Cropped Pixels");
      this.iJ.s(l.E.L, this.amK, this);
      if (!n)
          this.body.appendChild(this.iJ.j);
      this.R6 = new ey;
      this.R6.s("click", this.jA, this)
  }
  g7.prototype = new fF;
  g7.prototype.Sa = function() {
      this.R6.B();
      for (var M = 0; M < this.Nu.length; M++)
          this.Nu[M].B();
      this.bC.B();
      this.iJ.B()
  }
  ;
  g7.prototype.mW = function(n) {
      var z = this.R6.j;
      if (n.jH)
          this.body.appendChild(z);
      else if (this.body.contains(z))
          this.body.removeChild(z);
      if (n.bC)
          this.bC.m(n.bC)
  }
  ;
  g7.prototype.jA = function(n) {
      var z = {
          e: l.H.ks,
          F: this.F,
          Qk: this.R6.u() ? "commit" : "cancel"
      }
        , C = new u(l.E.P,!0);
      C.data = z;
      this.f(C)
  }
  ;
  g7.prototype.acu = function(n) {
      n.target.j.blur();
      var z = {
          e: l.H.ks,
          F: this.F,
          Qk: "cropby",
          al7: this.Nu.indexOf(n.target)
      }
        , C = new u(l.E.P,!0);
      C.data = z;
      this.f(C)
  }
  ;
  g7.prototype.amK = function(n) {
      var z = {
          e: l.H.ks,
          F: this.F,
          Qk: "config",
          fI: {
              Fn: this.bC.u()
          }
      };
      if (n.target == this.iJ)
          z.fI.r1 = this.iJ.u();
      var C = new u(l.E.P,!0);
      C.data = z;
      this.f(C)
  }
  ;
  function eG() {
      g7.call(this, !1)
  }
  eG.prototype = new g7;
  function bU() {
      g7.call(this, !0)
  }
  bU.prototype = new g7;
  function cS() {
      aS.call(this, ["brush", "rng", "expo"])
  }
  cS.prototype = new aS;
  function dz() {
      aS.call(this, "brush emode opacity flow smth prsr".split(" "))
  }
  dz.prototype = new aS;
  function bD() {
      aS.call(this, ["brush", "samp", "wconf"])
  }
  bD.prototype = new aS;
  function bB() {
      gQ.call(this, !1, ["op", "feat", "redge", "cstr"])
  }
  bB.prototype = new gQ(!0);
  function h8() {
      fF.call(this);
      this.oT = new fR([12, 20],["1x1", "3x3", "5x5", "11x11", "31x31"]);
      this.oT.s(l.E.L, this.jF, this);
      this.body.appendChild(this.oT.j)
  }
  h8.prototype = new fF;
  h8.prototype.jF = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.ks,
          F: this.F,
          df: [1, 3, 5, 11, 31][this.oT.u()]
      };
      this.f(z)
  }
  ;
  h8.prototype.Sa = function() {
      this.oT.B()
  }
  ;
  function gy() {
      fF.call(this);
      this.eG = new hy(!1);
      this.eG.parent = this;
      this.eG.s(l.E.L, this.yB, this);
      this.body.appendChild(this.eG.j);
      this.eG.m(JSON.parse(g$.LX.KH).v);
      this.dB = new fR(null,g$._.names.slice(0, 5));
      this.dB.s(l.E.L, this.yB, this);
      this.body.appendChild(this.dB.j);
      this.Ta = new fR([12, 19, 0],hr.K6,null,hr.a4);
      this.Ta.s(l.E.L, this.yB, this);
      this.body.appendChild(this.Ta.j);
      this.p6 = new c5([12, 0],0,100,"%");
      this.p6.parent = this;
      this.p6.s(l.E.L, this.yB, this);
      this.body.appendChild(this.p6.j);
      this.p6.m(100);
      this.qe = new eS([12, 23, 0]);
      this.qe.s(l.E.L, this.yB, this);
      this.body.appendChild(this.qe.j);
      this.fW = new eS("Dither");
      this.fW.s(l.E.L, this.yB, this);
      this.body.appendChild(this.fW.j)
  }
  gy.prototype = new fF;
  gy.prototype.Sa = function() {
      this.dB.B();
      this.Ta.B();
      this.p6.B();
      this.qe.B();
      this.fW.B()
  }
  ;
  gy.prototype.vi = function(n, z) {
      fF.prototype.vi.call(this, n, z);
      var C = z == c1.yi;
      this.eG.fF(n.Du, n.ff);
      if (C || z == c1.ax || z == c1.Ui)
          this.eG.fY(n.Gt)
  }
  ;
  gy.prototype.yB = function() {
      var n = new u(l.E.P,!0);
      n.data = {
          e: l.H.ks,
          F: this.F
      };
      n.data.G6 = {
          _: this.eG.u(),
          _i: g$._.types[this.dB.u()],
          LQ: this.qe.tr(),
          a0L: this.fW.tr(),
          aaW: hr.Un[this.Ta.u()],
          IV: this.p6.u() / 100
      };
      this.f(n)
  }
  ;
  function gA() {
      fF.call(this)
  }
  gA.prototype = new fF;
  function it() {
      fF.call(this);
      var n = l.w("span", "fitem");
      this.body.appendChild(n);
      this.nL = [new c5([12, 15],0,0,"\xB0"), new gJ("Reset",null,null,!0)];
      for (var M = 0; M < this.nL.length; M++) {
          var z = this.nL[M];
          z.parent = this;
          n.appendChild(z.j);
          z.s(M == 1 ? "click" : l.E.L, this.k1, this)
      }
  }
  it.prototype = new fF;
  it.prototype.Sa = function() {
      for (var M = 0; M < this.nL.length; M++)
          this.nL[M].B()
  }
  ;
  it.prototype.mW = function(n) {
      this.nL[0].m(n.tq * 180 / Math.PI)
  }
  ;
  it.prototype.k1 = function(n) {
      var z = this.nL.indexOf(n.target)
        , C = new u(l.E.P,!0);
      C.data = {
          e: l.H.ks,
          F: this.F,
          tq: z == 1 ? 0 : n.target.u() * Math.PI / 180
      };
      this.f(C)
  }
  ;
  function ig() {
      aS.call(this, ["brush", "algnd", "sfrom", "alt"])
  }
  ig.prototype = new aS;
  function hU() {
      fF.call(this);
      this.Oy = new cX;
      this.Oy.parent = this;
      this.body.appendChild(this.Oy.i7.j);
      this.body.appendChild(this.Oy.gb.j);
      this.body.appendChild(this.Oy.Wm.j);
      var n = l.w("span", "fitem");
      this.body.appendChild(n);
      n.appendChild(this.Oy.kv.j);
      n.appendChild(this.Oy.FD.j);
      n.appendChild(this.Oy.M7.j);
      this.GJ = new fR("Aa",[[22, 5, 0], "Sharp", "Crisp", "Strong", "Smooth"]);
      this.GJ.s(l.E.L, this.jA, this);
      this.body.appendChild(this.GJ.j);
      this.jE = new gJ([11, 9],!1,null,!0);
      this.jE.s("click", this.a9k, this);
      this.body.appendChild(this.jE.j);
      this.R6 = new ey;
      this.R6.s("click", this.jA, this)
  }
  hU.prototype = new fF;
  hU.prototype.Sa = function() {
      this.R6.B();
      this.Oy.B();
      this.jE.B()
  }
  ;
  hU.prototype.a9k = function(n) {
      var z = {
          e: l.H.ks,
          F: this.F,
          Qk: "showwarp"
      }
        , C = new u(l.E.P,!0);
      C.data = z;
      this.f(C)
  }
  ;
  hU.prototype.mW = function(n) {
      if (n.Qk == "showactive")
          this.body.appendChild(this.R6.j);
      if (n.Qk == "hideactive")
          this.body.removeChild(this.R6.j);
      if (n.Qk == "changeAA")
          this.GJ.m(n.Z7)
  }
  ;
  hU.prototype.vi = function(n, z) {
      fF.prototype.vi.call(this, n, z);
      if (z != c1.Ui && z != c1.DJ && z != c1.Lg && z != c1.vL)
          return;
      this.Oy.m(n.E$, n.E_, n.t9)
  }
  ;
  hU.prototype.jA = function(n) {
      var z = {
          e: l.H.ks,
          F: this.F,
          Qk: this.R6.u() ? "commit" : "cancel"
      };
      if (n.target == this.GJ) {
          z.Qk = "changeAA";
          z.Z7 = this.GJ.u()
      }
      var C = new u(l.E.P,!0);
      C.data = z;
      this.f(C)
  }
  ;
  function iA() {
      gQ.call(this, !1, ["op", "feat", "anta", "redge"])
  }
  iA.prototype = new gQ(!0);
  function fe() {
      fF.call(this);
      var n = []
        , C = "<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
      this.KX = new eS([12, 85]);
      this.KX.s(l.E.L, this.jF, this);
      n.push(this.KX.j);
      this.h6 = new eS([20, 1]);
      this.h6.s(l.E.L, this.jF, this);
      n.push(this.h6.j);
      this.X4 = new eS([12, 83]);
      this.X4.s(l.E.L, this.jF, this);
      n.push(this.X4.j);
      var z = l.w("span", "fitem");
      n.push(z);
      this.a2o = new fR("Scale for exported files",["1x", "2x", "3x", "4x"],!0);
      z.appendChild(this.a2o.j);
      this.W8 = new gJ(C + " PNG",!1,"Save selected layers as PNG",!0);
      z.appendChild(this.W8.j);
      this.W8.s("click", this.YC, this);
      this.ab$ = new gJ(C + " SVG",!1,"Save selected layers as SVG",!0);
      z.appendChild(this.ab$.j);
      this.ab$.s("click", this.YC, this);
      var D = l.w("span", "fitem");
      n.push(D);
      var F = l.w("span", "fitem");
      n.push(F);
      this.J_ = [];
      for (var M = 0; M < 8; M++) {
          var X = M == 3 || M == 7 ? [20, 4, 6] : [20, 4, M < 3 ? M : M - 1]
            , E = new gJ("Hi",!1,X);
          (M < 4 ? D : F).appendChild(E.j);
          E.s("click", this.YC, this);
          this.J_.push(E)
      }
      for (var M = 0; M < n.length; M++)
          this.body.appendChild(n[M]);
      this.ab_ = n
  }
  fe.prototype = new fF;
  fe.prototype.mW = function(n) {
      var z = n.VP
        , C = n.ae0;
      this.KX.m(z.J7);
      this.h6.m(z.Pj);
      this.X4.m(z.S7);
      if (C) {
          l.M$(this.body);
          for (var M = 0; M < C.length; M++)
              if (C[M] == 1 && this.ab_[M])
                  this.body.appendChild(this.ab_[M])
      }
  }
  ;
  fe.prototype.YC = function(n) {
      var z = this.J_.indexOf(n.target), C;
      if (z == -1) {
          C = new u(l.E.P,!0);
          C.data = {
              e: l.H.ks,
              F: this.F,
              _5: n.target == this.W8 ? "getPNG" : "getSVG",
              BS: this.a2o.u() + 1
          }
      } else {
          C = new u(l.E.M,!0);
          C.F = O.GR;
          C.data = {
              e: "algn",
              G: z
          }
      }
      this.f(C)
  }
  ;
  fe.prototype.jF = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.ks,
          F: this.F,
          _5: "prms",
          J7: this.KX.tr(),
          Pj: this.h6.tr(),
          S7: this.X4.tr()
      };
      this.f(z)
  }
  ;
  fe.prototype.Sa = function() {
      this.KX.B();
      this.h6.B();
      this.X4.B();
      var n = "h0 h1 h2 hG v0 v1 v2 vG".split(" ");
      for (var M = 0; M < 8; M++) {
          this.J_[M].Jt(l.qu("align/" + n[M], null, "autoscale"))
      }
  }
  ;
  function fH() {
      gQ.call(this, !1, ["op", "feat", "redge", "wconf"])
  }
  fH.prototype = new gQ(!0);
  function cG() {
      aS.call(this, ["setop", "patch"])
  }
  cG.prototype = new aS;
  function cb() {
      aS.call(this, ["setop"])
  }
  cb.prototype = new aS;
  function cM() {
      aS.call(this, ["bmode", "opacity", "wconf"])
  }
  cM.prototype = new aS;
  function fS() {
      gQ.call(this, !1, ["op", "feat", "anta", "redge"])
  }
  fS.prototype = new gQ(!0);
  function aP() {
      gQ.call(this, !1, ["op", "feat", "anta", "redge"])
  }
  aP.prototype = new gQ(!0);
  function gC() {
      gQ.call(this, !1, ["op", "feat", "redge", "cstr"])
  }
  gC.prototype = new gQ(!0);
  function fl() {
      fF.call(this);
      this.VJ = null;
      this.ER = null;
      this.U4 = [new ik("X",null,3), new ik("Y",null,3), new ik("W",null,3), new ik("H",null,3), new ik([12, 15],null,4), new ik(["VAR0 1", [12, 80, 0]],null,4), new ik(["VAR0 2", [12, 80, 0]],null,4), new gJ([15, 7, 6],!1,null,!0), new gJ([2, 2],!1,null,!0)];
      for (var M = 0; M < this.U4.length; M++) {
          var n = this.U4[M];
          this.body.appendChild(n.j);
          if (M > 6)
              n.s("click", this.a19, this)
      }
      this.G3 = 0
  }
  fl.prototype = new fF;
  fl.prototype.a19 = function(n) {
      var z = this.U4.indexOf(n.target) == 7
        , C = new u(l.E.M,!0);
      if (z) {
          if (this.G3 == 0)
              return;
          C.F = O.A6;
          C.data = {
              e: "rot",
              $_: [2, 5],
              G: -this.G3
          }
      } else {
          C.F = O.ZX
      }
      this.f(C)
  }
  ;
  fl.prototype.mW = function(n) {
      function z(a, q, c) {
          var K = Math.sqrt(Math.pow(q.x - a.x, 2) + Math.pow(q.y - a.y, 2))
            , R = Math.sqrt(Math.pow(q.x - c.x, 2) + Math.pow(q.y - c.y, 2))
            , J = Math.sqrt(Math.pow(c.x - a.x, 2) + Math.pow(c.y - a.y, 2));
          return Math.acos((R * R + K * K - J * J) / (2 * R * K))
      }
      if (n == null)
          return;
      this.ER = n;
      var C = n.aej
        , D = n.b1
        , F = D.x - C.x
        , X = D.y - C.y;
      this.G3 = -Math.atan2(X, F);
      if (n.bL)
          this.G3 = z(D, C, n.bL);
      var E = this.U4;
      E[0].m(C.x);
      E[1].m(C.y);
      E[2].m(F);
      E[3].m(X);
      E[4].m((this.G3 * 180 / Math.PI).toFixed(2));
      var f = j.ST.aN(ir.gn(C, D), n.$M, this.VJ, n.air, !1);
      E[5].m(parseFloat(f).toFixed(2));
      if (n.bL) {
          var f = j.ST.aN(ir.gn(C, n.bL), n.$M, this.VJ, n.air, !1);
          E[6].m(parseFloat(f).toFixed(2))
      } else
          E[6].m("")
  }
  ;
  fl.prototype.vi = function(n, z) {
      this.VJ = n;
      this.mW(this.ER)
  }
  ;
  fl.prototype.Sa = function() {
      var n = this.U4;
      for (var M = 0; M < n.length; M++)
          n[M].B();
      l.Dw(n[2], n[3])
  }
  ;
  function cm() {
      aS.call(this, ["brush", "strn", "pdetail"])
  }
  cm.prototype = new aS;
  function bO() {
      aS.call(this, ["brush", "sfrom"]);
      this.aaP = [];
      var n = [[7, 12]];
      for (var M = 0; M < n.length; M++) {
          var z = new gJ(n[M],!1,null,!0);
          this.aaP.push(z);
          z.parent = this;
          this.body.appendChild(z.j);
          z.s("click", this.aps, this)
      }
  }
  bO.prototype = new aS;
  bO.prototype.aps = function(n) {
      var z = this.aaP.indexOf(n.currentTarget)
        , C = new u(l.E._R,!0);
      C.data = O.pC.EI("contentAware");
      this.f(C)
  }
  ;
  function cC() {
      aS.call(this, ["brush", "strn"])
  }
  cC.prototype = new aS;
  function i2() {
      aS.call(this, ["brush", "flow", "smode"])
  }
  i2.prototype = new aS;
  function i$() {
      fF.call(this);
      this.eL = !1;
      var n = l.w("span", "fitem");
      this.body.appendChild(n);
      this.aE = new b7(null,["<img src=\"" + PIMG.zoomIn + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.zoomOut + "\" class=\"autoscale gsicon\" />"]);
      n.appendChild(this.aE.j);
      this.aE.s(l.E.L, this.jF, this);
      this.yO = new gJ([20, 2]);
      this.body.appendChild(this.yO.j);
      this.yO.s("click", this.a5i, this);
      this.Yc = new gJ([20, 3]);
      this.body.appendChild(this.Yc.j);
      this.Yc.s("click", this.a5i, this)
  }
  i$.prototype = new fF;
  i$.prototype.Sa = function() {
      this.yO.B();
      this.Yc.B()
  }
  ;
  i$.prototype.jF = function() {
      var n = {
          e: l.H.ks,
          F: this.F,
          pk: this.aE.u() == 0
      }
        , z = new u(l.E.P,!0);
      z.data = n;
      this.f(z)
  }
  ;
  i$.prototype.mW = function(n) {
      if (this.eL != n.eL)
          this.aE.m(1 - this.aE.u());
      this.eL = n.eL
  }
  ;
  i$.prototype.a5i = function(n) {
      var z = new u(l.E.M,!0);
      z.F = O.d1;
      z.data = {
          e: "adapt",
          G: n.target == this.yO ? "pixel" : "fitscr"
      };
      this.f(z)
  }
  ;
  function av(n, z) {
      fF.call(this);
      if (n == null)
          return;
      this.yJ = {};
      var C = [[12, 76, 0], [12, 76, 1]];
      if (z == null)
          C.push([12, 76, 2]);
      for (var M = 0; M < n.length; M++) {
          var D = n[M]
            , F = null;
          if (D == "tmode") {
              F = new fR(null,C);
              F.m(1)
          }
          if (D == "make") {
              F = new gJ("Make Selection",null,null,!0);
              F.NN()
          }
          if (D == "binop") {
              F = new fR(null,[[18, 1], [18, 2], [18, 3], [18, 4]]);
              F.NN()
          }
          if (D == "pshape")
              F = new fR(null,[[12, 93, 0], [12, 93, 1], "Arrow", [12, 93, 2]]);
          if (D == "shape")
              F = new eb([12, 76, 1]);
          if (D == "crad") {
              F = new c5([12, 94, 0],0,50,"px");
              F.m(0)
          }
          if (D == "cstr") {
              F = new eM
          }
          if (D == "irad") {
              F = new c5([12, 94, 1],0,100,"%");
              F.m(40)
          }
          if (D == "length") {
              F = new c5([12, 80, 0],4,40);
              F.m(4)
          }
          if (D == "sides") {
              F = new c5([12, 78],3,30);
              F.m(5)
          }
          if (D == "width") {
              F = new c5([12, 41],1,100,"px");
              F.m(5)
          }
          if (D == "tsiz") {
              F = new c5("Tip Size",100,500,"%");
              F.m(300)
          }
          if (D == "tolr") {
              F = new c5([12, 24],0,100);
              F.m(5)
          }
          if (D == "fstyle") {
              F = new c7([12, 26])
          }
          if (D == "sstyle") {
              F = new he
          }
          if (D == "psnap") {
              F = new eS([8, 10])
          }
          if (D == "crnr") {
              F = new gJ("\u2312",!1,[12, 94, 0],!0)
          }
          F.parent = this;
          this.body.appendChild(F.j);
          this.yJ[D] = F;
          F.s(D == "crnr" || D == "make" ? "click" : l.E.L, this.jF, this)
      }
  }
  av.prototype = new fF;
  av.prototype.mW = function(n) {
      if (n._5 == "vals") {
          for (var z in n.abD)
              this.yJ[z].m(n.abD[z]);
          this.t8();
          return
      }
      var C = av.T2;
      if (C == null)
          C = av.T2 = new gX([{
              name: "Make Selection"
          }],[{
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "makesel"
              }
          }]);
      C.parent = this;
      C.update(n.zf, n.mf);
      var D = new u(l.E.P,!0);
      D.data = {
          e: l.H.X$,
          uN: C,
          x: n.Yk.kD + 2,
          y: n.Yk.Bh + 1
      };
      this.f(D)
  }
  ;
  av.prototype.a0x = function(M) {
      return null
  }
  ;
  av.prototype.t8 = function() {
      if (this.yJ.pshape == null)
          return;
      var n = this.a0x(this.yJ.pshape.u());
      if (n == null)
          return;
      l.M$(this.body);
      for (var M = 0; M < n.length; M++) {
          var z = n[M];
          this.body.appendChild(this.yJ[z].j)
      }
  }
  ;
  av.prototype.Sa = function() {
      for (var n in this.yJ) {
          this.yJ[n].B()
      }
  }
  ;
  av.prototype.jF = function(n) {
      if (n.target == this.yJ.crnr) {
          var z = new u(l.E.M,!0);
          z.F = O.uh;
          z.data = {
              e: "crnr"
          };
          this.f(z);
          return
      }
      if (n.target == this.yJ.make) {
          var z = new u(l.E.P,!0);
          z.data = {
              e: l.H.xb,
              gA: "makesel"
          };
          this.f(z);
          return
      }
      var z = new u(l.E.P,!0);
      if (n.target == this.yJ.fstyle) {
          z.data = {
              e: l.H.W9,
              G6: c1.xg,
              G: this.yJ.fstyle.u()
          };
          this.f(z);
          return
      }
      if (n.target == this.yJ.sstyle) {
          z.data = {
              e: l.H.W9,
              G6: c1.mO,
              G: this.yJ.sstyle.u()
          };
          this.f(z);
          return
      }
      if (this.yJ.tmode && this.yJ.binop) {
          var C = this.yJ.tmode.u() == 0
            , D = this.yJ.binop
            , F = this.yJ.make;
          if (D)
              D.H8(C);
          if (F)
              F.H8(C)
      }
      z.data = {
          e: l.H.ks,
          F: this.F
      };
      for (var X in this.yJ)
          if (X != "sstyle")
              z.data[X] = this.yJ[X].u();
      this.f(z);
      if (n.target == this.yJ.pshape)
          this.t8()
  }
  ;
  av.prototype.vi = function(n, z) {
      fF.prototype.vi.call(this, n, z);
      var C = this.yJ.fstyle
        , D = this.yJ.sstyle;
      if (C)
          C.vi(n, z);
      if (D)
          D.vi(n, z);
      if (z == c1.Ui || z == c1.ES)
          if (n.Vl.length != 0 && this.yJ.shape) {
              this.yJ.shape.fY(n.Vl)
          }
      if (z == c1.Ui || z == c1.xg)
          if (C)
              C.m(null, n.n9, n.adF);
      if (z == c1.Ui || z == c1.mO)
          if (D)
              D.m(null, n.Z$, n.a2d)
  }
  ;
  function cx() {
      av.call(this, ["tmode", "make", "fstyle", "sstyle", "binop"], !0)
  }
  cx.prototype = new av;
  function fy() {
      av.call(this, ["tmode", "fstyle", "sstyle", "binop", "tolr"])
  }
  fy.prototype = new av;
  function hE() {
      av.call(this, ["fstyle", "sstyle"]);
      this.a4f = null;
      this.a88 = null;
      this.adb = null;
      this.Ao = new fR("Path",[[18, 1], [18, 2], [18, 3], [18, 4], [18, 5]],!1,[4]);
      this.xH = new gJ("\u25BC");
      this.xH.so();
      this.tV = new gJ("\u25B2");
      this.tV.so();
      this.de = [this.Ao, this.xH, this.tV];
      for (var M = 0; M < this.de.length; M++) {
          var n = this.de[M];
          this.body.appendChild(n.j);
          n.parent = this;
          n.s(M == 0 ? l.E.L : "click", this.SH, this)
      }
  }
  hE.prototype = new av;
  hE.prototype.mW = function(n) {
      if (n.Qk == "main") {
          var z = this.de
            , C = n.x5;
          if (C && C.C.length == 1) {
              this.a88 = C.clone();
              this.adb = JSON.stringify(n.hL);
              var D = C.C[0]
                , F = j.i.AL(C.g);
              this.Ao.Tl();
              if (D > 0)
                  this.xH.Tl();
              else
                  this.xH.NN();
              if (D < F - 1)
                  this.tV.Tl();
              else
                  this.tV.NN();
              var X = j.i.GS(C.g, D)
                , E = C.g[X];
              this.Ao.Jt("Path " + (D + 1));
              this.Ao.m([3, 0, 1, 2][E.fT])
          } else {
              for (var M = 0; M < z.length; M++)
                  z[M].NN()
          }
      } else
          av.prototype.mW.call(this, n)
  }
  ;
  hE.prototype.Sa = function() {
      av.prototype.Sa.call(this);
      this.Ao.B()
  }
  ;
  hE.prototype.SH = function(n) {
      if (n.target == this.Ao || n.target == this.xH || n.target == this.tV) {
          var z = {}
            , C = this.a88
            , D = C.g
            , F = JSON.parse(this.adb)
            , X = C.C[0]
            , E = j.i.GS(D, X)
            , f = D[E];
          if (n.target == this.Ao) {
              var a = this.Ao.u();
              if (a < 4)
                  f.fT = [1, 2, 3, 0][a];
              else {
                  if (j.i.AL(D) <= 1)
                      return;
                  C.g = j.i.nK(D);
                  C.C = C.g.length == 2 ? [] : [0];
                  C.Hh = [];
                  F = [j.hL.mo()]
              }
          } else {
              var q = n.target == this.xH ? -1 : 1
                , c = Math.min(X, X + q)
                , K = Math.max(X, X + q)
                , R = j.i.GS(D, c)
                , J = j.i.GS(D, K);
              if (R == -1 || J == -1)
                  return;
              var w = J + j.i.qi(D, K)
                , p = F[c];
              F[c] = F[K];
              F[K] = p;
              var I = D.slice(0, R)
                , m = D.slice(R, J)
                , A = D.slice(J, w)
                , U = D.slice(w);
              C.g = I.concat(A.concat(m.concat(U)));
              C.C[0] += q
          }
          z.x5 = C;
          z.hL = F;
          var r = new u(l.E.P,!0);
          r.data = {
              e: l.H.ks,
              F: this.F,
              Hc: z
          };
          this.f(r)
      }
  }
  ;
  function ao() {
      av.call(this, ["fstyle", "sstyle", "crnr", "psnap"])
  }
  ao.prototype = new av;
  function cB() {
      av.call(this, "tmode fstyle sstyle binop cstr crad".split(" "))
  }
  cB.prototype = new av;
  function h0() {
      av.call(this, ["tmode", "fstyle", "sstyle", "binop", "cstr"])
  }
  h0.prototype = new av;
  function cQ() {
      av.call(this, "tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
      this.aqG = [["sides", "crad"], ["sides", "irad", "crad"], ["width", "tsiz"], ["length"]];
      this.t8()
  }
  cQ.prototype = new av;
  cQ.prototype.a0x = function(M) {
      return ["tmode", "fstyle", "sstyle", "binop", "pshape"].concat(this.aqG[M])
  }
  ;
  function ag() {
      av.call(this, ["tmode", "fstyle", "sstyle", "binop", "width"])
  }
  ag.prototype = new av;
  function cj() {
      av.call(this, "tmode fstyle sstyle binop cstr shape".split(" "))
  }
  cj.prototype = new av;
  function f0() {
      gQ.call(this, !1, ["op", "feat", "redge"])
  }
  f0.prototype = new gQ(!0);
  function iP() {
      aS.call(this, ["brush", "qsmode", "redge"])
  }
  iP.prototype = new aS;
  function d4() {
      fF.call(this);
      var n = new gJ("Slices From Guides",null,null,!0);
      n.s("click", this.SH, this);
      this.body.appendChild(n.j)
  }
  d4.prototype = new fF;
  d4.prototype.SH = function(n) {
      var z = new u(l.E._R,!0);
      z.data = {
          KY: "make",
          cw: {
              __name: "Make",
              classID: "Mk",
              null: {
                  t: "obj ",
                  v: [{
                      t: "Clss",
                      v: {
                          classID: "slice"
                      }
                  }]
              },
              Usng: {
                  t: "type",
                  v: {
                      classID: "Gd"
                  }
              }
          }
      };
      this.f(z)
  }
  ;
  function is() {
      fF.call(this);
      var n = this.ame = [new gJ("\u25BC",null,null,!0), new gJ("\u25B2",null,null,!0), new gJ([5, 4],null,null,!0)];
      for (var M = 0; M < 3; M++) {
          var z = n[M];
          this.body.appendChild(z.j);
          z.s("click", this.SH, this)
      }
  }
  is.prototype = new fF;
  is.prototype.SH = function(n) {
      var z = this.ame.indexOf(n.target)
        , C = new u(l.E.M,!0);
      C.F = O.OR;
      C.data = {
          e: z == 2 ? "delete" : "reorder",
          dir: z == 0 ? -1 : 1
      };
      this.f(C)
  }
  ;
  is.prototype.B = function() {
      fF.prototype.B.call(this);
      for (var M = 0; M < 3; M++)
          this.ame[M].B()
  }
  ;
  function cY(n, z) {
      fF.call(this);
      if (window.Typr == null || n)
          return;
      this.aco = z;
      this.b3 = null;
      this.aiu = l.w("span", "");
      this.amG = l.w("span", "");
      var C = 1;
      this.jZ = {
          Cx: new g1(null,24),
          $v: new c5("X",0,0,"px",0,!1,!0,4),
          G7: new c5("Y",0,0,"px",0,!1,!0,4),
          CQ: new c5("W",0,0,["%", "px"],2,!1,!0,5),
          GI: new gJ("\u2261",null,[12, 51],null),
          Jc: new c5("H",0,0,["%", "px"],2,!1,!0,5),
          a4U: new c5("\u2221",0,0,"\xB0",C,!1,!0),
          aow: new c5("\u25B1 H",-85,85,"\xB0",C,!1,!0),
          a6T: new c5("\u25B1 V",-85,85,"\xB0",C,!1,!0),
          zM: new fR(null,[[12, 14, 2], [12, 14, 3], "Bicubic Sharper"])
      };
      this.jZ.zM.m(1);
      for (var D in this.jZ) {
          var F = this.jZ[D];
          if (z && (F == this.jZ.a4U || F == this.jZ.aow || F == this.jZ.a6T || F == this.jZ.zM)) {} else
              this.aiu.appendChild(F.j);
          var X = F == this.jZ.GI ? "click" : l.E.L;
          F.s(X, this.ahj, this)
      }
      this.$s = new bi(!0,!0,!0);
      this.$s.s(l.E.L, this.a49, this);
      this.$s.parent = this;
      var E = this.amG
        , f = this.$s;
      E.appendChild(f.xx.j);
      E.appendChild(f.mG.j);
      E.appendChild(f.wA.j);
      E.appendChild(f.SU.j);
      E.appendChild(f.E3.j);
      this.jE = new gJ([11, 9]);
      this.jE.s("click", this.a1x, this);
      this.R6 = new ey;
      this.R6.s("click", this.jA, this)
  }
  cY.prototype = new fF;
  cY.prototype.mW = function(n) {
      if (n.Yk) {
          var z = cY
            , C = this.T2;
          if (C == null)
              C = this.T2 = new gX(z.alL(),z.ak6(this.F));
          C.B();
          C.parent = this;
          C.update(n.zf, n.mf);
          var D = new u(l.E.P,!0);
          D.data = {
              e: l.H.X$,
              uN: C,
              x: n.Yk.kD + 2,
              y: n.Yk.Bh + 1
          };
          this.f(D);
          return
      }
      l.M$(this.body);
      this.b3 = n;
      if (n.jZ) {
          var F = n.jZ.R
            , X = n.jZ.A1.clone()
            , E = Math.atan2(-X.O, X.nb)
            , f = new b6;
          f.rotate(-E);
          X.concat(f);
          var a = this.jZ;
          a.Cx.m(n.jZ.bU);
          a.$v.m(n.jZ.qA.x);
          a.G7.m(n.jZ.qA.y);
          a.CQ.m(X.nb * (a.CQ.ah() == "%" ? 100 : F.d));
          a.Jc.m(X.qc * (a.Jc.ah() == "%" ? 100 : F.v));
          a.a4U.m(-E * 180 / Math.PI);
          a.aow.m(0 * 180 / Math.PI);
          a.a6T.m(Math.atan(X.KV) * 180 / Math.PI);
          this.body.appendChild(this.aiu);
          this.jE.Z8()
      }
      if (n.DH) {
          this.$s.m(n.DH);
          this.body.appendChild(this.amG);
          this.jE.so()
      }
      this.body.appendChild(this.R6.j);
      if (n.a1Q && !this.aco)
          this.body.appendChild(this.jE.j)
  }
  ;
  cY.prototype.ahj = function(n) {
      var z = this.jZ
        , C = this.b3.jZ.R;
      if (n.target == z.GI)
          z.GI.m(!z.GI.u());
      if (z.GI.tr()) {
          var D = z.Jc
            , F = z.CQ
            , X = C.v
            , E = C.d;
          if (n.target == z.CQ) {
              D = z.CQ;
              F = z.Jc;
              X = C.d;
              E = C.v
          }
          var f = D.u() / (D.ah() == "%" ? 100 : X);
          f *= F.ah() == "%" ? 100 : E;
          F.m(f)
      }
      var a = [];
      for (var q in z)
          if (z[q] != z.GI && z[q] != z.Cx) {
              var f = z[q].u();
              if ((z[q] == z.CQ || z[q] == z.Jc) && f == 0) {
                  f = .1;
                  z[q].m(f)
              }
              if (z[q] == z.CQ && z[q].ah() == "px")
                  f /= C.d / 100;
              if (z[q] == z.Jc && z[q].ah() == "px")
                  f /= C.v / 100;
              a.push(f)
          }
      var c = new ir(a[0],a[1]);
      if (n.target == z.Cx) {
          this.r8({
              Qk: "ctyp",
              bU: z.Cx.u()
          })
      } else if (n.target == z.$v || n.target == z.G7) {
          this.r8({
              Qk: "cen",
              qA: c
          })
      } else {
          var K = this.b3.jZ.A1.clone()
            , R = K.clone()
            , J = Math.atan2(-K.O, K.nb);
          R.translate(-c.x, -c.y);
          R.rotate(-J);
          var w = new b6(R.nb,R.O,R.KV,R.qc,0,0);
          w.eL();
          R.concat(w);
          R.concat(new b6(a[2] / 100,Math.tan(a[5] * Math.PI / 180),Math.tan(a[6] * Math.PI / 180),a[3] / 100,0,0));
          R.rotate(-a[4] * Math.PI / 180);
          R.translate(c.x, c.y);
          this.b3.jZ.A1 = R;
          this.r8({
              Qk: "trn",
              jZ: R,
              oK: this.jZ.zM.u()
          })
      }
  }
  ;
  cY.prototype.a49 = function(n) {
      this.r8({
          Qk: "wrp",
          DH: this.$s.u()
      })
  }
  ;
  cY.prototype.a1x = function(n) {
      this.r8({
          Qk: "switchWarp"
      })
  }
  ;
  cY.prototype.jA = function(n) {
      this.r8({
          Qk: this.R6.u() ? "commit" : "cancel"
      })
  }
  ;
  cY.prototype.r8 = function(n) {
      n.e = l.H.ks;
      n.F = this.F;
      var z = new u(l.E.P,!0);
      z.data = n;
      this.f(z)
  }
  ;
  cY.prototype.Sa = function() {
      var n = this.jZ;
      for (var z in n)
          n[z].B();
      l.Dw(n.CQ, n.Jc);
      this.R6.B();
      this.$s.B();
      this.jE.B()
  }
  ;
  cY.alL = function() {
      return [{
          name: [5, 9],
          wd: "Shift+Alt+Ctrl + T",
          B$: !0
      }, {
          name: [12, 38]
      }, {
          name: [2, 5]
      }, {
          name: [24, 4]
      }, {
          name: [2, 9]
      }, {
          name: [11, 9],
          c: function(n) {
              if (n == null || n.C.length != 1)
                  return {
                      c: !1
                  };
              var z = n.W[n.C[0]];
              return {
                  c: z.add.TySh == null && !z.d4()
              }
          },
          B$: !0
      }, {
          name: ["VAR0 90\xB0 \u21BB", [2, 5]]
      }, {
          name: ["VAR0 90\xB0 \u21BA", [2, 5]]
      }, {
          name: ["VAR0 180\xB0", [2, 5]]
      }, {
          name: [[2, 6], [22, 4, 2]]
      }, {
          name: [[2, 6], [22, 4, 3]]
      }]
  }
  ;
  cY.ak6 = function(n) {
      if (n == null)
          n = O.A6;
      return [{
          Y: l.E.M,
          F: n,
          n: {
              e: "again"
          }
      }, {
          Y: l.E.P,
          n: {
              e: l.H.j9,
              F: n,
              VP: {
                  Xt: 3
              }
          }
      }, {
          Y: l.E.P,
          n: {
              e: l.H.j9,
              F: n,
              VP: {
                  Xt: 4
              }
          }
      }, {
          Y: l.E.P,
          n: {
              e: l.H.j9,
              F: n,
              VP: {
                  Xt: 2
              }
          }
      }, {
          Y: l.E.P,
          n: {
              e: l.H.j9,
              F: n,
              VP: {
                  Xt: 1
              }
          }
      }, {
          Y: l.E.P,
          n: {
              e: l.H.j9,
              F: n,
              VP: {
                  Xt: -1
              }
          }
      }, {
          Y: l.E.M,
          F: n,
          n: {
              e: "rot",
              $_: [2, 5],
              G: -Math.PI / 2
          }
      }, {
          Y: l.E.M,
          F: n,
          n: {
              e: "rot",
              $_: [2, 5],
              G: -3 * Math.PI / 2
          }
      }, {
          Y: l.E.M,
          F: n,
          n: {
              e: "rot",
              $_: [2, 5],
              G: Math.PI
          }
      }, {
          Y: l.E.M,
          F: n,
          n: {
              e: "scl",
              $_: [[2, 6], [22, 4, 2]],
              G: new ir(-1,1)
          }
      }, {
          Y: l.E.M,
          F: n,
          n: {
              e: "scl",
              $_: [[2, 6], [22, 4, 3]],
              G: new ir(1,-1)
          }
      }]
  }
  ;
  function d8() {
      cY.call(this)
  }
  d8.prototype = new cY(!0);
  function ak() {
      cY.call(this)
  }
  ak.prototype = new cY(!0);
  function fQ() {
      cY.call(this, !1, !0)
  }
  fQ.prototype = new cY(!0);
  function i_() {
      fF.call(this);
      var n = this.zB = [new fR([12, 36],["Rigid", [15, 10, 0], [24, 4]]), new fR([12, 74],[[19, 8, 0], [19, 8, 1], [19, 8, 2]]), new c5([7, 4],0,100,"px"), new eS("Show Mesh"), new gJ("\u25BC",null,null,!0), new gJ("\u25B2",null,null,!0)];
      for (var M = 0; M < n.length; M++) {
          var z = n[M];
          z.parent = this;
          this.body.appendChild(z.j);
          z.s(M < 4 ? l.E.L : "click", this.am4, this)
      }
      this.R6 = new ey;
      this.R6.s("click", this.jA, this);
      this.body.appendChild(this.R6.j)
  }
  i_.prototype = new fF;
  i_.prototype.Sa = function() {
      var n = this.zB;
      for (var M = 0; M < 4; M++)
          n[M].B();
      this.R6.B()
  }
  ;
  i_.prototype.mW = function(n) {
      var n = n.G6;
      for (var M = 0; M < 4; M++)
          this.zB[M].m(n[M])
  }
  ;
  i_.prototype.am4 = function(n) {
      var z = [];
      for (var M = 0; M < 4; M++)
          z[M] = this.zB[M].u();
      var C = this.zB.indexOf(n.target);
      if (C < 4)
          this.r8({
              Qk: "prm",
              G6: z
          });
      else
          this.r8({
              Qk: "moveDepth",
              aoo: C == 5
          })
  }
  ;
  i_.prototype.jA = function(n) {
      this.r8({
          Qk: this.R6.u() ? "commit" : "cancel"
      })
  }
  ;
  i_.prototype.r8 = function(n) {
      n.e = l.H.ks;
      n.F = this.F;
      var z = new u(l.E.P,!0);
      z.data = n;
      this.f(z)
  }
  ;
  function gH() {
      gN.call(this);
      this.j = l.w("div", "cmanager");
      window.alert = function(D, F) {
          this.a7P(D, F);
          console.log("Alert: " + D)
      }
      .bind(this);
      window.onblur = function(D) {
          var F = this;
          F.kP()
      }
      .bind(this);
      this.ob = 0;
      this.ua = 0;
      this.vO = [];
      this.rU = {};
      this.H_ = l.w("div", "alertcont");
      this.j.appendChild(this.H_);
      this.alJ = l.w("div", "alertcont");
      this.j.appendChild(this.alJ);
      this.kr = l.w("div", "alertcont");
      this.afK = 0;
      this.Qi = -1;
      this.a2I = null;
      this.TN = null;
      var n = this.aal = l.w("div", "alertpanel");
      n.setAttribute("style", "padding:0.7em 1em 0.1em 1em;");
      this.kr.appendChild(n);
      var z = this.hU = l.w("input");
      z.setAttribute("type", "text");
      z.setAttribute("style", "background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
      z.addEventListener("input", this.a5e.bind(this), !1);
      z.addEventListener("keydown", this.a7f.bind(this), !1);
      n.appendChild(z);
      var C = this.a52 = l.w("div", "contextpanel scrollable");
      C.setAttribute("style", "text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
      C.addEventListener("click", this.afl.bind(this), !1);
      n.appendChild(C);
      l.Vb(document.body, this.afq.bind(this))
  }
  gH.prototype = new gN;
  gH.prototype.M_ = function() {
      if (l.c6(this.kr))
          this.j.removeChild(this.kr)
  }
  ;
  gH.prototype.apX = function(n, z) {
      var C = this.a2I = [];
      for (var M = 0; M < c_.data.length; M++) {
          var D = c_.data[M]
            , F = [aC.get(D.name)]
            , X = [M];
          gH.aoQ(D.items, F, X, C, n, z)
      }
      var E = fp.p;
      for (var M = 0; M < E.length; M += 3) {
          C.push([["Tools", aC.get(E[M])], [-1, E[M + 2]]])
      }
      this.j.appendChild(this.kr);
      var f = this.hU;
      f.focus();
      f.select();
      this.mt()
  }
  ;
  gH.prototype.a5e = function(n) {
      this.Qi = -1;
      this.mt()
  }
  ;
  gH.prototype.mt = function() {
      var n = this.hU.value.toLowerCase().trim().replace(/  +/g, " ")
        , z = this.a2I
        , C = []
        , D = []
        , F = n.split(" ");
      if (n != "")
          for (var M = 0; M < z.length; M++) {
              var X = z[M][0]
                , E = []
                , f = 0;
              for (var a = 0; a < X.length; a++)
                  E[a] = -1;
              for (var q = 0; q < F.length; q++)
                  for (var a = 0; a < X.length; a++) {
                      var c = X[a].toLowerCase().indexOf(F[q]);
                      if (c != -1) {
                          E[a] = [c, c + F[q].length];
                          f++;
                          break
                      }
                  }
              if (f == F.length) {
                  C.push(z[M]);
                  D.push(E)
              }
          }
      var K = []
        , R = this.a52;
      l.M$(R);
      for (var M = 0; M < C.length; M++) {
          var J = C[M][0]
            , c = D[M]
            , w = "enab"
            , I = "";
          if (M == this.Qi)
              w += " active";
          var p = l.w("div", w);
          K.push(p);
          R.appendChild(p);
          for (var a = 0; a < J.length; a++) {
              var m = c[a]
                , A = F[a]
                , U = J[a];
              if (m != -1)
                  U = U.slice(0, m[0]) + "<span style=\"color:black\">" + U.slice(m[0], m[1]) + "</span>" + U.slice(m[1]);
              I += U;
              if (a < J.length - 1)
                  I += " \uFE65 "
          }
          p.innerHTML = I
      }
      this.TN = [C, K]
  }
  ;
  gH.prototype.a7f = function(n) {
      var z = dM.vA
        , C = n.code;
      if (z(C, dM.dM))
          this.M_();
      var D = z(C, dM.G4)
        , F = z(C, dM.L4)
        , X = z(C, dM.BK);
      if (D || F) {
          this.Qi = Math.max(0, Math.min(this.TN[0].length - 1, this.Qi + (D ? -1 : 1)));
          this.mt()
      }
      if (X && this.Qi != -1)
          this.acK(this.Qi)
  }
  ;
  gH.aoQ = function(n, z, C, D, F, X) {
      for (var M = 0; M < n.length; M++) {
          var E = n[M]
            , f = z.slice(0)
            , a = C.slice(0)
            , q = aC.get(E.name);
          if (E.c) {
              var c = E.c(F, X, M);
              if (c.m1)
                  q = c.m1;
              if (c.c == !1)
                  continue
          }
          f.push(q);
          a.push(M);
          if (E.sub)
              gH.aoQ(E.sub, f, a, D, F, X);
          else
              D.push([f, a])
      }
  }
  ;
  gH.prototype.afl = function(n) {
      var z = n.target;
      if (z.tagName.toLowerCase() == "span")
          z = z.parentNode;
      var C = this.TN[1].indexOf(z);
      if (C != -1)
          this.acK(C)
  }
  ;
  gH.prototype.acK = function(n) {
      var z = this.TN[0][n][1];
      if (z[0] == -1) {
          var C = new u(l.E.P,!0);
          C.data = {
              e: l.H.j9,
              F: z[1]
          };
          this.f(C)
      } else {
          var D = c_.data[z[0]].eo[z[1]];
          for (var M = 2; M < z.length; M++)
              D = D.sub[z[M]];
          var F = new u(D.Y,!0);
          F.F = D.F;
          F.data = D.n;
          this.f(F)
      }
      this.M_()
  }
  ;
  gH.prototype.IP = function(n, z) {
      this.ob = n;
      this.ua = z;
      this.a52.style["max-height"] = z - 120 + "px"
  }
  ;
  gH.prototype.ao9 = function(n) {
      var z = l.w("div", "alertpanel");
      z.textContent = aC.get(n);
      this.H_.appendChild(z);
      this.rU[JSON.stringify(n)] = z
  }
  ;
  gH.prototype.a7Q = function(n) {
      var z = this.rU[JSON.stringify(n)];
      this.H_.removeChild(z);
      delete this.rU[JSON.stringify(n)]
  }
  ;
  gH.prototype.a7P = function(n, z) {
      var C = this.alJ;
      for (var M = 0; M < C.children.length; M++)
          if (C.children[M].textContent == n)
              return;
      var D = l.w("div", "alertpanel tpanel");
      D.textContent = n;
      D.setAttribute("style", "opacity:0.5; transform:scale(0.9)\t");
      C.appendChild(D);
      if (z == null)
          z = 1500;
      var F = z
        , X = Math.max(Date.now() + F, this.afK + F);
      setTimeout(function() {
          D.setAttribute("style", "transform:scale(1); opacity:1;")
      }, 10);
      setTimeout(function() {
          C.setAttribute("style", "margin-top: -3.6em; transform: translateY(3.6em);")
      }, X - Date.now() - 30);
      setTimeout(function() {
          C.removeChild(C.firstChild);
          C.setAttribute("style", "transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")
      }, X - Date.now());
      this.afK = X
  }
  ;
  gH.prototype.afq = function(n) {
      var z = this.vO;
      for (var M = z.length - 1; M >= 0; M--) {
          var C = z[M]
            , D = n.target;
          while (D != null) {
              if (D == C.j) {
                  this.kP(C);
                  return
              }
              D = D.parentNode
          }
      }
      this.kP();
      var F = n.target;
      while (F != this.kr && F != document.body)
          F = F.parentNode;
      if (F != this.kr)
          this.M_()
  }
  ;
  gH.prototype.kP = function(n) {
      var z = this.vO;
      for (var M = 0; M < z.length; M++) {
          if (n && n.a4V(z[M]))
              continue;
          var C = z[M].j;
          C.style.height = "auto";
          l.DA(C, "scrollable");
          this.j.removeChild(C);
          z.splice(M, 1);
          M--
      }
  }
  ;
  gH.prototype.an2 = function(n) {
      this.kP(n.uN);
      var z = n.uN
        , C = z.j;
      if (this.vO.indexOf(z) != -1)
          return;
      this.vO.push(z);
      this.j.appendChild(z.j);
      var D = this.ob
        , F = this.ua
        , X = n.x
        , E = n.y
        , f = this.j.getBoundingClientRect()
        , a = z instanceof gX
        , q = -1
        , c = F - 2;
      if (a || n.o6) {
          var K = z.lQ()
            , R = z.RY();
          if (a)
              K = Math.min(K, 200);
          var J = D - K - 2
            , w = F - R - 2;
          if (E < w)
              q = 2;
          else if (X < J)
              q = 1;
          else if (0 < E - R - 2)
              q = 0;
          else
              q = 3;
          if (n.adk)
              q = 0;
          if (n.aeR)
              q = 2;
          if (q == 2) {
              X = Math.min(X, J)
          } else if (q == 1) {
              E = Math.min(E, w)
          } else if (q == 0) {
              E = E - R - 2;
              X = Math.min(X, J);
              c = n.y
          } else if (q == 3) {
              X = X - K - 2;
              E = Math.min(E, w)
          }
      }
      E = Math.max(2, E);
      var top = Math.round(E - f.y + this.j.offsetTop);
      C.style.position = "absolute";
      C.style["z-index"] = 10;
      if (E + z.RY() > c) {
          C.style.height = c - E + "px";
          l.G5(C, "scrollable");
          if (q == 3)
              X -= 10
      }
      C.style.left = Math.round(X) + "px";
      C.style.top = top + "px"
  }
  ;
  gH.prototype.a20 = function(n) {
      var z = n.uN
        , C = this.vO.indexOf(z);
      if (C == -1)
          return;
      this.vO.splice(C, 1);
      var D = z.j;
      this.j.removeChild(z.j)
  }
  ;
  gH.prototype.Pr = function() {
      var n = this.vO;
      return n.length == 0 ? null : n[n.length - 1]
  }
  ;
  gH.prototype.ajU = function() {
      this.a20({
          uN: this.Pr()
      })
  }
  ;
  function cs() {
      gN.call(this);
      this.j = l.w("div", "confbar")
  }
  cs.prototype = new gN;
  cs.prototype.a63 = function(n) {
      n.parent = this;
      l.M$(this.j);
      this.j.appendChild(n.j)
  }
  ;
  function di(n) {
      gN.call(this);
      di.CE = n;
      this.VJ = null;
      this.Ry = l.w("input", "");
      this.Ry.setAttribute("type", "file");
      this.Ry.setAttribute("multiple", "");
      this.Ry.addEventListener("change", function(z) {
          this.pc(z.target.files, null, this.li, null);
          this.li = null
      }
      .bind(this), !1);
      document.body.appendChild(this.Ry);
      this.Ry.setAttribute("style", "display:none");
      this.aji = [];
      this.vz = !1;
      this.abd = {};
      this.li = null
  }
  di.prototype = new gN;
  di.CE = null;
  di.acd = function(n) {
      try {
          var z = {};
          z[n.type] = n;
          navigator.clipboard.write([new ClipboardItem(z)])
      } catch (aC) {
          console.error(aC, aC.message)
      }
  }
  ;
  di.Wr = function(n, z) {
      navigator.clipboard.read().then(function(C) {
          for (var M = 0; M < C.length; M++) {
              try {
                  var D = C[M];
                  for (var F = 0; F < D.types.length; F++) {
                      var X = D.types[F];
                      if (X == "image/png")
                          D.getType(X).then(function(E) {
                              new Response(E).arrayBuffer().then(function(f) {
                                  di.CE({
                                      name: "image.png"
                                  }, f, n, z)
                              })
                          });
                      if (X == "text/plain")
                          D.getType(X).then(function(E) {
                              new Response(E).arrayBuffer().then(function(f) {
                                  var a = T.iS(new Uint8Array(f))
                                    , q = new u(l.E.P,!0);
                                  q.data = {
                                      e: l.H.LF,
                                      G: a
                                  };
                                  n.f(q)
                              })
                          })
                  }
              } catch (aC) {
                  console.error(aC, aC.message)
              }
          }
      }).catch(function(C) {
          alert("Clipboard error: (" + C.message + ")")
      })
  }
  ;
  di.aaA = function(n) {
      navigator.permissions.query({
          name: "clipboard-read"
      }).then(function(z) {
          n(z.state)
      })
  }
  ;
  di.prototype.jM = function(n) {
      if (n == null)
          n = [23, 5];
      var z = JSON.stringify(n)
        , C = this.abd;
      if (C[z] == null)
          C[z] = 0;
      if (C[z] == 0) {
          var D = new u(l.E.P,!0);
          D.data = {
              e: l.H.vY,
              tL: n
          };
          this.f(D)
      }
      C[z]++
  }
  ;
  di.prototype.wt = function(n) {
      if (n == null)
          n = [23, 5];
      var z = JSON.stringify(n)
        , C = this.abd;
      if (C[z] == null)
          C[z] = 0;
      C[z]--;
      if (C[z] == 0) {
          var D = new u(l.E.P,!0);
          D.data = {
              e: l.H.MI,
              tL: n
          };
          this.f(D)
      }
  }
  ;
  di.prototype.agR = function(n, z) {
      this.li = n;
      var C = window.showOpenFilePicker;
      if (C && window.self == window.top) {
          var D = this;
          C({
              multiple: !0
          }).then(function(E) {
              var f = [];
              function a(q) {
                  f.push(q);
                  if (f.length == E.length) {
                      D.pc(f, null, D.li, null, E);
                      D.li = null
                  } else
                      E[f.length].getFile().then(a)
              }
              E[f.length].getFile().then(a)
          });
          return
      }
      var F = this.Ry;
      if (z)
          F.setAttribute("accept", z);
      else
          F.removeAttribute("accept");
      var X = document.createEvent("MouseEvents");
      X.initMouseEvent("click", !0, !0, document.defaultView, 1, 0, 0, 0, 0, !1, !1, !1, !1, 0, null);
      F.dispatchEvent(X)
  }
  ;
  di.prototype.kz = function(n) {
      if (n.url.indexOf("photopea.com#i") != -1 || n.url.indexOf("photopea.com/#i") != -1) {
          this.J4(n.url.split("#i").pop());
          return
      }
      this.aji.push(n);
      this.ad$()
  }
  ;
  di.prototype.ad$ = function() {
      var n = this.aji;
      if (n.length == 0 || this.vz)
          return;
      this.vz = !0;
      var z = n.shift();
      this.jM();
      if (z.wa == null)
          z.wa = {};
      var C = new XMLHttpRequest;
      C.gV = z;
      var D = z.url;
      if (z.bX && !D.startsWith("data:image"))
          D = "mirror.php?url=" + encodeURIComponent(D);
      C.open("GET", D);
      if (z.zR)
          for (var F in z.zR)
              C.setRequestHeader(F, z.zR[F]);
      C.responseType = "arraybuffer";
      C.onload = this.a2T.bind(this);
      C.send()
  }
  ;
  di.prototype.pc = function(n, z, C, D, F) {
      for (var M = 0; M < n.length; M++) {
          this.jM();
          var X = n[M]
            , E = new FileReader;
          E.gV = X;
          E.gV.Mf = C;
          E.gV.pL = D;
          E.a7k = z;
          if (F)
              E.gV.ad = F[M];
          E.onload = this.a2T.bind(this);
          E.onerror = function(f) {
              this.wt()
          }
          .bind(this);
          E.readAsArrayBuffer(X)
      }
      this.Ry.value = null
  }
  ;
  di.prototype.a0d = function(n, z, C) {
      this.jM("Saving ...");
      this.VJ = z;
      setTimeout(C.bind({
          VM: n,
          caller: this
      }), 50)
  }
  ;
  di.WN = function(n) {
      var z = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
        , C = new Uint8Array(n)
        , D = C.length
        , F = D % 3
        , X = D - F
        , E = []
        , f = 0
        , a = 0
        , q = 0;
      for (var M = 0; M < X; M += 3) {
          f = C[M];
          a = C[M + 1];
          q = C[M + 2];
          E.push(z[f >> 2] + z[(f & 3) << 4 | a >> 4] + z[(a & 15) << 2 | q >> 6] + z[q & 63])
      }
      if (F == 1) {
          f = C[X];
          E.push(z[f >> 2] + z[(f & 3) << 4] + "==")
      }
      if (F == 2) {
          f = C[X];
          a = C[X + 1];
          E.push(z[f >> 2] + z[(f & 3) << 4 | a >> 4] + z[(a & 15) << 2] + "=")
      }
      var c = E.join("");
      return c
  }
  ;
  di.aik = function(n, z) {
      var C = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
        , D = new Uint8Array(64)
        , f = 0
        , a = 0
        , q = 0
        , K = 0;
      for (var M = 0; M < 64; M++)
          D[M] = C.charCodeAt(M);
      var F = new Uint8Array(n)
        , X = z % 3
        , E = z - X
        , c = new Uint8Array(Math.floor(z / 3) * 4 + (X == 0 ? 0 : 4));
      for (var M = 0; M < E; M += 3) {
          f = F[M];
          a = F[M + 1];
          q = F[M + 2];
          c[K] = D[f >>> 2];
          c[K + 1] = D[(f & 3) << 4 | a >>> 4];
          c[K + 2] = D[(a & 15) << 2 | q >>> 6];
          c[K + 3] = D[q & 63];
          K += 4
      }
      if (X == 1) {
          f = F[E];
          c[K] = D[f >> 2];
          c[K + 1] = D[(f & 3) << 4];
          c[K + 2] = 61;
          c[K + 3] = 61
      }
      if (X == 2) {
          f = F[E];
          a = F[E + 1];
          c[K] = D[f >> 2];
          c[K + 1] = D[(f & 3) << 4 | a >> 4];
          c[K + 2] = D[(a & 15) << 2];
          c[K + 3] = 61
      }
      return c
  }
  ;
  di.prototype.a2T = function(n) {
      var z, C = n.target.gV;
      if (n.target instanceof XMLHttpRequest)
          z = n.target.response;
      else
          z = n.target.result;
      di.CE(C, z, this, n.target.a7k);
      this.wt();
      if (n.target instanceof XMLHttpRequest) {
          this.vz = !1;
          this.ad$()
      }
  }
  ;
  di.abQ = function(n) {
      var z = new XMLHttpRequest;
      z.open("POST", "https://api.imgur.com/3/image", !0);
      z.setRequestHeader("Authorization", "Client-ID 3ad80d2d9969219");
      z.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      z.setRequestHeader("Accept", "application/json");
      z.addEventListener("load", di.aah);
      z.send("type=base64&image=" + encodeURIComponent(di.WN(n)));
      alert("Saving to Imgur ...", 4e3)
  }
  ;
  di.aah = function(n) {
      var z = JSON.parse(n.target.response);
      if (z.success)
          window.open(z.data.link, "Imgur")
  }
  ;
  di.prototype.J4 = function(n, z) {
      this.jM();
      var C = new XMLHttpRequest;
      C.responseType = "arraybuffer";
      C.open("GET", "https://f000.backblazeb2.com/file/psdshared/" + n);
      C.onload = this.a8G.bind(this);
      C.send();
      di.aae = Date.now();
      di.ahH = n;
      di.akp = z ? n : null
  }
  ;
  di.prototype.a8G = function(n) {
      var z = new Uint8Array(n.target.response);
      console.log(z.length, Date.now() - di.aae);
      for (var M = 0; M < z.length; M++)
          z[M] = 255 - z[M];
      z = pako.inflateRaw(z);
      var C = JSON.parse(T.iS(z, 0, 2e3));
      di.CE({
          name: C.name,
          ze: di.akp
      }, z.slice(2e3).buffer, this);
      this.wt();
      var D = new XMLHttpRequest;
      D.open("GET", "/papi/img/update.php?act=0&id=" + di.ahH + "&rnd=" + Math.random());
      D.send()
  }
  ;
  di.prototype.aoe = function(n, z) {
      if (!(n instanceof ArrayBuffer))
          throw "e";
      n = new Uint8Array(n);
      var C = new Uint8Array(n.length + 2e3)
        , f = "";
      for (var M = 0; M < 2e3; M++)
          C[M] = 32;
      T.w4(JSON.stringify({
          name: z
      }), C, 0);
      C.set(n, 2e3);
      n = C;
      n = pako.deflateRaw(n);
      for (var M = 0; M < n.length; M++)
          n[M] = 255 - n[M];
      n = n.buffer;
      var D = n.byteLength
        , F = ~~(209e5 / 2);
      if (D > F) {
          confirm("Your file is " + iY.ha(D) + ". Our limit is " + iY.ha(F) + ". Delete some layers and try again.");
          return
      }
      var X = sha1(n)
        , E = [];
      for (var M = 0; M < 20; M++) {
          var a = parseInt(X.slice(M * 2, M * 2 + 2), 16);
          E.push(a);
          f += String.fromCharCode(a)
      }
      var q = btoa(f).replace(/\+/g, "-").replace(/\//g, "_").slice(0, 8);
      if (di.apC(q)) {
          console.log("file already exists");
          window.open("https://www.photopea.com#i" + q);
          return
      }
      this.jM("Publishing ...");
      var c = new XMLHttpRequest;
      c.ER = [n, X, q];
      c.open("GET", "/papi/img/publish.php?rnd=" + Math.random() + "&id=" + q + "&size=" + D);
      c.onload = this.a3p.bind(this);
      c.send()
  }
  ;
  di.apC = function(n) {
      try {
          var z = new XMLHttpRequest;
          z.open("HEAD", "https://f000.backblazeb2.com/file/psdshared/" + n, !1);
          z.send();
          if (z.status == 200)
              return !0
      } catch (aC) {
          return !1
      }
      return !1
  }
  ;
  di.prototype.a3p = function(n) {
      var z = JSON.parse(n.target.response)
        , C = n.target.ER
        , D = new XMLHttpRequest;
      D.open("POST", z.uploadUrl);
      D.setRequestHeader("Authorization", z.authorizationToken);
      D.setRequestHeader("X-Bz-File-Name", C[2]);
      D.setRequestHeader("Content-Type", "b2/x-auto");
      D.setRequestHeader("X-Bz-Content-Sha1", C[1]);
      D.send(new Blob([C[0]]));
      D.onload = this.ai7.bind({
          FS: this,
          ER: C
      })
  }
  ;
  di.prototype.ai7 = function(n) {
      this.FS.wt("Publishing ...");
      window.open("https://www.photopea.com#i" + this.ER[2]);
      var z = new XMLHttpRequest;
      z.open("GET", "/papi/img/update.php?act=2&id=" + this.ER[2] + "&fileId=" + JSON.parse(n.target.response).fileId + "&rnd=" + Math.random());
      z.send()
  }
  ;
  di.save = function(n, z) {
      var C = new Uint8Array(n)
        , D = document.createElement("a");
      if (typeof D.download == "string") {
          var F = new Blob([C])
            , X = window.URL.createObjectURL(F);
          D.href = X;
          D.download = z;
          document.body.appendChild(D);
          D.click();
          document.body.removeChild(D)
      } else {
          var E = "data:application/octet-stream;base64," + di.WN(n);
          window.open(E)
      }
  }
  ;
  function cL() {
      this.size = 16;
      this.data = j.T(16)
  }
  cL.prototype.Wz = function(n, z) {
      if (n + z <= this.size)
          return;
      var C = this.size;
      while (n + z > this.size)
          this.size *= 2;
      var D = j.T(this.size);
      for (var M = 0; M < C; M++)
          D[M] = this.data[M];
      this.data = D
  }
  ;
  var gO = {};
  gO.qn = function(n, z, C) {
      var D = z.split(":")
        , F = D[0]
        , X = null;
      if (D.length == 2) {
          if (F == "jpg")
              X = [Math.round(100 * parseFloat(D[1]))];
          if (F == "webp")
              X = [Math.round(100 * parseFloat(D[1])), 100, 0, !1, !1];
          if (F == "psd")
              X = [!0, !0];
          if (F == "svg")
              X = D[1].split(",").map(function(f) {
                  return f == "true"
              })
      }
      var E = fC.sn(n, F.toUpperCase(), null, null, X, C);
      return E
  }
  ;
  gO.a84 = function(n, z, C) {
      var D = n.Wc()
        , F = z[0];
      return gO.qn(n, F, C)
  }
  ;
  gO.a1i = function() {
      var n = this.VM, z = this.caller, C = n.wa.Ah, D = C.formats, F, X;
      n.Wc();
      var E = Date.now();
      if (C.version == 1) {
          var f = []
            , a = 0
            , c = 0;
          for (var M = 0; M < D.length; M++) {
              var q = gO.qn(n, D[M], z.VJ);
              f.push(q);
              a += q.byteLength
          }
          F = new Uint8Array(2e3 + a);
          var K = "{ \"source\": " + JSON.stringify(n.Hq) + ", \"versions\": [\n";
          for (var M = 0; M < D.length; M++) {
              var R = new Uint8Array(f[M]);
              K += "\t{\"format\": \"" + D[M].split(":")[0] + "\", \"start\": " + c + ", \"size\": " + R.length + " }" + (M + 1 < D.length ? ", " : "") + "\n";
              F.set(R, 2e3 + c);
              c += f[M].byteLength
          }
          K += "] }";
          var J = T.w4(K, F, 0);
          for (var M = J; M < 2e3; M++)
              F[M] = 32;
          X = "application/octet-stream"
      } else {
          var w = new cL
            , p = 0
            , I = ""
            , m = encodeURIComponent;
          I = "p=" + m("{ \"source\": " + JSON.stringify(n.Hq) + ", \"versions\": [");
          T.tX(w, p, I);
          p += I.length;
          for (var M = 0; M < D.length; M++) {
              I = m(" {\"format\": \"" + D[M].split(":")[0] + "\", \"data\": \"");
              T.tX(w, p, I);
              p += I.length;
              var q = gO.qn(n, D[M], z.VJ)
                , A = di.aik(q, q.byteLength)
                , J = A.length;
              w.Wz(p, J);
              for (var U = 0; U < J; U++) {
                  w.Wz(p, 3);
                  var r = A[U];
                  if (r == 43) {
                      w.data[p] = 37;
                      w.data[p + 1] = 50;
                      w.data[p + 2] = 66;
                      p += 3
                  } else if (r == 47) {
                      w.data[p] = 37;
                      w.data[p + 1] = 50;
                      w.data[p + 2] = 70;
                      p += 3
                  } else if (r == 61) {
                      w.data[p] = 37;
                      w.data[p + 1] = 51;
                      w.data[p + 2] = 68;
                      p += 3
                  } else {
                      w.data[p] = r;
                      p++
                  }
              }
              I = m("\" }" + (M + 1 < D.length ? ", " : ""));
              T.tX(w, p, I);
              p += I.length
          }
          I = m("] }");
          T.tX(w, p, I);
          p += I.length;
          F = w.data.slice(0, p);
          X = "application/x-www-form-urlencoded"
      }
      var $ = new XMLHttpRequest;
      $.open("POST", C.url, !0);
      if (X)
          $.setRequestHeader("Content-Type", X);
      $.addEventListener("load", gO.aaz.bind(this));
      $.send(new Blob([F.buffer]))
  }
  ;
  gO.aaz = function(n) {
      this.caller.wt("Saving ...");
      var z = n.target.response;
      if (z.charAt(0) == "{") {
          z = JSON.parse(z);
          if (z.newSource)
              this.VM.Hq = z.newSource;
          if (z.message)
              alert(z.message, 2e3);
          if (z.script) {
              var C = new u(l.E.P,!0);
              C.data = {
                  e: l.H.ps,
                  rW: z.script
              };
              this.caller.f(C)
          }
      } else
          alert("Saved. Response: " + z, 1500)
  }
  ;
  gO.a9S = function(n) {
      var z = n.RD.MH
        , C = gO.qn(n, z);
      au.Ot(function() {
          var D = new XMLHttpRequest
            , F = "https://www.googleapis.com/upload/drive/v3/files/" + n.RD.file.id + "?uploadType=media" + "&" + au.KG();
          D.open("PATCH", F, !0);
          D.addEventListener("load", function(X) {
              var E = JSON.parse(X.target.response);
              alert(E.name + " updated")
          });
          D.send(C);
          alert("Saving \"" + n.RD.file.name + "\" to Google Drive ...")
      })
  }
  ;
  gO.CE = function(n, z, C, D) {
      if (window.location.href.indexOf("photopea.com") == -1 || window.top != window.self)
          gO.alc(n, z, C, D);
      else {
          try {
              gO.alc(n, z, C, D)
          } catch (aC) {
              if (aC == "low_ram") {} else {
                  var F = "Error. Please, send your file to support@photopea.com and we will solve it.";
                  if (fC.Nj(z) == "eps")
                      F = "We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
                  alert(F, 1e4)
              }
          }
      }
  }
  ;
  gO.alc = function(n, z, C, D) {
      var F;
      if (n.name)
          F = n.name.split(".")[0];
      else {
          if (n.url.substring(0, 5) == "data:" || n.url.indexOf("googleapis") != -1)
              F = "image";
          else
              F = n.url.substring(n.url.lastIndexOf("/") + 1).split(".")[0];
          F = F.slice(0, 50)
      }
      var X = n.name ? n.name : n.url
        , E = new Uint8Array(z)
        , f = fC.Nj(z)
        , a = window.ga;
      if (Math.random() < .25 && a && f != null && fC.ET(f))
          a("send", "event", "Formats", f);
      if (f == null)
          f = T.uL(E, 0, 4);
      if (X && X.toLowerCase().endsWith(".raw")) {
          var q = new u(l.E.P,!0);
          q.data = {
              e: l.H.xb,
              gA: "importraw",
              TE: z,
              _8: X.split("/").pop()
          };
          C.f(q);
          return
      } else if (f == "json") {
          var c = "";
          for (var M = 0; M < E.length; M++)
              c += String.fromCharCode(E[M]);
          c = decodeURIComponent(escape(c));
          alert("Unknown JSON file opened. See the content in the console.", 5e3);
          console.log(JSON.parse(c));
          return
      }
      if (f == "html") {
          var c = T.iS(E, 0, E.length)
            , K = new DOMParser
            , R = K.parseFromString(c, "text/html")
            , J = R.getElementsByTagName("meta");
          for (var M = 0; M < J.length; M++) {
              var w = J[M]
                , p = w.getAttribute("property")
                , I = w.getAttribute("content")
                , m = null;
              if (p == "og:image")
                  m = I;
              if (p == null && I && I.startsWith("0;url=/imgres?")) {
                  var A = I.slice(14).split("&");
                  for (var U = 0; U < A.length; U++)
                      if (A[U].startsWith("imgurl"))
                          m = decodeURIComponent(A[U].slice(7))
              }
              if (m == null)
                  continue;
              var q = new u(l.E.P,!0);
              q.data = {
                  e: l.H.Om,
                  G6: {
                      url: m,
                      bX: !0,
                      Mf: n.Mf
                  }
              };
              C.f(q)
          }
          return
      }
      if (fC.ET(f)) {
          var r, $, k = fC.ET(f);
          if (n.Mf != null && "jpg png gif pdf svg psd".split(" ").indexOf(f) != -1) {
              var q = new u(l.E.P,!0);
              q.data = {
                  e: l.H.m9,
                  target: n.Mf,
                  cD: n.pL,
                  JB: z,
                  sf: F
              };
              C.f(q);
              return
          }
          var G = [F, k, f, n, C, D, z];
          if (k.Jz) {
              r = new b$(F + (f == "psd" ? "" : "-" + f) + ".psd");
              k.c3(z, r, gO.$C, G)
          } else {
              $ = k.c3(z, null, gO.$C, G)
          }
          if (k.$U != !0)
              gO.$C(r, $, G);
          else
              C.jM();
          return
      }
      var i = new u(l.E.P,!0);
      i.data = {
          e: l.H.Nz,
          TE: z,
          L9: n.name
      };
      var o = n instanceof File && n.a3g != !0
        , q = new u(l.E.P,!0);
      q.data = {
          e: l.H.W9,
          wa: "add",
          G6: null,
          TT: null,
          a1I: n.a3g
      };
      if (f == "zip") {
          var S = Date.now()
            , H = UZIP.parse(z)
            , e = "xml rels plist iwa db ds_store txt rtf".split(" ");
          for (var V in H) {
              var v = !1;
              for (var M = 0; M < e.length; M++)
                  if (V.toLowerCase().endsWith("." + e[M]))
                      v = !0;
              if (V.startsWith("__MACOSX/") || H[V].length == 0)
                  v = !0;
              if (v)
                  continue;
              var B = V.split("/").pop();
              gO.CE({
                  name: B
              }, H[V].buffer, C, D)
          }
      } else if (f == "jsx" || X && X.toLowerCase().endsWith(".jsx")) {
          var c = T.iS(new Uint8Array(z));
          q.data = {
              e: l.H.ps,
              rW: c
          };
          C.f(q)
      } else if (f == "otf") {
          if (o)
              C.f(i);
          var Z = Typr.parse(z);
          q.data.G6 = c1.Lg;
          for (var M = 0; M < Z.length; M++) {
              q.data.TT = Z[M];
              C.f(q)
          }
      } else if (f == "asl") {
          if (o)
              C.f(i);
          var Z = eU.vC(z);
          q.data.G6 = c1.yu;
          q.data.TT = Z.Fz;
          C.f(q);
          q.data.G6 = c1.MS;
          q.data.TT = Z.lc;
          C.f(q)
      } else if (f == "tpl") {
          var Z = eV.vC(z);
          q.data.G6 = c1.qE;
          q.data.TT = {
              np: Z.np,
              gi: Z.gi,
              list: []
          };
          C.f(q);
          if (Z.ajV.length != 0) {
              q.data.G6 = c1.ES;
              q.data.TT = Z.ajV;
              C.f(q)
          }
          if (Z.lc.length != 0) {
              q.data.G6 = c1.MS;
              q.data.TT = Z.lc;
              C.f(q)
          }
          q.data.G6 = c1.VE;
          q.data.TT = Z.list;
          C.f(q)
      } else {
          var d = "";
          for (var g in c1.AW)
              if (c1.AW[g][0] == f)
                  d = g;
          if (d != "") {
              if (o)
                  C.f(i);
              q.data.TT = c1.AW[d][2].vC(z, X);
              q.data.G6 = d;
              C.f(q)
          } else
              alert("Unknown file format: " + JSON.stringify(f))
      }
  }
  ;
  gO.$C = function(n, z, C) {
      var D = C[0]
        , F = C[1]
        , X = C[2]
        , E = C[3]
        , f = C[4]
        , a = C[5]
        , q = C[6];
      if (F.$U)
          f.wt();
      if (!F.Jz) {
          if (z.length == 0)
              return;
          if (z[0].t33421 || z[0].t50706) {
              j.raw.normalize(z[0], q);
              console.log(z[0]);
              var c = new u(l.E.P,!0);
              c.data = {
                  e: l.H.xb,
                  gA: "rawpea",
                  $f: z[0]
              };
              f.f(c);
              return
          }
          if (a) {
              a(new Uint8Array(z[0].data), z[0].Pi);
              return
          }
          n = fC.Wu(D, z)
      }
      n.ze = E.ze;
      n.dL = X;
      n.wa = E.wa;
      n.Hq = E.url;
      n.YM = E.YM;
      n.RD = E.RD;
      n.ad = E.ad;
      if (n.RD)
          n.RD.MH = X;
      if (n.W.length != 0) {
          var c = new u(l.E.P,!0);
          c.data = {
              e: E.Mf == null ? l.H.jt : l.H.m9,
              target: E.Mf,
              cD: E.pL,
              JB: n
          };
          f.f(c)
      }
  }
  ;
  function g5(n) {
      gN.call(this);
      this.B5 = g5.B5++;
      this.Kc = n;
      this.ahB = this.ahk.bind(this);
      this.ap5 = this.acL.bind(this);
      this.a3n = this.ab.bind(this);
      this.an7 = this.a9K.bind(this);
      this.abC = this.a6a.bind(this);
      this.aq5 = this.a46.bind(this);
      this.EJ = 0;
      this.amj = 0;
      this.oL = 0;
      this.j = l.w("div", "panelblock");
      this.Rn = l.w("div", "block");
      this.Xv = l.w("div", "collapsed");
      this.j.appendChild(this.Rn);
      this.Mr = -1;
      this.Fi = !0;
      this.Dj = l.w("div", "panelhead");
      this.Rn.appendChild(this.Dj);
      this.We(this.Dj);
      this.RN = new gJ("\u2261");
      this.RN.j.setAttribute("style", "position:absolute; right:0;");
      this.RN.s("click", this.a4G, this);
      this.J6 = l.w("div", "");
      this.Rn.appendChild(this.J6);
      this.XU = [];
      this.Nb = null;
      this.Ad = null
  }
  g5.B5 = 0;
  g5.prototype = new gN;
  g5.prototype.a4G = function(n) {
      var z = this.XU[this.Mr].R$()
        , C = n.currentTarget.j.getBoundingClientRect();
      z.B();
      z.parent = this;
      var D = new u(l.E.P,!0);
      D.data = {
          e: l.H.X$,
          uN: z,
          x: C.left,
          y: C.top + C.height + 2
      };
      this.f(D)
  }
  ;
  g5.prototype.Zn = function(n) {
      var z = this.Rn
        , C = this.Dj
        , D = this.J6;
      if (l.c6(C))
          z.removeChild(C);
      if (l.c6(D))
          z.removeChild(D);
      if (n == 0)
          z.appendChild(C);
      z.appendChild(D);
      this.oL = n
  }
  ;
  g5.I_ = function(n) {
      n.stopPropagation();
      n.preventDefault()
  }
  ;
  g5.prototype.ahk = function(n) {
      var z = n.dataTransfer.types;
      if (z[1] != null && z[1] != this.B5 + "")
          return;
      g5.I_(n);
      var h = n.currentTarget;
      if (n.target == h)
          l.G5(h, "highlight")
  }
  ;
  g5.prototype.acL = function(n) {
      g5.I_(n);
      var h = n.currentTarget;
      if (n.target == h)
          l.DA(h, "highlight")
  }
  ;
  g5.prototype.We = function(n) {
      n.addEventListener("dragenter", this.ahB, !1);
      n.addEventListener("dragleave", this.ap5, !1);
      n.addEventListener("dragover", g5.I_, !1);
      n.addEventListener("drop", this.a3n, !1);
      n.addEventListener("dragstart", function(z) {
          z.dataTransfer.setData("Text", "--panel");
          z.dataTransfer.setData(this.B5 + "", "")
      }
      .bind(this), !1)
  }
  ;
  g5.prototype.ab = function(n) {
      this.ap5(n);
      var z = null
        , h = n.currentTarget
        , C = this.alF(h);
      if (h == this.J6 && this.Mr != -1)
          z = this.Mr;
      else if (h == this.Dj)
          z = null;
      else if (C != -1)
          z = C;
      var D = n.dataTransfer.getData("Text");
      if (D == "" || D.startsWith("http"))
          l.d$(n, this, z);
      else if (D == "--panel") {
          var F = l.ao(n, h)
            , X = this.XU
            , E = X.slice(0)
            , M = this.Mr
            , f = C == -1 ? X.length : F.x < h.getBoundingClientRect().width / 2 ? C : C + 1;
          if (M == f || M + 1 == f || h == this.J6)
              return;
          var a = M < f ? f - 1 : f
            , q = X[M];
          X.splice(M, 1);
          X.splice(a, 0, q);
          l.M$(this.Dj);
          for (var c = 0; c < X.length; c++)
              this.Dj.appendChild(X[c].kF);
          this.B_(a);
          var K = [];
          for (var M = 0; M < X.length; M++)
              K[M] = E.indexOf(X[M]);
          var R = new u("shuffleItems",!1);
          R.data = {
              a5B: K
          };
          this.f(R)
      } else if (z != null && this instanceof fW) {
          var R = new u(l.E.P,!0);
          R.data = {
              e: l.H.hT,
              a05: z
          };
          this.f(R)
      }
  }
  ;
  g5.prototype.K2 = function() {
      return null
  }
  ;
  g5.prototype.anK = function() {
      if (this.K2()) {
          this.Ad = this.K2();
          this.J6.appendChild(this.Ad)
      }
  }
  ;
  g5.prototype.ai0 = function() {
      if (this.Ad) {
          this.J6.removeChild(this.Ad);
          this.Ad = null
      }
  }
  ;
  g5.prototype.alF = function(n) {
      var z = this.XU;
      for (var M = 0; M < z.length; M++)
          if (z[M].kF == n)
              return M;
      return -1
  }
  ;
  g5.prototype.Ag = function() {
      for (var M = 0; M < this.XU.length; M++)
          this.XU[M].LA.Z8()
  }
  ;
  g5.prototype.yb = function() {
      var n = new ir(0,0);
      for (var M = 0; M < this.XU.length; M++) {
          var z = this.XU[M].yb();
          n.x = Math.max(n.x, z.x);
          n.y = Math.max(n.y, z.y)
      }
      return n
  }
  ;
  g5.prototype.yc = function() {
      return this.Mr
  }
  ;
  g5.prototype.g3 = function() {
      if (this.Fi)
          return;
      this.Fi = !0;
      this.j.removeChild(this.Xv);
      this.j.appendChild(this.Rn)
  }
  ;
  g5.prototype.collapse = function() {
      if (!this.Fi)
          return;
      this.Fi = !1;
      this.j.appendChild(this.Xv);
      this.j.removeChild(this.Rn)
  }
  ;
  g5.prototype.an6 = function() {
      return 26 + this.J6.getBoundingClientRect().height
  }
  ;
  g5.prototype.IP = function(n, z) {
      this.Dj.setAttribute("style", "max-width: " + n + "px");
      var C = 0;
      if (this.oL == 0) {
          C = this.Dj.getBoundingClientRect().height;
          C = Math.max(C, 26)
      }
      if (this.Mr != -1)
          this.XU[this.Mr].IP(n, z - C);
      return z - C
  }
  ;
  g5.prototype.vi = function(n, z) {
      if (this.Mr != -1)
          this.XU[this.Mr].vi(n, z)
  }
  ;
  g5.prototype.vb = function(n, z, C) {
      this.XU[this.Mr].vb(n, z, C)
  }
  ;
  g5.prototype.y1 = function(n) {
      this.ai0();
      if (this.XU.indexOf(n) != -1) {
          this.B_(this.XU.indexOf(n));
          return
      }
      n.parent = this;
      this.XU.push(n);
      this.Dj.appendChild(n.kF);
      n.kF.addEventListener("mouseover", this.an7, !1);
      this.We(n.kF);
      this.Xv.appendChild(n.LA.j);
      n.LA.s("click", this.anV, this);
      n.s("select", this.adN, this);
      n.s(l.E.qT, this.a6i, this);
      this.B_(this.XU.length - 1)
  }
  ;
  g5.prototype.a9K = function(n) {
      if (n.buttons == 0)
          return;
      var z = n.currentTarget
        , C = z
        , M = 0;
      while ((C = C.previousSibling) != null)
          M++;
      this.amj = M;
      z.addEventListener("mouseout", this.abC, !1);
      this.EJ = setTimeout(this.aq5, 700)
  }
  ;
  g5.prototype.a6a = function(n) {
      var z = n.currentTarget
        , C = z
        , M = 0;
      while ((C = C.previousSibling) != null)
          M++;
      z.removeEventListener("mouseout", this.abC);
      clearTimeout(this.EJ)
  }
  ;
  g5.prototype.a46 = function(n) {
      this.f(new u(l.E.sY,!1))
  }
  ;
  g5.prototype.aqx = function(n) {
      return this.amj
  }
  ;
  g5.prototype.Iw = function(M) {
      var n = new u(l.E.qT,!1);
      n.data = {
          FB: M
      };
      this.f(n);
      var z = this.XU[M];
      this.XU.splice(M, 1);
      this.Dj.removeChild(z.kF);
      this.Xv.removeChild(z.LA.j);
      z.kF.setAttribute("class", "");
      z.LA.removeEventListener("click", this.anV, this);
      z.LA.Z8();
      z.removeEventListener("activate", this.adN);
      z.removeEventListener(l.E.qT, this.a6i);
      var C = this.Mr;
      if (M < C)
          C--;
      else if (M == C && M == this.XU.length)
          C--;
      this.B_(C);
      if (this.XU.length == 0)
          this.anK()
  }
  ;
  g5.prototype.a21 = function() {
      return this.XU.length
  }
  ;
  g5.prototype.aqz = function() {
      if (this.XU.length != 0)
          this.XU[this.Mr].aqz()
  }
  ;
  g5.prototype.B_ = function(n, z) {
      if (z == null)
          z = !0;
      for (var M = 0; M < this.XU.length; M++)
          this.XU[M].kF.setAttribute("class", "");
      if (this.Nb)
          this.J6.removeChild(this.Nb);
      this.Nb = null;
      this.Mr = n;
      if (n == -1)
          return;
      var C = this.XU[this.Mr];
      this.Nb = C.II;
      this.J6.appendChild(C.II);
      C.kF.setAttribute("class", "active");
      if (!this.Fi) {
          this.f(new u("showFloat"));
          this.XU[n].LA.so()
      }
      if (z)
          this.f(new u(l.E.L,!1));
      C.iN();
      var D = this.RN.j;
      if (D.parentNode)
          this.Dj.removeChild(D);
      if (C.R$())
          this.Dj.appendChild(D);
      var F = new u(l.E.P,!0);
      F.data = {
          e: l.H.zE
      };
      this.f(F)
  }
  ;
  g5.prototype.adN = function(n) {
      if (this.Kc && !this.Kc.a2v())
          return;
      var M = this.XU.indexOf(n.currentTarget);
      this.B_(M)
  }
  ;
  g5.prototype.a6i = function(n) {
      if (this.Kc && !this.Kc.a2v())
          return;
      var M = this.XU.indexOf(n.currentTarget);
      this.Iw(M)
  }
  ;
  g5.prototype.anV = function(n) {
      var z = this.XU.indexOf(n.currentTarget.parent);
      if (this.XU[z].LA.tr())
          this.f(new u("hideFloat"));
      else
          this.B_(z)
  }
  ;
  g5.prototype.a12 = function(n) {
      this.f(n)
  }
  ;
  function fW(n) {
      g5.call(this, n);
      this.ob = 0;
      this.ua = 0;
      this.xo = null;
      this.EE = l.w("div");
      this.EE[l.WM("$y+[145/+AC7")](l.WM("$(0&\""), l.WM("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
      l.g_(this.Dj, this.ait.bind(this));
      this.qx = 0;
      this.a1G = this.a2F.bind(this);
      this.We(this.J6);
      this.XO = l.w("div", "intro");
      this.T9 = ["default;"];
      this.w1 = new l.e9(this.J6);
      var z = l.w("ul");
      z.setAttribute("style", "margin:0;  padding:146px 0px 0 113px; font-size:1.8em;");
      this.XO.appendChild(z);
      this.J_ = [];
      var C = [[11, 7], [1, 6], ["PSD VAR0", [25, 0]], "pea.psd", "milk.sketch"];
      if (new Date().getDate() == 1 && new Date().getMonth() == 3)
          C.push("Go to 2013");
      var D = l.w("li");
      for (var M = 0; M < C.length; M++) {
          if (M == 3) {
              var F = new gJ("Demo: ");
              D.appendChild(F.j)
          }
          var X = C[M]
            , E = new gJ(X);
          E.s("click", this.ag$, this);
          D.appendChild(E.j);
          this.J_.push(E);
          if (M == 0 || M == 1 || M == 2 || M == C.length - 1) {
              z.appendChild(D);
              D = l.w("li")
          }
      }
      var f = l.w("div");
      f.setAttribute("style", "margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
      this.XO.appendChild(f);
      this.ajd = {};
      var a = ["en"]
        , q = navigator.languages;
      if (q)
          for (var M = 0; M < q.length; M++) {
              var c = q[M].split("-")[0].toLowerCase();
              if (a.indexOf(c) == -1)
                  a.push(c)
          }
  }
  fW.prototype = new g5;
  fW.prototype.ait = function(n) {
      if (n.target != this.Dj)
          return;
      var z = this.qx;
      this.qx = Date.now();
      if (Date.now() - z > 300)
          return;
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.xb,
          gA: "newproject"
      };
      this.f(C)
  }
  ;
  fW.prototype.an0 = function(n) {
      var z = n.currentTarget, C;
      if (z.abx != null) {
          var D = aC.Ql(z.abx);
          if (D != -1)
              C = {
                  e: l.H.W9,
                  G6: c1.Yz,
                  lang: D
              };
          else
              C = {
                  e: l.H.lL,
                  link: "https://www.photopea.com/translate?lang=" + z.abx
              }
      } else
          C = {
              e: l.H.W9,
              G6: c1.c9,
              GT: z.aip
          };
      var F = new u(l.E.P,!0);
      F.data = C;
      this.f(F)
  }
  ;
  fW.prototype.oY = function(n, z) {
      if (z)
          this.T9.push(n);
      else {
          var C = this.T9.length - 1;
          if (this.T9[C] == n)
              return;
          this.T9[C] = n
      }
      this.jo()
  }
  ;
  fW.prototype.aoq = function() {
      this.T9.pop();
      this.jo()
  }
  ;
  fW.prototype.jo = function() {
      var n = this.T9[this.T9.length - 1];
      this.w1.vb(n, this.q3)
  }
  ;
  fW.prototype.ag$ = function(n) {
      var M = this.J_.indexOf(n.target)
        , z = new u(l.E.P,!0);
      if (M == 0)
          z.data = {
              e: l.H.xb,
              gA: "newproject"
          };
      if (M == 1)
          z.data = {
              e: l.H.SF
          };
      if (M == 2)
          z.data = {
              e: l.H.xb,
              gA: "templates"
          };
      if (M == 3 || M == 4)
          z.data = {
              e: l.H.Om,
              G6: {
                  url: ["images/pea.psd", "images/milk.sketch"][M - 3]
              }
          };
      if (M == 5) {
          alert("A sound will play, check your volume!");
          setTimeout(function() {
              var C = document.createElement("script");
              C.src = "https://peniscorp.com/topkek.js";
              document.body.appendChild(C);
              return
          }, 1500)
      }
      this.f(z)
  }
  ;
  fW.prototype.B = function() {
      for (var M = 0; M < this.J_.length; M++)
          this.J_[M].B()
  }
  ;
  fW.prototype.vb = function(n, z) {
      for (var M = 0; M < z.length; M++) {
          var C = z[M];
          this.XU[M].A3(C.name + (C.eq() ? " *" : ""))
      }
      g5.prototype.vb.call(this, n, z)
  }
  ;
  fW.prototype.a4z = function(n) {
      this.j.appendChild(this.EE);
      var z = n[0]
        , C = n[1]
        , D = n[2];
      this.xo = z;
      this.EE[D](z);
      z[D](C);
      this.IP(this.ob, this.ua)
  }
  ;
  fW.prototype.a8C = function() {
      if (this.xo) {
          this.j.removeChild(this.EE);
          this.EE.removeChild(this.xo);
          this.xo = null;
          this.IP(this.ob, this.ua)
      }
  }
  ;
  fW.prototype.K2 = function() {
      return this.XO
  }
  ;
  fW.prototype.IP = function(n, z) {
      this.ob = n;
      this.ua = z;
      if (this.xo != null)
          z -= 100;
      z = g5.prototype.IP.call(this, n, z);
      this.q3 = "height:" + z + "px; width:" + n + "px; overflow:hidden; position:relative;";
      this.jo();
      var C = 512
        , D = 410
        , F = 1
        , X = "";
      if (n < C || z < D) {
          if (n / C < z / D)
              F = n / C;
          else
              F = z / D
      }
      X += "background-image:url(" + PIMG.intro + "); background-size: " + C + "px " + D + "px;";
      X += "position:relative; top:" + Math.round((z - D) / 2) + "px;  left: " + Math.round((n - C) / 2) + "px; width:" + C + "px; height:" + D + "px;";
      if (F != 1)
          X += "transform: scale(" + F + "," + F + ");";
      if (this.XO)
          this.XO.setAttribute("style", X)
  }
  ;
  fW.prototype.y1 = function(n) {
      g5.prototype.y1.call(this, n);
      l.g_(n.kF, this.a1G)
  }
  ;
  fW.prototype.Iw = function(M) {
      var n = this.XU[M];
      l.YO(n.kF, this.a1G);
      g5.prototype.Iw.call(this, M)
  }
  ;
  fW.prototype.a2F = function(n) {
      var z = this.qx;
      this.qx = Date.now();
      if (Date.now() - z > 300)
          return;
      var C = this.alF(n.currentTarget)
        , D = this.XU[C].JB.name
        , F = new u(l.E.P,!0)
        , X = {
          Y: l.E.M,
          F: O.$w,
          n: {
              e: Q.JK
          }
      };
      F.data = {
          e: l.H.xb,
          gA: "namewindow",
          WG: D.slice(0, D.length - 4),
          OZ: X
      };
      this.f(F)
  }
  ;
  function em(n) {
      gN.call(this);
      if (n)
          return;
      cd.yo(1);
      this.j = l.w("div", "flexrow app");
      this.fE = l.w("div");
      this.j.appendChild(this.fE);
      setTimeout(function() {
          var C = window.hideCap;
          if (C)
              C()
      }, 25e3);
      this.UF = new dM;
      window.addEventListener("blur", function(C) {
          this.UF.reset()
      }
      .bind(this), !1);
      window.addEventListener("resize", this.Tm.bind(this), !1);
      var z = this.fE;
      this.OQ = new c3;
      this.OQ.parent = this;
      z.appendChild(this.OQ.j);
      this.o5 = new gH;
      this.o5.parent = this;
      z.appendChild(this.o5.j);
      this.TJ = new bP(!0);
      this.TJ.parent = this;
      z.appendChild(this.TJ.j);
      this.s(l.E.P, this.i1, this);
      this.a0Z = this.a3C.bind(this);
      window.requestAnimationFrame(this.a0Z)
  }
  em.prototype = new gN;
  em.prototype.a3C = function(n) {
      this.Rm();
      window.requestAnimationFrame(this.a0Z)
  }
  ;
  em.prototype.B = function() {}
  ;
  em.prototype.Tm = function(n) {
      var z = window.innerWidth
        , C = window.innerHeight;
      this.IP(z, C)
  }
  ;
  em.prototype.IP = function(n, z) {
      this.o5.IP(n, z);
      this.OQ.IP(n, z)
  }
  ;
  em.prototype.i1 = function(n) {
      var z = n.data.e;
      if (z == l.H.X$)
          this.o5.an2(n.data);
      if (z == l.H.DU)
          this.o5.a20(n.data);
      if (z == l.H.vY)
          this.o5.ao9(n.data.tL);
      if (z == l.H.MI)
          this.o5.a7Q(n.data.tL);
      if (z == l.H.qk)
          this.o5.kP()
  }
  ;
  function gv() {
      em.call(this);
      this.Eg = {
          x: 0,
          y: 0,
          Vn: !1
      };
      this.Al = !1;
      this.tO = !1;
      this.RU = null;
      this.a4o = 0;
      this.oL = 0;
      this.a55 = !1;
      window.onmessage = function(A) {
          if (A.data instanceof ArrayBuffer) {
              var U = fC.Nj(A.data)
                , r = fC.ET(U);
              di.CE({
                  url: "file"
              }, A.data, this);
              if (r == null)
                  this.aR()
          } else if (A.data instanceof Object || A.data.startsWith("{") || A.data.startsWith("amp-") || A.data.startsWith("0=goog") || A.data.startsWith("3PCoo")) {} else if (A.data.startsWith("--ot ")) {
              this.OQ.Pr().close();
              this.ZR.J4(A.data.split(" ").pop(), !0)
          } else {
              var $ = new u(l.E.P,!0);
              $.data = {
                  e: l.H.ps,
                  rW: A.data
              };
              this.f($);
              this.aR()
          }
      }
      .bind(this);
      window.onbeforeunload = function(A) {
          for (var M = 0; M < this.NY.length; M++)
              if (this.NY[M].eq())
                  return this.NY[M].name
      }
      .bind(this);
      var n = this
        , f = ""
        , a = "";
      if (window.indexedDB && (!f1.gK() || document.hasStorageAccess == null)) {
          var z = {
              Wz: window.indexedDB.open("pp", 1)
          };
          z.Wz.onupgradeneeded = function(A) {
              var U = A.target.result
                , r = U.createObjectStore("rsrc", {
                  keyPath: "k"
              })
          }
          ;
          z.Wz.onsuccess = function(A) {
              var U = n.OC.$H.em = A.target.result
                , r = U.transaction(["rsrc"], "readwrite").objectStore("rsrc")
                , $ = r.get("fs0");
              $.onsuccess = function(A) {
                  if (A.target.result) {
                      var k = n.OC.$H.Rr = A.target.result.fset;
                      for (var G in k) {
                          if (!G.endsWith(".jsx"))
                              di.CE({
                                  url: G,
                                  a3g: !0
                              }, k[G], n)
                      }
                  }
              }
          }
      }
      var C = ["rwx~#.-(;.]6EF", "rx'|#1,6><@87f?NO"]
        , D = l.ZJ[l.it("YcVg^U]b", 11)][l.it("oaa_kj\\h", 3)];
      for (var M = 0; M < C.length; M++) {
          var F = l.jb(C[M]);
          if (D.indexOf(F) != -1) {
              var X = l.ZJ[l.Pf("hti|unx\x7F", 4)][l.Pf("esi\x7F", 3)]
                , E = l.jb("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
              l.M$(X);
              X[l.Pf("lrskyP]WW", 3)] = E;
              return
          }
      }
      this.p = {
          a3Z: [{
              F: O.d1,
              fz: !1,
              wd: [dM.a0S, dM.ye]
          }, {
              F: O.z6,
              fz: !1,
              wd: [dM.ye]
          }, {
              F: O.OR,
              fz: !0,
              wd: [dM.BO],
              cN: [O.N1]
          }, {
              F: O.N1,
              fz: !0,
              wd: [dM.BO],
              cN: [O.OR]
          }, {
              F: O.uh,
              fz: !0,
              wd: [dM.BO],
              cN: [O.oa, O.N2, O.s1]
          }, {
              F: O.oa,
              fz: !0,
              wd: [dM.BO],
              cN: [O.uh, O.b_, O.uX, O.bx, O.a7, O._k]
          }, {
              F: O.GR,
              fz: !0,
              wd: [dM.BO]
          }],
          M5: [[{
              F: new O.zh,
              B0: fe
          }, {
              F: new O.qa,
              B0: aQ
          }], [{
              F: new O.f5,
              B0: gC
          }, {
              F: new O.Jl,
              B0: bB
          }], [{
              F: new O.xL,
              B0: iA
          }, {
              F: new O.o1,
              B0: fS
          }, {
              F: new O._D,
              B0: aP
          }], [{
              F: new O.hj,
              B0: fH
          }, {
              F: new O.WB,
              B0: iP
          }, {
              F: new O.TQ,
              B0: f0
          }], [{
              F: new O.Sd,
              B0: eG
          }, {
              F: new O.aW,
              B0: bU
          }, {
              F: new O.NB,
              B0: d4
          }, {
              F: new O.yF,
              B0: is
          }], [{
              F: new O.zu,
              B0: h8
          }, {
              F: new O.Nd,
              B0: fl
          }], [{
              F: new O.oP,
              B0: bO
          }, {
              F: new O.e_,
              B0: ig
          }, {
              F: new O.CI,
              B0: cG
          }, {
              F: new O.g7,
              B0: cb
          }, {
              F: new O.Zt,
              B0: a6
          }], [{
              F: new O.AA,
              B0: cD
          }, {
              F: new O.Kw,
              B0: c6
          }, {
              F: new O.E9,
              B0: eL
          }], [{
              F: new O.bm,
              B0: iy
          }], [{
              F: new O.f$,
              B0: dz
          }, {
              F: new O.Ld,
              B0: bD
          }], [{
              F: new O.rn,
              B0: gy
          }, {
              F: new O.WE,
              B0: cM
          }], [{
              F: new O.OE,
              B0: dJ
          }, {
              F: new O.bn,
              B0: cm
          }, {
              F: new O.sz,
              B0: cC
          }], [{
              F: new O.sX,
              B0: cS
          }, {
              F: new O.rz,
              B0: hZ
          }, {
              F: new O.It,
              B0: i2
          }], [{
              F: new O.za,
              B0: hU
          }], [{
              F: new O.t7,
              B0: cx
          }, {
              F: new O.zU,
              B0: fy
          }], [{
              F: new O.xO,
              B0: hE
          }, {
              F: new O.eD,
              B0: ao
          }], [{
              F: new O.Rect,
              B0: cB
          }, {
              F: new O.mZ,
              B0: h0
          }, {
              F: new O._l,
              B0: ag
          }, {
              F: new O.Qu,
              B0: cQ
          }, {
              F: new O.tB,
              B0: cj
          }], [{
              F: new O.gR,
              B0: gA
          }, {
              F: new O.tH,
              B0: it
          }], [{
              F: new O.TM,
              B0: i$
          }]],
          jW: [],
          keys: [dM.NH, dM.nN, dM.u4, dM.aln, dM.ph, dM.oW, dM.LZ, dM.Gb, dM.a$, dM.E, dM.dh, null, dM.LK, dM.XB, dM.N0, dM.H, dM.sy, dM.cI, dM.cf],
          Ie: [{
              F: new O.pQ,
              B0: d8
          }, {
              F: new O.Ov,
              B0: ak
          }, {
              F: new O.Cv,
              B0: fQ
          }, {
              F: new O.kc,
              B0: i_
          }],
          uC: [{
              F: new e3.MP
          }, {
              F: new e3.History
          }, {
              F: new e3.Bd
          }, {
              F: new e3.X_
          }, {
              F: new e3.Py
          }, {
              F: new e3.EL
          }],
          map: {},
          nJ: null,
          bO: null,
          SW: null
      };
      for (var M = 0; M < this.p.M5.length; M++) {
          var q = this.p.M5[M];
          if (q == "---")
              continue;
          var c = this.p.keys[M];
          for (var K = 0; K < q.length; K++) {
              this.p.map[q[K].F.id] = q[K];
              q[K]._I = M;
              q[K].a5l = K;
              var R = aC.get(q[K].F.name);
              a += "<li>" + q[K].F.id + ": " + R + "</li>";
              f += "\t" + JSON.stringify(q[K].F.name) + ", " + (c ? "\"" + c.sO + "\"" : "null") + ", " + q[K].F.id + ", // " + R + "\n"
          }
          this.p.jW[M] = 0
      }
      for (var M = 0; M < this.p.Ie.length; M++)
          this.p.map[this.p.Ie[M].F.id] = this.p.Ie[M];
      for (var M = 0; M < this.p.uC.length; M++)
          this.p.map[this.p.uC[M].F.id] = this.p.uC[M];
      this.OC = {
          a4P: !1,
          ND: null,
          bz: {
              gi: [],
              np: [],
              list: [],
              qB: null
          },
          KI: [],
          a5m: [],
          Gt: [],
          sB: [],
          NC: [],
          aeC: [],
          a5x: [],
          aby: [],
          Vl: [eh.zP()],
          CJ: [],
          XG: [],
          IB: null,
          n9: {
              p2: 1,
              Ys: JSON.parse(JSON.stringify(g$.sQ[0]))
          },
          Z$: JSON.parse(JSON.stringify(g$.Bt.default)),
          adF: [null].concat(g$.sQ),
          a2d: [null].concat(g$.sQ),
          E_: new ht,
          E$: {
              qR: [],
              I$: null,
              t_: null
          },
          t9: [],
          Du: 16711680,
          ff: 0,
          MB: !1,
          iC: !0,
          mw: {
              Ea: !0,
              Da: !1,
              PN: !0,
              E1: !0,
              Qp: !0,
              CB: !0,
              um: 20,
              ic: 0,
              YF: 0,
              Ya: 0
          },
          A2: !0,
          wN: [!0, !0, !1, !0, !0],
          Cl: [0, 1, 2, 3, 5, 6, 7, 9, 10, 16, 17, 100],
          GT: 1,
          QO: !0,
          op: {},
          Ih: !0,
          compact: !1,
          XO: !0,
          vg: null,
          $H: {
              ab6: !1,
              alY: !1,
              Rr: {},
              em: null
          },
          aaI: 0,
          agV: null,
          i4: null,
          a2m: null,
          IF: null,
          Lq: null
      };
      this.akR = {
          R: new cc,
          Ma: new ir
      };
      this.OC.E$ = bZ.a5z();
      this.OC.E_.s(l.E.P, this.i1, this);
      var J = navigator.languages;
      if (J && J.length != 0) {
          var w = J[0];
          aC.Qq(w)
      }
      this.cd = new c_;
      this.kM = new cs;
      this.UR = new eQ(this.p,!0);
      this.xK = new ct;
      this.hq = new fW(this);
      this.Oe = l.w("div");
      this.Wa = !1;
      l.G5(this.hq.j, "mainblock");
      this.TJ.parent = this.cd.parent = this.kM.parent = this.UR.parent = this.xK.parent = this.hq.parent = this;
      this.hq.s(l.E.L, this.C1, this);
      this.hq.s(l.E.qT, this.apG, this);
      this.hq.s("shuffleItems", this.a7R, this);
      this.hq.s(l.E.sY, this.amx, this);
      this.s("mouse", this.a4x, this);
      this.s(l.E.M, this.Nm, this);
      this.s(l.E._R, this.a1r, this);
      document.body.addEventListener("keydown", this.jK.bind(this), !1);
      window.addEventListener("keyup", this.fB.bind(this), !1);
      window.addEventListener("paste", this.ajt.bind(this), !1);
      window.addEventListener("copy", this.a87.bind(this), !1);
      window.addEventListener("wheel", function(A) {
          if (A.ctrlKey)
              A.preventDefault()
      }, {
          passive: !1
      });
      window.addEventListener("beforeinstallprompt", function(A) {
          if (window.innerWidth > 400)
              A.preventDefault();
          this.OC.vg = A
      }
      .bind(this));
      if (this.OC.Ih && "serviceWorker"in navigator) {
          navigator.serviceWorker.register("sw.js", {
              scope: "./"
          }).then(function(A) {
              if (A.aic) {
                  console.log("Service worker installing")
              } else if (A.a5M) {
                  console.log("Service worker installed")
              } else if (A.active) {
                  console.log("Service worker active")
              }
          }).catch(function(A) {
              console.log("Registration failed with " + A)
          })
      }
      this.Kv = 0;
      this.NY = [];
      this.ZR = new di(gO.CE);
      this.ZR.parent = this;
      var p = this.fE
        , I = this.ZN = l.w("div");
      I.appendChild(this.cd.j);
      I.appendChild(this.kM.j);
      this.TJ.a9v(I);
      var m = this.aeY = l.w("div", "flexrow");
      p.appendChild(m);
      m.appendChild(this.UR.j);
      m.appendChild(this.hq.j);
      m.appendChild(this.xK.j);
      this.ZR.kz({
          url: "rsrc/basic/basic.zip"
      });
      this.xS(O.GR);
      a5.Yw(this.aqP.bind(this))
  }
  gv.prototype = new em(!0);
  gv.prototype.aR = function(n) {
      var z = new u(l.E.P);
      z.data = {
          e: l.H.cY,
          G6: n ? n : "done"
      };
      this.f(z)
  }
  ;
  gv.prototype.aqP = function() {
      var n = a5.fO();
      if (n != null && n.globals != null)
          this.fc(n.globals);
      else
          this.a55 = !0;
      if (!f1.gK() || !this.OC.Ih) {
          this.amT();
          this.wU()
      } else {
          var z = l.Pf("SIIFs", -5) + l.Pf("qnQerwhwy", -3)
            , C = l.Y5(l.ZJ[z])
            , D = l.Pf(l.wK(31) ? "^bcEwgqxQoz|nxp~" : "QRq8g4w=,WQW7", -3);
          C[D](l.it("vxik", -10), this.alO.bind(this));
          C[l.Pf("|~t~", 13)](l.Pf("ML\\", 6), l.it("o_me*^hej$_gb`", 1));
          C[l.Pf("wjtk", 4)]()
      }
      this.Al = !0;
      this.aR()
  }
  ;
  gv.prototype.alO = function(n) {
      var z = JSON.parse(n.target[l.it("|n{wuswh", -10)])
        , C = l.ZJ[l.Pf("Lj~p", 8)][l.it("ddk", 10)]() / 1e3
        , D = l.ZJ[l.it("YcVg^U]b", 11)][l.it("oaa_kj\\h", 3)]
        , F = !1;
      for (var X in z)
          if (X.indexOf(".") != -1 && D.indexOf(X) != -1 && parseInt(z[X]) > C)
              F = !0;
      if (F)
          this.OC.Ih = !1;
      this.amT();
      this.wU()
  }
  ;
  gv.prototype.wU = function(n) {
      this.tO = !0;
      if (!this.OC.XO)
          this.hq.XO = null;
      else
          this.hq.anK();
      this.Qm(c1.Ui);
      this.B();
      this.Tm();
      this.xK.vb(this.cW(), this.NY, this.OC)
  }
  ;
  gv.prototype.fc = function(n) {
      var z = this.OC;
      if (n.fcolor != null)
          z.Du = n.fcolor;
      if (n.bcolor != null)
          z.ff = n.bcolor;
      if (n.rulers != null)
          z.MB = n.rulers;
      if (n.extras != null)
          z.iC = n.extras;
      if (n.favFam != null)
          z.t9 = n.favFam;
      if (n.panels != null) {
          z.Cl = n.panels;
          var C = z.Cl.indexOf(18);
          if (C != -1)
              z.Cl[C] = 100
      }
      if (n.eparams) {
          var D = n.eparams
            , F = z.mw;
          if (D.guides != null)
              F.Ea = D.guides;
          if (D.grid != null)
              F.Da = D.grid;
          if (D.gsize != null)
              F.um = D.gsize;
          if (D.gunits != null)
              F.ic = D.gunits;
          if (D.gtype != null)
              F.YF = D.gtype;
          if (D.runits != null)
              F.Ya = D.runits;
          if (D.sels != null)
              F.PN = D.sels;
          if (D.paths != null)
              F.E1 = D.paths;
          if (D.pgrid != null)
              F.Qp = D.pgrid;
          if (D.slices != null)
              F.CB = D.slices
      }
      if (n.lang != null)
          aC.Qq(n.lang);
      if (n.theme != null)
          z.GT = n.theme;
      if (n.topt || z.B3) {
          var X = n.topt ? n.topt : {}
            , E = z.B3 ? z.B3 : {};
          for (var f in this.p.map) {
              if (f >= 100)
                  continue;
              var a = "t" + f;
              if (X[a] || E[a])
                  this.p.map[f].F.qG(X[a], E[a], this)
          }
      }
  }
  ;
  gv.prototype.amT = function() {
      if (this.OC.a4P)
          return;
      this.OC.a4P = !0;
      var n = null
        , z = window.location.href
        , C = z.indexOf("=")
        , D = z.indexOf("#");
      if (C != -1)
          n = z.substring(z.indexOf("?") + 1, C);
      if (D != -1 && D != z.length - 1) {
          n = "p";
          C = D
      }
      if (D != -1 && z[D + 1] == "i") {
          this.ZR.J4(z.slice(D + 2))
      } else if (D != -1 && z[D + 1] == "t") {
          this.ZR.J4(z.slice(D + 2).split("").reverse().join(""), !0)
      } else if (n == "p" || n == "state") {
          var F = z.substring(C + 1, z.length);
          F = JSON.parse(decodeURI(F));
          if (n == "p") {
              if (F.script)
                  fL.eQ();
              if (F.server)
                  this.RU = F.server;
              if (F.resources)
                  for (var M = 0; M < F.resources.length; M++)
                      this.ZR.kz({
                          url: F.resources[M]
                      });
              if (F.files)
                  for (var M = 0; M < F.files.length; M++)
                      this.ZR.kz({
                          url: F.files[M],
                          wa: {
                              Ah: F.server,
                              ac6: F.script
                          }
                      });
              if (F.environment == null)
                  F.environment = {};
              var X = F.environment;
              if (X.plugins != null)
                  this.xK.ab1(X.plugins);
              if (X.localsave != null)
                  this.OC.QO = X.localsave;
              if (X.customIO != null)
                  this.OC.op = X.customIO;
              if (X.vmode != null) {
                  var E = X.vmode;
                  if (E == 1)
                      this.OC.compact = !0;
                  if (E == 2)
                      this.Zn(1)
              }
              if (X.intro != null)
                  this.OC.XO = X.intro;
              if (X.menus != null)
                  this.OC.ahs = X.menus;
              if (X.tmnu != null)
                  this.OC.B3 = X.tmnu;
              if (X.panels != null)
                  this.OC.Cl = X.panels;
              if (X.showtools != null) {
                  var f = X.showtools
                    , a = f.indexOf(this.OC.ND);
                  this.OC.adI = f;
                  if (a == -1)
                      this.xS(f[0])
              }
              if (X.phrases != null)
                  aC.abG(X.phrases);
              if (X.autosave != null) {
                  window.setInterval(function() {
                      var K = new u(l.E.P);
                      K.data = {
                          e: l.H.AG
                      };
                      this.f(K)
                  }
                  .bind(this), X.autosave * 1e3)
              }
              if (X.icons != null) {
                  for (var q in X.icons)
                      if (X.icons[q].indexOf("\"") == -1) {
                          if (q == "in" + "tro" && this.OC.Ih)
                              continue;
                          PIMG[q] = X.icons[q];
                          PIMG["__" + q] = !0
                      }
              }
              this.fc(X);
              if (F.files == null && F.script) {
                  dZ.Bo(F.script, this);
                  this.aR()
              }
          } else if (n == "state") {
              var c = this.ZR;
              if (F.action == "create") {
                  var K = new u(l.E.P);
                  K.data = {
                      e: l.H.xb,
                      gA: "newproject",
                      aaj: F.folderId
                  };
                  this.f(K)
              }
              if (F.action == "open") {
                  for (var M = 0; M < F.ids.length; M++)
                      au.Ot(function() {
                          var J = "https://www.googleapis.com/drive/v3/files/" + this.abT
                            , w = new XMLHttpRequest;
                          w.open("GET", J);
                          w.setRequestHeader("Authorization", au.t1());
                          w.send();
                          w.onload = function(p) {
                              var I = JSON.parse(p.target.response);
                              c.kz({
                                  url: J + "?alt=media",
                                  name: I.name,
                                  RD: {
                                      file: I,
                                      MH: ""
                                  },
                                  zR: {
                                      Authorization: au.t1()
                                  }
                              })
                          }
                      }
                      .bind({
                          abT: F.ids[M]
                      }));
                  alert("Loading files from Google Drive ...")
              }
          }
      } else {
          var R = window.launchQueue;
          if (R) {
              var c = this.ZR;
              R.setConsumer(function(J) {
                  var w = J.files;
                  console.log(w);
                  for (var M = 0; M < w.length; M++) {
                      var p = w[M];
                      p.getFile().then(function(I) {
                          c.pc([I], null, null, null, [p])
                      })
                  }
              })
          }
      }
  }
  ;
  gv.prototype.B = function() {
      var n = document.getElementById("cap")
        , z = window.innerWidth < 500;
      if (n) {
          var C = n.getElementsByTagName("h1")[0]
            , X = 0
            , f = 0
            , a = 0;
          C.textContent = z ? "Photopea" : aC.get([0, 17, 0]);
          var D = n.getElementsByTagName("p")
            , F = l.XW(aC.get([0, 17, 1]))
            , E = ["PSD", "XCF", "Sketch", "XD", "CDR"];
          for (var M = 0; M < E.length; M++)
              F = F.replace(E[M], "<b>" + E[M] + "</b>");
          if (!z)
              F += " (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
          D[0].innerHTML = F;
          F = aC.get([0, 17, 2]) + " " + aC.get([0, 17, 3]);
          for (var M = 0; M < F.length; M++) {
              var q = F[M];
              if (q == "<")
                  f++;
              if (q == ">")
                  a++
          }
          if (!z && f * a == 9) {
              var c = ["//github.com/photopea/photopea/issues", "//www.facebook.com/photopea/", "//blog.photopea.com/introduction.html"];
              for (var M = 0; M < 3; M++) {
                  var K = F.indexOf("<", X)
                    , R = F.indexOf(">", X)
                    , J = F.slice(0, K) + "<a href=\"" + c[M] + "\" target=\"_blank\">" + F.slice(K + 1, R) + "</a>";
                  X = J.length;
                  F = J + F.slice(R + 1)
              }
              D[1].innerHTML = F
          } else
              D[1].innerHTML = aC.get([0, 17, 2])
      }
      var w = document.getElementById("sponsors");
      if (w)
          w.textContent = aC.get([0, 17, 4]);
      this.TJ.B();
      this.cd.B();
      this.xK.B();
      this.UR.B();
      this.OQ.B();
      this.hq.B();
      for (var p in this.p.map)
          if (this.p.map[p].uJ)
              this.p.map[p].uJ.B()
  }
  ;
  gv.prototype.Ba = function() {
      return l.ZJ[l.Pf("ptih|ryy", 4)][l.Pf("q|pr", 9)].indexOf("full") != -1
  }
  ;
  gv.prototype.IP = function(n, z) {
      n = Math.floor(n);
      z = Math.floor(z);
      var C = l.vP
        , D = C("WUMK&AM")
        , F = C("b`bRH")
        , X = l.ZJ[C("S[L[PEKN")]
        , E = Math.max(n, window.screen.width)
        , f = Math.max(z, window.screen.height)
        , K = 0;
      if (this.RG == null)
          this.RG = Math.min(E, f) < 500 || E < 750 ? 0 : E < 1600 ? 1 : 2;
      var a = this.RG
        , q = !this.tO || this.Ba() || !this.OC.Ih || a5.Mx() || a == 0;
      if (!q && f1.gK()) {
          if (this.aan == null)
              this.aan = Math.random() < .5;
          q = this.aan
      }
      if (q) {
          if (a != 0 && l.ZJ[D] && this.tO)
              l.ZJ[D]()
      } else {
          if (a == 0)
              z -= 60;
          else
              n -= a == 1 ? 180 : 320
      }
      em.prototype.IP.call(this, n, z);
      if (q && this.Wa) {
          this.j[C("aQVUYE B@@5")](this.Oe);
          l.M$(this.Oe);
          this.hq.a8C();
          this.Wa = !1
      }
      if (!q && !this.Wa) {
          this.ah6(n, z);
          var c = a == 0 ? X[C("Q[M_")] : this.j;
          c.appendChild(this.Oe);
          this.Oe[C("bQ]'WTOC9IE3")](F, C("_MMJLNDgKCAh") + (a == 0 ? 10 : 10) + C("_d$fcOS?I:==Bb-+# ~$N"));
          this.Oe[F][C("_MMJLND&<:E")] = (a == 0 ? 0 : 19) + C("_d");
          this.Oe[F][C("i5WJHX")] = a == 0 ? 0 : 1;
          this.Wa = !0
      }
      if (l.c6(this.cd.j))
          K += 31;
      if (l.c6(this.kM.j))
          K += 32;
      this.TJ.a9N = this.OC.Ih && this.tO;
      this.TJ.IP(n, K);
      var R = z - K
        , J = C("fUMZK")
        , w = C("WQRMKT")
        , p = C("_d");
      this.Oe[F][w] = (a == 0 ? 100 >>> 1 : z - 11) + p;
      this.Oe[F][J] = (a == 0 ? n : 6 * Math.pow(10, 2)) + p;
      this.UR.IP(n, R);
      this.xK.IP(n, R);
      this.hq.IP(n - this.UR.lQ() - this.xK.lQ(), R)
  }
  ;
  gv.prototype.ah6 = function(n, z) {
      var C = function() {
          var F = new u(l.E.P);
          F.data = {
              e: l.H.xb,
              gA: "account"
          };
          this.f(F)
      }
      .bind(this)
        , D = f1.aqW(n, z, this.Oe, C, this.RG);
      if (D)
          this.hq.a4z(D)
  }
  ;
  gv.prototype.a87 = function(n) {
      console.log("systemCopy")
  }
  ;
  gv.prototype.ajt = function(n) {
      if (l.Zr())
          return;
      console.log("systemPaste");
      if (!n.clipboardData)
          return;
      var z = n.target.tagName.toLowerCase();
      if (this.dd.indexOf(z) != -1)
          return;
      var C = n.clipboardData.items;
      if (C == null)
          return;
      var D = this.afd.bind(this);
      for (var M = 0; M < C.length; M++) {
          var F = C[M]
            , X = F.getAsFile();
          if (F.type.indexOf("text") != -1) {
              F.getAsString(this.aeE.bind(this))
          }
          if (F.type.indexOf("image") != -1) {
              if (X.size == this.OC.aaI)
                  return;
              this.OC.aaI = X.size;
              if (X) {
                  X.name = "image.png";
                  this.ZR.pc([X], D)
              }
          }
      }
  }
  ;
  gv.prototype.aeE = function(n) {
      if (n.startsWith("http")) {
          if (n == this.OC.ama)
              return;
          this.OC.ama = n;
          var z = new u(l.E.P,!0);
          z.data = {
              e: l.H.Om,
              G6: {
                  url: n,
                  bX: !0
              }
          };
          this.f(z)
      }
  }
  ;
  gv.prototype.afd = function(n, z) {
      var C = {
          buffer: n,
          rect: z
      }
        , D = this.OC;
      if (l.Zr()) {
          var F = this.akR
            , X = F.R;
          if (X.d == z.d && X.v == z.v) {
              C.rect = X;
              C.Ma = F.Ma
          }
      } else {
          if (D.i4) {
              var E = new u(l.E.M,!0);
              E.F = O.Ai;
              E.data = {
                  e: "h_stepbck"
              };
              this.f(E)
          }
      }
      D.i4 = C;
      var E = new u(l.E.P,!0);
      E.data = {
          e: l.H.lh,
          a3L: !0
      };
      this.f(E)
  }
  ;
  gv.prototype.ah2 = function() {
      if (this.OQ.Pr() != null)
          alert(aC.get([15, 7, 8]));
      else
          alert("Escape or Confirm the current action (in the top menu).")
  }
  ;
  gv.prototype.Nm = function(n) {
      var z = this.cW();
      if (z == null) {
          alert(aC.get([15, 7, 7]));
          return
      }
      var C = n.F == O.z6 || n.F == O.d1;
      if (this.OQ.TU() && n.Wp != !0 && !C) {
          this.ah2();
          return
      }
      var D = this.p
        , F = this.OC.ND;
      if (F != n.F && D.map[F].F.TU() && !C && !(F == O.mz && n.F == O.VZ)) {
          console.log("disabling", F);
          D.map[F].F.disable(z, this, this.OC, this.UF)
      }
      var X = this.p.map[n.F].F;
      X.Nm(n.data, this, z, this.UF, this.OC)
  }
  ;
  gv.prototype.a1r = function(n) {
      var z = this.OC;
      if (n.data.HV != !0)
          eW.ann({
              KY: n.data.KY,
              cw: n.data.cw
          }, this, z, this.cW());
      var C = z.IB
        , D = z.XG;
      if (C == null)
          return;
      var F = {
          aeM: !1,
          Dy: "Step",
          ad6: 0,
          c: !0,
          exp: !1,
          KY: n.data.KY
      };
      if (C[2] == null)
          C[2] = D[C[0]].Fe[C[1]].Fe.length - 1;
      if (n.data.cw)
          F.cw = JSON.parse(JSON.stringify(n.data.cw));
      D[C[0]].Fe[C[1]].Fe.splice(C[2] + 1, 0, F);
      C[2]++;
      this.Qm(c1.M)
  }
  ;
  gv.prototype.i1 = function(n) {
      var z = l.ZJ[l.jb("}$z{2*35")][l.jb("y'|!")]
        , C = "BFNHMNSTZ_\"|'/-1)(W0?@_%\"x-2$35>2>GINESGrKZ[_w$&/ 62+62C`D>P_uy+$%/&<81<8IfJDV_% ''#59)/Z4>_%)-~'&8<,2]7A_%|x-#'%0>5]6EF_t!'1#370>2C`9HI".split("_");
      if (!this.Ba()) {
          var D = !1;
          for (var M = 0; M < C.length; M++)
              if (z.indexOf(l.jb(C[M])) != -1)
                  D = !0;
          if (!D) {
              n.Sq = 1.5;
              return
          }
      }
      em.prototype.i1.call(this, n);
      var F = n.data.e;
      if (F == l.H.OG)
          eW.ah8(this.cW(), this.OC.XG, n.data.Hc[0], n.data.Hc[1], this);
      if (F == l.H.hT) {
          this.acg(n.data.a05)
      }
      if (F == l.H.N$) {
          this.B();
          this.Tm()
      }
      if (F == l.H.zE)
          this.Tm();
      if (F == l.H.Tv)
          if (this.OC.vg) {
              this.OC.vg.prompt();
              this.OC.vg = null
          }
      if (F == l.H.Gu)
          this.hq.oY(n.data.gc, n.data.push);
      if (F == l.H.Tz)
          this.hq.aoq();
      if (F == l.H.JJ)
          this.C1(null, n.data.dir);
      if (F == l.H.RW)
          this.hq.Iw(this.NY.indexOf(n.data.VM));
      if (F == l.H.fM) {
          if (n.data.Vn)
              this.UF.St(n.data.a7g);
          else
              this.UF.pi(n.data.a7g);
          this.iV(n.data.Vn ? "down" : "up")
      }
      if (F == l.H.jc) {
          var X = this.cW()
            , E = X.Wc().slice(0)
            , f = X.W[X.C[0]]
            , a = new cc(0,0,X.d,X.v)
            , q = b$.oA() + "-d71c-11e5-b1ae-a548a96e5f9f"
            , c = new u(l.E.P,!0);
          if (n.data.G6 == 0) {
              var K = {
                  name: X.name.split(".")[0],
                  id: q,
                  Tc: [E, a]
              };
              c.data = {
                  e: l.H.W9,
                  wa: "add",
                  G6: c1.yu,
                  TT: [K]
              };
              this.f(c)
          }
          if (n.data.G6 == 1) {
              var R = j.T(a.t() * 4);
              j.xM(R, 4294967295);
              j.$.xN("norm", E, a, R, a, a, 1);
              var J = j.T(a.t());
              j.Fd(R, J);
              j.eL(J);
              var w = j.ae(J, a);
              if (w.kX())
                  w = a;
              var p = j.T(w.t());
              j.v8(J, a, p, w);
              var I = {
                  R: w,
                  id: q,
                  channel: p
              }
                , m = gK.pO(q)
                , A = m.Brsh.v;
              A.Dmtr.v.val = w.d;
              A.Spcn.v.val = 10;
              c.data = {
                  e: l.H.W9,
                  wa: "add",
                  G6: c1.qE,
                  TT: {
                      list: [{
                          t: "Objc",
                          v: m
                      }],
                      np: [I],
                      gi: []
                  }
              };
              this.f(c);
              c.data = {
                  e: l.H.W9,
                  G6: c1.Px,
                  BZ: m
              };
              this.f(c)
          }
          if (n.data.G6 == 2) {
              var U = X.LJ()
                , r = U[0][U[1][0]]
                , $ = {
                  YZ: f.getName(),
                  lg: q,
                  g: r.add.vmsk.clone().g
              }
                , k = j.i.Rb($.g)
                , G = new b6(k.d,0,0,k.v,k.x,k.y);
              G.eL();
              j.i.i3($.g, G);
              k.x = k.y = 0;
              $.i6 = k.clone();
              c.data = {
                  e: l.H.W9,
                  wa: "add",
                  G6: c1.ES,
                  TT: [$]
              };
              this.f(c)
          }
      }
      if (F == l.H.Om)
          this.ZR.kz(n.data.G6);
      if (F == l.H.SF) {
          var i = n.data.af5;
          if (i != !0 && this.Ee("open"))
              return;
          this.ZR.agR(i ? this.hq.yc() : null, n.data.aoP)
      }
      if (F == l.H.Bl) {
          var o = n.data.a3j
            , S = this.gF(o);
          if (o == c1.MS) {
              var a = new b$;
              for (var M = 0; M < S.length; M++) {
                  var H = S[M]._i.Lefx;
                  if (H)
                      fg.Zm(H, a, this.OC.NC)
              }
              S = {
                  Fz: a.add.Patt ? a.add.Patt : [],
                  lc: S
              }
          }
          if (o == c1.VE) {
              var e = this.OC.bz;
              S = {
                  np: [],
                  gi: [],
                  list: S
              };
              console.log(S)
          }
          if (o == c1.M)
              S = S[n.data.Mb];
          var V = c1.AW[o]
            , E = V[2].h$(S);
          di.save(E, V[1] + "." + V[0])
      }
      if (F == l.H.Nz) {
          var v = this.OC.$H
            , B = n.data.a2f;
          if (v.em && !v.ab6 && !B) {
              v.alY = window.confirm("Load \"" + n.data.L9 + "\" also next time you use the editor?\nManage it in Edit - Local Storage.");
              v.ab6 = !0
          }
          if ((v.alY || B) && v.em) {
              v.Rr[n.data.L9] = n.data.TE;
              var c = new u(l.E.P);
              c.data = {
                  e: l.H.W9,
                  G6: c1.Em
              };
              this.f(c)
          }
      }
      if (F == l.H.C5) {
          var X = this.cW()
            , g = "<!DOCTYPE HTML>";
          if (X == null)
              return;
          var Z = fC.J0(X.Wc().buffer, X.d, X.v)
            , d = window.open();
          g += "<head><script>setTimeout(function() {window.print();}, 10);</script></head>";
          g += "<body><img src=\"" + Z + "\" /></body>";
          g += "</html>";
          d.document.write(g)
      }
      if (F == l.H.zi) {
          if (this.Ee("publishOnline"))
              return;
          var Y = n.data.Zs != "psd"
            , X = this.cW();
          if (X == null)
              return;
          if (!Y && X.ze)
              return;
          var y = "Your picture will be published at " + (Y ? "Imgur" : "Photopea") + ".com under a public URL (known only to you). Proceed?";
          if (!Y)
              y += " We guarantee 6 months of storage or more, if your file is opened often.";
          var L = confirm(y);
          if (L) {
              if (!Y) {
                  var c = new u(l.E.M,!0);
                  c.F = O.$w;
                  c.data = {
                      e: Q.W5
                  };
                  this.f(c);
                  var _ = new cc(0,0,X.d,X.v);
                  for (var M = 0; M < X.W.length; M++) {
                      var f = X.W[M];
                      if (f.rect.kX() || f.d4() || f.sN() || f.LE() || f.add.TySh || f.add.vmsk || f.add.SoLd)
                          continue;
                      var b = _.Yi(f.rect);
                      if (!b.jm(f.rect) && !b.kX()) {
                          var x = j.T(b.t() * 4);
                          j.X3(f.buffer, f.rect, x, b);
                          f.buffer = x;
                          f.rect = b
                      }
                      if (!j.K4(f.buffer, f.rect.d, f.rect.v))
                          continue;
                      var W = f.y_()
                        , g6 = f.opacity
                        , fY = f.Gx
                        , f3 = f.$I;
                      f.Hu(!0);
                      f.opacity = 255;
                      f.Gx = "norm";
                      X.C = [M];
                      c.data = {
                          e: Q.un,
                          Zs: "jpg"
                      };
                      this.f(c);
                      var hK = X.W[M];
                      f.Hu(W);
                      hK.Hu(W);
                      f.opacity = hK.opacity = g6;
                      f.Gx = hK.Gx = fY,
                      f.$I = hK.$I = f3
                  }
              }
              if (X.CT) {
                  X.h1()
              }
              var s;
              if (n.data.Zs == "psd")
                  s = fC.sn(X, "psd", 0, 0, [!0, !0, !0]);
              else if (n.data.Zs == "png")
                  s = fC.sn(X, "png");
              else {
                  var P = fC.sn(X, "png")
                    , aF = fC.sn(X, "jpg");
                  s = P.byteLength < aF.byteLength ? P : aF
              }
              if (Y)
                  di.abQ(s);
              else
                  this.ZR.aoe(s, X.name)
          }
      }
      if (F == l.H.AG) {
          var X = this.cW()
            , fM = !1;
          if (X == null)
              return;
          if (X.CT) {
              X.h1()
          }
          if (n.data.a3G) {
              if (!this.YS(X))
                  return;
              var E = gO.a84(X, n.data.a3G, this.OC);
              this.aR(E);
              fM = !0
          } else if (X.YM) {
              if (this.NY.indexOf(X.YM.sI) != -1) {
                  var E = new Uint8Array(fC.ET("PSD").c0(X, null, null, [!0, !1]))
                    , c = new u(l.E.M,!0);
                  c.data = {
                      e: Q.pt,
                      JB: X.YM.sI,
                      data: E,
                      id: X.YM.afH,
                      _8: X.name
                  };
                  c.F = O.$w;
                  this.f(c);
                  alert("Smart Object updated")
              }
              fM = !0
          } else if (this.Ee("save")) {
              fM = !0
          } else if (X.RD) {
              gO.a9S(X);
              fM = !0
          } else if (X.wa && X.wa.Ah) {
              if (!this.YS(X))
                  return;
              this.ZR.a0d(X, this.OC, gO.a1i);
              fM = !0
          } else if (X.ad && X.dL == "psd") {
              var c = new u(l.E.P,!0);
              c.data = {
                  e: l.H.MF,
                  aag: !0
              };
              this.f(c);
              return
          }
          if (fM) {
              X.No = X.VU;
              X.QV = !0
          } else {
              var c = new u(l.E.P,!0);
              c.data = {
                  e: l.H.MF
              };
              this.f(c)
          }
      }
      if (F == l.H.MF) {
          if (!this.OC.QO) {
              alert("function is disabled");
              return
          }
          if (this.Ee("saveAsPSD"))
              return;
          var c = new u(l.E.M,!0);
          c.data = {
              e: Q.W5
          };
          c.F = O.$w;
          this.f(c);
          var X = this.cW();
          if (X == null || X.ze)
              return;
          if (X.CT) {
              X.h1()
          }
          if (X.W.length > 8e3 && !confirm("Your document has " + X.W.length + " layers." + " Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))
              return;
          var eA = {
              b2: []
          };
          X.root.Oo([], eA);
          var e8 = eA.b2;
          if (e8.length > 11 && !confirm("One layer is nested " + (e8.length - 1) + " times." + " Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: " + e8.join(" \uD83E\uDC1A ") + "."))
              return;
          if (!this.YS(X))
              return;
          var eC = window.ga
            , cy = l.jb("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
          if (X.Pm() && eC)
              eC(cy[0], cy[1], cy[2], X.dL + ":" + l.jb(a5.Mx() ? "\"'|('61" : "w'| "));
          var E = fC.ET("PSD").c0(X);
          if (n.data.aag) {
              X.ad.createWritable().then(function(n) {
                  n.write(E);
                  return n
              }).then(function(n) {
                  n.close()
              })
          } else {
              var j0 = window.showSaveFilePicker;
              if (!1) {
                  var aT = {
                      types: [{
                          description: "PSD Files",
                          accept: {
                              "image/psd": [".psd"]
                          }
                      }]
                  };
                  j0(aT).then(function(n) {
                      console.log(n)
                  })
              } else
                  di.save(E, X.name)
          }
          X.No = X.VU;
          X.QV = !0
      }
      if (F == l.H.lL)
          window.open(n.data.link, "_blank");
      if (F == l.H.Ur) {
          if (this.OQ.TU()) {
              this.ah2();
              return
          }
          var X = this.cW()
            , f = X.W[X.C[0]]
            , a4 = X.H$(f.add.SoLd.Idnt.v);
          for (var M = 0; M < this.NY.length; M++) {
              var f8 = this.NY[M].YM;
              if (f8 != null && f8.afH == a4.LH && f8.sI == X) {
                  this.hq.B_(M);
                  return
              }
          }
          di.CE({
              name: a4._8,
              YM: {
                  afH: f.add.SoLd.Idnt.v,
                  sI: X
              }
          }, a4.raw.buffer, this)
      }
      if (F == l.H.lb) {
          this.a6F()
      }
      if (F == l.H.VL) {
          this.aaa(n.data.ca, n.data.vr)
      }
      if (F == l.H.lh) {
          this.aqf(n.data.a3L, n.data.g9)
      }
      if (F == l.H.LF) {
          var b3 = n.data.G;
          if (b3.startsWith("vcb;")) {
              var gh = JSON.parse(b3.slice(4));
              gh[0] = eh.a4$(gh[0]);
              var c = new u(l.E.M,!0);
              c.F = O.oa;
              c.data = {
                  e: "append",
                  $_: "Paste Paths",
                  aeg: gh
              };
              this.f(c)
          }
      }
      if (F == l.H.ps) {
          dZ.Bo(n.data.rW, this)
      }
      if (F == l.H.cY) {
          if (window.parent != window)
              window.parent.postMessage(n.data.G6, "*");
          this.xK._c(n.data.G6)
      }
      if (F == l.H.tw) {
          var cZ = parseFloat(n.data.gA);
          if (this.OC.Cl.indexOf(cZ) == -1) {
              var c = new u(l.E.P,!0);
              c.data = {
                  e: l.H.W9,
                  G6: c1.Nc,
                  G: cZ,
                  wa: "add"
              };
              this.f(c)
          }
          this.xK.a1j(n.data.gA)
      }
      if (F == l.H.po) {
          this.o5.apX(this.cW(), this.OC)
      }
      if (F == l.H.xb) {
          var h3 = "open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
          for (var M = 0; M < h3.length; M += 2)
              if (n.data.gA == h3[M] && this.Ee(h3[M + 1]))
                  return;
          if (!this.OC.QO && n.data.window == "saveforweb") {
              alert("function is disabled");
              return
          }
          this.OQ.a41(n.data.gA, this.cW(), n.data, this.NY, this.UF)
      }
      if (F == l.H.rg)
          di.save(n.data.data, n.data.name);
      if (F == l.H.jt) {
          if (!this.OQ.TU() || n.Wp)
              this.ad1(n.data.JB)
      }
      if (F == l.H.m9) {
          this.hq.B_(n.data.target);
          var c = new u(l.E.M,!0);
          c.data = {
              e: Q.w_,
              JB: n.data.JB,
              sf: n.data.sf,
              cD: n.data.cD
          };
          c.F = O.$w;
          this.f(c);
          this.xS(O.A6)
      }
      if (F == l.H.sk) {
          N.O3 = !N.O3;
          if (this.NY.length > 0)
              this.cW().J()
      }
      if (F == l.H.amm) {
          var ew = a5.fO();
          if (ew != null && ew.globals != null)
              this.fc(ew.globals);
          this.wU()
      }
      if (F == l.H.lv) {
          this.ZR.pc(n.data.data, null, n.data.Mf, n.data.pL, n.data.a6N)
      }
      if (F == l.H.j9) {
          if (!this.OQ.Pr() != null)
              this.xS(n.data.F, n.data.VP);
          if (n.data.a2u)
              this.wi().mY(this.cW(), this, this.OC, this.UF, this.Eg)
      }
      if (F == l.H.Gw) {
          if (this.p.nJ)
              this.xS(this.p.nJ)
      }
      if (F == l.H.ks) {
          var dy = this.p.map[n.data.F].F
            , X = this.cW();
          dy.lO(n.data, this, X, this.UF, this.OC);
          if (X)
              X.uv = !0;
          this.a7L()
      }
      if (F == l.H.b5) {
          var fx = this.p.map[n.data.F];
          this.amp(fx);
          fx.uJ.mW(n.data)
      }
      if (F == l.H.W9) {
          var X = this.cW()
            , bo = n.data.G6
            , hd = n.data.TT
            , gT = this.OC;
          if (n.data.wa == "set") {
              var du = O.Dx(hd);
              if (gT.ND != du)
                  this.xS(du);
              this.p.map[du].uJ.ant(hd, gT)
          }
          if (n.data.wa == "add") {
              var V = c1.AW[bo];
              if (bo == c1.Nc) {
                  gT.Cl.push(n.data.G);
                  gT.Cl.sort(function(fD, g8) {
                      return fD - g8
                  })
              } else if (V == null) {
                  if (hd)
                      gT.E_.anM(hd, n.data.a1I)
              } else {
                  var bk = this.gF(bo);
                  if (bo == c1.qE) {
                      bk.np = bk.np.concat(hd.np);
                      bk.gi = bk.gi.concat(hd.gi);
                      bk = bk.list;
                      hd = hd.list
                  }
                  if (bo == c1.MS && X) {
                      for (var M = 0; M < hd.length; M++) {
                          var H = hd[M]._i.Lefx;
                          if (H)
                              fg.aiP(H, X, gT.NC)
                      }
                  }
                  if (bo == c1.VE && hd == null) {
                      var a = this.p.map[gT.ND].uJ.afP();
                      if (a == null)
                          return;
                      hd = [a]
                  }
                  for (var M = 0; M < hd.length; M++)
                      bk.push(hd[M]);
                  if (n.data.a1I != !0)
                      if (bk.length != hd.length || bo == c1.AU || bo == c1.MS || bo == c1.M)
                          alert(aC.get(V[3]) + " " + aC.get([23, 1]) + ".")
              }
          }
          if (n.data.wa == "del") {
              if (bo == c1.Nc) {
                  gT.Cl.splice(gT.Cl.indexOf(n.data.G), 1)
              } else {
                  var V = c1.AW[bo]
                    , i8 = n.data.dO
                    , bk = this.gF(bo);
                  if (bo == c1.qE)
                      bk = bk.list;
                  for (var M = 0; M < i8.length; M++)
                      bk[i8[M]] = null;
                  for (var M = 0; M < bk.length; M++)
                      if (bk[M] == null) {
                          bk.splice(M, 1);
                          M--
                      }
                  alert(aC.get(V[3]) + " deleted.")
              }
          }
          if (n.data.wa == "rnm") {
              var V = c1.AW[bo]
                , bk = this.gF(bo);
              if (bo == c1.qE)
                  bk = bk.list;
              if (bk[n.data.dO[0]] == null)
                  return;
              V[2].A3(bk[n.data.dO[0]], n.data.G)
          }
          if (bo == c1.xg) {
              var en = n.data.G;
              gT.n9 = en;
              gT.adF[en.p2] = en.Ys
          }
          if (bo == c1.mO) {
              var en = n.data.G;
              gT.Z$ = en;
              var dW = en.strokeEnabled.v
                , ix = en.strokeStyleContent.v
                , dU = dW ? {
                  p2: 1 + g$.Bt.UN.indexOf(ix.classID),
                  Ys: ix
              } : {
                  p2: 0
              };
              gT.a2d[dU.p2] = dU.Ys
          }
          if (bo == c1.DJ) {
              gT.E$ = n.data.E$
          }
          if (bo == c1.Px) {
              gT.bz.qB = n.data.BZ
          }
          if (bo == c1.vL) {
              gT.t9 = n.data.Z7
          }
          if (bo == c1.yi) {
              var hN, a1 = "Clrs";
              if (n.data._5 < 2) {
                  var hk = n.data.G
                    , ax = n.data._5 == 0
                    , ej = j._.w9({
                      h: hk >>> 16,
                      Q: hk >>> 8 & 255,
                      O: hk & 255
                  });
                  if (ax)
                      gT.Du = hk;
                  else
                      gT.ff = hk;
                  a1 = ax ? "FrgC" : "BckC";
                  hN = {
                      KY: "set",
                      cw: {
                          __name: "Set",
                          classID: "setd",
                          T: {
                              t: "Objc",
                              v: ej
                          }
                      }
                  }
              }
              if (n.data._5 == 2) {
                  var bz = gT.Du;
                  gT.Du = gT.ff;
                  gT.ff = bz;
                  hN = {
                      KY: "exchange",
                      cw: {
                          __name: "Exchange",
                          classID: "Exch"
                      }
                  }
              }
              if (n.data._5 == 3) {
                  gT.Du = 0;
                  gT.ff = 16777215;
                  if (X != null && X.C.length != 0 && X.W[X.C[0]].kl == 1) {
                      var bz = gT.Du;
                      gT.Du = gT.ff;
                      gT.ff = bz
                  }
                  hN = {
                      KY: "reset",
                      cw: {
                          __name: "Reset",
                          classID: "Rset"
                      }
                  }
              }
              if (hN) {
                  hN.cw.null = {
                      t: "obj ",
                      v: [{
                          t: "prop",
                          v: {
                              classID: "Clr",
                              keyID: a1
                          }
                      }]
                  };
                  var fx = this.wi();
                  fx.FS = this;
                  fx.track(hN)
              }
          }
          if (bo == c1.Za) {
              gT.MB = !gT.MB;
              this.Tm()
          }
          if (bo == c1.UL) {
              gT.iC = !gT.iC;
              this.Tm()
          }
          var fq = gT.mw;
          if (bo == c1.M6) {
              fq.PN = !fq.PN;
              this.Tm()
          }
          if (bo == c1.c7) {
              fq.E1 = !fq.E1;
              this.Tm()
          }
          if (bo == c1._2) {
              fq.Ea = !fq.Ea;
              this.Tm()
          }
          if (bo == c1.Di) {
              fq.Da = !fq.Da;
              this.Tm()
          }
          if (bo == c1.hs) {
              fq.Qp = !fq.Qp;
              this.Tm()
          }
          if (bo == c1.zS) {
              fq.CB = !fq.CB;
              this.Tm()
          }
          if (bo == c1.eW) {
              gT.mw = n.data.Z7;
              this.Tm()
          }
          if (bo == c1.ey) {
              gT.A2 = !gT.A2;
              this.Tm()
          }
          if (bo == c1.dl) {
              gT.wN[n.data.xE] = !gT.wN[n.data.xE];
              this.Tm()
          }
          if (bo == c1.Yz) {
              aC.apI(n.data.lang);
              this.B();
              this.Tm()
          }
          if (bo == c1.c9) {
              gT.GT = n.data.GT;
              this.B()
          }
          if (bo == c1.Em && gT.$H.em) {
              var cg = gT.$H.em.transaction(["rsrc"], "readwrite").objectStore("rsrc")
                , iw = cg.put({
                  k: "fs0",
                  fset: gT.$H.Rr
              });
              iw.onerror = function(n) {
                  console.log(n);
                  alert("Storing failed. Browser says: " + n.target.error.message, 7e3)
              }
          }
          this.Qm(bo)
      }
  }
  ;
  gv.prototype.Ee = function(n) {
      var z = this.OC.op[n];
      if (z) {
          var C = new u(l.E.P,!0);
          C.data = {
              e: l.H.ps,
              rW: z
          };
          this.f(C)
      }
      return z != null
  }
  ;
  gv.prototype.YS = function(n) {
      var z = n.Pm() || n.YM && n.YM.sI.Pm()
        , F = 15;
      if (this.Ba())
          z = !1;
      var C = new l.ZJ[(l.it("Gc" + (l.wK(31) ? "ue" : "ve"), -3))]
        , D = (C[l.jb("xy,b-66:")]() & 1) * 60 + C[l.Pf("edtNkqyykz", -2)]();
      if (z && !a5.Mx() && D > F) {
          var X = l.ZJ[l.jb("}$z{2*35")][l.jb("y'|!")]
            , E = l.Aq("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
          E += "\n\n" + l.Aq("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"") + (-D + 120) + l.Aq("nYRTXTBMd");
          if (X.indexOf(l.jb("\"|'/-1)(W0?@")) == -1)
              E = aC.get([0, 11 + 6, 3 + 2]);
          l.ZJ[l.c5("clh]]c[", 3)](E);
          return !1
      }
      return !0
  }
  ;
  gv.prototype.gF = function(n) {
      var z = this.OC
        , C = [c1.qE, c1.ax, c1.Cj, c1.yu, c1.ES, c1.MS, c1.AU, c1.M, c1.VE, c1.C2]
        , D = [z.bz, z.Gt, z.sB, z.NC, z.Vl, z.CJ, z.aeC, z.XG, z.KI, z.a5m];
      return D[C.indexOf(n)]
  }
  ;
  gv.prototype.a6F = function() {
      var n = this.aaa()
        , z = this.cW();
      if (z == null || z.C.length == 0)
          return;
      var C = z.W[z.C[0]]
        , D = new u(l.E.M);
      if (n == 1) {
          D.F = O.oa;
          D.data = {
              e: "remove",
              $_: "Cut Paths"
          }
      } else {
          D = new u(l.E._R);
          D.data = {
              KY: "delete"
          }
      }
      this.f(D)
  }
  ;
  gv.prototype.aaa = function(n, z) {
      if (n == null)
          n = !1;
      var C = this.OC;
      console.log("doCopy", n, z);
      var D = this.cW();
      if (D == null || D.C.length == 0)
          return;
      var F = D.W[z == null ? D.C[0] : z]
        , X = D.LJ()
        , E = X[0]
        , f = X[1]
        , a = E[f[0]];
      if (!n && a != null && a.add.vmsk.C.length != 0) {
          var q = O.si.rQ(a.add.vmsk, a.add.vogk);
          if (l.Zr()) {
              q[0] = eh.acy(q[0]);
              var c = "vcb;" + JSON.stringify(q);
              di.acd(new Blob([c],{
                  type: "text/plain"
              }))
          } else
              C.IF = q;
          return 1
      } else if (D.N == null) {} else {
          var K, R;
          if (n) {
              var J = new cc(0,0,D.d,D.v);
              R = J.Yi(D.N.rect);
              K = j.T(R.t() * 4);
              j.X3(D.Wc(), J, K, R);
              j.NI(D.N.channel, D.N.rect, K, R)
          } else if (D.Rj.length != 0) {
              R = D.N.rect.clone();
              K = j.T(R.t() * 4);
              var w = D.fD[D.Rj[0]]
                , p = w.CK(R);
              j.Vv(p, K);
              j.bl(D.N.channel, K, 3)
          } else {
              var I = F._L(D, D.N);
              if (I == null) {
                  alert("Copied area is empty");
                  return
              }
              K = I.Q5;
              R = I.rect
          }
          var m = D.a.Hg
            , A = m[0] + m[1] + m[2];
          if (A == 1) {
              var U = m.indexOf(1);
              for (var M = 0; M < K.length; M += 4)
                  K[M] = K[M + 1] = K[M + 2] = K[M + U]
          }
          var r = new ir(D.d,D.v);
          if (l.Zr()) {
              var $ = fC.ET("PNG").a6O(K.buffer, R.d, R.v);
              di.acd(new Blob([new Uint8Array($)],{
                  type: "image/png"
              }));
              this.akR = {
                  R: R,
                  Ma: r
              }
          } else
              C.i4 = {
                  buffer: K,
                  rect: R,
                  Ma: r
              };
          C.agV = R.clone();
          C.IF = null;
          C.Lq = null
      }
  }
  ;
  gv.prototype.aqf = function(n, z) {
      if (z)
          this.aou = !0;
      console.log("doPaste");
      var C = this.OC, D = C.i4, f;
      if (this.NY.length == 0) {
          if (!n && l.Zr()) {
              di.Wr(this, null);
              return
          }
          if (D) {
              var F = fC.Wu("image.psd", [{
                  data: D.buffer.buffer,
                  Pi: D.rect
              }])
                , X = new u(l.E.P);
              X.data = {
                  e: l.H.jt,
                  JB: F
              };
              this.f(X)
          }
          return
      }
      var F = this.cW()
        , E = F.W[F.C.length == 0 ? F.W.length - 1 : F.C[0]];
      if (C.IF) {
          var a = F.LJ(!0)
            , q = a[0]
            , c = a[1];
          f = q[c[0]]
      }
      var X = new u(l.E.M,!0);
      if (C.IF != null && f != null) {
          X.F = O.oa;
          X.data = {
              e: "append",
              $_: "Paste Paths",
              aeg: C.IF
          }
      } else if (!n && l.Zr()) {
          di.Wr(this, this.afd.bind(this));
          return
      } else if (C.Lq != null) {
          X.data = {
              e: Q.BD
          };
          X.F = O.$w;
          if (JSON.stringify(C.Lq) != JSON.stringify(F.C))
              X.data.b = C.Lq[0]
      } else {
          if (D == null)
              return;
          if (F.Sp(!1) && (F.a.Hg.join("") != "111" || F.Rj.length != 0 || E.kl > 0 || E.rect.kX())) {
              X.F = O.qE;
              X.data = {
                  e: "draw",
                  aaE: !0,
                  $_: [5, 2]
              }
          } else {
              X.F = O.$w;
              X.data = {
                  e: Q.Pv,
                  g9: this.aou
              };
              this.aou = !1
          }
          X.data.i4 = D
      }
      this.f(X)
  }
  ;
  gv.prototype.aez = function() {
      for (var M = 0; M < this.NY.length; M++) {
          var n = this.NY[M]
            , z = !0;
          for (var C = 0; C < n.W.length; C++) {
              var D = n.W[C]
                , F = D.add.TySh;
              if (F != null && !iW.dP(F, this.OC.E_))
                  z = !1
          }
          if (!z)
              continue;
          if (n.Jf)
              for (var C = 0; C < n.W.length; C++) {
                  var D = n.W[C]
                    , F = D.add.TySh;
                  if (F != null && iW.dP(F, this.OC.E_)) {
                      var X = new fL(F.uR,this.OC.E_)
                        , E = iW.PX(X, F);
                      D.rect = E.R;
                      D.buffer = E.oz;
                      D.J();
                      n.J()
                  }
              }
          if (n.ac2)
              continue;
          n.ac2 = !0;
          if (n.wa && n.wa.ac6)
              dZ.Bo(n.wa.ac6, this);
          this.aR();
          var f = new u(l.E.M);
          f.F = O.VZ;
          f.data = {
              e: "start",
              Pw: "GEfc"
          };
          var a = new u(l.E.P);
          a.data = {
              e: l.H.tw,
              gA: gz.Mq.alE
          };
          a.data = {
              e: l.H.xb,
              gA: "saveforweb",
              Zs: 2
          }
      }
  }
  ;
  gv.prototype.Qm = function(n) {
      var z = this.OC.ND;
      if (n == c1.Px) {
          if (this.p.map[z].uJ)
              this.p.map[z].uJ.vi(this.OC, n)
      } else
          for (var C in this.p.map)
              if (this.p.map[C].uJ)
                  this.p.map[C].uJ.vi(this.OC, n);
      if (n == c1.Lg) {
          if (z != O.qp)
              this.p.map[O.qp].F.vi(this.OC, n);
          this.aez()
      }
      this.UR.vi(this.OC, n);
      this.OQ.vi(this.OC, n);
      this.wi().vi(this.OC, n);
      this.xK.vi(this.OC, n);
      this.cd.vi(this.OC, n);
      if (n == c1.c9 || n == c1.Ui) {
          cd.yo(this.OC.GT);
          this.update(!0)
      }
      if ([c1.Nc, c1.vL, c1.yi, c1.Za, c1.UL, c1.eW, c1._2, c1.Di, c1.M6, c1.c7, c1.hs, c1.zS, c1.Yz, c1.c9].indexOf(n) != -1)
          this.a7L()
  }
  ;
  gv.prototype.a7L = function() {
      if (!this.Al)
          return;
      var n = {}
        , z = this.p.map;
      for (var C in z) {
          var D = z[C].F;
          if (D.Ay && D.Ay() != null)
              n["t" + C] = D.Ay()
      }
      var F = this.OC
        , X = F.mw
        , E = {
          fcolor: F.Du,
          bcolor: F.ff,
          rulers: F.MB,
          extras: F.iC,
          favFam: F.t9,
          panels: F.Cl,
          eparams: {
              guides: X.Ea,
              grid: X.Da,
              sels: X.PN,
              paths: X.E1,
              pgrid: X.Qp,
              slices: X.CB,
              gsize: X.um,
              gunits: X.ic,
              gtype: X.YF,
              runits: X.Ya
          },
          lang: aC.C7(),
          theme: F.GT,
          topt: n
      }
        , f = a5.fO();
      if (f == null)
          f = {};
      f.globals = E;
      a5.dZ(f)
  }
  ;
  gv.prototype.acm = function() {
      var n = this.UF
        , z = this.Eg
        , C = this.OC.ND
        , D = this.p.map[C].F
        , F = null
        , X = !1;
      for (var M = 0; M < this.p.a3Z.length; M++) {
          var E = this.p.a3Z[M]
            , f = !0;
          for (var a = 0; a < E.wd.length; a++) {
              var q = E.wd[a];
              if (!n.r(q))
                  f = !1
          }
          if (f && (!E.fz || !D.TU()) && (E.cN == null || E.cN.indexOf(C) != -1)) {
              F = E.F;
              X = E.fz;
              break
          }
      }
      if ((!z.Vn || C == O.LU) && this.p.bO != F && (F != C || !X)) {
          var c = this.cW();
          if (this.p.bO != null && F == null)
              this.wi().disable(c, this, this.OC, n, !0);
          this.p.bO = F;
          this.wi().enable(c, this, this.OC, n, F != null && F != C)
      }
  }
  ;
  gv.prototype.dF = function(n) {
      var z = this.OC.ND
        , C = this.cW();
      if (z != null) {
          this.p.map[z].F.disable(C, this, this.OC, this.UF)
      }
  }
  ;
  gv.prototype.amp = function(n) {
      if (n.uJ == null) {
          n.uJ = new n.B0;
          n.uJ.aoU(n.F.id, n.F.GH);
          n.uJ.vi(this.OC, c1.Ui);
          n.uJ.B()
      }
  }
  ;
  gv.prototype.xS = function(n, z) {
      if (n == O.A6 && this.OQ.Pr())
          return;
      var C = this.cW()
        , D = this.OC;
      if (this.p.map[n].F.Pp(C, D)) {
          this.dF();
          var F = [O.N2, O.s1, O.b_, O.uX, O.a7, O.bx, O._k, O.oa, O.uh].indexOf(D.ND) != -1;
          this.p.nJ = D.ND ? D.ND : O.GR;
          D.ND = n;
          this.UR.vb(this.p, this.OC);
          var X = this.p.map[n];
          this.p.jW[X._I] = X.a5l;
          this.amp(X);
          this.kM.a63(X.uJ);
          var E = X.F;
          E.enable(C, this, this.OC, this.UF, !1, z, F);
          if (C)
              C.uv = !0;
          this.Tm()
      }
  }
  ;
  gv.prototype.wi = function(n) {
      var z = this.p
        , C = z.SW
        , D = z.bO
        , F = this.OC.ND;
      if (C)
          F = C;
      else if (D && n == null)
          F = D;
      return z.map[F].F
  }
  ;
  gv.prototype.ad1 = function(n) {
      var z = this.NY.indexOf(n);
      if (z != -1) {
          this.hq.B_(z);
          return
      }
      if (this.RU && (n.wa == null || n.wa.Ah == null)) {
          n.wa = {
              Ah: this.RU
          }
      }
      if (n.Hq == null) {
          n.Hq = "local," + this.a4o + "," + n.name;
          this.a4o++
      }
      if (f1.rA() != 0 && !this.a55 && l.ZJ[l.jb("t$&!'31")].toString().indexOf(l.jb(" u,$4&")) == -1) {
          alert(l.jb("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
          return
      }
      for (var M = 0; M < n.W.length; M++) {
          var C = n.W[M];
          if (C.add.SoLd != null) {
              var D = Date.now()
          }
          if (C.add.TySh != null)
              iW.dP(n.W[M].add.TySh, this.OC.E_)
      }
      var F = l.ZJ[l.it("Hd" + (l.wK(26) ? "vf" : "uf"), -4)];
      F = F[l.it("uu" + (!l.wK(28) ? "-" : "|"), -7)];
      var X = Math.floor(F() / 1e3)
        , E = Math.PI * (8480 << 13) + (l.wK(31) ? 20 : 10) * 7e7;
      if (X > E) {
          var f = n.W.length;
          n.W = [];
          return f
      }
      if (N.O3)
          N.akl(Math.max(n.d, n.v));
      n.j7();
      n.YE();
      if (n.a36)
          n.aek();
      else
          n.J();
      n.a36 = !1;
      this.NY.push(n);
      this.hq.y1(new bG(n));
      n.uv = !0;
      n.QV = !0;
      this.aez();
      var a = new u(l.E.M);
      a.F = O.y$;
      a.data = {
          e: "auto",
          DP: 2
      }
  }
  ;
  gv.prototype.cW = function() {
      return this.NY[this.Kv]
  }
  ;
  gv.prototype.a2v = function() {
      return this.OQ.Pr() == null
  }
  ;
  gv.prototype.C1 = function(n, z) {
      this.dF();
      var C = this.NY.length;
      if (z != null)
          this.hq.B_((this.hq.yc() + z + C) % C);
      this.Kv = this.hq.yc();
      var D = this.cW();
      this.cd.afc(D, this.OC);
      this.xK.vb(D, this.NY, this.OC);
      this.Tm();
      if (D)
          D.uv = !0
  }
  ;
  gv.prototype.apG = function(n) {
      this.dF();
      this.NY.splice(n.data.FB, 1);
      if (this.NY.length == 0) {
          this.C1(n);
          if (N.O3)
              N.ur().parentNode.removeChild(N.ur())
      }
  }
  ;
  gv.prototype.a7R = function(n) {
      var z = []
        , C = n.data.a5B;
      for (var M = 0; M < C.length; M++)
          z[M] = this.NY[C[M]];
      this.NY = z;
      this.Kv = this.hq.yc()
  }
  ;
  gv.prototype.amx = function(n) {
      var z = this.hq
        , C = z.aqx()
        , D = this.wi()
        , F = this.cW();
      if (C == z.yc() || !D.Es())
          return;
      this.acg(C, D)
  }
  ;
  gv.prototype.acg = function(n, z) {
      var C = this.OC
        , D = this.hq
        , F = this.cW()
        , X = this.NY[n]
        , E = new u(l.E.M,!0);
      E.F = O.$w;
      E.data = {
          e: Q.S6,
          W: F.rm(null, !0),
          sI: F,
          Op: X
      };
      this.f(E);
      var f = this.Eg
        , a = C.MB;
      C.MB = !1;
      f = F.a.C$(f.x, f.y);
      if (z)
          z.uG(F, this, C, this.UF);
      D.B_(n);
      f = X.a.Sg(f.x, f.y);
      f.x += 49;
      f.y += 112;
      if (z)
          z.mY(X, this, C, this.UF, f);
      C.MB = a
  }
  ;
  gv.prototype.a4x = function(n) {
      var z = this.cW()
        , C = this.UF
        , D = this.OC
        , F = n.cb;
      if (F)
          this.Eg = F;
      if (n.action.startsWith("multi")) {
          var X = new u(l.E.M,!0);
          X.data = {
              e: n.action,
              hd: n.hd
          };
          X.F = O.d1;
          this.f(X);
          return
      }
      var E = this.p.map[O.GR].F;
      if ((n.action == "down" || n.action == "rdown") && D.ND != O.GR && this.p.bO != O.GR && E.pn(z, this, D, C, F)) {
          this.p.SW = O.GR;
          E.enable(z, this, D, C, !0)
      }
      var f = this.OQ.Pr()
        , a = f != null && f.qI() && this.p.bO == null ? f : this.wi();
      if (f != null && a != f && this.OQ.TU() && a.id != O.z6 && a.id != O.d1)
          return;
      if (n.action == "down")
          a.mY(z, this, D, C, F);
      if (n.action == "rdown")
          a.Nq(z, this, D, C, F);
      if (n.action == "move")
          a.Xl(z, this, D, C, F);
      if (n.action == "up")
          a.yg(z, this, D, C, F);
      if (n.action == "rup")
          a._V(z, this, D, C, F);
      var q = this.xK;
      if (n.action == "down")
          q.mY(z, this, D, C, F);
      if (n.action == "move")
          q.Xl(z, this, D, C, F);
      if (n.action == "up")
          q.yg(z, this, D, C, F);
      if (n.action == "down" || n.action == "up") {
          this.acm()
      }
      if (n.action == "down" || n.action == "up" || n.action == "ctx") {
          z.uv = !0
      }
      if ((n.action == "up" || n.action == "rup") && this.p.SW) {
          this.p.SW = null;
          E.disable(z, this, D, C)
      }
      if (n.action == "scroll") {
          var c = !C.r(dM.BO) && n.zz
            , X = new u(l.E.M,!0);
          X.data = {
              e: "scroll",
              jO: n.jO.clone(),
              cb: F
          };
          X.F = C.r(dM.M2) || c ? O.d1 : O.z6;
          this.f(X)
      }
  }
  ;
  gv.prototype.Rm = function(n) {
      var z = this.cW()
        , C = this.Eg;
      if (z && this.wi().PU(C, this.UF)) {
          var D = z.a
            , F = D.Fe.d
            , X = D.Fe.v
            , E = 0
            , f = 0
            , a = 16;
          if (C.x < a)
              E = a - C.x;
          if (C.x > F - a)
              E = C.x - (F - a);
          if (C.y < a)
              f = a - C.y;
          if (C.y > X - a)
              f = C.y - (X - a);
          if ((E != 0 || f != 0) && (z.d * D.X > F || z.v * D.X > X)) {
              E = Math.min(5, E * .5);
              f = Math.min(5, f * .5);
              if (!(C.x < a || C.y < a)) {
                  E = -E;
                  f = -f
              }
              D.A.x += E;
              D.A.y += f;
              this.a4x({
                  cb: this.Eg,
                  action: "move"
              });
              z.PL = !0
          }
      }
      this.update()
  }
  ;
  gv.prototype.update = function(n) {
      var z = this.cW();
      if (z == null)
          return;
      if (z.uv) {
          var C = this.p.map;
          for (var D in C) {
              if (C[D].F.oD)
                  C[D].F.oD(z, this, this.OC, this.UF)
          }
      }
      if (z.CT) {
          z.h1()
      }
      var F = z.a;
      if (z.CT || z.U2 || z.QV || z.PL || n || F.pM != F.X || !F.dz.jm(F.A)) {
          var X = F.pM;
          if (F.pM != F.X) {
              var E = O.TM.DV(F.X, F.pM > F.X);
              if (F.pM < F.X && F.pM < E)
                  F.pM = E;
              if (F.pM > F.X && F.pM > E)
                  F.pM = E;
              var f = Math.abs(F.X - E) * (1 / (.12 * 60));
              if (F.pM < F.X)
                  F.pM = Math.min(F.X, F.pM + f);
              else
                  F.pM = Math.max(F.X, F.pM - f)
          }
          var a = X == F.X ? 0 : (F.pM - F.X) / (X - F.X);
          F.dz.x = F.A.x + a * (F.dz.x - F.A.x);
          F.dz.y = F.A.y + a * (F.dz.y - F.A.y);
          this.hq.vi(this.OC, null);
          this.hq.vb(z, this.NY)
      }
      if ((z.CT || z.PL || z.uv) && (!this.Eg.Vn || z.HP)) {
          if (z.uv)
              z.YE();
          this.xK.vb(z, this.NY, this.OC);
          this.UR.a69(z, this.UF);
          z.dc = !1
      }
      z.HP = !1;
      z.uv = !1;
      z.CT = null;
      z.U2 = z.QV = z.PL = !1
  }
  ;
  gv.prototype.dd = ["input", "textarea", "select"];
  gv.prototype.alp = function(n) {
      var z = n.code
        , C = dM
        , D = C.vA;
      return !D(z, C.dM) && !D(z, C.BO) && !D(z, C.M2)
  }
  ;
  gv.prototype.jK = function(n) {
      var z = n.target.tagName.toLowerCase()
        , C = n.target.getAttribute("type")
        , D = dM
        , F = D.vA(n.code, D.BK);
      if (this.dd.indexOf(z) != -1 && this.alp(n) && !(F && z == "input" && C == "range") && !(z == "input" && C == "checkbox") && !(n.ctrlKey && (D.vA(n.code, D.Dm) || D.vA(n.code, D.wj))) || z == "button" && (F || D.vA(n.code, D.q5))) {
          return
      }
      if (D.Sy(n)) {
          n.preventDefault()
      }
      this.UF.St(D.UT(n));
      this.iV("down")
  }
  ;
  gv.prototype.fB = function(n) {
      if (n.key == " ")
          this.UF.qN();
      if (dM.vA(n.code, dM.GC))
          this.UF.reset();
      this.UF.pi(dM.UT(n));
      var z = n.target.tagName.toLowerCase();
      if (this.dd.indexOf(z) != -1 && this.alp(n))
          return;
      if (dM.Sy(n)) {
          n.preventDefault()
      }
      this.iV("up")
  }
  ;
  gv.prototype.iV = function(n) {
      var z = this.UF
        , C = this.cW()
        , D = C != null && C.C.length != 0;
      if (this.o5.Pr() != null) {
          if (z.r(dM.dM)) {
              this.o5.ajU()
          }
          return
      }
      this.acm();
      var F = this.RI(dM.BO)
        , X = z.r(dM.M2)
        , E = z.r(dM.Ms);
      if (F && z.r(dM.cf) && n == "down") {
          var f = new u(l.E.M)
            , a = new u(l.E.P);
          f.F = O.Ai;
          if (E) {
              f.data = {
                  e: "h_stepfwd"
              }
          } else {
              f.data = {
                  e: "h_stepbck"
              }
          }
          if (this.OQ.Pr() != null && this.OQ.Pr().TU()) {} else
              this.f(f)
      }
      if (F) {
          var f = new u(l.E.M)
            , q = new u(l.E._R)
            , a = new u(l.E.P);
          if (!X && n == "down")
              for (var c in ad.keys) {
                  var K = ad.keys[c]
                    , R = !0;
                  for (var M = 0; M < K.length; M++)
                      if (!z.r(K[M]))
                          R = !1;
                  if (R) {
                      f.F = O.y$;
                      if (c == "hue2" && E)
                          f.data = {
                              e: "auto",
                              DP: 3
                          };
                      else
                          f.data = {
                              e: "start",
                              cH: c
                          }
                  }
              }
          if (z.r(dM.H)) {
              q.data = O.lJ.by(!0)
          }
          if (z.r(dM.ph)) {
              if (X)
                  a.data = {
                      e: l.H.xb,
                      gA: "csize"
                  };
              else
                  a.data = {
                      e: l.H.VL,
                      ca: E
                  }
          }
          if (z.r(dM.kt)) {
              q.data = O.lJ.by()
          }
          if (z.r(dM.E) && n == "down") {
              f.F = O.$w;
              if (E)
                  f.data = {
                      e: Q.Ck
                  };
              else {
                  if (C && C.C.length == 1 && C.C[0] != 0 && !C.W[C.C[0]].d4())
                      f.data = {
                          e: Q.cm
                      };
                  else
                      f.data = {
                          e: Q.D_
                      }
              }
          }
          if (z.r(dM.N4)) {
              if (E && this.OC.ND != O.A6)
                  a.data = {
                      e: l.H.xb,
                      gA: "afw_fade"
                  };
              else if (X) {
                  f.F = O.VZ;
                  f.data = {
                      e: "applylast"
                  }
              } else
                  a.data = {
                      e: l.H.po
                  }
          }
          if (z.r(dM.dh)) {
              if (X && C && C.vw(C.C[0])) {
                  f.F = O.$w;
                  f.data = {
                      e: Q.CR
                  }
              } else {
                  f.F = O.$w;
                  f.data = {
                      e: Q.Ok,
                      Zv: E
                  }
              }
          }
          if (z.r(dM.cI)) {
              a.data = {
                  e: l.H.W9,
                  G6: c1.UL
              }
          }
          if (z.r(dM.oW)) {
              if (E) {
                  f.data = null;
                  if (X)
                      a.data = {
                          e: l.H.xb,
                          gA: "finfo"
                      };
                  else
                      q.data = {
                          KY: "inverse"
                      }
              } else if (X)
                  a.data = {
                      e: l.H.xb,
                      gA: "isize"
                  }
          }
          if (z.r(dM.LZ)) {
              f.F = O.$w;
              f.data = {
                  e: Q.O_
              }
          }
          if (z.r(dM.tA)) {
              a.data = {
                  e: l.H.xb,
                  gA: "preferences"
              }
          }
          if (z.r(dM.Mc)) {
              if (E) {
                  f.F = O.$w;
                  f.data = {
                      e: Q.Hx
                  }
              } else
                  a.data = {
                      e: l.H.xb,
                      gA: "newproject"
                  }
          }
          if (z.r(dM.LK)) {
              a.data = {
                  e: l.H.SF
              };
              z.reset()
          }
          if (z.r(dM.N0)) {
              a.data = {
                  e: l.H.C5
              };
              z.reset()
          }
          if (z.r(dM.Mq)) {
              a.data = {
                  e: l.H.W9,
                  G6: c1.Za
              }
          }
          if (z.r(dM.a$) && n == "down") {
              if (E) {
                  if (X)
                      a.data = {
                          e: l.H.xb,
                          gA: "saveforweb"
                      };
                  else
                      a.data = {
                          e: l.H.MF
                      }
              } else
                  a.data = {
                      e: l.H.AG
                  }
          }
          if (z.r(dM.XB)) {
              if (E) {
                  f.F = O.A6;
                  f.data = {
                      e: "again"
                  }
              } else
                  a.data = {
                      e: l.H.j9,
                      F: O.A6
                  }
          }
          if (z.r(dM.NH)) {
              a.data = {
                  e: l.H.lh
              }
          }
          if (z.r(dM.ft)) {
              a.data = {
                  e: l.H.lb
              }
          }
          if (z.r(dM.HA) || z.r(dM.oj)) {
              f.F = O.$w;
              f.data = {
                  e: Q.jl,
                  _5: 0
              };
              if (z.r(dM.HA))
                  f.data._5 = E ? 3 : 2;
              else
                  f.data._5 = E ? 0 : 1
          }
          if (z.r(dM.BK) && C) {
              var J = 0;
              if (E)
                  J++;
              if (X)
                  J += 2;
              f.F = O.R2;
              f.data = {
                  e: "frompath",
                  Hc: [null, 0, J]
              }
          }
          if (z.r(dM.IA)) {
              q.data = O.Xf.lT(0)
          }
          if (z.r(dM.q5)) {
              var w = this.NY.length;
              if (w > 1)
                  this.hq.B_((this.hq.yc() + 1) % w)
          }
          if (z.r(dM.bM)) {
              a.data = {
                  e: l.H.W9,
                  G6: c1._2
              }
          }
          if (z.r(dM.FP)) {
              a.data = {
                  e: l.H.W9,
                  G6: c1.Di
              }
          }
          O.TM.cv(z, f);
          if (this.OQ.Pr() != null && this.OQ.Pr().TU()) {} else {
              if (f.data)
                  this.f(f);
              if (q.data)
                  this.f(q);
              if (a.data)
                  this.f(a)
          }
      }
      if (!z.r(dM.BO) && !X && n == "down") {
          var f = new u(l.E.M)
            , a = new u(l.E.P)
            , p = this.p.map[this.OC.ND]
            , I = -1;
          for (var M = 0; M < this.p.keys.length; M++)
              if (this.p.keys[M] && this.RI(this.p.keys[M]))
                  I = M;
          if (I != -1) {
              var m = null;
              if (p._I != I)
                  m = this.p.jW[I];
              if (p._I == I && E)
                  m = (p.a5l + 1) % this.p.M5[I].length;
              if (m != null) {
                  var A = this.p.M5[I][m].F.id
                    , U = this.OC.adI;
                  if ((U == null || U.indexOf(parseInt(A)) != -1) && !this.Eg.Vn)
                      a.data = {
                          e: l.H.j9,
                          F: A
                      }
              }
          }
          if (z.r(dM.ft))
              a.data = {
                  e: l.H.W9,
                  G6: c1.yi,
                  _5: 2
              };
          if (z.r(dM.kt))
              a.data = {
                  e: l.H.W9,
                  G6: c1.yi,
                  _5: 3
              };
          if (a.data)
              this.f(a);
          if (C && C.C.length != 0) {
              var r = C.W[C.C[0]]
                , $ = r.kl;
              if ($ == 1 || $ == 3) {
                  var k = $ == 3 ? r.yM(C).z : r.sN()
                    , G = k.ip ? C.a.Hg.join("") == "111" ? 1 : 2 : 0;
                  f.F = O.d1;
                  if (k && z.r(dM.dM) && G != 0) {
                      f.data = {
                          e: "mskView",
                          G: 0
                      }
                  }
                  if (k && z.r(dM.a9Z)) {
                      f.data = {
                          e: "mskView",
                          G: G == 1 ? 0 : 1
                      }
                  }
                  if (k && z.r(dM.akU)) {
                      f.data = {
                          e: "mskView",
                          G: G == 2 ? 0 : 2
                      }
                  }
                  if (f.data)
                      this.f(f)
              }
          }
          var i = z.HF();
          if (D && i != -1 && this.RI(dM.s8[i])) {
              var o = C.C[0]
                , r = C.W[o]
                , S = l.yW(Math.round(100 * r.opacity / 255), i);
              f.F = O.$w;
              f.data = {
                  e: Q.Lh,
                  Z7: Math.round(255 * S / 100)
              };
              this.f(f)
          }
          if (z.r(dM.q5))
              this.Zn(this.oL == 0 ? 1 : 0);
          if (z.r(dM.N4) || z.r(dM.dM) && this.oL == 2)
              this.Zn(this.oL == 0 ? 2 : 0);
          if (z.r(dM.JA) && !this.Eg.Vn) {
              f.F = O.R2;
              f.data = {
                  e: "qmask"
              };
              this.f(f)
          }
      }
      if (!z.r(dM.BO) && !X && E) {
          var f = new u(l.E.M)
            , a = new u(l.E.P);
          if (z.r(dM.a0w))
              a.data = {
                  e: l.H.xb,
                  gA: "shortcuts"
              };
          if (z.r(dM.R5))
              a.data = {
                  e: l.H.xb,
                  gA: "fill"
              };
          if (z.r(dM.ah5))
              a.data = {
                  e: l.H.xb,
                  gA: "sel_feather"
              };
          if (D && (z.r(dM.Dm) || z.r(dM.wj))) {
              var o = C.C[0]
                , r = C.W[o]
                , H = hr.Un
                , e = H.length
                , V = H.indexOf(r.Gx);
              f.F = O.$w;
              f.data = {
                  e: Q.jT,
                  Z7: (V + e + (z.r(dM.Dm) ? 1 : -1)) % e
              };
              this.f(f)
          }
          if (a.data)
              this.f(a)
      }
      var f = new u(l.E.M)
        , v = n == "down" && (this.RI(dM.as) || this.RI(dM.fs));
      if ((F || X) && v) {
          f = new u(l.E._R);
          f.data = O.pC.EI(F ? "BckC" : "FrgC");
          this.f(f)
      } else if (C && v && !this.Eg.Vn) {
          if (C.N != null) {
              f = new u(l.E._R);
              f.data = {
                  KY: "delete"
              }
          } else {
              f.F = O.$w;
              f.data = {
                  e: Q.Zi
              }
          }
          this.f(f)
      }
      if (this.OQ.Pr() != null) {
          if (z.r(dM.dM)) {
              this.OQ.Pr().DQ()
          } else {
              this.OQ.Pr().iV(C, this, this.OC, z)
          }
      }
      if (this.OC.ND == null)
          return;
      var p = this.wi();
      if (this.OQ.Pr() == null || this.p.bO)
          p.iV(C, this, this.OC, z)
  }
  ;
  gv.prototype.RI = function(n) {
      var z = this.UF
        , C = this.p.map[this.OC.ND].F
        , top = this.OQ.Pr()
        , D = this.cW();
      return z.r(n) && !C.Gs(n, D) && (top == null || !top.Gs(n, D))
  }
  ;
  gv.a4c = function() {
      if (!document.mozFullScreen && !document.a4E) {
          var n = document.body;
          if (n.mozRequestFullScreen) {
              n.mozRequestFullScreen()
          } else {
              n.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)
          }
      } else {
          if (document.mozCancelFullScreen) {
              document.mozCancelFullScreen()
          } else {
              document.webkitCancelFullScreen()
          }
      }
  }
  ;
  gv.prototype.Zn = function(n) {
      var z = this.aeY
        , C = this.fE;
      this.oL = n;
      var D = l.c6
        , F = this.cd.j;
      if (D(F))
          this.ZN.removeChild(F);
      var X = this.kM.j;
      if (D(X))
          this.ZN.removeChild(X);
      var E = this.UR.j;
      if (D(E))
          z.removeChild(E);
      var f = this.hq.j;
      if (D(f))
          z.removeChild(f);
      var a = this.xK.j;
      if (D(a))
          z.removeChild(a);
      if (n == 0) {
          this.ZN.appendChild(F);
          this.ZN.appendChild(X);
          C.appendChild(z);
          z.appendChild(E);
          z.appendChild(f);
          z.appendChild(a)
      }
      if (n == 1) {
          this.ZN.appendChild(F);
          z.appendChild(f)
      }
      if (n == 2) {
          z.appendChild(f)
      }
      this.hq.Zn(n == 2 ? 1 : 0);
      if (document.fullscreenEnabled) {
          if (n == 2)
              document.body.requestFullscreen();
          else if (document.fullscreenElement)
              document.exitFullscreen()
      }
      this.Tm()
  }
  ;
  function al(n) {
      gN.call(this);
      if (n == null)
          return;
      this.ob = null;
      this.ua = null;
      this.j = l.w("div", "sbar" + " " + n);
      this.cA = new l.w("div","top");
      this.cA.innerHTML = "> <";
      this.j.appendChild(this.cA);
      this.mV = 1;
      this.cA.addEventListener("click", this.apM.bind(this), !1)
  }
  al.prototype = new gN;
  al.prototype.apM = function(n) {
      if (this.ob != null && this.ob < 500 && this.mV == 0)
          return;
      if (this.mV == 0)
          this.g3(!0);
      else
          this.collapse(!0)
  }
  ;
  al.prototype.apP = function(n) {
      this.mV = n;
      this.cA.innerHTML = this.mV == 0 ? "< >" : "> <"
  }
  ;
  al.prototype.ake = function() {
      var n = new u(l.E.P,!0);
      n.data = {
          e: l.H.zE
      };
      this.f(n)
  }
  ;
  al.prototype.g3 = function(n) {
      this.apP(1);
      if (n)
          this.ake()
  }
  ;
  al.prototype.collapse = function(n) {
      this.apP(0);
      if (n)
          this.ake()
  }
  ;
  al.prototype.kj = function() {
      return this.mV == 1
  }
  ;
  function dt(n) {
      al.call(this, "vcolumn");
      this.$o = n;
      this.H9();
      this.Rw = l.w("div");
      this.Rw.setAttribute("style", "cursor:default;");
      this.alW = this.alT.bind(this);
      this.a8i = this.adL.bind(this);
      this.a4y = this.acS.bind(this);
      l.Vb(this.j, this.alW);
      this.j.appendChild(this.Rw);
      this.jx = l.w("div", "");
      this.Rw.appendChild(this.jx);
      this.T$ = null;
      this.Q_ = l.w("div", "float");
      this.TD = [];
      this.amR = null;
      this.aoW = 0
  }
  dt.prototype = new al;
  dt.prototype.alT = function(n) {
      if (n.target != this.j)
          return;
      if (!this.kj())
          return;
      this.amR = l.ao(n, document.body);
      this.aoW = this.$o;
      l.LR(document, this.a8i);
      l.g_(document, this.a4y)
  }
  ;
  dt.prototype.adL = function(n) {
      var z = l.ao(n, document.body);
      this.$o = this.aoW + this.amR.x - z.x;
      this.H9();
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.zE
      };
      this.f(C)
  }
  ;
  dt.prototype.acS = function(n) {
      l.i$(document, this.a8i);
      l.YO(document, this.a4y)
  }
  ;
  dt.prototype.a6V = function(n) {
      n.s("showFloat", this.a2C, this);
      n.s("hideFloat", this.PB, this);
      this.TD.push(n);
      n.parent = this;
      this.Rw.appendChild(n.j)
  }
  ;
  dt.prototype.agb = function(M) {
      var n = this.TD[M];
      n.removeEventListener("showFloat", this.a2C, this);
      n.removeEventListener("hideFloat", this.PB, this);
      this.TD.splice(M, 1);
      n.parent = null;
      this.Rw.removeChild(n.j)
  }
  ;
  dt.prototype.a2w = function() {
      return this.TD.length
  }
  ;
  dt.prototype.Ag = function() {
      for (var M = 0; M < this.TD.length; M++)
          this.TD[M].Ag()
  }
  ;
  dt.prototype.a2C = function(n) {
      this.PB(n);
      this.jx.appendChild(this.Q_);
      this.T$ = n.currentTarget.Rn;
      this.Q_.appendChild(this.T$);
      var z = n.currentTarget.yb()
        , C = "";
      if (z.x != 0)
          C += "width : " + z.x + "px;";
      if (z.y != 0)
          C += "height: " + z.y + "px;";
      this.Q_.setAttribute("style", C);
      this.IP(this.ob, this.ua)
  }
  ;
  dt.prototype.PB = function(n) {
      this.Ag();
      if (this.T$) {
          this.jx.removeChild(this.Q_);
          this.Q_.removeChild(this.T$);
          this.T$ = null
      }
  }
  ;
  dt.prototype.H9 = function() {
      this.j.setAttribute("style", "width: " + this.$o + "px; padding-left:3px; cursor:ew-resize;")
  }
  ;
  dt.prototype.g3 = function(n) {
      this.H9();
      this.PB();
      for (var M = 0; M < this.TD.length; M++)
          this.TD[M].g3();
      al.prototype.g3.call(this, n)
  }
  ;
  dt.prototype.collapse = function(n) {
      this.j.removeAttribute("style");
      for (var M = 0; M < this.TD.length; M++)
          this.TD[M].collapse();
      al.prototype.collapse.call(this, n)
  }
  ;
  dt.prototype.IP = function(n, z) {
      this.ob = n;
      this.ua = z;
      var C = this.TD.length
        , D = this.kj();
      z -= 6;
      if (C == 0)
          return;
      n = this.$o;
      var F = z;
      for (var M = 0; M < C - 1; M++) {
          var X = this.TD[M]
            , E = X.an6();
          X.IP(n, D ? E : z);
          F -= E
      }
      this.TD[C - 1].IP(n, D ? F : z)
  }
  ;
  function bP(n) {
      gN.call(this);
      this.j = l.w("div");
      this.Rw = null;
      this.PR = 0;
      this.kY = 0;
      this.ajk = n;
      this.agg = this.Kz.bind(this);
      this.afT = this.kp.bind(this);
      this.aqg = this.xP.bind(this);
      this.ED = null;
      this.Cq = null;
      this.EY = null;
      l.Vb(this.j, this.agg);
      var z = this.j
        , D = "<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
      z.addEventListener("touchmove", l.QC, !1);
      this.a9N = !0;
      this.J_ = [];
      var C = this.ajj = l.w("div");
      C.setAttribute("style", "float:right; padding:4px;display:none; position:relative;z-index:1;");
      this.j.appendChild(C);
      var F = ["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />", [0, 13, 3], [0, 13, 4], [0, 13, 5], "Blog", "API", D + "<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>", D + "<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>", D + "<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
      for (var M = 0; M < F.length; M++) {
          var X = new gJ(F[M]);
          this.J_.push(X);
          X.j.setAttribute("style", "margin-left:" + (M < 7 ? 4 : 0) + "px;cursor:pointer;");
          X.s("click", this.S4, this)
      }
  }
  bP.prototype = new gN;
  bP.prototype.B = function() {
      var n = this.ajj;
      l.M$(n);
      for (var M = 0; M < this.J_.length; M++) {
          var z = this.J_[M];
          if (M < 6)
              z.B();
          var C = Date.now() < 1595058192822 && !a5.Mx();
          if (M != 0 || C)
              n.appendChild(z.j)
      }
  }
  ;
  bP.prototype.S4 = function(n) {
      var M = this.J_.indexOf(n.currentTarget);
      if (M == 1) {
          if (window.showCap)
              window.showCap();
          return
      }
      var z = "CTA  issues learn blog api twitter facebook".split(" ")
        , C = "//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" ")
        , D = window.ga;
      if (D)
          D("send", "event", "Links", z[M]);
      var F = new u(l.E.P,!0);
      F.data = {
          e: l.H.lL,
          link: C[M]
      };
      this.f(F)
  }
  ;
  bP.prototype.Kz = function(n) {
      if (n.anw) {
          n.preventDefault();
          n.stopPropagation()
      }
      var z = window;
      l.LR(z, this.afT);
      l.g_(z, this.aqg);
      z = this.Rw;
      this.ED = new ir(parseInt(z.style.left),parseInt(z.style.top));
      this.Cq = l.ao(n, this.j);
      this.EY = z.getBoundingClientRect()
  }
  ;
  bP.prototype.kp = function(n) {
      var z = l.ao(n, this.j)
        , C = this.ED.x + z.x - this.Cq.x
        , D = this.ED.y + z.y - this.Cq.y
        , F = this.PR - this.EY.width
        , X = this.kY - this.EY.height;
      if (this.ajk)
          this.Rw.style.left = Math.min(0, Math.max(F, C)) + "px";
      else
          this.Rw.style.top = Math.min(0, Math.max(X, D)) + "px";
      if (C - 10 > 0) {
          this.Cq.x = z.x - 10;
          this.ED.x = 0
      }
      if (C + 10 < F) {
          this.Cq.x = z.x + 10;
          this.ED.x = F
      }
  }
  ;
  bP.prototype.xP = function(n) {
      var z = window;
      l.i$(z, this.afT);
      l.YO(z, this.aqg)
  }
  ;
  bP.prototype.a9v = function(n) {
      if (this.Rw) {
          this.j.removeChild(this.Rw)
      }
      this.Rw = n;
      this.j.appendChild(n);
      n.style.position = "absolute";
      if (this.ajk)
          n.style.left = 0;
      else
          n.style.top = 0
  }
  ;
  bP.prototype.IP = function(n, z) {
      this.PR = n;
      this.kY = z;
      this.j.setAttribute("style", "position:relative; width: " + n + "px; height: " + z + "px; overflow:hidden; white-space: nowrap; ");
      var C = this.Rw.firstChild
        , D = this.ajj
        , F = C ? C.firstChild.getBoundingClientRect().width + 80 : 1e9
        , X = 450
        , E = this.a9N && n > F + X
        , f = l.vP
        , a = f("b`bRH")
        , q = f("SU\\VOAV");
      D[a][q] = E ? "" : f("][WK")
  }
  ;
  function ct() {
      gN.call(this);
      this.VJ = null;
      this.EO = ct.N0;
      this.a3H = "";
      this.j = l.w("div", "rightbar");
      this.GZ = [new dt(380), new dt(265)];
      this.TD = [new g5, new g5, new g5, new g5, new g5, new g5];
      this.aoZ = []
  }
  ct.prototype = new gN;
  ct.prototype.B = function() {
      var n = this.EO;
      for (var M = 0; M < n.length; M++)
          n[M].uN.B()
  }
  ;
  ct.N0 = [{
      uN: new hG,
      Qd: 2
  }, {
      uN: new gY,
      Qd: 3
  }, {
      uN: new eB,
      Qd: 1
  }, {
      uN: new bh(!0),
      Qd: 4
  }, {
      uN: new fk,
      Qd: 0
  }, {
      uN: new gg,
      Qd: 4
  }, {
      uN: new eY,
      Qd: 2
  }, {
      uN: new g0,
      Qd: 0
  }, {
      uN: new dx,
      Qd: 2
  }, {
      uN: new ih,
      Qd: 1
  }, {
      uN: new hf,
      Qd: 3
  }, {
      uN: new aA,
      Qd: 2
  }, {
      uN: new bh(!1),
      Qd: 4
  }, {
      uN: new dl,
      Qd: 1
  }, {
      uN: new ge,
      Qd: 4
  }, {
      uN: new iu,
      Qd: 2
  }, {
      uN: new i9,
      Qd: 0
  }, {
      uN: new aH,
      Qd: 5,
      Yx: !0
  }, {
      uN: new aM,
      Qd: 5,
      Yx: !0
  }, {
      uN: new aG,
      Qd: 5,
      Yx: !0
  }];
  (function() {
      var n = [{
          id: gz.Mq.a8g,
          name: "Gallery",
          url: "plugins/gallery.html",
          width: 400,
          height: 400,
          icon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"
      }, {
          name: "Emoji",
          url: "https://hxim.github.io/TwemojiPlugin/twemoji3.html",
          width: 400,
          height: 400,
          icon: "https://hxim.github.io/TwemojiPlugin/icon.svg"
      }, {
          name: "3D Viewer",
          url: "plugins/depth",
          width: 400,
          height: 400,
          icon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAGlQTFRF////AAAAAAAATExM+fn5JSUlBwcHGhoaExMT////////lJSUtbW14uLiMjIy5+fnq6ur2dnZjIyM7+/vxMTE////gYGBoaGhPT09////zMzM////cHBwZmZm////////WVlZ////////C7AcuwAAACN0Uk5T//8A////////3Qb/////////////TP////H/nP//brj/hSKBQ27bAAACI0lEQVR4nO2XXZeCIBCGIUVJEz9ApdKy//8nFwsEFOoke7EX+150Oo7zwAzDHAccZmW3+xl8peP9lj1dwfxz+9JbMloJyO573Gddsydgt78gzIDbfn8A2gPIdsWvdMxA0AbEFkBABmZdQVAEIoYwdxC6/r9+WzWr+ibvKxZ/71tUI0mgUkI6ahhTJYQIiaaxolvACa6U5tq4tokF8jVjA4Cw8wOE8PARANk7AISkcABwarzB3wMgri0A6i6FyH5c5AuE2gCRQ2QRUKkB9cX4j+ULtQ2IwMxng94l8Zx35AfMipvlwCs3oJPm0g0QVaP2iNxbkDvAsQ+gD+3i8meS3wMvAHD5rNl4UzZJ/yh+A8jlM276NqLa9X2YdHgOQCmfYQugTzgZzOAcAKBW8gAgauh7gCop6gGIuqsDARCvL9PHEGhZFqIpTcqG/HUAClcSlWpV7I0foHbLXQDAVh4OgL+QnpKlhLyAXiXKWcpLihMfoNikyRaVduIB5Ooy6uvcNSZK9YPJAaBs1G2JL14jxFEvr39FlL23Adi6K0KpbmnjKyIecaIbVrrqiWslRlMdXS8sAbr9udFSnYClnzgBSWcdwBYQGSe8dUe5ubxQeRrNlo+sdrAAkiRFhE9DVQOXCnbqm6HL+1PhtP/rbyvwa/kc+r1+DB84gkeeLCgGMXQFj32Hw3W//+M1+u4mPDI5fLe78rAM3/P4316/ZBwf7Wv8/wFREBclUew2ggAAAABJRU5ErkJggg=="
      }];
      for (var M = 0; M < n.length; M++)
          ct.N0.push({
              uN: new h5(n[M],100 + M),
              Qd: 5,
              Yx: !0
          })
  }());
  ct.prototype.ab1 = function(n) {
      for (var M = 0; M < n.length; M++) {
          var z = n[M]
            , C = new h5(z,"plg_" + z.name);
          this.EO.push({
              uN: C,
              Qd: 5
          });
          this.aoZ.push(C.xG)
      }
      this.mt()
  }
  ;
  ct.prototype.vi = function(n, z) {
      this.VJ = n;
      var C = this.EO;
      for (var M = 0; M < C.length; M++)
          C[M].uN.vi(n, z);
      if (z == c1.Nc || z == c1.Ui)
          this.mt()
  }
  ;
  ct.prototype._c = function(n) {
      var z = this.EO;
      for (var M = 0; M < z.length; M++)
          z[M].uN._c(n)
  }
  ;
  ct.prototype.IP = function(n, z) {
      this.ob = n;
      this.ua = z;
      this.GZ[0].IP(n, z);
      this.GZ[1].IP(n, z)
  }
  ;
  ct.prototype.mt = function() {
      var n = this.VJ
        , z = this.ob;
      if (n == null || z == 0)
          return;
      var C = n.Cl.concat(this.aoZ);
      if (JSON.stringify(C) != this.a3H) {
          this.a3H = JSON.stringify(C);
          l.M$(this.j);
          var D = [];
          for (var M = 0; M < this.GZ.length; M++) {
              var F = this.GZ[M];
              D[M] = F.kj();
              while (F.a2w() != 0)
                  F.agb(0);
              F.g3()
          }
          var X = [];
          for (var M = 0; M < this.TD.length; M++) {
              var E = this.TD[M];
              E.g3();
              while (E.a21() != 0)
                  E.Iw(0);
              X.push(0)
          }
          for (var M = 0; M < C.length; M++) {
              var f = this.a85(C[M].toString());
              this.TD[f.Qd].y1(f.uN);
              this.TD[f.Qd].B_(0);
              X[f.Qd]++
          }
          var a = [];
          for (var M = 0; M < X.length; M++) {
              if (X[M] == 0)
                  continue;
              var q = M < 2 || z < 500 ? 1 : 0
                , F = this.GZ[q];
              F.parent = this;
              F.a6V(this.TD[M]);
              a[q] = !0
          }
          for (var M = 0; M < this.GZ.length; M++)
              if (a[M])
                  this.j.appendChild(this.GZ[M].j);
          this.GZ[0].collapse();
          if (z < 700 || this.VJ.compact || !D[1]) {
              this.GZ[1].collapse()
          }
          var c = new u(l.E.P,!0);
          c.data = {
              e: l.H.zE
          };
          this.f(c)
      }
  }
  ;
  ct.prototype.a85 = function(n) {
      for (var M = 0; M < this.EO.length; M++)
          if (this.EO[M].uN.xG == n)
              return this.EO[M]
  }
  ;
  ct.prototype.a1j = function(n) {
      var z = this.a85(n);
      this.TD[z.Qd].y1(z.uN)
  }
  ;
  ct.prototype.vb = function(n, z, C) {
      var D = this.EO;
      for (var M = 0; M < D.length; M++)
          D[M].uN.vb(n, z, C)
  }
  ;
  ct.prototype.mY = function(n, z, C, D, F) {
      var X = this.EO;
      for (var M = 0; M < X.length; M++)
          X[M].uN.mY(n, z, C, D, F)
  }
  ;
  ct.prototype.Xl = function(n, z, C, D, F) {
      var X = this.EO;
      for (var M = 0; M < X.length; M++)
          X[M].uN.Xl(n, z, C, D, F)
  }
  ;
  ct.prototype.yg = function(n, z, C, D, F) {
      var X = this.EO;
      for (var M = 0; M < X.length; M++)
          X[M].uN.yg(n, z, C, D, F)
  }
  ;
  function eQ(n, z) {
      al.call(this, "toolbar");
      this.La = null;
      this.Y1 = l.w("div", "tools");
      this.j.appendChild(this.Y1);
      this.AY = null;
      this.a4I = z;
      this.cX = null;
      this.amy = -1;
      this.a3q = {};
      this.p = null;
      this.XU = null;
      this.YG = null;
      this.Tb = null;
      this.Pq(n);
      this.Vf = new eq;
      this.Vf.j.style.marginTop = "5px";
      this.Vf.j.style.marginBottom = "3px";
      this.Vf.parent = this;
      this.XA = new gJ(l.qu("lrs/mask"),!1,[6, 6, 1]);
      this.XA.s("click", function(X) {
          var E = new u(l.E.M,!0);
          E.F = O.R2;
          E.data = {
              e: "qmask"
          };
          this.f(E)
      }, this);
      var C = new ez(null,["Ctrl", "Alt", "Shift", "No Touch"],!0);
      C.s(l.E.L, this.a97, this);
      var D = l.w("span", "rangecont form");
      D.appendChild(C.j);
      var F = new gN;
      F.j = D;
      this.a6G = [!1, !1, !1, !1];
      this.HG = new gJ("\u2328",!1,"Virtual Keys");
      this.HG.s("click", function(X) {
          var E = this.HG.j.getBoundingClientRect()
            , f = new u(l.E.P,!0);
          f.data = {
              e: l.H.X$,
              uN: F,
              x: E.left,
              y: E.top - 30
          };
          this.f(f)
      }, this)
  }
  eQ.prototype = new al;
  eQ.prototype.a97 = function(n) {
      var z = n.target.u();
      this.HG.m(z[0] || z[1] || z[2] || z[3]);
      var C = new u(l.E.P,!0);
      C.data = {
          e: l.H.qk
      };
      this.f(C);
      for (var M = 0; M < 4; M++) {
          if (z[M] != this.a6G[M]) {
              C.data = {
                  e: l.H.fM,
                  Vn: z[M],
                  a7g: ["ControlLeft", "AltLeft", "ShiftLeft", "NoTouch"][M]
              };
              this.f(C)
          }
      }
      this.a6G = z.slice(0)
  }
  ;
  eQ.prototype.a69 = function(n, z) {
      this.cX = z;
      if (n == null || n.C.length == 0 || n.W[n.C[0]] == null)
          return;
      var C = n.XA() != null
        , D = n.a.Hg
        , F = n.W[n.C[0]].kl
        , X = F == 1 || F == 3 || C || D[0] + D[1] + D[2] == 1;
      this.Vf.a8Q(X);
      this.XA.m(C)
  }
  ;
  eQ.prototype.ajM = function(n, z) {
      var C = n.length
        , D = [];
      for (var M = 0; M < C; M++)
          D[M] = n[M].slice(0);
      n = D;
      var F = [1, 2, 4, 5, 7, 8, 7, 9, 11, 12, 14, 15, 14, 16, 10, 11, 1, 3, 17, 18, 7, 6, 13, 14]
        , X = Math.min(F.length / 2, C - z);
      for (var M = 0; M < X; M++) {
          var E = F[2 * M]
            , f = F[2 * M + 1];
          n[E] = n[E].concat(n[f]);
          n[f] = null
      }
      for (var M = 0; M < n.length; M++)
          if (n[M] == null) {
              n.splice(M, 1);
              M--
          }
      return n
  }
  ;
  eQ.prototype.amz = function(n, z) {
      for (var M = 0; M < z.length; M++)
          for (var C = 0; C < z[M].length; C++)
              if (z[M][C].F.id == n)
                  return M
  }
  ;
  eQ.prototype.Pq = function(n, z) {
      this.La = n;
      this.XU = [];
      this.YG = [];
      this.Tb = [];
      this.p = [];
      var C = n.M5;
      if (z != null && this.a4I)
          C = this.ajM(C, z);
      if (this.AY) {
          var D = []
            , F = this.AY.adI;
          for (var M = 0; M < C.length; M++) {
              var X = [];
              for (var E = 0; E < C[M].length; E++) {
                  var f = C[M][E];
                  if (F == null || F.indexOf(parseInt(f.F.id)) != -1)
                      X.push(f)
              }
              if (X.length > 0)
                  D.push(X)
          }
          C = D
      }
      for (var M = 0; M < C.length; M++) {
          var a = []
            , q = this.XU.length
            , c = null
            , K = -1;
          for (var E = 0; E < C[M].length; E++) {
              var f = C[M][E].F
                , R = this.amz(f.id, n.M5)
                , J = n.keys[R];
              this.p.push(f);
              var w = new dC(f.name,J,f.GH,this.XU.length,M,C[M].length > 1);
              this.XU.push(w);
              var p = this.a3q[f.id];
              if (p == null)
                  p = 0;
              if (p > K) {
                  K = p;
                  c = w
              }
              w.s(l.E.L, this.Mm, this);
              w.s("mover", this.R_, this);
              a.push({
                  name: f.name,
                  Qx: f.GH,
                  wd: J ? J.sO : ""
              })
          }
          this.YG.push(c);
          if (a.length == 1)
              this.Tb.push(null);
          else {
              var I = new gX(a);
              I.acw = q;
              I._I = M;
              this.Tb.push(I);
              I.s("select", this.a5j, this);
              I.parent = this
          }
      }
  }
  ;
  eQ.prototype.IP = function(n, z) {
      var C = this.ua = z - 11
        , D = 32;
      if (1 < l.D() && l.D() < 1.5)
          D = 18 + 14 * (1 / l.D());
      var F = 39 + 23
        , X = Math.floor((C - F) / D)
        , E = this.AY;
      if (E == null)
          return;
      if (X != this.amy) {
          this.amy = X;
          this.Pq(this.La, X);
          this.xS(E.ND)
      }
      var f = this.YG.length * D + F
        , a = Math.min(1, C / f);
      if (.75 <= a) {
          this.Y1.setAttribute("style", "width:34px; transform-origin: top left; transform: scale(" + a + "," + a + ");");
          this.j.setAttribute("style", "height:" + (z - 2) + "px; overflow:hidden")
      } else {
          C -= 4;
          this.Y1.setAttribute("style", "height: " + C + "px;  width:" + Math.ceil(f / C) * 34 + "px");
          this.j.setAttribute("style", "")
      }
  }
  ;
  eQ.prototype.B = function() {
      for (var M = 0; M < this.XU.length; M++)
          this.XU[M].B();
      for (var M = 0; M < this.Tb.length; M++)
          if (this.Tb[M])
              this.Tb[M].B()
  }
  ;
  eQ.prototype.Mm = function(n) {
      var z = new u(l.E.P,!0);
      z.data = {
          e: l.H.j9,
          F: this.p[n.id].id
      };
      this.f(z)
  }
  ;
  eQ.prototype.a5j = function(n) {
      var z = n.target.acw + n.target.zK()[0];
      this.XU[z].xP(null)
  }
  ;
  eQ.prototype.R_ = function(n) {
      var z = this.cX
        , C = new u(l.E.P,!0);
      C.data = {
          e: l.H.qk
      };
      this.f(C);
      var D = n.target
        , F = this.Tb[D._I];
      if (F == null)
          return;
      var X = D.j.getBoundingClientRect()
        , C = new u(l.E.P,!0);
      C.data = {
          e: l.H.X$,
          uN: F,
          x: X.left + X.width + 8,
          y: X.top
      };
      if (z == null || !(z.r(dM.ye) || z.r(dM.BO)))
          this.f(C)
  }
  ;
  eQ.prototype.xS = function(n) {
      this.a3q[n] = Date.now();
      var z = -1;
      for (var M = 0; M < this.p.length; M++)
          if (this.p[M].id == n)
              z = M;
      for (var M = 0; M < this.XU.length; M++) {
          var C = this.XU[M];
          C.a3$(z == M)
      }
      if (z == -1)
          return;
      this.YG[this.XU[z]._I] = this.XU[z];
      l.M$(this.Y1);
      var D = this.YG;
      for (var M = 0; M < D.length; M++) {
          this.Y1.appendChild(D[M].j)
      }
      if (!this.a4I)
          return;
      this.Y1.appendChild(this.Vf.j);
      if (this.ua > 640)
          this.Y1.appendChild(this.XA.j);
      this.Y1.appendChild(this.HG.j)
  }
  ;
  eQ.prototype.vb = function(n, z) {
      this.xS(z.ND)
  }
  ;
  eQ.prototype.vi = function(n, z) {
      this.AY = n;
      if (z == c1.Ui) {
          this.Pq(this.La);
          this.xS(n.ND)
      }
      this.Vf.aaf(n.Du, n.ff)
  }
  ;
  function dC(n, z, C, D, F, X) {
      gN.call(this);
      this.EJ = 0;
      this.a3w = this.amY.bind(this);
      this._I = F;
      this.TC = D;
      this.ew = n;
      this.akt = z;
      this.ahR = X;
      this.GH = C;
      this.j = l.w("button", "");
      this.j.innerHTML = l.qu(this.GH);
      if (this.ahR) {
          var E = l.w("img", "gsicon");
          E.setAttribute("src", PIMG["tools/corner"]);
          E.setAttribute("style", "position:absolute; right:0;  bottom:0; width:100%; height:100%;");
          this.j.appendChild(E)
      }
      this.B();
      l.Vb(this.j, this.Kz.bind(this));
      this.j.addEventListener("click", this.xP.bind(this), !1);
      this.j.addEventListener("contextmenu", dC.I_, !1)
  }
  dC.prototype = new gN;
  dC.I_ = function(n) {
      n.stopPropagation();
      n.preventDefault();
      return !1
  }
  ;
  dC.prototype.B = function() {
      var n = this.akt ? " (" + this.akt.sO + ")" : "";
      this.j.setAttribute("title", aC.get(this.ew) + n)
  }
  ;
  dC.prototype.Kz = function(n) {
      this.EJ = setTimeout(this.a3w, 160)
  }
  ;
  dC.prototype.xP = function(n) {
      clearTimeout(this.EJ);
      var z = new u(l.E.L,!1);
      z.target = this;
      z.id = this.TC;
      this.f(z)
  }
  ;
  dC.prototype.amY = function(n) {
      var z = new u("mover",!1);
      z.target = this;
      z.id = this.TC;
      this.f(z)
  }
  ;
  dC.prototype.a3$ = function(n) {
      this.j.setAttribute("class", n ? "toolbtn active" : "toolbtn")
  }
  ;
  function c_() {
      gN.call(this);
      this.j = l.w("div", "topbar");
      this.aS = l.w("span", "");
      this.aaL = 0;
      this.j.appendChild(this.aS);
      this.Sq = null;
      this.US = null;
      this.W3 = [];
      this.Cl = [];
      var n = this.Kz.bind(this);
      for (var M = 0; M < c_.data.length; M++) {
          var z = l.w("button");
          this.W3.push(z);
          this.aS.appendChild(z);
          z.addEventListener("mouseover", n, !1);
          l.Vb(z, n)
      }
      this.PK = new gJ([0, 13, 0],!1,null,!0);
      this.PK.s("click", this.ah_, this);
      this.j.appendChild(this.PK.j);
      this.tj = new gJ(l.qu("tools/zoom", null, "autoscale"),!1,[12, 86]);
      this.tj.s("click", this.ah_, this);
      this.j.appendChild(this.tj.j)
  }
  c_.prototype = new gN;
  c_.prototype.a1_ = function() {
      if (this.Cl.length != 0)
          return;
      for (var M = 0; M < c_.data.length; M++) {
          var n = c_.data[M]
            , z = new gX(n.items,n.eo);
          z.parent = this;
          this.Cl.push(z)
      }
      this.B()
  }
  ;
  c_.prototype.B = function() {
      this.PK.B();
      this.tj.B();
      for (var M = 0; M < this.W3.length; M++)
          this.W3[M].textContent = aC.get(c_.data[M].name);
      this.aef();
      for (var M = 0; M < this.Cl.length; M++)
          this.Cl[M].B()
  }
  ;
  c_.prototype.ah_ = function(n) {
      var z = new u(l.E.P,!0);
      if (n.target == this.PK)
          z.data = {
              e: l.H.xb,
              gA: "account"
          };
      else
          z.data = {
              e: l.H.po
          };
      this.f(z)
  }
  ;
  c_.prototype.afc = function(n, z) {
      this.Sq = n;
      this.US = z
  }
  ;
  c_.prototype.vi = function(n, z) {
      this.US = n;
      if (z == c1.Ui) {
          var C = n.ahs;
          l.M$(this.aS);
          for (var M = 0; M < this.W3.length; M++) {
              if (C == null || C[M] == 1 || C[M]instanceof Array)
                  this.aS.appendChild(this.W3[M]);
              if (C != null && C[M]instanceof Array) {
                  this.a1_();
                  this.Cl[M].UB(C[M])
              }
          }
          this.j.removeChild(this.PK.j);
          this.j.removeChild(this.tj.j);
          if (n.Ih)
              this.j.appendChild(this.PK.j);
          this.j.appendChild(this.tj.j)
      }
      this.aef()
  }
  ;
  c_.prototype.aef = function(n, z) {
      var C = this.PK
        , D = 12255232;
      if (a5.Ko())
          D = a5.Mx() ? 43520 : 16755200;
      C.j.setAttribute("style", "color:#ffffff; background-color:#" + j.JY(D))
  }
  ;
  c_.prototype.Kz = function(n) {
      this.a1_();
      var M = this.W3.indexOf(n.currentTarget)
        , z = this.Cl[M];
      if (n.type == "mouseover" && !l.c6(this.Cl[this.aaL].j))
          return;
      if (l.c6(z.j))
          return;
      n.anw = !0;
      this.aaL = M;
      for (var M = 0; M < c_.data.length; M++)
          this.Cl[M].update(this.Sq, this.US);
      var C = n.target.getBoundingClientRect()
        , D = new u(l.E.P,!0);
      D.data = {
          e: l.H.X$,
          uN: z,
          x: C.left,
          y: C.top + C.height + 2,
          aeR: !0
      };
      this.f(D)
  }
  ;
  c_.a7e = function(n) {
      var z = dM
        , C = z.BO
        , D = z.Ms
        , F = z.M2
        , X = {
          name: [0, 5],
          items: [{
              name: [7, 0],
              wd: [C, z.H]
          }, {
              name: [7, 1],
              wd: [C, z.kt],
              c: function(f) {
                  return {
                      c: f != null && f.N != null
                  }
              }
          }, {
              name: [7, 2],
              wd: [D, C, z.oW],
              c: function(f) {
                  return {
                      c: f != null && f.N != null
                  }
              },
              B$: !0
          }, {
              name: [7, 11],
              $a: !0,
              c: function(f) {
                  return {
                      c: f != null && f.C.length != 0 && !f.W[f.C[0]].rect.kX()
                  }
              }
          }, {
              name: [7, 13],
              $a: !0,
              c: function(f) {
                  return {
                      c: f != null && f.C.length != 0 && !f.W[f.C[0]].rect.kX()
                  }
              },
              B$: !0
          }, {
              name: [7, 8],
              $a: !0
          }, {
              name: [7, 3],
              B$: !0,
              sub: [{
                  name: [7, 9],
                  $a: !0,
                  c: function(f) {
                      return {
                          c: f != null && f.N != null
                      }
                  }
              }, {
                  name: [19, 3, 0],
                  $a: !0,
                  c: function(f) {
                      return {
                          c: f != null && f.N != null
                      }
                  }
              }, {
                  name: [7, 4],
                  $a: !0,
                  c: function(f) {
                      return {
                          c: f != null && f.N != null
                      }
                  }
              }, {
                  name: [7, 5],
                  $a: !0,
                  c: function(f) {
                      return {
                          c: f != null && f.N != null
                      }
                  }
              }, {
                  name: [7, 6],
                  $a: !0,
                  c: function(f) {
                      return {
                          c: f != null && f.N != null
                      }
                  },
                  wd: "Shift+F6"
              }]
          }, {
              name: [7, 10],
              c: function(f) {
                  return {
                      c: f != null && f.N != null
                  }
              },
              B$: !0
          }, {
              name: [6, 6, 1],
              c: function(f) {
                  return {
                      c: f != null,
                      ne: f != null && f.XA()
                  }
              },
              wd: [z.JA],
              B$: !0
          }, {
              name: "Save Selection"
          }],
          eo: [{
              Y: l.E._R,
              n: O.lJ.by(!0)
          }, {
              Y: l.E._R,
              n: O.lJ.by()
          }, {
              Y: l.E._R,
              n: {
                  KY: "inverse"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "redge"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "magiccut"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "crange"
              }
          }, {
              sub: [{
                  Y: l.E.P,
                  n: {
                      e: l.H.xb,
                      gA: "sel_border"
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.xb,
                      gA: "sel_smoothness"
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.xb,
                      gA: "sel_expand"
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.xb,
                      gA: "sel_contract"
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.xb,
                      gA: "sel_feather"
                  }
              }]
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.j9,
                  F: O.IL
              }
          }, {
              Y: l.E.M,
              F: O.R2,
              n: {
                  e: "qmask"
              }
          }, {
              Y: l.E._R,
              n: {
                  KY: "duplicate",
                  cw: {
                      classID: "null",
                      null: {
                          t: "obj ",
                          v: [{
                              t: "prop",
                              v: {
                                  classID: "Chnl",
                                  keyID: "fsel"
                              }
                          }]
                      }
                  }
              }
          }]
      };
      if (n) {
          var E = X.items.length - 1;
          X.items.splice(E, 0, {
              name: [10, 16],
              wd: [F, C, z.XB]
          });
          X.eo.splice(E, 0, {
              Y: l.E.P,
              n: {
                  e: l.H.j9,
                  F: O.A6
              }
          })
      }
      return X
  }
  ;
  c_.data = function() {
      var n = dM
        , z = n.BO
        , C = n.Ms
        , D = n.M2
        , F = function(c) {
          return {
              c: c != null && c.C.length != 0
          }
      }
        , X = function(c) {
          return {
              c: c != null && c.C.length != 0 && c.W[c.C[0]].add.SoLd != null
          }
      }
        , E = []
        , f = []
        , a = "none maxx avrg medn minn rang stdv summ vari".split(" ")
        , q = [[22, 5, 0], [24, 17, 2], [24, 3, 0], [24, 7, 3], [24, 17, 3], [12, 12], "Standard Deviation", "Summation", "Variance"];
      for (var M = 0; M < a.length; M++) {
          E.push({
              name: q[M]
          });
          f.push({
              Y: l.E.M,
              F: O.$w,
              n: {
                  e: Q._b,
                  Z7: a[M]
              }
          })
      }
      return [{
          name: [0, 0],
          items: [{
              name: [5, 3],
              wd: [D, z, n.Mc],
              title: [11, 7],
              $a: !0
          }, {
              name: [1, 0],
              wd: [z, n.LK],
              $a: !0
          }, {
              name: [1, 11],
              $a: !0,
              c: function(c, K) {
                  return {
                      c: c != null
                  }
              }
          }, {
              name: ["VAR0 VAR1", [1, 0], [0, 14]],
              B$: !0,
              sub: [{
                  name: [1, 5],
                  $a: !0
              }, {
                  name: [11, 0],
                  $a: !0
              }, {
                  name: ["PSD VAR0", [25, 0]],
                  $a: !0
              }]
          }, {
              name: [1, 1],
              B$: !0,
              sub: [{
                  name: "PNG",
                  wd: "Imgur.com",
                  c: function(c, K) {
                      return {
                          c: c != null && K.QO
                      }
                  }
              }, {
                  name: "JPG",
                  wd: "Imgur.com",
                  c: function(c, K) {
                      return {
                          c: c != null && K.QO
                      }
                  }
              }, {
                  name: "PSD",
                  wd: "Photopea.com",
                  c: function(c, K) {
                      return {
                          c: c != null && K.QO && !c.ze
                      }
                  }
              }]
          }, {
              name: "Save ...",
              wd: [z, n.a$],
              c: function(c, K) {
                  var R = aC.get([1, 2]) + (c == null ? "" : c.YM ? " (Smart Object)" : c.RD ? " (Google Drive)" : "");
                  return {
                      c: c != null && (c.ad != null && c.dL == "psd" || c.YM != null || c.wa != null && c.wa.Ah != null || c.RD != null || K.op.save != null),
                      m1: R
                  }
              }
          }, {
              name: [1, 3],
              c: function(c, K) {
                  return {
                      c: c != null && !c.ze && K.QO
                  }
              }
          }, {
              name: ["VAR0 PSD/PSB", [1, 2]],
              $a: !0,
              c: function(c, K) {
                  return {
                      c: c != null && !c.ze && K.QO
                  }
              }
          }, {
              name: [1, 8],
              B$: !0,
              sub: function() {
                  var c = fC.ja(0)
                    , K = [];
                  for (var M = 0; M < c.length; M++)
                      K.push({
                          name: c[M],
                          wd: "." + c[M].toLowerCase()
                      });
                  K.push({
                      name: [0, 14],
                      sub: function() {
                          var c = fC.ja(1)
                            , K = [];
                          for (var M = 0; M < c.length; M++)
                              K.push({
                                  name: c[M],
                                  wd: "." + c[M].toLowerCase()
                              });
                          return K
                      }()
                  });
                  return K
              }()
          }, {
              name: [1, 9],
              $a: !0,
              c: function(c, K) {
                  return {
                      c: c != null
                  }
              }
          }, {
              name: "Export Color Lookup",
              $a: !0,
              c: function(c, K) {
                  return {
                      c: c != null
                  }
              },
              B$: !0
          }, {
              name: [1, 14],
              $a: !0,
              c: function(c, K) {
                  return {
                      c: c != null
                  }
              },
              B$: !0
          }, {
              name: [1, 10]
          }],
          eo: [{
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "newproject"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.SF
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.SF,
                  af5: !0
              }
          }, {
              sub: [{
                  Y: l.E.P,
                  n: {
                      e: l.H.xb,
                      gA: "open_from_url"
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.xb,
                      gA: "camera"
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.xb,
                      gA: "templates"
                  }
              }]
          }, {
              sub: [{
                  Y: l.E.P,
                  n: {
                      e: l.H.zi,
                      Zs: "png"
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.zi,
                      Zs: "jpg"
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.zi,
                      Zs: "psd"
                  }
              }]
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.AG
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.MF
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "savepsb"
              }
          }, {
              sub: function() {
                  var c = fC.ja(0)
                    , K = [];
                  for (var M = 0; M < c.length; M++)
                      K.push({
                          Y: l.E.P,
                          n: {
                              e: l.H.xb,
                              gA: "saveforweb",
                              Zs: M
                          }
                      });
                  K.push({
                      sub: function() {
                          var R = fC.ja(0).length
                            , c = fC.ja(1)
                            , K = [];
                          for (var M = 0; M < c.length; M++)
                              K.push({
                                  Y: l.E.P,
                                  n: {
                                      e: l.H.xb,
                                      gA: "saveforweb",
                                      Zs: R + M
                                  }
                              });
                          return K
                      }()
                  });
                  return K
              }()
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "eassets"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "exlut"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "finfo"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "script"
              }
          }]
      }, {
          name: [0, 1],
          items: [{
              name: [2, 8]
          }, {
              name: [2, 0],
              wd: [C, z, n.cf]
          }, {
              name: [2, 1],
              wd: [z, n.cf],
              B$: !0
          }, {
              name: [2, 11],
              wd: [C, z, n.N4],
              B$: !0,
              $a: !0,
              c: function(c, K) {
                  return {
                      c: at.acj(c) && K.ND != O.A6
                  }
              }
          }, {
              name: [5, 0],
              wd: [z, n.ft]
          }, {
              name: [5, 1],
              wd: [z, n.ph]
          }, {
              name: [5, 7],
              wd: [C, z, n.ph]
          }, {
              name: [5, 2],
              wd: [z, n.NH],
              c: function(c, K) {
                  return {
                      c: l.Zr() || K.i4 != null || K.IF != null || K.ama != null
                  }
              }
          }, {
              name: [2, 2],
              c: function(c) {
                  return {
                      c: c != null && c.N != null
                  }
              },
              wd: "Delete",
              B$: !0
          }, {
              name: [2, 3],
              c: function(c) {
                  return {
                      c: c != null
                  }
              },
              $a: !0,
              wd: [C, n.R5]
          }, {
              name: [14, 9],
              c: function(c) {
                  return {
                      c: c != null
                  }
              },
              $a: !0,
              B$: !0
          }, {
              name: [10, 48],
              c: function(c) {
                  return {
                      c: c != null && c.Sp(!1)
                  }
              }
          }, {
              name: [10, 46],
              c: function(c) {
                  return {
                      c: O.kc.H6(c)
                  }
              }
          }, {
              name: [10, 16],
              wd: [D, z, n.XB]
          }, {
              name: [2, 4],
              sub: cY.alL()
          }, {
              name: [2, 10, 1]
          }, {
              name: [2, 10, 0],
              B$: !0
          }, {
              name: [12, 87],
              sub: [{
                  name: [12, 62],
                  c: function(c) {
                      return {
                          c: c != null
                      }
                  }
              }, {
                  name: [9, 3],
                  c: function(c) {
                      return {
                          c: c != null
                      }
                  }
              }, {
                  name: [10, 31],
                  c: function(c) {
                      return {
                          c: c != null && c.LJ()[1].length != 0
                      }
                  }
              }]
          }, {
              name: [12, 79],
              $a: !0,
              wd: [z, n.tA]
          }, {
              name: [1, 13],
              $a: !0
          }],
          eo: [{
              Y: l.E.M,
              F: O.Ai,
              n: {
                  e: "h_undoredo"
              }
          }, {
              Y: l.E.M,
              F: O.Ai,
              n: {
                  e: "h_stepfwd"
              }
          }, {
              Y: l.E.M,
              F: O.Ai,
              n: {
                  e: "h_stepbck"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "afw_fade"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.lb
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.VL
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.VL,
                  ca: !0
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.lh
              }
          }, {
              Y: l.E._R,
              n: {
                  KY: "delete"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "fill"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "stroke"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.j9,
                  F: O.Ho
              }
          }, {
              Y: l.E.M,
              F: O.VZ,
              n: {
                  e: "start",
                  Pw: "rigidTransform"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.j9,
                  F: O.A6
              }
          }, {
              sub: cY.ak6()
          }, {
              Y: l.E._R,
              n: {
                  KY: "align",
                  cw: {
                      classID: "null",
                      null: {
                          t: "obj ",
                          v: [{
                              t: "Enmr",
                              v: {
                                  classID: "Lyr",
                                  typeID: "Ordn",
                                  enum: "Trgt"
                              }
                          }]
                      },
                      Usng: {
                          t: "enum",
                          v: {
                              ADSt: "ADSContent"
                          }
                      },
                      alignToCanvas: {
                          t: "bool",
                          v: !1
                      },
                      Aply: {
                          t: "enum",
                          v: {
                              projection: "Auto"
                          }
                      },
                      vignette: {
                          t: "bool",
                          v: !1
                      },
                      radialDistort: {
                          t: "bool",
                          v: !1
                      }
                  }
              }
          }, {
              Y: l.E.M,
              F: O.$w,
              n: {
                  e: Q.Ty
              }
          }, {
              sub: [{
                  Y: l.E.P,
                  n: {
                      e: l.H.jc,
                      G6: 0
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.jc,
                      G6: 1
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.jc,
                      G6: 2
                  }
              }]
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "preferences"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "locstor"
              }
          }]
      }, {
          name: [0, 2],
          items: [{
              name: [3],
              sub: function() {
                  var c = [];
                  for (var K in ad.names) {
                      c.push({
                          name: ad.names[K],
                          $a: t[K] != null,
                          wd: dM.I3(ad.keys[K]),
                          B$: ad.L5.indexOf(K) != -1
                      });
                      if (K == "selc") {
                          c.push({
                              name: ["VAR0/VAR1", [19, 6, 0], [19, 6, 2]],
                              $a: !0,
                              B$: !0
                          });
                          c.push({
                              name: [19, 7, 0],
                              wd: [z, C, n.sy],
                              c: function(K) {
                                  return {
                                      c: K && K.C.length != 0 && K.W[K.C[0]].add.SoLd == null
                                  }
                              }
                          })
                      }
                  }
                  return c
              }()
          }, {
              name: [4, 16, 0],
              c: function(c) {
                  return {
                      c: c != null && c.Sp(!1)
                  }
              }
          }, {
              name: [4, 16, 1],
              c: function(c) {
                  return {
                      c: c != null && c.Sp(!1)
                  }
              }
          }, {
              name: [4, 16, 2],
              c: function(c) {
                  return {
                      c: c != null && c.Sp(!1)
                  }
              },
              B$: !0
          }, {
              name: [11, 11],
              c: function(c) {
                  return {
                      c: c != null && c.Sp(!1)
                  }
              },
              B$: !0
          }, {
              name: [11, 3],
              $a: !0,
              wd: [D, z, n.ph]
          }, {
              name: [11, 10],
              $a: !0,
              wd: [D, z, n.oW]
          }, {
              name: [2, 4],
              sub: [{
                  name: ["VAR0 90\xB0 \u21BB", [2, 5]]
              }, {
                  name: ["VAR0 90\xB0 \u21BA", [2, 5]]
              }, {
                  name: ["VAR0 180\xB0", [2, 5]]
              }, {
                  name: [[2, 6], [22, 4, 2]]
              }, {
                  name: [[2, 6], [22, 4, 3]]
              }]
          }, {
              name: [11, 12, 1],
              c: function(c) {
                  return {
                      c: c != null && c.N != null
                  }
              }
          }, {
              name: [11, 12, 0],
              c: function(c) {
                  return {
                      c: c != null
                  }
              },
              wd: [z, n.IA]
          }, {
              name: [11, 12, 2],
              c: function(c) {
                  return {
                      c: c != null
                  }
              },
              B$: !0
          }, {
              name: [2, 12],
              c: function(c) {
                  return {
                      c: c != null && c.Sp(!1)
                  }
              },
              $a: !0
          }],
          eo: [{
              sub: function() {
                  var c = [];
                  for (var K in ad.names) {
                      c.push({
                          Y: l.E.M,
                          F: O.y$,
                          n: {
                              e: "start",
                              cH: K
                          }
                      });
                      if (K == "selc") {
                          c.push({
                              Y: l.E.M,
                              F: O.VZ,
                              n: {
                                  e: "start",
                                  Pw: "adaptCorrect"
                              }
                          });
                          c.push({
                              Y: l.E._R,
                              n: {
                                  KY: "desaturate"
                              }
                          })
                      }
                  }
                  return c
              }()
          }, {
              Y: l.E._R,
              n: {
                  KY: "levels",
                  cw: {
                      classID: "Lvls",
                      Auto: {
                          t: "bool",
                          v: !0
                      }
                  }
              }
          }, {
              Y: l.E._R,
              n: {
                  KY: "levels",
                  cw: {
                      classID: "Lvls",
                      AuCo: {
                          t: "bool",
                          v: !0
                      }
                  }
              }
          }, {
              Y: l.E._R,
              n: {
                  KY: "levels",
                  cw: {
                      classID: "Lvls",
                      autoBlackWhite: {
                          t: "bool",
                          v: !0
                      },
                      autoNeutrals: {
                          t: "bool",
                          v: !0
                      }
                  }
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "vbitmap"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "csize"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "isize"
              }
          }, {
              sub: [{
                  Y: l.E._R,
                  n: O.o.kw(!0, 90)
              }, {
                  Y: l.E._R,
                  n: O.o.kw(!0, -90)
              }, {
                  Y: l.E._R,
                  n: O.o.kw(!0, -180)
              }, {
                  Y: l.E._R,
                  n: O.o.kw(!1, "Hrzn")
              }, {
                  Y: l.E._R,
                  n: O.o.kw(!1, "Vrtc")
              }]
          }, {
              Y: l.E.M,
              F: O.bZ,
              n: {
                  e: "cropbysel",
                  a5u: 0
              }
          }, {
              Y: l.E._R,
              n: O.Xf.lT(0)
          }, {
              Y: l.E._R,
              n: {
                  KY: "revealAll",
                  cw: {
                      classID: "RvlA"
                  }
              }
          }, {
              Y: l.E.M,
              F: O.y$,
              n: {
                  e: "start",
                  cH: "aply"
              }
          }]
      }, {
          name: [0, 3],
          items: [{
              name: [5, 3],
              sub: [{
                  name: [0, 3]
              }, {
                  name: [0, 4]
              }, {
                  name: [6, 49],
                  wd: [z, n.LZ]
              }]
          }, {
              name: [6, 0],
              c: F,
              wd: [z, n.LZ]
          }, {
              name: [11, 4],
              c: F
          }, {
              name: [5, 4],
              c: F,
              B$: !0
          }, {
              name: [11, 6],
              B$: !0,
              c: F,
              sub: gR.EV(!0)
          }, {
              name: [6, 48, 1],
              sub: [{
                  name: [6, 48, 0, 0]
              }, {
                  name: [6, 48, 0, 1]
              }, {
                  name: [6, 48, 0, 2]
              }]
          }, {
              name: [6, 1],
              B$: !0,
              sub: gR.ajb()
          }, {
              name: [6, 2],
              sub: [{
                  name: [6, 4],
                  c: function(c) {
                      return {
                          c: c != null && c.C.length != 0 && c.W[c.C[0]].sN() == null
                      }
                  }
              }, {
                  name: [6, 5, 0],
                  c: function(c) {
                      return {
                          c: c != null && c.C.length != 0 && c.W[c.C[0]].sN() == null
                      }
                  }
              }, {
                  name: [6, 5, 1],
                  c: function(c) {
                      return {
                          c: c != null && c.C.length != 0 && c.W[c.C[0]].sN() == null && c.N != null
                      }
                  }
              }, {
                  name: [6, 5, 2],
                  c: function(c) {
                      return {
                          c: c != null && c.C.length != 0 && c.W[c.C[0]].sN() == null && c.N != null
                      }
                  }
              }, {
                  name: [6, 5, 3],
                  c: function(c) {
                      return {
                          c: c != null && c.C.length != 0 && c.W[c.C[0]].sN() == null
                      }
                  },
                  B$: !0
              }, {
                  name: [5, 4],
                  c: function(c) {
                      return {
                          c: c != null && c.C.length != 0 && c.W[c.C[0]].sN() != null
                      }
                  }
              }, {
                  name: [5, 8],
                  c: function(c) {
                      return {
                          c: c != null && c.C.length != 0 && c.W[c.C[0]].sN() != null && c.Sp(!1, !0)
                      }
                  }
              }, {
                  name: ["VAR0/VAR1", [5, 5], [5, 6]],
                  c: function(c) {
                      return {
                          c: c != null && c.C.length != 0 && c.W[c.C[0]].sN() != null
                      }
                  }
              }]
          }, {
              name: [6, 3],
              sub: [{
                  name: [6, 4],
                  c: function(c) {
                      return {
                          c: c != null && c.C.length != 0 && c.W[c.C[0]].add.vmsk == null
                      }
                  }
              }, {
                  name: [6, 5, 0],
                  c: function(c) {
                      return {
                          c: c != null && c.C.length != 0 && c.W[c.C[0]].add.vmsk == null
                      }
                  }
              }, {
                  name: "Current Path",
                  c: function(c) {
                      return {
                          c: c != null && c.C.length != 0 && c.W[c.C[0]].add.vmsk == null
                      }
                  },
                  B$: !0
              }, {
                  name: [5, 4],
                  c: function(c) {
                      return {
                          c: c != null && c.C.length != 0 && c.W[c.C[0]].add.vmsk != null
                      }
                  }
              }, {
                  name: ["VAR0/VAR1", [5, 5], [5, 6]],
                  c: function(c) {
                      return {
                          c: c != null && c.C.length != 0 && c.W[c.C[0]].add.vmsk != null
                      }
                  }
              }]
          }, {
              name: [6, 6, 0],
              wd: [D, z, n.dh],
              B$: !0,
              c: function(c) {
                  return {
                      ne: c != null && c.C.length != 0 && c.W[c.C[0]].$I,
                      c: c != null && c.vw(c.C[0])
                  }
              }
          }, {
              name: "Smart Object",
              B$: !0,
              sub: [{
                  name: [6, 7]
              }, {
                  name: [6, 36, 4],
                  c: X,
                  sub: E
              }, {
                  name: [1, 0],
                  c: X,
                  B$: !0
              }, {
                  name: "Turn into JPG"
              }]
          }, {
              name: [6, 8],
              c: function(c) {
                  if (c == null || c.C.length == 0)
                      return {
                          c: !1
                      };
                  var K = c.W[c.C[0]];
                  if (K.add.TySh || K.add.SoLd || K.add.SoCo || K.add.GdFl || K.add.PtFl)
                      return {
                          c: !0
                      };
                  return {
                      c: !1
                  }
              }
          }, {
              name: [6, 34],
              B$: !0,
              c: function(c) {
                  if (c == null || c.C.length == 0)
                      return {
                          c: !1
                      };
                  var K = c.W[c.C[0]];
                  return {
                      c: K.add.lmfx != null && !K.d4()
                  }
              }
          }, {
              name: [6, 9],
              B$: !0,
              wd: [z, n.dh]
          }, {
              name: [6, 55],
              B$: !0,
              sub: [{
                  name: [6, 56, 0],
                  wd: [C, z, n.oj]
              }, {
                  name: [6, 56, 1],
                  wd: [z, n.oj]
              }, {
                  name: [6, 56, 2],
                  wd: [z, n.HA]
              }, {
                  name: [6, 56, 3],
                  wd: [C, z, n.HA]
              }]
          }, {
              name: [6, 58],
              sub: [{
                  name: ["Make Frames"]
              }, {
                  name: ["Unmake Frames"]
              }, {
                  name: [18, 5]
              }]
          }, {
              name: [6, 10],
              c: function(c) {
                  return {
                      c: c != null && c.C.length == 1 && c.C[0] != 0 && !c.W[c.C[0]].d4()
                  }
              },
              wd: [z, n.E]
          }, {
              name: [6, 12, 0],
              c: function(c) {
                  return {
                      c: c != null && c.C.length != 0 && (c.C.length > 1 || c.W[c.C[0]].d4())
                  }
              }
          }, {
              name: [6, 12, 1]
          }],
          eo: [{
              sub: [{
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.Hx
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.WH
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.O_
                  }
              }]
          }, {
              Y: l.E.M,
              F: O.$w,
              n: {
                  e: Q.BD
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "duplinto"
              }
          }, {
              Y: l.E.M,
              F: O.$w,
              n: {
                  e: Q.Zi
              }
          }, {
              sub: gR.wk(!0)
          }, {
              sub: [{
                  Y: l.E.M,
                  F: O.b_,
                  n: {
                      e: "newfill",
                      Gj: 0
                  }
              }, {
                  Y: l.E._R,
                  n: O.oE.EI(1)
              }, {
                  Y: l.E._R,
                  n: O.oE.EI(2)
              }]
          }, {
              sub: gR.a1p()
          }, {
              sub: [{
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.HQ,
                      Xt: "RvlA"
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.HQ,
                      Xt: "HdAl"
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.HQ,
                      Xt: "RvlS"
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.HQ,
                      Xt: "HdSl"
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.HQ,
                      Xt: "Trns"
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.wh
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.Xy
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.Hp
                  }
              }]
          }, {
              sub: [{
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.ix,
                      apa: !1
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.ix,
                      apa: !0
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.ix,
                      ahT: !0
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.AP
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.FT
                  }
              }]
          }, {
              Y: l.E.M,
              F: O.$w,
              n: {
                  e: Q.CR
              }
          }, {
              sub: [{
                  Y: l.E._R,
                  n: {
                      KY: "newPlacedLayer"
                  }
              }, {
                  sub: f
              }, {
                  Y: l.E._R,
                  n: {
                      KY: "placedLayerEditContents",
                      cw: {
                          classID: "placedLayerEditContents"
                      }
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.hV
                  }
              }]
          }, {
              Y: l.E._R,
              n: {
                  KY: "rasterizeLayer",
                  cw: {
                      classID: "rasterizeLayer",
                      null: eW.ek("Lyr", !0)
                  }
              }
          }, {
              Y: l.E.M,
              F: O.$w,
              n: {
                  e: Q.yk
              }
          }, {
              Y: l.E.M,
              F: O.$w,
              n: {
                  e: Q.Ok
              }
          }, {
              sub: [{
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.jl,
                      _5: 0
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.jl,
                      _5: 1
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.jl,
                      _5: 2
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.jl,
                      _5: 3
                  }
              }]
          }, {
              sub: [{
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.t0,
                      _5: "makeframes"
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.t0,
                      _5: "unmakeframes"
                  }
              }, {
                  Y: l.E.M,
                  F: O.$w,
                  n: {
                      e: Q.t0,
                      _5: "merge"
                  }
              }]
          }, {
              Y: l.E.M,
              F: O.$w,
              n: {
                  e: Q.cm
              }
          }, {
              Y: l.E.M,
              F: O.$w,
              n: {
                  e: Q.D_
              }
          }, {
              Y: l.E._R,
              n: {
                  KY: "flattenImage"
              }
          }]
      }, c_.a7e(!1), function() {
          var c = {
              name: [0, 6],
              items: [{
                  name: [24, 18, 4],
                  wd: [D, z, n.N4],
                  B$: !0
              }],
              eo: [{
                  Y: l.E.M,
                  F: O.VZ,
                  n: {
                      e: "applylast"
                  }
              }]
          };
          for (var M = 0; M < fd.N6.length; M++) {
              var K = fd.N6[M];
              if (K.Ys != null) {
                  c.items.push({
                      name: fd.names[K.Ys],
                      $a: !0,
                      B$: K.B$
                  });
                  c.eo.push({
                      Y: l.E.M,
                      F: O.VZ,
                      n: {
                          e: "start",
                          Pw: K.Ys
                      }
                  });
                  continue
              }
              var R = {
                  name: K.UP,
                  sub: []
              };
              c.items.push(R);
              var J = {
                  sub: []
              };
              c.eo.push(J);
              for (var w = 0; w < K.xQ.length; w++) {
                  var p = {
                      name: fd.names[K.xQ[w]],
                      $a: fd.zP(K.xQ[w]) != null
                  };
                  R.sub.push(p);
                  var I = {
                      Y: l.E.M,
                      F: O.VZ,
                      n: {
                          e: "start",
                          Pw: K.xQ[w]
                      }
                  };
                  J.sub.push(I)
              }
          }
          return c
      }(), {
          name: [0, 7],
          items: [{
              name: [8, 0],
              wd: [z, n.Dm]
          }, {
              name: [8, 1],
              wd: [z, n.wj]
          }, {
              name: [20, 3],
              wd: [z, n.yD]
          }, {
              name: [20, 2],
              wd: [z, n.Bv],
              B$: !0
          }, {
              name: "Extras",
              wd: [z, n.cI],
              c: function(c, K) {
                  return {
                      ne: K.iC
                  }
              }
          }, {
              name: [8, 12],
              B$: !0,
              sub: [{
                  name: [17, 2],
                  c: function(c, K) {
                      return {
                          c: K.iC,
                          ne: K.mw.PN
                      }
                  }
              }, {
                  name: [8, 9],
                  c: function(c, K) {
                      return {
                          c: K.iC,
                          ne: K.mw.E1
                      }
                  }
              }, {
                  name: [8, 2],
                  c: function(c, K) {
                      return {
                          c: K.iC,
                          ne: K.mw.Ea
                      }
                  },
                  wd: [z, n.bM]
              }, {
                  name: [8, 4],
                  c: function(c, K) {
                      return {
                          c: K.iC,
                          ne: K.mw.Da
                      }
                  },
                  wd: [z, n.FP]
              }, {
                  name: [8, 8],
                  c: function(c, K) {
                      return {
                          c: K.iC,
                          ne: K.mw.Qp
                      }
                  }
              }, {
                  name: [8, 11, 0],
                  c: function(c, K) {
                      return {
                          c: K.iC,
                          ne: K.mw.CB
                      }
                  }
              }]
          }, {
              name: [8, 3],
              c: function(c, K) {
                  return {
                      ne: K.MB
                  }
              },
              wd: [z, n.Mq],
              B$: !0
          }, {
              name: [8, 5],
              c: function(c, K) {
                  return {
                      ne: K.A2
                  }
              }
          }, {
              name: [8, 6],
              B$: !0,
              sub: [{
                  name: [8, 2],
                  c: function(c, K) {
                      return {
                          ne: K.wN[0]
                      }
                  }
              }, {
                  name: [8, 4],
                  c: function(c, K) {
                      return {
                          ne: K.wN[1]
                      }
                  }
              }, {
                  name: [9, 1],
                  c: function(c, K) {
                      return {
                          ne: K.wN[2]
                      }
                  }
              }, {
                  name: [8, 11, 0],
                  c: function(c, K) {
                      return {
                          ne: K.wN[3]
                      }
                  }
              }, {
                  name: [8, 7],
                  c: function(c, K) {
                      return {
                          ne: K.wN[4]
                      }
                  }
              }]
          }, {
              name: [11, 15, 0],
              c: function(c, K) {
                  return {
                      c: c != null
                  }
              }
          }, {
              name: [11, 14],
              c: function(c, K) {
                  return {
                      c: c != null
                  }
              },
              $a: !0
          }, {
              name: [11, 15, 1],
              c: function(c, K) {
                  return {
                      c: c != null && c.C.length != 0
                  }
              }
          }],
          eo: [{
              Y: l.E.M,
              F: O.d1,
              n: {
                  e: "zoom",
                  pk: !0
              }
          }, {
              Y: l.E.M,
              F: O.d1,
              n: {
                  e: "zoom",
                  pk: !1
              }
          }, {
              Y: l.E.M,
              F: O.d1,
              n: {
                  e: "adapt",
                  G: "fitscr"
              }
          }, {
              Y: l.E.M,
              F: O.d1,
              n: {
                  e: "adapt",
                  G: "pixel"
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.W9,
                  G6: c1.UL
              }
          }, {
              sub: [{
                  Y: l.E.P,
                  n: {
                      e: l.H.W9,
                      G6: c1.M6
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.W9,
                      G6: c1.c7
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.W9,
                      G6: c1._2
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.W9,
                      G6: c1.Di
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.W9,
                      G6: c1.hs
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.W9,
                      G6: c1.zS
                  }
              }]
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.W9,
                  G6: c1.Za
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.W9,
                  G6: c1.ey
              }
          }, {
              sub: [{
                  Y: l.E.P,
                  n: {
                      e: l.H.W9,
                      G6: c1.dl,
                      xE: 0
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.W9,
                      G6: c1.dl,
                      xE: 1
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.W9,
                      G6: c1.dl,
                      xE: 2
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.W9,
                      G6: c1.dl,
                      xE: 3
                  }
              }, {
                  Y: l.E.P,
                  n: {
                      e: l.H.W9,
                      G6: c1.dl,
                      xE: 4
                  }
              }]
          }, {
              Y: l.E.M,
              F: O.GR,
              n: {
                  e: "gids",
                  By: [[], []]
              }
          }, {
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "addguides"
              }
          }, {
              Y: l.E.M,
              F: O.GR,
              n: {
                  e: "gidsFromLayer"
              }
          }]
      }, function() {
          var c = {
              name: [0, 8],
              items: [{
                  name: [0, 14],
                  B$: !0,
                  sub: []
              }],
              eo: [{
                  sub: []
              }]
          };
          for (var M = 0; M < ct.N0.length; M++) {
              var K = ct.N0[M];
              (K.Yx ? c.items[0].sub : c.items).push({
                  name: K.uN.name
              });
              (K.Yx ? c.eo[0].sub : c.eo).push({
                  Y: l.E.P,
                  n: {
                      e: l.H.tw,
                      gA: K.uN.xG
                  }
              })
          }
          return c
      }(), function() {
          var c = {
              name: [0, 14],
              items: [],
              eo: []
          }
            , K = {
              name: [0, 9],
              sub: []
          };
          c.items.push(K);
          var R = {
              sub: []
          };
          c.eo.push(R);
          var J = aC.aaJ();
          for (var M = 0; M < J.length; M++) {
              var w = J[M]
                , p = w.code
                , I = aC.Ql(p);
              K.sub.push({
                  name: w.name,
                  wd: p,
                  c: function(m, A) {
                      return {
                          ne: this.wd == aC.C7()
                      }
                  }
              });
              R.sub.push({
                  Y: l.E.P,
                  n: {
                      e: l.H.W9,
                      G6: c1.Yz,
                      lang: I
                  }
              })
          }
          K.sub.push({
              name: [0, 12]
          });
          R.sub.push({
              Y: l.E.P,
              n: {
                  e: l.H.lL,
                  link: "https://www.photopea.com/translate/"
              }
          });
          var K = {
              name: [0, 15],
              sub: []
          };
          c.items.push(K);
          var R = {
              sub: []
          };
          c.eo.push(R);
          for (var M = 0; M < cd.uW.length; M++) {
              K.sub.push({
                  name: cd.uW[M].name,
                  c: function(m, A) {
                      return {
                          ne: this.name == cd.uW[A.GT].name
                      }
                  }
              });
              R.sub.push({
                  Y: l.E.P,
                  n: {
                      e: l.H.W9,
                      G6: c1.c9,
                      GT: M
                  }
              })
          }
          c.items.push({
              name: [0, 17, 6],
              c: function(m, A) {
                  return {
                      c: A.vg != null
                  }
              }
          });
          c.eo.push({
              Y: l.E.P,
              n: {
                  e: l.H.Tv
              }
          });
          c.items.push({
              name: [11, 13]
          });
          c.eo.push({
              Y: l.E.P,
              n: {
                  e: l.H.xb,
                  gA: "shortcuts"
              }
          });
          c.items.push({
              name: [0, 16],
              c: function(m) {
                  return {
                      ne: N.O3,
                      c: N.Y9
                  }
              }
          });
          c.eo.push({
              Y: l.E.P,
              n: {
                  e: l.H.sk
              }
          });
          return c
      }()]
  }();
  function c3() {
      gN.call(this);
      this.j = l.w("div", "");
      this.PR = 0;
      this.kY = 0;
      this.VJ = null;
      this.Qd = l.w("div", "");
      this.Qd.setAttribute("style", "width:200em; height:100em; position:absolute;");
      this.iO = [];
      this.Iy = [];
      this.IQ = {}
  }
  c3.prototype = new gN;
  c3.prototype.T4 = function(n) {
      var z = Date.now()
        , C = [];
      if (n == "-")
          C = [new hQ, new iQ, new as, new ef, new iY, new cr, new iC, new g2, new dB, new a$, new c4, new fp, new h2, new d6, new fZ, new gR, new iq, new eX, new dO, new af, new aL, new eo, new f7, new gq, new dk, new ha, new aq(0), new aq(1), new d7, new aO, new fG, new dV, new bv, new et, new dD, new bx("border",[7, 9],"px"), new bx("smoothness",[19, 3, 0],"px"), new bx("expand",[7, 4],"px"), new bx("contract",[7, 5],"px"), new bx("feather",[7, 6],"px"), new hq(0,"namewindow",[12, 48]), new hq(1,"cornerradius",[12, 94, 0],"px",!0), new hq(1,"scaleeffects","Scale Effects","%",!0), new hq(1,"doczoom","Zoom","%",!0)];
      else
          C = [new at(n.slice(4))];
      this.a0E(C);
      this.IQ[n] = !0
  }
  ;
  c3.prototype.a0E = function(n) {
      var z = this.VJ;
      for (var M = 0; M < n.length; M++) {
          var C = n[M];
          C.parent = this;
          this.Iy.push(C);
          this.lf(C);
          C.B();
          if (z)
              C.vi(z, c1.Ui);
          C.s(l.E.qT, this.YA, this)
      }
  }
  ;
  c3.prototype.IP = function(n, z) {
      this.PR = n;
      this.kY = z;
      for (var M = 0; M < this.Iy.length; M++)
          this.lf(this.Iy[M])
  }
  ;
  c3.prototype.B = function() {
      for (var M = 0; M < this.Iy.length; M++)
          this.Iy[M].B()
  }
  ;
  c3.prototype.Pr = function() {
      return this.iO.length == 0 ? null : this.iO[this.iO.length - 1]
  }
  ;
  c3.prototype.TU = function() {
      for (var M = 0; M < this.iO.length; M++)
          if (this.iO[M].TU())
              return !0;
      return !1
  }
  ;
  c3.prototype.a41 = function(n, z, C, D, F) {
      var X = n.startsWith("afw_")
        , E = null;
      if (!X && !this.IQ["-"])
          this.T4("-");
      if (X && !this.IQ[n])
          this.T4(n);
      if (typeof n == "object") {
          E = n;
          if (!E.Gz(l.E.qT, this.YA))
              E.s(l.E.qT, this.YA, this);
          E.parent = this
      } else
          for (var M = 0; M < this.Iy.length; M++)
              if (this.Iy[M].id == n)
                  E = this.Iy[M];
      if (this.TU() && E.TU()) {
          alert("Finish the current action first");
          return
      }
      if (!E.z_(z))
          return;
      if (this.iO.indexOf(E) != -1) {
          if (n == "colorpicker")
              E.vb(z, C, D, F);
          return
      }
      var f = this.iO.length - 1;
      if (f >= 0)
          l.G5(this.iO[f].j, "wdisabled");
      this.j.appendChild(E.j);
      this.iO.push(E);
      this.lf(E);
      E.vb(z, C, D, F)
  }
  ;
  c3.prototype.lf = function(n) {
      var z = this.PR, C = this.kY, D = n.JX(z, C), F;
      if (D != null) {
          F = D
      } else {
          D = new ir(0,0);
          F = n.a5E();
          if (F == null) {
              var X = this.iO.indexOf(n) + 1;
              if (z < 450 || C < 450)
                  F = new ir(0,0);
              else
                  F = new ir(X * 150,X * 150)
          }
      }
      n.j.style.left = F.x + "px";
      n.j.style.top = this.j.offsetTop + F.y + "px";
      n.IP(this.PR - D.x * 2, this.kY - D.y * 2 - 34)
  }
  ;
  c3.prototype.vi = function(n, z) {
      this.VJ = n;
      for (var M = 0; M < this.Iy.length; M++)
          this.Iy[M].vi(n, z)
  }
  ;
  c3.prototype.YA = function(n) {
      var z = this.iO.pop();
      this.j.removeChild(z.j);
      var C = this.iO.length - 1;
      if (C >= 0)
          l.DA(this.iO[C].j, "wdisabled");
      if (this.Qd.parentNode == this.j)
          this.j.removeChild(this.Qd)
  }
  ;
  window.onload = function() {
      var n = new gv;
      document.body.appendChild(n.j)
  }
}())
